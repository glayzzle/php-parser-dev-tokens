[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Weee",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Total",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Creditmemo",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","WeeeTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Model\\Total\\Creditmemo\\Weee\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$model",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$order",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var  \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$objectManager",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Creditmemo|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$creditmemo",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Invoice|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$invoice",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Helper\\Data|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$weeeData",38],";",["T_WHITESPACE","\n\n    ",38],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","setUp",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","weeeData",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMockBuilder",42],"(",["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Weee",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Helper",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Data",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","setMethods",43],"(",["T_WHITESPACE","\n                ",43],"[",["T_WHITESPACE","\n                    ",44],["T_CONSTANT_ENCAPSED_STRING","'getRowWeeeTaxInclTax'",45],",",["T_WHITESPACE","\n                    ",45],["T_CONSTANT_ENCAPSED_STRING","'getBaseRowWeeeTaxInclTax'",46],",",["T_WHITESPACE","\n                    ",46],["T_CONSTANT_ENCAPSED_STRING","'getWeeeAmountInvoiced'",47],",",["T_WHITESPACE","\n                    ",47],["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeAmountInvoiced'",48],",",["T_WHITESPACE","\n                    ",48],["T_CONSTANT_ENCAPSED_STRING","'getWeeeAmountRefunded'",49],",",["T_WHITESPACE","\n                    ",49],["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeAmountRefunded'",50],",",["T_WHITESPACE","\n                    ",50],["T_CONSTANT_ENCAPSED_STRING","'getWeeeTaxAmountInvoiced'",51],",",["T_WHITESPACE","\n                    ",51],["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeTaxAmountInvoiced'",52],",",["T_WHITESPACE","\n                    ",52],["T_CONSTANT_ENCAPSED_STRING","'getWeeeTaxAmountRefunded'",53],",",["T_WHITESPACE","\n                    ",53],["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeTaxAmountRefunded'",54],",",["T_WHITESPACE","\n                    ",54],["T_CONSTANT_ENCAPSED_STRING","'getApplied'",55],",",["T_WHITESPACE","\n                    ",55],["T_CONSTANT_ENCAPSED_STRING","'setApplied'",56],",",["T_WHITESPACE","\n                    ",56],["T_CONSTANT_ENCAPSED_STRING","'includeInSubtotal'",57],",",["T_WHITESPACE","\n                ",57],"]",["T_WHITESPACE","\n            ",58],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","disableOriginalConstructor",59],"(",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","objectManager",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","TestFramework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Unit",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Helper",62],["T_NS_SEPARATOR","\\",62],["T_STRING","ObjectManager",62],"(",["T_VARIABLE","$this",62],")",";",["T_WHITESPACE","\n        ",62],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Invoice\\Total\\Tax $model *\/",63],["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","model",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","objectManager",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getObject",64],"(",["T_WHITESPACE","\n            ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Weee",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Total",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Creditmemo",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Weee",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],",",["T_WHITESPACE","\n            ",65],"[",["T_WHITESPACE","\n                ",66],["T_CONSTANT_ENCAPSED_STRING","'weeeData'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","weeeData",67],",",["T_WHITESPACE","\n            ",67],"]",["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","order",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",["T_WHITESPACE","\n            ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Sales",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Model",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Order",72],["T_DOUBLE_COLON","::",72],["T_CLASS","class",72],",",["T_WHITESPACE","\n            ",72],"[",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",74],["T_WHITESPACE","\n            ",74],"]",",",["T_WHITESPACE","\n            ",75],"[","]",",",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE","\n            ",77],["T_STRING","false",78],["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","creditmemo",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMock",81],"(",["T_WHITESPACE","\n            ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Sales",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Order",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Creditmemo",82],["T_DOUBLE_COLON","::",82],["T_CLASS","class",82],",",["T_WHITESPACE","\n            ",82],"[",["T_WHITESPACE","\n                ",83],["T_CONSTANT_ENCAPSED_STRING","'getAllItems'",84],",",["T_WHITESPACE","\n                ",84],["T_CONSTANT_ENCAPSED_STRING","'getInvoice'",85],",",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'roundPrice'",86],",",["T_WHITESPACE","\n                ",86],["T_CONSTANT_ENCAPSED_STRING","'getStore'",87],",",["T_WHITESPACE","\n                ",87],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",88],",",["T_WHITESPACE","\n            ",88],"]",",",["T_WHITESPACE","\n            ",89],"[","]",",",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","''",91],",",["T_WHITESPACE","\n            ",91],["T_STRING","false",92],["T_WHITESPACE","\n        ",92],")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @param array $creditmemoData\n     * @param array $expectedResults\n     * @dataProvider collectDataProvider\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testCollect",101],"(",["T_VARIABLE","$creditmemoData",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$expectedResults",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$roundingDelta",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[","]",";",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/\/Set up weeeData mock\n",105],["T_WHITESPACE","        ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","weeeData",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","once",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'includeInSubtotal'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","will",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","returnValue",108],"(",["T_VARIABLE","$creditmemoData",108],"[",["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",108],"]",")",")",";",["T_WHITESPACE","\n\n        ",108],["T_COMMENT","\/\/Set up invoice mock\n",110],["T_WHITESPACE","        ",111],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Invoice\\Item[] $creditmemoItems *\/",111],["T_WHITESPACE","\n        ",111],["T_VARIABLE","$creditmemoItems",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",";",["T_WHITESPACE","\n        ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$creditmemoData",113],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",113],"]",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$itemKey",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$creditmemoItemData",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$creditmemoItems",114],"[",["T_VARIABLE","$itemKey",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getInvoiceItem",114],"(",["T_VARIABLE","$creditmemoItemData",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","creditmemo",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","once",116],"(",")",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'getAllItems'",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","will",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","returnValue",118],"(",["T_VARIABLE","$creditmemoItems",118],")",")",";",["T_WHITESPACE","\n        ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$creditmemoData",119],"[",["T_CONSTANT_ENCAPSED_STRING","'data_fields'",119],"]",["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$key",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$value",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","creditmemo",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setData",120],"(",["T_VARIABLE","$key",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","creditmemo",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","expects",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","any",122],"(",")",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","method",123],"(",["T_CONSTANT_ENCAPSED_STRING","'roundPrice'",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","will",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","returnCallback",124],"(",["T_WHITESPACE","\n                ",124],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$price",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$type",125],")",["T_WHITESPACE"," ",125],["T_USE","use",125],["T_WHITESPACE"," ",125],"(","&",["T_VARIABLE","$roundingDelta",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_ISSET","isset",126],"(",["T_VARIABLE","$roundingDelta",126],"[",["T_VARIABLE","$type",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                        ",126],["T_VARIABLE","$roundingDelta",127],"[",["T_VARIABLE","$type",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_LNUMBER","0",127],";",["T_WHITESPACE","\n                    ",127],"}",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$roundedPrice",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","round",129],"(",["T_VARIABLE","$price",129],["T_WHITESPACE"," ",129],"+",["T_WHITESPACE"," ",129],["T_VARIABLE","$roundingDelta",129],"[",["T_VARIABLE","$type",129],"]",",",["T_WHITESPACE"," ",129],["T_LNUMBER","2",129],")",";",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$roundingDelta",130],"[",["T_VARIABLE","$type",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$price",130],["T_WHITESPACE"," ",130],"-",["T_WHITESPACE"," ",130],["T_VARIABLE","$roundedPrice",130],";",["T_WHITESPACE","\n\n                    ",130],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$roundedPrice",132],";",["T_WHITESPACE","\n                ",132],"}",["T_WHITESPACE","\n            ",133],")",")",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","model",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","collect",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","creditmemo",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_COMMENT","\/\/verify invoice data\n",138],["T_WHITESPACE","        ",139],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$expectedResults",139],"[",["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",139],"]",["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$key",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$value",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEquals",140],"(",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$value",141],",",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","creditmemo",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getData",142],"(",["T_VARIABLE","$key",142],")",",",["T_WHITESPACE","\n                ",142],["T_CONSTANT_ENCAPSED_STRING","'Creditmemo data field '",143],".",["T_VARIABLE","$key",143],".",["T_CONSTANT_ENCAPSED_STRING","' is incorrect'",143],["T_WHITESPACE","\n            ",143],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_COMMENT","\/\/verify invoice item data\n",146],["T_WHITESPACE","        ",147],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$expectedResults",147],"[",["T_CONSTANT_ENCAPSED_STRING","'creditmemo_items'",147],"]",["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$itemKey",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$itemData",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$creditmemoItem",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$creditmemoItems",148],"[",["T_VARIABLE","$itemKey",148],"]",";",["T_WHITESPACE","\n            ",148],["T_FOREACH","foreach",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$itemData",149],["T_WHITESPACE"," ",149],["T_AS","as",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$key",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$value",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$key",150],["T_WHITESPACE"," ",150],["T_IS_EQUAL","==",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$taxRatio",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","unserialize",151],"(",["T_VARIABLE","$creditmemoItem",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getData",151],"(",["T_VARIABLE","$key",151],")",")",";",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$expectedTaxRatio",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","unserialize",152],"(",["T_VARIABLE","$itemData",152],"[",["T_VARIABLE","$key",152],"]",")",";",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertEquals",153],"(",["T_VARIABLE","$expectedTaxRatio",153],"[",["T_CONSTANT_ENCAPSED_STRING","'weee'",153],"]",",",["T_WHITESPACE"," ",153],["T_VARIABLE","$taxRatio",153],"[",["T_CONSTANT_ENCAPSED_STRING","'weee'",153],"]",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\"Tax ratio is incorrect\"",153],")",";",["T_WHITESPACE","\n                ",153],"}",["T_WHITESPACE"," ",154],["T_ELSE","else",154],["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEquals",155],"(",["T_WHITESPACE","\n                        ",155],["T_VARIABLE","$value",156],",",["T_WHITESPACE","\n                        ",156],["T_VARIABLE","$creditmemoItem",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getData",157],"(",["T_VARIABLE","$key",157],")",",",["T_WHITESPACE","\n                        ",157],["T_CONSTANT_ENCAPSED_STRING","'Creditmemo item field '",158],".",["T_VARIABLE","$key",158],".",["T_CONSTANT_ENCAPSED_STRING","' is incorrect'",158],["T_WHITESPACE","\n                    ",158],")",";",["T_WHITESPACE","\n                ",159],"}",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @return array\n     *\/",165],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","collectDataProvider",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$result",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"[","]",";",["T_WHITESPACE","\n\n        ",171],["T_COMMENT","\/\/ scenario 1: 3 item_1, $100 with $weee, 8.25 tax rate, 3 items invoiced, full creditmemo\n",173],["T_WHITESPACE","        ",174],["T_VARIABLE","$result",174],"[",["T_CONSTANT_ENCAPSED_STRING","'complete_creditmemo'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],"[",["T_WHITESPACE","\n                ",175],["T_CONSTANT_ENCAPSED_STRING","'items'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],"[",["T_WHITESPACE","\n                    ",176],["T_CONSTANT_ENCAPSED_STRING","'item_1'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],"[",["T_WHITESPACE","\n                        ",177],["T_CONSTANT_ENCAPSED_STRING","'order_item'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],"[",["T_WHITESPACE","\n                            ",178],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_LNUMBER","3",179],",",["T_WHITESPACE","\n                            ",179],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_LNUMBER","30",180],",",["T_WHITESPACE","\n                            ",180],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_LNUMBER","30",181],",",["T_WHITESPACE","\n                            ",181],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_DNUMBER","32.47",182],",",["T_WHITESPACE","\n                            ",182],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_DNUMBER","32.47",183],",",["T_WHITESPACE","\n                            ",183],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_LNUMBER","30",184],",",["T_WHITESPACE","\n                            ",184],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_LNUMBER","30",185],",",["T_WHITESPACE","\n                            ",185],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_refunded'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_LNUMBER","0",186],",",["T_WHITESPACE","\n                            ",186],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_refunded'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_LNUMBER","0",187],",",["T_WHITESPACE","\n                            ",187],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_DNUMBER","2.47",188],",",["T_WHITESPACE","\n                            ",188],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_DNUMBER","2.47",189],",",["T_WHITESPACE","\n                            ",189],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_refunded'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],",",["T_WHITESPACE","\n                            ",190],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_refunded'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_LNUMBER","0",191],",",["T_WHITESPACE","\n                            ",191],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],"[",["T_WHITESPACE","\n                                ",192],"[",["T_WHITESPACE","\n                                    ",193],["T_CONSTANT_ENCAPSED_STRING","'title'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",194],",",["T_WHITESPACE","\n                                    ",194],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_LNUMBER","30",195],",",["T_WHITESPACE","\n                                    ",195],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_LNUMBER","30",196],",",["T_WHITESPACE","\n                                    ",196],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_DNUMBER","32.47",197],",",["T_WHITESPACE","\n                                    ",197],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_DNUMBER","32.47",198],",",["T_WHITESPACE","\n                                ",198],"]",",",["T_WHITESPACE","\n                            ",199],"]",",",["T_WHITESPACE","\n                            ",200],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_LNUMBER","3",201],",",["T_WHITESPACE","\n                        ",201],"]",",",["T_WHITESPACE","\n                        ",202],["T_CONSTANT_ENCAPSED_STRING","'is_last'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_STRING","true",203],",",["T_WHITESPACE","\n                        ",203],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],"[",["T_WHITESPACE","\n                            ",204],["T_CONSTANT_ENCAPSED_STRING","'qty'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_LNUMBER","3",205],",",["T_WHITESPACE","\n                            ",205],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],"[",["T_WHITESPACE","\n                                ",206],"[",["T_WHITESPACE","\n                                ",207],"]",",",["T_WHITESPACE","\n                            ",208],"]",",",["T_WHITESPACE","\n                        ",209],"]",",",["T_WHITESPACE","\n                    ",210],"]",",",["T_WHITESPACE","\n                ",211],"]",",",["T_WHITESPACE","\n                ",212],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_STRING","false",213],",",["T_WHITESPACE","\n                ",213],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],"[",["T_WHITESPACE","\n                    ",214],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_LNUMBER","300",215],",",["T_WHITESPACE","\n                    ",215],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_LNUMBER","300",216],",",["T_WHITESPACE","\n                    ",216],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_LNUMBER","300",217],",",["T_WHITESPACE","\n                    ",217],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_LNUMBER","300",218],",",["T_WHITESPACE","\n                    ",218],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_DNUMBER","324.75",219],",",["T_WHITESPACE","\n                    ",219],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_DNUMBER","324.75",220],",",["T_WHITESPACE","\n                    ",220],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_LNUMBER","0",221],",",["T_WHITESPACE","\n                    ",221],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_LNUMBER","0",222],",",["T_WHITESPACE","\n                ",222],"]",",",["T_WHITESPACE","\n            ",223],"]",",",["T_WHITESPACE","\n            ",224],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],"[",["T_WHITESPACE","\n                ",225],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_items'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],"[",["T_WHITESPACE","\n                    ",226],["T_CONSTANT_ENCAPSED_STRING","'item_1'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n                        ",227],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],"[",["T_WHITESPACE","\n                            ",228],"[",["T_WHITESPACE","\n                                ",229],["T_CONSTANT_ENCAPSED_STRING","'title'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",230],",",["T_WHITESPACE","\n                                ",230],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_LNUMBER","30",231],",",["T_WHITESPACE","\n                                ",231],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_LNUMBER","30",232],",",["T_WHITESPACE","\n                                ",232],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_DNUMBER","32.47",233],",",["T_WHITESPACE","\n                                ",233],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_DNUMBER","32.47",234],",",["T_WHITESPACE","\n                            ",234],"]",",",["T_WHITESPACE","\n                        ",235],"]",",",["T_WHITESPACE","\n                        ",236],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_STRING","serialize",237],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_DNUMBER","1.0",237],"]",")",",",["T_WHITESPACE","\n                        ",237],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_LNUMBER","30",238],",",["T_WHITESPACE","\n                        ",238],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_LNUMBER","30",239],",",["T_WHITESPACE","\n                    ",239],"]",",",["T_WHITESPACE","\n                ",240],"]",",",["T_WHITESPACE","\n                ",241],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],"[",["T_WHITESPACE","\n                    ",242],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_DNUMBER","332.47",243],",",["T_WHITESPACE","\n                    ",243],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_DNUMBER","332.47",244],",",["T_WHITESPACE","\n                    ",244],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_DNUMBER","2.47",245],",",["T_WHITESPACE","\n                    ",245],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_DNUMBER","2.47",246],",",["T_WHITESPACE","\n                    ",246],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_LNUMBER","300",247],",",["T_WHITESPACE","\n                    ",247],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","300",248],",",["T_WHITESPACE","\n                    ",248],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_DNUMBER","357.22",249],",",["T_WHITESPACE","\n                    ",249],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_DNUMBER","357.22",250],",",["T_WHITESPACE","\n                ",250],"]",",",["T_WHITESPACE","\n            ",251],"]",",",["T_WHITESPACE","\n        ",252],"]",";",["T_WHITESPACE","\n\n        ",253],["T_COMMENT","\/\/ Scenario 2: 3 item_1, $100 with $weee, 8.25 tax rate, 3 items invoiced, 2 item creditmemo\n",255],["T_WHITESPACE","        ",256],["T_VARIABLE","$result",256],"[",["T_CONSTANT_ENCAPSED_STRING","'partial_creditmemo'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],"[",["T_WHITESPACE","\n            ",256],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],"[",["T_WHITESPACE","\n                ",257],["T_CONSTANT_ENCAPSED_STRING","'items'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],"[",["T_WHITESPACE","\n                    ",258],["T_CONSTANT_ENCAPSED_STRING","'item_1'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],"[",["T_WHITESPACE","\n                        ",259],["T_CONSTANT_ENCAPSED_STRING","'order_item'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],"[",["T_WHITESPACE","\n                            ",260],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_LNUMBER","3",261],",",["T_WHITESPACE","\n                            ",261],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_LNUMBER","30",262],",",["T_WHITESPACE","\n                            ",262],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_LNUMBER","30",263],",",["T_WHITESPACE","\n                            ",263],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_DNUMBER","32.47",264],",",["T_WHITESPACE","\n                            ",264],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_DNUMBER","32.47",265],",",["T_WHITESPACE","\n                            ",265],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_LNUMBER","30",266],",",["T_WHITESPACE","\n                            ",266],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_LNUMBER","30",267],",",["T_WHITESPACE","\n                            ",267],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_refunded'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_LNUMBER","0",268],",",["T_WHITESPACE","\n                            ",268],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_refunded'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_LNUMBER","0",269],",",["T_WHITESPACE","\n                            ",269],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_DNUMBER","2.47",270],",",["T_WHITESPACE","\n                            ",270],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_DNUMBER","2.47",271],",",["T_WHITESPACE","\n                            ",271],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_refunded'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_LNUMBER","0",272],",",["T_WHITESPACE","\n                            ",272],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_refunded'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],",",["T_WHITESPACE","\n                            ",273],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n                                ",274],"[",["T_WHITESPACE","\n                                    ",275],["T_CONSTANT_ENCAPSED_STRING","'title'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",276],",",["T_WHITESPACE","\n                                    ",276],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_LNUMBER","30",277],",",["T_WHITESPACE","\n                                    ",277],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","30",278],",",["T_WHITESPACE","\n                                    ",278],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_DNUMBER","32.47",279],",",["T_WHITESPACE","\n                                    ",279],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_DNUMBER","32.47",280],",",["T_WHITESPACE","\n                                ",280],"]",",",["T_WHITESPACE","\n                            ",281],"]",",",["T_WHITESPACE","\n                            ",282],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_LNUMBER","3",283],",",["T_WHITESPACE","\n                        ",283],"]",",",["T_WHITESPACE","\n                        ",284],["T_CONSTANT_ENCAPSED_STRING","'is_last'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_STRING","false",285],",",["T_WHITESPACE","\n                        ",285],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],"[",["T_WHITESPACE","\n                            ",286],["T_CONSTANT_ENCAPSED_STRING","'qty'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_LNUMBER","2",287],",",["T_WHITESPACE","\n                            ",287],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],"[",["T_WHITESPACE","\n                                ",288],"[",["T_WHITESPACE","\n                                ",289],"]",",",["T_WHITESPACE","\n                            ",290],"]",",",["T_WHITESPACE","\n                        ",291],"]",",",["T_WHITESPACE","\n                    ",292],"]",",",["T_WHITESPACE","\n                ",293],"]",",",["T_WHITESPACE","\n                ",294],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_STRING","false",295],",",["T_WHITESPACE","\n                ",295],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],"[",["T_WHITESPACE","\n                    ",296],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_LNUMBER","200",297],",",["T_WHITESPACE","\n                    ",297],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_LNUMBER","200",298],",",["T_WHITESPACE","\n                    ",298],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_LNUMBER","200",299],",",["T_WHITESPACE","\n                    ",299],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_LNUMBER","200",300],",",["T_WHITESPACE","\n                    ",300],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_DNUMBER","216.5",301],",",["T_WHITESPACE","\n                    ",301],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_DNUMBER","216.5",302],",",["T_WHITESPACE","\n                    ",302],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_LNUMBER","0",303],",",["T_WHITESPACE","\n                    ",303],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_LNUMBER","0",304],",",["T_WHITESPACE","\n                ",304],"]",",",["T_WHITESPACE","\n            ",305],"]",",",["T_WHITESPACE","\n            ",306],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],"[",["T_WHITESPACE","\n                ",307],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_items'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],"[",["T_WHITESPACE","\n                    ",308],["T_CONSTANT_ENCAPSED_STRING","'item_1'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],"[",["T_WHITESPACE","\n                        ",309],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],"[",["T_WHITESPACE","\n                            ",310],"[",["T_WHITESPACE","\n                                ",311],["T_CONSTANT_ENCAPSED_STRING","'title'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",312],",",["T_WHITESPACE","\n                                ",312],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_LNUMBER","20",313],",",["T_WHITESPACE","\n                                ",313],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_LNUMBER","20",314],",",["T_WHITESPACE","\n                                ",314],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_DNUMBER","21.65",315],",",["T_WHITESPACE","\n                                ",315],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_DNUMBER","21.65",316],",",["T_WHITESPACE","\n                            ",316],"]",",",["T_WHITESPACE","\n                        ",317],"]",",",["T_WHITESPACE","\n                        ",318],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_STRING","serialize",319],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_DNUMBER","1.65",319],["T_WHITESPACE"," ",319],"\/",["T_WHITESPACE"," ",319],["T_DNUMBER","2.47",319],"]",")",",",["T_WHITESPACE","\n                        ",319],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_LNUMBER","20",320],",",["T_WHITESPACE","\n                        ",320],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_LNUMBER","20",321],",",["T_WHITESPACE","\n                    ",321],"]",",",["T_WHITESPACE","\n                ",322],"]",",",["T_WHITESPACE","\n                ",323],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],"[",["T_WHITESPACE","\n                    ",324],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_DNUMBER","221.65",325],",",["T_WHITESPACE","\n                    ",325],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_DNUMBER","221.65",326],",",["T_WHITESPACE","\n                    ",326],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_DNUMBER","1.65",327],",",["T_WHITESPACE","\n                    ",327],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_DNUMBER","1.65",328],",",["T_WHITESPACE","\n                    ",328],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_LNUMBER","200",329],",",["T_WHITESPACE","\n                    ",329],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_LNUMBER","200",330],",",["T_WHITESPACE","\n                    ",330],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",331],["T_WHITESPACE"," ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_DNUMBER","238.15",331],",",["T_WHITESPACE","\n                    ",331],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_DNUMBER","238.15",332],",",["T_WHITESPACE","\n                ",332],"]",",",["T_WHITESPACE","\n            ",333],"]",",",["T_WHITESPACE","\n        ",334],"]",";",["T_WHITESPACE","\n\n        ",335],["T_COMMENT","\/\/ Scenario 3: 3 item_1, $100 with $weee, 8.25 tax rate, 3 items invoiced, 2 item returned\n",337],["T_WHITESPACE","        ",338],["T_VARIABLE","$result",338],"[",["T_CONSTANT_ENCAPSED_STRING","'last_partial_creditmemo'",338],"]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],"[",["T_WHITESPACE","\n            ",338],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],"[",["T_WHITESPACE","\n                ",339],["T_CONSTANT_ENCAPSED_STRING","'items'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],"[",["T_WHITESPACE","\n                    ",340],["T_CONSTANT_ENCAPSED_STRING","'item_1'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],"[",["T_WHITESPACE","\n                        ",341],["T_CONSTANT_ENCAPSED_STRING","'order_item'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],"[",["T_WHITESPACE","\n                            ",342],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_LNUMBER","3",343],",",["T_WHITESPACE","\n                            ",343],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_LNUMBER","30",344],",",["T_WHITESPACE","\n                            ",344],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_LNUMBER","30",345],",",["T_WHITESPACE","\n                            ",345],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_DNUMBER","32.47",346],",",["T_WHITESPACE","\n                            ",346],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_DNUMBER","32.47",347],",",["T_WHITESPACE","\n                            ",347],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_LNUMBER","30",348],",",["T_WHITESPACE","\n                            ",348],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_LNUMBER","30",349],",",["T_WHITESPACE","\n                            ",349],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_refunded'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_LNUMBER","20",350],",",["T_WHITESPACE","\n                            ",350],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_refunded'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_LNUMBER","20",351],",",["T_WHITESPACE","\n                            ",351],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_DNUMBER","2.47",352],",",["T_WHITESPACE","\n                            ",352],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_DNUMBER","2.47",353],",",["T_WHITESPACE","\n                            ",353],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_refunded'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_DNUMBER","1.64",354],",",["T_WHITESPACE","\n                            ",354],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_refunded'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_DNUMBER","1.64",355],",",["T_WHITESPACE","\n                            ",355],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],"[",["T_WHITESPACE","\n                                ",356],"[",["T_WHITESPACE","\n                                    ",357],["T_CONSTANT_ENCAPSED_STRING","'title'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",358],",",["T_WHITESPACE","\n                                    ",358],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_LNUMBER","30",359],",",["T_WHITESPACE","\n                                    ",359],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_LNUMBER","30",360],",",["T_WHITESPACE","\n                                    ",360],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_DNUMBER","32.47",361],",",["T_WHITESPACE","\n                                    ",361],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_DNUMBER","32.47",362],",",["T_WHITESPACE","\n                                ",362],"]",",",["T_WHITESPACE","\n                            ",363],"]",",",["T_WHITESPACE","\n                            ",364],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_LNUMBER","3",365],",",["T_WHITESPACE","\n                        ",365],"]",",",["T_WHITESPACE","\n                        ",366],["T_CONSTANT_ENCAPSED_STRING","'is_last'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_STRING","true",367],",",["T_WHITESPACE","\n                        ",367],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],"[",["T_WHITESPACE","\n                            ",368],["T_CONSTANT_ENCAPSED_STRING","'qty'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_LNUMBER","1",369],",",["T_WHITESPACE","\n                            ",369],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],"[",["T_WHITESPACE","\n                                ",370],"[",["T_WHITESPACE","\n                                ",371],"]",",",["T_WHITESPACE","\n                            ",372],"]",",",["T_WHITESPACE","\n                        ",373],"]",",",["T_WHITESPACE","\n                    ",374],"]",",",["T_WHITESPACE","\n                ",375],"]",",",["T_WHITESPACE","\n                ",376],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_STRING","false",377],",",["T_WHITESPACE","\n                ",377],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],"[",["T_WHITESPACE","\n                    ",378],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_LNUMBER","100",379],",",["T_WHITESPACE","\n                    ",379],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_LNUMBER","100",380],",",["T_WHITESPACE","\n                    ",380],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_LNUMBER","100",381],",",["T_WHITESPACE","\n                    ",381],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_LNUMBER","100",382],",",["T_WHITESPACE","\n                    ",382],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_DNUMBER","108.25",383],",",["T_WHITESPACE","\n                    ",383],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_DNUMBER","108.25",384],",",["T_WHITESPACE","\n                    ",384],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_LNUMBER","0",385],",",["T_WHITESPACE","\n                    ",385],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_LNUMBER","0",386],",",["T_WHITESPACE","\n                ",386],"]",",",["T_WHITESPACE","\n            ",387],"]",",",["T_WHITESPACE","\n            ",388],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],"[",["T_WHITESPACE","\n                ",389],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_items'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],"[",["T_WHITESPACE","\n                    ",390],["T_CONSTANT_ENCAPSED_STRING","'item_1'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],"[",["T_WHITESPACE","\n                        ",391],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],"[",["T_WHITESPACE","\n                            ",392],"[",["T_WHITESPACE","\n                                ",393],["T_CONSTANT_ENCAPSED_STRING","'title'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",394],",",["T_WHITESPACE","\n                                ",394],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",395],["T_WHITESPACE"," ",395],["T_DOUBLE_ARROW","=>",395],["T_WHITESPACE"," ",395],["T_LNUMBER","10",395],",",["T_WHITESPACE","\n                                ",395],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_LNUMBER","10",396],",",["T_WHITESPACE","\n                                ",396],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_DNUMBER","10.82",397],",",["T_WHITESPACE","\n                                ",397],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_DNUMBER","10.82",398],",",["T_WHITESPACE","\n                            ",398],"]",",",["T_WHITESPACE","\n                        ",399],"]",",",["T_WHITESPACE","\n                        ",400],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_STRING","serialize",401],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_DNUMBER","0.83",401],["T_WHITESPACE"," ",401],"\/",["T_WHITESPACE"," ",401],["T_DNUMBER","2.47",401],"]",")",",",["T_WHITESPACE","\n                        ",401],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_LNUMBER","10",402],",",["T_WHITESPACE","\n                        ",402],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_LNUMBER","10",403],",",["T_WHITESPACE","\n                    ",403],"]",",",["T_WHITESPACE","\n                ",404],"]",",",["T_WHITESPACE","\n                ",405],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],"[",["T_WHITESPACE","\n                    ",406],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_DNUMBER","110.83",407],",",["T_WHITESPACE","\n                    ",407],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_DNUMBER","110.83",408],",",["T_WHITESPACE","\n                    ",408],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_DNUMBER","0.83",409],",",["T_WHITESPACE","\n                    ",409],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_DNUMBER","0.83",410],",",["T_WHITESPACE","\n                    ",410],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_LNUMBER","100",411],",",["T_WHITESPACE","\n                    ",411],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_LNUMBER","100",412],",",["T_WHITESPACE","\n                    ",412],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_DNUMBER","119.07",413],",",["T_WHITESPACE","\n                    ",413],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_DNUMBER","119.07",414],",",["T_WHITESPACE","\n                ",414],"]",",",["T_WHITESPACE","\n            ",415],"]",",",["T_WHITESPACE","\n        ",416],"]",";",["T_WHITESPACE","\n\n        ",417],["T_COMMENT","\/\/ scenario 4: 3 item_1, $100 with $weee, 8.25 tax rate.  Returning qty 0.\n",419],["T_WHITESPACE","        ",420],["T_VARIABLE","$result",420],"[",["T_CONSTANT_ENCAPSED_STRING","'zero_return'",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],"[",["T_WHITESPACE","\n            ",420],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",421],["T_WHITESPACE"," ",421],["T_DOUBLE_ARROW","=>",421],["T_WHITESPACE"," ",421],"[",["T_WHITESPACE","\n                ",421],["T_CONSTANT_ENCAPSED_STRING","'items'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],"[",["T_WHITESPACE","\n                    ",422],["T_CONSTANT_ENCAPSED_STRING","'item_1'",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],"[",["T_WHITESPACE","\n                        ",423],["T_CONSTANT_ENCAPSED_STRING","'order_item'",424],["T_WHITESPACE"," ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],"[",["T_WHITESPACE","\n                            ",424],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_LNUMBER","3",425],",",["T_WHITESPACE","\n                            ",425],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_LNUMBER","30",426],",",["T_WHITESPACE","\n                            ",426],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_LNUMBER","30",427],",",["T_WHITESPACE","\n                            ",427],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_DNUMBER","32.47",428],",",["T_WHITESPACE","\n                            ",428],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_DNUMBER","32.47",429],",",["T_WHITESPACE","\n                            ",429],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_LNUMBER","30",430],",",["T_WHITESPACE","\n                            ",430],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",431],["T_WHITESPACE"," ",431],["T_DOUBLE_ARROW","=>",431],["T_WHITESPACE"," ",431],["T_LNUMBER","30",431],",",["T_WHITESPACE","\n                            ",431],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_refunded'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_LNUMBER","0",432],",",["T_WHITESPACE","\n                            ",432],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_refunded'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_LNUMBER","0",433],",",["T_WHITESPACE","\n                            ",433],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",434],["T_WHITESPACE"," ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_DNUMBER","2.47",434],",",["T_WHITESPACE","\n                            ",434],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_DNUMBER","2.47",435],",",["T_WHITESPACE","\n                            ",435],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_refunded'",436],["T_WHITESPACE"," ",436],["T_DOUBLE_ARROW","=>",436],["T_WHITESPACE"," ",436],["T_LNUMBER","0",436],",",["T_WHITESPACE","\n                            ",436],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_refunded'",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_LNUMBER","0",437],",",["T_WHITESPACE","\n                            ",437],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",438],["T_WHITESPACE"," ",438],["T_DOUBLE_ARROW","=>",438],["T_WHITESPACE"," ",438],"[",["T_WHITESPACE","\n                                ",438],"[",["T_WHITESPACE","\n                                    ",439],["T_CONSTANT_ENCAPSED_STRING","'title'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",440],",",["T_WHITESPACE","\n                                    ",440],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_LNUMBER","30",441],",",["T_WHITESPACE","\n                                    ",441],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",442],["T_WHITESPACE"," ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_LNUMBER","30",442],",",["T_WHITESPACE","\n                                    ",442],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_DNUMBER","32.47",443],",",["T_WHITESPACE","\n                                    ",443],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_DNUMBER","32.47",444],",",["T_WHITESPACE","\n                                ",444],"]",",",["T_WHITESPACE","\n                            ",445],"]",",",["T_WHITESPACE","\n                            ",446],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_LNUMBER","3",447],",",["T_WHITESPACE","\n                        ",447],"]",",",["T_WHITESPACE","\n                        ",448],["T_CONSTANT_ENCAPSED_STRING","'is_last'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_STRING","true",449],",",["T_WHITESPACE","\n                        ",449],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],"[",["T_WHITESPACE","\n                            ",450],["T_CONSTANT_ENCAPSED_STRING","'qty'",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_LNUMBER","0",451],",",["T_WHITESPACE","\n                            ",451],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],"[",["T_WHITESPACE","\n                                ",452],"[",["T_WHITESPACE","\n                                ",453],"]",",",["T_WHITESPACE","\n                            ",454],"]",",",["T_WHITESPACE","\n                        ",455],"]",",",["T_WHITESPACE","\n                    ",456],"]",",",["T_WHITESPACE","\n                ",457],"]",",",["T_WHITESPACE","\n                ",458],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_STRING","false",459],",",["T_WHITESPACE","\n                ",459],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],"[",["T_WHITESPACE","\n                    ",460],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","300",461],",",["T_WHITESPACE","\n                    ",461],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_LNUMBER","300",462],",",["T_WHITESPACE","\n                    ",462],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_LNUMBER","300",463],",",["T_WHITESPACE","\n                    ",463],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_LNUMBER","300",464],",",["T_WHITESPACE","\n                    ",464],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",465],["T_WHITESPACE"," ",465],["T_DOUBLE_ARROW","=>",465],["T_WHITESPACE"," ",465],["T_DNUMBER","324.75",465],",",["T_WHITESPACE","\n                    ",465],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_DNUMBER","324.75",466],",",["T_WHITESPACE","\n                    ",466],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_LNUMBER","0",467],",",["T_WHITESPACE","\n                    ",467],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",468],["T_WHITESPACE"," ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_LNUMBER","0",468],",",["T_WHITESPACE","\n                ",468],"]",",",["T_WHITESPACE","\n            ",469],"]",",",["T_WHITESPACE","\n            ",470],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],"[",["T_WHITESPACE","\n                ",471],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_items'",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],"[",["T_WHITESPACE","\n                    ",472],["T_CONSTANT_ENCAPSED_STRING","'item_1'",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],"[",["T_WHITESPACE","\n                        ",473],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],"[",["T_WHITESPACE","\n                            ",474],"[",["T_WHITESPACE","\n                                ",475],["T_CONSTANT_ENCAPSED_STRING","'title'",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",476],",",["T_WHITESPACE","\n                                ",476],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_LNUMBER","0",477],",",["T_WHITESPACE","\n                                ",477],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",478],["T_WHITESPACE"," ",478],["T_DOUBLE_ARROW","=>",478],["T_WHITESPACE"," ",478],["T_LNUMBER","0",478],",",["T_WHITESPACE","\n                                ",478],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",479],["T_WHITESPACE"," ",479],["T_DOUBLE_ARROW","=>",479],["T_WHITESPACE"," ",479],["T_LNUMBER","0",479],",",["T_WHITESPACE","\n                                ",479],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",480],["T_WHITESPACE"," ",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_LNUMBER","0",480],",",["T_WHITESPACE","\n                            ",480],"]",",",["T_WHITESPACE","\n                        ",481],"]",",",["T_WHITESPACE","\n                    ",482],"]",",",["T_WHITESPACE","\n                ",483],"]",",",["T_WHITESPACE","\n                ",484],["T_CONSTANT_ENCAPSED_STRING","'creditmemo_data'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],"[",["T_WHITESPACE","\n                    ",485],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_LNUMBER","300",486],",",["T_WHITESPACE","\n                    ",486],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",487],["T_WHITESPACE"," ",487],["T_DOUBLE_ARROW","=>",487],["T_WHITESPACE"," ",487],["T_LNUMBER","300",487],",",["T_WHITESPACE","\n                ",487],"]",",",["T_WHITESPACE","\n            ",488],"]",",",["T_WHITESPACE","\n        ",489],"]",";",["T_WHITESPACE","\n\n        ",490],["T_RETURN","return",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$result",492],";",["T_WHITESPACE","\n    ",492],"}",["T_WHITESPACE","\n\n    ",493],["T_DOC_COMMENT","\/**\n     * @param $creditmemoItemData array\n     * @return \\Magento\\Sales\\Model\\Order\\Creditmemo\\Item|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",495],["T_WHITESPACE","\n    ",498],["T_PROTECTED","protected",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","getInvoiceItem",499],"(",["T_VARIABLE","$creditmemoItemData",499],")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Item|\\PHPUnit_Framework_MockObject_MockObject $orderItem *\/",501],["T_WHITESPACE","\n        ",501],["T_VARIABLE","$orderItem",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getMock",502],"(",["T_WHITESPACE","\n            ",502],["T_NS_SEPARATOR","\\",503],["T_STRING","Magento",503],["T_NS_SEPARATOR","\\",503],["T_STRING","Sales",503],["T_NS_SEPARATOR","\\",503],["T_STRING","Model",503],["T_NS_SEPARATOR","\\",503],["T_STRING","Order",503],["T_NS_SEPARATOR","\\",503],["T_STRING","Item",503],["T_DOUBLE_COLON","::",503],["T_CLASS","class",503],",",["T_WHITESPACE","\n            ",503],"[",["T_WHITESPACE","\n                ",504],["T_CONSTANT_ENCAPSED_STRING","'isDummy'",505],",",["T_WHITESPACE","\n                ",505],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",506],["T_WHITESPACE","\n            ",506],"]",",",["T_WHITESPACE","\n            ",507],"[","]",",",["T_WHITESPACE","\n            ",508],["T_CONSTANT_ENCAPSED_STRING","''",509],",",["T_WHITESPACE","\n            ",509],["T_STRING","false",510],["T_WHITESPACE","\n        ",510],")",";",["T_WHITESPACE","\n        ",511],["T_FOREACH","foreach",512],["T_WHITESPACE"," ",512],"(",["T_VARIABLE","$creditmemoItemData",512],"[",["T_CONSTANT_ENCAPSED_STRING","'order_item'",512],"]",["T_WHITESPACE"," ",512],["T_AS","as",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$key",512],["T_WHITESPACE"," ",512],["T_DOUBLE_ARROW","=>",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$value",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$orderItem",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","setData",513],"(",["T_VARIABLE","$key",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$value",513],")",";",["T_WHITESPACE","\n        ",513],"}",["T_WHITESPACE","\n\n        ",514],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","weeeData",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","expects",516],"(",["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","once",516],"(",")",")",["T_WHITESPACE","\n            ",516],["T_OBJECT_OPERATOR","->",517],["T_STRING","method",517],"(",["T_CONSTANT_ENCAPSED_STRING","'getRowWeeeTaxInclTax'",517],")",["T_WHITESPACE","\n            ",517],["T_OBJECT_OPERATOR","->",518],["T_STRING","with",518],"(",["T_VARIABLE","$orderItem",518],")",["T_WHITESPACE","\n            ",518],["T_OBJECT_OPERATOR","->",519],["T_STRING","will",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","returnValue",519],"(",["T_VARIABLE","$orderItem",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getRowWeeeTaxInclTax",519],"(",")",")",")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","weeeData",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","expects",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","once",520],"(",")",")",["T_WHITESPACE","\n            ",520],["T_OBJECT_OPERATOR","->",521],["T_STRING","method",521],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseRowWeeeTaxInclTax'",521],")",["T_WHITESPACE","\n            ",521],["T_OBJECT_OPERATOR","->",522],["T_STRING","with",522],"(",["T_VARIABLE","$orderItem",522],")",["T_WHITESPACE","\n            ",522],["T_OBJECT_OPERATOR","->",523],["T_STRING","will",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","returnValue",523],"(",["T_VARIABLE","$orderItem",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getBaseRowWeeeTaxInclTax",523],"(",")",")",")",";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","weeeData",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","expects",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","once",524],"(",")",")",["T_WHITESPACE","\n            ",524],["T_OBJECT_OPERATOR","->",525],["T_STRING","method",525],"(",["T_CONSTANT_ENCAPSED_STRING","'getWeeeAmountInvoiced'",525],")",["T_WHITESPACE","\n            ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","with",526],"(",["T_VARIABLE","$orderItem",526],")",["T_WHITESPACE","\n            ",526],["T_OBJECT_OPERATOR","->",527],["T_STRING","will",527],"(",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","returnValue",527],"(",["T_VARIABLE","$orderItem",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getWeeeAmountInvoiced",527],"(",")",")",")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","weeeData",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","expects",528],"(",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","once",528],"(",")",")",["T_WHITESPACE","\n            ",528],["T_OBJECT_OPERATOR","->",529],["T_STRING","method",529],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeAmountInvoiced'",529],")",["T_WHITESPACE","\n            ",529],["T_OBJECT_OPERATOR","->",530],["T_STRING","with",530],"(",["T_VARIABLE","$orderItem",530],")",["T_WHITESPACE","\n            ",530],["T_OBJECT_OPERATOR","->",531],["T_STRING","will",531],"(",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","returnValue",531],"(",["T_VARIABLE","$orderItem",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getBaseWeeeAmountInvoiced",531],"(",")",")",")",";",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","weeeData",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","expects",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","once",532],"(",")",")",["T_WHITESPACE","\n            ",532],["T_OBJECT_OPERATOR","->",533],["T_STRING","method",533],"(",["T_CONSTANT_ENCAPSED_STRING","'getWeeeTaxAmountInvoiced'",533],")",["T_WHITESPACE","\n            ",533],["T_OBJECT_OPERATOR","->",534],["T_STRING","with",534],"(",["T_VARIABLE","$orderItem",534],")",["T_WHITESPACE","\n            ",534],["T_OBJECT_OPERATOR","->",535],["T_STRING","will",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","returnValue",535],"(",["T_VARIABLE","$orderItem",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getWeeeTaxAmountInvoiced",535],"(",")",")",")",";",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","weeeData",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","expects",536],"(",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","once",536],"(",")",")",["T_WHITESPACE","\n            ",536],["T_OBJECT_OPERATOR","->",537],["T_STRING","method",537],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeTaxAmountInvoiced'",537],")",["T_WHITESPACE","\n            ",537],["T_OBJECT_OPERATOR","->",538],["T_STRING","with",538],"(",["T_VARIABLE","$orderItem",538],")",["T_WHITESPACE","\n            ",538],["T_OBJECT_OPERATOR","->",539],["T_STRING","will",539],"(",["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","returnValue",539],"(",["T_VARIABLE","$orderItem",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getBaseWeeeTaxAmountInvoiced",539],"(",")",")",")",";",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","weeeData",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","expects",540],"(",["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","once",540],"(",")",")",["T_WHITESPACE","\n            ",540],["T_OBJECT_OPERATOR","->",541],["T_STRING","method",541],"(",["T_CONSTANT_ENCAPSED_STRING","'getWeeeAmountRefunded'",541],")",["T_WHITESPACE","\n            ",541],["T_OBJECT_OPERATOR","->",542],["T_STRING","with",542],"(",["T_VARIABLE","$orderItem",542],")",["T_WHITESPACE","\n            ",542],["T_OBJECT_OPERATOR","->",543],["T_STRING","will",543],"(",["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","returnValue",543],"(",["T_VARIABLE","$orderItem",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","getWeeeAmountRefunded",543],"(",")",")",")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","weeeData",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","expects",544],"(",["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","once",544],"(",")",")",["T_WHITESPACE","\n            ",544],["T_OBJECT_OPERATOR","->",545],["T_STRING","method",545],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeAmountRefunded'",545],")",["T_WHITESPACE","\n            ",545],["T_OBJECT_OPERATOR","->",546],["T_STRING","with",546],"(",["T_VARIABLE","$orderItem",546],")",["T_WHITESPACE","\n            ",546],["T_OBJECT_OPERATOR","->",547],["T_STRING","will",547],"(",["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","returnValue",547],"(",["T_VARIABLE","$orderItem",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getBaseWeeeAmountRefunded",547],"(",")",")",")",";",["T_WHITESPACE","\n        ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","weeeData",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","expects",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","once",548],"(",")",")",["T_WHITESPACE","\n            ",548],["T_OBJECT_OPERATOR","->",549],["T_STRING","method",549],"(",["T_CONSTANT_ENCAPSED_STRING","'getWeeeTaxAmountRefunded'",549],")",["T_WHITESPACE","\n            ",549],["T_OBJECT_OPERATOR","->",550],["T_STRING","with",550],"(",["T_VARIABLE","$orderItem",550],")",["T_WHITESPACE","\n            ",550],["T_OBJECT_OPERATOR","->",551],["T_STRING","will",551],"(",["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","returnValue",551],"(",["T_VARIABLE","$orderItem",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getWeeeTaxAmountRefunded",551],"(",")",")",")",";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","weeeData",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","expects",552],"(",["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","once",552],"(",")",")",["T_WHITESPACE","\n            ",552],["T_OBJECT_OPERATOR","->",553],["T_STRING","method",553],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeTaxAmountRefunded'",553],")",["T_WHITESPACE","\n            ",553],["T_OBJECT_OPERATOR","->",554],["T_STRING","with",554],"(",["T_VARIABLE","$orderItem",554],")",["T_WHITESPACE","\n            ",554],["T_OBJECT_OPERATOR","->",555],["T_STRING","will",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","returnValue",555],"(",["T_VARIABLE","$orderItem",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getBaseWeeeTaxAmountRefunded",555],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",555],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Invoice\\Item|\\PHPUnit_Framework_MockObject_MockObject $invoiceItem *\/",557],["T_WHITESPACE","\n        ",557],["T_VARIABLE","$invoiceItem",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","getMock",558],"(",["T_WHITESPACE","\n            ",558],["T_NS_SEPARATOR","\\",559],["T_STRING","Magento",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Sales",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Model",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Order",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Invoice",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Item",559],["T_DOUBLE_COLON","::",559],["T_CLASS","class",559],",",["T_WHITESPACE","\n            ",559],"[",["T_WHITESPACE","\n                ",560],["T_CONSTANT_ENCAPSED_STRING","'getOrderItem'",561],",",["T_WHITESPACE","\n                ",561],["T_CONSTANT_ENCAPSED_STRING","'isLast'",562],",",["T_WHITESPACE","\n                ",562],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",563],["T_WHITESPACE","\n            ",563],"]",",",["T_WHITESPACE","\n            ",564],"[","]",",",["T_WHITESPACE","\n            ",565],["T_CONSTANT_ENCAPSED_STRING","''",566],",",["T_WHITESPACE","\n            ",566],["T_STRING","false",567],["T_WHITESPACE","\n        ",567],")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$invoiceItem",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","expects",569],"(",["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","any",569],"(",")",")",["T_OBJECT_OPERATOR","->",569],["T_STRING","method",569],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrderItem'",569],")",["T_OBJECT_OPERATOR","->",569],["T_STRING","will",569],"(",["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","returnValue",569],"(",["T_VARIABLE","$orderItem",569],")",")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$invoiceItem",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","expects",570],"(",["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","any",570],"(",")",")",["T_WHITESPACE","\n            ",570],["T_OBJECT_OPERATOR","->",571],["T_STRING","method",571],"(",["T_CONSTANT_ENCAPSED_STRING","'isLast'",571],")",["T_WHITESPACE","\n            ",571],["T_OBJECT_OPERATOR","->",572],["T_STRING","will",572],"(",["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","returnValue",572],"(",["T_VARIABLE","$creditmemoItemData",572],"[",["T_CONSTANT_ENCAPSED_STRING","'is_last'",572],"]",")",")",";",["T_WHITESPACE","\n        ",572],["T_FOREACH","foreach",573],["T_WHITESPACE"," ",573],"(",["T_VARIABLE","$creditmemoItemData",573],"[",["T_CONSTANT_ENCAPSED_STRING","'data_fields'",573],"]",["T_WHITESPACE"," ",573],["T_AS","as",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$key",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$value",573],")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n            ",573],["T_VARIABLE","$invoiceItem",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","setData",574],"(",["T_VARIABLE","$key",574],",",["T_WHITESPACE"," ",574],["T_VARIABLE","$value",574],")",";",["T_WHITESPACE","\n        ",574],"}",["T_WHITESPACE","\n\n        ",575],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","weeeData",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","expects",577],"(",["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","any",577],"(",")",")",["T_WHITESPACE","\n            ",577],["T_OBJECT_OPERATOR","->",578],["T_STRING","method",578],"(",["T_CONSTANT_ENCAPSED_STRING","'getApplied'",578],")",["T_WHITESPACE","\n            ",578],["T_OBJECT_OPERATOR","->",579],["T_STRING","will",579],"(",["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","returnCallback",579],"(",["T_WHITESPACE","\n                ",579],["T_FUNCTION","function",580],["T_WHITESPACE"," ",580],"(",["T_VARIABLE","$item",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n                    ",580],["T_RETURN","return",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$item",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getAppliedWeee",581],"(",")",";",["T_WHITESPACE","\n                ",581],"}",["T_WHITESPACE","\n            ",582],")",")",";",["T_WHITESPACE","\n\n        ",583],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","weeeData",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","expects",585],"(",["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","any",585],"(",")",")",["T_WHITESPACE","\n            ",585],["T_OBJECT_OPERATOR","->",586],["T_STRING","method",586],"(",["T_CONSTANT_ENCAPSED_STRING","'setApplied'",586],")",["T_WHITESPACE","\n            ",586],["T_OBJECT_OPERATOR","->",587],["T_STRING","will",587],"(",["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","returnCallback",587],"(",["T_WHITESPACE","\n                ",587],["T_FUNCTION","function",588],["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$item",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$weee",588],")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n                    ",588],["T_RETURN","return",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$item",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","setAppliedWeee",589],"(",["T_VARIABLE","$weee",589],")",";",["T_WHITESPACE","\n                ",589],"}",["T_WHITESPACE","\n            ",590],")",")",";",["T_WHITESPACE","\n\n        ",591],["T_RETURN","return",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$invoiceItem",593],";",["T_WHITESPACE","\n    ",593],"}",["T_WHITESPACE","\n",594],"}",["T_WHITESPACE","\n",595]]