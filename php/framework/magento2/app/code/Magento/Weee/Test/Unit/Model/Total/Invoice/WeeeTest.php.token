[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Weee",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Total",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Invoice",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","WeeeTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Model\\Total\\Invoice\\Weee\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$model",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$order",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var  \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$objectManager",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Invoice|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$invoice",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Weee\\Helper\\Data|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$weeeData",33],";",["T_WHITESPACE","\n\n    ",33],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setUp",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","weeeData",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMockBuilder",37],"(",["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Weee",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Data",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],")",["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","setMethods",38],"(",["T_WHITESPACE","\n                ",38],"[",["T_WHITESPACE","\n                    ",39],["T_CONSTANT_ENCAPSED_STRING","'getRowWeeeTaxInclTax'",40],",",["T_WHITESPACE","\n                    ",40],["T_CONSTANT_ENCAPSED_STRING","'getBaseRowWeeeTaxInclTax'",41],",",["T_WHITESPACE","\n                    ",41],["T_CONSTANT_ENCAPSED_STRING","'getWeeeAmountInvoiced'",42],",",["T_WHITESPACE","\n                    ",42],["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeAmountInvoiced'",43],",",["T_WHITESPACE","\n                    ",43],["T_CONSTANT_ENCAPSED_STRING","'getWeeeTaxAmountInvoiced'",44],",",["T_WHITESPACE","\n                    ",44],["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeTaxAmountInvoiced'",45],",",["T_WHITESPACE","\n                    ",45],["T_CONSTANT_ENCAPSED_STRING","'getApplied'",46],",",["T_WHITESPACE","\n                    ",46],["T_CONSTANT_ENCAPSED_STRING","'setApplied'",47],",",["T_WHITESPACE","\n                    ",47],["T_CONSTANT_ENCAPSED_STRING","'includeInSubtotal'",48],",",["T_WHITESPACE","\n                ",48],"]",["T_WHITESPACE","\n            ",49],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","disableOriginalConstructor",50],"(",")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMock",51],"(",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","objectManager",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","TestFramework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Unit",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Helper",53],["T_NS_SEPARATOR","\\",53],["T_STRING","ObjectManager",53],"(",["T_VARIABLE","$this",53],")",";",["T_WHITESPACE","\n        ",53],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Invoice\\Total\\Tax $model *\/",54],["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","model",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","objectManager",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getObject",55],"(",["T_WHITESPACE","\n            ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Weee",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Total",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Invoice",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Weee",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],",",["T_WHITESPACE","\n            ",56],"[",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'weeeData'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","weeeData",58],",",["T_WHITESPACE","\n            ",58],"]",["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","order",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMock",62],"(",["T_WHITESPACE","\n            ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Sales",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Order",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],",",["T_WHITESPACE","\n            ",63],"[",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",65],["T_WHITESPACE","\n            ",65],"]",",",["T_WHITESPACE","\n            ",66],"[","]",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE","\n            ",68],["T_STRING","false",69],["T_WHITESPACE","\n        ",69],")",";",["T_WHITESPACE","\n\n        ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","invoice",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMock",72],"(",["T_WHITESPACE","\n            ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Sales",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Model",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Order",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Invoice",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],",",["T_WHITESPACE","\n            ",73],"[",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'getAllItems'",75],",",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'getOrder'",76],",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'roundPrice'",77],",",["T_WHITESPACE","\n                ",77],["T_CONSTANT_ENCAPSED_STRING","'isLast'",78],",",["T_WHITESPACE","\n                ",78],["T_CONSTANT_ENCAPSED_STRING","'getStore'",79],",",["T_WHITESPACE","\n                ",79],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",80],",",["T_WHITESPACE","\n            ",80],"]",",",["T_WHITESPACE","\n            ",81],"[","]",",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","''",83],",",["T_WHITESPACE","\n            ",83],["T_STRING","false",84],["T_WHITESPACE","\n        ",84],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","invoice",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","expects",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","atLeastOnce",86],"(",")",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","method",86],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrder'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","will",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","returnValue",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","order",86],")",")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_PRIVATE","private",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","setupOrder",89],"(",["T_VARIABLE","$orderData",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_COMMENT","\/\/Set up order mock\n",91],["T_WHITESPACE","        ",92],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$orderData",92],"[",["T_CONSTANT_ENCAPSED_STRING","'data_fields'",92],"]",["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$key",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$value",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","order",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setData",93],"(",["T_VARIABLE","$key",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$value",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * @param array $orderData\n     * @param array $invoiceData\n     * @param array $expectedResults\n     * @dataProvider collectDataProvider\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testCollect",103],"(",["T_VARIABLE","$orderData",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$invoiceData",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$expectedResults",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$roundingDelta",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[","]",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setupOrder",107],"(",["T_VARIABLE","$orderData",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_COMMENT","\/\/Set up weeeData mock\n",109],["T_WHITESPACE","        ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","weeeData",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","expects",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","once",110],"(",")",")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","method",111],"(",["T_CONSTANT_ENCAPSED_STRING","'includeInSubtotal'",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","will",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","returnValue",112],"(",["T_VARIABLE","$invoiceData",112],"[",["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",112],"]",")",")",";",["T_WHITESPACE","\n\n        ",112],["T_COMMENT","\/\/Set up invoice mock\n",114],["T_WHITESPACE","        ",115],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Invoice\\Item[] $invoiceItems *\/",115],["T_WHITESPACE","\n        ",115],["T_VARIABLE","$invoiceItems",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"[","]",";",["T_WHITESPACE","\n        ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$invoiceData",117],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",117],"]",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$itemKey",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$invoiceItemData",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$invoiceItems",118],"[",["T_VARIABLE","$itemKey",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getInvoiceItem",118],"(",["T_VARIABLE","$invoiceItemData",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","invoice",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","once",120],"(",")",")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","method",121],"(",["T_CONSTANT_ENCAPSED_STRING","'getAllItems'",121],")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","will",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","returnValue",122],"(",["T_VARIABLE","$invoiceItems",122],")",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","invoice",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","expects",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","once",123],"(",")",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","method",124],"(",["T_CONSTANT_ENCAPSED_STRING","'isLast'",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","will",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","returnValue",125],"(",["T_VARIABLE","$invoiceData",125],"[",["T_CONSTANT_ENCAPSED_STRING","'is_last'",125],"]",")",")",";",["T_WHITESPACE","\n        ",125],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$invoiceData",126],"[",["T_CONSTANT_ENCAPSED_STRING","'data_fields'",126],"]",["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$key",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$value",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","invoice",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setData",127],"(",["T_VARIABLE","$key",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$value",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","invoice",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","any",129],"(",")",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'roundPrice'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","will",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","returnCallback",131],"(",["T_WHITESPACE","\n                ",131],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$price",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$type",132],")",["T_WHITESPACE"," ",132],["T_USE","use",132],["T_WHITESPACE"," ",132],"(","&",["T_VARIABLE","$roundingDelta",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                    ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_ISSET","isset",133],"(",["T_VARIABLE","$roundingDelta",133],"[",["T_VARIABLE","$type",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                        ",133],["T_VARIABLE","$roundingDelta",134],"[",["T_VARIABLE","$type",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],";",["T_WHITESPACE","\n                    ",134],"}",["T_WHITESPACE","\n                    ",135],["T_VARIABLE","$roundedPrice",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","round",136],"(",["T_VARIABLE","$price",136],["T_WHITESPACE"," ",136],"+",["T_WHITESPACE"," ",136],["T_VARIABLE","$roundingDelta",136],"[",["T_VARIABLE","$type",136],"]",",",["T_WHITESPACE"," ",136],["T_LNUMBER","2",136],")",";",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$roundingDelta",137],"[",["T_VARIABLE","$type",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$price",137],["T_WHITESPACE"," ",137],"-",["T_WHITESPACE"," ",137],["T_VARIABLE","$roundedPrice",137],";",["T_WHITESPACE","\n\n                    ",137],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$roundedPrice",139],";",["T_WHITESPACE","\n                ",139],"}",["T_WHITESPACE","\n            ",140],")",")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","model",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","collect",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","invoice",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_COMMENT","\/\/verify invoice data\n",145],["T_WHITESPACE","        ",146],["T_FOREACH","foreach",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$expectedResults",146],"[",["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",146],"]",["T_WHITESPACE"," ",146],["T_AS","as",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$key",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$value",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEquals",147],"(",["T_VARIABLE","$value",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","invoice",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getData",147],"(",["T_VARIABLE","$key",147],")",",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Invoice data field '",147],".",["T_VARIABLE","$key",147],".",["T_CONSTANT_ENCAPSED_STRING","' is incorrect'",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_COMMENT","\/\/verify invoice item data\n",149],["T_WHITESPACE","        ",150],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$expectedResults",150],"[",["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",150],"]",["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$itemKey",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$itemData",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$invoiceItem",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$invoiceItems",151],"[",["T_VARIABLE","$itemKey",151],"]",";",["T_WHITESPACE","\n            ",151],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$itemData",152],["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$key",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$key",153],["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$taxRatio",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","unserialize",154],"(",["T_VARIABLE","$invoiceItem",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getData",154],"(",["T_VARIABLE","$key",154],")",")",";",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$expectedTaxRatio",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","unserialize",155],"(",["T_VARIABLE","$itemData",155],"[",["T_VARIABLE","$key",155],"]",")",";",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEquals",156],"(",["T_VARIABLE","$expectedTaxRatio",156],"[",["T_CONSTANT_ENCAPSED_STRING","'weee'",156],"]",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$taxRatio",156],"[",["T_CONSTANT_ENCAPSED_STRING","'weee'",156],"]",",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","\"Tax ratio is incorrect\"",156],")",";",["T_WHITESPACE","\n                ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_WHITESPACE","\n                        ",158],["T_VARIABLE","$value",159],",",["T_WHITESPACE","\n                        ",159],["T_VARIABLE","$invoiceItem",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getData",160],"(",["T_VARIABLE","$key",160],")",",",["T_WHITESPACE","\n                        ",160],["T_CONSTANT_ENCAPSED_STRING","'Invoice item field '",161],".",["T_VARIABLE","$key",161],".",["T_CONSTANT_ENCAPSED_STRING","' is incorrect'",161],["T_WHITESPACE","\n                    ",161],")",";",["T_WHITESPACE","\n                ",162],"}",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @return array\n     *\/",168],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","collectDataProvider",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$result",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[","]",";",["T_WHITESPACE","\n\n        ",174],["T_COMMENT","\/\/ 3 item_1, $100 with $weee, 8.25 tax rate, full invoice\n",176],["T_WHITESPACE","        ",177],["T_VARIABLE","$result",177],"[",["T_CONSTANT_ENCAPSED_STRING","'complete_invoice'",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'order_data'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],"[",["T_WHITESPACE","\n                ",178],["T_CONSTANT_ENCAPSED_STRING","'previous_invoices'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],"[",["T_WHITESPACE","\n                ",179],"]",",",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],"[",["T_WHITESPACE","\n                    ",181],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_DNUMBER","1.24",182],",",["T_WHITESPACE","\n                    ",182],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_DNUMBER","1.24",183],",",["T_WHITESPACE","\n                    ",183],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_tax_compensation_amount'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_LNUMBER","0",184],",",["T_WHITESPACE","\n                    ",184],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_tax_compensation_amount'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_LNUMBER","0",185],",",["T_WHITESPACE","\n                    ",185],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_DNUMBER","16.09",186],",",["T_WHITESPACE","\n                    ",186],["T_CONSTANT_ENCAPSED_STRING","'tax_invoiced'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_LNUMBER","0",187],",",["T_WHITESPACE","\n                    ",187],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_DNUMBER","16.09",188],",",["T_WHITESPACE","\n                    ",188],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_LNUMBER","0",189],",",["T_WHITESPACE","\n                    ",189],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'300'",190],",",["T_WHITESPACE","\n                    ",190],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'300'",191],",",["T_WHITESPACE","\n                ",191],"]",",",["T_WHITESPACE","\n            ",192],"]",",",["T_WHITESPACE","\n            ",193],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],"[",["T_WHITESPACE","\n                ",194],["T_CONSTANT_ENCAPSED_STRING","'items'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],"[",["T_WHITESPACE","\n                    ",195],["T_CONSTANT_ENCAPSED_STRING","'item_1'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],"[",["T_WHITESPACE","\n                        ",196],["T_CONSTANT_ENCAPSED_STRING","'order_item'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],"[",["T_WHITESPACE","\n                            ",197],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_LNUMBER","3",198],",",["T_WHITESPACE","\n                            ",198],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_LNUMBER","30",199],",",["T_WHITESPACE","\n                            ",199],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_LNUMBER","30",200],",",["T_WHITESPACE","\n                            ",200],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_DNUMBER","32.47",201],",",["T_WHITESPACE","\n                            ",201],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_DNUMBER","32.47",202],",",["T_WHITESPACE","\n                            ",202],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_LNUMBER","0",203],",",["T_WHITESPACE","\n                            ",203],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_LNUMBER","0",204],",",["T_WHITESPACE","\n                            ",204],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],",",["T_WHITESPACE","\n                            ",205],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","0",206],",",["T_WHITESPACE","\n                            ",206],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],"[",["T_WHITESPACE","\n                                ",207],"[",["T_WHITESPACE","\n                                    ",208],["T_CONSTANT_ENCAPSED_STRING","'title'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",209],",",["T_WHITESPACE","\n                                    ",209],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_LNUMBER","30",210],",",["T_WHITESPACE","\n                                    ",210],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_LNUMBER","30",211],",",["T_WHITESPACE","\n                                    ",211],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_DNUMBER","32.47",212],",",["T_WHITESPACE","\n                                    ",212],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_DNUMBER","32.47",213],",",["T_WHITESPACE","\n                                ",213],"]",",",["T_WHITESPACE","\n                            ",214],"]",",",["T_WHITESPACE","\n                            ",215],["T_CONSTANT_ENCAPSED_STRING","'applied_weee_updated'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],"[",["T_WHITESPACE","\n                                ",216],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_invoiced'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_LNUMBER","30",217],",",["T_WHITESPACE","\n                                ",217],["T_CONSTANT_ENCAPSED_STRING","'row_amount_invoiced'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_LNUMBER","30",218],",",["T_WHITESPACE","\n                                ",218],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_DNUMBER","2.47",219],",",["T_WHITESPACE","\n                                ",219],["T_CONSTANT_ENCAPSED_STRING","'tax_amount_invoiced'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_DNUMBER","2.47",220],",",["T_WHITESPACE","\n                            ",220],"]",",",["T_WHITESPACE","\n                            ",221],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_LNUMBER","0",222],",",["T_WHITESPACE","\n                        ",222],"]",",",["T_WHITESPACE","\n                        ",223],["T_CONSTANT_ENCAPSED_STRING","'is_last'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_STRING","true",224],",",["T_WHITESPACE","\n                        ",224],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],"[",["T_WHITESPACE","\n                            ",225],["T_CONSTANT_ENCAPSED_STRING","'qty'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_LNUMBER","3",226],",",["T_WHITESPACE","\n                            ",226],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n                                ",227],"[",["T_WHITESPACE","\n                                ",228],"]",",",["T_WHITESPACE","\n                            ",229],"]",",",["T_WHITESPACE","\n                        ",230],"]",",",["T_WHITESPACE","\n                    ",231],"]",",",["T_WHITESPACE","\n                ",232],"]",",",["T_WHITESPACE","\n                ",233],["T_CONSTANT_ENCAPSED_STRING","'is_last'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","true",234],",",["T_WHITESPACE","\n                ",234],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_STRING","false",235],",",["T_WHITESPACE","\n                ",235],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],"[",["T_WHITESPACE","\n                    ",236],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_DNUMBER","181.09",237],",",["T_WHITESPACE","\n                    ",237],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_DNUMBER","181.09",238],",",["T_WHITESPACE","\n                    ",238],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_LNUMBER","300",239],",",["T_WHITESPACE","\n                    ",239],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_LNUMBER","300",240],",",["T_WHITESPACE","\n                    ",240],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_DNUMBER","314.85",241],",",["T_WHITESPACE","\n                    ",241],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_DNUMBER","314.85",242],",",["T_WHITESPACE","\n                    ",242],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_DNUMBER","16.09",243],",",["T_WHITESPACE","\n                    ",243],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_DNUMBER","16.09",244],",",["T_WHITESPACE","\n                ",244],"]",",",["T_WHITESPACE","\n            ",245],"]",",",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],"[",["T_WHITESPACE","\n                ",247],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],"[",["T_WHITESPACE","\n                    ",248],["T_CONSTANT_ENCAPSED_STRING","'item_1'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],"[",["T_WHITESPACE","\n                        ",249],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],"[",["T_WHITESPACE","\n                            ",250],"[",["T_WHITESPACE","\n                                ",251],["T_CONSTANT_ENCAPSED_STRING","'title'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",252],",",["T_WHITESPACE","\n                                ",252],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_LNUMBER","30",253],",",["T_WHITESPACE","\n                                ",253],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_LNUMBER","30",254],",",["T_WHITESPACE","\n                                ",254],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_DNUMBER","32.47",255],",",["T_WHITESPACE","\n                                ",255],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_DNUMBER","32.47",256],",",["T_WHITESPACE","\n                            ",256],"]",",",["T_WHITESPACE","\n                        ",257],"]",",",["T_WHITESPACE","\n                        ",258],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_LNUMBER","30",259],",",["T_WHITESPACE","\n                        ",259],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_LNUMBER","30",260],",",["T_WHITESPACE","\n                        ",260],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_STRING","serialize",261],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_DNUMBER","1.0",261],"]",")",",",["T_WHITESPACE","\n                    ",261],"]",",",["T_WHITESPACE","\n                ",262],"]",",",["T_WHITESPACE","\n                ",263],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],"[",["T_WHITESPACE","\n                    ",264],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_DNUMBER","211.09",265],",",["T_WHITESPACE","\n                    ",265],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_DNUMBER","211.09",266],",",["T_WHITESPACE","\n                    ",266],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_DNUMBER","16.09",267],",",["T_WHITESPACE","\n                    ",267],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_DNUMBER","16.09",268],",",["T_WHITESPACE","\n                    ",268],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_LNUMBER","300",269],",",["T_WHITESPACE","\n                    ",269],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_LNUMBER","300",270],",",["T_WHITESPACE","\n                    ",270],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_DNUMBER","344.85",271],",",["T_WHITESPACE","\n                    ",271],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_DNUMBER","344.85",272],",",["T_WHITESPACE","\n                ",272],"]",",",["T_WHITESPACE","\n            ",273],"]",",",["T_WHITESPACE","\n        ",274],"]",";",["T_WHITESPACE","\n\n        ",275],["T_COMMENT","\/\/ 3 item_1, $100 with $weee, 8.25 tax rate, partial invoice, invoice qty=2\n",277],["T_WHITESPACE","        ",278],["T_VARIABLE","$result",278],"[",["T_CONSTANT_ENCAPSED_STRING","'partial_invoice'",278],"]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],"[",["T_WHITESPACE","\n            ",278],["T_CONSTANT_ENCAPSED_STRING","'order_data'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],"[",["T_WHITESPACE","\n                ",279],["T_CONSTANT_ENCAPSED_STRING","'previous_invoices'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],"[",["T_WHITESPACE","\n                ",280],"]",",",["T_WHITESPACE","\n                ",281],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],"[",["T_WHITESPACE","\n                    ",282],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_DNUMBER","1.24",283],",",["T_WHITESPACE","\n                    ",283],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_DNUMBER","1.24",284],",",["T_WHITESPACE","\n                    ",284],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_tax_compensation_amount'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_LNUMBER","0",285],",",["T_WHITESPACE","\n                    ",285],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_tax_compensation_amount'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],",",["T_WHITESPACE","\n                    ",286],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_DNUMBER","16.09",287],",",["T_WHITESPACE","\n                    ",287],["T_CONSTANT_ENCAPSED_STRING","'tax_invoiced'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_LNUMBER","0",288],",",["T_WHITESPACE","\n                    ",288],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_DNUMBER","16.09",289],",",["T_WHITESPACE","\n                    ",289],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_LNUMBER","0",290],",",["T_WHITESPACE","\n                    ",290],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'300'",291],",",["T_WHITESPACE","\n                    ",291],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'300'",292],",",["T_WHITESPACE","\n                ",292],"]",",",["T_WHITESPACE","\n            ",293],"]",",",["T_WHITESPACE","\n            ",294],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],"[",["T_WHITESPACE","\n                ",295],["T_CONSTANT_ENCAPSED_STRING","'items'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],"[",["T_WHITESPACE","\n                    ",296],["T_CONSTANT_ENCAPSED_STRING","'item_1'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],"[",["T_WHITESPACE","\n                        ",297],["T_CONSTANT_ENCAPSED_STRING","'order_item'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],"[",["T_WHITESPACE","\n                            ",298],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_LNUMBER","3",299],",",["T_WHITESPACE","\n                            ",299],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_LNUMBER","30",300],",",["T_WHITESPACE","\n                            ",300],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_LNUMBER","30",301],",",["T_WHITESPACE","\n                            ",301],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_DNUMBER","32.47",302],",",["T_WHITESPACE","\n                            ",302],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_DNUMBER","32.47",303],",",["T_WHITESPACE","\n                            ",303],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_LNUMBER","0",304],",",["T_WHITESPACE","\n                            ",304],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_LNUMBER","0",305],",",["T_WHITESPACE","\n                            ",305],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_LNUMBER","0",306],",",["T_WHITESPACE","\n                            ",306],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_LNUMBER","0",307],",",["T_WHITESPACE","\n                            ",307],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],"[",["T_WHITESPACE","\n                                ",308],"[",["T_WHITESPACE","\n                                    ",309],["T_CONSTANT_ENCAPSED_STRING","'title'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",310],",",["T_WHITESPACE","\n                                    ",310],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_LNUMBER","30",311],",",["T_WHITESPACE","\n                                    ",311],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_LNUMBER","30",312],",",["T_WHITESPACE","\n                                    ",312],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_DNUMBER","32.47",313],",",["T_WHITESPACE","\n                                    ",313],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_DNUMBER","32.47",314],",",["T_WHITESPACE","\n                                ",314],"]",",",["T_WHITESPACE","\n                            ",315],"]",",",["T_WHITESPACE","\n                            ",316],["T_CONSTANT_ENCAPSED_STRING","'applied_weee_updated'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],"[",["T_WHITESPACE","\n                                ",317],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_invoiced'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_LNUMBER","30",318],",",["T_WHITESPACE","\n                                ",318],["T_CONSTANT_ENCAPSED_STRING","'row_amount_invoiced'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_LNUMBER","30",319],",",["T_WHITESPACE","\n                                ",319],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_DNUMBER","2.47",320],",",["T_WHITESPACE","\n                                ",320],["T_CONSTANT_ENCAPSED_STRING","'tax_amount_invoiced'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_DNUMBER","2.47",321],",",["T_WHITESPACE","\n                            ",321],"]",",",["T_WHITESPACE","\n                            ",322],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_LNUMBER","0",323],",",["T_WHITESPACE","\n                        ",323],"]",",",["T_WHITESPACE","\n                        ",324],["T_CONSTANT_ENCAPSED_STRING","'is_last'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_STRING","false",325],",",["T_WHITESPACE","\n                        ",325],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],"[",["T_WHITESPACE","\n                            ",326],["T_CONSTANT_ENCAPSED_STRING","'qty'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_LNUMBER","2",327],",",["T_WHITESPACE","\n                            ",327],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],"[",["T_WHITESPACE","\n                                ",328],"[",["T_WHITESPACE","\n                                ",329],"]",",",["T_WHITESPACE","\n                            ",330],"]",",",["T_WHITESPACE","\n                        ",331],"]",",",["T_WHITESPACE","\n                    ",332],"]",",",["T_WHITESPACE","\n                ",333],"]",",",["T_WHITESPACE","\n                ",334],["T_CONSTANT_ENCAPSED_STRING","'is_last'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_STRING","false",335],",",["T_WHITESPACE","\n                ",335],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_STRING","false",336],",",["T_WHITESPACE","\n                ",336],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],"[",["T_WHITESPACE","\n                    ",337],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_DNUMBER","124.49",338],",",["T_WHITESPACE","\n                    ",338],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_DNUMBER","124.49",339],",",["T_WHITESPACE","\n                    ",339],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_LNUMBER","200",340],",",["T_WHITESPACE","\n                    ",340],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_LNUMBER","200",341],",",["T_WHITESPACE","\n                    ",341],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_DNUMBER","216.5",342],",",["T_WHITESPACE","\n                    ",342],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_DNUMBER","216.5",343],",",["T_WHITESPACE","\n                    ",343],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_DNUMBER","9.49",344],",",["T_WHITESPACE","\n                    ",344],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_DNUMBER","9.49",345],",",["T_WHITESPACE","\n                ",345],"]",",",["T_WHITESPACE","\n            ",346],"]",",",["T_WHITESPACE","\n            ",347],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],"[",["T_WHITESPACE","\n                ",348],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],"[",["T_WHITESPACE","\n                    ",349],["T_CONSTANT_ENCAPSED_STRING","'item_1'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],"[",["T_WHITESPACE","\n                        ",350],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],"[",["T_WHITESPACE","\n                            ",351],"[",["T_WHITESPACE","\n                                ",352],["T_CONSTANT_ENCAPSED_STRING","'title'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",353],",",["T_WHITESPACE","\n                                ",353],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_LNUMBER","20",354],",",["T_WHITESPACE","\n                                ",354],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_LNUMBER","20",355],",",["T_WHITESPACE","\n                                ",355],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_DNUMBER","21.65",356],",",["T_WHITESPACE","\n                                ",356],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_DNUMBER","21.65",357],",",["T_WHITESPACE","\n                            ",357],"]",",",["T_WHITESPACE","\n                        ",358],"]",",",["T_WHITESPACE","\n                        ",359],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_STRING","serialize",360],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_DNUMBER","1.65",360],["T_WHITESPACE"," ",360],"\/",["T_WHITESPACE"," ",360],["T_DNUMBER","2.47",360],"]",")",",",["T_WHITESPACE","\n                        ",360],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_LNUMBER","20",361],",",["T_WHITESPACE","\n                        ",361],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_LNUMBER","20",362],",",["T_WHITESPACE","\n                    ",362],"]",",",["T_WHITESPACE","\n                ",363],"]",",",["T_WHITESPACE","\n                ",364],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],"[",["T_WHITESPACE","\n                    ",365],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_DNUMBER","146.14",366],",",["T_WHITESPACE","\n                    ",366],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_DNUMBER","146.14",367],",",["T_WHITESPACE","\n                    ",367],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_DNUMBER","11.14",368],",",["T_WHITESPACE","\n                    ",368],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_DNUMBER","11.14",369],",",["T_WHITESPACE","\n                    ",369],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_LNUMBER","200",370],",",["T_WHITESPACE","\n                    ",370],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_LNUMBER","200",371],",",["T_WHITESPACE","\n                    ",371],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_DNUMBER","238.15",372],",",["T_WHITESPACE","\n                    ",372],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_DNUMBER","238.15",373],",",["T_WHITESPACE","\n                ",373],"]",",",["T_WHITESPACE","\n            ",374],"]",",",["T_WHITESPACE","\n        ",375],"]",";",["T_WHITESPACE","\n\n        ",376],["T_COMMENT","\/\/ 3 item_1, $100 with $weee, 8.25 tax rate, partial invoice: one item invoiced\n",378],["T_WHITESPACE","        ",379],["T_COMMENT","\/\/ invoice another item\n",379],["T_WHITESPACE","        ",380],["T_VARIABLE","$result",380],"[",["T_CONSTANT_ENCAPSED_STRING","'second_partial_invoice'",380],"]",["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],"[",["T_WHITESPACE","\n            ",380],["T_CONSTANT_ENCAPSED_STRING","'order_data'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],"[",["T_WHITESPACE","\n                ",381],["T_CONSTANT_ENCAPSED_STRING","'previous_invoices'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],"[",["T_WHITESPACE","\n                ",382],"]",",",["T_WHITESPACE","\n                ",383],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],"[",["T_WHITESPACE","\n                    ",384],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_DNUMBER","1.24",385],",",["T_WHITESPACE","\n                    ",385],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_DNUMBER","1.24",386],",",["T_WHITESPACE","\n                    ",386],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_tax_compensation_amount'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_LNUMBER","0",387],",",["T_WHITESPACE","\n                    ",387],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_tax_compensation_amount'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_LNUMBER","0",388],",",["T_WHITESPACE","\n                    ",388],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_DNUMBER","16.09",389],",",["T_WHITESPACE","\n                    ",389],["T_CONSTANT_ENCAPSED_STRING","'tax_invoiced'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_LNUMBER","0",390],",",["T_WHITESPACE","\n                    ",390],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_DNUMBER","16.09",391],",",["T_WHITESPACE","\n                    ",391],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_LNUMBER","0",392],",",["T_WHITESPACE","\n                    ",392],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'300'",393],",",["T_WHITESPACE","\n                    ",393],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'300'",394],",",["T_WHITESPACE","\n                ",394],"]",",",["T_WHITESPACE","\n            ",395],"]",",",["T_WHITESPACE","\n            ",396],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],"[",["T_WHITESPACE","\n                ",397],["T_CONSTANT_ENCAPSED_STRING","'items'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],"[",["T_WHITESPACE","\n                    ",398],["T_CONSTANT_ENCAPSED_STRING","'item_1'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],"[",["T_WHITESPACE","\n                        ",399],["T_CONSTANT_ENCAPSED_STRING","'order_item'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],"[",["T_WHITESPACE","\n                            ",400],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_LNUMBER","3",401],",",["T_WHITESPACE","\n                            ",401],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_LNUMBER","30",402],",",["T_WHITESPACE","\n                            ",402],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_LNUMBER","30",403],",",["T_WHITESPACE","\n                            ",403],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_DNUMBER","32.47",404],",",["T_WHITESPACE","\n                            ",404],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_DNUMBER","32.47",405],",",["T_WHITESPACE","\n                            ",405],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_LNUMBER","0",406],",",["T_WHITESPACE","\n                            ",406],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_LNUMBER","0",407],",",["T_WHITESPACE","\n                            ",407],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_LNUMBER","0",408],",",["T_WHITESPACE","\n                            ",408],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_LNUMBER","0",409],",",["T_WHITESPACE","\n                            ",409],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],"[",["T_WHITESPACE","\n                                ",410],"[",["T_WHITESPACE","\n                                    ",411],["T_CONSTANT_ENCAPSED_STRING","'title'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",412],",",["T_WHITESPACE","\n                                    ",412],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_LNUMBER","30",413],",",["T_WHITESPACE","\n                                    ",413],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_LNUMBER","30",414],",",["T_WHITESPACE","\n                                    ",414],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_DNUMBER","32.47",415],",",["T_WHITESPACE","\n                                    ",415],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_DNUMBER","32.47",416],",",["T_WHITESPACE","\n                                ",416],"]",",",["T_WHITESPACE","\n                            ",417],"]",",",["T_WHITESPACE","\n                            ",418],["T_CONSTANT_ENCAPSED_STRING","'applied_weee_updated'",419],["T_WHITESPACE"," ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],"[",["T_WHITESPACE","\n                                ",419],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_invoiced'",420],["T_WHITESPACE"," ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_LNUMBER","30",420],",",["T_WHITESPACE","\n                                ",420],["T_CONSTANT_ENCAPSED_STRING","'row_amount_invoiced'",421],["T_WHITESPACE"," ",421],["T_DOUBLE_ARROW","=>",421],["T_WHITESPACE"," ",421],["T_LNUMBER","30",421],",",["T_WHITESPACE","\n                                ",421],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_DNUMBER","2.47",422],",",["T_WHITESPACE","\n                                ",422],["T_CONSTANT_ENCAPSED_STRING","'tax_amount_invoiced'",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],["T_DNUMBER","2.47",423],",",["T_WHITESPACE","\n                            ",423],"]",",",["T_WHITESPACE","\n                            ",424],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_LNUMBER","1",425],",",["T_WHITESPACE","\n                        ",425],"]",",",["T_WHITESPACE","\n                        ",426],["T_CONSTANT_ENCAPSED_STRING","'is_last'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_STRING","false",427],",",["T_WHITESPACE","\n                        ",427],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],"[",["T_WHITESPACE","\n                            ",428],["T_CONSTANT_ENCAPSED_STRING","'qty'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_LNUMBER","1",429],",",["T_WHITESPACE","\n                            ",429],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],"[",["T_WHITESPACE","\n                                ",430],"[",["T_WHITESPACE","\n                                ",431],"]",",",["T_WHITESPACE","\n                            ",432],"]",",",["T_WHITESPACE","\n                        ",433],"]",",",["T_WHITESPACE","\n                    ",434],"]",",",["T_WHITESPACE","\n                ",435],"]",",",["T_WHITESPACE","\n                ",436],["T_CONSTANT_ENCAPSED_STRING","'is_last'",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_STRING","false",437],",",["T_WHITESPACE","\n                ",437],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",438],["T_WHITESPACE"," ",438],["T_DOUBLE_ARROW","=>",438],["T_WHITESPACE"," ",438],["T_STRING","false",438],",",["T_WHITESPACE","\n                ",438],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],"[",["T_WHITESPACE","\n                    ",439],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_DNUMBER","54.13",440],",",["T_WHITESPACE","\n                    ",440],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_DNUMBER","54.13",441],",",["T_WHITESPACE","\n                    ",441],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",442],["T_WHITESPACE"," ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_DNUMBER","4.13",442],",",["T_WHITESPACE","\n                    ",442],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_DNUMBER","4.13",443],",",["T_WHITESPACE","\n                    ",443],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_LNUMBER","100",444],",",["T_WHITESPACE","\n                    ",444],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_LNUMBER","100",445],",",["T_WHITESPACE","\n                    ",445],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_DNUMBER","108.25",446],",",["T_WHITESPACE","\n                    ",446],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_DNUMBER","108.25",447],",",["T_WHITESPACE","\n                ",447],"]",",",["T_WHITESPACE","\n            ",448],"]",",",["T_WHITESPACE","\n            ",449],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],"[",["T_WHITESPACE","\n                ",450],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],"[",["T_WHITESPACE","\n                    ",451],["T_CONSTANT_ENCAPSED_STRING","'item_1'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],"[",["T_WHITESPACE","\n                        ",452],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],"[",["T_WHITESPACE","\n                            ",453],"[",["T_WHITESPACE","\n                                ",454],["T_CONSTANT_ENCAPSED_STRING","'title'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",455],",",["T_WHITESPACE","\n                                ",455],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_LNUMBER","10",456],",",["T_WHITESPACE","\n                                ",456],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_LNUMBER","10",457],",",["T_WHITESPACE","\n                                ",457],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_DNUMBER","10.82",458],",",["T_WHITESPACE","\n                                ",458],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_DNUMBER","10.82",459],",",["T_WHITESPACE","\n                            ",459],"]",",",["T_WHITESPACE","\n                        ",460],"]",",",["T_WHITESPACE","\n                        ",461],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_STRING","serialize",462],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_DNUMBER","0.82",462],["T_WHITESPACE"," ",462],"\/",["T_WHITESPACE"," ",462],["T_DNUMBER","2.47",462],"]",")",",",["T_WHITESPACE","\n                        ",462],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_LNUMBER","10",463],",",["T_WHITESPACE","\n                        ",463],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_LNUMBER","10",464],",",["T_WHITESPACE","\n                    ",464],"]",",",["T_WHITESPACE","\n                ",465],"]",",",["T_WHITESPACE","\n                ",466],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],"[",["T_WHITESPACE","\n                    ",467],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",468],["T_WHITESPACE"," ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_DNUMBER","64.95",468],",",["T_WHITESPACE","\n                    ",468],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",469],["T_WHITESPACE"," ",469],["T_DOUBLE_ARROW","=>",469],["T_WHITESPACE"," ",469],["T_DNUMBER","64.95",469],",",["T_WHITESPACE","\n                    ",469],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_DNUMBER","4.95",470],",",["T_WHITESPACE","\n                    ",470],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_DNUMBER","4.95",471],",",["T_WHITESPACE","\n                    ",471],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_LNUMBER","100",472],",",["T_WHITESPACE","\n                    ",472],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_LNUMBER","100",473],",",["T_WHITESPACE","\n                    ",473],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_DNUMBER","119.07",474],",",["T_WHITESPACE","\n                    ",474],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_DNUMBER","119.07",475],",",["T_WHITESPACE","\n                ",475],"]",",",["T_WHITESPACE","\n            ",476],"]",",",["T_WHITESPACE","\n        ",477],"]",";",["T_WHITESPACE","\n\n        ",478],["T_COMMENT","\/\/ 3 item_1, $100 with $weee, 8.25 tax rate, partial invoice: two item invoiced\n",480],["T_WHITESPACE","        ",481],["T_COMMENT","\/\/ invoice another item\n",481],["T_WHITESPACE","        ",482],["T_VARIABLE","$result",482],"[",["T_CONSTANT_ENCAPSED_STRING","'last_partial_invoice'",482],"]",["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],"[",["T_WHITESPACE","\n            ",482],["T_CONSTANT_ENCAPSED_STRING","'order_data'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],"[",["T_WHITESPACE","\n                ",483],["T_CONSTANT_ENCAPSED_STRING","'previous_invoices'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],"[",["T_WHITESPACE","\n                ",484],"]",",",["T_WHITESPACE","\n                ",485],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],"[",["T_WHITESPACE","\n                    ",486],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",487],["T_WHITESPACE"," ",487],["T_DOUBLE_ARROW","=>",487],["T_WHITESPACE"," ",487],["T_DNUMBER","1.24",487],",",["T_WHITESPACE","\n                    ",487],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",488],["T_WHITESPACE"," ",488],["T_DOUBLE_ARROW","=>",488],["T_WHITESPACE"," ",488],["T_DNUMBER","1.24",488],",",["T_WHITESPACE","\n                    ",488],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_tax_compensation_amount'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_LNUMBER","0",489],",",["T_WHITESPACE","\n                    ",489],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_tax_compensation_amount'",490],["T_WHITESPACE"," ",490],["T_DOUBLE_ARROW","=>",490],["T_WHITESPACE"," ",490],["T_LNUMBER","0",490],",",["T_WHITESPACE","\n                    ",490],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",491],["T_WHITESPACE"," ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_DNUMBER","16.09",491],",",["T_WHITESPACE","\n                    ",491],["T_CONSTANT_ENCAPSED_STRING","'tax_invoiced'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_DNUMBER","11.14",492],",",["T_WHITESPACE","\n                    ",492],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_DNUMBER","16.09",493],",",["T_WHITESPACE","\n                    ",493],["T_CONSTANT_ENCAPSED_STRING","'base_tax_invoiced'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_DNUMBER","11.14",494],",",["T_WHITESPACE","\n                    ",494],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'300'",495],",",["T_WHITESPACE","\n                    ",495],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'300'",496],",",["T_WHITESPACE","\n                ",496],"]",",",["T_WHITESPACE","\n            ",497],"]",",",["T_WHITESPACE","\n            ",498],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",499],["T_WHITESPACE"," ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],"[",["T_WHITESPACE","\n                ",499],["T_CONSTANT_ENCAPSED_STRING","'items'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],"[",["T_WHITESPACE","\n                    ",500],["T_CONSTANT_ENCAPSED_STRING","'item_1'",501],["T_WHITESPACE"," ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],"[",["T_WHITESPACE","\n                        ",501],["T_CONSTANT_ENCAPSED_STRING","'order_item'",502],["T_WHITESPACE"," ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],"[",["T_WHITESPACE","\n                            ",502],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",503],["T_WHITESPACE"," ",503],["T_DOUBLE_ARROW","=>",503],["T_WHITESPACE"," ",503],["T_LNUMBER","3",503],",",["T_WHITESPACE","\n                            ",503],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",504],["T_WHITESPACE"," ",504],["T_DOUBLE_ARROW","=>",504],["T_WHITESPACE"," ",504],["T_LNUMBER","30",504],",",["T_WHITESPACE","\n                            ",504],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",505],["T_WHITESPACE"," ",505],["T_DOUBLE_ARROW","=>",505],["T_WHITESPACE"," ",505],["T_LNUMBER","30",505],",",["T_WHITESPACE","\n                            ",505],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",506],["T_WHITESPACE"," ",506],["T_DOUBLE_ARROW","=>",506],["T_WHITESPACE"," ",506],["T_DNUMBER","32.47",506],",",["T_WHITESPACE","\n                            ",506],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_DNUMBER","32.47",507],",",["T_WHITESPACE","\n                            ",507],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",508],["T_WHITESPACE"," ",508],["T_DOUBLE_ARROW","=>",508],["T_WHITESPACE"," ",508],["T_LNUMBER","20",508],",",["T_WHITESPACE","\n                            ",508],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_LNUMBER","20",509],",",["T_WHITESPACE","\n                            ",509],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_DNUMBER","1.64",510],",",["T_WHITESPACE","\n                            ",510],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_DNUMBER","1.64",511],",",["T_WHITESPACE","\n                            ",511],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",512],["T_WHITESPACE"," ",512],["T_DOUBLE_ARROW","=>",512],["T_WHITESPACE"," ",512],"[",["T_WHITESPACE","\n                                ",512],"[",["T_WHITESPACE","\n                                    ",513],["T_CONSTANT_ENCAPSED_STRING","'title'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",514],",",["T_WHITESPACE","\n                                    ",514],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_LNUMBER","30",515],",",["T_WHITESPACE","\n                                    ",515],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_LNUMBER","30",516],",",["T_WHITESPACE","\n                                    ",516],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_DNUMBER","32.47",517],",",["T_WHITESPACE","\n                                    ",517],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_DNUMBER","32.47",518],",",["T_WHITESPACE","\n                                ",518],"]",",",["T_WHITESPACE","\n                            ",519],"]",",",["T_WHITESPACE","\n                            ",520],["T_CONSTANT_ENCAPSED_STRING","'applied_weee_updated'",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],"[",["T_WHITESPACE","\n                                ",521],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_invoiced'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_LNUMBER","30",522],",",["T_WHITESPACE","\n                                ",522],["T_CONSTANT_ENCAPSED_STRING","'row_amount_invoiced'",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_LNUMBER","30",523],",",["T_WHITESPACE","\n                                ",523],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_DNUMBER","2.47",524],",",["T_WHITESPACE","\n                                ",524],["T_CONSTANT_ENCAPSED_STRING","'tax_amount_invoiced'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_DNUMBER","2.47",525],",",["T_WHITESPACE","\n                            ",525],"]",",",["T_WHITESPACE","\n                            ",526],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_LNUMBER","2",527],",",["T_WHITESPACE","\n                        ",527],"]",",",["T_WHITESPACE","\n                        ",528],["T_CONSTANT_ENCAPSED_STRING","'is_last'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_STRING","true",529],",",["T_WHITESPACE","\n                        ",529],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],"[",["T_WHITESPACE","\n                            ",530],["T_CONSTANT_ENCAPSED_STRING","'qty'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_LNUMBER","1",531],",",["T_WHITESPACE","\n                            ",531],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",532],["T_WHITESPACE"," ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],"[",["T_WHITESPACE","\n                                ",532],"[",["T_WHITESPACE","\n                                ",533],"]",",",["T_WHITESPACE","\n                            ",534],"]",",",["T_WHITESPACE","\n                        ",535],"]",",",["T_WHITESPACE","\n                    ",536],"]",",",["T_WHITESPACE","\n                ",537],"]",",",["T_WHITESPACE","\n                ",538],["T_CONSTANT_ENCAPSED_STRING","'is_last'",539],["T_WHITESPACE"," ",539],["T_DOUBLE_ARROW","=>",539],["T_WHITESPACE"," ",539],["T_STRING","true",539],",",["T_WHITESPACE","\n                ",539],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",540],["T_WHITESPACE"," ",540],["T_DOUBLE_ARROW","=>",540],["T_WHITESPACE"," ",540],["T_STRING","false",540],",",["T_WHITESPACE","\n                ",540],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],"[",["T_WHITESPACE","\n                    ",541],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_DNUMBER","54.95",542],",",["T_WHITESPACE","\n                    ",542],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_DNUMBER","54.95",543],",",["T_WHITESPACE","\n                    ",543],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_DNUMBER","4.95",544],",",["T_WHITESPACE","\n                    ",544],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_DNUMBER","4.95",545],",",["T_WHITESPACE","\n                    ",545],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_LNUMBER","100",546],",",["T_WHITESPACE","\n                    ",546],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_LNUMBER","100",547],",",["T_WHITESPACE","\n                    ",547],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_DNUMBER","104.95",548],",",["T_WHITESPACE","\n                    ",548],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_DNUMBER","104.95",549],",",["T_WHITESPACE","\n                ",549],"]",",",["T_WHITESPACE","\n            ",550],"]",",",["T_WHITESPACE","\n            ",551],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],"[",["T_WHITESPACE","\n                ",552],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],"[",["T_WHITESPACE","\n                    ",553],["T_CONSTANT_ENCAPSED_STRING","'item_1'",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],"[",["T_WHITESPACE","\n                        ",554],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],"[",["T_WHITESPACE","\n                            ",555],"[",["T_WHITESPACE","\n                                ",556],["T_CONSTANT_ENCAPSED_STRING","'title'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",557],",",["T_WHITESPACE","\n                                ",557],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",558],["T_WHITESPACE"," ",558],["T_DOUBLE_ARROW","=>",558],["T_WHITESPACE"," ",558],["T_LNUMBER","10",558],",",["T_WHITESPACE","\n                                ",558],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",559],["T_WHITESPACE"," ",559],["T_DOUBLE_ARROW","=>",559],["T_WHITESPACE"," ",559],["T_LNUMBER","10",559],",",["T_WHITESPACE","\n                                ",559],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_DNUMBER","10.82",560],",",["T_WHITESPACE","\n                                ",560],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",561],["T_WHITESPACE"," ",561],["T_DOUBLE_ARROW","=>",561],["T_WHITESPACE"," ",561],["T_DNUMBER","10.82",561],",",["T_WHITESPACE","\n                            ",561],"]",",",["T_WHITESPACE","\n                        ",562],"]",",",["T_WHITESPACE","\n                        ",563],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_STRING","serialize",564],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_DNUMBER","0.83",564],["T_WHITESPACE"," ",564],"\/",["T_WHITESPACE"," ",564],["T_DNUMBER","2.47",564],"]",")",",",["T_WHITESPACE","\n                        ",564],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",565],["T_WHITESPACE"," ",565],["T_DOUBLE_ARROW","=>",565],["T_WHITESPACE"," ",565],["T_LNUMBER","10",565],",",["T_WHITESPACE","\n                        ",565],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amount'",566],["T_WHITESPACE"," ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_LNUMBER","10",566],",",["T_WHITESPACE","\n\n                    ",566],"]",",",["T_WHITESPACE","\n                ",568],"]",",",["T_WHITESPACE","\n                ",569],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],"[",["T_WHITESPACE","\n                    ",570],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_DNUMBER","64.95",571],",",["T_WHITESPACE","\n                    ",571],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",572],["T_WHITESPACE"," ",572],["T_DOUBLE_ARROW","=>",572],["T_WHITESPACE"," ",572],["T_DNUMBER","64.95",572],",",["T_WHITESPACE","\n                    ",572],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_DNUMBER","4.95",573],",",["T_WHITESPACE","\n                    ",573],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",574],["T_WHITESPACE"," ",574],["T_DOUBLE_ARROW","=>",574],["T_WHITESPACE"," ",574],["T_DNUMBER","4.95",574],",",["T_WHITESPACE","\n                    ",574],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",575],["T_WHITESPACE"," ",575],["T_DOUBLE_ARROW","=>",575],["T_WHITESPACE"," ",575],["T_LNUMBER","100",575],",",["T_WHITESPACE","\n                    ",575],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",576],["T_WHITESPACE"," ",576],["T_DOUBLE_ARROW","=>",576],["T_WHITESPACE"," ",576],["T_LNUMBER","100",576],",",["T_WHITESPACE","\n                    ",576],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",577],["T_WHITESPACE"," ",577],["T_DOUBLE_ARROW","=>",577],["T_WHITESPACE"," ",577],["T_DNUMBER","114.95",577],",",["T_WHITESPACE","\n                    ",577],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",578],["T_WHITESPACE"," ",578],["T_DOUBLE_ARROW","=>",578],["T_WHITESPACE"," ",578],["T_DNUMBER","114.95",578],",",["T_WHITESPACE","\n                ",578],"]",",",["T_WHITESPACE","\n            ",579],"]",",",["T_WHITESPACE","\n        ",580],"]",";",["T_WHITESPACE","\n\n        ",581],["T_COMMENT","\/\/ 3 item_1, $100 with $weee, 8.25 tax rate. Invoicing qty 0.\n",583],["T_WHITESPACE","        ",584],["T_VARIABLE","$result",584],"[",["T_CONSTANT_ENCAPSED_STRING","'zero_invoice'",584],"]",["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],"[",["T_WHITESPACE","\n            ",584],["T_CONSTANT_ENCAPSED_STRING","'order_data'",585],["T_WHITESPACE"," ",585],["T_DOUBLE_ARROW","=>",585],["T_WHITESPACE"," ",585],"[",["T_WHITESPACE","\n                ",585],["T_CONSTANT_ENCAPSED_STRING","'previous_invoices'",586],["T_WHITESPACE"," ",586],["T_DOUBLE_ARROW","=>",586],["T_WHITESPACE"," ",586],"[",["T_WHITESPACE","\n                ",586],"]",",",["T_WHITESPACE","\n                ",587],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",588],["T_WHITESPACE"," ",588],["T_DOUBLE_ARROW","=>",588],["T_WHITESPACE"," ",588],"[",["T_WHITESPACE","\n                    ",588],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",589],["T_WHITESPACE"," ",589],["T_DOUBLE_ARROW","=>",589],["T_WHITESPACE"," ",589],["T_DNUMBER","1.24",589],",",["T_WHITESPACE","\n                    ",589],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",590],["T_WHITESPACE"," ",590],["T_DOUBLE_ARROW","=>",590],["T_WHITESPACE"," ",590],["T_DNUMBER","1.24",590],",",["T_WHITESPACE","\n                    ",590],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_tax_compensation_amount'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_LNUMBER","0",591],",",["T_WHITESPACE","\n                    ",591],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_tax_compensation_amount'",592],["T_WHITESPACE"," ",592],["T_DOUBLE_ARROW","=>",592],["T_WHITESPACE"," ",592],["T_LNUMBER","0",592],",",["T_WHITESPACE","\n                    ",592],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",593],["T_WHITESPACE"," ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_DNUMBER","16.09",593],",",["T_WHITESPACE","\n                    ",593],["T_CONSTANT_ENCAPSED_STRING","'tax_invoiced'",594],["T_WHITESPACE"," ",594],["T_DOUBLE_ARROW","=>",594],["T_WHITESPACE"," ",594],["T_LNUMBER","0",594],",",["T_WHITESPACE","\n                    ",594],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",595],["T_WHITESPACE"," ",595],["T_DOUBLE_ARROW","=>",595],["T_WHITESPACE"," ",595],["T_DNUMBER","16.09",595],",",["T_WHITESPACE","\n                    ",595],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_LNUMBER","0",596],",",["T_WHITESPACE","\n                    ",596],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",597],["T_WHITESPACE"," ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","'300'",597],",",["T_WHITESPACE","\n                    ",597],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",598],["T_WHITESPACE"," ",598],["T_DOUBLE_ARROW","=>",598],["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","'300'",598],",",["T_WHITESPACE","\n                ",598],"]",",",["T_WHITESPACE","\n            ",599],"]",",",["T_WHITESPACE","\n            ",600],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",601],["T_WHITESPACE"," ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],"[",["T_WHITESPACE","\n                ",601],["T_CONSTANT_ENCAPSED_STRING","'items'",602],["T_WHITESPACE"," ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],"[",["T_WHITESPACE","\n                    ",602],["T_CONSTANT_ENCAPSED_STRING","'item_1'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],"[",["T_WHITESPACE","\n                        ",603],["T_CONSTANT_ENCAPSED_STRING","'order_item'",604],["T_WHITESPACE"," ",604],["T_DOUBLE_ARROW","=>",604],["T_WHITESPACE"," ",604],"[",["T_WHITESPACE","\n                            ",604],["T_CONSTANT_ENCAPSED_STRING","'qty_ordered'",605],["T_WHITESPACE"," ",605],["T_DOUBLE_ARROW","=>",605],["T_WHITESPACE"," ",605],["T_LNUMBER","3",605],",",["T_WHITESPACE","\n                            ",605],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_applied_row_amount'",606],["T_WHITESPACE"," ",606],["T_DOUBLE_ARROW","=>",606],["T_WHITESPACE"," ",606],["T_LNUMBER","30",606],",",["T_WHITESPACE","\n                            ",606],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_applied_row_amnt'",607],["T_WHITESPACE"," ",607],["T_DOUBLE_ARROW","=>",607],["T_WHITESPACE"," ",607],["T_LNUMBER","30",607],",",["T_WHITESPACE","\n                            ",607],["T_CONSTANT_ENCAPSED_STRING","'row_weee_tax_incl_tax'",608],["T_WHITESPACE"," ",608],["T_DOUBLE_ARROW","=>",608],["T_WHITESPACE"," ",608],["T_DNUMBER","32.47",608],",",["T_WHITESPACE","\n                            ",608],["T_CONSTANT_ENCAPSED_STRING","'base_row_weee_tax_incl_tax'",609],["T_WHITESPACE"," ",609],["T_DOUBLE_ARROW","=>",609],["T_WHITESPACE"," ",609],["T_DNUMBER","32.47",609],",",["T_WHITESPACE","\n                            ",609],["T_CONSTANT_ENCAPSED_STRING","'weee_amount_invoiced'",610],["T_WHITESPACE"," ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_LNUMBER","0",610],",",["T_WHITESPACE","\n                            ",610],["T_CONSTANT_ENCAPSED_STRING","'base_weee_amount_invoiced'",611],["T_WHITESPACE"," ",611],["T_DOUBLE_ARROW","=>",611],["T_WHITESPACE"," ",611],["T_LNUMBER","0",611],",",["T_WHITESPACE","\n                            ",611],["T_CONSTANT_ENCAPSED_STRING","'weee_tax_amount_invoiced'",612],["T_WHITESPACE"," ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_LNUMBER","0",612],",",["T_WHITESPACE","\n                            ",612],["T_CONSTANT_ENCAPSED_STRING","'base_weee_tax_amount_invoiced'",613],["T_WHITESPACE"," ",613],["T_DOUBLE_ARROW","=>",613],["T_WHITESPACE"," ",613],["T_LNUMBER","0",613],",",["T_WHITESPACE","\n                            ",613],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",614],["T_WHITESPACE"," ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],"[",["T_WHITESPACE","\n                                ",614],"[",["T_WHITESPACE","\n                                    ",615],["T_CONSTANT_ENCAPSED_STRING","'title'",616],["T_WHITESPACE"," ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",616],",",["T_WHITESPACE","\n                                    ",616],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_LNUMBER","30",617],",",["T_WHITESPACE","\n                                    ",617],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",618],["T_WHITESPACE"," ",618],["T_DOUBLE_ARROW","=>",618],["T_WHITESPACE"," ",618],["T_LNUMBER","30",618],",",["T_WHITESPACE","\n                                    ",618],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",619],["T_WHITESPACE"," ",619],["T_DOUBLE_ARROW","=>",619],["T_WHITESPACE"," ",619],["T_DNUMBER","32.47",619],",",["T_WHITESPACE","\n                                    ",619],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",620],["T_WHITESPACE"," ",620],["T_DOUBLE_ARROW","=>",620],["T_WHITESPACE"," ",620],["T_DNUMBER","32.47",620],",",["T_WHITESPACE","\n                                ",620],"]",",",["T_WHITESPACE","\n                            ",621],"]",",",["T_WHITESPACE","\n                            ",622],["T_CONSTANT_ENCAPSED_STRING","'applied_weee_updated'",623],["T_WHITESPACE"," ",623],["T_DOUBLE_ARROW","=>",623],["T_WHITESPACE"," ",623],"[",["T_WHITESPACE","\n                                ",623],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_invoiced'",624],["T_WHITESPACE"," ",624],["T_DOUBLE_ARROW","=>",624],["T_WHITESPACE"," ",624],["T_LNUMBER","30",624],",",["T_WHITESPACE","\n                                ",624],["T_CONSTANT_ENCAPSED_STRING","'row_amount_invoiced'",625],["T_WHITESPACE"," ",625],["T_DOUBLE_ARROW","=>",625],["T_WHITESPACE"," ",625],["T_LNUMBER","30",625],",",["T_WHITESPACE","\n                                ",625],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount_invoiced'",626],["T_WHITESPACE"," ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_DNUMBER","2.47",626],",",["T_WHITESPACE","\n                                ",626],["T_CONSTANT_ENCAPSED_STRING","'tax_amount_invoiced'",627],["T_WHITESPACE"," ",627],["T_DOUBLE_ARROW","=>",627],["T_WHITESPACE"," ",627],["T_DNUMBER","2.47",627],",",["T_WHITESPACE","\n                            ",627],"]",",",["T_WHITESPACE","\n                            ",628],["T_CONSTANT_ENCAPSED_STRING","'qty_invoiced'",629],["T_WHITESPACE"," ",629],["T_DOUBLE_ARROW","=>",629],["T_WHITESPACE"," ",629],["T_LNUMBER","0",629],",",["T_WHITESPACE","\n                        ",629],"]",",",["T_WHITESPACE","\n                        ",630],["T_CONSTANT_ENCAPSED_STRING","'is_last'",631],["T_WHITESPACE"," ",631],["T_DOUBLE_ARROW","=>",631],["T_WHITESPACE"," ",631],["T_STRING","true",631],",",["T_WHITESPACE","\n                        ",631],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",632],["T_WHITESPACE"," ",632],["T_DOUBLE_ARROW","=>",632],["T_WHITESPACE"," ",632],"[",["T_WHITESPACE","\n                            ",632],["T_CONSTANT_ENCAPSED_STRING","'qty'",633],["T_WHITESPACE"," ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],["T_LNUMBER","0",633],",",["T_WHITESPACE","\n                            ",633],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],"[",["T_WHITESPACE","\n                                ",634],"[",["T_WHITESPACE","\n                                ",635],"]",",",["T_WHITESPACE","\n                            ",636],"]",",",["T_WHITESPACE","\n                        ",637],"]",",",["T_WHITESPACE","\n                    ",638],"]",",",["T_WHITESPACE","\n                ",639],"]",",",["T_WHITESPACE","\n                ",640],["T_CONSTANT_ENCAPSED_STRING","'is_last'",641],["T_WHITESPACE"," ",641],["T_DOUBLE_ARROW","=>",641],["T_WHITESPACE"," ",641],["T_STRING","true",641],",",["T_WHITESPACE","\n                ",641],["T_CONSTANT_ENCAPSED_STRING","'include_in_subtotal'",642],["T_WHITESPACE"," ",642],["T_DOUBLE_ARROW","=>",642],["T_WHITESPACE"," ",642],["T_STRING","false",642],",",["T_WHITESPACE","\n                ",642],["T_CONSTANT_ENCAPSED_STRING","'data_fields'",643],["T_WHITESPACE"," ",643],["T_DOUBLE_ARROW","=>",643],["T_WHITESPACE"," ",643],"[",["T_WHITESPACE","\n                    ",643],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",644],["T_WHITESPACE"," ",644],["T_DOUBLE_ARROW","=>",644],["T_WHITESPACE"," ",644],["T_DNUMBER","181.09",644],",",["T_WHITESPACE","\n                    ",644],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",645],["T_WHITESPACE"," ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_DNUMBER","181.09",645],",",["T_WHITESPACE","\n                    ",645],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",646],["T_WHITESPACE"," ",646],["T_DOUBLE_ARROW","=>",646],["T_WHITESPACE"," ",646],["T_LNUMBER","300",646],",",["T_WHITESPACE","\n                    ",646],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_LNUMBER","300",647],",",["T_WHITESPACE","\n                    ",647],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",648],["T_WHITESPACE"," ",648],["T_DOUBLE_ARROW","=>",648],["T_WHITESPACE"," ",648],["T_DNUMBER","314.85",648],",",["T_WHITESPACE","\n                    ",648],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",649],["T_WHITESPACE"," ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_DNUMBER","314.85",649],",",["T_WHITESPACE","\n                    ",649],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_DNUMBER","16.09",650],",",["T_WHITESPACE","\n                    ",650],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",651],["T_WHITESPACE"," ",651],["T_DOUBLE_ARROW","=>",651],["T_WHITESPACE"," ",651],["T_DNUMBER","16.09",651],",",["T_WHITESPACE","\n                ",651],"]",",",["T_WHITESPACE","\n            ",652],"]",",",["T_WHITESPACE","\n            ",653],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",654],["T_WHITESPACE"," ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],"[",["T_WHITESPACE","\n                ",654],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",655],["T_WHITESPACE"," ",655],["T_DOUBLE_ARROW","=>",655],["T_WHITESPACE"," ",655],"[",["T_WHITESPACE","\n                    ",655],["T_CONSTANT_ENCAPSED_STRING","'item_1'",656],["T_WHITESPACE"," ",656],["T_DOUBLE_ARROW","=>",656],["T_WHITESPACE"," ",656],"[",["T_WHITESPACE","\n                        ",656],["T_CONSTANT_ENCAPSED_STRING","'applied_weee'",657],["T_WHITESPACE"," ",657],["T_DOUBLE_ARROW","=>",657],["T_WHITESPACE"," ",657],"[",["T_WHITESPACE","\n                            ",657],"[",["T_WHITESPACE","\n                                ",658],["T_CONSTANT_ENCAPSED_STRING","'title'",659],["T_WHITESPACE"," ",659],["T_DOUBLE_ARROW","=>",659],["T_WHITESPACE"," ",659],["T_CONSTANT_ENCAPSED_STRING","'recycling_fee'",659],",",["T_WHITESPACE","\n                                ",659],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount'",660],["T_WHITESPACE"," ",660],["T_DOUBLE_ARROW","=>",660],["T_WHITESPACE"," ",660],["T_LNUMBER","0",660],",",["T_WHITESPACE","\n                                ",660],["T_CONSTANT_ENCAPSED_STRING","'row_amount'",661],["T_WHITESPACE"," ",661],["T_DOUBLE_ARROW","=>",661],["T_WHITESPACE"," ",661],["T_LNUMBER","0",661],",",["T_WHITESPACE","\n                                ",661],["T_CONSTANT_ENCAPSED_STRING","'base_row_amount_incl_tax'",662],["T_WHITESPACE"," ",662],["T_DOUBLE_ARROW","=>",662],["T_WHITESPACE"," ",662],["T_LNUMBER","0",662],",",["T_WHITESPACE","\n                                ",662],["T_CONSTANT_ENCAPSED_STRING","'row_amount_incl_tax'",663],["T_WHITESPACE"," ",663],["T_DOUBLE_ARROW","=>",663],["T_WHITESPACE"," ",663],["T_LNUMBER","0",663],",",["T_WHITESPACE","\n                            ",663],"]",",",["T_WHITESPACE","\n                        ",664],"]",",",["T_WHITESPACE","\n                    ",665],"]",",",["T_WHITESPACE","\n                ",666],"]",",",["T_WHITESPACE","\n                ",667],["T_CONSTANT_ENCAPSED_STRING","'invoice_data'",668],["T_WHITESPACE"," ",668],["T_DOUBLE_ARROW","=>",668],["T_WHITESPACE"," ",668],"[",["T_WHITESPACE","\n                    ",668],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",669],["T_WHITESPACE"," ",669],["T_DOUBLE_ARROW","=>",669],["T_WHITESPACE"," ",669],["T_LNUMBER","300",669],",",["T_WHITESPACE","\n                    ",669],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",670],["T_WHITESPACE"," ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE"," ",670],["T_LNUMBER","300",670],",",["T_WHITESPACE","\n                ",670],"]",",",["T_WHITESPACE","\n            ",671],"]",",",["T_WHITESPACE","\n        ",672],"]",";",["T_WHITESPACE","\n\n        ",673],["T_RETURN","return",675],["T_WHITESPACE"," ",675],["T_VARIABLE","$result",675],";",["T_WHITESPACE","\n    ",675],"}",["T_WHITESPACE","\n\n    ",676],["T_DOC_COMMENT","\/**\n     * @param $invoiceItemData array\n     * @return \\Magento\\Sales\\Model\\Order\\Invoice\\Item|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",678],["T_WHITESPACE","\n    ",681],["T_PROTECTED","protected",682],["T_WHITESPACE"," ",682],["T_FUNCTION","function",682],["T_WHITESPACE"," ",682],["T_STRING","getInvoiceItem",682],"(",["T_VARIABLE","$invoiceItemData",682],")",["T_WHITESPACE","\n    ",682],"{",["T_WHITESPACE","\n        ",683],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Item|\\PHPUnit_Framework_MockObject_MockObject $orderItem *\/",684],["T_WHITESPACE","\n        ",684],["T_VARIABLE","$orderItem",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","getMock",685],"(",["T_WHITESPACE","\n            ",685],["T_NS_SEPARATOR","\\",686],["T_STRING","Magento",686],["T_NS_SEPARATOR","\\",686],["T_STRING","Sales",686],["T_NS_SEPARATOR","\\",686],["T_STRING","Model",686],["T_NS_SEPARATOR","\\",686],["T_STRING","Order",686],["T_NS_SEPARATOR","\\",686],["T_STRING","Item",686],["T_DOUBLE_COLON","::",686],["T_CLASS","class",686],",",["T_WHITESPACE","\n            ",686],"[",["T_WHITESPACE","\n                ",687],["T_CONSTANT_ENCAPSED_STRING","'isDummy'",688],",",["T_WHITESPACE","\n                ",688],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",689],["T_WHITESPACE","\n            ",689],"]",",",["T_WHITESPACE","\n            ",690],"[","]",",",["T_WHITESPACE","\n            ",691],["T_CONSTANT_ENCAPSED_STRING","''",692],",",["T_WHITESPACE","\n            ",692],["T_STRING","false",693],["T_WHITESPACE","\n        ",693],")",";",["T_WHITESPACE","\n        ",694],["T_FOREACH","foreach",695],["T_WHITESPACE"," ",695],"(",["T_VARIABLE","$invoiceItemData",695],"[",["T_CONSTANT_ENCAPSED_STRING","'order_item'",695],"]",["T_WHITESPACE"," ",695],["T_AS","as",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$key",695],["T_WHITESPACE"," ",695],["T_DOUBLE_ARROW","=>",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$value",695],")",["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n            ",695],["T_VARIABLE","$orderItem",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","setData",696],"(",["T_VARIABLE","$key",696],",",["T_WHITESPACE"," ",696],["T_VARIABLE","$value",696],")",";",["T_WHITESPACE","\n        ",696],"}",["T_WHITESPACE","\n\n        ",697],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","weeeData",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","expects",699],"(",["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","once",699],"(",")",")",["T_WHITESPACE","\n            ",699],["T_OBJECT_OPERATOR","->",700],["T_STRING","method",700],"(",["T_CONSTANT_ENCAPSED_STRING","'getRowWeeeTaxInclTax'",700],")",["T_WHITESPACE","\n            ",700],["T_OBJECT_OPERATOR","->",701],["T_STRING","with",701],"(",["T_VARIABLE","$orderItem",701],")",["T_WHITESPACE","\n            ",701],["T_OBJECT_OPERATOR","->",702],["T_STRING","will",702],"(",["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","returnValue",702],"(",["T_VARIABLE","$orderItem",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","getRowWeeeTaxInclTax",702],"(",")",")",")",";",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","weeeData",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","expects",703],"(",["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","once",703],"(",")",")",["T_WHITESPACE","\n            ",703],["T_OBJECT_OPERATOR","->",704],["T_STRING","method",704],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseRowWeeeTaxInclTax'",704],")",["T_WHITESPACE","\n            ",704],["T_OBJECT_OPERATOR","->",705],["T_STRING","with",705],"(",["T_VARIABLE","$orderItem",705],")",["T_WHITESPACE","\n            ",705],["T_OBJECT_OPERATOR","->",706],["T_STRING","will",706],"(",["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","returnValue",706],"(",["T_VARIABLE","$orderItem",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getBaseRowWeeeTaxInclTax",706],"(",")",")",")",";",["T_WHITESPACE","\n        ",706],["T_IF","if",707],["T_WHITESPACE"," ",707],"(",["T_VARIABLE","$invoiceItemData",707],"[",["T_CONSTANT_ENCAPSED_STRING","'is_last'",707],"]",")",["T_WHITESPACE"," ",707],"{",["T_WHITESPACE","\n            ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","weeeData",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","expects",708],"(",["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","once",708],"(",")",")",["T_WHITESPACE","\n                ",708],["T_OBJECT_OPERATOR","->",709],["T_STRING","method",709],"(",["T_CONSTANT_ENCAPSED_STRING","'getWeeeAmountInvoiced'",709],")",["T_WHITESPACE","\n                ",709],["T_OBJECT_OPERATOR","->",710],["T_STRING","with",710],"(",["T_VARIABLE","$orderItem",710],")",["T_WHITESPACE","\n                ",710],["T_OBJECT_OPERATOR","->",711],["T_STRING","will",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","returnValue",711],"(",["T_VARIABLE","$orderItem",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getWeeeAmountInvoiced",711],"(",")",")",")",";",["T_WHITESPACE","\n            ",711],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","weeeData",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","expects",712],"(",["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","once",712],"(",")",")",["T_WHITESPACE","\n                ",712],["T_OBJECT_OPERATOR","->",713],["T_STRING","method",713],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeAmountInvoiced'",713],")",["T_WHITESPACE","\n                ",713],["T_OBJECT_OPERATOR","->",714],["T_STRING","with",714],"(",["T_VARIABLE","$orderItem",714],")",["T_WHITESPACE","\n                ",714],["T_OBJECT_OPERATOR","->",715],["T_STRING","will",715],"(",["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","returnValue",715],"(",["T_VARIABLE","$orderItem",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","getBaseWeeeAmountInvoiced",715],"(",")",")",")",";",["T_WHITESPACE","\n            ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","weeeData",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","expects",716],"(",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","once",716],"(",")",")",["T_WHITESPACE","\n                ",716],["T_OBJECT_OPERATOR","->",717],["T_STRING","method",717],"(",["T_CONSTANT_ENCAPSED_STRING","'getWeeeTaxAmountInvoiced'",717],")",["T_WHITESPACE","\n                ",717],["T_OBJECT_OPERATOR","->",718],["T_STRING","with",718],"(",["T_VARIABLE","$orderItem",718],")",["T_WHITESPACE","\n                ",718],["T_OBJECT_OPERATOR","->",719],["T_STRING","will",719],"(",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","returnValue",719],"(",["T_VARIABLE","$orderItem",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","getWeeeTaxAmountInvoiced",719],"(",")",")",")",";",["T_WHITESPACE","\n            ",719],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","weeeData",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","expects",720],"(",["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","once",720],"(",")",")",["T_WHITESPACE","\n                ",720],["T_OBJECT_OPERATOR","->",721],["T_STRING","method",721],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseWeeeTaxAmountInvoiced'",721],")",["T_WHITESPACE","\n                ",721],["T_OBJECT_OPERATOR","->",722],["T_STRING","with",722],"(",["T_VARIABLE","$orderItem",722],")",["T_WHITESPACE","\n                ",722],["T_OBJECT_OPERATOR","->",723],["T_STRING","will",723],"(",["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","returnValue",723],"(",["T_VARIABLE","$orderItem",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","getBaseWeeeTaxAmountInvoiced",723],"(",")",")",")",";",["T_WHITESPACE","\n        ",723],"}",["T_WHITESPACE","\n        ",724],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Invoice\\Item|\\PHPUnit_Framework_MockObject_MockObject $invoiceItem *\/",725],["T_WHITESPACE","\n        ",725],["T_VARIABLE","$invoiceItem",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getMock",726],"(",["T_WHITESPACE","\n            ",726],["T_NS_SEPARATOR","\\",727],["T_STRING","Magento",727],["T_NS_SEPARATOR","\\",727],["T_STRING","Sales",727],["T_NS_SEPARATOR","\\",727],["T_STRING","Model",727],["T_NS_SEPARATOR","\\",727],["T_STRING","Order",727],["T_NS_SEPARATOR","\\",727],["T_STRING","Invoice",727],["T_NS_SEPARATOR","\\",727],["T_STRING","Item",727],["T_DOUBLE_COLON","::",727],["T_CLASS","class",727],",",["T_WHITESPACE","\n            ",727],"[",["T_WHITESPACE","\n                ",728],["T_CONSTANT_ENCAPSED_STRING","'getOrderItem'",729],",",["T_WHITESPACE","\n                ",729],["T_CONSTANT_ENCAPSED_STRING","'isLast'",730],",",["T_WHITESPACE","\n                ",730],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",731],["T_WHITESPACE","\n            ",731],"]",",",["T_WHITESPACE","\n            ",732],"[","]",",",["T_WHITESPACE","\n            ",733],["T_CONSTANT_ENCAPSED_STRING","''",734],",",["T_WHITESPACE","\n            ",734],["T_STRING","false",735],["T_WHITESPACE","\n        ",735],")",";",["T_WHITESPACE","\n        ",736],["T_VARIABLE","$invoiceItem",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","expects",737],"(",["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","any",737],"(",")",")",["T_OBJECT_OPERATOR","->",737],["T_STRING","method",737],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrderItem'",737],")",["T_OBJECT_OPERATOR","->",737],["T_STRING","will",737],"(",["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","returnValue",737],"(",["T_VARIABLE","$orderItem",737],")",")",";",["T_WHITESPACE","\n        ",737],["T_VARIABLE","$invoiceItem",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","expects",738],"(",["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","any",738],"(",")",")",["T_WHITESPACE","\n            ",738],["T_OBJECT_OPERATOR","->",739],["T_STRING","method",739],"(",["T_CONSTANT_ENCAPSED_STRING","'isLast'",739],")",["T_WHITESPACE","\n            ",739],["T_OBJECT_OPERATOR","->",740],["T_STRING","will",740],"(",["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","returnValue",740],"(",["T_VARIABLE","$invoiceItemData",740],"[",["T_CONSTANT_ENCAPSED_STRING","'is_last'",740],"]",")",")",";",["T_WHITESPACE","\n        ",740],["T_FOREACH","foreach",741],["T_WHITESPACE"," ",741],"(",["T_VARIABLE","$invoiceItemData",741],"[",["T_CONSTANT_ENCAPSED_STRING","'data_fields'",741],"]",["T_WHITESPACE"," ",741],["T_AS","as",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$key",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$value",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$invoiceItem",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","setData",742],"(",["T_VARIABLE","$key",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$value",742],")",";",["T_WHITESPACE","\n        ",742],"}",["T_WHITESPACE","\n\n        ",743],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","weeeData",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","expects",745],"(",["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","any",745],"(",")",")",["T_WHITESPACE","\n            ",745],["T_OBJECT_OPERATOR","->",746],["T_STRING","method",746],"(",["T_CONSTANT_ENCAPSED_STRING","'getApplied'",746],")",["T_WHITESPACE","\n            ",746],["T_OBJECT_OPERATOR","->",747],["T_STRING","will",747],"(",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","returnCallback",747],"(",["T_WHITESPACE","\n                ",747],["T_FUNCTION","function",748],["T_WHITESPACE"," ",748],"(",["T_VARIABLE","$item",748],")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n                    ",748],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$item",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","getAppliedWeee",749],"(",")",";",["T_WHITESPACE","\n                ",749],"}",["T_WHITESPACE","\n            ",750],")",")",";",["T_WHITESPACE","\n\n        ",751],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","weeeData",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","expects",753],"(",["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","any",753],"(",")",")",["T_WHITESPACE","\n            ",753],["T_OBJECT_OPERATOR","->",754],["T_STRING","method",754],"(",["T_CONSTANT_ENCAPSED_STRING","'setApplied'",754],")",["T_WHITESPACE","\n            ",754],["T_OBJECT_OPERATOR","->",755],["T_STRING","will",755],"(",["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","returnCallback",755],"(",["T_WHITESPACE","\n                ",755],["T_FUNCTION","function",756],["T_WHITESPACE"," ",756],"(",["T_VARIABLE","$item",756],",",["T_WHITESPACE"," ",756],["T_VARIABLE","$weee",756],")",["T_WHITESPACE"," ",756],"{",["T_WHITESPACE","\n                    ",756],["T_RETURN","return",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$item",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","setAppliedWeee",757],"(",["T_VARIABLE","$weee",757],")",";",["T_WHITESPACE","\n                ",757],"}",["T_WHITESPACE","\n            ",758],")",")",";",["T_WHITESPACE","\n\n        ",759],["T_RETURN","return",761],["T_WHITESPACE"," ",761],["T_VARIABLE","$invoiceItem",761],";",["T_WHITESPACE","\n    ",761],"}",["T_WHITESPACE","\n",762],"}",["T_WHITESPACE","\n",763]]