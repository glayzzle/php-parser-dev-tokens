[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Weee",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Pricing",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Pricing",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Price",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CustomOptionPriceInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Pricing",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adjustment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AdjustmentInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Pricing",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SaleableInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Pricing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PriceCurrencyInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Weee",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Helper",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Data",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","WeeeHelper",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Tax",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Helper",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","TaxHelper",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Weee tax pricing adjustment\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","TaxAdjustment",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","AdjustmentInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Adjustment code weee\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","ADJUSTMENT_CODE",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'weee_tax'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Weee helper\n     *\n     * @var WeeeHelper\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$weeeHelper",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var TaxHelper\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$taxHelper",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Sort order\n     *\n     * @var int|null\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$sortOrder",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var PriceCurrencyInterface\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$priceCurrency",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param WeeeHelper $weeeHelper\n     * @param TaxHelper $taxHelper\n     * @param PriceCurrencyInterface $priceCurrency\n     * @param int $sortOrder\n     *\/",50],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_WHITESPACE","\n        ",58],["T_STRING","WeeeHelper",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$weeeHelper",59],",",["T_WHITESPACE","\n        ",59],["T_STRING","TaxHelper",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$taxHelper",60],",",["T_WHITESPACE","\n        ",60],["T_STRING","PriceCurrencyInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$priceCurrency",61],",",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$sortOrder",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","null",62],["T_WHITESPACE","\n    ",62],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","weeeHelper",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$weeeHelper",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","taxHelper",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$taxHelper",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","priceCurrency",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$priceCurrency",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","sortOrder",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$sortOrder",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Get adjustment code\n     *\n     * @return string\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getAdjustmentCode",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","self",77],["T_DOUBLE_COLON","::",77],["T_STRING","ADJUSTMENT_CODE",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Define if adjustment is included in base price\n     * (FPT is excluded from base price)\n     *\n     * @return bool\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","isIncludedInBasePrice",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","false",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Define if adjustment is included in display price\n     *\n     * @return bool\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","isIncludedInDisplayPrice",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","taxHelper",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","displayPriceExcludingTax",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","false",99],";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","weeeHelper",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","isEnabled",101],"(",")",["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_STRING","true",101],["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","weeeHelper",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","isTaxable",102],"(",")",["T_WHITESPACE"," ",102],["T_IS_EQUAL","==",102],["T_WHITESPACE"," ",102],["T_STRING","true",102],["T_WHITESPACE"," ",102],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","weeeHelper",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","typeOfDisplay",103],"(","[",["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Weee",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Model",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Tax",103],["T_DOUBLE_COLON","::",103],["T_STRING","DISPLAY_EXCL",103],"]",")",["T_WHITESPACE"," ",103],["T_IS_EQUAL","==",103],["T_WHITESPACE"," ",103],["T_STRING","false",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","true",104],";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","false",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Extract adjustment amount from the given amount value\n     *\n     * @param float $amount\n     * @param SaleableInterface $saleableItem\n     * @param null|array $context\n     * @return float\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",110],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","extractAdjustment",119],"(",["T_VARIABLE","$amount",119],",",["T_WHITESPACE"," ",119],["T_STRING","SaleableInterface",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$saleableItem",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$context",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[","]",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_LNUMBER","0",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Apply adjustment amount and return result value\n     *\n     * @param float $amount\n     * @param SaleableInterface $saleableItem\n     * @param null|array $context\n     * @return float\n     *\/",124],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","applyAdjustment",132],"(",["T_VARIABLE","$amount",132],",",["T_WHITESPACE"," ",132],["T_STRING","SaleableInterface",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$saleableItem",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$context",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],"[","]",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_ISSET","isset",134],"(",["T_VARIABLE","$context",134],"[",["T_STRING","CustomOptionPriceInterface",134],["T_DOUBLE_COLON","::",134],["T_STRING","CONFIGURATION_OPTION_FLAG",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$amount",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$amount",137],["T_WHITESPACE"," ",137],"+",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getAmount",137],"(",["T_VARIABLE","$saleableItem",137],")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Check if adjustment should be excluded from calculations along with the given adjustment\n     *\n     * @param string $adjustmentCode\n     * @return bool\n     *\/",140],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","isExcludedWith",146],"(",["T_VARIABLE","$adjustmentCode",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],"(","(",["T_VARIABLE","$adjustmentCode",148],["T_WHITESPACE"," ",148],["T_IS_EQUAL","==",148],["T_WHITESPACE"," ",148],["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_STRING","ADJUSTMENT_CODE",148],")",["T_WHITESPACE"," ",148],["T_BOOLEAN_OR","||",148],["T_WHITESPACE","\n            ",148],"(",["T_VARIABLE","$adjustmentCode",149],["T_WHITESPACE"," ",149],["T_IS_EQUAL","==",149],["T_WHITESPACE"," ",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Tax",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Pricing",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Adjustment",149],["T_DOUBLE_COLON","::",149],["T_STRING","ADJUSTMENT_CODE",149],")",")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Obtain amount\n     *\n     * @param SaleableInterface $saleableItem\n     * @return float\n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getAmount",158],"(",["T_STRING","SaleableInterface",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$saleableItem",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$weeeTaxAmount",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_LNUMBER","0",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$attributes",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","weeeHelper",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getProductWeeeAttributes",161],"(",["T_VARIABLE","$saleableItem",161],",",["T_WHITESPACE"," ",161],["T_STRING","null",161],",",["T_WHITESPACE"," ",161],["T_STRING","null",161],",",["T_WHITESPACE"," ",161],["T_STRING","null",161],",",["T_WHITESPACE"," ",161],["T_STRING","true",161],",",["T_WHITESPACE"," ",161],["T_STRING","false",161],")",";",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$attributes",162],["T_WHITESPACE"," ",162],["T_IS_NOT_EQUAL","!=",162],["T_WHITESPACE"," ",162],["T_STRING","null",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_FOREACH","foreach",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$attributes",163],["T_WHITESPACE"," ",163],["T_AS","as",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$attribute",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$weeeTaxAmount",164],["T_WHITESPACE"," ",164],["T_PLUS_EQUAL","+=",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$attribute",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getData",164],"(",["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",164],")",";",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$weeeTaxAmount",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","priceCurrency",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","convert",167],"(",["T_VARIABLE","$weeeTaxAmount",167],")",";",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$weeeTaxAmount",168],";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Return sort order position\n     *\n     * @return int\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","getSortOrder",176],"(",")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","sortOrder",178],";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n",179],"}",["T_WHITESPACE","\n",180]]