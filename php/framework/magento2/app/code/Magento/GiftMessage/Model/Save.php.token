[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","GiftMessage",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Adminhtml giftmessage save model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Save",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DataObject",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_saved",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","false",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Gift message message\n     *\n     * @var \\Magento\\GiftMessage\\Helper\\Message|null\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_giftMessageMessage",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Session\\Quote\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_session",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\GiftMessage\\Model\\MessageFactory\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_messageFactory",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$productRepository",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param \\Magento\\GiftMessage\\Model\\MessageFactory $messageFactory\n     * @param \\Magento\\Backend\\Model\\Session\\Quote $session\n     * @param \\Magento\\GiftMessage\\Helper\\Message $giftMessageMessage\n     *\/",42],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Catalog",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Api",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ProductRepositoryInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$productRepository",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","GiftMessage",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","MessageFactory",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$messageFactory",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Backend",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Session",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Quote",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$session",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","GiftMessage",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Helper",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Message",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$giftMessageMessage",52],["T_WHITESPACE","\n    ",52],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","productRepository",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$productRepository",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_messageFactory",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$messageFactory",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_session",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$session",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_giftMessageMessage",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$giftMessageMessage",57],";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Save all seted giftmessages\n     *\n     * @return $this\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","saveAllInQuote",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$giftmessages",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getGiftmessages",67],"(",")",";",["T_WHITESPACE","\n\n        ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_STRING","is_array",69],"(",["T_VARIABLE","$giftmessages",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$giftmessages",73],["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$entityId",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$giftmessage",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$entityType",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMappedType",74],"(",["T_VARIABLE","$giftmessage",74],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",74],"]",")",";",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_saveOne",75],"(",["T_VARIABLE","$entityId",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$giftmessage",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$entityType",75],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     * @codeCoverageIgnore\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getSaved",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_saved",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","saveAllInOrder",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$giftMessages",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getGiftmessages",96],"(",")",";",["T_WHITESPACE","\n\n        ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_STRING","is_array",98],"(",["T_VARIABLE","$giftMessages",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$giftMessages",102],["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$entityId",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$giftMessage",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$entityType",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMappedType",103],"(",["T_VARIABLE","$giftMessage",103],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",103],"]",")",";",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_saveOne",104],"(",["T_VARIABLE","$entityId",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$giftMessage",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$entityType",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Save a single gift message\n     *\n     * @param int $entityId\n     * @param array $giftmessage\n     * @param string $entityType\n     * @return $this\n     *\/",110],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","_saveOne",118],"(",["T_VARIABLE","$entityId",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$giftmessage",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$entityType",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_COMMENT","\/* @var $giftmessageModel \\Magento\\GiftMessage\\Model\\Message *\/",120],["T_WHITESPACE","\n        ",120],["T_VARIABLE","$giftmessageModel",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_messageFactory",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","create",121],"(",")",";",["T_WHITESPACE","\n\n        ",121],["T_SWITCH","switch",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$entityType",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_CASE","case",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'quote'",124],":",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$entityModel",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_getQuote",125],"(",")",";",["T_WHITESPACE","\n                ",125],["T_BREAK","break",126],";",["T_WHITESPACE","\n\n            ",126],["T_CASE","case",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'quote_item'",128],":",["T_WHITESPACE","\n                ",128],["T_VARIABLE","$entityModel",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_getQuote",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getItemById",129],"(",["T_VARIABLE","$entityId",129],")",";",["T_WHITESPACE","\n                ",129],["T_BREAK","break",130],";",["T_WHITESPACE","\n\n            ",130],["T_DEFAULT","default",132],":",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$entityModel",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$giftmessageModel",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getEntityModelByType",133],"(",["T_VARIABLE","$entityType",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","load",133],"(",["T_VARIABLE","$entityId",133],")",";",["T_WHITESPACE","\n                ",133],["T_BREAK","break",134],";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_VARIABLE","$entityModel",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$entityModel",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getGiftMessageId",141],"(",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$giftmessageModel",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","load",142],"(",["T_VARIABLE","$entityModel",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getGiftMessageId",142],"(",")",")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$giftmessageModel",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","addData",145],"(",["T_VARIABLE","$giftmessage",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$giftmessageModel",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","isMessageEmpty",147],"(",")",["T_WHITESPACE"," ",147],["T_BOOLEAN_AND","&&",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$giftmessageModel",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getId",147],"(",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_COMMENT","\/\/ remove empty giftmessage\n",148],["T_WHITESPACE","            ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_deleteOne",149],"(",["T_VARIABLE","$entityModel",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$giftmessageModel",149],")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_saved",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","false",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_ELSEIF","elseif",151],["T_WHITESPACE"," ",151],"(","!",["T_VARIABLE","$giftmessageModel",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","isMessageEmpty",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$giftmessageModel",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","save",152],"(",")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$entityModel",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setGiftMessageId",153],"(",["T_VARIABLE","$giftmessageModel",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getId",153],"(",")",")",";",["T_WHITESPACE","\n            ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$entityType",154],["T_WHITESPACE"," ",154],["T_IS_NOT_EQUAL","!=",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'quote'",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$entityModel",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","save",155],"(",")",";",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_saved",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","true",157],";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Delete a single gift message from entity\n     *\n     * @param \\Magento\\Framework\\DataObject $entityModel\n     * @param \\Magento\\GiftMessage\\Model\\Message|null $giftmessageModel\n     * @return $this\n     *\/",163],["T_WHITESPACE","\n    ",169],["T_PROTECTED","protected",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","_deleteOne",170],"(",["T_VARIABLE","$entityModel",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$giftmessageModel",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$giftmessageModel",172],["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_STRING","null",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$giftmessageModel",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_messageFactory",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","create",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","load",173],"(",["T_VARIABLE","$entityModel",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getGiftMessageId",173],"(",")",")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$giftmessageModel",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","delete",175],"(",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$entityModel",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setGiftMessageId",176],"(",["T_LNUMBER","0",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","save",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Set allowed quote items for gift messages\n     *\n     * @param array $items\n     * @return $this\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","setAllowQuoteItems",186],"(",["T_VARIABLE","$items",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_session",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setAllowQuoteItemsGiftMessage",188],"(",["T_VARIABLE","$items",188],")",";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Add allowed quote item for gift messages\n     *\n     * @param int $item\n     * @return $this\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","addAllowQuoteItem",198],"(",["T_VARIABLE","$item",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$items",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getAllowQuoteItems",200],"(",")",";",["T_WHITESPACE","\n        ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_STRING","in_array",201],"(",["T_VARIABLE","$item",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$items",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$items",202],"[","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$item",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setAllowQuoteItems",204],"(",["T_VARIABLE","$items",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Retrieve allowed quote items for gift messages\n     *\n     * @return array\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","getAllowQuoteItems",214],"(",")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_STRING","is_array",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_session",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getAllowQuoteItemsGiftMessage",216],"(",")",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setAllowQuoteItems",217],"(","[","]",")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n\n        ",218],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_session",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getAllowQuoteItemsGiftMessage",220],"(",")",";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Retrieve allowed quote items products for gift messages\n     *\n     * @return array\n     *\/",223],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getAllowQuoteItemsProducts",228],"(",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$result",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],"[","]",";",["T_WHITESPACE","\n        ",230],["T_FOREACH","foreach",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getAllowQuoteItems",231],"(",")",["T_WHITESPACE"," ",231],["T_AS","as",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$itemId",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$item",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getQuote",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","getItemById",232],"(",["T_VARIABLE","$itemId",232],")",";",["T_WHITESPACE","\n            ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(","!",["T_VARIABLE","$item",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                ",233],["T_CONTINUE","continue",234],";",["T_WHITESPACE","\n            ",234],"}",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$result",236],"[","]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$item",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getProduct",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","getId",236],"(",")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$result",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Checks allowed quote item for gift messages\n     *\n     * @param  \\Magento\\Framework\\DataObject $item\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",241],["T_WHITESPACE","\n    ",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","getIsAllowedQuoteItem",248],"(",["T_VARIABLE","$item",248],")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_STRING","in_array",250],"(",["T_VARIABLE","$item",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getId",250],"(",")",",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getAllowQuoteItems",250],"(",")",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$item",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getGiftMessageId",251],"(",")",["T_WHITESPACE"," ",251],["T_BOOLEAN_AND","&&",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","isGiftMessagesAvailable",251],"(",["T_VARIABLE","$item",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","addAllowQuoteItem",252],"(",["T_VARIABLE","$item",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getId",252],"(",")",")",";",["T_WHITESPACE","\n                ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_STRING","true",253],";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n            ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_STRING","false",255],";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_STRING","true",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Retrieve is gift message available for item (product)\n     *\n     * @param \\Magento\\Framework\\DataObject $item\n     * @return bool\n     *\/",261],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","isGiftMessagesAvailable",267],"(",["T_VARIABLE","$item",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_giftMessageMessage",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","isMessagesAllowed",269],"(",["T_CONSTANT_ENCAPSED_STRING","'item'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$item",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$item",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getStore",269],"(",")",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Imports quote items for gift messages from products data\n     *\n     * @param mixed $products\n     * @return $this\n     *\/",272],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","importAllowQuoteItemsFromProducts",278],"(",["T_VARIABLE","$products",278],")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$allowedItems",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getAllowQuoteItems",280],"(",")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$deleteAllowedItems",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],"[","]",";",["T_WHITESPACE","\n        ",281],["T_FOREACH","foreach",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$products",282],["T_WHITESPACE"," ",282],["T_AS","as",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$productId",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$data",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$product",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","productRepository",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getById",283],"(",["T_VARIABLE","$productId",283],",",["T_WHITESPACE"," ",283],["T_STRING","false",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_session",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getStore",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","getId",283],"(",")",")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$item",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_getQuote",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getItemByProduct",284],"(",["T_VARIABLE","$product",284],")",";",["T_WHITESPACE","\n\n            ",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(","!",["T_VARIABLE","$item",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                ",286],["T_CONTINUE","continue",287],";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE","\n\n            ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_STRING","in_array",290],"(",["T_VARIABLE","$item",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getId",290],"(",")",",",["T_WHITESPACE"," ",290],["T_VARIABLE","$allowedItems",290],")",["T_WHITESPACE"," ",290],["T_BOOLEAN_AND","&&",290],["T_WHITESPACE"," ",290],"!",["T_ISSET","isset",290],"(",["T_VARIABLE","$data",290],"[",["T_CONSTANT_ENCAPSED_STRING","'giftmessage'",290],"]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$deleteAllowedItems",291],"[","]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$item",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getId",291],"(",")",";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE"," ",292],["T_ELSEIF","elseif",292],["T_WHITESPACE"," ",292],"(","!",["T_STRING","in_array",292],"(",["T_VARIABLE","$item",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getId",292],"(",")",",",["T_WHITESPACE"," ",292],["T_VARIABLE","$allowedItems",292],")",["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],["T_ISSET","isset",292],"(",["T_VARIABLE","$data",292],"[",["T_CONSTANT_ENCAPSED_STRING","'giftmessage'",292],"]",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                ",292],["T_VARIABLE","$allowedItems",293],"[","]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$item",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getId",293],"(",")",";",["T_WHITESPACE","\n            ",293],"}",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$allowedItems",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","array_diff",297],"(",["T_VARIABLE","$allowedItems",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$deleteAllowedItems",297],")",";",["T_WHITESPACE","\n\n        ",297],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setAllowQuoteItems",299],"(",["T_VARIABLE","$allowedItems",299],")",";",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * @param mixed $items\n     * @return $this\n     *\/",303],["T_WHITESPACE","\n    ",306],["T_PUBLIC","public",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","importAllowQuoteItemsFromItems",307],"(",["T_VARIABLE","$items",307],")",["T_WHITESPACE","\n    ",307],"{",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$allowedItems",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getAllowQuoteItems",309],"(",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$deleteAllowedItems",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],"[","]",";",["T_WHITESPACE","\n        ",310],["T_FOREACH","foreach",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$items",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$itemId",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$data",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_VARIABLE","$item",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_getQuote",312],"(",")",["T_OBJECT_OPERATOR","->",312],["T_STRING","getItemById",312],"(",["T_VARIABLE","$itemId",312],")",";",["T_WHITESPACE","\n\n            ",312],["T_IF","if",314],["T_WHITESPACE"," ",314],"(","!",["T_VARIABLE","$item",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                ",314],["T_COMMENT","\/\/ Clean not exists items\n",315],["T_WHITESPACE","                ",316],["T_VARIABLE","$deleteAllowedItems",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$itemId",316],";",["T_WHITESPACE","\n                ",316],["T_CONTINUE","continue",317],";",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n\n            ",318],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_STRING","in_array",320],"(",["T_VARIABLE","$item",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getId",320],"(",")",",",["T_WHITESPACE"," ",320],["T_VARIABLE","$allowedItems",320],")",["T_WHITESPACE"," ",320],["T_BOOLEAN_AND","&&",320],["T_WHITESPACE"," ",320],"!",["T_ISSET","isset",320],"(",["T_VARIABLE","$data",320],"[",["T_CONSTANT_ENCAPSED_STRING","'giftmessage'",320],"]",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$deleteAllowedItems",321],"[","]",["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$item",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getId",321],"(",")",";",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE"," ",322],["T_ELSEIF","elseif",322],["T_WHITESPACE"," ",322],"(","!",["T_STRING","in_array",322],"(",["T_VARIABLE","$item",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getId",322],"(",")",",",["T_WHITESPACE"," ",322],["T_VARIABLE","$allowedItems",322],")",["T_WHITESPACE"," ",322],["T_BOOLEAN_AND","&&",322],["T_WHITESPACE"," ",322],["T_ISSET","isset",322],"(",["T_VARIABLE","$data",322],"[",["T_CONSTANT_ENCAPSED_STRING","'giftmessage'",322],"]",")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_VARIABLE","$allowedItems",323],"[","]",["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$item",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getId",323],"(",")",";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_VARIABLE","$allowedItems",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","array_diff",327],"(",["T_VARIABLE","$allowedItems",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$deleteAllowedItems",327],")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setAllowQuoteItems",328],"(",["T_VARIABLE","$allowedItems",328],")",";",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n\n    ",330],["T_DOC_COMMENT","\/**\n     * Retrieve mapped type for entity\n     *\n     * @param string $type\n     * @return string|null\n     *\/",332],["T_WHITESPACE","\n    ",337],["T_PROTECTED","protected",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","getMappedType",338],"(",["T_VARIABLE","$type",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$map",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],"[",["T_WHITESPACE","\n            ",340],["T_CONSTANT_ENCAPSED_STRING","'main'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'quote'",341],",",["T_WHITESPACE","\n            ",341],["T_CONSTANT_ENCAPSED_STRING","'item'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'quote_item'",342],",",["T_WHITESPACE","\n            ",342],["T_CONSTANT_ENCAPSED_STRING","'order'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'order'",343],",",["T_WHITESPACE","\n            ",343],["T_CONSTANT_ENCAPSED_STRING","'order_item'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'order_item'",344],",",["T_WHITESPACE","\n        ",344],"]",";",["T_WHITESPACE","\n\n        ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_ISSET","isset",347],"(",["T_VARIABLE","$map",347],"[",["T_VARIABLE","$type",347],"]",")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$map",348],"[",["T_VARIABLE","$type",348],"]",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_STRING","null",350],";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * Retrieve quote object\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\n     * @codeCoverageIgnore\n     *\/",353],["T_WHITESPACE","\n    ",358],["T_PROTECTED","protected",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","_getQuote",359],"(",")",["T_WHITESPACE","\n    ",359],"{",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","_session",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getQuote",361],"(",")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n",362],"}",["T_WHITESPACE","\n",363]]