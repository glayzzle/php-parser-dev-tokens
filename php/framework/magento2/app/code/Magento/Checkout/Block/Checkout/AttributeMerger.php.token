[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Checkout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Checkout",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Directory",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","DirectoryHelper",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Session",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CustomerRepositoryInterface",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","CustomerRepository",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Address",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","AddressHelper",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AttributeMerger",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Map form element\n     *\n     * @var array\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$formElementMap",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[",["T_WHITESPACE","\n        ",20],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",21],["T_WHITESPACE","    ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/select'",21],",",["T_WHITESPACE","\n        ",21],["T_CONSTANT_ENCAPSED_STRING","'select'",22],["T_WHITESPACE","      ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/select'",22],",",["T_WHITESPACE","\n        ",22],["T_CONSTANT_ENCAPSED_STRING","'textarea'",23],["T_WHITESPACE","    ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/textarea'",23],",",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'multiline'",24],["T_WHITESPACE","   ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/components\/group'",24],",",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/multiselect'",25],",",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'image'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/media'",26],",",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'file'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/media'",27],",",["T_WHITESPACE","\n    ",27],"]",";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Map template\n     *\n     * @var array\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$templateMap",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],"[",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'image'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'media'",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'file'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'media'",37],",",["T_WHITESPACE","\n    ",37],"]",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Map input_validation and validation rule from js\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$inputValidationMap",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'alpha'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'validate-alpha'",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'numeric'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'validate-number'",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'alphanumeric'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'validate-alphanum'",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'url'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'validate-url'",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'email'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'email2'",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'length'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'validate-length'",51],",",["T_WHITESPACE","\n    ",51],"]",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var AddressHelper\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$addressHelper",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var Session\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$customerSession",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var CustomerRepository\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PRIVATE","private",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$customerRepository",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PRIVATE","private",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$customer",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Helper\\Data\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PRIVATE","private",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$directoryHelper",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * List of codes of countries that must be shown on the top of country list\n     *\n     * @var array\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PRIVATE","private",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$topCountryCodes",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * @param AddressHelper $addressHelper\n     * @param Session $customerSession\n     * @param CustomerRepository $customerRepository\n     * @param DirectoryHelper $directoryHelper\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",["T_WHITESPACE","\n        ",92],["T_STRING","AddressHelper",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$addressHelper",93],",",["T_WHITESPACE","\n        ",93],["T_STRING","Session",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$customerSession",94],",",["T_WHITESPACE","\n        ",94],["T_STRING","CustomerRepository",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$customerRepository",95],",",["T_WHITESPACE","\n        ",95],["T_STRING","DirectoryHelper",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$directoryHelper",96],["T_WHITESPACE","\n    ",96],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addressHelper",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$addressHelper",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","customerSession",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$customerSession",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","customerRepository",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$customerRepository",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","directoryHelper",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$directoryHelper",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","topCountryCodes",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$directoryHelper",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTopCountryCodes",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Merge additional address fields for given provider\n     *\n     * @param array $elements\n     * @param string $providerName name of the storage container used by UI component\n     * @param string $dataScopePrefix\n     * @param array $fields\n     * @return array\n     *\/",105],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","merge",114],"(",["T_VARIABLE","$elements",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$providerName",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$dataScopePrefix",114],",",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$fields",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],"[","]",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$elements",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$attributeCode",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$attributeConfig",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$additionalConfig",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ISSET","isset",117],"(",["T_VARIABLE","$fields",117],"[",["T_VARIABLE","$attributeCode",117],"]",")",["T_WHITESPACE"," ",117],"?",["T_WHITESPACE"," ",117],["T_VARIABLE","$fields",117],"[",["T_VARIABLE","$attributeCode",117],"]",["T_WHITESPACE"," ",117],":",["T_WHITESPACE"," ",117],"[","]",";",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isFieldVisible",118],"(",["T_VARIABLE","$attributeCode",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$attributeConfig",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$additionalConfig",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_CONTINUE","continue",119],";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$fields",121],"[",["T_VARIABLE","$attributeCode",121],"]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getFieldConfig",121],"(",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$attributeCode",122],",",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$attributeConfig",123],",",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$additionalConfig",124],",",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$providerName",125],",",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$dataScopePrefix",126],["T_WHITESPACE","\n            ",126],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$fields",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Retrieve UI field configuration for given attribute\n     *\n     * @param string $attributeCode\n     * @param array $attributeConfig\n     * @param array $additionalConfig field configuration provided via layout XML\n     * @param string $providerName name of the storage container used by UI component\n     * @param string $dataScopePrefix\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",132],["T_WHITESPACE","\n    ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getFieldConfig",144],"(",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$attributeCode",145],",",["T_WHITESPACE","\n        ",145],["T_ARRAY","array",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$attributeConfig",146],",",["T_WHITESPACE","\n        ",146],["T_ARRAY","array",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$additionalConfig",147],",",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$providerName",148],",",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$dataScopePrefix",149],["T_WHITESPACE","\n    ",149],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n        ",150],["T_COMMENT","\/\/ street attribute is unique in terms of configuration, so it has its own configuration builder\n",151],["T_WHITESPACE","        ",152],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_ISSET","isset",152],"(",["T_VARIABLE","$attributeConfig",152],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",152],"]","[",["T_CONSTANT_ENCAPSED_STRING","'input_validation'",152],"]",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$validationRule",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$attributeConfig",153],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'input_validation'",153],"]",";",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$attributeConfig",154],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",154],"]","[",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","inputValidationMap",154],"[",["T_VARIABLE","$validationRule",154],"]","]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","true",154],";",["T_WHITESPACE","\n            ",154],["T_UNSET","unset",155],"(",["T_VARIABLE","$attributeConfig",155],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",155],"]","[",["T_CONSTANT_ENCAPSED_STRING","'input_validation'",155],"]",")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$attributeConfig",158],"[",["T_CONSTANT_ENCAPSED_STRING","'formElement'",158],"]",["T_WHITESPACE"," ",158],["T_IS_EQUAL","==",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'multiline'",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getMultilineFieldConfig",159],"(",["T_VARIABLE","$attributeCode",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$attributeConfig",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$providerName",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$dataScopePrefix",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$uiComponent",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ISSET","isset",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","formElementMap",162],"[",["T_VARIABLE","$attributeConfig",162],"[",["T_CONSTANT_ENCAPSED_STRING","'formElement'",162],"]","]",")",["T_WHITESPACE","\n            ",162],"?",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","formElementMap",163],"[",["T_VARIABLE","$attributeConfig",163],"[",["T_CONSTANT_ENCAPSED_STRING","'formElement'",163],"]","]",["T_WHITESPACE","\n            ",163],":",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/abstract'",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$elementTemplate",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ISSET","isset",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","templateMap",165],"[",["T_VARIABLE","$attributeConfig",165],"[",["T_CONSTANT_ENCAPSED_STRING","'formElement'",165],"]","]",")",["T_WHITESPACE","\n            ",165],"?",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'ui\/form\/element\/'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","templateMap",166],"[",["T_VARIABLE","$attributeConfig",166],"[",["T_CONSTANT_ENCAPSED_STRING","'formElement'",166],"]","]",["T_WHITESPACE","\n            ",166],":",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'ui\/form\/element\/'",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_VARIABLE","$attributeConfig",167],"[",["T_CONSTANT_ENCAPSED_STRING","'formElement'",167],"]",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$element",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[",["T_WHITESPACE","\n            ",169],["T_CONSTANT_ENCAPSED_STRING","'component'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_ISSET","isset",170],"(",["T_VARIABLE","$additionalConfig",170],"[",["T_CONSTANT_ENCAPSED_STRING","'component'",170],"]",")",["T_WHITESPACE"," ",170],"?",["T_WHITESPACE"," ",170],["T_VARIABLE","$additionalConfig",170],"[",["T_CONSTANT_ENCAPSED_STRING","'component'",170],"]",["T_WHITESPACE"," ",170],":",["T_WHITESPACE"," ",170],["T_VARIABLE","$uiComponent",170],",",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'config'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],"[",["T_WHITESPACE","\n                ",171],["T_COMMENT","\/\/ customScope is used to group elements within a single form (e.g. they can be validated separately)\n",172],["T_WHITESPACE","                ",173],["T_CONSTANT_ENCAPSED_STRING","'customScope'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$dataScopePrefix",173],",",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'customEntry'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ISSET","isset",174],"(",["T_VARIABLE","$additionalConfig",174],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customEntry'",174],"]",")",["T_WHITESPACE","\n                    ",174],"?",["T_WHITESPACE"," ",175],["T_VARIABLE","$additionalConfig",175],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",175],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customEntry'",175],"]",["T_WHITESPACE","\n                    ",175],":",["T_WHITESPACE"," ",176],["T_STRING","null",176],",",["T_WHITESPACE","\n                ",176],["T_CONSTANT_ENCAPSED_STRING","'template'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'ui\/form\/field'",177],",",["T_WHITESPACE","\n                ",177],["T_CONSTANT_ENCAPSED_STRING","'elementTmpl'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_ISSET","isset",178],"(",["T_VARIABLE","$additionalConfig",178],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",178],"]","[",["T_CONSTANT_ENCAPSED_STRING","'elementTmpl'",178],"]",")",["T_WHITESPACE","\n                    ",178],"?",["T_WHITESPACE"," ",179],["T_VARIABLE","$additionalConfig",179],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",179],"]","[",["T_CONSTANT_ENCAPSED_STRING","'elementTmpl'",179],"]",["T_WHITESPACE","\n                    ",179],":",["T_WHITESPACE"," ",180],["T_VARIABLE","$elementTemplate",180],",",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'tooltip'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_ISSET","isset",181],"(",["T_VARIABLE","$additionalConfig",181],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",181],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tooltip'",181],"]",")",["T_WHITESPACE","\n                    ",181],"?",["T_WHITESPACE"," ",182],["T_VARIABLE","$additionalConfig",182],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tooltip'",182],"]",["T_WHITESPACE","\n                    ",182],":",["T_WHITESPACE"," ",183],["T_STRING","null",183],["T_WHITESPACE","\n            ",183],"]",",",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'dataScope'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$dataScopePrefix",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'.'",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_VARIABLE","$attributeCode",185],",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'label'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$attributeConfig",186],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",186],"]",",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'provider'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$providerName",187],",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_ISSET","isset",188],"(",["T_VARIABLE","$additionalConfig",188],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",188],"]",")",["T_WHITESPACE","\n                ",188],"?",["T_WHITESPACE"," ",189],["T_VARIABLE","$additionalConfig",189],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",189],"]",["T_WHITESPACE","\n                ",189],":",["T_WHITESPACE"," ",190],["T_VARIABLE","$attributeConfig",190],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",190],"]",",",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","'validation'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","mergeConfigurationNode",191],"(",["T_CONSTANT_ENCAPSED_STRING","'validation'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$additionalConfig",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$attributeConfig",191],")",",",["T_WHITESPACE","\n            ",191],["T_CONSTANT_ENCAPSED_STRING","'options'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getFieldOptions",192],"(",["T_VARIABLE","$attributeCode",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$attributeConfig",192],")",",",["T_WHITESPACE","\n            ",192],["T_CONSTANT_ENCAPSED_STRING","'filterBy'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_ISSET","isset",193],"(",["T_VARIABLE","$additionalConfig",193],"[",["T_CONSTANT_ENCAPSED_STRING","'filterBy'",193],"]",")",["T_WHITESPACE"," ",193],"?",["T_WHITESPACE"," ",193],["T_VARIABLE","$additionalConfig",193],"[",["T_CONSTANT_ENCAPSED_STRING","'filterBy'",193],"]",["T_WHITESPACE"," ",193],":",["T_WHITESPACE"," ",193],["T_STRING","null",193],",",["T_WHITESPACE","\n            ",193],["T_CONSTANT_ENCAPSED_STRING","'customEntry'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_ISSET","isset",194],"(",["T_VARIABLE","$additionalConfig",194],"[",["T_CONSTANT_ENCAPSED_STRING","'customEntry'",194],"]",")",["T_WHITESPACE"," ",194],"?",["T_WHITESPACE"," ",194],["T_VARIABLE","$additionalConfig",194],"[",["T_CONSTANT_ENCAPSED_STRING","'customEntry'",194],"]",["T_WHITESPACE"," ",194],":",["T_WHITESPACE"," ",194],["T_STRING","null",194],",",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'visible'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_ISSET","isset",195],"(",["T_VARIABLE","$additionalConfig",195],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",195],"]",")",["T_WHITESPACE"," ",195],"?",["T_WHITESPACE"," ",195],["T_VARIABLE","$additionalConfig",195],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",195],"]",["T_WHITESPACE"," ",195],":",["T_WHITESPACE"," ",195],["T_STRING","true",195],",",["T_WHITESPACE","\n        ",195],"]",";",["T_WHITESPACE","\n\n        ",196],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$attributeCode",198],["T_WHITESPACE"," ",198],["T_IS_IDENTICAL","===",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'region_id'",198],["T_WHITESPACE"," ",198],["T_BOOLEAN_OR","||",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$attributeCode",198],["T_WHITESPACE"," ",198],["T_IS_IDENTICAL","===",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'country_id'",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_UNSET","unset",199],"(",["T_VARIABLE","$element",199],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",199],"]",")",";",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$element",200],"[",["T_CONSTANT_ENCAPSED_STRING","'deps'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"[",["T_VARIABLE","$providerName",200],"]",";",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$element",201],"[",["T_CONSTANT_ENCAPSED_STRING","'imports'",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[",["T_WHITESPACE","\n                ",201],["T_CONSTANT_ENCAPSED_STRING","'initialOptions'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'index = '",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_VARIABLE","$providerName",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","':dictionaries.'",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_VARIABLE","$attributeCode",202],",",["T_WHITESPACE","\n                ",202],["T_CONSTANT_ENCAPSED_STRING","'setOptions'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'index = '",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$providerName",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","':dictionaries.'",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$attributeCode",203],["T_WHITESPACE","\n            ",203],"]",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_ISSET","isset",207],"(",["T_VARIABLE","$attributeConfig",207],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",207],"]",")",["T_WHITESPACE"," ",207],["T_BOOLEAN_AND","&&",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$attributeConfig",207],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",207],"]",["T_WHITESPACE"," ",207],["T_IS_NOT_EQUAL","!=",207],["T_WHITESPACE"," ",207],["T_STRING","null",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$element",208],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$attributeConfig",208],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",208],"]",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE"," ",209],["T_ELSEIF","elseif",209],["T_WHITESPACE"," ",209],"(",["T_ISSET","isset",209],"(",["T_VARIABLE","$attributeConfig",209],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",209],"]",")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$attributeConfig",209],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",209],"]",["T_WHITESPACE"," ",209],["T_IS_NOT_EQUAL","!=",209],["T_WHITESPACE"," ",209],["T_STRING","null",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$element",210],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$attributeConfig",210],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",210],"]",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$defaultValue",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getDefaultValue",212],"(",["T_VARIABLE","$attributeCode",212],")",";",["T_WHITESPACE","\n            ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_STRING","null",213],["T_WHITESPACE"," ",213],["T_IS_NOT_IDENTICAL","!==",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$defaultValue",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$element",214],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$defaultValue",214],";",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$element",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Merge two configuration nodes recursively\n     *\n     * @param string $nodeName\n     * @param array $mainSource\n     * @param array $additionalSource\n     * @return array\n     *\/",220],["T_WHITESPACE","\n    ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","mergeConfigurationNode",228],"(",["T_VARIABLE","$nodeName",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$mainSource",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$additionalSource",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$mainData",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_ISSET","isset",230],"(",["T_VARIABLE","$mainSource",230],"[",["T_VARIABLE","$nodeName",230],"]",")",["T_WHITESPACE"," ",230],"?",["T_WHITESPACE"," ",230],["T_VARIABLE","$mainSource",230],"[",["T_VARIABLE","$nodeName",230],"]",["T_WHITESPACE"," ",230],":",["T_WHITESPACE"," ",230],"[","]",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$additionalData",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_ISSET","isset",231],"(",["T_VARIABLE","$additionalSource",231],"[",["T_VARIABLE","$nodeName",231],"]",")",["T_WHITESPACE"," ",231],"?",["T_WHITESPACE"," ",231],["T_VARIABLE","$additionalSource",231],"[",["T_VARIABLE","$nodeName",231],"]",["T_WHITESPACE"," ",231],":",["T_WHITESPACE"," ",231],"[","]",";",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_STRING","array_replace_recursive",232],"(",["T_VARIABLE","$additionalData",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$mainData",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Check if address attribute is visible on frontend\n     *\n     * @param string $attributeCode\n     * @param array $attributeConfig\n     * @param array $additionalConfig field configuration provided via layout XML\n     * @return bool\n     *\/",235],["T_WHITESPACE","\n    ",242],["T_PROTECTED","protected",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","isFieldVisible",243],"(",["T_VARIABLE","$attributeCode",243],",",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$attributeConfig",243],",",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$additionalConfig",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"[","]",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_COMMENT","\/\/ TODO move this logic to separate model so it can be customized\n",245],["T_WHITESPACE","        ",246],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$attributeConfig",246],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",246],"]",["T_WHITESPACE"," ",246],["T_IS_EQUAL","==",246],["T_WHITESPACE"," ",246],["T_STRING","false",246],["T_WHITESPACE","\n            ",246],["T_BOOLEAN_OR","||",247],["T_WHITESPACE"," ",247],"(",["T_ISSET","isset",247],"(",["T_VARIABLE","$additionalConfig",247],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",247],"]",")",["T_WHITESPACE"," ",247],["T_BOOLEAN_AND","&&",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$additionalConfig",247],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",247],"]",["T_WHITESPACE"," ",247],["T_IS_EQUAL","==",247],["T_WHITESPACE"," ",247],["T_STRING","false",247],")",["T_WHITESPACE","\n        ",247],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_STRING","false",249],";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n        ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$attributeCode",251],["T_WHITESPACE"," ",251],["T_IS_EQUAL","==",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'vat_id'",251],["T_WHITESPACE"," ",251],["T_BOOLEAN_AND","&&",251],["T_WHITESPACE"," ",251],"!",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","addressHelper",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","isVatAttributeVisible",251],"(",")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_STRING","false",252],";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_STRING","true",254],";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Retrieve field configuration for street address attribute\n     *\n     * @param string $attributeCode\n     * @param array $attributeConfig\n     * @param string $providerName name of the storage container used by UI component\n     * @param string $dataScopePrefix\n     * @return array\n     *\/",257],["T_WHITESPACE","\n    ",265],["T_PROTECTED","protected",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getMultilineFieldConfig",266],"(",["T_VARIABLE","$attributeCode",266],",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$attributeConfig",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$providerName",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$dataScopePrefix",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$lines",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],"[","]",";",["T_WHITESPACE","\n        ",268],["T_UNSET","unset",269],"(",["T_VARIABLE","$attributeConfig",269],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",269],"]","[",["T_CONSTANT_ENCAPSED_STRING","'required-entry'",269],"]",")",";",["T_WHITESPACE","\n        ",269],["T_FOR","for",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$lineIndex",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_LNUMBER","0",270],";",["T_WHITESPACE"," ",270],["T_VARIABLE","$lineIndex",270],["T_WHITESPACE"," ",270],"<",["T_WHITESPACE"," ",270],["T_INT_CAST","(int)",270],["T_VARIABLE","$attributeConfig",270],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",270],"]",";",["T_WHITESPACE"," ",270],["T_VARIABLE","$lineIndex",270],["T_INC","++",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$isFirstLine",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$lineIndex",271],["T_WHITESPACE"," ",271],["T_IS_IDENTICAL","===",271],["T_WHITESPACE"," ",271],["T_LNUMBER","0",271],";",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$line",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],"[",["T_WHITESPACE","\n                ",272],["T_CONSTANT_ENCAPSED_STRING","'component'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/element\/abstract'",273],",",["T_WHITESPACE","\n                ",273],["T_CONSTANT_ENCAPSED_STRING","'config'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n                    ",274],["T_COMMENT","\/\/ customScope is used to group elements within a single form e.g. they can be validated separately\n",275],["T_WHITESPACE","                    ",276],["T_CONSTANT_ENCAPSED_STRING","'customScope'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$dataScopePrefix",276],",",["T_WHITESPACE","\n                    ",276],["T_CONSTANT_ENCAPSED_STRING","'template'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'ui\/form\/field'",277],",",["T_WHITESPACE","\n                    ",277],["T_CONSTANT_ENCAPSED_STRING","'elementTmpl'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'ui\/form\/element\/input'",278],["T_WHITESPACE","\n                ",278],"]",",",["T_WHITESPACE","\n                ",279],["T_CONSTANT_ENCAPSED_STRING","'dataScope'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$lineIndex",280],",",["T_WHITESPACE","\n                ",280],["T_CONSTANT_ENCAPSED_STRING","'provider'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$providerName",281],",",["T_WHITESPACE","\n                ",281],["T_CONSTANT_ENCAPSED_STRING","'validation'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$isFirstLine",282],["T_WHITESPACE","\n                    ",282],"?",["T_WHITESPACE"," ",283],["T_STRING","array_merge",283],"(",["T_WHITESPACE","\n                        ",283],"[",["T_CONSTANT_ENCAPSED_STRING","'required-entry'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_BOOL_CAST","(bool)",284],["T_VARIABLE","$attributeConfig",284],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",284],"]","]",",",["T_WHITESPACE","\n                        ",284],["T_VARIABLE","$attributeConfig",285],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",285],"]",["T_WHITESPACE","\n                    ",285],")",["T_WHITESPACE","\n                    ",286],":",["T_WHITESPACE"," ",287],["T_VARIABLE","$attributeConfig",287],"[",["T_CONSTANT_ENCAPSED_STRING","'validation'",287],"]",",",["T_WHITESPACE","\n                ",287],["T_CONSTANT_ENCAPSED_STRING","'additionalClasses'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$isFirstLine",288],["T_WHITESPACE"," ",288],"?",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'field'",288],["T_WHITESPACE"," ",288],":",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'additional'",288],["T_WHITESPACE","\n\n            ",288],"]",";",["T_WHITESPACE","\n            ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$isFirstLine",291],["T_WHITESPACE"," ",291],["T_BOOLEAN_AND","&&",291],["T_WHITESPACE"," ",291],["T_ISSET","isset",291],"(",["T_VARIABLE","$attributeConfig",291],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",291],"]",")",["T_WHITESPACE"," ",291],["T_BOOLEAN_AND","&&",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$attributeConfig",291],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",291],"]",["T_WHITESPACE"," ",291],["T_IS_NOT_EQUAL","!=",291],["T_WHITESPACE"," ",291],["T_STRING","null",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$line",292],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$attributeConfig",292],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",292],"]",";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$lines",294],"[","]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$line",294],";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],"[",["T_WHITESPACE","\n            ",296],["T_CONSTANT_ENCAPSED_STRING","'component'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'Magento_Ui\/js\/form\/components\/group'",297],",",["T_WHITESPACE","\n            ",297],["T_CONSTANT_ENCAPSED_STRING","'label'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$attributeConfig",298],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",298],"]",",",["T_WHITESPACE","\n            ",298],["T_CONSTANT_ENCAPSED_STRING","'required'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_BOOL_CAST","(bool)",299],["T_VARIABLE","$attributeConfig",299],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",299],"]",",",["T_WHITESPACE","\n            ",299],["T_CONSTANT_ENCAPSED_STRING","'dataScope'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$dataScopePrefix",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'.'",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$attributeCode",300],",",["T_WHITESPACE","\n            ",300],["T_CONSTANT_ENCAPSED_STRING","'provider'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$providerName",301],",",["T_WHITESPACE","\n            ",301],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$attributeConfig",302],"[",["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",302],"]",",",["T_WHITESPACE","\n            ",302],["T_CONSTANT_ENCAPSED_STRING","'type'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'group'",303],",",["T_WHITESPACE","\n            ",303],["T_CONSTANT_ENCAPSED_STRING","'config'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],"[",["T_WHITESPACE","\n                ",304],["T_CONSTANT_ENCAPSED_STRING","'template'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'ui\/group\/group'",305],",",["T_WHITESPACE","\n                ",305],["T_CONSTANT_ENCAPSED_STRING","'additionalClasses'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$attributeCode",306],["T_WHITESPACE","\n            ",306],"]",",",["T_WHITESPACE","\n            ",307],["T_CONSTANT_ENCAPSED_STRING","'children'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$lines",308],",",["T_WHITESPACE","\n        ",308],"]",";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * @param string $attributeCode\n     * @return null|string\n     *\/",312],["T_WHITESPACE","\n    ",315],["T_PROTECTED","protected",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","getDefaultValue",316],"(",["T_VARIABLE","$attributeCode",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_SWITCH","switch",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$attributeCode",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_CASE","case",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'firstname'",319],":",["T_WHITESPACE","\n                ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getCustomer",320],"(",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                    ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getCustomer",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","getFirstname",321],"(",")",";",["T_WHITESPACE","\n                ",321],"}",["T_WHITESPACE","\n                ",322],["T_BREAK","break",323],";",["T_WHITESPACE","\n            ",323],["T_CASE","case",324],["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'lastname'",324],":",["T_WHITESPACE","\n                ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getCustomer",325],"(",")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                    ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getCustomer",326],"(",")",["T_OBJECT_OPERATOR","->",326],["T_STRING","getLastname",326],"(",")",";",["T_WHITESPACE","\n                ",326],"}",["T_WHITESPACE","\n                ",327],["T_BREAK","break",328],";",["T_WHITESPACE","\n            ",328],["T_CASE","case",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'country_id'",329],":",["T_WHITESPACE","\n                ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","directoryHelper",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getDefaultCountry",330],"(",")",";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_STRING","null",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface|null\n     *\/",335],["T_WHITESPACE","\n    ",337],["T_PROTECTED","protected",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","getCustomer",338],"(",")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(","!",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","customer",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","customerSession",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","isLoggedIn",341],"(",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","customer",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","customerRepository",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getById",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","customerSession",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getCustomerId",342],"(",")",")",";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE"," ",343],["T_ELSE","else",343],["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_STRING","null",344],";",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n        ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","customer",347],";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_DOC_COMMENT","\/**\n     * Retrieve field options from attribute configuration\n     *\n     * @param string $attributeCode\n     * @param array $attributeConfig\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",350],["T_WHITESPACE","\n    ",357],["T_PROTECTED","protected",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","getFieldOptions",358],"(",["T_VARIABLE","$attributeCode",358],",",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$attributeConfig",358],")",["T_WHITESPACE","\n    ",358],"{",["T_WHITESPACE","\n        ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_ISSET","isset",360],"(",["T_VARIABLE","$attributeConfig",360],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",360],"]",")",["T_WHITESPACE"," ",360],"?",["T_WHITESPACE"," ",360],["T_VARIABLE","$attributeConfig",360],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",360],"]",["T_WHITESPACE"," ",360],":",["T_WHITESPACE"," ",360],"[","]",";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Order country options. Move top countries to the beginning of the list.\n     *\n     * @param array $countryOptions\n     * @return array\n     * @deprecated\n     *\/",363],["T_WHITESPACE","\n    ",369],["T_PROTECTED","protected",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","orderCountryOptions",370],"(",["T_ARRAY","array",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$countryOptions",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_EMPTY","empty",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","topCountryCodes",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$countryOptions",373],";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n\n        ",374],["T_VARIABLE","$headOptions",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[","]",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$tailOptions",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],"[","[",["T_WHITESPACE","\n            ",377],["T_CONSTANT_ENCAPSED_STRING","'value'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'delimiter'",378],",",["T_WHITESPACE","\n            ",378],["T_CONSTANT_ENCAPSED_STRING","'label'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080\u00e2\u0094\u0080'",379],",",["T_WHITESPACE","\n            ",379],["T_CONSTANT_ENCAPSED_STRING","'disabled'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_STRING","true",380],",",["T_WHITESPACE","\n        ",380],"]","]",";",["T_WHITESPACE","\n        ",381],["T_FOREACH","foreach",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$countryOptions",382],["T_WHITESPACE"," ",382],["T_AS","as",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$countryOption",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_EMPTY","empty",383],"(",["T_VARIABLE","$countryOption",383],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",383],"]",")",["T_WHITESPACE"," ",383],["T_BOOLEAN_OR","||",383],["T_WHITESPACE"," ",383],["T_STRING","in_array",383],"(",["T_VARIABLE","$countryOption",383],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",383],"]",",",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","topCountryCodes",383],")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_STRING","array_push",384],"(",["T_VARIABLE","$headOptions",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$countryOption",384],")",";",["T_WHITESPACE","\n            ",384],"}",["T_WHITESPACE"," ",385],["T_ELSE","else",385],["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_STRING","array_push",386],"(",["T_VARIABLE","$tailOptions",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$countryOption",386],")",";",["T_WHITESPACE","\n            ",386],"}",["T_WHITESPACE","\n\n        ",387],"}",["T_WHITESPACE","\n        ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_STRING","array_merge",390],"(",["T_VARIABLE","$headOptions",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$tailOptions",390],")",";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n",391],"}",["T_WHITESPACE","\n",392]]