[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Checkout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cart",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Checkout",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Controller",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cart",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Index",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Class IndexTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","CouponPostTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var Index\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$controller",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Model\\Session | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$checkoutSession",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Request\\Http | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$request",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Response\\Http | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$response",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$quote",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\Manager | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$eventManager",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\Manager | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$objectManagerMock",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$cart",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$messageManager",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$couponFactory",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$quoteRepository",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$redirect",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$redirectFactory",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","setUp",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","request",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","App",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Request",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Http",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],",",["T_WHITESPACE"," ",87],"[","]",",",["T_WHITESPACE"," ",87],"[","]",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],",",["T_WHITESPACE"," ",87],["T_STRING","false",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","response",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","App",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Response",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Http",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],"[","]",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","''",88],",",["T_WHITESPACE"," ",88],["T_STRING","false",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","quote",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",["T_WHITESPACE","\n            ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Quote",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Quote",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],",",["T_WHITESPACE","\n            ",90],"[",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",92],",",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",93],",",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",94],",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",97],",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'save'",98],["T_WHITESPACE","\n            ",98],"]",",",["T_WHITESPACE","\n            ",99],"[","]",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","''",101],",",["T_WHITESPACE","\n            ",101],["T_STRING","false",102],["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","eventManager",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Event",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Manager",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE"," ",104],"[","]",",",["T_WHITESPACE"," ",104],"[","]",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","''",104],",",["T_WHITESPACE"," ",104],["T_STRING","false",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","checkoutSession",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMock",105],"(",["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Checkout",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Model",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Session",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],",",["T_WHITESPACE"," ",105],"[","]",",",["T_WHITESPACE"," ",105],"[","]",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","''",105],",",["T_WHITESPACE"," ",105],["T_STRING","false",105],")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","objectManagerMock",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",["T_WHITESPACE","\n            ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Framework",108],["T_NS_SEPARATOR","\\",108],["T_STRING","ObjectManager",108],["T_NS_SEPARATOR","\\",108],["T_STRING","ObjectManager",108],["T_DOUBLE_COLON","::",108],["T_CLASS","class",108],",",["T_WHITESPACE","\n            ",108],"[",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'get'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'escapeHtml'",110],["T_WHITESPACE","\n            ",110],"]",",",["T_WHITESPACE","\n            ",111],"[","]",",",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","''",113],",",["T_WHITESPACE","\n            ",113],["T_STRING","false",114],["T_WHITESPACE","\n        ",114],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","messageManager",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMockBuilder",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Framework",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Message",117],["T_NS_SEPARATOR","\\",117],["T_STRING","ManagerInterface",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","disableOriginalConstructor",118],"(",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMock",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$context",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMock",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","App",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Action",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Context",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],",",["T_WHITESPACE"," ",121],"[","]",",",["T_WHITESPACE"," ",121],"[","]",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","''",121],",",["T_WHITESPACE"," ",121],["T_STRING","false",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$context",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","expects",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","once",122],"(",")",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","method",123],"(",["T_CONSTANT_ENCAPSED_STRING","'getObjectManager'",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","willReturn",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","objectManagerMock",124],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$context",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","expects",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","once",125],"(",")",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","method",126],"(",["T_CONSTANT_ENCAPSED_STRING","'getRequest'",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","willReturn",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","request",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$context",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","expects",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","once",128],"(",")",")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","method",129],"(",["T_CONSTANT_ENCAPSED_STRING","'getResponse'",129],")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","willReturn",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","response",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$context",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","once",131],"(",")",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'getEventManager'",132],")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","willReturn",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","eventManager",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$context",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","once",134],"(",")",")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'getMessageManager'",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturn",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","messageManager",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","redirectFactory",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMock",139],"(",["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Framework",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Controller",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Result",139],["T_NS_SEPARATOR","\\",139],["T_STRING","RedirectFactory",139],["T_DOUBLE_COLON","::",139],["T_CLASS","class",139],",",["T_WHITESPACE"," ",139],"[","]",",",["T_WHITESPACE"," ",139],"[","]",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],",",["T_WHITESPACE"," ",139],["T_STRING","false",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","redirect",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getMock",140],"(",["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Store",140],["T_NS_SEPARATOR","\\",140],["T_STRING","App",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Response",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Redirect",140],["T_DOUBLE_COLON","::",140],["T_CLASS","class",140],",",["T_WHITESPACE"," ",140],"[","]",",",["T_WHITESPACE"," ",140],"[","]",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","''",140],",",["T_WHITESPACE"," ",140],["T_STRING","false",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","redirect",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","any",142],"(",")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getRefererUrl'",143],")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","willReturn",144],"(",["T_STRING","null",144],")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$context",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","once",146],"(",")",")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","method",147],"(",["T_CONSTANT_ENCAPSED_STRING","'getRedirect'",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","willReturn",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","redirect",148],")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$context",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","once",150],"(",")",")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'getResultRedirectFactory'",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","willReturn",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","redirectFactory",152],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","cart",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getMockBuilder",154],"(",["T_NS_SEPARATOR","\\",154],["T_STRING","Magento",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Checkout",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Model",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Cart",154],["T_DOUBLE_COLON","::",154],["T_CLASS","class",154],")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","disableOriginalConstructor",155],"(",")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","getMock",156],"(",")",";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","couponFactory",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getMockBuilder",158],"(",["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","SalesRule",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Model",158],["T_NS_SEPARATOR","\\",158],["T_STRING","CouponFactory",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","disableOriginalConstructor",159],"(",")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","setMethods",160],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",160],"]",")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","getMock",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","quoteRepository",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getMock",162],"(",["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Quote",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Api",162],["T_NS_SEPARATOR","\\",162],["T_STRING","CartRepositoryInterface",162],["T_DOUBLE_COLON","::",162],["T_CLASS","class",162],")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$objectManagerHelper",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Framework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","TestFramework",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Unit",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Helper",164],["T_NS_SEPARATOR","\\",164],["T_STRING","ObjectManager",164],"(",["T_VARIABLE","$this",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","controller",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$objectManagerHelper",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getObject",166],"(",["T_WHITESPACE","\n            ",166],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Checkout",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Controller",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Cart",167],["T_NS_SEPARATOR","\\",167],["T_STRING","CouponPost",167],["T_DOUBLE_COLON","::",167],["T_CLASS","class",167],",",["T_WHITESPACE","\n            ",167],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'context'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$context",169],",",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'checkoutSession'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","checkoutSession",170],",",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'cart'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","cart",171],",",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'couponFactory'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","couponFactory",172],",",["T_WHITESPACE","\n                ",172],["T_CONSTANT_ENCAPSED_STRING","'quoteRepository'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","quoteRepository",173],["T_WHITESPACE","\n            ",173],"]",["T_WHITESPACE","\n        ",174],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","testExecuteWithEmptyCoupon",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","request",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expects",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","at",180],"(",["T_LNUMBER","0",180],")",")",["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","method",181],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",181],")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","with",182],"(",["T_CONSTANT_ENCAPSED_STRING","'remove'",182],")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","willReturn",183],"(",["T_LNUMBER","0",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","request",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","at",185],"(",["T_LNUMBER","1",185],")",")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",186],")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","with",187],"(",["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",187],")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","willReturn",188],"(",["T_CONSTANT_ENCAPSED_STRING","''",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","cart",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","once",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","willReturn",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","quote",192],")",";",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","controller",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","execute",194],"(",")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","testExecuteWithGoodCouponAndItems",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","request",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","at",199],"(",["T_LNUMBER","0",199],")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",200],")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","with",201],"(",["T_CONSTANT_ENCAPSED_STRING","'remove'",201],")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","willReturn",202],"(",["T_LNUMBER","0",202],")",";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","request",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","at",204],"(",["T_LNUMBER","1",204],")",")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","with",206],"(",["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",206],")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","willReturn",207],"(",["T_CONSTANT_ENCAPSED_STRING","'CODE'",207],")",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","cart",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","expects",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","any",209],"(",")",")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","method",210],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",210],")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","willReturn",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","quote",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","quote",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","expects",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","at",213],"(",["T_LNUMBER","0",213],")",")",["T_WHITESPACE","\n            ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","method",214],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",214],")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","willReturn",215],"(",["T_CONSTANT_ENCAPSED_STRING","'OLDCODE'",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$coupon",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getMock",217],"(",["T_NS_SEPARATOR","\\",217],["T_STRING","Magento",217],["T_NS_SEPARATOR","\\",217],["T_STRING","SalesRule",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Model",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Coupon",217],["T_DOUBLE_COLON","::",217],["T_CLASS","class",217],",",["T_WHITESPACE"," ",217],"[","]",",",["T_WHITESPACE"," ",217],"[","]",",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],",",["T_WHITESPACE"," ",217],["T_STRING","false",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","couponFactory",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","willReturn",220],"(",["T_VARIABLE","$coupon",220],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$coupon",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","expects",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","once",221],"(",")",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","method",221],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","willReturnSelf",221],"(",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$coupon",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","expects",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","once",222],"(",")",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","method",222],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",222],")",["T_OBJECT_OPERATOR","->",222],["T_STRING","willReturn",222],"(",["T_LNUMBER","1",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","quote",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","expects",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","any",223],"(",")",")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","method",224],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",224],")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","willReturn",225],"(",["T_LNUMBER","1",225],")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$shippingAddress",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getMock",227],"(",["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Quote",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Model",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Quote",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Address",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],",",["T_WHITESPACE"," ",227],"[","]",",",["T_WHITESPACE"," ",227],"[","]",",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","''",227],",",["T_WHITESPACE"," ",227],["T_STRING","false",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","quote",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","expects",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","any",229],"(",")",")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","method",230],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",230],")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","with",231],"(",["T_STRING","true",231],")",";",["T_WHITESPACE","\n\n        ",231],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","quote",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","expects",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","any",233],"(",")",")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","method",234],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",234],")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","willReturn",235],"(",["T_VARIABLE","$shippingAddress",235],")",";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","quote",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","expects",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","any",237],"(",")",")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",238],")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","willReturn",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","quote",239],")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","quote",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","expects",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","any",241],"(",")",")",["T_WHITESPACE","\n            ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","method",242],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",242],")",["T_WHITESPACE","\n            ",242],["T_OBJECT_OPERATOR","->",243],["T_STRING","with",243],"(",["T_CONSTANT_ENCAPSED_STRING","'CODE'",243],")",["T_WHITESPACE","\n            ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","willReturnSelf",244],"(",")",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","quote",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","expects",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","any",246],"(",")",")",["T_WHITESPACE","\n            ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","method",247],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",247],")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","willReturn",248],"(",["T_CONSTANT_ENCAPSED_STRING","'CODE'",248],")",";",["T_WHITESPACE","\n\n        ",248],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","messageManager",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","once",250],"(",")",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'addSuccess'",251],")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","willReturnSelf",252],"(",")",";",["T_WHITESPACE","\n\n        ",252],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","objectManagerMock",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","once",254],"(",")",")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","method",255],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",255],")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","willReturnSelf",256],"(",")",";",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","controller",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","execute",258],"(",")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","testExecuteWithGoodCouponAndNoItems",261],"(",")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","request",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","expects",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","at",263],"(",["T_LNUMBER","0",263],")",")",["T_WHITESPACE","\n            ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","method",264],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",264],")",["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","with",265],"(",["T_CONSTANT_ENCAPSED_STRING","'remove'",265],")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","willReturn",266],"(",["T_LNUMBER","0",266],")",";",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","request",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","expects",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","at",268],"(",["T_LNUMBER","1",268],")",")",["T_WHITESPACE","\n            ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","method",269],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",269],")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","with",270],"(",["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",270],")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","willReturn",271],"(",["T_CONSTANT_ENCAPSED_STRING","'CODE'",271],")",";",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","cart",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","expects",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","any",273],"(",")",")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","method",274],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",274],")",["T_WHITESPACE","\n            ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","willReturn",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","quote",275],")",";",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","quote",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","expects",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","at",277],"(",["T_LNUMBER","0",277],")",")",["T_WHITESPACE","\n            ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","method",278],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",278],")",["T_WHITESPACE","\n            ",278],["T_OBJECT_OPERATOR","->",279],["T_STRING","willReturn",279],"(",["T_CONSTANT_ENCAPSED_STRING","'OLDCODE'",279],")",";",["T_WHITESPACE","\n\n        ",279],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","quote",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","expects",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","any",281],"(",")",")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","method",282],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",282],")",["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","willReturn",283],"(",["T_LNUMBER","0",283],")",";",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$coupon",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getMock",285],"(",["T_NS_SEPARATOR","\\",285],["T_STRING","Magento",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Quote",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Model",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Quote",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Address",285],["T_DOUBLE_COLON","::",285],["T_CLASS","class",285],",",["T_WHITESPACE"," ",285],"[","]",",",["T_WHITESPACE"," ",285],"[","]",",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","''",285],",",["T_WHITESPACE"," ",285],["T_STRING","false",285],")",";",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$coupon",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","expects",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","once",287],"(",")",")",["T_WHITESPACE","\n            ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","method",288],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",288],")",["T_WHITESPACE","\n            ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","willReturn",289],"(",["T_LNUMBER","1",289],")",";",["T_WHITESPACE","\n\n        ",289],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","couponFactory",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","expects",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","once",291],"(",")",")",["T_WHITESPACE","\n            ",291],["T_OBJECT_OPERATOR","->",292],["T_STRING","method",292],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",292],")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","willReturn",293],"(",["T_VARIABLE","$coupon",293],")",";",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","checkoutSession",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","expects",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","once",295],"(",")",")",["T_WHITESPACE","\n            ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","method",296],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",296],")",["T_WHITESPACE","\n            ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","willReturn",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","quote",297],")",";",["T_WHITESPACE","\n\n        ",297],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","quote",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","expects",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","any",299],"(",")",")",["T_WHITESPACE","\n            ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","method",300],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",300],")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","with",301],"(",["T_CONSTANT_ENCAPSED_STRING","'CODE'",301],")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","willReturnSelf",302],"(",")",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","messageManager",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","expects",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","once",304],"(",")",")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","method",305],"(",["T_CONSTANT_ENCAPSED_STRING","'addSuccess'",305],")",["T_WHITESPACE","\n            ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","willReturnSelf",306],"(",")",";",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","objectManagerMock",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","expects",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","once",308],"(",")",")",["T_WHITESPACE","\n            ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","method",309],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",309],")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","willReturnSelf",310],"(",")",";",["T_WHITESPACE","\n\n        ",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","controller",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","execute",312],"(",")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","testExecuteWithBadCouponAndItems",315],"(",")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","request",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","expects",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","at",317],"(",["T_LNUMBER","0",317],")",")",["T_WHITESPACE","\n            ",317],["T_OBJECT_OPERATOR","->",318],["T_STRING","method",318],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",318],")",["T_WHITESPACE","\n            ",318],["T_OBJECT_OPERATOR","->",319],["T_STRING","with",319],"(",["T_CONSTANT_ENCAPSED_STRING","'remove'",319],")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","willReturn",320],"(",["T_LNUMBER","0",320],")",";",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","request",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","expects",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","at",322],"(",["T_LNUMBER","1",322],")",")",["T_WHITESPACE","\n            ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","method",323],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",323],")",["T_WHITESPACE","\n            ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","with",324],"(",["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",324],")",["T_WHITESPACE","\n            ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","willReturn",325],"(",["T_CONSTANT_ENCAPSED_STRING","''",325],")",";",["T_WHITESPACE","\n\n        ",325],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","cart",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","expects",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","any",327],"(",")",")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","method",328],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",328],")",["T_WHITESPACE","\n            ",328],["T_OBJECT_OPERATOR","->",329],["T_STRING","willReturn",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","quote",329],")",";",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","quote",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","expects",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","at",331],"(",["T_LNUMBER","0",331],")",")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","method",332],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",332],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","willReturn",333],"(",["T_CONSTANT_ENCAPSED_STRING","'OLDCODE'",333],")",";",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","quote",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","expects",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","any",335],"(",")",")",["T_WHITESPACE","\n            ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","method",336],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",336],")",["T_WHITESPACE","\n            ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","willReturn",337],"(",["T_LNUMBER","1",337],")",";",["T_WHITESPACE","\n\n        ",337],["T_VARIABLE","$shippingAddress",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getMock",339],"(",["T_NS_SEPARATOR","\\",339],["T_STRING","Magento",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Quote",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Model",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Quote",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Address",339],["T_DOUBLE_COLON","::",339],["T_CLASS","class",339],",",["T_WHITESPACE"," ",339],"[","]",",",["T_WHITESPACE"," ",339],"[","]",",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","''",339],",",["T_WHITESPACE"," ",339],["T_STRING","false",339],")",";",["T_WHITESPACE","\n\n        ",339],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","quote",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","expects",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","any",341],"(",")",")",["T_WHITESPACE","\n            ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","method",342],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",342],")",["T_WHITESPACE","\n            ",342],["T_OBJECT_OPERATOR","->",343],["T_STRING","with",343],"(",["T_STRING","true",343],")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","quote",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","expects",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","any",345],"(",")",")",["T_WHITESPACE","\n            ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","method",346],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",346],")",["T_WHITESPACE","\n            ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","willReturn",347],"(",["T_VARIABLE","$shippingAddress",347],")",";",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","quote",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","expects",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","any",349],"(",")",")",["T_WHITESPACE","\n            ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","method",350],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",350],")",["T_WHITESPACE","\n            ",350],["T_OBJECT_OPERATOR","->",351],["T_STRING","willReturn",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","quote",351],")",";",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","quote",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","expects",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","any",353],"(",")",")",["T_WHITESPACE","\n            ",353],["T_OBJECT_OPERATOR","->",354],["T_STRING","method",354],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",354],")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","with",355],"(",["T_CONSTANT_ENCAPSED_STRING","''",355],")",["T_WHITESPACE","\n            ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","willReturnSelf",356],"(",")",";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","messageManager",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","expects",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","once",358],"(",")",")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","method",359],"(",["T_CONSTANT_ENCAPSED_STRING","'addSuccess'",359],")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","with",360],"(",["T_CONSTANT_ENCAPSED_STRING","'You canceled the coupon code.'",360],")",["T_WHITESPACE","\n            ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","willReturnSelf",361],"(",")",";",["T_WHITESPACE","\n\n        ",361],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","controller",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","execute",363],"(",")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_PUBLIC","public",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","testExecuteWithBadCouponAndNoItems",366],"(",")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","request",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","expects",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","at",368],"(",["T_LNUMBER","0",368],")",")",["T_WHITESPACE","\n            ",368],["T_OBJECT_OPERATOR","->",369],["T_STRING","method",369],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",369],")",["T_WHITESPACE","\n            ",369],["T_OBJECT_OPERATOR","->",370],["T_STRING","with",370],"(",["T_CONSTANT_ENCAPSED_STRING","'remove'",370],")",["T_WHITESPACE","\n            ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","willReturn",371],"(",["T_LNUMBER","0",371],")",";",["T_WHITESPACE","\n\n        ",371],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","request",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","expects",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","at",373],"(",["T_LNUMBER","1",373],")",")",["T_WHITESPACE","\n            ",373],["T_OBJECT_OPERATOR","->",374],["T_STRING","method",374],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",374],")",["T_WHITESPACE","\n            ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","with",375],"(",["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",375],")",["T_WHITESPACE","\n            ",375],["T_OBJECT_OPERATOR","->",376],["T_STRING","willReturn",376],"(",["T_CONSTANT_ENCAPSED_STRING","'CODE'",376],")",";",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","cart",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","expects",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","any",378],"(",")",")",["T_WHITESPACE","\n            ",378],["T_OBJECT_OPERATOR","->",379],["T_STRING","method",379],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",379],")",["T_WHITESPACE","\n            ",379],["T_OBJECT_OPERATOR","->",380],["T_STRING","willReturn",380],"(",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","quote",380],")",";",["T_WHITESPACE","\n\n        ",380],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","quote",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","expects",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","at",382],"(",["T_LNUMBER","0",382],")",")",["T_WHITESPACE","\n            ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","method",383],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",383],")",["T_WHITESPACE","\n            ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","willReturn",384],"(",["T_CONSTANT_ENCAPSED_STRING","'OLDCODE'",384],")",";",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","quote",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","expects",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","any",386],"(",")",")",["T_WHITESPACE","\n            ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","method",387],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",387],")",["T_WHITESPACE","\n            ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","willReturn",388],"(",["T_LNUMBER","0",388],")",";",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$coupon",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getMock",390],"(",["T_NS_SEPARATOR","\\",390],["T_STRING","Magento",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Quote",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Model",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Quote",390],["T_NS_SEPARATOR","\\",390],["T_STRING","Address",390],["T_DOUBLE_COLON","::",390],["T_CLASS","class",390],",",["T_WHITESPACE"," ",390],"[","]",",",["T_WHITESPACE"," ",390],"[","]",",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","''",390],",",["T_WHITESPACE"," ",390],["T_STRING","false",390],")",";",["T_WHITESPACE","\n\n        ",390],["T_VARIABLE","$coupon",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","expects",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","once",392],"(",")",")",["T_WHITESPACE","\n            ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","method",393],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",393],")",["T_WHITESPACE","\n            ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","willReturn",394],"(",["T_LNUMBER","0",394],")",";",["T_WHITESPACE","\n\n        ",394],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","couponFactory",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","expects",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","once",396],"(",")",")",["T_WHITESPACE","\n            ",396],["T_OBJECT_OPERATOR","->",397],["T_STRING","method",397],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",397],")",["T_WHITESPACE","\n            ",397],["T_OBJECT_OPERATOR","->",398],["T_STRING","willReturn",398],"(",["T_VARIABLE","$coupon",398],")",";",["T_WHITESPACE","\n\n        ",398],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","messageManager",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","expects",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","once",400],"(",")",")",["T_WHITESPACE","\n            ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","method",401],"(",["T_CONSTANT_ENCAPSED_STRING","'addError'",401],")",["T_WHITESPACE","\n            ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","willReturnSelf",402],"(",")",";",["T_WHITESPACE","\n\n        ",402],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","objectManagerMock",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","expects",404],"(",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","once",404],"(",")",")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","method",405],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",405],")",["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","willReturnSelf",406],"(",")",";",["T_WHITESPACE","\n\n        ",406],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","controller",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","execute",408],"(",")",";",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n",409],"}",["T_WHITESPACE","\n",410]]