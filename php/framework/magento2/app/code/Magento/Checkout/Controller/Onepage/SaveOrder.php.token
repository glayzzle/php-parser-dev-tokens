[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Checkout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Onepage",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataObject",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PaymentException",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","SaveOrder",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Checkout",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Controller",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Onepage",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Create order action\n     *\n     * @return \\Magento\\Framework\\Controller\\ResultInterface\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",13],["T_WHITESPACE","\n    ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","execute",20],"(",")",["T_WHITESPACE","\n    ",20],"{",["T_WHITESPACE","\n        ",21],["T_IF","if",22],["T_WHITESPACE"," ",22],"(","!",["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","_formKeyValidator",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","validate",22],"(",["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getRequest",22],"(",")",")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n            ",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","resultRedirectFactory",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","create",23],"(",")",["T_OBJECT_OPERATOR","->",23],["T_STRING","setPath",23],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",23],")",";",["T_WHITESPACE","\n        ",23],"}",["T_WHITESPACE","\n\n        ",24],["T_IF","if",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","_expireAjax",26],"(",")",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n            ",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","_ajaxRedirectResponse",27],"(",")",";",["T_WHITESPACE","\n        ",27],"}",["T_WHITESPACE","\n\n        ",28],["T_VARIABLE","$result",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","DataObject",30],"(",")",";",["T_WHITESPACE","\n        ",30],["T_TRY","try",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n            ",31],["T_VARIABLE","$agreementsValidator",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","_objectManager",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","get",32],"(",["T_WHITESPACE","\n                ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CheckoutAgreements",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","AgreementsValidator",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],["T_WHITESPACE","\n            ",33],")",";",["T_WHITESPACE","\n            ",34],["T_IF","if",35],["T_WHITESPACE"," ",35],"(","!",["T_VARIABLE","$agreementsValidator",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","isValid",35],"(",["T_STRING","array_keys",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getRequest",35],"(",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","getPost",35],"(",["T_CONSTANT_ENCAPSED_STRING","'agreement'",35],",",["T_WHITESPACE"," ",35],"[","]",")",")",")",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n                ",35],["T_VARIABLE","$result",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","setData",36],"(",["T_CONSTANT_ENCAPSED_STRING","'success'",36],",",["T_WHITESPACE"," ",36],["T_STRING","false",36],")",";",["T_WHITESPACE","\n                ",36],["T_VARIABLE","$result",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","setData",37],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",37],",",["T_WHITESPACE"," ",37],["T_STRING","true",37],")",";",["T_WHITESPACE","\n                ",37],["T_VARIABLE","$result",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","setData",38],"(",["T_WHITESPACE","\n                    ",38],["T_CONSTANT_ENCAPSED_STRING","'error_messages'",39],",",["T_WHITESPACE","\n                    ",39],["T_STRING","__",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Please agree to all the terms and conditions before placing the order.'",40],")",["T_WHITESPACE","\n                ",40],")",";",["T_WHITESPACE","\n                ",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","resultJsonFactory",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","create",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","setData",42],"(",["T_VARIABLE","$result",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getData",42],"(",")",")",";",["T_WHITESPACE","\n            ",42],"}",["T_WHITESPACE","\n\n            ",43],["T_VARIABLE","$data",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getRequest",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","getPost",45],"(",["T_CONSTANT_ENCAPSED_STRING","'payment'",45],",",["T_WHITESPACE"," ",45],"[","]",")",";",["T_WHITESPACE","\n            ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$data",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n                ",46],["T_VARIABLE","$data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'checks'",47],"]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n                    ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Payment",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Method",48],["T_NS_SEPARATOR","\\",48],["T_STRING","AbstractMethod",48],["T_DOUBLE_COLON","::",48],["T_STRING","CHECK_USE_CHECKOUT",48],",",["T_WHITESPACE","\n                    ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Payment",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Method",49],["T_NS_SEPARATOR","\\",49],["T_STRING","AbstractMethod",49],["T_DOUBLE_COLON","::",49],["T_STRING","CHECK_USE_FOR_COUNTRY",49],",",["T_WHITESPACE","\n                    ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Payment",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Method",50],["T_NS_SEPARATOR","\\",50],["T_STRING","AbstractMethod",50],["T_DOUBLE_COLON","::",50],["T_STRING","CHECK_USE_FOR_CURRENCY",50],",",["T_WHITESPACE","\n                    ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Payment",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Method",51],["T_NS_SEPARATOR","\\",51],["T_STRING","AbstractMethod",51],["T_DOUBLE_COLON","::",51],["T_STRING","CHECK_ORDER_TOTAL_MIN_MAX",51],",",["T_WHITESPACE","\n                    ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Payment",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Method",52],["T_NS_SEPARATOR","\\",52],["T_STRING","AbstractMethod",52],["T_DOUBLE_COLON","::",52],["T_STRING","CHECK_ZERO_TOTAL",52],",",["T_WHITESPACE","\n                ",52],"]",";",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getOnepage",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getQuote",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getPayment",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","setQuote",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getOnepage",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getQuote",54],"(",")",")",";",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getOnepage",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getQuote",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getPayment",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","importData",55],"(",["T_VARIABLE","$data",55],")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE","\n\n            ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getOnepage",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","saveOrder",58],"(",")",";",["T_WHITESPACE","\n\n            ",58],["T_VARIABLE","$redirectUrl",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getOnepage",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getCheckout",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getRedirectUrl",60],"(",")",";",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$result",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setData",61],"(",["T_CONSTANT_ENCAPSED_STRING","'success'",61],",",["T_WHITESPACE"," ",61],["T_STRING","true",61],")",";",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$result",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setData",62],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",62],",",["T_WHITESPACE"," ",62],["T_STRING","false",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE"," ",63],["T_CATCH","catch",63],["T_WHITESPACE"," ",63],"(",["T_STRING","PaymentException",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$e",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$message",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$e",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMessage",64],"(",")",";",["T_WHITESPACE","\n            ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(","!",["T_EMPTY","empty",65],"(",["T_VARIABLE","$message",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$result",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setData",66],"(",["T_CONSTANT_ENCAPSED_STRING","'error_messages'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$message",66],")",";",["T_WHITESPACE","\n            ",66],"}",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$result",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setData",68],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_section'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'payment'",68],")",";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$result",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setData",69],"(",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'update_section'",70],",",["T_WHITESPACE","\n                ",70],"[",["T_WHITESPACE","\n                    ",71],["T_CONSTANT_ENCAPSED_STRING","'name'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'payment-method'",72],",",["T_WHITESPACE","\n                    ",72],["T_CONSTANT_ENCAPSED_STRING","'html'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_getPaymentMethodsHtml",73],"(",")",["T_WHITESPACE","\n                ",73],"]",["T_WHITESPACE","\n            ",74],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_CATCH","catch",76],["T_WHITESPACE"," ",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Exception",76],["T_NS_SEPARATOR","\\",76],["T_STRING","LocalizedException",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$e",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_objectManager",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","Psr",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Log",77],["T_NS_SEPARATOR","\\",77],["T_STRING","LoggerInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","critical",77],"(",["T_VARIABLE","$e",77],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Checkout",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Helper",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Data",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",["T_WHITESPACE","\n                ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","sendPaymentFailedEmail",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getOnepage",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getQuote",79],"(",")",",",["T_WHITESPACE"," ",79],["T_VARIABLE","$e",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMessage",79],"(",")",")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$result",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setData",80],"(",["T_WHITESPACE","\n                ",80],["T_CONSTANT_ENCAPSED_STRING","'success'",81],",",["T_WHITESPACE","\n                ",81],["T_STRING","false",82],["T_WHITESPACE","\n            ",82],")",";",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$result",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setData",84],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",84],",",["T_WHITESPACE"," ",84],["T_STRING","true",84],")",";",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$result",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setData",85],"(",["T_CONSTANT_ENCAPSED_STRING","'error_messages'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$e",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMessage",85],"(",")",")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$gotoSection",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getOnepage",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getCheckout",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getGotoSection",86],"(",")",";",["T_WHITESPACE","\n            ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$gotoSection",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$result",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setData",88],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_section'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$gotoSection",88],")",";",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getOnepage",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getCheckout",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","setGotoSection",89],"(",["T_STRING","null",89],")",";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n\n            ",90],["T_VARIABLE","$updateSection",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getOnepage",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getCheckout",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getUpdateSection",92],"(",")",";",["T_WHITESPACE","\n            ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$updateSection",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_sectionUpdateFunctions",94],"[",["T_VARIABLE","$updateSection",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                    ",94],["T_VARIABLE","$updateSectionFunction",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_sectionUpdateFunctions",95],"[",["T_VARIABLE","$updateSection",95],"]",";",["T_WHITESPACE","\n                    ",95],["T_VARIABLE","$result",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setData",96],"(",["T_WHITESPACE","\n                        ",96],["T_CONSTANT_ENCAPSED_STRING","'update_section'",97],",",["T_WHITESPACE","\n                        ",97],"[",["T_WHITESPACE","\n                            ",98],["T_CONSTANT_ENCAPSED_STRING","'name'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$updateSection",99],",",["T_WHITESPACE","\n                            ",99],["T_CONSTANT_ENCAPSED_STRING","'html'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],"{",["T_VARIABLE","$updateSectionFunction",100],"}","(",")",",",["T_WHITESPACE","\n                        ",100],"]",["T_WHITESPACE","\n                    ",101],")",";",["T_WHITESPACE","\n                ",102],"}",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getOnepage",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getCheckout",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","setUpdateSection",104],"(",["T_STRING","null",104],")",";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE"," ",106],["T_CATCH","catch",106],["T_WHITESPACE"," ",106],"(",["T_NS_SEPARATOR","\\",106],["T_STRING","Exception",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$e",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_objectManager",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Psr",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Log",107],["T_NS_SEPARATOR","\\",107],["T_STRING","LoggerInterface",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","critical",107],"(",["T_VARIABLE","$e",107],")",";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_objectManager",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","get",108],"(",["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Checkout",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Helper",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Data",108],["T_DOUBLE_COLON","::",108],["T_CLASS","class",108],")",["T_WHITESPACE","\n                ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","sendPaymentFailedEmail",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getOnepage",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getQuote",109],"(",")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$e",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMessage",109],"(",")",")",";",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$result",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setData",110],"(",["T_CONSTANT_ENCAPSED_STRING","'success'",110],",",["T_WHITESPACE"," ",110],["T_STRING","false",110],")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$result",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setData",111],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",111],",",["T_WHITESPACE"," ",111],["T_STRING","true",111],")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$result",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setData",112],"(",["T_WHITESPACE","\n                ",112],["T_CONSTANT_ENCAPSED_STRING","'error_messages'",113],",",["T_WHITESPACE","\n                ",113],["T_STRING","__",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while processing your order. Please try again later.'",114],")",["T_WHITESPACE","\n            ",114],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_DOC_COMMENT","\/**\n         * when there is redirect to third party, we don't want to save order yet.\n         * we will save the order in return action.\n         *\/",117],["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_ISSET","isset",121],"(",["T_VARIABLE","$redirectUrl",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$result",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setData",122],"(",["T_CONSTANT_ENCAPSED_STRING","'redirect'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$redirectUrl",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_eventManager",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","dispatch",125],"(",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'checkout_controller_onepage_saveOrder'",126],",",["T_WHITESPACE","\n            ",126],"[",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","'result'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$result",128],",",["T_WHITESPACE","\n                ",128],["T_CONSTANT_ENCAPSED_STRING","'action'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_WHITESPACE","\n            ",129],"]",["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","resultJsonFactory",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","create",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","setData",133],"(",["T_VARIABLE","$result",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getData",133],"(",")",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n",135]]