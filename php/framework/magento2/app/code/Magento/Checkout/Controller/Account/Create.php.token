[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Checkout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Account",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AlreadyExistsException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NoSuchEntityException",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Create",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Model\\Session\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$checkoutSession",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$customerSession",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\OrderCustomerManagementInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$orderCustomerService",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Action\\Context $context\n     * @param \\Magento\\Checkout\\Model\\Session $checkoutSession\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Sales\\Api\\OrderCustomerManagementInterface $orderCustomerService\n     * @codeCoverageIgnore\n     *\/",28],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","App",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Action",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Context",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$context",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Checkout",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Session",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$checkoutSession",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Customer",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Session",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$customerSession",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Sales",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Api",39],["T_NS_SEPARATOR","\\",39],["T_STRING","OrderCustomerManagementInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$orderCustomerService",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","checkoutSession",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$checkoutSession",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","customerSession",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$customerSession",42],";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","orderCustomerService",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$orderCustomerService",43],";",["T_WHITESPACE","\n        ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","__construct",44],"(",["T_VARIABLE","$context",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Execute request\n     *\n     * @throws AlreadyExistsException\n     * @throws NoSuchEntityException\n     * @throws \\Exception\n     * @return \\Magento\\Framework\\Controller\\Result\\Json\n     *\/",47],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","execute",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Json $resultJson *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$resultJson",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_objectManager",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Controller",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Result",58],["T_NS_SEPARATOR","\\",58],["T_STRING","JsonFactory",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","create",58],"(",")",";",["T_WHITESPACE","\n\n        ",58],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","customerSession",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","isLoggedIn",60],"(",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$resultJson",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setData",61],"(",["T_WHITESPACE","\n                ",61],"[",["T_WHITESPACE","\n                    ",62],["T_CONSTANT_ENCAPSED_STRING","'errors'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","true",63],",",["T_WHITESPACE","\n                    ",63],["T_CONSTANT_ENCAPSED_STRING","'message'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","__",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer is already registered'",64],")",["T_WHITESPACE","\n                ",64],"]",["T_WHITESPACE","\n            ",65],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$orderId",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","checkoutSession",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getLastOrderId",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_VARIABLE","$orderId",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$resultJson",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setData",70],"(",["T_WHITESPACE","\n                ",70],"[",["T_WHITESPACE","\n                    ",71],["T_CONSTANT_ENCAPSED_STRING","'errors'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","true",72],",",["T_WHITESPACE","\n                    ",72],["T_CONSTANT_ENCAPSED_STRING","'message'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Your session has expired'",73],")",["T_WHITESPACE","\n                ",73],"]",["T_WHITESPACE","\n            ",74],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n        ",76],["T_TRY","try",77],["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","orderCustomerService",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","create",78],"(",["T_VARIABLE","$orderId",78],")",";",["T_WHITESPACE","\n            ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$resultJson",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setData",79],"(",["T_WHITESPACE","\n                ",79],"[",["T_WHITESPACE","\n                    ",80],["T_CONSTANT_ENCAPSED_STRING","'errors'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_STRING","false",81],",",["T_WHITESPACE","\n                    ",81],["T_CONSTANT_ENCAPSED_STRING","'message'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'A letter with further instructions will be sent to your email.'",82],")",["T_WHITESPACE","\n                ",82],"]",["T_WHITESPACE","\n            ",83],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE"," ",85],["T_CATCH","catch",85],["T_WHITESPACE"," ",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","Exception",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$e",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","messageManager",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","addException",86],"(",["T_VARIABLE","$e",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$e",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMessage",86],"(",")",")",";",["T_WHITESPACE","\n            ",86],["T_THROW","throw",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$e",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n",89],"}",["T_WHITESPACE","\n",90]]