[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Checkout",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CartRepositoryInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CouldNotSaveException",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","GuestPaymentInformationManagement",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Checkout",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","GuestPaymentInformationManagementInterface",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\GuestBillingAddressManagementInterface\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$billingAddressManagement",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\GuestPaymentMethodManagementInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$paymentMethodManagement",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\GuestCartManagementInterface\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$cartManagement",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Api\\PaymentInformationManagementInterface\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$paymentInformationManagement",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\QuoteIdMaskFactory\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$quoteIdMaskFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var CartRepositoryInterface\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$cartRepository",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$logger",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Api\\GuestBillingAddressManagementInterface $billingAddressManagement\n     * @param \\Magento\\Quote\\Api\\GuestPaymentMethodManagementInterface $paymentMethodManagement\n     * @param \\Magento\\Quote\\Api\\GuestCartManagementInterface $cartManagement\n     * @param \\Magento\\Checkout\\Api\\PaymentInformationManagementInterface $paymentInformationManagement\n     * @param \\Magento\\Quote\\Model\\QuoteIdMaskFactory $quoteIdMaskFactory\n     * @param CartRepositoryInterface $cartRepository\n     * @codeCoverageIgnore\n     *\/",53],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Quote",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Api",63],["T_NS_SEPARATOR","\\",63],["T_STRING","GuestBillingAddressManagementInterface",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$billingAddressManagement",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Quote",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Api",64],["T_NS_SEPARATOR","\\",64],["T_STRING","GuestPaymentMethodManagementInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$paymentMethodManagement",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Quote",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Api",65],["T_NS_SEPARATOR","\\",65],["T_STRING","GuestCartManagementInterface",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$cartManagement",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Checkout",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Api",66],["T_NS_SEPARATOR","\\",66],["T_STRING","PaymentInformationManagementInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$paymentInformationManagement",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Quote",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Model",67],["T_NS_SEPARATOR","\\",67],["T_STRING","QuoteIdMaskFactory",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$quoteIdMaskFactory",67],",",["T_WHITESPACE","\n        ",67],["T_STRING","CartRepositoryInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$cartRepository",68],["T_WHITESPACE","\n    ",68],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","billingAddressManagement",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$billingAddressManagement",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","paymentMethodManagement",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$paymentMethodManagement",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","cartManagement",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$cartManagement",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","paymentInformationManagement",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$paymentInformationManagement",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","quoteIdMaskFactory",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$quoteIdMaskFactory",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","cartRepository",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$cartRepository",75],";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","savePaymentInformationAndPlaceOrder",81],"(",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$cartId",82],",",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$email",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Quote",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Api",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Data",84],["T_NS_SEPARATOR","\\",84],["T_STRING","PaymentInterface",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$paymentMethod",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Quote",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Api",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Data",85],["T_NS_SEPARATOR","\\",85],["T_STRING","AddressInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$billingAddress",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","null",85],["T_WHITESPACE","\n    ",85],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","savePaymentInformation",87],"(",["T_VARIABLE","$cartId",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$email",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$paymentMethod",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$billingAddress",87],")",";",["T_WHITESPACE","\n        ",87],["T_TRY","try",88],["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$orderId",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","cartManagement",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","placeOrder",89],"(",["T_VARIABLE","$cartId",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE"," ",90],["T_CATCH","catch",90],["T_WHITESPACE"," ",90],"(",["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Exception",90],["T_NS_SEPARATOR","\\",90],["T_STRING","LocalizedException",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$e",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_THROW","throw",91],["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","CouldNotSaveException",91],"(",["T_WHITESPACE","\n                ",91],["T_STRING","__",92],"(",["T_VARIABLE","$e",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMessage",92],"(",")",")",",",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$e",93],["T_WHITESPACE","\n            ",93],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE"," ",95],["T_CATCH","catch",95],["T_WHITESPACE"," ",95],"(",["T_NS_SEPARATOR","\\",95],["T_STRING","Exception",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$e",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getLogger",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","critical",96],"(",["T_VARIABLE","$e",96],")",";",["T_WHITESPACE","\n            ",96],["T_THROW","throw",97],["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_STRING","CouldNotSaveException",97],"(",["T_WHITESPACE","\n                ",97],["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred on the server. Please try to place the order again.'",98],")",",",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$e",99],["T_WHITESPACE","\n            ",99],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$orderId",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","savePaymentInformation",108],"(",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$cartId",109],",",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$email",110],",",["T_WHITESPACE","\n        ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Quote",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Api",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Data",111],["T_NS_SEPARATOR","\\",111],["T_STRING","PaymentInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$paymentMethod",111],",",["T_WHITESPACE","\n        ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Quote",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Api",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Data",112],["T_NS_SEPARATOR","\\",112],["T_STRING","AddressInterface",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$billingAddress",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","null",112],["T_WHITESPACE","\n    ",112],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$billingAddress",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$billingAddress",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setEmail",115],"(",["T_VARIABLE","$email",115],")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","billingAddressManagement",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assign",116],"(",["T_VARIABLE","$cartId",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$billingAddress",116],")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE"," ",117],["T_ELSE","else",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$quoteIdMask",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","quoteIdMaskFactory",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","create",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","load",118],"(",["T_VARIABLE","$cartId",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'masked_id'",118],")",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","cartRepository",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getActive",119],"(",["T_VARIABLE","$quoteIdMask",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getQuoteId",119],"(",")",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getBillingAddress",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","setEmail",119],"(",["T_VARIABLE","$email",119],")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","paymentMethodManagement",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","set",122],"(",["T_VARIABLE","$cartId",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$paymentMethod",122],")",";",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","true",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","getPaymentInformation",129],"(",["T_VARIABLE","$cartId",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$quoteIdMask",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","quoteIdMaskFactory",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","create",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","load",131],"(",["T_VARIABLE","$cartId",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'masked_id'",131],")",";",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","paymentInformationManagement",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getPaymentInformation",132],"(",["T_VARIABLE","$quoteIdMask",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getQuoteId",132],"(",")",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Get logger instance\n     *\n     * @return \\Psr\\Log\\LoggerInterface\n     * @deprecated\n     *\/",135],["T_WHITESPACE","\n    ",140],["T_PRIVATE","private",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getLogger",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","logger",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","logger",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Framework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","App",144],["T_NS_SEPARATOR","\\",144],["T_STRING","ObjectManager",144],["T_DOUBLE_COLON","::",144],["T_STRING","getInstance",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","get",144],"(",["T_NS_SEPARATOR","\\",144],["T_STRING","Psr",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Log",144],["T_NS_SEPARATOR","\\",144],["T_STRING","LoggerInterface",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","logger",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n",147],"}",["T_WHITESPACE","\n",148]]