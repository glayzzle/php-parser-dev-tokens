[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Vault",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filter",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FilterBuilder",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SearchCriteria",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SearchCriteriaBuilder",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Encryption",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EncryptorInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Intl",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DateTimeFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestFramework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Unit",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Matcher",14],["T_NS_SEPARATOR","\\",14],["T_STRING","MethodInvokedAtIndex",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Sales",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OrderPaymentInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Sales",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Order",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Payment",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Vault",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Api",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Data",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PaymentTokenInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Vault",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Api",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PaymentTokenSearchResultsInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Vault",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Data",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PaymentTokenSearchResultsInterfaceFactory",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Vault",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Api",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PaymentTokenRepositoryInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Vault",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PaymentTokenFactory",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Vault",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","PaymentTokenManagement",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Vault",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ResourceModel",23],["T_NS_SEPARATOR","\\",23],["T_STRING","PaymentToken",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Vault",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ResourceModel",24],["T_NS_SEPARATOR","\\",24],["T_STRING","PaymentToken",24],["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_STRING","PaymentTokenResourceModel",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Class PaymentTokenManagementTest\n *\n * @see \\Magento\\Vault\\Model\\PaymentTokenManagement\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",26],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","PaymentTokenManagementTest",32],["T_WHITESPACE"," ",32],["T_EXTENDS","extends",32],["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","PHPUnit_Framework_TestCase",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenManagement\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$paymentTokenManagement",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$paymentTokenRepository",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenResourceModel|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$paymentTokenResourceModel",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenResourceModel|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PRIVATE","private",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$resourceModel",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$paymentTokenFactory",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenSearchResultsInterfaceFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$searchResultsFactory",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var FilterBuilder|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PRIVATE","private",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$filterBuilder",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var SearchCriteriaBuilder|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PRIVATE","private",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$searchCriteriaBuilder",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var EncryptorInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PRIVATE","private",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$encryptor",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @var DateTimeFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PRIVATE","private",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$dateTimeFactory",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Set up\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","setUp",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","paymentTokenRepository",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMockBuilder",89],"(",["T_STRING","PaymentTokenRepositoryInterface",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMockForAbstractClass",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","paymentTokenResourceModel",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMockBuilder",91],"(",["T_STRING","PaymentTokenResourceModel",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","disableOriginalConstructor",92],"(",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMock",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","resourceModel",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMockBuilder",94],"(",["T_STRING","PaymentTokenResourceModel",94],["T_DOUBLE_COLON","::",94],["T_CLASS","class",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","disableOriginalConstructor",95],"(",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMock",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","paymentTokenFactory",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMockBuilder",97],"(",["T_STRING","PaymentTokenFactory",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","setMethods",98],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",98],"]",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","disableOriginalConstructor",99],"(",")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMock",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","searchResultsFactory",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMockBuilder",101],"(",["T_STRING","PaymentTokenSearchResultsInterfaceFactory",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","setMethods",102],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",102],"]",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","disableOriginalConstructor",103],"(",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","filterBuilder",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMockBuilder",105],"(",["T_STRING","FilterBuilder",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","disableOriginalConstructor",106],"(",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","searchCriteriaBuilder",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getMockBuilder",108],"(",["T_STRING","SearchCriteriaBuilder",108],["T_DOUBLE_COLON","::",108],["T_CLASS","class",108],")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","disableOriginalConstructor",109],"(",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","encryptor",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMock",111],"(",["T_STRING","EncryptorInterface",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","dateTimeFactory",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMockBuilder",112],"(",["T_STRING","DateTimeFactory",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","disableOriginalConstructor",113],"(",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMock",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","paymentTokenManagement",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NEW","new",116],["T_WHITESPACE"," ",116],["T_STRING","PaymentTokenManagement",116],"(",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","paymentTokenRepository",117],",",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","paymentTokenResourceModel",118],",",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","paymentTokenFactory",119],",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","filterBuilder",120],",",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","searchCriteriaBuilder",121],",",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","searchResultsFactory",122],",",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","encryptor",123],",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","dateTimeFactory",124],["T_WHITESPACE","\n        ",124],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Run test for getListByCustomerId method\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","testGetListByCustomerId",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $tokenMock *\/",133],["T_WHITESPACE","\n        ",133],["T_VARIABLE","$tokenMock",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMockBuilder",134],"(",["T_STRING","PaymentTokenInterface",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMockForAbstractClass",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_DOC_COMMENT","\/** @var Filter| $filterMock *\/",136],["T_WHITESPACE","\n        ",136],["T_VARIABLE","$filterMock",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockBuilder",137],"(",["T_STRING","Filter",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","disableOriginalConstructor",138],"(",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMock",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$searchCriteria",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getMockBuilder",140],"(",["T_STRING","SearchCriteria",140],["T_DOUBLE_COLON","::",140],["T_CLASS","class",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","disableOriginalConstructor",141],"(",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMock",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$searchResult",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMockBuilder",143],"(",["T_STRING","PaymentTokenSearchResultsInterface",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMockForAbstractClass",144],"(",")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","filterBuilder",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_STRING","self",146],["T_DOUBLE_COLON","::",146],["T_STRING","once",146],"(",")",")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","method",147],"(",["T_CONSTANT_ENCAPSED_STRING","'setField'",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","with",148],"(",["T_STRING","PaymentTokenInterface",148],["T_DOUBLE_COLON","::",148],["T_STRING","CUSTOMER_ID",148],")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","willReturnSelf",149],"(",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","filterBuilder",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_STRING","self",150],["T_DOUBLE_COLON","::",150],["T_STRING","once",150],"(",")",")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","with",152],"(",["T_LNUMBER","1",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","willReturnSelf",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","filterBuilder",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","expects",154],"(",["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","once",154],"(",")",")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","method",155],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","willReturn",156],"(",["T_VARIABLE","$filterMock",156],")",";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","searchCriteriaBuilder",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","expects",158],"(",["T_STRING","self",158],["T_DOUBLE_COLON","::",158],["T_STRING","once",158],"(",")",")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","method",159],"(",["T_CONSTANT_ENCAPSED_STRING","'addFilters'",159],")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","with",160],"(","[",["T_VARIABLE","$filterMock",160],"]",")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","willReturnSelf",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","searchCriteriaBuilder",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","once",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","willReturn",164],"(",["T_VARIABLE","$searchCriteria",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","paymentTokenRepository",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","once",166],"(",")",")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","method",167],"(",["T_CONSTANT_ENCAPSED_STRING","'getList'",167],")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","with",168],"(",["T_VARIABLE","$searchCriteria",168],")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","willReturn",169],"(",["T_VARIABLE","$searchResult",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$searchResult",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","expects",171],"(",["T_STRING","self",171],["T_DOUBLE_COLON","::",171],["T_STRING","once",171],"(",")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(","[",["T_VARIABLE","$tokenMock",173],"]",")",";",["T_WHITESPACE","\n\n        ",173],["T_STRING","self",175],["T_DOUBLE_COLON","::",175],["T_STRING","assertEquals",175],"(","[",["T_VARIABLE","$tokenMock",175],"]",",",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","paymentTokenManagement",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getListByCustomerId",175],"(",["T_LNUMBER","1",175],")",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Run test for getByPaymentId method\n     *\/",178],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","testGetByPaymentId",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $tokenMock *\/",183],["T_WHITESPACE","\n        ",183],["T_VARIABLE","$tokenMock",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getMockBuilder",184],"(",["T_STRING","PaymentTokenInterface",184],["T_DOUBLE_COLON","::",184],["T_CLASS","class",184],")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","getMockForAbstractClass",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","paymentTokenResourceModel",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","expects",187],"(",["T_STRING","self",187],["T_DOUBLE_COLON","::",187],["T_STRING","once",187],"(",")",")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","method",188],"(",["T_CONSTANT_ENCAPSED_STRING","'getByOrderPaymentId'",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","with",189],"(",["T_LNUMBER","1",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","willReturn",190],"(","[",["T_CONSTANT_ENCAPSED_STRING","'token-data'",190],"]",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","paymentTokenFactory",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_STRING","self",192],["T_DOUBLE_COLON","::",192],["T_STRING","once",192],"(",")",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",193],")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","with",194],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'token-data'",194],"]","]",")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","willReturn",195],"(",["T_VARIABLE","$tokenMock",195],")",";",["T_WHITESPACE","\n\n        ",195],["T_STRING","self",197],["T_DOUBLE_COLON","::",197],["T_STRING","assertEquals",197],"(",["T_VARIABLE","$tokenMock",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","paymentTokenManagement",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getByPaymentId",197],"(",["T_LNUMBER","1",197],")",")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Run test for getByPaymentId method (return NULL)\n     *\/",200],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testGetByPaymentIdNull",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","paymentTokenResourceModel",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","expects",205],"(",["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_STRING","once",205],"(",")",")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'getByOrderPaymentId'",206],")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","with",207],"(",["T_LNUMBER","1",207],")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","willReturn",208],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","paymentTokenFactory",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_STRING","self",210],["T_DOUBLE_COLON","::",210],["T_STRING","never",210],"(",")",")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","method",211],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_STRING","self",213],["T_DOUBLE_COLON","::",213],["T_STRING","assertEquals",213],"(",["T_STRING","null",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","paymentTokenManagement",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getByPaymentId",213],"(",["T_LNUMBER","1",213],")",")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Run test for getByGatewayToken method\n     *\/",216],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","testGetByGatewayToken",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $tokenMock *\/",221],["T_WHITESPACE","\n        ",221],["T_VARIABLE","$tokenMock",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getMockBuilder",222],"(",["T_STRING","PaymentTokenInterface",222],["T_DOUBLE_COLON","::",222],["T_CLASS","class",222],")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMockForAbstractClass",223],"(",")",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","paymentTokenResourceModel",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_STRING","self",225],["T_DOUBLE_COLON","::",225],["T_STRING","once",225],"(",")",")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'getByGatewayToken'",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","with",227],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",227],",",["T_WHITESPACE"," ",227],["T_LNUMBER","1",227],",",["T_WHITESPACE"," ",227],["T_LNUMBER","1",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","willReturn",228],"(","[",["T_CONSTANT_ENCAPSED_STRING","'token-data'",228],"]",")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","paymentTokenFactory",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","expects",230],"(",["T_STRING","self",230],["T_DOUBLE_COLON","::",230],["T_STRING","once",230],"(",")",")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","method",231],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",231],")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","with",232],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],"[",["T_CONSTANT_ENCAPSED_STRING","'token-data'",232],"]","]",")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","willReturn",233],"(",["T_VARIABLE","$tokenMock",233],")",";",["T_WHITESPACE","\n\n        ",233],["T_STRING","self",235],["T_DOUBLE_COLON","::",235],["T_STRING","assertEquals",235],"(",["T_VARIABLE","$tokenMock",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","paymentTokenManagement",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getByGatewayToken",235],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",235],",",["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],",",["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],")",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Run test for getByGatewayToken method (return NULL)\n     *\/",238],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","testGetByGatewayTokenNull",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","paymentTokenResourceModel",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","expects",243],"(",["T_STRING","self",243],["T_DOUBLE_COLON","::",243],["T_STRING","once",243],"(",")",")",["T_WHITESPACE","\n            ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","method",244],"(",["T_CONSTANT_ENCAPSED_STRING","'getByGatewayToken'",244],")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","with",245],"(",["T_CONSTANT_ENCAPSED_STRING","'some-not-exists-token'",245],",",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],",",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","willReturn",246],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","paymentTokenFactory",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","expects",248],"(",["T_STRING","self",248],["T_DOUBLE_COLON","::",248],["T_STRING","never",248],"(",")",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","method",249],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",249],")",";",["T_WHITESPACE","\n\n        ",249],["T_STRING","self",251],["T_DOUBLE_COLON","::",251],["T_STRING","assertEquals",251],"(",["T_STRING","null",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","paymentTokenManagement",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getByGatewayToken",251],"(",["T_CONSTANT_ENCAPSED_STRING","'some-not-exists-token'",251],",",["T_WHITESPACE"," ",251],["T_LNUMBER","1",251],",",["T_WHITESPACE"," ",251],["T_LNUMBER","1",251],")",")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Run test for getByGatewayToken method (return NULL)\n     *\/",254],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","testGetByPublicHash",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","paymentTokenResourceModel",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","expects",259],"(",["T_STRING","self",259],["T_DOUBLE_COLON","::",259],["T_STRING","once",259],"(",")",")",["T_WHITESPACE","\n            ",259],["T_OBJECT_OPERATOR","->",260],["T_STRING","method",260],"(",["T_CONSTANT_ENCAPSED_STRING","'getByPublicHash'",260],")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","with",261],"(",["T_CONSTANT_ENCAPSED_STRING","'some-not-exists-token'",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","1",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","willReturn",262],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","paymentTokenFactory",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","expects",264],"(",["T_STRING","self",264],["T_DOUBLE_COLON","::",264],["T_STRING","never",264],"(",")",")",["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","method",265],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_STRING","self",267],["T_DOUBLE_COLON","::",267],["T_STRING","assertEquals",267],"(",["T_STRING","null",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","paymentTokenManagement",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getByPublicHash",267],"(",["T_CONSTANT_ENCAPSED_STRING","'some-not-exists-token'",267],",",["T_WHITESPACE"," ",267],["T_LNUMBER","1",267],")",")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Run test for saveTokenWithPaymentLink method\n     *\/",270],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","testSaveTokenWithPaymentLinkNoDuplicate",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_DOC_COMMENT","\/** @var OrderPaymentInterface|\\PHPUnit_Framework_MockObject_MockObject $paymentMock *\/",275],["T_WHITESPACE","\n        ",275],["T_VARIABLE","$paymentMock",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getMock",276],"(",["T_STRING","OrderPaymentInterface",276],["T_DOUBLE_COLON","::",276],["T_CLASS","class",276],")",";",["T_WHITESPACE","\n        ",276],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $tokenMock *\/",277],["T_WHITESPACE","\n        ",277],["T_VARIABLE","$tokenMock",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getMock",278],"(",["T_STRING","PaymentTokenInterface",278],["T_DOUBLE_COLON","::",278],["T_CLASS","class",278],")",";",["T_WHITESPACE","\n\n        ",278],["T_VARIABLE","$customerId",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_LNUMBER","1",280],";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$entityId",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_LNUMBER","1",281],";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$publicHash",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'some-not-existing-token'",282],";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$paymentId",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_LNUMBER","1",283],";",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$tokenMock",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_STATIC","static",285],["T_DOUBLE_COLON","::",285],["T_STRING","atLeastOnce",285],"(",")",")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'getPublicHash'",286],")",["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","willReturn",287],"(",["T_VARIABLE","$publicHash",287],")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$tokenMock",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","expects",288],"(",["T_STATIC","static",288],["T_DOUBLE_COLON","::",288],["T_STRING","atLeastOnce",288],"(",")",")",["T_WHITESPACE","\n            ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","method",289],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerId'",289],")",["T_WHITESPACE","\n            ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","willReturn",290],"(",["T_VARIABLE","$customerId",290],")",";",["T_WHITESPACE","\n\n        ",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","paymentTokenResourceModel",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","expects",292],"(",["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_STRING","once",292],"(",")",")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","method",293],"(",["T_CONSTANT_ENCAPSED_STRING","'getByPublicHash'",293],")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","with",294],"(",["T_VARIABLE","$publicHash",294],",",["T_WHITESPACE"," ",294],["T_LNUMBER","1",294],")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","willReturn",295],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","paymentTokenFactory",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","expects",297],"(",["T_STRING","self",297],["T_DOUBLE_COLON","::",297],["T_STRING","never",297],"(",")",")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","method",298],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",298],")",";",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$tokenMock",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","expects",300],"(",["T_STRING","self",300],["T_DOUBLE_COLON","::",300],["T_STRING","once",300],"(",")",")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","method",301],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",301],")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","willReturn",302],"(",["T_VARIABLE","$entityId",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","paymentTokenRepository",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","expects",303],"(",["T_STRING","self",303],["T_DOUBLE_COLON","::",303],["T_STRING","once",303],"(",")",")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","method",304],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",304],")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","with",305],"(",["T_VARIABLE","$tokenMock",305],")",";",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$paymentMock",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","expects",307],"(",["T_STRING","self",307],["T_DOUBLE_COLON","::",307],["T_STRING","once",307],"(",")",")",["T_WHITESPACE","\n            ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","method",308],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",308],")",["T_WHITESPACE","\n            ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","willReturn",309],"(",["T_VARIABLE","$paymentId",309],")",";",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","paymentTokenResourceModel",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","expects",311],"(",["T_STATIC","static",311],["T_DOUBLE_COLON","::",311],["T_STRING","once",311],"(",")",")",["T_WHITESPACE","\n            ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","method",312],"(",["T_CONSTANT_ENCAPSED_STRING","'addLinkToOrderPayment'",312],")",["T_WHITESPACE","\n            ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","with",313],"(",["T_VARIABLE","$entityId",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$paymentId",313],")",";",["T_WHITESPACE","\n\n        ",313],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","paymentTokenManagement",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","saveTokenWithPaymentLink",315],"(",["T_VARIABLE","$tokenMock",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$paymentMock",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Run test for saveTokenWithPaymentLink method\n     *\/",318],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","testSaveTokenWithPaymentLinkWithDuplicateTokenVisible",321],"(",")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_DOC_COMMENT","\/** @var OrderPaymentInterface|\\PHPUnit_Framework_MockObject_MockObject $paymentMock *\/",323],["T_WHITESPACE","\n        ",323],["T_VARIABLE","$paymentMock",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getMock",324],"(",["T_STRING","OrderPaymentInterface",324],["T_DOUBLE_COLON","::",324],["T_CLASS","class",324],")",";",["T_WHITESPACE","\n        ",324],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $tokenMock *\/",325],["T_WHITESPACE","\n        ",325],["T_VARIABLE","$tokenMock",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getMock",326],"(",["T_STRING","PaymentTokenInterface",326],["T_DOUBLE_COLON","::",326],["T_CLASS","class",326],")",";",["T_WHITESPACE","\n        ",326],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $duplicateToken *\/",327],["T_WHITESPACE","\n        ",327],["T_VARIABLE","$duplicateToken",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getMock",328],"(",["T_STRING","PaymentTokenInterface",328],["T_DOUBLE_COLON","::",328],["T_CLASS","class",328],")",";",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$entityId",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_LNUMBER","1",330],";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$customerId",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_LNUMBER","1",331],";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$paymentId",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_LNUMBER","1",332],";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$publicHash",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'existing-token'",333],";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$duplicateTokenData",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],"[",["T_WHITESPACE","\n            ",334],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$entityId",335],["T_WHITESPACE","\n        ",335],"]",";",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$tokenMock",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","expects",338],"(",["T_STATIC","static",338],["T_DOUBLE_COLON","::",338],["T_STRING","atLeastOnce",338],"(",")",")",["T_WHITESPACE","\n            ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","method",339],"(",["T_CONSTANT_ENCAPSED_STRING","'getPublicHash'",339],")",["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","willReturn",340],"(",["T_VARIABLE","$publicHash",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$tokenMock",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","expects",341],"(",["T_STATIC","static",341],["T_DOUBLE_COLON","::",341],["T_STRING","atLeastOnce",341],"(",")",")",["T_WHITESPACE","\n            ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","method",342],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerId'",342],")",["T_WHITESPACE","\n            ",342],["T_OBJECT_OPERATOR","->",343],["T_STRING","willReturn",343],"(",["T_VARIABLE","$customerId",343],")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","paymentTokenResourceModel",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","expects",345],"(",["T_STRING","self",345],["T_DOUBLE_COLON","::",345],["T_STRING","once",345],"(",")",")",["T_WHITESPACE","\n            ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","method",346],"(",["T_CONSTANT_ENCAPSED_STRING","'getByPublicHash'",346],")",["T_WHITESPACE","\n            ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","with",347],"(",["T_VARIABLE","$publicHash",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$customerId",347],")",["T_WHITESPACE","\n            ",347],["T_OBJECT_OPERATOR","->",348],["T_STRING","willReturn",348],"(",["T_VARIABLE","$duplicateTokenData",348],")",";",["T_WHITESPACE","\n\n        ",348],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","paymentTokenFactory",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","expects",350],"(",["T_STRING","self",350],["T_DOUBLE_COLON","::",350],["T_STRING","once",350],"(",")",")",["T_WHITESPACE","\n            ",350],["T_OBJECT_OPERATOR","->",351],["T_STRING","method",351],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",351],")",["T_WHITESPACE","\n            ",351],["T_OBJECT_OPERATOR","->",352],["T_STRING","with",352],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$duplicateTokenData",352],"]",")",["T_WHITESPACE","\n            ",352],["T_OBJECT_OPERATOR","->",353],["T_STRING","willReturn",353],"(",["T_VARIABLE","$duplicateToken",353],")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$tokenMock",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","expects",354],"(",["T_STATIC","static",354],["T_DOUBLE_COLON","::",354],["T_STRING","once",354],"(",")",")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","method",355],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsVisible'",355],")",["T_WHITESPACE","\n            ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","willReturn",356],"(",["T_STRING","true",356],")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$duplicateToken",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","expects",357],"(",["T_STATIC","static",357],["T_DOUBLE_COLON","::",357],["T_STRING","once",357],"(",")",")",["T_WHITESPACE","\n            ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","method",358],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",358],")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","willReturn",359],"(",["T_VARIABLE","$entityId",359],")",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$tokenMock",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","expects",360],"(",["T_STRING","self",360],["T_DOUBLE_COLON","::",360],["T_STRING","once",360],"(",")",")",["T_WHITESPACE","\n            ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","method",361],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",361],")",["T_WHITESPACE","\n            ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","willReturn",362],"(",["T_VARIABLE","$entityId",362],")",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","paymentTokenRepository",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","expects",363],"(",["T_STRING","self",363],["T_DOUBLE_COLON","::",363],["T_STRING","once",363],"(",")",")",["T_WHITESPACE","\n            ",363],["T_OBJECT_OPERATOR","->",364],["T_STRING","method",364],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",364],")",["T_WHITESPACE","\n            ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","with",365],"(",["T_VARIABLE","$tokenMock",365],")",";",["T_WHITESPACE","\n\n        ",365],["T_VARIABLE","$paymentMock",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","expects",367],"(",["T_STRING","self",367],["T_DOUBLE_COLON","::",367],["T_STRING","once",367],"(",")",")",["T_WHITESPACE","\n            ",367],["T_OBJECT_OPERATOR","->",368],["T_STRING","method",368],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",368],")",["T_WHITESPACE","\n            ",368],["T_OBJECT_OPERATOR","->",369],["T_STRING","willReturn",369],"(",["T_VARIABLE","$paymentId",369],")",";",["T_WHITESPACE","\n\n        ",369],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","paymentTokenResourceModel",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","expects",371],"(",["T_STATIC","static",371],["T_DOUBLE_COLON","::",371],["T_STRING","once",371],"(",")",")",["T_WHITESPACE","\n            ",371],["T_OBJECT_OPERATOR","->",372],["T_STRING","method",372],"(",["T_CONSTANT_ENCAPSED_STRING","'addLinkToOrderPayment'",372],")",["T_WHITESPACE","\n            ",372],["T_OBJECT_OPERATOR","->",373],["T_STRING","with",373],"(",["T_VARIABLE","$entityId",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$paymentId",373],")",";",["T_WHITESPACE","\n\n        ",373],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","paymentTokenManagement",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","saveTokenWithPaymentLink",375],"(",["T_VARIABLE","$tokenMock",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$paymentMock",375],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Run test for saveTokenWithPaymentLink method\n     *\/",378],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","testSaveTokenWithPaymentLinkWithDuplicateTokenNotVisible",381],"(",")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_DOC_COMMENT","\/** @var OrderPaymentInterface|\\PHPUnit_Framework_MockObject_MockObject $paymentMock *\/",383],["T_WHITESPACE","\n        ",383],["T_VARIABLE","$paymentMock",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getMock",384],"(",["T_STRING","OrderPaymentInterface",384],["T_DOUBLE_COLON","::",384],["T_CLASS","class",384],")",";",["T_WHITESPACE","\n        ",384],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $tokenMock *\/",385],["T_WHITESPACE","\n        ",385],["T_VARIABLE","$tokenMock",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getMock",386],"(",["T_STRING","PaymentTokenInterface",386],["T_DOUBLE_COLON","::",386],["T_CLASS","class",386],")",";",["T_WHITESPACE","\n        ",386],["T_DOC_COMMENT","\/** @var PaymentTokenInterface|\\PHPUnit_Framework_MockObject_MockObject $duplicateToken *\/",387],["T_WHITESPACE","\n        ",387],["T_VARIABLE","$duplicateToken",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getMock",388],"(",["T_STRING","PaymentTokenInterface",388],["T_DOUBLE_COLON","::",388],["T_CLASS","class",388],")",";",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$entityId",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_LNUMBER","1",390],";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$newEntityId",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_LNUMBER","1",391],";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$paymentId",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_LNUMBER","1",392],";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$customerId",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_LNUMBER","1",393],";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$gatewayToken",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'xs4vf3'",394],";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$publicHash",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'existing-token'",395],";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$duplicateTokenData",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],"[",["T_WHITESPACE","\n            ",396],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$entityId",397],["T_WHITESPACE","\n        ",397],"]",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$newHash",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'new-token2'",399],";",["T_WHITESPACE","\n\n        ",399],["T_VARIABLE","$tokenMock",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","expects",401],"(",["T_STATIC","static",401],["T_DOUBLE_COLON","::",401],["T_STRING","atLeastOnce",401],"(",")",")",["T_WHITESPACE","\n            ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","method",402],"(",["T_CONSTANT_ENCAPSED_STRING","'getPublicHash'",402],")",["T_WHITESPACE","\n            ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","willReturn",403],"(",["T_VARIABLE","$publicHash",403],")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$tokenMock",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","expects",404],"(",["T_STATIC","static",404],["T_DOUBLE_COLON","::",404],["T_STRING","atLeastOnce",404],"(",")",")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","method",405],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerId'",405],")",["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","willReturn",406],"(",["T_VARIABLE","$customerId",406],")",";",["T_WHITESPACE","\n\n        ",406],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","paymentTokenResourceModel",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","expects",408],"(",["T_STRING","self",408],["T_DOUBLE_COLON","::",408],["T_STRING","once",408],"(",")",")",["T_WHITESPACE","\n            ",408],["T_OBJECT_OPERATOR","->",409],["T_STRING","method",409],"(",["T_CONSTANT_ENCAPSED_STRING","'getByPublicHash'",409],")",["T_WHITESPACE","\n            ",409],["T_OBJECT_OPERATOR","->",410],["T_STRING","with",410],"(",["T_VARIABLE","$publicHash",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$customerId",410],")",["T_WHITESPACE","\n            ",410],["T_OBJECT_OPERATOR","->",411],["T_STRING","willReturn",411],"(",["T_VARIABLE","$duplicateTokenData",411],")",";",["T_WHITESPACE","\n\n        ",411],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","paymentTokenFactory",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","expects",413],"(",["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_STRING","once",413],"(",")",")",["T_WHITESPACE","\n            ",413],["T_OBJECT_OPERATOR","->",414],["T_STRING","method",414],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",414],")",["T_WHITESPACE","\n            ",414],["T_OBJECT_OPERATOR","->",415],["T_STRING","with",415],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$duplicateTokenData",415],"]",")",["T_WHITESPACE","\n            ",415],["T_OBJECT_OPERATOR","->",416],["T_STRING","willReturn",416],"(",["T_VARIABLE","$duplicateToken",416],")",";",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$tokenMock",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","expects",417],"(",["T_STATIC","static",417],["T_DOUBLE_COLON","::",417],["T_STRING","atLeastOnce",417],"(",")",")",["T_WHITESPACE","\n            ",417],["T_OBJECT_OPERATOR","->",418],["T_STRING","method",418],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsVisible'",418],")",["T_WHITESPACE","\n            ",418],["T_OBJECT_OPERATOR","->",419],["T_STRING","willReturn",419],"(",["T_STRING","false",419],")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$tokenMock",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","expects",420],"(",["T_STATIC","static",420],["T_DOUBLE_COLON","::",420],["T_STRING","atLeastOnce",420],"(",")",")",["T_WHITESPACE","\n            ",420],["T_OBJECT_OPERATOR","->",421],["T_STRING","method",421],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerId'",421],")",["T_WHITESPACE","\n            ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","willReturn",422],"(",["T_VARIABLE","$customerId",422],")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$tokenMock",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","expects",423],"(",["T_STATIC","static",423],["T_DOUBLE_COLON","::",423],["T_STRING","atLeastOnce",423],"(",")",")",["T_WHITESPACE","\n            ",423],["T_OBJECT_OPERATOR","->",424],["T_STRING","method",424],"(",["T_CONSTANT_ENCAPSED_STRING","'getGatewayToken'",424],")",["T_WHITESPACE","\n            ",424],["T_OBJECT_OPERATOR","->",425],["T_STRING","willReturn",425],"(",["T_VARIABLE","$gatewayToken",425],")",";",["T_WHITESPACE","\n\n        ",425],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","encryptor",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","expects",427],"(",["T_STATIC","static",427],["T_DOUBLE_COLON","::",427],["T_STRING","once",427],"(",")",")",["T_WHITESPACE","\n            ",427],["T_OBJECT_OPERATOR","->",428],["T_STRING","method",428],"(",["T_CONSTANT_ENCAPSED_STRING","'getHash'",428],")",["T_WHITESPACE","\n            ",428],["T_OBJECT_OPERATOR","->",429],["T_STRING","with",429],"(",["T_VARIABLE","$publicHash",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_VARIABLE","$gatewayToken",429],")",["T_WHITESPACE","\n            ",429],["T_OBJECT_OPERATOR","->",430],["T_STRING","willReturn",430],"(",["T_VARIABLE","$newHash",430],")",";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$tokenMock",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","expects",431],"(",["T_STATIC","static",431],["T_DOUBLE_COLON","::",431],["T_STRING","once",431],"(",")",")",["T_WHITESPACE","\n            ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","method",432],"(",["T_CONSTANT_ENCAPSED_STRING","'setPublicHash'",432],")",["T_WHITESPACE","\n            ",432],["T_OBJECT_OPERATOR","->",433],["T_STRING","with",433],"(",["T_VARIABLE","$newHash",433],")",";",["T_WHITESPACE","\n\n        ",433],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","paymentTokenRepository",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","expects",435],"(",["T_STRING","self",435],["T_DOUBLE_COLON","::",435],["T_STRING","once",435],"(",")",")",["T_WHITESPACE","\n            ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","method",436],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",436],")",["T_WHITESPACE","\n            ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","with",437],"(",["T_VARIABLE","$tokenMock",437],")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$tokenMock",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","expects",438],"(",["T_STATIC","static",438],["T_DOUBLE_COLON","::",438],["T_STRING","atLeastOnce",438],"(",")",")",["T_WHITESPACE","\n            ",438],["T_OBJECT_OPERATOR","->",439],["T_STRING","method",439],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",439],")",["T_WHITESPACE","\n            ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","willReturn",440],"(",["T_VARIABLE","$newEntityId",440],")",";",["T_WHITESPACE","\n\n        ",440],["T_VARIABLE","$paymentMock",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","expects",442],"(",["T_STRING","self",442],["T_DOUBLE_COLON","::",442],["T_STRING","atLeastOnce",442],"(",")",")",["T_WHITESPACE","\n            ",442],["T_OBJECT_OPERATOR","->",443],["T_STRING","method",443],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityId'",443],")",["T_WHITESPACE","\n            ",443],["T_OBJECT_OPERATOR","->",444],["T_STRING","willReturn",444],"(",["T_VARIABLE","$paymentId",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","paymentTokenResourceModel",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","expects",445],"(",["T_STATIC","static",445],["T_DOUBLE_COLON","::",445],["T_STRING","once",445],"(",")",")",["T_WHITESPACE","\n            ",445],["T_OBJECT_OPERATOR","->",446],["T_STRING","method",446],"(",["T_CONSTANT_ENCAPSED_STRING","'addLinkToOrderPayment'",446],")",["T_WHITESPACE","\n            ",446],["T_OBJECT_OPERATOR","->",447],["T_STRING","with",447],"(",["T_VARIABLE","$newEntityId",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$paymentId",447],")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","paymentTokenManagement",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","saveTokenWithPaymentLink",449],"(",["T_VARIABLE","$tokenMock",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$paymentMock",449],")",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_PUBLIC","public",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","testGetVisibleAvailableTokens",452],"(",")",["T_WHITESPACE","\n    ",452],"{",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$customerId",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_LNUMBER","1",454],";",["T_WHITESPACE","\n\n        ",454],["T_VARIABLE","$searchCriteria",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getMockBuilder",456],"(",["T_STRING","SearchCriteria",456],["T_DOUBLE_COLON","::",456],["T_CLASS","class",456],")",["T_WHITESPACE","\n            ",456],["T_OBJECT_OPERATOR","->",457],["T_STRING","disableOriginalConstructor",457],"(",")",["T_WHITESPACE","\n            ",457],["T_OBJECT_OPERATOR","->",458],["T_STRING","getMock",458],"(",")",";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$searchResult",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getMockForAbstractClass",459],"(",["T_STRING","PaymentTokenSearchResultsInterface",459],["T_DOUBLE_COLON","::",459],["T_CLASS","class",459],")",";",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$token",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getMockForAbstractClass",460],"(",["T_STRING","PaymentTokenInterface",460],["T_DOUBLE_COLON","::",460],["T_CLASS","class",460],")",";",["T_WHITESPACE","\n\n        ",460],["T_VARIABLE","$customerFilter",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","createExpectedFilter",462],"(",["T_STRING","PaymentTokenInterface",462],["T_DOUBLE_COLON","::",462],["T_STRING","CUSTOMER_ID",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$customerId",462],",",["T_WHITESPACE"," ",462],["T_LNUMBER","0",462],")",";",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$visibilityFilter",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","createExpectedFilter",463],"(",["T_STRING","PaymentTokenInterface",463],["T_DOUBLE_COLON","::",463],["T_STRING","IS_VISIBLE",463],",",["T_WHITESPACE"," ",463],["T_STRING","true",463],",",["T_WHITESPACE"," ",463],["T_LNUMBER","1",463],")",";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$isActiveFilter",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","createExpectedFilter",464],"(",["T_STRING","PaymentTokenInterface",464],["T_DOUBLE_COLON","::",464],["T_STRING","IS_ACTIVE",464],",",["T_WHITESPACE"," ",464],["T_STRING","true",464],",",["T_WHITESPACE"," ",464],["T_LNUMBER","2",464],")",";",["T_WHITESPACE","\n\n        ",464],["T_COMMENT","\/\/ express at expectations\n",466],["T_WHITESPACE","        ",467],["T_VARIABLE","$expiresAtFilter",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","createExpectedFilter",467],"(",["T_WHITESPACE","\n            ",467],["T_STRING","PaymentTokenInterface",468],["T_DOUBLE_COLON","::",468],["T_STRING","EXPIRES_AT",468],",",["T_WHITESPACE","\n            ",468],["T_CONSTANT_ENCAPSED_STRING","'2015-01-01 00:00:00'",469],",",["T_WHITESPACE","\n            ",469],["T_LNUMBER","3",470],["T_WHITESPACE","\n        ",470],")",";",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","filterBuilder",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","expects",472],"(",["T_STATIC","static",472],["T_DOUBLE_COLON","::",472],["T_STRING","once",472],"(",")",")",["T_WHITESPACE","\n            ",472],["T_OBJECT_OPERATOR","->",473],["T_STRING","method",473],"(",["T_CONSTANT_ENCAPSED_STRING","'setConditionType'",473],")",["T_WHITESPACE","\n            ",473],["T_OBJECT_OPERATOR","->",474],["T_STRING","with",474],"(",["T_CONSTANT_ENCAPSED_STRING","'gt'",474],")",["T_WHITESPACE","\n            ",474],["T_OBJECT_OPERATOR","->",475],["T_STRING","willReturnSelf",475],"(",")",";",["T_WHITESPACE","\n\n        ",475],["T_VARIABLE","$date",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getMockBuilder",477],"(",["T_NS_SEPARATOR","\\",477],["T_STRING","DateTime",477],["T_DOUBLE_COLON","::",477],["T_CLASS","class",477],")",["T_WHITESPACE","\n            ",477],["T_OBJECT_OPERATOR","->",478],["T_STRING","disableOriginalConstructor",478],"(",")",["T_WHITESPACE","\n            ",478],["T_OBJECT_OPERATOR","->",479],["T_STRING","getMock",479],"(",")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","dateTimeFactory",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","expects",480],"(",["T_STATIC","static",480],["T_DOUBLE_COLON","::",480],["T_STRING","once",480],"(",")",")",["T_WHITESPACE","\n            ",480],["T_OBJECT_OPERATOR","->",481],["T_STRING","method",481],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",481],")",["T_WHITESPACE","\n            ",481],["T_OBJECT_OPERATOR","->",482],["T_STRING","with",482],"(",["T_CONSTANT_ENCAPSED_STRING","\"now\"",482],",",["T_WHITESPACE"," ",482],["T_NEW","new",482],["T_WHITESPACE"," ",482],["T_NS_SEPARATOR","\\",482],["T_STRING","DateTimeZone",482],"(",["T_CONSTANT_ENCAPSED_STRING","'UTC'",482],")",")",["T_WHITESPACE","\n            ",482],["T_OBJECT_OPERATOR","->",483],["T_STRING","willReturn",483],"(",["T_VARIABLE","$date",483],")",";",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$date",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","expects",484],"(",["T_STATIC","static",484],["T_DOUBLE_COLON","::",484],["T_STRING","once",484],"(",")",")",["T_WHITESPACE","\n            ",484],["T_OBJECT_OPERATOR","->",485],["T_STRING","method",485],"(",["T_CONSTANT_ENCAPSED_STRING","'format'",485],")",["T_WHITESPACE","\n            ",485],["T_OBJECT_OPERATOR","->",486],["T_STRING","with",486],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d 00:00:00'",486],")",["T_WHITESPACE","\n            ",486],["T_OBJECT_OPERATOR","->",487],["T_STRING","willReturn",487],"(",["T_CONSTANT_ENCAPSED_STRING","'2015-01-01 00:00:00'",487],")",";",["T_WHITESPACE","\n\n        ",487],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","searchCriteriaBuilder",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","expects",489],"(",["T_STRING","self",489],["T_DOUBLE_COLON","::",489],["T_STRING","exactly",489],"(",["T_LNUMBER","4",489],")",")",["T_WHITESPACE","\n            ",489],["T_OBJECT_OPERATOR","->",490],["T_STRING","method",490],"(",["T_CONSTANT_ENCAPSED_STRING","'addFilters'",490],")",["T_WHITESPACE","\n            ",490],["T_OBJECT_OPERATOR","->",491],["T_STRING","withConsecutive",491],"(",["T_VARIABLE","$customerFilter",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$visibilityFilter",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$isActiveFilter",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$expiresAtFilter",491],")",["T_WHITESPACE","\n            ",491],["T_OBJECT_OPERATOR","->",492],["T_STRING","willReturnSelf",492],"(",")",";",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","searchCriteriaBuilder",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","expects",494],"(",["T_STRING","self",494],["T_DOUBLE_COLON","::",494],["T_STRING","once",494],"(",")",")",["T_WHITESPACE","\n            ",494],["T_OBJECT_OPERATOR","->",495],["T_STRING","method",495],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",495],")",["T_WHITESPACE","\n            ",495],["T_OBJECT_OPERATOR","->",496],["T_STRING","willReturn",496],"(",["T_VARIABLE","$searchCriteria",496],")",";",["T_WHITESPACE","\n\n        ",496],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","paymentTokenRepository",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","expects",498],"(",["T_STRING","self",498],["T_DOUBLE_COLON","::",498],["T_STRING","once",498],"(",")",")",["T_WHITESPACE","\n            ",498],["T_OBJECT_OPERATOR","->",499],["T_STRING","method",499],"(",["T_CONSTANT_ENCAPSED_STRING","'getList'",499],")",["T_WHITESPACE","\n            ",499],["T_OBJECT_OPERATOR","->",500],["T_STRING","with",500],"(",["T_VARIABLE","$searchCriteria",500],")",["T_WHITESPACE","\n            ",500],["T_OBJECT_OPERATOR","->",501],["T_STRING","willReturn",501],"(",["T_VARIABLE","$searchResult",501],")",";",["T_WHITESPACE","\n\n        ",501],["T_VARIABLE","$searchResult",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","expects",503],"(",["T_STRING","self",503],["T_DOUBLE_COLON","::",503],["T_STRING","once",503],"(",")",")",["T_WHITESPACE","\n            ",503],["T_OBJECT_OPERATOR","->",504],["T_STRING","method",504],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",504],")",["T_WHITESPACE","\n            ",504],["T_OBJECT_OPERATOR","->",505],["T_STRING","willReturn",505],"(","[",["T_VARIABLE","$token",505],"]",")",";",["T_WHITESPACE","\n\n        ",505],["T_STATIC","static",507],["T_DOUBLE_COLON","::",507],["T_STRING","assertEquals",507],"(",["T_WHITESPACE","\n            ",507],"[",["T_VARIABLE","$token",508],"]",",",["T_WHITESPACE","\n            ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","paymentTokenManagement",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getVisibleAvailableTokens",509],"(",["T_VARIABLE","$customerId",509],")",["T_WHITESPACE","\n        ",509],")",";",["T_WHITESPACE","\n\n    ",510],"}",["T_WHITESPACE","\n\n    ",512],["T_DOC_COMMENT","\/**\n     * @param string $field\n     * @param mixed $value\n     * @param int $atIndex\n     *\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",514],["T_WHITESPACE","\n    ",520],["T_PRIVATE","private",521],["T_WHITESPACE"," ",521],["T_FUNCTION","function",521],["T_WHITESPACE"," ",521],["T_STRING","createExpectedFilter",521],"(",["T_VARIABLE","$field",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$value",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$atIndex",521],")",["T_WHITESPACE","\n    ",521],"{",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$filterObject",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getMockBuilder",523],"(",["T_STRING","Filter",523],["T_DOUBLE_COLON","::",523],["T_CLASS","class",523],")",["T_WHITESPACE","\n            ",523],["T_OBJECT_OPERATOR","->",524],["T_STRING","disableOriginalConstructor",524],"(",")",["T_WHITESPACE","\n            ",524],["T_OBJECT_OPERATOR","->",525],["T_STRING","getMock",525],"(",")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","filterBuilder",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","expects",526],"(",["T_NEW","new",526],["T_WHITESPACE"," ",526],["T_STRING","MethodInvokedAtIndex",526],"(",["T_VARIABLE","$atIndex",526],")",")",["T_WHITESPACE","\n            ",526],["T_OBJECT_OPERATOR","->",527],["T_STRING","method",527],"(",["T_CONSTANT_ENCAPSED_STRING","'setField'",527],")",["T_WHITESPACE","\n            ",527],["T_OBJECT_OPERATOR","->",528],["T_STRING","with",528],"(",["T_VARIABLE","$field",528],")",["T_WHITESPACE","\n            ",528],["T_OBJECT_OPERATOR","->",529],["T_STRING","willReturnSelf",529],"(",")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","filterBuilder",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","expects",530],"(",["T_NEW","new",530],["T_WHITESPACE"," ",530],["T_STRING","MethodInvokedAtIndex",530],"(",["T_VARIABLE","$atIndex",530],")",")",["T_WHITESPACE","\n            ",530],["T_OBJECT_OPERATOR","->",531],["T_STRING","method",531],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",531],")",["T_WHITESPACE","\n            ",531],["T_OBJECT_OPERATOR","->",532],["T_STRING","with",532],"(",["T_VARIABLE","$value",532],")",["T_WHITESPACE","\n            ",532],["T_OBJECT_OPERATOR","->",533],["T_STRING","willReturnSelf",533],"(",")",";",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","filterBuilder",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","expects",534],"(",["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_STRING","MethodInvokedAtIndex",534],"(",["T_VARIABLE","$atIndex",534],")",")",["T_WHITESPACE","\n            ",534],["T_OBJECT_OPERATOR","->",535],["T_STRING","method",535],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",535],")",["T_WHITESPACE","\n            ",535],["T_OBJECT_OPERATOR","->",536],["T_STRING","willReturn",536],"(",["T_VARIABLE","$filterObject",536],")",";",["T_WHITESPACE","\n\n        ",536],["T_RETURN","return",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$filterObject",538],";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n",539],"}",["T_WHITESPACE","\n",540]]