[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Vault",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Observer",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DeploymentConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Encryption",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Encryptor",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Observer",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Math",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Random",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","OrderPaymentExtension",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Data",13],["T_NS_SEPARATOR","\\",13],["T_STRING","OrderPaymentExtensionFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Order",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Sales",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Order",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Payment",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Vault",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PaymentToken",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Vault",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PaymentTokenManagement",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Vault",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Observer",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AfterPaymentSaveObserver",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","PHPUnit_Framework_MockObject_MockObject",19],["T_WHITESPACE"," ",19],["T_AS","as",19],["T_WHITESPACE"," ",19],["T_STRING","MockObject",19],";",["T_WHITESPACE","\n\n",19],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","AfterPaymentSaveObserverTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PHPUnit_Framework_TestCase",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\Observer|MockObject\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$eventObserverArgMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Vault\\Observer\\AfterPaymentSaveObserver\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$observer",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Encryption\\Encryptor\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$encryptorModel",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\Data\\OrderPaymentExtension|MockObject paymentExtension\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$paymentExtension",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Vault\\Model\\PaymentTokenManagement|MockObject paymentTokenManagementMock\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$paymentTokenManagementMock",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Vault\\Model\\PaymentToken|MockObject paymentTokenMock\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$paymentTokenMock",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order|MockObject salesOrderMock\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$salesOrderMock",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Payment|MockObject salesOrderPaymentMock\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$salesOrderPaymentMock",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","setUp",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_DOC_COMMENT","\/** @var Random|MockObject $encryptorRandomGenerator *\/",68],["T_WHITESPACE","\n        ",68],["T_VARIABLE","$encryptorRandomGenerator",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",["T_STRING","Random",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],",",["T_WHITESPACE"," ",69],"[","]",",",["T_WHITESPACE"," ",69],"[","]",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE"," ",69],["T_STRING","false",69],")",";",["T_WHITESPACE","\n        ",69],["T_DOC_COMMENT","\/** @var DeploymentConfig|MockObject $deploymentConfigMock *\/",70],["T_WHITESPACE","\n        ",70],["T_VARIABLE","$deploymentConfigMock",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",["T_STRING","DeploymentConfig",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],",",["T_WHITESPACE"," ",71],"[","]",",",["T_WHITESPACE"," ",71],"[","]",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],",",["T_WHITESPACE"," ",71],["T_STRING","false",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","encryptorModel",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Encryptor",72],"(",["T_VARIABLE","$encryptorRandomGenerator",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$deploymentConfigMock",72],")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","paymentExtension",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_STRING","OrderPaymentExtension",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","setMethods",75],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'getVaultPaymentToken'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",75],"]",")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","disableOriginalConstructor",76],"(",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMock",77],"(",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","paymentTokenManagementMock",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMockBuilder",79],"(",["T_STRING","PaymentTokenManagement",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","setMethods",80],"(","[",["T_CONSTANT_ENCAPSED_STRING","'saveTokenWithPaymentLink'",80],"]",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","disableOriginalConstructor",81],"(",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMock",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","paymentTokenMock",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMockBuilder",84],"(",["T_STRING","PaymentToken",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","setMethods",85],"(",["T_STRING","null",85],")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","disableOriginalConstructor",86],"(",")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","paymentExtension",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setVaultPaymentToken",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","paymentTokenMock",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_COMMENT","\/\/ Sales Order Model\n",91],["T_WHITESPACE","        ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","salesOrderMock",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMock",92],"(",["T_STRING","Order",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],",",["T_WHITESPACE"," ",92],["T_STRING","null",92],",",["T_WHITESPACE"," ",92],"[","]",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","''",92],",",["T_WHITESPACE"," ",92],["T_STRING","false",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_COMMENT","\/\/ Sales Order Payment Model\n",94],["T_WHITESPACE","        ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","salesOrderPaymentMock",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMockBuilder",95],"(",["T_STRING","Payment",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","setMethods",96],"(",["T_STRING","null",96],")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","disableOriginalConstructor",97],"(",")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","salesOrderPaymentMock",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setOrder",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","salesOrderMock",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","salesOrderPaymentMock",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setExtensionAttributes",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","paymentExtension",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_COMMENT","\/\/ Arguments to observer container\n",102],["T_WHITESPACE","        ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","eventObserverArgMock",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMockBuilder",103],"(",["T_STRING","Observer",103],["T_DOUBLE_COLON","::",103],["T_CLASS","class",103],")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","setMethods",104],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getDataByKey'",104],"]",")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","disableOriginalConstructor",105],"(",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMock",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","eventObserverArgMock",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","expects",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","any",107],"(",")",")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","method",108],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataByKey'",108],")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","with",109],"(",["T_STRING","AfterPaymentSaveObserver",109],["T_DOUBLE_COLON","::",109],["T_STRING","PAYMENT_OBJECT_DATA_KEY",109],")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","willReturn",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","salesOrderPaymentMock",110],")",";",["T_WHITESPACE","\n\n        ",110],["T_COMMENT","\/\/ Observer class\n",112],["T_WHITESPACE","        ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","observer",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","AfterPaymentSaveObserver",113],"(",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","paymentTokenManagementMock",114],",",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","encryptorModel",115],["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @param int $customerId\n     * @param string $createdAt\n     * @param string $token\n     * @param bool $isActive\n     * @param string $method\n     * @dataProvider testPositiveCaseDataProvider\n     *\/",119],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testPositiveCase",127],"(",["T_VARIABLE","$customerId",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$createdAt",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$token",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$isActive",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$method",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","paymentTokenMock",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setGatewayToken",129],"(",["T_VARIABLE","$token",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","paymentTokenMock",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setCustomerId",130],"(",["T_VARIABLE","$customerId",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","paymentTokenMock",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setCreatedAt",131],"(",["T_VARIABLE","$createdAt",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","paymentTokenMock",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setPaymentMethodCode",132],"(",["T_VARIABLE","$method",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","paymentTokenMock",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setIsActive",133],"(",["T_VARIABLE","$isActive",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","paymentExtension",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","exactly",135],"(",["T_LNUMBER","2",135],")",")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","method",136],"(",["T_CONSTANT_ENCAPSED_STRING","'getVaultPaymentToken'",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturn",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","paymentTokenMock",137],")",";",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_EMPTY","empty",139],"(",["T_VARIABLE","$token",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","paymentTokenManagementMock",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","once",140],"(",")",")",["T_WHITESPACE","\n                ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'saveTokenWithPaymentLink'",141],")",["T_WHITESPACE","\n                ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_STRING","true",142],")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","paymentExtension",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","once",143],"(",")",")",["T_WHITESPACE","\n                ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",144],")",["T_WHITESPACE","\n                ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","with",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","paymentTokenMock",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE"," ",146],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","paymentTokenManagementMock",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","expects",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","never",147],"(",")",")",["T_WHITESPACE","\n                ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","method",148],"(",["T_CONSTANT_ENCAPSED_STRING","'saveTokenWithPaymentLink'",148],")",";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","paymentExtension",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","expects",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","never",149],"(",")",")",["T_WHITESPACE","\n                ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","method",150],"(",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",150],")",["T_WHITESPACE","\n                ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","with",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","paymentTokenMock",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n\n        ",152],["T_STATIC","static",154],["T_DOUBLE_COLON","::",154],["T_STRING","assertSame",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","observer",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","observer",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","execute",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","eventObserverArgMock",154],")",")",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$paymentToken",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","salesOrderPaymentMock",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getExtensionAttributes",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getVaultPaymentToken",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_STATIC","static",157],["T_DOUBLE_COLON","::",157],["T_STRING","assertSame",157],"(",["T_VARIABLE","$paymentToken",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","paymentTokenMock",157],")",";",["T_WHITESPACE","\n        ",157],["T_STATIC","static",158],["T_DOUBLE_COLON","::",158],["T_STRING","assertEquals",158],"(",["T_VARIABLE","$token",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$paymentToken",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getGatewayToken",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],["T_STATIC","static",159],["T_DOUBLE_COLON","::",159],["T_STRING","assertEquals",159],"(",["T_VARIABLE","$isActive",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$paymentToken",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getIsActive",159],"(",")",")",";",["T_WHITESPACE","\n        ",159],["T_STATIC","static",160],["T_DOUBLE_COLON","::",160],["T_STRING","assertEquals",160],"(",["T_VARIABLE","$createdAt",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$paymentToken",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getCreatedAt",160],"(",")",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testPositiveCaseDataProvider",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],"[",["T_WHITESPACE","\n            ",165],"[",["T_WHITESPACE","\n                ",166],["T_LNUMBER","1",167],",",["T_WHITESPACE","\n                ",167],["T_CONSTANT_ENCAPSED_STRING","'10\\20\\2015'",168],",",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'asdfg'",169],",",["T_WHITESPACE","\n                ",169],["T_STRING","true",170],",",["T_WHITESPACE","\n                ",170],["T_CONSTANT_ENCAPSED_STRING","'paypal'",171],["T_WHITESPACE","\n            ",171],"]",",",["T_WHITESPACE","\n            ",172],"[",["T_WHITESPACE","\n                ",173],["T_STRING","null",174],",",["T_WHITESPACE","\n                ",174],["T_STRING","null",175],",",["T_WHITESPACE","\n                ",175],["T_STRING","null",176],",",["T_WHITESPACE","\n                ",176],["T_STRING","false",177],",",["T_WHITESPACE","\n                ",177],["T_STRING","null",178],["T_WHITESPACE","\n            ",178],"]",",",["T_WHITESPACE","\n        ",179],"]",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n",181],"}",["T_WHITESPACE","\n",182]]