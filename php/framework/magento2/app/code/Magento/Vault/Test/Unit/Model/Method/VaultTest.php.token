[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Vault",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Method",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Payment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Gateway",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Command",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CommandManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Command",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CommandManagerPoolInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ValueHandlerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Gateway",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ValueHandlerPoolInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Payment",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Gateway",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ConfigInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InfoInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Payment",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MethodInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Quote",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Data",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CartInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Sales",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Api",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Data",17],["T_NS_SEPARATOR","\\",17],["T_STRING","OrderPaymentExtensionInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Sales",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Api",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TransactionInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Sales",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Order",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Payment",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Vault",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Api",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Data",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PaymentTokenInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Vault",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Api",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PaymentTokenManagementInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Vault",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Method",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Vault",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Vault",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","VaultPaymentInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","PHPUnit_Framework_MockObject_MockObject",24],["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_STRING","MockObject",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Class VaultTest\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",26],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","VaultTest",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_NS_SEPARATOR","\\",30],["T_STRING","PHPUnit_Framework_TestCase",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_DOC_COMMENT","\/**\n     * @var ObjectManager\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$objectManager",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var MethodInterface|MockObject\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$vaultProvider",40],";",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","setUp",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","objectManager",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","ObjectManager",44],"(",["T_VARIABLE","$this",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","vaultProvider",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMock",45],"(",["T_STRING","MethodInterface",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @expectedException \\DomainException\n     * @expectedExceptionMessage Not implemented\n     *\/",48],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testAuthorizeNotOrderPayment",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$paymentModel",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMock",54],"(",["T_STRING","InfoInterface",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_DOC_COMMENT","\/** @var Vault $model *\/",56],["T_WHITESPACE","\n        ",56],["T_VARIABLE","$model",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getObject",57],"(",["T_STRING","Vault",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$model",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","authorize",58],"(",["T_VARIABLE","$paymentModel",58],",",["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @param array $additionalInfo\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage Public hash should be defined\n     * @dataProvider additionalInfoDataProvider\n     *\/",61],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testAuthorizeNoTokenMetadata",67],"(",["T_ARRAY","array",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$additionalInfo",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$paymentModel",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMockBuilder",69],"(",["T_STRING","Payment",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","disableOriginalConstructor",70],"(",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$paymentModel",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_STATIC","static",73],["T_DOUBLE_COLON","::",73],["T_STRING","once",73],"(",")",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'getAdditionalInformation'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","willReturn",75],"(",["T_VARIABLE","$additionalInfo",75],")",";",["T_WHITESPACE","\n\n        ",75],["T_DOC_COMMENT","\/** @var Vault $model *\/",77],["T_WHITESPACE","\n        ",77],["T_VARIABLE","$model",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getObject",78],"(",["T_STRING","Vault",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$model",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","authorize",79],"(",["T_VARIABLE","$paymentModel",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Get list of additional information variations\n     * @return array\n     *\/",82],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","additionalInfoDataProvider",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],"[",["T_WHITESPACE","\n            ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'additionalInfo'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[","]","]",",",["T_WHITESPACE","\n            ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'additionalInfo'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_LNUMBER","1",90],"]","]",",",["T_WHITESPACE","\n            ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'additionalInfo'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'public_hash'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","null",91],"]","]",",",["T_WHITESPACE","\n        ",91],"]",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     * @expectedExceptionMessage No token found\n     *\/",95],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","testAuthorizeNoToken",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$customerId",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","1",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$publicHash",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'token_public_hash'",102],";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$paymentModel",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMockBuilder",104],"(",["T_STRING","Payment",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","disableOriginalConstructor",105],"(",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMock",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$tokenManagement",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",["T_STRING","PaymentTokenManagementInterface",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$paymentModel",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_STATIC","static",109],["T_DOUBLE_COLON","::",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'getAdditionalInformation'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","willReturn",111],"(",["T_WHITESPACE","\n                ",111],"[",["T_WHITESPACE","\n                    ",112],["T_STRING","PaymentTokenInterface",113],["T_DOUBLE_COLON","::",113],["T_STRING","CUSTOMER_ID",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$customerId",113],",",["T_WHITESPACE","\n                    ",113],["T_STRING","PaymentTokenInterface",114],["T_DOUBLE_COLON","::",114],["T_STRING","PUBLIC_HASH",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$publicHash",114],["T_WHITESPACE","\n                ",114],"]",["T_WHITESPACE","\n            ",115],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$tokenManagement",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_STATIC","static",117],["T_DOUBLE_COLON","::",117],["T_STRING","once",117],"(",")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'getByPublicHash'",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","with",119],"(",["T_VARIABLE","$publicHash",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$customerId",119],")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","willReturn",120],"(",["T_STRING","null",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_DOC_COMMENT","\/** @var Vault $model *\/",122],["T_WHITESPACE","\n        ",122],["T_VARIABLE","$model",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","objectManager",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getObject",123],"(",["T_WHITESPACE","\n            ",123],["T_STRING","Vault",124],["T_DOUBLE_COLON","::",124],["T_CLASS","class",124],",",["T_WHITESPACE","\n            ",124],"[",["T_WHITESPACE","\n                ",125],["T_CONSTANT_ENCAPSED_STRING","'tokenManagement'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$tokenManagement",126],["T_WHITESPACE","\n            ",126],"]",["T_WHITESPACE","\n        ",127],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$model",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","authorize",129],"(",["T_VARIABLE","$paymentModel",129],",",["T_WHITESPACE"," ",129],["T_LNUMBER","0",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testAuthorize",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$customerId",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_LNUMBER","1",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$publicHash",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'token_public_hash'",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$vaultProviderCode",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'vault_provider_code'",136],";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$amount",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_DNUMBER","10.01",137],";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$paymentModel",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMockBuilder",139],"(",["T_STRING","Payment",139],["T_DOUBLE_COLON","::",139],["T_CLASS","class",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","disableOriginalConstructor",140],"(",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMock",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$extensionAttributes",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMockBuilder",142],"(",["T_STRING","OrderPaymentExtensionInterface",142],["T_DOUBLE_COLON","::",142],["T_CLASS","class",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","setMethods",143],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",143],"]",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMock",144],"(",")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$commandManagerPool",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getMock",146],"(",["T_STRING","CommandManagerPoolInterface",146],["T_DOUBLE_COLON","::",146],["T_CLASS","class",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$commandManager",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getMock",147],"(",["T_STRING","CommandManagerInterface",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$tokenManagement",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMock",149],"(",["T_STRING","PaymentTokenManagementInterface",149],["T_DOUBLE_COLON","::",149],["T_CLASS","class",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$token",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMock",150],"(",["T_STRING","PaymentTokenInterface",150],["T_DOUBLE_COLON","::",150],["T_CLASS","class",150],")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$paymentModel",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","expects",152],"(",["T_STATIC","static",152],["T_DOUBLE_COLON","::",152],["T_STRING","once",152],"(",")",")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'getAdditionalInformation'",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","willReturn",154],"(",["T_WHITESPACE","\n                ",154],"[",["T_WHITESPACE","\n                    ",155],["T_STRING","PaymentTokenInterface",156],["T_DOUBLE_COLON","::",156],["T_STRING","CUSTOMER_ID",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$customerId",156],",",["T_WHITESPACE","\n                    ",156],["T_STRING","PaymentTokenInterface",157],["T_DOUBLE_COLON","::",157],["T_STRING","PUBLIC_HASH",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$publicHash",157],["T_WHITESPACE","\n                ",157],"]",["T_WHITESPACE","\n            ",158],")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$tokenManagement",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","expects",160],"(",["T_STATIC","static",160],["T_DOUBLE_COLON","::",160],["T_STRING","once",160],"(",")",")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","method",161],"(",["T_CONSTANT_ENCAPSED_STRING","'getByPublicHash'",161],")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","with",162],"(",["T_VARIABLE","$publicHash",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$customerId",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","willReturn",163],"(",["T_VARIABLE","$token",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$paymentModel",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","expects",164],"(",["T_STATIC","static",164],["T_DOUBLE_COLON","::",164],["T_STRING","once",164],"(",")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","method",165],"(",["T_CONSTANT_ENCAPSED_STRING","'getExtensionAttributes'",165],")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","willReturn",166],"(",["T_VARIABLE","$extensionAttributes",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$extensionAttributes",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","expects",167],"(",["T_STATIC","static",167],["T_DOUBLE_COLON","::",167],["T_STRING","once",167],"(",")",")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","method",168],"(",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",168],")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","with",169],"(",["T_VARIABLE","$token",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","vaultProvider",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","expects",171],"(",["T_STATIC","static",171],["T_DOUBLE_COLON","::",171],["T_STRING","atLeastOnce",171],"(",")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(",["T_VARIABLE","$vaultProviderCode",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$commandManagerPool",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_STATIC","static",174],["T_DOUBLE_COLON","::",174],["T_STRING","once",174],"(",")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","with",176],"(",["T_VARIABLE","$vaultProviderCode",176],")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","willReturn",177],"(",["T_VARIABLE","$commandManager",177],")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$commandManager",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_STATIC","static",178],["T_DOUBLE_COLON","::",178],["T_STRING","once",178],"(",")",")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","method",179],"(",["T_CONSTANT_ENCAPSED_STRING","'executeByCode'",179],")",["T_WHITESPACE","\n            ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","with",180],"(",["T_WHITESPACE","\n                ",180],["T_STRING","VaultPaymentInterface",181],["T_DOUBLE_COLON","::",181],["T_STRING","VAULT_AUTHORIZE_COMMAND",181],",",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$paymentModel",182],",",["T_WHITESPACE","\n                ",182],"[",["T_WHITESPACE","\n                    ",183],["T_CONSTANT_ENCAPSED_STRING","'amount'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$amount",184],["T_WHITESPACE","\n                ",184],"]",["T_WHITESPACE","\n            ",185],")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$paymentModel",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_STATIC","static",188],["T_DOUBLE_COLON","::",188],["T_STRING","once",188],"(",")",")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","method",189],"(",["T_CONSTANT_ENCAPSED_STRING","'setMethod'",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","with",190],"(",["T_VARIABLE","$vaultProviderCode",190],")",";",["T_WHITESPACE","\n\n        ",190],["T_DOC_COMMENT","\/** @var Vault $model *\/",192],["T_WHITESPACE","\n        ",192],["T_VARIABLE","$model",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","objectManager",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getObject",193],"(",["T_WHITESPACE","\n            ",193],["T_STRING","Vault",194],["T_DOUBLE_COLON","::",194],["T_CLASS","class",194],",",["T_WHITESPACE","\n            ",194],"[",["T_WHITESPACE","\n                ",195],["T_CONSTANT_ENCAPSED_STRING","'tokenManagement'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$tokenManagement",196],",",["T_WHITESPACE","\n                ",196],["T_CONSTANT_ENCAPSED_STRING","'commandManagerPool'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$commandManagerPool",197],",",["T_WHITESPACE","\n                ",197],["T_CONSTANT_ENCAPSED_STRING","'vaultProvider'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","vaultProvider",198],["T_WHITESPACE","\n            ",198],"]",["T_WHITESPACE","\n        ",199],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$model",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","authorize",201],"(",["T_VARIABLE","$paymentModel",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$amount",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * @expectedException \\DomainException\n     * @expectedExceptionMessage Not implemented\n     *\/",204],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","testCaptureNotOrderPayment",208],"(",")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$paymentModel",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getMock",210],"(",["T_STRING","InfoInterface",210],["T_DOUBLE_COLON","::",210],["T_CLASS","class",210],")",";",["T_WHITESPACE","\n\n        ",210],["T_DOC_COMMENT","\/** @var Vault $model *\/",212],["T_WHITESPACE","\n        ",212],["T_VARIABLE","$model",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","objectManager",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getObject",213],"(",["T_STRING","Vault",213],["T_DOUBLE_COLON","::",213],["T_CLASS","class",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$model",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","capture",214],"(",["T_VARIABLE","$paymentModel",214],",",["T_WHITESPACE"," ",214],["T_LNUMBER","0",214],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * @expectedException \\DomainException\n     * @expectedExceptionMessage Capture can not be performed through vault\n     *\/",217],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","testCapture",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$paymentModel",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMockBuilder",223],"(",["T_STRING","Payment",223],["T_DOUBLE_COLON","::",223],["T_CLASS","class",223],")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","disableOriginalConstructor",224],"(",")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","getMock",225],"(",")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$authorizationTransaction",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getMock",227],"(",["T_STRING","TransactionInterface",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$paymentModel",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_STATIC","static",228],["T_DOUBLE_COLON","::",228],["T_STRING","once",228],"(",")",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'getAuthorizationTransaction'",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","willReturn",230],"(",["T_VARIABLE","$authorizationTransaction",230],")",";",["T_WHITESPACE","\n\n        ",230],["T_DOC_COMMENT","\/** @var Vault $model *\/",232],["T_WHITESPACE","\n        ",232],["T_VARIABLE","$model",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","objectManager",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getObject",233],"(",["T_STRING","Vault",233],["T_DOUBLE_COLON","::",233],["T_CLASS","class",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$model",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","capture",234],"(",["T_VARIABLE","$paymentModel",234],",",["T_WHITESPACE"," ",234],["T_LNUMBER","0",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Vault\\Model\\Method\\Vault::isAvailable\n     * @dataProvider isAvailableDataProvider\n     *\/",237],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","testIsAvailable",241],"(",["T_VARIABLE","$isAvailableProvider",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$isActive",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$expected",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$storeId",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_LNUMBER","1",243],";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$quote",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMockForAbstractClass",244],"(",["T_STRING","CartInterface",244],["T_DOUBLE_COLON","::",244],["T_CLASS","class",244],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$config",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getMockForAbstractClass",245],"(",["T_STRING","ConfigInterface",245],["T_DOUBLE_COLON","::",245],["T_CLASS","class",245],")",";",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","vaultProvider",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","expects",247],"(",["T_STATIC","static",247],["T_DOUBLE_COLON","::",247],["T_STRING","once",247],"(",")",")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","method",248],"(",["T_CONSTANT_ENCAPSED_STRING","'isAvailable'",248],")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","with",249],"(",["T_VARIABLE","$quote",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","willReturn",250],"(",["T_VARIABLE","$isAvailableProvider",250],")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$config",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_STATIC","static",252],["T_DOUBLE_COLON","::",252],["T_STRING","any",252],"(",")",")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","method",253],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",253],")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","with",254],"(",["T_CONSTANT_ENCAPSED_STRING","'active'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$storeId",254],")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","willReturn",255],"(",["T_VARIABLE","$isActive",255],")",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$quote",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_STATIC","static",257],["T_DOUBLE_COLON","::",257],["T_STRING","any",257],"(",")",")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","method",258],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",258],")",["T_WHITESPACE","\n            ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","willReturn",259],"(",["T_VARIABLE","$storeId",259],")",";",["T_WHITESPACE","\n\n        ",259],["T_DOC_COMMENT","\/** @var Vault $model *\/",261],["T_WHITESPACE","\n        ",261],["T_VARIABLE","$model",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","objectManager",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getObject",262],"(",["T_STRING","Vault",262],["T_DOUBLE_COLON","::",262],["T_CLASS","class",262],",",["T_WHITESPACE"," ",262],"[",["T_WHITESPACE","\n            ",262],["T_CONSTANT_ENCAPSED_STRING","'config'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$config",263],",",["T_WHITESPACE","\n            ",263],["T_CONSTANT_ENCAPSED_STRING","'vaultProvider'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","vaultProvider",264],["T_WHITESPACE","\n        ",264],"]",")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$actual",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$model",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","isAvailable",266],"(",["T_VARIABLE","$quote",266],")",";",["T_WHITESPACE","\n        ",266],["T_STATIC","static",267],["T_DOUBLE_COLON","::",267],["T_STRING","assertEquals",267],"(",["T_VARIABLE","$expected",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$actual",267],")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * List of variations for testing isAvailable method\n     * @return array\n     *\/",270],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","isAvailableDataProvider",274],"(",")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n            ",276],"[",["T_CONSTANT_ENCAPSED_STRING","'isAvailableProvider'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_STRING","true",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'isActiveVault'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_STRING","false",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'expected'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_STRING","false",277],"]",",",["T_WHITESPACE","\n            ",277],"[",["T_CONSTANT_ENCAPSED_STRING","'isAvailableProvider'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","false",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'isActiveVault'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","false",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'expected'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","false",278],"]",",",["T_WHITESPACE","\n            ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'isAvailableProvider'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING","false",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'isActiveVault'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING","true",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'expected'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING","false",279],"]",",",["T_WHITESPACE","\n            ",279],"[",["T_CONSTANT_ENCAPSED_STRING","'isAvailableProvider'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","true",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'isActiveVault'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","true",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'expected'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","true",280],"]",",",["T_WHITESPACE","\n        ",280],"]",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Vault\\Model\\Method\\Vault::isAvailable\n     *\/",284],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","testIsAvailableWithoutQuote",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$quote",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","null",289],";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$config",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getMockForAbstractClass",290],"(",["T_STRING","ConfigInterface",290],["T_DOUBLE_COLON","::",290],["T_CLASS","class",290],")",";",["T_WHITESPACE","\n\n        ",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","vaultProvider",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","expects",292],"(",["T_STATIC","static",292],["T_DOUBLE_COLON","::",292],["T_STRING","once",292],"(",")",")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","method",293],"(",["T_CONSTANT_ENCAPSED_STRING","'isAvailable'",293],")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","with",294],"(",["T_VARIABLE","$quote",294],")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","willReturn",295],"(",["T_STRING","true",295],")",";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$config",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","expects",297],"(",["T_STATIC","static",297],["T_DOUBLE_COLON","::",297],["T_STRING","once",297],"(",")",")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","method",298],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",298],")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","with",299],"(",["T_CONSTANT_ENCAPSED_STRING","'active'",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$quote",299],")",["T_WHITESPACE","\n            ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","willReturn",300],"(",["T_STRING","false",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_DOC_COMMENT","\/** @var Vault $model *\/",302],["T_WHITESPACE","\n        ",302],["T_VARIABLE","$model",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","objectManager",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getObject",303],"(",["T_STRING","Vault",303],["T_DOUBLE_COLON","::",303],["T_CLASS","class",303],",",["T_WHITESPACE"," ",303],"[",["T_WHITESPACE","\n            ",303],["T_CONSTANT_ENCAPSED_STRING","'config'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$config",304],",",["T_WHITESPACE","\n            ",304],["T_CONSTANT_ENCAPSED_STRING","'vaultProvider'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","vaultProvider",305],["T_WHITESPACE","\n        ",305],"]",")",";",["T_WHITESPACE","\n        ",306],["T_STATIC","static",307],["T_DOUBLE_COLON","::",307],["T_STRING","assertFalse",307],"(",["T_VARIABLE","$model",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","isAvailable",307],"(",["T_VARIABLE","$quote",307],")",")",";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Vault\\Model\\Method\\Vault::canUseInternal\n     * @param bool|null $configValue\n     * @param bool|null $paymentValue\n     * @param bool $expected\n     * @dataProvider internalUsageDataProvider\n     *\/",310],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","testCanUseInternal",317],"(",["T_VARIABLE","$configValue",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$paymentValue",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$expected",317],")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$handlerPool",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getMock",319],"(",["T_STRING","ValueHandlerPoolInterface",319],["T_DOUBLE_COLON","::",319],["T_CLASS","class",319],")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$handler",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getMock",320],"(",["T_STRING","ValueHandlerInterface",320],["T_DOUBLE_COLON","::",320],["T_CLASS","class",320],")",";",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$handlerPool",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","expects",322],"(",["T_STATIC","static",322],["T_DOUBLE_COLON","::",322],["T_STRING","once",322],"(",")",")",["T_WHITESPACE","\n            ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","method",323],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",323],")",["T_WHITESPACE","\n            ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","with",324],"(",["T_CONSTANT_ENCAPSED_STRING","'can_use_internal'",324],")",["T_WHITESPACE","\n            ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","willReturn",325],"(",["T_VARIABLE","$handler",325],")",";",["T_WHITESPACE","\n\n        ",325],["T_VARIABLE","$handler",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","expects",327],"(",["T_STATIC","static",327],["T_DOUBLE_COLON","::",327],["T_STRING","once",327],"(",")",")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","method",328],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",328],")",["T_WHITESPACE","\n            ",328],["T_OBJECT_OPERATOR","->",329],["T_STRING","with",329],"(","[",["T_CONSTANT_ENCAPSED_STRING","'field'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'can_use_internal'",329],"]",",",["T_WHITESPACE"," ",329],["T_STRING","null",329],")",["T_WHITESPACE","\n            ",329],["T_OBJECT_OPERATOR","->",330],["T_STRING","willReturn",330],"(",["T_VARIABLE","$configValue",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","vaultProvider",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","expects",332],"(",["T_STATIC","static",332],["T_DOUBLE_COLON","::",332],["T_STRING","any",332],"(",")",")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","method",333],"(",["T_CONSTANT_ENCAPSED_STRING","'canUseInternal'",333],")",["T_WHITESPACE","\n            ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","willReturn",334],"(",["T_VARIABLE","$paymentValue",334],")",";",["T_WHITESPACE","\n\n        ",334],["T_DOC_COMMENT","\/** @var Vault $model *\/",336],["T_WHITESPACE","\n        ",336],["T_VARIABLE","$model",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","objectManager",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getObject",337],"(",["T_STRING","Vault",337],["T_DOUBLE_COLON","::",337],["T_CLASS","class",337],",",["T_WHITESPACE"," ",337],"[",["T_WHITESPACE","\n            ",337],["T_CONSTANT_ENCAPSED_STRING","'vaultProvider'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","vaultProvider",338],",",["T_WHITESPACE","\n            ",338],["T_CONSTANT_ENCAPSED_STRING","'valueHandlerPool'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$handlerPool",339],",",["T_WHITESPACE","\n        ",339],"]",")",";",["T_WHITESPACE","\n        ",340],["T_STATIC","static",341],["T_DOUBLE_COLON","::",341],["T_STRING","assertEquals",341],"(",["T_VARIABLE","$expected",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$model",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","canUseInternal",341],"(",")",")",";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Get list of variations for testing canUseInternal method\n     * @return array\n     *\/",344],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","internalUsageDataProvider",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],"[",["T_WHITESPACE","\n            ",350],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_STRING","true",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_STRING","true",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'expected'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_STRING","true",351],"]",",",["T_WHITESPACE","\n            ",351],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_STRING","true",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_STRING","null",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'expected'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_STRING","true",352],"]",",",["T_WHITESPACE","\n            ",352],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_STRING","true",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_STRING","false",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'expected'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_STRING","true",353],"]",",",["T_WHITESPACE","\n            ",353],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_STRING","false",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_STRING","true",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'expected'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_STRING","false",354],"]",",",["T_WHITESPACE","\n            ",354],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_STRING","false",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_STRING","false",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'expected'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_STRING","false",355],"]",",",["T_WHITESPACE","\n            ",355],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","null",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","true",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'expected'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","true",356],"]",",",["T_WHITESPACE","\n            ",356],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_STRING","null",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_STRING","false",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'expected'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_STRING","false",357],"]",",",["T_WHITESPACE","\n            ",357],"[",["T_CONSTANT_ENCAPSED_STRING","'configValue'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_STRING","null",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'paymentValue'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_STRING","null",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'expected'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_STRING","false",358],"]",",",["T_WHITESPACE","\n        ",358],"]",";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n",360],"}",["T_WHITESPACE","\n",361]]