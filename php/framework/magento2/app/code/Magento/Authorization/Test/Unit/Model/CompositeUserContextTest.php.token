[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Authorization",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Authorization",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CompositeUserContext",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ObjectManager",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Composite",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","CompositeHelper",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Unit",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ObjectManager",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CompositeUserContextTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var CompositeUserContext\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$userContext",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var CompositeHelper\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$compositeHelperMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var ObjectManager\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$objectManager",29],";",["T_WHITESPACE","\n\n    ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","objectManager",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","ObjectManager",33],"(",["T_VARIABLE","$this",33],")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","compositeHelperMock",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMockBuilder",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ObjectManager",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Helper",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Composite",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","disableOriginalConstructor",35],"(",")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","setMethods",36],"(","[",["T_CONSTANT_ENCAPSED_STRING","'filterAndSortDeclaredComponents'",36],"]",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMock",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","compositeHelperMock",38],["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","expects",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","any",39],"(",")",")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","method",40],"(",["T_CONSTANT_ENCAPSED_STRING","'filterAndSortDeclaredComponents'",40],")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","will",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","returnArgument",41],"(",["T_LNUMBER","0",41],")",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","userContext",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","objectManager",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getObject",42],"(",["T_WHITESPACE","\n            ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Authorization",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Model",43],["T_NS_SEPARATOR","\\",43],["T_STRING","CompositeUserContext",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],",",["T_WHITESPACE","\n            ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'compositeHelper'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","compositeHelperMock",44],"]",["T_WHITESPACE","\n        ",44],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testConstructor",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$userContextMock",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createUserContextMock",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$contexts",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n            ",51],"[",["T_WHITESPACE","\n                ",52],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_LNUMBER","10",53],",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'type'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$userContextMock",54],",",["T_WHITESPACE","\n            ",54],"]",",",["T_WHITESPACE","\n        ",55],"]",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$model",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getObject",57],"(",["T_WHITESPACE","\n            ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Authorization",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","CompositeUserContext",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],",",["T_WHITESPACE","\n            ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'compositeHelper'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","compositeHelperMock",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'userContexts'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$contexts",59],"]",["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","verifyUserContextIsAdded",61],"(",["T_VARIABLE","$model",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$userContextMock",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testGetUserId",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$expectedUserId",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_LNUMBER","1",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$expectedUserType",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Customer'",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$userContextMock",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockBuilder",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Authorization",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","CompositeUserContext",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","disableOriginalConstructor",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","setMethods",69],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'getUserType'",69],"]",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$userContextMock",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","any",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","will",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","returnValue",70],"(",["T_VARIABLE","$expectedUserId",70],")",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$userContextMock",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","any",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserType'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","will",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","returnValue",71],"(",["T_VARIABLE","$expectedUserType",71],")",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$contexts",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n            ",72],"[",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_LNUMBER","10",74],",",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'type'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$userContextMock",75],",",["T_WHITESPACE","\n            ",75],"]",",",["T_WHITESPACE","\n        ",76],"]",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","userContext",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getObject",78],"(",["T_WHITESPACE","\n            ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Authorization",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","CompositeUserContext",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],",",["T_WHITESPACE","\n            ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'compositeHelper'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","compositeHelperMock",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'userContexts'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$contexts",80],"]",["T_WHITESPACE","\n        ",80],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$actualUserId",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","userContext",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getUserId",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_VARIABLE","$expectedUserId",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$actualUserId",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'User ID is defined incorrectly.'",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testGetUserType",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$expectedUserId",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","1",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$expectedUserType",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Customer'",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$userContextMock",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMockBuilder",90],"(",["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Authorization",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","CompositeUserContext",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","disableOriginalConstructor",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","setMethods",91],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'getUserType'",91],"]",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getMock",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$userContextMock",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","any",92],"(",")",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","will",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","returnValue",92],"(",["T_VARIABLE","$expectedUserId",92],")",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$userContextMock",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","any",93],"(",")",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserType'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","will",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","returnValue",93],"(",["T_VARIABLE","$expectedUserType",93],")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$contexts",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_WHITESPACE","\n            ",94],"[",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_LNUMBER","10",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'type'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$userContextMock",97],",",["T_WHITESPACE","\n            ",97],"]",",",["T_WHITESPACE","\n        ",98],"]",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","userContext",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","objectManager",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getObject",100],"(",["T_WHITESPACE","\n            ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Authorization",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","CompositeUserContext",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],",",["T_WHITESPACE","\n            ",101],"[",["T_CONSTANT_ENCAPSED_STRING","'compositeHelper'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","compositeHelperMock",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'userContexts'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$contexts",102],"]",["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$actualUserType",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","userContext",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getUserType",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEquals",105],"(",["T_VARIABLE","$expectedUserType",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$actualUserType",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'User Type is defined incorrectly.'",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testUserContextCaching",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$expectedUserId",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$expectedUserType",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Customer'",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$userContextMock",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMockBuilder",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Authorization",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","CompositeUserContext",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","disableOriginalConstructor",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","setMethods",113],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'getUserType'",113],"]",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getMock",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$userContextMock",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","expects",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","exactly",114],"(",["T_LNUMBER","3",114],")",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","method",114],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserType'",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","will",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","returnValue",115],"(",["T_VARIABLE","$expectedUserType",115],")",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$userContextMock",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","exactly",116],"(",["T_LNUMBER","3",116],")",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","will",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","returnValue",117],"(",["T_VARIABLE","$expectedUserId",117],")",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$contexts",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],"[",["T_WHITESPACE","\n            ",118],"[",["T_WHITESPACE","\n                ",119],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_LNUMBER","10",120],",",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$userContextMock",121],",",["T_WHITESPACE","\n            ",121],"]",",",["T_WHITESPACE","\n        ",122],"]",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","userContext",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","objectManager",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getObject",124],"(",["T_WHITESPACE","\n            ",124],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Authorization",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","CompositeUserContext",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],",",["T_WHITESPACE","\n            ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'compositeHelper'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","compositeHelperMock",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'userContexts'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$contexts",126],"]",["T_WHITESPACE","\n        ",126],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","userContext",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getUserId",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","userContext",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getUserId",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","userContext",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getUserType",130],"(",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","userContext",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getUserType",131],"(",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testEmptyUserContext",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$expectedUserId",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","null",136],";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$userContextMock",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockBuilder",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Authorization",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","CompositeUserContext",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","disableOriginalConstructor",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","setMethods",138],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",138],"]",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","getMock",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$userContextMock",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","expects",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","any",139],"(",")",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","will",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","returnValue",140],"(",["T_VARIABLE","$expectedUserId",140],")",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$contexts",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[",["T_WHITESPACE","\n            ",141],"[",["T_WHITESPACE","\n                ",142],["T_CONSTANT_ENCAPSED_STRING","'sortOrder'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_LNUMBER","10",143],",",["T_WHITESPACE","\n                ",143],["T_CONSTANT_ENCAPSED_STRING","'type'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$userContextMock",144],",",["T_WHITESPACE","\n            ",144],"]",",",["T_WHITESPACE","\n        ",145],"]",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","userContext",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","objectManager",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getObject",147],"(",["T_WHITESPACE","\n            ",147],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Authorization",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Model",148],["T_NS_SEPARATOR","\\",148],["T_STRING","CompositeUserContext",148],["T_DOUBLE_COLON","::",148],["T_CLASS","class",148],",",["T_WHITESPACE","\n            ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'compositeHelper'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","compositeHelperMock",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'userContexts'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$contexts",149],"]",["T_WHITESPACE","\n        ",149],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$actualUserId",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","userContext",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getUserId",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertEquals",152],"(",["T_VARIABLE","$expectedUserId",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$actualUserId",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'User ID is defined incorrectly.'",152],")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * @param int|null $userId\n     * @param string|null $userType\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",155],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","createUserContextMock",160],"(",["T_VARIABLE","$userId",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$userType",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$useContextMock",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getMockBuilder",162],"(",["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Authorization",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Model",162],["T_NS_SEPARATOR","\\",162],["T_STRING","CompositeUserContext",162],["T_DOUBLE_COLON","::",162],["T_CLASS","class",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","disableOriginalConstructor",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","setMethods",163],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'getUserType'",163],"]",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getMock",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$userId",164],["T_WHITESPACE"," ",164],["T_IS_NOT_IDENTICAL","!==",164],["T_WHITESPACE"," ",164],["T_STRING","null",164],["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$userType",164],["T_WHITESPACE"," ",164],["T_IS_NOT_IDENTICAL","!==",164],["T_WHITESPACE"," ",164],["T_STRING","null",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$useContextMock",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","expects",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","any",165],"(",")",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","method",165],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserId'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","will",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","returnValue",165],"(",["T_VARIABLE","$userId",165],")",")",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$useContextMock",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","any",166],"(",")",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'getUserType'",166],")",["T_OBJECT_OPERATOR","->",166],["T_STRING","will",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","returnValue",166],"(",["T_VARIABLE","$userType",166],")",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$useContextMock",168],";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * @param CompositeUserContext $model\n     * @param CompositeUserContext $userContextMock\n     *\/",171],["T_WHITESPACE","\n    ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","verifyUserContextIsAdded",175],"(",["T_VARIABLE","$model",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$userContextMock",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$userContext",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","ReflectionProperty",177],"(",["T_WHITESPACE","\n            ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Authorization",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","CompositeUserContext",178],["T_DOUBLE_COLON","::",178],["T_CLASS","class",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'userContexts'",179],["T_WHITESPACE","\n        ",179],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$userContext",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setAccessible",181],"(",["T_STRING","true",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$values",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$userContext",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getValue",182],"(",["T_VARIABLE","$model",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertCount",183],"(",["T_LNUMBER","1",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$values",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'User context is not registered.'",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEquals",184],"(",["T_VARIABLE","$userContextMock",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$values",184],"[",["T_LNUMBER","0",184],"]",",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'User context is registered incorrectly.'",184],")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n",185],"}",["T_WHITESPACE","\n",186]]