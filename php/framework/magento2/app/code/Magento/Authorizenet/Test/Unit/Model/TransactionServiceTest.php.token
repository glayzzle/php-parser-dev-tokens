[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Authorizenet",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Simplexml",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Element",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Authorizenet",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TransactionService",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","TransactionServiceTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\HTTP\\ZendClient|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$httpClientMock",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Authorizenet\\Model\\Authorizenet|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$authorizenetMock",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Authorizenet\\Model\\TransactionService\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$transactionService",27],";",["T_WHITESPACE","\n\n    ",27],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$httpClientFactoryMock",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getHttpClientFactoryMock",31],"(",")",";",["T_WHITESPACE","\n\n        ",31],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","authorizenetMock",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMockBuilder",33],"(",["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Authorizenet",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Directpost",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],")",["T_WHITESPACE","\n            ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","disableOriginalConstructor",34],"(",")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","getMock",35],"(",")",";",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","authorizenetMock",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","method",37],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfigData'",37],")",["T_WHITESPACE","\n            ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","willReturnMap",38],"(","[",["T_WHITESPACE","\n                ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'login'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'test login'",39],"]",",",["T_WHITESPACE","\n                ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'trans_key'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'test key'",40],"]",",",["T_WHITESPACE","\n                ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'cgi_url_td'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/apitest.authorize.net\/xml\/v1\/request.api'",41],"]",["T_WHITESPACE","\n            ",41],"]",")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$objectManagerHelper",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STRING","ObjectManager",44],"(",["T_VARIABLE","$this",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$xmlSecurity",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$objectManagerHelper",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getObject",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Xml",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Security",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","transactionService",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$objectManagerHelper",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getObject",46],"(",["T_WHITESPACE","\n            ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Authorizenet",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","TransactionService",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],",",["T_WHITESPACE","\n            ",47],"[",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'xmlSecurityHelper'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$xmlSecurity",49],",",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'httpClientFactory'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$httpClientFactoryMock",50],["T_WHITESPACE","\n            ",50],"]",["T_WHITESPACE","\n        ",51],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Authorizenet\\Model\\TransactionService::loadTransactionDetails\n     * @param $transactionId\n     * @param $resultStatus\n     * @param $responseStatus\n     * @param $responseCode\n     * @return void\n     *\n     * @dataProvider dataProviderTransaction\n     *\/",55],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testLoadVoidedTransactionDetails",65],"(",["T_VARIABLE","$transactionId",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$resultStatus",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$responseStatus",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$responseCode",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$document",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getResponseBody",67],"(",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$transactionId",68],",",["T_WHITESPACE","\n            ",68],["T_STRING","TransactionService",69],["T_DOUBLE_COLON","::",69],["T_STRING","PAYMENT_UPDATE_STATUS_CODE_SUCCESS",69],",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$resultStatus",70],",",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$responseStatus",71],",",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$responseCode",72],["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","httpClientMock",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_STATIC","static",74],["T_DOUBLE_COLON","::",74],["T_STRING","once",74],"(",")",")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","method",75],"(",["T_CONSTANT_ENCAPSED_STRING","'getBody'",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","willReturn",76],"(",["T_VARIABLE","$document",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$result",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","transactionService",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getTransactionDetails",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","authorizenetMock",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$transactionId",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_STATIC","static",80],["T_DOUBLE_COLON","::",80],["T_STRING","assertEquals",80],"(",["T_VARIABLE","$responseCode",80],",",["T_WHITESPACE"," ",80],["T_STRING_CAST","(string)",80],["T_VARIABLE","$result",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","transaction",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","responseCode",80],")",";",["T_WHITESPACE","\n        ",80],["T_STATIC","static",81],["T_DOUBLE_COLON","::",81],["T_STRING","assertEquals",81],"(",["T_VARIABLE","$responseCode",81],",",["T_WHITESPACE"," ",81],["T_STRING_CAST","(string)",81],["T_VARIABLE","$result",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","transaction",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","responseReasonCode",81],")",";",["T_WHITESPACE","\n        ",81],["T_STATIC","static",82],["T_DOUBLE_COLON","::",82],["T_STRING","assertEquals",82],"(",["T_VARIABLE","$responseStatus",82],",",["T_WHITESPACE"," ",82],["T_STRING_CAST","(string)",82],["T_VARIABLE","$result",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","transaction",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","transactionStatus",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Get data for tests\n     * @return array\n     *\/",85],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","dataProviderTransaction",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n            ",91],"[",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'transactionId'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'9941997799'",93],",",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'resultStatus'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Successful.'",94],",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'responseStatus'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'voided'",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'responseCode'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_LNUMBER","1",96],["T_WHITESPACE","\n            ",96],"]",["T_WHITESPACE","\n        ",97],"]",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Create and return mock for http client factory\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",101],["T_WHITESPACE","\n    ",104],["T_PRIVATE","private",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getHttpClientFactoryMock",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","httpClientMock",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMockBuilder",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","HTTP",107],["T_NS_SEPARATOR","\\",107],["T_STRING","ZendClient",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","disableOriginalConstructor",108],"(",")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","setMethods",109],"(","[",["T_CONSTANT_ENCAPSED_STRING","'request'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'getBody'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",109],"]",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","httpClientMock",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","expects",112],"(",["T_STATIC","static",112],["T_DOUBLE_COLON","::",112],["T_STRING","once",112],"(",")",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","method",113],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","willReturnSelf",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$httpClientFactoryMock",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMockBuilder",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Framework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","HTTP",116],["T_NS_SEPARATOR","\\",116],["T_STRING","ZendClientFactory",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","disableOriginalConstructor",117],"(",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","setMethods",118],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",118],"]",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMock",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$httpClientFactoryMock",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_STATIC","static",121],["T_DOUBLE_COLON","::",121],["T_STRING","once",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","httpClientMock",123],")",";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$httpClientFactoryMock",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Get body for xml request\n     * @param string $transactionId\n     * @param int $resultCode\n     * @param string $resultStatus\n     * @param string $responseStatus\n     * @param string $responseCode\n     * @return string\n     *\/",127],["T_WHITESPACE","\n    ",135],["T_PRIVATE","private",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","getResponseBody",136],"(",["T_VARIABLE","$transactionId",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$resultCode",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$resultStatus",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$responseStatus",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$responseCode",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","sprintf",138],"(",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\" encoding=\"utf-8\"?>\n            <getTransactionDetailsResponse\n                    xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"\n                    xmlns:xsd=\"http:\/\/www.w3.org\/2001\/XMLSchema\"\n                    xmlns=\"AnetApi\/xml\/v1\/schema\/AnetApiSchema.xsd\">\n                <messages>\n                    <resultCode>%s<\/resultCode>\n                    <message>\n                        <code>I00001<\/code>\n                        <text>%s<\/text>\n                    <\/message>\n                <\/messages>\n                <transaction>\n                    <transId>%s<\/transId>\n                    <transactionType>authOnlyTransaction<\/transactionType>\n                    <transactionStatus>%s<\/transactionStatus>\n                    <responseCode>%s<\/responseCode>\n                    <responseReasonCode>%s<\/responseReasonCode>\n                <\/transaction>\n            <\/getTransactionDetailsResponse>'",139],",",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$resultCode",159],",",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$resultStatus",160],",",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$transactionId",161],",",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$responseStatus",162],",",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$responseCode",163],",",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$responseCode",164],["T_WHITESPACE","\n        ",164],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n",166],"}",["T_WHITESPACE","\n",167]]