[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Store",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Scope",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","InvalidArgumentException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ScopeConfigInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Scope",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ValidatorInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ScopeResolverPool",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LocalizedException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","NoSuchEntityException",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class Validator validates scope and scope code.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Validator",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_STRING","ValidatorInterface",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var ScopeResolverPool\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$scopeResolverPool",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @param ScopeResolverPool $scopeResolverPool\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","__construct",28],"(",["T_STRING","ScopeResolverPool",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$scopeResolverPool",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","scopeResolverPool",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$scopeResolverPool",30],";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","isValid",36],"(",["T_VARIABLE","$scope",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$scopeCode",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","null",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$scope",38],["T_WHITESPACE"," ",38],["T_IS_IDENTICAL","===",38],["T_WHITESPACE"," ",38],["T_STRING","ScopeConfigInterface",38],["T_DOUBLE_COLON","::",38],["T_STRING","SCOPE_TYPE_DEFAULT",38],["T_WHITESPACE"," ",38],["T_BOOLEAN_AND","&&",38],["T_WHITESPACE"," ",38],["T_EMPTY","empty",38],"(",["T_VARIABLE","$scopeCode",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_STRING","true",39],";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE","\n\n        ",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$scope",42],["T_WHITESPACE"," ",42],["T_IS_IDENTICAL","===",42],["T_WHITESPACE"," ",42],["T_STRING","ScopeConfigInterface",42],["T_DOUBLE_COLON","::",42],["T_STRING","SCOPE_TYPE_DEFAULT",42],["T_WHITESPACE"," ",42],["T_BOOLEAN_AND","&&",42],["T_WHITESPACE"," ",42],"!",["T_EMPTY","empty",42],"(",["T_VARIABLE","$scopeCode",42],")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_THROW","throw",43],["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","LocalizedException",43],"(",["T_STRING","__",43],"(",["T_WHITESPACE","\n                ",43],["T_CONSTANT_ENCAPSED_STRING","'The \"%1\" scope can\\'t include a scope code. Try again without entering a scope code.'",44],",",["T_WHITESPACE","\n                ",44],["T_STRING","ScopeConfigInterface",45],["T_DOUBLE_COLON","::",45],["T_STRING","SCOPE_TYPE_DEFAULT",45],["T_WHITESPACE","\n            ",45],")",")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n\n        ",47],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_EMPTY","empty",49],"(",["T_VARIABLE","$scope",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_THROW","throw",50],["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","LocalizedException",50],"(",["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Enter a scope before proceeding.'",50],")",")",";",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","validateScopeCode",53],"(",["T_VARIABLE","$scopeCode",53],")",";",["T_WHITESPACE","\n\n        ",53],["T_TRY","try",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$scopeResolver",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","scopeResolverPool",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_VARIABLE","$scope",56],")",";",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$scopeResolver",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getScope",57],"(",["T_VARIABLE","$scopeCode",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","getId",57],"(",")",";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE"," ",58],["T_CATCH","catch",58],["T_WHITESPACE"," ",58],"(",["T_STRING","InvalidArgumentException",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$e",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_THROW","throw",59],["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","LocalizedException",59],"(",["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%1\" value doesn\\'t exist. Enter another value.'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$scope",59],")",")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE"," ",60],["T_CATCH","catch",60],["T_WHITESPACE"," ",60],"(",["T_STRING","NoSuchEntityException",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$e",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_THROW","throw",61],["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","LocalizedException",61],"(",["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%1\" value doesn\\'t exist. Enter another value.'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$scopeCode",61],")",")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n\n        ",62],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_STRING","true",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Validate scope code\n     * Throw exception if not valid.\n     *\n     * @param string $scopeCode\n     * @return void\n     * @throws LocalizedException if scope code is empty or has a wrong format\n     *\/",67],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","validateScopeCode",75],"(",["T_VARIABLE","$scopeCode",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_EMPTY","empty",77],"(",["T_VARIABLE","$scopeCode",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_THROW","throw",78],["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","LocalizedException",78],"(",["T_STRING","__",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Enter a scope code before proceeding.'",78],")",")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_STRING","preg_match",81],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[a-z]+[a-z0-9_]*$\/'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$scopeCode",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_THROW","throw",82],["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","LocalizedException",82],"(",["T_STRING","__",82],"(",["T_WHITESPACE","\n                ",82],["T_CONSTANT_ENCAPSED_STRING","'The scope code can include only lowercase letters (a-z), numbers (0-9) and underscores (_). '",83],["T_WHITESPACE","\n                ",83],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Also, the first character must be a letter.'",84],["T_WHITESPACE","\n            ",84],")",")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n",87],"}",["T_WHITESPACE","\n",88]]