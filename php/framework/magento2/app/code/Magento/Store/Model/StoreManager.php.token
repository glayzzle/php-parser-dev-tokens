[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Store",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","StoreResolverInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Store",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","StoreWebsiteRelation",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Service contract, which manage scopes\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","StoreManager",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE","\n    ",17],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Store",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StoreManagerInterface",18],",",["T_WHITESPACE","\n    ",18],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Store",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","StoreWebsiteRelationInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Application run code\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","PARAM_RUN_CODE",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'MAGE_RUN_CODE'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Application run type (store|website)\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","PARAM_RUN_TYPE",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'MAGE_RUN_TYPE'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Wether single store mode enabled or not\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","XML_PATH_SINGLE_STORE_MODE_ENABLED",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'general\/single_store_mode\/enabled'",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Api\\StoreRepositoryInterface\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$storeRepository",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Api\\GroupRepositoryInterface\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$groupRepository",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Api\\WebsiteRepositoryInterface\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$websiteRepository",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Scope config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$scopeConfig",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var StoreResolverInterface\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$storeResolver",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Cache\\FrontendInterface\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$cache",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Default store code\n     *\n     * @var string\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$currentStoreId",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Flag that shows that system has only one store view\n     *\n     * @var bool\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$_hasSingleStore",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Flag is single store mode allowed\n     *\n     * @var bool\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$isSingleStoreAllowed",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Store\\Api\\StoreRepositoryInterface $storeRepository\n     * @param \\Magento\\Store\\Api\\GroupRepositoryInterface $groupRepository\n     * @param \\Magento\\Store\\Api\\WebsiteRepositoryInterface $websiteRepository\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param StoreResolverInterface $storeResolver\n     * @param \\Magento\\Framework\\Cache\\FrontendInterface $cache\n     * @param bool $isSingleStoreAllowed\n     *\/",89],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","__construct",98],"(",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Store",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Api",99],["T_NS_SEPARATOR","\\",99],["T_STRING","StoreRepositoryInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$storeRepository",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Store",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Api",100],["T_NS_SEPARATOR","\\",100],["T_STRING","GroupRepositoryInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$groupRepository",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Store",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Api",101],["T_NS_SEPARATOR","\\",101],["T_STRING","WebsiteRepositoryInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$websiteRepository",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","App",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Config",102],["T_NS_SEPARATOR","\\",102],["T_STRING","ScopeConfigInterface",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$scopeConfig",102],",",["T_WHITESPACE","\n        ",102],["T_STRING","StoreResolverInterface",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$storeResolver",103],",",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Cache",104],["T_NS_SEPARATOR","\\",104],["T_STRING","FrontendInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$cache",104],",",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$isSingleStoreAllowed",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","true",105],["T_WHITESPACE","\n    ",105],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","storeRepository",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$storeRepository",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","websiteRepository",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$websiteRepository",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","groupRepository",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$groupRepository",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","scopeConfig",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$scopeConfig",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","storeResolver",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$storeResolver",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","cache",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$cache",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","isSingleStoreAllowed",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$isSingleStoreAllowed",113],";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","setCurrentStore",119],"(",["T_VARIABLE","$store",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","currentStoreId",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$store",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",124],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","setIsSingleStoreModeAllowed",127],"(",["T_VARIABLE","$value",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","isSingleStoreAllowed",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$value",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",132],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","hasSingleStore",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_COMMENT","\/\/ TODO: MAGETWO-39902 add cache, move value to consts\n",137],["T_WHITESPACE","        ",138],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isSingleStoreAllowed",138],["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],["T_STRING","count",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getStores",138],"(",["T_STRING","true",138],")",")",["T_WHITESPACE"," ",138],"<",["T_WHITESPACE"," ",138],["T_LNUMBER","3",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",141],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","isSingleStoreMode",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","isSingleStoreModeEnabled",146],"(",")",["T_WHITESPACE"," ",146],["T_BOOLEAN_AND","&&",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","hasSingleStore",146],"(",")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",149],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","getStore",152],"(",["T_VARIABLE","$storeId",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","null",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(","!",["T_ISSET","isset",154],"(",["T_VARIABLE","$storeId",154],")",["T_WHITESPACE"," ",154],["T_BOOLEAN_OR","||",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$storeId",154],["T_WHITESPACE"," ",154],["T_BOOLEAN_OR","||",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$storeId",154],["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_STRING","true",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","null",155],["T_WHITESPACE"," ",155],["T_IS_IDENTICAL","===",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","currentStoreId",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Profiler",156],["T_DOUBLE_COLON","::",156],["T_STRING","start",156],"(",["T_CONSTANT_ENCAPSED_STRING","'store.resolve'",156],")",";",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","currentStoreId",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","storeResolver",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getCurrentStoreId",157],"(",")",";",["T_WHITESPACE","\n                ",157],["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Framework",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Profiler",158],["T_DOUBLE_COLON","::",158],["T_STRING","stop",158],"(",["T_CONSTANT_ENCAPSED_STRING","'store.resolve'",158],")",";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$storeId",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","currentStoreId",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$storeId",162],["T_WHITESPACE"," ",162],["T_INSTANCEOF","instanceof",162],["T_WHITESPACE"," ",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Store",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Api",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Data",162],["T_NS_SEPARATOR","\\",162],["T_STRING","StoreInterface",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$storeId",163],";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$store",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","is_numeric",166],"(",["T_VARIABLE","$storeId",166],")",["T_WHITESPACE","\n            ",166],"?",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","storeRepository",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getById",167],"(",["T_VARIABLE","$storeId",167],")",["T_WHITESPACE","\n            ",167],":",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","storeRepository",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"(",["T_VARIABLE","$storeId",168],")",";",["T_WHITESPACE","\n\n        ",168],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$store",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",173],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","getStores",176],"(",["T_VARIABLE","$withDefault",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","false",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$codeKey",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","false",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$stores",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],"[","]",";",["T_WHITESPACE","\n        ",178],["T_FOREACH","foreach",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","storeRepository",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getList",179],"(",")",["T_WHITESPACE"," ",179],["T_AS","as",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$store",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(","!",["T_VARIABLE","$withDefault",180],["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$store",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getId",180],"(",")",["T_WHITESPACE"," ",180],["T_IS_EQUAL","==",180],["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_CONTINUE","continue",181],";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n            ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$codeKey",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$stores",184],"[",["T_VARIABLE","$store",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getCode",184],"(",")","]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$store",184],";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$stores",186],"[",["T_VARIABLE","$store",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getId",186],"(",")","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$store",186],";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$stores",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",192],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getWebsite",195],"(",["T_VARIABLE","$websiteId",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","null",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$websiteId",197],["T_WHITESPACE"," ",197],["T_IS_IDENTICAL","===",197],["T_WHITESPACE"," ",197],["T_STRING","null",197],["T_WHITESPACE"," ",197],["T_BOOLEAN_OR","||",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$websiteId",197],["T_WHITESPACE"," ",197],["T_IS_IDENTICAL","===",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","''",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$website",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","websiteRepository",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getById",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getStore",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getWebsiteId",198],"(",")",")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE"," ",199],["T_ELSEIF","elseif",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$websiteId",199],["T_WHITESPACE"," ",199],["T_INSTANCEOF","instanceof",199],["T_WHITESPACE"," ",199],["T_STRING","Website",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$website",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$websiteId",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSEIF","elseif",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$websiteId",201],["T_WHITESPACE"," ",201],["T_IS_IDENTICAL","===",201],["T_WHITESPACE"," ",201],["T_STRING","true",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$website",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","websiteRepository",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getDefault",202],"(",")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE"," ",203],["T_ELSEIF","elseif",203],["T_WHITESPACE"," ",203],"(",["T_STRING","is_numeric",203],"(",["T_VARIABLE","$websiteId",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$website",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","websiteRepository",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getById",204],"(",["T_VARIABLE","$websiteId",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$website",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","websiteRepository",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_VARIABLE","$websiteId",206],")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$website",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",212],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getWebsites",215],"(",["T_VARIABLE","$withDefault",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","false",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$codeKey",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","false",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$websites",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],"[","]",";",["T_WHITESPACE","\n        ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","websiteRepository",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getList",218],"(",")",["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$website",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_VARIABLE","$withDefault",219],["T_WHITESPACE"," ",219],["T_BOOLEAN_AND","&&",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$website",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getId",219],"(",")",["T_WHITESPACE"," ",219],["T_IS_EQUAL","==",219],["T_WHITESPACE"," ",219],["T_LNUMBER","0",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_CONTINUE","continue",220],";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n            ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$codeKey",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$websites",223],"[",["T_VARIABLE","$website",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getCode",223],"(",")","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$website",223],";",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$websites",225],"[",["T_VARIABLE","$website",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getId",225],"(",")","]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$website",225],";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$websites",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",231],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","reinitStores",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","currentStoreId",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","null",236],";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","cache",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","clean",237],"(",["T_NS_SEPARATOR","\\",237],["T_STRING","Zend_Cache",237],["T_DOUBLE_COLON","::",237],["T_STRING","CLEANING_MODE_MATCHING_ANY_TAG",237],",",["T_WHITESPACE"," ",237],"[",["T_STRING","StoreResolver",237],["T_DOUBLE_COLON","::",237],["T_STRING","CACHE_TAG",237],",",["T_WHITESPACE"," ",237],["T_STRING","Store",237],["T_DOUBLE_COLON","::",237],["T_STRING","CACHE_TAG",237],"]",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","scopeConfig",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","clean",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","storeRepository",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","clean",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","websiteRepository",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","clean",240],"(",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","groupRepository",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","clean",241],"(",")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",244],["T_WHITESPACE","\n    ",246],["T_PUBLIC","public",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","getDefaultStoreView",247],"(",")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$defaultWebsite",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","websiteRepository",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getDefault",249],"(",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$defaultStore",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getGroup",250],"(",["T_VARIABLE","$defaultWebsite",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getDefaultGroupId",250],"(",")",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","getDefaultStore",250],"(",")",";",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$defaultStore",251],["T_WHITESPACE"," ",251],"?",":",["T_WHITESPACE"," ",251],["T_STRING","null",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",254],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","getGroup",257],"(",["T_VARIABLE","$groupId",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","null",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_STRING","null",259],["T_WHITESPACE"," ",259],["T_IS_IDENTICAL","===",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$groupId",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$group",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","groupRepository",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","get",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getStore",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getGroupId",260],"(",")",")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE"," ",261],["T_ELSEIF","elseif",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$groupId",261],["T_WHITESPACE"," ",261],["T_INSTANCEOF","instanceof",261],["T_WHITESPACE"," ",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Magento",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Store",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Api",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Data",261],["T_NS_SEPARATOR","\\",261],["T_STRING","GroupInterface",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$group",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$groupId",262],";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE"," ",263],["T_ELSE","else",263],["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$group",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","groupRepository",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","get",264],"(",["T_VARIABLE","$groupId",264],")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$group",266],";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",269],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getGroups",272],"(",["T_VARIABLE","$withDefault",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","false",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$groups",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","groupRepository",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getList",274],"(",")",";",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$withDefault",276],["T_WHITESPACE"," ",276],"?",["T_WHITESPACE"," ",276],["T_VARIABLE","$groups",276],["T_WHITESPACE"," ",276],":",["T_WHITESPACE"," ",276],["T_STRING","array_filter",276],"(",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$groups",277],",",["T_WHITESPACE","\n            ",277],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$item",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$item",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getId",279],"(",")",["T_WHITESPACE"," ",279],["T_IS_NOT_EQUAL","!=",279],["T_WHITESPACE"," ",279],["T_LNUMBER","0",279],";",["T_WHITESPACE","\n            ",279],"}",["T_WHITESPACE","\n        ",280],")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Check if Single-Store mode is enabled in configuration\n     *\n     * This flag only shows that admin does not want to show certain UI components at backend (like store switchers etc)\n     * if Magento has only one store view but it does not check the store view collection\n     *\n     * @return bool\n     *\/",284],["T_WHITESPACE","\n    ",291],["T_PROTECTED","protected",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","isSingleStoreModeEnabled",292],"(",")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_BOOL_CAST","(bool)",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","scopeConfig",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getValue",294],"(",["T_WHITESPACE","\n            ",294],["T_STRING","self",295],["T_DOUBLE_COLON","::",295],["T_STRING","XML_PATH_SINGLE_STORE_MODE_ENABLED",295],",",["T_WHITESPACE","\n            ",295],["T_NS_SEPARATOR","\\",296],["T_STRING","Magento",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Store",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Model",296],["T_NS_SEPARATOR","\\",296],["T_STRING","ScopeInterface",296],["T_DOUBLE_COLON","::",296],["T_STRING","SCOPE_STORE",296],["T_WHITESPACE","\n        ",296],")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return StoreWebsiteRelation\n     *\/",300],["T_WHITESPACE","\n    ",303],["T_PRIVATE","private",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","getStoreWebsiteRelation",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_STRING","ObjectManager",306],["T_DOUBLE_COLON","::",306],["T_STRING","getInstance",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","get",306],"(",["T_STRING","StoreWebsiteRelation",306],["T_DOUBLE_COLON","::",306],["T_CLASS","class",306],")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",309],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","getStoreByWebsiteId",312],"(",["T_VARIABLE","$websiteId",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getStoreWebsiteRelation",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","getStoreByWebsiteId",314],"(",["T_VARIABLE","$websiteId",314],")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n",315],"}",["T_WHITESPACE","\n",316]]