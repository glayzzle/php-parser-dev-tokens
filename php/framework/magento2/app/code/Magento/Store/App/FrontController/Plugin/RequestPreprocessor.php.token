[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Store",6],["T_NS_SEPARATOR","\\",6],["T_STRING","App",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FrontController",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","RequestPreprocessor",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$_scopeConfig",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResponseFactory\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_responseFactory",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\UrlInterface\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_url",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_storeManager",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\BaseUrlChecker\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$baseUrlChecker",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\UrlInterface $url\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Framework\\App\\ResponseFactory $responseFactory\n     *\/",35],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Store",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","StoreManagerInterface",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$storeManager",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","UrlInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$url",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","App",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Config",44],["T_NS_SEPARATOR","\\",44],["T_STRING","ScopeConfigInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$scopeConfig",44],",",["T_WHITESPACE","\n        ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","App",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ResponseFactory",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$responseFactory",45],["T_WHITESPACE","\n    ",45],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_storeManager",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$storeManager",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_url",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$url",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_scopeConfig",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$scopeConfig",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_responseFactory",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$responseFactory",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Auto-redirect to base url (without SID) if the requested url doesn't match it.\n     * By default this feature is enabled in configuration.\n     *\n     * @param \\Magento\\Framework\\App\\FrontController $subject\n     * @param callable $proceed\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     *\n     * @return \\Magento\\Framework\\App\\ResponseInterface\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",53],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","aroundDispatch",64],"(",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","App",65],["T_NS_SEPARATOR","\\",65],["T_STRING","FrontController",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$subject",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Closure",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$proceed",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","App",67],["T_NS_SEPARATOR","\\",67],["T_STRING","RequestInterface",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$request",67],["T_WHITESPACE","\n    ",67],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_VARIABLE","$request",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","isPost",69],"(",")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getBaseUrlChecker",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","isEnabled",69],"(",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$baseUrl",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_storeManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getStore",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getBaseUrl",70],"(",["T_WHITESPACE","\n                ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","UrlInterface",71],["T_DOUBLE_COLON","::",71],["T_STRING","URL_TYPE_WEB",71],",",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_storeManager",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getStore",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","isCurrentlySecure",72],"(",")",["T_WHITESPACE","\n            ",72],")",";",["T_WHITESPACE","\n            ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$baseUrl",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$uri",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","parse_url",75],"(",["T_VARIABLE","$baseUrl",75],")",";",["T_WHITESPACE","\n                ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getBaseUrlChecker",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","execute",76],"(",["T_VARIABLE","$uri",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$request",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_VARIABLE","$redirectUrl",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_url",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getRedirectUrl",77],"(",["T_WHITESPACE","\n                        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_url",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getUrl",78],"(",["T_STRING","ltrim",78],"(",["T_VARIABLE","$request",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getPathInfo",78],"(",")",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'\/'",78],")",",",["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'_nosid'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","true",78],"]",")",["T_WHITESPACE","\n                    ",78],")",";",["T_WHITESPACE","\n                    ",79],["T_VARIABLE","$redirectCode",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_INT_CAST","(int)",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_scopeConfig",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getValue",80],"(",["T_WHITESPACE","\n                        ",80],["T_CONSTANT_ENCAPSED_STRING","'web\/url\/redirect_to_base'",81],",",["T_WHITESPACE","\n                        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Store",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","ScopeInterface",82],["T_DOUBLE_COLON","::",82],["T_STRING","SCOPE_STORE",82],["T_WHITESPACE","\n                    ",82],")",["T_WHITESPACE"," ",83],["T_IS_NOT_IDENTICAL","!==",83],["T_WHITESPACE"," ",83],["T_LNUMBER","301",83],["T_WHITESPACE"," ",83],"?",["T_WHITESPACE"," ",83],["T_LNUMBER","302",83],["T_WHITESPACE"," ",83],":",["T_WHITESPACE"," ",83],["T_LNUMBER","301",83],";",["T_WHITESPACE","\n\n                    ",83],["T_VARIABLE","$response",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_responseFactory",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","create",85],"(",")",";",["T_WHITESPACE","\n                    ",85],["T_VARIABLE","$response",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setRedirect",86],"(",["T_VARIABLE","$redirectUrl",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$redirectCode",86],")",";",["T_WHITESPACE","\n                    ",86],["T_VARIABLE","$response",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setNoCacheHeaders",87],"(",")",";",["T_WHITESPACE","\n                    ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$response",88],";",["T_WHITESPACE","\n                ",88],"}",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$request",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setDispatched",92],"(",["T_STRING","false",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$proceed",94],"(",["T_VARIABLE","$request",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Gets base URL checker.\n     *\n     * @return \\Magento\\Store\\Model\\BaseUrlChecker\n     * @deprecated\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PRIVATE","private",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","getBaseUrlChecker",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","baseUrlChecker",105],["T_WHITESPACE"," ",105],["T_IS_IDENTICAL","===",105],["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","baseUrlChecker",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","App",106],["T_NS_SEPARATOR","\\",106],["T_STRING","ObjectManager",106],["T_DOUBLE_COLON","::",106],["T_STRING","getInstance",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","get",106],"(",["T_WHITESPACE","\n                ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Store",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Model",107],["T_NS_SEPARATOR","\\",107],["T_STRING","BaseUrlChecker",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],["T_WHITESPACE","\n            ",107],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","baseUrlChecker",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]