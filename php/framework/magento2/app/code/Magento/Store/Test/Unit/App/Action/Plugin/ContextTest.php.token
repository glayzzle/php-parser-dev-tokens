[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Store",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","App",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Action",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Http",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Context",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Store",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","StoreManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractAction",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RequestInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class ContextPluginTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ContextTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","CURRENCY_SESSION",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'CNY'",21],";",["T_WHITESPACE","\n    ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","CURRENCY_DEFAULT",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'USD'",22],";",["T_WHITESPACE","\n    ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","CURRENCY_CURRENT_STORE",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'UAH'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\App\\Action\\Plugin\\Context\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$plugin",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Session\\SessionManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$sessionMock",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Http\\Context|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$httpContextMock",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManager|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$storeManager",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Api\\StoreCookieManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$storeCookieManager",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\Store|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$storeMock",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\Store|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$currentStoreMock",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\Website|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$websiteMock",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var AbstractAction|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$subjectMock",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @var RequestInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$requestMock",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Set up\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","setUp",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","sessionMock",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",["T_WHITESPACE","\n            ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Session",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Generic",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],",",["T_WHITESPACE","\n            ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'getCurrencyCode'",82],"]",",",["T_WHITESPACE","\n            ",82],"[","]",",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","''",84],",",["T_WHITESPACE","\n            ",84],["T_STRING","false",85],["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","httpContextMock",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",["T_WHITESPACE","\n            ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","App",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Http",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Context",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE","\n            ",88],"[","]",",",["T_WHITESPACE","\n            ",89],"[","]",",",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","''",91],",",["T_WHITESPACE","\n            ",91],["T_STRING","false",92],["T_WHITESPACE","\n        ",92],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","storeManager",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMock",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Store",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","StoreManagerInterface",94],["T_DOUBLE_COLON","::",94],["T_CLASS","class",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","storeCookieManager",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMock",95],"(",["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Store",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Api",95],["T_NS_SEPARATOR","\\",95],["T_STRING","StoreCookieManagerInterface",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","storeMock",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMock",96],"(",["T_WHITESPACE","\n            ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Store",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Store",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],",",["T_WHITESPACE","\n            ",97],"[","]",",",["T_WHITESPACE","\n            ",98],"[","]",",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","''",100],",",["T_WHITESPACE","\n            ",100],["T_STRING","false",101],["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","currentStoreMock",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",["T_WHITESPACE","\n            ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Store",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Model",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Store",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE","\n            ",104],"[","]",",",["T_WHITESPACE","\n            ",105],"[","]",",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE","\n            ",107],["T_STRING","false",108],["T_WHITESPACE","\n        ",108],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","websiteMock",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",["T_WHITESPACE","\n            ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Store",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Website",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],",",["T_WHITESPACE","\n            ",111],"[",["T_CONSTANT_ENCAPSED_STRING","'getDefaultStore'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",112],"]",",",["T_WHITESPACE","\n            ",112],"[","]",",",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","''",114],",",["T_WHITESPACE","\n            ",114],["T_STRING","false",115],["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","requestMock",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMockBuilder",117],"(",["T_STRING","RequestInterface",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getMockForAbstractClass",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","subjectMock",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getMockBuilder",118],"(",["T_STRING","AbstractAction",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","disableOriginalConstructor",119],"(",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMockForAbstractClass",120],"(",")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","plugin",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"(",["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","ObjectManager",122],"(",["T_VARIABLE","$this",122],")",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","getObject",122],"(",["T_WHITESPACE","\n            ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Store",123],["T_NS_SEPARATOR","\\",123],["T_STRING","App",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Action",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Plugin",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Context",123],["T_DOUBLE_COLON","::",123],["T_CLASS","class",123],",",["T_WHITESPACE","\n            ",123],"[",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'session'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","sessionMock",125],",",["T_WHITESPACE","\n                ",125],["T_CONSTANT_ENCAPSED_STRING","'httpContext'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","httpContextMock",126],",",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'storeManager'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","storeManager",127],",",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","'storeCookieManager'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","storeCookieManager",128],",",["T_WHITESPACE","\n            ",128],"]",["T_WHITESPACE","\n        ",129],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","storeManager",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","once",131],"(",")",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'getWebsite'",132],")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","will",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","returnValue",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","websiteMock",133],")",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","storeManager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultStoreView'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","willReturn",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","storeMock",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","websiteMock",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","expects",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","once",137],"(",")",")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","method",138],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultStore'",138],")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","will",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","returnValue",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","storeMock",139],")",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","storeCookieManager",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","once",141],"(",")",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreCodeFromCookie'",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","will",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","returnValue",143],"(",["T_CONSTANT_ENCAPSED_STRING","'storeCookie'",143],")",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","currentStoreMock",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","expects",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","any",144],"(",")",")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","method",145],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultCurrencyCode'",145],")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","will",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","returnValue",146],"(",["T_STRING","self",146],["T_DOUBLE_COLON","::",146],["T_STRING","CURRENCY_CURRENT_STORE",146],")",")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","testBeforeDispatchCurrencyFromSession",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","storeMock",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","expects",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","once",151],"(",")",")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","method",152],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultCurrencyCode'",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","will",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","returnValue",153],"(",["T_STRING","self",153],["T_DOUBLE_COLON","::",153],["T_STRING","CURRENCY_DEFAULT",153],")",")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","storeMock",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","expects",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","once",155],"(",")",")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","method",156],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",156],")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","willReturn",157],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",157],")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","currentStoreMock",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","expects",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","once",158],"(",")",")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","method",159],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",159],")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","willReturn",160],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_store'",160],")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","requestMock",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","once",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","with",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","equalTo",164],"(",["T_CONSTANT_ENCAPSED_STRING","'___store'",164],")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","will",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","returnValue",165],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",165],")",")",";",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","storeManager",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","method",167],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",167],")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","with",168],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",168],")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","willReturn",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","currentStoreMock",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","sessionMock",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","expects",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","any",171],"(",")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'getCurrencyCode'",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","will",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","returnValue",173],"(",["T_STRING","self",173],["T_DOUBLE_COLON","::",173],["T_STRING","CURRENCY_SESSION",173],")",")",";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","httpContextMock",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","expects",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","at",175],"(",["T_LNUMBER","0",175],")",")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","method",176],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",176],")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","with",177],"(",["T_STRING","StoreManagerInterface",177],["T_DOUBLE_COLON","::",177],["T_STRING","CONTEXT_STORE",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'custom_store'",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'default'",177],")",";",["T_WHITESPACE","\n        ",177],["T_DOC_COMMENT","\/** Make sure that current currency is taken from session if available *\/",178],["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","httpContextMock",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","expects",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","at",179],"(",["T_LNUMBER","1",179],")",")",["T_WHITESPACE","\n            ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","method",180],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",180],")",["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","with",181],"(",["T_STRING","Context",181],["T_DOUBLE_COLON","::",181],["T_STRING","CONTEXT_CURRENCY",181],",",["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","CURRENCY_SESSION",181],",",["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","CURRENCY_DEFAULT",181],")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","plugin",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","beforeDispatch",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","subjectMock",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","requestMock",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","testDispatchCurrentStoreCurrency",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","storeMock",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","once",188],"(",")",")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","method",189],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultCurrencyCode'",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","will",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","returnValue",190],"(",["T_STRING","self",190],["T_DOUBLE_COLON","::",190],["T_STRING","CURRENCY_DEFAULT",190],")",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","storeMock",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","once",192],"(",")",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",193],")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","willReturn",194],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",194],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","currentStoreMock",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","expects",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","once",195],"(",")",")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","method",196],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",196],")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","willReturn",197],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_store'",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","requestMock",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","once",199],"(",")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",200],")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","with",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","equalTo",201],"(",["T_CONSTANT_ENCAPSED_STRING","'___store'",201],")",")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","will",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","returnValue",202],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",202],")",")",";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","storeManager",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","method",204],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",204],")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","with",205],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","willReturn",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","currentStoreMock",206],")",";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","httpContextMock",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","expects",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","at",208],"(",["T_LNUMBER","0",208],")",")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","method",209],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",209],")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","with",210],"(",["T_STRING","StoreManagerInterface",210],["T_DOUBLE_COLON","::",210],["T_STRING","CONTEXT_STORE",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'custom_store'",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'default'",210],")",";",["T_WHITESPACE","\n        ",210],["T_DOC_COMMENT","\/** Make sure that current currency is taken from current store if no value is provided in session *\/",211],["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","httpContextMock",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","expects",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","at",212],"(",["T_LNUMBER","1",212],")",")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","method",213],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",213],")",["T_WHITESPACE","\n            ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","with",214],"(",["T_STRING","Context",214],["T_DOUBLE_COLON","::",214],["T_STRING","CONTEXT_CURRENCY",214],",",["T_WHITESPACE"," ",214],["T_STRING","self",214],["T_DOUBLE_COLON","::",214],["T_STRING","CURRENCY_CURRENT_STORE",214],",",["T_WHITESPACE"," ",214],["T_STRING","self",214],["T_DOUBLE_COLON","::",214],["T_STRING","CURRENCY_DEFAULT",214],")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","plugin",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","beforeDispatch",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","subjectMock",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","requestMock",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","testDispatchStoreParameterIsArray",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","storeMock",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","expects",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","once",221],"(",")",")",["T_WHITESPACE","\n            ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","method",222],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultCurrencyCode'",222],")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","will",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","returnValue",223],"(",["T_STRING","self",223],["T_DOUBLE_COLON","::",223],["T_STRING","CURRENCY_DEFAULT",223],")",")",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","storeMock",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","once",225],"(",")",")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","willReturn",227],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",227],")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","currentStoreMock",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","once",228],"(",")",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","willReturn",230],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_store'",230],")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$store",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"[",["T_WHITESPACE","\n            ",232],["T_CONSTANT_ENCAPSED_STRING","'_data'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],"[",["T_WHITESPACE","\n                ",233],["T_CONSTANT_ENCAPSED_STRING","'code'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_LNUMBER","500",234],",",["T_WHITESPACE","\n            ",234],"]",["T_WHITESPACE","\n        ",235],"]",";",["T_WHITESPACE","\n\n        ",236],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","requestMock",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","expects",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","once",238],"(",")",")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","method",239],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",239],")",["T_WHITESPACE","\n            ",239],["T_OBJECT_OPERATOR","->",240],["T_STRING","with",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","equalTo",240],"(",["T_CONSTANT_ENCAPSED_STRING","'___store'",240],")",")",["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","will",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","returnValue",241],"(",["T_VARIABLE","$store",241],")",")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","storeManager",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","expects",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","once",243],"(",")",")",["T_WHITESPACE","\n            ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","method",244],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",244],")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","with",245],"(",["T_CONSTANT_ENCAPSED_STRING","'500'",245],")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","willReturn",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","currentStoreMock",246],")",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","httpContextMock",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","expects",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","at",248],"(",["T_LNUMBER","0",248],")",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","method",249],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","with",250],"(",["T_STRING","StoreManagerInterface",250],["T_DOUBLE_COLON","::",250],["T_STRING","CONTEXT_STORE",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'custom_store'",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'default'",250],")",";",["T_WHITESPACE","\n        ",250],["T_DOC_COMMENT","\/** Make sure that current currency is taken from current store if no value is provided in session *\/",251],["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","httpContextMock",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","at",252],"(",["T_LNUMBER","1",252],")",")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","method",253],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",253],")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","with",254],"(",["T_STRING","Context",254],["T_DOUBLE_COLON","::",254],["T_STRING","CONTEXT_CURRENCY",254],",",["T_WHITESPACE"," ",254],["T_STRING","self",254],["T_DOUBLE_COLON","::",254],["T_STRING","CURRENCY_CURRENT_STORE",254],",",["T_WHITESPACE"," ",254],["T_STRING","self",254],["T_DOUBLE_COLON","::",254],["T_STRING","CURRENCY_DEFAULT",254],")",";",["T_WHITESPACE","\n\n        ",254],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","plugin",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","beforeDispatch",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","subjectMock",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","requestMock",256],")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * @expectedException \\InvalidArgumentException\n     * @expectedExceptionMessage Invalid store parameter.\n     *\/",259],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","testDispatchStoreParameterIsInvalidArray",263],"(",")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","storeMock",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","expects",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","never",265],"(",")",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","method",266],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultCurrencyCode'",266],")",["T_WHITESPACE","\n            ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","will",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","returnValue",267],"(",["T_STRING","self",267],["T_DOUBLE_COLON","::",267],["T_STRING","CURRENCY_DEFAULT",267],")",")",";",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","storeMock",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","expects",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","never",269],"(",")",")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","method",270],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",270],")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","willReturn",271],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","currentStoreMock",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","expects",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","never",272],"(",")",")",["T_WHITESPACE","\n            ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","method",273],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",273],")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","willReturn",274],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_store'",274],")",";",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$store",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n            ",276],["T_CONSTANT_ENCAPSED_STRING","'some'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],"[",["T_WHITESPACE","\n                ",277],["T_CONSTANT_ENCAPSED_STRING","'code'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","500",278],",",["T_WHITESPACE","\n            ",278],"]",["T_WHITESPACE","\n        ",279],"]",";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","requestMock",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","expects",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","once",282],"(",")",")",["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","method",283],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",283],")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","with",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","equalTo",284],"(",["T_CONSTANT_ENCAPSED_STRING","'___store'",284],")",")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","will",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","returnValue",285],"(",["T_VARIABLE","$store",285],")",")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","plugin",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","beforeDispatch",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","subjectMock",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","requestMock",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n",287],"}",["T_WHITESPACE","\n",288]]