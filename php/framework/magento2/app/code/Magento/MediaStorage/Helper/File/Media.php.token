[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MediaStorage",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],["T_NS_SEPARATOR","\\",6],["T_STRING","File",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Class Media\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Media",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Helper",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractHelper",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_date",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$filesystem",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $date\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     *\/",25],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","App",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Helper",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Context",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$context",33],",",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Stdlib",34],["T_NS_SEPARATOR","\\",34],["T_STRING","DateTime",34],["T_NS_SEPARATOR","\\",34],["T_STRING","DateTime",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$date",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Filesystem",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$filesystem",35],["T_WHITESPACE","\n    ",35],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n        ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","__construct",37],"(",["T_VARIABLE","$context",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","_date",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$date",38],";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","filesystem",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$filesystem",39],";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Collect file info\n     *\n     * Return array(\n     *  filename    => string\n     *  content     => string|bool\n     *  update_time => string\n     *  directory   => string\n     *\n     * @param string $mediaDirectory\n     * @param string $path\n     * @return array\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",42],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","collectFileInfo",56],"(",["T_VARIABLE","$mediaDirectory",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$path",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$path",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","ltrim",58],"(",["T_VARIABLE","$path",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'\\\\\/'",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$fullPath",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$mediaDirectory",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/'",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_VARIABLE","$path",59],";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$dir",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","filesystem",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getDirectoryRead",61],"(",["T_STRING","DirectoryList",61],["T_DOUBLE_COLON","::",61],["T_STRING","MEDIA",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$relativePath",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$dir",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getRelativePath",62],"(",["T_VARIABLE","$fullPath",62],")",";",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_VARIABLE","$dir",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isFile",63],"(",["T_VARIABLE","$relativePath",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_THROW","throw",64],["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Exception",64],["T_NS_SEPARATOR","\\",64],["T_STRING","LocalizedException",64],"(",["T_STRING","__",64],"(",["T_CONSTANT_ENCAPSED_STRING","'File %1 does not exist'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$fullPath",64],")",")",";",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n        ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_VARIABLE","$dir",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","isReadable",66],"(",["T_VARIABLE","$relativePath",66],")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Exception",67],["T_NS_SEPARATOR","\\",67],["T_STRING","LocalizedException",67],"(",["T_STRING","__",67],"(",["T_CONSTANT_ENCAPSED_STRING","'File %1 is not readable'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$fullPath",67],")",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$path",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","str_replace",70],"(","[",["T_CONSTANT_ENCAPSED_STRING","'\/'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",70],"]",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\/'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$path",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$directory",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","dirname",71],"(",["T_VARIABLE","$path",71],")",";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$directory",72],["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'.'",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$directory",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n\n        ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],"[",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","'filename'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_STRING","basename",77],"(",["T_VARIABLE","$path",77],")",",",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'content'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$dir",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","readFile",78],"(",["T_VARIABLE","$relativePath",78],")",",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","'update_time'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_date",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","date",79],"(",")",",",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'directory'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$directory",80],["T_WHITESPACE","\n        ",80],"]",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n",82],"}",["T_WHITESPACE","\n",83]]