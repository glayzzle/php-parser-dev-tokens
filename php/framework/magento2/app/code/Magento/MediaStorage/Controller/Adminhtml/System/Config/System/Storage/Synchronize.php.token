[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MediaStorage",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","System",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","System",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Storage",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","Synchronize",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MediaStorage",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Adminhtml",9],["T_NS_SEPARATOR","\\",9],["T_STRING","System",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","System",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Storage",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * Synchronize action between storages\n     *\n     * @return void\n     *\/",11],["T_WHITESPACE","\n    ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","execute",16],"(",")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_STRING","session_write_close",18],"(",")",";",["T_WHITESPACE","\n\n        ",18],["T_VARIABLE","$requestStorage",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getRequest",20],"(",")",["T_OBJECT_OPERATOR","->",20],["T_STRING","getParam",20],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",20],")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$requestConnection",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getRequest",21],"(",")",["T_OBJECT_OPERATOR","->",21],["T_STRING","getParam",21],"(",["T_CONSTANT_ENCAPSED_STRING","'connection'",21],")",";",["T_WHITESPACE","\n        ",21],["T_IF","if",22],["T_WHITESPACE"," ",22],"(","!",["T_ISSET","isset",22],"(",["T_VARIABLE","$requestStorage",22],")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n            ",22],["T_RETURN","return",23],";",["T_WHITESPACE","\n        ",23],"}",["T_WHITESPACE","\n\n        ",24],["T_VARIABLE","$flag",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","_getSyncFlag",26],"(",")",";",["T_WHITESPACE","\n        ",26],["T_IF","if",27],["T_WHITESPACE"," ",27],"(",["T_VARIABLE","$flag",27],["T_WHITESPACE"," ",27],["T_BOOLEAN_AND","&&",27],["T_WHITESPACE","\n            ",27],["T_VARIABLE","$flag",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getState",28],"(",")",["T_WHITESPACE"," ",28],["T_IS_EQUAL","==",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","MediaStorage",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Model",28],["T_NS_SEPARATOR","\\",28],["T_STRING","File",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Storage",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Flag",28],["T_DOUBLE_COLON","::",28],["T_STRING","STATE_RUNNING",28],["T_WHITESPACE"," ",28],["T_BOOLEAN_AND","&&",28],["T_WHITESPACE","\n            ",28],["T_VARIABLE","$flag",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getLastUpdate",29],"(",")",["T_WHITESPACE"," ",29],["T_BOOLEAN_AND","&&",29],["T_WHITESPACE","\n            ",29],["T_STRING","time",30],"(",")",["T_WHITESPACE"," ",30],["T_IS_SMALLER_OR_EQUAL","<=",30],["T_WHITESPACE"," ",30],["T_STRING","strtotime",30],"(",["T_WHITESPACE","\n                ",30],["T_VARIABLE","$flag",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getLastUpdate",31],"(",")",["T_WHITESPACE","\n            ",31],")",["T_WHITESPACE"," ",32],"+",["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","MediaStorage",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","File",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Storage",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Flag",32],["T_DOUBLE_COLON","::",32],["T_STRING","FLAG_TTL",32],["T_WHITESPACE","\n        ",32],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_RETURN","return",34],";",["T_WHITESPACE","\n        ",34],"}",["T_WHITESPACE","\n\n        ",35],["T_VARIABLE","$flag",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","setState",37],"(",["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","MediaStorage",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","File",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Storage",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Flag",37],["T_DOUBLE_COLON","::",37],["T_STRING","STATE_RUNNING",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","setFlagData",37],"(","[","]",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","save",37],"(",")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$storage",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$requestStorage",39],"]",";",["T_WHITESPACE","\n        ",39],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_ISSET","isset",40],"(",["T_VARIABLE","$requestConnection",40],")",["T_WHITESPACE"," ",40],["T_BOOLEAN_AND","&&",40],["T_WHITESPACE"," ",40],"!",["T_EMPTY","empty",40],"(",["T_VARIABLE","$requestConnection",40],")",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n            ",40],["T_VARIABLE","$storage",41],"[",["T_CONSTANT_ENCAPSED_STRING","'connection'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$requestConnection",41],";",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n\n        ",42],["T_TRY","try",44],["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_getSyncSingleton",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","synchronize",45],"(",["T_VARIABLE","$storage",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE"," ",46],["T_CATCH","catch",46],["T_WHITESPACE"," ",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","Exception",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$e",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_objectManager",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Psr",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Log",47],["T_NS_SEPARATOR","\\",47],["T_STRING","LoggerInterface",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","critical",47],"(",["T_VARIABLE","$e",47],")",";",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$flag",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","passError",48],"(",["T_VARIABLE","$e",48],")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$flag",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setState",51],"(",["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","MediaStorage",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","File",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Storage",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Flag",51],["T_DOUBLE_COLON","::",51],["T_STRING","STATE_FINISHED",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","save",51],"(",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n",52],"}",["T_WHITESPACE","\n",53]]