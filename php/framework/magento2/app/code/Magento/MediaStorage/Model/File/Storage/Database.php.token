[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MediaStorage",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","File",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Storage",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Class Database\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Database",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MediaStorage",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","File",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Storage",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Database",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractDatabase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_eventPrefix",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'media_storage_file_storage_database'",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Directory singleton\n     *\n     * @var \\Magento\\MediaStorage\\Model\\File\\Storage\\Directory\\Database\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_directoryModel",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Collect errors during sync process\n     *\n     * @var string[]\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_errors",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[","]",";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\Storage\\Directory\\DatabaseFactory\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_directoryFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Helper\\File\\Media\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_mediaHelper",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Store media base directory path\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$mediaBaseDirectory",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database $coreFileStorageDb\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $dateModel\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $configuration\n     * @param \\Magento\\MediaStorage\\Helper\\File\\Media $mediaHelper\n     * @param \\Magento\\MediaStorage\\Model\\ResourceModel\\File\\Storage\\Database $resource\n     * @param Directory\\DatabaseFactory $directoryFactory\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param string $connectionName\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",51],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Context",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$context",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Registry",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$registry",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","MediaStorage",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Helper",68],["T_NS_SEPARATOR","\\",68],["T_STRING","File",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Storage",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Database",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$coreFileStorageDb",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Stdlib",69],["T_NS_SEPARATOR","\\",69],["T_STRING","DateTime",69],["T_NS_SEPARATOR","\\",69],["T_STRING","DateTime",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$dateModel",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","App",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Config",70],["T_NS_SEPARATOR","\\",70],["T_STRING","ScopeConfigInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$configuration",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","MediaStorage",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Helper",71],["T_NS_SEPARATOR","\\",71],["T_STRING","File",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Media",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$mediaHelper",71],",",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","MediaStorage",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Model",72],["T_NS_SEPARATOR","\\",72],["T_STRING","ResourceModel",72],["T_NS_SEPARATOR","\\",72],["T_STRING","File",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Storage",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Database",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$resource",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","MediaStorage",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Model",73],["T_NS_SEPARATOR","\\",73],["T_STRING","File",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Storage",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Directory",73],["T_NS_SEPARATOR","\\",73],["T_STRING","DatabaseFactory",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$directoryFactory",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Data",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Collection",74],["T_NS_SEPARATOR","\\",74],["T_STRING","AbstractDb",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$resourceCollection",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],",",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$connectionName",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],",",["T_WHITESPACE","\n        ",75],["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$data",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[","]",["T_WHITESPACE","\n    ",76],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_directoryFactory",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$directoryFactory",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_mediaHelper",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$mediaHelper",79],";",["T_WHITESPACE","\n        ",79],["T_STRING","parent",80],["T_DOUBLE_COLON","::",80],["T_STRING","__construct",80],"(",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$context",81],",",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$registry",82],",",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$coreFileStorageDb",83],",",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$dateModel",84],",",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$configuration",85],",",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$resource",86],",",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$resourceCollection",87],",",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$connectionName",88],",",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$data",89],["T_WHITESPACE","\n        ",89],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_init",91],"(",["T_STRING","get_class",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_resource",91],")",")",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Retrieve directory model\n     *\n     * @return \\Magento\\MediaStorage\\Model\\File\\Storage\\Directory\\Database\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getDirectoryModel",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_directoryModel",101],["T_WHITESPACE"," ",101],["T_IS_IDENTICAL","===",101],["T_WHITESPACE"," ",101],["T_STRING","null",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_directoryModel",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_directoryFactory",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","create",102],"(",["T_WHITESPACE","\n                ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'connectionName'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getConnectionName",103],"(",")","]",["T_WHITESPACE","\n            ",103],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_directoryModel",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Create tables for file and directory storages\n     *\n     * @return $this\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","init",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getDirectoryModel",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","prepareStorage",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","prepareStorage",118],"(",")",";",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Return storage name\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getStorageName",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","__",130],"(",["T_CONSTANT_ENCAPSED_STRING","'database \"%1\"'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getConnectionName",130],"(",")",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Load object data by filename\n     *\n     * @param  string $filePath\n     * @return $this\n     *\/",133],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","loadByFilename",139],"(",["T_VARIABLE","$filePath",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$filename",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","basename",141],"(",["T_VARIABLE","$filePath",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$path",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","dirname",142],"(",["T_VARIABLE","$filePath",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_getResource",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","loadByFilename",143],"(",["T_VARIABLE","$this",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$filename",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$path",143],")",";",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Check if there was errors during sync process\n     *\n     * @return bool\n     *\/",147],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","hasErrors",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],"!",["T_EMPTY","empty",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_errors",154],")",["T_WHITESPACE"," ",154],["T_BOOLEAN_OR","||",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getDirectoryModel",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","hasErrors",154],"(",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Clear files and directories in storage\n     *\n     * @return $this\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","clear",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getDirectoryModel",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","clearDirectories",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_getResource",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","clearFiles",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Export directories from storage\n     *\n     * @param  int $offset\n     * @param  int $count\n     * @return bool|array\n     *\/",169],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","exportDirectories",176],"(",["T_VARIABLE","$offset",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$count",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","100",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getDirectoryModel",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","exportDirectories",178],"(",["T_VARIABLE","$offset",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$count",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Import directories to storage\n     *\n     * @param  array $dirs\n     * @return \\Magento\\MediaStorage\\Model\\File\\Storage\\Directory\\Database\n     *\/",181],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","importDirectories",187],"(",["T_VARIABLE","$dirs",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getDirectoryModel",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","importDirectories",189],"(",["T_VARIABLE","$dirs",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Export files list in defined range\n     *\n     * @param  int $offset\n     * @param  int $count\n     * @return array|bool\n     *\/",192],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","exportFiles",199],"(",["T_VARIABLE","$offset",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$count",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_LNUMBER","100",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$offset",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_INT_CAST","(int)",201],["T_VARIABLE","$offset",201],["T_WHITESPACE"," ",201],["T_IS_GREATER_OR_EQUAL",">=",201],["T_WHITESPACE"," ",201],["T_LNUMBER","0",201],["T_WHITESPACE"," ",201],"?",["T_WHITESPACE"," ",201],["T_INT_CAST","(int)",201],["T_VARIABLE","$offset",201],["T_WHITESPACE"," ",201],":",["T_WHITESPACE"," ",201],["T_LNUMBER","0",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$count",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_INT_CAST","(int)",202],["T_VARIABLE","$count",202],["T_WHITESPACE"," ",202],["T_IS_GREATER_OR_EQUAL",">=",202],["T_WHITESPACE"," ",202],["T_LNUMBER","1",202],["T_WHITESPACE"," ",202],"?",["T_WHITESPACE"," ",202],["T_INT_CAST","(int)",202],["T_VARIABLE","$count",202],["T_WHITESPACE"," ",202],":",["T_WHITESPACE"," ",202],["T_LNUMBER","1",202],";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$result",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_getResource",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getFiles",204],"(",["T_VARIABLE","$offset",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$count",204],")",";",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_EMPTY","empty",205],"(",["T_VARIABLE","$result",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_STRING","false",206],";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$result",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Import files list\n     *\n     * @param  array $files\n     * @return $this\n     *\/",212],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","importFiles",218],"(",["T_VARIABLE","$files",218],")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(","!",["T_STRING","is_array",220],"(",["T_VARIABLE","$files",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_VARIABLE","$dateSingleton",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_date",224],";",["T_WHITESPACE","\n        ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$files",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$file",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(","!",["T_ISSET","isset",226],"(",["T_VARIABLE","$file",226],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",226],"]",")",["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],"!",["T_STRING","strlen",226],"(",["T_VARIABLE","$file",226],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",226],"]",")",["T_WHITESPACE"," ",226],["T_BOOLEAN_OR","||",226],["T_WHITESPACE"," ",226],"!",["T_ISSET","isset",226],"(",["T_VARIABLE","$file",226],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",226],"]",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_CONTINUE","continue",227],";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n\n            ",228],["T_TRY","try",230],["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$file",231],"[",["T_CONSTANT_ENCAPSED_STRING","'update_time'",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$dateSingleton",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","date",231],"(",")",";",["T_WHITESPACE","\n                ",231],["T_VARIABLE","$file",232],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_id'",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_ISSET","isset",232],"(",["T_WHITESPACE","\n                    ",232],["T_VARIABLE","$file",233],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",233],"]",["T_WHITESPACE","\n                ",233],")",["T_WHITESPACE"," ",234],["T_BOOLEAN_AND","&&",234],["T_WHITESPACE"," ",234],["T_STRING","strlen",234],"(",["T_WHITESPACE","\n                    ",234],["T_VARIABLE","$file",235],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",235],"]",["T_WHITESPACE","\n                ",235],")",["T_WHITESPACE"," ",236],"?",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_directoryFactory",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","create",236],"(",["T_WHITESPACE","\n                    ",236],"[",["T_CONSTANT_ENCAPSED_STRING","'connectionName'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getConnectionName",237],"(",")","]",["T_WHITESPACE","\n                ",237],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","loadByPath",238],"(",["T_WHITESPACE","\n                    ",238],["T_VARIABLE","$file",239],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",239],"]",["T_WHITESPACE","\n                ",239],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getId",240],"(",")",["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_STRING","null",240],";",["T_WHITESPACE","\n\n                ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_getResource",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","saveFile",242],"(",["T_VARIABLE","$file",242],")",";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE"," ",243],["T_CATCH","catch",243],["T_WHITESPACE"," ",243],"(",["T_NS_SEPARATOR","\\",243],["T_STRING","Exception",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$e",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_errors",244],"[","]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$e",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMessage",244],"(",")",";",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_logger",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","critical",245],"(",["T_VARIABLE","$e",245],")",";",["T_WHITESPACE","\n            ",245],"}",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Store file into database\n     *\n     * @param  string $filename\n     * @return $this\n     *\/",252],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","saveFile",258],"(",["T_VARIABLE","$filename",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$fileInfo",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_mediaHelper",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","collectFileInfo",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getMediaBaseDirectory",260],"(",")",",",["T_WHITESPACE"," ",260],["T_VARIABLE","$filename",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$filePath",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$fileInfo",261],"[",["T_CONSTANT_ENCAPSED_STRING","'directory'",261],"]",";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$directory",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_directoryFactory",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","create",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","loadByPath",263],"(",["T_VARIABLE","$filePath",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_IF","if",265],["T_WHITESPACE"," ",265],"(","!",["T_VARIABLE","$directory",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getId",265],"(",")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$directory",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getDirectoryModel",266],"(",")",["T_OBJECT_OPERATOR","->",266],["T_STRING","createRecursive",266],"(",["T_VARIABLE","$filePath",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$fileInfo",269],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_id'",269],"]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$directory",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getId",269],"(",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_getResource",270],"(",")",["T_OBJECT_OPERATOR","->",270],["T_STRING","saveFile",270],"(",["T_VARIABLE","$fileInfo",270],")",";",["T_WHITESPACE","\n\n        ",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Check whether file exists in DB\n     *\n     * @param  string $filePath\n     * @return bool\n     *\/",275],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","fileExists",281],"(",["T_VARIABLE","$filePath",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_getResource",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","fileExists",283],"(",["T_STRING","basename",283],"(",["T_VARIABLE","$filePath",283],")",",",["T_WHITESPACE"," ",283],["T_STRING","dirname",283],"(",["T_VARIABLE","$filePath",283],")",")",";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Copy files\n     *\n     * @param  string $oldFilePath\n     * @param  string $newFilePath\n     * @return $this\n     *\/",286],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","copyFile",293],"(",["T_VARIABLE","$oldFilePath",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$newFilePath",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_getResource",295],"(",")",["T_OBJECT_OPERATOR","->",295],["T_STRING","copyFile",295],"(",["T_WHITESPACE","\n            ",295],["T_STRING","basename",296],"(",["T_VARIABLE","$oldFilePath",296],")",",",["T_WHITESPACE","\n            ",296],["T_STRING","dirname",297],"(",["T_VARIABLE","$oldFilePath",297],")",",",["T_WHITESPACE","\n            ",297],["T_STRING","basename",298],"(",["T_VARIABLE","$newFilePath",298],")",",",["T_WHITESPACE","\n            ",298],["T_STRING","dirname",299],"(",["T_VARIABLE","$newFilePath",299],")",["T_WHITESPACE","\n        ",299],")",";",["T_WHITESPACE","\n\n        ",300],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Rename files in database\n     *\n     * @param  string $oldFilePath\n     * @param  string $newFilePath\n     * @return $this\n     *\/",305],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","renameFile",312],"(",["T_VARIABLE","$oldFilePath",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$newFilePath",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_getResource",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","renameFile",314],"(",["T_WHITESPACE","\n            ",314],["T_STRING","basename",315],"(",["T_VARIABLE","$oldFilePath",315],")",",",["T_WHITESPACE","\n            ",315],["T_STRING","dirname",316],"(",["T_VARIABLE","$oldFilePath",316],")",",",["T_WHITESPACE","\n            ",316],["T_STRING","basename",317],"(",["T_VARIABLE","$newFilePath",317],")",",",["T_WHITESPACE","\n            ",317],["T_STRING","dirname",318],"(",["T_VARIABLE","$newFilePath",318],")",["T_WHITESPACE","\n        ",318],")",";",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$newPath",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","dirname",321],"(",["T_VARIABLE","$newFilePath",321],")",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$directory",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_directoryFactory",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","create",322],"(",")",["T_OBJECT_OPERATOR","->",322],["T_STRING","loadByPath",322],"(",["T_VARIABLE","$newPath",322],")",";",["T_WHITESPACE","\n\n        ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_VARIABLE","$directory",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getId",324],"(",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$directory",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getDirectoryModel",325],"(",")",["T_OBJECT_OPERATOR","->",325],["T_STRING","createRecursive",325],"(",["T_VARIABLE","$newPath",325],")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","loadByFilename",328],"(",["T_VARIABLE","$newFilePath",328],")",";",["T_WHITESPACE","\n        ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getId",329],"(",")",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setDirectoryId",330],"(",["T_VARIABLE","$directory",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getId",330],"(",")",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","save",330],"(",")",";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n\n        ",331],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Return directory listing\n     *\n     * @param string $directory\n     * @return array\n     *\/",336],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","getDirectoryFiles",342],"(",["T_VARIABLE","$directory",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$directory",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_coreFileStorageDb",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getMediaRelativePath",344],"(",["T_VARIABLE","$directory",344],")",";",["T_WHITESPACE","\n        ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_getResource",345],"(",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","getDirectoryFiles",345],"(",["T_VARIABLE","$directory",345],")",";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Delete file from database\n     *\n     * @param string $path\n     * @return $this\n     *\/",348],["T_WHITESPACE","\n    ",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","deleteFile",354],"(",["T_VARIABLE","$path",354],")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$filename",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","basename",356],"(",["T_VARIABLE","$path",356],")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$directory",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","dirname",357],"(",["T_VARIABLE","$path",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_getResource",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","deleteFile",358],"(",["T_VARIABLE","$filename",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$directory",358],")",";",["T_WHITESPACE","\n\n        ",358],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Retrieve media base directory path\n     *\n     * @return string\n     *\/",363],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","getMediaBaseDirectory",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","mediaBaseDirectory",370],["T_WHITESPACE"," ",370],["T_IS_IDENTICAL","===",370],["T_WHITESPACE"," ",370],["T_STRING","null",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","mediaBaseDirectory",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_coreFileStorageDb",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getMediaBaseDir",371],"(",")",";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n        ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","mediaBaseDirectory",373],";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n",374],"}",["T_WHITESPACE","\n",375]]