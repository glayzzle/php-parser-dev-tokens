[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Attribute",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Data",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * EAV Entity Attribute Image File Data Model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Image",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Eav",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Attribute",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Data",13],["T_NS_SEPARATOR","\\",13],["T_STRING","File",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Validate file by attribute validate rules\n     * Return array of errors\n     *\n     * @param array $value\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",15],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","_validateByRules",24],"(",["T_VARIABLE","$value",24],")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$label",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","__",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getAttribute",26],"(",")",["T_OBJECT_OPERATOR","->",26],["T_STRING","getStoreLabel",26],"(",")",")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$rules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getAttribute",27],"(",")",["T_OBJECT_OPERATOR","->",27],["T_STRING","getValidateRules",27],"(",")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$imageProp",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"@",["T_STRING","getimagesize",29],"(",["T_VARIABLE","$value",29],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",29],"]",")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$allowImageTypes",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[",["T_LNUMBER","1",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'gif'",31],",",["T_WHITESPACE"," ",31],["T_LNUMBER","2",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'jpg'",31],",",["T_WHITESPACE"," ",31],["T_LNUMBER","3",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'png'",31],"]",";",["T_WHITESPACE","\n\n        ",31],["T_IF","if",33],["T_WHITESPACE"," ",33],"(","!",["T_ISSET","isset",33],"(",["T_VARIABLE","$allowImageTypes",33],"[",["T_VARIABLE","$imageProp",33],"[",["T_LNUMBER","2",33],"]","]",")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_RETURN","return",34],["T_WHITESPACE"," ",34],"[",["T_STRING","__",34],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" is not a valid image format'",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$label",34],")","]",";",["T_WHITESPACE","\n        ",34],"}",["T_WHITESPACE","\n\n        ",35],["T_COMMENT","\/\/ modify image name\n",37],["T_WHITESPACE","        ",38],["T_VARIABLE","$extension",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","pathinfo",38],"(",["T_VARIABLE","$value",38],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",38],"]",",",["T_WHITESPACE"," ",38],["T_STRING","PATHINFO_EXTENSION",38],")",";",["T_WHITESPACE","\n        ",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$extension",39],["T_WHITESPACE"," ",39],["T_IS_NOT_EQUAL","!=",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$allowImageTypes",39],"[",["T_VARIABLE","$imageProp",39],"[",["T_LNUMBER","2",39],"]","]",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$value",40],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","pathinfo",40],"(",["T_VARIABLE","$value",40],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",40],"]",",",["T_WHITESPACE"," ",40],["T_STRING","PATHINFO_FILENAME",40],")",["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'.'",40],["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_VARIABLE","$allowImageTypes",40],"[",["T_VARIABLE","$imageProp",40],"[",["T_LNUMBER","2",40],"]","]",";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$errors",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[","]",";",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(","!",["T_EMPTY","empty",44],"(",["T_VARIABLE","$rules",44],"[",["T_CONSTANT_ENCAPSED_STRING","'max_file_size'",44],"]",")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$size",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$value",45],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",45],"]",";",["T_WHITESPACE","\n            ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$rules",46],"[",["T_CONSTANT_ENCAPSED_STRING","'max_file_size'",46],"]",["T_WHITESPACE"," ",46],"<",["T_WHITESPACE"," ",46],["T_VARIABLE","$size",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n                ",46],["T_VARIABLE","$errors",47],"[","]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","__",47],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" exceeds the allowed file size.'",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$label",47],")",";",["T_WHITESPACE","\n            ",47],"}",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_EMPTY","empty",51],"(",["T_VARIABLE","$rules",51],"[",["T_CONSTANT_ENCAPSED_STRING","'max_image_width'",51],"]",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$rules",52],"[",["T_CONSTANT_ENCAPSED_STRING","'max_image_width'",52],"]",["T_WHITESPACE"," ",52],"<",["T_WHITESPACE"," ",52],["T_VARIABLE","$imageProp",52],"[",["T_LNUMBER","0",52],"]",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$r",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$rules",53],"[",["T_CONSTANT_ENCAPSED_STRING","'max_image_width'",53],"]",";",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$errors",54],"[","]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","__",54],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" width exceeds allowed value of %2 px.'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$label",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$r",54],")",";",["T_WHITESPACE","\n            ",54],"}",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(","!",["T_EMPTY","empty",57],"(",["T_VARIABLE","$rules",57],"[",["T_CONSTANT_ENCAPSED_STRING","'max_image_heght'",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$rules",58],"[",["T_CONSTANT_ENCAPSED_STRING","'max_image_heght'",58],"]",["T_WHITESPACE"," ",58],"<",["T_WHITESPACE"," ",58],["T_VARIABLE","$imageProp",58],"[",["T_LNUMBER","1",58],"]",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$r",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$rules",59],"[",["T_CONSTANT_ENCAPSED_STRING","'max_image_heght'",59],"]",";",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$errors",60],"[","]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" height exceeds allowed value of %2 px.'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$label",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$r",60],")",";",["T_WHITESPACE","\n            ",60],"}",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n\n        ",62],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$errors",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n",65],"}",["T_WHITESPACE","\n",66]]