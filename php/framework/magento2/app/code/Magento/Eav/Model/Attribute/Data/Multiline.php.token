[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Attribute",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Data",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","RequestInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * EAV Entity Attribute Multiply line Data Model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Multiline",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Eav",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Attribute",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Text",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Extract data from request and return value\n     *\n     * @param RequestInterface $request\n     * @return array|string\n     *\/",17],["T_WHITESPACE","\n    ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","extractValue",23],"(",["T_STRING","RequestInterface",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$request",23],")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$value",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","_getRequestValue",25],"(",["T_VARIABLE","$request",25],")",";",["T_WHITESPACE","\n        ",25],["T_IF","if",26],["T_WHITESPACE"," ",26],"(","!",["T_STRING","is_array",26],"(",["T_VARIABLE","$value",26],")",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n            ",26],["T_VARIABLE","$value",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","false",27],";",["T_WHITESPACE","\n        ",27],"}",["T_WHITESPACE"," ",28],["T_ELSE","else",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_VARIABLE","$value",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","array_map",29],"(","[",["T_VARIABLE","$this",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'_applyInputFilter'",29],"]",",",["T_WHITESPACE"," ",29],["T_VARIABLE","$value",29],")",";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE","\n        ",30],["T_RETURN","return",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$value",31],";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Validate data\n     * Return true or array of errors\n     *\n     * @param array|string $value\n     * @return bool|array\n     *\/",34],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","validateValue",41],"(",["T_VARIABLE","$value",41],")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$errors",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[","]",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$lines",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","processValue",44],"(",["T_VARIABLE","$value",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$attribute",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getAttribute",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$attributeLabel",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","__",46],"(",["T_VARIABLE","$attribute",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getStoreLabel",46],"(",")",")",";",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$attribute",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getIsRequired",47],"(",")",["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],["T_EMPTY","empty",47],"(",["T_VARIABLE","$lines",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$errors",48],"[","]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","__",48],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" is a required value.'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$attributeLabel",48],")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$maxAllowedLineCount",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$attribute",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMultilineCount",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_STRING","count",52],"(",["T_VARIABLE","$lines",52],")",["T_WHITESPACE"," ",52],">",["T_WHITESPACE"," ",52],["T_VARIABLE","$maxAllowedLineCount",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$errors",53],"[","]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","__",53],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" cannot contain more than %2 lines.'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$attributeLabel",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$maxAllowedLineCount",53],")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n\n        ",54],["T_FOREACH","foreach",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$lines",56],["T_WHITESPACE"," ",56],["T_AS","as",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$lineIndex",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$line",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_COMMENT","\/\/ First line must be always validated\n",57],["T_WHITESPACE","            ",58],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$lineIndex",58],["T_WHITESPACE"," ",58],["T_IS_EQUAL","==",58],["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],["T_WHITESPACE"," ",58],["T_BOOLEAN_OR","||",58],["T_WHITESPACE"," ",58],"!",["T_EMPTY","empty",58],"(",["T_VARIABLE","$line",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$result",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","parent",59],["T_DOUBLE_COLON","::",59],["T_STRING","validateValue",59],"(",["T_VARIABLE","$line",59],")",";",["T_WHITESPACE","\n                ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$result",60],["T_WHITESPACE"," ",60],["T_IS_NOT_IDENTICAL","!==",60],["T_WHITESPACE"," ",60],["T_STRING","true",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                    ",60],["T_VARIABLE","$errors",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","array_merge",61],"(",["T_VARIABLE","$errors",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$result",61],")",";",["T_WHITESPACE","\n                ",61],"}",["T_WHITESPACE","\n            ",62],"}",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n        ",64],["T_RETURN","return",66],["T_WHITESPACE"," ",66],"(",["T_STRING","count",66],"(",["T_VARIABLE","$errors",66],")",["T_WHITESPACE"," ",66],["T_IS_EQUAL","==",66],["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],")",["T_WHITESPACE"," ",66],"?",["T_WHITESPACE"," ",66],["T_STRING","true",66],["T_WHITESPACE"," ",66],":",["T_WHITESPACE"," ",66],["T_VARIABLE","$errors",66],";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Process value before validation\n     *\n     * @param bool|string|array $value\n     * @return array list of lines represented by given value\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","processValue",75],"(",["T_VARIABLE","$value",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$value",77],["T_WHITESPACE"," ",77],["T_IS_IDENTICAL","===",77],["T_WHITESPACE"," ",77],["T_STRING","false",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_COMMENT","\/\/ try to load original value and validate it\n",78],["T_WHITESPACE","            ",79],["T_VARIABLE","$attribute",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getAttribute",79],"(",")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$entity",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getEntity",80],"(",")",";",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$value",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$entity",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getDataUsingMethod",81],"(",["T_VARIABLE","$attribute",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getAttributeCode",81],"(",")",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_STRING","is_array",83],"(",["T_VARIABLE","$value",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$value",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","explode",84],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$value",84],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$value",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Export attribute value to entity model\n     *\n     * @param array|string $value\n     * @return $this\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","compactValue",95],"(",["T_VARIABLE","$value",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","is_array",97],"(",["T_VARIABLE","$value",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$value",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","trim",98],"(",["T_STRING","implode",98],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$value",98],")",")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_STRING","parent",100],["T_DOUBLE_COLON","::",100],["T_STRING","compactValue",100],"(",["T_VARIABLE","$value",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Restore attribute value from SESSION to entity model\n     *\n     * @param array|string $value\n     * @return $this\n     * @codeCoverageIgnore\n     *\/",103],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","restoreValue",110],"(",["T_VARIABLE","$value",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","compactValue",112],"(",["T_VARIABLE","$value",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Return formated attribute value from entity model\n     *\n     * @param string $format\n     * @return array|string\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","outputValue",121],"(",["T_VARIABLE","$format",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Eav",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Model",121],["T_NS_SEPARATOR","\\",121],["T_STRING","AttributeDataFactory",121],["T_DOUBLE_COLON","::",121],["T_STRING","OUTPUT_FORMAT_TEXT",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$values",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getEntity",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getData",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getAttribute",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getAttributeCode",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_STRING","is_array",124],"(",["T_VARIABLE","$values",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$values",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","explode",125],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$values",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$values",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","array_map",127],"(","[",["T_VARIABLE","$this",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'_applyOutputFilter'",127],"]",",",["T_WHITESPACE"," ",127],["T_VARIABLE","$values",127],")",";",["T_WHITESPACE","\n        ",127],["T_SWITCH","switch",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$format",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_CASE","case",129],["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Eav",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Model",129],["T_NS_SEPARATOR","\\",129],["T_STRING","AttributeDataFactory",129],["T_DOUBLE_COLON","::",129],["T_STRING","OUTPUT_FORMAT_ARRAY",129],":",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$output",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$values",130],";",["T_WHITESPACE","\n                ",130],["T_BREAK","break",131],";",["T_WHITESPACE","\n            ",131],["T_CASE","case",132],["T_WHITESPACE"," ",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Eav",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Model",132],["T_NS_SEPARATOR","\\",132],["T_STRING","AttributeDataFactory",132],["T_DOUBLE_COLON","::",132],["T_STRING","OUTPUT_FORMAT_HTML",132],":",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$output",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","implode",133],"(",["T_CONSTANT_ENCAPSED_STRING","\"<br \/>\"",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$values",133],")",";",["T_WHITESPACE","\n                ",133],["T_BREAK","break",134],";",["T_WHITESPACE","\n            ",134],["T_CASE","case",135],["T_WHITESPACE"," ",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Eav",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Model",135],["T_NS_SEPARATOR","\\",135],["T_STRING","AttributeDataFactory",135],["T_DOUBLE_COLON","::",135],["T_STRING","OUTPUT_FORMAT_ONELINE",135],":",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$output",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","implode",136],"(",["T_CONSTANT_ENCAPSED_STRING","\" \"",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$values",136],")",";",["T_WHITESPACE","\n                ",136],["T_BREAK","break",137],";",["T_WHITESPACE","\n            ",137],["T_DEFAULT","default",138],":",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$output",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","implode",139],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$values",139],")",";",["T_WHITESPACE","\n                ",139],["T_BREAK","break",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$output",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n",143],"}",["T_WHITESPACE","\n",144]]