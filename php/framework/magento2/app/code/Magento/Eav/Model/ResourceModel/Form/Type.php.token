[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Eav",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Form",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Type",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","FormType",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AbstractModel",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Eav Form Type Resource Model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Type",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceModel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Db",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractDb",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Initialize connection and define main table\n     *\n     * @return void\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","_construct",23],"(",")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","_init",25],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_form_type'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'type_id'",25],")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","addUniqueField",26],"(",["T_WHITESPACE","\n            ",26],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'theme'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'store_id'",27],"]",",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'title'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_STRING","__",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Form Type with the same code'",27],")","]",["T_WHITESPACE","\n        ",27],")",";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Load an object\n     *\n     * @param FormType|AbstractModel $object\n     * @param mixed $value\n     * @param string $field field to load by (defaults to model id)\n     * @return $this\n     *\/",31],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","load",39],"(",["T_STRING","AbstractModel",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$object",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$value",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$field",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$field",41],["T_WHITESPACE"," ",41],["T_IS_IDENTICAL","===",41],["T_WHITESPACE"," ",41],["T_STRING","null",41],["T_WHITESPACE"," ",41],["T_BOOLEAN_AND","&&",41],["T_WHITESPACE"," ",41],"!",["T_STRING","is_numeric",41],"(",["T_VARIABLE","$value",41],")",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n            ",41],["T_VARIABLE","$field",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'code'",42],";",["T_WHITESPACE","\n        ",42],"}",["T_WHITESPACE","\n        ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","load",44],"(",["T_VARIABLE","$object",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$value",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$field",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Retrieve form type entity types\n     *\n     * @param FormType $object\n     * @return array\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","getEntityTypes",53],"(",["T_VARIABLE","$object",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$objectId",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$object",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getId",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(","!",["T_VARIABLE","$objectId",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],"[","]",";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$connection",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getConnection",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$bind",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","':type_id'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$objectId",60],"]",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$select",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$connection",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","select",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","from",61],"(",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getTable",62],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_form_type_entity'",62],")",",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",63],["T_WHITESPACE","\n        ",63],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","where",64],"(",["T_WHITESPACE","\n            ",64],["T_CONSTANT_ENCAPSED_STRING","'type_id = :type_id'",65],["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n\n        ",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$connection",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","fetchCol",68],"(",["T_VARIABLE","$select",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$bind",68],")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Save entity types after save form type\n     *\n     * @see \\Magento\\Framework\\Model\\ResourceModel\\Db\\AbstractDb#_afterSave($object)\n     *\n     * @param FormType|AbstractModel $object\n     * @return $this\n     *\/",71],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","_afterSave",79],"(",["T_STRING","AbstractModel",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$object",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$object",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","hasEntityTypes",81],"(",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$new",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$object",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getEntityTypes",82],"(",")",";",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$old",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getEntityTypes",83],"(",["T_VARIABLE","$object",83],")",";",["T_WHITESPACE","\n\n            ",83],["T_VARIABLE","$insert",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","array_diff",85],"(",["T_VARIABLE","$new",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$old",85],")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$delete",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","array_diff",86],"(",["T_VARIABLE","$old",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$new",86],")",";",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$connection",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getConnection",88],"(",")",";",["T_WHITESPACE","\n\n            ",88],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_EMPTY","empty",90],"(",["T_VARIABLE","$insert",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$data",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n                ",91],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$insert",92],["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$entityId",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                    ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_EMPTY","empty",93],"(",["T_VARIABLE","$entityId",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                        ",93],["T_CONTINUE","continue",94],";",["T_WHITESPACE","\n                    ",94],"}",["T_WHITESPACE","\n                    ",95],["T_VARIABLE","$data",96],"[","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_INT_CAST","(int)",96],["T_VARIABLE","$entityId",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'type_id'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$object",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getId",96],"(",")","]",";",["T_WHITESPACE","\n                ",96],"}",["T_WHITESPACE","\n                ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$data",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                    ",98],["T_VARIABLE","$connection",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","insertMultiple",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getTable",99],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_form_type_entity'",99],")",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$data",99],")",";",["T_WHITESPACE","\n                ",99],"}",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n            ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_EMPTY","empty",103],"(",["T_VARIABLE","$delete",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$where",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id IN (?)'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$delete",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'type_id = ?'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$object",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getId",104],"(",")","]",";",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$connection",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","delete",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getTable",105],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_form_type_entity'",105],")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$where",105],")",";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_STRING","parent",109],["T_DOUBLE_COLON","::",109],["T_STRING","_afterSave",109],"(",["T_VARIABLE","$object",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Retrieve form type filtered by given attribute\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute|int $attribute\n     * @return array\n     *\/",112],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","getFormTypesByAttribute",118],"(",["T_VARIABLE","$attribute",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$attribute",120],["T_WHITESPACE"," ",120],["T_INSTANCEOF","instanceof",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Eav",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Model",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Entity",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Attribute",120],["T_NS_SEPARATOR","\\",120],["T_STRING","AbstractAttribute",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$attribute",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$attribute",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getId",121],"(",")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_VARIABLE","$attribute",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],"[","]",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$bind",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[",["T_CONSTANT_ENCAPSED_STRING","':attribute_id'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attribute",126],"]",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$select",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getConnection",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","select",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","from",127],"(",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getTable",128],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_form_element'",128],")",["T_WHITESPACE","\n        ",128],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","where",129],"(",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'attribute_id = :attribute_id'",130],["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getConnection",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","fetchAll",133],"(",["T_VARIABLE","$select",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$bind",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n",135]]