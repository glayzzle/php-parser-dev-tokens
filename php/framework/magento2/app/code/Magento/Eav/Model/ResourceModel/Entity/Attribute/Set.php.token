[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Attribute",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","Set",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceModel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Db",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AbstractDb",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * EAV cache id\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_CONST","const",13],["T_WHITESPACE"," ",13],["T_STRING","ATTRIBUTES_CACHE_ID",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'EAV_ENTITY_ATTRIBUTES_BY_SET_ID'",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\GroupFactory\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_attrGroupFactory",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$eavConfig",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param GroupFactory $attrGroupFactory\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param string|null $connectionName\n     *\/",25],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ResourceModel",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Db",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Context",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$context",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Eav",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Model",35],["T_NS_SEPARATOR","\\",35],["T_STRING","ResourceModel",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Entity",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Attribute",35],["T_NS_SEPARATOR","\\",35],["T_STRING","GroupFactory",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$attrGroupFactory",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Eav",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Model",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Config",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$eavConfig",36],",",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$connectionName",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","null",37],["T_WHITESPACE","\n    ",37],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",["T_VARIABLE","$context",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$connectionName",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_attrGroupFactory",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$attrGroupFactory",40],";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","eavConfig",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$eavConfig",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Initialize connection\n     *\n     * @return void\n     * @codeCoverageIgnore\n     *\/",44],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","_construct",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_init",52],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_set'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Perform actions after object save\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return $this\n     *\/",55],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","_afterSave",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","AbstractModel",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$object",61],")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$object",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getGroups",63],"(",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_COMMENT","\/* @var $group \\Magento\\Eav\\Model\\Entity\\Attribute\\Group *\/",64],["T_WHITESPACE","\n            ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$object",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getGroups",65],"(",")",["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$group",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$group",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setAttributeSetId",66],"(",["T_VARIABLE","$object",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getId",66],"(",")",")",";",["T_WHITESPACE","\n                ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$group",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","itemExists",67],"(",")",["T_WHITESPACE"," ",67],["T_BOOLEAN_AND","&&",67],["T_WHITESPACE"," ",67],"!",["T_VARIABLE","$group",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getId",67],"(",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                    ",67],["T_CONTINUE","continue",68],";",["T_WHITESPACE","\n                ",68],"}",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$group",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$object",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getRemoveGroups",73],"(",")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$object",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getRemoveGroups",74],"(",")",["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$group",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_COMMENT","\/* @var $group \\Magento\\Eav\\Model\\Entity\\Attribute\\Group *\/",75],["T_WHITESPACE","\n                ",75],["T_VARIABLE","$group",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","delete",76],"(",")",";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_attrGroupFactory",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","create",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","updateDefaultGroup",78],"(",["T_VARIABLE","$object",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getId",78],"(",")",")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$object",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getRemoveAttributes",80],"(",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$object",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getRemoveAttributes",81],"(",")",["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$attribute",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_COMMENT","\/* @var $attribute \\Magento\\Eav\\Model\\Entity\\Attribute *\/",82],["T_WHITESPACE","\n                ",82],["T_VARIABLE","$attribute",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","deleteEntity",83],"(",")",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","_afterSave",87],"(",["T_VARIABLE","$object",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Perform actions before object delete\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\StateException\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",90],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_beforeDelete",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","AbstractModel",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$object",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Api\\Data\\AttributeSetInterface $object *\/",100],["T_WHITESPACE","\n        ",100],["T_VARIABLE","$defaultAttributeSetId",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","eavConfig",101],["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getEntityType",102],"(",["T_VARIABLE","$object",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getEntityTypeId",102],"(",")",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","getDefaultAttributeSetId",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$object",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getAttributeSetId",104],"(",")",["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$defaultAttributeSetId",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_THROW","throw",105],["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Framework",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Exception",105],["T_NS_SEPARATOR","\\",105],["T_STRING","StateException",105],"(",["T_WHITESPACE","\n                ",105],["T_STRING","__",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Default attribute set can not be deleted'",106],")",["T_WHITESPACE","\n            ",106],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_STRING","parent",109],["T_DOUBLE_COLON","::",109],["T_STRING","_beforeDelete",109],"(",["T_VARIABLE","$object",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Validate attribute set name\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute\\Set $object\n     * @param string $attributeSetName\n     * @return bool\n     *\/",112],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","validate",119],"(",["T_VARIABLE","$object",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$attributeSetName",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$connection",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getConnection",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$bind",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","trim",122],"(",["T_VARIABLE","$attributeSetName",122],")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$object",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getEntityTypeId",122],"(",")","]",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$select",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$connection",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","select",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","from",123],"(",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMainTable",124],"(",")",["T_WHITESPACE","\n        ",124],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","where",125],"(",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name = :attribute_set_name'",126],["T_WHITESPACE","\n        ",126],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","where",127],"(",["T_WHITESPACE","\n            ",127],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id = :entity_type_id'",128],["T_WHITESPACE","\n        ",128],")",";",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$object",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getId",131],"(",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$bind",132],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$object",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getId",132],"(",")",";",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$select",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","where",133],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id != :attribute_set_id'",133],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],"!",["T_VARIABLE","$connection",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","fetchOne",136],"(",["T_VARIABLE","$select",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$bind",136],")",["T_WHITESPACE"," ",136],"?",["T_WHITESPACE"," ",136],["T_STRING","true",136],["T_WHITESPACE"," ",136],":",["T_WHITESPACE"," ",136],["T_STRING","false",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Retrieve Set info by attributes\n     *\n     * @param array $attributeIds\n     * @param int $setId\n     * @return array\n     *\/",139],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","getSetInfo",146],"(",["T_ARRAY","array",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$attributeIds",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$setId",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","null",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$cacheKey",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_STRING","ATTRIBUTES_CACHE_ID",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$setId",148],";",["T_WHITESPACE","\n\n        ",148],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","eavConfig",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","isCacheEnabled",150],"(",")",["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$cache",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","eavConfig",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getCache",150],"(",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","load",150],"(",["T_VARIABLE","$cacheKey",150],")",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$setInfoData",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getSerializer",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","unserialize",151],"(",["T_VARIABLE","$cache",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE"," ",152],["T_ELSE","else",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$attributeSetData",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","fetchAttributeSetData",153],"(",["T_VARIABLE","$setId",153],")",";",["T_WHITESPACE","\n\n            ",153],["T_VARIABLE","$setInfoData",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[","]",";",["T_WHITESPACE","\n            ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$attributeSetData",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$row",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$data",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[",["T_WHITESPACE","\n                    ",157],["T_CONSTANT_ENCAPSED_STRING","'group_id'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$row",158],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",158],"]",",",["T_WHITESPACE","\n                    ",158],["T_CONSTANT_ENCAPSED_STRING","'group_sort'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$row",159],"[",["T_CONSTANT_ENCAPSED_STRING","'group_sort_order'",159],"]",",",["T_WHITESPACE","\n                    ",159],["T_CONSTANT_ENCAPSED_STRING","'sort'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$row",160],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",160],"]",",",["T_WHITESPACE","\n                ",160],"]",";",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$setInfoData",162],"[",["T_VARIABLE","$row",162],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",162],"]","]","[",["T_VARIABLE","$row",162],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",162],"]","]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$data",162],";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE","\n\n            ",163],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","eavConfig",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","isCacheEnabled",165],"(",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","eavConfig",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getCache",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","save",166],"(",["T_WHITESPACE","\n                    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getSerializer",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","serialize",167],"(",["T_VARIABLE","$setInfoData",167],")",",",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$cacheKey",168],",",["T_WHITESPACE","\n                    ",168],"[",["T_WHITESPACE","\n                        ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Eav",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Cache",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Type",170],["T_DOUBLE_COLON","::",170],["T_STRING","CACHE_TAG",170],",",["T_WHITESPACE","\n                        ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Eav",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Model",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Entity",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Attribute",171],["T_DOUBLE_COLON","::",171],["T_STRING","CACHE_TAG",171],["T_WHITESPACE","\n                    ",171],"]",["T_WHITESPACE","\n                ",172],")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$setInfo",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[","]",";",["T_WHITESPACE","\n        ",177],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$attributeIds",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attributeId",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$setInfo",179],"[",["T_VARIABLE","$attributeId",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_ISSET","isset",179],"(",["T_VARIABLE","$setInfoData",179],"[",["T_VARIABLE","$attributeId",179],"]",")",["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_VARIABLE","$setInfoData",179],"[",["T_VARIABLE","$attributeId",179],"]",["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],"[","]",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n\n        ",180],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$setInfo",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Retrurn default attribute group id for attribute set id\n     *\n     * @param int $setId\n     * @return int|null\n     *\/",185],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","getDefaultGroupId",191],"(",["T_VARIABLE","$setId",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$connection",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getConnection",193],"(",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$bind",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_INT_CAST","(int)",194],["T_VARIABLE","$setId",194],"]",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$select",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$connection",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","select",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","from",195],"(",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getTable",196],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_group'",196],")",",",["T_WHITESPACE","\n            ",196],["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",197],["T_WHITESPACE","\n        ",197],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","where",198],"(",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id = :attribute_set_id'",199],["T_WHITESPACE","\n        ",199],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","where",200],"(",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","'default_id = 1'",201],["T_WHITESPACE","\n        ",201],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","limit",202],"(",["T_WHITESPACE","\n            ",202],["T_LNUMBER","1",203],["T_WHITESPACE","\n        ",203],")",";",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$connection",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","fetchOne",205],"(",["T_VARIABLE","$select",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$bind",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Returns data from eav_entity_attribute table for given $setId (or all if $setId is null)\n     *\n     * @param int $setId\n     * @return array\n     *\/",208],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","fetchAttributeSetData",214],"(",["T_VARIABLE","$setId",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$connection",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getConnection",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$select",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$connection",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","select",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","from",217],"(",["T_WHITESPACE","\n            ",217],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getTable",218],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_attribute'",218],")","]",",",["T_WHITESPACE","\n            ",218],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'attribute_group_id'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",219],"]",["T_WHITESPACE","\n        ",219],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","joinLeft",220],"(",["T_WHITESPACE","\n            ",220],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_group'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getTable",221],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_group'",221],")","]",",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'entity.attribute_group_id = attribute_group.attribute_group_id'",222],",",["T_WHITESPACE","\n            ",222],"[",["T_CONSTANT_ENCAPSED_STRING","'group_sort_order'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",223],"]",["T_WHITESPACE","\n        ",223],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$bind",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"[","]",";",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_STRING","is_numeric",226],"(",["T_VARIABLE","$setId",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$bind",227],"[",["T_CONSTANT_ENCAPSED_STRING","':attribute_set_id'",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$setId",227],";",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$select",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","where",228],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.attribute_set_id = :attribute_set_id'",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$connection",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","fetchAll",230],"(",["T_VARIABLE","$select",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$bind",230],")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n",231],"}",["T_WHITESPACE","\n",232]]