[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","VersionControl",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Class AbstractEntity\n *\/",8],["T_WHITESPACE","\n",10],["T_ABSTRACT","abstract",11],["T_WHITESPACE"," ",11],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","AbstractEntity",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Eav",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractEntity",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\ResourceModel\\Db\\VersionControl\\Snapshot\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$entitySnapshot",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\ResourceModel\\Db\\VersionControl\\RelationComposite\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$entityRelationComposite",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Eav\\Model\\Entity\\Context $context\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\VersionControl\\Snapshot $entitySnapshot\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\VersionControl\\RelationComposite $entityRelationComposite\n     * @param array $data\n     * @codeCoverageIgnore\n     *\/",23],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Eav",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Entity",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Context",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$context",31],",",["T_WHITESPACE","\n        ",31],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Framework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","ResourceModel",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Db",32],["T_NS_SEPARATOR","\\",32],["T_STRING","VersionControl",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Snapshot",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$entitySnapshot",32],",",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","ResourceModel",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Db",33],["T_NS_SEPARATOR","\\",33],["T_STRING","VersionControl",33],["T_NS_SEPARATOR","\\",33],["T_STRING","RelationComposite",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$entityRelationComposite",33],",",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$data",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[","]",["T_WHITESPACE","\n    ",34],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","entitySnapshot",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$entitySnapshot",36],";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","entityRelationComposite",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$entityRelationComposite",37],";",["T_WHITESPACE","\n\n        ",37],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",["T_VARIABLE","$context",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$data",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","_afterLoad",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","DataObject",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$object",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","entitySnapshot",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","registerSnapshot",47],"(",["T_VARIABLE","$object",47],")",";",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","_afterLoad",48],"(",["T_VARIABLE","$object",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","save",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","AbstractModel",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$object",54],")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_DOC_COMMENT","\/**\n         * Direct deleted items to delete method\n         *\/",56],["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$object",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","isDeleted",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","delete",60],"(",["T_VARIABLE","$object",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","beginTransaction",63],"(",")",";",["T_WHITESPACE","\n\n        ",63],["T_TRY","try",65],["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","isModified",66],"(",["T_VARIABLE","$object",66],")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","entityRelationComposite",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","processRelations",67],"(",["T_VARIABLE","$object",67],")",";",["T_WHITESPACE","\n                ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","commit",68],"(",")",";",["T_WHITESPACE","\n                ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n\n            ",70],["T_VARIABLE","$object",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","validateBeforeSave",72],"(",")",";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$object",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","beforeSave",73],"(",")",";",["T_WHITESPACE","\n\n            ",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$object",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","isSaveAllowed",75],"(",")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","isPartialSave",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","loadAllAttributes",77],"(",["T_VARIABLE","$object",77],")",";",["T_WHITESPACE","\n                ",77],"}",["T_WHITESPACE","\n\n                ",78],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getEntityTable",80],"(",")",["T_WHITESPACE"," ",80],["T_IS_EQUAL","==",80],["T_WHITESPACE","  ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Eav",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Entity",80],["T_DOUBLE_COLON","::",80],["T_STRING","DEFAULT_ENTITY_TABLE",80],["T_WHITESPACE","\n                    ",80],["T_BOOLEAN_AND","&&",81],["T_WHITESPACE"," ",81],"!",["T_VARIABLE","$object",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getEntityTypeId",81],"(",")",["T_WHITESPACE","\n                ",81],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                    ",82],["T_VARIABLE","$object",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setEntityTypeId",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getTypeId",83],"(",")",")",";",["T_WHITESPACE","\n                ",83],"}",["T_WHITESPACE","\n\n                ",84],["T_VARIABLE","$object",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setParentId",86],"(",["T_INT_CAST","(int)",86],["T_VARIABLE","$object",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getParentId",86],"(",")",")",";",["T_WHITESPACE","\n\n                ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","objectRelationProcessor",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","validateDataIntegrity",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getEntityTable",88],"(",")",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$object",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getData",88],"(",")",")",";",["T_WHITESPACE","\n\n                ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_beforeSave",90],"(",["T_VARIABLE","$object",90],")",";",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_processSaveData",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_collectSaveData",91],"(",["T_VARIABLE","$object",91],")",")",";",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_afterSave",92],"(",["T_VARIABLE","$object",92],")",";",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","entitySnapshot",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","registerSnapshot",93],"(",["T_VARIABLE","$object",93],")",";",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$object",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","afterSave",94],"(",")",";",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","entityRelationComposite",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","processRelations",95],"(",["T_VARIABLE","$object",95],")",";",["T_WHITESPACE","\n            ",95],"}",["T_WHITESPACE","\n\n            ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addCommitCallback",98],"(","[",["T_VARIABLE","$object",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'afterCommitCallback'",98],"]",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","commit",98],"(",")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$object",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setHasDataChanges",99],"(",["T_STRING","false",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE"," ",100],["T_CATCH","catch",100],["T_WHITESPACE"," ",100],"(",["T_NS_SEPARATOR","\\",100],["T_STRING","Exception",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$e",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","rollBack",101],"(",")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$object",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setHasDataChanges",102],"(",["T_STRING","true",102],")",";",["T_WHITESPACE","\n            ",102],["T_THROW","throw",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$e",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Checks if entity was modified\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return bool\n     * @codeCoverageIgnore\n     *\/",109],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","isModified",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Framework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","AbstractModel",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$object",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","entitySnapshot",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isModified",118],"(",["T_VARIABLE","$object",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n",119],"}",["T_WHITESPACE","\n",120]]