[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Eav",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Eav",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AttributeRepositoryInterface",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","AttributeRepository",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityManager",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MetadataPool",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SearchCriteriaBuilder",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceConnection",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","AppResource",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ScopeResolver",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ScopeInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","EntityManager",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Operation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AttributeInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Eav",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AttributeCache",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Psr",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Log",16],["T_NS_SEPARATOR","\\",16],["T_STRING","LoggerInterface",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",18],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","ReadHandler",21],["T_WHITESPACE"," ",21],["T_IMPLEMENTS","implements",21],["T_WHITESPACE"," ",21],["T_STRING","AttributeInterface",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * @var AttributeCache\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$attributeCache",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var AttributeRepository\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$attributeRepository",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$metadataPool",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var AppResource\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$appResource",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var SearchCriteriaBuilder\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$searchCriteriaBuilder",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var ScopeResolver\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$scopeResolver",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var LoggerInterface\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$logger",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * ReadHandler constructor.\n     *\n     * @param AttributeRepository $attributeRepository\n     * @param MetadataPool $metadataPool\n     * @param SearchCriteriaBuilder $searchCriteriaBuilder\n     * @param AppResource $appResource\n     * @param ScopeResolver $scopeResolver\n     * @param AttributeCache $attributeCache\n     * @param LoggerInterface $logger\n     *\/",58],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_WHITESPACE","\n        ",69],["T_STRING","AttributeRepository",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$attributeRepository",70],",",["T_WHITESPACE","\n        ",70],["T_STRING","MetadataPool",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$metadataPool",71],",",["T_WHITESPACE","\n        ",71],["T_STRING","SearchCriteriaBuilder",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$searchCriteriaBuilder",72],",",["T_WHITESPACE","\n        ",72],["T_STRING","AppResource",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$appResource",73],",",["T_WHITESPACE","\n        ",73],["T_STRING","ScopeResolver",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$scopeResolver",74],",",["T_WHITESPACE","\n        ",74],["T_STRING","AttributeCache",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$attributeCache",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","LoggerInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$logger",76],["T_WHITESPACE","\n    ",76],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","attributeRepository",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$attributeRepository",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","metadataPool",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$metadataPool",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","searchCriteriaBuilder",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$searchCriteriaBuilder",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","appResource",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$appResource",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","scopeResolver",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$scopeResolver",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","attributeCache",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$attributeCache",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","logger",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$logger",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @param string $entityType\n     * @return \\Magento\\Eav\\Api\\Data\\AttributeInterface[]\n     * @throws \\Exception\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","getAttributes",92],"(",["T_VARIABLE","$entityType",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$attributes",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","attributeCache",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getAttributes",95],"(",["T_VARIABLE","$entityType",95],")",";",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$attributes",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$attributes",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$metadata",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","metadataPool",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMetadata",99],"(",["T_VARIABLE","$entityType",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$searchResult",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","attributeRepository",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getList",100],"(",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$metadata",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getEavEntityType",101],"(",")",",",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","searchCriteriaBuilder",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","create",102],"(",")",["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$attributes",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$searchResult",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getItems",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","attributeCache",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","saveAttributes",105],"(",["T_VARIABLE","$entityType",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$attributes",105],")",";",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$attributes",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @param ScopeInterface $scope\n     * @return array\n     *\/",109],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","getContextVariables",113],"(",["T_STRING","ScopeInterface",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$scope",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$data",115],"[","]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$scope",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getValue",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$scope",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getFallback",116],"(",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$data",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","array_merge",117],"(",["T_VARIABLE","$data",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getContextVariables",117],"(",["T_VARIABLE","$scope",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getFallback",117],"(",")",")",")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$data",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * @param string $entityType\n     * @param array $entityData\n     * @param array $arguments\n     * @return array\n     * @throws \\Exception\n     * @throws \\Magento\\Framework\\Exception\\ConfigurationMismatchException\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",122],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","execute",132],"(",["T_VARIABLE","$entityType",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$entityData",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$arguments",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],"[","]",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$metadata",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","metadataPool",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMetadata",134],"(",["T_VARIABLE","$entityType",134],")",";",["T_WHITESPACE","\n        ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$metadata",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getEavEntityType",135],"(",")",")",["T_WHITESPACE"," ",135],"{",["T_COMMENT","\/\/todo hasCustomAttributes\n",135],["T_WHITESPACE","            ",136],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$entityData",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$context",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","scopeResolver",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getEntityContext",138],"(",["T_VARIABLE","$entityType",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$entityData",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$connection",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$metadata",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getEntityConnection",139],"(",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$attributeTables",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[","]",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$attributesMap",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[","]",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$selects",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",";",["T_WHITESPACE","\n\n        ",143],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute $attribute *\/",145],["T_WHITESPACE","\n        ",145],["T_FOREACH","foreach",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getAttributes",146],"(",["T_VARIABLE","$entityType",146],")",["T_WHITESPACE"," ",146],["T_AS","as",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$attribute",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","!",["T_VARIABLE","$attribute",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","isStatic",147],"(",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$attributeTables",148],"[",["T_VARIABLE","$attribute",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getBackend",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getTable",148],"(",")","]","[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$attribute",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getAttributeId",148],"(",")",";",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$attributesMap",149],"[",["T_VARIABLE","$attribute",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getAttributeId",149],"(",")","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$attribute",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getAttributeCode",149],"(",")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_STRING","count",152],"(",["T_VARIABLE","$attributeTables",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$attributeTables",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","array_keys",153],"(",["T_VARIABLE","$attributeTables",153],")",";",["T_WHITESPACE","\n            ",153],["T_FOREACH","foreach",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$attributeTables",154],["T_WHITESPACE"," ",154],["T_AS","as",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$attributeTable",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$select",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$connection",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","select",155],"(",")",["T_WHITESPACE","\n                    ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","from",156],"(",["T_WHITESPACE","\n                        ",156],"[",["T_CONSTANT_ENCAPSED_STRING","'t'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$attributeTable",157],"]",",",["T_WHITESPACE","\n                        ",157],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'t.value'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'t.attribute_id'",158],"]",["T_WHITESPACE","\n                    ",158],")",["T_WHITESPACE","\n                    ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","where",160],"(",["T_VARIABLE","$metadata",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getLinkField",160],"(",")",["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","' = ?'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$entityData",160],"[",["T_VARIABLE","$metadata",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getLinkField",160],"(",")","]",")",";",["T_WHITESPACE","\n                ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$context",161],["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$scope",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                    ",161],["T_COMMENT","\/\/TODO: if (in table exists context field)\n",162],["T_WHITESPACE","                    ",163],["T_VARIABLE","$select",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","where",163],"(",["T_WHITESPACE","\n                        ",163],["T_VARIABLE","$metadata",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getEntityConnection",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","quoteIdentifier",164],"(",["T_VARIABLE","$scope",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getIdentifier",164],"(",")",")",["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","' IN (?)'",164],",",["T_WHITESPACE","\n                        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getContextVariables",165],"(",["T_VARIABLE","$scope",165],")",["T_WHITESPACE","\n                    ",165],")",["T_OBJECT_OPERATOR","->",166],["T_STRING","order",166],"(",["T_CONSTANT_ENCAPSED_STRING","'t.'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$scope",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getIdentifier",166],"(",")",["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","' DESC'",166],")",";",["T_WHITESPACE","\n                ",166],"}",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$selects",168],"[","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$select",168],";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$unionSelect",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","DB",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Sql",170],["T_NS_SEPARATOR","\\",170],["T_STRING","UnionExpression",170],"(",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$selects",171],",",["T_WHITESPACE","\n                ",171],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Framework",172],["T_NS_SEPARATOR","\\",172],["T_STRING","DB",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Select",172],["T_DOUBLE_COLON","::",172],["T_STRING","SQL_UNION_ALL",172],["T_WHITESPACE","\n            ",172],")",";",["T_WHITESPACE","\n            ",173],["T_FOREACH","foreach",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$connection",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","fetchAll",174],"(",["T_VARIABLE","$unionSelect",174],")",["T_WHITESPACE"," ",174],["T_AS","as",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$attributeValue",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_ISSET","isset",175],"(",["T_VARIABLE","$attributesMap",175],"[",["T_VARIABLE","$attributeValue",175],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",175],"]","]",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                    ",175],["T_VARIABLE","$entityData",176],"[",["T_VARIABLE","$attributesMap",176],"[",["T_VARIABLE","$attributeValue",176],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",176],"]","]","]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$attributeValue",176],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",176],"]",";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE"," ",177],["T_ELSE","else",177],["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","logger",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","warning",178],"(",["T_WHITESPACE","\n                        ",178],"\"",["T_ENCAPSED_AND_WHITESPACE","Attempt to load value of nonexistent EAV attribute '",179],["T_CURLY_OPEN","{",179],["T_VARIABLE","$attributeValue",179],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",179],"]","}",["T_ENCAPSED_AND_WHITESPACE","' \n                        for entity type '",179],["T_VARIABLE","$entityType",180],["T_ENCAPSED_AND_WHITESPACE","'.",180],"\"",["T_WHITESPACE","\n                    ",180],")",";",["T_WHITESPACE","\n                ",181],"}",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$entityData",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n",186],"}",["T_WHITESPACE","\n",187]]