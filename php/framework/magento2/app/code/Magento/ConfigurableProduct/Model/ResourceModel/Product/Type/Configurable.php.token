[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Configurable product type resource model\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigurableProduct",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceModel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Type",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ProductInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigurableProduct",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","OptionInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ObjectManager",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ScopeResolverInterface",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Configurable",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Db",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractDb",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Catalog product relation\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Relation\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$catalogProductRelation",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Product metadata pool\n     *\n     * @var \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$metadataPool",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Product entity link field\n     *\n     * @var string\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$productEntityLinkField",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/** @var ScopeResolverInterface  *\/",38],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$scopeResolver",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Relation $catalogProductRelation\n     * @param string $connectionName\n     * @param ScopeResolverInterface $scopeResolver\n     *\/",41],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Framework",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ResourceModel",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Db",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Context",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$context",48],",",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Catalog",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ResourceModel",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Product",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Relation",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$catalogProductRelation",49],",",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$connectionName",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","null",50],",",["T_WHITESPACE","\n        ",50],["T_STRING","ScopeResolverInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$scopeResolver",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","null",51],["T_WHITESPACE","\n    ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","catalogProductRelation",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$catalogProductRelation",53],";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","scopeResolver",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$scopeResolver",54],";",["T_WHITESPACE","\n        ",54],["T_STRING","parent",55],["T_DOUBLE_COLON","::",55],["T_STRING","__construct",55],"(",["T_VARIABLE","$context",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$connectionName",55],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Init resource\n     *\n     * @return void\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","_construct",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_init",65],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_super_link'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'link_id'",65],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Get product entity id by product attribute\n     *\n     * @param OptionInterface $option\n     * @return int\n     *\/",68],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getEntityIdByAttribute",74],"(",["T_STRING","OptionInterface",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$option",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$select",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getConnection",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","select",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","from",76],"(",["T_WHITESPACE","\n            ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getTable",77],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",77],")","]",",",["T_WHITESPACE","\n            ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",78],"]",["T_WHITESPACE","\n        ",78],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","where",79],"(",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'e.'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getProductEntityLinkField",80],"(",")",["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'=?'",80],",",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$option",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getProductId",81],"(",")",["T_WHITESPACE","\n        ",81],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","limit",82],"(",["T_LNUMBER","1",82],")",";",["T_WHITESPACE","\n\n        ",82],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_INT_CAST","(int)",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getConnection",84],"(",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","fetchOne",84],"(",["T_VARIABLE","$select",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Save configurable product relations\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $mainProduct the parent id\n     * @param array $productIds the children id array\n     * @return $this\n     *\/",87],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","saveProducts",94],"(",["T_VARIABLE","$mainProduct",94],",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$productIds",94],")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!",["T_VARIABLE","$mainProduct",96],["T_WHITESPACE"," ",96],["T_INSTANCEOF","instanceof",96],["T_WHITESPACE"," ",96],["T_STRING","ProductInterface",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$productId",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$mainProduct",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getData",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getProductEntityLinkField",100],"(",")",")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$data",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[","]",";",["T_WHITESPACE","\n        ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$productIds",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$id",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$data",104],"[","]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_INT_CAST","(int)",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$id",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_INT_CAST","(int)",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$productId",104],"]",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_EMPTY","empty",107],"(",["T_VARIABLE","$data",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getConnection",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","insertOnDuplicate",108],"(",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMainTable",109],"(",")",",",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$data",110],",",["T_WHITESPACE","\n                ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",111],"]",["T_WHITESPACE","\n            ",111],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$where",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id = ?'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$productId",115],"]",";",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_EMPTY","empty",116],"(",["T_VARIABLE","$productIds",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$where",117],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id NOT IN(?)'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$productIds",117],";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getConnection",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","delete",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMainTable",120],"(",")",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$where",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_COMMENT","\/\/ configurable product relations should be added to relation table\n",122],["T_WHITESPACE","        ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","catalogProductRelation",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","processRelations",123],"(",["T_VARIABLE","$productId",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$productIds",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Retrieve Required children ids\n     * Return grouped array, ex array(\n     *   group => array(ids)\n     * )\n     *\n     * @param int|array $parentId\n     * @param bool $required\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",128],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getChildrenIds",139],"(",["T_VARIABLE","$parentId",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$required",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","true",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$select",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getConnection",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","select",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","from",141],"(",["T_WHITESPACE","\n            ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'l'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMainTable",142],"(",")","]",",",["T_WHITESPACE","\n            ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",143],"]",["T_WHITESPACE","\n        ",143],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","join",144],"(",["T_WHITESPACE","\n            ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'p'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getTable",145],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",145],")","]",",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'p.'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getProductEntityLinkField",146],"(",")",["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","' = l.parent_id'",146],",",["T_WHITESPACE","\n            ",146],"[","]",["T_WHITESPACE","\n        ",147],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","join",148],"(",["T_WHITESPACE","\n            ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getTable",149],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",149],")","]",",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = l.product_id AND e.required_options = 0'",150],",",["T_WHITESPACE","\n            ",150],"[","]",["T_WHITESPACE","\n        ",151],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","where",152],"(",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'p.entity_id IN (?)'",153],",",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$parentId",154],["T_WHITESPACE","\n        ",154],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$childrenIds",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[",["T_LNUMBER","0",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],"[","]","]",";",["T_WHITESPACE","\n        ",157],["T_FOREACH","foreach",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getConnection",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","fetchAll",158],"(",["T_VARIABLE","$select",158],")",["T_WHITESPACE"," ",158],["T_AS","as",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$row",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$childrenIds",159],"[",["T_LNUMBER","0",159],"]","[",["T_VARIABLE","$row",159],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",159],"]","]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$row",159],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",159],"]",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n\n        ",160],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$childrenIds",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Retrieve parent ids array by required child\n     *\n     * @param int|array $childId\n     * @return string[]\n     *\/",165],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getParentIdsByChild",171],"(",["T_VARIABLE","$childId",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$parentIds",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],"[","]",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$select",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getConnection",174],"(",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","select",175],"(",")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","from",176],"(","[",["T_CONSTANT_ENCAPSED_STRING","'l'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getMainTable",176],"(",")","]",",",["T_WHITESPACE"," ",176],"[","]",")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","join",177],"(",["T_WHITESPACE","\n                ",177],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getTable",178],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",178],")","]",",",["T_WHITESPACE","\n                ",178],["T_CONSTANT_ENCAPSED_STRING","'e.'",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getProductEntityLinkField",179],"(",")",["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","' = l.parent_id'",179],",",["T_WHITESPACE","\n                ",179],"[",["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",180],"]",["T_WHITESPACE","\n            ",180],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","where",181],"(",["T_CONSTANT_ENCAPSED_STRING","'l.product_id IN(?)'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$childId",181],")",";",["T_WHITESPACE","\n\n        ",181],["T_FOREACH","foreach",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getConnection",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","fetchAll",183],"(",["T_VARIABLE","$select",183],")",["T_WHITESPACE"," ",183],["T_AS","as",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$row",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$parentIds",184],"[","]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$row",184],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",184],"]",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$parentIds",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Collect product options with values according to the product instance and attributes, that were received\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $attributes\n     * @return array\n     *\/",190],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getConfigurableOptions",197],"(",["T_VARIABLE","$product",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$attributes",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$attributesOptionsData",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[","]",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$productId",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$product",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getData",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getProductEntityLinkField",200],"(",")",")",";",["T_WHITESPACE","\n        ",200],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$attributes",201],["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$superAttribute",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$attributeId",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$superAttribute",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getAttributeId",202],"(",")",";",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$attributesOptionsData",203],"[",["T_VARIABLE","$attributeId",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getAttributeOptions",203],"(",["T_VARIABLE","$superAttribute",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$productId",203],")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$attributesOptionsData",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Load options for attribute\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute $superAttribute\n     * @param int $productId\n     * @return array\n     *\/",208],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getAttributeOptions",215],"(",["T_VARIABLE","$superAttribute",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$productId",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$scope",217],["T_WHITESPACE","  ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getScopeResolver",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","getScope",217],"(",")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$select",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getConnection",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","select",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","from",218],"(",["T_WHITESPACE","\n            ",218],"[",["T_CONSTANT_ENCAPSED_STRING","'super_attribute'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getTable",219],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_super_attribute'",219],")","]",",",["T_WHITESPACE","\n            ",219],"[",["T_WHITESPACE","\n                ",220],["T_CONSTANT_ENCAPSED_STRING","'sku'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'entity.sku'",221],",",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'product_id'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'product_entity.entity_id'",222],",",["T_WHITESPACE","\n                ",222],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'attribute.attribute_code'",223],",",["T_WHITESPACE","\n                ",223],["T_CONSTANT_ENCAPSED_STRING","'value_index'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'entity_value.value'",224],",",["T_WHITESPACE","\n                ",224],["T_CONSTANT_ENCAPSED_STRING","'option_title'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getConnection",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","getIfNullSql",225],"(",["T_WHITESPACE","\n                    ",225],["T_CONSTANT_ENCAPSED_STRING","'option_value.value'",226],",",["T_WHITESPACE","\n                    ",226],["T_CONSTANT_ENCAPSED_STRING","'default_option_value.value'",227],["T_WHITESPACE","\n                ",227],")",",",["T_WHITESPACE","\n                ",228],["T_CONSTANT_ENCAPSED_STRING","'default_title'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'default_option_value.value'",229],",",["T_WHITESPACE","\n            ",229],"]",["T_WHITESPACE","\n        ",230],")",["T_OBJECT_OPERATOR","->",231],["T_STRING","joinInner",231],"(",["T_WHITESPACE","\n            ",231],"[",["T_CONSTANT_ENCAPSED_STRING","'product_entity'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getTable",232],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",232],")","]",",",["T_WHITESPACE","\n            ",232],"\"",["T_ENCAPSED_AND_WHITESPACE","product_entity.",233],["T_CURLY_OPEN","{",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getProductEntityLinkField",233],"(",")","}",["T_ENCAPSED_AND_WHITESPACE"," = super_attribute.product_id",233],"\"",",",["T_WHITESPACE","\n            ",233],"[","]",["T_WHITESPACE","\n        ",234],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","joinInner",235],"(",["T_WHITESPACE","\n            ",235],"[",["T_CONSTANT_ENCAPSED_STRING","'product_link'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTable",236],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_super_link'",236],")","]",",",["T_WHITESPACE","\n            ",236],["T_CONSTANT_ENCAPSED_STRING","'product_link.parent_id = super_attribute.product_id'",237],",",["T_WHITESPACE","\n            ",237],"[","]",["T_WHITESPACE","\n        ",238],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","joinInner",239],"(",["T_WHITESPACE","\n            ",239],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getTable",240],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",240],")","]",",",["T_WHITESPACE","\n            ",240],["T_CONSTANT_ENCAPSED_STRING","'attribute.attribute_id = super_attribute.attribute_id'",241],",",["T_WHITESPACE","\n            ",241],"[","]",["T_WHITESPACE","\n        ",242],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","joinInner",243],"(",["T_WHITESPACE","\n            ",243],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getTable",244],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",244],")","]",",",["T_WHITESPACE","\n            ",244],["T_CONSTANT_ENCAPSED_STRING","'entity.entity_id = product_link.product_id'",245],",",["T_WHITESPACE","\n            ",245],"[","]",["T_WHITESPACE","\n        ",246],")",["T_OBJECT_OPERATOR","->",247],["T_STRING","joinInner",247],"(",["T_WHITESPACE","\n            ",247],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_value'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$superAttribute",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getBackendTable",248],"(",")","]",",",["T_WHITESPACE","\n            ",248],["T_STRING","implode",249],"(",["T_WHITESPACE","\n                ",249],["T_CONSTANT_ENCAPSED_STRING","' AND '",250],",",["T_WHITESPACE","\n                ",250],"[",["T_WHITESPACE","\n                    ",251],["T_CONSTANT_ENCAPSED_STRING","'entity_value.attribute_id = super_attribute.attribute_id'",252],",",["T_WHITESPACE","\n                    ",252],["T_CONSTANT_ENCAPSED_STRING","'entity_value.store_id = 0'",253],",",["T_WHITESPACE","\n                    ",253],"\"",["T_ENCAPSED_AND_WHITESPACE","entity_value.",254],["T_CURLY_OPEN","{",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getProductEntityLinkField",254],"(",")","}",["T_ENCAPSED_AND_WHITESPACE"," = ",254],"\"",["T_WHITESPACE","\n                    ",254],".",["T_WHITESPACE"," ",255],"\"",["T_ENCAPSED_AND_WHITESPACE","entity.",255],["T_CURLY_OPEN","{",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getProductEntityLinkField",255],"(",")","}","\"",["T_WHITESPACE","\n                ",255],"]",["T_WHITESPACE","\n            ",256],")",",",["T_WHITESPACE","\n            ",257],"[","]",["T_WHITESPACE","\n        ",258],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","joinLeft",259],"(",["T_WHITESPACE","\n            ",259],"[",["T_CONSTANT_ENCAPSED_STRING","'option_value'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getTable",260],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_option_value'",260],")","]",",",["T_WHITESPACE","\n            ",260],["T_STRING","implode",261],"(",["T_WHITESPACE","\n                ",261],["T_CONSTANT_ENCAPSED_STRING","' AND '",262],",",["T_WHITESPACE","\n                ",262],"[",["T_WHITESPACE","\n                    ",263],["T_CONSTANT_ENCAPSED_STRING","'option_value.option_id = entity_value.value'",264],",",["T_WHITESPACE","\n                    ",264],["T_CONSTANT_ENCAPSED_STRING","'option_value.store_id = '",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_VARIABLE","$scope",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getId",265],"(",")",["T_WHITESPACE","\n                ",265],"]",["T_WHITESPACE","\n            ",266],")",",",["T_WHITESPACE","\n            ",267],"[","]",["T_WHITESPACE","\n        ",268],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","joinLeft",269],"(",["T_WHITESPACE","\n            ",269],"[",["T_CONSTANT_ENCAPSED_STRING","'default_option_value'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getTable",270],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_option_value'",270],")","]",",",["T_WHITESPACE","\n            ",270],["T_STRING","implode",271],"(",["T_WHITESPACE","\n                ",271],["T_CONSTANT_ENCAPSED_STRING","' AND '",272],",",["T_WHITESPACE","\n                ",272],"[",["T_WHITESPACE","\n                    ",273],["T_CONSTANT_ENCAPSED_STRING","'default_option_value.option_id = entity_value.value'",274],",",["T_WHITESPACE","\n                    ",274],["T_CONSTANT_ENCAPSED_STRING","'default_option_value.store_id = '",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Magento",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Store",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Model",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Store",275],["T_DOUBLE_COLON","::",275],["T_STRING","DEFAULT_STORE_ID",275],["T_WHITESPACE","\n                ",275],"]",["T_WHITESPACE","\n            ",276],")",",",["T_WHITESPACE","\n            ",277],"[","]",["T_WHITESPACE","\n        ",278],")",["T_OBJECT_OPERATOR","->",279],["T_STRING","where",279],"(",["T_WHITESPACE","\n            ",279],["T_CONSTANT_ENCAPSED_STRING","'super_attribute.product_id = ?'",280],",",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$productId",281],["T_WHITESPACE","\n        ",281],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","where",282],"(",["T_WHITESPACE","\n            ",282],["T_CONSTANT_ENCAPSED_STRING","'attribute.attribute_id = ?'",283],",",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$superAttribute",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getAttributeId",284],"(",")",["T_WHITESPACE","\n        ",284],")",";",["T_WHITESPACE","\n\n        ",285],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getConnection",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","fetchAll",287],"(",["T_VARIABLE","$select",287],")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return ScopeResolverInterface\n     *\/",290],["T_WHITESPACE","\n    ",293],["T_PRIVATE","private",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","getScopeResolver",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(","!","(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","scopeResolver",296],["T_WHITESPACE"," ",296],["T_INSTANCEOF","instanceof",296],["T_WHITESPACE"," ",296],["T_STRING","ScopeResolverInterface",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","scopeResolver",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","ObjectManager",297],["T_DOUBLE_COLON","::",297],["T_STRING","getInstance",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","get",297],"(",["T_STRING","ScopeResolverInterface",297],["T_DOUBLE_COLON","::",297],["T_CLASS","class",297],")",";",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE","\n        ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","scopeResolver",299],";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * Get product metadata pool\n     *\n     * @deprecated\n     * @return \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",302],["T_WHITESPACE","\n    ",307],["T_PRIVATE","private",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","getMetadataPool",308],"(",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(","!",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","metadataPool",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","metadataPool",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Magento",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Framework",311],["T_NS_SEPARATOR","\\",311],["T_STRING","App",311],["T_NS_SEPARATOR","\\",311],["T_STRING","ObjectManager",311],["T_DOUBLE_COLON","::",311],["T_STRING","getInstance",311],"(",")",["T_WHITESPACE","\n                ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","get",312],"(",["T_NS_SEPARATOR","\\",312],["T_STRING","Magento",312],["T_NS_SEPARATOR","\\",312],["T_STRING","Framework",312],["T_NS_SEPARATOR","\\",312],["T_STRING","EntityManager",312],["T_NS_SEPARATOR","\\",312],["T_STRING","MetadataPool",312],["T_DOUBLE_COLON","::",312],["T_CLASS","class",312],")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","metadataPool",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Get product entity link field\n     *\n     * @deprecated\n     * @return string\n     *\/",317],["T_WHITESPACE","\n    ",322],["T_PRIVATE","private",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","getProductEntityLinkField",323],"(",")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(","!",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","productEntityLinkField",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","productEntityLinkField",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getMetadataPool",326],"(",")",["T_WHITESPACE","\n                ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","getMetadata",327],"(",["T_NS_SEPARATOR","\\",327],["T_STRING","Magento",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Catalog",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Api",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Data",327],["T_NS_SEPARATOR","\\",327],["T_STRING","ProductInterface",327],["T_DOUBLE_COLON","::",327],["T_CLASS","class",327],")",["T_WHITESPACE","\n                ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","getLinkField",328],"(",")",";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","productEntityLinkField",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n",331],"}",["T_WHITESPACE","\n",332]]