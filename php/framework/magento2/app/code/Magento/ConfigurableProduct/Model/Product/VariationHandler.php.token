[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableProduct",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Type",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","ProductType",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LocalizedException",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Variation Handler\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","VariationHandler",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product\\Gallery\\Processor *\/",17],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$mediaGalleryProcessor",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/** @var \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable *\/",20],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$configurableProduct",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\Entity\\Attribute\\SetFactory *\/",23],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$attributeSetFactory",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\EntityFactory *\/",26],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$entityFactory",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ProductFactory *\/",29],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$productFactory",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute[] *\/",32],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$attributes",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface\n     * @deprecated\n     *\/",35],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$stockConfiguration",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @param Type\\Configurable $configurableProduct\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute\\SetFactory $attributeSetFactory\n     * @param \\Magento\\Eav\\Model\\EntityFactory $entityFactory\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface $stockConfiguration\n     * @param \\Magento\\Catalog\\Model\\Product\\Gallery\\Processor $mediaGalleryProcessor\n     *\/",41],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_STRING","Type",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Configurable",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$configurableProduct",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Eav",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Entity",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Attribute",51],["T_NS_SEPARATOR","\\",51],["T_STRING","SetFactory",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$attributeSetFactory",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Eav",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","EntityFactory",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$entityFactory",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Catalog",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","ProductFactory",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$productFactory",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","CatalogInventory",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Api",54],["T_NS_SEPARATOR","\\",54],["T_STRING","StockConfigurationInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$stockConfiguration",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Catalog",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Product",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Gallery",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Processor",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$mediaGalleryProcessor",55],["T_WHITESPACE","\n    ",55],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","configurableProduct",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$configurableProduct",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","attributeSetFactory",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$attributeSetFactory",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","entityFactory",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$entityFactory",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","productFactory",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$productFactory",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","stockConfiguration",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$stockConfiguration",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","mediaGalleryProcessor",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$mediaGalleryProcessor",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Generate simple products to link with configurable\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $parentProduct\n     * @param array $productsData\n     * @return array\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",65],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","generateSimpleProducts",73],"(",["T_VARIABLE","$parentProduct",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$productsData",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$generatedProductIds",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","attributes",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","null",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$productsData",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","duplicateImagesForVariations",77],"(",["T_VARIABLE","$productsData",77],")",";",["T_WHITESPACE","\n        ",77],["T_FOREACH","foreach",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$productsData",78],["T_WHITESPACE"," ",78],["T_AS","as",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$simpleProductData",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$newSimpleProduct",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","productFactory",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","create",79],"(",")",";",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_ISSET","isset",80],"(",["T_VARIABLE","$simpleProductData",80],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attribute'",80],"]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$configurableAttribute",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","json_decode",81],"(",["T_VARIABLE","$simpleProductData",81],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attribute'",81],"]",",",["T_WHITESPACE"," ",81],["T_STRING","true",81],")",";",["T_WHITESPACE","\n                ",81],["T_UNSET","unset",82],"(",["T_VARIABLE","$simpleProductData",82],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attribute'",82],"]",")",";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE"," ",83],["T_ELSE","else",83],["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_THROW","throw",84],["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","LocalizedException",84],"(",["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Configuration must have specified attributes'",84],")",")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n\n            ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","fillSimpleProductData",87],"(",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$newSimpleProduct",88],",",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$parentProduct",89],",",["T_WHITESPACE","\n                ",89],["T_STRING","array_merge",90],"(",["T_VARIABLE","$simpleProductData",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$configurableAttribute",90],")",["T_WHITESPACE","\n            ",90],")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$newSimpleProduct",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",")",";",["T_WHITESPACE","\n\n            ",92],["T_VARIABLE","$generatedProductIds",94],"[","]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$newSimpleProduct",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getId",94],"(",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$generatedProductIds",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Prepare attribute set comprising all selected configurable attributes\n     *\n     * @deprecated since 2.1.0\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     *\/",99],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","prepareAttributeSetToBeBaseForNewVariations",106],"(",["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Catalog",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Model",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Product",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$product",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","prepareAttributeSet",108],"(",["T_VARIABLE","$product",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Prepare attribute set comprising all selected configurable attributes\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     *\/",111],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","prepareAttributeSet",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Catalog",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Product",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$product",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$attributes",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","configurableProduct",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getUsedProductAttributes",119],"(",["T_VARIABLE","$product",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$attributeSetId",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$product",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getNewVariationsAttributeSetId",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_DOC_COMMENT","\/** @var $attributeSet \\Magento\\Eav\\Model\\Entity\\Attribute\\Set *\/",121],["T_WHITESPACE","\n        ",121],["T_VARIABLE","$attributeSet",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","attributeSetFactory",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","create",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","load",122],"(",["T_VARIABLE","$attributeSetId",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$attributeSet",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","addSetInfo",123],"(",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","entityFactory",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","create",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","setType",124],"(",["T_NS_SEPARATOR","\\",124],["T_STRING","Magento",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Catalog",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Model",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Product",124],["T_DOUBLE_COLON","::",124],["T_STRING","ENTITY",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getTypeId",124],"(",")",",",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$attributes",125],["T_WHITESPACE","\n        ",125],")",";",["T_WHITESPACE","\n        ",126],["T_FOREACH","foreach",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$attributes",127],["T_WHITESPACE"," ",127],["T_AS","as",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$attribute",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_COMMENT","\/* @var $attribute \\Magento\\Catalog\\Model\\Entity\\Attribute *\/",128],["T_WHITESPACE","\n            ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_VARIABLE","$attribute",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","isInSet",129],"(",["T_VARIABLE","$attributeSetId",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$attribute",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setAttributeSetId",130],"(",["T_WHITESPACE","\n                    ",130],["T_VARIABLE","$attributeSetId",131],["T_WHITESPACE","\n                ",131],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","setAttributeGroupId",132],"(",["T_WHITESPACE","\n                    ",132],["T_VARIABLE","$attributeSet",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getDefaultGroupId",133],"(",["T_VARIABLE","$attributeSetId",133],")",["T_WHITESPACE","\n                ",133],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","save",134],"(",")",";",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Fill simple product data during generation\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param \\Magento\\Catalog\\Model\\Product $parentProduct\n     * @param array $postData\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\n     * @return void\n     *\/",139],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","fillSimpleProductData",150],"(",["T_WHITESPACE","\n        ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Catalog",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Model",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Product",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$product",151],",",["T_WHITESPACE","\n        ",151],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Catalog",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Model",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Product",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$parentProduct",152],",",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$postData",153],["T_WHITESPACE","\n    ",153],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$typeId",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ISSET","isset",155],"(",["T_VARIABLE","$postData",155],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",155],"]",")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],"!",["T_EMPTY","empty",155],"(",["T_VARIABLE","$postData",155],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",155],"]",")",["T_WHITESPACE","\n            ",155],"?",["T_WHITESPACE"," ",156],["T_STRING","ProductType",156],["T_DOUBLE_COLON","::",156],["T_STRING","TYPE_SIMPLE",156],["T_WHITESPACE","\n            ",156],":",["T_WHITESPACE"," ",157],["T_STRING","ProductType",157],["T_DOUBLE_COLON","::",157],["T_STRING","TYPE_VIRTUAL",157],";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$product",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setStoreId",159],"(",["T_WHITESPACE","\n            ",159],["T_NS_SEPARATOR","\\",160],["T_STRING","Magento",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Store",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Model",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Store",160],["T_DOUBLE_COLON","::",160],["T_STRING","DEFAULT_STORE_ID",160],["T_WHITESPACE","\n        ",160],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","setTypeId",161],"(",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$typeId",162],["T_WHITESPACE","\n        ",162],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","setAttributeSetId",163],"(",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$parentProduct",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getNewVariationsAttributeSetId",164],"(",")",["T_WHITESPACE","\n        ",164],")",";",["T_WHITESPACE","\n\n        ",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","attributes",167],["T_WHITESPACE"," ",167],["T_IS_IDENTICAL","===",167],["T_WHITESPACE"," ",167],["T_STRING","null",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","attributes",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$product",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getTypeInstance",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","getSetAttributes",168],"(",["T_VARIABLE","$product",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","attributes",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$attribute",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$attribute",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getIsUnique",171],"(",")",["T_WHITESPACE"," ",171],["T_BOOLEAN_OR","||",171],["T_WHITESPACE","\n                ",171],["T_VARIABLE","$attribute",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getAttributeCode",172],"(",")",["T_WHITESPACE"," ",172],["T_IS_EQUAL","==",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'url_key'",172],["T_WHITESPACE"," ",172],["T_BOOLEAN_OR","||",172],["T_WHITESPACE","\n                ",172],["T_VARIABLE","$attribute",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getFrontend",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","getInputType",173],"(",")",["T_WHITESPACE"," ",173],["T_IS_EQUAL","==",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'gallery'",173],["T_WHITESPACE"," ",173],["T_BOOLEAN_OR","||",173],["T_WHITESPACE","\n                ",173],["T_VARIABLE","$attribute",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getFrontend",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getInputType",174],"(",")",["T_WHITESPACE"," ",174],["T_IS_EQUAL","==",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'media_image'",174],["T_WHITESPACE"," ",174],["T_BOOLEAN_OR","||",174],["T_WHITESPACE","\n                ",174],"!",["T_VARIABLE","$attribute",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getIsVisible",175],"(",")",["T_WHITESPACE","\n            ",175],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_CONTINUE","continue",177],";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n\n            ",178],["T_VARIABLE","$product",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setData",180],"(",["T_VARIABLE","$attribute",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getAttributeCode",180],"(",")",",",["T_WHITESPACE"," ",180],["T_VARIABLE","$parentProduct",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getData",180],"(",["T_VARIABLE","$attribute",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getAttributeCode",180],"(",")",")",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$keysFilter",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],"[",["T_CONSTANT_ENCAPSED_STRING","'item_id'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'product_id'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'stock_id'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'type_id'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'website_id'",183],"]",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$postData",184],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","array_diff_key",184],"(",["T_ARRAY_CAST","(array)",184],["T_VARIABLE","$parentProduct",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getStockData",184],"(",")",",",["T_WHITESPACE"," ",184],["T_STRING","array_flip",184],"(",["T_VARIABLE","$keysFilter",184],")",")",";",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(","!",["T_ISSET","isset",185],"(",["T_VARIABLE","$postData",185],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$stockStatus",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$parentProduct",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getQuantityAndStockStatus",186],"(",")",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$postData",187],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",187],"]","[",["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$stockStatus",187],"[",["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",187],"]",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$postData",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","processMediaGallery",189],"(",["T_VARIABLE","$product",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$postData",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$postData",190],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ISSET","isset",190],"(",["T_VARIABLE","$postData",190],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",190],"]",")",["T_WHITESPACE","\n            ",190],"?",["T_WHITESPACE"," ",191],["T_VARIABLE","$postData",191],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",191],"]",["T_WHITESPACE","\n            ",191],":",["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Catalog",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Model",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Product",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Attribute",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Source",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Status",192],["T_DOUBLE_COLON","::",192],["T_STRING","STATUS_ENABLED",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$product",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addData",193],"(",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$postData",194],["T_WHITESPACE","\n        ",194],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","setWebsiteIds",195],"(",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$parentProduct",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getWebsiteIds",196],"(",")",["T_WHITESPACE","\n        ",196],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","setVisibility",197],"(",["T_WHITESPACE","\n            ",197],["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Catalog",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Model",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Product",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Visibility",198],["T_DOUBLE_COLON","::",198],["T_STRING","VISIBILITY_NOT_VISIBLE",198],["T_WHITESPACE","\n        ",198],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Duplicate images for variations\n     *\n     * @param array $productsData\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",202],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","duplicateImagesForVariations",210],"(",["T_VARIABLE","$productsData",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$imagesForCopy",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],"[","]",";",["T_WHITESPACE","\n        ",212],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$productsData",213],["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$variationId",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$simpleProductData",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_ISSET","isset",214],"(",["T_VARIABLE","$simpleProductData",214],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",214],"]",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_CONTINUE","continue",215],";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n\n            ",216],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$simpleProductData",218],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",218],"]",["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$imageId",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$image",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$image",219],"[",["T_CONSTANT_ENCAPSED_STRING","'variation_id'",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$variationId",219],";",["T_WHITESPACE","\n                ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$imagesForCopy",220],"[",["T_VARIABLE","$imageId",220],"]","[",["T_LNUMBER","0",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                    ",220],["T_COMMENT","\/\/ skip duplicate image for first product\n",221],["T_WHITESPACE","                    ",222],["T_UNSET","unset",222],"(",["T_VARIABLE","$imagesForCopy",222],"[",["T_VARIABLE","$imageId",222],"]","[",["T_LNUMBER","0",222],"]",")",";",["T_WHITESPACE","\n                ",222],"}",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$imagesForCopy",224],"[",["T_VARIABLE","$imageId",224],"]","[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$image",224],";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$imagesForCopy",227],["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$imageId",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$variationImages",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_FOREACH","foreach",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$variationImages",228],["T_WHITESPACE"," ",228],["T_AS","as",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$image",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$file",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$image",229],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",229],"]",";",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$variationId",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$image",230],"[",["T_CONSTANT_ENCAPSED_STRING","'variation_id'",230],"]",";",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$newFile",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","mediaGalleryProcessor",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","duplicateImageFromTmp",231],"(",["T_VARIABLE","$file",231],")",";",["T_WHITESPACE","\n                ",231],["T_VARIABLE","$productsData",232],"[",["T_VARIABLE","$variationId",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",232],"]","[",["T_VARIABLE","$imageId",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$newFile",232],";",["T_WHITESPACE","\n                ",232],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","mediaGalleryProcessor",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getMediaAttributeCodes",233],"(",")",["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$attribute",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                    ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_ISSET","isset",234],"(",["T_VARIABLE","$productsData",234],"[",["T_VARIABLE","$variationId",234],"]","[",["T_VARIABLE","$attribute",234],"]",")",["T_WHITESPACE","\n                        ",234],["T_BOOLEAN_AND","&&",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$productsData",235],"[",["T_VARIABLE","$variationId",235],"]","[",["T_VARIABLE","$attribute",235],"]",["T_WHITESPACE"," ",235],["T_IS_EQUAL","==",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$file",235],["T_WHITESPACE","\n                    ",235],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                        ",236],["T_VARIABLE","$productsData",237],"[",["T_VARIABLE","$variationId",237],"]","[",["T_VARIABLE","$attribute",237],"]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$newFile",237],";",["T_WHITESPACE","\n                    ",237],"}",["T_WHITESPACE","\n                ",238],"}",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$productsData",242],";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $productData\n     *\n     * @return array\n     *\/",245],["T_WHITESPACE","\n    ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","processMediaGallery",251],"(",["T_VARIABLE","$product",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$productData",251],")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_EMPTY","empty",253],"(",["T_VARIABLE","$productData",253],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",253],"]",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$image",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$productData",254],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",254],"]",";",["T_WHITESPACE","\n            ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(","!",["T_ISSET","isset",255],"(",["T_VARIABLE","$productData",255],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",255],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",255],"]",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$productData",256],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],"[","]",";",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n            ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_STRING","false",258],["T_WHITESPACE"," ",258],["T_IS_IDENTICAL","===",258],["T_WHITESPACE"," ",258],["T_STRING","array_search",258],"(",["T_VARIABLE","$image",258],",",["T_WHITESPACE"," ",258],["T_STRING","array_column",258],"(",["T_VARIABLE","$productData",258],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",258],"]",",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'file'",258],")",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$productData",259],"[",["T_CONSTANT_ENCAPSED_STRING","'small_image'",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$productData",259],"[",["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$image",259],";",["T_WHITESPACE","\n                ",259],["T_VARIABLE","$productData",260],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",260],"]","[","]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],"[",["T_WHITESPACE","\n                    ",260],["T_CONSTANT_ENCAPSED_STRING","'position'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_LNUMBER","1",261],",",["T_WHITESPACE","\n                    ",261],["T_CONSTANT_ENCAPSED_STRING","'file'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$image",262],",",["T_WHITESPACE","\n                    ",262],["T_CONSTANT_ENCAPSED_STRING","'disabled'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_LNUMBER","0",263],",",["T_WHITESPACE","\n                    ",263],["T_CONSTANT_ENCAPSED_STRING","'label'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","''",264],",",["T_WHITESPACE","\n                ",264],"]",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n        ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$product",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getMediaGallery",268],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",268],")",["T_WHITESPACE"," ",268],["T_BOOLEAN_AND","&&",268],["T_WHITESPACE"," ",268],"!",["T_EMPTY","empty",268],"(",["T_VARIABLE","$productData",268],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",268],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",268],"]",")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$gallery",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","array_map",269],"(",["T_WHITESPACE","\n                ",269],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$image",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                    ",270],["T_VARIABLE","$image",271],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_LNUMBER","1",271],";",["T_WHITESPACE","\n                    ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$image",272],";",["T_WHITESPACE","\n                ",272],"}",",",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$product",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getMediaGallery",274],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",274],")",["T_WHITESPACE","\n            ",274],")",";",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$gallery",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","array_merge",276],"(",["T_VARIABLE","$productData",276],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",276],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",276],"]",",",["T_WHITESPACE"," ",276],["T_VARIABLE","$gallery",276],")",";",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$productData",277],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",277],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",277],"]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$gallery",277],";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$productData",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n",280],"}",["T_WHITESPACE","\n",281]]