[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Catalog super product configurable part block\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigurableProduct",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Block",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","View",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Type",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigurableProduct",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigurableAttributeData",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Session",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CurrentCustomer",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Pricing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PriceCurrencyInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Configurable",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Block",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Product",17],["T_NS_SEPARATOR","\\",17],["T_STRING","View",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractView",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Catalog product\n     *\n     * @var \\Magento\\Catalog\\Helper\\Product\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$catalogProduct",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","null",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Current customer\n     *\n     * @var CurrentCustomer\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$currentCustomer",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Prices\n     *\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_prices",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","]",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\EncoderInterface\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$jsonEncoder",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ConfigurableProduct\\Helper\\Data $imageHelper\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$helper",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var PriceCurrencyInterface\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$priceCurrency",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var ConfigurableAttributeData\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$configurableAttributeData",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Block\\Product\\Context $context\n     * @param \\Magento\\Framework\\Stdlib\\ArrayUtils $arrayUtils\n     * @param \\Magento\\Framework\\Json\\EncoderInterface $jsonEncoder\n     * @param \\Magento\\ConfigurableProduct\\Helper\\Data $helper\n     * @param \\Magento\\Catalog\\Helper\\Product $catalogProduct\n     * @param CurrentCustomer $currentCustomer\n     * @param PriceCurrencyInterface $priceCurrency\n     * @param ConfigurableAttributeData $configurableAttributeData\n     * @param array $data\n     *\/",60],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","__construct",71],"(",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Catalog",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Block",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Product",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Context",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$context",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Stdlib",73],["T_NS_SEPARATOR","\\",73],["T_STRING","ArrayUtils",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$arrayUtils",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Json",74],["T_NS_SEPARATOR","\\",74],["T_STRING","EncoderInterface",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$jsonEncoder",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","ConfigurableProduct",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Helper",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Data",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$helper",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Catalog",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Helper",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Product",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$catalogProduct",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","CurrentCustomer",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$currentCustomer",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","PriceCurrencyInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$priceCurrency",78],",",["T_WHITESPACE","\n        ",78],["T_STRING","ConfigurableAttributeData",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$configurableAttributeData",79],",",["T_WHITESPACE","\n        ",79],["T_ARRAY","array",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$data",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",["T_WHITESPACE","\n    ",80],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","priceCurrency",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$priceCurrency",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","helper",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$helper",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","jsonEncoder",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$jsonEncoder",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","catalogProduct",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$catalogProduct",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","currentCustomer",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$currentCustomer",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","configurableAttributeData",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$configurableAttributeData",87],";",["T_WHITESPACE","\n        ",87],["T_STRING","parent",88],["T_DOUBLE_COLON","::",88],["T_STRING","__construct",88],"(",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$context",89],",",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$arrayUtils",90],",",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$data",91],["T_WHITESPACE","\n        ",91],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Get cache key informative items.\n     *\n     * @return array\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getCacheKeyInfo",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$parentData",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","getCacheKeyInfo",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$parentData",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","priceCurrency",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getCurrencySymbol",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$parentData",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Get allowed attributes\n     *\n     * @return array\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getAllowAttributes",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getProduct",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getTypeInstance",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getConfigurableAttributes",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getProduct",114],"(",")",")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Check if allowed attributes have options\n     *\n     * @return bool\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","hasOptions",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$attributes",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getAllowAttributes",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_STRING","count",125],"(",["T_VARIABLE","$attributes",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$attributes",126],["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attribute",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_DOC_COMMENT","\/** @var \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable\\Attribute $attribute *\/",127],["T_WHITESPACE","\n                ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$attribute",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getData",128],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","true",129],";",["T_WHITESPACE","\n                ",129],"}",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","false",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Get Allowed Products\n     *\n     * @return \\Magento\\Catalog\\Model\\Product[]\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getAllowProducts",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","hasAllowProducts",143],"(",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$products",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],"[","]",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$skipSaleableCheck",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","catalogProduct",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getSkipSaleableCheck",145],"(",")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$allProducts",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getProduct",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","getTypeInstance",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","getUsedProducts",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getProduct",146],"(",")",",",["T_WHITESPACE"," ",146],["T_STRING","null",146],")",";",["T_WHITESPACE","\n            ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$allProducts",147],["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$product",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$product",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","isSaleable",148],"(",")",["T_WHITESPACE"," ",148],["T_BOOLEAN_OR","||",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$skipSaleableCheck",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$products",149],"[","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$product",149],";",["T_WHITESPACE","\n                ",149],"}",["T_WHITESPACE","\n            ",150],"}",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setAllowProducts",152],"(",["T_VARIABLE","$products",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getData",154],"(",["T_CONSTANT_ENCAPSED_STRING","'allow_products'",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Retrieve current store\n     *\n     * @return \\Magento\\Store\\Model\\Store\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getCurrentStore",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_storeManager",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getStore",164],"(",")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Returns additional values for js config, con be overridden by descendants\n     *\n     * @return array\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PROTECTED","protected",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","_getAdditionalConfig",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],"[","]",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Composes configuration for js\n     *\n     * @return string\n     *\/",177],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","getJsonConfig",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$store",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getCurrentStore",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$currentProduct",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getProduct",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$regularPrice",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$currentProduct",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getPriceInfo",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getPrice",187],"(",["T_CONSTANT_ENCAPSED_STRING","'regular_price'",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$finalPrice",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$currentProduct",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getPriceInfo",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","getPrice",188],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$options",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","helper",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getOptions",190],"(",["T_VARIABLE","$currentProduct",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getAllowProducts",190],"(",")",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$attributesData",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","configurableAttributeData",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getAttributesData",191],"(",["T_VARIABLE","$currentProduct",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$options",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$config",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],"[",["T_WHITESPACE","\n            ",193],["T_CONSTANT_ENCAPSED_STRING","'attributes'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$attributesData",194],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",194],"]",",",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'template'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_STRING","str_replace",195],"(",["T_CONSTANT_ENCAPSED_STRING","'%s'",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'<%- data.price %>'",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$store",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getCurrentCurrency",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getOutputFormat",195],"(",")",")",",",["T_WHITESPACE","\n            ",195],["T_CONSTANT_ENCAPSED_STRING","'currencyFormat'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$store",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getCurrentCurrency",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getOutputFormat",196],"(",")",",",["T_WHITESPACE","\n            ",196],["T_CONSTANT_ENCAPSED_STRING","'optionPrices'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getOptionPrices",197],"(",")",",",["T_WHITESPACE","\n            ",197],["T_CONSTANT_ENCAPSED_STRING","'prices'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n                ",198],["T_CONSTANT_ENCAPSED_STRING","'oldPrice'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],"[",["T_WHITESPACE","\n                    ",199],["T_CONSTANT_ENCAPSED_STRING","'amount'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_registerJsPrice",200],"(",["T_VARIABLE","$regularPrice",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getAmount",200],"(",")",["T_OBJECT_OPERATOR","->",200],["T_STRING","getValue",200],"(",")",")",",",["T_WHITESPACE","\n                ",200],"]",",",["T_WHITESPACE","\n                ",201],["T_CONSTANT_ENCAPSED_STRING","'basePrice'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],"[",["T_WHITESPACE","\n                    ",202],["T_CONSTANT_ENCAPSED_STRING","'amount'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_registerJsPrice",203],"(",["T_WHITESPACE","\n                        ",203],["T_VARIABLE","$finalPrice",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getAmount",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getBaseAmount",204],"(",")",["T_WHITESPACE","\n                    ",204],")",",",["T_WHITESPACE","\n                ",205],"]",",",["T_WHITESPACE","\n                ",206],["T_CONSTANT_ENCAPSED_STRING","'finalPrice'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],"[",["T_WHITESPACE","\n                    ",207],["T_CONSTANT_ENCAPSED_STRING","'amount'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_registerJsPrice",208],"(",["T_VARIABLE","$finalPrice",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getAmount",208],"(",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","getValue",208],"(",")",")",",",["T_WHITESPACE","\n                ",208],"]",",",["T_WHITESPACE","\n            ",209],"]",",",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'productId'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$currentProduct",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getId",211],"(",")",",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'chooseText'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_STRING","__",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Choose an Option...'",212],")",",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'images'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_ISSET","isset",213],"(",["T_VARIABLE","$options",213],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",213],"]",")",["T_WHITESPACE"," ",213],"?",["T_WHITESPACE"," ",213],["T_VARIABLE","$options",213],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",213],"]",["T_WHITESPACE"," ",213],":",["T_WHITESPACE"," ",213],"[","]",",",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'index'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_ISSET","isset",214],"(",["T_VARIABLE","$options",214],"[",["T_CONSTANT_ENCAPSED_STRING","'index'",214],"]",")",["T_WHITESPACE"," ",214],"?",["T_WHITESPACE"," ",214],["T_VARIABLE","$options",214],"[",["T_CONSTANT_ENCAPSED_STRING","'index'",214],"]",["T_WHITESPACE"," ",214],":",["T_WHITESPACE"," ",214],"[","]",",",["T_WHITESPACE","\n        ",214],"]",";",["T_WHITESPACE","\n\n        ",215],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$currentProduct",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","hasPreconfiguredValues",217],"(",")",["T_WHITESPACE"," ",217],["T_BOOLEAN_AND","&&",217],["T_WHITESPACE"," ",217],"!",["T_EMPTY","empty",217],"(",["T_VARIABLE","$attributesData",217],"[",["T_CONSTANT_ENCAPSED_STRING","'defaultValues'",217],"]",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$config",218],"[",["T_CONSTANT_ENCAPSED_STRING","'defaultValues'",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$attributesData",218],"[",["T_CONSTANT_ENCAPSED_STRING","'defaultValues'",218],"]",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$config",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","array_merge",221],"(",["T_VARIABLE","$config",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_getAdditionalConfig",221],"(",")",")",";",["T_WHITESPACE","\n\n        ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","jsonEncoder",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","encode",223],"(",["T_VARIABLE","$config",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",226],["T_WHITESPACE","\n    ",228],["T_PROTECTED","protected",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","getOptionPrices",229],"(",")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$prices",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],"[","]",";",["T_WHITESPACE","\n        ",231],["T_FOREACH","foreach",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getAllowProducts",232],"(",")",["T_WHITESPACE"," ",232],["T_AS","as",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$product",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$tierPrices",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],"[","]",";",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$priceInfo",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$product",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getPriceInfo",234],"(",")",";",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$tierPriceModel",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE","  ",235],["T_VARIABLE","$priceInfo",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getPrice",235],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",235],")",";",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$tierPricesList",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$tierPriceModel",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTierPriceList",236],"(",")",";",["T_WHITESPACE","\n            ",236],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$tierPricesList",237],["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$tierPrice",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$tierPrices",238],"[","]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],"[",["T_WHITESPACE","\n                    ",238],["T_CONSTANT_ENCAPSED_STRING","'qty'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_registerJsPrice",239],"(",["T_VARIABLE","$tierPrice",239],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",239],"]",")",",",["T_WHITESPACE","\n                    ",239],["T_CONSTANT_ENCAPSED_STRING","'price'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_registerJsPrice",240],"(",["T_VARIABLE","$tierPrice",240],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",240],"]",["T_OBJECT_OPERATOR","->",240],["T_STRING","getValue",240],"(",")",")",",",["T_WHITESPACE","\n                    ",240],["T_CONSTANT_ENCAPSED_STRING","'percentage'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_registerJsPrice",241],"(",["T_VARIABLE","$tierPriceModel",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getSavePercent",241],"(",["T_VARIABLE","$tierPrice",241],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",241],"]",")",")",",",["T_WHITESPACE","\n                ",241],"]",";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n\n            ",243],["T_VARIABLE","$prices",245],"[",["T_VARIABLE","$product",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getId",245],"(",")","]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE","\n                ",245],"[",["T_WHITESPACE","\n                    ",246],["T_CONSTANT_ENCAPSED_STRING","'oldPrice'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],"[",["T_WHITESPACE","\n                        ",247],["T_CONSTANT_ENCAPSED_STRING","'amount'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_registerJsPrice",248],"(",["T_WHITESPACE","\n                            ",248],["T_VARIABLE","$priceInfo",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getPrice",249],"(",["T_CONSTANT_ENCAPSED_STRING","'regular_price'",249],")",["T_OBJECT_OPERATOR","->",249],["T_STRING","getAmount",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","getValue",249],"(",")",["T_WHITESPACE","\n                        ",249],")",",",["T_WHITESPACE","\n                    ",250],"]",",",["T_WHITESPACE","\n                    ",251],["T_CONSTANT_ENCAPSED_STRING","'basePrice'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],"[",["T_WHITESPACE","\n                        ",252],["T_CONSTANT_ENCAPSED_STRING","'amount'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_registerJsPrice",253],"(",["T_WHITESPACE","\n                            ",253],["T_VARIABLE","$priceInfo",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getPrice",254],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getAmount",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getBaseAmount",254],"(",")",["T_WHITESPACE","\n                        ",254],")",",",["T_WHITESPACE","\n                    ",255],"]",",",["T_WHITESPACE","\n                    ",256],["T_CONSTANT_ENCAPSED_STRING","'finalPrice'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],"[",["T_WHITESPACE","\n                        ",257],["T_CONSTANT_ENCAPSED_STRING","'amount'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_registerJsPrice",258],"(",["T_WHITESPACE","\n                            ",258],["T_VARIABLE","$priceInfo",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getPrice",259],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getAmount",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getValue",259],"(",")",["T_WHITESPACE","\n                        ",259],")",",",["T_WHITESPACE","\n                    ",260],"]",",",["T_WHITESPACE","\n                    ",261],["T_CONSTANT_ENCAPSED_STRING","'tierPrices'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$tierPrices",262],",",["T_WHITESPACE","\n                 ",262],"]",";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$prices",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Replace ',' on '.' for js\n     *\n     * @param float $price\n     * @return string\n     *\/",268],["T_WHITESPACE","\n    ",273],["T_PROTECTED","protected",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","_registerJsPrice",274],"(",["T_VARIABLE","$price",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_STRING","str_replace",276],"(",["T_CONSTANT_ENCAPSED_STRING","','",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'.'",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$price",276],")",";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Should we generate \"As low as\" block or not\n     *\n     * @return bool\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","showMinimalPrice",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n",287],"}",["T_WHITESPACE","\n",288]]