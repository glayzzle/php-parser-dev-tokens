[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Product variations matrix block\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigurableProduct",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Block",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Edit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Tab",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Variations",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ProductRepositoryInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Catalog",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Locator",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LocatorInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Catalog",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Product",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","NoSuchEntityException",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Matrix",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Backend",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Block",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Template",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_configurableType",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockRegistryInterface\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$stockRegistry",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\VariationMatrix\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$variationMatrix",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$productRepository",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Helper\\Image *\/",42],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$image",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/** @var null|array *\/",45],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$productMatrix",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/** @var null|array *\/",48],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$productAttributes",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\CurrencyInterface\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$localeCurrency",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var LocatorInterface\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$locator",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable $configurableType\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\VariationMatrix $variationMatrix\n     * @param ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Catalog\\Helper\\Image $image\n     * @param \\Magento\\Framework\\Locale\\CurrencyInterface $localeCurrency\n     * @param LocatorInterface $locator\n     * @param array $data\n     *\/",61],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","__construct",72],"(",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Backend",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Block",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Template",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Context",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$context",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","ConfigurableProduct",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Product",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Type",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Configurable",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$configurableType",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","CatalogInventory",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Api",75],["T_NS_SEPARATOR","\\",75],["T_STRING","StockRegistryInterface",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$stockRegistry",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","ConfigurableProduct",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Product",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Type",76],["T_NS_SEPARATOR","\\",76],["T_STRING","VariationMatrix",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$variationMatrix",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","ProductRepositoryInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$productRepository",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Catalog",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Helper",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Image",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$image",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Locale",79],["T_NS_SEPARATOR","\\",79],["T_STRING","CurrencyInterface",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$localeCurrency",79],",",["T_WHITESPACE","\n        ",79],["T_STRING","LocatorInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$locator",80],",",["T_WHITESPACE","\n        ",80],["T_ARRAY","array",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$data",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",["T_WHITESPACE","\n    ",81],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n        ",82],["T_STRING","parent",83],["T_DOUBLE_COLON","::",83],["T_STRING","__construct",83],"(",["T_VARIABLE","$context",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$data",83],")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_configurableType",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$configurableType",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","stockRegistry",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$stockRegistry",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","variationMatrix",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$variationMatrix",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","productRepository",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$productRepository",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","localeCurrency",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$localeCurrency",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","image",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$image",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","locator",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$locator",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getCurrencySymbol",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","localeCurrency",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCurrency",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_storeManager",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getStore",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getBaseCurrencyCode",98],"(",")",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getSymbol",98],"(",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Retrieve currently edited product object\n     *\n     * @return Product\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","getProduct",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","locator",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getProduct",108],"(",")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Retrieve all possible attribute values combinations\n     *\n     * @return array\n     *\/",111],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","getVariations",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","variationMatrix",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getVariations",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getAttributes",118],"(",")",")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Retrieve data source for variations data\n     *\n     * @return string\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getProvider",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getData",128],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/provider'",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Retrieve configurable modal name\n     *\n     * @return string\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","getModal",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getData",138],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/modal'",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Retrieve form name\n     *\n     * @return string\n     *\/",141],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","getForm",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getData",148],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/form'",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Retrieve configurable modal name\n     *\n     * @return string\n     *\/",151],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getConfigurableModal",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getData",158],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/configurableModal'",158],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Get url for product edit\n     *\n     * @param string $id\n     * @return string\n     *\/",161],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","getEditProductUrl",167],"(",["T_VARIABLE","$id",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getUrl",169],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",169],",",["T_WHITESPACE"," ",169],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$id",169],"]",")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Retrieve attributes data\n     *\n     * @return array\n     *\/",172],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","getAttributes",177],"(",")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","hasData",179],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$attributes",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY_CAST","(array)",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_configurableType",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getConfigurableAttributesAsArray",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getProduct",180],"(",")",")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$productData",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_ARRAY_CAST","(array)",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getRequest",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","getParam",181],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",181],")",";",["T_WHITESPACE","\n            ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_ISSET","isset",182],"(",["T_VARIABLE","$productData",182],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",182],"]",")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$configurableData",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$productData",183],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",183],"]",";",["T_WHITESPACE","\n                ",183],["T_FOREACH","foreach",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$attributes",184],["T_WHITESPACE"," ",184],["T_AS","as",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$key",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$attribute",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                    ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_ISSET","isset",185],"(",["T_VARIABLE","$configurableData",185],"[",["T_VARIABLE","$key",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                        ",185],["T_VARIABLE","$attributes",186],"[",["T_VARIABLE","$key",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","array_replace_recursive",186],"(",["T_VARIABLE","$attribute",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$configurableData",186],"[",["T_VARIABLE","$key",186],"]",")",";",["T_WHITESPACE","\n                        ",186],["T_VARIABLE","$attributes",187],"[",["T_VARIABLE","$key",187],"]","[",["T_CONSTANT_ENCAPSED_STRING","'values'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","array_merge",187],"(",["T_WHITESPACE","\n                            ",187],["T_ISSET","isset",188],"(",["T_VARIABLE","$attribute",188],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",188],"]",")",["T_WHITESPACE"," ",188],"?",["T_WHITESPACE"," ",188],["T_VARIABLE","$attribute",188],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",188],"]",["T_WHITESPACE"," ",188],":",["T_WHITESPACE"," ",188],"[","]",",",["T_WHITESPACE","\n                            ",188],["T_ISSET","isset",189],"(",["T_VARIABLE","$configurableData",189],"[",["T_VARIABLE","$key",189],"]","[",["T_CONSTANT_ENCAPSED_STRING","'values'",189],"]",")",["T_WHITESPACE","\n                            ",189],"?",["T_WHITESPACE"," ",190],["T_STRING","array_filter",190],"(",["T_VARIABLE","$configurableData",190],"[",["T_VARIABLE","$key",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'values'",190],"]",")",["T_WHITESPACE","\n                            ",190],":",["T_WHITESPACE"," ",191],"[","]",["T_WHITESPACE","\n                        ",191],")",";",["T_WHITESPACE","\n                    ",192],"}",["T_WHITESPACE","\n                ",193],"}",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setData",196],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$attributes",196],")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getData",198],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",198],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Get used product attributes\n     *\n     * @return array\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getUsedAttributes",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_configurableType",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getUsedProductAttributes",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getProduct",208],"(",")",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Retrieve actual list of associated products, array key is obtained from varying attributes values\n     *\n     * @return Product[]\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getAssociatedProducts",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$productByUsedAttributes",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[","]",";",["T_WHITESPACE","\n        ",218],["T_FOREACH","foreach",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_getAssociatedProducts",219],"(",")",["T_WHITESPACE"," ",219],["T_AS","as",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$product",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$keys",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],"[","]",";",["T_WHITESPACE","\n            ",220],["T_FOREACH","foreach",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getUsedAttributes",221],"(",")",["T_WHITESPACE"," ",221],["T_AS","as",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$attribute",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_DOC_COMMENT","\/** @var $attribute \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute *\/",222],["T_WHITESPACE","\n                ",222],["T_VARIABLE","$keys",223],"[","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$product",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getData",223],"(",["T_VARIABLE","$attribute",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getAttributeCode",223],"(",")",")",";",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$productByUsedAttributes",225],"[",["T_STRING","implode",225],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$keys",225],")","]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$product",225],";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$productByUsedAttributes",227],";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Retrieve actual list of associated products (i.e. if product contains variations matrix form data\n     * - previously saved in database relations are not considered)\n     *\n     * @return Product[]\n     *\/",230],["T_WHITESPACE","\n    ",235],["T_PROTECTED","protected",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","_getAssociatedProducts",236],"(",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$product",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getProduct",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$ids",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getProduct",239],"(",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","getAssociatedProductIds",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$ids",240],["T_WHITESPACE"," ",240],["T_IS_IDENTICAL","===",240],["T_WHITESPACE"," ",240],["T_STRING","null",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_COMMENT","\/\/ form data overrides any relations stored in database\n",241],["T_WHITESPACE","            ",242],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_configurableType",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getUsedProducts",242],"(",["T_VARIABLE","$product",242],")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$products",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],"[","]",";",["T_WHITESPACE","\n        ",244],["T_FOREACH","foreach",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$ids",245],["T_WHITESPACE"," ",245],["T_AS","as",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$productId",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_TRY","try",246],["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$products",247],"[","]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","productRepository",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getById",247],"(",["T_VARIABLE","$productId",247],")",";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE"," ",248],["T_CATCH","catch",248],["T_WHITESPACE"," ",248],"(",["T_STRING","NoSuchEntityException",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$e",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                ",248],["T_CONTINUE","continue",249],";",["T_WHITESPACE","\n            ",249],"}",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$products",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Get url to upload files\n     *\n     * @return string\n     *\/",255],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","getImageUploadUrl",260],"(",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getUrl",262],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_gallery\/upload'",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * @param Product $product\n     * @return float\n     *\/",265],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getProductStockQty",269],"(",["T_STRING","Product",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$product",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","stockRegistry",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getStockItem",271],"(",["T_VARIABLE","$product",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getId",271],"(",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$product",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getStore",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getWebsiteId",271],"(",")",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getQty",271],"(",")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * @param array $initData\n     * @return string\n     *\/",274],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","getVariationWizard",278],"(",["T_VARIABLE","$initData",278],")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_DOC_COMMENT","\/** @var \\Magento\\Ui\\Block\\Component\\StepsWizard $wizardBlock *\/",280],["T_WHITESPACE","\n        ",280],["T_VARIABLE","$wizardBlock",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getChildBlock",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getData",281],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/nameStepWizard'",281],")",")",";",["T_WHITESPACE","\n        ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$wizardBlock",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$wizardBlock",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","setInitData",283],"(",["T_VARIABLE","$initData",283],")",";",["T_WHITESPACE","\n            ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$wizardBlock",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","toHtml",284],"(",")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","''",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * @return array|null\n     *\/",289],["T_WHITESPACE","\n    ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","getProductMatrix",292],"(",")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","productMatrix",294],["T_WHITESPACE"," ",294],["T_IS_IDENTICAL","===",294],["T_WHITESPACE"," ",294],["T_STRING","null",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","prepareVariations",295],"(",")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","productMatrix",297],";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * @return array|null\n     *\/",300],["T_WHITESPACE","\n    ",302],["T_PUBLIC","public",303],["T_WHITESPACE"," ",303],["T_FUNCTION","function",303],["T_WHITESPACE"," ",303],["T_STRING","getProductAttributes",303],"(",")",["T_WHITESPACE","\n    ",303],"{",["T_WHITESPACE","\n        ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","productAttributes",305],["T_WHITESPACE"," ",305],["T_IS_IDENTICAL","===",305],["T_WHITESPACE"," ",305],["T_STRING","null",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","prepareVariations",306],"(",")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","productAttributes",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @return void\n     * TODO: move to class\n     *\/",311],["T_WHITESPACE","\n    ",315],["T_PROTECTED","protected",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","prepareVariations",316],"(",")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$variations",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getVariations",318],"(",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$productMatrix",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],"[","]",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$attributes",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],"[","]",";",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$variations",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$usedProductAttributes",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getUsedAttributes",322],"(",")",";",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$productByUsedAttributes",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getAssociatedProducts",323],"(",")",";",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$configurableAttributes",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getAttributes",324],"(",")",";",["T_WHITESPACE","\n            ",324],["T_FOREACH","foreach",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$variations",325],["T_WHITESPACE"," ",325],["T_AS","as",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$variation",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$attributeValues",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],"[","]",";",["T_WHITESPACE","\n                ",326],["T_FOREACH","foreach",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$usedProductAttributes",327],["T_WHITESPACE"," ",327],["T_AS","as",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$attribute",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                    ",327],["T_VARIABLE","$attributeValues",328],"[",["T_VARIABLE","$attribute",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getAttributeCode",328],"(",")","]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$variation",328],"[",["T_VARIABLE","$attribute",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getId",328],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",328],"]",";",["T_WHITESPACE","\n                ",328],"}",["T_WHITESPACE","\n                ",329],["T_VARIABLE","$key",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","implode",330],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$attributeValues",330],")",";",["T_WHITESPACE","\n                ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_ISSET","isset",331],"(",["T_VARIABLE","$productByUsedAttributes",331],"[",["T_VARIABLE","$key",331],"]",")",")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                    ",331],["T_VARIABLE","$product",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$productByUsedAttributes",332],"[",["T_VARIABLE","$key",332],"]",";",["T_WHITESPACE","\n                    ",332],["T_VARIABLE","$price",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$product",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getPrice",333],"(",")",";",["T_WHITESPACE","\n                    ",333],["T_VARIABLE","$variationOptions",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],"[","]",";",["T_WHITESPACE","\n                    ",334],["T_FOREACH","foreach",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$usedProductAttributes",335],["T_WHITESPACE"," ",335],["T_AS","as",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$attribute",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n                        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(","!",["T_ISSET","isset",336],"(",["T_VARIABLE","$attributes",336],"[",["T_VARIABLE","$attribute",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getAttributeId",336],"(",")","]",")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                            ",336],["T_VARIABLE","$attributes",337],"[",["T_VARIABLE","$attribute",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getAttributeId",337],"(",")","]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],"[",["T_WHITESPACE","\n                                ",337],["T_CONSTANT_ENCAPSED_STRING","'code'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$attribute",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getAttributeCode",338],"(",")",",",["T_WHITESPACE","\n                                ",338],["T_CONSTANT_ENCAPSED_STRING","'label'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$attribute",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getStoreLabel",339],"(",")",",",["T_WHITESPACE","\n                                ",339],["T_CONSTANT_ENCAPSED_STRING","'id'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$attribute",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getAttributeId",340],"(",")",",",["T_WHITESPACE","\n                                ",340],["T_CONSTANT_ENCAPSED_STRING","'position'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$configurableAttributes",341],"[",["T_VARIABLE","$attribute",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getAttributeId",341],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'position'",341],"]",",",["T_WHITESPACE","\n                                ",341],["T_CONSTANT_ENCAPSED_STRING","'chosen'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],"[","]",",",["T_WHITESPACE","\n                            ",342],"]",";",["T_WHITESPACE","\n                            ",343],["T_FOREACH","foreach",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$attribute",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getOptions",344],"(",")",["T_WHITESPACE"," ",344],["T_AS","as",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$option",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                                ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","!",["T_EMPTY","empty",345],"(",["T_VARIABLE","$option",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getValue",345],"(",")",")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                                    ",345],["T_VARIABLE","$attributes",346],"[",["T_VARIABLE","$attribute",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getAttributeId",346],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",346],"]","[","]",["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],"[",["T_WHITESPACE","\n                                        ",346],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$attribute",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getAttributeCode",347],"(",")",",",["T_WHITESPACE","\n                                        ",347],["T_CONSTANT_ENCAPSED_STRING","'attribute_label'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$attribute",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getStoreLabel",348],"(",["T_LNUMBER","0",348],")",",",["T_WHITESPACE","\n                                        ",348],["T_CONSTANT_ENCAPSED_STRING","'id'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$option",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getValue",349],"(",")",",",["T_WHITESPACE","\n                                        ",349],["T_CONSTANT_ENCAPSED_STRING","'label'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$option",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getLabel",350],"(",")",",",["T_WHITESPACE","\n                                        ",350],["T_CONSTANT_ENCAPSED_STRING","'value'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$option",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getValue",351],"(",")",",",["T_WHITESPACE","\n                                    ",351],"]",";",["T_WHITESPACE","\n                                ",352],"}",["T_WHITESPACE","\n                            ",353],"}",["T_WHITESPACE","\n                        ",354],"}",["T_WHITESPACE","\n                        ",355],["T_VARIABLE","$optionId",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$variation",356],"[",["T_VARIABLE","$attribute",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getId",356],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",356],"]",";",["T_WHITESPACE","\n                        ",356],["T_VARIABLE","$variationOption",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],"[",["T_WHITESPACE","\n                            ",357],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$attribute",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getAttributeCode",358],"(",")",",",["T_WHITESPACE","\n                            ",358],["T_CONSTANT_ENCAPSED_STRING","'attribute_label'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$attribute",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getStoreLabel",359],"(",["T_LNUMBER","0",359],")",",",["T_WHITESPACE","\n                            ",359],["T_CONSTANT_ENCAPSED_STRING","'id'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$optionId",360],",",["T_WHITESPACE","\n                            ",360],["T_CONSTANT_ENCAPSED_STRING","'label'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$variation",361],"[",["T_VARIABLE","$attribute",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getId",361],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",361],"]",",",["T_WHITESPACE","\n                            ",361],["T_CONSTANT_ENCAPSED_STRING","'value'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$optionId",362],",",["T_WHITESPACE","\n                        ",362],"]",";",["T_WHITESPACE","\n                        ",363],["T_VARIABLE","$variationOptions",364],"[","]",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$variationOption",364],";",["T_WHITESPACE","\n                        ",364],["T_VARIABLE","$attributes",365],"[",["T_VARIABLE","$attribute",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getAttributeId",365],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'chosen'",365],"]","[","]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$variationOption",365],";",["T_WHITESPACE","\n                    ",365],"}",["T_WHITESPACE","\n\n                    ",366],["T_VARIABLE","$productMatrix",368],"[","]",["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],"[",["T_WHITESPACE","\n                        ",368],["T_CONSTANT_ENCAPSED_STRING","'productId'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$product",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getId",369],"(",")",",",["T_WHITESPACE","\n                        ",369],["T_CONSTANT_ENCAPSED_STRING","'images'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],"[",["T_WHITESPACE","\n                            ",370],["T_CONSTANT_ENCAPSED_STRING","'preview'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","image",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","init",371],"(",["T_VARIABLE","$product",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'product_thumbnail_image'",371],")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getUrl",371],"(",")",["T_WHITESPACE","\n                        ",371],"]",",",["T_WHITESPACE","\n                        ",372],["T_CONSTANT_ENCAPSED_STRING","'sku'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$product",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getSku",373],"(",")",",",["T_WHITESPACE","\n                        ",373],["T_CONSTANT_ENCAPSED_STRING","'name'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$product",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getName",374],"(",")",",",["T_WHITESPACE","\n                        ",374],["T_CONSTANT_ENCAPSED_STRING","'quantity'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getProductStockQty",375],"(",["T_VARIABLE","$product",375],")",",",["T_WHITESPACE","\n                        ",375],["T_CONSTANT_ENCAPSED_STRING","'price'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$price",376],",",["T_WHITESPACE","\n                        ",376],["T_CONSTANT_ENCAPSED_STRING","'options'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$variationOptions",377],",",["T_WHITESPACE","\n                        ",377],["T_CONSTANT_ENCAPSED_STRING","'weight'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$product",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getWeight",378],"(",")",",",["T_WHITESPACE","\n                        ",378],["T_CONSTANT_ENCAPSED_STRING","'status'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$product",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getStatus",379],"(",")",["T_WHITESPACE","\n                    ",379],"]",";",["T_WHITESPACE","\n                ",380],"}",["T_WHITESPACE","\n            ",381],"}",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","productMatrix",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$productMatrix",384],";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","productAttributes",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","array_values",385],"(",["T_VARIABLE","$attributes",385],")",";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n",386],"}",["T_WHITESPACE","\n",387]]