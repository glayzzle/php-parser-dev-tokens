[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableProduct",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Attribute",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Eav",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AttributeFactory",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","CreateOptions",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","Action",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Authorization level of a basic admin session\n     *\n     * @see _isAllowed()\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","ADMIN_RESOURCE",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::attributes_attributes'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\Helper\\Data\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$jsonHelper",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\AttributeFactory\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$attributeFactory",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @param Action\\Context $context\n     * @param \\Magento\\Framework\\Json\\Helper\\Data $jsonHelper\n     * @param AttributeFactory $attributeFactory\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",["T_WHITESPACE","\n        ",37],["T_STRING","Action",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Context",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$context",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Json",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Helper",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Data",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$jsonHelper",39],",",["T_WHITESPACE","\n        ",39],["T_STRING","AttributeFactory",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$attributeFactory",40],["T_WHITESPACE","\n    ",40],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","jsonHelper",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$jsonHelper",42],";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","attributeFactory",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$attributeFactory",43],";",["T_WHITESPACE","\n        ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","__construct",44],"(",["T_VARIABLE","$context",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Search for attributes by part of attribute's label in admin store\n     *\n     * @return void\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","execute",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getResponse",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","representJson",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","jsonHelper",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","jsonEncode",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","saveAttributeOptions",54],"(",")",")",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Save attribute options just created by user\n     *\n     * @return array\n     * @TODO Move this logic to configurable product type model\n     *   when full set of operations for attribute options during\n     *   product creation will be implemented: edit labels, remove, reorder.\n     * Currently only addition of options to end and removal of just added option is supported.\n     *\/",57],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","saveAttributeOptions",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$options",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY_CAST","(array)",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getRequest",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getParam",68],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$savedOptions",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n        ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$options",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$option",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_ISSET","isset",71],"(",["T_VARIABLE","$option",71],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",71],"]",")",["T_WHITESPACE"," ",71],["T_BOOLEAN_AND","&&",71],["T_WHITESPACE"," ",71],["T_ISSET","isset",71],"(",["T_VARIABLE","$option",71],"[",["T_CONSTANT_ENCAPSED_STRING","'is_new'",71],"]",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$attribute",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","attributeFactory",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","create",72],"(",")",";",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$attribute",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","load",73],"(",["T_VARIABLE","$option",73],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",73],"]",")",";",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$optionsBefore",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$attribute",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getSource",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getAllOptions",74],"(",["T_STRING","false",74],")",";",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$attribute",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setOption",75],"(",["T_WHITESPACE","\n                    ",75],"[",["T_WHITESPACE","\n                        ",76],["T_CONSTANT_ENCAPSED_STRING","'value'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'option_0'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_VARIABLE","$option",77],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",77],"]","]","]",",",["T_WHITESPACE","\n                        ",77],["T_CONSTANT_ENCAPSED_STRING","'order'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'option_0'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","count",78],"(",["T_VARIABLE","$optionsBefore",78],")",["T_WHITESPACE"," ",78],"+",["T_WHITESPACE"," ",78],["T_LNUMBER","1",78],"]",",",["T_WHITESPACE","\n                    ",78],"]",["T_WHITESPACE","\n                ",79],")",";",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$attribute",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","save",81],"(",")",";",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$attribute",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","attributeFactory",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","create",82],"(",")",";",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$attribute",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","load",83],"(",["T_VARIABLE","$option",83],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",83],"]",")",";",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$optionsAfter",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$attribute",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getSource",84],"(",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","getAllOptions",84],"(",["T_STRING","false",84],")",";",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$newOption",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","array_pop",85],"(",["T_VARIABLE","$optionsAfter",85],")",";",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$savedOptions",86],"[",["T_VARIABLE","$option",86],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",86],"]","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$newOption",86],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",86],"]",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$savedOptions",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n",90],"}",["T_WHITESPACE","\n",91]]