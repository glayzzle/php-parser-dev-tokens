[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Review",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Rating",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Review",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Controller",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Adminhtml",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Rating",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","RatingController",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResultFactory",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Save",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","RatingController",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Save rating\n     *\n     * @return \\Magento\\Backend\\Model\\View\\Result\\Redirect\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","execute",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","initEnityId",20],"(",")",";",["T_WHITESPACE","\n        ",20],["T_DOC_COMMENT","\/** @var \\Magento\\Backend\\Model\\View\\Result\\Redirect $resultRedirect *\/",21],["T_WHITESPACE","\n        ",21],["T_VARIABLE","$resultRedirect",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","resultFactory",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","create",22],"(",["T_STRING","ResultFactory",22],["T_DOUBLE_COLON","::",22],["T_STRING","TYPE_REDIRECT",22],")",";",["T_WHITESPACE","\n        ",22],["T_IF","if",23],["T_WHITESPACE"," ",23],"(",["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getRequest",23],"(",")",["T_OBJECT_OPERATOR","->",23],["T_STRING","getPostValue",23],"(",")",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n            ",23],["T_TRY","try",24],["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n                ",24],["T_DOC_COMMENT","\/** @var \\Magento\\Review\\Model\\Rating $ratingModel *\/",25],["T_WHITESPACE","\n                ",25],["T_VARIABLE","$ratingModel",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","_objectManager",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","create",26],"(",["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Review",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Rating",26],["T_DOUBLE_COLON","::",26],["T_CLASS","class",26],")",";",["T_WHITESPACE","\n                ",26],["T_VARIABLE","$stores",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getRequest",27],"(",")",["T_OBJECT_OPERATOR","->",27],["T_STRING","getParam",27],"(",["T_CONSTANT_ENCAPSED_STRING","'stores'",27],")",";",["T_WHITESPACE","\n                ",27],["T_VARIABLE","$position",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_INT_CAST","(int)",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getRequest",28],"(",")",["T_OBJECT_OPERATOR","->",28],["T_STRING","getParam",28],"(",["T_CONSTANT_ENCAPSED_STRING","'position'",28],")",";",["T_WHITESPACE","\n                ",28],["T_VARIABLE","$stores",29],"[","]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],";",["T_WHITESPACE","\n                ",29],["T_VARIABLE","$isActive",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_BOOL_CAST","(bool)",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getRequest",30],"(",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","getParam",30],"(",["T_CONSTANT_ENCAPSED_STRING","'is_active'",30],")",";",["T_WHITESPACE","\n\n                ",30],["T_VARIABLE","$ratingModel",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","setRatingCode",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getRequest",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","getParam",32],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_code'",32],")",")",["T_WHITESPACE","\n                    ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","setRatingCodes",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getRequest",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","getParam",33],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_codes'",33],")",")",["T_WHITESPACE","\n                    ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","setStores",34],"(",["T_VARIABLE","$stores",34],")",["T_WHITESPACE","\n                    ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","setPosition",35],"(",["T_VARIABLE","$position",35],")",["T_WHITESPACE","\n                    ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","setId",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getRequest",36],"(",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","getParam",36],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",36],")",")",["T_WHITESPACE","\n                    ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","setIsActive",37],"(",["T_VARIABLE","$isActive",37],")",["T_WHITESPACE","\n                    ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","setEntityId",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","coreRegistry",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","registry",38],"(",["T_CONSTANT_ENCAPSED_STRING","'entityId'",38],")",")",["T_WHITESPACE","\n                    ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","save",39],"(",")",";",["T_WHITESPACE","\n\n                ",39],["T_VARIABLE","$options",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getRequest",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getParam",41],"(",["T_CONSTANT_ENCAPSED_STRING","'option_title'",41],")",";",["T_WHITESPACE","\n\n                ",41],["T_IF","if",43],["T_WHITESPACE"," ",43],"(",["T_STRING","is_array",43],"(",["T_VARIABLE","$options",43],")",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n                    ",43],["T_VARIABLE","$i",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","1",44],";",["T_WHITESPACE","\n                    ",44],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$options",45],["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$key",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$optionCode",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n                        ",45],["T_VARIABLE","$optionModel",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_objectManager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","create",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Review",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Rating",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Option",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],")",";",["T_WHITESPACE","\n                        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(","!",["T_STRING","preg_match",47],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^add_([0-9]*?)$\/\"",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$key",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                            ",47],["T_VARIABLE","$optionModel",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setId",48],"(",["T_VARIABLE","$key",48],")",";",["T_WHITESPACE","\n                        ",48],"}",["T_WHITESPACE","\n\n                        ",49],["T_VARIABLE","$optionModel",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setCode",51],"(",["T_VARIABLE","$optionCode",51],")",["T_WHITESPACE","\n                            ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","setValue",52],"(",["T_VARIABLE","$i",52],")",["T_WHITESPACE","\n                            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","setRatingId",53],"(",["T_VARIABLE","$ratingModel",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getId",53],"(",")",")",["T_WHITESPACE","\n                            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","setPosition",54],"(",["T_VARIABLE","$i",54],")",["T_WHITESPACE","\n                            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n                        ",55],["T_VARIABLE","$i",56],["T_INC","++",56],";",["T_WHITESPACE","\n                    ",56],"}",["T_WHITESPACE","\n                ",57],"}",["T_WHITESPACE","\n\n                ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","messageManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","addSuccess",60],"(",["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'You saved the rating.'",60],")",")",";",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_objectManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Backend",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Session",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","setRatingData",61],"(",["T_STRING","false",61],")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE"," ",62],["T_CATCH","catch",62],["T_WHITESPACE"," ",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Exception",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$e",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","messageManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","addError",63],"(",["T_VARIABLE","$e",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMessage",63],"(",")",")",";",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_objectManager",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","get",64],"(",["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Backend",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Session",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],")",["T_WHITESPACE","\n                    ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","setRatingData",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getRequest",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getPostValue",65],"(",")",")",";",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$resultRedirect",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setPath",66],"(",["T_CONSTANT_ENCAPSED_STRING","'review\/rating\/edit'",66],",",["T_WHITESPACE"," ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getRequest",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getParam",66],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",66],")","]",")",";",["T_WHITESPACE","\n                ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$resultRedirect",67],";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$resultRedirect",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setPath",70],"(",["T_CONSTANT_ENCAPSED_STRING","'review\/rating\/'",70],")",";",["T_WHITESPACE","\n        ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$resultRedirect",71],";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n",72],"}",["T_WHITESPACE","\n",73]]