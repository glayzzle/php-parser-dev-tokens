[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Review",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Rating",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Rating option resource model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Option",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractDb",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Review table\n     *\n     * @var string\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_reviewTable",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Rating option table\n     *\n     * @var string\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_ratingOptionTable",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Rating vote table\n     *\n     * @var string\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_ratingVoteTable",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Aggregate table\n     *\n     * @var string\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_aggregateTable",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Review store table\n     *\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_reviewStoreTable",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Rating store table\n     *\n     * @var string\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_ratingStoreTable",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Option data\n     *\n     * @var array\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_optionData",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Option id\n     *\n     * @var int\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_optionId",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_customerSession",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Review\\Model\\Rating\\Option\\VoteFactory\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_ratingOptionVoteF",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Review\\Model\\Rating\\Option\\VoteFactory $ratingOptionVoteF\n     * @param \\Magento\\Framework\\HTTP\\PhpEnvironment\\RemoteAddress $remoteAddress\n     * @param string $connectionName\n     *\/",81],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","__construct",88],"(",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Model",89],["T_NS_SEPARATOR","\\",89],["T_STRING","ResourceModel",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Db",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Context",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$context",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Customer",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Model",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Session",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$customerSession",90],",",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Review",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Model",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Rating",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Option",91],["T_NS_SEPARATOR","\\",91],["T_STRING","VoteFactory",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$ratingOptionVoteF",91],",",["T_WHITESPACE","\n        ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","HTTP",92],["T_NS_SEPARATOR","\\",92],["T_STRING","PhpEnvironment",92],["T_NS_SEPARATOR","\\",92],["T_STRING","RemoteAddress",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$remoteAddress",92],",",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$connectionName",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","null",93],["T_WHITESPACE","\n    ",93],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_customerSession",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$customerSession",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_ratingOptionVoteF",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$ratingOptionVoteF",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_remoteAddress",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$remoteAddress",97],";",["T_WHITESPACE","\n        ",97],["T_STRING","parent",98],["T_DOUBLE_COLON","::",98],["T_STRING","__construct",98],"(",["T_VARIABLE","$context",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$connectionName",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Resource initialization. Define other tables name\n     *\n     * @return void\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","_construct",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_init",108],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_option'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'option_id'",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_reviewTable",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getTable",110],"(",["T_CONSTANT_ENCAPSED_STRING","'review'",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_ratingOptionTable",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getTable",111],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_option'",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_ratingVoteTable",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getTable",112],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_option_vote'",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_aggregateTable",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getTable",113],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_option_vote_aggregated'",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_reviewStoreTable",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getTable",114],"(",["T_CONSTANT_ENCAPSED_STRING","'review_store'",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_ratingStoreTable",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getTable",115],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_store'",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Add vote\n     *\n     * @param \\Magento\\Review\\Model\\Rating\\Option $option\n     * @return $this\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","addVote",124],"(",["T_VARIABLE","$option",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$connection",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getConnection",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$optionData",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","loadDataById",127],"(",["T_VARIABLE","$option",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$data",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","'option_id'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$option",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getId",129],"(",")",",",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'review_id'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$option",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getReviewId",130],"(",")",",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","'percent'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$optionData",131],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",131],"]",["T_WHITESPACE"," ",131],"\/",["T_WHITESPACE"," ",131],["T_LNUMBER","5",131],["T_WHITESPACE"," ",131],"*",["T_WHITESPACE"," ",131],["T_LNUMBER","100",131],",",["T_WHITESPACE","\n            ",131],["T_CONSTANT_ENCAPSED_STRING","'value'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$optionData",132],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",132],"]",",",["T_WHITESPACE","\n        ",132],"]",";",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$option",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getDoUpdate",135],"(",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$data",136],"[",["T_CONSTANT_ENCAPSED_STRING","'remote_ip'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_remoteAddress",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getRemoteAddress",136],"(",")",";",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'remote_ip_long'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_remoteAddress",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getRemoteAddress",137],"(",["T_STRING","true",137],")",";",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_customerSession",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getCustomerId",138],"(",")",";",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$data",139],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_pk_value'",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$option",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getEntityPkValue",139],"(",")",";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$data",140],"[",["T_CONSTANT_ENCAPSED_STRING","'rating_id'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$option",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getRatingId",140],"(",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$connection",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","beginTransaction",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_TRY","try",144],["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$option",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getDoUpdate",145],"(",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$condition",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'vote_id = ?'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$option",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getVoteId",146],"(",")",",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'review_id = ?'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$option",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getReviewId",146],"(",")","]",";",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$connection",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","update",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_ratingVoteTable",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$data",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$condition",147],")",";",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","aggregate",148],"(",["T_VARIABLE","$option",148],")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE"," ",149],["T_ELSE","else",149],["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$connection",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","insert",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_ratingVoteTable",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$data",150],")",";",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$option",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setVoteId",151],"(",["T_VARIABLE","$connection",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","lastInsertId",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_ratingVoteTable",151],")",")",";",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","aggregate",152],"(",["T_VARIABLE","$option",152],")",";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$connection",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","commit",154],"(",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE"," ",155],["T_CATCH","catch",155],["T_WHITESPACE"," ",155],"(",["T_NS_SEPARATOR","\\",155],["T_STRING","Exception",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$e",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$connection",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","rollback",156],"(",")",";",["T_WHITESPACE","\n            ",156],["T_THROW","throw",157],["T_WHITESPACE"," ",157],["T_NEW","new",157],["T_WHITESPACE"," ",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Exception",157],"(",["T_VARIABLE","$e",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getMessage",157],"(",")",")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Aggregate options\n     *\n     * @param \\Magento\\Review\\Model\\Rating\\Option $option\n     * @return void\n     *\/",162],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","aggregate",168],"(",["T_VARIABLE","$option",168],")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$vote",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_ratingOptionVoteF",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","create",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","load",170],"(",["T_VARIABLE","$option",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getVoteId",170],"(",")",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","aggregateEntityByRatingId",171],"(",["T_VARIABLE","$vote",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getRatingId",171],"(",")",",",["T_WHITESPACE"," ",171],["T_VARIABLE","$vote",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getEntityPkValue",171],"(",")",")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Aggregate entity by rating id\n     *\n     * @param int $ratingId\n     * @param int $entityPkValue\n     * @return void\n     *\/",174],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","aggregateEntityByRatingId",181],"(",["T_VARIABLE","$ratingId",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$entityPkValue",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$connection",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getConnection",183],"(",")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$select",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$connection",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","select",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","from",185],"(",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_aggregateTable",186],",",["T_WHITESPACE","\n            ",186],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'primary_id'",187],"]",["T_WHITESPACE","\n        ",187],")",["T_OBJECT_OPERATOR","->",188],["T_STRING","where",188],"(",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'rating_id = :rating_id'",189],["T_WHITESPACE","\n        ",189],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","where",190],"(",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","'entity_pk_value = :pk_value'",191],["T_WHITESPACE","\n        ",191],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$bind",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],"[",["T_CONSTANT_ENCAPSED_STRING","':rating_id'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$ratingId",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","':pk_value'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$entityPkValue",193],"]",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$oldData",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$connection",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","fetchPairs",194],"(",["T_VARIABLE","$select",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$bind",194],")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$appVoteCountCond",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$connection",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getCheckSql",196],"(",["T_CONSTANT_ENCAPSED_STRING","'review.status_id=1'",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'vote.vote_id'",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'NULL'",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$appVoteValueSumCond",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$connection",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getCheckSql",197],"(",["T_CONSTANT_ENCAPSED_STRING","'review.status_id=1'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'vote.value'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'0'",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$select",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$connection",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","select",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","from",199],"(",["T_WHITESPACE","\n            ",199],"[",["T_CONSTANT_ENCAPSED_STRING","'vote'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_ratingVoteTable",200],"]",",",["T_WHITESPACE","\n            ",200],"[",["T_WHITESPACE","\n                ",201],["T_CONSTANT_ENCAPSED_STRING","'vote_count'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Zend_Db_Expr",202],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(vote.vote_id)'",202],")",",",["T_WHITESPACE","\n                ",202],["T_CONSTANT_ENCAPSED_STRING","'vote_value_sum'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_NEW","new",203],["T_WHITESPACE"," ",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Zend_Db_Expr",203],"(",["T_CONSTANT_ENCAPSED_STRING","'SUM(vote.value)'",203],")",",",["T_WHITESPACE","\n                ",203],["T_CONSTANT_ENCAPSED_STRING","'app_vote_count'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Zend_Db_Expr",204],"(","\"",["T_ENCAPSED_AND_WHITESPACE","COUNT(",204],["T_CURLY_OPEN","{",204],["T_VARIABLE","$appVoteCountCond",204],"}",["T_ENCAPSED_AND_WHITESPACE",")",204],"\"",")",",",["T_WHITESPACE","\n                ",204],["T_CONSTANT_ENCAPSED_STRING","'app_vote_value_sum'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Zend_Db_Expr",205],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SUM(",205],["T_CURLY_OPEN","{",205],["T_VARIABLE","$appVoteValueSumCond",205],"}",["T_ENCAPSED_AND_WHITESPACE",")",205],"\"",")",["T_WHITESPACE","\n            ",205],"]",["T_WHITESPACE","\n        ",206],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","join",207],"(",["T_WHITESPACE","\n            ",207],"[",["T_CONSTANT_ENCAPSED_STRING","'review'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_reviewTable",208],"]",",",["T_WHITESPACE","\n            ",208],["T_CONSTANT_ENCAPSED_STRING","'vote.review_id=review.review_id'",209],",",["T_WHITESPACE","\n            ",209],"[","]",["T_WHITESPACE","\n        ",210],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","joinLeft",211],"(",["T_WHITESPACE","\n            ",211],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_reviewStoreTable",212],"]",",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'vote.review_id=store.review_id'",213],",",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'store_id'",214],["T_WHITESPACE","\n        ",214],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","join",215],"(",["T_WHITESPACE","\n            ",215],"[",["T_CONSTANT_ENCAPSED_STRING","'rstore'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_ratingStoreTable",216],"]",",",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","'vote.rating_id=rstore.rating_id AND rstore.store_id=store.store_id'",217],",",["T_WHITESPACE","\n            ",217],"[","]",["T_WHITESPACE","\n        ",218],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","where",219],"(",["T_WHITESPACE","\n            ",219],["T_CONSTANT_ENCAPSED_STRING","'vote.rating_id = :rating_id'",220],["T_WHITESPACE","\n        ",220],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","where",221],"(",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'vote.entity_pk_value = :pk_value'",222],["T_WHITESPACE","\n        ",222],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","group",223],"(",["T_WHITESPACE","\n            ",223],"[",["T_CONSTANT_ENCAPSED_STRING","'vote.rating_id'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'vote.entity_pk_value'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'store.store_id'",224],"]",["T_WHITESPACE","\n        ",224],")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$perStoreInfo",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$connection",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","fetchAll",227],"(",["T_VARIABLE","$select",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$bind",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$usedStores",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],"[","]",";",["T_WHITESPACE","\n        ",229],["T_FOREACH","foreach",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$perStoreInfo",230],["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$row",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$saveData",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],"[",["T_WHITESPACE","\n                ",231],["T_CONSTANT_ENCAPSED_STRING","'rating_id'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$ratingId",232],",",["T_WHITESPACE","\n                ",232],["T_CONSTANT_ENCAPSED_STRING","'entity_pk_value'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$entityPkValue",233],",",["T_WHITESPACE","\n                ",233],["T_CONSTANT_ENCAPSED_STRING","'vote_count'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$row",234],"[",["T_CONSTANT_ENCAPSED_STRING","'vote_count'",234],"]",",",["T_WHITESPACE","\n                ",234],["T_CONSTANT_ENCAPSED_STRING","'vote_value_sum'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$row",235],"[",["T_CONSTANT_ENCAPSED_STRING","'vote_value_sum'",235],"]",",",["T_WHITESPACE","\n                ",235],["T_CONSTANT_ENCAPSED_STRING","'percent'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$row",236],"[",["T_CONSTANT_ENCAPSED_STRING","'vote_value_sum'",236],"]",["T_WHITESPACE"," ",236],"\/",["T_WHITESPACE"," ",236],["T_VARIABLE","$row",236],"[",["T_CONSTANT_ENCAPSED_STRING","'vote_count'",236],"]",["T_WHITESPACE"," ",236],"\/",["T_WHITESPACE"," ",236],["T_LNUMBER","5",236],["T_WHITESPACE"," ",236],"*",["T_WHITESPACE"," ",236],["T_LNUMBER","100",236],",",["T_WHITESPACE","\n                ",236],["T_CONSTANT_ENCAPSED_STRING","'percent_approved'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$row",237],"[",["T_CONSTANT_ENCAPSED_STRING","'app_vote_count'",237],"]",["T_WHITESPACE"," ",237],"?",["T_WHITESPACE"," ",237],["T_VARIABLE","$row",237],"[",["T_CONSTANT_ENCAPSED_STRING","'app_vote_value_sum'",237],"]",["T_WHITESPACE"," ",237],"\/",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$row",238],"[",["T_CONSTANT_ENCAPSED_STRING","'app_vote_count'",238],"]",["T_WHITESPACE"," ",238],"\/",["T_WHITESPACE","\n                ",238],["T_LNUMBER","5",239],["T_WHITESPACE"," ",239],"*",["T_WHITESPACE","\n                ",239],["T_LNUMBER","100",240],["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_LNUMBER","0",240],",",["T_WHITESPACE","\n                ",240],["T_CONSTANT_ENCAPSED_STRING","'store_id'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$row",241],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",241],"]",",",["T_WHITESPACE","\n            ",241],"]",";",["T_WHITESPACE","\n\n            ",242],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_ISSET","isset",244],"(",["T_VARIABLE","$oldData",244],"[",["T_VARIABLE","$row",244],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",244],"]","]",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$condition",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],"[",["T_CONSTANT_ENCAPSED_STRING","'primary_id = ?'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$oldData",245],"[",["T_VARIABLE","$row",245],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",245],"]","]","]",";",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$connection",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","update",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_aggregateTable",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$saveData",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$condition",246],")",";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE"," ",247],["T_ELSE","else",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$connection",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","insert",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_aggregateTable",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$saveData",248],")",";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n\n            ",249],["T_VARIABLE","$usedStores",251],"[","]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$row",251],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",251],"]",";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_VARIABLE","$toDelete",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","array_diff",254],"(",["T_STRING","array_keys",254],"(",["T_VARIABLE","$oldData",254],")",",",["T_WHITESPACE"," ",254],["T_VARIABLE","$usedStores",254],")",";",["T_WHITESPACE","\n\n        ",254],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$toDelete",256],["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$storeId",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$condition",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],"[",["T_CONSTANT_ENCAPSED_STRING","'primary_id = ?'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$oldData",257],"[",["T_VARIABLE","$storeId",257],"]","]",";",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$connection",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","delete",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_aggregateTable",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$condition",258],")",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Load object data by optionId\n     * Method renamed from 'load'.\n     *\n     * @param int $optionId\n     * @return array\n     *\/",262],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","loadDataById",269],"(",["T_VARIABLE","$optionId",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(","!",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_optionData",271],["T_WHITESPACE"," ",271],["T_BOOLEAN_OR","||",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_optionId",271],["T_WHITESPACE"," ",271],["T_IS_NOT_EQUAL","!=",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$optionId",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$connection",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getConnection",272],"(",")",";",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$select",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$connection",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","select",273],"(",")",";",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$select",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","from",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_ratingOptionTable",274],")",["T_OBJECT_OPERATOR","->",274],["T_STRING","where",274],"(",["T_CONSTANT_ENCAPSED_STRING","'option_id = :option_id'",274],")",";",["T_WHITESPACE","\n\n            ",274],["T_VARIABLE","$data",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$connection",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","fetchRow",276],"(",["T_VARIABLE","$select",276],",",["T_WHITESPACE"," ",276],"[",["T_CONSTANT_ENCAPSED_STRING","':option_id'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$optionId",276],"]",")",";",["T_WHITESPACE","\n\n            ",276],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_optionData",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$data",278],";",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_optionId",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$optionId",279],";",["T_WHITESPACE","\n            ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$data",280],";",["T_WHITESPACE","\n        ",280],"}",["T_WHITESPACE","\n\n        ",281],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_optionData",283],";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n",284],"}",["T_WHITESPACE","\n",285]]