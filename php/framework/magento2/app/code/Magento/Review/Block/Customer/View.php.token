[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Review",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Review",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceModel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Rating",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Option",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Vote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Collection",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","VoteCollection",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Review",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Review",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Customer Review detailed view block\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","View",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Block",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Product",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractProduct",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Customer view template name\n     *\n     * @var string\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_template",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'customer\/view.phtml'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Catalog product model\n     *\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$productRepository",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Review model\n     *\n     * @var \\Magento\\Review\\Model\\ReviewFactory\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_reviewFactory",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Rating option model\n     *\n     * @var \\Magento\\Review\\Model\\Rating\\Option\\VoteFactory\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_voteFactory",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Rating model\n     *\n     * @var \\Magento\\Review\\Model\\RatingFactory\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_ratingFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Helper\\Session\\CurrentCustomer\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$currentCustomer",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Block\\Product\\Context $context\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Review\\Model\\ReviewFactory $reviewFactory\n     * @param \\Magento\\Review\\Model\\Rating\\Option\\VoteFactory $voteFactory\n     * @param \\Magento\\Review\\Model\\RatingFactory $ratingFactory\n     * @param \\Magento\\Customer\\Helper\\Session\\CurrentCustomer $currentCustomer\n     * @param array $data\n     *\/",59],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","__construct",68],"(",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Catalog",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Block",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Product",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Context",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$context",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Catalog",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Api",70],["T_NS_SEPARATOR","\\",70],["T_STRING","ProductRepositoryInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$productRepository",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Review",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Model",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ReviewFactory",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$reviewFactory",71],",",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Review",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Model",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Rating",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Option",72],["T_NS_SEPARATOR","\\",72],["T_STRING","VoteFactory",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$voteFactory",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Review",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Model",73],["T_NS_SEPARATOR","\\",73],["T_STRING","RatingFactory",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$ratingFactory",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Customer",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Helper",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Session",74],["T_NS_SEPARATOR","\\",74],["T_STRING","CurrentCustomer",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$currentCustomer",74],",",["T_WHITESPACE","\n        ",74],["T_ARRAY","array",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$data",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",["T_WHITESPACE","\n    ",75],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","productRepository",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$productRepository",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_reviewFactory",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$reviewFactory",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_voteFactory",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$voteFactory",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_ratingFactory",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$ratingFactory",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","currentCustomer",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$currentCustomer",81],";",["T_WHITESPACE","\n        ",81],["T_STRING","parent",82],["T_DOUBLE_COLON","::",82],["T_STRING","__construct",82],"(",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$context",83],",",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$data",84],["T_WHITESPACE","\n        ",84],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Initialize review id\n     *\n     * @return void\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","_construct",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_STRING","parent",95],["T_DOUBLE_COLON","::",95],["T_STRING","_construct",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setReviewId",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getRequest",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getParam",96],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",96],",",["T_WHITESPACE"," ",96],["T_STRING","false",96],")",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Get product data\n     *\n     * @return Product\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getProductData",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getReviewId",106],"(",")",["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],"!",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getProductCacheData",106],"(",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$product",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","productRepository",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getById",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getReviewData",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getEntityPkValue",107],"(",")",")",";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setProductCacheData",108],"(",["T_VARIABLE","$product",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getProductCacheData",110],"(",")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Get review data\n     *\n     * @return Review\n     *\/",113],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","getReviewData",118],"(",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getReviewId",120],"(",")",["T_WHITESPACE"," ",120],["T_BOOLEAN_AND","&&",120],["T_WHITESPACE"," ",120],"!",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getReviewCachedData",120],"(",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setReviewCachedData",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_reviewFactory",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","create",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","load",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getReviewId",121],"(",")",")",")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getReviewCachedData",123],"(",")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Return review customer url\n     *\n     * @return string\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getBackUrl",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getUrl",133],"(",["T_CONSTANT_ENCAPSED_STRING","'review\/customer'",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Get review rating collection\n     *\n     * @return VoteCollection\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getRating",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getRatingCollection",143],"(",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$ratingCollection",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_voteFactory",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","create",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getResourceCollection",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","setReviewFilter",144],"(",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getReviewId",145],"(",")",["T_WHITESPACE","\n            ",145],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","addRatingInfo",146],"(",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_storeManager",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getStore",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getId",147],"(",")",["T_WHITESPACE","\n            ",147],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","setStoreFilter",148],"(",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_storeManager",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getStore",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getId",149],"(",")",["T_WHITESPACE","\n            ",149],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","load",150],"(",")",";",["T_WHITESPACE","\n\n            ",150],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setRatingCollection",152],"(",["T_VARIABLE","$ratingCollection",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getSize",152],"(",")",["T_WHITESPACE"," ",152],"?",["T_WHITESPACE"," ",152],["T_VARIABLE","$ratingCollection",152],["T_WHITESPACE"," ",152],":",["T_WHITESPACE"," ",152],["T_STRING","false",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getRatingCollection",155],"(",")",";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Get rating summary\n     *\n     * @return array\n     *\/",158],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getRatingSummary",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(","!",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getRatingSummaryCache",165],"(",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setRatingSummaryCache",166],"(",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_ratingFactory",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","create",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getEntitySummary",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getProductData",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getId",167],"(",")",")",["T_WHITESPACE","\n            ",167],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getRatingSummaryCache",170],"(",")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Get total reviews\n     *\n     * @return int\n     *\/",173],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","getTotalReviews",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(","!",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getTotalReviewsCache",180],"(",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setTotalReviewsCache",181],"(",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_reviewFactory",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","create",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getTotalReviews",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getProductData",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getId",182],"(",")",")",",",["T_WHITESPACE","\n                ",182],["T_STRING","false",183],",",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_storeManager",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getStore",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","getId",184],"(",")",["T_WHITESPACE","\n            ",184],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getTotalReviewsCache",187],"(",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get formatted date\n     *\n     * @param string $date\n     * @return string\n     *\/",190],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","dateFormat",196],"(",["T_VARIABLE","$date",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","formatDate",198],"(",["T_VARIABLE","$date",198],",",["T_WHITESPACE"," ",198],["T_NS_SEPARATOR","\\",198],["T_STRING","IntlDateFormatter",198],["T_DOUBLE_COLON","::",198],["T_STRING","LONG",198],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Get product reviews summary\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param bool $templateType\n     * @param bool $displayIfNoReviews\n     * @return string\n     *\/",201],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getReviewsSummaryHtml",209],"(",["T_WHITESPACE","\n        ",209],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Catalog",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Model",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Product",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$product",210],",",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$templateType",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","false",211],",",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$displayIfNoReviews",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","false",212],["T_WHITESPACE","\n    ",212],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_VARIABLE","$product",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getRatingSummary",214],"(",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_reviewFactory",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","create",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getEntitySummary",215],"(",["T_VARIABLE","$product",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_storeManager",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getStore",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getId",215],"(",")",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_STRING","parent",217],["T_DOUBLE_COLON","::",217],["T_STRING","getReviewsSummaryHtml",217],"(",["T_VARIABLE","$product",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$templateType",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$displayIfNoReviews",217],")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",220],["T_WHITESPACE","\n    ",222],["T_PROTECTED","protected",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","_toHtml",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","currentCustomer",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getCustomerId",225],"(",")",["T_WHITESPACE"," ",225],"?",["T_WHITESPACE"," ",225],["T_STRING","parent",225],["T_DOUBLE_COLON","::",225],["T_STRING","_toHtml",225],"(",")",["T_WHITESPACE"," ",225],":",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","''",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n",226],"}",["T_WHITESPACE","\n",227]]