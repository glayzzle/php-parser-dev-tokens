[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Review",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Review",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceModel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Review",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Collection",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","ReviewCollection",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Product Reviews Page\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","View",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Block",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Product",17],["T_NS_SEPARATOR","\\",17],["T_STRING","View",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Review collection\n     *\n     * @var ReviewCollection\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_reviewsCollection",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Review resource model\n     *\n     * @var \\Magento\\Review\\Model\\ResourceModel\\Review\\CollectionFactory\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_reviewsColFactory",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Block\\Product\\Context $context\n     * @param \\Magento\\Framework\\Url\\EncoderInterface $urlEncoder\n     * @param \\Magento\\Framework\\Json\\EncoderInterface $jsonEncoder\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $string\n     * @param \\Magento\\Catalog\\Helper\\Product $productHelper\n     * @param \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface $productTypeConfig\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param \\Magento\\Review\\Model\\ResourceModel\\Review\\CollectionFactory $collectionFactory\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",33],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Catalog",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Block",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Product",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Context",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$context",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Url",50],["T_NS_SEPARATOR","\\",50],["T_STRING","EncoderInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$urlEncoder",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Framework",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Json",51],["T_NS_SEPARATOR","\\",51],["T_STRING","EncoderInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$jsonEncoder",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Stdlib",52],["T_NS_SEPARATOR","\\",52],["T_STRING","StringUtils",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$string",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Catalog",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Helper",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Product",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$productHelper",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Catalog",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ProductTypes",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ConfigInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$productTypeConfig",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Locale",55],["T_NS_SEPARATOR","\\",55],["T_STRING","FormatInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$localeFormat",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Customer",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Session",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$customerSession",56],",",["T_WHITESPACE","\n        ",56],["T_STRING","ProductRepositoryInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$productRepository",57],",",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Pricing",58],["T_NS_SEPARATOR","\\",58],["T_STRING","PriceCurrencyInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$priceCurrency",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Review",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","ResourceModel",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Review",59],["T_NS_SEPARATOR","\\",59],["T_STRING","CollectionFactory",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$collectionFactory",59],",",["T_WHITESPACE","\n        ",59],["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$data",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","]",["T_WHITESPACE","\n    ",60],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_reviewsColFactory",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$collectionFactory",62],";",["T_WHITESPACE","\n        ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","__construct",63],"(",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$context",64],",",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$urlEncoder",65],",",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$jsonEncoder",66],",",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$string",67],",",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$productHelper",68],",",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$productTypeConfig",69],",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$localeFormat",70],",",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$customerSession",71],",",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$productRepository",72],",",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$priceCurrency",73],",",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$data",74],["T_WHITESPACE","\n        ",74],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Render block HTML\n     *\n     * @return string\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","_toHtml",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getProduct",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","setShortDescription",85],"(",["T_STRING","null",85],")",";",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","_toHtml",87],"(",")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Replace review summary html with more detailed review summary\n     * Reviews collection count will be jerked here\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param bool $templateType\n     * @param bool $displayIfNoReviews\n     * @return string\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",90],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getReviewsSummaryHtml",100],"(",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Catalog",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Product",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$product",101],",",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$templateType",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","false",102],",",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$displayIfNoReviews",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","false",103],["T_WHITESPACE","\n    ",103],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getLayout",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","createBlock",105],"(",["T_WHITESPACE","\n            ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Review",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Block",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Rating",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Entity",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Detailed",106],["T_DOUBLE_COLON","::",106],["T_CLASS","class",106],["T_WHITESPACE","\n        ",106],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","setEntityId",107],"(",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getProduct",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","getId",108],"(",")",["T_WHITESPACE","\n        ",108],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","toHtml",109],"(",")",["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getLayout",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getBlock",109],"(",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'product_review_list.count'",110],["T_WHITESPACE","\n        ",110],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","assign",111],"(",["T_WHITESPACE","\n            ",111],["T_CONSTANT_ENCAPSED_STRING","'count'",112],",",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getReviewsCollection",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getSize",113],"(",")",["T_WHITESPACE","\n        ",113],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","toHtml",114],"(",")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Get collection of reviews\n     *\n     * @return ReviewCollection\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","getReviewsCollection",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","null",124],["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_reviewsCollection",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_reviewsCollection",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_reviewsColFactory",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","create",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","addStoreFilter",125],"(",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_storeManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getStore",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getId",126],"(",")",["T_WHITESPACE","\n            ",126],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","addStatusFilter",127],"(",["T_WHITESPACE","\n                ",127],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Review",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Model",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Review",128],["T_DOUBLE_COLON","::",128],["T_STRING","STATUS_APPROVED",128],["T_WHITESPACE","\n            ",128],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","addEntityFilter",129],"(",["T_WHITESPACE","\n                ",129],["T_CONSTANT_ENCAPSED_STRING","'product'",130],",",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getProduct",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","getId",131],"(",")",["T_WHITESPACE","\n            ",131],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","setDateOrder",132],"(",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_reviewsCollection",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Force product view page behave like without options\n     *\n     * @return bool\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","hasOptions",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","false",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n",145],"}",["T_WHITESPACE","\n",146]]