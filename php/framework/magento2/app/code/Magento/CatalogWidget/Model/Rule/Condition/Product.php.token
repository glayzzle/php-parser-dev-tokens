[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n\n",5],["T_DOC_COMMENT","\/**\n * CatalogWidget Rule Product Condition data model\n *\/",8],["T_WHITESPACE","\n",10],["T_NAMESPACE","namespace",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogWidget",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Rule",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Condition",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Class Product\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Product",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Rule",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Condition",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Product",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractProduct",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$elementName",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'parameters'",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$joinedAttributes",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[","]",";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$storeManager",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Rule\\Model\\Condition\\Context $context\n     * @param \\Magento\\Backend\\Helper\\Data $backendData\n     * @param \\Magento\\Eav\\Model\\Config $config\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product $productResource\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\Collection $attrSetCollection\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",35],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Rule",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Condition",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Context",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$context",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Backend",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Helper",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Data",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$backendData",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Eav",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Config",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$config",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Catalog",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ProductFactory",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$productFactory",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Catalog",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Api",53],["T_NS_SEPARATOR","\\",53],["T_STRING","ProductRepositoryInterface",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$productRepository",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Catalog",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Product",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$productResource",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Eav",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","ResourceModel",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Entity",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Attribute",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Set",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Collection",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$attrSetCollection",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Framework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Locale",56],["T_NS_SEPARATOR","\\",56],["T_STRING","FormatInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$localeFormat",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Store",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","StoreManagerInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$storeManager",57],",",["T_WHITESPACE","\n        ",57],["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$data",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[","]",["T_WHITESPACE","\n    ",58],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","storeManager",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$storeManager",60],";",["T_WHITESPACE","\n        ",60],["T_STRING","parent",61],["T_DOUBLE_COLON","::",61],["T_STRING","__construct",61],"(",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$context",62],",",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$backendData",63],",",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$config",64],",",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$productFactory",65],",",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$productRepository",66],",",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$productResource",67],",",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$attrSetCollection",68],",",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$localeFormat",69],",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$data",70],["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","loadAttributeOptions",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$productAttributes",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_productResource",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","loadAllAttributes",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getAttributesByCode",79],"(",")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$attributes",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",";",["T_WHITESPACE","\n        ",81],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$productAttributes",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$attribute",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_VARIABLE","$attribute",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getFrontendLabel",83],"(",")",["T_WHITESPACE"," ",83],["T_BOOLEAN_OR","||",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$attribute",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getFrontendInput",83],"(",")",["T_WHITESPACE"," ",83],["T_IS_EQUAL","==",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'text'",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_CONTINUE","continue",84],";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$attributes",86],"[",["T_VARIABLE","$attribute",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getAttributeCode",86],"(",")","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$attribute",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getFrontendLabel",86],"(",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_addSpecialAttributes",89],"(",["T_VARIABLE","$attributes",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_STRING","asort",91],"(",["T_VARIABLE","$attributes",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setAttributeOption",92],"(",["T_VARIABLE","$attributes",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","_addSpecialAttributes",100],"(",["T_ARRAY","array",100],["T_WHITESPACE"," ",100],"&",["T_VARIABLE","$attributes",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","_addSpecialAttributes",102],"(",["T_VARIABLE","$attributes",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$attributes",103],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","__",103],"(",["T_CONSTANT_ENCAPSED_STRING","'SKU'",103],")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Add condition to collection\n     *\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $collection\n     * @return $this\n     *\/",106],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","addToCollection",112],"(",["T_VARIABLE","$collection",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$attribute",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getAttributeObject",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$collection",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","isEnabledFlat",116],"(",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$alias",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","array_keys",117],"(",["T_VARIABLE","$collection",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getSelect",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getPart",117],"(",["T_CONSTANT_ENCAPSED_STRING","'from'",117],")",")","[",["T_LNUMBER","0",117],"]",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","joinedAttributes",118],"[",["T_VARIABLE","$attribute",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getAttributeCode",118],"(",")","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$alias",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'.'",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$attribute",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getAttributeCode",118],"(",")",";",["T_WHITESPACE","\n            ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",122],["T_WHITESPACE"," ",122],["T_IS_EQUAL","==",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$attribute",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getAttributeCode",122],"(",")",["T_WHITESPACE"," ",122],["T_BOOLEAN_OR","||",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$attribute",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","isStatic",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$attribute",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getBackend",126],"(",")",["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attribute",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","isScopeGlobal",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","addGlobalAttribute",127],"(",["T_VARIABLE","$attribute",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$collection",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","addNotGlobalAttribute",129],"(",["T_VARIABLE","$attribute",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$collection",129],")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$attributes",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getRule",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getCollectedAttributes",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$attributes",133],"[",["T_VARIABLE","$attribute",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getAttributeCode",133],"(",")","]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","true",133],";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getRule",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","setCollectedAttributes",134],"(",["T_VARIABLE","$attributes",134],")",";",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $attribute\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $collection\n     * @return $this\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","addGlobalAttribute",144],"(",["T_WHITESPACE","\n        ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Catalog",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Model",145],["T_NS_SEPARATOR","\\",145],["T_STRING","ResourceModel",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Eav",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Attribute",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$attribute",145],",",["T_WHITESPACE","\n        ",145],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Catalog",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Model",146],["T_NS_SEPARATOR","\\",146],["T_STRING","ResourceModel",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Product",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Collection",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$collection",146],["T_WHITESPACE","\n    ",146],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$storeId",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE","  ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","storeManager",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getStore",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",";",["T_WHITESPACE","\n\n        ",148],["T_SWITCH","switch",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$attribute",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getBackendType",150],"(",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_CASE","case",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'decimal'",151],":",["T_WHITESPACE","\n            ",151],["T_CASE","case",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'datetime'",152],":",["T_WHITESPACE","\n            ",152],["T_CASE","case",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'int'",153],":",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$alias",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'at_'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$attribute",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getAttributeCode",154],"(",")",";",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$collection",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","addAttributeToSelect",155],"(",["T_VARIABLE","$attribute",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getAttributeCode",155],"(",")",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'inner'",155],")",";",["T_WHITESPACE","\n                ",155],["T_BREAK","break",156],";",["T_WHITESPACE","\n            ",156],["T_DEFAULT","default",157],":",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$alias",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'at_'",158],".",["T_WHITESPACE"," ",158],["T_STRING","md5",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getId",158],"(",")",")",["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$attribute",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getAttributeCode",158],"(",")",";",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$collection",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getSelect",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","join",159],"(",["T_WHITESPACE","\n                    ",159],"[",["T_VARIABLE","$alias",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$collection",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTable",160],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_index_eav'",160],")","]",",",["T_WHITESPACE","\n                    ",160],"\"",["T_ENCAPSED_AND_WHITESPACE","(",161],["T_VARIABLE","$alias",161],["T_ENCAPSED_AND_WHITESPACE",".entity_id = e.entity_id) AND (",161],["T_VARIABLE","$alias",161],["T_ENCAPSED_AND_WHITESPACE",".store_id = ",161],["T_VARIABLE","$storeId",161],["T_ENCAPSED_AND_WHITESPACE",")",161],"\"",["T_WHITESPACE"," ",161],".",["T_WHITESPACE","\n                    ",161],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND (",162],["T_VARIABLE","$alias",162],["T_ENCAPSED_AND_WHITESPACE",".attribute_id = ",162],["T_CURLY_OPEN","{",162],["T_VARIABLE","$attribute",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getId",162],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",")",162],"\"",",",["T_WHITESPACE","\n                    ",162],"[","]",["T_WHITESPACE","\n                ",163],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","joinedAttributes",167],"[",["T_VARIABLE","$attribute",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getAttributeCode",167],"(",")","]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$alias",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'.value'",167],";",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $attribute\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $collection\n     * @return $this\n     *\/",172],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","addNotGlobalAttribute",177],"(",["T_WHITESPACE","\n        ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Catalog",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","ResourceModel",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Eav",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Attribute",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attribute",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Catalog",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Model",179],["T_NS_SEPARATOR","\\",179],["T_STRING","ResourceModel",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Product",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Collection",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$collection",179],["T_WHITESPACE","\n    ",179],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$storeId",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE","  ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","storeManager",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getStore",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","getId",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$values",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$collection",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getAllAttributeValues",182],"(",["T_VARIABLE","$attribute",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$validEntities",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],"[","]",";",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$values",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$values",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$entityId",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$storeValues",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_ISSET","isset",186],"(",["T_VARIABLE","$storeValues",186],"[",["T_VARIABLE","$storeId",186],"]",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                    ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","validateAttribute",187],"(",["T_VARIABLE","$storeValues",187],"[",["T_VARIABLE","$storeId",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                        ",187],["T_VARIABLE","$validEntities",188],"[","]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$entityId",188],";",["T_WHITESPACE","\n                    ",188],"}",["T_WHITESPACE","\n                ",189],"}",["T_WHITESPACE"," ",190],["T_ELSE","else",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                    ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","validateAttribute",191],"(",["T_VARIABLE","$storeValues",191],"[",["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Store",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Model",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Store",191],["T_DOUBLE_COLON","::",191],["T_STRING","DEFAULT_STORE_ID",191],"]",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                        ",191],["T_VARIABLE","$validEntities",192],"[","]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$entityId",192],";",["T_WHITESPACE","\n                    ",192],"}",["T_WHITESPACE","\n                ",193],"}",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setOperator",197],"(",["T_CONSTANT_ENCAPSED_STRING","'()'",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","unsetData",198],"(",["T_CONSTANT_ENCAPSED_STRING","'value_parsed'",198],")",";",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$validEntities",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","setData",200],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",200],",",["T_WHITESPACE"," ",200],["T_STRING","implode",200],"(",["T_CONSTANT_ENCAPSED_STRING","','",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$validEntities",200],")",")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSE","else",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","unsetData",202],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",202],")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n\n        ",203],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",208],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","getMappedSqlField",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$result",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","''",213],";",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getAttribute",214],"(",")",["T_WHITESPACE"," ",214],["T_IS_EQUAL","==",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$result",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","parent",215],["T_DOUBLE_COLON","::",215],["T_STRING","getMappedSqlField",215],"(",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE"," ",216],["T_ELSEIF","elseif",216],["T_WHITESPACE"," ",216],"(",["T_ISSET","isset",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","joinedAttributes",216],"[",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getAttribute",216],"(",")","]",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$result",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","joinedAttributes",217],"[",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getAttribute",217],"(",")","]",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE"," ",218],["T_ELSEIF","elseif",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getAttributeObject",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","isStatic",218],"(",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$result",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getAttributeObject",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","getAttributeCode",219],"(",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE"," ",220],["T_ELSEIF","elseif",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getValueParsed",220],"(",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$result",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",221],";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$result",224],";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",227],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","collectValidatedAttributes",230],"(",["T_VARIABLE","$productCollection",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","addToCollection",232],"(",["T_VARIABLE","$productCollection",232],")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n",233],"}",["T_WHITESPACE","\n",234]]