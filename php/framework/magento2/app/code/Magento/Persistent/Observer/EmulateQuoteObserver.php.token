[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Persistent",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Event",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObserverInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class EmulateQuote\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","EmulateQuoteObserver",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","ObserverInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Customer account service\n     *\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$customerRepository",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Customer session\n     *\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_customerSession",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Checkout session\n     *\n     * @var \\Magento\\Checkout\\Model\\Session\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_checkoutSession",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Persistent session\n     *\n     * @var \\Magento\\Persistent\\Helper\\Session\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_persistentSession",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","null",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Persistent data\n     *\n     * @var \\Magento\\Persistent\\Helper\\Data\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_persistentData",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Persistent\\Helper\\Session $persistentSession\n     * @param \\Magento\\Persistent\\Helper\\Data $persistentData\n     * @param \\Magento\\Checkout\\Model\\Session $checkoutSession\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerRepository\n     *\/",51],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Persistent",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Helper",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Session",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$persistentSession",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Persistent",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Helper",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Data",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$persistentData",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Checkout",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Session",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$checkoutSession",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Customer",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Session",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$customerSession",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Customer",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Api",63],["T_NS_SEPARATOR","\\",63],["T_STRING","CustomerRepositoryInterface",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$customerRepository",63],["T_WHITESPACE","\n    ",63],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_persistentSession",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$persistentSession",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_persistentData",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$persistentData",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_checkoutSession",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$checkoutSession",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_customerSession",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$customerSession",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","customerRepository",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$customerRepository",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Emulate quote by persistent data\n     *\n     * @param \\Magento\\Framework\\Event\\Observer $observer\n     * @return void\n     *\/",72],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","execute",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Event",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Observer",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$observer",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$stopActions",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_CONSTANT_ENCAPSED_STRING","'persistent_index_saveMethod'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'customer_account_createpost'",80],"]",";",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_persistentData",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","canProcess",82],"(",["T_VARIABLE","$observer",82],")",["T_WHITESPACE","\n            ",82],["T_BOOLEAN_OR","||",83],["T_WHITESPACE"," ",83],"!",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_persistentSession",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isPersistent",83],"(",")",["T_WHITESPACE","\n            ",83],["T_BOOLEAN_OR","||",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_customerSession",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","isLoggedIn",84],"(",")",["T_WHITESPACE","\n        ",84],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_RETURN","return",86],";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$actionName",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$observer",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getEvent",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getRequest",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getFullActionName",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_STRING","in_array",91],"(",["T_VARIABLE","$actionName",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$stopActions",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_RETURN","return",92],";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_persistentData",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","isShoppingCartPersist",95],"(",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_checkoutSession",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setCustomerData",96],"(",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","customerRepository",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getById",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_persistentSession",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getSession",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getCustomerId",97],"(",")",")",["T_WHITESPACE","\n            ",97],")",";",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_checkoutSession",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","hasQuote",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_checkoutSession",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getQuote",100],"(",")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n",103],"}",["T_WHITESPACE","\n",104]]