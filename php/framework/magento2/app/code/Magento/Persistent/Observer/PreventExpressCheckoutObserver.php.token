[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Persistent",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Event",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObserverInterface",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","PreventExpressCheckoutObserver",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","ObserverInterface",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Message\\ManagerInterface\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$messageManager",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * Url model\n     *\n     * @var \\Magento\\Framework\\UrlInterface\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_url",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Persistent session\n     *\n     * @var \\Magento\\Persistent\\Helper\\Session\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_persistentSession",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","null",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_customerSession",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Helper\\ExpressRedirect\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_expressRedirectHelper",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Persistent\\Helper\\Session $persistentSession\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\UrlInterface $url\n     * @param \\Magento\\Framework\\Message\\ManagerInterface $messageManager\n     * @param \\Magento\\Checkout\\Helper\\ExpressRedirect $expressRedirectHelper\n     *\/",42],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Persistent",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Helper",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Session",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$persistentSession",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Customer",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Session",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$customerSession",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","UrlInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$url",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Message",53],["T_NS_SEPARATOR","\\",53],["T_STRING","ManagerInterface",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$messageManager",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Checkout",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Helper",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ExpressRedirect",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$expressRedirectHelper",54],["T_WHITESPACE","\n    ",54],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_persistentSession",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$persistentSession",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_customerSession",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$customerSession",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_url",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$url",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","messageManager",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$messageManager",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_expressRedirectHelper",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$expressRedirectHelper",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Prevent express checkout\n     *\n     * @param \\Magento\\Framework\\Event\\Observer $observer\n     * @return void\n     *\/",63],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","execute",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Event",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Observer",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$observer",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!","(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_persistentSession",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","isPersistent",71],"(",")",["T_WHITESPACE"," ",71],["T_BOOLEAN_AND","&&",71],["T_WHITESPACE"," ",71],"!",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_customerSession",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","isLoggedIn",71],"(",")",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_RETURN","return",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_DOC_COMMENT","\/** @var $controllerAction \\Magento\\Checkout\\Controller\\Express\\RedirectLoginInterface*\/",75],["T_WHITESPACE","\n        ",75],["T_VARIABLE","$controllerAction",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$observer",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getEvent",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getControllerAction",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$controllerAction",77],["T_WHITESPACE"," ",77],["T_BOOLEAN_OR","||",77],["T_WHITESPACE","\n            ",77],"!",["T_VARIABLE","$controllerAction",78],["T_WHITESPACE"," ",78],["T_INSTANCEOF","instanceof",78],["T_WHITESPACE"," ",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Checkout",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Controller",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Express",78],["T_NS_SEPARATOR","\\",78],["T_STRING","RedirectLoginInterface",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_OR","||",78],["T_WHITESPACE","\n            ",78],["T_VARIABLE","$controllerAction",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getRedirectActionName",79],"(",")",["T_WHITESPACE"," ",79],["T_IS_NOT_EQUAL","!=",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$controllerAction",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getRequest",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getActionName",79],"(",")",["T_WHITESPACE","\n        ",79],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_RETURN","return",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","messageManager",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","addNotice",84],"(",["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'To check out, please sign in using your email address.'",84],")",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$customerBeforeAuthUrl",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_url",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getUrl",85],"(",["T_CONSTANT_ENCAPSED_STRING","'persistent\/index\/expressCheckout'",85],")",";",["T_WHITESPACE","\n\n        ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_expressRedirectHelper",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","redirectLogin",87],"(",["T_VARIABLE","$controllerAction",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$customerBeforeAuthUrl",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n",88],"}",["T_WHITESPACE","\n",89]]