[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Bundle",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Pricing",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Price",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Bundle",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Price",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Pricing",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Price",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","CatalogPrice",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ManagerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Pricing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adjustment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CalculatorInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Pricing",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Amount",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AmountInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Pricing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SaleableInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Pricing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Price",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractPrice",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Bundle option price\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","BundleSelectionPrice",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","AbstractPrice",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * Price model code\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","PRICE_CODE",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'bundle_selection'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$bundleProduct",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Event manager\n     *\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$eventManager",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var DiscountCalculator\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$discountCalculator",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$useRegularPrice",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var Product\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$selection",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Code of parent adjustment to be skipped from calculation\n     *\n     * @var string\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$excludeAdjustment",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","null",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @param Product $saleableItem\n     * @param float $quantity\n     * @param CalculatorInterface $calculator\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param SaleableInterface $bundleProduct\n     * @param ManagerInterface $eventManager\n     * @param DiscountCalculator $discountCalculator\n     * @param bool $useRegularPrice\n     * @param array $excludeAdjustment\n     *\/",62],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",["T_WHITESPACE","\n        ",73],["T_STRING","Product",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$saleableItem",74],",",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$quantity",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","CalculatorInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$calculator",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Pricing",77],["T_NS_SEPARATOR","\\",77],["T_STRING","PriceCurrencyInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$priceCurrency",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","SaleableInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$bundleProduct",78],",",["T_WHITESPACE","\n        ",78],["T_STRING","ManagerInterface",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$eventManager",79],",",["T_WHITESPACE","\n        ",79],["T_STRING","DiscountCalculator",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$discountCalculator",80],",",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$useRegularPrice",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","false",81],",",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$excludeAdjustment",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","null",82],["T_WHITESPACE","\n    ",82],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_STRING","parent",84],["T_DOUBLE_COLON","::",84],["T_STRING","__construct",84],"(",["T_VARIABLE","$saleableItem",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$quantity",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$calculator",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$priceCurrency",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","bundleProduct",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$bundleProduct",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","eventManager",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$eventManager",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","discountCalculator",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$discountCalculator",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","useRegularPrice",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$useRegularPrice",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","selection",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$saleableItem",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","excludeAdjustment",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$excludeAdjustment",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Get the price value for one of selection product\n     *\n     * @return bool|float\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getValue",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_STRING","null",100],["T_WHITESPACE"," ",100],["T_IS_NOT_IDENTICAL","!==",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","value",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","value",101],";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$product",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","selection",103],";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$bundleSelectionKey",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'bundle-selection-value-'",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$product",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getSelectionId",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$product",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","hasData",105],"(",["T_VARIABLE","$bundleSelectionKey",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$product",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getData",106],"(",["T_VARIABLE","$bundleSelectionKey",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$priceCode",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","useRegularPrice",109],["T_WHITESPACE"," ",109],"?",["T_WHITESPACE"," ",109],["T_STRING","BundleRegularPrice",109],["T_DOUBLE_COLON","::",109],["T_STRING","PRICE_CODE",109],["T_WHITESPACE"," ",109],":",["T_WHITESPACE"," ",109],["T_STRING","FinalPrice",109],["T_DOUBLE_COLON","::",109],["T_STRING","PRICE_CODE",109],";",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","bundleProduct",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getPriceType",110],"(",")",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_STRING","Price",110],["T_DOUBLE_COLON","::",110],["T_STRING","PRICE_TYPE_DYNAMIC",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_COMMENT","\/\/ just return whatever the product's value is\n",111],["T_WHITESPACE","            ",112],["T_VARIABLE","$value",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","priceInfo",112],["T_WHITESPACE","\n                ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","getPrice",113],"(",["T_VARIABLE","$priceCode",113],")",["T_WHITESPACE","\n                ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","getValue",114],"(",")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE"," ",115],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_COMMENT","\/\/ don't multiply by quantity.  Instead just keep as quantity = 1\n",116],["T_WHITESPACE","            ",117],["T_VARIABLE","$selectionPriceValue",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","selection",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getSelectionPriceValue",117],"(",")",";",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","product",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getSelectionPriceType",118],"(",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_COMMENT","\/\/ calculate price for selection type percent\n",119],["T_WHITESPACE","                ",120],["T_VARIABLE","$price",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","bundleProduct",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getPriceInfo",120],"(",")",["T_WHITESPACE","\n                    ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","getPrice",121],"(",["T_STRING","CatalogPrice",121],["T_NS_SEPARATOR","\\",121],["T_STRING","RegularPrice",121],["T_DOUBLE_COLON","::",121],["T_STRING","PRICE_CODE",121],")",["T_WHITESPACE","\n                    ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","getValue",122],"(",")",";",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$product",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CLONE","clone",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","bundleProduct",123],";",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$product",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","setFinalPrice",124],"(",["T_VARIABLE","$price",124],")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","eventManager",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","dispatch",125],"(",["T_WHITESPACE","\n                    ",125],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_get_final_price'",126],",",["T_WHITESPACE","\n                    ",126],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$product",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'qty'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","bundleProduct",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getQty",127],"(",")","]",["T_WHITESPACE","\n                ",127],")",";",["T_WHITESPACE","\n                ",128],["T_VARIABLE","$value",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$product",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getData",129],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",129],")",["T_WHITESPACE"," ",129],"*",["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$selectionPriceValue",129],["T_WHITESPACE"," ",129],"\/",["T_WHITESPACE"," ",129],["T_LNUMBER","100",129],")",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_COMMENT","\/\/ calculate price for selection type fixed\n",131],["T_WHITESPACE","                ",132],["T_VARIABLE","$value",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","priceCurrency",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","convert",132],"(",["T_VARIABLE","$selectionPriceValue",132],")",";",["T_WHITESPACE","\n            ",132],"}",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","useRegularPrice",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$value",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","discountCalculator",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","calculateDiscount",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","bundleProduct",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","value",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","priceCurrency",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","round",138],"(",["T_VARIABLE","$value",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$product",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setData",139],"(",["T_VARIABLE","$bundleSelectionKey",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","value",139],")",";",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","value",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Get Price Amount object\n     *\n     * @return AmountInterface\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getAmount",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$product",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","selection",150],";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$bundleSelectionKey",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'bundle-selection-amount-'",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$product",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getSelectionId",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$product",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","hasData",152],"(",["T_VARIABLE","$bundleSelectionKey",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$product",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getData",153],"(",["T_VARIABLE","$bundleSelectionKey",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$value",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getValue",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_ISSET","isset",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","amount",156],"[",["T_VARIABLE","$value",156],"]",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$exclude",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","null",157],";",["T_WHITESPACE","\n            ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getProduct",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getTypeId",158],"(",")",["T_WHITESPACE"," ",158],["T_IS_EQUAL","==",158],["T_WHITESPACE"," ",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Catalog",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Model",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Product",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Type",158],["T_DOUBLE_COLON","::",158],["T_STRING","TYPE_BUNDLE",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$exclude",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","excludeAdjustment",159],";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","amount",161],"[",["T_VARIABLE","$value",161],"]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","calculator",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getAmount",161],"(",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$value",162],",",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getProduct",163],"(",")",",",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$exclude",164],["T_WHITESPACE","\n            ",164],")",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$product",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setData",166],"(",["T_VARIABLE","$bundleSelectionKey",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","amount",166],"[",["T_VARIABLE","$value",166],"]",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","amount",168],"[",["T_VARIABLE","$value",168],"]",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * @return SaleableInterface\n     *\/",171],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getProduct",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","bundleProduct",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getPriceType",176],"(",")",["T_WHITESPACE"," ",176],["T_IS_EQUAL","==",176],["T_WHITESPACE"," ",176],["T_STRING","Price",176],["T_DOUBLE_COLON","::",176],["T_STRING","PRICE_TYPE_DYNAMIC",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_STRING","parent",177],["T_DOUBLE_COLON","::",177],["T_STRING","getProduct",177],"(",")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE"," ",178],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","bundleProduct",179],";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n",181],"}",["T_WHITESPACE","\n",182]]