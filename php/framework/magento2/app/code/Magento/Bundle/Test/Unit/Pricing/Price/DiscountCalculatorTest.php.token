[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bundle",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Pricing",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Price",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class DiscountCalculatorTest\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","DiscountCalculatorTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Bundle\\Pricing\\Price\\DiscountCalculator\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$calculator",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$productMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Pricing\\PriceInfo\\Base |\\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$priceInfoMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Pricing\\Price\\FinalPrice|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$finalPriceMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Bundle\\Pricing\\Price\\DiscountProviderInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$priceMock",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Test setUp\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","setUp",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","productMock",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMock",46],"(",["T_WHITESPACE","\r\n            ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Catalog",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Product",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],",",["T_WHITESPACE","\n            ",47],"[","]",",",["T_WHITESPACE","\n            ",48],"[","]",",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE","\n            ",50],["T_STRING","false",51],["T_WHITESPACE","\n        ",51],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","priceInfoMock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMock",53],"(",["T_WHITESPACE","\r\n            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Pricing",54],["T_NS_SEPARATOR","\\",54],["T_STRING","PriceInfo",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Base",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],",",["T_WHITESPACE","\n            ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'getPrice'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'getPrices'",55],"]",",",["T_WHITESPACE","\n            ",55],"[","]",",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","''",57],",",["T_WHITESPACE","\n            ",57],["T_STRING","false",58],["T_WHITESPACE","\n        ",58],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","finalPriceMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",["T_WHITESPACE","\r\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Catalog",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Pricing",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Price",61],["T_NS_SEPARATOR","\\",61],["T_STRING","FinalPrice",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],",",["T_WHITESPACE","\n            ",61],"[","]",",",["T_WHITESPACE","\n            ",62],"[","]",",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","''",64],",",["T_WHITESPACE","\n            ",64],["T_STRING","false",65],["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","priceMock",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockForAbstractClass",67],"(",["T_WHITESPACE","\r\n            ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Bundle",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Pricing",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Price",68],["T_NS_SEPARATOR","\\",68],["T_STRING","DiscountProviderInterface",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],["T_WHITESPACE","\r\n        ",68],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","calculator",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Bundle",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Pricing",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Price",70],["T_NS_SEPARATOR","\\",70],["T_STRING","DiscountCalculator",70],"(",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Returns price mock with specified %\n     *\n     * @param int $value\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","getPriceMock",79],"(",["T_VARIABLE","$value",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$price",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CLONE","clone",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","priceMock",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$price",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","exactly",82],"(",["T_LNUMBER","3",82],")",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getDiscountPercent'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","will",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","returnValue",84],"(",["T_VARIABLE","$value",84],")",")",";",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$price",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * test method calculateDiscount with default price amount\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","testCalculateDiscountWithDefaultAmount",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","productMock",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","exactly",93],"(",["T_LNUMBER","2",93],")",")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","method",94],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceInfo'",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","will",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","returnValue",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","priceInfoMock",95],")",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","priceInfoMock",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","expects",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","once",96],"(",")",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","method",97],"(",["T_CONSTANT_ENCAPSED_STRING","'getPrice'",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","with",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","equalTo",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Catalog",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Pricing",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Price",98],["T_NS_SEPARATOR","\\",98],["T_STRING","FinalPrice",98],["T_DOUBLE_COLON","::",98],["T_STRING","PRICE_CODE",98],")",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","will",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","returnValue",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","finalPriceMock",99],")",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","finalPriceMock",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","once",100],"(",")",")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","will",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","returnValue",102],"(",["T_LNUMBER","100",102],")",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","priceInfoMock",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","expects",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","once",103],"(",")",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","method",104],"(",["T_CONSTANT_ENCAPSED_STRING","'getPrices'",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","will",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","returnValue",105],"(",["T_WHITESPACE","\n                ",105],"[",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getPriceMock",107],"(",["T_LNUMBER","30",107],")",",",["T_WHITESPACE","\n                    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getPriceMock",108],"(",["T_LNUMBER","20",108],")",",",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getPriceMock",109],"(",["T_LNUMBER","40",109],")",",",["T_WHITESPACE","\n                ",109],"]",["T_WHITESPACE","\n            ",110],")",["T_WHITESPACE","\n        ",111],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEquals",113],"(",["T_LNUMBER","20",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","calculator",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","calculateDiscount",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","productMock",113],")",")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * test method calculateDiscount with custom price amount\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testCalculateDiscountWithCustomAmount",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","productMock",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","once",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceInfo'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","will",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","returnValue",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","priceInfoMock",123],")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","priceInfoMock",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","once",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'getPrices'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","will",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","returnValue",126],"(",["T_WHITESPACE","\n                    ",126],"[",["T_WHITESPACE","\n                        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getPriceMock",128],"(",["T_LNUMBER","30",128],")",",",["T_WHITESPACE","\n                        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getPriceMock",129],"(",["T_LNUMBER","20",129],")",",",["T_WHITESPACE","\n                        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getPriceMock",130],"(",["T_LNUMBER","40",130],")",",",["T_WHITESPACE","\n                    ",130],"]",["T_WHITESPACE","\n                ",131],")",["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_LNUMBER","10",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","calculator",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","calculateDiscount",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","productMock",134],",",["T_WHITESPACE"," ",134],["T_LNUMBER","50",134],")",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n",135],"}",["T_WHITESPACE","\n",136]]