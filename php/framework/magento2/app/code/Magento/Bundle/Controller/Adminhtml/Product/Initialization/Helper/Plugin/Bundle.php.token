[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Bundle",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Initialization",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Bundle",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","OptionInterfaceFactory",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","OptionFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bundle",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LinkInterfaceFactory",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","LinkFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ProductCustomOptionInterfaceFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ProductRepositoryInterface",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","ProductRepository",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Store",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","StoreManagerInterface",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","StoreManager",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RequestInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class Bundle\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",15],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","Bundle",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var ProductCustomOptionInterfaceFactory\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$customOptionFactory",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var RequestInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$request",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var OptionFactory\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$optionFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var LinkFactory\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$linkFactory",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var ProductRepository\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$productRepository",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var StoreManager\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$storeManager",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param RequestInterface $request\n     * @param OptionFactory $optionFactory\n     * @param LinkFactory $linkFactory\n     * @param ProductRepository $productRepository\n     * @param StoreManager $storeManager\n     * @param ProductCustomOptionInterfaceFactory $customOptionFactory\n     *\/",51],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","__construct",59],"(",["T_WHITESPACE","\n        ",59],["T_STRING","RequestInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$request",60],",",["T_WHITESPACE","\n        ",60],["T_STRING","OptionFactory",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$optionFactory",61],",",["T_WHITESPACE","\n        ",61],["T_STRING","LinkFactory",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$linkFactory",62],",",["T_WHITESPACE","\n        ",62],["T_STRING","ProductRepository",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$productRepository",63],",",["T_WHITESPACE","\n        ",63],["T_STRING","StoreManager",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$storeManager",64],",",["T_WHITESPACE","\n        ",64],["T_STRING","ProductCustomOptionInterfaceFactory",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$customOptionFactory",65],["T_WHITESPACE","\n    ",65],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","request",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$request",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","optionFactory",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$optionFactory",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","linkFactory",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$linkFactory",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","productRepository",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$productRepository",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","storeManager",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$storeManager",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","customOptionFactory",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$customOptionFactory",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Setting Bundle Items Data to product for further processing\n     *\n     * @param \\Magento\\Catalog\\Controller\\Adminhtml\\Product\\Initialization\\Helper $subject\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     *\n     * @return \\Magento\\Catalog\\Model\\Product\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",75],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","afterInitialize",86],"(",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Catalog",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Controller",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Adminhtml",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Product",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Initialization",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Helper",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$subject",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Catalog",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Product",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$product",88],["T_WHITESPACE","\n    ",88],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$compositeReadonly",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$product",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getCompositeReadonly",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$result",91],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$result",91],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_ISSET","isset",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","request",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getPost",92],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",92],")","[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","request",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getPost",93],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",93],")","[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",93],"]",["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$key",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$option",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_EMPTY","empty",94],"(",["T_VARIABLE","$option",94],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                    ",94],["T_CONTINUE","continue",95],";",["T_WHITESPACE","\n                ",95],"}",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$result",97],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",97],"]","[",["T_VARIABLE","$key",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$option",97],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",97],"]",";",["T_WHITESPACE","\n                ",97],["T_UNSET","unset",98],"(",["T_VARIABLE","$option",98],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",98],"]",")",";",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$result",99],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",99],"]","[",["T_VARIABLE","$key",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$option",99],";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$result",101],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",101],"]",["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],"!",["T_VARIABLE","$compositeReadonly",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$product",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setBundleSelectionsData",102],"(",["T_VARIABLE","$result",102],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",102],"]",")",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n\n            ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$result",105],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",105],"]",["T_WHITESPACE"," ",105],["T_BOOLEAN_AND","&&",105],["T_WHITESPACE"," ",105],"!",["T_VARIABLE","$compositeReadonly",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$product",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setBundleOptionsData",106],"(",["T_VARIABLE","$result",106],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",106],"]",")",";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","processBundleOptionsData",108],"(",["T_VARIABLE","$product",108],")",";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","processDynamicOptionsData",109],"(",["T_VARIABLE","$product",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$affectProductSelections",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_BOOL_CAST","(bool)",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","request",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getPost",112],"(",["T_CONSTANT_ENCAPSED_STRING","'affect_bundle_product_selections'",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$product",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setCanSaveBundleSelections",113],"(",["T_VARIABLE","$affectProductSelections",113],["T_WHITESPACE"," ",113],["T_BOOLEAN_AND","&&",113],["T_WHITESPACE"," ",113],"!",["T_VARIABLE","$compositeReadonly",113],")",";",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$product",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","processBundleOptionsData",122],"(",["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Catalog",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Model",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Product",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$product",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$bundleOptionsData",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$product",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getBundleOptionsData",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_VARIABLE","$bundleOptionsData",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$options",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[","]",";",["T_WHITESPACE","\n        ",128],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$bundleOptionsData",129],["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$key",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$optionData",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_BOOL_CAST","(bool)",130],["T_VARIABLE","$optionData",130],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",130],"]",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_CONTINUE","continue",131],";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n\n            ",132],["T_VARIABLE","$option",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","optionFactory",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","create",134],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$optionData",134],"]",")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$option",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setSku",135],"(",["T_VARIABLE","$product",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getSku",135],"(",")",")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$option",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setOptionId",136],"(",["T_STRING","null",136],")",";",["T_WHITESPACE","\n\n            ",136],["T_VARIABLE","$links",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"[","]",";",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$bundleLinks",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$product",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getBundleSelectionsData",139],"(",")",";",["T_WHITESPACE","\n            ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_EMPTY","empty",140],"(",["T_VARIABLE","$bundleLinks",140],"[",["T_VARIABLE","$key",140],"]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_CONTINUE","continue",141],";",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n\n            ",142],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$bundleLinks",144],"[",["T_VARIABLE","$key",144],"]",["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$linkData",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_BOOL_CAST","(bool)",145],["T_VARIABLE","$linkData",145],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",145],"]",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                    ",145],["T_CONTINUE","continue",146],";",["T_WHITESPACE","\n                ",146],"}",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$link",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","linkFactory",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","create",148],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$linkData",148],"]",")",";",["T_WHITESPACE","\n\n                ",148],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_INT_CAST","(int)",150],["T_VARIABLE","$product",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getPriceType",150],"(",")",["T_WHITESPACE"," ",150],["T_IS_NOT_IDENTICAL","!==",150],["T_WHITESPACE"," ",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Bundle",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Model",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Product",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Price",150],["T_DOUBLE_COLON","::",150],["T_STRING","PRICE_TYPE_DYNAMIC",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                    ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_STRING","array_key_exists",151],"(",["T_CONSTANT_ENCAPSED_STRING","'selection_price_value'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$linkData",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                        ",151],["T_VARIABLE","$link",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setPrice",152],"(",["T_VARIABLE","$linkData",152],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_price_value'",152],"]",")",";",["T_WHITESPACE","\n                    ",152],"}",["T_WHITESPACE","\n                    ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_STRING","array_key_exists",154],"(",["T_CONSTANT_ENCAPSED_STRING","'selection_price_type'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$linkData",154],")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                        ",154],["T_VARIABLE","$link",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setPriceType",155],"(",["T_VARIABLE","$linkData",155],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_price_type'",155],"]",")",";",["T_WHITESPACE","\n                    ",155],"}",["T_WHITESPACE","\n                ",156],"}",["T_WHITESPACE","\n\n                ",157],["T_VARIABLE","$linkProduct",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","productRepository",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getById",159],"(",["T_VARIABLE","$linkData",159],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",159],"]",")",";",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$link",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setSku",160],"(",["T_VARIABLE","$linkProduct",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getSku",160],"(",")",")",";",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$link",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setQty",161],"(",["T_VARIABLE","$linkData",161],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_qty'",161],"]",")",";",["T_WHITESPACE","\n\n                ",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_STRING","array_key_exists",163],"(",["T_CONSTANT_ENCAPSED_STRING","'selection_can_change_qty'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$linkData",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                    ",163],["T_VARIABLE","$link",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setCanChangeQuantity",164],"(",["T_VARIABLE","$linkData",164],"[",["T_CONSTANT_ENCAPSED_STRING","'selection_can_change_qty'",164],"]",")",";",["T_WHITESPACE","\n                ",164],"}",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$links",166],"[","]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$link",166],";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$option",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setProductLinks",168],"(",["T_VARIABLE","$links",168],")",";",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$options",169],"[","]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$option",169],";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$extension",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$product",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getExtensionAttributes",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$extension",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setBundleProductOptions",173],"(",["T_VARIABLE","$options",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$product",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setExtensionAttributes",174],"(",["T_VARIABLE","$extension",174],")",";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     *\/",178],["T_WHITESPACE","\n    ",181],["T_PROTECTED","protected",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","processDynamicOptionsData",182],"(",["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Catalog",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Model",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Product",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$product",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_INT_CAST","(int)",184],["T_VARIABLE","$product",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getPriceType",184],"(",")",["T_WHITESPACE"," ",184],["T_IS_NOT_IDENTICAL","!==",184],["T_WHITESPACE"," ",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Bundle",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Model",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Product",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Price",184],["T_DOUBLE_COLON","::",184],["T_STRING","PRICE_TYPE_DYNAMIC",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_RETURN","return",185],";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$product",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getOptionsReadonly",188],"(",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_RETURN","return",189],";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$product",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setCanSaveCustomOptions",191],"(",["T_STRING","true",191],")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$customOptions",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$product",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getProductOptions",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_VARIABLE","$customOptions",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_RETURN","return",194],";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_STRING","array_keys",196],"(",["T_VARIABLE","$customOptions",196],")",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$key",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$customOptions",197],"[",["T_VARIABLE","$key",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",197],"]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_LNUMBER","1",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$newOptions",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$product",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getOptions",199],"(",")",";",["T_WHITESPACE","\n        ",199],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$customOptions",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$customOptionData",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_BOOL_CAST","(bool)",201],["T_VARIABLE","$customOptionData",201],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",201],"]",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_CONTINUE","continue",202],";",["T_WHITESPACE","\n            ",202],"}",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$customOption",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","customOptionFactory",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","create",204],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$customOptionData",204],"]",")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$customOption",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","setProductSku",205],"(",["T_VARIABLE","$product",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getSku",205],"(",")",")",";",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$customOption",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setOptionId",206],"(",["T_STRING","null",206],")",";",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$newOptions",207],"[","]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$customOption",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$product",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","setOptions",209],"(",["T_VARIABLE","$newOptions",209],")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n",210],"}",["T_WHITESPACE","\n",211]]