[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ProductVideo",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gallery",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductVideo",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Attribute",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Media",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ExternalVideoEntryConverter",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ProductVideo",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InstallSchema",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Plugin for catalog product gallery read handler.\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ReadHandler",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","AbstractHandler",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product\\Gallery\\ReadHandler $mediaGalleryReadHandler\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","afterExecute",21],"(",["T_WHITESPACE","\n        ",21],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Catalog",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Product",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Gallery",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ReadHandler",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$mediaGalleryReadHandler",22],",",["T_WHITESPACE","\n        ",22],["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Catalog",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Product",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$product",23],["T_WHITESPACE","\n    ",23],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$mediaCollection",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getMediaEntriesDataCollection",25],"(",["T_WHITESPACE","\n            ",25],["T_VARIABLE","$product",26],",",["T_WHITESPACE","\n            ",26],["T_VARIABLE","$mediaGalleryReadHandler",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getAttribute",27],"(",")",["T_WHITESPACE","\n        ",27],")",";",["T_WHITESPACE","\n\n        ",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_EMPTY","empty",30],"(",["T_VARIABLE","$mediaCollection",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n            ",30],["T_RETURN","return",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$product",31],";",["T_WHITESPACE","\n        ",31],"}",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$ids",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","collectVideoEntriesIds",34],"(",["T_VARIABLE","$mediaCollection",34],")",";",["T_WHITESPACE","\n\n        ",34],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_EMPTY","empty",36],"(",["T_VARIABLE","$ids",36],")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n            ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$product",37],";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$videoDataCollection",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","loadVideoDataById",40],"(",["T_VARIABLE","$ids",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$product",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getStoreId",40],"(",")",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$mediaEntriesDataCollection",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","addVideoDataToMediaEntries",41],"(",["T_VARIABLE","$mediaCollection",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$videoDataCollection",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$product",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setData",43],"(",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$mediaGalleryReadHandler",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getAttribute",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getAttributeCode",44],"(",")",",",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$mediaEntriesDataCollection",45],["T_WHITESPACE","\n        ",45],")",";",["T_WHITESPACE","\n\n        ",46],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$product",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param array $mediaCollection\n     * @return array\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","collectVideoEntriesIds",55],"(",["T_ARRAY","array",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$mediaCollection",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$ids",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[","]",";",["T_WHITESPACE","\n        ",57],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$mediaCollection",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$item",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$item",59],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",59],"]",["T_WHITESPACE"," ",59],["T_IS_EQUAL","==",59],["T_WHITESPACE"," ",59],["T_STRING","ExternalVideoEntryConverter",59],["T_DOUBLE_COLON","::",59],["T_STRING","MEDIA_TYPE_CODE",59],["T_WHITESPACE","\n                ",59],["T_BOOLEAN_AND","&&",60],["T_WHITESPACE"," ",60],"!",["T_STRING","array_key_exists",60],"(",["T_CONSTANT_ENCAPSED_STRING","'video_url'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$item",60],")",["T_WHITESPACE","\n            ",60],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$ids",62],"[","]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$item",62],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",62],"]",";",["T_WHITESPACE","\n            ",62],"}",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$ids",65],";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @param array $ids\n     * @param int $storeId\n     * @return array\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","loadVideoDataById",73],"(",["T_ARRAY","array",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$ids",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$storeId",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$mainTableAlias",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","resourceModel",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMainTableAlias",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$joinConditions",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$mainTableAlias",76],".",["T_CONSTANT_ENCAPSED_STRING","'.value_id = store_value.value_id'",76],";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_STRING","null",77],["T_WHITESPACE"," ",77],["T_IS_NOT_IDENTICAL","!==",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$storeId",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$joinConditions",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","implode",78],"(",["T_WHITESPACE","\n                ",78],["T_CONSTANT_ENCAPSED_STRING","' AND '",79],",",["T_WHITESPACE","\n                ",79],"[",["T_WHITESPACE","\n                    ",80],["T_VARIABLE","$joinConditions",81],",",["T_WHITESPACE","\n                    ",81],["T_CONSTANT_ENCAPSED_STRING","'store_value.store_id = '",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$storeId",82],["T_WHITESPACE","\n                ",82],"]",["T_WHITESPACE","\n            ",83],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$joinTable",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n            ",86],"[",["T_WHITESPACE","\n                ",87],"[",["T_CONSTANT_ENCAPSED_STRING","'store_value'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","resourceModel",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getTable",88],"(",["T_STRING","InstallSchema",88],["T_DOUBLE_COLON","::",88],["T_STRING","GALLERY_VALUE_VIDEO_TABLE",88],")","]",",",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$joinConditions",89],",",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getVideoProperties",90],"(",")",["T_WHITESPACE","\n            ",90],"]",["T_WHITESPACE","\n        ",91],"]",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$result",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","resourceModel",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","loadDataFromTableByValueId",93],"(",["T_WHITESPACE","\n            ",93],["T_STRING","InstallSchema",94],["T_DOUBLE_COLON","::",94],["T_STRING","GALLERY_VALUE_VIDEO_TABLE",94],",",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$ids",95],",",["T_WHITESPACE","\n            ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Store",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Model",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Store",96],["T_DOUBLE_COLON","::",96],["T_STRING","DEFAULT_STORE_ID",96],",",["T_WHITESPACE","\n            ",96],"[",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'value_id'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'value_id'",98],",",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'video_provider_default'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'provider'",99],",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'video_url_default'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'url'",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'video_title_default'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'title'",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'video_description_default'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'description'",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'video_metadata_default'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'metadata'",103],["T_WHITESPACE","\n            ",103],"]",",",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$joinTable",105],["T_WHITESPACE","\n        ",105],")",";",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$result",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],"&",["T_VARIABLE","$item",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$item",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","substituteNullsWithDefaultValues",108],"(",["T_VARIABLE","$item",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$result",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @param array $mediaCollection\n     * @param array $data\n     * @return array\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","addVideoDataToMediaEntries",119],"(",["T_ARRAY","array",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$mediaCollection",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$data",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$data",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","createIndexedCollection",121],"(",["T_VARIABLE","$data",121],")",";",["T_WHITESPACE","\n        ",121],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$mediaCollection",122],["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],"&",["T_VARIABLE","$mediaItem",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","array_key_exists",123],"(",["T_VARIABLE","$mediaItem",123],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",123],"]",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$data",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$mediaItem",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","array_merge",124],"(",["T_VARIABLE","$mediaItem",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$data",124],"[",["T_VARIABLE","$mediaItem",124],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",124],"]","]",")",";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_RETURN","return",128],["T_WHITESPACE"," ",128],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$mediaCollection",128],"]",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * @param array $rowData\n     * @return mixed\n     *\/",131],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","substituteNullsWithDefaultValues",135],"(",["T_ARRAY","array",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$rowData",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_FOREACH","foreach",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getVideoProperties",137],"(",["T_STRING","false",137],")",["T_WHITESPACE"," ",137],["T_AS","as",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$key",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_EMPTY","empty",138],"(",["T_VARIABLE","$rowData",138],"[",["T_VARIABLE","$key",138],"]",")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],"!",["T_EMPTY","empty",138],"(",["T_VARIABLE","$rowData",138],"[",["T_VARIABLE","$key",138],".",["T_CONSTANT_ENCAPSED_STRING","'_default'",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$rowData",139],"[",["T_VARIABLE","$key",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$rowData",139],"[",["T_VARIABLE","$key",139],".",["T_CONSTANT_ENCAPSED_STRING","'_default'",139],"]",";",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n            ",140],["T_UNSET","unset",141],"(",["T_VARIABLE","$rowData",141],"[",["T_VARIABLE","$key",141],".",["T_CONSTANT_ENCAPSED_STRING","'_default'",141],"]",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$rowData",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * @param bool $withDbMapping\n     * @return array\n     *\/",147],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getVideoProperties",151],"(",["T_VARIABLE","$withDbMapping",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","true",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$properties",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","videoPropertiesDbMapping",153],";",["T_WHITESPACE","\n        ",153],["T_UNSET","unset",154],"(",["T_VARIABLE","$properties",154],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",154],"]",")",";",["T_WHITESPACE","\n        ",154],["T_UNSET","unset",155],"(",["T_VARIABLE","$properties",155],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",155],"]",")",";",["T_WHITESPACE","\n\n        ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$withDbMapping",157],["T_WHITESPACE"," ",157],"?",["T_WHITESPACE"," ",157],["T_VARIABLE","$properties",157],["T_WHITESPACE"," ",157],":",["T_WHITESPACE"," ",157],["T_STRING","array_keys",157],"(",["T_VARIABLE","$properties",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * @param array $mediaEntriesCollection\n     * @param string $indexKey\n     * @return array\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","createIndexedCollection",165],"(",["T_ARRAY","array",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$mediaEntriesCollection",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$indexKey",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'value_id'",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$indexedCollection",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],"[","]",";",["T_WHITESPACE","\n        ",167],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$mediaEntriesCollection",168],["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$item",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$id",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$item",169],"[",["T_VARIABLE","$indexKey",169],"]",";",["T_WHITESPACE","\n            ",169],["T_UNSET","unset",170],"(",["T_VARIABLE","$item",170],"[",["T_VARIABLE","$indexKey",170],"]",")",";",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$indexedCollection",171],"[",["T_VARIABLE","$id",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$item",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$indexedCollection",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n",175],"}",["T_WHITESPACE","\n",176]]