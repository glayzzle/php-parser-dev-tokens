[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\CustomerImportExport\\Model\\Import\\Customer\n *\/",9],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CustomerImportExport",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Unit",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Import",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CustomerImportExport",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Import",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Customer",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","CustomerTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Customer entity import model\n     *\n     * @var Customer|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_model",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Available behaviours\n     *\n     * @var array\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_availableBehaviors",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","ImportExport",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Import",31],["T_DOUBLE_COLON","::",31],["T_STRING","BEHAVIOR_ADD_UPDATE",31],",",["T_WHITESPACE","\n        ",31],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","ImportExport",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Import",32],["T_DOUBLE_COLON","::",32],["T_STRING","BEHAVIOR_DELETE",32],",",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","ImportExport",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Import",33],["T_DOUBLE_COLON","::",33],["T_STRING","BEHAVIOR_CUSTOM",33],",",["T_WHITESPACE","\n    ",33],"]",";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Custom behavior input rows\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_inputRows",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'create'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_WHITESPACE","\n            ",42],["T_STRING","Customer",43],["T_DOUBLE_COLON","::",43],["T_STRING","COLUMN_ACTION",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'create'",43],",",["T_WHITESPACE","\n            ",43],["T_STRING","Customer",44],["T_DOUBLE_COLON","::",44],["T_STRING","COLUMN_EMAIL",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'create@email.com'",44],",",["T_WHITESPACE","\n            ",44],["T_STRING","Customer",45],["T_DOUBLE_COLON","::",45],["T_STRING","COLUMN_WEBSITE",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'website1'",45],",",["T_WHITESPACE","\n        ",45],"]",",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'update'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n            ",47],["T_STRING","Customer",48],["T_DOUBLE_COLON","::",48],["T_STRING","COLUMN_ACTION",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'update'",48],",",["T_WHITESPACE","\n            ",48],["T_STRING","Customer",49],["T_DOUBLE_COLON","::",49],["T_STRING","COLUMN_EMAIL",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'update@email.com'",49],",",["T_WHITESPACE","\n            ",49],["T_STRING","Customer",50],["T_DOUBLE_COLON","::",50],["T_STRING","COLUMN_WEBSITE",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'website1'",50],",",["T_WHITESPACE","\n        ",50],"]",",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'delete'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n            ",52],["T_STRING","Customer",53],["T_DOUBLE_COLON","::",53],["T_STRING","COLUMN_ACTION",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","Customer",53],["T_DOUBLE_COLON","::",53],["T_STRING","COLUMN_ACTION_VALUE_DELETE",53],",",["T_WHITESPACE","\n            ",53],["T_STRING","Customer",54],["T_DOUBLE_COLON","::",54],["T_STRING","COLUMN_EMAIL",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'delete@email.com'",54],",",["T_WHITESPACE","\n            ",54],["T_STRING","Customer",55],["T_DOUBLE_COLON","::",55],["T_STRING","COLUMN_WEBSITE",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'website1'",55],",",["T_WHITESPACE","\n        ",55],"]",",",["T_WHITESPACE","\n    ",56],"]",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Customer ids for all custom behavior input rows\n     *\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_customerIds",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_LNUMBER","1",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'update'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_LNUMBER","2",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'delete'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_LNUMBER","3",64],"]",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Unset entity adapter model\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","tearDown",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_UNSET","unset",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_model",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","tearDown",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Create mock for import with custom behavior test\n     *\n     * @return Customer|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","_getModelMockForTestImportDataWithCustomBehaviour",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_COMMENT","\/\/ entity adapter mock\n",83],["T_WHITESPACE","        ",84],["T_VARIABLE","$modelMock",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMockBuilder",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","CustomerImportExport",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Import",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Customer",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","disableOriginalConstructor",85],"(",")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","setMethods",86],"(",["T_WHITESPACE","\n                ",86],"[",["T_WHITESPACE","\n                    ",87],["T_CONSTANT_ENCAPSED_STRING","'validateRow'",88],",",["T_WHITESPACE","\n                    ",88],["T_CONSTANT_ENCAPSED_STRING","'_getCustomerId'",89],",",["T_WHITESPACE","\n                    ",89],["T_CONSTANT_ENCAPSED_STRING","'_prepareDataForUpdate'",90],",",["T_WHITESPACE","\n                    ",90],["T_CONSTANT_ENCAPSED_STRING","'_saveCustomerEntities'",91],",",["T_WHITESPACE","\n                    ",91],["T_CONSTANT_ENCAPSED_STRING","'_saveCustomerAttributes'",92],",",["T_WHITESPACE","\n                    ",92],["T_CONSTANT_ENCAPSED_STRING","'_deleteCustomerEntities'",93],",",["T_WHITESPACE","\n                    ",93],["T_CONSTANT_ENCAPSED_STRING","'getErrorAggregator'",94],",",["T_WHITESPACE","\n                ",94],"]",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMock",96],"(",")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$errorAggregator",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",["T_WHITESPACE","\n            ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ImportExport",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Import",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ErrorProcessing",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ProcessingErrorAggregator",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],",",["T_WHITESPACE","\n            ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'hasToBeTerminated'",100],"]",",",["T_WHITESPACE","\n            ",100],"[","]",",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE","\n            ",102],["T_STRING","false",103],["T_WHITESPACE","\n        ",103],")",";",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$availableBehaviors",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_NS_SEPARATOR","\\",106],["T_STRING","ReflectionProperty",106],"(",["T_VARIABLE","$modelMock",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'_availableBehaviors'",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$availableBehaviors",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setAccessible",107],"(",["T_STRING","true",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$availableBehaviors",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setValue",108],"(",["T_VARIABLE","$modelMock",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_availableBehaviors",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_COMMENT","\/\/ mock to imitate data source model\n",110],["T_WHITESPACE","        ",111],["T_VARIABLE","$dataSourceModelMock",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMockBuilder",111],"(",["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","ImportExport",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","ResourceModel",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Import",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Data",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","disableOriginalConstructor",112],"(",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","setMethods",113],"(","[",["T_WHITESPACE","\n                    ",113],["T_CONSTANT_ENCAPSED_STRING","'getNextBunch'",114],",",["T_WHITESPACE","\n                    ",114],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",115],",",["T_WHITESPACE","\n                ",115],"]",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMock",117],"(",")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$dataSourceModelMock",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","expects",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","at",119],"(",["T_LNUMBER","0",119],")",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_CONSTANT_ENCAPSED_STRING","'getNextBunch'",120],")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","will",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","returnValue",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_inputRows",121],")",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$dataSourceModelMock",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","expects",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","at",122],"(",["T_LNUMBER","1",122],")",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","method",123],"(",["T_CONSTANT_ENCAPSED_STRING","'getNextBunch'",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","will",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","returnValue",124],"(",["T_STRING","null",124],")",")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$property",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","ReflectionProperty",126],"(",["T_WHITESPACE","\n            ",126],["T_NS_SEPARATOR","\\",127],["T_STRING","Magento",127],["T_NS_SEPARATOR","\\",127],["T_STRING","CustomerImportExport",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Model",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Import",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Customer",127],["T_DOUBLE_COLON","::",127],["T_CLASS","class",127],",",["T_WHITESPACE","\n            ",127],["T_CONSTANT_ENCAPSED_STRING","'_dataSourceModel'",128],["T_WHITESPACE","\n        ",128],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$property",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setAccessible",130],"(",["T_STRING","true",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$property",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setValue",131],"(",["T_VARIABLE","$modelMock",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$dataSourceModelMock",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$modelMock",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","any",133],"(",")",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'validateRow'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","will",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","returnValue",135],"(",["T_STRING","true",135],")",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$modelMock",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","expects",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","any",137],"(",")",")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","method",138],"(",["T_CONSTANT_ENCAPSED_STRING","'_getCustomerId'",138],")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","will",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","returnValue",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_customerIds",139],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",139],"]",")",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$modelMock",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","any",141],"(",")",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'_prepareDataForUpdate'",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","will",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","returnCallback",143],"(","[",["T_VARIABLE","$this",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'prepareForUpdateMock'",143],"]",")",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$modelMock",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","expects",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","any",145],"(",")",")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'_saveCustomerEntities'",146],")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","will",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","returnCallback",147],"(","[",["T_VARIABLE","$this",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'validateSaveCustomerEntities'",147],"]",")",")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$modelMock",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","expects",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","any",149],"(",")",")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","method",150],"(",["T_CONSTANT_ENCAPSED_STRING","'_saveCustomerAttributes'",150],")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","will",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","returnValue",151],"(",["T_VARIABLE","$modelMock",151],")",")",";",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$modelMock",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","any",153],"(",")",")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","method",154],"(",["T_CONSTANT_ENCAPSED_STRING","'_deleteCustomerEntities'",154],")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","will",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","returnCallback",155],"(","[",["T_VARIABLE","$this",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'validateDeleteCustomerEntities'",155],"]",")",")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$modelMock",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","expects",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","any",157],"(",")",")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","method",158],"(",["T_CONSTANT_ENCAPSED_STRING","'getErrorAggregator'",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","will",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","returnValue",159],"(",["T_VARIABLE","$errorAggregator",159],")",")",";",["T_WHITESPACE","\n\n        ",159],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$modelMock",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Test whether correct methods are invoked in case of custom behaviour for each row in action column\n     *\/",164],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","testImportDataWithCustomBehaviour",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_model",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_getModelMockForTestImportDataWithCustomBehaviour",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_model",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setParameters",170],"(","[",["T_CONSTANT_ENCAPSED_STRING","'behavior'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","ImportExport",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Import",170],["T_DOUBLE_COLON","::",170],["T_STRING","BEHAVIOR_CUSTOM",170],"]",")",";",["T_WHITESPACE","\n\n        ",170],["T_COMMENT","\/\/ validation in validateSaveCustomerEntities and validateDeleteCustomerEntities\n",172],["T_WHITESPACE","        ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_model",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","importData",173],"(",")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Emulate data preparing depending on value in row action column\n     *\n     * @param array $rowData\n     * @return int\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","prepareForUpdateMock",182],"(",["T_ARRAY","array",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$rowData",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$preparedResult",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],"[",["T_WHITESPACE","\n            ",184],["T_STRING","Customer",185],["T_DOUBLE_COLON","::",185],["T_STRING","ENTITIES_TO_CREATE_KEY",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],"[","]",",",["T_WHITESPACE","\n            ",185],["T_STRING","Customer",186],["T_DOUBLE_COLON","::",186],["T_STRING","ENTITIES_TO_UPDATE_KEY",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],"[","]",",",["T_WHITESPACE","\n            ",186],["T_STRING","Customer",187],["T_DOUBLE_COLON","::",187],["T_STRING","ATTRIBUTES_TO_SAVE_KEY",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],"[","]","]",",",["T_WHITESPACE","\n        ",187],"]",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$actionColumnKey",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","Customer",190],["T_DOUBLE_COLON","::",190],["T_STRING","COLUMN_ACTION",190],";",["T_WHITESPACE","\n        ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$rowData",191],"[",["T_VARIABLE","$actionColumnKey",191],"]",["T_WHITESPACE"," ",191],["T_IS_EQUAL","==",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'create'",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$preparedResult",192],"[",["T_STRING","Customer",192],["T_DOUBLE_COLON","::",192],["T_STRING","ENTITIES_TO_CREATE_KEY",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],"[",["T_WHITESPACE","\n                ",192],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_customerIds",193],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",193],"]","]",",",["T_WHITESPACE","\n            ",193],"]",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE"," ",195],["T_ELSEIF","elseif",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$rowData",195],"[",["T_VARIABLE","$actionColumnKey",195],"]",["T_WHITESPACE"," ",195],["T_IS_EQUAL","==",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'update'",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$preparedResult",196],"[",["T_STRING","Customer",196],["T_DOUBLE_COLON","::",196],["T_STRING","ENTITIES_TO_UPDATE_KEY",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"[",["T_WHITESPACE","\n                ",196],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_customerIds",197],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",197],"]","]",",",["T_WHITESPACE","\n            ",197],"]",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$preparedResult",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Validation method for _saveCustomerEntities\n     *\n     * @param array $entitiesToCreate\n     * @param array $entitiesToUpdate\n     * @return Customer|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",204],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","validateSaveCustomerEntities",211],"(",["T_ARRAY","array",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$entitiesToCreate",211],",",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$entitiesToUpdate",211],")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertCount",213],"(",["T_LNUMBER","1",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$entitiesToCreate",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEquals",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_customerIds",214],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",214],"]",",",["T_WHITESPACE"," ",214],["T_VARIABLE","$entitiesToCreate",214],"[",["T_LNUMBER","0",214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",214],"]",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertCount",215],"(",["T_LNUMBER","1",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$entitiesToUpdate",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertEquals",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_customerIds",216],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$entitiesToUpdate",216],"[",["T_LNUMBER","0",216],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",216],"]",")",";",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_model",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Validation method for _deleteCustomerEntities\n     *\n     * @param array $customerIdsToDelete\n     * @return Customer|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",220],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","validateDeleteCustomerEntities",226],"(",["T_ARRAY","array",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$customerIdsToDelete",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertCount",228],"(",["T_LNUMBER","1",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$customerIdsToDelete",228],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertEquals",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_customerIds",229],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",229],"]",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$customerIdsToDelete",229],"[",["T_LNUMBER","0",229],"]",")",";",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_model",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n",231],"}",["T_WHITESPACE","\n",232]]