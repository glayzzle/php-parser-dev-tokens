[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CustomerImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Export",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Address",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ImportExport",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Export",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractEav",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_COMMENT","\/**#@+\n     * Permanent column names\n     *\n     * Names that begins with underscore is not an attribute.\n     * This name convention is for to avoid interference with same attribute name.\n     *\/",13],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","COLUMN_EMAIL",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'_email'",19],";",["T_WHITESPACE","\n\n    ",19],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","COLUMN_WEBSITE",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'_website'",21],";",["T_WHITESPACE","\n\n    ",21],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","COLUMN_ADDRESS_ID",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'_entity_id'",23],";",["T_WHITESPACE","\n\n    ",23],["T_COMMENT","\/**#@-*\/",25],["T_WHITESPACE","\n\n    ",25],["T_COMMENT","\/**#@+\n     * Particular columns that contains of customer default addresses\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","COLUMN_NAME_DEFAULT_BILLING",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'_address_default_billing_'",30],";",["T_WHITESPACE","\n\n    ",30],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","COLUMN_NAME_DEFAULT_SHIPPING",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'_address_default_shipping_'",32],";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/**#@-*\/",34],["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/**#@+\n     * Attribute collection name\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","ATTRIBUTE_COLLECTION_NAME",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Customer",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ResourceModel",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Address",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Attribute",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Collection",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/**#@-*\/",41],["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/**#@+\n     * XML path to page size parameter\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","XML_PATH_PAGE_SIZE",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'export\/customer_page_size\/address'",46],";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/**#@-*\/",48],["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Permanent entity columns\n     *\n     * @var string[]\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_permanentAttributes",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[",["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","COLUMN_WEBSITE",55],",",["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","COLUMN_EMAIL",55],",",["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","COLUMN_ADDRESS_ID",55],"]",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Default addresses column names to appropriate customer attribute code\n     *\n     * @var array\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_STATIC","static",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_defaultAddressAttributeMapping",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n        ",62],["T_STRING","self",63],["T_DOUBLE_COLON","::",63],["T_STRING","COLUMN_NAME_DEFAULT_BILLING",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",63],",",["T_WHITESPACE","\n        ",63],["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","COLUMN_NAME_DEFAULT_SHIPPING",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",64],",",["T_WHITESPACE","\n    ",64],"]",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Customers whose addresses are exported\n     *\n     * @var \\Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_customerCollection",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Customer addresses collection\n     *\n     * @var \\Magento\\Customer\\Model\\ResourceModel\\Address\\Collection\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_addressCollection",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Customers whose address are exported\n     *\n     * @var Customer\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_customerEntity",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Existing customers information.\n     *\n     * In form of:\n     *\n     * [customer email] => array(\n     *    [website id 1] => customer_id 1,\n     *    [website id 2] => customer_id 2,\n     *           ...       =>     ...      ,\n     *    [website id n] => customer_id n,\n     * )\n     *\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_customers",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[","]",";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\ImportExport\\Model\\Export\\Factory $collectionFactory\n     * @param \\Magento\\ImportExport\\Model\\ResourceModel\\CollectionByPagesIteratorFactory $resourceColFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\Customer\\CollectionFactory $customerColFactory\n     * @param \\Magento\\CustomerImportExport\\Model\\Export\\CustomerFactory $eavCustomerFactory\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\Address\\CollectionFactory $addressColFactory\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",104],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","__construct",117],"(",["T_WHITESPACE","\n        ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","App",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Config",118],["T_NS_SEPARATOR","\\",118],["T_STRING","ScopeConfigInterface",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$scopeConfig",118],",",["T_WHITESPACE","\n        ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Store",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Model",119],["T_NS_SEPARATOR","\\",119],["T_STRING","StoreManagerInterface",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$storeManager",119],",",["T_WHITESPACE","\n        ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","ImportExport",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Model",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Export",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Factory",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$collectionFactory",120],",",["T_WHITESPACE","\n        ",120],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","ImportExport",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Model",121],["T_NS_SEPARATOR","\\",121],["T_STRING","ResourceModel",121],["T_NS_SEPARATOR","\\",121],["T_STRING","CollectionByPagesIteratorFactory",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$resourceColFactory",121],",",["T_WHITESPACE","\n        ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Stdlib",122],["T_NS_SEPARATOR","\\",122],["T_STRING","DateTime",122],["T_NS_SEPARATOR","\\",122],["T_STRING","TimezoneInterface",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$localeDate",122],",",["T_WHITESPACE","\n        ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Eav",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Model",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Config",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$eavConfig",123],",",["T_WHITESPACE","\n        ",123],["T_NS_SEPARATOR","\\",124],["T_STRING","Magento",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Customer",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Model",124],["T_NS_SEPARATOR","\\",124],["T_STRING","ResourceModel",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Customer",124],["T_NS_SEPARATOR","\\",124],["T_STRING","CollectionFactory",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$customerColFactory",124],",",["T_WHITESPACE","\n        ",124],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","CustomerImportExport",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Export",125],["T_NS_SEPARATOR","\\",125],["T_STRING","CustomerFactory",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$eavCustomerFactory",125],",",["T_WHITESPACE","\n        ",125],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Customer",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Model",126],["T_NS_SEPARATOR","\\",126],["T_STRING","ResourceModel",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Address",126],["T_NS_SEPARATOR","\\",126],["T_STRING","CollectionFactory",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$addressColFactory",126],",",["T_WHITESPACE","\n        ",126],["T_ARRAY","array",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$data",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],"[","]",["T_WHITESPACE","\n    ",127],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n        ",128],["T_STRING","parent",129],["T_DOUBLE_COLON","::",129],["T_STRING","__construct",129],"(",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$scopeConfig",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$storeManager",131],",",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$collectionFactory",132],",",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$resourceColFactory",133],",",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$localeDate",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$eavConfig",135],",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$data",136],["T_WHITESPACE","\n        ",136],")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_customerCollection",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ISSET","isset",139],"(",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$data",140],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_collection'",140],"]",["T_WHITESPACE","\n        ",140],")",["T_WHITESPACE"," ",141],"?",["T_WHITESPACE"," ",141],["T_VARIABLE","$data",141],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_collection'",141],"]",["T_WHITESPACE"," ",141],":",["T_WHITESPACE"," ",141],["T_VARIABLE","$customerColFactory",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","create",141],"(",")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_customerEntity",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_ISSET","isset",143],"(",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$data",144],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",144],"]",["T_WHITESPACE","\n        ",144],")",["T_WHITESPACE"," ",145],"?",["T_WHITESPACE"," ",145],["T_VARIABLE","$data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",145],"]",["T_WHITESPACE"," ",145],":",["T_WHITESPACE"," ",145],["T_VARIABLE","$eavCustomerFactory",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","create",145],"(",")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_addressCollection",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ISSET","isset",147],"(",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$data",148],"[",["T_CONSTANT_ENCAPSED_STRING","'address_collection'",148],"]",["T_WHITESPACE","\n        ",148],")",["T_WHITESPACE"," ",149],"?",["T_WHITESPACE"," ",149],["T_VARIABLE","$data",149],"[",["T_CONSTANT_ENCAPSED_STRING","'address_collection'",149],"]",["T_WHITESPACE"," ",149],":",["T_WHITESPACE"," ",149],["T_VARIABLE","$addressColFactory",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","create",149],"(",")",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_initWebsites",151],"(",["T_STRING","true",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setFileName",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getEntityTypeCode",152],"(",")",")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Initialize existent customers data\n     *\n     * @return $this\n     *\/",155],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","_initCustomers",160],"(",")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_EMPTY","empty",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_customers",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_COMMENT","\/\/ add customer default addresses column name to customer attribute mapping array\n",163],["T_WHITESPACE","            ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_customerCollection",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","addAttributeToSelect",164],"(",["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_VARIABLE","$_defaultAddressAttributeMapping",164],")",";",["T_WHITESPACE","\n            ",164],["T_COMMENT","\/\/ filter customer collection\n",165],["T_WHITESPACE","            ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_customerCollection",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_customerEntity",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","filterEntityCollection",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_customerCollection",166],")",";",["T_WHITESPACE","\n\n            ",166],["T_VARIABLE","$customers",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"[","]",";",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$addCustomer",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],"(",["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Customer",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Model",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Customer",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$customer",169],")",["T_WHITESPACE"," ",169],["T_USE","use",169],["T_WHITESPACE"," ",169],"(","&",["T_VARIABLE","$customers",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$customers",170],"[",["T_VARIABLE","$customer",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getId",170],"(",")","]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$customer",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getData",170],"(",")",";",["T_WHITESPACE","\n            ",170],"}",";",["T_WHITESPACE","\n\n            ",171],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_byPagesIterator",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","iterate",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_customerCollection",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_pageSize",173],",",["T_WHITESPACE"," ",173],"[",["T_VARIABLE","$addCustomer",173],"]",")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_customers",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$customers",174],";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",180],["T_WHITESPACE","\n    ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","_getHeaderColumns",183],"(",")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_STRING","array_merge",185],"(",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_permanentAttributes",186],",",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_getExportAttributeCodes",187],"(",")",",",["T_WHITESPACE","\n            ",187],["T_STRING","array_keys",188],"(",["T_STRING","self",188],["T_DOUBLE_COLON","::",188],["T_VARIABLE","$_defaultAddressAttributeMapping",188],")",["T_WHITESPACE","\n        ",188],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Get customers collection\n     *\n     * @return \\Magento\\Customer\\Model\\ResourceModel\\Address\\Collection\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","_getEntityCollection",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_addressCollection",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Export process\n     *\n     * @return string\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","export",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_COMMENT","\/\/ skip and filter by customer address attributes\n",209],["T_WHITESPACE","        ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_prepareEntityCollection",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_getEntityCollection",210],"(",")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_getEntityCollection",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","setCustomerFilter",211],"(",["T_STRING","array_keys",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_customers",211],")",")",";",["T_WHITESPACE","\n\n        ",211],["T_COMMENT","\/\/ prepare headers\n",213],["T_WHITESPACE","        ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getWriter",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","setHeaderCols",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_getHeaderColumns",214],"(",")",")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_exportCollectionByPages",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_getEntityCollection",216],"(",")",")",";",["T_WHITESPACE","\n\n        ",216],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getWriter",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getContents",218],"(",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Export given customer address data plus related customer data (required for import)\n     *\n     * @param \\Magento\\Customer\\Model\\Address $item\n     * @return void\n     *\/",221],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","exportItem",227],"(",["T_VARIABLE","$item",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$row",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_addAttributeValuesToRow",229],"(",["T_VARIABLE","$item",229],")",";",["T_WHITESPACE","\n\n        ",229],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",231],["T_WHITESPACE","\n        ",231],["T_VARIABLE","$customer",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_customers",232],"[",["T_VARIABLE","$item",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getParentId",232],"(",")","]",";",["T_WHITESPACE","\n\n        ",232],["T_COMMENT","\/\/ Fill row with default address attributes values\n",234],["T_WHITESPACE","        ",235],["T_FOREACH","foreach",235],["T_WHITESPACE"," ",235],"(",["T_STRING","self",235],["T_DOUBLE_COLON","::",235],["T_VARIABLE","$_defaultAddressAttributeMapping",235],["T_WHITESPACE"," ",235],["T_AS","as",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$columnName",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$attributeCode",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(","!",["T_EMPTY","empty",236],"(",["T_VARIABLE","$customer",236],"[",["T_VARIABLE","$attributeCode",236],"]",")",["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$customer",236],"[",["T_VARIABLE","$attributeCode",236],"]",["T_WHITESPACE"," ",236],["T_IS_EQUAL","==",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$item",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getId",236],"(",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$row",237],"[",["T_VARIABLE","$columnName",237],"]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_LNUMBER","1",237],";",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_COMMENT","\/\/ Unique key\n",241],["T_WHITESPACE","        ",242],["T_VARIABLE","$row",242],"[",["T_STRING","self",242],["T_DOUBLE_COLON","::",242],["T_STRING","COLUMN_ADDRESS_ID",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$item",242],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",242],"]",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$row",243],"[",["T_STRING","self",243],["T_DOUBLE_COLON","::",243],["T_STRING","COLUMN_EMAIL",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$customer",243],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",243],"]",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$row",244],"[",["T_STRING","self",244],["T_DOUBLE_COLON","::",244],["T_STRING","COLUMN_WEBSITE",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_websiteIdToCode",244],"[",["T_VARIABLE","$customer",244],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",244],"]","]",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getWriter",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","writeRow",246],"(",["T_VARIABLE","$row",246],")",";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Set parameters (push filters from post into export customer model)\n     *\n     * @param array $parameters\n     * @return $this\n     *\/",249],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","setParameters",255],"(",["T_ARRAY","array",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$parameters",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_COMMENT","\/\/  push filters from post into export customer model\n",257],["T_WHITESPACE","        ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_customerEntity",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setParameters",258],"(",["T_VARIABLE","$parameters",258],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_initCustomers",259],"(",")",";",["T_WHITESPACE","\n\n        ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_STRING","parent",261],["T_DOUBLE_COLON","::",261],["T_STRING","setParameters",261],"(",["T_VARIABLE","$parameters",261],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * EAV entity type code getter.\n     *\n     * @return string\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getEntityTypeCode",269],"(",")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getAttributeCollection",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getEntityTypeCode",271],"(",")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n",272],"}",["T_WHITESPACE","\n",273]]