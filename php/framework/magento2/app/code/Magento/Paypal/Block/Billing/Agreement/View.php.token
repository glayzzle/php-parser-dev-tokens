[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Billing",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Agreement",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Customer account billing agreement view block\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","View",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","View",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Element",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Template",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Payment methods array\n     *\n     * @var array\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_paymentMethods",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[","]",";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * Billing Agreement instance\n     *\n     * @var \\Magento\\Paypal\\Model\\Billing\\Agreement\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_billingAgreementInstance",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Related orders collection\n     *\n     * @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\Collection\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_relatedOrders",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","null",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_coreRegistry",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\ResourceModel\\Order\\CollectionFactory\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_orderCollectionFactory",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_customerSession",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Config\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_orderConfig",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Paypal\\Helper\\Data\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_helper",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Paypal\\Model\\ResourceModel\\Billing\\Agreement\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_agreementResource",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\View\\Element\\Template\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Sales\\Model\\ResourceModel\\Order\\CollectionFactory $orderCollectionFactory\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Sales\\Model\\Order\\Config $orderConfig\n     * @param \\Magento\\Paypal\\Helper\\Data $helper\n     * @param \\Magento\\Paypal\\Model\\ResourceModel\\Billing\\Agreement $agreementResource\n     * @param array $data\n     *\/",66],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","__construct",76],"(",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","View",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Element",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Template",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Context",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$context",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Registry",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$registry",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Sales",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","ResourceModel",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Order",79],["T_NS_SEPARATOR","\\",79],["T_STRING","CollectionFactory",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$orderCollectionFactory",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Customer",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Session",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$customerSession",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Sales",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Model",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Order",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Config",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$orderConfig",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Paypal",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Helper",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Data",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$helper",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Paypal",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","ResourceModel",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Billing",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Agreement",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$agreementResource",83],",",["T_WHITESPACE","\n        ",83],["T_ARRAY","array",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$data",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",["T_WHITESPACE","\n    ",84],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_helper",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$helper",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_orderCollectionFactory",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$orderCollectionFactory",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_customerSession",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$customerSession",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_orderConfig",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$orderConfig",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_coreRegistry",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$registry",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_agreementResource",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$agreementResource",91],";",["T_WHITESPACE","\n        ",91],["T_STRING","parent",92],["T_DOUBLE_COLON","::",92],["T_STRING","__construct",92],"(",["T_VARIABLE","$context",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$data",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_isScopePrivate",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","true",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Retrieve related orders collection\n     *\n     * @return \\Magento\\Sales\\Model\\ResourceModel\\Order\\Collection\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getRelatedOrders",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_relatedOrders",103],["T_WHITESPACE"," ",103],["T_IS_IDENTICAL","===",103],["T_WHITESPACE"," ",103],["T_STRING","null",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$billingAgreement",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_getBillingAgreementInstance",104],"(",")",";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$billingAgreementId",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$billingAgreement",105],["T_WHITESPACE"," ",105],"?",["T_WHITESPACE"," ",105],["T_VARIABLE","$billingAgreement",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getAgreementId",105],"(",")",["T_WHITESPACE"," ",105],":",["T_WHITESPACE"," ",105],["T_LNUMBER","0",105],";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_relatedOrders",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_orderCollectionFactory",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","create",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","addFieldToSelect",106],"(",["T_WHITESPACE","\n                ",106],["T_CONSTANT_ENCAPSED_STRING","'*'",107],["T_WHITESPACE","\n            ",107],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","addFieldToFilter",108],"(",["T_WHITESPACE","\n                ",108],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",109],",",["T_WHITESPACE","\n                ",109],["T_INT_CAST","(int)",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_customerSession",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getCustomerId",110],"(",")",["T_WHITESPACE","\n            ",110],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","addFieldToFilter",111],"(",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'status'",112],",",["T_WHITESPACE","\n                ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_orderConfig",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getVisibleOnFrontStatuses",113],"(",")","]",["T_WHITESPACE","\n            ",113],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","setOrder",114],"(",["T_WHITESPACE","\n                ",114],["T_CONSTANT_ENCAPSED_STRING","'created_at'",115],",",["T_WHITESPACE","\n                ",115],["T_CONSTANT_ENCAPSED_STRING","'desc'",116],["T_WHITESPACE","\n            ",116],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_agreementResource",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addOrdersFilter",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_relatedOrders",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$billingAgreementId",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_relatedOrders",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Retrieve order item value by key\n     *\n     * @param \\Magento\\Sales\\Model\\Order $order\n     * @param string $key\n     * @return string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",123],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getOrderItemValue",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Sales",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Model",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Order",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$order",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$key",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$escape",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","true",133],";",["T_WHITESPACE","\n        ",133],["T_SWITCH","switch",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$key",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_CASE","case",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'order_increment_id'",135],":",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$value",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$order",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getIncrementId",136],"(",")",";",["T_WHITESPACE","\n                ",136],["T_BREAK","break",137],";",["T_WHITESPACE","\n            ",137],["T_CASE","case",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'created_at'",138],":",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$value",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","formatDate",139],"(",["T_VARIABLE","$order",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getCreatedAt",139],"(",")",",",["T_WHITESPACE"," ",139],["T_NS_SEPARATOR","\\",139],["T_STRING","IntlDateFormatter",139],["T_DOUBLE_COLON","::",139],["T_STRING","SHORT",139],",",["T_WHITESPACE"," ",139],["T_STRING","true",139],")",";",["T_WHITESPACE","\n                ",139],["T_BREAK","break",140],";",["T_WHITESPACE","\n            ",140],["T_CASE","case",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",141],":",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$value",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$order",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getShippingAddress",142],"(",")",["T_WHITESPACE"," ",142],"?",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","escapeHtml",142],"(",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$order",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getShippingAddress",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getName",143],"(",")",["T_WHITESPACE","\n                ",143],")",["T_WHITESPACE"," ",144],":",["T_WHITESPACE"," ",144],["T_STRING","__",144],"(",["T_WHITESPACE","\n                    ",144],["T_CONSTANT_ENCAPSED_STRING","'N\/A'",145],["T_WHITESPACE","\n                ",145],")",";",["T_WHITESPACE","\n                ",146],["T_BREAK","break",147],";",["T_WHITESPACE","\n            ",147],["T_CASE","case",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'order_total'",148],":",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$value",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$order",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","formatPrice",149],"(",["T_VARIABLE","$order",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getGrandTotal",149],"(",")",")",";",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$escape",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","false",150],";",["T_WHITESPACE","\n                ",150],["T_BREAK","break",151],";",["T_WHITESPACE","\n            ",151],["T_CASE","case",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'status_label'",152],":",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$value",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$order",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getStatusLabel",153],"(",")",";",["T_WHITESPACE","\n                ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n            ",154],["T_CASE","case",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'view_url'",155],":",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$value",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getUrl",156],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order\/view'",156],",",["T_WHITESPACE"," ",156],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$order",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getId",156],"(",")","]",")",";",["T_WHITESPACE","\n                ",156],["T_BREAK","break",157],";",["T_WHITESPACE","\n            ",157],["T_DEFAULT","default",158],":",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$value",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$order",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getData",159],"(",["T_VARIABLE","$key",159],")",["T_WHITESPACE"," ",159],"?",["T_WHITESPACE"," ",159],["T_VARIABLE","$order",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getData",159],"(",["T_VARIABLE","$key",159],")",["T_WHITESPACE"," ",159],":",["T_WHITESPACE"," ",159],["T_STRING","__",159],"(",["T_CONSTANT_ENCAPSED_STRING","'N\/A'",159],")",";",["T_WHITESPACE","\n                ",159],["T_BREAK","break",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$escape",162],["T_WHITESPACE"," ",162],"?",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","escapeHtml",162],"(",["T_VARIABLE","$value",162],")",["T_WHITESPACE"," ",162],":",["T_WHITESPACE"," ",162],["T_VARIABLE","$value",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Set pager\n     *\n     * @return $this\n     *\/",165],["T_WHITESPACE","\n    ",169],["T_PROTECTED","protected",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","_prepareLayout",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_STRING","parent",172],["T_DOUBLE_COLON","::",172],["T_STRING","_prepareLayout",172],"(",")",";",["T_WHITESPACE","\n\n        ",172],["T_VARIABLE","$pager",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getLayout",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","createBlock",174],"(",["T_WHITESPACE","\n            ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Theme",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Block",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Html",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Pager",175],["T_DOUBLE_COLON","::",175],["T_CLASS","class",175],["T_WHITESPACE","\n        ",175],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","setCollection",176],"(",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getRelatedOrders",177],"(",")",["T_WHITESPACE","\n        ",177],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","setIsOutputRequired",178],"(",["T_WHITESPACE","\n            ",178],["T_STRING","false",179],["T_WHITESPACE","\n        ",179],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setChild",181],"(",["T_CONSTANT_ENCAPSED_STRING","'pager'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$pager",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getRelatedOrders",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","load",182],"(",")",";",["T_WHITESPACE","\n\n        ",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Return current billing agreement.\n     *\n     * @return \\Magento\\Paypal\\Model\\Billing\\Agreement|null\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PROTECTED","protected",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","_getBillingAgreementInstance",192],"(",")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_billingAgreementInstance",194],["T_WHITESPACE"," ",194],["T_IS_IDENTICAL","===",194],["T_WHITESPACE"," ",194],["T_STRING","null",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_billingAgreementInstance",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_coreRegistry",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","registry",195],"(",["T_CONSTANT_ENCAPSED_STRING","'current_billing_agreement'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_billingAgreementInstance",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Load available billing agreement methods\n     *\n     * @return array\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","_loadPaymentMethods",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_paymentMethods",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_FOREACH","foreach",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_helper",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getBillingAgreementMethods",208],"(",")",["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$paymentMethod",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_paymentMethods",209],"[",["T_VARIABLE","$paymentMethod",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getCode",209],"(",")","]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$paymentMethod",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getTitle",209],"(",")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_paymentMethods",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Set data to block\n     *\n     * @return string\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","_toHtml",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_loadPaymentMethods",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","setBackUrl",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getUrl",223],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/billing_agreement\/'",223],")",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$billingAgreement",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_getBillingAgreementInstance",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$billingAgreement",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setReferenceId",226],"(",["T_VARIABLE","$billingAgreement",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getReferenceId",226],"(",")",")",";",["T_WHITESPACE","\n\n            ",226],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setCanCancel",228],"(",["T_VARIABLE","$billingAgreement",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","canCancel",228],"(",")",")",";",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setCancelUrl",229],"(",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getUrl",230],"(",["T_WHITESPACE","\n                    ",230],["T_CONSTANT_ENCAPSED_STRING","'*\/billing_agreement\/cancel'",231],",",["T_WHITESPACE","\n                    ",231],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","true",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'payment_method'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$billingAgreement",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getMethodCode",232],"(",")","]",["T_WHITESPACE","\n                ",232],")",["T_WHITESPACE","\n            ",233],")",";",["T_WHITESPACE","\n\n            ",234],["T_VARIABLE","$paymentMethodTitle",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$billingAgreement",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getAgreementLabel",236],"(",")",";",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","setPaymentMethodTitle",237],"(",["T_VARIABLE","$paymentMethodTitle",237],")",";",["T_WHITESPACE","\n\n            ",237],["T_VARIABLE","$createdAt",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$billingAgreement",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getCreatedAt",239],"(",")",";",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$updatedAt",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$billingAgreement",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getUpdatedAt",240],"(",")",";",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setAgreementCreatedAt",241],"(",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$createdAt",242],["T_WHITESPACE"," ",242],"?",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","formatDate",242],"(",["T_VARIABLE","$createdAt",242],",",["T_WHITESPACE"," ",242],["T_NS_SEPARATOR","\\",242],["T_STRING","IntlDateFormatter",242],["T_DOUBLE_COLON","::",242],["T_STRING","SHORT",242],",",["T_WHITESPACE"," ",242],["T_STRING","true",242],")",["T_WHITESPACE"," ",242],":",["T_WHITESPACE"," ",242],["T_STRING","__",242],"(",["T_CONSTANT_ENCAPSED_STRING","'N\/A'",242],")",["T_WHITESPACE","\n            ",242],")",";",["T_WHITESPACE","\n            ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$updatedAt",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","setAgreementUpdatedAt",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","formatDate",245],"(",["T_VARIABLE","$updatedAt",245],",",["T_WHITESPACE"," ",245],["T_NS_SEPARATOR","\\",245],["T_STRING","IntlDateFormatter",245],["T_DOUBLE_COLON","::",245],["T_STRING","SHORT",245],",",["T_WHITESPACE"," ",245],["T_STRING","true",245],")",")",";",["T_WHITESPACE","\n            ",245],"}",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setAgreementStatus",247],"(",["T_VARIABLE","$billingAgreement",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getStatusLabel",247],"(",")",")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","parent",250],["T_DOUBLE_COLON","::",250],["T_STRING","_toHtml",250],"(",")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n",251],"}",["T_WHITESPACE","\n",252]]