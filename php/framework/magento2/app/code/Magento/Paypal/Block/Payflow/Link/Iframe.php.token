[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payflow",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Link",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Payflow link iframe block\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Iframe",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Paypal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Block",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Iframe",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Payment data\n     *\n     * @var \\Magento\\Payment\\Helper\\Data\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_paymentData",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","null",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\View\\Element\\Template\\Context $context\n     * @param \\Magento\\Sales\\Model\\OrderFactory $orderFactory\n     * @param \\Magento\\Checkout\\Model\\Session $checkoutSession\n     * @param \\Magento\\Paypal\\Helper\\Hss $hssHelper\n     * @param \\Magento\\Framework\\Filesystem\\Directory\\ReadFactory $readFactory\n     * @param \\Magento\\Framework\\Module\\Dir\\Reader $reader\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     * @param array $data\n     *\/",20],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Framework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","View",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Element",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Template",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Context",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$context",31],",",["T_WHITESPACE","\n        ",31],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Sales",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","OrderFactory",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$orderFactory",32],",",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Checkout",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Session",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$checkoutSession",33],",",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Paypal",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Helper",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Hss",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$hssHelper",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Filesystem",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Directory",35],["T_NS_SEPARATOR","\\",35],["T_STRING","ReadFactory",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$readFactory",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Module",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Dir",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Reader",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$reader",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Payment",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Data",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$paymentData",37],",",["T_WHITESPACE","\n        ",37],["T_ARRAY","array",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$data",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","]",["T_WHITESPACE","\n    ",38],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_paymentData",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$paymentData",40],";",["T_WHITESPACE","\n        ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$context",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$orderFactory",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$checkoutSession",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$hssHelper",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$readFactory",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$reader",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$data",41],")",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Set payment method code\n     *\n     * @return void\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","_construct",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","_construct",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_paymentMethodCode",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Paypal",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Config",52],["T_DOUBLE_COLON","::",52],["T_STRING","METHOD_PAYFLOWLINK",52],";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Get frame action URL\n     *\n     * @return string\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getFrameActionUrl",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getUrl",62],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal\/payflow\/form'",62],",",["T_WHITESPACE"," ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","true",62],"]",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Get secure token\n     *\n     * @return string\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","getSecureToken",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_getOrder",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getPayment",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getAdditionalInformation",72],"(",["T_CONSTANT_ENCAPSED_STRING","'secure_token'",72],")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Get secure token ID\n     *\n     * @return string\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getSecureTokenId",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_getOrder",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getPayment",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getAdditionalInformation",82],"(",["T_CONSTANT_ENCAPSED_STRING","'secure_token_id'",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Get payflow transaction URL\n     *\n     * @return string\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getTransactionUrl",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$cgiUrl",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'cgi_url'",92],";",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","isTestMode",93],"(",")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$cgiUrl",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'cgi_url_test_mode'",94],";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_paymentData",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMethodInstance",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_paymentMethodCode",96],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getConfigData",96],"(",["T_VARIABLE","$cgiUrl",96],")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Check sandbox mode\n     *\n     * @return bool\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","isTestMode",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$mode",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_paymentData",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMethodInstance",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_paymentMethodCode",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getConfigData",106],"(",["T_CONSTANT_ENCAPSED_STRING","'sandbox_flag'",106],")",";",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_BOOL_CAST","(bool)",107],["T_VARIABLE","$mode",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n",108],"}",["T_WHITESPACE","\n",109]]