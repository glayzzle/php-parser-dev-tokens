[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Paypal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Express",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Pricing",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PriceCurrencyInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Address",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Rate",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Paypal Express Onepage checkout block\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","Review",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","View",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Element",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Template",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_quote",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Address\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_address",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Address\\Config\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_addressConfig",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Currently selected shipping rate\n     *\n     * @var Rate\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_currentShippingRate",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","null",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Paypal controller path\n     *\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_controllerPath",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'paypal\/express'",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Helper\\Data\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_taxHelper",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var PriceCurrencyInterface\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$priceCurrency",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\View\\Element\\Template\\Context $context\n     * @param \\Magento\\Tax\\Helper\\Data $taxHelper\n     * @param \\Magento\\Customer\\Model\\Address\\Config $addressConfig\n     * @param PriceCurrencyInterface $priceCurrency\n     * @param array $data\n     *\/",60],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","__construct",67],"(",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","View",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Element",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Template",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Context",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$context",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Tax",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Helper",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Data",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$taxHelper",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Customer",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Address",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Config",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$addressConfig",70],",",["T_WHITESPACE","\n        ",70],["T_STRING","PriceCurrencyInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$priceCurrency",71],",",["T_WHITESPACE","\n        ",71],["T_ARRAY","array",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$data",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",["T_WHITESPACE","\n    ",72],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","priceCurrency",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$priceCurrency",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_taxHelper",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$taxHelper",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_addressConfig",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$addressConfig",76],";",["T_WHITESPACE","\n        ",76],["T_STRING","parent",77],["T_DOUBLE_COLON","::",77],["T_STRING","__construct",77],"(",["T_VARIABLE","$context",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$data",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Quote object setter\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @return $this\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","setQuote",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Quote",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Quote",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$quote",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_quote",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$quote",88],";",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Return quote billing address\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\\Address\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getBillingAddress",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_quote",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getBillingAddress",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Return quote shipping address\n     *\n     * @return false|\\Magento\\Quote\\Model\\Quote\\Address\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","getShippingAddress",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_quote",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getIsVirtual",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","false",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_quote",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getShippingAddress",112],"(",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Get HTML output for specified address\n     *\n     * @param \\Magento\\Quote\\Model\\Quote\\Address $address\n     * @return string\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","renderAddress",121],"(",["T_VARIABLE","$address",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Block\\Address\\Renderer\\RendererInterface $renderer *\/",123],["T_WHITESPACE","\n        ",123],["T_VARIABLE","$renderer",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_addressConfig",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getFormatByCode",124],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getRenderer",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$addressData",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Framework",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Convert",125],["T_NS_SEPARATOR","\\",125],["T_STRING","ConvertArray",125],["T_DOUBLE_COLON","::",125],["T_STRING","toFlatArray",125],"(",["T_VARIABLE","$address",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getData",125],"(",")",")",";",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$renderer",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","renderArray",126],"(",["T_VARIABLE","$addressData",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Return carrier name from config, base on carrier code\n     *\n     * @param string $carrierCode\n     * @return string\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getCarrierName",135],"(",["T_VARIABLE","$carrierCode",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$name",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_scopeConfig",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getValue",137],"(","\"",["T_ENCAPSED_AND_WHITESPACE","carriers\/",137],["T_CURLY_OPEN","{",137],["T_VARIABLE","$carrierCode",137],"}",["T_ENCAPSED_AND_WHITESPACE","\/title",137],"\"",",",["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Store",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","ScopeInterface",137],["T_DOUBLE_COLON","::",137],["T_STRING","SCOPE_STORE",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$name",138],";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$carrierCode",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Get either shipping rate code or empty value on error\n     *\n     * @param \\Magento\\Framework\\DataObject $rate\n     * @return string\n     *\/",143],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","renderShippingRateValue",149],"(",["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Framework",149],["T_NS_SEPARATOR","\\",149],["T_STRING","DataObject",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$rate",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$rate",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getErrorMessage",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$rate",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getCode",154],"(",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Get shipping rate code title and its price or error message\n     *\n     * @param \\Magento\\Framework\\DataObject $rate\n     * @param string $format\n     * @param string $inclTaxFormat\n     * @return string\n     *\/",157],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","renderShippingRateOption",165],"(",["T_VARIABLE","$rate",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$format",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'%s - %s%s'",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$inclTaxFormat",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","' (%s %s)'",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$renderedInclTax",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","''",167],";",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$rate",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getErrorMessage",168],"(",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$price",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$rate",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getErrorMessage",169],"(",")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE"," ",170],["T_ELSE","else",170],["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$price",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_getShippingPrice",171],"(",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$rate",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getPrice",172],"(",")",",",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_taxHelper",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","displayShippingPriceIncludingTax",173],"(",")",["T_WHITESPACE","\n            ",173],")",";",["T_WHITESPACE","\n\n            ",174],["T_VARIABLE","$incl",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_getShippingPrice",176],"(",["T_VARIABLE","$rate",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getPrice",176],"(",")",",",["T_WHITESPACE"," ",176],["T_STRING","true",176],")",";",["T_WHITESPACE","\n            ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$incl",177],["T_WHITESPACE"," ",177],["T_IS_NOT_EQUAL","!=",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$price",177],["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_taxHelper",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","displayShippingBothPrices",177],"(",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$renderedInclTax",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","sprintf",178],"(",["T_VARIABLE","$inclTaxFormat",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","escapeHtml",178],"(",["T_STRING","__",178],"(",["T_CONSTANT_ENCAPSED_STRING","'Incl. Tax'",178],")",")",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$incl",178],")",";",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_STRING","sprintf",181],"(",["T_VARIABLE","$format",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","escapeHtml",181],"(",["T_VARIABLE","$rate",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getMethodTitle",181],"(",")",")",",",["T_WHITESPACE"," ",181],["T_VARIABLE","$price",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$renderedInclTax",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Getter for current shipping rate\n     *\n     * @return Rate\n     *\/",184],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","getCurrentShippingRate",189],"(",")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_currentShippingRate",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Whether can edit shipping method\n     *\n     * @return bool\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","canEditShippingMethod",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getData",201],"(",["T_CONSTANT_ENCAPSED_STRING","'can_edit_shipping_method'",201],")",["T_WHITESPACE"," ",201],["T_BOOLEAN_OR","||",201],["T_WHITESPACE"," ",201],"!",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getCurrentShippingRate",201],"(",")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Get quote email\n     *\n     * @return string\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getEmail",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$billingAddress",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getBillingAddress",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$billingAddress",212],["T_WHITESPACE"," ",212],"?",["T_WHITESPACE"," ",212],["T_VARIABLE","$billingAddress",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getEmail",212],"(",")",["T_WHITESPACE"," ",212],":",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","''",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Set controller path\n     *\n     * @param string $prefix\n     * @return void\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","setControllerPath",221],"(",["T_VARIABLE","$prefix",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_controllerPath",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$prefix",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Return formatted shipping price\n     *\n     * @param float $price\n     * @param bool $isInclTax\n     * @return string\n     *\/",226],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_getShippingPrice",233],"(",["T_VARIABLE","$price",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$isInclTax",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_formatPrice",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_taxHelper",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getShippingPrice",235],"(",["T_VARIABLE","$price",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$isInclTax",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_address",235],")",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Format price base on store convert price method\n     *\n     * @param float $price\n     * @return string\n     *\/",238],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","_formatPrice",244],"(",["T_VARIABLE","$price",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","priceCurrency",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","convertAndFormat",246],"(",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$price",247],",",["T_WHITESPACE","\n            ",247],["T_STRING","true",248],",",["T_WHITESPACE","\n            ",248],["T_STRING","PriceCurrencyInterface",249],["T_DOUBLE_COLON","::",249],["T_STRING","DEFAULT_PRECISION",249],",",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_quote",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getStore",250],"(",")",["T_WHITESPACE","\n        ",250],")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Retrieve payment method and assign additional template values\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",254],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","_beforeToHtml",260],"(",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$methodInstance",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_quote",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getPayment",262],"(",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","getMethodInstance",262],"(",")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setPaymentMethodTitle",263],"(",["T_VARIABLE","$methodInstance",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getTitle",263],"(",")",")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setShippingRateRequired",265],"(",["T_STRING","true",265],")",";",["T_WHITESPACE","\n        ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_quote",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getIsVirtual",266],"(",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","setShippingRateRequired",267],"(",["T_STRING","false",267],")",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE"," ",268],["T_ELSE","else",268],["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_COMMENT","\/\/ prepare shipping rates\n",269],["T_WHITESPACE","            ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_address",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_quote",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getShippingAddress",270],"(",")",";",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$groups",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_address",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getGroupedAllShippingRates",271],"(",")",";",["T_WHITESPACE","\n            ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$groups",272],["T_WHITESPACE"," ",272],["T_BOOLEAN_AND","&&",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_address",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","setShippingRateGroups",273],"(",["T_VARIABLE","$groups",273],")",";",["T_WHITESPACE","\n                ",273],["T_COMMENT","\/\/ determine current selected code & name\n",274],["T_WHITESPACE","                ",275],["T_FOREACH","foreach",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$groups",275],["T_WHITESPACE"," ",275],["T_AS","as",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$code",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$rates",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                    ",275],["T_FOREACH","foreach",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$rates",276],["T_WHITESPACE"," ",276],["T_AS","as",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$rate",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                        ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_address",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getShippingMethod",277],"(",")",["T_WHITESPACE"," ",277],["T_IS_EQUAL","==",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$rate",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getCode",277],"(",")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                            ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_currentShippingRate",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$rate",278],";",["T_WHITESPACE","\n                            ",278],["T_BREAK","break",279],["T_WHITESPACE"," ",279],["T_LNUMBER","2",279],";",["T_WHITESPACE","\n                        ",279],"}",["T_WHITESPACE","\n                    ",280],"}",["T_WHITESPACE","\n                ",281],"}",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE","\n\n            ",283],["T_VARIABLE","$canEditShippingAddress",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_quote",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getMayEditShippingAddress",285],"(",")",["T_WHITESPACE"," ",285],["T_BOOLEAN_AND","&&",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_quote",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getPayment",285],"(",")",["T_WHITESPACE","\n                ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","getAdditionalInformation",286],"(",["T_NS_SEPARATOR","\\",286],["T_STRING","Magento",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Paypal",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Model",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Express",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Checkout",286],["T_DOUBLE_COLON","::",286],["T_STRING","PAYMENT_INFO_BUTTON",286],")",["T_WHITESPACE"," ",286],["T_IS_EQUAL","==",286],["T_WHITESPACE"," ",286],["T_LNUMBER","1",286],";",["T_WHITESPACE","\n            ",286],["T_COMMENT","\/\/ misc shipping parameters\n",287],["T_WHITESPACE","            ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","setShippingMethodSubmitUrl",288],"(",["T_WHITESPACE","\n                ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getUrl",289],"(","\"",["T_CURLY_OPEN","{",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_controllerPath",289],"}",["T_ENCAPSED_AND_WHITESPACE","\/saveShippingMethod",289],"\"",",",["T_WHITESPACE"," ",289],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_STRING","true",289],"]",")",["T_WHITESPACE","\n            ",289],")",["T_OBJECT_OPERATOR","->",290],["T_STRING","setCanEditShippingAddress",290],"(",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$canEditShippingAddress",291],["T_WHITESPACE","\n            ",291],")",["T_OBJECT_OPERATOR","->",292],["T_STRING","setCanEditShippingMethod",292],"(",["T_WHITESPACE","\n                ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_quote",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getMayEditShippingMethod",293],"(",")",["T_WHITESPACE","\n            ",293],")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","setEditUrl",297],"(",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getUrl",298],"(","\"",["T_CURLY_OPEN","{",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_controllerPath",298],"}",["T_ENCAPSED_AND_WHITESPACE","\/edit",298],"\"",")",["T_WHITESPACE","\n        ",298],")",["T_OBJECT_OPERATOR","->",299],["T_STRING","setPlaceOrderUrl",299],"(",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getUrl",300],"(","\"",["T_CURLY_OPEN","{",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_controllerPath",300],"}",["T_ENCAPSED_AND_WHITESPACE","\/placeOrder",300],"\"",",",["T_WHITESPACE"," ",300],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_STRING","true",300],"]",")",["T_WHITESPACE","\n        ",300],")",";",["T_WHITESPACE","\n\n        ",301],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_STRING","parent",303],["T_DOUBLE_COLON","::",303],["T_STRING","_beforeToHtml",303],"(",")",";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n",304],"}",["T_WHITESPACE","\n",305]]