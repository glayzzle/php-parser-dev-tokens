[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Api",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Payment",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cart",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Payment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Method",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Logger",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * NVP API wrappers model\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","PayflowNvp",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Paypal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Nvp",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_COMMENT","\/**#@+\n     * Transaction types declaration\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","TRXTYPE_AUTH_ONLY",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'A'",21],";",["T_WHITESPACE","\n\n    ",21],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","TRXTYPE_SALE",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'S'",23],";",["T_WHITESPACE","\n\n    ",23],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","TRXTYPE_CREDIT",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'C'",25],";",["T_WHITESPACE","\n\n    ",25],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","TRXTYPE_DELAYED_CAPTURE",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'D'",27],";",["T_WHITESPACE","\n\n    ",27],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","TRXTYPE_DELAYED_VOID",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'V'",29],";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/**#@-*\/",31],["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/**#@+\n     * Tender definition\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","TENDER_CC",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'C'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","TENDER_PAYPAL",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'P'",38],";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/**#@-*\/",40],["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/**#@+\n     * Express Checkout Actions\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","EXPRESS_SET",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'S'",45],";",["T_WHITESPACE","\n\n    ",45],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","EXPRESS_GET",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'G'",47],";",["T_WHITESPACE","\n\n    ",47],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","EXPRESS_DO_PAYMENT",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'D'",49],";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/**#@-*\/",51],["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/**#@+\n     * Response codes definition\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","RESPONSE_CODE_APPROVED",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],";",["T_WHITESPACE","\n\n    ",56],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","RESPONSE_CODE_FRAUD",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_LNUMBER","126",58],";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/**#@-*\/",60],["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Capture type (make authorization close or remain open)\n     *\n     * @var string\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_captureTypeComplete",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Y'",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Capture type (make authorization close or remain open)\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_captureTypeNotcomplete",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'N'",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Global public interface map\n     *\n     * @var array\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_globalMap",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[",["T_WHITESPACE","\n        ",81],["T_COMMENT","\/\/ each call\n",82],["T_WHITESPACE","        ",83],["T_CONSTANT_ENCAPSED_STRING","'PARTNER'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'partner'",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'VENDOR'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'vendor'",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'USER'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'user'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'PWD'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'password'",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'build_notation_code'",87],",",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'tender'",88],",",["T_WHITESPACE","\n\n        ",88],["T_COMMENT","\/\/ commands\n",90],["T_WHITESPACE","        ",91],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'return_url'",91],",",["T_WHITESPACE","\n        ",91],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'cancel_url'",92],",",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'inv_num'",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'token'",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'correlation_id'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'CUSTIP'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'ip_address'",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'notify_url'",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'note'",98],",",["T_WHITESPACE","\n\n        ",98],["T_COMMENT","\/\/ style settings\n",100],["T_WHITESPACE","        ",101],["T_CONSTANT_ENCAPSED_STRING","'PAGESTYLE'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'page_style'",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'hdrimg'",102],",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'HDRBORDERCOLOR'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'hdrbordercolor'",103],",",["T_WHITESPACE","\n        ",103],["T_CONSTANT_ENCAPSED_STRING","'HDRBACKCOLOR'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'hdrbackcolor'",104],",",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'payflowcolor'",105],",",["T_WHITESPACE","\n        ",105],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'locale_code'",106],",",["T_WHITESPACE","\n\n        ",106],["T_COMMENT","\/\/ transaction info\n",108],["T_WHITESPACE","        ",109],["T_COMMENT","\/\/We need to store paypal trx id for correct IPN working\n",109],["T_WHITESPACE","        ",110],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",110],",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",111],",",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",112],",",["T_WHITESPACE","\n        ",112],["T_CONSTANT_ENCAPSED_STRING","'REFUNDTRANSACTIONID'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",113],",",["T_WHITESPACE","\n\n        ",113],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",115],",",["T_WHITESPACE","\n        ",115],["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'authorization_id'",116],",",["T_WHITESPACE","\n        ",116],["T_CONSTANT_ENCAPSED_STRING","'CAPTURECOMPLETE'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'complete_type'",117],",",["T_WHITESPACE","\n        ",117],["T_CONSTANT_ENCAPSED_STRING","'AMT'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'amount'",118],",",["T_WHITESPACE","\n        ",118],["T_CONSTANT_ENCAPSED_STRING","'AVSADDR'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'address_verification'",119],",",["T_WHITESPACE","\n        ",119],["T_CONSTANT_ENCAPSED_STRING","'AVSZIP'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'postcode_verification'",120],",",["T_WHITESPACE","\n\n        ",120],["T_COMMENT","\/\/ payment\/billing info\n",122],["T_WHITESPACE","        ",123],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",123],",",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",124],",",["T_WHITESPACE","\n        ",124],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",125],",",["T_WHITESPACE","\n        ",125],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'payer_id'",126],",",["T_WHITESPACE","\n        ",126],["T_CONSTANT_ENCAPSED_STRING","'PAYERSTATUS'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'payer_status'",127],",",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'email'",128],",",["T_WHITESPACE","\n\n        ",128],["T_COMMENT","\/\/ backwards compatibility\n",130],["T_WHITESPACE","        ",131],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'firstname'",131],",",["T_WHITESPACE","\n        ",131],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'lastname'",132],",",["T_WHITESPACE","\n\n        ",132],["T_COMMENT","\/\/ paypal direct credit card information\n",134],["T_WHITESPACE","        ",135],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'credit_card_number'",135],",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'credit_card_expiration_date'",136],",",["T_WHITESPACE","\n        ",136],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'credit_card_cvv2'",137],",",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'CARDSTART'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'maestro_solo_issue_date'",138],",",["T_WHITESPACE","\n        ",138],["T_CONSTANT_ENCAPSED_STRING","'CARDISSUE'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'maestro_solo_issue_number'",139],",",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'cvv2_check_result'",140],",",["T_WHITESPACE","\n\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'USERSELECTEDFUNDINGSOURCE'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'funding_source'",142],",",["T_WHITESPACE","\n    ",142],"]",";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Fields that should be replaced in debug with '***'\n     *\n     * @var string[]\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_debugReplacePrivateDataKeys",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"[",["T_CONSTANT_ENCAPSED_STRING","'ACCT'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'PARTNER'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'USER'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'VENDOR'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'PWD'",150],"]",";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * DoDirectPayment request map\n     *\n     * @var string[]\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_doDirectPaymentRequest",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[",["T_WHITESPACE","\n        ",157],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",158],",",["T_WHITESPACE","\n        ",158],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",159],",",["T_WHITESPACE","\n        ",159],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",160],",",["T_WHITESPACE","\n        ",160],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",161],",",["T_WHITESPACE","\n        ",161],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",162],",",["T_WHITESPACE","\n        ",162],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",163],",",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",164],",",["T_WHITESPACE","\n        ",164],["T_CONSTANT_ENCAPSED_STRING","'AMT'",165],",",["T_WHITESPACE","\n        ",165],["T_CONSTANT_ENCAPSED_STRING","'CUSTIP'",166],",",["T_WHITESPACE","\n        ",166],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",167],",",["T_WHITESPACE","\n        ",167],["T_CONSTANT_ENCAPSED_STRING","'CARDISSUE'",168],",",["T_WHITESPACE","\n        ",168],["T_CONSTANT_ENCAPSED_STRING","'CARDSTART'",169],",",["T_WHITESPACE","\n        ",169],["T_CONSTANT_ENCAPSED_STRING","'AUTHSTATUS3DS'",170],",",["T_WHITESPACE","\n        ",170],["T_CONSTANT_ENCAPSED_STRING","'MPIVENDOR3DS'",171],",",["T_WHITESPACE","\n        ",171],["T_CONSTANT_ENCAPSED_STRING","'CAVV'",172],",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'ECI'",173],",",["T_WHITESPACE","\n        ",173],["T_CONSTANT_ENCAPSED_STRING","'XID'",174],",",["T_WHITESPACE","\n        ",174],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",175],",",["T_WHITESPACE","\n        ",175],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",176],",",["T_WHITESPACE","\n    ",176],"]",";",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * DoDirectPayment response map\n     *\n     * @var string[]\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$_doDirectPaymentResponse",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],"[",["T_WHITESPACE","\n        ",184],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",185],",",["T_WHITESPACE","\n        ",185],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",186],",",["T_WHITESPACE","\n        ",186],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",187],",",["T_WHITESPACE","\n        ",187],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",188],",",["T_WHITESPACE","\n        ",188],["T_CONSTANT_ENCAPSED_STRING","'AVSADDR'",189],",",["T_WHITESPACE","\n        ",189],["T_CONSTANT_ENCAPSED_STRING","'AVSZIP'",190],",",["T_WHITESPACE","\n        ",190],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",191],",",["T_WHITESPACE","\n    ",191],"]",";",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * DoCapture request map\n     *\n     * @var string[]\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$_doCaptureRequest",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'CAPTURECOMPLETE'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'AMT'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",199],"]",";",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * DoCapture response map\n     *\n     * @var string[]\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$_doCaptureResponse",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],"[",["T_CONSTANT_ENCAPSED_STRING","'PNREF'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",206],"]",";",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * DoVoid request map\n     *\n     * @var string[]\n     *\/",208],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$_doVoidRequest",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",213],"]",";",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Request map for each API call\n     *\n     * @var string[]\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$_eachCallRequest",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],"[",["T_CONSTANT_ENCAPSED_STRING","'PARTNER'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'USER'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'VENDOR'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'PWD'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",220],"]",";",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * RefundTransaction request map\n     *\n     * @var string[]\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$_refundTransactionRequest",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",227],"]",";",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * RefundTransaction response map\n     *\n     * @var string[]\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$_refundTransactionResponse",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],"[",["T_CONSTANT_ENCAPSED_STRING","'PNREF'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",234],"]",";",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * SetExpressCheckout request map\n     *\n     * @var string[]\n     *\/",236],["T_WHITESPACE","\n    ",240],["T_PROTECTED","protected",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$_setExpressCheckoutRequest",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n        ",241],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",242],",",["T_WHITESPACE","\n        ",242],["T_CONSTANT_ENCAPSED_STRING","'AMT'",243],",",["T_WHITESPACE","\n        ",243],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",244],",",["T_WHITESPACE","\n        ",244],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",245],",",["T_WHITESPACE","\n        ",245],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",246],",",["T_WHITESPACE","\n        ",246],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",247],",",["T_WHITESPACE","\n        ",247],["T_CONSTANT_ENCAPSED_STRING","'PAGESTYLE'",248],",",["T_WHITESPACE","\n        ",248],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",249],",",["T_WHITESPACE","\n        ",249],["T_CONSTANT_ENCAPSED_STRING","'HDRBORDERCOLOR'",250],",",["T_WHITESPACE","\n        ",250],["T_CONSTANT_ENCAPSED_STRING","'HDRBACKCOLOR'",251],",",["T_WHITESPACE","\n        ",251],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",252],",",["T_WHITESPACE","\n        ",252],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",253],",",["T_WHITESPACE","\n        ",253],["T_CONSTANT_ENCAPSED_STRING","'USERSELECTEDFUNDINGSOURCE'",254],",",["T_WHITESPACE","\n    ",254],"]",";",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * SetExpressCheckout response map\n     *\n     * @var string[]\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PROTECTED","protected",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$_setExpressCheckoutResponse",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],"[",["T_CONSTANT_ENCAPSED_STRING","'REPMSG'",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",262],"]",";",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * GetExpressCheckoutDetails request\/response map\n     *\n     * @var string[]\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$_getExpressCheckoutDetailsRequest",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],"[",["T_CONSTANT_ENCAPSED_STRING","'TENDER'",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",269],"]",";",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * DoExpressCheckoutPayment request map\n     *\n     * @var string[]\n     *\/",271],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$_doExpressCheckoutPaymentRequest",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n        ",276],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",277],",",["T_WHITESPACE","\n        ",277],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",278],",",["T_WHITESPACE","\n        ",278],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",279],",",["T_WHITESPACE","\n        ",279],["T_CONSTANT_ENCAPSED_STRING","'AMT'",280],",",["T_WHITESPACE","\n        ",280],["T_CONSTANT_ENCAPSED_STRING","'CURRENCY'",281],",",["T_WHITESPACE","\n        ",281],["T_CONSTANT_ENCAPSED_STRING","'CUSTIP'",282],",",["T_WHITESPACE","\n        ",282],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",283],",",["T_WHITESPACE","\n        ",283],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",284],",",["T_WHITESPACE","\n    ",284],"]",";",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * DoExpressCheckoutPayment response map\n     *\n     * @var string[]\n     *\/",287],["T_WHITESPACE","\n    ",291],["T_PROTECTED","protected",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$_doExpressCheckoutPaymentResponse",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],"[",["T_WHITESPACE","\n        ",292],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",293],",",["T_WHITESPACE","\n        ",293],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",294],",",["T_WHITESPACE","\n        ",294],["T_CONSTANT_ENCAPSED_STRING","'REPMSG'",295],",",["T_WHITESPACE","\n        ",295],["T_CONSTANT_ENCAPSED_STRING","'AMT'",296],",",["T_WHITESPACE","\n        ",296],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",297],",",["T_WHITESPACE","\n        ",297],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",298],",",["T_WHITESPACE","\n        ",298],["T_CONSTANT_ENCAPSED_STRING","'AVSADDR'",299],",",["T_WHITESPACE","\n        ",299],["T_CONSTANT_ENCAPSED_STRING","'AVSZIP'",300],",",["T_WHITESPACE","\n        ",300],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",301],",",["T_WHITESPACE","\n    ",301],"]",";",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * GetTransactionDetailsRequest\n     *\n     * @var string[]\n     *\/",304],["T_WHITESPACE","\n    ",308],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$_getTransactionDetailsRequest",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],"[",["T_CONSTANT_ENCAPSED_STRING","'ORIGID'",309],",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'TENDER'",309],"]",";",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * GetTransactionDetailsResponse\n     *\n     * @var string[]\n     *\/",311],["T_WHITESPACE","\n    ",315],["T_PROTECTED","protected",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$_getTransactionDetailsResponse",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],"[",["T_WHITESPACE","\n        ",316],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",317],",",["T_WHITESPACE","\n        ",317],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",318],",",["T_WHITESPACE","\n        ",318],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",319],",",["T_WHITESPACE","\n        ",319],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",320],",",["T_WHITESPACE","\n        ",320],["T_CONSTANT_ENCAPSED_STRING","'PARENTTRANSACTIONID'",321],",",["T_WHITESPACE","\n        ",321],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",322],",",["T_WHITESPACE","\n        ",322],["T_CONSTANT_ENCAPSED_STRING","'AMT'",323],",",["T_WHITESPACE","\n        ",323],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",324],",",["T_WHITESPACE","\n    ",324],"]",";",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Map for shipping address import\/export (extends billing address mapper)\n     *\n     * @var array\n     *\/",327],["T_WHITESPACE","\n    ",331],["T_PROTECTED","protected",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$_shippingAddressMap",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],"[",["T_WHITESPACE","\n        ",332],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRY'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'country_id'",333],",",["T_WHITESPACE","\n        ",333],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTATE'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'region'",334],",",["T_WHITESPACE","\n        ",334],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCITY'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'city'",335],",",["T_WHITESPACE","\n        ",335],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'street'",336],",",["T_WHITESPACE","\n        ",336],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET2'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'street2'",337],",",["T_WHITESPACE","\n        ",337],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOZIP'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'postcode'",338],",",["T_WHITESPACE","\n        ",338],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOPHONENUM'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'telephone'",339],",",["T_WHITESPACE","\n    ",339],"]",";",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Map for billing address import\/export\n     *\n     * @var array\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PROTECTED","protected",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$_billingAddressMap",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],"[",["T_WHITESPACE","\n        ",347],["T_CONSTANT_ENCAPSED_STRING","'BUSINESS'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'company'",348],",",["T_WHITESPACE","\n        ",348],["T_CONSTANT_ENCAPSED_STRING","'NOTETEXT'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'customer_notes'",349],",",["T_WHITESPACE","\n        ",349],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'email'",350],",",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'firstname'",351],",",["T_WHITESPACE","\n        ",351],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'lastname'",352],",",["T_WHITESPACE","\n        ",352],["T_CONSTANT_ENCAPSED_STRING","'MIDDLENAME'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'middlename'",353],",",["T_WHITESPACE","\n        ",353],["T_CONSTANT_ENCAPSED_STRING","'SALUTATION'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'prefix'",354],",",["T_WHITESPACE","\n        ",354],["T_CONSTANT_ENCAPSED_STRING","'SUFFIX'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'suffix'",355],",",["T_WHITESPACE","\n        ",355],["T_CONSTANT_ENCAPSED_STRING","'COUNTRYCODE'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'country_id'",356],",",["T_WHITESPACE","\n        ",356],["T_CONSTANT_ENCAPSED_STRING","'STATE'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'region'",357],",",["T_WHITESPACE","\n        ",357],["T_CONSTANT_ENCAPSED_STRING","'CITY'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'city'",358],",",["T_WHITESPACE","\n        ",358],["T_CONSTANT_ENCAPSED_STRING","'STREET'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'street'",359],",",["T_WHITESPACE","\n        ",359],["T_CONSTANT_ENCAPSED_STRING","'STREET2'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'street2'",360],",",["T_WHITESPACE","\n        ",360],["T_CONSTANT_ENCAPSED_STRING","'ZIP'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'postcode'",361],",",["T_WHITESPACE","\n        ",361],["T_CONSTANT_ENCAPSED_STRING","'PHONENUM'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'telephone'",362],",",["T_WHITESPACE","\n    ",362],"]",";",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Map for billing address to do request to Payflow\n     *\n     * @var array\n     *\/",365],["T_WHITESPACE","\n    ",369],["T_PROTECTED","protected",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$_billingAddressMapRequest",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],"[",["T_CONSTANT_ENCAPSED_STRING","'country_id'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'COUNTRY'",370],"]",";",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Line items export mapping settings\n     *\n     * @var array\n     *\/",372],["T_WHITESPACE","\n    ",376],["T_PROTECTED","protected",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$_lineItemTotalExportMap",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],"[",["T_STRING","Cart",377],["T_DOUBLE_COLON","::",377],["T_STRING","AMOUNT_TAX",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",377],",",["T_WHITESPACE"," ",377],["T_STRING","Cart",377],["T_DOUBLE_COLON","::",377],["T_STRING","AMOUNT_SHIPPING",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",377],"]",";",["T_WHITESPACE","\n\n    ",377],["T_DOC_COMMENT","\/**\n     * Line items export request totals format\n     *\n     * @var array\n     *\/",379],["T_WHITESPACE","\n    ",383],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$_lineItemsExportRequestTotalsFormat",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],"[",["T_WHITESPACE","\n        ",384],["T_CONSTANT_ENCAPSED_STRING","'amount'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_%d_ITEMAMT'",385],",",["T_WHITESPACE","\n        ",385],["T_STRING","Cart",386],["T_DOUBLE_COLON","::",386],["T_STRING","AMOUNT_TAX",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",386],",",["T_WHITESPACE","\n        ",386],["T_STRING","Cart",387],["T_DOUBLE_COLON","::",387],["T_STRING","AMOUNT_SHIPPING",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",387],",",["T_WHITESPACE","\n    ",387],"]",";",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Line items export items format\n     *\n     * @var array\n     *\/",390],["T_WHITESPACE","\n    ",394],["T_PROTECTED","protected",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$_lineItemExportItemsFormat",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],"[",["T_WHITESPACE","\n        ",395],["T_CONSTANT_ENCAPSED_STRING","'name'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'L_NAME%d'",396],",",["T_WHITESPACE","\n        ",396],["T_CONSTANT_ENCAPSED_STRING","'qty'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'L_QTY%d'",397],",",["T_WHITESPACE","\n        ",397],["T_CONSTANT_ENCAPSED_STRING","'amount'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'L_COST%d'",398],",",["T_WHITESPACE","\n    ",398],"]",";",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Payment information response specifically to be collected after some requests\n     *\n     * @var string[]\n     *\/",401],["T_WHITESPACE","\n    ",405],["T_PROTECTED","protected",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$_paymentInformationResponse",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],"[",["T_WHITESPACE","\n        ",406],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",407],",",["T_WHITESPACE","\n        ",407],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",408],",",["T_WHITESPACE","\n        ",408],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSID'",409],",",["T_WHITESPACE","\n        ",409],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSSTATUS'",410],",",["T_WHITESPACE","\n        ",410],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",411],",",["T_WHITESPACE","\n        ",411],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",412],",",["T_WHITESPACE","\n        ",412],["T_CONSTANT_ENCAPSED_STRING","'PROTECTIONELIGIBILITY'",413],",",["T_WHITESPACE","\n        ",413],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",414],",",["T_WHITESPACE","\n    ",414],"]",";",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * Required fields in the response\n     *\n     * @var array\n     *\/",417],["T_WHITESPACE","\n    ",421],["T_PROTECTED","protected",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$_requiredResponseParams",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],"[",["T_WHITESPACE","\n        ",422],["T_STRING","self",423],["T_DOUBLE_COLON","::",423],["T_STRING","DO_DIRECT_PAYMENT",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'PNREF'",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'PPREF'",423],"]",",",["T_WHITESPACE","\n    ",423],"]",";",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Math\\Random\n     *\/",426],["T_WHITESPACE","\n    ",428],["T_PROTECTED","protected",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$mathRandom",429],";",["T_WHITESPACE","\n\n    ",429],["T_DOC_COMMENT","\/**\n     * @var NvpFactory\n     *\/",431],["T_WHITESPACE","\n    ",433],["T_PROTECTED","protected",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$nvpFactory",434],";",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Customer\\Helper\\Address $customerAddress\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param Logger $customLogger\n     * @param \\Magento\\Framework\\Locale\\ResolverInterface $localeResolver\n     * @param \\Magento\\Directory\\Model\\RegionFactory $regionFactory\n     * @param \\Magento\\Directory\\Model\\CountryFactory $countryFactory\n     * @param ProcessableExceptionFactory $processableExceptionFactory\n     * @param \\Magento\\Framework\\Exception\\LocalizedExceptionFactory $frameworkExceptionFactory\n     * @param \\Magento\\Framework\\HTTP\\Adapter\\CurlFactory $curlFactory\n     * @param \\Magento\\Framework\\Math\\Random $mathRandom\n     * @param NvpFactory $nvpFactory\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",436],["T_WHITESPACE","\n    ",450],["T_PUBLIC","public",451],["T_WHITESPACE"," ",451],["T_FUNCTION","function",451],["T_WHITESPACE"," ",451],["T_STRING","__construct",451],"(",["T_WHITESPACE","\n        ",451],["T_NS_SEPARATOR","\\",452],["T_STRING","Magento",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Customer",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Helper",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Address",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$customerAddress",452],",",["T_WHITESPACE","\n        ",452],["T_NS_SEPARATOR","\\",453],["T_STRING","Psr",453],["T_NS_SEPARATOR","\\",453],["T_STRING","Log",453],["T_NS_SEPARATOR","\\",453],["T_STRING","LoggerInterface",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$logger",453],",",["T_WHITESPACE","\n        ",453],["T_STRING","Logger",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$customLogger",454],",",["T_WHITESPACE","\n        ",454],["T_NS_SEPARATOR","\\",455],["T_STRING","Magento",455],["T_NS_SEPARATOR","\\",455],["T_STRING","Framework",455],["T_NS_SEPARATOR","\\",455],["T_STRING","Locale",455],["T_NS_SEPARATOR","\\",455],["T_STRING","ResolverInterface",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$localeResolver",455],",",["T_WHITESPACE","\n        ",455],["T_NS_SEPARATOR","\\",456],["T_STRING","Magento",456],["T_NS_SEPARATOR","\\",456],["T_STRING","Directory",456],["T_NS_SEPARATOR","\\",456],["T_STRING","Model",456],["T_NS_SEPARATOR","\\",456],["T_STRING","RegionFactory",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$regionFactory",456],",",["T_WHITESPACE","\n        ",456],["T_NS_SEPARATOR","\\",457],["T_STRING","Magento",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Directory",457],["T_NS_SEPARATOR","\\",457],["T_STRING","Model",457],["T_NS_SEPARATOR","\\",457],["T_STRING","CountryFactory",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$countryFactory",457],",",["T_WHITESPACE","\n        ",457],["T_NS_SEPARATOR","\\",458],["T_STRING","Magento",458],["T_NS_SEPARATOR","\\",458],["T_STRING","Paypal",458],["T_NS_SEPARATOR","\\",458],["T_STRING","Model",458],["T_NS_SEPARATOR","\\",458],["T_STRING","Api",458],["T_NS_SEPARATOR","\\",458],["T_STRING","ProcessableExceptionFactory",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$processableExceptionFactory",458],",",["T_WHITESPACE","\n        ",458],["T_NS_SEPARATOR","\\",459],["T_STRING","Magento",459],["T_NS_SEPARATOR","\\",459],["T_STRING","Framework",459],["T_NS_SEPARATOR","\\",459],["T_STRING","Exception",459],["T_NS_SEPARATOR","\\",459],["T_STRING","LocalizedExceptionFactory",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$frameworkExceptionFactory",459],",",["T_WHITESPACE","\n        ",459],["T_NS_SEPARATOR","\\",460],["T_STRING","Magento",460],["T_NS_SEPARATOR","\\",460],["T_STRING","Framework",460],["T_NS_SEPARATOR","\\",460],["T_STRING","HTTP",460],["T_NS_SEPARATOR","\\",460],["T_STRING","Adapter",460],["T_NS_SEPARATOR","\\",460],["T_STRING","CurlFactory",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$curlFactory",460],",",["T_WHITESPACE","\n        ",460],["T_NS_SEPARATOR","\\",461],["T_STRING","Magento",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Framework",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Math",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Random",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$mathRandom",461],",",["T_WHITESPACE","\n        ",461],["T_STRING","NvpFactory",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$nvpFactory",462],",",["T_WHITESPACE","\n        ",462],["T_ARRAY","array",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$data",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],"[","]",["T_WHITESPACE","\n    ",463],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n        ",464],["T_STRING","parent",465],["T_DOUBLE_COLON","::",465],["T_STRING","__construct",465],"(",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$customerAddress",466],",",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$logger",467],",",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$customLogger",468],",",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$localeResolver",469],",",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$regionFactory",470],",",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$countryFactory",471],",",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$processableExceptionFactory",472],",",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$frameworkExceptionFactory",473],",",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$curlFactory",474],",",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$data",475],["T_WHITESPACE","\n        ",475],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","mathRandom",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_VARIABLE","$mathRandom",477],";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","nvpFactory",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$nvpFactory",478],";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * API endpoint getter\n     *\n     * @return string\n     *\/",481],["T_WHITESPACE","\n    ",485],["T_PUBLIC","public",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","getApiEndpoint",486],"(",")",["T_WHITESPACE","\n    ",486],"{",["T_WHITESPACE","\n        ",487],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_STRING","sprintf",488],"(",["T_WHITESPACE","\n            ",488],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/%spayflowpro.paypal.com\/transaction'",489],",",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_config",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getValue",490],"(",["T_CONSTANT_ENCAPSED_STRING","'sandboxFlag'",490],")",["T_WHITESPACE"," ",490],"?",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'pilot-'",490],["T_WHITESPACE"," ",490],":",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","''",490],["T_WHITESPACE","\n        ",490],")",";",["T_WHITESPACE","\n    ",491],"}",["T_WHITESPACE","\n\n    ",492],["T_DOC_COMMENT","\/**\n     * Return Payflow partner based on config data\n     *\n     * @return string\n     *\/",494],["T_WHITESPACE","\n    ",498],["T_PUBLIC","public",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","getPartner",499],"(",")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_RETURN","return",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_getDataOrConfig",501],"(",["T_CONSTANT_ENCAPSED_STRING","'partner'",501],")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Return Payflow user based on config data\n     *\n     * @return string\n     *\/",504],["T_WHITESPACE","\n    ",508],["T_PUBLIC","public",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","getUser",509],"(",")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_RETURN","return",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","_getDataOrConfig",511],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",511],")",";",["T_WHITESPACE","\n    ",511],"}",["T_WHITESPACE","\n\n    ",512],["T_DOC_COMMENT","\/**\n     * Return Payflow password based on config data\n     *\n     * @return string\n     *\/",514],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","getPassword",519],"(",")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_getDataOrConfig",521],"(",["T_CONSTANT_ENCAPSED_STRING","'pwd'",521],")",";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Return Payflow vendor based on config data\n     *\n     * @return string\n     *\/",524],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","getVendor",529],"(",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_getDataOrConfig",531],"(",["T_CONSTANT_ENCAPSED_STRING","'vendor'",531],")",";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Return Payflow tender based on config data\n     *\n     * @return string\n     *\/",534],["T_WHITESPACE","\n    ",538],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","getTender",539],"(",")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_config",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getMethodCode",541],"(",")",["T_WHITESPACE"," ",541],["T_IS_EQUAL","==",541],["T_WHITESPACE"," ",541],["T_NS_SEPARATOR","\\",541],["T_STRING","Magento",541],["T_NS_SEPARATOR","\\",541],["T_STRING","Paypal",541],["T_NS_SEPARATOR","\\",541],["T_STRING","Model",541],["T_NS_SEPARATOR","\\",541],["T_STRING","Config",541],["T_DOUBLE_COLON","::",541],["T_STRING","METHOD_WPP_PE_EXPRESS",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_STRING","self",542],["T_DOUBLE_COLON","::",542],["T_STRING","TENDER_PAYPAL",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_STRING","self",544],["T_DOUBLE_COLON","::",544],["T_STRING","TENDER_CC",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Override transaction id getting to process payflow accounts not assigned to paypal side\n     *\n     * @return string\n     *\/",547],["T_WHITESPACE","\n    ",551],["T_PUBLIC","public",552],["T_WHITESPACE"," ",552],["T_FUNCTION","function",552],["T_WHITESPACE"," ",552],["T_STRING","getPaypalTransactionId",552],"(",")",["T_WHITESPACE","\n    ",552],"{",["T_WHITESPACE","\n        ",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","getData",554],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",554],")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getData",555],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_transaction_id'",555],")",";",["T_WHITESPACE","\n        ",555],"}",["T_WHITESPACE","\n        ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getTransactionId",557],"(",")",";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_DOC_COMMENT","\/**\n     * Add method to request array\n     *\n     * @param string $methodName\n     * @param array $request\n     * @return array\n     *\/",560],["T_WHITESPACE","\n    ",566],["T_PROTECTED","protected",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","_addMethodToRequest",567],"(",["T_VARIABLE","$methodName",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$request",567],")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$request",569],"[",["T_CONSTANT_ENCAPSED_STRING","'TRXTYPE'",569],"]",["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_mapPaypalMethodName",569],"(",["T_VARIABLE","$methodName",569],")",";",["T_WHITESPACE","\n        ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_getPayflowActionName",570],"(",["T_VARIABLE","$methodName",570],")",["T_WHITESPACE"," ",570],["T_IS_NOT_IDENTICAL","!==",570],["T_WHITESPACE"," ",570],["T_STRING","null",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_VARIABLE","$request",571],"[",["T_CONSTANT_ENCAPSED_STRING","'ACTION'",571],"]",["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","_getPayflowActionName",571],"(",["T_VARIABLE","$methodName",571],")",";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n        ",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$request",573],";",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_DOC_COMMENT","\/**\n     * Return Payflow Edition\n     *\n     * @param string $methodName\n     * @return string|null\n     *\/",576],["T_WHITESPACE","\n    ",581],["T_PROTECTED","protected",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","_getPayflowActionName",582],"(",["T_VARIABLE","$methodName",582],")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_SWITCH","switch",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$methodName",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n            ",584],["T_CASE","case",585],["T_WHITESPACE"," ",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Magento",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Paypal",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Model",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Api",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Nvp",585],["T_DOUBLE_COLON","::",585],["T_STRING","SET_EXPRESS_CHECKOUT",585],":",["T_WHITESPACE","\n                ",585],["T_RETURN","return",586],["T_WHITESPACE"," ",586],["T_STRING","self",586],["T_DOUBLE_COLON","::",586],["T_STRING","EXPRESS_SET",586],";",["T_WHITESPACE","\n            ",586],["T_CASE","case",587],["T_WHITESPACE"," ",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Magento",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Paypal",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Model",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Api",587],["T_NS_SEPARATOR","\\",587],["T_STRING","Nvp",587],["T_DOUBLE_COLON","::",587],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",587],":",["T_WHITESPACE","\n                ",587],["T_RETURN","return",588],["T_WHITESPACE"," ",588],["T_STRING","self",588],["T_DOUBLE_COLON","::",588],["T_STRING","EXPRESS_GET",588],";",["T_WHITESPACE","\n            ",588],["T_CASE","case",589],["T_WHITESPACE"," ",589],["T_NS_SEPARATOR","\\",589],["T_STRING","Magento",589],["T_NS_SEPARATOR","\\",589],["T_STRING","Paypal",589],["T_NS_SEPARATOR","\\",589],["T_STRING","Model",589],["T_NS_SEPARATOR","\\",589],["T_STRING","Api",589],["T_NS_SEPARATOR","\\",589],["T_STRING","Nvp",589],["T_DOUBLE_COLON","::",589],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",589],":",["T_WHITESPACE","\n                ",589],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_STRING","self",590],["T_DOUBLE_COLON","::",590],["T_STRING","EXPRESS_DO_PAYMENT",590],";",["T_WHITESPACE","\n        ",590],"}",["T_WHITESPACE","\n        ",591],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_STRING","null",592],";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n\n    ",593],["T_DOC_COMMENT","\/**\n     * Map paypal method names\n     *\n     * @param string| $methodName\n     * @return string\n     *\/",595],["T_WHITESPACE","\n    ",600],["T_PROTECTED","protected",601],["T_WHITESPACE"," ",601],["T_FUNCTION","function",601],["T_WHITESPACE"," ",601],["T_STRING","_mapPaypalMethodName",601],"(",["T_VARIABLE","$methodName",601],")",["T_WHITESPACE","\n    ",601],"{",["T_WHITESPACE","\n        ",602],["T_SWITCH","switch",603],["T_WHITESPACE"," ",603],"(",["T_VARIABLE","$methodName",603],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_CASE","case",604],["T_WHITESPACE"," ",604],["T_NS_SEPARATOR","\\",604],["T_STRING","Magento",604],["T_NS_SEPARATOR","\\",604],["T_STRING","Paypal",604],["T_NS_SEPARATOR","\\",604],["T_STRING","Model",604],["T_NS_SEPARATOR","\\",604],["T_STRING","Api",604],["T_NS_SEPARATOR","\\",604],["T_STRING","Nvp",604],["T_DOUBLE_COLON","::",604],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",604],":",["T_WHITESPACE","\n            ",604],["T_CASE","case",605],["T_WHITESPACE"," ",605],["T_NS_SEPARATOR","\\",605],["T_STRING","Magento",605],["T_NS_SEPARATOR","\\",605],["T_STRING","Paypal",605],["T_NS_SEPARATOR","\\",605],["T_STRING","Model",605],["T_NS_SEPARATOR","\\",605],["T_STRING","Api",605],["T_NS_SEPARATOR","\\",605],["T_STRING","Nvp",605],["T_DOUBLE_COLON","::",605],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",605],":",["T_WHITESPACE","\n            ",605],["T_CASE","case",606],["T_WHITESPACE"," ",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Magento",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Paypal",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Model",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Api",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Nvp",606],["T_DOUBLE_COLON","::",606],["T_STRING","SET_EXPRESS_CHECKOUT",606],":",["T_WHITESPACE","\n            ",606],["T_CASE","case",607],["T_WHITESPACE"," ",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Magento",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Paypal",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Model",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Api",607],["T_NS_SEPARATOR","\\",607],["T_STRING","Nvp",607],["T_DOUBLE_COLON","::",607],["T_STRING","DO_DIRECT_PAYMENT",607],":",["T_WHITESPACE","\n                ",607],["T_RETURN","return",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","_config",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getValue",608],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_action'",608],")",["T_WHITESPACE"," ",608],["T_IS_EQUAL","==",608],["T_WHITESPACE","\n                    ",608],["T_NS_SEPARATOR","\\",609],["T_STRING","Magento",609],["T_NS_SEPARATOR","\\",609],["T_STRING","Paypal",609],["T_NS_SEPARATOR","\\",609],["T_STRING","Model",609],["T_NS_SEPARATOR","\\",609],["T_STRING","Config",609],["T_DOUBLE_COLON","::",609],["T_STRING","PAYMENT_ACTION_AUTH",609],["T_WHITESPACE"," ",609],"?",["T_WHITESPACE"," ",609],["T_STRING","self",609],["T_DOUBLE_COLON","::",609],["T_STRING","TRXTYPE_AUTH_ONLY",609],["T_WHITESPACE"," ",609],":",["T_WHITESPACE"," ",609],["T_STRING","self",609],["T_DOUBLE_COLON","::",609],["T_STRING","TRXTYPE_SALE",609],";",["T_WHITESPACE","\n            ",609],["T_CASE","case",610],["T_WHITESPACE"," ",610],["T_NS_SEPARATOR","\\",610],["T_STRING","Magento",610],["T_NS_SEPARATOR","\\",610],["T_STRING","Paypal",610],["T_NS_SEPARATOR","\\",610],["T_STRING","Model",610],["T_NS_SEPARATOR","\\",610],["T_STRING","Api",610],["T_NS_SEPARATOR","\\",610],["T_STRING","Nvp",610],["T_DOUBLE_COLON","::",610],["T_STRING","DO_CAPTURE",610],":",["T_WHITESPACE","\n                ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_STRING","self",611],["T_DOUBLE_COLON","::",611],["T_STRING","TRXTYPE_DELAYED_CAPTURE",611],";",["T_WHITESPACE","\n            ",611],["T_CASE","case",612],["T_WHITESPACE"," ",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Magento",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Paypal",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Model",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Api",612],["T_NS_SEPARATOR","\\",612],["T_STRING","Nvp",612],["T_DOUBLE_COLON","::",612],["T_STRING","DO_VOID",612],":",["T_WHITESPACE","\n                ",612],["T_RETURN","return",613],["T_WHITESPACE"," ",613],["T_STRING","self",613],["T_DOUBLE_COLON","::",613],["T_STRING","TRXTYPE_DELAYED_VOID",613],";",["T_WHITESPACE","\n            ",613],["T_CASE","case",614],["T_WHITESPACE"," ",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Magento",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Paypal",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Model",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Api",614],["T_NS_SEPARATOR","\\",614],["T_STRING","Nvp",614],["T_DOUBLE_COLON","::",614],["T_STRING","REFUND_TRANSACTION",614],":",["T_WHITESPACE","\n                ",614],["T_RETURN","return",615],["T_WHITESPACE"," ",615],["T_STRING","self",615],["T_DOUBLE_COLON","::",615],["T_STRING","TRXTYPE_CREDIT",615],";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n    ",616],"}",["T_WHITESPACE","\n\n    ",617],["T_DOC_COMMENT","\/**\n     * Catch success calls and collect warnings\n     *\n     * @param array $response\n     * @return bool success flag\n     *\/",619],["T_WHITESPACE","\n    ",624],["T_PROTECTED","protected",625],["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],["T_STRING","_isCallSuccessful",625],"(",["T_VARIABLE","$response",625],")",["T_WHITESPACE","\n    ",625],"{",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","_callWarnings",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],"[","]",";",["T_WHITESPACE","\n        ",627],["T_IF","if",628],["T_WHITESPACE"," ",628],"(",["T_VARIABLE","$response",628],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",628],"]",["T_WHITESPACE"," ",628],["T_IS_EQUAL","==",628],["T_WHITESPACE"," ",628],["T_STRING","self",628],["T_DOUBLE_COLON","::",628],["T_STRING","RESPONSE_CODE_APPROVED",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n            ",628],["T_COMMENT","\/\/ collect warnings\n",629],["T_WHITESPACE","            ",630],["T_IF","if",630],["T_WHITESPACE"," ",630],"(","!",["T_EMPTY","empty",630],"(",["T_VARIABLE","$response",630],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",630],"]",")",["T_WHITESPACE"," ",630],["T_BOOLEAN_AND","&&",630],["T_WHITESPACE"," ",630],["T_STRING","strtoupper",630],"(",["T_VARIABLE","$response",630],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",630],"]",")",["T_WHITESPACE"," ",630],["T_IS_NOT_EQUAL","!=",630],["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'APPROVED'",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n                ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_callWarnings",631],"[","]",["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_VARIABLE","$response",631],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",631],"]",";",["T_WHITESPACE","\n            ",631],"}",["T_WHITESPACE","\n            ",632],["T_RETURN","return",633],["T_WHITESPACE"," ",633],["T_STRING","true",633],";",["T_WHITESPACE","\n        ",633],"}",["T_WHITESPACE","\n        ",634],["T_RETURN","return",635],["T_WHITESPACE"," ",635],["T_STRING","false",635],";",["T_WHITESPACE","\n    ",635],"}",["T_WHITESPACE","\n\n    ",636],["T_DOC_COMMENT","\/**\n     * Handle logical errors\n     *\n     * @param array $response\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",638],["T_WHITESPACE","\n    ",644],["T_PROTECTED","protected",645],["T_WHITESPACE"," ",645],["T_FUNCTION","function",645],["T_WHITESPACE"," ",645],["T_STRING","_handleCallErrors",645],"(",["T_VARIABLE","$response",645],")",["T_WHITESPACE","\n    ",645],"{",["T_WHITESPACE","\n        ",646],["T_IF","if",647],["T_WHITESPACE"," ",647],"(",["T_VARIABLE","$response",647],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",647],"]",["T_WHITESPACE"," ",647],["T_IS_NOT_EQUAL","!=",647],["T_WHITESPACE"," ",647],["T_STRING","self",647],["T_DOUBLE_COLON","::",647],["T_STRING","RESPONSE_CODE_APPROVED",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$message",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$response",648],"[",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",648],"]",";",["T_WHITESPACE","\n            ",648],["T_VARIABLE","$e",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_NEW","new",649],["T_WHITESPACE"," ",649],["T_NS_SEPARATOR","\\",649],["T_STRING","Exception",649],"(",["T_STRING","sprintf",649],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal gateway errors: %s.'",649],",",["T_WHITESPACE"," ",649],["T_VARIABLE","$message",649],")",")",";",["T_WHITESPACE","\n            ",649],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","_logger",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","critical",650],"(",["T_VARIABLE","$e",650],")",";",["T_WHITESPACE","\n            ",650],["T_THROW","throw",651],["T_WHITESPACE"," ",651],["T_NEW","new",651],["T_WHITESPACE"," ",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Magento",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Framework",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Exception",651],["T_NS_SEPARATOR","\\",651],["T_STRING","LocalizedException",651],"(",["T_WHITESPACE","\n                ",651],["T_STRING","__",652],"(",["T_CONSTANT_ENCAPSED_STRING","'The PayPal gateway rejected the request. %1'",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$message",652],")",["T_WHITESPACE","\n            ",652],")",";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE","\n    ",654],"}",["T_WHITESPACE","\n\n    ",655],["T_DOC_COMMENT","\/**\n     * Build query string without urlencoding from request\n     *\n     * @param array $request\n     * @return string\n     *\/",657],["T_WHITESPACE","\n    ",662],["T_PROTECTED","protected",663],["T_WHITESPACE"," ",663],["T_FUNCTION","function",663],["T_WHITESPACE"," ",663],["T_STRING","_buildQuery",663],"(",["T_VARIABLE","$request",663],")",["T_WHITESPACE","\n    ",663],"{",["T_WHITESPACE","\n        ",664],["T_VARIABLE","$result",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","''",665],";",["T_WHITESPACE","\n        ",665],["T_FOREACH","foreach",666],["T_WHITESPACE"," ",666],"(",["T_VARIABLE","$request",666],["T_WHITESPACE"," ",666],["T_AS","as",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$k",666],["T_WHITESPACE"," ",666],["T_DOUBLE_ARROW","=>",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$v",666],")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n            ",666],["T_VARIABLE","$result",667],["T_WHITESPACE"," ",667],["T_CONCAT_EQUAL",".=",667],["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'&'",667],["T_WHITESPACE"," ",667],".",["T_WHITESPACE"," ",667],["T_VARIABLE","$k",667],["T_WHITESPACE"," ",667],".",["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'='",667],["T_WHITESPACE"," ",667],".",["T_WHITESPACE"," ",667],["T_VARIABLE","$v",667],";",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n        ",668],["T_RETURN","return",669],["T_WHITESPACE"," ",669],["T_STRING","trim",669],"(",["T_VARIABLE","$result",669],",",["T_WHITESPACE"," ",669],["T_CONSTANT_ENCAPSED_STRING","'&'",669],")",";",["T_WHITESPACE","\n    ",669],"}",["T_WHITESPACE","\n\n    ",670],["T_DOC_COMMENT","\/**\n     * Generate Request ID\n     *\n     * @return string\n     *\/",672],["T_WHITESPACE","\n    ",676],["T_PROTECTED","protected",677],["T_WHITESPACE"," ",677],["T_FUNCTION","function",677],["T_WHITESPACE"," ",677],["T_STRING","getRequestId",677],"(",")",["T_WHITESPACE","\n    ",677],"{",["T_WHITESPACE","\n        ",678],["T_RETURN","return",679],["T_WHITESPACE"," ",679],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","mathRandom",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getUniqueHash",679],"(",")",";",["T_WHITESPACE","\n    ",679],"}",["T_WHITESPACE","\n\n    ",680],["T_DOC_COMMENT","\/**\n     * GetTransactionDetails method does not exists in Payflow\n     *\n     * @return void\n     *\/",682],["T_WHITESPACE","\n    ",686],["T_PUBLIC","public",687],["T_WHITESPACE"," ",687],["T_FUNCTION","function",687],["T_WHITESPACE"," ",687],["T_STRING","callGetTransactionDetails",687],"(",")",["T_WHITESPACE","\n    ",687],"{",["T_WHITESPACE","\n    ",688],"}",["T_WHITESPACE","\n\n    ",689],["T_DOC_COMMENT","\/**\n     * Get FMF results from response, if any\n     *\n     * @param array $from\n     * @param array $collectedWarnings\n     * @return void\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",691],["T_WHITESPACE","\n    ",698],["T_PROTECTED","protected",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","_importFraudFiltersResult",699],"(",["T_ARRAY","array",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$from",699],",",["T_WHITESPACE"," ",699],["T_ARRAY","array",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$collectedWarnings",699],")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_IF","if",701],["T_WHITESPACE"," ",701],"(",["T_VARIABLE","$from",701],"[",["T_CONSTANT_ENCAPSED_STRING","'RESULT'",701],"]",["T_WHITESPACE"," ",701],["T_IS_NOT_EQUAL","!=",701],["T_WHITESPACE"," ",701],["T_STRING","self",701],["T_DOUBLE_COLON","::",701],["T_STRING","RESPONSE_CODE_FRAUD",701],")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n            ",701],["T_RETURN","return",702],";",["T_WHITESPACE","\n        ",702],"}",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","setIsPaymentPending",704],"(",["T_STRING","true",704],")",";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Return each call request fields\n     * (PayFlow edition doesn't support Unilateral payments)\n     *\n     * @param string $methodName Current method name\n     * @return string[]\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",707],["T_WHITESPACE","\n    ",714],["T_PROTECTED","protected",715],["T_WHITESPACE"," ",715],["T_FUNCTION","function",715],["T_WHITESPACE"," ",715],["T_STRING","_prepareEachCallRequest",715],"(",["T_VARIABLE","$methodName",715],")",["T_WHITESPACE","\n    ",715],"{",["T_WHITESPACE","\n        ",716],["T_RETURN","return",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","_eachCallRequest",717],";",["T_WHITESPACE","\n    ",717],"}",["T_WHITESPACE","\n\n    ",718],["T_DOC_COMMENT","\/**\n     * Overwrite parent logic, simply return input data\n     * (PayFlow edition doesn't support Unilateral payments)\n     *\n     * @param array $requestFields Standard set of values\n     * @return array\n     *\/",720],["T_WHITESPACE","\n    ",726],["T_PROTECTED","protected",727],["T_WHITESPACE"," ",727],["T_FUNCTION","function",727],["T_WHITESPACE"," ",727],["T_STRING","_prepareExpressCheckoutCallRequest",727],"(","&",["T_VARIABLE","$requestFields",727],")",["T_WHITESPACE","\n    ",727],"{",["T_WHITESPACE","\n        ",728],["T_RETURN","return",729],["T_WHITESPACE"," ",729],["T_VARIABLE","$requestFields",729],";",["T_WHITESPACE","\n    ",729],"}",["T_WHITESPACE","\n\n    ",730],["T_DOC_COMMENT","\/**\n     * Additional response processing.\n     * Hack to cut off length from API type response params.\n     *\n     * @param  array $response\n     * @return array\n     *\/",732],["T_WHITESPACE","\n    ",738],["T_PROTECTED","protected",739],["T_WHITESPACE"," ",739],["T_FUNCTION","function",739],["T_WHITESPACE"," ",739],["T_STRING","_postProcessResponse",739],"(",["T_VARIABLE","$response",739],")",["T_WHITESPACE","\n    ",739],"{",["T_WHITESPACE","\n        ",740],["T_FOREACH","foreach",741],["T_WHITESPACE"," ",741],"(",["T_VARIABLE","$response",741],["T_WHITESPACE"," ",741],["T_AS","as",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$key",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$value",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$pos",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_STRING","strpos",742],"(",["T_VARIABLE","$key",742],",",["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'['",742],")",";",["T_WHITESPACE","\n\n            ",742],["T_IF","if",744],["T_WHITESPACE"," ",744],"(",["T_VARIABLE","$pos",744],["T_WHITESPACE"," ",744],["T_IS_IDENTICAL","===",744],["T_WHITESPACE"," ",744],["T_STRING","false",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n                ",744],["T_CONTINUE","continue",745],";",["T_WHITESPACE","\n            ",745],"}",["T_WHITESPACE","\n\n            ",746],["T_UNSET","unset",748],"(",["T_VARIABLE","$response",748],"[",["T_VARIABLE","$key",748],"]",")",";",["T_WHITESPACE","\n\n            ",748],["T_IF","if",750],["T_WHITESPACE"," ",750],"(",["T_VARIABLE","$pos",750],["T_WHITESPACE"," ",750],["T_IS_NOT_IDENTICAL","!==",750],["T_WHITESPACE"," ",750],["T_LNUMBER","0",750],")",["T_WHITESPACE"," ",750],"{",["T_WHITESPACE","\n                ",750],["T_VARIABLE","$modifiedKey",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_STRING","substr",751],"(",["T_VARIABLE","$key",751],",",["T_WHITESPACE"," ",751],["T_LNUMBER","0",751],",",["T_WHITESPACE"," ",751],["T_VARIABLE","$pos",751],")",";",["T_WHITESPACE","\n                ",751],["T_VARIABLE","$response",752],"[",["T_VARIABLE","$modifiedKey",752],"]",["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$value",752],";",["T_WHITESPACE","\n            ",752],"}",["T_WHITESPACE","\n        ",753],"}",["T_WHITESPACE","\n\n        ",754],["T_RETURN","return",756],["T_WHITESPACE"," ",756],["T_VARIABLE","$response",756],";",["T_WHITESPACE","\n    ",756],"}",["T_WHITESPACE","\n\n    ",757],["T_DOC_COMMENT","\/**\n     * Checking negative line items\n     *\n     * @param array $request\n     * @param int $i\n     * @return null|true\n     *\/",759],["T_WHITESPACE","\n    ",765],["T_PROTECTED","protected",766],["T_WHITESPACE"," ",766],["T_FUNCTION","function",766],["T_WHITESPACE"," ",766],["T_STRING","_exportLineItems",766],"(",["T_ARRAY","array",766],["T_WHITESPACE"," ",766],"&",["T_VARIABLE","$request",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$i",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_LNUMBER","0",766],")",["T_WHITESPACE","\n    ",766],"{",["T_WHITESPACE","\n        ",767],["T_VARIABLE","$requestBefore",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_VARIABLE","$request",768],";",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$result",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_STRING","parent",769],["T_DOUBLE_COLON","::",769],["T_STRING","_exportLineItems",769],"(",["T_VARIABLE","$request",769],",",["T_WHITESPACE"," ",769],["T_VARIABLE","$i",769],")",";",["T_WHITESPACE","\n        ",769],["T_IF","if",770],["T_WHITESPACE"," ",770],"(",["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","getIsLineItemsEnabled",770],"(",")",["T_WHITESPACE"," ",770],["T_BOOLEAN_AND","&&",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_cart",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","hasNegativeItemAmount",770],"(",")",")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","_lineItemTotalExportMap",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],"[",["T_WHITESPACE","\n                ",771],["T_STRING","Cart",772],["T_DOUBLE_COLON","::",772],["T_STRING","AMOUNT_TAX",772],["T_WHITESPACE","      ",772],["T_DOUBLE_ARROW","=>",772],["T_WHITESPACE"," ",772],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",772],",",["T_WHITESPACE","\n                ",772],["T_STRING","Cart",773],["T_DOUBLE_COLON","::",773],["T_STRING","AMOUNT_SHIPPING",773],["T_WHITESPACE"," ",773],["T_DOUBLE_ARROW","=>",773],["T_WHITESPACE"," ",773],["T_CONSTANT_ENCAPSED_STRING","'FREIGHTAMT'",773],",",["T_WHITESPACE","\n                ",773],["T_CONSTANT_ENCAPSED_STRING","'amount'",774],["T_WHITESPACE","              ",774],["T_DOUBLE_ARROW","=>",774],["T_WHITESPACE"," ",774],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTREQUEST_0_ITEMAMT'",774],",",["T_WHITESPACE","\n            ",774],"]",";",["T_WHITESPACE","\n            ",775],["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","_lineItemExportItemsFormat",776],["T_WHITESPACE"," ",776],"=",["T_WHITESPACE"," ",776],"[",["T_WHITESPACE","\n                ",776],["T_CONSTANT_ENCAPSED_STRING","'name'",777],["T_WHITESPACE","   ",777],["T_DOUBLE_ARROW","=>",777],["T_WHITESPACE"," ",777],["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_NAME%d'",777],",",["T_WHITESPACE","\n                ",777],["T_CONSTANT_ENCAPSED_STRING","'qty'",778],["T_WHITESPACE","    ",778],["T_DOUBLE_ARROW","=>",778],["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_QTY%d'",778],",",["T_WHITESPACE","\n                ",778],["T_CONSTANT_ENCAPSED_STRING","'amount'",779],["T_WHITESPACE"," ",779],["T_DOUBLE_ARROW","=>",779],["T_WHITESPACE"," ",779],["T_CONSTANT_ENCAPSED_STRING","'L_PAYMENTREQUEST_0_AMT%d'",779],",",["T_WHITESPACE","\n            ",779],"]",";",["T_WHITESPACE","\n            ",780],["T_VARIABLE","$request",781],["T_WHITESPACE"," ",781],"=",["T_WHITESPACE"," ",781],["T_VARIABLE","$requestBefore",781],";",["T_WHITESPACE","\n            ",781],["T_VARIABLE","$result",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],["T_STRING","parent",782],["T_DOUBLE_COLON","::",782],["T_STRING","_exportLineItems",782],"(",["T_VARIABLE","$request",782],",",["T_WHITESPACE"," ",782],["T_VARIABLE","$i",782],")",";",["T_WHITESPACE","\n            ",782],["T_DOC_COMMENT","\/** @var Nvp $paypalNvp *\/",783],["T_WHITESPACE","\n            ",783],["T_VARIABLE","$paypalNvp",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","nvpFactory",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","create",784],"(",")",";",["T_WHITESPACE","\n            ",784],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","_doCaptureResponse",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_VARIABLE","$paypalNvp",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","_doCaptureResponse",785],";",["T_WHITESPACE","\n            ",785],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","_refundTransactionResponse",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_VARIABLE","$paypalNvp",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","_refundTransactionResponse",786],";",["T_WHITESPACE","\n            ",786],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","_getTransactionDetailsResponse",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_VARIABLE","$paypalNvp",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","_getTransactionDetailsResponse",787],";",["T_WHITESPACE","\n            ",787],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","_paymentInformationResponse",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_VARIABLE","$paypalNvp",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","_paymentInformationResponse",788],";",["T_WHITESPACE","\n            ",788],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","_headers",789],"[","]",["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_CONSTANT_ENCAPSED_STRING","'PAYPAL-NVP: Y'",789],";",["T_WHITESPACE","\n            ",789],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_setSpecificForNegativeLineItems",790],"(",")",";",["T_WHITESPACE","\n        ",790],"}",["T_WHITESPACE","\n        ",791],["T_RETURN","return",792],["T_WHITESPACE"," ",792],["T_VARIABLE","$result",792],";",["T_WHITESPACE","\n    ",792],"}",["T_WHITESPACE","\n\n    ",793],["T_DOC_COMMENT","\/**\n     * Set specific data when negative line item case\n     * @return void\n     *\/",795],["T_WHITESPACE","\n    ",798],["T_PROTECTED","protected",799],["T_WHITESPACE"," ",799],["T_FUNCTION","function",799],["T_WHITESPACE"," ",799],["T_STRING","_setSpecificForNegativeLineItems",799],"(",")",["T_WHITESPACE","\n    ",799],"{",["T_WHITESPACE","\n        ",800],["T_DOC_COMMENT","\/** @var Nvp $paypalNvp *\/",801],["T_WHITESPACE","\n        ",801],["T_VARIABLE","$paypalNvp",802],["T_WHITESPACE"," ",802],"=",["T_WHITESPACE"," ",802],["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","nvpFactory",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","create",802],"(",")",";",["T_WHITESPACE","\n        ",802],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","_setExpressCheckoutResponse",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$paypalNvp",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","_setExpressCheckoutResponse",803],";",["T_WHITESPACE","\n        ",803],["T_VARIABLE","$index",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_STRING","array_search",804],"(",["T_CONSTANT_ENCAPSED_STRING","'PPREF'",804],",",["T_WHITESPACE"," ",804],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","_doExpressCheckoutPaymentResponse",804],")",";",["T_WHITESPACE","\n        ",804],["T_IF","if",805],["T_WHITESPACE"," ",805],"(",["T_STRING","false",805],["T_WHITESPACE"," ",805],["T_IS_NOT_IDENTICAL","!==",805],["T_WHITESPACE"," ",805],["T_VARIABLE","$index",805],")",["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n            ",805],["T_UNSET","unset",806],"(",["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","_doExpressCheckoutPaymentResponse",806],"[",["T_VARIABLE","$index",806],"]",")",";",["T_WHITESPACE","\n        ",806],"}",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","_doExpressCheckoutPaymentResponse",808],"[","]",["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",808],";",["T_WHITESPACE","\n        ",808],["T_VARIABLE","$this",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","_requiredResponseParams",809],"[",["T_STRING","self",809],["T_DOUBLE_COLON","::",809],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",809],"]","[","]",["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTINFO_0_TRANSACTIONID'",809],";",["T_WHITESPACE","\n    ",809],"}",["T_WHITESPACE","\n",810],"}",["T_WHITESPACE","\n",811]]