[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payflow",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Service",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Response",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Validator",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataObject",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Paypal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Payflow",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Service",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Response",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ValidatorInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Paypal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payflow",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Transparent",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class CVV2Match\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","CVV2Match",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","ValidatorInterface",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Result of the card security code (CVV2) check\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","CVV2MATCH",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'cvv2match'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * This field returns the transaction amount, or if performing a partial authorization,\n     * the amount approved for the partial authorization.\n     *\/",22],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","AMT",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'amt'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Message if validation fail\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","ERROR_MESSAGE",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Card security code does not match.'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** Values of the response *\/",33],["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","RESPONSE_YES",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'y'",34],";",["T_WHITESPACE","\n\n    ",34],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","RESPONSE_NO",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'n'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","RESPONSE_NOT_SUPPORTED",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'x'",38],";",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**  *\/",39],["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/** Validation settings payments *\/",41],["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","CONFIG_ON",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],";",["T_WHITESPACE","\n\n    ",42],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","CONFIG_OFF",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],";",["T_WHITESPACE","\n\n    ",44],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","CONFIG_NAME",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'avs_security_code'",46],";",["T_WHITESPACE","\n    ",46],["T_DOC_COMMENT","\/**  *\/",47],["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Validate data\n     *\n     * @param DataObject $response\n     * @param Transparent $transparentModel\n     * @return bool\n     *\/",49],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","validate",56],"(",["T_STRING","DataObject",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$response",56],",",["T_WHITESPACE"," ",56],["T_STRING","Transparent",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$transparentModel",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$transparentModel",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getConfig",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getValue",58],"(",["T_STATIC","static",58],["T_DOUBLE_COLON","::",58],["T_STRING","CONFIG_NAME",58],")",["T_WHITESPACE"," ",58],["T_IS_IDENTICAL","===",58],["T_WHITESPACE"," ",58],["T_STATIC","static",58],["T_DOUBLE_COLON","::",58],["T_STRING","CONFIG_OFF",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_STRING","true",59],";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","isMatchCvv",62],"(",["T_VARIABLE","$response",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_STRING","true",63],";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n        ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","isNotMatchCvv",66],"(",["T_VARIABLE","$response",66],")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$response",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setRespmsg",67],"(",["T_STATIC","static",67],["T_DOUBLE_COLON","::",67],["T_STRING","ERROR_MESSAGE",67],")",";",["T_WHITESPACE","\n            ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","false",68],";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n\n        ",69],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","isCvvDoNotExists",71],"(",["T_VARIABLE","$response",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_STRING","true",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$response",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setRespmsg",75],"(",["T_STATIC","static",75],["T_DOUBLE_COLON","::",75],["T_STRING","ERROR_MESSAGE",75],")",";",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","false",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Matching card CVV (positive)\n     *\n     * @param DataObject $response\n     * @return bool\n     *\/",79],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","isMatchCvv",85],"(",["T_STRING","DataObject",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$response",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$cvvMatch",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","strtolower",87],"(",["T_STRING_CAST","(string)",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$response",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getData",87],"(",["T_STATIC","static",87],["T_DOUBLE_COLON","::",87],["T_STRING","CVV2MATCH",87],")",")",";",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$cvvMatch",88],["T_WHITESPACE"," ",88],["T_IS_IDENTICAL","===",88],["T_WHITESPACE"," ",88],["T_STATIC","static",88],["T_DOUBLE_COLON","::",88],["T_STRING","RESPONSE_YES",88],["T_WHITESPACE"," ",88],["T_BOOLEAN_OR","||",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$cvvMatch",88],["T_WHITESPACE"," ",88],["T_IS_IDENTICAL","===",88],["T_WHITESPACE"," ",88],["T_STATIC","static",88],["T_DOUBLE_COLON","::",88],["T_STRING","RESPONSE_NOT_SUPPORTED",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Matching card CVV (negative)\n     *\n     * @param DataObject $response\n     * @return bool\n     *\/",91],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","isNotMatchCvv",97],"(",["T_STRING","DataObject",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$response",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","strtolower",99],"(",["T_STRING_CAST","(string)",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$response",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getData",99],"(",["T_STATIC","static",99],["T_DOUBLE_COLON","::",99],["T_STRING","CVV2MATCH",99],")",")",["T_WHITESPACE"," ",99],["T_IS_IDENTICAL","===",99],["T_WHITESPACE"," ",99],["T_STATIC","static",99],["T_DOUBLE_COLON","::",99],["T_STRING","RESPONSE_NO",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Checking that the CVV does not exist in the response\n     *\n     * @param DataObject $response\n     * @return bool\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","isCvvDoNotExists",108],"(",["T_STRING","DataObject",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$response",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$response",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getData",110],"(",["T_STATIC","static",110],["T_DOUBLE_COLON","::",110],["T_STRING","CVV2MATCH",110],")",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n",111],"}",["T_WHITESPACE","\n",112]]