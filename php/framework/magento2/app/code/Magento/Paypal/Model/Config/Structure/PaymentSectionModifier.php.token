[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Structure",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * PayPal change structure of payment methods configuration in admin panel.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","PaymentSectionModifier",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Identifiers of special payment method configuration groups\n     *\n     * @var array\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PRIVATE","private",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$specialGroups",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[",["T_WHITESPACE","\n        ",18],["T_CONSTANT_ENCAPSED_STRING","'account'",19],",",["T_WHITESPACE","\n        ",19],["T_CONSTANT_ENCAPSED_STRING","'recommended_solutions'",20],",",["T_WHITESPACE","\n        ",20],["T_CONSTANT_ENCAPSED_STRING","'other_paypal_payment_solutions'",21],",",["T_WHITESPACE","\n        ",21],["T_CONSTANT_ENCAPSED_STRING","'other_payment_methods'",22],",",["T_WHITESPACE","\n    ",22],"]",";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Returns changed section structure.\n     *\n     * Payment configuration has predefined special blocks:\n     *  - Account information (id = account),\n     *  - Recommended Solutions (id = recommended_solutions),\n     *  - Other PayPal paymnt solution (id = other_paypal_payment_solutions),\n     *  - Other payment methods (id = other_payment_methods).\n     * All payment methods configuration should be moved to one of this group.\n     * To move payment method to specific configuration group specify \"displayIn\"\n     * attribute in system.xml file equals to any id of predefined special group.\n     * If \"displayIn\" attribute is not specified then payment method moved to \"Other payment methods\" group\n     *\n     * @param array $initialStructure\n     * @return array\n     *\/",25],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","modify",41],"(",["T_ARRAY","array",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$initialStructure",41],")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$changedStructure",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","array_fill_keys",43],"(",["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_VARIABLE","$specialGroups",43],",",["T_WHITESPACE"," ",43],"[","]",")",";",["T_WHITESPACE","\n\n        ",43],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$initialStructure",45],["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$childSection",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$childData",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_STRING","in_array",46],"(",["T_VARIABLE","$childSection",46],",",["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_VARIABLE","$specialGroups",46],")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n                ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_ISSET","isset",47],"(",["T_VARIABLE","$changedStructure",47],"[",["T_VARIABLE","$childSection",47],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",47],"]",")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                    ",47],["T_VARIABLE","$children",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$changedStructure",48],"[",["T_VARIABLE","$childSection",48],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",48],"]",";",["T_WHITESPACE","\n                    ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_ISSET","isset",49],"(",["T_VARIABLE","$childData",49],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",49],"]",")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                        ",49],["T_VARIABLE","$children",50],["T_WHITESPACE"," ",50],["T_PLUS_EQUAL","+=",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$childData",50],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",50],"]",";",["T_WHITESPACE","\n                    ",50],"}",["T_WHITESPACE","\n                    ",51],["T_VARIABLE","$childData",52],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$children",52],";",["T_WHITESPACE","\n                    ",52],["T_UNSET","unset",53],"(",["T_VARIABLE","$children",53],")",";",["T_WHITESPACE","\n                ",53],"}",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$changedStructure",55],"[",["T_VARIABLE","$childSection",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$childData",55],";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE"," ",56],["T_ELSE","else",56],["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$moveInstructions",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getMoveInstructions",57],"(",["T_VARIABLE","$childSection",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$childData",57],")",";",["T_WHITESPACE","\n                ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_EMPTY","empty",58],"(",["T_VARIABLE","$moveInstructions",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                    ",58],["T_FOREACH","foreach",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$moveInstructions",59],["T_WHITESPACE"," ",59],["T_AS","as",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$moveInstruction",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                        ",59],["T_UNSET","unset",60],"(",["T_VARIABLE","$childData",60],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",60],"]","[",["T_VARIABLE","$moveInstruction",60],"[",["T_CONSTANT_ENCAPSED_STRING","'section'",60],"]","]",")",";",["T_WHITESPACE","\n                        ",60],["T_UNSET","unset",61],"(",["T_VARIABLE","$moveInstruction",61],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",61],"]","[",["T_CONSTANT_ENCAPSED_STRING","'displayIn'",61],"]",")",";",["T_WHITESPACE","\n                        ",61],["T_VARIABLE","$changedStructure",62],["T_WHITESPACE","\n                            ",62],"[",["T_VARIABLE","$moveInstruction",63],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",63],"]","]",["T_WHITESPACE","\n                                ",63],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",64],"]",["T_WHITESPACE","\n                                    ",64],"[",["T_VARIABLE","$moveInstruction",65],"[",["T_CONSTANT_ENCAPSED_STRING","'section'",65],"]","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$moveInstruction",65],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",65],"]",";",["T_WHITESPACE","\n                    ",65],"}",["T_WHITESPACE","\n                ",66],"}",["T_WHITESPACE","\n                ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(","!",["T_ISSET","isset",68],"(",["T_VARIABLE","$moveInstructions",68],"[",["T_VARIABLE","$childSection",68],"]",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                    ",68],["T_VARIABLE","$changedStructure",69],"[",["T_CONSTANT_ENCAPSED_STRING","'other_payment_methods'",69],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",69],"]","[",["T_VARIABLE","$childSection",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$childData",69],";",["T_WHITESPACE","\n                ",69],"}",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$changedStructure",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Recursively collect groups that should be moved to special section\n     *\n     * @param string $section\n     * @param array $data\n     * @return array\n     *\/",77],["T_WHITESPACE","\n    ",83],["T_PRIVATE","private",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","getMoveInstructions",84],"(",["T_VARIABLE","$section",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$data",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$moved",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[","]",";",["T_WHITESPACE","\n\n        ",86],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_STRING","array_key_exists",88],"(",["T_CONSTANT_ENCAPSED_STRING","'children'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$data",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",89],"]",["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$childSection",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$childData",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$movedChildren",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMoveInstructions",90],"(",["T_VARIABLE","$childSection",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$childData",90],")",";",["T_WHITESPACE","\n                ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$movedChildren",91],"[",["T_VARIABLE","$childSection",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                    ",91],["T_UNSET","unset",92],"(",["T_VARIABLE","$data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",92],"]","[",["T_VARIABLE","$childSection",92],"]",")",";",["T_WHITESPACE","\n                ",92],"}",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$moved",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","array_merge",94],"(",["T_VARIABLE","$moved",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$movedChildren",94],")",";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_ISSET","isset",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'displayIn'",98],"]",")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_STRING","in_array",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'displayIn'",98],"]",",",["T_WHITESPACE"," ",98],["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_VARIABLE","$specialGroups",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$moved",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","array_merge",99],"(",["T_WHITESPACE","\n                ",99],"[",["T_WHITESPACE","\n                    ",100],["T_VARIABLE","$section",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],"[",["T_WHITESPACE","\n                    ",101],["T_CONSTANT_ENCAPSED_STRING","'parent'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'displayIn'",102],"]",",",["T_WHITESPACE","\n                    ",102],["T_CONSTANT_ENCAPSED_STRING","'section'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$section",103],",",["T_WHITESPACE","\n                    ",103],["T_CONSTANT_ENCAPSED_STRING","'data'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$data",104],["T_WHITESPACE","\n                    ",104],"]",["T_WHITESPACE","\n                ",105],"]",",",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$moved",107],["T_WHITESPACE","\n            ",107],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$moved",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]