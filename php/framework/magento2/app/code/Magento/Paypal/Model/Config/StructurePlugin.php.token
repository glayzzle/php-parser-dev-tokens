[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ScopeDefiner",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Structure",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Structure",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Element",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Section",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Structure",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ElementInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Paypal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Backend",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","BackendHelper",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ObjectManager",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Paypal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Structure",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PaymentSectionModifier",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Plugin for \\Magento\\Config\\Model\\Config\\Structure\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","StructurePlugin",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Request parameter name\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","REQUEST_PARAM_COUNTRY",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'paypal_country'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var BackendHelper\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$backendHelper",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var ScopeDefiner\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$scopeDefiner",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var PaymentSectionModifier\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$paymentSectionModifier",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var string[]\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_STATIC","static",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$paypalConfigCountries",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],"[",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'payment_us'",45],",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'payment_ca'",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'payment_au'",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'payment_gb'",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'payment_jp'",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'payment_fr'",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'payment_it'",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'payment_es'",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'payment_hk'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'payment_nz'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'payment_de'",55],",",["T_WHITESPACE","\n    ",55],"]",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @param ScopeDefiner $scopeDefiner\n     * @param BackendHelper $backendHelper\n     * @param PaymentSectionModifier|null $paymentSectionModifier\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","__construct",63],"(",["T_WHITESPACE","\n        ",63],["T_STRING","ScopeDefiner",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$scopeDefiner",64],",",["T_WHITESPACE","\n        ",64],["T_STRING","BackendHelper",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$backendHelper",65],",",["T_WHITESPACE","\n        ",65],["T_STRING","PaymentSectionModifier",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$paymentSectionModifier",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","null",66],["T_WHITESPACE","\n    ",66],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","scopeDefiner",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$scopeDefiner",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","backendHelper",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$backendHelper",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","paymentSectionModifier",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$paymentSectionModifier",70],["T_WHITESPACE","\n                                      ",70],"?",":",["T_WHITESPACE"," ",71],["T_STRING","ObjectManager",71],["T_DOUBLE_COLON","::",71],["T_STRING","getInstance",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_STRING","PaymentSectionModifier",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Get paypal configuration countries\n     *\n     * @param bool $addOther\n     * @return string[]\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_STATIC","static",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getPaypalConfigCountries",80],"(",["T_VARIABLE","$addOther",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","false",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$countries",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_VARIABLE","$paypalConfigCountries",82],";",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$addOther",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$countries",85],"[","]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'payment_other'",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$countries",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Substitute payment section with PayPal configs\n     *\n     * @param Structure $subject\n     * @param \\Closure $proceed\n     * @param array $pathParts\n     * @return ElementInterface|null\n     *\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",91],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","aroundGetElementByPathParts",101],"(",["T_STRING","Structure",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$subject",101],",",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Closure",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$proceed",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$pathParts",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$isSectionChanged",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$pathParts",103],"[",["T_LNUMBER","0",103],"]",["T_WHITESPACE"," ",103],["T_IS_EQUAL","==",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'payment'",103],";",["T_WHITESPACE","\n\n        ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$isSectionChanged",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$requestedCountrySection",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'payment_'",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_STRING","strtolower",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","backendHelper",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getConfigurationCountryCode",106],"(",")",")",";",["T_WHITESPACE","\n\n            ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","in_array",108],"(",["T_VARIABLE","$requestedCountrySection",108],",",["T_WHITESPACE"," ",108],["T_STRING","self",108],["T_DOUBLE_COLON","::",108],["T_STRING","getPaypalConfigCountries",108],"(",")",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$pathParts",109],"[",["T_LNUMBER","0",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$requestedCountrySection",109],";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE"," ",110],["T_ELSE","else",110],["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$pathParts",111],"[",["T_LNUMBER","0",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'payment_other'",111],";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$result",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$proceed",115],"(",["T_VARIABLE","$pathParts",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$isSectionChanged",117],["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$result",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$result",118],["T_WHITESPACE"," ",118],["T_INSTANCEOF","instanceof",118],["T_WHITESPACE"," ",118],["T_STRING","Section",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","restructurePayments",119],"(",["T_VARIABLE","$result",119],")",";",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$result",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setData",120],"(",["T_WHITESPACE","\n                    ",120],["T_STRING","array_merge",121],"(",["T_WHITESPACE","\n                        ",121],["T_VARIABLE","$result",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getData",122],"(",")",",",["T_WHITESPACE","\n                        ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'showInDefault'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","true",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'showInWebsite'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","true",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'showInStore'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","true",123],"]",["T_WHITESPACE","\n                    ",123],")",",",["T_WHITESPACE","\n                    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","scopeDefiner",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getScope",125],"(",")",["T_WHITESPACE","\n                ",125],")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$result",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Changes payment config structure.\n     *\n     * @param Section $result\n     * @return void\n     *\/",133],["T_WHITESPACE","\n    ",138],["T_PRIVATE","private",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","restructurePayments",139],"(",["T_STRING","Section",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$result",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$sectionData",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$result",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getData",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$sectionInitialStructure",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ISSET","isset",142],"(",["T_VARIABLE","$sectionData",142],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",142],"]",")",["T_WHITESPACE"," ",142],"?",["T_WHITESPACE"," ",142],["T_VARIABLE","$sectionData",142],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",142],"]",["T_WHITESPACE"," ",142],":",["T_WHITESPACE"," ",142],"[","]",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$sectionChangedStructure",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","paymentSectionModifier",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","modify",143],"(",["T_VARIABLE","$sectionInitialStructure",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$sectionData",144],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$sectionChangedStructure",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$result",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setData",145],"(",["T_VARIABLE","$sectionData",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","scopeDefiner",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getScope",145],"(",")",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n",146],"}",["T_WHITESPACE","\n",147]]