[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payflow",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataObject",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Payment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Formatter",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","InfoInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Paypal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payflowpro",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","OrderPaymentExtensionInterfaceFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Order",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Payment",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Paypal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payflow",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Service",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Gateway",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","LocalizedException",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Payment",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Method",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TransparentInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Payment",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Method",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ConfigInterfaceFactory",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","State",18],["T_NS_SEPARATOR","\\",18],["T_STRING","InvalidTransitionException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Paypal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Payflow",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Service",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Response",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Handler",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HandlerInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Paypal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Payflow",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Service",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Response",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Validator",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ResponseValidator",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Vault",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Api",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Data",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PaymentTokenInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Vault",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Api",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Data",22],["T_NS_SEPARATOR","\\",22],["T_STRING","PaymentTokenInterfaceFactory",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Payflow Pro payment gateway model\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",24],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Transparent",29],["T_WHITESPACE"," ",29],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","Payflowpro",29],["T_WHITESPACE"," ",29],["T_IMPLEMENTS","implements",29],["T_WHITESPACE"," ",29],["T_STRING","TransparentInterface",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Formatter",31],";",["T_WHITESPACE","\n\n    ",31],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","CC_DETAILS",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'cc_details'",33],";",["T_WHITESPACE","\n\n    ",33],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","CC_VAULT_CODE",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'payflowpro_cc_vault'",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_formBlockType",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Payment",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Block",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Transparent",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Info",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_infoBlockType",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Paypal",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Block",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Payflow",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Info",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var ResponseValidator\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$responseValidator",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenInterfaceFactory\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$paymentTokenFactory",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var OrderPaymentExtensionInterfaceFactory\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$paymentExtensionFactory",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param \\Magento\\Framework\\Api\\AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Payment\\Model\\Method\\Logger $logger\n     * @param \\Magento\\Framework\\Module\\ModuleListInterface $moduleList\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param ConfigInterfaceFactory $configFactory\n     * @param Gateway $gateway\n     * @param HandlerInterface $errorHandler\n     * @param ResponseValidator $responseValidator\n     * @param PaymentTokenInterfaceFactory $paymentTokenFactory\n     * @param OrderPaymentExtensionInterfaceFactory $paymentExtensionFactory\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",62],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","__construct",84],"(",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Context",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$context",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Registry",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$registry",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Api",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ExtensionAttributesFactory",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$extensionFactory",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Api",88],["T_NS_SEPARATOR","\\",88],["T_STRING","AttributeValueFactory",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$customAttributeFactory",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Payment",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Helper",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Data",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$paymentData",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","App",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Config",90],["T_NS_SEPARATOR","\\",90],["T_STRING","ScopeConfigInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$scopeConfig",90],",",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Payment",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Model",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Method",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Logger",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$logger",91],",",["T_WHITESPACE","\n        ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Module",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ModuleListInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$moduleList",92],",",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Stdlib",93],["T_NS_SEPARATOR","\\",93],["T_STRING","DateTime",93],["T_NS_SEPARATOR","\\",93],["T_STRING","TimezoneInterface",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$localeDate",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Store",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","StoreManagerInterface",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$storeManager",94],",",["T_WHITESPACE","\n        ",94],["T_STRING","ConfigInterfaceFactory",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$configFactory",95],",",["T_WHITESPACE","\n        ",95],["T_STRING","Gateway",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$gateway",96],",",["T_WHITESPACE","\n        ",96],["T_STRING","HandlerInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$errorHandler",97],",",["T_WHITESPACE","\n        ",97],["T_STRING","ResponseValidator",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$responseValidator",98],",",["T_WHITESPACE","\n        ",98],["T_STRING","PaymentTokenInterfaceFactory",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$paymentTokenFactory",99],",",["T_WHITESPACE","\n        ",99],["T_STRING","OrderPaymentExtensionInterfaceFactory",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$paymentExtensionFactory",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Framework",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","ResourceModel",101],["T_NS_SEPARATOR","\\",101],["T_STRING","AbstractResource",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$resource",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","null",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Data",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Collection",102],["T_NS_SEPARATOR","\\",102],["T_STRING","AbstractDb",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$resourceCollection",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],",",["T_WHITESPACE","\n        ",102],["T_ARRAY","array",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$data",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[","]",["T_WHITESPACE","\n    ",103],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n        ",104],["T_STRING","parent",105],["T_DOUBLE_COLON","::",105],["T_STRING","__construct",105],"(",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$context",106],",",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$registry",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$extensionFactory",108],",",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$customAttributeFactory",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$paymentData",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$scopeConfig",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$logger",112],",",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$moduleList",113],",",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$localeDate",114],",",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$storeManager",115],",",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$configFactory",116],",",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$gateway",117],",",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$errorHandler",118],",",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$resource",119],",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$resourceCollection",120],",",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$data",121],["T_WHITESPACE","\n        ",121],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","responseValidator",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$responseValidator",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","paymentTokenFactory",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$paymentTokenFactory",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","paymentExtensionFactory",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$paymentExtensionFactory",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * @return ResponseValidator\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getResponceValidator",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","responseValidator",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Do not validate payment form using server methods\n     *\n     * @return bool\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","validate",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_STRING","true",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Performs authorize transaction\n     *\n     * @param InfoInterface|Object $payment\n     * @param float $amount\n     * @return $this\n     * @throws InvalidTransitionException\n     * @throws LocalizedException\n     *\/",146],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","authorize",155],"(",["T_STRING","InfoInterface",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$payment",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$amount",155],")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_DOC_COMMENT","\/** @var Payment $payment *\/",157],["T_WHITESPACE","\n        ",157],["T_VARIABLE","$request",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","buildBasicRequest",158],"(",")",";",["T_WHITESPACE","\n\n        ",158],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order $order *\/",160],["T_WHITESPACE","\n        ",160],["T_VARIABLE","$order",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$payment",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getOrder",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","addRequestOrderInfo",162],"(",["T_VARIABLE","$request",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$order",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$request",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","fillCustomerContacts",163],"(",["T_VARIABLE","$order",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$request",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$token",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$payment",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getAdditionalInformation",165],"(",["T_STRING","self",165],["T_DOUBLE_COLON","::",165],["T_STRING","PNREF",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$request",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setData",166],"(",["T_CONSTANT_ENCAPSED_STRING","'trxtype'",166],",",["T_WHITESPACE"," ",166],["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","TRXTYPE_AUTH_ONLY",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$request",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setData",167],"(",["T_CONSTANT_ENCAPSED_STRING","'origid'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$token",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$request",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setData",168],"(",["T_CONSTANT_ENCAPSED_STRING","'amt'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","formatPrice",168],"(",["T_VARIABLE","$amount",168],")",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$request",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setData",169],"(",["T_CONSTANT_ENCAPSED_STRING","'currency'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$order",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getBaseCurrencyCode",169],"(",")",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$request",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setData",170],"(",["T_CONSTANT_ENCAPSED_STRING","'taxamt'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","formatPrice",170],"(",["T_VARIABLE","$order",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getBaseTaxAmount",170],"(",")",")",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$request",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","setData",171],"(",["T_CONSTANT_ENCAPSED_STRING","'freightamt'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","formatPrice",171],"(",["T_VARIABLE","$order",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getBaseShippingAmount",171],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$response",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","postRequest",173],"(",["T_VARIABLE","$request",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getConfig",173],"(",")",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","processErrors",174],"(",["T_VARIABLE","$response",174],")",";",["T_WHITESPACE","\n\n        ",174],["T_TRY","try",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","responseValidator",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","validate",177],"(",["T_VARIABLE","$response",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE"," ",178],["T_CATCH","catch",178],["T_WHITESPACE"," ",178],"(",["T_STRING","LocalizedException",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$exception",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$payment",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setParentTransactionId",179],"(",["T_VARIABLE","$response",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getData",179],"(",["T_STRING","self",179],["T_DOUBLE_COLON","::",179],["T_STRING","PNREF",179],")",")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","void",180],"(",["T_VARIABLE","$payment",180],")",";",["T_WHITESPACE","\n            ",180],["T_THROW","throw",181],["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","LocalizedException",181],"(",["T_STRING","__",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Error processing payment. Please try again later.'",181],")",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setTransStatus",184],"(",["T_VARIABLE","$payment",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$response",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","createPaymentToken",186],"(",["T_VARIABLE","$payment",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$token",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$payment",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","unsAdditionalInformation",188],"(",["T_STRING","self",188],["T_DOUBLE_COLON","::",188],["T_STRING","CC_DETAILS",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$payment",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","unsAdditionalInformation",189],"(",["T_STRING","self",189],["T_DOUBLE_COLON","::",189],["T_STRING","PNREF",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * {inheritdoc}\n     *\/",194],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getConfigInterface",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","parent",199],["T_DOUBLE_COLON","::",199],["T_STRING","getConfig",199],"(",")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * @param Payment $payment\n     * @param string $token\n     * @throws LocalizedException\n     * @return void\n     *\/",202],["T_WHITESPACE","\n    ",207],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","createPaymentToken",208],"(",["T_STRING","Payment",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$payment",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$token",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_DOC_COMMENT","\/** @var PaymentTokenInterface $paymentToken *\/",210],["T_WHITESPACE","\n        ",210],["T_VARIABLE","$paymentToken",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","paymentTokenFactory",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","create",211],"(",")",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$paymentToken",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setGatewayToken",213],"(",["T_VARIABLE","$token",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$paymentToken",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setTokenDetails",214],"(",["T_WHITESPACE","\n            ",214],["T_STRING","json_encode",215],"(",["T_VARIABLE","$payment",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getAdditionalInformation",215],"(",["T_STRING","Transparent",215],["T_DOUBLE_COLON","::",215],["T_STRING","CC_DETAILS",215],")",")",["T_WHITESPACE","\n        ",215],")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$paymentToken",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setExpiresAt",217],"(",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getExpirationDate",218],"(",["T_VARIABLE","$payment",218],")",["T_WHITESPACE","\n        ",218],")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getPaymentExtensionAttributes",221],"(",["T_VARIABLE","$payment",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","setVaultPaymentToken",221],"(",["T_VARIABLE","$paymentToken",221],")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * @param Payment $payment\n     * @return string\n     *\/",224],["T_WHITESPACE","\n    ",227],["T_PRIVATE","private",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getExpirationDate",228],"(",["T_STRING","Payment",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$payment",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$expDate",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_NS_SEPARATOR","\\",230],["T_STRING","DateTime",230],"(",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$payment",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getCcExpYear",231],"(",")",["T_WHITESPACE","\n            ",231],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'-'",232],["T_WHITESPACE","\n            ",232],".",["T_WHITESPACE"," ",233],["T_VARIABLE","$payment",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getCcExpMonth",233],"(",")",["T_WHITESPACE","\n            ",233],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'-'",234],["T_WHITESPACE","\n            ",234],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'01'",235],["T_WHITESPACE","\n            ",235],".",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","' '",236],["T_WHITESPACE","\n            ",236],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'00:00:00'",237],",",["T_WHITESPACE","\n            ",237],["T_NEW","new",238],["T_WHITESPACE"," ",238],["T_NS_SEPARATOR","\\",238],["T_STRING","DateTimeZone",238],"(",["T_CONSTANT_ENCAPSED_STRING","'UTC'",238],")",["T_WHITESPACE","\n        ",238],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$expDate",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","add",240],"(",["T_NEW","new",240],["T_WHITESPACE"," ",240],["T_NS_SEPARATOR","\\",240],["T_STRING","DateInterval",240],"(",["T_CONSTANT_ENCAPSED_STRING","'P1M'",240],")",")",";",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$expDate",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","format",241],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d 00:00:00'",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * @param Payment $payment\n     * @return \\Magento\\Sales\\Api\\Data\\OrderPaymentExtensionInterface\n     *\/",244],["T_WHITESPACE","\n    ",247],["T_PRIVATE","private",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","getPaymentExtensionAttributes",248],"(",["T_STRING","Payment",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$payment",248],")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$extensionAttributes",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$payment",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getExtensionAttributes",250],"(",")",";",["T_WHITESPACE","\n        ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$extensionAttributes",251],["T_WHITESPACE"," ",251],["T_IS_IDENTICAL","===",251],["T_WHITESPACE"," ",251],["T_STRING","null",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$extensionAttributes",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","paymentExtensionFactory",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","create",252],"(",")",";",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$payment",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","setExtensionAttributes",253],"(",["T_VARIABLE","$extensionAttributes",253],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$extensionAttributes",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Capture payment\n     *\n     * @param InfoInterface|Payment $payment\n     * @param float $amount\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @throws \\Magento\\Framework\\Exception\\State\\InvalidTransitionException\n     *\/",259],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","capture",268],"(",["T_STRING","InfoInterface",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$payment",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$amount",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_DOC_COMMENT","\/** @var Payment $payment *\/",270],["T_WHITESPACE","\n        ",270],["T_VARIABLE","$token",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$payment",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getAdditionalInformation",271],"(",["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","PNREF",271],")",";",["T_WHITESPACE","\n        ",271],["T_STRING","parent",272],["T_DOUBLE_COLON","::",272],["T_STRING","capture",272],"(",["T_VARIABLE","$payment",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$amount",272],")",";",["T_WHITESPACE","\n\n        ",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$token",274],["T_WHITESPACE"," ",274],["T_BOOLEAN_AND","&&",274],["T_WHITESPACE"," ",274],"!",["T_VARIABLE","$payment",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getAuthorizationTransaction",274],"(",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","createPaymentToken",275],"(",["T_VARIABLE","$payment",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$token",275],")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n\n        ",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n",279],"}",["T_WHITESPACE","\n",280]]