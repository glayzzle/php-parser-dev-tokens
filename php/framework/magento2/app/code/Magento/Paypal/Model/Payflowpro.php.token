[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataObject",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LocalizedException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","InfoInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Method",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Method",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConfigInterfaceFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Payment",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Method",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Online",13],["T_NS_SEPARATOR","\\",13],["T_STRING","GatewayInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Observer",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractDataAssignObserver",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Paypal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Config",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Paypal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Payflow",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Service",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Gateway",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Paypal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Payflow",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Service",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Response",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Handler",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HandlerInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Quote",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Quote",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Sales",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Order",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Sales",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Order",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Payment",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Store",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ScopeInterface",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Payflow Pro payment gateway model\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",23],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Payflowpro",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Payment",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Model",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Method",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Cc",28],["T_WHITESPACE"," ",28],["T_IMPLEMENTS","implements",28],["T_WHITESPACE"," ",28],["T_STRING","GatewayInterface",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * Transaction action codes\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","TRXTYPE_AUTH_ONLY",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'A'",33],";",["T_WHITESPACE","\n\n    ",33],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","TRXTYPE_SALE",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'S'",35],";",["T_WHITESPACE","\n\n    ",35],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","TRXTYPE_CREDIT",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'C'",37],";",["T_WHITESPACE","\n\n    ",37],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TRXTYPE_DELAYED_CAPTURE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'D'",39],";",["T_WHITESPACE","\n\n    ",39],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TRXTYPE_DELAYED_VOID",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'V'",41],";",["T_WHITESPACE","\n\n    ",41],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","TRXTYPE_DELAYED_VOICE",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'F'",43],";",["T_WHITESPACE","\n\n    ",43],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","TRXTYPE_DELAYED_INQUIRY",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'I'",45],";",["T_WHITESPACE","\n\n    ",45],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","TRXTYPE_ACCEPT_DENY",47],["T_WHITESPACE","       ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'U'",47],";",["T_WHITESPACE","\n\n    ",47],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","UPDATEACTION_APPROVED",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'APPROVE'",49],";",["T_WHITESPACE","\n\n    ",49],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","UPDATEACTION_DECLINED_BY_MERCHANT",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'FPS_MERCHANT_DECLINE'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Tender type codes\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","TENDER_CC",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'C'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Gateway request URLs\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","TRANSACTION_URL",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/payflowpro.paypal.com\/transaction'",61],";",["T_WHITESPACE","\n\n    ",61],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","TRANSACTION_URL_TEST_MODE",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/pilot-payflowpro.paypal.com\/transaction'",63],";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/**#@+\n     * Response code\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_CONST","const",68],["T_WHITESPACE"," ",68],["T_STRING","RESPONSE_CODE_APPROVED",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],";",["T_WHITESPACE","\n\n    ",68],["T_CONST","const",70],["T_WHITESPACE"," ",70],["T_STRING","RESPONSE_CODE_INVALID_AMOUNT",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_LNUMBER","4",70],";",["T_WHITESPACE","\n\n    ",70],["T_CONST","const",72],["T_WHITESPACE"," ",72],["T_STRING","RESPONSE_CODE_FRAUDSERVICE_FILTER",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_LNUMBER","126",72],";",["T_WHITESPACE","\n\n    ",72],["T_CONST","const",74],["T_WHITESPACE"," ",74],["T_STRING","RESPONSE_CODE_DECLINED",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_LNUMBER","12",74],";",["T_WHITESPACE","\n\n    ",74],["T_CONST","const",76],["T_WHITESPACE"," ",76],["T_STRING","RESPONSE_CODE_DECLINED_BY_FILTER",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_LNUMBER","125",76],";",["T_WHITESPACE","\n\n    ",76],["T_CONST","const",78],["T_WHITESPACE"," ",78],["T_STRING","RESPONSE_CODE_DECLINED_BY_MERCHANT",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_LNUMBER","128",78],";",["T_WHITESPACE","\n\n    ",78],["T_CONST","const",80],["T_WHITESPACE"," ",80],["T_STRING","RESPONSE_CODE_CAPTURE_ERROR",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_LNUMBER","111",80],";",["T_WHITESPACE","\n\n    ",80],["T_CONST","const",82],["T_WHITESPACE"," ",82],["T_STRING","RESPONSE_CODE_VOID_ERROR",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_LNUMBER","108",82],";",["T_WHITESPACE","\n\n    ",82],["T_CONST","const",84],["T_WHITESPACE"," ",84],["T_STRING","PNREF",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'pnref'",84],";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/**#@-*\/",86],["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Response params mappings\n     *\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_responseParamsMappings",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'firstname'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'billtofirstname'",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'lastname'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'billtolastname'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'address'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'billtostreet'",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'city'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'billtocity'",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'state'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'billtostate'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'zip'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'billtozip'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'country'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'billtocountry'",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'phone'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'billtophone'",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'email'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'billtoemail'",102],",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'nametoship'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'shiptofirstname'",103],",",["T_WHITESPACE","\n        ",103],["T_CONSTANT_ENCAPSED_STRING","'addresstoship'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'shiptostreet'",104],",",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'citytoship'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'shiptocity'",105],",",["T_WHITESPACE","\n        ",105],["T_CONSTANT_ENCAPSED_STRING","'statetoship'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'shiptostate'",106],",",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'ziptoship'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'shiptozip'",107],",",["T_WHITESPACE","\n        ",107],["T_CONSTANT_ENCAPSED_STRING","'countrytoship'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'shiptocountry'",108],",",["T_WHITESPACE","\n        ",108],["T_CONSTANT_ENCAPSED_STRING","'phonetoship'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'shiptophone'",109],",",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'emailtoship'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'shiptoemail'",110],",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'faxtoship'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'shiptofax'",111],",",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'method'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'tender'",112],",",["T_WHITESPACE","\n        ",112],["T_CONSTANT_ENCAPSED_STRING","'cscmatch'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'cvv2match'",113],",",["T_WHITESPACE","\n        ",113],["T_CONSTANT_ENCAPSED_STRING","'type'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'trxtype'",114],",",["T_WHITESPACE","\n        ",114],["T_CONSTANT_ENCAPSED_STRING","'cclast4'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'acct'",115],",",["T_WHITESPACE","\n        ",115],["T_CONSTANT_ENCAPSED_STRING","'ccavsstatus'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'avsdata'",116],",",["T_WHITESPACE","\n        ",116],["T_CONSTANT_ENCAPSED_STRING","'amt'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'amt'",117],",",["T_WHITESPACE","\n        ",117],["T_CONSTANT_ENCAPSED_STRING","'transtime'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'transtime'",118],",",["T_WHITESPACE","\n        ",118],["T_CONSTANT_ENCAPSED_STRING","'expdate'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'expdate'",119],",",["T_WHITESPACE","\n        ",119],["T_CONSTANT_ENCAPSED_STRING","'securetoken'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'securetoken'",120],",",["T_WHITESPACE","\n        ",120],["T_CONSTANT_ENCAPSED_STRING","'securetokenid'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'securetokenid'",121],",",["T_WHITESPACE","\n        ",121],["T_CONSTANT_ENCAPSED_STRING","'authcode'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'authcode'",122],",",["T_WHITESPACE","\n        ",122],["T_CONSTANT_ENCAPSED_STRING","'hostcode'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'hostcode'",123],",",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'pnref'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'pnref'",124],["T_WHITESPACE","\n    ",124],"]",";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Payment method code\n     *\n     * @var string\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$_code",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Paypal",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Model",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Config",132],["T_DOUBLE_COLON","::",132],["T_STRING","METHOD_PAYFLOWPRO",132],";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",134],["T_WHITESPACE","\n    ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$_isGateway",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","true",139],";",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",141],["T_WHITESPACE","\n    ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$_canAuthorize",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","true",146],";",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",148],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$_canCapture",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","true",153],";",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",155],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$_canCapturePartial",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","true",160],";",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",162],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$_canRefund",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","true",167],";",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$_canRefundInvoicePartial",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","true",174],";",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",176],["T_WHITESPACE","\n    ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$_canVoid",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","true",181],";",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",183],["T_WHITESPACE","\n    ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$_canUseInternal",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","true",188],";",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",190],["T_WHITESPACE","\n    ",194],["T_PROTECTED","protected",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$_canUseCheckout",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","true",195],";",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",197],["T_WHITESPACE","\n    ",201],["T_PROTECTED","protected",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$_canSaveCc",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","false",202],";",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$_isProxy",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","false",209],";",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Availability option\n     *\n     * @var bool\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$_canFetchTransactionInfo",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","true",216],";",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Payment Method feature\n     *\n     * @var bool\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PROTECTED","protected",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$_canReviewPayment",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","true",223],";",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Gateway request timeout\n     *\n     * @var int\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PROTECTED","protected",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$_clientTimeout",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_LNUMBER","45",230],";",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Fields that should be replaced in debug with '***'\n     *\n     * @var string[]\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$_debugReplacePrivateDataKeys",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'pwd'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'acct'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'expdate'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'cvv2'",237],"]",";",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",239],["T_WHITESPACE","\n    ",241],["T_PROTECTED","protected",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$storeManager",242],";",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * @var ConfigInterfaceFactory\n     *\/",244],["T_WHITESPACE","\n    ",246],["T_PROTECTED","protected",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$configFactory",247],";",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * @var ConfigInterface\n     *\/",249],["T_WHITESPACE","\n    ",251],["T_PRIVATE","private",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$config",252],";",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * @var Gateway\n     *\/",254],["T_WHITESPACE","\n    ",256],["T_PRIVATE","private",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$gateway",257],";",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * @var HandlerInterface\n     *\/",259],["T_WHITESPACE","\n    ",261],["T_PRIVATE","private",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$errorHandler",262],";",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param \\Magento\\Framework\\Api\\AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Payment\\Model\\Method\\Logger $logger\n     * @param \\Magento\\Framework\\Module\\ModuleListInterface $moduleList\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param ConfigInterfaceFactory $configFactory\n     * @param Gateway $gateway\n     * @param HandlerInterface $errorHandler\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",264],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","__construct",283],"(",["T_WHITESPACE","\n        ",283],["T_NS_SEPARATOR","\\",284],["T_STRING","Magento",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Framework",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Model",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Context",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$context",284],",",["T_WHITESPACE","\n        ",284],["T_NS_SEPARATOR","\\",285],["T_STRING","Magento",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Framework",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Registry",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$registry",285],",",["T_WHITESPACE","\n        ",285],["T_NS_SEPARATOR","\\",286],["T_STRING","Magento",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Framework",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Api",286],["T_NS_SEPARATOR","\\",286],["T_STRING","ExtensionAttributesFactory",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$extensionFactory",286],",",["T_WHITESPACE","\n        ",286],["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Framework",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Api",287],["T_NS_SEPARATOR","\\",287],["T_STRING","AttributeValueFactory",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$customAttributeFactory",287],",",["T_WHITESPACE","\n        ",287],["T_NS_SEPARATOR","\\",288],["T_STRING","Magento",288],["T_NS_SEPARATOR","\\",288],["T_STRING","Payment",288],["T_NS_SEPARATOR","\\",288],["T_STRING","Helper",288],["T_NS_SEPARATOR","\\",288],["T_STRING","Data",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$paymentData",288],",",["T_WHITESPACE","\n        ",288],["T_NS_SEPARATOR","\\",289],["T_STRING","Magento",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Framework",289],["T_NS_SEPARATOR","\\",289],["T_STRING","App",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Config",289],["T_NS_SEPARATOR","\\",289],["T_STRING","ScopeConfigInterface",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$scopeConfig",289],",",["T_WHITESPACE","\n        ",289],["T_NS_SEPARATOR","\\",290],["T_STRING","Magento",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Payment",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Model",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Method",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Logger",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$logger",290],",",["T_WHITESPACE","\n        ",290],["T_NS_SEPARATOR","\\",291],["T_STRING","Magento",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Framework",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Module",291],["T_NS_SEPARATOR","\\",291],["T_STRING","ModuleListInterface",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$moduleList",291],",",["T_WHITESPACE","\n        ",291],["T_NS_SEPARATOR","\\",292],["T_STRING","Magento",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Framework",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Stdlib",292],["T_NS_SEPARATOR","\\",292],["T_STRING","DateTime",292],["T_NS_SEPARATOR","\\",292],["T_STRING","TimezoneInterface",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$localeDate",292],",",["T_WHITESPACE","\n        ",292],["T_NS_SEPARATOR","\\",293],["T_STRING","Magento",293],["T_NS_SEPARATOR","\\",293],["T_STRING","Store",293],["T_NS_SEPARATOR","\\",293],["T_STRING","Model",293],["T_NS_SEPARATOR","\\",293],["T_STRING","StoreManagerInterface",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$storeManager",293],",",["T_WHITESPACE","\n        ",293],["T_STRING","ConfigInterfaceFactory",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$configFactory",294],",",["T_WHITESPACE","\n        ",294],["T_STRING","Gateway",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$gateway",295],",",["T_WHITESPACE","\n        ",295],["T_STRING","HandlerInterface",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$errorHandler",296],",",["T_WHITESPACE","\n        ",296],["T_NS_SEPARATOR","\\",297],["T_STRING","Magento",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Framework",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Model",297],["T_NS_SEPARATOR","\\",297],["T_STRING","ResourceModel",297],["T_NS_SEPARATOR","\\",297],["T_STRING","AbstractResource",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$resource",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","null",297],",",["T_WHITESPACE","\n        ",297],["T_NS_SEPARATOR","\\",298],["T_STRING","Magento",298],["T_NS_SEPARATOR","\\",298],["T_STRING","Framework",298],["T_NS_SEPARATOR","\\",298],["T_STRING","Data",298],["T_NS_SEPARATOR","\\",298],["T_STRING","Collection",298],["T_NS_SEPARATOR","\\",298],["T_STRING","AbstractDb",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$resourceCollection",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","null",298],",",["T_WHITESPACE","\n        ",298],["T_ARRAY","array",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$data",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],"[","]",["T_WHITESPACE","\n    ",299],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","storeManager",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$storeManager",301],";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","configFactory",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$configFactory",302],";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","gateway",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$gateway",303],";",["T_WHITESPACE","\n        ",303],["T_STRING","parent",304],["T_DOUBLE_COLON","::",304],["T_STRING","__construct",304],"(",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$context",305],",",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$registry",306],",",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$extensionFactory",307],",",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$customAttributeFactory",308],",",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$paymentData",309],",",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$scopeConfig",310],",",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$logger",311],",",["T_WHITESPACE","\n            ",311],["T_VARIABLE","$moduleList",312],",",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$localeDate",313],",",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$resource",314],",",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$resourceCollection",315],",",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$data",316],["T_WHITESPACE","\n        ",316],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","errorHandler",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$errorHandler",318],";",["T_WHITESPACE","\n    ",318],"}",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * Check whether payment method can be used\n     *\n     * @param \\Magento\\Quote\\Api\\Data\\CartInterface|Quote|null $quote\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",321],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","isAvailable",328],"(",["T_NS_SEPARATOR","\\",328],["T_STRING","Magento",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Quote",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Api",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Data",328],["T_NS_SEPARATOR","\\",328],["T_STRING","CartInterface",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$quote",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","null",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_STRING","parent",330],["T_DOUBLE_COLON","::",330],["T_STRING","isAvailable",330],"(",["T_VARIABLE","$quote",330],")",["T_WHITESPACE"," ",330],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getConfig",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","isMethodAvailable",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getCode",330],"(",")",")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Is active\n     *\n     * @param int|null $storeId\n     * @return bool\n     *\/",333],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","isActive",339],"(",["T_VARIABLE","$storeId",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING","null",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$pathPayflowPro",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'payment\/'",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_STRING","Config",341],["T_DOUBLE_COLON","::",341],["T_STRING","METHOD_PAYFLOWPRO",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'\/active'",341],";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$pathPaymentPro",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'payment\/'",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_STRING","Config",342],["T_DOUBLE_COLON","::",342],["T_STRING","METHOD_PAYMENT_PRO",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'\/active'",342],";",["T_WHITESPACE","\n\n        ",342],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_BOOL_CAST","(bool)",344],["T_INT_CAST","(int)",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_scopeConfig",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getValue",344],"(",["T_VARIABLE","$pathPayflowPro",344],",",["T_WHITESPACE"," ",344],["T_STRING","ScopeInterface",344],["T_DOUBLE_COLON","::",344],["T_STRING","SCOPE_STORE",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$storeId",344],")",["T_WHITESPACE","\n            ",344],["T_BOOLEAN_OR","||",345],["T_WHITESPACE"," ",345],["T_BOOL_CAST","(bool)",345],["T_INT_CAST","(int)",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_scopeConfig",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getValue",345],"(",["T_VARIABLE","$pathPaymentPro",345],",",["T_WHITESPACE"," ",345],["T_STRING","ScopeInterface",345],["T_DOUBLE_COLON","::",345],["T_STRING","SCOPE_STORE",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$storeId",345],")",";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Payment action getter compatible with payment model\n     *\n     * @return string\n     *\/",348],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","getConfigPaymentAction",353],"(",")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getConfig",355],"(",")",["T_OBJECT_OPERATOR","->",355],["T_STRING","getPaymentAction",355],"(",")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Authorize payment\n     *\n     * @param InfoInterface|Payment|Object $payment\n     * @param float $amount\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @throws \\Magento\\Framework\\Exception\\State\\InvalidTransitionException\n     *\/",358],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","authorize",367],"(",["T_NS_SEPARATOR","\\",367],["T_STRING","Magento",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Payment",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Model",367],["T_NS_SEPARATOR","\\",367],["T_STRING","InfoInterface",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$payment",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$amount",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$request",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_buildPlaceRequest",369],"(",["T_VARIABLE","$payment",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$amount",369],")",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","addRequestOrderInfo",370],"(",["T_VARIABLE","$request",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$payment",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getOrder",370],"(",")",")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$request",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","setTrxtype",371],"(",["T_STRING","self",371],["T_DOUBLE_COLON","::",371],["T_STRING","TRXTYPE_AUTH_ONLY",371],")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$response",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","postRequest",372],"(",["T_VARIABLE","$request",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getConfig",372],"(",")",")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","processErrors",373],"(",["T_VARIABLE","$response",373],")",";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","setTransStatus",374],"(",["T_VARIABLE","$payment",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$response",374],")",";",["T_WHITESPACE","\n        ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Get capture amount\n     *\n     * @param float $amount\n     * @return float\n     *\/",378],["T_WHITESPACE","\n    ",383],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","_getCaptureAmount",384],"(",["T_VARIABLE","$amount",384],")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$infoInstance",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getInfoInstance",386],"(",")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$amountToPay",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_STRING","round",387],"(",["T_VARIABLE","$amount",387],",",["T_WHITESPACE"," ",387],["T_LNUMBER","2",387],")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$authorizedAmount",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","round",388],"(",["T_VARIABLE","$infoInstance",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getAmountAuthorized",388],"(",")",",",["T_WHITESPACE"," ",388],["T_LNUMBER","2",388],")",";",["T_WHITESPACE","\n        ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$amountToPay",389],["T_WHITESPACE"," ",389],["T_IS_NOT_EQUAL","!=",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$authorizedAmount",389],["T_WHITESPACE"," ",389],"?",["T_WHITESPACE"," ",389],["T_VARIABLE","$amountToPay",389],["T_WHITESPACE"," ",389],":",["T_WHITESPACE"," ",389],["T_LNUMBER","0",389],";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * Capture payment\n     *\n     * @param InfoInterface|Payment|Object $payment\n     * @param float $amount\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @throws \\Magento\\Framework\\Exception\\State\\InvalidTransitionException\n     *\/",392],["T_WHITESPACE","\n    ",400],["T_PUBLIC","public",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","capture",401],"(",["T_NS_SEPARATOR","\\",401],["T_STRING","Magento",401],["T_NS_SEPARATOR","\\",401],["T_STRING","Payment",401],["T_NS_SEPARATOR","\\",401],["T_STRING","Model",401],["T_NS_SEPARATOR","\\",401],["T_STRING","InfoInterface",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$payment",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$amount",401],")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$payment",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getAdditionalInformation",403],"(",["T_STRING","self",403],["T_DOUBLE_COLON","::",403],["T_STRING","PNREF",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$request",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","buildBasicRequest",404],"(",")",";",["T_WHITESPACE","\n            ",404],["T_VARIABLE","$request",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","setAmt",405],"(",["T_STRING","round",405],"(",["T_VARIABLE","$amount",405],",",["T_WHITESPACE"," ",405],["T_LNUMBER","2",405],")",")",";",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$request",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","setTrxtype",406],"(",["T_STRING","self",406],["T_DOUBLE_COLON","::",406],["T_STRING","TRXTYPE_SALE",406],")",";",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$request",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","setOrigid",407],"(",["T_VARIABLE","$payment",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getAdditionalInformation",407],"(",["T_STRING","self",407],["T_DOUBLE_COLON","::",407],["T_STRING","PNREF",407],")",")",";",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$payment",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","unsAdditionalInformation",408],"(",["T_STRING","self",408],["T_DOUBLE_COLON","::",408],["T_STRING","PNREF",408],")",";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE"," ",409],["T_ELSEIF","elseif",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$payment",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getParentTransactionId",409],"(",")",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$request",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","buildBasicRequest",410],"(",")",";",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$request",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","setOrigid",411],"(",["T_VARIABLE","$payment",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getParentTransactionId",411],"(",")",")",";",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$captureAmount",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_getCaptureAmount",412],"(",["T_VARIABLE","$amount",412],")",";",["T_WHITESPACE","\n            ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$captureAmount",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                ",413],["T_VARIABLE","$request",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","setAmt",414],"(",["T_VARIABLE","$captureAmount",414],")",";",["T_WHITESPACE","\n            ",414],"}",["T_WHITESPACE","\n            ",415],["T_VARIABLE","$trxType",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getInfoInstance",416],"(",")",["T_OBJECT_OPERATOR","->",416],["T_STRING","hasAmountPaid",416],"(",")",["T_WHITESPACE"," ",416],"?",["T_WHITESPACE"," ",416],["T_STRING","self",416],["T_DOUBLE_COLON","::",416],["T_STRING","TRXTYPE_SALE",416],["T_WHITESPACE"," ",416],":",["T_WHITESPACE"," ",416],["T_STRING","self",416],["T_DOUBLE_COLON","::",416],["T_STRING","TRXTYPE_DELAYED_CAPTURE",416],";",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$request",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","setTrxtype",417],"(",["T_VARIABLE","$trxType",417],")",";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE"," ",418],["T_ELSE","else",418],["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$request",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_buildPlaceRequest",419],"(",["T_VARIABLE","$payment",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$amount",419],")",";",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$request",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","setTrxtype",420],"(",["T_STRING","self",420],["T_DOUBLE_COLON","::",420],["T_STRING","TRXTYPE_SALE",420],")",";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","addRequestOrderInfo",422],"(",["T_VARIABLE","$request",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$payment",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getOrder",422],"(",")",")",";",["T_WHITESPACE","\n\n        ",422],["T_VARIABLE","$response",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","postRequest",424],"(",["T_VARIABLE","$request",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getConfig",424],"(",")",")",";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","processErrors",425],"(",["T_VARIABLE","$response",425],")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","setTransStatus",426],"(",["T_VARIABLE","$payment",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$response",426],")",";",["T_WHITESPACE","\n        ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Void payment\n     *\n     * @param InfoInterface|Payment|Object $payment\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @throws \\Magento\\Framework\\Exception\\State\\InvalidTransitionException\n     *\/",430],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","void",438],"(",["T_NS_SEPARATOR","\\",438],["T_STRING","Magento",438],["T_NS_SEPARATOR","\\",438],["T_STRING","Payment",438],["T_NS_SEPARATOR","\\",438],["T_STRING","Model",438],["T_NS_SEPARATOR","\\",438],["T_STRING","InfoInterface",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$payment",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$request",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","buildBasicRequest",440],"(",")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$request",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","setTrxtype",441],"(",["T_STRING","self",441],["T_DOUBLE_COLON","::",441],["T_STRING","TRXTYPE_DELAYED_VOID",441],")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$request",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","setOrigid",442],"(",["T_VARIABLE","$payment",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getParentTransactionId",442],"(",")",")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$response",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","postRequest",443],"(",["T_VARIABLE","$request",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getConfig",443],"(",")",")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","processErrors",444],"(",["T_VARIABLE","$response",444],")",";",["T_WHITESPACE","\n\n        ",444],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$response",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getResultCode",446],"(",")",["T_WHITESPACE"," ",446],["T_IS_EQUAL","==",446],["T_WHITESPACE"," ",446],["T_STRING","self",446],["T_DOUBLE_COLON","::",446],["T_STRING","RESPONSE_CODE_APPROVED",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$payment",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","setTransactionId",447],"(",["T_WHITESPACE","\n                ",447],["T_VARIABLE","$response",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getPnref",448],"(",")",["T_WHITESPACE","\n            ",448],")",["T_OBJECT_OPERATOR","->",449],["T_STRING","setIsTransactionClosed",449],"(",["T_WHITESPACE","\n                ",449],["T_LNUMBER","1",450],["T_WHITESPACE","\n            ",450],")",["T_OBJECT_OPERATOR","->",451],["T_STRING","setShouldCloseParentTransaction",451],"(",["T_WHITESPACE","\n                ",451],["T_LNUMBER","1",452],["T_WHITESPACE","\n            ",452],")",";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n\n        ",454],["T_RETURN","return",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],";",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * Check void availability\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",459],["T_WHITESPACE","\n    ",463],["T_PUBLIC","public",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","canVoid",464],"(",")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_IF","if",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getInfoInstance",466],"(",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","getAmountPaid",466],"(",")",")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_canVoid",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","false",467],";",["T_WHITESPACE","\n        ",467],"}",["T_WHITESPACE","\n\n        ",468],["T_RETURN","return",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_canVoid",470],";",["T_WHITESPACE","\n    ",470],"}",["T_WHITESPACE","\n\n    ",471],["T_DOC_COMMENT","\/**\n     * Attempt to void the authorization on cancelling\n     *\n     * @param InfoInterface|Object $payment\n     * @return $this\n     *\/",473],["T_WHITESPACE","\n    ",478],["T_PUBLIC","public",479],["T_WHITESPACE"," ",479],["T_FUNCTION","function",479],["T_WHITESPACE"," ",479],["T_STRING","cancel",479],"(",["T_NS_SEPARATOR","\\",479],["T_STRING","Magento",479],["T_NS_SEPARATOR","\\",479],["T_STRING","Payment",479],["T_NS_SEPARATOR","\\",479],["T_STRING","Model",479],["T_NS_SEPARATOR","\\",479],["T_STRING","InfoInterface",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$payment",479],")",["T_WHITESPACE","\n    ",479],"{",["T_WHITESPACE","\n        ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(","!",["T_VARIABLE","$payment",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getOrder",481],"(",")",["T_OBJECT_OPERATOR","->",481],["T_STRING","getInvoiceCollection",481],"(",")",["T_OBJECT_OPERATOR","->",481],["T_STRING","count",481],"(",")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","void",482],"(",["T_VARIABLE","$payment",482],")",";",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n\n        ",483],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_STRING","false",485],";",["T_WHITESPACE","\n    ",485],"}",["T_WHITESPACE","\n\n    ",486],["T_DOC_COMMENT","\/**\n     * Refund capture\n     *\n     * @param InfoInterface|Payment|Object $payment\n     * @param float $amount\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @throws \\Magento\\Framework\\Exception\\State\\InvalidTransitionException\n     *\/",488],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","refund",497],"(",["T_NS_SEPARATOR","\\",497],["T_STRING","Magento",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Payment",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Model",497],["T_NS_SEPARATOR","\\",497],["T_STRING","InfoInterface",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$payment",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$amount",497],")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$request",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","buildBasicRequest",499],"(",")",";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$request",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","setTrxtype",500],"(",["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_STRING","TRXTYPE_CREDIT",500],")",";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$request",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","setOrigid",501],"(",["T_VARIABLE","$payment",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getParentTransactionId",501],"(",")",")",";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$request",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","setAmt",502],"(",["T_STRING","round",502],"(",["T_VARIABLE","$amount",502],",",["T_WHITESPACE"," ",502],["T_LNUMBER","2",502],")",")",";",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$response",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","postRequest",503],"(",["T_VARIABLE","$request",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","getConfig",503],"(",")",")",";",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","processErrors",504],"(",["T_VARIABLE","$response",504],")",";",["T_WHITESPACE","\n\n        ",504],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$response",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getResultCode",506],"(",")",["T_WHITESPACE"," ",506],["T_IS_EQUAL","==",506],["T_WHITESPACE"," ",506],["T_STRING","self",506],["T_DOUBLE_COLON","::",506],["T_STRING","RESPONSE_CODE_APPROVED",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$payment",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","setTransactionId",507],"(",["T_VARIABLE","$response",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getPnref",507],"(",")",")",["T_OBJECT_OPERATOR","->",507],["T_STRING","setIsTransactionClosed",507],"(",["T_STRING","true",507],")",";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n        ",508],["T_RETURN","return",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_DOC_COMMENT","\/**\n     * Fetch transaction details info\n     *\n     * @param InfoInterface $payment\n     * @param string $transactionId\n     * @return array\n     *\/",512],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","fetchTransactionInfo",519],"(",["T_STRING","InfoInterface",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$payment",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$transactionId",519],")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$response",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","transactionInquiryRequest",521],"(",["T_VARIABLE","$payment",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$transactionId",521],")",";",["T_WHITESPACE","\n\n        ",521],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","processErrors",523],"(",["T_VARIABLE","$response",523],")",";",["T_WHITESPACE","\n\n        ",523],["T_IF","if",525],["T_WHITESPACE"," ",525],"(","!",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","_isTransactionUnderReview",525],"(",["T_VARIABLE","$response",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getOrigresult",525],"(",")",")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n            ",525],["T_VARIABLE","$payment",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","setTransactionId",526],"(",["T_VARIABLE","$response",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getOrigpnref",526],"(",")",")",["T_OBJECT_OPERATOR","->",526],["T_STRING","setIsTransactionClosed",526],"(",["T_LNUMBER","0",526],")",";",["T_WHITESPACE","\n            ",526],["T_IF","if",527],["T_WHITESPACE"," ",527],"(",["T_VARIABLE","$response",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getOrigresult",527],"(",")",["T_WHITESPACE"," ",527],["T_IS_EQUAL","==",527],["T_WHITESPACE"," ",527],["T_STRING","self",527],["T_DOUBLE_COLON","::",527],["T_STRING","RESPONSE_CODE_APPROVED",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n                ",527],["T_VARIABLE","$payment",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","setIsTransactionApproved",528],"(",["T_STRING","true",528],")",";",["T_WHITESPACE","\n            ",528],"}",["T_WHITESPACE"," ",529],["T_ELSEIF","elseif",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$response",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getOrigresult",529],"(",")",["T_WHITESPACE"," ",529],["T_IS_EQUAL","==",529],["T_WHITESPACE"," ",529],["T_STRING","self",529],["T_DOUBLE_COLON","::",529],["T_STRING","RESPONSE_CODE_DECLINED_BY_MERCHANT",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n                ",529],["T_VARIABLE","$payment",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","setIsTransactionDenied",530],"(",["T_STRING","true",530],")",";",["T_WHITESPACE","\n            ",530],"}",["T_WHITESPACE","\n        ",531],"}",["T_WHITESPACE","\n\n        ",532],["T_VARIABLE","$rawData",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$response",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getData",534],"(",")",";",["T_WHITESPACE","\n        ",534],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$rawData",535],["T_WHITESPACE"," ",535],"?",["T_WHITESPACE"," ",535],["T_VARIABLE","$rawData",535],["T_WHITESPACE"," ",535],":",["T_WHITESPACE"," ",535],"[","]",";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * Check whether the transaction is in payment review status\n     *\n     * @param string $status\n     * @return bool\n     *\/",538],["T_WHITESPACE","\n    ",543],["T_PROTECTED","protected",544],["T_WHITESPACE"," ",544],["T_STATIC","static",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","_isTransactionUnderReview",544],"(",["T_VARIABLE","$status",544],")",["T_WHITESPACE","\n    ",544],"{",["T_WHITESPACE","\n        ",545],["T_IF","if",546],["T_WHITESPACE"," ",546],"(",["T_STRING","in_array",546],"(",["T_VARIABLE","$status",546],",",["T_WHITESPACE"," ",546],"[",["T_STRING","self",546],["T_DOUBLE_COLON","::",546],["T_STRING","RESPONSE_CODE_APPROVED",546],",",["T_WHITESPACE"," ",546],["T_STRING","self",546],["T_DOUBLE_COLON","::",546],["T_STRING","RESPONSE_CODE_DECLINED_BY_MERCHANT",546],"]",")",")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n            ",546],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_STRING","false",547],";",["T_WHITESPACE","\n        ",547],"}",["T_WHITESPACE","\n        ",548],["T_RETURN","return",549],["T_WHITESPACE"," ",549],["T_STRING","true",549],";",["T_WHITESPACE","\n    ",549],"}",["T_WHITESPACE","\n\n    ",550],["T_DOC_COMMENT","\/**\n     * Get Config instance\n     *\n     * @return PayflowConfig\n     *\/",552],["T_WHITESPACE","\n    ",556],["T_PUBLIC","public",557],["T_WHITESPACE"," ",557],["T_FUNCTION","function",557],["T_WHITESPACE"," ",557],["T_STRING","getConfig",557],"(",")",["T_WHITESPACE","\n    ",557],"{",["T_WHITESPACE","\n        ",558],["T_IF","if",559],["T_WHITESPACE"," ",559],"(","!",["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","config",559],")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_VARIABLE","$storeId",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","storeManager",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getStore",560],"(",["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getStore",560],"(",")",")",["T_OBJECT_OPERATOR","->",560],["T_STRING","getId",560],"(",")",";",["T_WHITESPACE","\n\n            ",560],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","config",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","configFactory",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","create",562],"(",")",";",["T_WHITESPACE","\n\n            ",562],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","config",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","setStoreId",564],"(",["T_VARIABLE","$storeId",564],")",";",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","config",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","setMethodInstance",565],"(",["T_VARIABLE","$this",565],")",";",["T_WHITESPACE","\n            ",565],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","config",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","setMethod",566],"(",["T_VARIABLE","$this",566],")",";",["T_WHITESPACE","\n        ",566],"}",["T_WHITESPACE","\n\n        ",567],["T_RETURN","return",569],["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","config",569],";",["T_WHITESPACE","\n    ",569],"}",["T_WHITESPACE","\n\n    ",570],["T_DOC_COMMENT","\/**\n     * {inheritdoc}\n     *\/",572],["T_WHITESPACE","\n    ",574],["T_PUBLIC","public",575],["T_WHITESPACE"," ",575],["T_FUNCTION","function",575],["T_WHITESPACE"," ",575],["T_STRING","postRequest",575],"(",["T_STRING","DataObject",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$request",575],",",["T_WHITESPACE"," ",575],["T_STRING","ConfigInterface",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$config",575],")",["T_WHITESPACE","\n    ",575],"{",["T_WHITESPACE","\n        ",576],["T_TRY","try",577],["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n            ",577],["T_RETURN","return",578],["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","gateway",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","postRequest",578],"(",["T_VARIABLE","$request",578],",",["T_WHITESPACE"," ",578],["T_VARIABLE","$config",578],")",";",["T_WHITESPACE","\n        ",578],"}",["T_WHITESPACE"," ",579],["T_CATCH","catch",579],["T_WHITESPACE"," ",579],"(",["T_NS_SEPARATOR","\\",579],["T_STRING","Zend_Http_Client_Exception",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$e",579],")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n            ",579],["T_THROW","throw",580],["T_WHITESPACE"," ",580],["T_NEW","new",580],["T_WHITESPACE"," ",580],["T_STRING","LocalizedException",580],"(",["T_WHITESPACE","\n                ",580],["T_STRING","__",581],"(",["T_CONSTANT_ENCAPSED_STRING","'Payment Gateway is unreachable at the moment. Please use another payment option.'",581],")",",",["T_WHITESPACE","\n                ",581],["T_VARIABLE","$e",582],["T_WHITESPACE","\n            ",582],")",";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Return request object with information for 'authorization' or 'sale' action\n     *\n     * @param Object|Payment $payment\n     * @param float $amount\n     * @return DataObject\n     *\/",587],["T_WHITESPACE","\n    ",593],["T_PROTECTED","protected",594],["T_WHITESPACE"," ",594],["T_FUNCTION","function",594],["T_WHITESPACE"," ",594],["T_STRING","_buildPlaceRequest",594],"(",["T_STRING","DataObject",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$payment",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$amount",594],")",["T_WHITESPACE","\n    ",594],"{",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$request",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","buildBasicRequest",596],"(",")",";",["T_WHITESPACE","\n        ",596],["T_VARIABLE","$request",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","setAmt",597],"(",["T_STRING","round",597],"(",["T_VARIABLE","$amount",597],",",["T_WHITESPACE"," ",597],["T_LNUMBER","2",597],")",")",";",["T_WHITESPACE","\n        ",597],["T_VARIABLE","$request",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","setAcct",598],"(",["T_VARIABLE","$payment",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getCcNumber",598],"(",")",")",";",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$request",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","setExpdate",599],"(",["T_STRING","sprintf",599],"(",["T_CONSTANT_ENCAPSED_STRING","'%02d'",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$payment",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getCcExpMonth",599],"(",")",")",["T_WHITESPACE"," ",599],".",["T_WHITESPACE"," ",599],["T_STRING","substr",599],"(",["T_VARIABLE","$payment",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getCcExpYear",599],"(",")",",",["T_WHITESPACE"," ",599],"-",["T_LNUMBER","2",599],",",["T_WHITESPACE"," ",599],["T_LNUMBER","2",599],")",")",";",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$request",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","setCvv2",600],"(",["T_VARIABLE","$payment",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","getCcCid",600],"(",")",")",";",["T_WHITESPACE","\n\n        ",600],["T_VARIABLE","$order",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$payment",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getOrder",602],"(",")",";",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$request",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","setCurrency",603],"(",["T_VARIABLE","$order",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getBaseCurrencyCode",603],"(",")",")",";",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$request",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","fillCustomerContacts",604],"(",["T_VARIABLE","$order",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$request",604],")",";",["T_WHITESPACE","\n        ",604],["T_RETURN","return",605],["T_WHITESPACE"," ",605],["T_VARIABLE","$request",605],";",["T_WHITESPACE","\n    ",605],"}",["T_WHITESPACE","\n\n    ",606],["T_DOC_COMMENT","\/**\n     * Return request object with basic information for gateway request\n     *\n     * @return DataObject\n     *\/",608],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","buildBasicRequest",613],"(",")",["T_WHITESPACE","\n    ",613],"{",["T_WHITESPACE","\n        ",614],["T_VARIABLE","$request",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_NEW","new",615],["T_WHITESPACE"," ",615],["T_STRING","DataObject",615],"(",")",";",["T_WHITESPACE","\n\n        ",615],["T_DOC_COMMENT","\/** @var \\Magento\\Paypal\\Model\\PayflowConfig $config *\/",617],["T_WHITESPACE","\n        ",617],["T_VARIABLE","$config",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getConfig",618],"(",")",";",["T_WHITESPACE","\n\n        ",618],["T_VARIABLE","$request",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","setUser",620],"(",["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getConfigData",620],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",620],")",")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$request",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","setVendor",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","getConfigData",621],"(",["T_CONSTANT_ENCAPSED_STRING","'vendor'",621],")",")",";",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$request",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","setPartner",622],"(",["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getConfigData",622],"(",["T_CONSTANT_ENCAPSED_STRING","'partner'",622],")",")",";",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$request",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","setPwd",623],"(",["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getConfigData",623],"(",["T_CONSTANT_ENCAPSED_STRING","'pwd'",623],")",")",";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$request",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","setVerbosity",624],"(",["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","getConfigData",624],"(",["T_CONSTANT_ENCAPSED_STRING","'verbosity'",624],")",")",";",["T_WHITESPACE","\n        ",624],["T_VARIABLE","$request",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","setData",625],"(",["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$config",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getBuildNotationCode",625],"(",")",")",";",["T_WHITESPACE","\n        ",625],["T_VARIABLE","$request",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","setTender",626],"(",["T_STRING","self",626],["T_DOUBLE_COLON","::",626],["T_STRING","TENDER_CC",626],")",";",["T_WHITESPACE","\n\n        ",626],["T_RETURN","return",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$request",628],";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * If response is failed throw exception\n     *\n     * @param DataObject $response\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @throws \\Magento\\Framework\\Exception\\State\\InvalidTransitionException\n     *\/",631],["T_WHITESPACE","\n    ",638],["T_PUBLIC","public",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","processErrors",639],"(",["T_STRING","DataObject",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$response",639],")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_IF","if",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$response",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","getResultCode",641],"(",")",["T_WHITESPACE"," ",641],["T_IS_EQUAL","==",641],["T_WHITESPACE"," ",641],["T_STRING","self",641],["T_DOUBLE_COLON","::",641],["T_STRING","RESPONSE_CODE_VOID_ERROR",641],")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n            ",641],["T_THROW","throw",642],["T_WHITESPACE"," ",642],["T_NEW","new",642],["T_WHITESPACE"," ",642],["T_NS_SEPARATOR","\\",642],["T_STRING","Magento",642],["T_NS_SEPARATOR","\\",642],["T_STRING","Framework",642],["T_NS_SEPARATOR","\\",642],["T_STRING","Exception",642],["T_NS_SEPARATOR","\\",642],["T_STRING","State",642],["T_NS_SEPARATOR","\\",642],["T_STRING","InvalidTransitionException",642],"(",["T_WHITESPACE","\n                ",642],["T_STRING","__",643],"(",["T_CONSTANT_ENCAPSED_STRING","'You cannot void a verification transaction.'",643],")",["T_WHITESPACE","\n            ",643],")",";",["T_WHITESPACE","\n        ",644],"}",["T_WHITESPACE"," ",645],["T_ELSEIF","elseif",645],["T_WHITESPACE"," ",645],"(",["T_VARIABLE","$response",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getResultCode",645],"(",")",["T_WHITESPACE"," ",645],["T_IS_NOT_EQUAL","!=",645],["T_WHITESPACE"," ",645],["T_STRING","self",645],["T_DOUBLE_COLON","::",645],["T_STRING","RESPONSE_CODE_APPROVED",645],["T_WHITESPACE"," ",645],["T_BOOLEAN_AND","&&",645],["T_WHITESPACE","\n            ",645],["T_VARIABLE","$response",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getResultCode",646],"(",")",["T_WHITESPACE"," ",646],["T_IS_NOT_EQUAL","!=",646],["T_WHITESPACE"," ",646],["T_STRING","self",646],["T_DOUBLE_COLON","::",646],["T_STRING","RESPONSE_CODE_FRAUDSERVICE_FILTER",646],["T_WHITESPACE","\n        ",646],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_THROW","throw",648],["T_WHITESPACE"," ",648],["T_NEW","new",648],["T_WHITESPACE"," ",648],["T_NS_SEPARATOR","\\",648],["T_STRING","Magento",648],["T_NS_SEPARATOR","\\",648],["T_STRING","Framework",648],["T_NS_SEPARATOR","\\",648],["T_STRING","Exception",648],["T_NS_SEPARATOR","\\",648],["T_STRING","LocalizedException",648],"(",["T_STRING","__",648],"(",["T_VARIABLE","$response",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getRespmsg",648],"(",")",")",")",";",["T_WHITESPACE","\n        ",648],"}",["T_WHITESPACE"," ",649],["T_ELSEIF","elseif",649],["T_WHITESPACE"," ",649],"(",["T_VARIABLE","$response",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","getOrigresult",649],"(",")",["T_WHITESPACE"," ",649],["T_IS_EQUAL","==",649],["T_WHITESPACE"," ",649],["T_STRING","self",649],["T_DOUBLE_COLON","::",649],["T_STRING","RESPONSE_CODE_FRAUDSERVICE_FILTER",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n            ",649],["T_THROW","throw",650],["T_WHITESPACE"," ",650],["T_NEW","new",650],["T_WHITESPACE"," ",650],["T_NS_SEPARATOR","\\",650],["T_STRING","Magento",650],["T_NS_SEPARATOR","\\",650],["T_STRING","Framework",650],["T_NS_SEPARATOR","\\",650],["T_STRING","Exception",650],["T_NS_SEPARATOR","\\",650],["T_STRING","LocalizedException",650],"(",["T_STRING","__",650],"(",["T_VARIABLE","$response",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getRespmsg",650],"(",")",")",")",";",["T_WHITESPACE","\n        ",650],"}",["T_WHITESPACE","\n    ",651],"}",["T_WHITESPACE","\n\n    ",652],["T_DOC_COMMENT","\/**\n     * Attempt to accept a pending payment\n     *\n     * @param InfoInterface $payment\n     * @return bool\n     *\/",654],["T_WHITESPACE","\n    ",659],["T_PUBLIC","public",660],["T_WHITESPACE"," ",660],["T_FUNCTION","function",660],["T_WHITESPACE"," ",660],["T_STRING","acceptPayment",660],"(",["T_STRING","InfoInterface",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$payment",660],")",["T_WHITESPACE","\n    ",660],"{",["T_WHITESPACE","\n        ",661],["T_RETURN","return",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","reviewPayment",662],"(",["T_VARIABLE","$payment",662],",",["T_WHITESPACE"," ",662],["T_STRING","self",662],["T_DOUBLE_COLON","::",662],["T_STRING","UPDATEACTION_APPROVED",662],")",";",["T_WHITESPACE","\n    ",662],"}",["T_WHITESPACE","\n\n    ",663],["T_DOC_COMMENT","\/**\n     * Attempt to deny a pending payment\n     *\n     * @param InfoInterface $payment\n     * @return bool\n     *\/",665],["T_WHITESPACE","\n    ",670],["T_PUBLIC","public",671],["T_WHITESPACE"," ",671],["T_FUNCTION","function",671],["T_WHITESPACE"," ",671],["T_STRING","denyPayment",671],"(",["T_STRING","InfoInterface",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$payment",671],")",["T_WHITESPACE","\n    ",671],"{",["T_WHITESPACE","\n        ",672],["T_RETURN","return",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","reviewPayment",673],"(",["T_VARIABLE","$payment",673],",",["T_WHITESPACE"," ",673],["T_STRING","self",673],["T_DOUBLE_COLON","::",673],["T_STRING","UPDATEACTION_DECLINED_BY_MERCHANT",673],")",";",["T_WHITESPACE","\n    ",673],"}",["T_WHITESPACE","\n\n    ",674],["T_DOC_COMMENT","\/**\n     * Perform the payment review\n     *\n     * @param InfoInterface $payment\n     * @param string $action\n     * @return bool\n     *\/",676],["T_WHITESPACE","\n    ",682],["T_PUBLIC","public",683],["T_WHITESPACE"," ",683],["T_FUNCTION","function",683],["T_WHITESPACE"," ",683],["T_STRING","reviewPayment",683],"(",["T_STRING","InfoInterface",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$payment",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$action",683],")",["T_WHITESPACE","\n    ",683],"{",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$request",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","buildBasicRequest",685],"(",")",";",["T_WHITESPACE","\n        ",685],["T_VARIABLE","$transactionId",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],"(",["T_VARIABLE","$payment",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getCcTransId",686],"(",")",")",["T_WHITESPACE"," ",686],"?",["T_WHITESPACE"," ",686],["T_VARIABLE","$payment",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getCcTransId",686],"(",")",["T_WHITESPACE"," ",686],":",["T_WHITESPACE"," ",686],["T_VARIABLE","$payment",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getLastTransId",686],"(",")",";",["T_WHITESPACE","\n        ",686],["T_VARIABLE","$request",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","setTrxtype",687],"(",["T_STRING","self",687],["T_DOUBLE_COLON","::",687],["T_STRING","TRXTYPE_ACCEPT_DENY",687],")",";",["T_WHITESPACE","\n        ",687],["T_VARIABLE","$request",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","setOrigid",688],"(",["T_VARIABLE","$transactionId",688],")",";",["T_WHITESPACE","\n        ",688],["T_VARIABLE","$request",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","setUpdateaction",689],"(",["T_VARIABLE","$action",689],")",";",["T_WHITESPACE","\n\n        ",689],["T_VARIABLE","$response",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","postRequest",691],"(",["T_VARIABLE","$request",691],",",["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","getConfig",691],"(",")",")",";",["T_WHITESPACE","\n        ",691],["T_VARIABLE","$payment",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","setAdditionalInformation",692],"(",["T_ARRAY_CAST","(array)",692],["T_VARIABLE","$response",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","getData",692],"(",")",")",";",["T_WHITESPACE","\n        ",692],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","processErrors",693],"(",["T_VARIABLE","$response",693],")",";",["T_WHITESPACE","\n\n        ",693],["T_IF","if",695],["T_WHITESPACE"," ",695],"(","!",["T_VARIABLE","$this",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","_isTransactionUnderReview",695],"(",["T_VARIABLE","$response",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","getOrigresult",695],"(",")",")",")",["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n            ",695],["T_VARIABLE","$payment",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","setTransactionId",696],"(",["T_VARIABLE","$response",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","getOrigpnref",696],"(",")",")",["T_OBJECT_OPERATOR","->",696],["T_STRING","setIsTransactionClosed",696],"(",["T_LNUMBER","0",696],")",";",["T_WHITESPACE","\n            ",696],["T_IF","if",697],["T_WHITESPACE"," ",697],"(",["T_VARIABLE","$response",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","getOrigresult",697],"(",")",["T_WHITESPACE"," ",697],["T_IS_EQUAL","==",697],["T_WHITESPACE"," ",697],["T_STRING","self",697],["T_DOUBLE_COLON","::",697],["T_STRING","RESPONSE_CODE_APPROVED",697],")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n                ",697],["T_VARIABLE","$payment",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","setIsTransactionApproved",698],"(",["T_STRING","true",698],")",";",["T_WHITESPACE","\n            ",698],"}",["T_WHITESPACE"," ",699],["T_ELSEIF","elseif",699],["T_WHITESPACE"," ",699],"(",["T_VARIABLE","$response",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","getOrigresult",699],"(",")",["T_WHITESPACE"," ",699],["T_IS_EQUAL","==",699],["T_WHITESPACE"," ",699],["T_STRING","self",699],["T_DOUBLE_COLON","::",699],["T_STRING","RESPONSE_CODE_DECLINED_BY_MERCHANT",699],")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n                ",699],["T_VARIABLE","$payment",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","setIsTransactionDenied",700],"(",["T_STRING","true",700],")",";",["T_WHITESPACE","\n            ",700],"}",["T_WHITESPACE","\n        ",701],"}",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$rawData",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$response",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","getData",703],"(",")",";",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],"(",["T_VARIABLE","$rawData",704],")",["T_WHITESPACE"," ",704],"?",["T_WHITESPACE"," ",704],["T_VARIABLE","$rawData",704],["T_WHITESPACE"," ",704],":",["T_WHITESPACE"," ",704],"[","]",";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * @param DataObject $request\n     * @param DataObject $billing\n     *\n     * @return Object\n     *\/",707],["T_WHITESPACE","\n    ",712],["T_PUBLIC","public",713],["T_WHITESPACE"," ",713],["T_FUNCTION","function",713],["T_WHITESPACE"," ",713],["T_STRING","setBilling",713],"(",["T_STRING","DataObject",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$request",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$billing",713],")",["T_WHITESPACE","\n    ",713],"{",["T_WHITESPACE","\n        ",714],["T_VARIABLE","$request",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","setFirstname",715],"(",["T_WHITESPACE","\n            ",715],["T_VARIABLE","$billing",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","getFirstname",716],"(",")",["T_WHITESPACE","\n        ",716],")",["T_OBJECT_OPERATOR","->",717],["T_STRING","setLastname",717],"(",["T_WHITESPACE","\n            ",717],["T_VARIABLE","$billing",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getLastname",718],"(",")",["T_WHITESPACE","\n        ",718],")",["T_OBJECT_OPERATOR","->",719],["T_STRING","setStreet",719],"(",["T_WHITESPACE","\n            ",719],["T_STRING","implode",720],"(",["T_CONSTANT_ENCAPSED_STRING","' '",720],",",["T_WHITESPACE"," ",720],["T_VARIABLE","$billing",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getStreet",720],"(",")",")",["T_WHITESPACE","\n        ",720],")",["T_OBJECT_OPERATOR","->",721],["T_STRING","setCity",721],"(",["T_WHITESPACE","\n            ",721],["T_VARIABLE","$billing",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getCity",722],"(",")",["T_WHITESPACE","\n        ",722],")",["T_OBJECT_OPERATOR","->",723],["T_STRING","setState",723],"(",["T_WHITESPACE","\n            ",723],["T_VARIABLE","$billing",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getRegionCode",724],"(",")",["T_WHITESPACE","\n        ",724],")",["T_OBJECT_OPERATOR","->",725],["T_STRING","setZip",725],"(",["T_WHITESPACE","\n            ",725],["T_VARIABLE","$billing",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getPostcode",726],"(",")",["T_WHITESPACE","\n        ",726],")",["T_OBJECT_OPERATOR","->",727],["T_STRING","setCountry",727],"(",["T_WHITESPACE","\n            ",727],["T_VARIABLE","$billing",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","getCountryId",728],"(",")",["T_WHITESPACE","\n        ",728],")",";",["T_WHITESPACE","\n        ",729],["T_RETURN","return",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$request",730],";",["T_WHITESPACE","\n    ",730],"}",["T_WHITESPACE","\n\n    ",731],["T_DOC_COMMENT","\/**\n     * @param DataObject $request\n     * @param DataObject $shipping\n     *\n     * @return Object\n     *\/",733],["T_WHITESPACE","\n    ",738],["T_PUBLIC","public",739],["T_WHITESPACE"," ",739],["T_FUNCTION","function",739],["T_WHITESPACE"," ",739],["T_STRING","setShipping",739],"(",["T_VARIABLE","$request",739],",",["T_WHITESPACE"," ",739],["T_VARIABLE","$shipping",739],")",["T_WHITESPACE","\n    ",739],"{",["T_WHITESPACE","\n        ",740],["T_VARIABLE","$request",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","setShiptofirstname",741],"(",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$shipping",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getFirstname",742],"(",")",["T_WHITESPACE","\n        ",742],")",["T_OBJECT_OPERATOR","->",743],["T_STRING","setShiptolastname",743],"(",["T_WHITESPACE","\n            ",743],["T_VARIABLE","$shipping",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","getLastname",744],"(",")",["T_WHITESPACE","\n        ",744],")",["T_OBJECT_OPERATOR","->",745],["T_STRING","setShiptostreet",745],"(",["T_WHITESPACE","\n            ",745],["T_STRING","implode",746],"(",["T_CONSTANT_ENCAPSED_STRING","' '",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$shipping",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","getStreet",746],"(",")",")",["T_WHITESPACE","\n        ",746],")",["T_OBJECT_OPERATOR","->",747],["T_STRING","setShiptocity",747],"(",["T_WHITESPACE","\n            ",747],["T_VARIABLE","$shipping",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","getCity",748],"(",")",["T_WHITESPACE","\n        ",748],")",["T_OBJECT_OPERATOR","->",749],["T_STRING","setShiptostate",749],"(",["T_WHITESPACE","\n            ",749],["T_VARIABLE","$shipping",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","getRegionCode",750],"(",")",["T_WHITESPACE","\n        ",750],")",["T_OBJECT_OPERATOR","->",751],["T_STRING","setShiptozip",751],"(",["T_WHITESPACE","\n            ",751],["T_VARIABLE","$shipping",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","getPostcode",752],"(",")",["T_WHITESPACE","\n        ",752],")",["T_OBJECT_OPERATOR","->",753],["T_STRING","setShiptocountry",753],"(",["T_WHITESPACE","\n            ",753],["T_VARIABLE","$shipping",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","getCountryId",754],"(",")",["T_WHITESPACE","\n        ",754],")",";",["T_WHITESPACE","\n        ",755],["T_RETURN","return",756],["T_WHITESPACE"," ",756],["T_VARIABLE","$request",756],";",["T_WHITESPACE","\n    ",756],"}",["T_WHITESPACE","\n\n    ",757],["T_DOC_COMMENT","\/**\n     * Fill response with data.\n     *\n     * @param array $postData\n     * @param DataObject $response\n     *\n     * @return DataObject\n     *\/",759],["T_WHITESPACE","\n    ",766],["T_PUBLIC","public",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","mapGatewayResponse",767],"(",["T_ARRAY","array",767],["T_WHITESPACE"," ",767],["T_VARIABLE","$postData",767],",",["T_WHITESPACE"," ",767],["T_STRING","DataObject",767],["T_WHITESPACE"," ",767],["T_VARIABLE","$response",767],")",["T_WHITESPACE","\n    ",767],"{",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$response",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","setData",769],"(",["T_STRING","array_change_key_case",769],"(",["T_VARIABLE","$postData",769],")",")",";",["T_WHITESPACE","\n        ",769],["T_FOREACH","foreach",770],["T_WHITESPACE"," ",770],"(",["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_responseParamsMappings",770],["T_WHITESPACE"," ",770],["T_AS","as",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$originKey",770],["T_WHITESPACE"," ",770],["T_DOUBLE_ARROW","=>",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$key",770],")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_VARIABLE","$data",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_VARIABLE","$response",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","getData",771],"(",["T_VARIABLE","$key",771],")",";",["T_WHITESPACE","\n            ",771],["T_IF","if",772],["T_WHITESPACE"," ",772],"(",["T_ISSET","isset",772],"(",["T_VARIABLE","$data",772],")",")",["T_WHITESPACE"," ",772],"{",["T_WHITESPACE","\n                ",772],["T_VARIABLE","$response",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","setData",773],"(",["T_VARIABLE","$originKey",773],",",["T_WHITESPACE"," ",773],["T_VARIABLE","$data",773],")",";",["T_WHITESPACE","\n            ",773],"}",["T_WHITESPACE","\n        ",774],"}",["T_WHITESPACE","\n        ",775],["T_COMMENT","\/\/ process AVS data separately\n",776],["T_WHITESPACE","        ",777],["T_VARIABLE","$avsAddr",777],["T_WHITESPACE"," ",777],"=",["T_WHITESPACE"," ",777],["T_VARIABLE","$response",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","getData",777],"(",["T_CONSTANT_ENCAPSED_STRING","'avsaddr'",777],")",";",["T_WHITESPACE","\n        ",777],["T_VARIABLE","$avsZip",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_VARIABLE","$response",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","getData",778],"(",["T_CONSTANT_ENCAPSED_STRING","'avszip'",778],")",";",["T_WHITESPACE","\n        ",778],["T_IF","if",779],["T_WHITESPACE"," ",779],"(",["T_ISSET","isset",779],"(",["T_VARIABLE","$avsAddr",779],")",["T_WHITESPACE"," ",779],["T_BOOLEAN_AND","&&",779],["T_WHITESPACE"," ",779],["T_ISSET","isset",779],"(",["T_VARIABLE","$avsZip",779],")",")",["T_WHITESPACE"," ",779],"{",["T_WHITESPACE","\n            ",779],["T_VARIABLE","$response",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","setData",780],"(",["T_CONSTANT_ENCAPSED_STRING","'avsdata'",780],",",["T_WHITESPACE"," ",780],["T_VARIABLE","$avsAddr",780],["T_WHITESPACE"," ",780],".",["T_WHITESPACE"," ",780],["T_VARIABLE","$avsZip",780],")",";",["T_WHITESPACE","\n        ",780],"}",["T_WHITESPACE","\n        ",781],["T_COMMENT","\/\/ process Name separately\n",782],["T_WHITESPACE","        ",783],["T_VARIABLE","$firstnameParameter",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],["T_VARIABLE","$response",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","getData",783],"(",["T_CONSTANT_ENCAPSED_STRING","'billtofirstname'",783],")",";",["T_WHITESPACE","\n        ",783],["T_VARIABLE","$lastnameParameter",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],["T_VARIABLE","$response",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","getData",784],"(",["T_CONSTANT_ENCAPSED_STRING","'billtolastname'",784],")",";",["T_WHITESPACE","\n        ",784],["T_IF","if",785],["T_WHITESPACE"," ",785],"(",["T_ISSET","isset",785],"(",["T_VARIABLE","$firstnameParameter",785],")",["T_WHITESPACE"," ",785],["T_BOOLEAN_AND","&&",785],["T_WHITESPACE"," ",785],["T_ISSET","isset",785],"(",["T_VARIABLE","$lastnameParameter",785],")",")",["T_WHITESPACE"," ",785],"{",["T_WHITESPACE","\n            ",785],["T_VARIABLE","$response",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","setData",786],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",786],",",["T_WHITESPACE"," ",786],["T_VARIABLE","$firstnameParameter",786],["T_WHITESPACE"," ",786],".",["T_WHITESPACE"," ",786],["T_CONSTANT_ENCAPSED_STRING","' '",786],["T_WHITESPACE"," ",786],".",["T_WHITESPACE"," ",786],["T_VARIABLE","$lastnameParameter",786],")",";",["T_WHITESPACE","\n        ",786],"}",["T_WHITESPACE","\n        ",787],["T_RETURN","return",788],["T_WHITESPACE"," ",788],["T_VARIABLE","$response",788],";",["T_WHITESPACE","\n    ",788],"}",["T_WHITESPACE","\n\n    ",789],["T_DOC_COMMENT","\/**\n     * @param DataObject $payment\n     * @param DataObject $response\n     *\n     * @return Object\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",791],["T_WHITESPACE","\n    ",797],["T_PUBLIC","public",798],["T_WHITESPACE"," ",798],["T_FUNCTION","function",798],["T_WHITESPACE"," ",798],["T_STRING","setTransStatus",798],"(",["T_VARIABLE","$payment",798],",",["T_WHITESPACE"," ",798],["T_VARIABLE","$response",798],")",["T_WHITESPACE","\n    ",798],"{",["T_WHITESPACE","\n        ",799],["T_IF","if",800],["T_WHITESPACE"," ",800],"(",["T_VARIABLE","$payment",800],["T_WHITESPACE"," ",800],["T_INSTANCEOF","instanceof",800],["T_WHITESPACE"," ",800],["T_STRING","InfoInterface",800],")",["T_WHITESPACE"," ",800],"{",["T_WHITESPACE","\n            ",800],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","errorHandler",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","handle",801],"(",["T_VARIABLE","$payment",801],",",["T_WHITESPACE"," ",801],["T_VARIABLE","$response",801],")",";",["T_WHITESPACE","\n        ",801],"}",["T_WHITESPACE","\n\n        ",802],["T_SWITCH","switch",804],["T_WHITESPACE"," ",804],"(",["T_VARIABLE","$response",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getResultCode",804],"(",")",")",["T_WHITESPACE"," ",804],"{",["T_WHITESPACE","\n            ",804],["T_CASE","case",805],["T_WHITESPACE"," ",805],["T_STRING","self",805],["T_DOUBLE_COLON","::",805],["T_STRING","RESPONSE_CODE_APPROVED",805],":",["T_WHITESPACE","\n                ",805],["T_VARIABLE","$payment",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","setTransactionId",806],"(",["T_VARIABLE","$response",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","getPnref",806],"(",")",")",["T_OBJECT_OPERATOR","->",806],["T_STRING","setIsTransactionClosed",806],"(",["T_LNUMBER","0",806],")",";",["T_WHITESPACE","\n                ",806],["T_BREAK","break",807],";",["T_WHITESPACE","\n            ",807],["T_CASE","case",808],["T_WHITESPACE"," ",808],["T_STRING","self",808],["T_DOUBLE_COLON","::",808],["T_STRING","RESPONSE_CODE_DECLINED_BY_FILTER",808],":",["T_WHITESPACE","\n            ",808],["T_CASE","case",809],["T_WHITESPACE"," ",809],["T_STRING","self",809],["T_DOUBLE_COLON","::",809],["T_STRING","RESPONSE_CODE_FRAUDSERVICE_FILTER",809],":",["T_WHITESPACE","\n                ",809],["T_VARIABLE","$payment",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","setTransactionId",810],"(",["T_VARIABLE","$response",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","getPnref",810],"(",")",")",["T_OBJECT_OPERATOR","->",810],["T_STRING","setIsTransactionClosed",810],"(",["T_LNUMBER","0",810],")",";",["T_WHITESPACE","\n                ",810],["T_VARIABLE","$payment",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","setIsTransactionPending",811],"(",["T_STRING","true",811],")",";",["T_WHITESPACE","\n                ",811],["T_VARIABLE","$payment",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","setIsFraudDetected",812],"(",["T_STRING","true",812],")",";",["T_WHITESPACE","\n                ",812],["T_BREAK","break",813],";",["T_WHITESPACE","\n            ",813],["T_CASE","case",814],["T_WHITESPACE"," ",814],["T_STRING","self",814],["T_DOUBLE_COLON","::",814],["T_STRING","RESPONSE_CODE_DECLINED",814],":",["T_WHITESPACE","\n                ",814],["T_THROW","throw",815],["T_WHITESPACE"," ",815],["T_NEW","new",815],["T_WHITESPACE"," ",815],["T_NS_SEPARATOR","\\",815],["T_STRING","Magento",815],["T_NS_SEPARATOR","\\",815],["T_STRING","Framework",815],["T_NS_SEPARATOR","\\",815],["T_STRING","Exception",815],["T_NS_SEPARATOR","\\",815],["T_STRING","LocalizedException",815],"(",["T_WHITESPACE","\n                    ",815],["T_STRING","__",816],"(",["T_VARIABLE","$response",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","getRespmsg",816],"(",")",")",["T_WHITESPACE","\n                ",816],")",";",["T_WHITESPACE","\n            ",817],["T_DEFAULT","default",818],":",["T_WHITESPACE","\n                ",818],["T_BREAK","break",819],";",["T_WHITESPACE","\n        ",819],"}",["T_WHITESPACE","\n        ",820],["T_RETURN","return",821],["T_WHITESPACE"," ",821],["T_VARIABLE","$payment",821],";",["T_WHITESPACE","\n    ",821],"}",["T_WHITESPACE","\n\n    ",822],["T_DOC_COMMENT","\/**\n     * @param DataObject $order\n     * @param DataObject $request\n     * @return DataObject\n     *\/",824],["T_WHITESPACE","\n    ",828],["T_PUBLIC","public",829],["T_WHITESPACE"," ",829],["T_FUNCTION","function",829],["T_WHITESPACE"," ",829],["T_STRING","fillCustomerContacts",829],"(",["T_STRING","DataObject",829],["T_WHITESPACE"," ",829],["T_VARIABLE","$order",829],",",["T_WHITESPACE"," ",829],["T_STRING","DataObject",829],["T_WHITESPACE"," ",829],["T_VARIABLE","$request",829],")",["T_WHITESPACE","\n    ",829],"{",["T_WHITESPACE","\n        ",830],["T_VARIABLE","$billing",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_VARIABLE","$order",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getBillingAddress",831],"(",")",";",["T_WHITESPACE","\n        ",831],["T_IF","if",832],["T_WHITESPACE"," ",832],"(","!",["T_EMPTY","empty",832],"(",["T_VARIABLE","$billing",832],")",")",["T_WHITESPACE"," ",832],"{",["T_WHITESPACE","\n            ",832],["T_VARIABLE","$request",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","setBilling",833],"(",["T_VARIABLE","$request",833],",",["T_WHITESPACE"," ",833],["T_VARIABLE","$billing",833],")",";",["T_WHITESPACE","\n            ",833],["T_VARIABLE","$request",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","setEmail",834],"(",["T_VARIABLE","$order",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","getCustomerEmail",834],"(",")",")",";",["T_WHITESPACE","\n        ",834],"}",["T_WHITESPACE","\n        ",835],["T_VARIABLE","$shipping",836],["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_VARIABLE","$order",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","getShippingAddress",836],"(",")",";",["T_WHITESPACE","\n        ",836],["T_IF","if",837],["T_WHITESPACE"," ",837],"(","!",["T_EMPTY","empty",837],"(",["T_VARIABLE","$shipping",837],")",")",["T_WHITESPACE"," ",837],"{",["T_WHITESPACE","\n            ",837],["T_VARIABLE","$request",838],["T_WHITESPACE"," ",838],"=",["T_WHITESPACE"," ",838],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","setShipping",838],"(",["T_VARIABLE","$request",838],",",["T_WHITESPACE"," ",838],["T_VARIABLE","$shipping",838],")",";",["T_WHITESPACE","\n            ",838],["T_RETURN","return",839],["T_WHITESPACE"," ",839],["T_VARIABLE","$request",839],";",["T_WHITESPACE","\n        ",839],"}",["T_WHITESPACE","\n        ",840],["T_RETURN","return",841],["T_WHITESPACE"," ",841],["T_VARIABLE","$request",841],";",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n\n    ",842],["T_DOC_COMMENT","\/**\n     * Add order details to payment request\n     * @param DataObject $request\n     * @param Order $order\n     * @return void\n     *\/",844],["T_WHITESPACE","\n    ",849],["T_PUBLIC","public",850],["T_WHITESPACE"," ",850],["T_FUNCTION","function",850],["T_WHITESPACE"," ",850],["T_STRING","addRequestOrderInfo",850],"(",["T_STRING","DataObject",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$request",850],",",["T_WHITESPACE"," ",850],["T_STRING","Order",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$order",850],")",["T_WHITESPACE","\n    ",850],"{",["T_WHITESPACE","\n        ",851],["T_VARIABLE","$id",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_VARIABLE","$order",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","getId",852],"(",")",";",["T_WHITESPACE","\n        ",852],["T_COMMENT","\/\/ for auth request order id is not exists yet\n",853],["T_WHITESPACE","        ",854],["T_IF","if",854],["T_WHITESPACE"," ",854],"(","!",["T_EMPTY","empty",854],"(",["T_VARIABLE","$id",854],")",")",["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n            ",854],["T_VARIABLE","$request",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","setPonum",855],"(",["T_VARIABLE","$id",855],")",";",["T_WHITESPACE","\n        ",855],"}",["T_WHITESPACE","\n        ",856],["T_VARIABLE","$orderIncrementId",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],["T_VARIABLE","$order",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","getIncrementId",857],"(",")",";",["T_WHITESPACE","\n        ",857],["T_VARIABLE","$request",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","setCustref",858],"(",["T_VARIABLE","$orderIncrementId",858],")",["T_WHITESPACE","\n            ",858],["T_OBJECT_OPERATOR","->",859],["T_STRING","setInvnum",859],"(",["T_VARIABLE","$orderIncrementId",859],")",["T_WHITESPACE","\n            ",859],["T_OBJECT_OPERATOR","->",860],["T_STRING","setComment1",860],"(",["T_VARIABLE","$orderIncrementId",860],")",";",["T_WHITESPACE","\n    ",860],"}",["T_WHITESPACE","\n\n    ",861],["T_DOC_COMMENT","\/**\n     * Assign data to info model instance\n     *\n     * @param array|DataObject $data\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",863],["T_WHITESPACE","\n    ",869],["T_PUBLIC","public",870],["T_WHITESPACE"," ",870],["T_FUNCTION","function",870],["T_WHITESPACE"," ",870],["T_STRING","assignData",870],"(",["T_STRING","DataObject",870],["T_WHITESPACE"," ",870],["T_VARIABLE","$data",870],")",["T_WHITESPACE","\n    ",870],"{",["T_WHITESPACE","\n        ",871],["T_VARIABLE","$this",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","_eventManager",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","dispatch",872],"(",["T_WHITESPACE","\n            ",872],["T_CONSTANT_ENCAPSED_STRING","'payment_method_assign_data_'",873],["T_WHITESPACE"," ",873],".",["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","getCode",873],"(",")",",",["T_WHITESPACE","\n            ",873],"[",["T_WHITESPACE","\n                ",874],["T_STRING","AbstractDataAssignObserver",875],["T_DOUBLE_COLON","::",875],["T_STRING","METHOD_CODE",875],["T_WHITESPACE"," ",875],["T_DOUBLE_ARROW","=>",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$this",875],",",["T_WHITESPACE","\n                ",875],["T_STRING","AbstractDataAssignObserver",876],["T_DOUBLE_COLON","::",876],["T_STRING","MODEL_CODE",876],["T_WHITESPACE"," ",876],["T_DOUBLE_ARROW","=>",876],["T_WHITESPACE"," ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","getInfoInstance",876],"(",")",",",["T_WHITESPACE","\n                ",876],["T_STRING","AbstractDataAssignObserver",877],["T_DOUBLE_COLON","::",877],["T_STRING","DATA_CODE",877],["T_WHITESPACE"," ",877],["T_DOUBLE_ARROW","=>",877],["T_WHITESPACE"," ",877],["T_VARIABLE","$data",877],["T_WHITESPACE","\n            ",877],"]",["T_WHITESPACE","\n        ",878],")",";",["T_WHITESPACE","\n\n        ",879],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","_eventManager",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","dispatch",881],"(",["T_WHITESPACE","\n            ",881],["T_CONSTANT_ENCAPSED_STRING","'payment_method_assign_data'",882],",",["T_WHITESPACE","\n            ",882],"[",["T_WHITESPACE","\n                ",883],["T_STRING","AbstractDataAssignObserver",884],["T_DOUBLE_COLON","::",884],["T_STRING","METHOD_CODE",884],["T_WHITESPACE"," ",884],["T_DOUBLE_ARROW","=>",884],["T_WHITESPACE"," ",884],["T_VARIABLE","$this",884],",",["T_WHITESPACE","\n                ",884],["T_STRING","AbstractDataAssignObserver",885],["T_DOUBLE_COLON","::",885],["T_STRING","MODEL_CODE",885],["T_WHITESPACE"," ",885],["T_DOUBLE_ARROW","=>",885],["T_WHITESPACE"," ",885],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","getInfoInstance",885],"(",")",",",["T_WHITESPACE","\n                ",885],["T_STRING","AbstractDataAssignObserver",886],["T_DOUBLE_COLON","::",886],["T_STRING","DATA_CODE",886],["T_WHITESPACE"," ",886],["T_DOUBLE_ARROW","=>",886],["T_WHITESPACE"," ",886],["T_VARIABLE","$data",886],["T_WHITESPACE","\n            ",886],"]",["T_WHITESPACE","\n        ",887],")",";",["T_WHITESPACE","\n\n        ",888],["T_RETURN","return",890],["T_WHITESPACE"," ",890],["T_VARIABLE","$this",890],";",["T_WHITESPACE","\n    ",890],"}",["T_WHITESPACE","\n\n    ",891],["T_DOC_COMMENT","\/**\n     * @param InfoInterface $payment\n     * @param string $transactionId\n     * @return DataObject\n     * @throws LocalizedException\n     *\/",893],["T_WHITESPACE","\n    ",898],["T_PROTECTED","protected",899],["T_WHITESPACE"," ",899],["T_FUNCTION","function",899],["T_WHITESPACE"," ",899],["T_STRING","transactionInquiryRequest",899],"(",["T_STRING","InfoInterface",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$payment",899],",",["T_WHITESPACE"," ",899],["T_VARIABLE","$transactionId",899],")",["T_WHITESPACE","\n    ",899],"{",["T_WHITESPACE","\n        ",900],["T_VARIABLE","$request",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","buildBasicRequest",901],"(",")",";",["T_WHITESPACE","\n        ",901],["T_VARIABLE","$request",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","setTrxtype",902],"(",["T_STRING","self",902],["T_DOUBLE_COLON","::",902],["T_STRING","TRXTYPE_DELAYED_INQUIRY",902],")",";",["T_WHITESPACE","\n        ",902],["T_VARIABLE","$transactionId",903],["T_WHITESPACE"," ",903],"=",["T_WHITESPACE"," ",903],["T_VARIABLE","$payment",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","getCcTransId",903],"(",")",["T_WHITESPACE"," ",903],"?",["T_WHITESPACE"," ",903],["T_VARIABLE","$payment",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","getCcTransId",903],"(",")",["T_WHITESPACE"," ",903],":",["T_WHITESPACE"," ",903],["T_VARIABLE","$transactionId",903],";",["T_WHITESPACE","\n        ",903],["T_VARIABLE","$request",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","setOrigid",904],"(",["T_VARIABLE","$transactionId",904],")",";",["T_WHITESPACE","\n        ",904],["T_VARIABLE","$response",905],["T_WHITESPACE"," ",905],"=",["T_WHITESPACE"," ",905],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","postRequest",905],"(",["T_VARIABLE","$request",905],",",["T_WHITESPACE"," ",905],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","getConfig",905],"(",")",")",";",["T_WHITESPACE","\n\n        ",905],["T_RETURN","return",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$response",907],";",["T_WHITESPACE","\n    ",907],"}",["T_WHITESPACE","\n",908],"}",["T_WHITESPACE","\n",909]]