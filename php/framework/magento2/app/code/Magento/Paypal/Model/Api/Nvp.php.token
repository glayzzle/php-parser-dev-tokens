[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Paypal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Cart",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Method",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Logger",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * NVP API wrappers model\n * @TODO: move some parts to abstract, don't hesitate to throw exceptions on api calls\n *\n * @method string getToken()\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","Nvp",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Paypal",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Api",23],["T_NS_SEPARATOR","\\",23],["T_STRING","AbstractApi",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * Paypal methods definition\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","DO_DIRECT_PAYMENT",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'DoDirectPayment'",28],";",["T_WHITESPACE","\n\n    ",28],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","DO_CAPTURE",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'DoCapture'",30],";",["T_WHITESPACE","\n\n    ",30],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","DO_AUTHORIZATION",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'DoAuthorization'",32],";",["T_WHITESPACE","\n\n    ",32],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","DO_VOID",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'DoVoid'",34],";",["T_WHITESPACE","\n\n    ",34],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","REFUND_TRANSACTION",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'RefundTransaction'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","SET_EXPRESS_CHECKOUT",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'SetExpressCheckout'",38],";",["T_WHITESPACE","\n\n    ",38],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'GetExpressCheckoutDetails'",40],";",["T_WHITESPACE","\n\n    ",40],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'DoExpressCheckoutPayment'",42],";",["T_WHITESPACE","\n\n    ",42],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","CALLBACK_RESPONSE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'CallbackResponse'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Paypal ManagePendingTransactionStatus actions\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","PENDING_TRANSACTION_ACCEPT",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Accept'",49],";",["T_WHITESPACE","\n\n    ",49],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","PENDING_TRANSACTION_DENY",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Deny'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Capture type (make authorization close or remain open)\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_captureTypeComplete",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Complete'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Capture type (make authorization close or remain open)\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_captureTypeNotcomplete",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'NotComplete'",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Global public interface map\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_globalMap",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n        ",72],["T_COMMENT","\/\/ each call\n",73],["T_WHITESPACE","        ",74],["T_CONSTANT_ENCAPSED_STRING","'VERSION'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'version'",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'USER'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'api_username'",75],",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'PWD'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'api_password'",76],",",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'api_signature'",77],",",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'build_notation_code'",78],",",["T_WHITESPACE","\n\n        ",78],["T_COMMENT","\/\/ for Unilateral payments\n",80],["T_WHITESPACE","        ",81],["T_CONSTANT_ENCAPSED_STRING","'SUBJECT'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'business_account'",81],",",["T_WHITESPACE","\n\n        ",81],["T_COMMENT","\/\/ commands\n",83],["T_WHITESPACE","        ",84],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTACTION'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'payment_action'",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'return_url'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'cancel_url'",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'inv_num'",87],",",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'token'",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'correlation_id'",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'SOLUTIONTYPE'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'solution_type'",90],",",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'GIROPAYCANCELURL'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'giropay_cancel_url'",91],",",["T_WHITESPACE","\n        ",91],["T_CONSTANT_ENCAPSED_STRING","'GIROPAYSUCCESSURL'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'giropay_success_url'",92],",",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'BANKTXNPENDINGURL'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'giropay_bank_txn_pending_url'",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'IPADDRESS'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'ip_address'",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'notify_url'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'RETURNFMFDETAILS'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'fraud_management_filters_enabled'",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'note'",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'REFUNDTYPE'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'refund_type'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'ACTION'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'action'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'redirect_required'",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'SUCCESSPAGEREDIRECTREQUESTED'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'redirect_requested'",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'REQBILLINGADDRESS'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'require_billing_address'",102],",",["T_WHITESPACE","\n        ",102],["T_COMMENT","\/\/ style settings\n",103],["T_WHITESPACE","        ",104],["T_CONSTANT_ENCAPSED_STRING","'PAGESTYLE'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'page_style'",104],",",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'hdrimg'",105],",",["T_WHITESPACE","\n        ",105],["T_CONSTANT_ENCAPSED_STRING","'HDRBORDERCOLOR'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'hdrbordercolor'",106],",",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'HDRBACKCOLOR'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'hdrbackcolor'",107],",",["T_WHITESPACE","\n        ",107],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'payflowcolor'",108],",",["T_WHITESPACE","\n        ",108],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'locale_code'",109],",",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'PAL'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'pal'",110],",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'USERSELECTEDFUNDINGSOURCE'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'funding_source'",111],",",["T_WHITESPACE","\n\n        ",111],["T_COMMENT","\/\/ transaction info\n",113],["T_WHITESPACE","        ",114],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'transaction_id'",114],",",["T_WHITESPACE","\n        ",114],["T_CONSTANT_ENCAPSED_STRING","'AUTHORIZATIONID'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'authorization_id'",115],",",["T_WHITESPACE","\n        ",115],["T_CONSTANT_ENCAPSED_STRING","'REFUNDTRANSACTIONID'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'refund_transaction_id'",116],",",["T_WHITESPACE","\n        ",116],["T_CONSTANT_ENCAPSED_STRING","'COMPLETETYPE'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'complete_type'",117],",",["T_WHITESPACE","\n        ",117],["T_CONSTANT_ENCAPSED_STRING","'AMT'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'amount'",118],",",["T_WHITESPACE","\n        ",118],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'subtotal_amount'",119],",",["T_WHITESPACE","\n        ",119],["T_CONSTANT_ENCAPSED_STRING","'GROSSREFUNDAMT'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'refunded_amount'",120],",",["T_WHITESPACE"," ",120],["T_COMMENT","\/\/ possible mistake, check with API reference\n",120],["T_WHITESPACE","\n        ",121],["T_COMMENT","\/\/ payment\/billing info\n",122],["T_WHITESPACE","        ",123],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",123],",",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'payment_status'",124],",",["T_WHITESPACE","\n        ",124],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'pending_reason'",125],",",["T_WHITESPACE","\n        ",125],["T_CONSTANT_ENCAPSED_STRING","'PROTECTIONELIGIBILITY'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'protection_eligibility'",126],",",["T_WHITESPACE","\n        ",126],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'payer_id'",127],",",["T_WHITESPACE","\n        ",127],["T_CONSTANT_ENCAPSED_STRING","'PAYERSTATUS'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'payer_status'",128],",",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSID'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'address_id'",129],",",["T_WHITESPACE","\n        ",129],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSSTATUS'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'address_status'",130],",",["T_WHITESPACE","\n        ",130],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'email'",131],",",["T_WHITESPACE","\n\n        ",131],["T_COMMENT","\/\/ backwards compatibility\n",133],["T_WHITESPACE","        ",134],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'firstname'",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'lastname'",135],",",["T_WHITESPACE","\n\n        ",135],["T_COMMENT","\/\/ shipping rate\n",137],["T_WHITESPACE","        ",138],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGOPTIONNAME'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'shipping_rate_code'",138],",",["T_WHITESPACE","\n        ",138],["T_CONSTANT_ENCAPSED_STRING","'NOSHIPPING'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'suppress_shipping'",139],",",["T_WHITESPACE","\n\n        ",139],["T_COMMENT","\/\/ paypal direct credit card information\n",141],["T_WHITESPACE","        ",142],["T_CONSTANT_ENCAPSED_STRING","'CREDITCARDTYPE'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'credit_card_type'",142],",",["T_WHITESPACE","\n        ",142],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'credit_card_number'",143],",",["T_WHITESPACE","\n        ",143],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'credit_card_expiration_date'",144],",",["T_WHITESPACE","\n        ",144],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'credit_card_cvv2'",145],",",["T_WHITESPACE","\n        ",145],["T_CONSTANT_ENCAPSED_STRING","'STARTDATE'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'maestro_solo_issue_date'",146],",",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'ISSUENUMBER'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'maestro_solo_issue_number'",147],",",["T_WHITESPACE","\n        ",147],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'cvv2_check_result'",148],",",["T_WHITESPACE","\n        ",148],["T_CONSTANT_ENCAPSED_STRING","'AVSCODE'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'avs_result'",149],",",["T_WHITESPACE","\n\n        ",149],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",151],",",["T_WHITESPACE","\n        ",151],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",152],",",["T_WHITESPACE","\n        ",152],["T_CONSTANT_ENCAPSED_STRING","'INITAMT'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'init_amount'",153],",",["T_WHITESPACE","\n        ",153],["T_CONSTANT_ENCAPSED_STRING","'STATUS'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'status'",154],",",["T_WHITESPACE","\n\n        ",154],["T_COMMENT","\/\/Next two fields are used for Brazil only\n",156],["T_WHITESPACE","        ",157],["T_CONSTANT_ENCAPSED_STRING","'TAXID'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'buyer_tax_id'",157],",",["T_WHITESPACE","\n        ",157],["T_CONSTANT_ENCAPSED_STRING","'TAXIDTYPE'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'buyer_tax_id_type'",158],",",["T_WHITESPACE","\n\n        ",158],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTID'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'billing_agreement_id'",160],",",["T_WHITESPACE","\n        ",160],["T_CONSTANT_ENCAPSED_STRING","'REFERENCEID'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'reference_id'",161],",",["T_WHITESPACE","\n        ",161],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTSTATUS'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'billing_agreement_status'",162],",",["T_WHITESPACE","\n        ",162],["T_CONSTANT_ENCAPSED_STRING","'BILLINGTYPE'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'billing_type'",163],",",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'SREET'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'street'",164],",",["T_WHITESPACE","\n        ",164],["T_CONSTANT_ENCAPSED_STRING","'CITY'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'city'",165],",",["T_WHITESPACE","\n        ",165],["T_CONSTANT_ENCAPSED_STRING","'STATE'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'state'",166],",",["T_WHITESPACE","\n        ",166],["T_CONSTANT_ENCAPSED_STRING","'COUNTRYCODE'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'countrycode'",167],",",["T_WHITESPACE","\n        ",167],["T_CONSTANT_ENCAPSED_STRING","'ZIP'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'zip'",168],",",["T_WHITESPACE","\n        ",168],["T_CONSTANT_ENCAPSED_STRING","'PAYERBUSINESS'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'payer_business'",169],",",["T_WHITESPACE","\n    ",169],"]",";",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Filter callback for preparing internal amounts to NVP request\n     *\n     * @var array\n     *\/",172],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$_exportToRequestFilters",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[",["T_WHITESPACE","\n        ",177],["T_CONSTANT_ENCAPSED_STRING","'AMT'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'formatPrice'",178],",",["T_WHITESPACE","\n        ",178],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'formatPrice'",179],",",["T_WHITESPACE","\n        ",179],["T_CONSTANT_ENCAPSED_STRING","'TRIALAMT'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'formatPrice'",180],",",["T_WHITESPACE","\n        ",180],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'formatPrice'",181],",",["T_WHITESPACE","\n        ",181],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'formatPrice'",182],",",["T_WHITESPACE","\n        ",182],["T_CONSTANT_ENCAPSED_STRING","'INITAMT'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'formatPrice'",183],",",["T_WHITESPACE","\n        ",183],["T_CONSTANT_ENCAPSED_STRING","'CREDITCARDTYPE'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'_filterCcType'",184],",",["T_WHITESPACE","\n        ",184],["T_CONSTANT_ENCAPSED_STRING","'AUTOBILLAMT'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'_filterBillFailedLater'",185],",",["T_WHITESPACE","\n        ",185],["T_CONSTANT_ENCAPSED_STRING","'BILLINGPERIOD'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'_filterPeriodUnit'",186],",",["T_WHITESPACE","\n        ",186],["T_CONSTANT_ENCAPSED_STRING","'TRIALBILLINGPERIOD'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'_filterPeriodUnit'",187],",",["T_WHITESPACE","\n        ",187],["T_CONSTANT_ENCAPSED_STRING","'FAILEDINITAMTACTION'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'_filterInitialAmountMayFail'",188],",",["T_WHITESPACE","\n        ",188],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTSTATUS'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'_filterBillingAgreementStatus'",189],",",["T_WHITESPACE","\n        ",189],["T_CONSTANT_ENCAPSED_STRING","'NOSHIPPING'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'_filterInt'",190],",",["T_WHITESPACE","\n    ",190],"]",";",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Filter callback for preparing internal amounts to NVP request\n     *\n     * @var array\n     *\/",193],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$_importFromRequestFilters",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n        ",198],["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'_filterToBool'",199],",",["T_WHITESPACE","\n        ",199],["T_CONSTANT_ENCAPSED_STRING","'SUCCESSPAGEREDIRECTREQUESTED'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'_filterToBool'",200],",",["T_WHITESPACE","\n        ",200],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'_filterPaymentStatusFromNvpToInfo'",201],",",["T_WHITESPACE","\n    ",201],"]",";",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Request map for each API call\n     *\n     * @var string[]\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$_eachCallRequest",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],"[",["T_CONSTANT_ENCAPSED_STRING","'VERSION'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'USER'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'PWD'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",209],"]",";",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * SetExpressCheckout request map\n     *\n     * @var string[]\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$_setExpressCheckoutRequest",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"[",["T_WHITESPACE","\n        ",216],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTACTION'",217],",",["T_WHITESPACE","\n        ",217],["T_CONSTANT_ENCAPSED_STRING","'AMT'",218],",",["T_WHITESPACE","\n        ",218],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",219],",",["T_WHITESPACE","\n        ",219],["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",220],",",["T_WHITESPACE","\n        ",220],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",221],",",["T_WHITESPACE","\n        ",221],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",222],",",["T_WHITESPACE","\n        ",222],["T_CONSTANT_ENCAPSED_STRING","'SOLUTIONTYPE'",223],",",["T_WHITESPACE","\n        ",223],["T_CONSTANT_ENCAPSED_STRING","'NOSHIPPING'",224],",",["T_WHITESPACE","\n        ",224],["T_CONSTANT_ENCAPSED_STRING","'GIROPAYCANCELURL'",225],",",["T_WHITESPACE","\n        ",225],["T_CONSTANT_ENCAPSED_STRING","'GIROPAYSUCCESSURL'",226],",",["T_WHITESPACE","\n        ",226],["T_CONSTANT_ENCAPSED_STRING","'BANKTXNPENDINGURL'",227],",",["T_WHITESPACE","\n        ",227],["T_CONSTANT_ENCAPSED_STRING","'PAGESTYLE'",228],",",["T_WHITESPACE","\n        ",228],["T_CONSTANT_ENCAPSED_STRING","'HDRIMG'",229],",",["T_WHITESPACE","\n        ",229],["T_CONSTANT_ENCAPSED_STRING","'HDRBORDERCOLOR'",230],",",["T_WHITESPACE","\n        ",230],["T_CONSTANT_ENCAPSED_STRING","'HDRBACKCOLOR'",231],",",["T_WHITESPACE","\n        ",231],["T_CONSTANT_ENCAPSED_STRING","'PAYFLOWCOLOR'",232],",",["T_WHITESPACE","\n        ",232],["T_CONSTANT_ENCAPSED_STRING","'LOCALECODE'",233],",",["T_WHITESPACE","\n        ",233],["T_CONSTANT_ENCAPSED_STRING","'BILLINGTYPE'",234],",",["T_WHITESPACE","\n        ",234],["T_CONSTANT_ENCAPSED_STRING","'SUBJECT'",235],",",["T_WHITESPACE","\n        ",235],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",236],",",["T_WHITESPACE","\n        ",236],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",237],",",["T_WHITESPACE","\n        ",237],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",238],",",["T_WHITESPACE","\n        ",238],["T_CONSTANT_ENCAPSED_STRING","'REQBILLINGADDRESS'",239],",",["T_WHITESPACE","\n        ",239],["T_CONSTANT_ENCAPSED_STRING","'USERSELECTEDFUNDINGSOURCE'",240],",",["T_WHITESPACE","\n    ",240],"]",";",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * SetExpressCheckout response map\n     *\n     * @var string[]\n     *\/",243],["T_WHITESPACE","\n    ",247],["T_PROTECTED","protected",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$_setExpressCheckoutResponse",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",248],"]",";",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * GetExpressCheckoutDetails request map\n     *\n     * @var string[]\n     *\/",250],["T_WHITESPACE","\n    ",254],["T_PROTECTED","protected",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$_getExpressCheckoutDetailsRequest",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'SUBJECT'",255],"]",";",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * DoExpressCheckoutPayment request map\n     *\n     * @var string[]\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PROTECTED","protected",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$_doExpressCheckoutPaymentRequest",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],"[",["T_WHITESPACE","\n        ",262],["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",263],",",["T_WHITESPACE","\n        ",263],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",264],",",["T_WHITESPACE","\n        ",264],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTACTION'",265],",",["T_WHITESPACE","\n        ",265],["T_CONSTANT_ENCAPSED_STRING","'AMT'",266],",",["T_WHITESPACE","\n        ",266],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",267],",",["T_WHITESPACE","\n        ",267],["T_CONSTANT_ENCAPSED_STRING","'IPADDRESS'",268],",",["T_WHITESPACE","\n        ",268],["T_CONSTANT_ENCAPSED_STRING","'BUTTONSOURCE'",269],",",["T_WHITESPACE","\n        ",269],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",270],",",["T_WHITESPACE","\n        ",270],["T_CONSTANT_ENCAPSED_STRING","'RETURNFMFDETAILS'",271],",",["T_WHITESPACE","\n        ",271],["T_CONSTANT_ENCAPSED_STRING","'SUBJECT'",272],",",["T_WHITESPACE","\n        ",272],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",273],",",["T_WHITESPACE","\n        ",273],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",274],",",["T_WHITESPACE","\n        ",274],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",275],",",["T_WHITESPACE","\n    ",275],"]",";",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * DoExpressCheckoutPayment response map\n     *\n     * @var string[]\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PROTECTED","protected",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$_doExpressCheckoutPaymentResponse",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[",["T_WHITESPACE","\n        ",283],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",284],",",["T_WHITESPACE","\n        ",284],["T_CONSTANT_ENCAPSED_STRING","'AMT'",285],",",["T_WHITESPACE","\n        ",285],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",286],",",["T_WHITESPACE","\n        ",286],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",287],",",["T_WHITESPACE","\n        ",287],["T_CONSTANT_ENCAPSED_STRING","'REDIRECTREQUIRED'",288],",",["T_WHITESPACE","\n    ",288],"]",";",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * DoDirectPayment request map\n     *\n     * @var string[]\n     *\/",291],["T_WHITESPACE","\n    ",295],["T_PROTECTED","protected",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$_doDirectPaymentRequest",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],"[",["T_WHITESPACE","\n        ",296],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTACTION'",297],",",["T_WHITESPACE","\n        ",297],["T_CONSTANT_ENCAPSED_STRING","'IPADDRESS'",298],",",["T_WHITESPACE","\n        ",298],["T_CONSTANT_ENCAPSED_STRING","'RETURNFMFDETAILS'",299],",",["T_WHITESPACE","\n        ",299],["T_CONSTANT_ENCAPSED_STRING","'AMT'",300],",",["T_WHITESPACE","\n        ",300],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",301],",",["T_WHITESPACE","\n        ",301],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",302],",",["T_WHITESPACE","\n        ",302],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",303],",",["T_WHITESPACE","\n        ",303],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",304],",",["T_WHITESPACE","\n        ",304],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",305],",",["T_WHITESPACE","\n        ",305],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",306],",",["T_WHITESPACE","\n        ",306],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",307],",",["T_WHITESPACE","\n        ",307],["T_CONSTANT_ENCAPSED_STRING","'CREDITCARDTYPE'",308],",",["T_WHITESPACE","\n        ",308],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",309],",",["T_WHITESPACE","\n        ",309],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",310],",",["T_WHITESPACE","\n        ",310],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",311],",",["T_WHITESPACE","\n        ",311],["T_CONSTANT_ENCAPSED_STRING","'STARTDATE'",312],",",["T_WHITESPACE","\n        ",312],["T_CONSTANT_ENCAPSED_STRING","'ISSUENUMBER'",313],",",["T_WHITESPACE","\n        ",313],["T_CONSTANT_ENCAPSED_STRING","'AUTHSTATUS3DS'",314],",",["T_WHITESPACE","\n        ",314],["T_CONSTANT_ENCAPSED_STRING","'MPIVENDOR3DS'",315],",",["T_WHITESPACE","\n        ",315],["T_CONSTANT_ENCAPSED_STRING","'CAVV'",316],",",["T_WHITESPACE","\n        ",316],["T_CONSTANT_ENCAPSED_STRING","'ECI3DS'",317],",",["T_WHITESPACE","\n        ",317],["T_CONSTANT_ENCAPSED_STRING","'XID'",318],",",["T_WHITESPACE","\n    ",318],"]",";",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * DoDirectPayment response map\n     *\n     * @var string[]\n     *\/",321],["T_WHITESPACE","\n    ",325],["T_PROTECTED","protected",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$_doDirectPaymentResponse",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],"[",["T_WHITESPACE","\n        ",326],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",327],",",["T_WHITESPACE","\n        ",327],["T_CONSTANT_ENCAPSED_STRING","'AMT'",328],",",["T_WHITESPACE","\n        ",328],["T_CONSTANT_ENCAPSED_STRING","'AVSCODE'",329],",",["T_WHITESPACE","\n        ",329],["T_CONSTANT_ENCAPSED_STRING","'CVV2MATCH'",330],",",["T_WHITESPACE","\n        ",330],["T_CONSTANT_ENCAPSED_STRING","'VPAS'",331],",",["T_WHITESPACE","\n        ",331],["T_CONSTANT_ENCAPSED_STRING","'ECISUBMITTED3DS'",332],",",["T_WHITESPACE","\n    ",332],"]",";",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * DoReauthorization request map\n     *\n     * @var string[]\n     *\/",335],["T_WHITESPACE","\n    ",339],["T_PROTECTED","protected",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$_doReauthorizationRequest",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],"[",["T_CONSTANT_ENCAPSED_STRING","'AUTHORIZATIONID'",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'AMT'",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",340],"]",";",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * DoReauthorization response map\n     *\n     * @var string[]\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PROTECTED","protected",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$_doReauthorizationResponse",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],"[",["T_WHITESPACE","\n        ",347],["T_CONSTANT_ENCAPSED_STRING","'AUTHORIZATIONID'",348],",",["T_WHITESPACE","\n        ",348],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",349],",",["T_WHITESPACE","\n        ",349],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",350],",",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'PROTECTIONELIGIBILITY'",351],",",["T_WHITESPACE","\n    ",351],"]",";",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * DoCapture request map\n     *\n     * @var string[]\n     *\/",354],["T_WHITESPACE","\n    ",358],["T_PROTECTED","protected",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$_doCaptureRequest",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],"[",["T_CONSTANT_ENCAPSED_STRING","'AUTHORIZATIONID'",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'COMPLETETYPE'",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'AMT'",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",359],"]",";",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * DoCapture response map\n     *\n     * @var string[]\n     *\/",361],["T_WHITESPACE","\n    ",365],["T_PROTECTED","protected",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$_doCaptureResponse",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'AMT'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",366],"]",";",["T_WHITESPACE","\n\n    ",366],["T_DOC_COMMENT","\/**\n     * DoAuthorization request map\n     *\n     * @var string[]\n     *\/",368],["T_WHITESPACE","\n    ",372],["T_PROTECTED","protected",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$_doAuthorizationRequest",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'AMT'",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",373],"]",";",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * DoAuthorization response map\n     *\n     * @var string[]\n     *\/",375],["T_WHITESPACE","\n    ",379],["T_PROTECTED","protected",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$_doAuthorizationResponse",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'AMT'",380],"]",";",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * DoVoid request map\n     *\n     * @var string[]\n     *\/",382],["T_WHITESPACE","\n    ",386],["T_PROTECTED","protected",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$_doVoidRequest",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"[",["T_CONSTANT_ENCAPSED_STRING","'AUTHORIZATIONID'",387],",",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",387],"]",";",["T_WHITESPACE","\n\n    ",387],["T_DOC_COMMENT","\/**\n     * GetTransactionDetailsRequest\n     *\n     * @var string[]\n     *\/",389],["T_WHITESPACE","\n    ",393],["T_PROTECTED","protected",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$_getTransactionDetailsRequest",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",394],"]",";",["T_WHITESPACE","\n\n    ",394],["T_DOC_COMMENT","\/**\n     * GetTransactionDetailsResponse\n     *\n     * @var string[]\n     *\/",396],["T_WHITESPACE","\n    ",400],["T_PROTECTED","protected",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$_getTransactionDetailsResponse",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],"[",["T_WHITESPACE","\n        ",401],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",402],",",["T_WHITESPACE","\n        ",402],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",403],",",["T_WHITESPACE","\n        ",403],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",404],",",["T_WHITESPACE","\n        ",404],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",405],",",["T_WHITESPACE","\n        ",405],["T_CONSTANT_ENCAPSED_STRING","'PARENTTRANSACTIONID'",406],",",["T_WHITESPACE","\n        ",406],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",407],",",["T_WHITESPACE","\n        ",407],["T_CONSTANT_ENCAPSED_STRING","'AMT'",408],",",["T_WHITESPACE","\n        ",408],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",409],",",["T_WHITESPACE","\n        ",409],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",410],",",["T_WHITESPACE","\n    ",410],"]",";",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * RefundTransaction request map\n     *\n     * @var string[]\n     *\/",413],["T_WHITESPACE","\n    ",417],["T_PROTECTED","protected",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$_refundTransactionRequest",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'REFUNDTYPE'",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'NOTE'",418],"]",";",["T_WHITESPACE","\n\n    ",418],["T_DOC_COMMENT","\/**\n     * RefundTransaction response map\n     *\n     * @var string[]\n     *\/",420],["T_WHITESPACE","\n    ",424],["T_PROTECTED","protected",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$_refundTransactionResponse",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],"[",["T_CONSTANT_ENCAPSED_STRING","'REFUNDTRANSACTIONID'",425],",",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'GROSSREFUNDAMT'",425],"]",";",["T_WHITESPACE","\n\n    ",425],["T_DOC_COMMENT","\/**\n     * ManagePendingTransactionStatus request map\n     *\n     * @var string[]\n     *\/",427],["T_WHITESPACE","\n    ",431],["T_PROTECTED","protected",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$_managePendingTransactionStatusRequest",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",432],",",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'ACTION'",432],"]",";",["T_WHITESPACE","\n\n    ",432],["T_DOC_COMMENT","\/**\n     * ManagePendingTransactionStatus response map\n     *\n     * @var string[]\n     *\/",434],["T_WHITESPACE","\n    ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$_managePendingTransactionStatusResponse",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],"[",["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",439],",",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'STATUS'",439],"]",";",["T_WHITESPACE","\n\n    ",439],["T_DOC_COMMENT","\/**\n     * GetPalDetails response map\n     *\n     * @var string[]\n     *\/",441],["T_WHITESPACE","\n    ",445],["T_PROTECTED","protected",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$_getPalDetailsResponse",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],"[",["T_CONSTANT_ENCAPSED_STRING","'PAL'",446],"]",";",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Map for billing address import\/export\n     *\n     * @var array\n     *\/",448],["T_WHITESPACE","\n    ",452],["T_PROTECTED","protected",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$_billingAddressMap",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],"[",["T_WHITESPACE","\n        ",453],["T_CONSTANT_ENCAPSED_STRING","'BUSINESS'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'company'",454],",",["T_WHITESPACE","\n        ",454],["T_CONSTANT_ENCAPSED_STRING","'NOTETEXT'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'customer_notes'",455],",",["T_WHITESPACE","\n        ",455],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'email'",456],",",["T_WHITESPACE","\n        ",456],["T_CONSTANT_ENCAPSED_STRING","'FIRSTNAME'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'firstname'",457],",",["T_WHITESPACE","\n        ",457],["T_CONSTANT_ENCAPSED_STRING","'LASTNAME'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'lastname'",458],",",["T_WHITESPACE","\n        ",458],["T_CONSTANT_ENCAPSED_STRING","'MIDDLENAME'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'middlename'",459],",",["T_WHITESPACE","\n        ",459],["T_CONSTANT_ENCAPSED_STRING","'SALUTATION'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'prefix'",460],",",["T_WHITESPACE","\n        ",460],["T_CONSTANT_ENCAPSED_STRING","'SUFFIX'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'suffix'",461],",",["T_WHITESPACE","\n        ",461],["T_CONSTANT_ENCAPSED_STRING","'COUNTRYCODE'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'country_id'",462],",",["T_WHITESPACE"," ",462],["T_COMMENT","\/\/ iso-3166 two-character code\n",462],["T_WHITESPACE","        ",463],["T_CONSTANT_ENCAPSED_STRING","'STATE'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'region'",463],",",["T_WHITESPACE","\n        ",463],["T_CONSTANT_ENCAPSED_STRING","'CITY'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'city'",464],",",["T_WHITESPACE","\n        ",464],["T_CONSTANT_ENCAPSED_STRING","'STREET'",465],["T_WHITESPACE"," ",465],["T_DOUBLE_ARROW","=>",465],["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'street'",465],",",["T_WHITESPACE","\n        ",465],["T_CONSTANT_ENCAPSED_STRING","'STREET2'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'street2'",466],",",["T_WHITESPACE","\n        ",466],["T_CONSTANT_ENCAPSED_STRING","'ZIP'",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'postcode'",467],",",["T_WHITESPACE","\n        ",467],["T_CONSTANT_ENCAPSED_STRING","'PHONENUM'",468],["T_WHITESPACE"," ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'telephone'",468],",",["T_WHITESPACE","\n    ",468],"]",";",["T_WHITESPACE","\n\n    ",469],["T_DOC_COMMENT","\/**\n     * Map for billing address to do request (not response)\n     * Merging with $_billingAddressMap\n     *\n     * @var array\n     *\/",471],["T_WHITESPACE","\n    ",476],["T_PROTECTED","protected",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$_billingAddressMapRequest",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],"[","]",";",["T_WHITESPACE","\n\n    ",477],["T_DOC_COMMENT","\/**\n     * Map for shipping address import\/export (extends billing address mapper)\n     * @var array\n     *\/",479],["T_WHITESPACE","\n    ",482],["T_PROTECTED","protected",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$_shippingAddressMap",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],"[",["T_WHITESPACE","\n        ",483],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRYCODE'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'country_id'",484],",",["T_WHITESPACE","\n        ",484],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTATE'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'region'",485],",",["T_WHITESPACE","\n        ",485],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCITY'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'city'",486],",",["T_WHITESPACE","\n        ",486],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET'",487],["T_WHITESPACE"," ",487],["T_DOUBLE_ARROW","=>",487],["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'street'",487],",",["T_WHITESPACE","\n        ",487],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET2'",488],["T_WHITESPACE"," ",488],["T_DOUBLE_ARROW","=>",488],["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'street2'",488],",",["T_WHITESPACE","\n        ",488],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOZIP'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'postcode'",489],",",["T_WHITESPACE","\n        ",489],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOPHONENUM'",490],["T_WHITESPACE"," ",490],["T_DOUBLE_ARROW","=>",490],["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'telephone'",490],",",["T_WHITESPACE","\n        ",490],["T_COMMENT","\/\/ 'SHIPTONAME' will be treated manually in address import\/export methods\n",491],["T_WHITESPACE","    ",492],"]",";",["T_WHITESPACE","\n\n    ",492],["T_DOC_COMMENT","\/**\n     * Map for callback request\n     * @var array\n     *\/",494],["T_WHITESPACE","\n    ",497],["T_PROTECTED","protected",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$_callbackRequestMap",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],"[",["T_WHITESPACE","\n        ",498],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRY'",499],["T_WHITESPACE"," ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","'country_id'",499],",",["T_WHITESPACE","\n        ",499],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTATE'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'region'",500],",",["T_WHITESPACE","\n        ",500],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCITY'",501],["T_WHITESPACE"," ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'city'",501],",",["T_WHITESPACE","\n        ",501],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET'",502],["T_WHITESPACE"," ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'street'",502],",",["T_WHITESPACE","\n        ",502],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET2'",503],["T_WHITESPACE"," ",503],["T_DOUBLE_ARROW","=>",503],["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'street2'",503],",",["T_WHITESPACE","\n        ",503],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOZIP'",504],["T_WHITESPACE"," ",504],["T_DOUBLE_ARROW","=>",504],["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'postcode'",504],",",["T_WHITESPACE","\n    ",504],"]",";",["T_WHITESPACE","\n\n    ",505],["T_DOC_COMMENT","\/**\n     * Payment information response specifically to be collected after some requests\n     * @var string[]\n     *\/",507],["T_WHITESPACE","\n    ",510],["T_PROTECTED","protected",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$_paymentInformationResponse",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],"[",["T_WHITESPACE","\n        ",511],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",512],",",["T_WHITESPACE","\n        ",512],["T_CONSTANT_ENCAPSED_STRING","'PAYERSTATUS'",513],",",["T_WHITESPACE","\n        ",513],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",514],",",["T_WHITESPACE","\n        ",514],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSID'",515],",",["T_WHITESPACE","\n        ",515],["T_CONSTANT_ENCAPSED_STRING","'ADDRESSSTATUS'",516],",",["T_WHITESPACE","\n        ",516],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTSTATUS'",517],",",["T_WHITESPACE","\n        ",517],["T_CONSTANT_ENCAPSED_STRING","'PENDINGREASON'",518],",",["T_WHITESPACE","\n        ",518],["T_CONSTANT_ENCAPSED_STRING","'PROTECTIONELIGIBILITY'",519],",",["T_WHITESPACE","\n        ",519],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",520],",",["T_WHITESPACE","\n        ",520],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGOPTIONNAME'",521],",",["T_WHITESPACE","\n        ",521],["T_CONSTANT_ENCAPSED_STRING","'TAXID'",522],",",["T_WHITESPACE","\n        ",522],["T_CONSTANT_ENCAPSED_STRING","'TAXIDTYPE'",523],",",["T_WHITESPACE","\n    ",523],"]",";",["T_WHITESPACE","\n\n    ",524],["T_DOC_COMMENT","\/**\n     * Line items export mapping settings\n     * @var array\n     *\/",526],["T_WHITESPACE","\n    ",529],["T_PROTECTED","protected",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$_lineItemTotalExportMap",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],"[",["T_WHITESPACE","\n        ",530],["T_STRING","Cart",531],["T_DOUBLE_COLON","::",531],["T_STRING","AMOUNT_SUBTOTAL",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",531],",",["T_WHITESPACE","\n        ",531],["T_STRING","Cart",532],["T_DOUBLE_COLON","::",532],["T_STRING","AMOUNT_TAX",532],["T_WHITESPACE"," ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",532],",",["T_WHITESPACE","\n        ",532],["T_STRING","Cart",533],["T_DOUBLE_COLON","::",533],["T_STRING","AMOUNT_SHIPPING",533],["T_WHITESPACE"," ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",533],",",["T_WHITESPACE","\n    ",533],"]",";",["T_WHITESPACE","\n\n    ",534],["T_DOC_COMMENT","\/**\n     * Line items export mapping settings\n     * @var array\n     *\/",536],["T_WHITESPACE","\n    ",539],["T_PROTECTED","protected",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$_lineItemExportItemsFormat",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],"[",["T_WHITESPACE","\n        ",540],["T_CONSTANT_ENCAPSED_STRING","'id'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'L_NUMBER%d'",541],",",["T_WHITESPACE","\n        ",541],["T_CONSTANT_ENCAPSED_STRING","'name'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","'L_NAME%d'",542],",",["T_WHITESPACE","\n        ",542],["T_CONSTANT_ENCAPSED_STRING","'qty'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'L_QTY%d'",543],",",["T_WHITESPACE","\n        ",543],["T_CONSTANT_ENCAPSED_STRING","'amount'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'L_AMT%d'",544],",",["T_WHITESPACE","\n    ",544],"]",";",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Shipping options export to request mapping settings\n     * @var array\n     *\/",547],["T_WHITESPACE","\n    ",550],["T_PROTECTED","protected",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$_shippingOptionsExportItemsFormat",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],"[",["T_WHITESPACE","\n        ",551],["T_CONSTANT_ENCAPSED_STRING","'is_default'",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","'L_SHIPPINGOPTIONISDEFAULT%d'",552],",",["T_WHITESPACE","\n        ",552],["T_CONSTANT_ENCAPSED_STRING","'amount'",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","'L_SHIPPINGOPTIONAMOUNT%d'",553],",",["T_WHITESPACE","\n        ",553],["T_CONSTANT_ENCAPSED_STRING","'code'",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'L_SHIPPINGOPTIONNAME%d'",554],",",["T_WHITESPACE","\n        ",554],["T_CONSTANT_ENCAPSED_STRING","'name'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'L_SHIPPINGOPTIONLABEL%d'",555],",",["T_WHITESPACE","\n        ",555],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","'L_TAXAMT%d'",556],",",["T_WHITESPACE","\n    ",556],"]",";",["T_WHITESPACE","\n\n    ",557],["T_DOC_COMMENT","\/**\n     * init Billing Agreement request map\n     *\n     * @var string[]\n     *\/",559],["T_WHITESPACE","\n    ",563],["T_PROTECTED","protected",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$_customerBillingAgreementRequest",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],"[",["T_CONSTANT_ENCAPSED_STRING","'RETURNURL'",564],",",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'CANCELURL'",564],",",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'BILLINGTYPE'",564],"]",";",["T_WHITESPACE","\n\n    ",564],["T_DOC_COMMENT","\/**\n     * init Billing Agreement response map\n     *\n     * @var string[]\n     *\/",566],["T_WHITESPACE","\n    ",570],["T_PROTECTED","protected",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$_customerBillingAgreementResponse",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",571],"]",";",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Billing Agreement details request map\n     *\n     * @var string[]\n     *\/",573],["T_WHITESPACE","\n    ",577],["T_PROTECTED","protected",578],["T_WHITESPACE"," ",578],["T_VARIABLE","$_billingAgreementCustomerDetailsRequest",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",578],"]",";",["T_WHITESPACE","\n\n    ",578],["T_DOC_COMMENT","\/**\n     * Billing Agreement details response map\n     *\n     * @var string[]\n     *\/",580],["T_WHITESPACE","\n    ",584],["T_PROTECTED","protected",585],["T_WHITESPACE"," ",585],["T_VARIABLE","$_billingAgreementCustomerDetailsResponse",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],"[",["T_WHITESPACE","\n        ",585],["T_CONSTANT_ENCAPSED_STRING","'EMAIL'",586],",",["T_WHITESPACE","\n        ",586],["T_CONSTANT_ENCAPSED_STRING","'PAYERID'",587],",",["T_WHITESPACE","\n        ",587],["T_CONSTANT_ENCAPSED_STRING","'PAYERSTATUS'",588],",",["T_WHITESPACE","\n        ",588],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOCOUNTRYCODE'",589],",",["T_WHITESPACE","\n        ",589],["T_CONSTANT_ENCAPSED_STRING","'PAYERBUSINESS'",590],",",["T_WHITESPACE","\n    ",590],"]",";",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * Create Billing Agreement request map\n     *\n     * @var string[]\n     *\/",593],["T_WHITESPACE","\n    ",597],["T_PROTECTED","protected",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$_createBillingAgreementRequest",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],"[",["T_CONSTANT_ENCAPSED_STRING","'TOKEN'",598],"]",";",["T_WHITESPACE","\n\n    ",598],["T_DOC_COMMENT","\/**\n     * Create Billing Agreement response map\n     *\n     * @var string[]\n     *\/",600],["T_WHITESPACE","\n    ",604],["T_PROTECTED","protected",605],["T_WHITESPACE"," ",605],["T_VARIABLE","$_createBillingAgreementResponse",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],"[",["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTID'",605],"]",";",["T_WHITESPACE","\n\n    ",605],["T_DOC_COMMENT","\/**\n     * Update Billing Agreement request map\n     *\n     * @var string[]\n     *\/",607],["T_WHITESPACE","\n    ",611],["T_PROTECTED","protected",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$_updateBillingAgreementRequest",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],"[",["T_WHITESPACE","\n        ",612],["T_CONSTANT_ENCAPSED_STRING","'REFERENCEID'",613],",",["T_WHITESPACE","\n        ",613],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTDESCRIPTION'",614],",",["T_WHITESPACE","\n        ",614],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTSTATUS'",615],",",["T_WHITESPACE","\n        ",615],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTCUSTOM'",616],",",["T_WHITESPACE","\n    ",616],"]",";",["T_WHITESPACE","\n\n    ",617],["T_DOC_COMMENT","\/**\n     * Update Billing Agreement response map\n     *\n     * @var string[]\n     *\/",619],["T_WHITESPACE","\n    ",623],["T_PROTECTED","protected",624],["T_WHITESPACE"," ",624],["T_VARIABLE","$_updateBillingAgreementResponse",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],"[",["T_WHITESPACE","\n        ",624],["T_CONSTANT_ENCAPSED_STRING","'REFERENCEID'",625],",",["T_WHITESPACE","\n        ",625],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTDESCRIPTION'",626],",",["T_WHITESPACE","\n        ",626],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTSTATUS'",627],",",["T_WHITESPACE","\n        ",627],["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTCUSTOM'",628],",",["T_WHITESPACE","\n    ",628],"]",";",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * Do Reference Transaction request map\n     *\n     * @var string[]\n     *\/",631],["T_WHITESPACE","\n    ",635],["T_PROTECTED","protected",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$_doReferenceTransactionRequest",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],"[",["T_WHITESPACE","\n        ",636],["T_CONSTANT_ENCAPSED_STRING","'REFERENCEID'",637],",",["T_WHITESPACE","\n        ",637],["T_CONSTANT_ENCAPSED_STRING","'PAYMENTACTION'",638],",",["T_WHITESPACE","\n        ",638],["T_CONSTANT_ENCAPSED_STRING","'AMT'",639],",",["T_WHITESPACE","\n        ",639],["T_CONSTANT_ENCAPSED_STRING","'ITEMAMT'",640],",",["T_WHITESPACE","\n        ",640],["T_CONSTANT_ENCAPSED_STRING","'SHIPPINGAMT'",641],",",["T_WHITESPACE","\n        ",641],["T_CONSTANT_ENCAPSED_STRING","'TAXAMT'",642],",",["T_WHITESPACE","\n        ",642],["T_CONSTANT_ENCAPSED_STRING","'INVNUM'",643],",",["T_WHITESPACE","\n        ",643],["T_CONSTANT_ENCAPSED_STRING","'NOTIFYURL'",644],",",["T_WHITESPACE","\n        ",644],["T_CONSTANT_ENCAPSED_STRING","'CURRENCYCODE'",645],",",["T_WHITESPACE","\n    ",645],"]",";",["T_WHITESPACE","\n\n    ",646],["T_DOC_COMMENT","\/**\n     * Do Reference Transaction response map\n     *\n     * @var string[]\n     *\/",648],["T_WHITESPACE","\n    ",652],["T_PROTECTED","protected",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$_doReferenceTransactionResponse",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],"[",["T_CONSTANT_ENCAPSED_STRING","'BILLINGAGREEMENTID'",653],",",["T_WHITESPACE"," ",653],["T_CONSTANT_ENCAPSED_STRING","'TRANSACTIONID'",653],"]",";",["T_WHITESPACE","\n\n    ",653],["T_DOC_COMMENT","\/**\n     * Fields that should be replaced in debug with '***'\n     *\n     * @var string[]\n     *\/",655],["T_WHITESPACE","\n    ",659],["T_PROTECTED","protected",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$_debugReplacePrivateDataKeys",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],"[",["T_WHITESPACE","\n        ",660],["T_CONSTANT_ENCAPSED_STRING","'ACCT'",661],",",["T_WHITESPACE","\n        ",661],["T_CONSTANT_ENCAPSED_STRING","'EXPDATE'",662],",",["T_WHITESPACE","\n        ",662],["T_CONSTANT_ENCAPSED_STRING","'CVV2'",663],",",["T_WHITESPACE","\n        ",663],["T_CONSTANT_ENCAPSED_STRING","'CARDISSUE'",664],",",["T_WHITESPACE","\n        ",664],["T_CONSTANT_ENCAPSED_STRING","'CARDSTART'",665],",",["T_WHITESPACE","\n        ",665],["T_CONSTANT_ENCAPSED_STRING","'CREDITCARDTYPE'",666],",",["T_WHITESPACE","\n        ",666],["T_CONSTANT_ENCAPSED_STRING","'USER'",667],",",["T_WHITESPACE","\n        ",667],["T_CONSTANT_ENCAPSED_STRING","'PWD'",668],",",["T_WHITESPACE","\n        ",668],["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE'",669],",",["T_WHITESPACE","\n    ",669],"]",";",["T_WHITESPACE","\n\n    ",670],["T_DOC_COMMENT","\/**\n     * Map of credit card types supported by this API\n     *\n     * @var array\n     *\/",672],["T_WHITESPACE","\n    ",676],["T_PROTECTED","protected",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$_supportedCcTypes",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],"[",["T_WHITESPACE","\n        ",677],["T_CONSTANT_ENCAPSED_STRING","'VI'",678],["T_WHITESPACE"," ",678],["T_DOUBLE_ARROW","=>",678],["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'Visa'",678],",",["T_WHITESPACE","\n        ",678],["T_CONSTANT_ENCAPSED_STRING","'MC'",679],["T_WHITESPACE"," ",679],["T_DOUBLE_ARROW","=>",679],["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'MasterCard'",679],",",["T_WHITESPACE","\n        ",679],["T_CONSTANT_ENCAPSED_STRING","'DI'",680],["T_WHITESPACE"," ",680],["T_DOUBLE_ARROW","=>",680],["T_WHITESPACE"," ",680],["T_CONSTANT_ENCAPSED_STRING","'Discover'",680],",",["T_WHITESPACE","\n        ",680],["T_CONSTANT_ENCAPSED_STRING","'AE'",681],["T_WHITESPACE"," ",681],["T_DOUBLE_ARROW","=>",681],["T_WHITESPACE"," ",681],["T_CONSTANT_ENCAPSED_STRING","'Amex'",681],",",["T_WHITESPACE","\n        ",681],["T_CONSTANT_ENCAPSED_STRING","'SM'",682],["T_WHITESPACE"," ",682],["T_DOUBLE_ARROW","=>",682],["T_WHITESPACE"," ",682],["T_CONSTANT_ENCAPSED_STRING","'Maestro'",682],",",["T_WHITESPACE","\n        ",682],["T_CONSTANT_ENCAPSED_STRING","'SO'",683],["T_WHITESPACE"," ",683],["T_DOUBLE_ARROW","=>",683],["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'Solo'",683],",",["T_WHITESPACE","\n    ",683],"]",";",["T_WHITESPACE","\n\n    ",684],["T_DOC_COMMENT","\/**\n     * Required fields in the response\n     *\n     * @var array\n     *\/",686],["T_WHITESPACE","\n    ",690],["T_PROTECTED","protected",691],["T_WHITESPACE"," ",691],["T_VARIABLE","$_requiredResponseParams",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],"[",["T_STRING","self",691],["T_DOUBLE_COLON","::",691],["T_STRING","DO_DIRECT_PAYMENT",691],["T_WHITESPACE"," ",691],["T_DOUBLE_ARROW","=>",691],["T_WHITESPACE"," ",691],"[",["T_CONSTANT_ENCAPSED_STRING","'ACK'",691],",",["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",691],",",["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'AMT'",691],"]","]",";",["T_WHITESPACE","\n\n    ",691],["T_DOC_COMMENT","\/**\n     * Warning codes recollected after each API call\n     *\n     * @var array\n     *\/",693],["T_WHITESPACE","\n    ",697],["T_PROTECTED","protected",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$_callWarnings",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],"[","]",";",["T_WHITESPACE","\n\n    ",698],["T_DOC_COMMENT","\/**\n     * Error codes recollected after each API call\n     *\n     * @var array\n     *\/",700],["T_WHITESPACE","\n    ",704],["T_PROTECTED","protected",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$_callErrors",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],"[","]",";",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Whether to return raw response information after each call\n     *\n     * @var bool\n     *\/",707],["T_WHITESPACE","\n    ",711],["T_PROTECTED","protected",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$_rawResponseNeeded",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_STRING","false",712],";",["T_WHITESPACE","\n\n    ",712],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\CountryFactory\n     *\/",714],["T_WHITESPACE","\n    ",716],["T_PROTECTED","protected",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$_countryFactory",717],";",["T_WHITESPACE","\n\n    ",717],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Paypal\\Model\\Api\\ProcessableExceptionFactory\n     *\/",719],["T_WHITESPACE","\n    ",721],["T_PROTECTED","protected",722],["T_WHITESPACE"," ",722],["T_VARIABLE","$_processableExceptionFactory",722],";",["T_WHITESPACE","\n\n    ",722],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Exception\\LocalizedExceptionFactory\n     *\/",724],["T_WHITESPACE","\n    ",726],["T_PROTECTED","protected",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$_frameworkExceptionFactory",727],";",["T_WHITESPACE","\n\n    ",727],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\HTTP\\Adapter\\CurlFactory\n     *\/",729],["T_WHITESPACE","\n    ",731],["T_PROTECTED","protected",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$_curlFactory",732],";",["T_WHITESPACE","\n\n    ",732],["T_DOC_COMMENT","\/**\n     * API call HTTP headers\n     *\n     * @var array\n     *\/",734],["T_WHITESPACE","\n    ",738],["T_PROTECTED","protected",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$_headers",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],"[","]",";",["T_WHITESPACE","\n\n    ",739],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Customer\\Helper\\Address $customerAddress\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param Logger $customLogger\n     * @param \\Magento\\Framework\\Locale\\ResolverInterface $localeResolver\n     * @param \\Magento\\Directory\\Model\\RegionFactory $regionFactory\n     * @param \\Magento\\Directory\\Model\\CountryFactory $countryFactory\n     * @param ProcessableExceptionFactory $processableExceptionFactory\n     * @param \\Magento\\Framework\\Exception\\LocalizedExceptionFactory $frameworkExceptionFactory\n     * @param \\Magento\\Framework\\HTTP\\Adapter\\CurlFactory $curlFactory\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",741],["T_WHITESPACE","\n    ",753],["T_PUBLIC","public",754],["T_WHITESPACE"," ",754],["T_FUNCTION","function",754],["T_WHITESPACE"," ",754],["T_STRING","__construct",754],"(",["T_WHITESPACE","\n        ",754],["T_NS_SEPARATOR","\\",755],["T_STRING","Magento",755],["T_NS_SEPARATOR","\\",755],["T_STRING","Customer",755],["T_NS_SEPARATOR","\\",755],["T_STRING","Helper",755],["T_NS_SEPARATOR","\\",755],["T_STRING","Address",755],["T_WHITESPACE"," ",755],["T_VARIABLE","$customerAddress",755],",",["T_WHITESPACE","\n        ",755],["T_NS_SEPARATOR","\\",756],["T_STRING","Psr",756],["T_NS_SEPARATOR","\\",756],["T_STRING","Log",756],["T_NS_SEPARATOR","\\",756],["T_STRING","LoggerInterface",756],["T_WHITESPACE"," ",756],["T_VARIABLE","$logger",756],",",["T_WHITESPACE","\n        ",756],["T_STRING","Logger",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$customLogger",757],",",["T_WHITESPACE","\n        ",757],["T_NS_SEPARATOR","\\",758],["T_STRING","Magento",758],["T_NS_SEPARATOR","\\",758],["T_STRING","Framework",758],["T_NS_SEPARATOR","\\",758],["T_STRING","Locale",758],["T_NS_SEPARATOR","\\",758],["T_STRING","ResolverInterface",758],["T_WHITESPACE"," ",758],["T_VARIABLE","$localeResolver",758],",",["T_WHITESPACE","\n        ",758],["T_NS_SEPARATOR","\\",759],["T_STRING","Magento",759],["T_NS_SEPARATOR","\\",759],["T_STRING","Directory",759],["T_NS_SEPARATOR","\\",759],["T_STRING","Model",759],["T_NS_SEPARATOR","\\",759],["T_STRING","RegionFactory",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$regionFactory",759],",",["T_WHITESPACE","\n        ",759],["T_NS_SEPARATOR","\\",760],["T_STRING","Magento",760],["T_NS_SEPARATOR","\\",760],["T_STRING","Directory",760],["T_NS_SEPARATOR","\\",760],["T_STRING","Model",760],["T_NS_SEPARATOR","\\",760],["T_STRING","CountryFactory",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$countryFactory",760],",",["T_WHITESPACE","\n        ",760],["T_NS_SEPARATOR","\\",761],["T_STRING","Magento",761],["T_NS_SEPARATOR","\\",761],["T_STRING","Paypal",761],["T_NS_SEPARATOR","\\",761],["T_STRING","Model",761],["T_NS_SEPARATOR","\\",761],["T_STRING","Api",761],["T_NS_SEPARATOR","\\",761],["T_STRING","ProcessableExceptionFactory",761],["T_WHITESPACE"," ",761],["T_VARIABLE","$processableExceptionFactory",761],",",["T_WHITESPACE","\n        ",761],["T_NS_SEPARATOR","\\",762],["T_STRING","Magento",762],["T_NS_SEPARATOR","\\",762],["T_STRING","Framework",762],["T_NS_SEPARATOR","\\",762],["T_STRING","Exception",762],["T_NS_SEPARATOR","\\",762],["T_STRING","LocalizedExceptionFactory",762],["T_WHITESPACE"," ",762],["T_VARIABLE","$frameworkExceptionFactory",762],",",["T_WHITESPACE","\n        ",762],["T_NS_SEPARATOR","\\",763],["T_STRING","Magento",763],["T_NS_SEPARATOR","\\",763],["T_STRING","Framework",763],["T_NS_SEPARATOR","\\",763],["T_STRING","HTTP",763],["T_NS_SEPARATOR","\\",763],["T_STRING","Adapter",763],["T_NS_SEPARATOR","\\",763],["T_STRING","CurlFactory",763],["T_WHITESPACE"," ",763],["T_VARIABLE","$curlFactory",763],",",["T_WHITESPACE","\n        ",763],["T_ARRAY","array",764],["T_WHITESPACE"," ",764],["T_VARIABLE","$data",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],"[","]",["T_WHITESPACE","\n    ",764],")",["T_WHITESPACE"," ",765],"{",["T_WHITESPACE","\n        ",765],["T_STRING","parent",766],["T_DOUBLE_COLON","::",766],["T_STRING","__construct",766],"(",["T_VARIABLE","$customerAddress",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$logger",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$customLogger",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$localeResolver",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$regionFactory",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$data",766],")",";",["T_WHITESPACE","\n        ",766],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","_countryFactory",767],["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_VARIABLE","$countryFactory",767],";",["T_WHITESPACE","\n        ",767],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","_processableExceptionFactory",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_VARIABLE","$processableExceptionFactory",768],";",["T_WHITESPACE","\n        ",768],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","_frameworkExceptionFactory",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_VARIABLE","$frameworkExceptionFactory",769],";",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_curlFactory",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_VARIABLE","$curlFactory",770],";",["T_WHITESPACE","\n    ",770],"}",["T_WHITESPACE","\n\n    ",771],["T_DOC_COMMENT","\/**\n     * API endpoint getter\n     *\n     * @return string\n     *\/",773],["T_WHITESPACE","\n    ",777],["T_PUBLIC","public",778],["T_WHITESPACE"," ",778],["T_FUNCTION","function",778],["T_WHITESPACE"," ",778],["T_STRING","getApiEndpoint",778],"(",")",["T_WHITESPACE","\n    ",778],"{",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$url",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","getUseCertAuthentication",780],"(",")",["T_WHITESPACE"," ",780],"?",["T_WHITESPACE"," ",780],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/api%s.paypal.com\/nvp'",780],["T_WHITESPACE"," ",780],":",["T_WHITESPACE"," ",780],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/api-3t%s.paypal.com\/nvp'",780],";",["T_WHITESPACE","\n        ",780],["T_RETURN","return",781],["T_WHITESPACE"," ",781],["T_STRING","sprintf",781],"(",["T_VARIABLE","$url",781],",",["T_WHITESPACE"," ",781],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","_config",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","getValue",781],"(",["T_CONSTANT_ENCAPSED_STRING","'sandboxFlag'",781],")",["T_WHITESPACE"," ",781],"?",["T_WHITESPACE"," ",781],["T_CONSTANT_ENCAPSED_STRING","'.sandbox'",781],["T_WHITESPACE"," ",781],":",["T_WHITESPACE"," ",781],["T_CONSTANT_ENCAPSED_STRING","''",781],")",";",["T_WHITESPACE","\n    ",781],"}",["T_WHITESPACE","\n\n    ",782],["T_DOC_COMMENT","\/**\n     * Return Paypal Api version\n     *\n     * @return string\n     *\/",784],["T_WHITESPACE","\n    ",788],["T_PUBLIC","public",789],["T_WHITESPACE"," ",789],["T_FUNCTION","function",789],["T_WHITESPACE"," ",789],["T_STRING","getVersion",789],"(",")",["T_WHITESPACE","\n    ",789],"{",["T_WHITESPACE","\n        ",790],["T_RETURN","return",791],["T_WHITESPACE"," ",791],["T_CONSTANT_ENCAPSED_STRING","'72.0'",791],";",["T_WHITESPACE","\n    ",791],"}",["T_WHITESPACE","\n\n    ",792],["T_DOC_COMMENT","\/**\n     * Retrieve billing agreement type\n     *\n     * @return string\n     *\/",794],["T_WHITESPACE","\n    ",798],["T_PUBLIC","public",799],["T_WHITESPACE"," ",799],["T_FUNCTION","function",799],["T_WHITESPACE"," ",799],["T_STRING","getBillingAgreementType",799],"(",")",["T_WHITESPACE","\n    ",799],"{",["T_WHITESPACE","\n        ",800],["T_RETURN","return",801],["T_WHITESPACE"," ",801],["T_CONSTANT_ENCAPSED_STRING","'MerchantInitiatedBilling'",801],";",["T_WHITESPACE","\n    ",801],"}",["T_WHITESPACE","\n\n    ",802],["T_DOC_COMMENT","\/**\n     * SetExpressCheckout call\n     *\n     * TODO: put together style and giropay settings\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_SetExpressCheckout\n     *\/",804],["T_WHITESPACE","\n    ",811],["T_PUBLIC","public",812],["T_WHITESPACE"," ",812],["T_FUNCTION","function",812],["T_WHITESPACE"," ",812],["T_STRING","callSetExpressCheckout",812],"(",")",["T_WHITESPACE","\n    ",812],"{",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","_prepareExpressCheckoutCallRequest",814],"(",["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","_setExpressCheckoutRequest",814],")",";",["T_WHITESPACE","\n        ",814],["T_VARIABLE","$request",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","_exportToRequest",815],"(",["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","_setExpressCheckoutRequest",815],")",";",["T_WHITESPACE","\n        ",815],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","_exportLineItems",816],"(",["T_VARIABLE","$request",816],")",";",["T_WHITESPACE","\n\n        ",816],["T_COMMENT","\/\/ import\/suppress shipping address, if any\n",818],["T_WHITESPACE","        ",819],["T_VARIABLE","$options",819],["T_WHITESPACE"," ",819],"=",["T_WHITESPACE"," ",819],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","getShippingOptions",819],"(",")",";",["T_WHITESPACE","\n        ",819],["T_IF","if",820],["T_WHITESPACE"," ",820],"(",["T_VARIABLE","$this",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","getAddress",820],"(",")",")",["T_WHITESPACE"," ",820],"{",["T_WHITESPACE","\n            ",820],["T_VARIABLE","$request",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","_importAddresses",821],"(",["T_VARIABLE","$request",821],")",";",["T_WHITESPACE","\n            ",821],["T_VARIABLE","$request",822],"[",["T_CONSTANT_ENCAPSED_STRING","'ADDROVERRIDE'",822],"]",["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_LNUMBER","1",822],";",["T_WHITESPACE","\n        ",822],"}",["T_WHITESPACE"," ",823],["T_ELSEIF","elseif",823],["T_WHITESPACE"," ",823],"(",["T_VARIABLE","$options",823],["T_WHITESPACE"," ",823],["T_BOOLEAN_AND","&&",823],["T_WHITESPACE"," ",823],["T_STRING","count",823],"(",["T_VARIABLE","$options",823],")",["T_WHITESPACE"," ",823],["T_IS_SMALLER_OR_EQUAL","<=",823],["T_WHITESPACE"," ",823],["T_LNUMBER","10",823],")",["T_WHITESPACE"," ",823],"{",["T_WHITESPACE","\n            ",823],["T_COMMENT","\/\/ doesn't support more than 10 shipping options\n",824],["T_WHITESPACE","            ",825],["T_VARIABLE","$request",825],"[",["T_CONSTANT_ENCAPSED_STRING","'CALLBACK'",825],"]",["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_VARIABLE","$this",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","getShippingOptionsCallbackUrl",825],"(",")",";",["T_WHITESPACE","\n            ",825],["T_VARIABLE","$request",826],"[",["T_CONSTANT_ENCAPSED_STRING","'CALLBACKTIMEOUT'",826],"]",["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_LNUMBER","6",826],";",["T_WHITESPACE","\n            ",826],["T_COMMENT","\/\/ max value\n",827],["T_WHITESPACE","            ",828],["T_VARIABLE","$request",828],"[",["T_CONSTANT_ENCAPSED_STRING","'MAXAMT'",828],"]",["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_VARIABLE","$request",828],"[",["T_CONSTANT_ENCAPSED_STRING","'AMT'",828],"]",["T_WHITESPACE"," ",828],"+",["T_WHITESPACE"," ",828],["T_DNUMBER","999.00",828],";",["T_WHITESPACE","\n            ",828],["T_COMMENT","\/\/ it is impossible to calculate max amount\n",829],["T_WHITESPACE","            ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","_exportShippingOptions",830],"(",["T_VARIABLE","$request",830],")",";",["T_WHITESPACE","\n        ",830],"}",["T_WHITESPACE","\n\n        ",831],["T_VARIABLE","$response",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","call",833],"(",["T_STRING","self",833],["T_DOUBLE_COLON","::",833],["T_STRING","SET_EXPRESS_CHECKOUT",833],",",["T_WHITESPACE"," ",833],["T_VARIABLE","$request",833],")",";",["T_WHITESPACE","\n        ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_importFromResponse",834],"(",["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_setExpressCheckoutResponse",834],",",["T_WHITESPACE"," ",834],["T_VARIABLE","$response",834],")",";",["T_WHITESPACE","\n    ",834],"}",["T_WHITESPACE","\n\n    ",835],["T_DOC_COMMENT","\/**\n     * GetExpressCheckoutDetails call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_GetExpressCheckoutDetails\n     *\/",837],["T_WHITESPACE","\n    ",842],["T_PUBLIC","public",843],["T_WHITESPACE"," ",843],["T_FUNCTION","function",843],["T_WHITESPACE"," ",843],["T_STRING","callGetExpressCheckoutDetails",843],"(",")",["T_WHITESPACE","\n    ",843],"{",["T_WHITESPACE","\n        ",844],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","_prepareExpressCheckoutCallRequest",845],"(",["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","_getExpressCheckoutDetailsRequest",845],")",";",["T_WHITESPACE","\n        ",845],["T_VARIABLE","$request",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","_exportToRequest",846],"(",["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","_getExpressCheckoutDetailsRequest",846],")",";",["T_WHITESPACE","\n        ",846],["T_VARIABLE","$response",847],["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","call",847],"(",["T_STRING","self",847],["T_DOUBLE_COLON","::",847],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",847],",",["T_WHITESPACE"," ",847],["T_VARIABLE","$request",847],")",";",["T_WHITESPACE","\n        ",847],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","_importFromResponse",848],"(",["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","_paymentInformationResponse",848],",",["T_WHITESPACE"," ",848],["T_VARIABLE","$response",848],")",";",["T_WHITESPACE","\n        ",848],["T_VARIABLE","$this",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","_exportAddressses",849],"(",["T_VARIABLE","$response",849],")",";",["T_WHITESPACE","\n    ",849],"}",["T_WHITESPACE","\n\n    ",850],["T_DOC_COMMENT","\/**\n     * DoExpressCheckout call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_DoExpressCheckoutPayment\n     *\/",852],["T_WHITESPACE","\n    ",857],["T_PUBLIC","public",858],["T_WHITESPACE"," ",858],["T_FUNCTION","function",858],["T_WHITESPACE"," ",858],["T_STRING","callDoExpressCheckoutPayment",858],"(",")",["T_WHITESPACE","\n    ",858],"{",["T_WHITESPACE","\n        ",859],["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","_prepareExpressCheckoutCallRequest",860],"(",["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","_doExpressCheckoutPaymentRequest",860],")",";",["T_WHITESPACE","\n        ",860],["T_VARIABLE","$request",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","_exportToRequest",861],"(",["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","_doExpressCheckoutPaymentRequest",861],")",";",["T_WHITESPACE","\n        ",861],["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","_exportLineItems",862],"(",["T_VARIABLE","$request",862],")",";",["T_WHITESPACE","\n\n        ",862],["T_IF","if",864],["T_WHITESPACE"," ",864],"(",["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","getAddress",864],"(",")",")",["T_WHITESPACE"," ",864],"{",["T_WHITESPACE","\n            ",864],["T_VARIABLE","$request",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","_importAddresses",865],"(",["T_VARIABLE","$request",865],")",";",["T_WHITESPACE","\n            ",865],["T_VARIABLE","$request",866],"[",["T_CONSTANT_ENCAPSED_STRING","'ADDROVERRIDE'",866],"]",["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_LNUMBER","1",866],";",["T_WHITESPACE","\n        ",866],"}",["T_WHITESPACE","\n\n        ",867],["T_VARIABLE","$response",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_VARIABLE","$this",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","call",869],"(",["T_STRING","self",869],["T_DOUBLE_COLON","::",869],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",869],",",["T_WHITESPACE"," ",869],["T_VARIABLE","$request",869],")",";",["T_WHITESPACE","\n        ",869],["T_VARIABLE","$this",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","_importFromResponse",870],"(",["T_VARIABLE","$this",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","_paymentInformationResponse",870],",",["T_WHITESPACE"," ",870],["T_VARIABLE","$response",870],")",";",["T_WHITESPACE","\n        ",870],["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","_importFromResponse",871],"(",["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","_doExpressCheckoutPaymentResponse",871],",",["T_WHITESPACE"," ",871],["T_VARIABLE","$response",871],")",";",["T_WHITESPACE","\n        ",871],["T_VARIABLE","$this",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","_importFromResponse",872],"(",["T_VARIABLE","$this",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","_createBillingAgreementResponse",872],",",["T_WHITESPACE"," ",872],["T_VARIABLE","$response",872],")",";",["T_WHITESPACE","\n    ",872],"}",["T_WHITESPACE","\n\n    ",873],["T_DOC_COMMENT","\/**\n     * Process a credit card payment\n     *\n     * @return void\n     *\/",875],["T_WHITESPACE","\n    ",879],["T_PUBLIC","public",880],["T_WHITESPACE"," ",880],["T_FUNCTION","function",880],["T_WHITESPACE"," ",880],["T_STRING","callDoDirectPayment",880],"(",")",["T_WHITESPACE","\n    ",880],"{",["T_WHITESPACE","\n        ",881],["T_VARIABLE","$request",882],["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","_exportToRequest",882],"(",["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","_doDirectPaymentRequest",882],")",";",["T_WHITESPACE","\n        ",882],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","_exportLineItems",883],"(",["T_VARIABLE","$request",883],")",";",["T_WHITESPACE","\n        ",883],["T_IF","if",884],["T_WHITESPACE"," ",884],"(",["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","getAddress",884],"(",")",")",["T_WHITESPACE"," ",884],"{",["T_WHITESPACE","\n            ",884],["T_VARIABLE","$request",885],["T_WHITESPACE"," ",885],"=",["T_WHITESPACE"," ",885],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","_importAddresses",885],"(",["T_VARIABLE","$request",885],")",";",["T_WHITESPACE","\n        ",885],"}",["T_WHITESPACE","\n        ",886],["T_VARIABLE","$response",887],["T_WHITESPACE"," ",887],"=",["T_WHITESPACE"," ",887],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","call",887],"(",["T_STRING","self",887],["T_DOUBLE_COLON","::",887],["T_STRING","DO_DIRECT_PAYMENT",887],",",["T_WHITESPACE"," ",887],["T_VARIABLE","$request",887],")",";",["T_WHITESPACE","\n        ",887],["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","_importFromResponse",888],"(",["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","_doDirectPaymentResponse",888],",",["T_WHITESPACE"," ",888],["T_VARIABLE","$response",888],")",";",["T_WHITESPACE","\n    ",888],"}",["T_WHITESPACE","\n\n    ",889],["T_DOC_COMMENT","\/**\n     * Do Reference Transaction call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_DoReferenceTransaction\n     *\/",891],["T_WHITESPACE","\n    ",896],["T_PUBLIC","public",897],["T_WHITESPACE"," ",897],["T_FUNCTION","function",897],["T_WHITESPACE"," ",897],["T_STRING","callDoReferenceTransaction",897],"(",")",["T_WHITESPACE","\n    ",897],"{",["T_WHITESPACE","\n        ",898],["T_VARIABLE","$request",899],["T_WHITESPACE"," ",899],"=",["T_WHITESPACE"," ",899],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","_exportToRequest",899],"(",["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","_doReferenceTransactionRequest",899],")",";",["T_WHITESPACE","\n        ",899],["T_VARIABLE","$this",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","_exportLineItems",900],"(",["T_VARIABLE","$request",900],")",";",["T_WHITESPACE","\n        ",900],["T_VARIABLE","$response",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","call",901],"(",["T_CONSTANT_ENCAPSED_STRING","'DoReferenceTransaction'",901],",",["T_WHITESPACE"," ",901],["T_VARIABLE","$request",901],")",";",["T_WHITESPACE","\n        ",901],["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","_importFromResponse",902],"(",["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","_doReferenceTransactionResponse",902],",",["T_WHITESPACE"," ",902],["T_VARIABLE","$response",902],")",";",["T_WHITESPACE","\n    ",902],"}",["T_WHITESPACE","\n\n    ",903],["T_DOC_COMMENT","\/**\n     * Check whether the last call was returned with fraud warning\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",905],["T_WHITESPACE","\n    ",910],["T_PUBLIC","public",911],["T_WHITESPACE"," ",911],["T_FUNCTION","function",911],["T_WHITESPACE"," ",911],["T_STRING","getIsFraudDetected",911],"(",")",["T_WHITESPACE","\n    ",911],"{",["T_WHITESPACE","\n        ",912],["T_RETURN","return",913],["T_WHITESPACE"," ",913],["T_STRING","in_array",913],"(",["T_LNUMBER","11610",913],",",["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","_callWarnings",913],")",";",["T_WHITESPACE","\n    ",913],"}",["T_WHITESPACE","\n\n    ",914],["T_DOC_COMMENT","\/**\n     * Made additional request to paypal to get autharization id\n     *\n     * @return void\n     *\/",916],["T_WHITESPACE","\n    ",920],["T_PUBLIC","public",921],["T_WHITESPACE"," ",921],["T_FUNCTION","function",921],["T_WHITESPACE"," ",921],["T_STRING","callDoReauthorization",921],"(",")",["T_WHITESPACE","\n    ",921],"{",["T_WHITESPACE","\n        ",922],["T_VARIABLE","$request",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_export",923],"(",["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_doReauthorizationRequest",923],")",";",["T_WHITESPACE","\n        ",923],["T_VARIABLE","$response",924],["T_WHITESPACE"," ",924],"=",["T_WHITESPACE"," ",924],["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","call",924],"(",["T_CONSTANT_ENCAPSED_STRING","'DoReauthorization'",924],",",["T_WHITESPACE"," ",924],["T_VARIABLE","$request",924],")",";",["T_WHITESPACE","\n        ",924],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","_import",925],"(",["T_VARIABLE","$response",925],",",["T_WHITESPACE"," ",925],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","_doReauthorizationResponse",925],")",";",["T_WHITESPACE","\n    ",925],"}",["T_WHITESPACE","\n\n    ",926],["T_DOC_COMMENT","\/**\n     * DoCapture call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_DoCapture\n     *\/",928],["T_WHITESPACE","\n    ",933],["T_PUBLIC","public",934],["T_WHITESPACE"," ",934],["T_FUNCTION","function",934],["T_WHITESPACE"," ",934],["T_STRING","callDoCapture",934],"(",")",["T_WHITESPACE","\n    ",934],"{",["T_WHITESPACE","\n        ",935],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","setCompleteType",936],"(",["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","_getCaptureCompleteType",936],"(",")",")",";",["T_WHITESPACE","\n        ",936],["T_VARIABLE","$request",937],["T_WHITESPACE"," ",937],"=",["T_WHITESPACE"," ",937],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_exportToRequest",937],"(",["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_doCaptureRequest",937],")",";",["T_WHITESPACE","\n        ",937],["T_VARIABLE","$response",938],["T_WHITESPACE"," ",938],"=",["T_WHITESPACE"," ",938],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","call",938],"(",["T_STRING","self",938],["T_DOUBLE_COLON","::",938],["T_STRING","DO_CAPTURE",938],",",["T_WHITESPACE"," ",938],["T_VARIABLE","$request",938],")",";",["T_WHITESPACE","\n        ",938],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_importFromResponse",939],"(",["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_paymentInformationResponse",939],",",["T_WHITESPACE"," ",939],["T_VARIABLE","$response",939],")",";",["T_WHITESPACE","\n        ",939],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_importFromResponse",940],"(",["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_doCaptureResponse",940],",",["T_WHITESPACE"," ",940],["T_VARIABLE","$response",940],")",";",["T_WHITESPACE","\n    ",940],"}",["T_WHITESPACE","\n\n    ",941],["T_DOC_COMMENT","\/**\n     * DoAuthorization call\n     *\n     * @return $this\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_DoAuthorization\n     *\/",943],["T_WHITESPACE","\n    ",948],["T_PUBLIC","public",949],["T_WHITESPACE"," ",949],["T_FUNCTION","function",949],["T_WHITESPACE"," ",949],["T_STRING","callDoAuthorization",949],"(",")",["T_WHITESPACE","\n    ",949],"{",["T_WHITESPACE","\n        ",950],["T_VARIABLE","$request",951],["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","_exportToRequest",951],"(",["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","_doAuthorizationRequest",951],")",";",["T_WHITESPACE","\n        ",951],["T_VARIABLE","$response",952],["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","call",952],"(",["T_STRING","self",952],["T_DOUBLE_COLON","::",952],["T_STRING","DO_AUTHORIZATION",952],",",["T_WHITESPACE"," ",952],["T_VARIABLE","$request",952],")",";",["T_WHITESPACE","\n        ",952],["T_VARIABLE","$this",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","_importFromResponse",953],"(",["T_VARIABLE","$this",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","_paymentInformationResponse",953],",",["T_WHITESPACE"," ",953],["T_VARIABLE","$response",953],")",";",["T_WHITESPACE","\n        ",953],["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","_importFromResponse",954],"(",["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","_doAuthorizationResponse",954],",",["T_WHITESPACE"," ",954],["T_VARIABLE","$response",954],")",";",["T_WHITESPACE","\n\n        ",954],["T_RETURN","return",956],["T_WHITESPACE"," ",956],["T_VARIABLE","$this",956],";",["T_WHITESPACE","\n    ",956],"}",["T_WHITESPACE","\n\n    ",957],["T_DOC_COMMENT","\/**\n     * DoVoid call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_DoVoid\n     *\/",959],["T_WHITESPACE","\n    ",964],["T_PUBLIC","public",965],["T_WHITESPACE"," ",965],["T_FUNCTION","function",965],["T_WHITESPACE"," ",965],["T_STRING","callDoVoid",965],"(",")",["T_WHITESPACE","\n    ",965],"{",["T_WHITESPACE","\n        ",966],["T_VARIABLE","$request",967],["T_WHITESPACE"," ",967],"=",["T_WHITESPACE"," ",967],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","_exportToRequest",967],"(",["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","_doVoidRequest",967],")",";",["T_WHITESPACE","\n        ",967],["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","call",968],"(",["T_STRING","self",968],["T_DOUBLE_COLON","::",968],["T_STRING","DO_VOID",968],",",["T_WHITESPACE"," ",968],["T_VARIABLE","$request",968],")",";",["T_WHITESPACE","\n    ",968],"}",["T_WHITESPACE","\n\n    ",969],["T_DOC_COMMENT","\/**\n     * GetTransactionDetails\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_GetTransactionDetails\n     *\/",971],["T_WHITESPACE","\n    ",976],["T_PUBLIC","public",977],["T_WHITESPACE"," ",977],["T_FUNCTION","function",977],["T_WHITESPACE"," ",977],["T_STRING","callGetTransactionDetails",977],"(",")",["T_WHITESPACE","\n    ",977],"{",["T_WHITESPACE","\n        ",978],["T_VARIABLE","$request",979],["T_WHITESPACE"," ",979],"=",["T_WHITESPACE"," ",979],["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","_exportToRequest",979],"(",["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","_getTransactionDetailsRequest",979],")",";",["T_WHITESPACE","\n        ",979],["T_VARIABLE","$response",980],["T_WHITESPACE"," ",980],"=",["T_WHITESPACE"," ",980],["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","call",980],"(",["T_CONSTANT_ENCAPSED_STRING","'GetTransactionDetails'",980],",",["T_WHITESPACE"," ",980],["T_VARIABLE","$request",980],")",";",["T_WHITESPACE","\n        ",980],["T_VARIABLE","$this",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","_importFromResponse",981],"(",["T_VARIABLE","$this",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","_getTransactionDetailsResponse",981],",",["T_WHITESPACE"," ",981],["T_VARIABLE","$response",981],")",";",["T_WHITESPACE","\n    ",981],"}",["T_WHITESPACE","\n\n    ",982],["T_DOC_COMMENT","\/**\n     * RefundTransaction call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_RefundTransaction\n     *\/",984],["T_WHITESPACE","\n    ",989],["T_PUBLIC","public",990],["T_WHITESPACE"," ",990],["T_FUNCTION","function",990],["T_WHITESPACE"," ",990],["T_STRING","callRefundTransaction",990],"(",")",["T_WHITESPACE","\n    ",990],"{",["T_WHITESPACE","\n        ",991],["T_VARIABLE","$request",992],["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_VARIABLE","$this",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","_exportToRequest",992],"(",["T_VARIABLE","$this",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","_refundTransactionRequest",992],")",";",["T_WHITESPACE","\n        ",992],["T_IF","if",993],["T_WHITESPACE"," ",993],"(",["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","getRefundType",993],"(",")",["T_WHITESPACE"," ",993],["T_IS_IDENTICAL","===",993],["T_WHITESPACE"," ",993],["T_NS_SEPARATOR","\\",993],["T_STRING","Magento",993],["T_NS_SEPARATOR","\\",993],["T_STRING","Paypal",993],["T_NS_SEPARATOR","\\",993],["T_STRING","Model",993],["T_NS_SEPARATOR","\\",993],["T_STRING","Config",993],["T_DOUBLE_COLON","::",993],["T_STRING","REFUND_TYPE_PARTIAL",993],")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n            ",993],["T_VARIABLE","$request",994],"[",["T_CONSTANT_ENCAPSED_STRING","'AMT'",994],"]",["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_VARIABLE","$this",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","getAmount",994],"(",")",";",["T_WHITESPACE","\n        ",994],"}",["T_WHITESPACE","\n        ",995],["T_VARIABLE","$response",996],["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","call",996],"(",["T_STRING","self",996],["T_DOUBLE_COLON","::",996],["T_STRING","REFUND_TRANSACTION",996],",",["T_WHITESPACE"," ",996],["T_VARIABLE","$request",996],")",";",["T_WHITESPACE","\n        ",996],["T_VARIABLE","$this",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","_importFromResponse",997],"(",["T_VARIABLE","$this",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","_refundTransactionResponse",997],",",["T_WHITESPACE"," ",997],["T_VARIABLE","$response",997],")",";",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n\n    ",998],["T_DOC_COMMENT","\/**\n     * ManagePendingTransactionStatus\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_ManagePendingTransactionStatus\n     *\/",1000],["T_WHITESPACE","\n    ",1005],["T_PUBLIC","public",1006],["T_WHITESPACE"," ",1006],["T_FUNCTION","function",1006],["T_WHITESPACE"," ",1006],["T_STRING","callManagePendingTransactionStatus",1006],"(",")",["T_WHITESPACE","\n    ",1006],"{",["T_WHITESPACE","\n        ",1007],["T_VARIABLE","$request",1008],["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","_exportToRequest",1008],"(",["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","_managePendingTransactionStatusRequest",1008],")",";",["T_WHITESPACE","\n        ",1008],["T_IF","if",1009],["T_WHITESPACE"," ",1009],"(",["T_ISSET","isset",1009],"(",["T_VARIABLE","$request",1009],"[",["T_CONSTANT_ENCAPSED_STRING","'ACTION'",1009],"]",")",")",["T_WHITESPACE"," ",1009],"{",["T_WHITESPACE","\n            ",1009],["T_VARIABLE","$request",1010],"[",["T_CONSTANT_ENCAPSED_STRING","'ACTION'",1010],"]",["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","_filterPaymentReviewAction",1010],"(",["T_VARIABLE","$request",1010],"[",["T_CONSTANT_ENCAPSED_STRING","'ACTION'",1010],"]",")",";",["T_WHITESPACE","\n        ",1010],"}",["T_WHITESPACE","\n        ",1011],["T_VARIABLE","$response",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","call",1012],"(",["T_CONSTANT_ENCAPSED_STRING","'ManagePendingTransactionStatus'",1012],",",["T_WHITESPACE"," ",1012],["T_VARIABLE","$request",1012],")",";",["T_WHITESPACE","\n        ",1012],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","_importFromResponse",1013],"(",["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","_managePendingTransactionStatusResponse",1013],",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$response",1013],")",";",["T_WHITESPACE","\n    ",1013],"}",["T_WHITESPACE","\n\n    ",1014],["T_DOC_COMMENT","\/**\n     * GetPalDetails call\n     *\n     * @return void\n     * @link https:\/\/www.x.com\/docs\/DOC-1300\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?cmd=_render-content&content_ID=developer\/e_howto_api_ECButtonIntegration\n     *\/",1016],["T_WHITESPACE","\n    ",1022],["T_PUBLIC","public",1023],["T_WHITESPACE"," ",1023],["T_FUNCTION","function",1023],["T_WHITESPACE"," ",1023],["T_STRING","callGetPalDetails",1023],"(",")",["T_WHITESPACE","\n    ",1023],"{",["T_WHITESPACE","\n        ",1024],["T_VARIABLE","$response",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","call",1025],"(",["T_CONSTANT_ENCAPSED_STRING","'getPalDetails'",1025],",",["T_WHITESPACE"," ",1025],"[","]",")",";",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","_importFromResponse",1026],"(",["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","_getPalDetailsResponse",1026],",",["T_WHITESPACE"," ",1026],["T_VARIABLE","$response",1026],")",";",["T_WHITESPACE","\n    ",1026],"}",["T_WHITESPACE","\n\n    ",1027],["T_DOC_COMMENT","\/**\n     * Set Customer BillingA greement call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_SetCustomerBillingAgreement\n     *\/",1029],["T_WHITESPACE","\n    ",1034],["T_PUBLIC","public",1035],["T_WHITESPACE"," ",1035],["T_FUNCTION","function",1035],["T_WHITESPACE"," ",1035],["T_STRING","callSetCustomerBillingAgreement",1035],"(",")",["T_WHITESPACE","\n    ",1035],"{",["T_WHITESPACE","\n        ",1036],["T_VARIABLE","$request",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","_exportToRequest",1037],"(",["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","_customerBillingAgreementRequest",1037],")",";",["T_WHITESPACE","\n        ",1037],["T_VARIABLE","$response",1038],["T_WHITESPACE"," ",1038],"=",["T_WHITESPACE"," ",1038],["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","call",1038],"(",["T_CONSTANT_ENCAPSED_STRING","'SetCustomerBillingAgreement'",1038],",",["T_WHITESPACE"," ",1038],["T_VARIABLE","$request",1038],")",";",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","_importFromResponse",1039],"(",["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","_customerBillingAgreementResponse",1039],",",["T_WHITESPACE"," ",1039],["T_VARIABLE","$response",1039],")",";",["T_WHITESPACE","\n    ",1039],"}",["T_WHITESPACE","\n\n    ",1040],["T_DOC_COMMENT","\/**\n     * Get Billing Agreement Customer Details call\n     *\n     * @return void\n     * @link https:\/\/cms.paypal.com\/us\/cgi-bin\/?&cmd=_render-content&content_ID=developer\/e_howto_api_nvp_r_GetBillingAgreementCustomerDetails\n     *\/",1042],["T_WHITESPACE","\n    ",1047],["T_PUBLIC","public",1048],["T_WHITESPACE"," ",1048],["T_FUNCTION","function",1048],["T_WHITESPACE"," ",1048],["T_STRING","callGetBillingAgreementCustomerDetails",1048],"(",")",["T_WHITESPACE","\n    ",1048],"{",["T_WHITESPACE","\n        ",1049],["T_VARIABLE","$request",1050],["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","_exportToRequest",1050],"(",["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","_billingAgreementCustomerDetailsRequest",1050],")",";",["T_WHITESPACE","\n        ",1050],["T_VARIABLE","$response",1051],["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","call",1051],"(",["T_CONSTANT_ENCAPSED_STRING","'GetBillingAgreementCustomerDetails'",1051],",",["T_WHITESPACE"," ",1051],["T_VARIABLE","$request",1051],")",";",["T_WHITESPACE","\n        ",1051],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","_importFromResponse",1052],"(",["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","_billingAgreementCustomerDetailsResponse",1052],",",["T_WHITESPACE"," ",1052],["T_VARIABLE","$response",1052],")",";",["T_WHITESPACE","\n    ",1052],"}",["T_WHITESPACE","\n\n    ",1053],["T_DOC_COMMENT","\/**\n     * Create Billing Agreement call\n     *\n     * @return void\n     *\/",1055],["T_WHITESPACE","\n    ",1059],["T_PUBLIC","public",1060],["T_WHITESPACE"," ",1060],["T_FUNCTION","function",1060],["T_WHITESPACE"," ",1060],["T_STRING","callCreateBillingAgreement",1060],"(",")",["T_WHITESPACE","\n    ",1060],"{",["T_WHITESPACE","\n        ",1061],["T_VARIABLE","$request",1062],["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_VARIABLE","$this",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","_exportToRequest",1062],"(",["T_VARIABLE","$this",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","_createBillingAgreementRequest",1062],")",";",["T_WHITESPACE","\n        ",1062],["T_VARIABLE","$response",1063],["T_WHITESPACE"," ",1063],"=",["T_WHITESPACE"," ",1063],["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","call",1063],"(",["T_CONSTANT_ENCAPSED_STRING","'CreateBillingAgreement'",1063],",",["T_WHITESPACE"," ",1063],["T_VARIABLE","$request",1063],")",";",["T_WHITESPACE","\n        ",1063],["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","_importFromResponse",1064],"(",["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","_createBillingAgreementResponse",1064],",",["T_WHITESPACE"," ",1064],["T_VARIABLE","$response",1064],")",";",["T_WHITESPACE","\n    ",1064],"}",["T_WHITESPACE","\n\n    ",1065],["T_DOC_COMMENT","\/**\n     * Billing Agreement Update call\n     *\n     * @return void\n     *\/",1067],["T_WHITESPACE","\n    ",1071],["T_PUBLIC","public",1072],["T_WHITESPACE"," ",1072],["T_FUNCTION","function",1072],["T_WHITESPACE"," ",1072],["T_STRING","callUpdateBillingAgreement",1072],"(",")",["T_WHITESPACE","\n    ",1072],"{",["T_WHITESPACE","\n        ",1073],["T_VARIABLE","$request",1074],["T_WHITESPACE"," ",1074],"=",["T_WHITESPACE"," ",1074],["T_VARIABLE","$this",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","_exportToRequest",1074],"(",["T_VARIABLE","$this",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","_updateBillingAgreementRequest",1074],")",";",["T_WHITESPACE","\n        ",1074],["T_TRY","try",1075],["T_WHITESPACE"," ",1075],"{",["T_WHITESPACE","\n            ",1075],["T_VARIABLE","$response",1076],["T_WHITESPACE"," ",1076],"=",["T_WHITESPACE"," ",1076],["T_VARIABLE","$this",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","call",1076],"(",["T_CONSTANT_ENCAPSED_STRING","'BillAgreementUpdate'",1076],",",["T_WHITESPACE"," ",1076],["T_VARIABLE","$request",1076],")",";",["T_WHITESPACE","\n        ",1076],"}",["T_WHITESPACE"," ",1077],["T_CATCH","catch",1077],["T_WHITESPACE"," ",1077],"(",["T_NS_SEPARATOR","\\",1077],["T_STRING","Magento",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","Framework",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","Exception",1077],["T_NS_SEPARATOR","\\",1077],["T_STRING","LocalizedException",1077],["T_WHITESPACE"," ",1077],["T_VARIABLE","$e",1077],")",["T_WHITESPACE"," ",1077],"{",["T_WHITESPACE","\n            ",1077],["T_IF","if",1078],["T_WHITESPACE"," ",1078],"(",["T_STRING","in_array",1078],"(",["T_LNUMBER","10201",1078],",",["T_WHITESPACE"," ",1078],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","_callErrors",1078],")",")",["T_WHITESPACE"," ",1078],"{",["T_WHITESPACE","\n                ",1078],["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","setIsBillingAgreementAlreadyCancelled",1079],"(",["T_STRING","true",1079],")",";",["T_WHITESPACE","\n            ",1079],"}",["T_WHITESPACE","\n            ",1080],["T_THROW","throw",1081],["T_WHITESPACE"," ",1081],["T_VARIABLE","$e",1081],";",["T_WHITESPACE","\n        ",1081],"}",["T_WHITESPACE","\n        ",1082],["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","_importFromResponse",1083],"(",["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","_updateBillingAgreementResponse",1083],",",["T_WHITESPACE"," ",1083],["T_VARIABLE","$response",1083],")",";",["T_WHITESPACE","\n    ",1083],"}",["T_WHITESPACE","\n\n    ",1084],["T_DOC_COMMENT","\/**\n     * Import callback request array into $this public data\n     *\n     * @param array $request\n     * @return \\Magento\\Framework\\DataObject\n     *\/",1086],["T_WHITESPACE","\n    ",1091],["T_PUBLIC","public",1092],["T_WHITESPACE"," ",1092],["T_FUNCTION","function",1092],["T_WHITESPACE"," ",1092],["T_STRING","prepareShippingOptionsCallbackAddress",1092],"(",["T_ARRAY","array",1092],["T_WHITESPACE"," ",1092],["T_VARIABLE","$request",1092],")",["T_WHITESPACE","\n    ",1092],"{",["T_WHITESPACE","\n        ",1093],["T_VARIABLE","$address",1094],["T_WHITESPACE"," ",1094],"=",["T_WHITESPACE"," ",1094],["T_NEW","new",1094],["T_WHITESPACE"," ",1094],["T_NS_SEPARATOR","\\",1094],["T_STRING","Magento",1094],["T_NS_SEPARATOR","\\",1094],["T_STRING","Framework",1094],["T_NS_SEPARATOR","\\",1094],["T_STRING","DataObject",1094],"(",")",";",["T_WHITESPACE","\n        ",1094],["T_NS_SEPARATOR","\\",1095],["T_STRING","Magento",1095],["T_NS_SEPARATOR","\\",1095],["T_STRING","Framework",1095],["T_NS_SEPARATOR","\\",1095],["T_STRING","DataObject",1095],["T_NS_SEPARATOR","\\",1095],["T_STRING","Mapper",1095],["T_DOUBLE_COLON","::",1095],["T_STRING","accumulateByMap",1095],"(",["T_VARIABLE","$request",1095],",",["T_WHITESPACE"," ",1095],["T_VARIABLE","$address",1095],",",["T_WHITESPACE"," ",1095],["T_VARIABLE","$this",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","_callbackRequestMap",1095],")",";",["T_WHITESPACE","\n        ",1095],["T_VARIABLE","$address",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","setExportedKeys",1096],"(",["T_STRING","array_values",1096],"(",["T_VARIABLE","$this",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","_callbackRequestMap",1096],")",")",";",["T_WHITESPACE","\n        ",1096],["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","_applyStreetAndRegionWorkarounds",1097],"(",["T_VARIABLE","$address",1097],")",";",["T_WHITESPACE","\n        ",1097],["T_RETURN","return",1098],["T_WHITESPACE"," ",1098],["T_VARIABLE","$address",1098],";",["T_WHITESPACE","\n    ",1098],"}",["T_WHITESPACE","\n\n    ",1099],["T_DOC_COMMENT","\/**\n     * Prepare response for shipping options callback\n     *\n     * @return string\n     *\/",1101],["T_WHITESPACE","\n    ",1105],["T_PUBLIC","public",1106],["T_WHITESPACE"," ",1106],["T_FUNCTION","function",1106],["T_WHITESPACE"," ",1106],["T_STRING","formatShippingOptionsCallback",1106],"(",")",["T_WHITESPACE","\n    ",1106],"{",["T_WHITESPACE","\n        ",1107],["T_VARIABLE","$response",1108],["T_WHITESPACE"," ",1108],"=",["T_WHITESPACE"," ",1108],"[","]",";",["T_WHITESPACE","\n        ",1108],["T_IF","if",1109],["T_WHITESPACE"," ",1109],"(","!",["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","_exportShippingOptions",1109],"(",["T_VARIABLE","$response",1109],")",")",["T_WHITESPACE"," ",1109],"{",["T_WHITESPACE","\n            ",1109],["T_VARIABLE","$response",1110],"[",["T_CONSTANT_ENCAPSED_STRING","'NO_SHIPPING_OPTION_DETAILS'",1110],"]",["T_WHITESPACE"," ",1110],"=",["T_WHITESPACE"," ",1110],["T_CONSTANT_ENCAPSED_STRING","'1'",1110],";",["T_WHITESPACE","\n        ",1110],"}",["T_WHITESPACE","\n        ",1111],["T_VARIABLE","$response",1112],["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","_addMethodToRequest",1112],"(",["T_STRING","self",1112],["T_DOUBLE_COLON","::",1112],["T_STRING","CALLBACK_RESPONSE",1112],",",["T_WHITESPACE"," ",1112],["T_VARIABLE","$response",1112],")",";",["T_WHITESPACE","\n        ",1112],["T_RETURN","return",1113],["T_WHITESPACE"," ",1113],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","_buildQuery",1113],"(",["T_VARIABLE","$response",1113],")",";",["T_WHITESPACE","\n    ",1113],"}",["T_WHITESPACE","\n\n    ",1114],["T_DOC_COMMENT","\/**\n     * Add method to request array\n     *\n     * @param string $methodName\n     * @param array $request\n     * @return array\n     *\/",1116],["T_WHITESPACE","\n    ",1122],["T_PROTECTED","protected",1123],["T_WHITESPACE"," ",1123],["T_FUNCTION","function",1123],["T_WHITESPACE"," ",1123],["T_STRING","_addMethodToRequest",1123],"(",["T_VARIABLE","$methodName",1123],",",["T_WHITESPACE"," ",1123],["T_VARIABLE","$request",1123],")",["T_WHITESPACE","\n    ",1123],"{",["T_WHITESPACE","\n        ",1124],["T_VARIABLE","$request",1125],"[",["T_CONSTANT_ENCAPSED_STRING","'METHOD'",1125],"]",["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_VARIABLE","$methodName",1125],";",["T_WHITESPACE","\n        ",1125],["T_RETURN","return",1126],["T_WHITESPACE"," ",1126],["T_VARIABLE","$request",1126],";",["T_WHITESPACE","\n    ",1126],"}",["T_WHITESPACE","\n\n    ",1127],["T_DOC_COMMENT","\/**\n     * Additional response processing.\n     * Hack to cut off length from API type response params.\n     *\n     * @param array $response\n     * @return array\n     *\/",1129],["T_WHITESPACE","\n    ",1135],["T_PROTECTED","protected",1136],["T_WHITESPACE"," ",1136],["T_FUNCTION","function",1136],["T_WHITESPACE"," ",1136],["T_STRING","_postProcessResponse",1136],"(",["T_VARIABLE","$response",1136],")",["T_WHITESPACE","\n    ",1136],"{",["T_WHITESPACE","\n        ",1137],["T_FOREACH","foreach",1138],["T_WHITESPACE"," ",1138],"(",["T_VARIABLE","$response",1138],["T_WHITESPACE"," ",1138],["T_AS","as",1138],["T_WHITESPACE"," ",1138],["T_VARIABLE","$key",1138],["T_WHITESPACE"," ",1138],["T_DOUBLE_ARROW","=>",1138],["T_WHITESPACE"," ",1138],["T_VARIABLE","$value",1138],")",["T_WHITESPACE"," ",1138],"{",["T_WHITESPACE","\n            ",1138],["T_VARIABLE","$pos",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_STRING","strpos",1139],"(",["T_VARIABLE","$key",1139],",",["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","'['",1139],")",";",["T_WHITESPACE","\n\n            ",1139],["T_IF","if",1141],["T_WHITESPACE"," ",1141],"(",["T_VARIABLE","$pos",1141],["T_WHITESPACE"," ",1141],["T_IS_IDENTICAL","===",1141],["T_WHITESPACE"," ",1141],["T_STRING","false",1141],")",["T_WHITESPACE"," ",1141],"{",["T_WHITESPACE","\n                ",1141],["T_CONTINUE","continue",1142],";",["T_WHITESPACE","\n            ",1142],"}",["T_WHITESPACE","\n\n            ",1143],["T_UNSET","unset",1145],"(",["T_VARIABLE","$response",1145],"[",["T_VARIABLE","$key",1145],"]",")",";",["T_WHITESPACE","\n\n            ",1145],["T_IF","if",1147],["T_WHITESPACE"," ",1147],"(",["T_VARIABLE","$pos",1147],["T_WHITESPACE"," ",1147],["T_IS_NOT_IDENTICAL","!==",1147],["T_WHITESPACE"," ",1147],["T_LNUMBER","0",1147],")",["T_WHITESPACE"," ",1147],"{",["T_WHITESPACE","\n                ",1147],["T_VARIABLE","$modifiedKey",1148],["T_WHITESPACE"," ",1148],"=",["T_WHITESPACE"," ",1148],["T_STRING","substr",1148],"(",["T_VARIABLE","$key",1148],",",["T_WHITESPACE"," ",1148],["T_LNUMBER","0",1148],",",["T_WHITESPACE"," ",1148],["T_VARIABLE","$pos",1148],")",";",["T_WHITESPACE","\n                ",1148],["T_VARIABLE","$response",1149],"[",["T_VARIABLE","$modifiedKey",1149],"]",["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],["T_VARIABLE","$value",1149],";",["T_WHITESPACE","\n            ",1149],"}",["T_WHITESPACE","\n        ",1150],"}",["T_WHITESPACE","\n\n        ",1151],["T_RETURN","return",1153],["T_WHITESPACE"," ",1153],["T_VARIABLE","$response",1153],";",["T_WHITESPACE","\n    ",1153],"}",["T_WHITESPACE","\n\n    ",1154],["T_DOC_COMMENT","\/**\n     * Do the API call\n     *\n     * @param string $methodName\n     * @param array $request\n     * @return array\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException|\\Exception\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",1156],["T_WHITESPACE","\n    ",1164],["T_PUBLIC","public",1165],["T_WHITESPACE"," ",1165],["T_FUNCTION","function",1165],["T_WHITESPACE"," ",1165],["T_STRING","call",1165],"(",["T_VARIABLE","$methodName",1165],",",["T_WHITESPACE"," ",1165],["T_ARRAY","array",1165],["T_WHITESPACE"," ",1165],["T_VARIABLE","$request",1165],")",["T_WHITESPACE","\n    ",1165],"{",["T_WHITESPACE","\n        ",1166],["T_VARIABLE","$request",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","_addMethodToRequest",1167],"(",["T_VARIABLE","$methodName",1167],",",["T_WHITESPACE"," ",1167],["T_VARIABLE","$request",1167],")",";",["T_WHITESPACE","\n        ",1167],["T_VARIABLE","$eachCallRequest",1168],["T_WHITESPACE"," ",1168],"=",["T_WHITESPACE"," ",1168],["T_VARIABLE","$this",1168],["T_OBJECT_OPERATOR","->",1168],["T_STRING","_prepareEachCallRequest",1168],"(",["T_VARIABLE","$methodName",1168],")",";",["T_WHITESPACE","\n        ",1168],["T_IF","if",1169],["T_WHITESPACE"," ",1169],"(",["T_VARIABLE","$this",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","getUseCertAuthentication",1169],"(",")",")",["T_WHITESPACE"," ",1169],"{",["T_WHITESPACE","\n            ",1169],["T_VARIABLE","$key",1170],["T_WHITESPACE"," ",1170],"=",["T_WHITESPACE"," ",1170],["T_STRING","array_search",1170],"(",["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE'",1170],",",["T_WHITESPACE"," ",1170],["T_VARIABLE","$eachCallRequest",1170],")",";",["T_WHITESPACE","\n            ",1170],["T_IF","if",1171],["T_WHITESPACE"," ",1171],"(",["T_VARIABLE","$key",1171],")",["T_WHITESPACE"," ",1171],"{",["T_WHITESPACE","\n                ",1171],["T_UNSET","unset",1172],"(",["T_VARIABLE","$eachCallRequest",1172],"[",["T_VARIABLE","$key",1172],"]",")",";",["T_WHITESPACE","\n            ",1172],"}",["T_WHITESPACE","\n        ",1173],"}",["T_WHITESPACE","\n        ",1174],["T_VARIABLE","$request",1175],["T_WHITESPACE"," ",1175],"=",["T_WHITESPACE"," ",1175],["T_VARIABLE","$this",1175],["T_OBJECT_OPERATOR","->",1175],["T_STRING","_exportToRequest",1175],"(",["T_VARIABLE","$eachCallRequest",1175],",",["T_WHITESPACE"," ",1175],["T_VARIABLE","$request",1175],")",";",["T_WHITESPACE","\n        ",1175],["T_VARIABLE","$debugData",1176],["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE"," ",1176],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",1176],["T_WHITESPACE"," ",1176],["T_DOUBLE_ARROW","=>",1176],["T_WHITESPACE"," ",1176],["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","getApiEndpoint",1176],"(",")",",",["T_WHITESPACE"," ",1176],["T_VARIABLE","$methodName",1176],["T_WHITESPACE"," ",1176],["T_DOUBLE_ARROW","=>",1176],["T_WHITESPACE"," ",1176],["T_VARIABLE","$request",1176],"]",";",["T_WHITESPACE","\n\n        ",1176],["T_TRY","try",1178],["T_WHITESPACE"," ",1178],"{",["T_WHITESPACE","\n            ",1178],["T_VARIABLE","$http",1179],["T_WHITESPACE"," ",1179],"=",["T_WHITESPACE"," ",1179],["T_VARIABLE","$this",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","_curlFactory",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","create",1179],"(",")",";",["T_WHITESPACE","\n            ",1179],["T_VARIABLE","$config",1180],["T_WHITESPACE"," ",1180],"=",["T_WHITESPACE"," ",1180],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",1180],["T_WHITESPACE"," ",1180],["T_DOUBLE_ARROW","=>",1180],["T_WHITESPACE"," ",1180],["T_LNUMBER","60",1180],",",["T_WHITESPACE"," ",1180],["T_CONSTANT_ENCAPSED_STRING","'verifypeer'",1180],["T_WHITESPACE"," ",1180],["T_DOUBLE_ARROW","=>",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$this",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","_config",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","getValue",1180],"(",["T_CONSTANT_ENCAPSED_STRING","'verifyPeer'",1180],")","]",";",["T_WHITESPACE","\n            ",1180],["T_IF","if",1181],["T_WHITESPACE"," ",1181],"(",["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","getUseProxy",1181],"(",")",")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n                ",1181],["T_VARIABLE","$config",1182],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy'",1182],"]",["T_WHITESPACE"," ",1182],"=",["T_WHITESPACE"," ",1182],["T_VARIABLE","$this",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","getProxyHost",1182],"(",")",["T_WHITESPACE"," ",1182],".",["T_WHITESPACE"," ",1182],["T_CONSTANT_ENCAPSED_STRING","':'",1182],["T_WHITESPACE"," ",1182],".",["T_WHITESPACE"," ",1182],["T_VARIABLE","$this",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","getProxyPort",1182],"(",")",";",["T_WHITESPACE","\n            ",1182],"}",["T_WHITESPACE","\n            ",1183],["T_IF","if",1184],["T_WHITESPACE"," ",1184],"(",["T_VARIABLE","$this",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","getUseCertAuthentication",1184],"(",")",")",["T_WHITESPACE"," ",1184],"{",["T_WHITESPACE","\n                ",1184],["T_VARIABLE","$config",1185],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl_cert'",1185],"]",["T_WHITESPACE"," ",1185],"=",["T_WHITESPACE"," ",1185],["T_VARIABLE","$this",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","getApiCertificate",1185],"(",")",";",["T_WHITESPACE","\n            ",1185],"}",["T_WHITESPACE","\n            ",1186],["T_VARIABLE","$http",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","setConfig",1187],"(",["T_VARIABLE","$config",1187],")",";",["T_WHITESPACE","\n            ",1187],["T_VARIABLE","$http",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","write",1188],"(",["T_WHITESPACE","\n                ",1188],["T_NS_SEPARATOR","\\",1189],["T_STRING","Zend_Http_Client",1189],["T_DOUBLE_COLON","::",1189],["T_STRING","POST",1189],",",["T_WHITESPACE","\n                ",1189],["T_VARIABLE","$this",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","getApiEndpoint",1190],"(",")",",",["T_WHITESPACE","\n                ",1190],["T_CONSTANT_ENCAPSED_STRING","'1.1'",1191],",",["T_WHITESPACE","\n                ",1191],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","_headers",1192],",",["T_WHITESPACE","\n                ",1192],["T_VARIABLE","$this",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","_buildQuery",1193],"(",["T_VARIABLE","$request",1193],")",["T_WHITESPACE","\n            ",1193],")",";",["T_WHITESPACE","\n            ",1194],["T_VARIABLE","$response",1195],["T_WHITESPACE"," ",1195],"=",["T_WHITESPACE"," ",1195],["T_VARIABLE","$http",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","read",1195],"(",")",";",["T_WHITESPACE","\n        ",1195],"}",["T_WHITESPACE"," ",1196],["T_CATCH","catch",1196],["T_WHITESPACE"," ",1196],"(",["T_NS_SEPARATOR","\\",1196],["T_STRING","Exception",1196],["T_WHITESPACE"," ",1196],["T_VARIABLE","$e",1196],")",["T_WHITESPACE"," ",1196],"{",["T_WHITESPACE","\n            ",1196],["T_VARIABLE","$debugData",1197],"[",["T_CONSTANT_ENCAPSED_STRING","'http_error'",1197],"]",["T_WHITESPACE"," ",1197],"=",["T_WHITESPACE"," ",1197],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1197],["T_WHITESPACE"," ",1197],["T_DOUBLE_ARROW","=>",1197],["T_WHITESPACE"," ",1197],["T_VARIABLE","$e",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","getMessage",1197],"(",")",",",["T_WHITESPACE"," ",1197],["T_CONSTANT_ENCAPSED_STRING","'code'",1197],["T_WHITESPACE"," ",1197],["T_DOUBLE_ARROW","=>",1197],["T_WHITESPACE"," ",1197],["T_VARIABLE","$e",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","getCode",1197],"(",")","]",";",["T_WHITESPACE","\n            ",1197],["T_VARIABLE","$this",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","_debug",1198],"(",["T_VARIABLE","$debugData",1198],")",";",["T_WHITESPACE","\n            ",1198],["T_THROW","throw",1199],["T_WHITESPACE"," ",1199],["T_VARIABLE","$e",1199],";",["T_WHITESPACE","\n        ",1199],"}",["T_WHITESPACE","\n\n        ",1200],["T_VARIABLE","$response",1202],["T_WHITESPACE"," ",1202],"=",["T_WHITESPACE"," ",1202],["T_STRING","preg_split",1202],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\r?$\/m'",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$response",1202],",",["T_WHITESPACE"," ",1202],["T_LNUMBER","2",1202],")",";",["T_WHITESPACE","\n        ",1202],["T_VARIABLE","$response",1203],["T_WHITESPACE"," ",1203],"=",["T_WHITESPACE"," ",1203],["T_STRING","trim",1203],"(",["T_VARIABLE","$response",1203],"[",["T_LNUMBER","1",1203],"]",")",";",["T_WHITESPACE","\n        ",1203],["T_VARIABLE","$response",1204],["T_WHITESPACE"," ",1204],"=",["T_WHITESPACE"," ",1204],["T_VARIABLE","$this",1204],["T_OBJECT_OPERATOR","->",1204],["T_STRING","_deformatNVP",1204],"(",["T_VARIABLE","$response",1204],")",";",["T_WHITESPACE","\n\n        ",1204],["T_VARIABLE","$debugData",1206],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",1206],"]",["T_WHITESPACE"," ",1206],"=",["T_WHITESPACE"," ",1206],["T_VARIABLE","$response",1206],";",["T_WHITESPACE","\n        ",1206],["T_VARIABLE","$this",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","_debug",1207],"(",["T_VARIABLE","$debugData",1207],")",";",["T_WHITESPACE","\n\n        ",1207],["T_VARIABLE","$response",1209],["T_WHITESPACE"," ",1209],"=",["T_WHITESPACE"," ",1209],["T_VARIABLE","$this",1209],["T_OBJECT_OPERATOR","->",1209],["T_STRING","_postProcessResponse",1209],"(",["T_VARIABLE","$response",1209],")",";",["T_WHITESPACE","\n\n        ",1209],["T_COMMENT","\/\/ handle transport error\n",1211],["T_WHITESPACE","        ",1212],["T_IF","if",1212],["T_WHITESPACE"," ",1212],"(",["T_VARIABLE","$http",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","getErrno",1212],"(",")",")",["T_WHITESPACE"," ",1212],"{",["T_WHITESPACE","\n            ",1212],["T_VARIABLE","$this",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","_logger",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","critical",1213],"(",["T_WHITESPACE","\n                ",1213],["T_NEW","new",1214],["T_WHITESPACE"," ",1214],["T_NS_SEPARATOR","\\",1214],["T_STRING","Exception",1214],"(",["T_WHITESPACE","\n                    ",1214],["T_STRING","sprintf",1215],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal NVP CURL connection error #%s: %s'",1215],",",["T_WHITESPACE"," ",1215],["T_VARIABLE","$http",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","getErrno",1215],"(",")",",",["T_WHITESPACE"," ",1215],["T_VARIABLE","$http",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","getError",1215],"(",")",")",["T_WHITESPACE","\n                ",1215],")",["T_WHITESPACE","\n            ",1216],")",";",["T_WHITESPACE","\n            ",1217],["T_VARIABLE","$http",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","close",1218],"(",")",";",["T_WHITESPACE","\n\n            ",1218],["T_THROW","throw",1220],["T_WHITESPACE"," ",1220],["T_NEW","new",1220],["T_WHITESPACE"," ",1220],["T_NS_SEPARATOR","\\",1220],["T_STRING","Magento",1220],["T_NS_SEPARATOR","\\",1220],["T_STRING","Framework",1220],["T_NS_SEPARATOR","\\",1220],["T_STRING","Exception",1220],["T_NS_SEPARATOR","\\",1220],["T_STRING","LocalizedException",1220],"(",["T_WHITESPACE","\n                ",1220],["T_STRING","__",1221],"(",["T_CONSTANT_ENCAPSED_STRING","'Payment Gateway is unreachable at the moment. Please use another payment option.'",1221],")",["T_WHITESPACE","\n            ",1221],")",";",["T_WHITESPACE","\n        ",1222],"}",["T_WHITESPACE","\n\n        ",1223],["T_COMMENT","\/\/ cUrl resource must be closed after checking it for errors\n",1225],["T_WHITESPACE","        ",1226],["T_VARIABLE","$http",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","close",1226],"(",")",";",["T_WHITESPACE","\n\n        ",1226],["T_IF","if",1228],["T_WHITESPACE"," ",1228],"(","!",["T_VARIABLE","$this",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","_validateResponse",1228],"(",["T_VARIABLE","$methodName",1228],",",["T_WHITESPACE"," ",1228],["T_VARIABLE","$response",1228],")",")",["T_WHITESPACE"," ",1228],"{",["T_WHITESPACE","\n            ",1228],["T_VARIABLE","$this",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","_logger",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","critical",1229],"(",["T_NEW","new",1229],["T_WHITESPACE"," ",1229],["T_NS_SEPARATOR","\\",1229],["T_STRING","Exception",1229],"(",["T_STRING","__",1229],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal response hasn\\'t required fields.'",1229],")",")",")",";",["T_WHITESPACE","\n            ",1229],["T_THROW","throw",1230],["T_WHITESPACE"," ",1230],["T_NEW","new",1230],["T_WHITESPACE"," ",1230],["T_NS_SEPARATOR","\\",1230],["T_STRING","Magento",1230],["T_NS_SEPARATOR","\\",1230],["T_STRING","Framework",1230],["T_NS_SEPARATOR","\\",1230],["T_STRING","Exception",1230],["T_NS_SEPARATOR","\\",1230],["T_STRING","LocalizedException",1230],"(",["T_WHITESPACE","\n                ",1230],["T_STRING","__",1231],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while processing your order.'",1231],")",["T_WHITESPACE","\n            ",1231],")",";",["T_WHITESPACE","\n        ",1232],"}",["T_WHITESPACE","\n\n        ",1233],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","_callErrors",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],"[","]",";",["T_WHITESPACE","\n        ",1235],["T_IF","if",1236],["T_WHITESPACE"," ",1236],"(",["T_VARIABLE","$this",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","_isCallSuccessful",1236],"(",["T_VARIABLE","$response",1236],")",")",["T_WHITESPACE"," ",1236],"{",["T_WHITESPACE","\n            ",1236],["T_IF","if",1237],["T_WHITESPACE"," ",1237],"(",["T_VARIABLE","$this",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","_rawResponseNeeded",1237],")",["T_WHITESPACE"," ",1237],"{",["T_WHITESPACE","\n                ",1237],["T_VARIABLE","$this",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","setRawSuccessResponseData",1238],"(",["T_VARIABLE","$response",1238],")",";",["T_WHITESPACE","\n            ",1238],"}",["T_WHITESPACE","\n            ",1239],["T_RETURN","return",1240],["T_WHITESPACE"," ",1240],["T_VARIABLE","$response",1240],";",["T_WHITESPACE","\n        ",1240],"}",["T_WHITESPACE","\n        ",1241],["T_VARIABLE","$this",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","_handleCallErrors",1242],"(",["T_VARIABLE","$response",1242],")",";",["T_WHITESPACE","\n        ",1242],["T_RETURN","return",1243],["T_WHITESPACE"," ",1243],["T_VARIABLE","$response",1243],";",["T_WHITESPACE","\n    ",1243],"}",["T_WHITESPACE","\n\n    ",1244],["T_DOC_COMMENT","\/**\n     * Setter for 'raw response needed' flag\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",1246],["T_WHITESPACE","\n    ",1251],["T_PUBLIC","public",1252],["T_WHITESPACE"," ",1252],["T_FUNCTION","function",1252],["T_WHITESPACE"," ",1252],["T_STRING","setRawResponseNeeded",1252],"(",["T_VARIABLE","$flag",1252],")",["T_WHITESPACE","\n    ",1252],"{",["T_WHITESPACE","\n        ",1253],["T_VARIABLE","$this",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","_rawResponseNeeded",1254],["T_WHITESPACE"," ",1254],"=",["T_WHITESPACE"," ",1254],["T_VARIABLE","$flag",1254],";",["T_WHITESPACE","\n        ",1254],["T_RETURN","return",1255],["T_WHITESPACE"," ",1255],["T_VARIABLE","$this",1255],";",["T_WHITESPACE","\n    ",1255],"}",["T_WHITESPACE","\n\n    ",1256],["T_DOC_COMMENT","\/**\n     * Handle logical errors\n     *\n     * @param array $response\n     * @return void\n     * @throws \\Magento\\Paypal\\Model\\Api\\ProcessableException|\\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1258],["T_WHITESPACE","\n    ",1265],["T_PROTECTED","protected",1266],["T_WHITESPACE"," ",1266],["T_FUNCTION","function",1266],["T_WHITESPACE"," ",1266],["T_STRING","_handleCallErrors",1266],"(",["T_VARIABLE","$response",1266],")",["T_WHITESPACE","\n    ",1266],"{",["T_WHITESPACE","\n        ",1267],["T_VARIABLE","$errors",1268],["T_WHITESPACE"," ",1268],"=",["T_WHITESPACE"," ",1268],["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","_extractErrorsFromResponse",1268],"(",["T_VARIABLE","$response",1268],")",";",["T_WHITESPACE","\n        ",1268],["T_IF","if",1269],["T_WHITESPACE"," ",1269],"(",["T_EMPTY","empty",1269],"(",["T_VARIABLE","$errors",1269],")",")",["T_WHITESPACE"," ",1269],"{",["T_WHITESPACE","\n            ",1269],["T_RETURN","return",1270],";",["T_WHITESPACE","\n        ",1270],"}",["T_WHITESPACE","\n\n        ",1271],["T_VARIABLE","$errorMessages",1273],["T_WHITESPACE"," ",1273],"=",["T_WHITESPACE"," ",1273],"[","]",";",["T_WHITESPACE","\n        ",1273],["T_FOREACH","foreach",1274],["T_WHITESPACE"," ",1274],"(",["T_VARIABLE","$errors",1274],["T_WHITESPACE"," ",1274],["T_AS","as",1274],["T_WHITESPACE"," ",1274],["T_VARIABLE","$error",1274],")",["T_WHITESPACE"," ",1274],"{",["T_WHITESPACE","\n            ",1274],["T_VARIABLE","$errorMessages",1275],"[","]",["T_WHITESPACE"," ",1275],"=",["T_WHITESPACE"," ",1275],["T_VARIABLE","$error",1275],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",1275],"]",";",["T_WHITESPACE","\n            ",1275],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","_callErrors",1276],"[","]",["T_WHITESPACE"," ",1276],"=",["T_WHITESPACE"," ",1276],["T_VARIABLE","$error",1276],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1276],"]",";",["T_WHITESPACE","\n        ",1276],"}",["T_WHITESPACE","\n        ",1277],["T_VARIABLE","$errorMessages",1278],["T_WHITESPACE"," ",1278],"=",["T_WHITESPACE"," ",1278],["T_STRING","implode",1278],"(",["T_CONSTANT_ENCAPSED_STRING","' '",1278],",",["T_WHITESPACE"," ",1278],["T_VARIABLE","$errorMessages",1278],")",";",["T_WHITESPACE","\n\n        ",1278],["T_VARIABLE","$exceptionLogMessage",1280],["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_STRING","sprintf",1280],"(",["T_WHITESPACE","\n            ",1280],["T_CONSTANT_ENCAPSED_STRING","'PayPal NVP gateway errors: %s Correlation ID: %s. Version: %s.'",1281],",",["T_WHITESPACE","\n            ",1281],["T_VARIABLE","$errorMessages",1282],",",["T_WHITESPACE","\n            ",1282],["T_ISSET","isset",1283],"(",["T_VARIABLE","$response",1283],"[",["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",1283],"]",")",["T_WHITESPACE"," ",1283],"?",["T_WHITESPACE"," ",1283],["T_VARIABLE","$response",1283],"[",["T_CONSTANT_ENCAPSED_STRING","'CORRELATIONID'",1283],"]",["T_WHITESPACE"," ",1283],":",["T_WHITESPACE"," ",1283],["T_CONSTANT_ENCAPSED_STRING","''",1283],",",["T_WHITESPACE","\n            ",1283],["T_ISSET","isset",1284],"(",["T_VARIABLE","$response",1284],"[",["T_CONSTANT_ENCAPSED_STRING","'VERSION'",1284],"]",")",["T_WHITESPACE"," ",1284],"?",["T_WHITESPACE"," ",1284],["T_VARIABLE","$response",1284],"[",["T_CONSTANT_ENCAPSED_STRING","'VERSION'",1284],"]",["T_WHITESPACE"," ",1284],":",["T_WHITESPACE"," ",1284],["T_CONSTANT_ENCAPSED_STRING","''",1284],["T_WHITESPACE","\n        ",1284],")",";",["T_WHITESPACE","\n        ",1285],["T_VARIABLE","$this",1286],["T_OBJECT_OPERATOR","->",1286],["T_STRING","_logger",1286],["T_OBJECT_OPERATOR","->",1286],["T_STRING","critical",1286],"(",["T_VARIABLE","$exceptionLogMessage",1286],")",";",["T_WHITESPACE","\n\n        ",1286],["T_VARIABLE","$exceptionPhrase",1288],["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_STRING","__",1288],"(",["T_CONSTANT_ENCAPSED_STRING","'PayPal gateway has rejected request. %1'",1288],",",["T_WHITESPACE"," ",1288],["T_VARIABLE","$errorMessages",1288],")",";",["T_WHITESPACE","\n\n        ",1288],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Exception\\LocalizedException $exception *\/",1290],["T_WHITESPACE","\n        ",1290],["T_VARIABLE","$firstError",1291],["T_WHITESPACE"," ",1291],"=",["T_WHITESPACE"," ",1291],["T_VARIABLE","$errors",1291],"[",["T_LNUMBER","0",1291],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",1291],"]",";",["T_WHITESPACE","\n        ",1291],["T_VARIABLE","$exception",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","_isProcessableError",1292],"(",["T_VARIABLE","$firstError",1292],")",["T_WHITESPACE","\n            ",1292],"?",["T_WHITESPACE"," ",1293],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","_processableExceptionFactory",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","create",1293],"(",["T_WHITESPACE","\n                ",1293],"[",["T_CONSTANT_ENCAPSED_STRING","'phrase'",1294],["T_WHITESPACE"," ",1294],["T_DOUBLE_ARROW","=>",1294],["T_WHITESPACE"," ",1294],["T_VARIABLE","$exceptionPhrase",1294],",",["T_WHITESPACE"," ",1294],["T_CONSTANT_ENCAPSED_STRING","'code'",1294],["T_WHITESPACE"," ",1294],["T_DOUBLE_ARROW","=>",1294],["T_WHITESPACE"," ",1294],["T_VARIABLE","$firstError",1294],"]",["T_WHITESPACE","\n            ",1294],")",["T_WHITESPACE","\n            ",1295],":",["T_WHITESPACE"," ",1296],["T_VARIABLE","$this",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","_frameworkExceptionFactory",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","create",1296],"(",["T_WHITESPACE","\n                ",1296],"[",["T_CONSTANT_ENCAPSED_STRING","'phrase'",1297],["T_WHITESPACE"," ",1297],["T_DOUBLE_ARROW","=>",1297],["T_WHITESPACE"," ",1297],["T_VARIABLE","$exceptionPhrase",1297],"]",["T_WHITESPACE","\n            ",1297],")",";",["T_WHITESPACE","\n\n        ",1298],["T_THROW","throw",1300],["T_WHITESPACE"," ",1300],["T_VARIABLE","$exception",1300],";",["T_WHITESPACE","\n    ",1300],"}",["T_WHITESPACE","\n\n    ",1301],["T_DOC_COMMENT","\/**\n     * Format error message from error code, short error message and long error message\n     *\n     * @param string $errorCode\n     * @param string $shortErrorMessage\n     * @param string $longErrorMessage\n     * @return string\n     *\/",1303],["T_WHITESPACE","\n    ",1310],["T_PROTECTED","protected",1311],["T_WHITESPACE"," ",1311],["T_FUNCTION","function",1311],["T_WHITESPACE"," ",1311],["T_STRING","_formatErrorMessage",1311],"(",["T_VARIABLE","$errorCode",1311],",",["T_WHITESPACE"," ",1311],["T_VARIABLE","$shortErrorMessage",1311],",",["T_WHITESPACE"," ",1311],["T_VARIABLE","$longErrorMessage",1311],")",["T_WHITESPACE","\n    ",1311],"{",["T_WHITESPACE","\n        ",1312],["T_VARIABLE","$longErrorMessage",1313],["T_WHITESPACE","  ",1313],"=",["T_WHITESPACE"," ",1313],["T_STRING","preg_replace",1313],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\.$\/'",1313],",",["T_WHITESPACE"," ",1313],["T_CONSTANT_ENCAPSED_STRING","''",1313],",",["T_WHITESPACE"," ",1313],["T_VARIABLE","$longErrorMessage",1313],")",";",["T_WHITESPACE","\n        ",1313],["T_VARIABLE","$shortErrorMessage",1314],["T_WHITESPACE"," ",1314],"=",["T_WHITESPACE"," ",1314],["T_STRING","preg_replace",1314],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\.$\/'",1314],",",["T_WHITESPACE"," ",1314],["T_CONSTANT_ENCAPSED_STRING","''",1314],",",["T_WHITESPACE"," ",1314],["T_VARIABLE","$shortErrorMessage",1314],")",";",["T_WHITESPACE","\n\n        ",1314],["T_RETURN","return",1316],["T_WHITESPACE"," ",1316],["T_VARIABLE","$longErrorMessage",1316],["T_WHITESPACE"," ",1316],"?",["T_WHITESPACE"," ",1316],["T_STRING","sprintf",1316],"(",["T_CONSTANT_ENCAPSED_STRING","'%s (#%s: %s).'",1316],",",["T_WHITESPACE"," ",1316],["T_VARIABLE","$longErrorMessage",1316],",",["T_WHITESPACE"," ",1316],["T_VARIABLE","$errorCode",1316],",",["T_WHITESPACE"," ",1316],["T_VARIABLE","$shortErrorMessage",1316],")",["T_WHITESPACE","\n            ",1316],":",["T_WHITESPACE"," ",1317],["T_STRING","sprintf",1317],"(",["T_CONSTANT_ENCAPSED_STRING","'#%s: %s.'",1317],",",["T_WHITESPACE"," ",1317],["T_VARIABLE","$errorCode",1317],",",["T_WHITESPACE"," ",1317],["T_VARIABLE","$shortErrorMessage",1317],")",";",["T_WHITESPACE","\n    ",1317],"}",["T_WHITESPACE","\n\n    ",1318],["T_DOC_COMMENT","\/**\n     * Check whether PayPal error can be processed\n     *\n     * @param int $errorCode\n     * @return bool\n     *\/",1320],["T_WHITESPACE","\n    ",1325],["T_PROTECTED","protected",1326],["T_WHITESPACE"," ",1326],["T_FUNCTION","function",1326],["T_WHITESPACE"," ",1326],["T_STRING","_isProcessableError",1326],"(",["T_VARIABLE","$errorCode",1326],")",["T_WHITESPACE","\n    ",1326],"{",["T_WHITESPACE","\n        ",1327],["T_VARIABLE","$processableErrorsList",1328],["T_WHITESPACE"," ",1328],"=",["T_WHITESPACE"," ",1328],["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","getProcessableErrors",1328],"(",")",";",["T_WHITESPACE","\n\n        ",1328],["T_IF","if",1330],["T_WHITESPACE"," ",1330],"(","!",["T_VARIABLE","$processableErrorsList",1330],["T_WHITESPACE"," ",1330],["T_BOOLEAN_OR","||",1330],["T_WHITESPACE"," ",1330],"!",["T_STRING","is_array",1330],"(",["T_VARIABLE","$processableErrorsList",1330],")",")",["T_WHITESPACE"," ",1330],"{",["T_WHITESPACE","\n            ",1330],["T_RETURN","return",1331],["T_WHITESPACE"," ",1331],["T_STRING","false",1331],";",["T_WHITESPACE","\n        ",1331],"}",["T_WHITESPACE","\n\n        ",1332],["T_RETURN","return",1334],["T_WHITESPACE"," ",1334],["T_STRING","in_array",1334],"(",["T_VARIABLE","$errorCode",1334],",",["T_WHITESPACE"," ",1334],["T_VARIABLE","$processableErrorsList",1334],")",";",["T_WHITESPACE","\n    ",1334],"}",["T_WHITESPACE","\n\n    ",1335],["T_DOC_COMMENT","\/**\n     * Extract errors from PayPal's response and return them in array\n     *\n     * @param array $response\n     * @return array\n     *\/",1337],["T_WHITESPACE","\n    ",1342],["T_PROTECTED","protected",1343],["T_WHITESPACE"," ",1343],["T_FUNCTION","function",1343],["T_WHITESPACE"," ",1343],["T_STRING","_extractErrorsFromResponse",1343],"(",["T_VARIABLE","$response",1343],")",["T_WHITESPACE","\n    ",1343],"{",["T_WHITESPACE","\n        ",1344],["T_VARIABLE","$errors",1345],["T_WHITESPACE"," ",1345],"=",["T_WHITESPACE"," ",1345],"[","]",";",["T_WHITESPACE","\n\n        ",1345],["T_FOR","for",1347],["T_WHITESPACE"," ",1347],"(",["T_VARIABLE","$i",1347],["T_WHITESPACE"," ",1347],"=",["T_WHITESPACE"," ",1347],["T_LNUMBER","0",1347],";",["T_WHITESPACE"," ",1347],["T_ISSET","isset",1347],"(",["T_VARIABLE","$response",1347],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_ERRORCODE",1347],["T_CURLY_OPEN","{",1347],["T_VARIABLE","$i",1347],"}","\"","]",")",";",["T_WHITESPACE"," ",1347],["T_VARIABLE","$i",1347],["T_INC","++",1347],")",["T_WHITESPACE"," ",1347],"{",["T_WHITESPACE","\n            ",1347],["T_VARIABLE","$errorCode",1348],["T_WHITESPACE"," ",1348],"=",["T_WHITESPACE"," ",1348],["T_VARIABLE","$response",1348],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_ERRORCODE",1348],["T_CURLY_OPEN","{",1348],["T_VARIABLE","$i",1348],"}","\"","]",";",["T_WHITESPACE","\n            ",1348],["T_VARIABLE","$errorMessage",1349],["T_WHITESPACE"," ",1349],"=",["T_WHITESPACE"," ",1349],["T_VARIABLE","$this",1349],["T_OBJECT_OPERATOR","->",1349],["T_STRING","_formatErrorMessage",1349],"(",["T_WHITESPACE","\n                ",1349],["T_VARIABLE","$errorCode",1350],",",["T_WHITESPACE","\n                ",1350],["T_VARIABLE","$response",1351],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_SHORTMESSAGE",1351],["T_CURLY_OPEN","{",1351],["T_VARIABLE","$i",1351],"}","\"","]",",",["T_WHITESPACE","\n                ",1351],["T_ISSET","isset",1352],"(",["T_VARIABLE","$response",1352],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_LONGMESSAGE",1352],["T_CURLY_OPEN","{",1352],["T_VARIABLE","$i",1352],"}","\"","]",")",["T_WHITESPACE"," ",1352],"?",["T_WHITESPACE"," ",1352],["T_VARIABLE","$response",1352],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_LONGMESSAGE",1352],["T_CURLY_OPEN","{",1352],["T_VARIABLE","$i",1352],"}","\"","]",["T_WHITESPACE"," ",1352],":",["T_WHITESPACE"," ",1352],["T_STRING","null",1352],["T_WHITESPACE","\n            ",1352],")",";",["T_WHITESPACE","\n            ",1353],["T_VARIABLE","$errors",1354],"[","]",["T_WHITESPACE"," ",1354],"=",["T_WHITESPACE"," ",1354],"[",["T_WHITESPACE","\n                ",1354],["T_CONSTANT_ENCAPSED_STRING","'code'",1355],["T_WHITESPACE"," ",1355],["T_DOUBLE_ARROW","=>",1355],["T_WHITESPACE"," ",1355],["T_VARIABLE","$errorCode",1355],",",["T_WHITESPACE","\n                ",1355],["T_CONSTANT_ENCAPSED_STRING","'message'",1356],["T_WHITESPACE"," ",1356],["T_DOUBLE_ARROW","=>",1356],["T_WHITESPACE"," ",1356],["T_VARIABLE","$errorMessage",1356],",",["T_WHITESPACE","\n            ",1356],"]",";",["T_WHITESPACE","\n        ",1357],"}",["T_WHITESPACE","\n\n        ",1358],["T_RETURN","return",1360],["T_WHITESPACE"," ",1360],["T_VARIABLE","$errors",1360],";",["T_WHITESPACE","\n    ",1360],"}",["T_WHITESPACE","\n\n    ",1361],["T_DOC_COMMENT","\/**\n     * Catch success calls and collect warnings\n     *\n     * @param array $response\n     * @return bool success flag\n     *\/",1363],["T_WHITESPACE","\n    ",1368],["T_PROTECTED","protected",1369],["T_WHITESPACE"," ",1369],["T_FUNCTION","function",1369],["T_WHITESPACE"," ",1369],["T_STRING","_isCallSuccessful",1369],"(",["T_VARIABLE","$response",1369],")",["T_WHITESPACE","\n    ",1369],"{",["T_WHITESPACE","\n        ",1370],["T_IF","if",1371],["T_WHITESPACE"," ",1371],"(","!",["T_ISSET","isset",1371],"(",["T_VARIABLE","$response",1371],"[",["T_CONSTANT_ENCAPSED_STRING","'ACK'",1371],"]",")",")",["T_WHITESPACE"," ",1371],"{",["T_WHITESPACE","\n            ",1371],["T_RETURN","return",1372],["T_WHITESPACE"," ",1372],["T_STRING","false",1372],";",["T_WHITESPACE","\n        ",1372],"}",["T_WHITESPACE","\n\n        ",1373],["T_VARIABLE","$ack",1375],["T_WHITESPACE"," ",1375],"=",["T_WHITESPACE"," ",1375],["T_STRING","strtoupper",1375],"(",["T_VARIABLE","$response",1375],"[",["T_CONSTANT_ENCAPSED_STRING","'ACK'",1375],"]",")",";",["T_WHITESPACE","\n        ",1375],["T_VARIABLE","$this",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","_callWarnings",1376],["T_WHITESPACE"," ",1376],"=",["T_WHITESPACE"," ",1376],"[","]",";",["T_WHITESPACE","\n        ",1376],["T_IF","if",1377],["T_WHITESPACE"," ",1377],"(",["T_VARIABLE","$ack",1377],["T_WHITESPACE"," ",1377],["T_IS_EQUAL","==",1377],["T_WHITESPACE"," ",1377],["T_CONSTANT_ENCAPSED_STRING","'SUCCESS'",1377],["T_WHITESPACE"," ",1377],["T_BOOLEAN_OR","||",1377],["T_WHITESPACE"," ",1377],["T_VARIABLE","$ack",1377],["T_WHITESPACE"," ",1377],["T_IS_EQUAL","==",1377],["T_WHITESPACE"," ",1377],["T_CONSTANT_ENCAPSED_STRING","'SUCCESSWITHWARNING'",1377],")",["T_WHITESPACE"," ",1377],"{",["T_WHITESPACE","\n            ",1377],["T_COMMENT","\/\/ collect warnings\n",1378],["T_WHITESPACE","            ",1379],["T_IF","if",1379],["T_WHITESPACE"," ",1379],"(",["T_VARIABLE","$ack",1379],["T_WHITESPACE"," ",1379],["T_IS_EQUAL","==",1379],["T_WHITESPACE"," ",1379],["T_CONSTANT_ENCAPSED_STRING","'SUCCESSWITHWARNING'",1379],")",["T_WHITESPACE"," ",1379],"{",["T_WHITESPACE","\n                ",1379],["T_FOR","for",1380],["T_WHITESPACE"," ",1380],"(",["T_VARIABLE","$i",1380],["T_WHITESPACE"," ",1380],"=",["T_WHITESPACE"," ",1380],["T_LNUMBER","0",1380],";",["T_WHITESPACE"," ",1380],["T_ISSET","isset",1380],"(",["T_VARIABLE","$response",1380],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_ERRORCODE",1380],["T_CURLY_OPEN","{",1380],["T_VARIABLE","$i",1380],"}","\"","]",")",";",["T_WHITESPACE"," ",1380],["T_VARIABLE","$i",1380],["T_INC","++",1380],")",["T_WHITESPACE"," ",1380],"{",["T_WHITESPACE","\n                    ",1380],["T_VARIABLE","$this",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","_callWarnings",1381],"[","]",["T_WHITESPACE"," ",1381],"=",["T_WHITESPACE"," ",1381],["T_VARIABLE","$response",1381],"[","\"",["T_ENCAPSED_AND_WHITESPACE","L_ERRORCODE",1381],["T_CURLY_OPEN","{",1381],["T_VARIABLE","$i",1381],"}","\"","]",";",["T_WHITESPACE","\n                ",1381],"}",["T_WHITESPACE","\n            ",1382],"}",["T_WHITESPACE","\n            ",1383],["T_RETURN","return",1384],["T_WHITESPACE"," ",1384],["T_STRING","true",1384],";",["T_WHITESPACE","\n        ",1384],"}",["T_WHITESPACE","\n        ",1385],["T_RETURN","return",1386],["T_WHITESPACE"," ",1386],["T_STRING","false",1386],";",["T_WHITESPACE","\n    ",1386],"}",["T_WHITESPACE","\n\n    ",1387],["T_DOC_COMMENT","\/**\n     * Validate response array.\n     *\n     * @param string $method\n     * @param array $response\n     * @return bool\n     *\/",1389],["T_WHITESPACE","\n    ",1395],["T_PROTECTED","protected",1396],["T_WHITESPACE"," ",1396],["T_FUNCTION","function",1396],["T_WHITESPACE"," ",1396],["T_STRING","_validateResponse",1396],"(",["T_VARIABLE","$method",1396],",",["T_WHITESPACE"," ",1396],["T_VARIABLE","$response",1396],")",["T_WHITESPACE","\n    ",1396],"{",["T_WHITESPACE","\n        ",1397],["T_IF","if",1398],["T_WHITESPACE"," ",1398],"(",["T_ISSET","isset",1398],"(",["T_VARIABLE","$this",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","_requiredResponseParams",1398],"[",["T_VARIABLE","$method",1398],"]",")",")",["T_WHITESPACE"," ",1398],"{",["T_WHITESPACE","\n            ",1398],["T_FOREACH","foreach",1399],["T_WHITESPACE"," ",1399],"(",["T_VARIABLE","$this",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","_requiredResponseParams",1399],"[",["T_VARIABLE","$method",1399],"]",["T_WHITESPACE"," ",1399],["T_AS","as",1399],["T_WHITESPACE"," ",1399],["T_VARIABLE","$param",1399],")",["T_WHITESPACE"," ",1399],"{",["T_WHITESPACE","\n                ",1399],["T_IF","if",1400],["T_WHITESPACE"," ",1400],"(","!",["T_ISSET","isset",1400],"(",["T_VARIABLE","$response",1400],"[",["T_VARIABLE","$param",1400],"]",")",")",["T_WHITESPACE"," ",1400],"{",["T_WHITESPACE","\n                    ",1400],["T_RETURN","return",1401],["T_WHITESPACE"," ",1401],["T_STRING","false",1401],";",["T_WHITESPACE","\n                ",1401],"}",["T_WHITESPACE","\n            ",1402],"}",["T_WHITESPACE","\n        ",1403],"}",["T_WHITESPACE","\n        ",1404],["T_RETURN","return",1405],["T_WHITESPACE"," ",1405],["T_STRING","true",1405],";",["T_WHITESPACE","\n    ",1405],"}",["T_WHITESPACE","\n\n    ",1406],["T_DOC_COMMENT","\/**\n     * Parse an NVP response string into an associative array\n     * @param string $nvpstr\n     * @return array\n     *\/",1408],["T_WHITESPACE","\n    ",1412],["T_PROTECTED","protected",1413],["T_WHITESPACE"," ",1413],["T_FUNCTION","function",1413],["T_WHITESPACE"," ",1413],["T_STRING","_deformatNVP",1413],"(",["T_VARIABLE","$nvpstr",1413],")",["T_WHITESPACE","\n    ",1413],"{",["T_WHITESPACE","\n        ",1414],["T_VARIABLE","$intial",1415],["T_WHITESPACE"," ",1415],"=",["T_WHITESPACE"," ",1415],["T_LNUMBER","0",1415],";",["T_WHITESPACE","\n        ",1415],["T_VARIABLE","$nvpArray",1416],["T_WHITESPACE"," ",1416],"=",["T_WHITESPACE"," ",1416],"[","]",";",["T_WHITESPACE","\n\n        ",1416],["T_VARIABLE","$nvpstr",1418],["T_WHITESPACE"," ",1418],"=",["T_WHITESPACE"," ",1418],["T_STRING","strpos",1418],"(",["T_VARIABLE","$nvpstr",1418],",",["T_WHITESPACE"," ",1418],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",1418],")",["T_WHITESPACE"," ",1418],["T_IS_NOT_IDENTICAL","!==",1418],["T_WHITESPACE"," ",1418],["T_STRING","false",1418],["T_WHITESPACE"," ",1418],"?",["T_WHITESPACE"," ",1418],["T_STRING","substr",1418],"(",["T_VARIABLE","$nvpstr",1418],",",["T_WHITESPACE"," ",1418],["T_STRING","strpos",1418],"(",["T_VARIABLE","$nvpstr",1418],",",["T_WHITESPACE"," ",1418],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",1418],")",["T_WHITESPACE"," ",1418],"+",["T_WHITESPACE"," ",1418],["T_LNUMBER","4",1418],")",["T_WHITESPACE"," ",1418],":",["T_WHITESPACE"," ",1418],["T_VARIABLE","$nvpstr",1418],";",["T_WHITESPACE","\n\n        ",1418],["T_WHILE","while",1420],["T_WHITESPACE"," ",1420],"(",["T_STRING","strlen",1420],"(",["T_VARIABLE","$nvpstr",1420],")",")",["T_WHITESPACE"," ",1420],"{",["T_WHITESPACE","\n            ",1420],["T_COMMENT","\/\/postion of Key\n",1421],["T_WHITESPACE","            ",1422],["T_VARIABLE","$keypos",1422],["T_WHITESPACE"," ",1422],"=",["T_WHITESPACE"," ",1422],["T_STRING","strpos",1422],"(",["T_VARIABLE","$nvpstr",1422],",",["T_WHITESPACE"," ",1422],["T_CONSTANT_ENCAPSED_STRING","'='",1422],")",";",["T_WHITESPACE","\n            ",1422],["T_COMMENT","\/\/position of value\n",1423],["T_WHITESPACE","            ",1424],["T_VARIABLE","$valuepos",1424],["T_WHITESPACE"," ",1424],"=",["T_WHITESPACE"," ",1424],["T_STRING","strpos",1424],"(",["T_VARIABLE","$nvpstr",1424],",",["T_WHITESPACE"," ",1424],["T_CONSTANT_ENCAPSED_STRING","'&'",1424],")",["T_WHITESPACE"," ",1424],"?",["T_WHITESPACE"," ",1424],["T_STRING","strpos",1424],"(",["T_VARIABLE","$nvpstr",1424],",",["T_WHITESPACE"," ",1424],["T_CONSTANT_ENCAPSED_STRING","'&'",1424],")",["T_WHITESPACE"," ",1424],":",["T_WHITESPACE"," ",1424],["T_STRING","strlen",1424],"(",["T_VARIABLE","$nvpstr",1424],")",";",["T_WHITESPACE","\n\n            ",1424],["T_COMMENT","\/*getting the Key and Value values and storing in a Associative Array*\/",1426],["T_WHITESPACE","\n            ",1426],["T_VARIABLE","$keyval",1427],["T_WHITESPACE"," ",1427],"=",["T_WHITESPACE"," ",1427],["T_STRING","substr",1427],"(",["T_VARIABLE","$nvpstr",1427],",",["T_WHITESPACE"," ",1427],["T_VARIABLE","$intial",1427],",",["T_WHITESPACE"," ",1427],["T_VARIABLE","$keypos",1427],")",";",["T_WHITESPACE","\n            ",1427],["T_VARIABLE","$valval",1428],["T_WHITESPACE"," ",1428],"=",["T_WHITESPACE"," ",1428],["T_STRING","substr",1428],"(",["T_VARIABLE","$nvpstr",1428],",",["T_WHITESPACE"," ",1428],["T_VARIABLE","$keypos",1428],["T_WHITESPACE"," ",1428],"+",["T_WHITESPACE"," ",1428],["T_LNUMBER","1",1428],",",["T_WHITESPACE"," ",1428],["T_VARIABLE","$valuepos",1428],["T_WHITESPACE"," ",1428],"-",["T_WHITESPACE"," ",1428],["T_VARIABLE","$keypos",1428],["T_WHITESPACE"," ",1428],"-",["T_WHITESPACE"," ",1428],["T_LNUMBER","1",1428],")",";",["T_WHITESPACE","\n            ",1428],["T_COMMENT","\/\/decoding the respose\n",1429],["T_WHITESPACE","            ",1430],["T_VARIABLE","$nvpArray",1430],"[",["T_STRING","urldecode",1430],"(",["T_VARIABLE","$keyval",1430],")","]",["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_STRING","urldecode",1430],"(",["T_VARIABLE","$valval",1430],")",";",["T_WHITESPACE","\n            ",1430],["T_VARIABLE","$nvpstr",1431],["T_WHITESPACE"," ",1431],"=",["T_WHITESPACE"," ",1431],["T_STRING","substr",1431],"(",["T_VARIABLE","$nvpstr",1431],",",["T_WHITESPACE"," ",1431],["T_VARIABLE","$valuepos",1431],["T_WHITESPACE"," ",1431],"+",["T_WHITESPACE"," ",1431],["T_LNUMBER","1",1431],",",["T_WHITESPACE"," ",1431],["T_STRING","strlen",1431],"(",["T_VARIABLE","$nvpstr",1431],")",")",";",["T_WHITESPACE","\n        ",1431],"}",["T_WHITESPACE","\n        ",1432],["T_RETURN","return",1433],["T_WHITESPACE"," ",1433],["T_VARIABLE","$nvpArray",1433],";",["T_WHITESPACE","\n    ",1433],"}",["T_WHITESPACE","\n\n    ",1434],["T_DOC_COMMENT","\/**\n     * NVP doesn't support passing discount total as a separate amount - add it as a line item\n     *\n     * @param array $request\n     * @param int $i\n     * @return true|null\n     *\/",1436],["T_WHITESPACE","\n    ",1442],["T_PROTECTED","protected",1443],["T_WHITESPACE"," ",1443],["T_FUNCTION","function",1443],["T_WHITESPACE"," ",1443],["T_STRING","_exportLineItems",1443],"(",["T_ARRAY","array",1443],["T_WHITESPACE"," ",1443],"&",["T_VARIABLE","$request",1443],",",["T_WHITESPACE"," ",1443],["T_VARIABLE","$i",1443],["T_WHITESPACE"," ",1443],"=",["T_WHITESPACE"," ",1443],["T_LNUMBER","0",1443],")",["T_WHITESPACE","\n    ",1443],"{",["T_WHITESPACE","\n        ",1444],["T_IF","if",1445],["T_WHITESPACE"," ",1445],"(","!",["T_VARIABLE","$this",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","_cart",1445],")",["T_WHITESPACE"," ",1445],"{",["T_WHITESPACE","\n            ",1445],["T_RETURN","return",1446],";",["T_WHITESPACE","\n        ",1446],"}",["T_WHITESPACE","\n        ",1447],["T_VARIABLE","$this",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","_cart",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","setTransferDiscountAsItem",1448],"(",")",";",["T_WHITESPACE","\n        ",1448],["T_RETURN","return",1449],["T_WHITESPACE"," ",1449],["T_STRING","parent",1449],["T_DOUBLE_COLON","::",1449],["T_STRING","_exportLineItems",1449],"(",["T_VARIABLE","$request",1449],",",["T_WHITESPACE"," ",1449],["T_VARIABLE","$i",1449],")",";",["T_WHITESPACE","\n    ",1449],"}",["T_WHITESPACE","\n\n    ",1450],["T_DOC_COMMENT","\/**\n     * Create billing and shipping addresses basing on response data\n     *\n     * @param array $data\n     * @return void\n     *\/",1452],["T_WHITESPACE","\n    ",1457],["T_PROTECTED","protected",1458],["T_WHITESPACE"," ",1458],["T_FUNCTION","function",1458],["T_WHITESPACE"," ",1458],["T_STRING","_exportAddressses",1458],"(",["T_VARIABLE","$data",1458],")",["T_WHITESPACE","\n    ",1458],"{",["T_WHITESPACE","\n        ",1459],["T_VARIABLE","$address",1460],["T_WHITESPACE"," ",1460],"=",["T_WHITESPACE"," ",1460],["T_NEW","new",1460],["T_WHITESPACE"," ",1460],["T_NS_SEPARATOR","\\",1460],["T_STRING","Magento",1460],["T_NS_SEPARATOR","\\",1460],["T_STRING","Framework",1460],["T_NS_SEPARATOR","\\",1460],["T_STRING","DataObject",1460],"(",")",";",["T_WHITESPACE","\n        ",1460],["T_NS_SEPARATOR","\\",1461],["T_STRING","Magento",1461],["T_NS_SEPARATOR","\\",1461],["T_STRING","Framework",1461],["T_NS_SEPARATOR","\\",1461],["T_STRING","DataObject",1461],["T_NS_SEPARATOR","\\",1461],["T_STRING","Mapper",1461],["T_DOUBLE_COLON","::",1461],["T_STRING","accumulateByMap",1461],"(",["T_VARIABLE","$data",1461],",",["T_WHITESPACE"," ",1461],["T_VARIABLE","$address",1461],",",["T_WHITESPACE"," ",1461],["T_VARIABLE","$this",1461],["T_OBJECT_OPERATOR","->",1461],["T_STRING","_billingAddressMap",1461],")",";",["T_WHITESPACE","\n        ",1461],["T_VARIABLE","$address",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","setExportedKeys",1462],"(",["T_STRING","array_values",1462],"(",["T_VARIABLE","$this",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","_billingAddressMap",1462],")",")",";",["T_WHITESPACE","\n        ",1462],["T_VARIABLE","$this",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","_applyStreetAndRegionWorkarounds",1463],"(",["T_VARIABLE","$address",1463],")",";",["T_WHITESPACE","\n        ",1463],["T_VARIABLE","$this",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","setExportedBillingAddress",1464],"(",["T_VARIABLE","$address",1464],")",";",["T_WHITESPACE","\n        ",1464],["T_COMMENT","\/\/ assume there is shipping address if there is at least one field specific to shipping\n",1465],["T_WHITESPACE","        ",1466],["T_IF","if",1466],["T_WHITESPACE"," ",1466],"(",["T_ISSET","isset",1466],"(",["T_VARIABLE","$data",1466],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTONAME'",1466],"]",")",")",["T_WHITESPACE"," ",1466],"{",["T_WHITESPACE","\n            ",1466],["T_VARIABLE","$shippingAddress",1467],["T_WHITESPACE"," ",1467],"=",["T_WHITESPACE"," ",1467],["T_CLONE","clone",1467],["T_WHITESPACE"," ",1467],["T_VARIABLE","$address",1467],";",["T_WHITESPACE","\n            ",1467],["T_NS_SEPARATOR","\\",1468],["T_STRING","Magento",1468],["T_NS_SEPARATOR","\\",1468],["T_STRING","Framework",1468],["T_NS_SEPARATOR","\\",1468],["T_STRING","DataObject",1468],["T_NS_SEPARATOR","\\",1468],["T_STRING","Mapper",1468],["T_DOUBLE_COLON","::",1468],["T_STRING","accumulateByMap",1468],"(",["T_VARIABLE","$data",1468],",",["T_WHITESPACE"," ",1468],["T_VARIABLE","$shippingAddress",1468],",",["T_WHITESPACE"," ",1468],["T_VARIABLE","$this",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","_shippingAddressMap",1468],")",";",["T_WHITESPACE","\n            ",1468],["T_VARIABLE","$this",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","_applyStreetAndRegionWorkarounds",1469],"(",["T_VARIABLE","$shippingAddress",1469],")",";",["T_WHITESPACE","\n            ",1469],["T_COMMENT","\/\/ PayPal doesn't provide detailed shipping name fields, so the name will be overwritten\n",1470],["T_WHITESPACE","            ",1471],["T_VARIABLE","$shippingAddress",1471],["T_OBJECT_OPERATOR","->",1471],["T_STRING","addData",1471],"(","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",1471],["T_WHITESPACE","  ",1471],["T_DOUBLE_ARROW","=>",1471],["T_WHITESPACE"," ",1471],["T_VARIABLE","$data",1471],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTONAME'",1471],"]","]",")",";",["T_WHITESPACE","\n            ",1471],["T_VARIABLE","$this",1472],["T_OBJECT_OPERATOR","->",1472],["T_STRING","setExportedShippingAddress",1472],"(",["T_VARIABLE","$shippingAddress",1472],")",";",["T_WHITESPACE","\n        ",1472],"}",["T_WHITESPACE","\n    ",1473],"}",["T_WHITESPACE","\n\n    ",1474],["T_DOC_COMMENT","\/**\n     * Adopt specified address object to be compatible with Magento\n     *\n     * @param \\Magento\\Framework\\DataObject $address\n     * @return void\n     *\/",1476],["T_WHITESPACE","\n    ",1481],["T_PROTECTED","protected",1482],["T_WHITESPACE"," ",1482],["T_FUNCTION","function",1482],["T_WHITESPACE"," ",1482],["T_STRING","_applyStreetAndRegionWorkarounds",1482],"(",["T_NS_SEPARATOR","\\",1482],["T_STRING","Magento",1482],["T_NS_SEPARATOR","\\",1482],["T_STRING","Framework",1482],["T_NS_SEPARATOR","\\",1482],["T_STRING","DataObject",1482],["T_WHITESPACE"," ",1482],["T_VARIABLE","$address",1482],")",["T_WHITESPACE","\n    ",1482],"{",["T_WHITESPACE","\n        ",1483],["T_COMMENT","\/\/ merge street addresses into 1\n",1484],["T_WHITESPACE","        ",1485],["T_IF","if",1485],["T_WHITESPACE"," ",1485],"(",["T_VARIABLE","$address",1485],["T_OBJECT_OPERATOR","->",1485],["T_STRING","hasStreet2",1485],"(",")",")",["T_WHITESPACE"," ",1485],"{",["T_WHITESPACE","\n            ",1485],["T_VARIABLE","$address",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","setStreet",1486],"(",["T_STRING","implode",1486],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",1486],",",["T_WHITESPACE"," ",1486],"[",["T_VARIABLE","$address",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","getStreet",1486],"(",")",",",["T_WHITESPACE"," ",1486],["T_VARIABLE","$address",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","getStreetLine",1486],"(",["T_LNUMBER","2",1486],")","]",")",")",";",["T_WHITESPACE","\n            ",1486],["T_VARIABLE","$address",1487],["T_OBJECT_OPERATOR","->",1487],["T_STRING","unsStreet2",1487],"(",")",";",["T_WHITESPACE","\n        ",1487],"}",["T_WHITESPACE","\n        ",1488],["T_COMMENT","\/\/ attempt to fetch region_id from directory\n",1489],["T_WHITESPACE","        ",1490],["T_IF","if",1490],["T_WHITESPACE"," ",1490],"(",["T_VARIABLE","$address",1490],["T_OBJECT_OPERATOR","->",1490],["T_STRING","getCountryId",1490],"(",")",["T_WHITESPACE"," ",1490],["T_BOOLEAN_AND","&&",1490],["T_WHITESPACE"," ",1490],["T_VARIABLE","$address",1490],["T_OBJECT_OPERATOR","->",1490],["T_STRING","getRegion",1490],"(",")",")",["T_WHITESPACE"," ",1490],"{",["T_WHITESPACE","\n            ",1490],["T_VARIABLE","$regions",1491],["T_WHITESPACE"," ",1491],"=",["T_WHITESPACE"," ",1491],["T_VARIABLE","$this",1491],["T_OBJECT_OPERATOR","->",1491],["T_STRING","_countryFactory",1491],["T_OBJECT_OPERATOR","->",1491],["T_STRING","create",1491],"(",")",["T_OBJECT_OPERATOR","->",1491],["T_STRING","loadByCode",1491],"(",["T_WHITESPACE","\n                ",1491],["T_VARIABLE","$address",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","getCountryId",1492],"(",")",["T_WHITESPACE","\n            ",1492],")",["T_OBJECT_OPERATOR","->",1493],["T_STRING","getRegionCollection",1493],"(",")",["T_OBJECT_OPERATOR","->",1493],["T_STRING","addRegionCodeOrNameFilter",1493],"(",["T_WHITESPACE","\n                ",1493],["T_VARIABLE","$address",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","getRegion",1494],"(",")",["T_WHITESPACE","\n            ",1494],")",["T_OBJECT_OPERATOR","->",1495],["T_STRING","setPageSize",1495],"(",["T_WHITESPACE","\n                ",1495],["T_LNUMBER","1",1496],["T_WHITESPACE","\n            ",1496],")",";",["T_WHITESPACE","\n            ",1497],["T_FOREACH","foreach",1498],["T_WHITESPACE"," ",1498],"(",["T_VARIABLE","$regions",1498],["T_WHITESPACE"," ",1498],["T_AS","as",1498],["T_WHITESPACE"," ",1498],["T_VARIABLE","$region",1498],")",["T_WHITESPACE"," ",1498],"{",["T_WHITESPACE","\n                ",1498],["T_VARIABLE","$address",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","setRegionId",1499],"(",["T_VARIABLE","$region",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","getId",1499],"(",")",")",";",["T_WHITESPACE","\n                ",1499],["T_VARIABLE","$address",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","setExportedKeys",1500],"(",["T_STRING","array_merge",1500],"(",["T_VARIABLE","$address",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","getExportedKeys",1500],"(",")",",",["T_WHITESPACE"," ",1500],"[",["T_CONSTANT_ENCAPSED_STRING","'region_id'",1500],"]",")",")",";",["T_WHITESPACE","\n                ",1500],["T_BREAK","break",1501],";",["T_WHITESPACE","\n            ",1501],"}",["T_WHITESPACE","\n        ",1502],"}",["T_WHITESPACE","\n    ",1503],"}",["T_WHITESPACE","\n\n    ",1504],["T_DOC_COMMENT","\/**\n     * Prepare request data basing on provided addresses\n     *\n     * @param array $to\n     * @return array\n     *\/",1506],["T_WHITESPACE","\n    ",1511],["T_PROTECTED","protected",1512],["T_WHITESPACE"," ",1512],["T_FUNCTION","function",1512],["T_WHITESPACE"," ",1512],["T_STRING","_importAddresses",1512],"(",["T_ARRAY","array",1512],["T_WHITESPACE"," ",1512],["T_VARIABLE","$to",1512],")",["T_WHITESPACE","\n    ",1512],"{",["T_WHITESPACE","\n        ",1513],["T_VARIABLE","$billingAddress",1514],["T_WHITESPACE"," ",1514],"=",["T_WHITESPACE"," ",1514],["T_VARIABLE","$this",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","getBillingAddress",1514],"(",")",["T_WHITESPACE"," ",1514],"?",["T_WHITESPACE"," ",1514],["T_VARIABLE","$this",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","getBillingAddress",1514],"(",")",["T_WHITESPACE"," ",1514],":",["T_WHITESPACE"," ",1514],["T_VARIABLE","$this",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","getAddress",1514],"(",")",";",["T_WHITESPACE","\n        ",1514],["T_VARIABLE","$shippingAddress",1515],["T_WHITESPACE"," ",1515],"=",["T_WHITESPACE"," ",1515],["T_VARIABLE","$this",1515],["T_OBJECT_OPERATOR","->",1515],["T_STRING","getAddress",1515],"(",")",";",["T_WHITESPACE","\n\n        ",1515],["T_VARIABLE","$to",1517],["T_WHITESPACE"," ",1517],"=",["T_WHITESPACE"," ",1517],["T_NS_SEPARATOR","\\",1517],["T_STRING","Magento",1517],["T_NS_SEPARATOR","\\",1517],["T_STRING","Framework",1517],["T_NS_SEPARATOR","\\",1517],["T_STRING","DataObject",1517],["T_NS_SEPARATOR","\\",1517],["T_STRING","Mapper",1517],["T_DOUBLE_COLON","::",1517],["T_STRING","accumulateByMap",1517],"(",["T_WHITESPACE","\n            ",1517],["T_VARIABLE","$billingAddress",1518],",",["T_WHITESPACE","\n            ",1518],["T_VARIABLE","$to",1519],",",["T_WHITESPACE","\n            ",1519],["T_STRING","array_merge",1520],"(",["T_STRING","array_flip",1520],"(",["T_VARIABLE","$this",1520],["T_OBJECT_OPERATOR","->",1520],["T_STRING","_billingAddressMap",1520],")",",",["T_WHITESPACE"," ",1520],["T_VARIABLE","$this",1520],["T_OBJECT_OPERATOR","->",1520],["T_STRING","_billingAddressMapRequest",1520],")",["T_WHITESPACE","\n        ",1520],")",";",["T_WHITESPACE","\n        ",1521],["T_VARIABLE","$regionCode",1522],["T_WHITESPACE"," ",1522],"=",["T_WHITESPACE"," ",1522],["T_VARIABLE","$this",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","_lookupRegionCodeFromAddress",1522],"(",["T_VARIABLE","$billingAddress",1522],")",";",["T_WHITESPACE","\n        ",1522],["T_IF","if",1523],["T_WHITESPACE"," ",1523],"(",["T_VARIABLE","$regionCode",1523],")",["T_WHITESPACE"," ",1523],"{",["T_WHITESPACE","\n            ",1523],["T_VARIABLE","$to",1524],"[",["T_CONSTANT_ENCAPSED_STRING","'STATE'",1524],"]",["T_WHITESPACE"," ",1524],"=",["T_WHITESPACE"," ",1524],["T_VARIABLE","$regionCode",1524],";",["T_WHITESPACE","\n        ",1524],"}",["T_WHITESPACE","\n        ",1525],["T_IF","if",1526],["T_WHITESPACE"," ",1526],"(","!",["T_VARIABLE","$this",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","getSuppressShipping",1526],"(",")",")",["T_WHITESPACE"," ",1526],"{",["T_WHITESPACE","\n            ",1526],["T_VARIABLE","$to",1527],["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_NS_SEPARATOR","\\",1527],["T_STRING","Magento",1527],["T_NS_SEPARATOR","\\",1527],["T_STRING","Framework",1527],["T_NS_SEPARATOR","\\",1527],["T_STRING","DataObject",1527],["T_NS_SEPARATOR","\\",1527],["T_STRING","Mapper",1527],["T_DOUBLE_COLON","::",1527],["T_STRING","accumulateByMap",1527],"(",["T_WHITESPACE","\n                ",1527],["T_VARIABLE","$shippingAddress",1528],",",["T_WHITESPACE","\n                ",1528],["T_VARIABLE","$to",1529],",",["T_WHITESPACE","\n                ",1529],["T_STRING","array_flip",1530],"(",["T_VARIABLE","$this",1530],["T_OBJECT_OPERATOR","->",1530],["T_STRING","_shippingAddressMap",1530],")",["T_WHITESPACE","\n            ",1530],")",";",["T_WHITESPACE","\n            ",1531],["T_VARIABLE","$regionCode",1532],["T_WHITESPACE"," ",1532],"=",["T_WHITESPACE"," ",1532],["T_VARIABLE","$this",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","_lookupRegionCodeFromAddress",1532],"(",["T_VARIABLE","$shippingAddress",1532],")",";",["T_WHITESPACE","\n            ",1532],["T_IF","if",1533],["T_WHITESPACE"," ",1533],"(",["T_VARIABLE","$regionCode",1533],")",["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n                ",1533],["T_VARIABLE","$to",1534],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTATE'",1534],"]",["T_WHITESPACE"," ",1534],"=",["T_WHITESPACE"," ",1534],["T_VARIABLE","$regionCode",1534],";",["T_WHITESPACE","\n            ",1534],"}",["T_WHITESPACE","\n            ",1535],["T_VARIABLE","$this",1536],["T_OBJECT_OPERATOR","->",1536],["T_STRING","_importStreetFromAddress",1536],"(",["T_VARIABLE","$shippingAddress",1536],",",["T_WHITESPACE"," ",1536],["T_VARIABLE","$to",1536],",",["T_WHITESPACE"," ",1536],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET'",1536],",",["T_WHITESPACE"," ",1536],["T_CONSTANT_ENCAPSED_STRING","'SHIPTOSTREET2'",1536],")",";",["T_WHITESPACE","\n            ",1536],["T_VARIABLE","$this",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","_importStreetFromAddress",1537],"(",["T_VARIABLE","$billingAddress",1537],",",["T_WHITESPACE"," ",1537],["T_VARIABLE","$to",1537],",",["T_WHITESPACE"," ",1537],["T_CONSTANT_ENCAPSED_STRING","'STREET'",1537],",",["T_WHITESPACE"," ",1537],["T_CONSTANT_ENCAPSED_STRING","'STREET2'",1537],")",";",["T_WHITESPACE","\n            ",1537],["T_VARIABLE","$to",1538],"[",["T_CONSTANT_ENCAPSED_STRING","'SHIPTONAME'",1538],"]",["T_WHITESPACE"," ",1538],"=",["T_WHITESPACE"," ",1538],["T_VARIABLE","$shippingAddress",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","getName",1538],"(",")",";",["T_WHITESPACE","\n        ",1538],"}",["T_WHITESPACE","\n        ",1539],["T_RETURN","return",1540],["T_WHITESPACE"," ",1540],["T_VARIABLE","$to",1540],";",["T_WHITESPACE","\n    ",1540],"}",["T_WHITESPACE","\n\n    ",1541],["T_DOC_COMMENT","\/**\n     * Filter for credit card type\n     *\n     * @param string $value\n     * @return string\n     *\/",1543],["T_WHITESPACE","\n    ",1548],["T_PROTECTED","protected",1549],["T_WHITESPACE"," ",1549],["T_FUNCTION","function",1549],["T_WHITESPACE"," ",1549],["T_STRING","_filterCcType",1549],"(",["T_VARIABLE","$value",1549],")",["T_WHITESPACE","\n    ",1549],"{",["T_WHITESPACE","\n        ",1550],["T_IF","if",1551],["T_WHITESPACE"," ",1551],"(",["T_ISSET","isset",1551],"(",["T_VARIABLE","$this",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","_supportedCcTypes",1551],"[",["T_VARIABLE","$value",1551],"]",")",")",["T_WHITESPACE"," ",1551],"{",["T_WHITESPACE","\n            ",1551],["T_RETURN","return",1552],["T_WHITESPACE"," ",1552],["T_VARIABLE","$this",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","_supportedCcTypes",1552],"[",["T_VARIABLE","$value",1552],"]",";",["T_WHITESPACE","\n        ",1552],"}",["T_WHITESPACE","\n        ",1553],["T_RETURN","return",1554],["T_WHITESPACE"," ",1554],["T_CONSTANT_ENCAPSED_STRING","''",1554],";",["T_WHITESPACE","\n    ",1554],"}",["T_WHITESPACE","\n\n    ",1555],["T_DOC_COMMENT","\/**\n     * Filter for true\/false values (converts to boolean)\n     *\n     * @param mixed $value\n     * @return bool|mixed\n     *\/",1557],["T_WHITESPACE","\n    ",1562],["T_PROTECTED","protected",1563],["T_WHITESPACE"," ",1563],["T_FUNCTION","function",1563],["T_WHITESPACE"," ",1563],["T_STRING","_filterToBool",1563],"(",["T_VARIABLE","$value",1563],")",["T_WHITESPACE","\n    ",1563],"{",["T_WHITESPACE","\n        ",1564],["T_IF","if",1565],["T_WHITESPACE"," ",1565],"(",["T_CONSTANT_ENCAPSED_STRING","'false'",1565],["T_WHITESPACE"," ",1565],["T_IS_IDENTICAL","===",1565],["T_WHITESPACE"," ",1565],["T_VARIABLE","$value",1565],["T_WHITESPACE"," ",1565],["T_BOOLEAN_OR","||",1565],["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'0'",1565],["T_WHITESPACE"," ",1565],["T_IS_IDENTICAL","===",1565],["T_WHITESPACE"," ",1565],["T_VARIABLE","$value",1565],")",["T_WHITESPACE"," ",1565],"{",["T_WHITESPACE","\n            ",1565],["T_RETURN","return",1566],["T_WHITESPACE"," ",1566],["T_STRING","false",1566],";",["T_WHITESPACE","\n        ",1566],"}",["T_WHITESPACE"," ",1567],["T_ELSEIF","elseif",1567],["T_WHITESPACE"," ",1567],"(",["T_CONSTANT_ENCAPSED_STRING","'true'",1567],["T_WHITESPACE"," ",1567],["T_IS_IDENTICAL","===",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$value",1567],["T_WHITESPACE"," ",1567],["T_BOOLEAN_OR","||",1567],["T_WHITESPACE"," ",1567],["T_CONSTANT_ENCAPSED_STRING","'1'",1567],["T_WHITESPACE"," ",1567],["T_IS_IDENTICAL","===",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$value",1567],")",["T_WHITESPACE"," ",1567],"{",["T_WHITESPACE","\n            ",1567],["T_RETURN","return",1568],["T_WHITESPACE"," ",1568],["T_STRING","true",1568],";",["T_WHITESPACE","\n        ",1568],"}",["T_WHITESPACE","\n        ",1569],["T_RETURN","return",1570],["T_WHITESPACE"," ",1570],["T_VARIABLE","$value",1570],";",["T_WHITESPACE","\n    ",1570],"}",["T_WHITESPACE","\n\n    ",1571],["T_DOC_COMMENT","\/**\n     * Filter for 'AUTOBILLAMT'\n     *\n     * @param string $value\n     * @return string\n     *\/",1573],["T_WHITESPACE","\n    ",1578],["T_PROTECTED","protected",1579],["T_WHITESPACE"," ",1579],["T_FUNCTION","function",1579],["T_WHITESPACE"," ",1579],["T_STRING","_filterBillFailedLater",1579],"(",["T_VARIABLE","$value",1579],")",["T_WHITESPACE","\n    ",1579],"{",["T_WHITESPACE","\n        ",1580],["T_RETURN","return",1581],["T_WHITESPACE"," ",1581],["T_VARIABLE","$value",1581],["T_WHITESPACE"," ",1581],"?",["T_WHITESPACE"," ",1581],["T_CONSTANT_ENCAPSED_STRING","'AddToNextBilling'",1581],["T_WHITESPACE"," ",1581],":",["T_WHITESPACE"," ",1581],["T_CONSTANT_ENCAPSED_STRING","'NoAutoBill'",1581],";",["T_WHITESPACE","\n    ",1581],"}",["T_WHITESPACE","\n\n    ",1582],["T_DOC_COMMENT","\/**\n     * Filter for 'BILLINGPERIOD' and 'TRIALBILLINGPERIOD'\n     *\n     * @param string $value\n     * @return string\n     *\/",1584],["T_WHITESPACE","\n    ",1589],["T_PROTECTED","protected",1590],["T_WHITESPACE"," ",1590],["T_FUNCTION","function",1590],["T_WHITESPACE"," ",1590],["T_STRING","_filterPeriodUnit",1590],"(",["T_VARIABLE","$value",1590],")",["T_WHITESPACE","\n    ",1590],"{",["T_WHITESPACE","\n        ",1591],["T_SWITCH","switch",1592],["T_WHITESPACE"," ",1592],"(",["T_VARIABLE","$value",1592],")",["T_WHITESPACE"," ",1592],"{",["T_WHITESPACE","\n            ",1592],["T_CASE","case",1593],["T_WHITESPACE"," ",1593],["T_CONSTANT_ENCAPSED_STRING","'day'",1593],":",["T_WHITESPACE","\n                ",1593],["T_RETURN","return",1594],["T_WHITESPACE"," ",1594],["T_CONSTANT_ENCAPSED_STRING","'Day'",1594],";",["T_WHITESPACE","\n            ",1594],["T_CASE","case",1595],["T_WHITESPACE"," ",1595],["T_CONSTANT_ENCAPSED_STRING","'week'",1595],":",["T_WHITESPACE","\n                ",1595],["T_RETURN","return",1596],["T_WHITESPACE"," ",1596],["T_CONSTANT_ENCAPSED_STRING","'Week'",1596],";",["T_WHITESPACE","\n            ",1596],["T_CASE","case",1597],["T_WHITESPACE"," ",1597],["T_CONSTANT_ENCAPSED_STRING","'semi_month'",1597],":",["T_WHITESPACE","\n                ",1597],["T_RETURN","return",1598],["T_WHITESPACE"," ",1598],["T_CONSTANT_ENCAPSED_STRING","'SemiMonth'",1598],";",["T_WHITESPACE","\n            ",1598],["T_CASE","case",1599],["T_WHITESPACE"," ",1599],["T_CONSTANT_ENCAPSED_STRING","'month'",1599],":",["T_WHITESPACE","\n                ",1599],["T_RETURN","return",1600],["T_WHITESPACE"," ",1600],["T_CONSTANT_ENCAPSED_STRING","'Month'",1600],";",["T_WHITESPACE","\n            ",1600],["T_CASE","case",1601],["T_WHITESPACE"," ",1601],["T_CONSTANT_ENCAPSED_STRING","'year'",1601],":",["T_WHITESPACE","\n                ",1601],["T_RETURN","return",1602],["T_WHITESPACE"," ",1602],["T_CONSTANT_ENCAPSED_STRING","'Year'",1602],";",["T_WHITESPACE","\n            ",1602],["T_DEFAULT","default",1603],":",["T_WHITESPACE","\n                ",1603],["T_BREAK","break",1604],";",["T_WHITESPACE","\n        ",1604],"}",["T_WHITESPACE","\n    ",1605],"}",["T_WHITESPACE","\n\n    ",1606],["T_DOC_COMMENT","\/**\n     * Filter for 'FAILEDINITAMTACTION'\n     *\n     * @param string $value\n     * @return string\n     *\/",1608],["T_WHITESPACE","\n    ",1613],["T_PROTECTED","protected",1614],["T_WHITESPACE"," ",1614],["T_FUNCTION","function",1614],["T_WHITESPACE"," ",1614],["T_STRING","_filterInitialAmountMayFail",1614],"(",["T_VARIABLE","$value",1614],")",["T_WHITESPACE","\n    ",1614],"{",["T_WHITESPACE","\n        ",1615],["T_RETURN","return",1616],["T_WHITESPACE"," ",1616],["T_VARIABLE","$value",1616],["T_WHITESPACE"," ",1616],"?",["T_WHITESPACE"," ",1616],["T_CONSTANT_ENCAPSED_STRING","'ContinueOnFailure'",1616],["T_WHITESPACE"," ",1616],":",["T_WHITESPACE"," ",1616],["T_CONSTANT_ENCAPSED_STRING","'CancelOnFailure'",1616],";",["T_WHITESPACE","\n    ",1616],"}",["T_WHITESPACE","\n\n    ",1617],["T_DOC_COMMENT","\/**\n     * Filter for billing agreement status\n     *\n     * @param string $value\n     * @return string\n     *\/",1619],["T_WHITESPACE","\n    ",1624],["T_PROTECTED","protected",1625],["T_WHITESPACE"," ",1625],["T_FUNCTION","function",1625],["T_WHITESPACE"," ",1625],["T_STRING","_filterBillingAgreementStatus",1625],"(",["T_VARIABLE","$value",1625],")",["T_WHITESPACE","\n    ",1625],"{",["T_WHITESPACE","\n        ",1626],["T_SWITCH","switch",1627],["T_WHITESPACE"," ",1627],"(",["T_VARIABLE","$value",1627],")",["T_WHITESPACE"," ",1627],"{",["T_WHITESPACE","\n            ",1627],["T_CASE","case",1628],["T_WHITESPACE"," ",1628],["T_CONSTANT_ENCAPSED_STRING","'canceled'",1628],":",["T_WHITESPACE","\n                ",1628],["T_RETURN","return",1629],["T_WHITESPACE"," ",1629],["T_CONSTANT_ENCAPSED_STRING","'Canceled'",1629],";",["T_WHITESPACE","\n            ",1629],["T_CASE","case",1630],["T_WHITESPACE"," ",1630],["T_CONSTANT_ENCAPSED_STRING","'active'",1630],":",["T_WHITESPACE","\n                ",1630],["T_RETURN","return",1631],["T_WHITESPACE"," ",1631],["T_CONSTANT_ENCAPSED_STRING","'Active'",1631],";",["T_WHITESPACE","\n            ",1631],["T_DEFAULT","default",1632],":",["T_WHITESPACE","\n                ",1632],["T_BREAK","break",1633],";",["T_WHITESPACE","\n        ",1633],"}",["T_WHITESPACE","\n    ",1634],"}",["T_WHITESPACE","\n\n    ",1635],["T_DOC_COMMENT","\/**\n     * Convert payment status from NVP format to paypal\/info model format\n     *\n     * @param string $value\n     * @return string|null\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",1637],["T_WHITESPACE","\n    ",1643],["T_PROTECTED","protected",1644],["T_WHITESPACE"," ",1644],["T_FUNCTION","function",1644],["T_WHITESPACE"," ",1644],["T_STRING","_filterPaymentStatusFromNvpToInfo",1644],"(",["T_VARIABLE","$value",1644],")",["T_WHITESPACE","\n    ",1644],"{",["T_WHITESPACE","\n        ",1645],["T_SWITCH","switch",1646],["T_WHITESPACE"," ",1646],"(",["T_VARIABLE","$value",1646],")",["T_WHITESPACE"," ",1646],"{",["T_WHITESPACE","\n            ",1646],["T_CASE","case",1647],["T_WHITESPACE"," ",1647],["T_CONSTANT_ENCAPSED_STRING","'None'",1647],":",["T_WHITESPACE","\n                ",1647],["T_RETURN","return",1648],["T_WHITESPACE"," ",1648],["T_NS_SEPARATOR","\\",1648],["T_STRING","Magento",1648],["T_NS_SEPARATOR","\\",1648],["T_STRING","Paypal",1648],["T_NS_SEPARATOR","\\",1648],["T_STRING","Model",1648],["T_NS_SEPARATOR","\\",1648],["T_STRING","Info",1648],["T_DOUBLE_COLON","::",1648],["T_STRING","PAYMENTSTATUS_NONE",1648],";",["T_WHITESPACE","\n            ",1648],["T_CASE","case",1649],["T_WHITESPACE"," ",1649],["T_CONSTANT_ENCAPSED_STRING","'Completed'",1649],":",["T_WHITESPACE","\n                ",1649],["T_RETURN","return",1650],["T_WHITESPACE"," ",1650],["T_NS_SEPARATOR","\\",1650],["T_STRING","Magento",1650],["T_NS_SEPARATOR","\\",1650],["T_STRING","Paypal",1650],["T_NS_SEPARATOR","\\",1650],["T_STRING","Model",1650],["T_NS_SEPARATOR","\\",1650],["T_STRING","Info",1650],["T_DOUBLE_COLON","::",1650],["T_STRING","PAYMENTSTATUS_COMPLETED",1650],";",["T_WHITESPACE","\n            ",1650],["T_CASE","case",1651],["T_WHITESPACE"," ",1651],["T_CONSTANT_ENCAPSED_STRING","'Denied'",1651],":",["T_WHITESPACE","\n                ",1651],["T_RETURN","return",1652],["T_WHITESPACE"," ",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Magento",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Paypal",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Model",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Info",1652],["T_DOUBLE_COLON","::",1652],["T_STRING","PAYMENTSTATUS_DENIED",1652],";",["T_WHITESPACE","\n            ",1652],["T_CASE","case",1653],["T_WHITESPACE"," ",1653],["T_CONSTANT_ENCAPSED_STRING","'Expired'",1653],":",["T_WHITESPACE","\n                ",1653],["T_RETURN","return",1654],["T_WHITESPACE"," ",1654],["T_NS_SEPARATOR","\\",1654],["T_STRING","Magento",1654],["T_NS_SEPARATOR","\\",1654],["T_STRING","Paypal",1654],["T_NS_SEPARATOR","\\",1654],["T_STRING","Model",1654],["T_NS_SEPARATOR","\\",1654],["T_STRING","Info",1654],["T_DOUBLE_COLON","::",1654],["T_STRING","PAYMENTSTATUS_EXPIRED",1654],";",["T_WHITESPACE","\n            ",1654],["T_CASE","case",1655],["T_WHITESPACE"," ",1655],["T_CONSTANT_ENCAPSED_STRING","'Failed'",1655],":",["T_WHITESPACE","\n                ",1655],["T_RETURN","return",1656],["T_WHITESPACE"," ",1656],["T_NS_SEPARATOR","\\",1656],["T_STRING","Magento",1656],["T_NS_SEPARATOR","\\",1656],["T_STRING","Paypal",1656],["T_NS_SEPARATOR","\\",1656],["T_STRING","Model",1656],["T_NS_SEPARATOR","\\",1656],["T_STRING","Info",1656],["T_DOUBLE_COLON","::",1656],["T_STRING","PAYMENTSTATUS_FAILED",1656],";",["T_WHITESPACE","\n            ",1656],["T_CASE","case",1657],["T_WHITESPACE"," ",1657],["T_CONSTANT_ENCAPSED_STRING","'In-Progress'",1657],":",["T_WHITESPACE","\n                ",1657],["T_RETURN","return",1658],["T_WHITESPACE"," ",1658],["T_NS_SEPARATOR","\\",1658],["T_STRING","Magento",1658],["T_NS_SEPARATOR","\\",1658],["T_STRING","Paypal",1658],["T_NS_SEPARATOR","\\",1658],["T_STRING","Model",1658],["T_NS_SEPARATOR","\\",1658],["T_STRING","Info",1658],["T_DOUBLE_COLON","::",1658],["T_STRING","PAYMENTSTATUS_INPROGRESS",1658],";",["T_WHITESPACE","\n            ",1658],["T_CASE","case",1659],["T_WHITESPACE"," ",1659],["T_CONSTANT_ENCAPSED_STRING","'Pending'",1659],":",["T_WHITESPACE","\n                ",1659],["T_RETURN","return",1660],["T_WHITESPACE"," ",1660],["T_NS_SEPARATOR","\\",1660],["T_STRING","Magento",1660],["T_NS_SEPARATOR","\\",1660],["T_STRING","Paypal",1660],["T_NS_SEPARATOR","\\",1660],["T_STRING","Model",1660],["T_NS_SEPARATOR","\\",1660],["T_STRING","Info",1660],["T_DOUBLE_COLON","::",1660],["T_STRING","PAYMENTSTATUS_PENDING",1660],";",["T_WHITESPACE","\n            ",1660],["T_CASE","case",1661],["T_WHITESPACE"," ",1661],["T_CONSTANT_ENCAPSED_STRING","'Refunded'",1661],":",["T_WHITESPACE","\n                ",1661],["T_RETURN","return",1662],["T_WHITESPACE"," ",1662],["T_NS_SEPARATOR","\\",1662],["T_STRING","Magento",1662],["T_NS_SEPARATOR","\\",1662],["T_STRING","Paypal",1662],["T_NS_SEPARATOR","\\",1662],["T_STRING","Model",1662],["T_NS_SEPARATOR","\\",1662],["T_STRING","Info",1662],["T_DOUBLE_COLON","::",1662],["T_STRING","PAYMENTSTATUS_REFUNDED",1662],";",["T_WHITESPACE","\n            ",1662],["T_CASE","case",1663],["T_WHITESPACE"," ",1663],["T_CONSTANT_ENCAPSED_STRING","'Partially-Refunded'",1663],":",["T_WHITESPACE","\n                ",1663],["T_RETURN","return",1664],["T_WHITESPACE"," ",1664],["T_NS_SEPARATOR","\\",1664],["T_STRING","Magento",1664],["T_NS_SEPARATOR","\\",1664],["T_STRING","Paypal",1664],["T_NS_SEPARATOR","\\",1664],["T_STRING","Model",1664],["T_NS_SEPARATOR","\\",1664],["T_STRING","Info",1664],["T_DOUBLE_COLON","::",1664],["T_STRING","PAYMENTSTATUS_REFUNDEDPART",1664],";",["T_WHITESPACE","\n            ",1664],["T_CASE","case",1665],["T_WHITESPACE"," ",1665],["T_CONSTANT_ENCAPSED_STRING","'Reversed'",1665],":",["T_WHITESPACE","\n                ",1665],["T_RETURN","return",1666],["T_WHITESPACE"," ",1666],["T_NS_SEPARATOR","\\",1666],["T_STRING","Magento",1666],["T_NS_SEPARATOR","\\",1666],["T_STRING","Paypal",1666],["T_NS_SEPARATOR","\\",1666],["T_STRING","Model",1666],["T_NS_SEPARATOR","\\",1666],["T_STRING","Info",1666],["T_DOUBLE_COLON","::",1666],["T_STRING","PAYMENTSTATUS_REVERSED",1666],";",["T_WHITESPACE","\n            ",1666],["T_CASE","case",1667],["T_WHITESPACE"," ",1667],["T_CONSTANT_ENCAPSED_STRING","'Canceled-Reversal'",1667],":",["T_WHITESPACE","\n                ",1667],["T_RETURN","return",1668],["T_WHITESPACE"," ",1668],["T_NS_SEPARATOR","\\",1668],["T_STRING","Magento",1668],["T_NS_SEPARATOR","\\",1668],["T_STRING","Paypal",1668],["T_NS_SEPARATOR","\\",1668],["T_STRING","Model",1668],["T_NS_SEPARATOR","\\",1668],["T_STRING","Info",1668],["T_DOUBLE_COLON","::",1668],["T_STRING","PAYMENTSTATUS_UNREVERSED",1668],";",["T_WHITESPACE","\n            ",1668],["T_CASE","case",1669],["T_WHITESPACE"," ",1669],["T_CONSTANT_ENCAPSED_STRING","'Processed'",1669],":",["T_WHITESPACE","\n                ",1669],["T_RETURN","return",1670],["T_WHITESPACE"," ",1670],["T_NS_SEPARATOR","\\",1670],["T_STRING","Magento",1670],["T_NS_SEPARATOR","\\",1670],["T_STRING","Paypal",1670],["T_NS_SEPARATOR","\\",1670],["T_STRING","Model",1670],["T_NS_SEPARATOR","\\",1670],["T_STRING","Info",1670],["T_DOUBLE_COLON","::",1670],["T_STRING","PAYMENTSTATUS_PROCESSED",1670],";",["T_WHITESPACE","\n            ",1670],["T_CASE","case",1671],["T_WHITESPACE"," ",1671],["T_CONSTANT_ENCAPSED_STRING","'Voided'",1671],":",["T_WHITESPACE","\n                ",1671],["T_RETURN","return",1672],["T_WHITESPACE"," ",1672],["T_NS_SEPARATOR","\\",1672],["T_STRING","Magento",1672],["T_NS_SEPARATOR","\\",1672],["T_STRING","Paypal",1672],["T_NS_SEPARATOR","\\",1672],["T_STRING","Model",1672],["T_NS_SEPARATOR","\\",1672],["T_STRING","Info",1672],["T_DOUBLE_COLON","::",1672],["T_STRING","PAYMENTSTATUS_VOIDED",1672],";",["T_WHITESPACE","\n            ",1672],["T_DEFAULT","default",1673],":",["T_WHITESPACE","\n                ",1673],["T_BREAK","break",1674],";",["T_WHITESPACE","\n        ",1674],"}",["T_WHITESPACE","\n    ",1675],"}",["T_WHITESPACE","\n\n    ",1676],["T_DOC_COMMENT","\/**\n     * Convert payment review action to NVP-compatible value\n     *\n     * @param string $value\n     * @return string|null\n     *\/",1678],["T_WHITESPACE","\n    ",1683],["T_PROTECTED","protected",1684],["T_WHITESPACE"," ",1684],["T_FUNCTION","function",1684],["T_WHITESPACE"," ",1684],["T_STRING","_filterPaymentReviewAction",1684],"(",["T_VARIABLE","$value",1684],")",["T_WHITESPACE","\n    ",1684],"{",["T_WHITESPACE","\n        ",1685],["T_SWITCH","switch",1686],["T_WHITESPACE"," ",1686],"(",["T_VARIABLE","$value",1686],")",["T_WHITESPACE"," ",1686],"{",["T_WHITESPACE","\n            ",1686],["T_CASE","case",1687],["T_WHITESPACE"," ",1687],["T_NS_SEPARATOR","\\",1687],["T_STRING","Magento",1687],["T_NS_SEPARATOR","\\",1687],["T_STRING","Paypal",1687],["T_NS_SEPARATOR","\\",1687],["T_STRING","Model",1687],["T_NS_SEPARATOR","\\",1687],["T_STRING","Pro",1687],["T_DOUBLE_COLON","::",1687],["T_STRING","PAYMENT_REVIEW_ACCEPT",1687],":",["T_WHITESPACE","\n                ",1687],["T_RETURN","return",1688],["T_WHITESPACE"," ",1688],["T_CONSTANT_ENCAPSED_STRING","'Accept'",1688],";",["T_WHITESPACE","\n            ",1688],["T_CASE","case",1689],["T_WHITESPACE"," ",1689],["T_NS_SEPARATOR","\\",1689],["T_STRING","Magento",1689],["T_NS_SEPARATOR","\\",1689],["T_STRING","Paypal",1689],["T_NS_SEPARATOR","\\",1689],["T_STRING","Model",1689],["T_NS_SEPARATOR","\\",1689],["T_STRING","Pro",1689],["T_DOUBLE_COLON","::",1689],["T_STRING","PAYMENT_REVIEW_DENY",1689],":",["T_WHITESPACE","\n                ",1689],["T_RETURN","return",1690],["T_WHITESPACE"," ",1690],["T_CONSTANT_ENCAPSED_STRING","'Deny'",1690],";",["T_WHITESPACE","\n            ",1690],["T_DEFAULT","default",1691],":",["T_WHITESPACE","\n                ",1691],["T_BREAK","break",1692],";",["T_WHITESPACE","\n        ",1692],"}",["T_WHITESPACE","\n    ",1693],"}",["T_WHITESPACE","\n\n    ",1694],["T_DOC_COMMENT","\/**\n     * Return capture type\n     *\n     * @return string\n     *\/",1696],["T_WHITESPACE","\n    ",1700],["T_PROTECTED","protected",1701],["T_WHITESPACE"," ",1701],["T_FUNCTION","function",1701],["T_WHITESPACE"," ",1701],["T_STRING","_getCaptureCompleteType",1701],"(",")",["T_WHITESPACE","\n    ",1701],"{",["T_WHITESPACE","\n        ",1702],["T_RETURN","return",1703],["T_WHITESPACE"," ",1703],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","getIsCaptureComplete",1703],"(",")",["T_WHITESPACE"," ",1703],"?",["T_WHITESPACE"," ",1703],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","_captureTypeComplete",1703],["T_WHITESPACE"," ",1703],":",["T_WHITESPACE"," ",1703],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","_captureTypeNotcomplete",1703],";",["T_WHITESPACE","\n    ",1703],"}",["T_WHITESPACE","\n\n    ",1704],["T_DOC_COMMENT","\/**\n     * Return each call request without unused fields in case of Express Checkout Unilateral payments\n     *\n     * @param string $methodName Current method name\n     * @return array\n     *\/",1706],["T_WHITESPACE","\n    ",1711],["T_PROTECTED","protected",1712],["T_WHITESPACE"," ",1712],["T_FUNCTION","function",1712],["T_WHITESPACE"," ",1712],["T_STRING","_prepareEachCallRequest",1712],"(",["T_VARIABLE","$methodName",1712],")",["T_WHITESPACE","\n    ",1712],"{",["T_WHITESPACE","\n        ",1713],["T_VARIABLE","$expressCheckoutMethods",1714],["T_WHITESPACE"," ",1714],"=",["T_WHITESPACE"," ",1714],"[",["T_WHITESPACE","\n            ",1714],["T_STRING","self",1715],["T_DOUBLE_COLON","::",1715],["T_STRING","SET_EXPRESS_CHECKOUT",1715],",",["T_WHITESPACE","\n            ",1715],["T_STRING","self",1716],["T_DOUBLE_COLON","::",1716],["T_STRING","GET_EXPRESS_CHECKOUT_DETAILS",1716],",",["T_WHITESPACE","\n            ",1716],["T_STRING","self",1717],["T_DOUBLE_COLON","::",1717],["T_STRING","DO_EXPRESS_CHECKOUT_PAYMENT",1717],",",["T_WHITESPACE","\n        ",1717],"]",";",["T_WHITESPACE","\n        ",1718],["T_IF","if",1719],["T_WHITESPACE"," ",1719],"(","!",["T_STRING","in_array",1719],"(",["T_VARIABLE","$methodName",1719],",",["T_WHITESPACE"," ",1719],["T_VARIABLE","$expressCheckoutMethods",1719],")",["T_WHITESPACE"," ",1719],["T_BOOLEAN_OR","||",1719],["T_WHITESPACE"," ",1719],"!",["T_VARIABLE","$this",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","_config",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","shouldUseUnilateralPayments",1719],"(",")",")",["T_WHITESPACE"," ",1719],"{",["T_WHITESPACE","\n            ",1719],["T_RETURN","return",1720],["T_WHITESPACE"," ",1720],["T_VARIABLE","$this",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","_eachCallRequest",1720],";",["T_WHITESPACE","\n        ",1720],"}",["T_WHITESPACE","\n        ",1721],["T_RETURN","return",1722],["T_WHITESPACE"," ",1722],["T_STRING","array_diff",1722],"(",["T_VARIABLE","$this",1722],["T_OBJECT_OPERATOR","->",1722],["T_STRING","_eachCallRequest",1722],",",["T_WHITESPACE"," ",1722],"[",["T_CONSTANT_ENCAPSED_STRING","'USER'",1722],",",["T_WHITESPACE"," ",1722],["T_CONSTANT_ENCAPSED_STRING","'PWD'",1722],",",["T_WHITESPACE"," ",1722],["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE'",1722],"]",")",";",["T_WHITESPACE","\n    ",1722],"}",["T_WHITESPACE","\n\n    ",1723],["T_DOC_COMMENT","\/**\n     * Check the EC request against unilateral payments mode and remove the SUBJECT if needed\n     *\n     * @param &array $requestFields\n     * @return void\n     *\/",1725],["T_WHITESPACE","\n    ",1730],["T_PROTECTED","protected",1731],["T_WHITESPACE"," ",1731],["T_FUNCTION","function",1731],["T_WHITESPACE"," ",1731],["T_STRING","_prepareExpressCheckoutCallRequest",1731],"(","&",["T_VARIABLE","$requestFields",1731],")",["T_WHITESPACE","\n    ",1731],"{",["T_WHITESPACE","\n        ",1732],["T_IF","if",1733],["T_WHITESPACE"," ",1733],"(","!",["T_VARIABLE","$this",1733],["T_OBJECT_OPERATOR","->",1733],["T_STRING","_config",1733],["T_OBJECT_OPERATOR","->",1733],["T_STRING","shouldUseUnilateralPayments",1733],"(",")",")",["T_WHITESPACE"," ",1733],"{",["T_WHITESPACE","\n            ",1733],["T_VARIABLE","$key",1734],["T_WHITESPACE"," ",1734],"=",["T_WHITESPACE"," ",1734],["T_STRING","array_search",1734],"(",["T_CONSTANT_ENCAPSED_STRING","'SUBJECT'",1734],",",["T_WHITESPACE"," ",1734],["T_VARIABLE","$requestFields",1734],")",";",["T_WHITESPACE","\n            ",1734],["T_IF","if",1735],["T_WHITESPACE"," ",1735],"(",["T_VARIABLE","$key",1735],")",["T_WHITESPACE"," ",1735],"{",["T_WHITESPACE","\n                ",1735],["T_UNSET","unset",1736],"(",["T_VARIABLE","$requestFields",1736],"[",["T_VARIABLE","$key",1736],"]",")",";",["T_WHITESPACE","\n            ",1736],"}",["T_WHITESPACE","\n        ",1737],"}",["T_WHITESPACE","\n    ",1738],"}",["T_WHITESPACE","\n",1739],"}",["T_WHITESPACE","\n",1740]]