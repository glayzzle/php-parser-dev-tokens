[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Paypal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Billing",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Agreement",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResultFactory",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","ReturnWizard",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Paypal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Controller",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Billing",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Agreement",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Wizard return action\n     *\n     * @return \\Magento\\Framework\\Controller\\Result\\Redirect\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","execute",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_DOC_COMMENT","\/** @var \\Magento\\Paypal\\Model\\Billing\\Agreement $agreement *\/",20],["T_WHITESPACE","\n        ",20],["T_VARIABLE","$agreement",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","_objectManager",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","create",21],"(",["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Paypal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Billing",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Agreement",21],["T_DOUBLE_COLON","::",21],["T_CLASS","class",21],")",";",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$paymentCode",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getRequest",22],"(",")",["T_OBJECT_OPERATOR","->",22],["T_STRING","getParam",22],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",22],")",";",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$token",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getRequest",23],"(",")",["T_OBJECT_OPERATOR","->",23],["T_STRING","getParam",23],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",23],")",";",["T_WHITESPACE","\n\n        ",23],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect $resultRedirect *\/",25],["T_WHITESPACE","\n        ",25],["T_VARIABLE","$resultRedirect",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","resultFactory",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","create",26],"(",["T_STRING","ResultFactory",26],["T_DOUBLE_COLON","::",26],["T_STRING","TYPE_REDIRECT",26],")",";",["T_WHITESPACE","\n\n        ",26],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_VARIABLE","$token",28],["T_WHITESPACE"," ",28],["T_BOOLEAN_AND","&&",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$paymentCode",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_TRY","try",29],["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n                ",29],["T_VARIABLE","$agreement",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","setStoreId",30],"(",["T_WHITESPACE","\n                    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","_objectManager",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","get",31],"(",["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Store",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","StoreManager",31],["T_DOUBLE_COLON","::",31],["T_CLASS","class",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","getStore",31],"(",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","getId",31],"(",")",["T_WHITESPACE","\n                ",31],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","setToken",32],"(",["T_WHITESPACE","\n                    ",32],["T_VARIABLE","$token",33],["T_WHITESPACE","\n                ",33],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","setMethodCode",34],"(",["T_WHITESPACE","\n                    ",34],["T_VARIABLE","$paymentCode",35],["T_WHITESPACE","\n                ",35],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","setCustomerId",36],"(",["T_WHITESPACE","\n                    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","_getSession",37],"(",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getCustomerId",37],"(",")",["T_WHITESPACE","\n                ",37],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","place",38],"(",")",";",["T_WHITESPACE","\n\n                ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","messageManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","addSuccessMessage",40],"(",["T_WHITESPACE","\n                    ",40],["T_STRING","__",41],"(",["T_CONSTANT_ENCAPSED_STRING","'The billing agreement \"%1\" has been created.'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$agreement",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getReferenceId",41],"(",")",")",["T_WHITESPACE","\n                ",41],")",";",["T_WHITESPACE","\n                ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$resultRedirect",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setPath",43],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/view'",43],",",["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'agreement'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$agreement",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getId",43],"(",")","]",")",";",["T_WHITESPACE","\n            ",43],"}",["T_WHITESPACE"," ",44],["T_CATCH","catch",44],["T_WHITESPACE"," ",44],"(",["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Exception",44],["T_NS_SEPARATOR","\\",44],["T_STRING","LocalizedException",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$e",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n                ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","messageManager",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","addExceptionMessage",45],"(",["T_WHITESPACE","\n                    ",45],["T_VARIABLE","$e",46],",",["T_WHITESPACE","\n                    ",46],["T_VARIABLE","$e",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMessage",47],"(",")",["T_WHITESPACE","\n                ",47],")",";",["T_WHITESPACE","\n            ",48],"}",["T_WHITESPACE"," ",49],["T_CATCH","catch",49],["T_WHITESPACE"," ",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Exception",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$e",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","messageManager",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","addExceptionMessage",50],"(",["T_WHITESPACE","\n                    ",50],["T_VARIABLE","$e",51],",",["T_WHITESPACE","\n                    ",51],["T_STRING","__",52],"(",["T_CONSTANT_ENCAPSED_STRING","'We couldn\\'t finish the billing agreement wizard.'",52],")",["T_WHITESPACE","\n                ",52],")",";",["T_WHITESPACE","\n            ",53],"}",["T_WHITESPACE","\n\n            ",54],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$resultRedirect",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setPath",56],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/index'",56],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n",58],"}",["T_WHITESPACE","\n",59]]