[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Paypal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Payflow",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Checkout",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Onepage",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Success",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Checkout",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Http",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","View",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ViewInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","View",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LayoutInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Paypal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Controller",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Payflow",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ReturnUrl",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Paypal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Controller",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Payflowadvanced",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ReturnUrl",16],["T_WHITESPACE"," ",16],["T_AS","as",16],["T_WHITESPACE"," ",16],["T_STRING","PayflowadvancedReturnUrl",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Paypal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Helper",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Checkout",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Sales",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Order",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Sales",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Order",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Payment",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Psr",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Log",20],["T_NS_SEPARATOR","\\",20],["T_STRING","LoggerInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Paypal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Config",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Framework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","App",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Action",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Context",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Sales",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","OrderFactory",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Paypal",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","PayflowlinkFactory",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Class ReturnUrlTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",26],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","ReturnUrlTest",31],["T_WHITESPACE"," ",31],["T_EXTENDS","extends",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","PHPUnit_Framework_TestCase",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * @var ReturnUrl\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$returnUrl",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var Context|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$contextMock",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var View|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$viewMock",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var Http|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$requestMock",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var Session|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$checkoutSessionMock",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var OrderFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$orderFactoryMock",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var PayflowlinkFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$payflowlinkFactoryMock",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var Checkout|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$helperCheckoutMock",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var LoggerInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$loggerMock",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var Success|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$blockMock",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @var LayoutInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$layoutMock",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var Order|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$orderMock",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @var Payment|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$paymentMock",96],";",["T_WHITESPACE","\n\n    ",96],["T_CONST","const",98],["T_WHITESPACE"," ",98],["T_STRING","LAST_REAL_ORDER_ID",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'000000001'",98],";",["T_WHITESPACE","\n\n    ",98],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","setUp",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","contextMock",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMock",102],"(",["T_STRING","Context",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],",",["T_WHITESPACE"," ",102],"[","]",",",["T_WHITESPACE"," ",102],"[","]",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_STRING","false",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","viewMock",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",["T_STRING","ViewInterface",103],["T_DOUBLE_COLON","::",103],["T_CLASS","class",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","requestMock",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",["T_STRING","Http",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'getParam'",104],"]",",",["T_WHITESPACE"," ",104],"[","]",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","''",104],",",["T_WHITESPACE"," ",104],["T_STRING","false",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","layoutMock",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMock",105],"(",["T_STRING","LayoutInterface",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","blockMock",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMockBuilder",107],"(",["T_STRING","Success",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","disableOriginalConstructor",108],"(",")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMock",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","orderFactoryMock",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",["T_STRING","OrderFactory",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],",",["T_WHITESPACE"," ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",110],"]",",",["T_WHITESPACE"," ",110],"[","]",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],",",["T_WHITESPACE"," ",110],["T_STRING","false",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","payflowlinkFactoryMock",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMock",111],"(",["T_STRING","PayflowlinkFactory",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],",",["T_WHITESPACE"," ",111],"[","]",",",["T_WHITESPACE"," ",111],"[","]",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],",",["T_WHITESPACE"," ",111],["T_STRING","false",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","helperCheckoutMock",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMock",112],"(",["T_STRING","Checkout",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],",",["T_WHITESPACE"," ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'cancelCurrentOrder'",112],"]",",",["T_WHITESPACE"," ",112],"[","]",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],",",["T_WHITESPACE"," ",112],["T_STRING","false",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","loggerMock",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getMockForAbstractClass",113],"(",["T_STRING","LoggerInterface",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","orderMock",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMockBuilder",115],"(",["T_STRING","Order",115],["T_DOUBLE_COLON","::",115],["T_CLASS","class",115],")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","disableOriginalConstructor",116],"(",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMock",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","paymentMock",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMockBuilder",119],"(",["T_STRING","Payment",119],["T_DOUBLE_COLON","::",119],["T_CLASS","class",119],")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","disableOriginalConstructor",120],"(",")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMock",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","orderMock",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","expects",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","any",122],"(",")",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","will",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","returnValue",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","paymentMock",122],")",")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","checkoutSessionMock",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMockBuilder",125],"(",["T_STRING","Session",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","setMethods",126],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getLastRealOrderId'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'getLastRealOrder'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'restoreQuote'",126],"]",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","disableOriginalConstructor",127],"(",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMock",128],"(",")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","contextMock",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","expects",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","any",130],"(",")",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'getView'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","will",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","returnValue",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","viewMock",130],")",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","contextMock",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","any",131],"(",")",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","method",131],"(",["T_CONSTANT_ENCAPSED_STRING","'getRequest'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","will",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","returnValue",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","requestMock",131],")",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","returnUrl",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","ReturnUrl",133],"(",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","contextMock",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","checkoutSessionMock",135],",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","orderFactoryMock",136],",",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","payflowlinkFactoryMock",137],",",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","helperCheckoutMock",138],",",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","loggerMock",139],["T_WHITESPACE","\n        ",139],")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",143],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","allowedOrderStateDataProvider",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],"[",["T_WHITESPACE","\n            ",148],"[",["T_STRING","Order",149],["T_DOUBLE_COLON","::",149],["T_STRING","STATE_PROCESSING",149],"]",",",["T_WHITESPACE","\n            ",149],"[",["T_STRING","Order",150],["T_DOUBLE_COLON","::",150],["T_STRING","STATE_COMPLETE",150],"]",",",["T_WHITESPACE","\n        ",150],"]",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",154],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","notAllowedOrderStateDataProvider",157],"(",")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],"[",["T_WHITESPACE","\n            ",159],"[",["T_STRING","Order",160],["T_DOUBLE_COLON","::",160],["T_STRING","STATE_NEW",160],",",["T_WHITESPACE"," ",160],["T_STRING","false",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","''",160],"]",",",["T_WHITESPACE","\n            ",160],"[",["T_STRING","Order",161],["T_DOUBLE_COLON","::",161],["T_STRING","STATE_NEW",161],",",["T_WHITESPACE"," ",161],["T_STRING","true",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",161],"]",",",["T_WHITESPACE","\n            ",161],"[",["T_STRING","Order",162],["T_DOUBLE_COLON","::",162],["T_STRING","STATE_PENDING_PAYMENT",162],",",["T_WHITESPACE"," ",162],["T_STRING","false",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","''",162],"]",",",["T_WHITESPACE","\n            ",162],"[",["T_STRING","Order",163],["T_DOUBLE_COLON","::",163],["T_STRING","STATE_PENDING_PAYMENT",163],",",["T_WHITESPACE"," ",163],["T_STRING","true",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",163],"]",",",["T_WHITESPACE","\n            ",163],"[",["T_STRING","Order",164],["T_DOUBLE_COLON","::",164],["T_STRING","STATE_CLOSED",164],",",["T_WHITESPACE"," ",164],["T_STRING","false",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","''",164],"]",",",["T_WHITESPACE","\n            ",164],"[",["T_STRING","Order",165],["T_DOUBLE_COLON","::",165],["T_STRING","STATE_CLOSED",165],",",["T_WHITESPACE"," ",165],["T_STRING","true",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",165],"]",",",["T_WHITESPACE","\n            ",165],"[",["T_STRING","Order",166],["T_DOUBLE_COLON","::",166],["T_STRING","STATE_CANCELED",166],",",["T_WHITESPACE"," ",166],["T_STRING","false",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],"]",",",["T_WHITESPACE","\n            ",166],"[",["T_STRING","Order",167],["T_DOUBLE_COLON","::",167],["T_STRING","STATE_CANCELED",167],",",["T_WHITESPACE"," ",167],["T_STRING","true",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",167],"]",",",["T_WHITESPACE","\n            ",167],"[",["T_STRING","Order",168],["T_DOUBLE_COLON","::",168],["T_STRING","STATE_HOLDED",168],",",["T_WHITESPACE"," ",168],["T_STRING","false",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","''",168],"]",",",["T_WHITESPACE","\n            ",168],"[",["T_STRING","Order",169],["T_DOUBLE_COLON","::",169],["T_STRING","STATE_HOLDED",169],",",["T_WHITESPACE"," ",169],["T_STRING","true",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",169],"]",",",["T_WHITESPACE","\n            ",169],"[",["T_STRING","Order",170],["T_DOUBLE_COLON","::",170],["T_STRING","STATE_PAYMENT_REVIEW",170],",",["T_WHITESPACE"," ",170],["T_STRING","false",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],"]",",",["T_WHITESPACE","\n            ",170],"[",["T_STRING","Order",171],["T_DOUBLE_COLON","::",171],["T_STRING","STATE_PAYMENT_REVIEW",171],",",["T_WHITESPACE"," ",171],["T_STRING","true",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",171],"]",",",["T_WHITESPACE","\n        ",171],"]",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @param $state\n     * @dataProvider allowedOrderStateDataProvider\n     *\/",175],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","testExecuteAllowedOrderState",179],"(",["T_VARIABLE","$state",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","initLayoutMock",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","initOrderMock",182],"(",["T_STRING","self",182],["T_DOUBLE_COLON","::",182],["T_STRING","LAST_REAL_ORDER_ID",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$state",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","requestMock",184],["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","never",185],"(",")",")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","checkoutSessionMock",188],["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","expects",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","exactly",189],"(",["T_LNUMBER","2",189],")",")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","method",190],"(",["T_CONSTANT_ENCAPSED_STRING","'getLastRealOrderId'",190],")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","will",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","returnValue",191],"(",["T_STRING","self",191],["T_DOUBLE_COLON","::",191],["T_STRING","LAST_REAL_ORDER_ID",191],")",")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","blockMock",193],["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","expects",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","once",194],"(",")",")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","method",195],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",195],")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","with",196],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_success_page'",196],",",["T_WHITESPACE"," ",196],["T_STRING","true",196],")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","will",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","returnSelf",197],"(",")",")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","paymentMock",199],["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","expects",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","never",200],"(",")",")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",201],")",";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","returnUrl",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","execute",203],"(",")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * @param $state\n     * @param $restoreQuote\n     * @param $expectedGotoSection\n     * @dataProvider notAllowedOrderStateDataProvider\n     *\/",206],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","testExecuteNotAllowedOrderState",212],"(",["T_VARIABLE","$state",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$restoreQuote",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$expectedGotoSection",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","initLayoutMock",214],"(",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","initOrderMock",215],"(",["T_STRING","self",215],["T_DOUBLE_COLON","::",215],["T_STRING","LAST_REAL_ORDER_ID",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$state",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","initCheckoutSessionMock",216],"(",["T_STRING","self",216],["T_DOUBLE_COLON","::",216],["T_STRING","LAST_REAL_ORDER_ID",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$restoreQuote",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","requestMock",218],["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","expects",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","once",219],"(",")",")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","method",220],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",220],")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","with",221],"(",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",221],")",["T_WHITESPACE","\n            ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","will",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","returnValue",222],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",222],")",")",";",["T_WHITESPACE","\n\n        ",222],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","blockMock",224],["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","at",225],"(",["T_LNUMBER","0",225],")",")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","with",227],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_section'",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$expectedGotoSection",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","will",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","returnSelf",228],"(",")",")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","blockMock",230],["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","expects",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","at",231],"(",["T_LNUMBER","1",231],")",")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","method",232],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",232],")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","with",233],"(",["T_CONSTANT_ENCAPSED_STRING","'error_msg'",233],",",["T_WHITESPACE"," ",233],["T_STRING","__",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Your payment has been declined. Please try again.'",233],")",")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","will",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","returnSelf",234],"(",")",")",";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","paymentMock",236],["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","expects",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","once",237],"(",")",")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",238],")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","will",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","returnValue",239],"(",["T_STRING","Config",239],["T_DOUBLE_COLON","::",239],["T_STRING","METHOD_PAYFLOWLINK",239],")",")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","returnUrl",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","execute",241],"(",")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","testCheckRejectByPaymentMethod",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","initLayoutMock",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","initOrderMock",247],"(",["T_STRING","self",247],["T_DOUBLE_COLON","::",247],["T_STRING","LAST_REAL_ORDER_ID",247],",",["T_WHITESPACE"," ",247],["T_STRING","Order",247],["T_DOUBLE_COLON","::",247],["T_STRING","STATE_NEW",247],")",";",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","requestMock",249],["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","never",250],"(",")",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",251],")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","checkoutSessionMock",253],["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","any",254],"(",")",")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","method",255],"(",["T_CONSTANT_ENCAPSED_STRING","'getLastRealOrderId'",255],")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","will",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","returnValue",256],"(",["T_STRING","self",256],["T_DOUBLE_COLON","::",256],["T_STRING","LAST_REAL_ORDER_ID",256],")",")",";",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","blockMock",258],["T_WHITESPACE","\n            ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","expects",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","at",259],"(",["T_LNUMBER","0",259],")",")",["T_WHITESPACE","\n            ",259],["T_OBJECT_OPERATOR","->",260],["T_STRING","method",260],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",260],")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","with",261],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_section'",261],",",["T_WHITESPACE"," ",261],["T_STRING","false",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","will",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","returnSelf",262],"(",")",")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","blockMock",264],["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","expects",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","at",265],"(",["T_LNUMBER","1",265],")",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","method",266],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",266],")",["T_WHITESPACE","\n            ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","with",267],"(",["T_CONSTANT_ENCAPSED_STRING","'error_msg'",267],",",["T_WHITESPACE"," ",267],["T_STRING","__",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested payment method does not match with order.'",267],")",")",["T_WHITESPACE","\n            ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","will",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","returnSelf",268],"(",")",")",";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","paymentMock",270],["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","expects",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","once",271],"(",")",")",["T_WHITESPACE","\n            ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","method",272],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",272],")",["T_WHITESPACE","\n            ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","will",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","returnValue",273],"(",["T_CONSTANT_ENCAPSED_STRING","'something_else'",273],")",")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","returnUrl",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","execute",275],"(",")",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",278],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","checkXSSEscapedDataProvider",281],"(",")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],"[",["T_WHITESPACE","\n            ",283],"[",["T_CONSTANT_ENCAPSED_STRING","'simple'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'simple'",284],"]",",",["T_WHITESPACE","\n            ",284],"[",["T_CONSTANT_ENCAPSED_STRING","'<script>alert(1)<\/script>'",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'alert(1)'",285],"]",",",["T_WHITESPACE","\n            ",285],"[",["T_CONSTANT_ENCAPSED_STRING","'<div style=\"background-image:url(javascript:alert(1))\">'",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","''",286],"]",["T_WHITESPACE","\n        ",286],"]",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * @param $errorMsg\n     * @param $errorMsgEscaped\n     * @dataProvider checkXSSEscapedDataProvider\n     *\/",290],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","testCheckXSSEscaped",295],"(",["T_VARIABLE","$errorMsg",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$errorMsgEscaped",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","initLayoutMock",297],"(",")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","initOrderMock",298],"(",["T_STRING","self",298],["T_DOUBLE_COLON","::",298],["T_STRING","LAST_REAL_ORDER_ID",298],",",["T_WHITESPACE"," ",298],["T_STRING","Order",298],["T_DOUBLE_COLON","::",298],["T_STRING","STATE_NEW",298],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","initCheckoutSessionMock",299],"(",["T_STRING","self",299],["T_DOUBLE_COLON","::",299],["T_STRING","LAST_REAL_ORDER_ID",299],",",["T_WHITESPACE"," ",299],["T_STRING","true",299],")",";",["T_WHITESPACE","\n\n        ",299],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","requestMock",301],["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","expects",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","once",302],"(",")",")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","method",303],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",303],")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","with",304],"(",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",304],")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","will",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","returnValue",305],"(",["T_VARIABLE","$errorMsg",305],")",")",";",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","helperCheckoutMock",307],["T_WHITESPACE","\n            ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","expects",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","once",308],"(",")",")",["T_WHITESPACE","\n            ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","method",309],"(",["T_CONSTANT_ENCAPSED_STRING","'cancelCurrentOrder'",309],")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","with",310],"(",["T_VARIABLE","$errorMsgEscaped",310],")",["T_WHITESPACE","\n            ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","will",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","returnValue",311],"(",["T_STRING","self",311],["T_DOUBLE_COLON","::",311],["T_STRING","LAST_REAL_ORDER_ID",311],")",")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","blockMock",313],["T_WHITESPACE","\n            ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","expects",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","at",314],"(",["T_LNUMBER","0",314],")",")",["T_WHITESPACE","\n            ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","method",315],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",315],")",["T_WHITESPACE","\n            ",315],["T_OBJECT_OPERATOR","->",316],["T_STRING","with",316],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_section'",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",316],")",["T_WHITESPACE","\n            ",316],["T_OBJECT_OPERATOR","->",317],["T_STRING","will",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","returnSelf",317],"(",")",")",";",["T_WHITESPACE","\n\n        ",317],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","blockMock",319],["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","expects",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","at",320],"(",["T_LNUMBER","1",320],")",")",["T_WHITESPACE","\n            ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","method",321],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",321],")",["T_WHITESPACE","\n            ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","with",322],"(",["T_CONSTANT_ENCAPSED_STRING","'error_msg'",322],",",["T_WHITESPACE"," ",322],["T_STRING","__",322],"(",["T_CONSTANT_ENCAPSED_STRING","'Your payment has been declined. Please try again.'",322],")",")",["T_WHITESPACE","\n            ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","will",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","returnSelf",323],"(",")",")",";",["T_WHITESPACE","\n\n        ",323],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","paymentMock",325],["T_WHITESPACE","\n            ",325],["T_OBJECT_OPERATOR","->",326],["T_STRING","expects",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","once",326],"(",")",")",["T_WHITESPACE","\n            ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","method",327],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",327],")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","will",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","returnValue",328],"(",["T_STRING","Config",328],["T_DOUBLE_COLON","::",328],["T_STRING","METHOD_PAYFLOWLINK",328],")",")",";",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","returnUrl",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","execute",330],"(",")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","testCheckAdvancedAcceptingByPaymentMethod",333],"(",")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","initLayoutMock",335],"(",")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","initOrderMock",336],"(",["T_STRING","self",336],["T_DOUBLE_COLON","::",336],["T_STRING","LAST_REAL_ORDER_ID",336],",",["T_WHITESPACE"," ",336],["T_STRING","Order",336],["T_DOUBLE_COLON","::",336],["T_STRING","STATE_NEW",336],")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","initCheckoutSessionMock",337],"(",["T_STRING","self",337],["T_DOUBLE_COLON","::",337],["T_STRING","LAST_REAL_ORDER_ID",337],",",["T_WHITESPACE"," ",337],["T_STRING","true",337],")",";",["T_WHITESPACE","\n\n        ",337],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","requestMock",339],["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","expects",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","once",340],"(",")",")",["T_WHITESPACE","\n            ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","method",341],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",341],")",["T_WHITESPACE","\n            ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","with",342],"(",["T_CONSTANT_ENCAPSED_STRING","'RESPMSG'",342],")",["T_WHITESPACE","\n            ",342],["T_OBJECT_OPERATOR","->",343],["T_STRING","will",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","returnValue",343],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",343],")",")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","blockMock",345],["T_WHITESPACE","\n            ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","expects",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","at",346],"(",["T_LNUMBER","0",346],")",")",["T_WHITESPACE","\n            ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","method",347],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",347],")",["T_WHITESPACE","\n            ",347],["T_OBJECT_OPERATOR","->",348],["T_STRING","with",348],"(",["T_CONSTANT_ENCAPSED_STRING","'goto_section'",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'paymentMethod'",348],")",["T_WHITESPACE","\n            ",348],["T_OBJECT_OPERATOR","->",349],["T_STRING","will",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","returnSelf",349],"(",")",")",";",["T_WHITESPACE","\n\n        ",349],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","blockMock",351],["T_WHITESPACE","\n            ",351],["T_OBJECT_OPERATOR","->",352],["T_STRING","expects",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","at",352],"(",["T_LNUMBER","1",352],")",")",["T_WHITESPACE","\n            ",352],["T_OBJECT_OPERATOR","->",353],["T_STRING","method",353],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",353],")",["T_WHITESPACE","\n            ",353],["T_OBJECT_OPERATOR","->",354],["T_STRING","with",354],"(",["T_CONSTANT_ENCAPSED_STRING","'error_msg'",354],",",["T_WHITESPACE"," ",354],["T_STRING","__",354],"(",["T_CONSTANT_ENCAPSED_STRING","'Your payment has been declined. Please try again.'",354],")",")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","will",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","returnSelf",355],"(",")",")",";",["T_WHITESPACE","\n\n        ",355],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","paymentMock",357],["T_WHITESPACE","\n            ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","expects",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","once",358],"(",")",")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","method",359],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",359],")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","will",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","returnValue",360],"(",["T_STRING","Config",360],["T_DOUBLE_COLON","::",360],["T_STRING","METHOD_PAYFLOWADVANCED",360],")",")",";",["T_WHITESPACE","\n\n        ",360],["T_VARIABLE","$payflowadvancedReturnUrl",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_NEW","new",362],["T_WHITESPACE"," ",362],["T_STRING","PayflowadvancedReturnUrl",362],"(",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","contextMock",363],",",["T_WHITESPACE","\n            ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","checkoutSessionMock",364],",",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","orderFactoryMock",365],",",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","payflowlinkFactoryMock",366],",",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","helperCheckoutMock",367],",",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","loggerMock",368],["T_WHITESPACE","\n        ",368],")",";",["T_WHITESPACE","\n\n        ",369],["T_VARIABLE","$payflowadvancedReturnUrl",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","execute",371],"(",")",";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_PRIVATE","private",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","initOrderMock",374],"(",["T_VARIABLE","$orderId",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$state",374],")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","orderFactoryMock",376],["T_WHITESPACE","\n            ",376],["T_OBJECT_OPERATOR","->",377],["T_STRING","expects",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","any",377],"(",")",")",["T_WHITESPACE","\n            ",377],["T_OBJECT_OPERATOR","->",378],["T_STRING","method",378],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",378],")",["T_WHITESPACE","\n            ",378],["T_OBJECT_OPERATOR","->",379],["T_STRING","will",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","returnValue",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","orderMock",379],")",")",";",["T_WHITESPACE","\n\n        ",379],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","orderMock",381],["T_WHITESPACE","\n            ",381],["T_OBJECT_OPERATOR","->",382],["T_STRING","expects",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","once",382],"(",")",")",["T_WHITESPACE","\n            ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","method",383],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByIncrementId'",383],")",["T_WHITESPACE","\n            ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","with",384],"(",["T_VARIABLE","$orderId",384],")",["T_WHITESPACE","\n            ",384],["T_OBJECT_OPERATOR","->",385],["T_STRING","will",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","returnSelf",385],"(",")",")",";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","orderMock",387],["T_WHITESPACE","\n            ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","expects",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","once",388],"(",")",")",["T_WHITESPACE","\n            ",388],["T_OBJECT_OPERATOR","->",389],["T_STRING","method",389],"(",["T_CONSTANT_ENCAPSED_STRING","'getIncrementId'",389],")",["T_WHITESPACE","\n            ",389],["T_OBJECT_OPERATOR","->",390],["T_STRING","will",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","returnValue",390],"(",["T_VARIABLE","$orderId",390],")",")",";",["T_WHITESPACE","\n\n        ",390],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","orderMock",392],["T_WHITESPACE","\n            ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","expects",393],"(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","once",393],"(",")",")",["T_WHITESPACE","\n            ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","method",394],"(",["T_CONSTANT_ENCAPSED_STRING","'getState'",394],")",["T_WHITESPACE","\n            ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","will",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","returnValue",395],"(",["T_VARIABLE","$state",395],")",")",";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_PRIVATE","private",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","initLayoutMock",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","viewMock",400],["T_WHITESPACE","\n            ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","expects",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","once",401],"(",")",")",["T_WHITESPACE","\n            ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","method",402],"(",["T_CONSTANT_ENCAPSED_STRING","'getLayout'",402],")",["T_WHITESPACE","\n            ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","will",403],"(",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","returnValue",403],"(",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","layoutMock",403],")",")",";",["T_WHITESPACE","\n\n        ",403],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","viewMock",405],["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","expects",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","once",406],"(",")",")",["T_WHITESPACE","\n            ",406],["T_OBJECT_OPERATOR","->",407],["T_STRING","method",407],"(",["T_CONSTANT_ENCAPSED_STRING","'loadLayout'",407],")",["T_WHITESPACE","\n            ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","willReturnSelf",408],"(",")",";",["T_WHITESPACE","\n\n        ",408],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","viewMock",410],["T_WHITESPACE","\n            ",410],["T_OBJECT_OPERATOR","->",411],["T_STRING","expects",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","once",411],"(",")",")",["T_WHITESPACE","\n            ",411],["T_OBJECT_OPERATOR","->",412],["T_STRING","method",412],"(",["T_CONSTANT_ENCAPSED_STRING","'renderLayout'",412],")",["T_WHITESPACE","\n            ",412],["T_OBJECT_OPERATOR","->",413],["T_STRING","willReturnSelf",413],"(",")",";",["T_WHITESPACE","\n\n        ",413],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","layoutMock",415],["T_WHITESPACE","\n            ",415],["T_OBJECT_OPERATOR","->",416],["T_STRING","expects",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","once",416],"(",")",")",["T_WHITESPACE","\n            ",416],["T_OBJECT_OPERATOR","->",417],["T_STRING","method",417],"(",["T_CONSTANT_ENCAPSED_STRING","'getBlock'",417],")",["T_WHITESPACE","\n            ",417],["T_OBJECT_OPERATOR","->",418],["T_STRING","will",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","returnValue",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","blockMock",418],")",")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_PRIVATE","private",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","initCheckoutSessionMock",421],"(",["T_VARIABLE","$orderId",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$restoreQuote",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","checkoutSessionMock",423],["T_WHITESPACE","\n            ",423],["T_OBJECT_OPERATOR","->",424],["T_STRING","expects",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","any",424],"(",")",")",["T_WHITESPACE","\n            ",424],["T_OBJECT_OPERATOR","->",425],["T_STRING","method",425],"(",["T_CONSTANT_ENCAPSED_STRING","'getLastRealOrderId'",425],")",["T_WHITESPACE","\n            ",425],["T_OBJECT_OPERATOR","->",426],["T_STRING","will",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","returnValue",426],"(",["T_VARIABLE","$orderId",426],")",")",";",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","checkoutSessionMock",428],["T_WHITESPACE","\n            ",428],["T_OBJECT_OPERATOR","->",429],["T_STRING","expects",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","any",429],"(",")",")",["T_WHITESPACE","\n            ",429],["T_OBJECT_OPERATOR","->",430],["T_STRING","method",430],"(",["T_CONSTANT_ENCAPSED_STRING","'getLastRealOrder'",430],")",["T_WHITESPACE","\n            ",430],["T_OBJECT_OPERATOR","->",431],["T_STRING","will",431],"(",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","returnValue",431],"(",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","orderMock",431],")",")",";",["T_WHITESPACE","\n\n        ",431],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","checkoutSessionMock",433],["T_WHITESPACE","\n            ",433],["T_OBJECT_OPERATOR","->",434],["T_STRING","expects",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","any",434],"(",")",")",["T_WHITESPACE","\n            ",434],["T_OBJECT_OPERATOR","->",435],["T_STRING","method",435],"(",["T_CONSTANT_ENCAPSED_STRING","'restoreQuote'",435],")",["T_WHITESPACE","\n            ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","will",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","returnValue",436],"(",["T_VARIABLE","$restoreQuote",436],")",")",";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n",437],"}",["T_WHITESPACE","\n",438]]