[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Transparent",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Action",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Context",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Result",9],["T_NS_SEPARATOR","\\",9],["T_STRING","JsonFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Generic",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Session",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SessionManager",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Unit",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ObjectManager",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Paypal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Controller",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Transparent",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RequestSecureToken",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Paypal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payflow",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Service",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Request",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SecureToken",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Paypal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Payflow",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Transparent",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Class RequestSecureTokenTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","RequestSecureTokenTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","PHPUnit_Framework_TestCase",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * @var Transparent|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$transparentMock",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var RequestSecureToken|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$controller",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var Context|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$contextMock",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var JsonFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$resultJsonFactoryMock",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var Generic|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$sessionTransparentMock",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var SecureToken|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$secureTokenServiceMock",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var SessionManager|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$sessionManagerMock",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Set up\n     *\n     * @return void\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","setUp",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","contextMock",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockBuilder",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","App",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Action",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Context",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","disableOriginalConstructor",68],"(",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","resultJsonFactoryMock",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMockBuilder",70],"(",["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Controller",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Result",70],["T_NS_SEPARATOR","\\",70],["T_STRING","JsonFactory",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","setMethods",71],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",71],"]",")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","disableOriginalConstructor",72],"(",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMock",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","sessionTransparentMock",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Framework",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Session",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Generic",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","setMethods",75],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setQuoteId'",75],"]",")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","disableOriginalConstructor",76],"(",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMock",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","secureTokenServiceMock",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMockBuilder",78],"(",["T_WHITESPACE","\n            ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Paypal",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Payflow",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Service",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Request",79],["T_NS_SEPARATOR","\\",79],["T_STRING","SecureToken",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],["T_WHITESPACE","\n        ",79],")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","setMethods",81],"(","[",["T_CONSTANT_ENCAPSED_STRING","'requestToken'",81],"]",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","disableOriginalConstructor",82],"(",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMock",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","sessionManagerMock",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMockBuilder",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Session",84],["T_NS_SEPARATOR","\\",84],["T_STRING","SessionManager",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","setMethods",85],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",85],"]",")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","disableOriginalConstructor",86],"(",")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","transparentMock",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMockBuilder",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Paypal",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Payflow",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Transparent",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","setMethods",89],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getCode'",89],"]",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","disableOriginalConstructor",90],"(",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMock",91],"(",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","controller",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Paypal",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Controller",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Transparent",93],["T_NS_SEPARATOR","\\",93],["T_STRING","RequestSecureToken",93],"(",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","contextMock",94],",",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","resultJsonFactoryMock",95],",",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","sessionTransparentMock",96],",",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","secureTokenServiceMock",97],",",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","sessionManagerMock",98],",",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","transparentMock",99],["T_WHITESPACE","\n        ",99],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testExecuteSuccess",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$quoteId",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_LNUMBER","99",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$tokenFields",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[",["T_CONSTANT_ENCAPSED_STRING","'fields-1'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'fields-2'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'fields-3'",106],"]",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$secureToken",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'token_hash'",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$resultExpectation",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'transparent'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],"[",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'fields'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'fields-1'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'fields-2'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'fields-3'",110],"]",["T_WHITESPACE","\n            ",110],"]",",",["T_WHITESPACE","\n            ",111],["T_CONSTANT_ENCAPSED_STRING","'success'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","true",112],",",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","'error'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_STRING","false",113],["T_WHITESPACE","\n        ",113],"]",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$quoteMock",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMockBuilder",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Quote",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Quote",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","disableOriginalConstructor",117],"(",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","getMock",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$tokenMock",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMockBuilder",119],"(",["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Framework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","DataObject",119],["T_DOUBLE_COLON","::",119],["T_CLASS","class",119],")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","disableOriginalConstructor",120],"(",")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMock",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$jsonMock",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getMockBuilder",122],"(",["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Controller",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Result",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Json",122],["T_DOUBLE_COLON","::",122],["T_CLASS","class",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","disableOriginalConstructor",123],"(",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMock",124],"(",")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","sessionManagerMock",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","atLeastOnce",126],"(",")",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","method",127],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willReturn",128],"(",["T_VARIABLE","$quoteMock",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$quoteMock",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","once",129],"(",")",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","willReturn",131],"(",["T_VARIABLE","$quoteId",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","sessionTransparentMock",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","expects",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","once",132],"(",")",")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","method",133],"(",["T_CONSTANT_ENCAPSED_STRING","'setQuoteId'",133],")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","with",134],"(",["T_VARIABLE","$quoteId",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","secureTokenServiceMock",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","once",135],"(",")",")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","method",136],"(",["T_CONSTANT_ENCAPSED_STRING","'requestToken'",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","with",137],"(",["T_VARIABLE","$quoteMock",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","willReturn",138],"(",["T_VARIABLE","$tokenMock",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","transparentMock",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","expects",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","once",139],"(",")",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","method",140],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","willReturn",141],"(",["T_CONSTANT_ENCAPSED_STRING","'transparent'",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$tokenMock",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","atLeastOnce",142],"(",")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getData'",143],")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","willReturnMap",144],"(",["T_WHITESPACE","\n                ",144],"[",["T_WHITESPACE","\n                    ",145],"[",["T_CONSTANT_ENCAPSED_STRING","''",146],",",["T_WHITESPACE"," ",146],["T_STRING","null",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$tokenFields",146],"]",",",["T_WHITESPACE","\n                    ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'securetoken'",147],",",["T_WHITESPACE"," ",147],["T_STRING","null",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$secureToken",147],"]",["T_WHITESPACE","\n                ",147],"]",["T_WHITESPACE","\n            ",148],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","resultJsonFactoryMock",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","once",150],"(",")",")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","willReturn",152],"(",["T_VARIABLE","$jsonMock",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$jsonMock",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","once",153],"(",")",")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","method",154],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",154],")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","with",155],"(",["T_VARIABLE","$resultExpectation",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","willReturnSelf",156],"(",")",";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_VARIABLE","$jsonMock",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","controller",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","execute",158],"(",")",")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","testExecuteTokenRequestException",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$quoteId",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","99",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$resultExpectation",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n            ",164],["T_CONSTANT_ENCAPSED_STRING","'success'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_STRING","false",165],",",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'error'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING","true",166],",",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'error_messages'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_STRING","__",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Your payment has been declined. Please try again.'",167],")",["T_WHITESPACE","\n        ",167],"]",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$quoteMock",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getMockBuilder",170],"(",["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Quote",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Quote",170],["T_DOUBLE_COLON","::",170],["T_CLASS","class",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","disableOriginalConstructor",171],"(",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$jsonMock",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getMockBuilder",173],"(",["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Framework",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Controller",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Result",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Json",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","disableOriginalConstructor",174],"(",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","getMock",175],"(",")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","sessionManagerMock",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","expects",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","atLeastOnce",177],"(",")",")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","method",178],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",178],")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","willReturn",179],"(",["T_VARIABLE","$quoteMock",179],")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$quoteMock",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expects",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","once",180],"(",")",")",["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","method",181],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",181],")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","willReturn",182],"(",["T_VARIABLE","$quoteId",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","sessionTransparentMock",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","expects",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","once",183],"(",")",")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","method",184],"(",["T_CONSTANT_ENCAPSED_STRING","'setQuoteId'",184],")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","with",185],"(",["T_VARIABLE","$quoteId",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","secureTokenServiceMock",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","expects",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","once",186],"(",")",")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","method",187],"(",["T_CONSTANT_ENCAPSED_STRING","'requestToken'",187],")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","with",188],"(",["T_VARIABLE","$quoteMock",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","willThrowException",189],"(",["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Exception",189],"(",")",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","resultJsonFactoryMock",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","once",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","willReturn",192],"(",["T_VARIABLE","$jsonMock",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$jsonMock",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","expects",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","once",193],"(",")",")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","method",194],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","with",195],"(",["T_VARIABLE","$resultExpectation",195],")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","willReturnSelf",196],"(",")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertEquals",198],"(",["T_VARIABLE","$jsonMock",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","controller",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","execute",198],"(",")",")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","testExecuteEmptyQuoteError",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$resultExpectation",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],"[",["T_WHITESPACE","\n            ",203],["T_CONSTANT_ENCAPSED_STRING","'success'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_STRING","false",204],",",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'error'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_STRING","true",205],",",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","'error_messages'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_STRING","__",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Your payment has been declined. Please try again.'",206],")",["T_WHITESPACE","\n        ",206],"]",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$quoteMock",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","null",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$jsonMock",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getMockBuilder",210],"(",["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Framework",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Controller",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Result",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Json",210],["T_DOUBLE_COLON","::",210],["T_CLASS","class",210],")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","disableOriginalConstructor",211],"(",")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMock",212],"(",")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","sessionManagerMock",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","expects",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","atLeastOnce",214],"(",")",")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","method",215],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",215],")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","willReturn",216],"(",["T_VARIABLE","$quoteMock",216],")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","resultJsonFactoryMock",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","expects",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","once",217],"(",")",")",["T_WHITESPACE","\n            ",217],["T_OBJECT_OPERATOR","->",218],["T_STRING","method",218],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",218],")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","willReturn",219],"(",["T_VARIABLE","$jsonMock",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$jsonMock",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","expects",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","once",220],"(",")",")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","method",221],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",221],")",["T_WHITESPACE","\n            ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","with",222],"(",["T_VARIABLE","$resultExpectation",222],")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","willReturnSelf",223],"(",")",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertEquals",225],"(",["T_VARIABLE","$jsonMock",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","controller",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","execute",225],"(",")",")",";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n",226],"}",["T_WHITESPACE","\n",227]]