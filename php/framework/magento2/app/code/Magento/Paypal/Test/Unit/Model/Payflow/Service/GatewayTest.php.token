[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payflow",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Service",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataObject",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HTTP",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ZendClient",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","HTTP",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ZendClientFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Math",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Random",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Method",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConfigInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Payment",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Method",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Logger",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Paypal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payflow",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Service",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Gateway",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Psr",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Log",15],["T_NS_SEPARATOR","\\",15],["T_STRING","LoggerInterface",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Class GatewayTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","GatewayTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","PHPUnit_Framework_TestCase",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/** @var Gateway|\\PHPUnit_Framework_MockObject_MockObject *\/",24],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$object",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/** @var ZendClientFactory|\\PHPUnit_Framework_MockObject_MockObject *\/",27],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$httpClientFactoryMock",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/** @var Random|\\PHPUnit_Framework_MockObject_MockObject *\/",30],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$mathRandomMock",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var Logger|\\PHPUnit_Framework_MockObject_MockObject *\/",33],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$loggerMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/** @var ZendClient|\\PHPUnit_Framework_MockObject_MockObject *\/",36],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$zendClientMock",37],";",["T_WHITESPACE","\n\n    ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","httpClientFactoryMock",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMockBuilder",41],"(",["T_STRING","ZendClientFactory",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","setMethods",42],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",42],"]",")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","disableOriginalConstructor",43],"(",")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","zendClientMock",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMockBuilder",45],"(",["T_STRING","ZendClient",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","setMethods",46],"(","[",["T_CONSTANT_ENCAPSED_STRING","'request'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'setUri'",46],"]",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","disableOriginalConstructor",47],"(",")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMock",48],"(",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","httpClientFactoryMock",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","expects",49],"(",["T_STATIC","static",49],["T_DOUBLE_COLON","::",49],["T_STRING","once",49],"(",")",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","willReturn",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","zendClientMock",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","mathRandomMock",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMockBuilder",52],"(",["T_STRING","Random",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","disableOriginalConstructor",53],"(",")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMock",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","loggerMock",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMockBuilder",55],"(",["T_STRING","Logger",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],")",["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","setConstructorArgs",56],"(","[",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMockForAbstractClass",56],"(",["T_STRING","LoggerInterface",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],")","]",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","setMethods",57],"(","[",["T_CONSTANT_ENCAPSED_STRING","'debug'",57],"]",")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","object",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","Gateway",60],"(",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","httpClientFactoryMock",61],",",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","mathRandomMock",62],",",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","loggerMock",63],["T_WHITESPACE","\n        ",63],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testPostRequestOk",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$configMap",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n            ",69],"[",["T_CONSTANT_ENCAPSED_STRING","'getDebugReplacePrivateDataKeys'",70],",",["T_WHITESPACE"," ",70],["T_STRING","null",70],",",["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'masked'",70],"]","]",",",["T_WHITESPACE","\n            ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'debug'",71],",",["T_WHITESPACE"," ",71],["T_STRING","null",71],",",["T_WHITESPACE"," ",71],["T_STRING","true",71],"]",["T_WHITESPACE","\n        ",71],"]",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$expectedResponse",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'RESULT=0&RESPMSG=Approved&SECURETOKEN=8ZIaw2&SECURETOKENID=2481d53'",73],";",["T_WHITESPACE","\n\n        ",73],["T_DOC_COMMENT","\/** @var ConfigInterface|\\PHPUnit_Framework_MockObject_MockObject $configInterfaceMock *\/",75],["T_WHITESPACE","\n        ",75],["T_VARIABLE","$configInterfaceMock",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getMockBuilder",76],"(",["T_STRING","ConfigInterface",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMockForAbstractClass",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$zendResponseMock",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMockBuilder",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Zend_Http_Response",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","setMethods",79],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getBody'",79],"]",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","disableOriginalConstructor",80],"(",")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMock",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$zendResponseMock",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_STATIC","static",82],["T_DOUBLE_COLON","::",82],["T_STRING","once",82],"(",")",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getBody'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","willReturn",84],"(",["T_VARIABLE","$expectedResponse",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","zendClientMock",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","expects",85],"(",["T_STATIC","static",85],["T_DOUBLE_COLON","::",85],["T_STRING","once",85],"(",")",")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","method",86],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",86],")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","willReturn",87],"(",["T_VARIABLE","$zendResponseMock",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$configInterfaceMock",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","expects",89],"(",["T_STATIC","static",89],["T_DOUBLE_COLON","::",89],["T_STRING","any",89],"(",")",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","method",90],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",90],")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","willReturnMap",91],"(",["T_VARIABLE","$configMap",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","loggerMock",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_STATIC","static",92],["T_DOUBLE_COLON","::",92],["T_STRING","once",92],"(",")",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$object",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","DataObject",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$result",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","object",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","postRequest",97],"(",["T_VARIABLE","$object",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$configInterfaceMock",97],")",";",["T_WHITESPACE","\n\n        ",97],["T_STATIC","static",99],["T_DOUBLE_COLON","::",99],["T_STRING","assertInstanceOf",99],"(",["T_STRING","DataObject",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$result",99],")",";",["T_WHITESPACE","\n        ",99],["T_STATIC","static",100],["T_DOUBLE_COLON","::",100],["T_STRING","assertArrayHasKey",100],"(",["T_CONSTANT_ENCAPSED_STRING","'result_code'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$result",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getData",100],"(",")",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @expectedException  \\Zend_Http_Client_Exception\n     *\/",103],["T_WHITESPACE","\n    ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","testPostRequestFail",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_DOC_COMMENT","\/** @var ConfigInterface|\\PHPUnit_Framework_MockObject_MockObject $configInterfaceMock *\/",108],["T_WHITESPACE","\n        ",108],["T_VARIABLE","$configInterfaceMock",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMockBuilder",109],"(",["T_STRING","ConfigInterface",109],["T_DOUBLE_COLON","::",109],["T_CLASS","class",109],")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMockForAbstractClass",110],"(",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$zendResponseMock",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMockBuilder",111],"(",["T_NS_SEPARATOR","\\",111],["T_STRING","Zend_Http_Response",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","setMethods",112],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getBody'",112],"]",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","disableOriginalConstructor",113],"(",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMock",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$zendResponseMock",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_STATIC","static",115],["T_DOUBLE_COLON","::",115],["T_STRING","never",115],"(",")",")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getBody'",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","zendClientMock",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_STATIC","static",117],["T_DOUBLE_COLON","::",117],["T_STRING","once",117],"(",")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","willThrowException",119],"(",["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Zend_Http_Client_Exception",119],"(",")",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$object",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","DataObject",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","object",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","postRequest",122],"(",["T_VARIABLE","$object",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$configInterfaceMock",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n",123],"}",["T_WHITESPACE","\n",124]]