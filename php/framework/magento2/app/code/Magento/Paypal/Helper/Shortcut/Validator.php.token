[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Paypal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Helper",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Shortcut",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.UnusedPrivateField)\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Validator",12],["T_WHITESPACE"," ",12],["T_IMPLEMENTS","implements",12],["T_WHITESPACE"," ",12],["T_STRING","ValidatorInterface",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Paypal\\Model\\ConfigFactory\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_paypalConfigFactory",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Registry\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_registry",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_productTypeConfig",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Payment\\Helper\\Data\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_paymentData",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Paypal\\Model\\ConfigFactory $paypalConfigFactory\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface $productTypeConfig\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     *\/",34],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Paypal",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ConfigFactory",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$paypalConfigFactory",41],",",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Registry",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$registry",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Catalog",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Model",43],["T_NS_SEPARATOR","\\",43],["T_STRING","ProductTypes",43],["T_NS_SEPARATOR","\\",43],["T_STRING","ConfigInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$productTypeConfig",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Payment",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Helper",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Data",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$paymentData",44],["T_WHITESPACE","\n    ",44],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_paypalConfigFactory",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$paypalConfigFactory",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_registry",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$registry",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_productTypeConfig",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$productTypeConfig",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_paymentData",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$paymentData",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Validates shortcut\n     *\n     * @param string $code\n     * @param bool $isInCatalog\n     * @return bool\n     *\/",52],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","validate",59],"(",["T_VARIABLE","$code",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$isInCatalog",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","isContextAvailable",61],"(",["T_VARIABLE","$code",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$isInCatalog",61],")",["T_WHITESPACE","\n            ",61],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","isPriceOrSetAvailable",62],"(",["T_VARIABLE","$isInCatalog",62],")",["T_WHITESPACE","\n            ",62],["T_BOOLEAN_AND","&&",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","isMethodAvailable",63],"(",["T_VARIABLE","$code",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Checks visibility of context (cart or product page)\n     *\n     * @param string $paymentCode Payment method code\n     * @param bool $isInCatalog\n     * @return bool\n     *\/",66],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","isContextAvailable",73],"(",["T_VARIABLE","$paymentCode",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$isInCatalog",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_DOC_COMMENT","\/** @var \\Magento\\Paypal\\Model\\Config $config *\/",75],["T_WHITESPACE","\n        ",75],["T_VARIABLE","$config",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_paypalConfigFactory",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","create",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$config",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setMethod",77],"(",["T_VARIABLE","$paymentCode",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_COMMENT","\/\/ check visibility on cart or product page\n",79],["T_WHITESPACE","        ",80],["T_VARIABLE","$context",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$isInCatalog",80],["T_WHITESPACE"," ",80],"?",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'visible_on_product'",80],["T_WHITESPACE"," ",80],":",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'visible_on_cart'",80],";",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_VARIABLE","$config",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getValue",81],"(",["T_VARIABLE","$context",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_STRING","false",82],";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Check is product available depending on final price or type set(configurable)\n     *\n     * @param bool $isInCatalog\n     * @return bool\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","isPriceOrSetAvailable",93],"(",["T_VARIABLE","$isInCatalog",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$isInCatalog",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_COMMENT","\/\/ Show PayPal shortcut on a product view page only if product has nonzero price\n",96],["T_WHITESPACE","            ",97],["T_DOC_COMMENT","\/** @var $currentProduct \\Magento\\Catalog\\Model\\Product *\/",97],["T_WHITESPACE","\n            ",97],["T_VARIABLE","$currentProduct",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_registry",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","registry",98],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",98],")",";",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$currentProduct",99],["T_WHITESPACE"," ",99],["T_IS_NOT_IDENTICAL","!==",99],["T_WHITESPACE"," ",99],["T_STRING","null",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$productPrice",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_DOUBLE_CAST","(double)",100],["T_VARIABLE","$currentProduct",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getFinalPrice",100],"(",")",";",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$typeInstance",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$currentProduct",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getTypeInstance",101],"(",")",";",["T_WHITESPACE","\n                ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_EMPTY","empty",102],"(",["T_VARIABLE","$productPrice",102],")",["T_WHITESPACE","\n                    ",102],["T_BOOLEAN_AND","&&",103],["T_WHITESPACE"," ",103],"!",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_productTypeConfig",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isProductSet",103],"(",["T_VARIABLE","$currentProduct",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTypeId",103],"(",")",")",["T_WHITESPACE","\n                    ",103],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],"!",["T_VARIABLE","$typeInstance",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","canConfigure",104],"(",["T_VARIABLE","$currentProduct",104],")",["T_WHITESPACE","\n                ",104],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_RETURN","return",106],["T_WHITESPACE","  ",106],["T_STRING","false",106],";",["T_WHITESPACE","\n                ",106],"}",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","true",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Checks payment method and quote availability\n     *\n     * @param string $paymentCode\n     * @return bool\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","isMethodAvailable",119],"(",["T_VARIABLE","$paymentCode",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_COMMENT","\/\/ check payment method availability\n",121],["T_WHITESPACE","        ",122],["T_DOC_COMMENT","\/** @var \\Magento\\Payment\\Model\\Method\\AbstractMethod $methodInstance *\/",122],["T_WHITESPACE","\n        ",122],["T_VARIABLE","$methodInstance",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_paymentData",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getMethodInstance",123],"(",["T_VARIABLE","$paymentCode",123],")",";",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_VARIABLE","$methodInstance",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isAvailable",124],"(",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_STRING","false",125],";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_STRING","true",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n",129]]