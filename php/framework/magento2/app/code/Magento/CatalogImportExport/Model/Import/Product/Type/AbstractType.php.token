[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Import",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Type",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceConnection",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogImportExport",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Import",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RowValidatorInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityManager",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MetadataPool",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Import entity abstract product type model\n *\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",18],["T_ABSTRACT","abstract",19],["T_WHITESPACE"," ",19],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","AbstractType",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Common attributes cache\n     *\n     * @var array\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$commonAttributesCache",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[","]",";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Attribute Code to Id cache\n     *\n     * @var array\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$attributeCodeToId",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Product type attribute sets and attributes parameters.\n     *\n     * Example: [attr_set_name_1] => array(\n     *     [attr_code_1] => array(\n     *         'options' => array(),\n     *         'type' => 'text', 'price', 'textarea', 'select', etc.\n     *         'id' => ..\n     *     ),\n     *     ...\n     * ),\n     * ...\n     *\n     * @var array\n     *\/",35],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_attributes",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[","]",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Attributes' codes which will be allowed anyway, independently from its visibility property.\n     *\n     * @var string[]\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_forcedAttributesCodes",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[","]",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Attributes with index (not label) value.\n     *\n     * @var string[]\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_indexValueAttributes",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[","]",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Validation failure entity specific message template definitions\n     *\n     * @var array\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_messageTemplates",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[","]",";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Validation failure general message template definitions\n     *\n     * @var array\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_genericMessageTemplates",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[",["T_WHITESPACE","\n        ",78],["T_STRING","RowValidatorInterface",79],["T_DOUBLE_COLON","::",79],["T_STRING","ERROR_INVALID_WEIGHT",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Weight value is incorrect'",79],",",["T_WHITESPACE","\n        ",79],["T_STRING","RowValidatorInterface",80],["T_DOUBLE_COLON","::",80],["T_STRING","ERROR_INVALID_WEBSITE",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Provided Website code doesn\\'t exist'",80],["T_WHITESPACE","\n    ",80],"]",";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Column names that holds values with particular meaning.\n     *\n     * @var string[]\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_specialAttributes",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[","]",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Custom entity type fields mapping.\n     *\n     * @var string[]\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_customFieldsMapping",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[","]",";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Product entity object.\n     *\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Product\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_entityModel",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Product type (simple, etc.).\n     *\n     * @var string\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_type",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_attrSetColFac",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Collection\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$_prodAttrColFac",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",121],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$_resource",124],";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$connection",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Product metadata pool\n     *\n     * @var \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$metadataPool",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Product entity link field\n     *\n     * @var string\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PRIVATE","private",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$productEntityLinkField",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * AbstractType constructor\n     *\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory $attrSetColFac\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\CollectionFactory $prodAttrColFac\n     * @param ResourceConnection $resource\n     * @param array $params\n     * @param MetadataPool|null $metadataPool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",145],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","__construct",155],"(",["T_WHITESPACE","\n        ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Eav",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Model",156],["T_NS_SEPARATOR","\\",156],["T_STRING","ResourceModel",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Entity",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Attribute",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Set",156],["T_NS_SEPARATOR","\\",156],["T_STRING","CollectionFactory",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$attrSetColFac",156],",",["T_WHITESPACE","\n        ",156],["T_NS_SEPARATOR","\\",157],["T_STRING","Magento",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Catalog",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Model",157],["T_NS_SEPARATOR","\\",157],["T_STRING","ResourceModel",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Product",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Attribute",157],["T_NS_SEPARATOR","\\",157],["T_STRING","CollectionFactory",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$prodAttrColFac",157],",",["T_WHITESPACE","\n        ",157],["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Framework",158],["T_NS_SEPARATOR","\\",158],["T_STRING","App",158],["T_NS_SEPARATOR","\\",158],["T_STRING","ResourceConnection",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$resource",158],",",["T_WHITESPACE","\n        ",158],["T_ARRAY","array",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$params",159],",",["T_WHITESPACE","\n        ",159],["T_STRING","MetadataPool",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$metadataPool",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],["T_WHITESPACE","\n    ",160],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_attrSetColFac",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$attrSetColFac",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_prodAttrColFac",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$prodAttrColFac",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_resource",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$resource",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","connection",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$resource",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getConnection",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","metadataPool",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$metadataPool",166],["T_WHITESPACE"," ",166],"?",":",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getMetadataPool",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","isSuitable",167],"(",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_ISSET","isset",168],"(",["T_VARIABLE","$params",168],"[",["T_LNUMBER","0",168],"]",")",["T_WHITESPACE","\n                ",168],["T_BOOLEAN_OR","||",169],["T_WHITESPACE"," ",169],"!",["T_ISSET","isset",169],"(",["T_VARIABLE","$params",169],"[",["T_LNUMBER","1",169],"]",")",["T_WHITESPACE","\n                ",169],["T_BOOLEAN_OR","||",170],["T_WHITESPACE"," ",170],"!",["T_STRING","is_object",170],"(",["T_VARIABLE","$params",170],"[",["T_LNUMBER","0",170],"]",")",["T_WHITESPACE","\n                ",170],["T_BOOLEAN_OR","||",171],["T_WHITESPACE"," ",171],"!",["T_VARIABLE","$params",171],"[",["T_LNUMBER","0",171],"]",["T_WHITESPACE"," ",171],["T_INSTANCEOF","instanceof",171],["T_WHITESPACE"," ",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","CatalogImportExport",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Model",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Import",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Product",171],["T_WHITESPACE","\n            ",171],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Framework",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Exception",173],["T_NS_SEPARATOR","\\",173],["T_STRING","LocalizedException",173],"(",["T_STRING","__",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Please correct the parameters.'",173],")",")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_entityModel",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$params",175],"[",["T_LNUMBER","0",175],"]",";",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_type",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$params",176],"[",["T_LNUMBER","1",176],"]",";",["T_WHITESPACE","\n\n            ",176],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","initMessageTemplates",178],"(",["T_WHITESPACE","\n                ",178],["T_STRING","array_merge",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_genericMessageTemplates",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_messageTemplates",179],")",["T_WHITESPACE","\n            ",179],")",";",["T_WHITESPACE","\n\n            ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_initAttributes",182],"(",")",";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * @param array $templateCollection\n     * @return $this\n     *\/",186],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","initMessageTemplates",190],"(",["T_ARRAY","array",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$templateCollection",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$templateCollection",192],["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$errorCode",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$message",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_entityModel",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addMessageTemplate",193],"(",["T_VARIABLE","$errorCode",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$message",193],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Add attribute parameters to appropriate attribute set.\n     *\n     * @param string $attrSetName Name of attribute set.\n     * @param array $attrParams Refined attribute parameters.\n     * @param mixed $attribute\n     * @return \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Type\\AbstractType\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",199],["T_WHITESPACE","\n    ",207],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","_addAttributeParams",208],"(",["T_VARIABLE","$attrSetName",208],",",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$attrParams",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$attribute",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!",["T_VARIABLE","$attrParams",210],"[",["T_CONSTANT_ENCAPSED_STRING","'apply_to'",210],"]",["T_WHITESPACE"," ",210],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],["T_STRING","in_array",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_type",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$attrParams",210],"[",["T_CONSTANT_ENCAPSED_STRING","'apply_to'",210],"]",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_attributes",211],"[",["T_VARIABLE","$attrSetName",211],"]","[",["T_VARIABLE","$attrParams",211],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",211],"]","]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$attrParams",211],";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Retrieve product Attribute\n     *\n     * @param string $attributeCode\n     * @param string $attributeSet\n     * @return array\n     *\/",216],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","retrieveAttribute",223],"(",["T_VARIABLE","$attributeCode",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$attributeSet",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_ISSET","isset",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_attributes",225],"[",["T_VARIABLE","$attributeSet",225],"]",")",["T_WHITESPACE"," ",225],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],["T_ISSET","isset",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_attributes",225],"[",["T_VARIABLE","$attributeSet",225],"]","[",["T_VARIABLE","$attributeCode",225],"]",")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_attributes",226],"[",["T_VARIABLE","$attributeSet",226],"]","[",["T_VARIABLE","$attributeCode",226],"]",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],"[","]",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Return product attributes for its attribute set specified in row data.\n     *\n     * @param array|string $attrSetData Product row data or simply attribute set name.\n     * @return array\n     *\/",231],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_getProductAttributes",237],"(",["T_VARIABLE","$attrSetData",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_STRING","is_array",239],"(",["T_VARIABLE","$attrSetData",239],")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_attributes",240],"[",["T_VARIABLE","$attrSetData",240],"[",["T_NS_SEPARATOR","\\",240],["T_STRING","Magento",240],["T_NS_SEPARATOR","\\",240],["T_STRING","CatalogImportExport",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Model",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Import",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Product",240],["T_DOUBLE_COLON","::",240],["T_STRING","COL_ATTR_SET",240],"]","]",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE"," ",241],["T_ELSE","else",241],["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_attributes",242],"[",["T_VARIABLE","$attrSetData",242],"]",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Initialize attributes parameters for all attributes' sets.\n     *\n     * @return $this\n     *\/",246],["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","_initAttributes",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_COMMENT","\/\/ temporary storage for attributes' parameters to avoid double querying inside the loop\n",253],["T_WHITESPACE","        ",254],["T_VARIABLE","$entityId",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_entityModel",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getEntityTypeId",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$entityAttributes",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","connection",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","fetchAll",255],"(",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","connection",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","select",256],"(",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","from",256],"(",["T_WHITESPACE","\n                ",256],"[",["T_CONSTANT_ENCAPSED_STRING","'attr'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_resource",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getTableName",257],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_attribute'",257],")","]",",",["T_WHITESPACE","\n                ",257],"[",["T_CONSTANT_ENCAPSED_STRING","'attr.attribute_id'",258],"]",["T_WHITESPACE","\n            ",258],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","joinLeft",259],"(",["T_WHITESPACE","\n                ",259],"[",["T_CONSTANT_ENCAPSED_STRING","'set'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_resource",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getTableName",260],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_set'",260],")","]",",",["T_WHITESPACE","\n                ",260],["T_CONSTANT_ENCAPSED_STRING","'set.attribute_set_id = attr.attribute_set_id'",261],",",["T_WHITESPACE","\n                ",261],"[",["T_CONSTANT_ENCAPSED_STRING","'set.attribute_set_name'",262],"]",["T_WHITESPACE","\n            ",262],")",["T_OBJECT_OPERATOR","->",263],["T_STRING","where",263],"(",["T_WHITESPACE","\n                ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","connection",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","quoteInto",264],"(",["T_CONSTANT_ENCAPSED_STRING","'attr.entity_type_id IN (?)'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$entityId",264],")",["T_WHITESPACE","\n            ",264],")",["T_WHITESPACE","\n        ",265],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$absentKeys",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],"[","]",";",["T_WHITESPACE","\n        ",267],["T_FOREACH","foreach",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$entityAttributes",268],["T_WHITESPACE"," ",268],["T_AS","as",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$attributeRow",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(","!",["T_ISSET","isset",269],"(",["T_STRING","self",269],["T_DOUBLE_COLON","::",269],["T_VARIABLE","$commonAttributesCache",269],"[",["T_VARIABLE","$attributeRow",269],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",269],"]","]",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_ISSET","isset",270],"(",["T_VARIABLE","$absentKeys",270],"[",["T_VARIABLE","$attributeRow",270],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",270],"]","]",")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                    ",270],["T_VARIABLE","$absentKeys",271],"[",["T_VARIABLE","$attributeRow",271],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",271],"]","]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"[","]",";",["T_WHITESPACE","\n                ",271],"}",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$absentKeys",273],"[",["T_VARIABLE","$attributeRow",273],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",273],"]","]","[","]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$attributeRow",273],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",273],"]",";",["T_WHITESPACE","\n            ",273],"}",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_FOREACH","foreach",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$absentKeys",276],["T_WHITESPACE"," ",276],["T_AS","as",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$attributeSetName",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$attributeIds",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","attachAttributesById",277],"(",["T_VARIABLE","$attributeSetName",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$attributeIds",277],")",";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_FOREACH","foreach",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$entityAttributes",279],["T_WHITESPACE"," ",279],["T_AS","as",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$attributeRow",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n            ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_ISSET","isset",280],"(",["T_STRING","self",280],["T_DOUBLE_COLON","::",280],["T_VARIABLE","$commonAttributesCache",280],"[",["T_VARIABLE","$attributeRow",280],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",280],"]","]",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$attribute",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","self",281],["T_DOUBLE_COLON","::",281],["T_VARIABLE","$commonAttributesCache",281],"[",["T_VARIABLE","$attributeRow",281],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",281],"]","]",";",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_addAttributeParams",282],"(",["T_WHITESPACE","\n                    ",282],["T_VARIABLE","$attributeRow",283],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",283],"]",",",["T_WHITESPACE","\n                    ",283],["T_STRING","self",284],["T_DOUBLE_COLON","::",284],["T_VARIABLE","$commonAttributesCache",284],"[",["T_VARIABLE","$attributeRow",284],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",284],"]","]",",",["T_WHITESPACE","\n                    ",284],["T_VARIABLE","$attribute",285],["T_WHITESPACE","\n                ",285],")",";",["T_WHITESPACE","\n            ",286],"}",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Attach Attributes By Id\n     *\n     * @param string $attributeSetName\n     * @param array $attributeIds\n     * @return void\n     *\/",292],["T_WHITESPACE","\n    ",298],["T_PROTECTED","protected",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","attachAttributesById",299],"(",["T_VARIABLE","$attributeSetName",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$attributeIds",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_FOREACH","foreach",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_prodAttrColFac",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","create",301],"(",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","addFieldToFilter",301],"(",["T_WHITESPACE","\n            ",301],["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id'",302],",",["T_WHITESPACE","\n            ",302],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$attributeIds",303],"]",["T_WHITESPACE","\n        ",303],")",["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$attribute",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$attributeCode",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$attribute",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getAttributeCode",305],"(",")",";",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$attributeId",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$attribute",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getId",306],"(",")",";",["T_WHITESPACE","\n\n            ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$attribute",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getIsVisible",308],"(",")",["T_WHITESPACE"," ",308],["T_BOOLEAN_OR","||",308],["T_WHITESPACE"," ",308],["T_STRING","in_array",308],"(",["T_VARIABLE","$attributeCode",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_forcedAttributesCodes",308],")",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                ",308],["T_STRING","self",309],["T_DOUBLE_COLON","::",309],["T_VARIABLE","$commonAttributesCache",309],"[",["T_VARIABLE","$attributeId",309],"]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],"[",["T_WHITESPACE","\n                    ",309],["T_CONSTANT_ENCAPSED_STRING","'id'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$attributeId",310],",",["T_WHITESPACE","\n                    ",310],["T_CONSTANT_ENCAPSED_STRING","'code'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$attributeCode",311],",",["T_WHITESPACE","\n                    ",311],["T_CONSTANT_ENCAPSED_STRING","'is_global'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$attribute",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getIsGlobal",312],"(",")",",",["T_WHITESPACE","\n                    ",312],["T_CONSTANT_ENCAPSED_STRING","'is_required'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$attribute",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getIsRequired",313],"(",")",",",["T_WHITESPACE","\n                    ",313],["T_CONSTANT_ENCAPSED_STRING","'is_unique'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$attribute",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getIsUnique",314],"(",")",",",["T_WHITESPACE","\n                    ",314],["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$attribute",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getFrontendLabel",315],"(",")",",",["T_WHITESPACE","\n                    ",315],["T_CONSTANT_ENCAPSED_STRING","'is_static'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$attribute",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","isStatic",316],"(",")",",",["T_WHITESPACE","\n                    ",316],["T_CONSTANT_ENCAPSED_STRING","'apply_to'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$attribute",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getApplyTo",317],"(",")",",",["T_WHITESPACE","\n                    ",317],["T_CONSTANT_ENCAPSED_STRING","'type'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Magento",318],["T_NS_SEPARATOR","\\",318],["T_STRING","ImportExport",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Model",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Import",318],["T_DOUBLE_COLON","::",318],["T_STRING","getAttributeType",318],"(",["T_VARIABLE","$attribute",318],")",",",["T_WHITESPACE","\n                    ",318],["T_CONSTANT_ENCAPSED_STRING","'default_value'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_STRING","strlen",319],"(",["T_WHITESPACE","\n                        ",319],["T_VARIABLE","$attribute",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getDefaultValue",320],"(",")",["T_WHITESPACE","\n                    ",320],")",["T_WHITESPACE"," ",321],"?",["T_WHITESPACE"," ",321],["T_VARIABLE","$attribute",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getDefaultValue",321],"(",")",["T_WHITESPACE"," ",321],":",["T_WHITESPACE"," ",321],["T_STRING","null",321],",",["T_WHITESPACE","\n                    ",321],["T_CONSTANT_ENCAPSED_STRING","'options'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_entityModel",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getAttributeOptions",322],"(",["T_WHITESPACE","\n                        ",322],["T_VARIABLE","$attribute",323],",",["T_WHITESPACE","\n                        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_indexValueAttributes",324],["T_WHITESPACE","\n                    ",324],")",",",["T_WHITESPACE","\n                ",325],"]",";",["T_WHITESPACE","\n                ",326],["T_STRING","self",327],["T_DOUBLE_COLON","::",327],["T_VARIABLE","$attributeCodeToId",327],"[",["T_VARIABLE","$attributeCode",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$attributeId",327],";",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_addAttributeParams",328],"(",["T_WHITESPACE","\n                    ",328],["T_VARIABLE","$attributeSetName",329],",",["T_WHITESPACE","\n                    ",329],["T_STRING","self",330],["T_DOUBLE_COLON","::",330],["T_VARIABLE","$commonAttributesCache",330],"[",["T_VARIABLE","$attributeId",330],"]",",",["T_WHITESPACE","\n                    ",330],["T_VARIABLE","$attribute",331],["T_WHITESPACE","\n                ",331],")",";",["T_WHITESPACE","\n            ",332],"}",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Retrieve attribute from cache\n     *\n     * @param string $attributeCode\n     * @return mixed\n     *\/",337],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","retrieveAttributeFromCache",343],"(",["T_VARIABLE","$attributeCode",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_ISSET","isset",345],"(",["T_STRING","self",345],["T_DOUBLE_COLON","::",345],["T_VARIABLE","$attributeCodeToId",345],"[",["T_VARIABLE","$attributeCode",345],"]",")",["T_WHITESPACE"," ",345],["T_BOOLEAN_AND","&&",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$id",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","self",345],["T_DOUBLE_COLON","::",345],["T_VARIABLE","$attributeCodeToId",345],"[",["T_VARIABLE","$attributeCode",345],"]",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_ISSET","isset",346],"(",["T_STRING","self",346],["T_DOUBLE_COLON","::",346],["T_VARIABLE","$commonAttributesCache",346],"[",["T_VARIABLE","$id",346],"]",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_STRING","self",347],["T_DOUBLE_COLON","::",347],["T_VARIABLE","$commonAttributesCache",347],"[",["T_VARIABLE","$id",347],"]",";",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],"[","]",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * In case we've dynamically added new attribute option during import we need to add it to our cache\n     * in order to keep it up to date.\n     *\n     * @param string $code\n     * @param string $optionKey\n     * @param string $optionValue\n     *\n     * @return $this\n     *\/",353],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","addAttributeOption",363],"(",["T_VARIABLE","$code",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$optionKey",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$optionValue",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_FOREACH","foreach",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_attributes",365],["T_WHITESPACE"," ",365],["T_AS","as",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$attrSetName",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$attrSetValue",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_ISSET","isset",366],"(",["T_VARIABLE","$attrSetValue",366],"[",["T_VARIABLE","$code",366],"]",")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n                ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_attributes",367],"[",["T_VARIABLE","$attrSetName",367],"]","[",["T_VARIABLE","$code",367],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",367],"]","[",["T_VARIABLE","$optionKey",367],"]",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$optionValue",367],";",["T_WHITESPACE","\n            ",367],"}",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n        ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * Have we check attribute for is_required? Used as last chance to disable this type of check.\n     *\n     * @param string $attrCode\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",373],["T_WHITESPACE","\n    ",379],["T_PROTECTED","protected",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","_isAttributeRequiredCheckNeeded",380],"(",["T_VARIABLE","$attrCode",380],")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_STRING","true",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Validate particular attributes columns.\n     *\n     * @param array $rowData\n     * @param int $rowNum\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",385],["T_WHITESPACE","\n    ",392],["T_PROTECTED","protected",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","_isParticularAttributesValid",393],"(",["T_ARRAY","array",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$rowData",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$rowNum",393],")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_STRING","true",395],";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_DOC_COMMENT","\/**\n     * Check price correction value validity (signed integer or float with or without percentage sign).\n     *\n     * @param string $value\n     * @return int\n     *\/",398],["T_WHITESPACE","\n    ",403],["T_PROTECTED","protected",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","_isPriceCorr",404],"(",["T_VARIABLE","$value",404],")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","preg_match",406],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^-?\\d+\\.?\\d*%?$\/'",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$value",406],")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Particular attribute names getter.\n     *\n     * @return string[]\n     *\/",409],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","getParticularAttributes",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_specialAttributes",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Return entity custom Fields mapping.\n     *\n     * @return string[]\n     *\/",419],["T_WHITESPACE","\n    ",423],["T_PUBLIC","public",424],["T_WHITESPACE"," ",424],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","getCustomFieldsMapping",424],"(",")",["T_WHITESPACE","\n    ",424],"{",["T_WHITESPACE","\n        ",425],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_customFieldsMapping",426],";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * Validate row attributes. Pass VALID row data ONLY as argument.\n     *\n     * @param array $rowData\n     * @param int $rowNum\n     * @param bool $isNewProduct Optional\n     * @return bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",429],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","isRowValid",438],"(",["T_ARRAY","array",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$rowData",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$rowNum",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$isNewProduct",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_STRING","true",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$error",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","false",440],";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$rowScope",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_entityModel",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getRowScope",441],"(",["T_VARIABLE","$rowData",441],")",";",["T_WHITESPACE","\n        ",441],["T_IF","if",442],["T_WHITESPACE"," ",442],"(",["T_NS_SEPARATOR","\\",442],["T_STRING","Magento",442],["T_NS_SEPARATOR","\\",442],["T_STRING","CatalogImportExport",442],["T_NS_SEPARATOR","\\",442],["T_STRING","Model",442],["T_NS_SEPARATOR","\\",442],["T_STRING","Import",442],["T_NS_SEPARATOR","\\",442],["T_STRING","Product",442],["T_DOUBLE_COLON","::",442],["T_STRING","SCOPE_NULL",442],["T_WHITESPACE"," ",442],["T_IS_NOT_EQUAL","!=",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$rowScope",442],["T_WHITESPACE","\n            ",442],["T_BOOLEAN_AND","&&",443],["T_WHITESPACE"," ",443],"!",["T_EMPTY","empty",443],"(",["T_VARIABLE","$rowData",443],"[",["T_NS_SEPARATOR","\\",443],["T_STRING","Magento",443],["T_NS_SEPARATOR","\\",443],["T_STRING","CatalogImportExport",443],["T_NS_SEPARATOR","\\",443],["T_STRING","Model",443],["T_NS_SEPARATOR","\\",443],["T_STRING","Import",443],["T_NS_SEPARATOR","\\",443],["T_STRING","Product",443],["T_DOUBLE_COLON","::",443],["T_STRING","COL_SKU",443],"]",")",["T_WHITESPACE","\n        ",443],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getProductAttributes",445],"(",["T_VARIABLE","$rowData",445],")",["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$attrCode",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$attrParams",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_COMMENT","\/\/ check value for non-empty in the case of required attribute?\n",446],["T_WHITESPACE","                ",447],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_ISSET","isset",447],"(",["T_VARIABLE","$rowData",447],"[",["T_VARIABLE","$attrCode",447],"]",")",["T_WHITESPACE"," ",447],["T_BOOLEAN_AND","&&",447],["T_WHITESPACE"," ",447],["T_STRING","strlen",447],"(",["T_VARIABLE","$rowData",447],"[",["T_VARIABLE","$attrCode",447],"]",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                    ",447],["T_VARIABLE","$error",448],["T_WHITESPACE"," ",448],["T_OR_EQUAL","|=",448],["T_WHITESPACE"," ",448],"!",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_entityModel",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","isAttributeValid",448],"(",["T_VARIABLE","$attrCode",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$attrParams",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$rowData",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$rowNum",448],")",";",["T_WHITESPACE","\n                ",448],"}",["T_WHITESPACE"," ",449],["T_ELSEIF","elseif",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_isAttributeRequiredCheckNeeded",449],"(",["T_VARIABLE","$attrCode",449],")",["T_WHITESPACE"," ",449],["T_BOOLEAN_AND","&&",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$attrParams",449],"[",["T_CONSTANT_ENCAPSED_STRING","'is_required'",449],"]",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                    ",449],["T_COMMENT","\/\/ For the default scope - if this is a new product or\n",450],["T_WHITESPACE","                    ",451],["T_COMMENT","\/\/ for an old product, if the imported doc has the column present for the attrCode\n",451],["T_WHITESPACE","                    ",452],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_NS_SEPARATOR","\\",452],["T_STRING","Magento",452],["T_NS_SEPARATOR","\\",452],["T_STRING","CatalogImportExport",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Model",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Import",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Product",452],["T_DOUBLE_COLON","::",452],["T_STRING","SCOPE_DEFAULT",452],["T_WHITESPACE"," ",452],["T_IS_EQUAL","==",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$rowScope",452],["T_WHITESPACE"," ",452],["T_BOOLEAN_AND","&&",452],["T_WHITESPACE","\n                        ",452],"(",["T_VARIABLE","$isNewProduct",453],["T_WHITESPACE"," ",453],["T_BOOLEAN_OR","||",453],["T_WHITESPACE","\n                        ",453],["T_STRING","array_key_exists",454],"(",["T_WHITESPACE","\n                            ",454],["T_VARIABLE","$attrCode",455],",",["T_WHITESPACE","\n                            ",455],["T_VARIABLE","$rowData",456],["T_WHITESPACE","\n                        ",456],")",")",["T_WHITESPACE","\n                    ",457],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n                        ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_entityModel",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","addRowError",459],"(",["T_WHITESPACE","\n                            ",459],["T_STRING","RowValidatorInterface",460],["T_DOUBLE_COLON","::",460],["T_STRING","ERROR_VALUE_IS_REQUIRED",460],",",["T_WHITESPACE","\n                            ",460],["T_VARIABLE","$rowNum",461],",",["T_WHITESPACE","\n                            ",461],["T_VARIABLE","$attrCode",462],["T_WHITESPACE","\n                        ",462],")",";",["T_WHITESPACE","\n                        ",463],["T_VARIABLE","$error",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_STRING","true",464],";",["T_WHITESPACE","\n                    ",464],"}",["T_WHITESPACE","\n                ",465],"}",["T_WHITESPACE","\n            ",466],"}",["T_WHITESPACE","\n        ",467],"}",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$error",469],["T_WHITESPACE"," ",469],["T_OR_EQUAL","|=",469],["T_WHITESPACE"," ",469],"!",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","_isParticularAttributesValid",469],"(",["T_VARIABLE","$rowData",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$rowNum",469],")",";",["T_WHITESPACE","\n\n        ",469],["T_RETURN","return",471],["T_WHITESPACE"," ",471],"!",["T_VARIABLE","$error",471],";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n\n    ",472],["T_DOC_COMMENT","\/**\n     * Additional check for model availability. If method returns FALSE - model is not suitable for data processing.\n     *\n     * @return bool\n     *\/",474],["T_WHITESPACE","\n    ",478],["T_PUBLIC","public",479],["T_WHITESPACE"," ",479],["T_FUNCTION","function",479],["T_WHITESPACE"," ",479],["T_STRING","isSuitable",479],"(",")",["T_WHITESPACE","\n    ",479],"{",["T_WHITESPACE","\n        ",480],["T_RETURN","return",481],["T_WHITESPACE"," ",481],["T_STRING","true",481],";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n\n    ",482],["T_DOC_COMMENT","\/**\n     * Prepare attributes values for save: exclude non-existent, static or with empty values attributes;\n     * set default values if needed\n     *\n     * @param array $rowData\n     * @param bool $withDefaultValue\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",484],["T_WHITESPACE","\n    ",493],["T_PUBLIC","public",494],["T_WHITESPACE"," ",494],["T_FUNCTION","function",494],["T_WHITESPACE"," ",494],["T_STRING","prepareAttributesWithDefaultValueForSave",494],"(",["T_ARRAY","array",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$rowData",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$withDefaultValue",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_STRING","true",494],")",["T_WHITESPACE","\n    ",494],"{",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$resultAttrs",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],"[","]",";",["T_WHITESPACE","\n\n        ",496],["T_FOREACH","foreach",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_getProductAttributes",498],"(",["T_VARIABLE","$rowData",498],")",["T_WHITESPACE"," ",498],["T_AS","as",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$attrCode",498],["T_WHITESPACE"," ",498],["T_DOUBLE_ARROW","=>",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$attrParams",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$attrParams",499],"[",["T_CONSTANT_ENCAPSED_STRING","'is_static'",499],"]",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n                ",499],["T_CONTINUE","continue",500],";",["T_WHITESPACE","\n            ",500],"}",["T_WHITESPACE","\n            ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(",["T_ISSET","isset",502],"(",["T_VARIABLE","$rowData",502],"[",["T_VARIABLE","$attrCode",502],"]",")",["T_WHITESPACE"," ",502],["T_BOOLEAN_AND","&&",502],["T_WHITESPACE"," ",502],["T_STRING","strlen",502],"(",["T_VARIABLE","$rowData",502],"[",["T_VARIABLE","$attrCode",502],"]",")",")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n                ",502],["T_IF","if",503],["T_WHITESPACE"," ",503],"(",["T_STRING","in_array",503],"(",["T_VARIABLE","$attrParams",503],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",503],"]",",",["T_WHITESPACE"," ",503],"[",["T_CONSTANT_ENCAPSED_STRING","'select'",503],",",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'boolean'",503],"]",")",")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n                    ",503],["T_VARIABLE","$resultAttrs",504],"[",["T_VARIABLE","$attrCode",504],"]",["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$attrParams",504],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",504],"]","[",["T_STRING","strtolower",504],"(",["T_VARIABLE","$rowData",504],"[",["T_VARIABLE","$attrCode",504],"]",")","]",";",["T_WHITESPACE","\n                ",504],"}",["T_WHITESPACE"," ",505],["T_ELSEIF","elseif",505],["T_WHITESPACE"," ",505],"(",["T_CONSTANT_ENCAPSED_STRING","'multiselect'",505],["T_WHITESPACE"," ",505],["T_IS_EQUAL","==",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$attrParams",505],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",505],"]",")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n                    ",505],["T_VARIABLE","$resultAttrs",506],"[",["T_VARIABLE","$attrCode",506],"]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],"[","]",";",["T_WHITESPACE","\n                    ",506],["T_FOREACH","foreach",507],["T_WHITESPACE"," ",507],"(",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_entityModel",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","parseMultiselectValues",507],"(",["T_VARIABLE","$rowData",507],"[",["T_VARIABLE","$attrCode",507],"]",")",["T_WHITESPACE"," ",507],["T_AS","as",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$value",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n                        ",507],["T_VARIABLE","$resultAttrs",508],"[",["T_VARIABLE","$attrCode",508],"]","[","]",["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$attrParams",508],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",508],"]","[",["T_STRING","strtolower",508],"(",["T_VARIABLE","$value",508],")","]",";",["T_WHITESPACE","\n                    ",508],"}",["T_WHITESPACE","\n                    ",509],["T_VARIABLE","$resultAttrs",510],"[",["T_VARIABLE","$attrCode",510],"]",["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_STRING","implode",510],"(",["T_CONSTANT_ENCAPSED_STRING","','",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$resultAttrs",510],"[",["T_VARIABLE","$attrCode",510],"]",")",";",["T_WHITESPACE","\n                ",510],"}",["T_WHITESPACE"," ",511],["T_ELSE","else",511],["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n                    ",511],["T_VARIABLE","$resultAttrs",512],"[",["T_VARIABLE","$attrCode",512],"]",["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$rowData",512],"[",["T_VARIABLE","$attrCode",512],"]",";",["T_WHITESPACE","\n                ",512],"}",["T_WHITESPACE","\n            ",513],"}",["T_WHITESPACE"," ",514],["T_ELSEIF","elseif",514],["T_WHITESPACE"," ",514],"(",["T_STRING","array_key_exists",514],"(",["T_VARIABLE","$attrCode",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$rowData",514],")",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                ",514],["T_VARIABLE","$resultAttrs",515],"[",["T_VARIABLE","$attrCode",515],"]",["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$rowData",515],"[",["T_VARIABLE","$attrCode",515],"]",";",["T_WHITESPACE","\n            ",515],"}",["T_WHITESPACE"," ",516],["T_ELSEIF","elseif",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$withDefaultValue",516],["T_WHITESPACE"," ",516],["T_BOOLEAN_AND","&&",516],["T_WHITESPACE"," ",516],["T_STRING","null",516],["T_WHITESPACE"," ",516],["T_IS_NOT_IDENTICAL","!==",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$attrParams",516],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",516],"]",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n                ",516],["T_VARIABLE","$resultAttrs",517],"[",["T_VARIABLE","$attrCode",517],"]",["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$attrParams",517],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",517],"]",";",["T_WHITESPACE","\n            ",517],"}",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n\n        ",519],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$resultAttrs",521],";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Clear empty columns in the Row Data\n     *\n     * @param array $rowData\n     * @return array\n     *\/",524],["T_WHITESPACE","\n    ",529],["T_PUBLIC","public",530],["T_WHITESPACE"," ",530],["T_FUNCTION","function",530],["T_WHITESPACE"," ",530],["T_STRING","clearEmptyData",530],"(",["T_ARRAY","array",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$rowData",530],")",["T_WHITESPACE","\n    ",530],"{",["T_WHITESPACE","\n        ",531],["T_FOREACH","foreach",532],["T_WHITESPACE"," ",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","_getProductAttributes",532],"(",["T_VARIABLE","$rowData",532],")",["T_WHITESPACE"," ",532],["T_AS","as",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$attrCode",532],["T_WHITESPACE"," ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$attrParams",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n            ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(","!",["T_VARIABLE","$attrParams",533],"[",["T_CONSTANT_ENCAPSED_STRING","'is_static'",533],"]",["T_WHITESPACE"," ",533],["T_BOOLEAN_AND","&&",533],["T_WHITESPACE"," ",533],["T_EMPTY","empty",533],"(",["T_VARIABLE","$rowData",533],"[",["T_VARIABLE","$attrCode",533],"]",")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                ",533],["T_UNSET","unset",534],"(",["T_VARIABLE","$rowData",534],"[",["T_VARIABLE","$attrCode",534],"]",")",";",["T_WHITESPACE","\n            ",534],"}",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n        ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$rowData",537],";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_DOC_COMMENT","\/**\n     * Save product type specific data.\n     *\n     * @return $this\n     *\/",540],["T_WHITESPACE","\n    ",544],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","saveData",545],"(",")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],";",["T_WHITESPACE","\n    ",547],"}",["T_WHITESPACE","\n\n    ",548],["T_DOC_COMMENT","\/**\n     * Get product metadata pool\n     *\n     * @return \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",550],["T_WHITESPACE","\n    ",554],["T_PROTECTED","protected",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","getMetadataPool",555],"(",")",["T_WHITESPACE","\n    ",555],"{",["T_WHITESPACE","\n        ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(","!",["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","metadataPool",557],")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n            ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","metadataPool",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_NS_SEPARATOR","\\",558],["T_STRING","Magento",558],["T_NS_SEPARATOR","\\",558],["T_STRING","Framework",558],["T_NS_SEPARATOR","\\",558],["T_STRING","App",558],["T_NS_SEPARATOR","\\",558],["T_STRING","ObjectManager",558],["T_DOUBLE_COLON","::",558],["T_STRING","getInstance",558],"(",")",["T_WHITESPACE","\n                ",558],["T_OBJECT_OPERATOR","->",559],["T_STRING","get",559],"(",["T_NS_SEPARATOR","\\",559],["T_STRING","Magento",559],["T_NS_SEPARATOR","\\",559],["T_STRING","Framework",559],["T_NS_SEPARATOR","\\",559],["T_STRING","EntityManager",559],["T_NS_SEPARATOR","\\",559],["T_STRING","MetadataPool",559],["T_DOUBLE_COLON","::",559],["T_CLASS","class",559],")",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n        ",560],["T_RETURN","return",561],["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","metadataPool",561],";",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n    ",562],["T_DOC_COMMENT","\/**\n     * Get product entity link field\n     *\n     * @return string\n     *\/",564],["T_WHITESPACE","\n    ",568],["T_PROTECTED","protected",569],["T_WHITESPACE"," ",569],["T_FUNCTION","function",569],["T_WHITESPACE"," ",569],["T_STRING","getProductEntityLinkField",569],"(",")",["T_WHITESPACE","\n    ",569],"{",["T_WHITESPACE","\n        ",570],["T_IF","if",571],["T_WHITESPACE"," ",571],"(","!",["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","productEntityLinkField",571],")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n            ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","productEntityLinkField",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","metadataPool",572],["T_WHITESPACE","\n                ",572],["T_OBJECT_OPERATOR","->",573],["T_STRING","getMetadata",573],"(",["T_NS_SEPARATOR","\\",573],["T_STRING","Magento",573],["T_NS_SEPARATOR","\\",573],["T_STRING","Catalog",573],["T_NS_SEPARATOR","\\",573],["T_STRING","Api",573],["T_NS_SEPARATOR","\\",573],["T_STRING","Data",573],["T_NS_SEPARATOR","\\",573],["T_STRING","ProductInterface",573],["T_DOUBLE_COLON","::",573],["T_CLASS","class",573],")",["T_WHITESPACE","\n                ",573],["T_OBJECT_OPERATOR","->",574],["T_STRING","getLinkField",574],"(",")",";",["T_WHITESPACE","\n        ",574],"}",["T_WHITESPACE","\n        ",575],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","productEntityLinkField",576],";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Clean cached values\n     *\/",579],["T_WHITESPACE","\n    ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","__destruct",582],"(",")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_STRING","self",584],["T_DOUBLE_COLON","::",584],["T_VARIABLE","$attributeCodeToId",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],"[","]",";",["T_WHITESPACE","\n        ",584],["T_STRING","self",585],["T_DOUBLE_COLON","::",585],["T_VARIABLE","$commonAttributesCache",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],"[","]",";",["T_WHITESPACE","\n    ",585],"}",["T_WHITESPACE","\n",586],"}",["T_WHITESPACE","\n",587]]