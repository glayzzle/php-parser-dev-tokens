[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CatalogImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Export",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ImportExport",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Import",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ImportProduct",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Export entity product model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Product",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ImportExport",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Export",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Entity",20],["T_NS_SEPARATOR","\\",20],["T_STRING","AbstractEntity",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Attributes that should be exported\n     *\n     * @var string[]\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_bannedAttributes",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",27],"]",";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Value that means all entities (e.g. websites, groups etc.)\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","VALUE_ALL",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'all'",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Permanent column names.\n     *\n     * Names that begins with underscore is not an attribute. This name convention is for\n     * to avoid interference with same attribute name.\n     *\/",34],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","COL_STORE",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'_store'",40],";",["T_WHITESPACE","\n\n    ",40],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","COL_ATTR_SET",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'_attribute_set'",42],";",["T_WHITESPACE","\n\n    ",42],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","COL_TYPE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'_type'",44],";",["T_WHITESPACE","\n\n    ",44],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","COL_PRODUCT_WEBSITES",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'_product_websites'",46],";",["T_WHITESPACE","\n\n    ",46],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","COL_CATEGORY",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'_category'",48],";",["T_WHITESPACE","\n\n    ",48],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","COL_ROOT_CATEGORY",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'_root_category'",50],";",["T_WHITESPACE","\n\n    ",50],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","COL_SKU",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'sku'",52],";",["T_WHITESPACE","\n\n    ",52],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","COL_VISIBILITY",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'visibility'",54],";",["T_WHITESPACE","\n\n    ",54],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","COL_MEDIA_IMAGE",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'_media_image'",56],";",["T_WHITESPACE","\n\n    ",56],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","COL_ADDITIONAL_ATTRIBUTES",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'additional_attributes'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Pairs of attribute set ID-to-name.\n     *\n     * @var array\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_attrSetIdToName",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Categories ID to text-path hash.\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_categories",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Root category names for each category\n     *\n     * @var array\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_rootCategories",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[","]",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Attributes with index (not label) value.\n     *\n     * @var string[]\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_indexValueAttributes",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'status'",87],",",["T_WHITESPACE","\n    ",87],"]",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$collectedMultiselectsData",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[","]",";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Permanent entity columns.\n     *\n     * @var string[]\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_permanentAttributes",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[",["T_STRING","self",100],["T_DOUBLE_COLON","::",100],["T_STRING","COL_SKU",100],"]",";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Array of supported product types as keys with appropriate model object as value.\n     *\n     * @var array\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_productTypeModels",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"[","]",";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Array of pairs store ID to its code.\n     *\n     * @var array\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_storeIdToCode",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],"[","]",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Website ID-to-code.\n     *\n     * @var array\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_websiteIdToCode",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"[","]",";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Attribute types\n     *\n     * @var array\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_attributeTypes",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[","]",";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Attributes defined by user\n     *\n     * @var array\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PRIVATE","private",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$userDefinedAttributes",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[","]",";",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Product collection\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$_entityCollectionFactory",142],";",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Product collection\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PROTECTED","protected",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$_entityCollection",149],";",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Items per page for collection limitation\n     *\n     * @var null\n     *\/",151],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$_itemsPerPage",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","null",156],";",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Header columns for export file\n     *\n     * @var array\n     *\/",158],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$_headerColumns",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"[","]",";",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Export\\ConfigInterface\n     *\/",165],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$_exportConfig",168],";",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",170],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$_logger",173],";",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\ProductFactory\n     *\/",175],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$_productFactory",178],";",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\Collection\n     *\/",180],["T_WHITESPACE","\n    ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$_attrSetColFactory",183],";",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Collection\n     *\/",185],["T_WHITESPACE","\n    ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$_categoryColFactory",188],";",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",190],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$_resourceModel",193],";",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\ItemFactory\n     *\/",195],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$_itemFactory",198],";",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Option\\Collection\n     *\/",200],["T_WHITESPACE","\n    ",202],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$_optionColFactory",203],";",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Collection\n     *\/",205],["T_WHITESPACE","\n    ",207],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$_attributeColFactory",208],";",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Export\\Product\\Type\\Factory\n     *\/",210],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$_typeFactory",213],";",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Provider of product link types\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\LinkTypeProvider\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$_linkTypeProvider",220],";",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Export\\RowCustomizerInterface\n     *\/",222],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$rowCustomizer",225],";",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Map between import file fields and system fields\/attributes\n     *\n     * @var array\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$_fieldsMap",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"[",["T_WHITESPACE","\n        ",232],["T_CONSTANT_ENCAPSED_STRING","'image'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'base_image'",233],",",["T_WHITESPACE","\n        ",233],["T_CONSTANT_ENCAPSED_STRING","'image_label'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","\"base_image_label\"",234],",",["T_WHITESPACE","\n        ",234],["T_CONSTANT_ENCAPSED_STRING","'image'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'base_image'",235],",",["T_WHITESPACE","\n        ",235],["T_CONSTANT_ENCAPSED_STRING","'image_label'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'base_image_label'",236],",",["T_WHITESPACE","\n        ",236],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_image'",237],",",["T_WHITESPACE","\n        ",237],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_label'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_image_label'",238],",",["T_WHITESPACE","\n        ",238],["T_STRING","self",239],["T_DOUBLE_COLON","::",239],["T_STRING","COL_MEDIA_IMAGE",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'additional_images'",239],",",["T_WHITESPACE","\n        ",239],["T_CONSTANT_ENCAPSED_STRING","'_media_image_label'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'additional_image_labels'",240],",",["T_WHITESPACE","\n        ",240],["T_STRING","Product",241],["T_DOUBLE_COLON","::",241],["T_STRING","COL_STORE",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'store_view_code'",241],",",["T_WHITESPACE","\n        ",241],["T_STRING","Product",242],["T_DOUBLE_COLON","::",242],["T_STRING","COL_ATTR_SET",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_code'",242],",",["T_WHITESPACE","\n        ",242],["T_STRING","Product",243],["T_DOUBLE_COLON","::",243],["T_STRING","COL_TYPE",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'product_type'",243],",",["T_WHITESPACE","\n        ",243],["T_STRING","Product",244],["T_DOUBLE_COLON","::",244],["T_STRING","COL_CATEGORY",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'categories'",244],",",["T_WHITESPACE","\n        ",244],["T_STRING","Product",245],["T_DOUBLE_COLON","::",245],["T_STRING","COL_PRODUCT_WEBSITES",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'product_websites'",245],",",["T_WHITESPACE","\n        ",245],["T_CONSTANT_ENCAPSED_STRING","'status'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'product_online'",246],",",["T_WHITESPACE","\n        ",246],["T_CONSTANT_ENCAPSED_STRING","'news_from_date'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'new_from_date'",247],",",["T_WHITESPACE","\n        ",247],["T_CONSTANT_ENCAPSED_STRING","'news_to_date'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'new_to_date'",248],",",["T_WHITESPACE","\n        ",248],["T_CONSTANT_ENCAPSED_STRING","'options_container'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'display_product_options_in'",249],",",["T_WHITESPACE","\n        ",249],["T_CONSTANT_ENCAPSED_STRING","'minimal_price'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'map_price'",250],",",["T_WHITESPACE","\n        ",250],["T_CONSTANT_ENCAPSED_STRING","'msrp'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'msrp_price'",251],",",["T_WHITESPACE","\n        ",251],["T_CONSTANT_ENCAPSED_STRING","'msrp_enabled'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'map_enabled'",252],",",["T_WHITESPACE","\n        ",252],["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'special_price_from_date'",253],",",["T_WHITESPACE","\n        ",253],["T_CONSTANT_ENCAPSED_STRING","'special_to_date'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'special_price_to_date'",254],",",["T_WHITESPACE","\n        ",254],["T_CONSTANT_ENCAPSED_STRING","'min_qty'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'out_of_stock_qty'",255],",",["T_WHITESPACE","\n        ",255],["T_CONSTANT_ENCAPSED_STRING","'backorders'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'allow_backorders'",256],",",["T_WHITESPACE","\n        ",256],["T_CONSTANT_ENCAPSED_STRING","'min_sale_qty'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'min_cart_qty'",257],",",["T_WHITESPACE","\n        ",257],["T_CONSTANT_ENCAPSED_STRING","'max_sale_qty'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'max_cart_qty'",258],",",["T_WHITESPACE","\n        ",258],["T_CONSTANT_ENCAPSED_STRING","'notify_stock_qty'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'notify_on_stock_below'",259],",",["T_WHITESPACE","\n        ",259],["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'meta_keywords'",260],",",["T_WHITESPACE","\n        ",260],["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'tax_class_name'",261],",",["T_WHITESPACE","\n    ",261],"]",";",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Attributes codes which shows as date\n     *\n     * @var array\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$dateAttrCodes",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],"[",["T_WHITESPACE","\n        ",269],["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",270],",",["T_WHITESPACE","\n        ",270],["T_CONSTANT_ENCAPSED_STRING","'special_to_date'",271],",",["T_WHITESPACE","\n        ",271],["T_CONSTANT_ENCAPSED_STRING","'news_from_date'",272],",",["T_WHITESPACE","\n        ",272],["T_CONSTANT_ENCAPSED_STRING","'news_to_date'",273],",",["T_WHITESPACE","\n        ",273],["T_CONSTANT_ENCAPSED_STRING","'custom_design_from'",274],",",["T_WHITESPACE","\n        ",274],["T_CONSTANT_ENCAPSED_STRING","'custom_design_to'",275],["T_WHITESPACE","\n    ",275],"]",";",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Attributes codes which are appropriate for export and not the part of additional_attributes.\n     *\n     * @var array\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PROTECTED","protected",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$_exportMainAttrCodes",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[",["T_WHITESPACE","\n        ",283],["T_STRING","self",284],["T_DOUBLE_COLON","::",284],["T_STRING","COL_SKU",284],",",["T_WHITESPACE","\n        ",284],["T_CONSTANT_ENCAPSED_STRING","'name'",285],",",["T_WHITESPACE","\n        ",285],["T_CONSTANT_ENCAPSED_STRING","'description'",286],",",["T_WHITESPACE","\n        ",286],["T_CONSTANT_ENCAPSED_STRING","'short_description'",287],",",["T_WHITESPACE","\n        ",287],["T_CONSTANT_ENCAPSED_STRING","'weight'",288],",",["T_WHITESPACE","\n        ",288],["T_CONSTANT_ENCAPSED_STRING","'product_online'",289],",",["T_WHITESPACE","\n        ",289],["T_CONSTANT_ENCAPSED_STRING","'tax_class_name'",290],",",["T_WHITESPACE","\n        ",290],["T_CONSTANT_ENCAPSED_STRING","'visibility'",291],",",["T_WHITESPACE","\n        ",291],["T_CONSTANT_ENCAPSED_STRING","'price'",292],",",["T_WHITESPACE","\n        ",292],["T_CONSTANT_ENCAPSED_STRING","'special_price'",293],",",["T_WHITESPACE","\n        ",293],["T_CONSTANT_ENCAPSED_STRING","'special_price_from_date'",294],",",["T_WHITESPACE","\n        ",294],["T_CONSTANT_ENCAPSED_STRING","'special_price_to_date'",295],",",["T_WHITESPACE","\n        ",295],["T_CONSTANT_ENCAPSED_STRING","'url_key'",296],",",["T_WHITESPACE","\n        ",296],["T_CONSTANT_ENCAPSED_STRING","'meta_title'",297],",",["T_WHITESPACE","\n        ",297],["T_CONSTANT_ENCAPSED_STRING","'meta_keywords'",298],",",["T_WHITESPACE","\n        ",298],["T_CONSTANT_ENCAPSED_STRING","'meta_description'",299],",",["T_WHITESPACE","\n        ",299],["T_CONSTANT_ENCAPSED_STRING","'base_image'",300],",",["T_WHITESPACE","\n        ",300],["T_CONSTANT_ENCAPSED_STRING","'base_image_label'",301],",",["T_WHITESPACE","\n        ",301],["T_CONSTANT_ENCAPSED_STRING","'small_image'",302],",",["T_WHITESPACE","\n        ",302],["T_CONSTANT_ENCAPSED_STRING","'small_image_label'",303],",",["T_WHITESPACE","\n        ",303],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_image'",304],",",["T_WHITESPACE","\n        ",304],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_image_label'",305],",",["T_WHITESPACE","\n        ",305],["T_CONSTANT_ENCAPSED_STRING","'swatch_image'",306],",",["T_WHITESPACE","\n        ",306],["T_CONSTANT_ENCAPSED_STRING","'swatch_image_label'",307],",",["T_WHITESPACE","\n        ",307],["T_CONSTANT_ENCAPSED_STRING","'created_at'",308],",",["T_WHITESPACE","\n        ",308],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",309],",",["T_WHITESPACE","\n        ",309],["T_CONSTANT_ENCAPSED_STRING","'new_from_date'",310],",",["T_WHITESPACE","\n        ",310],["T_CONSTANT_ENCAPSED_STRING","'new_to_date'",311],",",["T_WHITESPACE","\n        ",311],["T_CONSTANT_ENCAPSED_STRING","'display_product_options_in'",312],",",["T_WHITESPACE","\n        ",312],["T_CONSTANT_ENCAPSED_STRING","'map_price'",313],",",["T_WHITESPACE","\n        ",313],["T_CONSTANT_ENCAPSED_STRING","'msrp_price'",314],",",["T_WHITESPACE","\n        ",314],["T_CONSTANT_ENCAPSED_STRING","'map_enabled'",315],",",["T_WHITESPACE","\n        ",315],["T_CONSTANT_ENCAPSED_STRING","'special_price_from_date'",316],",",["T_WHITESPACE","\n        ",316],["T_CONSTANT_ENCAPSED_STRING","'special_price_to_date'",317],",",["T_WHITESPACE","\n        ",317],["T_CONSTANT_ENCAPSED_STRING","'gift_message_available'",318],",",["T_WHITESPACE","\n        ",318],["T_CONSTANT_ENCAPSED_STRING","'custom_design'",319],",",["T_WHITESPACE","\n        ",319],["T_CONSTANT_ENCAPSED_STRING","'custom_design_from'",320],",",["T_WHITESPACE","\n        ",320],["T_CONSTANT_ENCAPSED_STRING","'custom_design_to'",321],",",["T_WHITESPACE","\n        ",321],["T_CONSTANT_ENCAPSED_STRING","'custom_layout_update'",322],",",["T_WHITESPACE","\n        ",322],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",323],",",["T_WHITESPACE","\n        ",323],["T_CONSTANT_ENCAPSED_STRING","'product_options_container'",324],",",["T_WHITESPACE","\n        ",324],["T_CONSTANT_ENCAPSED_STRING","'msrp_price'",325],",",["T_WHITESPACE","\n        ",325],["T_CONSTANT_ENCAPSED_STRING","'msrp_display_actual_price_type'",326],",",["T_WHITESPACE","\n        ",326],["T_CONSTANT_ENCAPSED_STRING","'map_enabled'",327],",",["T_WHITESPACE","\n        ",327],["T_CONSTANT_ENCAPSED_STRING","'country_of_manufacture'",328],",",["T_WHITESPACE","\n        ",328],["T_CONSTANT_ENCAPSED_STRING","'map_price'",329],",",["T_WHITESPACE","\n        ",329],["T_CONSTANT_ENCAPSED_STRING","'display_product_options_in'",330],",",["T_WHITESPACE","\n    ",330],"]",";",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",333],["T_WHITESPACE","\n    ",335],["T_PROTECTED","protected",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$metadataPool",336],";",["T_WHITESPACE","\n\n    ",336],["T_DOC_COMMENT","\/**\n     * Product entity link field\n     *\n     * @var string\n     *\/",338],["T_WHITESPACE","\n    ",342],["T_PRIVATE","private",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$productEntityLinkField",343],";",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Eav\\Model\\Config $config\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $collection\n     * @param \\Magento\\ImportExport\\Model\\Export\\ConfigInterface $exportConfig\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\ProductFactory $productFactory\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory $attrSetColFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Category\\CollectionFactory $categoryColFactory\n     * @param \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\ItemFactory $itemFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Option\\CollectionFactory $optionColFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\CollectionFactory $attributeColFactory\n     * @param Product\\Type\\Factory $_typeFactory\n     * @param \\Magento\\Catalog\\Model\\Product\\LinkTypeProvider $linkTypeProvider\n     * @param \\Magento\\CatalogImportExport\\Model\\Export\\RowCustomizerInterface $rowCustomizer\n     * @param array $dateAttrCodes\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",345],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","__construct",365],"(",["T_WHITESPACE","\n        ",365],["T_NS_SEPARATOR","\\",366],["T_STRING","Magento",366],["T_NS_SEPARATOR","\\",366],["T_STRING","Framework",366],["T_NS_SEPARATOR","\\",366],["T_STRING","Stdlib",366],["T_NS_SEPARATOR","\\",366],["T_STRING","DateTime",366],["T_NS_SEPARATOR","\\",366],["T_STRING","TimezoneInterface",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$localeDate",366],",",["T_WHITESPACE","\n        ",366],["T_NS_SEPARATOR","\\",367],["T_STRING","Magento",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Eav",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Model",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Config",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$config",367],",",["T_WHITESPACE","\n        ",367],["T_NS_SEPARATOR","\\",368],["T_STRING","Magento",368],["T_NS_SEPARATOR","\\",368],["T_STRING","Framework",368],["T_NS_SEPARATOR","\\",368],["T_STRING","App",368],["T_NS_SEPARATOR","\\",368],["T_STRING","ResourceConnection",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$resource",368],",",["T_WHITESPACE","\n        ",368],["T_NS_SEPARATOR","\\",369],["T_STRING","Magento",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Store",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Model",369],["T_NS_SEPARATOR","\\",369],["T_STRING","StoreManagerInterface",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$storeManager",369],",",["T_WHITESPACE","\n        ",369],["T_NS_SEPARATOR","\\",370],["T_STRING","Psr",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Log",370],["T_NS_SEPARATOR","\\",370],["T_STRING","LoggerInterface",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$logger",370],",",["T_WHITESPACE","\n        ",370],["T_NS_SEPARATOR","\\",371],["T_STRING","Magento",371],["T_NS_SEPARATOR","\\",371],["T_STRING","Catalog",371],["T_NS_SEPARATOR","\\",371],["T_STRING","Model",371],["T_NS_SEPARATOR","\\",371],["T_STRING","ResourceModel",371],["T_NS_SEPARATOR","\\",371],["T_STRING","Product",371],["T_NS_SEPARATOR","\\",371],["T_STRING","CollectionFactory",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$collectionFactory",371],",",["T_WHITESPACE","\n        ",371],["T_NS_SEPARATOR","\\",372],["T_STRING","Magento",372],["T_NS_SEPARATOR","\\",372],["T_STRING","ImportExport",372],["T_NS_SEPARATOR","\\",372],["T_STRING","Model",372],["T_NS_SEPARATOR","\\",372],["T_STRING","Export",372],["T_NS_SEPARATOR","\\",372],["T_STRING","ConfigInterface",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$exportConfig",372],",",["T_WHITESPACE","\n        ",372],["T_NS_SEPARATOR","\\",373],["T_STRING","Magento",373],["T_NS_SEPARATOR","\\",373],["T_STRING","Catalog",373],["T_NS_SEPARATOR","\\",373],["T_STRING","Model",373],["T_NS_SEPARATOR","\\",373],["T_STRING","ResourceModel",373],["T_NS_SEPARATOR","\\",373],["T_STRING","ProductFactory",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$productFactory",373],",",["T_WHITESPACE","\n        ",373],["T_NS_SEPARATOR","\\",374],["T_STRING","Magento",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Eav",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Model",374],["T_NS_SEPARATOR","\\",374],["T_STRING","ResourceModel",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Entity",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Attribute",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Set",374],["T_NS_SEPARATOR","\\",374],["T_STRING","CollectionFactory",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$attrSetColFactory",374],",",["T_WHITESPACE","\n        ",374],["T_NS_SEPARATOR","\\",375],["T_STRING","Magento",375],["T_NS_SEPARATOR","\\",375],["T_STRING","Catalog",375],["T_NS_SEPARATOR","\\",375],["T_STRING","Model",375],["T_NS_SEPARATOR","\\",375],["T_STRING","ResourceModel",375],["T_NS_SEPARATOR","\\",375],["T_STRING","Category",375],["T_NS_SEPARATOR","\\",375],["T_STRING","CollectionFactory",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$categoryColFactory",375],",",["T_WHITESPACE","\n        ",375],["T_NS_SEPARATOR","\\",376],["T_STRING","Magento",376],["T_NS_SEPARATOR","\\",376],["T_STRING","CatalogInventory",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Model",376],["T_NS_SEPARATOR","\\",376],["T_STRING","ResourceModel",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Stock",376],["T_NS_SEPARATOR","\\",376],["T_STRING","ItemFactory",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$itemFactory",376],",",["T_WHITESPACE","\n        ",376],["T_NS_SEPARATOR","\\",377],["T_STRING","Magento",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Catalog",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Model",377],["T_NS_SEPARATOR","\\",377],["T_STRING","ResourceModel",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Product",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Option",377],["T_NS_SEPARATOR","\\",377],["T_STRING","CollectionFactory",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$optionColFactory",377],",",["T_WHITESPACE","\n        ",377],["T_NS_SEPARATOR","\\",378],["T_STRING","Magento",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Catalog",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Model",378],["T_NS_SEPARATOR","\\",378],["T_STRING","ResourceModel",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Product",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Attribute",378],["T_NS_SEPARATOR","\\",378],["T_STRING","CollectionFactory",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$attributeColFactory",378],",",["T_WHITESPACE","\n        ",378],["T_NS_SEPARATOR","\\",379],["T_STRING","Magento",379],["T_NS_SEPARATOR","\\",379],["T_STRING","CatalogImportExport",379],["T_NS_SEPARATOR","\\",379],["T_STRING","Model",379],["T_NS_SEPARATOR","\\",379],["T_STRING","Export",379],["T_NS_SEPARATOR","\\",379],["T_STRING","Product",379],["T_NS_SEPARATOR","\\",379],["T_STRING","Type",379],["T_NS_SEPARATOR","\\",379],["T_STRING","Factory",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$_typeFactory",379],",",["T_WHITESPACE","\n        ",379],["T_NS_SEPARATOR","\\",380],["T_STRING","Magento",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Catalog",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Model",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Product",380],["T_NS_SEPARATOR","\\",380],["T_STRING","LinkTypeProvider",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$linkTypeProvider",380],",",["T_WHITESPACE","\n        ",380],["T_NS_SEPARATOR","\\",381],["T_STRING","Magento",381],["T_NS_SEPARATOR","\\",381],["T_STRING","CatalogImportExport",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Model",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Export",381],["T_NS_SEPARATOR","\\",381],["T_STRING","RowCustomizerInterface",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$rowCustomizer",381],",",["T_WHITESPACE","\n        ",381],["T_ARRAY","array",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$dateAttrCodes",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],"[","]",["T_WHITESPACE","\n    ",382],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_entityCollectionFactory",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$collectionFactory",384],";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_exportConfig",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$exportConfig",385],";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_logger",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$logger",386],";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_productFactory",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$productFactory",387],";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_attrSetColFactory",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$attrSetColFactory",388],";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_categoryColFactory",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$categoryColFactory",389],";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_resourceModel",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$resource",390],";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_itemFactory",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$itemFactory",391],";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_optionColFactory",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$optionColFactory",392],";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_attributeColFactory",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$attributeColFactory",393],";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_typeFactory",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$_typeFactory",394],";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_linkTypeProvider",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$linkTypeProvider",395],";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","rowCustomizer",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$rowCustomizer",396],";",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","dateAttrCodes",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","array_merge",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","dateAttrCodes",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$dateAttrCodes",397],")",";",["T_WHITESPACE","\n\n        ",397],["T_STRING","parent",399],["T_DOUBLE_COLON","::",399],["T_STRING","__construct",399],"(",["T_VARIABLE","$localeDate",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$config",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$resource",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$storeManager",399],")",";",["T_WHITESPACE","\n\n        ",399],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","initTypeModels",401],"(",")",["T_WHITESPACE","\n            ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","initAttributes",402],"(",")",["T_WHITESPACE","\n            ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","_initStores",403],"(",")",["T_WHITESPACE","\n            ",403],["T_OBJECT_OPERATOR","->",404],["T_STRING","initAttributeSets",404],"(",")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","initWebsites",405],"(",")",["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","initCategories",406],"(",")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Initialize attribute sets code-to-id pairs.\n     *\n     * @return $this\n     *\/",409],["T_WHITESPACE","\n    ",413],["T_PROTECTED","protected",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","initAttributeSets",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_VARIABLE","$productTypeId",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_productFactory",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","create",416],"(",")",["T_OBJECT_OPERATOR","->",416],["T_STRING","getTypeId",416],"(",")",";",["T_WHITESPACE","\n        ",416],["T_FOREACH","foreach",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_attrSetColFactory",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","create",417],"(",")",["T_OBJECT_OPERATOR","->",417],["T_STRING","setEntityTypeFilter",417],"(",["T_VARIABLE","$productTypeId",417],")",["T_WHITESPACE"," ",417],["T_AS","as",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$attributeSet",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n            ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_attrSetIdToName",418],"[",["T_VARIABLE","$attributeSet",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getId",418],"(",")","]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$attributeSet",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getAttributeSetName",418],"(",")",";",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE","\n        ",419],["T_RETURN","return",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],";",["T_WHITESPACE","\n    ",420],"}",["T_WHITESPACE","\n\n    ",421],["T_DOC_COMMENT","\/**\n     * Initialize categories ID to text-path hash.\n     *\n     * @return $this\n     *\/",423],["T_WHITESPACE","\n    ",427],["T_PROTECTED","protected",428],["T_WHITESPACE"," ",428],["T_FUNCTION","function",428],["T_WHITESPACE"," ",428],["T_STRING","initCategories",428],"(",")",["T_WHITESPACE","\n    ",428],"{",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$collection",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_categoryColFactory",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","create",430],"(",")",["T_OBJECT_OPERATOR","->",430],["T_STRING","addNameToResult",430],"(",")",";",["T_WHITESPACE","\n        ",430],["T_COMMENT","\/* @var $collection \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Collection *\/",431],["T_WHITESPACE","\n        ",431],["T_FOREACH","foreach",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$collection",432],["T_WHITESPACE"," ",432],["T_AS","as",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$category",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$structure",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_STRING","preg_split",433],"(",["T_CONSTANT_ENCAPSED_STRING","'#\/+#'",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$category",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getPath",433],"(",")",")",";",["T_WHITESPACE","\n            ",433],["T_VARIABLE","$pathSize",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_STRING","count",434],"(",["T_VARIABLE","$structure",434],")",";",["T_WHITESPACE","\n            ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$pathSize",435],["T_WHITESPACE"," ",435],">",["T_WHITESPACE"," ",435],["T_LNUMBER","1",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                ",435],["T_VARIABLE","$path",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],"[","]",";",["T_WHITESPACE","\n                ",436],["T_FOR","for",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$i",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_LNUMBER","1",437],";",["T_WHITESPACE"," ",437],["T_VARIABLE","$i",437],["T_WHITESPACE"," ",437],"<",["T_WHITESPACE"," ",437],["T_VARIABLE","$pathSize",437],";",["T_WHITESPACE"," ",437],["T_VARIABLE","$i",437],["T_INC","++",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n                    ",437],["T_VARIABLE","$path",438],"[","]",["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$collection",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getItemById",438],"(",["T_VARIABLE","$structure",438],"[",["T_VARIABLE","$i",438],"]",")",["T_OBJECT_OPERATOR","->",438],["T_STRING","getName",438],"(",")",";",["T_WHITESPACE","\n                ",438],"}",["T_WHITESPACE","\n                ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_rootCategories",440],"[",["T_VARIABLE","$category",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getId",440],"(",")","]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","array_shift",440],"(",["T_VARIABLE","$path",440],")",";",["T_WHITESPACE","\n                ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$pathSize",441],["T_WHITESPACE"," ",441],">",["T_WHITESPACE"," ",441],["T_LNUMBER","2",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n                    ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_categories",442],"[",["T_VARIABLE","$category",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getId",442],"(",")","]",["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","implode",442],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$path",442],")",";",["T_WHITESPACE","\n                ",442],"}",["T_WHITESPACE","\n            ",443],"}",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n        ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],";",["T_WHITESPACE","\n    ",446],"}",["T_WHITESPACE","\n\n    ",447],["T_DOC_COMMENT","\/**\n     * Initialize product type models.\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return $this\n     *\/",449],["T_WHITESPACE","\n    ",454],["T_PROTECTED","protected",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","initTypeModels",455],"(",")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$productTypes",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_exportConfig",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getEntityTypes",457],"(",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getEntityTypeCode",457],"(",")",")",";",["T_WHITESPACE","\n        ",457],["T_FOREACH","foreach",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$productTypes",458],["T_WHITESPACE"," ",458],["T_AS","as",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$productTypeName",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$productTypeConfig",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(","!","(",["T_VARIABLE","$model",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_typeFactory",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","create",459],"(",["T_VARIABLE","$productTypeConfig",459],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",459],"]",")",")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n                ",459],["T_THROW","throw",460],["T_WHITESPACE"," ",460],["T_NEW","new",460],["T_WHITESPACE"," ",460],["T_NS_SEPARATOR","\\",460],["T_STRING","Magento",460],["T_NS_SEPARATOR","\\",460],["T_STRING","Framework",460],["T_NS_SEPARATOR","\\",460],["T_STRING","Exception",460],["T_NS_SEPARATOR","\\",460],["T_STRING","LocalizedException",460],"(",["T_WHITESPACE","\n                    ",460],["T_STRING","__",461],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity type model \\'%1\\' is not found'",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$productTypeConfig",461],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",461],"]",")",["T_WHITESPACE","\n                ",461],")",";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n            ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(","!",["T_VARIABLE","$model",464],["T_WHITESPACE"," ",464],["T_INSTANCEOF","instanceof",464],["T_WHITESPACE"," ",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Magento",464],["T_NS_SEPARATOR","\\",464],["T_STRING","CatalogImportExport",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Model",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Export",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Product",464],["T_NS_SEPARATOR","\\",464],["T_STRING","Type",464],["T_NS_SEPARATOR","\\",464],["T_STRING","AbstractType",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_THROW","throw",465],["T_WHITESPACE"," ",465],["T_NEW","new",465],["T_WHITESPACE"," ",465],["T_NS_SEPARATOR","\\",465],["T_STRING","Magento",465],["T_NS_SEPARATOR","\\",465],["T_STRING","Framework",465],["T_NS_SEPARATOR","\\",465],["T_STRING","Exception",465],["T_NS_SEPARATOR","\\",465],["T_STRING","LocalizedException",465],"(",["T_WHITESPACE","\n                    ",465],["T_STRING","__",466],"(",["T_WHITESPACE","\n                        ",466],["T_CONSTANT_ENCAPSED_STRING","'Entity type model must be an instance of'",467],["T_WHITESPACE","\n                        ",467],".",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","' \\Magento\\CatalogImportExport\\Model\\Export\\Product\\Type\\AbstractType'",468],["T_WHITESPACE","\n                    ",468],")",["T_WHITESPACE","\n                ",469],")",";",["T_WHITESPACE","\n            ",470],"}",["T_WHITESPACE","\n            ",471],["T_IF","if",472],["T_WHITESPACE"," ",472],"(",["T_VARIABLE","$model",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","isSuitable",472],"(",")",")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n                ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","_productTypeModels",473],"[",["T_VARIABLE","$productTypeName",473],"]",["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$model",473],";",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_disabledAttrs",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_STRING","array_merge",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_disabledAttrs",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$model",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getDisabledAttrs",474],"(",")",")",";",["T_WHITESPACE","\n                ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_indexValueAttributes",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_STRING","array_merge",475],"(",["T_WHITESPACE","\n                    ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_indexValueAttributes",476],",",["T_WHITESPACE","\n                    ",476],["T_VARIABLE","$model",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getIndexValueAttributes",477],"(",")",["T_WHITESPACE","\n                ",477],")",";",["T_WHITESPACE","\n            ",478],"}",["T_WHITESPACE","\n        ",479],"}",["T_WHITESPACE","\n        ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(","!",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_productTypeModels",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_THROW","throw",482],["T_WHITESPACE"," ",482],["T_NEW","new",482],["T_WHITESPACE"," ",482],["T_NS_SEPARATOR","\\",482],["T_STRING","Magento",482],["T_NS_SEPARATOR","\\",482],["T_STRING","Framework",482],["T_NS_SEPARATOR","\\",482],["T_STRING","Exception",482],["T_NS_SEPARATOR","\\",482],["T_STRING","LocalizedException",482],"(",["T_WHITESPACE","\n                ",482],["T_STRING","__",483],"(",["T_CONSTANT_ENCAPSED_STRING","'There are no product types available for export.'",483],")",["T_WHITESPACE","\n            ",483],")",";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","_disabledAttrs",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_STRING","array_unique",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","_disabledAttrs",486],")",";",["T_WHITESPACE","\n\n        ",486],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],";",["T_WHITESPACE","\n    ",488],"}",["T_WHITESPACE","\n\n    ",489],["T_DOC_COMMENT","\/**\n     * Initialize website values.\n     *\n     * @return $this\n     *\/",491],["T_WHITESPACE","\n    ",495],["T_PROTECTED","protected",496],["T_WHITESPACE"," ",496],["T_FUNCTION","function",496],["T_WHITESPACE"," ",496],["T_STRING","initWebsites",496],"(",")",["T_WHITESPACE","\n    ",496],"{",["T_WHITESPACE","\n        ",497],["T_DOC_COMMENT","\/** @var $website \\Magento\\Store\\Model\\Website *\/",498],["T_WHITESPACE","\n        ",498],["T_FOREACH","foreach",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","_storeManager",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getWebsites",499],"(",")",["T_WHITESPACE"," ",499],["T_AS","as",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$website",499],")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_websiteIdToCode",500],"[",["T_VARIABLE","$website",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getId",500],"(",")","]",["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$website",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getCode",500],"(",")",";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE","\n        ",501],["T_RETURN","return",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],";",["T_WHITESPACE","\n    ",502],"}",["T_WHITESPACE","\n\n    ",503],["T_DOC_COMMENT","\/**\n     * Prepare products media gallery\n     *\n     * @param  int[] $productIds\n     * @return array\n     *\/",505],["T_WHITESPACE","\n    ",510],["T_PROTECTED","protected",511],["T_WHITESPACE"," ",511],["T_FUNCTION","function",511],["T_WHITESPACE"," ",511],["T_STRING","getMediaGallery",511],"(",["T_ARRAY","array",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$productIds",511],")",["T_WHITESPACE","\n    ",511],"{",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_EMPTY","empty",513],"(",["T_VARIABLE","$productIds",513],")",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_RETURN","return",514],["T_WHITESPACE"," ",514],"[","]",";",["T_WHITESPACE","\n        ",514],"}",["T_WHITESPACE","\n        ",515],["T_VARIABLE","$select",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","_connection",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","select",516],"(",")",["T_OBJECT_OPERATOR","->",516],["T_STRING","from",516],"(",["T_WHITESPACE","\n            ",516],"[",["T_CONSTANT_ENCAPSED_STRING","'mgvte'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_resourceModel",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getTableName",517],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_media_gallery_value_to_entity'",517],")","]",",",["T_WHITESPACE","\n            ",517],"[",["T_WHITESPACE","\n                ",518],"\"",["T_ENCAPSED_AND_WHITESPACE","mgvte.",519],["T_CURLY_OPEN","{",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getProductEntityLinkField",519],"(",")","}","\"",",",["T_WHITESPACE","\n                ",519],["T_CONSTANT_ENCAPSED_STRING","'mgvte.value_id'",520],["T_WHITESPACE","\n            ",520],"]",["T_WHITESPACE","\n        ",521],")",["T_OBJECT_OPERATOR","->",522],["T_STRING","joinLeft",522],"(",["T_WHITESPACE","\n            ",522],"[",["T_CONSTANT_ENCAPSED_STRING","'mg'",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_resourceModel",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getTableName",523],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_media_gallery'",523],")","]",",",["T_WHITESPACE","\n            ",523],["T_CONSTANT_ENCAPSED_STRING","'(mg.value_id = mgvte.value_id)'",524],",",["T_WHITESPACE","\n            ",524],"[",["T_WHITESPACE","\n                ",525],["T_CONSTANT_ENCAPSED_STRING","'mg.attribute_id'",526],",",["T_WHITESPACE","\n                ",526],["T_CONSTANT_ENCAPSED_STRING","'filename'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'mg.value'",527],",",["T_WHITESPACE","\n            ",527],"]",["T_WHITESPACE","\n        ",528],")",["T_OBJECT_OPERATOR","->",529],["T_STRING","joinLeft",529],"(",["T_WHITESPACE","\n            ",529],"[",["T_CONSTANT_ENCAPSED_STRING","'mgv'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_resourceModel",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getTableName",530],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_media_gallery_value'",530],")","]",",",["T_WHITESPACE","\n            ",530],["T_CONSTANT_ENCAPSED_STRING","'(mg.value_id = mgv.value_id AND mgv.store_id = 0)'",531],",",["T_WHITESPACE","\n            ",531],"[",["T_WHITESPACE","\n                ",532],["T_CONSTANT_ENCAPSED_STRING","'mgv.label'",533],",",["T_WHITESPACE","\n                ",533],["T_CONSTANT_ENCAPSED_STRING","'mgv.position'",534],",",["T_WHITESPACE","\n                ",534],["T_CONSTANT_ENCAPSED_STRING","'mgv.disabled'",535],["T_WHITESPACE","\n            ",535],"]",["T_WHITESPACE","\n        ",536],")",["T_OBJECT_OPERATOR","->",537],["T_STRING","where",537],"(",["T_WHITESPACE","\n            ",537],"\"",["T_ENCAPSED_AND_WHITESPACE","mgvte.",538],["T_CURLY_OPEN","{",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getProductEntityLinkField",538],"(",")","}",["T_ENCAPSED_AND_WHITESPACE"," IN (?)",538],"\"",",",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$productIds",539],["T_WHITESPACE","\n        ",539],")",";",["T_WHITESPACE","\n\n        ",540],["T_VARIABLE","$rowMediaGallery",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],"[","]",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$stmt",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","_connection",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","query",543],"(",["T_VARIABLE","$select",543],")",";",["T_WHITESPACE","\n        ",543],["T_WHILE","while",544],["T_WHITESPACE"," ",544],"(",["T_VARIABLE","$mediaRow",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_VARIABLE","$stmt",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","fetch",544],"(",")",")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$rowMediaGallery",545],"[",["T_VARIABLE","$mediaRow",545],"[",["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getProductEntityLinkField",545],"(",")","]","]","[","]",["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],"[",["T_WHITESPACE","\n                ",545],["T_CONSTANT_ENCAPSED_STRING","'_media_attribute_id'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$mediaRow",546],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",546],"]",",",["T_WHITESPACE","\n                ",546],["T_CONSTANT_ENCAPSED_STRING","'_media_image'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$mediaRow",547],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",547],"]",",",["T_WHITESPACE","\n                ",547],["T_CONSTANT_ENCAPSED_STRING","'_media_label'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$mediaRow",548],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",548],"]",",",["T_WHITESPACE","\n                ",548],["T_CONSTANT_ENCAPSED_STRING","'_media_position'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$mediaRow",549],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",549],"]",",",["T_WHITESPACE","\n                ",549],["T_CONSTANT_ENCAPSED_STRING","'_media_is_disabled'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$mediaRow",550],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",550],"]",",",["T_WHITESPACE","\n            ",550],"]",";",["T_WHITESPACE","\n        ",551],"}",["T_WHITESPACE","\n\n        ",552],["T_RETURN","return",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$rowMediaGallery",554],";",["T_WHITESPACE","\n    ",554],"}",["T_WHITESPACE","\n\n    ",555],["T_DOC_COMMENT","\/**\n     * Prepare catalog inventory\n     *\n     * @param  int[] $productIds\n     * @return array\n     *\/",557],["T_WHITESPACE","\n    ",562],["T_PROTECTED","protected",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","prepareCatalogInventory",563],"(",["T_ARRAY","array",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$productIds",563],")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_EMPTY","empty",565],"(",["T_VARIABLE","$productIds",565],")",")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n            ",565],["T_RETURN","return",566],["T_WHITESPACE"," ",566],"[","]",";",["T_WHITESPACE","\n        ",566],"}",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$select",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_connection",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","select",568],"(",")",["T_OBJECT_OPERATOR","->",568],["T_STRING","from",568],"(",["T_WHITESPACE","\n            ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_itemFactory",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","create",569],"(",")",["T_OBJECT_OPERATOR","->",569],["T_STRING","getMainTable",569],"(",")",["T_WHITESPACE","\n        ",569],")",["T_OBJECT_OPERATOR","->",570],["T_STRING","where",570],"(",["T_WHITESPACE","\n            ",570],["T_CONSTANT_ENCAPSED_STRING","'product_id IN (?)'",571],",",["T_WHITESPACE","\n            ",571],["T_VARIABLE","$productIds",572],["T_WHITESPACE","\n        ",572],")",";",["T_WHITESPACE","\n\n        ",573],["T_VARIABLE","$stmt",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_connection",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","query",575],"(",["T_VARIABLE","$select",575],")",";",["T_WHITESPACE","\n        ",575],["T_VARIABLE","$stockItemRows",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],"[","]",";",["T_WHITESPACE","\n        ",576],["T_WHILE","while",577],["T_WHITESPACE"," ",577],"(",["T_VARIABLE","$stockItemRow",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_VARIABLE","$stmt",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","fetch",577],"(",")",")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n            ",577],["T_VARIABLE","$productId",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$stockItemRow",578],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",578],"]",";",["T_WHITESPACE","\n            ",578],["T_UNSET","unset",579],"(",["T_WHITESPACE","\n                ",579],["T_VARIABLE","$stockItemRow",580],"[",["T_CONSTANT_ENCAPSED_STRING","'item_id'",580],"]",",",["T_WHITESPACE","\n                ",580],["T_VARIABLE","$stockItemRow",581],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",581],"]",",",["T_WHITESPACE","\n                ",581],["T_VARIABLE","$stockItemRow",582],"[",["T_CONSTANT_ENCAPSED_STRING","'low_stock_date'",582],"]",",",["T_WHITESPACE","\n                ",582],["T_VARIABLE","$stockItemRow",583],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_id'",583],"]",",",["T_WHITESPACE","\n                ",583],["T_VARIABLE","$stockItemRow",584],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_status_changed_auto'",584],"]",["T_WHITESPACE","\n            ",584],")",";",["T_WHITESPACE","\n            ",585],["T_VARIABLE","$stockItemRows",586],"[",["T_VARIABLE","$productId",586],"]",["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_VARIABLE","$stockItemRow",586],";",["T_WHITESPACE","\n        ",586],"}",["T_WHITESPACE","\n        ",587],["T_RETURN","return",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$stockItemRows",588],";",["T_WHITESPACE","\n    ",588],"}",["T_WHITESPACE","\n\n    ",589],["T_DOC_COMMENT","\/**\n     * Prepare product links\n     *\n     * @param  int[] $productIds\n     * @return array\n     *\/",591],["T_WHITESPACE","\n    ",596],["T_PROTECTED","protected",597],["T_WHITESPACE"," ",597],["T_FUNCTION","function",597],["T_WHITESPACE"," ",597],["T_STRING","prepareLinks",597],"(",["T_ARRAY","array",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$productIds",597],")",["T_WHITESPACE","\n    ",597],"{",["T_WHITESPACE","\n        ",598],["T_IF","if",599],["T_WHITESPACE"," ",599],"(",["T_EMPTY","empty",599],"(",["T_VARIABLE","$productIds",599],")",")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n            ",599],["T_RETURN","return",600],["T_WHITESPACE"," ",600],"[","]",";",["T_WHITESPACE","\n        ",600],"}",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$select",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","_connection",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","select",602],"(",")",["T_OBJECT_OPERATOR","->",602],["T_STRING","from",602],"(",["T_WHITESPACE","\n            ",602],"[",["T_CONSTANT_ENCAPSED_STRING","'cpl'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","_resourceModel",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getTableName",603],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link'",603],")","]",",",["T_WHITESPACE","\n            ",603],"[",["T_WHITESPACE","\n                ",604],["T_CONSTANT_ENCAPSED_STRING","'cpl.product_id'",605],",",["T_WHITESPACE","\n                ",605],["T_CONSTANT_ENCAPSED_STRING","'cpe.sku'",606],",",["T_WHITESPACE","\n                ",606],["T_CONSTANT_ENCAPSED_STRING","'cpl.link_type_id'",607],",",["T_WHITESPACE","\n                ",607],["T_CONSTANT_ENCAPSED_STRING","'position'",608],["T_WHITESPACE"," ",608],["T_DOUBLE_ARROW","=>",608],["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'cplai.value'",608],",",["T_WHITESPACE","\n                ",608],["T_CONSTANT_ENCAPSED_STRING","'default_qty'",609],["T_WHITESPACE"," ",609],["T_DOUBLE_ARROW","=>",609],["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","'cplad.value'",609],["T_WHITESPACE","\n            ",609],"]",["T_WHITESPACE","\n        ",610],")",["T_OBJECT_OPERATOR","->",611],["T_STRING","joinLeft",611],"(",["T_WHITESPACE","\n            ",611],"[",["T_CONSTANT_ENCAPSED_STRING","'cpe'",612],["T_WHITESPACE"," ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_resourceModel",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getTableName",612],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",612],")","]",",",["T_WHITESPACE","\n            ",612],["T_CONSTANT_ENCAPSED_STRING","'(cpe.entity_id = cpl.linked_product_id)'",613],",",["T_WHITESPACE","\n            ",613],"[","]",["T_WHITESPACE","\n        ",614],")",["T_OBJECT_OPERATOR","->",615],["T_STRING","joinLeft",615],"(",["T_WHITESPACE","\n            ",615],"[",["T_CONSTANT_ENCAPSED_STRING","'cpla'",616],["T_WHITESPACE"," ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_resourceModel",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getTableName",616],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link_attribute'",616],")","]",",",["T_WHITESPACE","\n            ",616],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","_connection",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","quoteInto",617],"(",["T_WHITESPACE","\n                ",617],["T_CONSTANT_ENCAPSED_STRING","'(cpla.link_type_id = cpl.link_type_id AND cpla.product_link_attribute_code = ?)'",618],",",["T_WHITESPACE","\n                ",618],["T_CONSTANT_ENCAPSED_STRING","'position'",619],["T_WHITESPACE","\n            ",619],")",",",["T_WHITESPACE","\n            ",620],"[","]",["T_WHITESPACE","\n        ",621],")",["T_OBJECT_OPERATOR","->",622],["T_STRING","joinLeft",622],"(",["T_WHITESPACE","\n            ",622],"[",["T_CONSTANT_ENCAPSED_STRING","'cplaq'",623],["T_WHITESPACE"," ",623],["T_DOUBLE_ARROW","=>",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_resourceModel",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getTableName",623],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link_attribute'",623],")","]",",",["T_WHITESPACE","\n            ",623],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","_connection",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","quoteInto",624],"(",["T_WHITESPACE","\n                ",624],["T_CONSTANT_ENCAPSED_STRING","'(cplaq.link_type_id = cpl.link_type_id AND cplaq.product_link_attribute_code = ?)'",625],",",["T_WHITESPACE","\n                ",625],["T_CONSTANT_ENCAPSED_STRING","'qty'",626],["T_WHITESPACE","\n            ",626],")",",",["T_WHITESPACE","\n            ",627],"[","]",["T_WHITESPACE","\n        ",628],")",["T_OBJECT_OPERATOR","->",629],["T_STRING","joinLeft",629],"(",["T_WHITESPACE","\n            ",629],"[",["T_CONSTANT_ENCAPSED_STRING","'cplai'",630],["T_WHITESPACE"," ",630],["T_DOUBLE_ARROW","=>",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","_resourceModel",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getTableName",630],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link_attribute_int'",630],")","]",",",["T_WHITESPACE","\n            ",630],["T_CONSTANT_ENCAPSED_STRING","'(cplai.link_id = cpl.link_id AND cplai.product_link_attribute_id = cpla.product_link_attribute_id)'",631],",",["T_WHITESPACE","\n            ",631],"[","]",["T_WHITESPACE","\n        ",632],")",["T_OBJECT_OPERATOR","->",633],["T_STRING","joinLeft",633],"(",["T_WHITESPACE","\n            ",633],"[",["T_CONSTANT_ENCAPSED_STRING","'cplad'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","_resourceModel",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getTableName",634],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link_attribute_decimal'",634],")","]",",",["T_WHITESPACE","\n            ",634],["T_CONSTANT_ENCAPSED_STRING","'(cplad.link_id = cpl.link_id AND cplad.product_link_attribute_id = cplaq.product_link_attribute_id)'",635],",",["T_WHITESPACE","\n            ",635],"[","]",["T_WHITESPACE","\n        ",636],")",["T_OBJECT_OPERATOR","->",637],["T_STRING","where",637],"(",["T_WHITESPACE","\n            ",637],["T_CONSTANT_ENCAPSED_STRING","'cpl.link_type_id IN (?)'",638],",",["T_WHITESPACE","\n            ",638],["T_STRING","array_values",639],"(",["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","_linkTypeProvider",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","getLinkTypes",639],"(",")",")",["T_WHITESPACE","\n        ",639],")",["T_OBJECT_OPERATOR","->",640],["T_STRING","where",640],"(",["T_WHITESPACE","\n            ",640],["T_CONSTANT_ENCAPSED_STRING","'cpl.product_id IN (?)'",641],",",["T_WHITESPACE","\n            ",641],["T_VARIABLE","$productIds",642],["T_WHITESPACE","\n        ",642],")",";",["T_WHITESPACE","\n\n        ",643],["T_VARIABLE","$stmt",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_connection",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","query",645],"(",["T_VARIABLE","$select",645],")",";",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$linksRows",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],"[","]",";",["T_WHITESPACE","\n        ",646],["T_WHILE","while",647],["T_WHITESPACE"," ",647],"(",["T_VARIABLE","$linksRow",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_VARIABLE","$stmt",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","fetch",647],"(",")",")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$linksRows",648],"[",["T_VARIABLE","$linksRow",648],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",648],"]","]","[",["T_VARIABLE","$linksRow",648],"[",["T_CONSTANT_ENCAPSED_STRING","'link_type_id'",648],"]","]","[","]",["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],"[",["T_WHITESPACE","\n                ",648],["T_CONSTANT_ENCAPSED_STRING","'sku'",649],["T_WHITESPACE"," ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$linksRow",649],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",649],"]",",",["T_WHITESPACE","\n                ",649],["T_CONSTANT_ENCAPSED_STRING","'position'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$linksRow",650],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",650],"]",",",["T_WHITESPACE","\n                ",650],["T_CONSTANT_ENCAPSED_STRING","'default_qty'",651],["T_WHITESPACE"," ",651],["T_DOUBLE_ARROW","=>",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$linksRow",651],"[",["T_CONSTANT_ENCAPSED_STRING","'default_qty'",651],"]",",",["T_WHITESPACE","\n            ",651],"]",";",["T_WHITESPACE","\n        ",652],"}",["T_WHITESPACE","\n\n        ",653],["T_RETURN","return",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$linksRows",655],";",["T_WHITESPACE","\n    ",655],"}",["T_WHITESPACE","\n\n    ",656],["T_DOC_COMMENT","\/**\n     * Update data row with information about categories. Return true, if data row was updated\n     *\n     * @param array &$dataRow\n     * @param array &$rowCategories\n     * @param int $productId\n     * @return bool\n     *\/",658],["T_WHITESPACE","\n    ",665],["T_PROTECTED","protected",666],["T_WHITESPACE"," ",666],["T_FUNCTION","function",666],["T_WHITESPACE"," ",666],["T_STRING","updateDataWithCategoryColumns",666],"(","&",["T_VARIABLE","$dataRow",666],",",["T_WHITESPACE"," ",666],"&",["T_VARIABLE","$rowCategories",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$productId",666],")",["T_WHITESPACE","\n    ",666],"{",["T_WHITESPACE","\n        ",667],["T_IF","if",668],["T_WHITESPACE"," ",668],"(","!",["T_ISSET","isset",668],"(",["T_VARIABLE","$rowCategories",668],"[",["T_VARIABLE","$productId",668],"]",")",")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n            ",668],["T_RETURN","return",669],["T_WHITESPACE"," ",669],["T_STRING","false",669],";",["T_WHITESPACE","\n        ",669],"}",["T_WHITESPACE","\n        ",670],["T_VARIABLE","$categories",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],"[","]",";",["T_WHITESPACE","\n        ",671],["T_FOREACH","foreach",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$rowCategories",672],"[",["T_VARIABLE","$productId",672],"]",["T_WHITESPACE"," ",672],["T_AS","as",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$categoryId",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n            ",672],["T_VARIABLE","$categoryPath",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","_rootCategories",673],"[",["T_VARIABLE","$categoryId",673],"]",";",["T_WHITESPACE","\n            ",673],["T_IF","if",674],["T_WHITESPACE"," ",674],"(",["T_ISSET","isset",674],"(",["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_categories",674],"[",["T_VARIABLE","$categoryId",674],"]",")",")",["T_WHITESPACE"," ",674],"{",["T_WHITESPACE","\n                ",674],["T_VARIABLE","$categoryPath",675],["T_WHITESPACE"," ",675],["T_CONCAT_EQUAL",".=",675],["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'\/'",675],["T_WHITESPACE"," ",675],".",["T_WHITESPACE"," ",675],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","_categories",675],"[",["T_VARIABLE","$categoryId",675],"]",";",["T_WHITESPACE","\n            ",675],"}",["T_WHITESPACE","\n            ",676],["T_VARIABLE","$categories",677],"[","]",["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_VARIABLE","$categoryPath",677],";",["T_WHITESPACE","\n        ",677],"}",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$dataRow",679],"[",["T_STRING","self",679],["T_DOUBLE_COLON","::",679],["T_STRING","COL_CATEGORY",679],"]",["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_STRING","implode",679],"(",["T_STRING","Import",679],["T_DOUBLE_COLON","::",679],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",679],",",["T_WHITESPACE"," ",679],["T_VARIABLE","$categories",679],")",";",["T_WHITESPACE","\n        ",679],["T_UNSET","unset",680],"(",["T_VARIABLE","$rowCategories",680],"[",["T_VARIABLE","$productId",680],"]",")",";",["T_WHITESPACE","\n\n        ",680],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_STRING","true",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",685],["T_WHITESPACE","\n    ",687],["T_PUBLIC","public",688],["T_WHITESPACE"," ",688],["T_FUNCTION","function",688],["T_WHITESPACE"," ",688],["T_STRING","_getHeaderColumns",688],"(",")",["T_WHITESPACE","\n    ",688],"{",["T_WHITESPACE","\n        ",689],["T_RETURN","return",690],["T_WHITESPACE"," ",690],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","_customHeadersMapping",690],"(",["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","_headerColumns",690],")",";",["T_WHITESPACE","\n    ",690],"}",["T_WHITESPACE","\n\n    ",691],["T_DOC_COMMENT","\/**\n     * Set headers columns\n     *\n     * @param array $customOptionsData\n     * @param array $stockItemRows\n     * @return void\n     *\/",693],["T_WHITESPACE","\n    ",699],["T_PROTECTED","protected",700],["T_WHITESPACE"," ",700],["T_FUNCTION","function",700],["T_WHITESPACE"," ",700],["T_STRING","setHeaderColumns",700],"(",["T_VARIABLE","$customOptionsData",700],",",["T_WHITESPACE"," ",700],["T_VARIABLE","$stockItemRows",700],")",["T_WHITESPACE","\n    ",700],"{",["T_WHITESPACE","\n        ",701],["T_IF","if",702],["T_WHITESPACE"," ",702],"(","!",["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","_headerColumns",702],")",["T_WHITESPACE"," ",702],"{",["T_WHITESPACE","\n            ",702],["T_VARIABLE","$customOptCols",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],"[",["T_WHITESPACE","\n                ",703],["T_CONSTANT_ENCAPSED_STRING","'custom_options'",704],",",["T_WHITESPACE","\n            ",704],"]",";",["T_WHITESPACE","\n            ",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","_headerColumns",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_STRING","array_merge",706],"(",["T_WHITESPACE","\n                ",706],"[",["T_WHITESPACE","\n                    ",707],["T_STRING","self",708],["T_DOUBLE_COLON","::",708],["T_STRING","COL_SKU",708],",",["T_WHITESPACE","\n                    ",708],["T_STRING","self",709],["T_DOUBLE_COLON","::",709],["T_STRING","COL_STORE",709],",",["T_WHITESPACE","\n                    ",709],["T_STRING","self",710],["T_DOUBLE_COLON","::",710],["T_STRING","COL_ATTR_SET",710],",",["T_WHITESPACE","\n                    ",710],["T_STRING","self",711],["T_DOUBLE_COLON","::",711],["T_STRING","COL_TYPE",711],",",["T_WHITESPACE","\n                    ",711],["T_STRING","self",712],["T_DOUBLE_COLON","::",712],["T_STRING","COL_CATEGORY",712],",",["T_WHITESPACE","\n                    ",712],["T_STRING","self",713],["T_DOUBLE_COLON","::",713],["T_STRING","COL_PRODUCT_WEBSITES",713],",",["T_WHITESPACE","\n                ",713],"]",",",["T_WHITESPACE","\n                ",714],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","_getExportMainAttrCodes",715],"(",")",",",["T_WHITESPACE","\n                ",715],"[",["T_STRING","self",716],["T_DOUBLE_COLON","::",716],["T_STRING","COL_ADDITIONAL_ATTRIBUTES",716],"]",",",["T_WHITESPACE","\n                ",716],["T_STRING","reset",717],"(",["T_VARIABLE","$stockItemRows",717],")",["T_WHITESPACE"," ",717],"?",["T_WHITESPACE"," ",717],["T_STRING","array_keys",717],"(",["T_STRING","end",717],"(",["T_VARIABLE","$stockItemRows",717],")",")",["T_WHITESPACE"," ",717],":",["T_WHITESPACE"," ",717],"[","]",",",["T_WHITESPACE","\n                ",717],"[","]",",",["T_WHITESPACE","\n                ",718],"[",["T_WHITESPACE","\n                    ",719],["T_CONSTANT_ENCAPSED_STRING","'related_skus'",720],",",["T_WHITESPACE","\n                    ",720],["T_CONSTANT_ENCAPSED_STRING","'related_position'",721],",",["T_WHITESPACE","\n                    ",721],["T_CONSTANT_ENCAPSED_STRING","'crosssell_skus'",722],",",["T_WHITESPACE","\n                    ",722],["T_CONSTANT_ENCAPSED_STRING","'crosssell_position'",723],",",["T_WHITESPACE","\n                    ",723],["T_CONSTANT_ENCAPSED_STRING","'upsell_skus'",724],",",["T_WHITESPACE","\n                    ",724],["T_CONSTANT_ENCAPSED_STRING","'upsell_position'",725],["T_WHITESPACE","\n                ",725],"]",",",["T_WHITESPACE","\n                ",726],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_images'",727],",",["T_WHITESPACE"," ",727],["T_CONSTANT_ENCAPSED_STRING","'additional_image_labels'",727],",",["T_WHITESPACE"," ",727],["T_CONSTANT_ENCAPSED_STRING","'hide_from_product_page'",727],"]",["T_WHITESPACE","\n            ",727],")",";",["T_WHITESPACE","\n            ",728],["T_COMMENT","\/\/ have we merge custom options columns\n",729],["T_WHITESPACE","            ",730],["T_IF","if",730],["T_WHITESPACE"," ",730],"(",["T_VARIABLE","$customOptionsData",730],")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n                ",730],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_headerColumns",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_STRING","array_merge",731],"(",["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_headerColumns",731],",",["T_WHITESPACE"," ",731],["T_VARIABLE","$customOptCols",731],")",";",["T_WHITESPACE","\n            ",731],"}",["T_WHITESPACE","\n        ",732],"}",["T_WHITESPACE","\n    ",733],"}",["T_WHITESPACE","\n\n    ",734],["T_DOC_COMMENT","\/**\n     * Get attributes codes which are appropriate for export and not the part of additional_attributes.\n     *\n     * @return array\n     *\/",736],["T_WHITESPACE","\n    ",740],["T_PROTECTED","protected",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","_getExportMainAttrCodes",741],"(",")",["T_WHITESPACE","\n    ",741],"{",["T_WHITESPACE","\n        ",742],["T_RETURN","return",743],["T_WHITESPACE"," ",743],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","_exportMainAttrCodes",743],";",["T_WHITESPACE","\n    ",743],"}",["T_WHITESPACE","\n\n    ",744],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",746],["T_WHITESPACE","\n    ",748],["T_PROTECTED","protected",749],["T_WHITESPACE"," ",749],["T_FUNCTION","function",749],["T_WHITESPACE"," ",749],["T_STRING","_getEntityCollection",749],"(",["T_VARIABLE","$resetCollection",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","false",749],")",["T_WHITESPACE","\n    ",749],"{",["T_WHITESPACE","\n        ",750],["T_IF","if",751],["T_WHITESPACE"," ",751],"(",["T_VARIABLE","$resetCollection",751],["T_WHITESPACE"," ",751],["T_BOOLEAN_OR","||",751],["T_WHITESPACE"," ",751],["T_EMPTY","empty",751],"(",["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","_entityCollection",751],")",")",["T_WHITESPACE"," ",751],"{",["T_WHITESPACE","\n            ",751],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_entityCollection",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_entityCollectionFactory",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","create",752],"(",")",";",["T_WHITESPACE","\n        ",752],"}",["T_WHITESPACE","\n        ",753],["T_RETURN","return",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","_entityCollection",754],";",["T_WHITESPACE","\n    ",754],"}",["T_WHITESPACE","\n\n    ",755],["T_DOC_COMMENT","\/**\n     * Get items per page\n     *\n     * @return int\n     *\/",757],["T_WHITESPACE","\n    ",761],["T_PROTECTED","protected",762],["T_WHITESPACE"," ",762],["T_FUNCTION","function",762],["T_WHITESPACE"," ",762],["T_STRING","getItemsPerPage",762],"(",")",["T_WHITESPACE","\n    ",762],"{",["T_WHITESPACE","\n        ",763],["T_IF","if",764],["T_WHITESPACE"," ",764],"(",["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_itemsPerPage",764],["T_WHITESPACE"," ",764],["T_IS_IDENTICAL","===",764],["T_WHITESPACE"," ",764],["T_STRING","null",764],")",["T_WHITESPACE"," ",764],"{",["T_WHITESPACE","\n            ",764],["T_VARIABLE","$memoryLimit",765],["T_WHITESPACE"," ",765],"=",["T_WHITESPACE"," ",765],["T_STRING","trim",765],"(",["T_STRING","ini_get",765],"(",["T_CONSTANT_ENCAPSED_STRING","'memory_limit'",765],")",")",";",["T_WHITESPACE","\n            ",765],["T_VARIABLE","$lastMemoryLimitLetter",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_STRING","strtolower",766],"(",["T_VARIABLE","$memoryLimit",766],"[",["T_STRING","strlen",766],"(",["T_VARIABLE","$memoryLimit",766],")",["T_WHITESPACE"," ",766],"-",["T_WHITESPACE"," ",766],["T_LNUMBER","1",766],"]",")",";",["T_WHITESPACE","\n            ",766],["T_SWITCH","switch",767],["T_WHITESPACE"," ",767],"(",["T_VARIABLE","$lastMemoryLimitLetter",767],")",["T_WHITESPACE"," ",767],"{",["T_WHITESPACE","\n                ",767],["T_CASE","case",768],["T_WHITESPACE"," ",768],["T_CONSTANT_ENCAPSED_STRING","'g'",768],":",["T_WHITESPACE","\n                    ",768],["T_VARIABLE","$memoryLimit",769],["T_WHITESPACE"," ",769],["T_MUL_EQUAL","*=",769],["T_WHITESPACE"," ",769],["T_LNUMBER","1024",769],";",["T_WHITESPACE","\n                    ",769],["T_COMMENT","\/\/ fall-through intentional\n",770],["T_WHITESPACE","                ",771],["T_CASE","case",771],["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","'m'",771],":",["T_WHITESPACE","\n                    ",771],["T_VARIABLE","$memoryLimit",772],["T_WHITESPACE"," ",772],["T_MUL_EQUAL","*=",772],["T_WHITESPACE"," ",772],["T_LNUMBER","1024",772],";",["T_WHITESPACE","\n                    ",772],["T_COMMENT","\/\/ fall-through intentional\n",773],["T_WHITESPACE","                ",774],["T_CASE","case",774],["T_WHITESPACE"," ",774],["T_CONSTANT_ENCAPSED_STRING","'k'",774],":",["T_WHITESPACE","\n                    ",774],["T_VARIABLE","$memoryLimit",775],["T_WHITESPACE"," ",775],["T_MUL_EQUAL","*=",775],["T_WHITESPACE"," ",775],["T_LNUMBER","1024",775],";",["T_WHITESPACE","\n                    ",775],["T_BREAK","break",776],";",["T_WHITESPACE","\n                ",776],["T_DEFAULT","default",777],":",["T_WHITESPACE","\n                    ",777],["T_COMMENT","\/\/ minimum memory required by Magento\n",778],["T_WHITESPACE","                    ",779],["T_VARIABLE","$memoryLimit",779],["T_WHITESPACE"," ",779],"=",["T_WHITESPACE"," ",779],["T_LNUMBER","250000000",779],";",["T_WHITESPACE","\n            ",779],"}",["T_WHITESPACE","\n\n            ",780],["T_COMMENT","\/\/ Tested one product to have up to such size\n",782],["T_WHITESPACE","            ",783],["T_VARIABLE","$memoryPerProduct",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],["T_LNUMBER","100000",783],";",["T_WHITESPACE","\n            ",783],["T_COMMENT","\/\/ Decrease memory limit to have supply\n",784],["T_WHITESPACE","            ",785],["T_VARIABLE","$memoryUsagePercent",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_DNUMBER","0.8",785],";",["T_WHITESPACE","\n            ",785],["T_COMMENT","\/\/ Minimum Products limit\n",786],["T_WHITESPACE","            ",787],["T_VARIABLE","$minProductsLimit",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_LNUMBER","500",787],";",["T_WHITESPACE","\n            ",787],["T_COMMENT","\/\/ Maximal Products limit\n",788],["T_WHITESPACE","            ",789],["T_VARIABLE","$maxProductsLimit",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_LNUMBER","5000",789],";",["T_WHITESPACE","\n\n            ",789],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","_itemsPerPage",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_STRING","intval",791],"(",["T_WHITESPACE","\n                ",791],"(",["T_VARIABLE","$memoryLimit",792],["T_WHITESPACE"," ",792],"*",["T_WHITESPACE"," ",792],["T_VARIABLE","$memoryUsagePercent",792],["T_WHITESPACE"," ",792],"-",["T_WHITESPACE"," ",792],["T_STRING","memory_get_usage",792],"(",["T_STRING","true",792],")",")",["T_WHITESPACE"," ",792],"\/",["T_WHITESPACE"," ",792],["T_VARIABLE","$memoryPerProduct",792],["T_WHITESPACE","\n            ",792],")",";",["T_WHITESPACE","\n            ",793],["T_IF","if",794],["T_WHITESPACE"," ",794],"(",["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","_itemsPerPage",794],["T_WHITESPACE"," ",794],"<",["T_WHITESPACE"," ",794],["T_VARIABLE","$minProductsLimit",794],")",["T_WHITESPACE"," ",794],"{",["T_WHITESPACE","\n                ",794],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","_itemsPerPage",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_VARIABLE","$minProductsLimit",795],";",["T_WHITESPACE","\n            ",795],"}",["T_WHITESPACE","\n            ",796],["T_IF","if",797],["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","_itemsPerPage",797],["T_WHITESPACE"," ",797],">",["T_WHITESPACE"," ",797],["T_VARIABLE","$maxProductsLimit",797],")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n                ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","_itemsPerPage",798],["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],["T_VARIABLE","$maxProductsLimit",798],";",["T_WHITESPACE","\n            ",798],"}",["T_WHITESPACE","\n        ",799],"}",["T_WHITESPACE","\n        ",800],["T_RETURN","return",801],["T_WHITESPACE"," ",801],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","_itemsPerPage",801],";",["T_WHITESPACE","\n    ",801],"}",["T_WHITESPACE","\n\n    ",802],["T_DOC_COMMENT","\/**\n     * Set page and page size to collection\n     *\n     * @param int $page\n     * @param int $pageSize\n     * @return void\n     *\/",804],["T_WHITESPACE","\n    ",810],["T_PROTECTED","protected",811],["T_WHITESPACE"," ",811],["T_FUNCTION","function",811],["T_WHITESPACE"," ",811],["T_STRING","paginateCollection",811],"(",["T_VARIABLE","$page",811],",",["T_WHITESPACE"," ",811],["T_VARIABLE","$pageSize",811],")",["T_WHITESPACE","\n    ",811],"{",["T_WHITESPACE","\n        ",812],["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","_getEntityCollection",813],"(",")",["T_OBJECT_OPERATOR","->",813],["T_STRING","setPage",813],"(",["T_VARIABLE","$page",813],",",["T_WHITESPACE"," ",813],["T_VARIABLE","$pageSize",813],")",";",["T_WHITESPACE","\n    ",813],"}",["T_WHITESPACE","\n\n    ",814],["T_DOC_COMMENT","\/**\n     * Export process\n     *\n     * @return string\n     *\/",816],["T_WHITESPACE","\n    ",820],["T_PUBLIC","public",821],["T_WHITESPACE"," ",821],["T_FUNCTION","function",821],["T_WHITESPACE"," ",821],["T_STRING","export",821],"(",")",["T_WHITESPACE","\n    ",821],"{",["T_WHITESPACE","\n        ",822],["T_COMMENT","\/\/Execution time may be very long\n",823],["T_WHITESPACE","        ",824],["T_STRING","set_time_limit",824],"(",["T_LNUMBER","0",824],")",";",["T_WHITESPACE","\n\n        ",824],["T_VARIABLE","$writer",826],["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","getWriter",826],"(",")",";",["T_WHITESPACE","\n        ",826],["T_VARIABLE","$page",827],["T_WHITESPACE"," ",827],"=",["T_WHITESPACE"," ",827],["T_LNUMBER","0",827],";",["T_WHITESPACE","\n        ",827],["T_WHILE","while",828],["T_WHITESPACE"," ",828],"(",["T_STRING","true",828],")",["T_WHITESPACE"," ",828],"{",["T_WHITESPACE","\n            ",828],["T_INC","++",829],["T_VARIABLE","$page",829],";",["T_WHITESPACE","\n            ",829],["T_VARIABLE","$entityCollection",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","_getEntityCollection",830],"(",["T_STRING","true",830],")",";",["T_WHITESPACE","\n            ",830],["T_VARIABLE","$entityCollection",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","setOrder",831],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",831],",",["T_WHITESPACE"," ",831],["T_CONSTANT_ENCAPSED_STRING","'asc'",831],")",";",["T_WHITESPACE","\n            ",831],["T_VARIABLE","$entityCollection",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","setStoreId",832],"(",["T_STRING","Store",832],["T_DOUBLE_COLON","::",832],["T_STRING","DEFAULT_STORE_ID",832],")",";",["T_WHITESPACE","\n            ",832],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","_prepareEntityCollection",833],"(",["T_VARIABLE","$entityCollection",833],")",";",["T_WHITESPACE","\n            ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","paginateCollection",834],"(",["T_VARIABLE","$page",834],",",["T_WHITESPACE"," ",834],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","getItemsPerPage",834],"(",")",")",";",["T_WHITESPACE","\n            ",834],["T_IF","if",835],["T_WHITESPACE"," ",835],"(",["T_VARIABLE","$entityCollection",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","count",835],"(",")",["T_WHITESPACE"," ",835],["T_IS_EQUAL","==",835],["T_WHITESPACE"," ",835],["T_LNUMBER","0",835],")",["T_WHITESPACE"," ",835],"{",["T_WHITESPACE","\n                ",835],["T_BREAK","break",836],";",["T_WHITESPACE","\n            ",836],"}",["T_WHITESPACE","\n            ",837],["T_VARIABLE","$exportData",838],["T_WHITESPACE"," ",838],"=",["T_WHITESPACE"," ",838],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","getExportData",838],"(",")",";",["T_WHITESPACE","\n            ",838],["T_IF","if",839],["T_WHITESPACE"," ",839],"(",["T_VARIABLE","$page",839],["T_WHITESPACE"," ",839],["T_IS_EQUAL","==",839],["T_WHITESPACE"," ",839],["T_LNUMBER","1",839],")",["T_WHITESPACE"," ",839],"{",["T_WHITESPACE","\n                ",839],["T_VARIABLE","$writer",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","setHeaderCols",840],"(",["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","_getHeaderColumns",840],"(",")",")",";",["T_WHITESPACE","\n            ",840],"}",["T_WHITESPACE","\n            ",841],["T_FOREACH","foreach",842],["T_WHITESPACE"," ",842],"(",["T_VARIABLE","$exportData",842],["T_WHITESPACE"," ",842],["T_AS","as",842],["T_WHITESPACE"," ",842],["T_VARIABLE","$dataRow",842],")",["T_WHITESPACE"," ",842],"{",["T_WHITESPACE","\n                ",842],["T_VARIABLE","$writer",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","writeRow",843],"(",["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","_customFieldsMapping",843],"(",["T_VARIABLE","$dataRow",843],")",")",";",["T_WHITESPACE","\n            ",843],"}",["T_WHITESPACE","\n            ",844],["T_IF","if",845],["T_WHITESPACE"," ",845],"(",["T_VARIABLE","$entityCollection",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","getCurPage",845],"(",")",["T_WHITESPACE"," ",845],["T_IS_GREATER_OR_EQUAL",">=",845],["T_WHITESPACE"," ",845],["T_VARIABLE","$entityCollection",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","getLastPageNumber",845],"(",")",")",["T_WHITESPACE"," ",845],"{",["T_WHITESPACE","\n                ",845],["T_BREAK","break",846],";",["T_WHITESPACE","\n            ",846],"}",["T_WHITESPACE","\n        ",847],"}",["T_WHITESPACE","\n        ",848],["T_RETURN","return",849],["T_WHITESPACE"," ",849],["T_VARIABLE","$writer",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","getContents",849],"(",")",";",["T_WHITESPACE","\n    ",849],"}",["T_WHITESPACE","\n\n    ",850],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",852],["T_WHITESPACE","\n    ",854],["T_PROTECTED","protected",855],["T_WHITESPACE"," ",855],["T_FUNCTION","function",855],["T_WHITESPACE"," ",855],["T_STRING","_prepareEntityCollection",855],"(",["T_NS_SEPARATOR","\\",855],["T_STRING","Magento",855],["T_NS_SEPARATOR","\\",855],["T_STRING","Eav",855],["T_NS_SEPARATOR","\\",855],["T_STRING","Model",855],["T_NS_SEPARATOR","\\",855],["T_STRING","Entity",855],["T_NS_SEPARATOR","\\",855],["T_STRING","Collection",855],["T_NS_SEPARATOR","\\",855],["T_STRING","AbstractCollection",855],["T_WHITESPACE"," ",855],["T_VARIABLE","$collection",855],")",["T_WHITESPACE","\n    ",855],"{",["T_WHITESPACE","\n        ",856],["T_VARIABLE","$exportFilter",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],"!",["T_EMPTY","empty",857],"(",["T_VARIABLE","$this",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","_parameters",857],"[",["T_NS_SEPARATOR","\\",857],["T_STRING","Magento",857],["T_NS_SEPARATOR","\\",857],["T_STRING","ImportExport",857],["T_NS_SEPARATOR","\\",857],["T_STRING","Model",857],["T_NS_SEPARATOR","\\",857],["T_STRING","Export",857],["T_DOUBLE_COLON","::",857],["T_STRING","FILTER_ELEMENT_GROUP",857],"]",")",["T_WHITESPACE"," ",857],"?",["T_WHITESPACE","\n            ",857],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","_parameters",858],"[",["T_NS_SEPARATOR","\\",858],["T_STRING","Magento",858],["T_NS_SEPARATOR","\\",858],["T_STRING","ImportExport",858],["T_NS_SEPARATOR","\\",858],["T_STRING","Model",858],["T_NS_SEPARATOR","\\",858],["T_STRING","Export",858],["T_DOUBLE_COLON","::",858],["T_STRING","FILTER_ELEMENT_GROUP",858],"]",["T_WHITESPACE"," ",858],":",["T_WHITESPACE"," ",858],"[","]",";",["T_WHITESPACE","\n\n        ",858],["T_IF","if",860],["T_WHITESPACE"," ",860],"(",["T_ISSET","isset",860],"(",["T_VARIABLE","$exportFilter",860],"[",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",860],"]",")",["T_WHITESPACE","\n            ",860],["T_BOOLEAN_AND","&&",861],["T_WHITESPACE"," ",861],["T_STRING","trim",861],"(",["T_VARIABLE","$exportFilter",861],"[",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",861],"]",")",["T_WHITESPACE","\n            ",861],["T_BOOLEAN_AND","&&",862],["T_WHITESPACE"," ",862],["T_VARIABLE","$collection",862],["T_WHITESPACE"," ",862],["T_INSTANCEOF","instanceof",862],["T_WHITESPACE"," ",862],["T_NS_SEPARATOR","\\",862],["T_STRING","Magento",862],["T_NS_SEPARATOR","\\",862],["T_STRING","Catalog",862],["T_NS_SEPARATOR","\\",862],["T_STRING","Model",862],["T_NS_SEPARATOR","\\",862],["T_STRING","ResourceModel",862],["T_NS_SEPARATOR","\\",862],["T_STRING","Product",862],["T_NS_SEPARATOR","\\",862],["T_STRING","Collection",862],["T_WHITESPACE","\n        ",862],")",["T_WHITESPACE"," ",863],"{",["T_WHITESPACE","\n            ",863],["T_VARIABLE","$collection",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","addCategoriesFilter",864],"(","[",["T_CONSTANT_ENCAPSED_STRING","'in'",864],["T_WHITESPACE"," ",864],["T_DOUBLE_ARROW","=>",864],["T_WHITESPACE"," ",864],["T_STRING","explode",864],"(",["T_CONSTANT_ENCAPSED_STRING","','",864],",",["T_WHITESPACE"," ",864],["T_VARIABLE","$exportFilter",864],"[",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",864],"]",")","]",")",";",["T_WHITESPACE","\n        ",864],"}",["T_WHITESPACE","\n\n        ",865],["T_RETURN","return",867],["T_WHITESPACE"," ",867],["T_STRING","parent",867],["T_DOUBLE_COLON","::",867],["T_STRING","_prepareEntityCollection",867],"(",["T_VARIABLE","$collection",867],")",";",["T_WHITESPACE","\n    ",867],"}",["T_WHITESPACE","\n\n    ",868],["T_DOC_COMMENT","\/**\n     * Get export data for collection\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",870],["T_WHITESPACE","\n    ",878],["T_PROTECTED","protected",879],["T_WHITESPACE"," ",879],["T_FUNCTION","function",879],["T_WHITESPACE"," ",879],["T_STRING","getExportData",879],"(",")",["T_WHITESPACE","\n    ",879],"{",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$exportData",881],["T_WHITESPACE"," ",881],"=",["T_WHITESPACE"," ",881],"[","]",";",["T_WHITESPACE","\n        ",881],["T_TRY","try",882],["T_WHITESPACE"," ",882],"{",["T_WHITESPACE","\n            ",882],["T_VARIABLE","$rawData",883],["T_WHITESPACE"," ",883],"=",["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","collectRawData",883],"(",")",";",["T_WHITESPACE","\n            ",883],["T_VARIABLE","$multirawData",884],["T_WHITESPACE"," ",884],"=",["T_WHITESPACE"," ",884],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","collectMultirawData",884],"(",")",";",["T_WHITESPACE","\n\n            ",884],["T_VARIABLE","$productIds",886],["T_WHITESPACE"," ",886],"=",["T_WHITESPACE"," ",886],["T_STRING","array_keys",886],"(",["T_VARIABLE","$rawData",886],")",";",["T_WHITESPACE","\n            ",886],["T_VARIABLE","$stockItemRows",887],["T_WHITESPACE"," ",887],"=",["T_WHITESPACE"," ",887],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","prepareCatalogInventory",887],"(",["T_VARIABLE","$productIds",887],")",";",["T_WHITESPACE","\n\n            ",887],["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","rowCustomizer",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","prepareData",889],"(",["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","_getEntityCollection",889],"(",")",",",["T_WHITESPACE"," ",889],["T_VARIABLE","$productIds",889],")",";",["T_WHITESPACE","\n\n            ",889],["T_VARIABLE","$this",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","setHeaderColumns",891],"(",["T_VARIABLE","$multirawData",891],"[",["T_CONSTANT_ENCAPSED_STRING","'customOptionsData'",891],"]",",",["T_WHITESPACE"," ",891],["T_VARIABLE","$stockItemRows",891],")",";",["T_WHITESPACE","\n            ",891],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","_headerColumns",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","rowCustomizer",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","addHeaderColumns",892],"(",["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","_headerColumns",892],")",";",["T_WHITESPACE","\n\n            ",892],["T_FOREACH","foreach",894],["T_WHITESPACE"," ",894],"(",["T_VARIABLE","$rawData",894],["T_WHITESPACE"," ",894],["T_AS","as",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$productId",894],["T_WHITESPACE"," ",894],["T_DOUBLE_ARROW","=>",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$productData",894],")",["T_WHITESPACE"," ",894],"{",["T_WHITESPACE","\n                ",894],["T_FOREACH","foreach",895],["T_WHITESPACE"," ",895],"(",["T_VARIABLE","$productData",895],["T_WHITESPACE"," ",895],["T_AS","as",895],["T_WHITESPACE"," ",895],["T_VARIABLE","$storeId",895],["T_WHITESPACE"," ",895],["T_DOUBLE_ARROW","=>",895],["T_WHITESPACE"," ",895],["T_VARIABLE","$dataRow",895],")",["T_WHITESPACE"," ",895],"{",["T_WHITESPACE","\n                    ",895],["T_IF","if",896],["T_WHITESPACE"," ",896],"(",["T_VARIABLE","$storeId",896],["T_WHITESPACE"," ",896],["T_IS_EQUAL","==",896],["T_WHITESPACE"," ",896],["T_STRING","Store",896],["T_DOUBLE_COLON","::",896],["T_STRING","DEFAULT_STORE_ID",896],["T_WHITESPACE"," ",896],["T_BOOLEAN_AND","&&",896],["T_WHITESPACE"," ",896],["T_ISSET","isset",896],"(",["T_VARIABLE","$stockItemRows",896],"[",["T_VARIABLE","$productId",896],"]",")",")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n                        ",896],["T_VARIABLE","$dataRow",897],["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],["T_STRING","array_merge",897],"(",["T_VARIABLE","$dataRow",897],",",["T_WHITESPACE"," ",897],["T_VARIABLE","$stockItemRows",897],"[",["T_VARIABLE","$productId",897],"]",")",";",["T_WHITESPACE","\n                    ",897],"}",["T_WHITESPACE","\n                    ",898],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","appendMultirowData",899],"(",["T_VARIABLE","$dataRow",899],",",["T_WHITESPACE"," ",899],["T_VARIABLE","$multirawData",899],")",";",["T_WHITESPACE","\n                    ",899],["T_IF","if",900],["T_WHITESPACE"," ",900],"(",["T_VARIABLE","$dataRow",900],")",["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n                        ",900],["T_VARIABLE","$exportData",901],"[","]",["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_VARIABLE","$dataRow",901],";",["T_WHITESPACE","\n                    ",901],"}",["T_WHITESPACE","\n                ",902],"}",["T_WHITESPACE","\n            ",903],"}",["T_WHITESPACE","\n        ",904],"}",["T_WHITESPACE"," ",905],["T_CATCH","catch",905],["T_WHITESPACE"," ",905],"(",["T_NS_SEPARATOR","\\",905],["T_STRING","Exception",905],["T_WHITESPACE"," ",905],["T_VARIABLE","$e",905],")",["T_WHITESPACE"," ",905],"{",["T_WHITESPACE","\n            ",905],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","_logger",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","critical",906],"(",["T_VARIABLE","$e",906],")",";",["T_WHITESPACE","\n        ",906],"}",["T_WHITESPACE","\n        ",907],["T_RETURN","return",908],["T_WHITESPACE"," ",908],["T_VARIABLE","$exportData",908],";",["T_WHITESPACE","\n    ",908],"}",["T_WHITESPACE","\n\n    ",909],["T_DOC_COMMENT","\/**\n     * Collect export data for all products\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",911],["T_WHITESPACE","\n    ",917],["T_PROTECTED","protected",918],["T_WHITESPACE"," ",918],["T_FUNCTION","function",918],["T_WHITESPACE"," ",918],["T_STRING","collectRawData",918],"(",")",["T_WHITESPACE","\n    ",918],"{",["T_WHITESPACE","\n        ",919],["T_VARIABLE","$data",920],["T_WHITESPACE"," ",920],"=",["T_WHITESPACE"," ",920],"[","]",";",["T_WHITESPACE","\n        ",920],["T_VARIABLE","$collection",921],["T_WHITESPACE"," ",921],"=",["T_WHITESPACE"," ",921],["T_VARIABLE","$this",921],["T_OBJECT_OPERATOR","->",921],["T_STRING","_getEntityCollection",921],"(",")",";",["T_WHITESPACE","\n        ",921],["T_FOREACH","foreach",922],["T_WHITESPACE"," ",922],"(",["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","_storeIdToCode",922],["T_WHITESPACE"," ",922],["T_AS","as",922],["T_WHITESPACE"," ",922],["T_VARIABLE","$storeId",922],["T_WHITESPACE"," ",922],["T_DOUBLE_ARROW","=>",922],["T_WHITESPACE"," ",922],["T_VARIABLE","$storeCode",922],")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n            ",922],["T_VARIABLE","$collection",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","setStoreId",923],"(",["T_VARIABLE","$storeId",923],")",";",["T_WHITESPACE","\n            ",923],["T_DOC_COMMENT","\/**\n             * @var int $itemId\n             * @var \\Magento\\Catalog\\Model\\Product $item\n             *\/",924],["T_WHITESPACE","\n            ",927],["T_FOREACH","foreach",928],["T_WHITESPACE"," ",928],"(",["T_VARIABLE","$collection",928],["T_WHITESPACE"," ",928],["T_AS","as",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$itemId",928],["T_WHITESPACE"," ",928],["T_DOUBLE_ARROW","=>",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$item",928],")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n                ",928],["T_VARIABLE","$additionalAttributes",929],["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],"[","]",";",["T_WHITESPACE","\n                ",929],["T_VARIABLE","$productLinkId",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$item",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","getData",930],"(",["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","getProductEntityLinkField",930],"(",")",")",";",["T_WHITESPACE","\n                ",930],["T_FOREACH","foreach",931],["T_WHITESPACE"," ",931],"(",["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","_getExportAttrCodes",931],"(",")",["T_WHITESPACE"," ",931],["T_AS","as",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$code",931],")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n                    ",931],["T_VARIABLE","$attrValue",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$item",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","getData",932],"(",["T_VARIABLE","$code",932],")",";",["T_WHITESPACE","\n                    ",932],["T_IF","if",933],["T_WHITESPACE"," ",933],"(","!",["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","isValidAttributeValue",933],"(",["T_VARIABLE","$code",933],",",["T_WHITESPACE"," ",933],["T_VARIABLE","$attrValue",933],")",")",["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n                        ",933],["T_CONTINUE","continue",934],";",["T_WHITESPACE","\n                    ",934],"}",["T_WHITESPACE","\n\n                    ",935],["T_IF","if",937],["T_WHITESPACE"," ",937],"(",["T_ISSET","isset",937],"(",["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_attributeValues",937],"[",["T_VARIABLE","$code",937],"]","[",["T_VARIABLE","$attrValue",937],"]",")",["T_WHITESPACE"," ",937],["T_BOOLEAN_AND","&&",937],["T_WHITESPACE"," ",937],"!",["T_EMPTY","empty",937],"(",["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_attributeValues",937],"[",["T_VARIABLE","$code",937],"]",")",")",["T_WHITESPACE"," ",937],"{",["T_WHITESPACE","\n                        ",937],["T_VARIABLE","$attrValue",938],["T_WHITESPACE"," ",938],"=",["T_WHITESPACE"," ",938],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","_attributeValues",938],"[",["T_VARIABLE","$code",938],"]","[",["T_VARIABLE","$attrValue",938],"]",";",["T_WHITESPACE","\n                    ",938],"}",["T_WHITESPACE","\n                    ",939],["T_VARIABLE","$fieldName",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_ISSET","isset",940],"(",["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_fieldsMap",940],"[",["T_VARIABLE","$code",940],"]",")",["T_WHITESPACE"," ",940],"?",["T_WHITESPACE"," ",940],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_fieldsMap",940],"[",["T_VARIABLE","$code",940],"]",["T_WHITESPACE"," ",940],":",["T_WHITESPACE"," ",940],["T_VARIABLE","$code",940],";",["T_WHITESPACE","\n\n                    ",940],["T_IF","if",942],["T_WHITESPACE"," ",942],"(",["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_attributeTypes",942],"[",["T_VARIABLE","$code",942],"]",["T_WHITESPACE"," ",942],["T_IS_EQUAL","==",942],["T_WHITESPACE"," ",942],["T_CONSTANT_ENCAPSED_STRING","'datetime'",942],")",["T_WHITESPACE"," ",942],"{",["T_WHITESPACE","\n                        ",942],["T_IF","if",943],["T_WHITESPACE"," ",943],"(",["T_STRING","in_array",943],"(",["T_VARIABLE","$code",943],",",["T_WHITESPACE"," ",943],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","dateAttrCodes",943],")",["T_WHITESPACE","\n                            ",943],["T_BOOLEAN_OR","||",944],["T_WHITESPACE"," ",944],["T_STRING","in_array",944],"(",["T_VARIABLE","$code",944],",",["T_WHITESPACE"," ",944],["T_VARIABLE","$this",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","userDefinedAttributes",944],")",["T_WHITESPACE","\n                        ",944],")",["T_WHITESPACE"," ",945],"{",["T_WHITESPACE","\n                            ",945],["T_VARIABLE","$attrValue",946],["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","_localeDate",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","formatDateTime",946],"(",["T_WHITESPACE","\n                                ",946],["T_NEW","new",947],["T_WHITESPACE"," ",947],["T_NS_SEPARATOR","\\",947],["T_STRING","DateTime",947],"(",["T_VARIABLE","$attrValue",947],")",",",["T_WHITESPACE","\n                                ",947],["T_NS_SEPARATOR","\\",948],["T_STRING","IntlDateFormatter",948],["T_DOUBLE_COLON","::",948],["T_STRING","SHORT",948],",",["T_WHITESPACE","\n                                ",948],["T_NS_SEPARATOR","\\",949],["T_STRING","IntlDateFormatter",949],["T_DOUBLE_COLON","::",949],["T_STRING","NONE",949],",",["T_WHITESPACE","\n                                ",949],["T_STRING","null",950],",",["T_WHITESPACE","\n                                ",950],["T_STRING","date_default_timezone_get",951],"(",")",["T_WHITESPACE","\n                            ",951],")",";",["T_WHITESPACE","\n                        ",952],"}",["T_WHITESPACE"," ",953],["T_ELSE","else",953],["T_WHITESPACE"," ",953],"{",["T_WHITESPACE","\n                            ",953],["T_VARIABLE","$attrValue",954],["T_WHITESPACE"," ",954],"=",["T_WHITESPACE"," ",954],["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","_localeDate",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","formatDateTime",954],"(",["T_WHITESPACE","\n                                ",954],["T_NEW","new",955],["T_WHITESPACE"," ",955],["T_NS_SEPARATOR","\\",955],["T_STRING","DateTime",955],"(",["T_VARIABLE","$attrValue",955],")",",",["T_WHITESPACE","\n                                ",955],["T_NS_SEPARATOR","\\",956],["T_STRING","IntlDateFormatter",956],["T_DOUBLE_COLON","::",956],["T_STRING","SHORT",956],",",["T_WHITESPACE","\n                                ",956],["T_NS_SEPARATOR","\\",957],["T_STRING","IntlDateFormatter",957],["T_DOUBLE_COLON","::",957],["T_STRING","SHORT",957],["T_WHITESPACE","\n                            ",957],")",";",["T_WHITESPACE","\n                        ",958],"}",["T_WHITESPACE","\n                    ",959],"}",["T_WHITESPACE","\n\n                    ",960],["T_IF","if",962],["T_WHITESPACE"," ",962],"(",["T_VARIABLE","$storeId",962],["T_WHITESPACE"," ",962],["T_IS_NOT_EQUAL","!=",962],["T_WHITESPACE"," ",962],["T_STRING","Store",962],["T_DOUBLE_COLON","::",962],["T_STRING","DEFAULT_STORE_ID",962],["T_WHITESPACE","\n                        ",962],["T_BOOLEAN_AND","&&",963],["T_WHITESPACE"," ",963],["T_ISSET","isset",963],"(",["T_VARIABLE","$data",963],"[",["T_VARIABLE","$itemId",963],"]","[",["T_STRING","Store",963],["T_DOUBLE_COLON","::",963],["T_STRING","DEFAULT_STORE_ID",963],"]","[",["T_VARIABLE","$fieldName",963],"]",")",["T_WHITESPACE","\n                        ",963],["T_BOOLEAN_AND","&&",964],["T_WHITESPACE"," ",964],["T_VARIABLE","$data",964],"[",["T_VARIABLE","$itemId",964],"]","[",["T_STRING","Store",964],["T_DOUBLE_COLON","::",964],["T_STRING","DEFAULT_STORE_ID",964],"]","[",["T_VARIABLE","$fieldName",964],"]",["T_WHITESPACE"," ",964],["T_IS_EQUAL","==",964],["T_WHITESPACE"," ",964],["T_VARIABLE","$attrValue",964],["T_WHITESPACE","\n                    ",964],")",["T_WHITESPACE"," ",965],"{",["T_WHITESPACE","\n                        ",965],["T_CONTINUE","continue",966],";",["T_WHITESPACE","\n                    ",966],"}",["T_WHITESPACE","\n\n                    ",967],["T_IF","if",969],["T_WHITESPACE"," ",969],"(",["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","_attributeTypes",969],"[",["T_VARIABLE","$code",969],"]",["T_WHITESPACE"," ",969],["T_IS_NOT_IDENTICAL","!==",969],["T_WHITESPACE"," ",969],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",969],")",["T_WHITESPACE"," ",969],"{",["T_WHITESPACE","\n                        ",969],["T_IF","if",970],["T_WHITESPACE"," ",970],"(",["T_STRING","is_scalar",970],"(",["T_VARIABLE","$attrValue",970],")",")",["T_WHITESPACE"," ",970],"{",["T_WHITESPACE","\n                            ",970],["T_IF","if",971],["T_WHITESPACE"," ",971],"(","!",["T_STRING","in_array",971],"(",["T_VARIABLE","$fieldName",971],",",["T_WHITESPACE"," ",971],["T_VARIABLE","$this",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","_getExportMainAttrCodes",971],"(",")",")",")",["T_WHITESPACE"," ",971],"{",["T_WHITESPACE","\n                                ",971],["T_VARIABLE","$additionalAttributes",972],"[",["T_VARIABLE","$fieldName",972],"]",["T_WHITESPACE"," ",972],"=",["T_WHITESPACE"," ",972],["T_VARIABLE","$fieldName",972],["T_WHITESPACE"," ",972],".",["T_WHITESPACE","\n                                    ",972],["T_STRING","ImportProduct",973],["T_DOUBLE_COLON","::",973],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",973],["T_WHITESPACE"," ",973],".",["T_WHITESPACE"," ",973],["T_VARIABLE","$this",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","wrapValue",973],"(",["T_VARIABLE","$attrValue",973],")",";",["T_WHITESPACE","\n                            ",973],"}",["T_WHITESPACE","\n                            ",974],["T_VARIABLE","$data",975],"[",["T_VARIABLE","$itemId",975],"]","[",["T_VARIABLE","$storeId",975],"]","[",["T_VARIABLE","$fieldName",975],"]",["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_STRING","htmlspecialchars_decode",975],"(",["T_VARIABLE","$attrValue",975],")",";",["T_WHITESPACE","\n                        ",975],"}",["T_WHITESPACE","\n                    ",976],"}",["T_WHITESPACE"," ",977],["T_ELSE","else",977],["T_WHITESPACE"," ",977],"{",["T_WHITESPACE","\n                        ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","collectMultiselectValues",978],"(",["T_VARIABLE","$item",978],",",["T_WHITESPACE"," ",978],["T_VARIABLE","$code",978],",",["T_WHITESPACE"," ",978],["T_VARIABLE","$storeId",978],")",";",["T_WHITESPACE","\n                        ",978],["T_IF","if",979],["T_WHITESPACE"," ",979],"(","!",["T_EMPTY","empty",979],"(",["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","collectedMultiselectsData",979],"[",["T_VARIABLE","$storeId",979],"]","[",["T_VARIABLE","$productLinkId",979],"]","[",["T_VARIABLE","$code",979],"]",")",")",["T_WHITESPACE"," ",979],"{",["T_WHITESPACE","\n                            ",979],["T_VARIABLE","$additionalAttributes",980],"[",["T_VARIABLE","$code",980],"]",["T_WHITESPACE"," ",980],"=",["T_WHITESPACE"," ",980],["T_VARIABLE","$fieldName",980],["T_WHITESPACE"," ",980],".",["T_WHITESPACE","\n                                ",980],["T_STRING","ImportProduct",981],["T_DOUBLE_COLON","::",981],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",981],["T_WHITESPACE"," ",981],".",["T_WHITESPACE"," ",981],["T_STRING","implode",981],"(",["T_WHITESPACE","\n                                    ",981],["T_STRING","ImportProduct",982],["T_DOUBLE_COLON","::",982],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",982],",",["T_WHITESPACE","\n                                    ",982],["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","wrapValue",983],"(",["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","collectedMultiselectsData",983],"[",["T_VARIABLE","$storeId",983],"]","[",["T_VARIABLE","$productLinkId",983],"]","[",["T_VARIABLE","$code",983],"]",")",["T_WHITESPACE","\n                                ",983],")",";",["T_WHITESPACE","\n                        ",984],"}",["T_WHITESPACE","\n                    ",985],"}",["T_WHITESPACE","\n                ",986],"}",["T_WHITESPACE","\n\n                ",987],["T_IF","if",989],["T_WHITESPACE"," ",989],"(","!",["T_EMPTY","empty",989],"(",["T_VARIABLE","$additionalAttributes",989],")",")",["T_WHITESPACE"," ",989],"{",["T_WHITESPACE","\n                    ",989],["T_VARIABLE","$additionalAttributes",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_STRING","array_map",990],"(",["T_CONSTANT_ENCAPSED_STRING","'htmlspecialchars_decode'",990],",",["T_WHITESPACE"," ",990],["T_VARIABLE","$additionalAttributes",990],")",";",["T_WHITESPACE","\n                    ",990],["T_VARIABLE","$data",991],"[",["T_VARIABLE","$itemId",991],"]","[",["T_VARIABLE","$storeId",991],"]","[",["T_STRING","self",991],["T_DOUBLE_COLON","::",991],["T_STRING","COL_ADDITIONAL_ATTRIBUTES",991],"]",["T_WHITESPACE"," ",991],"=",["T_WHITESPACE","\n                        ",991],["T_STRING","implode",992],"(",["T_STRING","Import",992],["T_DOUBLE_COLON","::",992],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",992],",",["T_WHITESPACE"," ",992],["T_VARIABLE","$additionalAttributes",992],")",";",["T_WHITESPACE","\n                ",992],"}",["T_WHITESPACE"," ",993],["T_ELSE","else",993],["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n                    ",993],["T_UNSET","unset",994],"(",["T_VARIABLE","$data",994],"[",["T_VARIABLE","$itemId",994],"]","[",["T_VARIABLE","$storeId",994],"]","[",["T_STRING","self",994],["T_DOUBLE_COLON","::",994],["T_STRING","COL_ADDITIONAL_ATTRIBUTES",994],"]",")",";",["T_WHITESPACE","\n                ",994],"}",["T_WHITESPACE","\n\n                ",995],["T_IF","if",997],["T_WHITESPACE"," ",997],"(","!",["T_EMPTY","empty",997],"(",["T_VARIABLE","$data",997],"[",["T_VARIABLE","$itemId",997],"]","[",["T_VARIABLE","$storeId",997],"]",")",["T_WHITESPACE"," ",997],["T_BOOLEAN_OR","||",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$this",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","hasMultiselectData",997],"(",["T_VARIABLE","$item",997],",",["T_WHITESPACE"," ",997],["T_VARIABLE","$storeId",997],")",")",["T_WHITESPACE"," ",997],"{",["T_WHITESPACE","\n                    ",997],["T_VARIABLE","$attrSetId",998],["T_WHITESPACE"," ",998],"=",["T_WHITESPACE"," ",998],["T_VARIABLE","$item",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","getAttributeSetId",998],"(",")",";",["T_WHITESPACE","\n                    ",998],["T_VARIABLE","$data",999],"[",["T_VARIABLE","$itemId",999],"]","[",["T_VARIABLE","$storeId",999],"]","[",["T_STRING","self",999],["T_DOUBLE_COLON","::",999],["T_STRING","COL_STORE",999],"]",["T_WHITESPACE"," ",999],"=",["T_WHITESPACE"," ",999],["T_VARIABLE","$storeCode",999],";",["T_WHITESPACE","\n                    ",999],["T_VARIABLE","$data",1000],"[",["T_VARIABLE","$itemId",1000],"]","[",["T_VARIABLE","$storeId",1000],"]","[",["T_STRING","self",1000],["T_DOUBLE_COLON","::",1000],["T_STRING","COL_ATTR_SET",1000],"]",["T_WHITESPACE"," ",1000],"=",["T_WHITESPACE"," ",1000],["T_VARIABLE","$this",1000],["T_OBJECT_OPERATOR","->",1000],["T_STRING","_attrSetIdToName",1000],"[",["T_VARIABLE","$attrSetId",1000],"]",";",["T_WHITESPACE","\n                    ",1000],["T_VARIABLE","$data",1001],"[",["T_VARIABLE","$itemId",1001],"]","[",["T_VARIABLE","$storeId",1001],"]","[",["T_STRING","self",1001],["T_DOUBLE_COLON","::",1001],["T_STRING","COL_TYPE",1001],"]",["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_VARIABLE","$item",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","getTypeId",1001],"(",")",";",["T_WHITESPACE","\n                ",1001],"}",["T_WHITESPACE","\n                ",1002],["T_VARIABLE","$data",1003],"[",["T_VARIABLE","$itemId",1003],"]","[",["T_VARIABLE","$storeId",1003],"]","[",["T_STRING","self",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","COL_SKU",1003],"]",["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_VARIABLE","$item",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","getSku",1003],"(",")",";",["T_WHITESPACE","\n                ",1003],["T_VARIABLE","$data",1004],"[",["T_VARIABLE","$itemId",1004],"]","[",["T_VARIABLE","$storeId",1004],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1004],"]",["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_VARIABLE","$storeId",1004],";",["T_WHITESPACE","\n                ",1004],["T_VARIABLE","$data",1005],"[",["T_VARIABLE","$itemId",1005],"]","[",["T_VARIABLE","$storeId",1005],"]","[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1005],"]",["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_VARIABLE","$itemId",1005],";",["T_WHITESPACE","\n                ",1005],["T_VARIABLE","$data",1006],"[",["T_VARIABLE","$itemId",1006],"]","[",["T_VARIABLE","$storeId",1006],"]","[",["T_CONSTANT_ENCAPSED_STRING","'product_link_id'",1006],"]",["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_VARIABLE","$productLinkId",1006],";",["T_WHITESPACE","\n            ",1006],"}",["T_WHITESPACE","\n            ",1007],["T_VARIABLE","$collection",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","clear",1008],"(",")",";",["T_WHITESPACE","\n        ",1008],"}",["T_WHITESPACE","\n\n        ",1009],["T_RETURN","return",1011],["T_WHITESPACE"," ",1011],["T_VARIABLE","$data",1011],";",["T_WHITESPACE","\n    ",1011],"}",["T_WHITESPACE","\n\n    ",1012],["T_DOC_COMMENT","\/**\n     * Wrap values with double quotes if \"Fields Enclosure\" option is enabled\n     *\n     * @param string|array $value\n     * @return string|array\n     *\/",1014],["T_WHITESPACE","\n    ",1019],["T_PRIVATE","private",1020],["T_WHITESPACE"," ",1020],["T_FUNCTION","function",1020],["T_WHITESPACE"," ",1020],["T_STRING","wrapValue",1020],"(",["T_VARIABLE","$value",1020],")",["T_WHITESPACE","\n    ",1020],"{",["T_WHITESPACE","\n        ",1021],["T_IF","if",1022],["T_WHITESPACE"," ",1022],"(","!",["T_EMPTY","empty",1022],"(",["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","_parameters",1022],"[",["T_NS_SEPARATOR","\\",1022],["T_STRING","Magento",1022],["T_NS_SEPARATOR","\\",1022],["T_STRING","ImportExport",1022],["T_NS_SEPARATOR","\\",1022],["T_STRING","Model",1022],["T_NS_SEPARATOR","\\",1022],["T_STRING","Export",1022],["T_DOUBLE_COLON","::",1022],["T_STRING","FIELDS_ENCLOSURE",1022],"]",")",")",["T_WHITESPACE"," ",1022],"{",["T_WHITESPACE","\n            ",1022],["T_VARIABLE","$wrap",1023],["T_WHITESPACE"," ",1023],"=",["T_WHITESPACE"," ",1023],["T_FUNCTION","function",1023],["T_WHITESPACE"," ",1023],"(",["T_VARIABLE","$value",1023],")",["T_WHITESPACE"," ",1023],"{",["T_WHITESPACE","\n                ",1023],["T_RETURN","return",1024],["T_WHITESPACE"," ",1024],["T_STRING","sprintf",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\"'",1024],",",["T_WHITESPACE"," ",1024],["T_STRING","str_replace",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",1024],",",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'\"\"'",1024],",",["T_WHITESPACE"," ",1024],["T_VARIABLE","$value",1024],")",")",";",["T_WHITESPACE","\n            ",1024],"}",";",["T_WHITESPACE","\n\n            ",1025],["T_VARIABLE","$value",1027],["T_WHITESPACE"," ",1027],"=",["T_WHITESPACE"," ",1027],["T_STRING","is_array",1027],"(",["T_VARIABLE","$value",1027],")",["T_WHITESPACE"," ",1027],"?",["T_WHITESPACE"," ",1027],["T_STRING","array_map",1027],"(",["T_VARIABLE","$wrap",1027],",",["T_WHITESPACE"," ",1027],["T_VARIABLE","$value",1027],")",["T_WHITESPACE"," ",1027],":",["T_WHITESPACE"," ",1027],["T_VARIABLE","$wrap",1027],"(",["T_VARIABLE","$value",1027],")",";",["T_WHITESPACE","\n        ",1027],"}",["T_WHITESPACE","\n\n        ",1028],["T_RETURN","return",1030],["T_WHITESPACE"," ",1030],["T_VARIABLE","$value",1030],";",["T_WHITESPACE","\n    ",1030],"}",["T_WHITESPACE","\n\n    ",1031],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",1033],["T_WHITESPACE","\n    ",1035],["T_PROTECTED","protected",1036],["T_WHITESPACE"," ",1036],["T_FUNCTION","function",1036],["T_WHITESPACE"," ",1036],["T_STRING","collectMultirawData",1036],"(",")",["T_WHITESPACE","\n    ",1036],"{",["T_WHITESPACE","\n        ",1037],["T_VARIABLE","$data",1038],["T_WHITESPACE"," ",1038],"=",["T_WHITESPACE"," ",1038],"[","]",";",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$productIds",1039],["T_WHITESPACE"," ",1039],"=",["T_WHITESPACE"," ",1039],"[","]",";",["T_WHITESPACE","\n        ",1039],["T_VARIABLE","$rowWebsites",1040],["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],"[","]",";",["T_WHITESPACE","\n        ",1040],["T_VARIABLE","$rowCategories",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],"[","]",";",["T_WHITESPACE","\n\n        ",1041],["T_VARIABLE","$collection",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","_getEntityCollection",1043],"(",")",";",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$collection",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","setStoreId",1044],"(",["T_STRING","Store",1044],["T_DOUBLE_COLON","::",1044],["T_STRING","DEFAULT_STORE_ID",1044],")",";",["T_WHITESPACE","\n        ",1044],["T_VARIABLE","$collection",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","addCategoryIds",1045],"(",")",["T_OBJECT_OPERATOR","->",1045],["T_STRING","addWebsiteNamesToResult",1045],"(",")",";",["T_WHITESPACE","\n        ",1045],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $item *\/",1046],["T_WHITESPACE","\n        ",1046],["T_FOREACH","foreach",1047],["T_WHITESPACE"," ",1047],"(",["T_VARIABLE","$collection",1047],["T_WHITESPACE"," ",1047],["T_AS","as",1047],["T_WHITESPACE"," ",1047],["T_VARIABLE","$item",1047],")",["T_WHITESPACE"," ",1047],"{",["T_WHITESPACE","\n            ",1047],["T_VARIABLE","$productLinkIds",1048],"[","]",["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_VARIABLE","$item",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","getData",1048],"(",["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","getProductEntityLinkField",1048],"(",")",")",";",["T_WHITESPACE","\n            ",1048],["T_VARIABLE","$productIds",1049],"[","]",["T_WHITESPACE"," ",1049],"=",["T_WHITESPACE"," ",1049],["T_VARIABLE","$item",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","getId",1049],"(",")",";",["T_WHITESPACE","\n            ",1049],["T_VARIABLE","$rowWebsites",1050],"[",["T_VARIABLE","$item",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","getId",1050],"(",")","]",["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_STRING","array_intersect",1050],"(",["T_WHITESPACE","\n                ",1050],["T_STRING","array_keys",1051],"(",["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","_websiteIdToCode",1051],")",",",["T_WHITESPACE","\n                ",1051],["T_VARIABLE","$item",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","getWebsites",1052],"(",")",["T_WHITESPACE","\n            ",1052],")",";",["T_WHITESPACE","\n            ",1053],["T_VARIABLE","$rowCategories",1054],"[",["T_VARIABLE","$item",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","getId",1054],"(",")","]",["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_STRING","array_combine",1054],"(",["T_VARIABLE","$item",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","getCategoryIds",1054],"(",")",",",["T_WHITESPACE"," ",1054],["T_VARIABLE","$item",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","getCategoryIds",1054],"(",")",")",";",["T_WHITESPACE","\n        ",1054],"}",["T_WHITESPACE","\n        ",1055],["T_VARIABLE","$collection",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","clear",1056],"(",")",";",["T_WHITESPACE","\n\n        ",1056],["T_VARIABLE","$allCategoriesIds",1058],["T_WHITESPACE"," ",1058],"=",["T_WHITESPACE"," ",1058],["T_STRING","array_merge",1058],"(",["T_STRING","array_keys",1058],"(",["T_VARIABLE","$this",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","_categories",1058],")",",",["T_WHITESPACE"," ",1058],["T_STRING","array_keys",1058],"(",["T_VARIABLE","$this",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","_rootCategories",1058],")",")",";",["T_WHITESPACE","\n        ",1058],["T_VARIABLE","$allCategoriesIds",1059],["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],["T_STRING","array_combine",1059],"(",["T_VARIABLE","$allCategoriesIds",1059],",",["T_WHITESPACE"," ",1059],["T_VARIABLE","$allCategoriesIds",1059],")",";",["T_WHITESPACE","\n        ",1059],["T_FOREACH","foreach",1060],["T_WHITESPACE"," ",1060],"(",["T_VARIABLE","$rowCategories",1060],["T_WHITESPACE"," ",1060],["T_AS","as",1060],["T_WHITESPACE"," ",1060],"&",["T_VARIABLE","$categories",1060],")",["T_WHITESPACE"," ",1060],"{",["T_WHITESPACE","\n            ",1060],["T_VARIABLE","$categories",1061],["T_WHITESPACE"," ",1061],"=",["T_WHITESPACE"," ",1061],["T_STRING","array_intersect_key",1061],"(",["T_VARIABLE","$categories",1061],",",["T_WHITESPACE"," ",1061],["T_VARIABLE","$allCategoriesIds",1061],")",";",["T_WHITESPACE","\n        ",1061],"}",["T_WHITESPACE","\n\n        ",1062],["T_VARIABLE","$data",1064],"[",["T_CONSTANT_ENCAPSED_STRING","'rowWebsites'",1064],"]",["T_WHITESPACE"," ",1064],"=",["T_WHITESPACE"," ",1064],["T_VARIABLE","$rowWebsites",1064],";",["T_WHITESPACE","\n        ",1064],["T_VARIABLE","$data",1065],"[",["T_CONSTANT_ENCAPSED_STRING","'rowCategories'",1065],"]",["T_WHITESPACE"," ",1065],"=",["T_WHITESPACE"," ",1065],["T_VARIABLE","$rowCategories",1065],";",["T_WHITESPACE","\n        ",1065],["T_VARIABLE","$data",1066],"[",["T_CONSTANT_ENCAPSED_STRING","'mediaGalery'",1066],"]",["T_WHITESPACE"," ",1066],"=",["T_WHITESPACE"," ",1066],["T_VARIABLE","$this",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","getMediaGallery",1066],"(",["T_VARIABLE","$productLinkIds",1066],")",";",["T_WHITESPACE","\n        ",1066],["T_VARIABLE","$data",1067],"[",["T_CONSTANT_ENCAPSED_STRING","'linksRows'",1067],"]",["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","prepareLinks",1067],"(",["T_VARIABLE","$productLinkIds",1067],")",";",["T_WHITESPACE","\n\n        ",1067],["T_VARIABLE","$data",1069],"[",["T_CONSTANT_ENCAPSED_STRING","'customOptionsData'",1069],"]",["T_WHITESPACE"," ",1069],"=",["T_WHITESPACE"," ",1069],["T_VARIABLE","$this",1069],["T_OBJECT_OPERATOR","->",1069],["T_STRING","getCustomOptionsData",1069],"(",["T_VARIABLE","$productLinkIds",1069],")",";",["T_WHITESPACE","\n\n        ",1069],["T_RETURN","return",1071],["T_WHITESPACE"," ",1071],["T_VARIABLE","$data",1071],";",["T_WHITESPACE","\n    ",1071],"}",["T_WHITESPACE","\n\n    ",1072],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $item\n     * @param int $storeId\n     * @return bool\n     *\/",1074],["T_WHITESPACE","\n    ",1078],["T_PROTECTED","protected",1079],["T_WHITESPACE"," ",1079],["T_FUNCTION","function",1079],["T_WHITESPACE"," ",1079],["T_STRING","hasMultiselectData",1079],"(",["T_VARIABLE","$item",1079],",",["T_WHITESPACE"," ",1079],["T_VARIABLE","$storeId",1079],")",["T_WHITESPACE","\n    ",1079],"{",["T_WHITESPACE","\n        ",1080],["T_VARIABLE","$linkId",1081],["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],["T_VARIABLE","$item",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","getData",1081],"(",["T_VARIABLE","$this",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","getProductEntityLinkField",1081],"(",")",")",";",["T_WHITESPACE","\n        ",1081],["T_RETURN","return",1082],["T_WHITESPACE"," ",1082],"!",["T_EMPTY","empty",1082],"(",["T_VARIABLE","$this",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","collectedMultiselectsData",1082],"[",["T_VARIABLE","$storeId",1082],"]","[",["T_VARIABLE","$linkId",1082],"]",")",";",["T_WHITESPACE","\n    ",1082],"}",["T_WHITESPACE","\n\n    ",1083],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $item\n     * @param string $attrCode\n     * @param int $storeId\n     * @return $this\n     *\/",1085],["T_WHITESPACE","\n    ",1090],["T_PROTECTED","protected",1091],["T_WHITESPACE"," ",1091],["T_FUNCTION","function",1091],["T_WHITESPACE"," ",1091],["T_STRING","collectMultiselectValues",1091],"(",["T_VARIABLE","$item",1091],",",["T_WHITESPACE"," ",1091],["T_VARIABLE","$attrCode",1091],",",["T_WHITESPACE"," ",1091],["T_VARIABLE","$storeId",1091],")",["T_WHITESPACE","\n    ",1091],"{",["T_WHITESPACE","\n        ",1092],["T_VARIABLE","$attrValue",1093],["T_WHITESPACE"," ",1093],"=",["T_WHITESPACE"," ",1093],["T_VARIABLE","$item",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","getData",1093],"(",["T_VARIABLE","$attrCode",1093],")",";",["T_WHITESPACE","\n        ",1093],["T_VARIABLE","$optionIds",1094],["T_WHITESPACE"," ",1094],"=",["T_WHITESPACE"," ",1094],["T_STRING","explode",1094],"(",["T_STRING","Import",1094],["T_DOUBLE_COLON","::",1094],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1094],",",["T_WHITESPACE"," ",1094],["T_VARIABLE","$attrValue",1094],")",";",["T_WHITESPACE","\n        ",1094],["T_VARIABLE","$options",1095],["T_WHITESPACE"," ",1095],"=",["T_WHITESPACE"," ",1095],["T_STRING","array_intersect_key",1095],"(",["T_WHITESPACE","\n            ",1095],["T_VARIABLE","$this",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","_attributeValues",1096],"[",["T_VARIABLE","$attrCode",1096],"]",",",["T_WHITESPACE","\n            ",1096],["T_STRING","array_flip",1097],"(",["T_VARIABLE","$optionIds",1097],")",["T_WHITESPACE","\n        ",1097],")",";",["T_WHITESPACE","\n        ",1098],["T_VARIABLE","$linkId",1099],["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_VARIABLE","$item",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getData",1099],"(",["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getProductEntityLinkField",1099],"(",")",")",";",["T_WHITESPACE","\n        ",1099],["T_IF","if",1100],["T_WHITESPACE"," ",1100],"(","!","(",["T_ISSET","isset",1100],"(",["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","collectedMultiselectsData",1100],"[",["T_STRING","Store",1100],["T_DOUBLE_COLON","::",1100],["T_STRING","DEFAULT_STORE_ID",1100],"]","[",["T_VARIABLE","$linkId",1100],"]","[",["T_VARIABLE","$attrCode",1100],"]",")",["T_WHITESPACE","\n            ",1100],["T_BOOLEAN_AND","&&",1101],["T_WHITESPACE"," ",1101],["T_VARIABLE","$this",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","collectedMultiselectsData",1101],"[",["T_STRING","Store",1101],["T_DOUBLE_COLON","::",1101],["T_STRING","DEFAULT_STORE_ID",1101],"]","[",["T_VARIABLE","$linkId",1101],"]","[",["T_VARIABLE","$attrCode",1101],"]",["T_WHITESPACE"," ",1101],["T_IS_EQUAL","==",1101],["T_WHITESPACE"," ",1101],["T_VARIABLE","$options",1101],")",["T_WHITESPACE","\n        ",1101],")",["T_WHITESPACE"," ",1102],"{",["T_WHITESPACE","\n            ",1102],["T_VARIABLE","$this",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","collectedMultiselectsData",1103],"[",["T_VARIABLE","$storeId",1103],"]","[",["T_VARIABLE","$linkId",1103],"]","[",["T_VARIABLE","$attrCode",1103],"]",["T_WHITESPACE"," ",1103],"=",["T_WHITESPACE"," ",1103],["T_VARIABLE","$options",1103],";",["T_WHITESPACE","\n        ",1103],"}",["T_WHITESPACE","\n\n        ",1104],["T_RETURN","return",1106],["T_WHITESPACE"," ",1106],["T_VARIABLE","$this",1106],";",["T_WHITESPACE","\n    ",1106],"}",["T_WHITESPACE","\n\n    ",1107],["T_DOC_COMMENT","\/**\n     * @param string $code\n     * @param mixed $value\n     * @return bool\n     *\/",1109],["T_WHITESPACE","\n    ",1113],["T_PROTECTED","protected",1114],["T_WHITESPACE"," ",1114],["T_FUNCTION","function",1114],["T_WHITESPACE"," ",1114],["T_STRING","isValidAttributeValue",1114],"(",["T_VARIABLE","$code",1114],",",["T_WHITESPACE"," ",1114],["T_VARIABLE","$value",1114],")",["T_WHITESPACE","\n    ",1114],"{",["T_WHITESPACE","\n        ",1115],["T_VARIABLE","$isValid",1116],["T_WHITESPACE"," ",1116],"=",["T_WHITESPACE"," ",1116],["T_STRING","true",1116],";",["T_WHITESPACE","\n        ",1116],["T_IF","if",1117],["T_WHITESPACE"," ",1117],"(","!",["T_STRING","is_numeric",1117],"(",["T_VARIABLE","$value",1117],")",["T_WHITESPACE"," ",1117],["T_BOOLEAN_AND","&&",1117],["T_WHITESPACE"," ",1117],["T_EMPTY","empty",1117],"(",["T_VARIABLE","$value",1117],")",")",["T_WHITESPACE"," ",1117],"{",["T_WHITESPACE","\n            ",1117],["T_VARIABLE","$isValid",1118],["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_STRING","false",1118],";",["T_WHITESPACE","\n        ",1118],"}",["T_WHITESPACE","\n\n        ",1119],["T_IF","if",1121],["T_WHITESPACE"," ",1121],"(","!",["T_ISSET","isset",1121],"(",["T_VARIABLE","$this",1121],["T_OBJECT_OPERATOR","->",1121],["T_STRING","_attributeValues",1121],"[",["T_VARIABLE","$code",1121],"]",")",")",["T_WHITESPACE"," ",1121],"{",["T_WHITESPACE","\n            ",1121],["T_VARIABLE","$isValid",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_STRING","false",1122],";",["T_WHITESPACE","\n        ",1122],"}",["T_WHITESPACE","\n\n        ",1123],["T_RETURN","return",1125],["T_WHITESPACE"," ",1125],["T_VARIABLE","$isValid",1125],";",["T_WHITESPACE","\n    ",1125],"}",["T_WHITESPACE","\n\n    ",1126],["T_DOC_COMMENT","\/**\n     * @param array $dataRow\n     * @param array $multiRawData\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",1128],["T_WHITESPACE","\n    ",1135],["T_PRIVATE","private",1136],["T_WHITESPACE"," ",1136],["T_FUNCTION","function",1136],["T_WHITESPACE"," ",1136],["T_STRING","appendMultirowData",1136],"(","&",["T_VARIABLE","$dataRow",1136],",",["T_WHITESPACE"," ",1136],"&",["T_VARIABLE","$multiRawData",1136],")",["T_WHITESPACE","\n    ",1136],"{",["T_WHITESPACE","\n        ",1137],["T_VARIABLE","$productId",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_VARIABLE","$dataRow",1138],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1138],"]",";",["T_WHITESPACE","\n        ",1138],["T_VARIABLE","$productLinkId",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_VARIABLE","$dataRow",1139],"[",["T_CONSTANT_ENCAPSED_STRING","'product_link_id'",1139],"]",";",["T_WHITESPACE","\n        ",1139],["T_VARIABLE","$storeId",1140],["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_VARIABLE","$dataRow",1140],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1140],"]",";",["T_WHITESPACE","\n        ",1140],["T_VARIABLE","$sku",1141],["T_WHITESPACE"," ",1141],"=",["T_WHITESPACE"," ",1141],["T_VARIABLE","$dataRow",1141],"[",["T_STRING","self",1141],["T_DOUBLE_COLON","::",1141],["T_STRING","COL_SKU",1141],"]",";",["T_WHITESPACE","\n\n        ",1141],["T_UNSET","unset",1143],"(",["T_VARIABLE","$dataRow",1143],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1143],"]",")",";",["T_WHITESPACE","\n        ",1143],["T_UNSET","unset",1144],"(",["T_VARIABLE","$dataRow",1144],"[",["T_CONSTANT_ENCAPSED_STRING","'product_link_id'",1144],"]",")",";",["T_WHITESPACE","\n        ",1144],["T_UNSET","unset",1145],"(",["T_VARIABLE","$dataRow",1145],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",1145],"]",")",";",["T_WHITESPACE","\n        ",1145],["T_UNSET","unset",1146],"(",["T_VARIABLE","$dataRow",1146],"[",["T_STRING","self",1146],["T_DOUBLE_COLON","::",1146],["T_STRING","COL_SKU",1146],"]",")",";",["T_WHITESPACE","\n\n        ",1146],["T_IF","if",1148],["T_WHITESPACE"," ",1148],"(",["T_STRING","Store",1148],["T_DOUBLE_COLON","::",1148],["T_STRING","DEFAULT_STORE_ID",1148],["T_WHITESPACE"," ",1148],["T_IS_EQUAL","==",1148],["T_WHITESPACE"," ",1148],["T_VARIABLE","$storeId",1148],")",["T_WHITESPACE"," ",1148],"{",["T_WHITESPACE","\n            ",1148],["T_UNSET","unset",1149],"(",["T_VARIABLE","$dataRow",1149],"[",["T_STRING","self",1149],["T_DOUBLE_COLON","::",1149],["T_STRING","COL_STORE",1149],"]",")",";",["T_WHITESPACE","\n            ",1149],["T_VARIABLE","$this",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","updateDataWithCategoryColumns",1150],"(",["T_VARIABLE","$dataRow",1150],",",["T_WHITESPACE"," ",1150],["T_VARIABLE","$multiRawData",1150],"[",["T_CONSTANT_ENCAPSED_STRING","'rowCategories'",1150],"]",",",["T_WHITESPACE"," ",1150],["T_VARIABLE","$productId",1150],")",";",["T_WHITESPACE","\n            ",1150],["T_IF","if",1151],["T_WHITESPACE"," ",1151],"(","!",["T_EMPTY","empty",1151],"(",["T_VARIABLE","$multiRawData",1151],"[",["T_CONSTANT_ENCAPSED_STRING","'rowWebsites'",1151],"]","[",["T_VARIABLE","$productId",1151],"]",")",")",["T_WHITESPACE"," ",1151],"{",["T_WHITESPACE","\n                ",1151],["T_VARIABLE","$websiteCodes",1152],["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],"[","]",";",["T_WHITESPACE","\n                ",1152],["T_FOREACH","foreach",1153],["T_WHITESPACE"," ",1153],"(",["T_VARIABLE","$multiRawData",1153],"[",["T_CONSTANT_ENCAPSED_STRING","'rowWebsites'",1153],"]","[",["T_VARIABLE","$productId",1153],"]",["T_WHITESPACE"," ",1153],["T_AS","as",1153],["T_WHITESPACE"," ",1153],["T_VARIABLE","$productWebsite",1153],")",["T_WHITESPACE"," ",1153],"{",["T_WHITESPACE","\n                    ",1153],["T_VARIABLE","$websiteCodes",1154],"[","]",["T_WHITESPACE"," ",1154],"=",["T_WHITESPACE"," ",1154],["T_VARIABLE","$this",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","_websiteIdToCode",1154],"[",["T_VARIABLE","$productWebsite",1154],"]",";",["T_WHITESPACE","\n                ",1154],"}",["T_WHITESPACE","\n                ",1155],["T_VARIABLE","$dataRow",1156],"[",["T_STRING","self",1156],["T_DOUBLE_COLON","::",1156],["T_STRING","COL_PRODUCT_WEBSITES",1156],"]",["T_WHITESPACE"," ",1156],"=",["T_WHITESPACE","\n                    ",1156],["T_STRING","implode",1157],"(",["T_STRING","Import",1157],["T_DOUBLE_COLON","::",1157],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1157],",",["T_WHITESPACE"," ",1157],["T_VARIABLE","$websiteCodes",1157],")",";",["T_WHITESPACE","\n                ",1157],["T_VARIABLE","$multiRawData",1158],"[",["T_CONSTANT_ENCAPSED_STRING","'rowWebsites'",1158],"]","[",["T_VARIABLE","$productId",1158],"]",["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],"[","]",";",["T_WHITESPACE","\n            ",1158],"}",["T_WHITESPACE","\n            ",1159],["T_IF","if",1160],["T_WHITESPACE"," ",1160],"(","!",["T_EMPTY","empty",1160],"(",["T_VARIABLE","$multiRawData",1160],"[",["T_CONSTANT_ENCAPSED_STRING","'mediaGalery'",1160],"]","[",["T_VARIABLE","$productLinkId",1160],"]",")",")",["T_WHITESPACE"," ",1160],"{",["T_WHITESPACE","\n                ",1160],["T_VARIABLE","$additionalImages",1161],["T_WHITESPACE"," ",1161],"=",["T_WHITESPACE"," ",1161],"[","]",";",["T_WHITESPACE","\n                ",1161],["T_VARIABLE","$additionalImageLabels",1162],["T_WHITESPACE"," ",1162],"=",["T_WHITESPACE"," ",1162],"[","]",";",["T_WHITESPACE","\n                ",1162],["T_VARIABLE","$additionalImageIsDisabled",1163],["T_WHITESPACE"," ",1163],"=",["T_WHITESPACE"," ",1163],"[","]",";",["T_WHITESPACE","\n                ",1163],["T_FOREACH","foreach",1164],["T_WHITESPACE"," ",1164],"(",["T_VARIABLE","$multiRawData",1164],"[",["T_CONSTANT_ENCAPSED_STRING","'mediaGalery'",1164],"]","[",["T_VARIABLE","$productLinkId",1164],"]",["T_WHITESPACE"," ",1164],["T_AS","as",1164],["T_WHITESPACE"," ",1164],["T_VARIABLE","$mediaItem",1164],")",["T_WHITESPACE"," ",1164],"{",["T_WHITESPACE","\n                    ",1164],["T_VARIABLE","$additionalImages",1165],"[","]",["T_WHITESPACE"," ",1165],"=",["T_WHITESPACE"," ",1165],["T_VARIABLE","$mediaItem",1165],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_image'",1165],"]",";",["T_WHITESPACE","\n                    ",1165],["T_VARIABLE","$additionalImageLabels",1166],"[","]",["T_WHITESPACE"," ",1166],"=",["T_WHITESPACE"," ",1166],["T_VARIABLE","$mediaItem",1166],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_label'",1166],"]",";",["T_WHITESPACE","\n\n                    ",1166],["T_IF","if",1168],["T_WHITESPACE"," ",1168],"(",["T_VARIABLE","$mediaItem",1168],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_is_disabled'",1168],"]",["T_WHITESPACE"," ",1168],["T_IS_EQUAL","==",1168],["T_WHITESPACE"," ",1168],["T_STRING","true",1168],")",["T_WHITESPACE"," ",1168],"{",["T_WHITESPACE","\n                        ",1168],["T_VARIABLE","$additionalImageIsDisabled",1169],"[","]",["T_WHITESPACE"," ",1169],"=",["T_WHITESPACE"," ",1169],["T_VARIABLE","$mediaItem",1169],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_image'",1169],"]",";",["T_WHITESPACE","\n                    ",1169],"}",["T_WHITESPACE","\n                ",1170],"}",["T_WHITESPACE","\n                ",1171],["T_VARIABLE","$dataRow",1172],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_images'",1172],"]",["T_WHITESPACE"," ",1172],"=",["T_WHITESPACE","\n                    ",1172],["T_STRING","implode",1173],"(",["T_STRING","Import",1173],["T_DOUBLE_COLON","::",1173],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1173],",",["T_WHITESPACE"," ",1173],["T_VARIABLE","$additionalImages",1173],")",";",["T_WHITESPACE","\n                ",1173],["T_VARIABLE","$dataRow",1174],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_image_labels'",1174],"]",["T_WHITESPACE"," ",1174],"=",["T_WHITESPACE","\n                    ",1174],["T_STRING","implode",1175],"(",["T_STRING","Import",1175],["T_DOUBLE_COLON","::",1175],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1175],",",["T_WHITESPACE"," ",1175],["T_VARIABLE","$additionalImageLabels",1175],")",";",["T_WHITESPACE","\n                ",1175],["T_VARIABLE","$dataRow",1176],"[",["T_CONSTANT_ENCAPSED_STRING","'hide_from_product_page'",1176],"]",["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE","\n                    ",1176],["T_STRING","implode",1177],"(",["T_STRING","Import",1177],["T_DOUBLE_COLON","::",1177],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1177],",",["T_WHITESPACE"," ",1177],["T_VARIABLE","$additionalImageIsDisabled",1177],")",";",["T_WHITESPACE","\n                ",1177],["T_VARIABLE","$multiRawData",1178],"[",["T_CONSTANT_ENCAPSED_STRING","'mediaGalery'",1178],"]","[",["T_VARIABLE","$productLinkId",1178],"]",["T_WHITESPACE"," ",1178],"=",["T_WHITESPACE"," ",1178],"[","]",";",["T_WHITESPACE","\n            ",1178],"}",["T_WHITESPACE","\n            ",1179],["T_FOREACH","foreach",1180],["T_WHITESPACE"," ",1180],"(",["T_VARIABLE","$this",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","_linkTypeProvider",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","getLinkTypes",1180],"(",")",["T_WHITESPACE"," ",1180],["T_AS","as",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$linkTypeName",1180],["T_WHITESPACE"," ",1180],["T_DOUBLE_ARROW","=>",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$linkId",1180],")",["T_WHITESPACE"," ",1180],"{",["T_WHITESPACE","\n                ",1180],["T_IF","if",1181],["T_WHITESPACE"," ",1181],"(","!",["T_EMPTY","empty",1181],"(",["T_VARIABLE","$multiRawData",1181],"[",["T_CONSTANT_ENCAPSED_STRING","'linksRows'",1181],"]","[",["T_VARIABLE","$productLinkId",1181],"]","[",["T_VARIABLE","$linkId",1181],"]",")",")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n                    ",1181],["T_VARIABLE","$colPrefix",1182],["T_WHITESPACE"," ",1182],"=",["T_WHITESPACE"," ",1182],["T_VARIABLE","$linkTypeName",1182],["T_WHITESPACE"," ",1182],".",["T_WHITESPACE"," ",1182],["T_CONSTANT_ENCAPSED_STRING","'_'",1182],";",["T_WHITESPACE","\n\n                    ",1182],["T_VARIABLE","$associations",1184],["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],"[","]",";",["T_WHITESPACE","\n                    ",1184],["T_FOREACH","foreach",1185],["T_WHITESPACE"," ",1185],"(",["T_VARIABLE","$multiRawData",1185],"[",["T_CONSTANT_ENCAPSED_STRING","'linksRows'",1185],"]","[",["T_VARIABLE","$productLinkId",1185],"]","[",["T_VARIABLE","$linkId",1185],"]",["T_WHITESPACE"," ",1185],["T_AS","as",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$linkData",1185],")",["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n                        ",1185],["T_IF","if",1186],["T_WHITESPACE"," ",1186],"(",["T_VARIABLE","$linkData",1186],"[",["T_CONSTANT_ENCAPSED_STRING","'default_qty'",1186],"]",["T_WHITESPACE"," ",1186],["T_IS_NOT_IDENTICAL","!==",1186],["T_WHITESPACE"," ",1186],["T_STRING","null",1186],")",["T_WHITESPACE"," ",1186],"{",["T_WHITESPACE","\n                            ",1186],["T_VARIABLE","$skuItem",1187],["T_WHITESPACE"," ",1187],"=",["T_WHITESPACE"," ",1187],["T_VARIABLE","$linkData",1187],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1187],"]",["T_WHITESPACE"," ",1187],".",["T_WHITESPACE"," ",1187],["T_STRING","ImportProduct",1187],["T_DOUBLE_COLON","::",1187],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",1187],["T_WHITESPACE"," ",1187],".",["T_WHITESPACE","\n                                ",1187],["T_VARIABLE","$linkData",1188],"[",["T_CONSTANT_ENCAPSED_STRING","'default_qty'",1188],"]",";",["T_WHITESPACE","\n                        ",1188],"}",["T_WHITESPACE"," ",1189],["T_ELSE","else",1189],["T_WHITESPACE"," ",1189],"{",["T_WHITESPACE","\n                            ",1189],["T_VARIABLE","$skuItem",1190],["T_WHITESPACE"," ",1190],"=",["T_WHITESPACE"," ",1190],["T_VARIABLE","$linkData",1190],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1190],"]",";",["T_WHITESPACE","\n                        ",1190],"}",["T_WHITESPACE","\n                        ",1191],["T_VARIABLE","$associations",1192],"[",["T_VARIABLE","$skuItem",1192],"]",["T_WHITESPACE"," ",1192],"=",["T_WHITESPACE"," ",1192],["T_VARIABLE","$linkData",1192],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",1192],"]",";",["T_WHITESPACE","\n                    ",1192],"}",["T_WHITESPACE","\n                    ",1193],["T_VARIABLE","$multiRawData",1194],"[",["T_CONSTANT_ENCAPSED_STRING","'linksRows'",1194],"]","[",["T_VARIABLE","$productLinkId",1194],"]","[",["T_VARIABLE","$linkId",1194],"]",["T_WHITESPACE"," ",1194],"=",["T_WHITESPACE"," ",1194],"[","]",";",["T_WHITESPACE","\n                    ",1194],["T_STRING","asort",1195],"(",["T_VARIABLE","$associations",1195],")",";",["T_WHITESPACE","\n                    ",1195],["T_VARIABLE","$dataRow",1196],"[",["T_VARIABLE","$colPrefix",1196],["T_WHITESPACE"," ",1196],".",["T_WHITESPACE"," ",1196],["T_CONSTANT_ENCAPSED_STRING","'skus'",1196],"]",["T_WHITESPACE"," ",1196],"=",["T_WHITESPACE","\n                        ",1196],["T_STRING","implode",1197],"(",["T_STRING","Import",1197],["T_DOUBLE_COLON","::",1197],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1197],",",["T_WHITESPACE"," ",1197],["T_STRING","array_keys",1197],"(",["T_VARIABLE","$associations",1197],")",")",";",["T_WHITESPACE","\n                    ",1197],["T_VARIABLE","$dataRow",1198],"[",["T_VARIABLE","$colPrefix",1198],["T_WHITESPACE"," ",1198],".",["T_WHITESPACE"," ",1198],["T_CONSTANT_ENCAPSED_STRING","'position'",1198],"]",["T_WHITESPACE"," ",1198],"=",["T_WHITESPACE","\n                        ",1198],["T_STRING","implode",1199],"(",["T_STRING","Import",1199],["T_DOUBLE_COLON","::",1199],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1199],",",["T_WHITESPACE"," ",1199],["T_STRING","array_values",1199],"(",["T_VARIABLE","$associations",1199],")",")",";",["T_WHITESPACE","\n                ",1199],"}",["T_WHITESPACE","\n            ",1200],"}",["T_WHITESPACE","\n            ",1201],["T_VARIABLE","$dataRow",1202],["T_WHITESPACE"," ",1202],"=",["T_WHITESPACE"," ",1202],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","rowCustomizer",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","addData",1202],"(",["T_VARIABLE","$dataRow",1202],",",["T_WHITESPACE"," ",1202],["T_VARIABLE","$productId",1202],")",";",["T_WHITESPACE","\n        ",1202],"}",["T_WHITESPACE","\n\n        ",1203],["T_IF","if",1205],["T_WHITESPACE"," ",1205],"(","!",["T_EMPTY","empty",1205],"(",["T_VARIABLE","$this",1205],["T_OBJECT_OPERATOR","->",1205],["T_STRING","collectedMultiselectsData",1205],"[",["T_VARIABLE","$storeId",1205],"]","[",["T_VARIABLE","$productId",1205],"]",")",")",["T_WHITESPACE"," ",1205],"{",["T_WHITESPACE","\n            ",1205],["T_FOREACH","foreach",1206],["T_WHITESPACE"," ",1206],"(",["T_STRING","array_keys",1206],"(",["T_VARIABLE","$this",1206],["T_OBJECT_OPERATOR","->",1206],["T_STRING","collectedMultiselectsData",1206],"[",["T_VARIABLE","$storeId",1206],"]","[",["T_VARIABLE","$productId",1206],"]",")",["T_WHITESPACE"," ",1206],["T_AS","as",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$attrKey",1206],")",["T_WHITESPACE"," ",1206],"{",["T_WHITESPACE","\n                ",1206],["T_IF","if",1207],["T_WHITESPACE"," ",1207],"(","!",["T_EMPTY","empty",1207],"(",["T_VARIABLE","$this",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","collectedMultiselectsData",1207],"[",["T_VARIABLE","$storeId",1207],"]","[",["T_VARIABLE","$productId",1207],"]","[",["T_VARIABLE","$attrKey",1207],"]",")",")",["T_WHITESPACE"," ",1207],"{",["T_WHITESPACE","\n                    ",1207],["T_VARIABLE","$dataRow",1208],"[",["T_VARIABLE","$attrKey",1208],"]",["T_WHITESPACE"," ",1208],"=",["T_WHITESPACE"," ",1208],["T_STRING","implode",1208],"(",["T_WHITESPACE","\n                        ",1208],["T_STRING","Import",1209],["T_DOUBLE_COLON","::",1209],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1209],",",["T_WHITESPACE","\n                        ",1209],["T_VARIABLE","$this",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","collectedMultiselectsData",1210],"[",["T_VARIABLE","$storeId",1210],"]","[",["T_VARIABLE","$productId",1210],"]","[",["T_VARIABLE","$attrKey",1210],"]",["T_WHITESPACE","\n                    ",1210],")",";",["T_WHITESPACE","\n                ",1211],"}",["T_WHITESPACE","\n            ",1212],"}",["T_WHITESPACE","\n        ",1213],"}",["T_WHITESPACE","\n\n        ",1214],["T_IF","if",1216],["T_WHITESPACE"," ",1216],"(","!",["T_EMPTY","empty",1216],"(",["T_VARIABLE","$multiRawData",1216],"[",["T_CONSTANT_ENCAPSED_STRING","'customOptionsData'",1216],"]","[",["T_VARIABLE","$productLinkId",1216],"]","[",["T_VARIABLE","$storeId",1216],"]",")",")",["T_WHITESPACE"," ",1216],"{",["T_WHITESPACE","\n            ",1216],["T_VARIABLE","$customOptionsRows",1217],["T_WHITESPACE"," ",1217],"=",["T_WHITESPACE"," ",1217],["T_VARIABLE","$multiRawData",1217],"[",["T_CONSTANT_ENCAPSED_STRING","'customOptionsData'",1217],"]","[",["T_VARIABLE","$productLinkId",1217],"]","[",["T_VARIABLE","$storeId",1217],"]",";",["T_WHITESPACE","\n            ",1217],["T_VARIABLE","$multiRawData",1218],"[",["T_CONSTANT_ENCAPSED_STRING","'customOptionsData'",1218],"]","[",["T_VARIABLE","$productLinkId",1218],"]","[",["T_VARIABLE","$storeId",1218],"]",["T_WHITESPACE"," ",1218],"=",["T_WHITESPACE"," ",1218],"[","]",";",["T_WHITESPACE","\n            ",1218],["T_VARIABLE","$customOptions",1219],["T_WHITESPACE"," ",1219],"=",["T_WHITESPACE"," ",1219],["T_STRING","implode",1219],"(",["T_STRING","ImportProduct",1219],["T_DOUBLE_COLON","::",1219],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",1219],",",["T_WHITESPACE"," ",1219],["T_VARIABLE","$customOptionsRows",1219],")",";",["T_WHITESPACE","\n\n            ",1219],["T_VARIABLE","$dataRow",1221],["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_STRING","array_merge",1221],"(",["T_VARIABLE","$dataRow",1221],",",["T_WHITESPACE"," ",1221],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_options'",1221],["T_WHITESPACE"," ",1221],["T_DOUBLE_ARROW","=>",1221],["T_WHITESPACE"," ",1221],["T_VARIABLE","$customOptions",1221],"]",")",";",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n\n        ",1222],["T_IF","if",1224],["T_WHITESPACE"," ",1224],"(",["T_EMPTY","empty",1224],"(",["T_VARIABLE","$dataRow",1224],")",")",["T_WHITESPACE"," ",1224],"{",["T_WHITESPACE","\n            ",1224],["T_RETURN","return",1225],["T_WHITESPACE"," ",1225],["T_STRING","null",1225],";",["T_WHITESPACE","\n        ",1225],"}",["T_WHITESPACE"," ",1226],["T_ELSEIF","elseif",1226],["T_WHITESPACE"," ",1226],"(",["T_VARIABLE","$storeId",1226],["T_WHITESPACE"," ",1226],["T_IS_NOT_EQUAL","!=",1226],["T_WHITESPACE"," ",1226],["T_STRING","Store",1226],["T_DOUBLE_COLON","::",1226],["T_STRING","DEFAULT_STORE_ID",1226],")",["T_WHITESPACE"," ",1226],"{",["T_WHITESPACE","\n            ",1226],["T_VARIABLE","$dataRow",1227],"[",["T_STRING","self",1227],["T_DOUBLE_COLON","::",1227],["T_STRING","COL_STORE",1227],"]",["T_WHITESPACE"," ",1227],"=",["T_WHITESPACE"," ",1227],["T_VARIABLE","$this",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","_storeIdToCode",1227],"[",["T_VARIABLE","$storeId",1227],"]",";",["T_WHITESPACE","\n            ",1227],["T_IF","if",1228],["T_WHITESPACE"," ",1228],"(",["T_ISSET","isset",1228],"(",["T_VARIABLE","$productData",1228],"[",["T_STRING","Store",1228],["T_DOUBLE_COLON","::",1228],["T_STRING","DEFAULT_STORE_ID",1228],"]","[",["T_STRING","self",1228],["T_DOUBLE_COLON","::",1228],["T_STRING","COL_VISIBILITY",1228],"]",")",")",["T_WHITESPACE"," ",1228],"{",["T_WHITESPACE","\n                ",1228],["T_VARIABLE","$dataRow",1229],"[",["T_STRING","self",1229],["T_DOUBLE_COLON","::",1229],["T_STRING","COL_VISIBILITY",1229],"]",["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],["T_VARIABLE","$productData",1229],"[",["T_STRING","Store",1229],["T_DOUBLE_COLON","::",1229],["T_STRING","DEFAULT_STORE_ID",1229],"]","[",["T_STRING","self",1229],["T_DOUBLE_COLON","::",1229],["T_STRING","COL_VISIBILITY",1229],"]",";",["T_WHITESPACE","\n            ",1229],"}",["T_WHITESPACE","\n        ",1230],"}",["T_WHITESPACE","\n        ",1231],["T_VARIABLE","$dataRow",1232],"[",["T_STRING","self",1232],["T_DOUBLE_COLON","::",1232],["T_STRING","COL_SKU",1232],"]",["T_WHITESPACE"," ",1232],"=",["T_WHITESPACE"," ",1232],["T_VARIABLE","$sku",1232],";",["T_WHITESPACE","\n        ",1232],["T_RETURN","return",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$dataRow",1233],";",["T_WHITESPACE","\n    ",1233],"}",["T_WHITESPACE","\n\n    ",1234],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @param array $dataRow\n     * @param array $multiRawData\n     * @return array\n     *\/",1236],["T_WHITESPACE","\n    ",1241],["T_PROTECTED","protected",1242],["T_WHITESPACE"," ",1242],["T_FUNCTION","function",1242],["T_WHITESPACE"," ",1242],["T_STRING","addMultirowData",1242],"(",["T_VARIABLE","$dataRow",1242],",",["T_WHITESPACE"," ",1242],["T_VARIABLE","$multiRawData",1242],")",["T_WHITESPACE","\n    ",1242],"{",["T_WHITESPACE","\n        ",1243],["T_VARIABLE","$data",1244],["T_WHITESPACE"," ",1244],"=",["T_WHITESPACE"," ",1244],["T_VARIABLE","$this",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","appendMultirowData",1244],"(",["T_VARIABLE","$dataRow",1244],",",["T_WHITESPACE"," ",1244],["T_VARIABLE","$multiRawData",1244],")",";",["T_WHITESPACE","\n        ",1244],["T_RETURN","return",1245],["T_WHITESPACE"," ",1245],["T_VARIABLE","$data",1245],["T_WHITESPACE"," ",1245],"?",["T_WHITESPACE"," ",1245],"[",["T_VARIABLE","$data",1245],"]",["T_WHITESPACE"," ",1245],":",["T_WHITESPACE"," ",1245],"[","]",";",["T_WHITESPACE","\n    ",1245],"}",["T_WHITESPACE","\n\n    ",1246],["T_DOC_COMMENT","\/**\n     * Custom fields mapping for changed purposes of fields and field names\n     *\n     * @param array $rowData\n     *\n     * @return array\n     *\/",1248],["T_WHITESPACE","\n    ",1254],["T_PROTECTED","protected",1255],["T_WHITESPACE"," ",1255],["T_FUNCTION","function",1255],["T_WHITESPACE"," ",1255],["T_STRING","_customFieldsMapping",1255],"(",["T_VARIABLE","$rowData",1255],")",["T_WHITESPACE","\n    ",1255],"{",["T_WHITESPACE","\n        ",1256],["T_FOREACH","foreach",1257],["T_WHITESPACE"," ",1257],"(",["T_VARIABLE","$this",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","_fieldsMap",1257],["T_WHITESPACE"," ",1257],["T_AS","as",1257],["T_WHITESPACE"," ",1257],["T_VARIABLE","$systemFieldName",1257],["T_WHITESPACE"," ",1257],["T_DOUBLE_ARROW","=>",1257],["T_WHITESPACE"," ",1257],["T_VARIABLE","$fileFieldName",1257],")",["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n            ",1257],["T_IF","if",1258],["T_WHITESPACE"," ",1258],"(",["T_ISSET","isset",1258],"(",["T_VARIABLE","$rowData",1258],"[",["T_VARIABLE","$systemFieldName",1258],"]",")",")",["T_WHITESPACE"," ",1258],"{",["T_WHITESPACE","\n                ",1258],["T_VARIABLE","$rowData",1259],"[",["T_VARIABLE","$fileFieldName",1259],"]",["T_WHITESPACE"," ",1259],"=",["T_WHITESPACE"," ",1259],["T_VARIABLE","$rowData",1259],"[",["T_VARIABLE","$systemFieldName",1259],"]",";",["T_WHITESPACE","\n                ",1259],["T_UNSET","unset",1260],"(",["T_VARIABLE","$rowData",1260],"[",["T_VARIABLE","$systemFieldName",1260],"]",")",";",["T_WHITESPACE","\n            ",1260],"}",["T_WHITESPACE","\n        ",1261],"}",["T_WHITESPACE","\n        ",1262],["T_RETURN","return",1263],["T_WHITESPACE"," ",1263],["T_VARIABLE","$rowData",1263],";",["T_WHITESPACE","\n    ",1263],"}",["T_WHITESPACE","\n\n    ",1264],["T_DOC_COMMENT","\/**\n     * Custom headers mapping for changed field names\n     *\n     * @param array $rowData\n     *\n     * @return array\n     *\/",1266],["T_WHITESPACE","\n    ",1272],["T_PROTECTED","protected",1273],["T_WHITESPACE"," ",1273],["T_FUNCTION","function",1273],["T_WHITESPACE"," ",1273],["T_STRING","_customHeadersMapping",1273],"(",["T_VARIABLE","$rowData",1273],")",["T_WHITESPACE","\n    ",1273],"{",["T_WHITESPACE","\n        ",1274],["T_FOREACH","foreach",1275],["T_WHITESPACE"," ",1275],"(",["T_VARIABLE","$rowData",1275],["T_WHITESPACE"," ",1275],["T_AS","as",1275],["T_WHITESPACE"," ",1275],["T_VARIABLE","$key",1275],["T_WHITESPACE"," ",1275],["T_DOUBLE_ARROW","=>",1275],["T_WHITESPACE"," ",1275],["T_VARIABLE","$fieldName",1275],")",["T_WHITESPACE"," ",1275],"{",["T_WHITESPACE","\n            ",1275],["T_IF","if",1276],["T_WHITESPACE"," ",1276],"(",["T_ISSET","isset",1276],"(",["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","_fieldsMap",1276],"[",["T_VARIABLE","$fieldName",1276],"]",")",")",["T_WHITESPACE"," ",1276],"{",["T_WHITESPACE","\n                ",1276],["T_VARIABLE","$rowData",1277],"[",["T_VARIABLE","$key",1277],"]",["T_WHITESPACE"," ",1277],"=",["T_WHITESPACE"," ",1277],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","_fieldsMap",1277],"[",["T_VARIABLE","$fieldName",1277],"]",";",["T_WHITESPACE","\n            ",1277],"}",["T_WHITESPACE","\n        ",1278],"}",["T_WHITESPACE","\n        ",1279],["T_RETURN","return",1280],["T_WHITESPACE"," ",1280],["T_VARIABLE","$rowData",1280],";",["T_WHITESPACE","\n    ",1280],"}",["T_WHITESPACE","\n\n    ",1281],["T_DOC_COMMENT","\/**\n     * @param array $option\n     * @return string\n     *\/",1283],["T_WHITESPACE","\n    ",1286],["T_PROTECTED","protected",1287],["T_WHITESPACE"," ",1287],["T_FUNCTION","function",1287],["T_WHITESPACE"," ",1287],["T_STRING","optionRowToCellString",1287],"(",["T_VARIABLE","$option",1287],")",["T_WHITESPACE","\n    ",1287],"{",["T_WHITESPACE","\n        ",1288],["T_VARIABLE","$result",1289],["T_WHITESPACE"," ",1289],"=",["T_WHITESPACE"," ",1289],"[","]",";",["T_WHITESPACE","\n\n        ",1289],["T_FOREACH","foreach",1291],["T_WHITESPACE"," ",1291],"(",["T_VARIABLE","$option",1291],["T_WHITESPACE"," ",1291],["T_AS","as",1291],["T_WHITESPACE"," ",1291],["T_VARIABLE","$key",1291],["T_WHITESPACE"," ",1291],["T_DOUBLE_ARROW","=>",1291],["T_WHITESPACE"," ",1291],["T_VARIABLE","$value",1291],")",["T_WHITESPACE"," ",1291],"{",["T_WHITESPACE","\n            ",1291],["T_VARIABLE","$result",1292],"[","]",["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$key",1292],["T_WHITESPACE"," ",1292],".",["T_WHITESPACE"," ",1292],["T_STRING","ImportProduct",1292],["T_DOUBLE_COLON","::",1292],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",1292],["T_WHITESPACE"," ",1292],".",["T_WHITESPACE"," ",1292],["T_VARIABLE","$value",1292],";",["T_WHITESPACE","\n        ",1292],"}",["T_WHITESPACE","\n\n        ",1293],["T_RETURN","return",1295],["T_WHITESPACE"," ",1295],["T_STRING","implode",1295],"(",["T_STRING","Import",1295],["T_DOUBLE_COLON","::",1295],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",1295],",",["T_WHITESPACE"," ",1295],["T_VARIABLE","$result",1295],")",";",["T_WHITESPACE","\n    ",1295],"}",["T_WHITESPACE","\n\n    ",1296],["T_DOC_COMMENT","\/**\n     * @param int[] $productIds\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1298],["T_WHITESPACE","\n    ",1303],["T_PROTECTED","protected",1304],["T_WHITESPACE"," ",1304],["T_FUNCTION","function",1304],["T_WHITESPACE"," ",1304],["T_STRING","getCustomOptionsData",1304],"(",["T_VARIABLE","$productIds",1304],")",["T_WHITESPACE","\n    ",1304],"{",["T_WHITESPACE","\n        ",1305],["T_VARIABLE","$customOptionsData",1306],["T_WHITESPACE"," ",1306],"=",["T_WHITESPACE"," ",1306],"[","]",";",["T_WHITESPACE","\n\n        ",1306],["T_FOREACH","foreach",1308],["T_WHITESPACE"," ",1308],"(",["T_STRING","array_keys",1308],"(",["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","_storeIdToCode",1308],")",["T_WHITESPACE"," ",1308],["T_AS","as",1308],["T_WHITESPACE"," ",1308],["T_VARIABLE","$storeId",1308],")",["T_WHITESPACE"," ",1308],"{",["T_WHITESPACE","\n            ",1308],["T_IF","if",1309],["T_WHITESPACE"," ",1309],"(",["T_STRING","Store",1309],["T_DOUBLE_COLON","::",1309],["T_STRING","DEFAULT_STORE_ID",1309],["T_WHITESPACE"," ",1309],["T_IS_NOT_EQUAL","!=",1309],["T_WHITESPACE"," ",1309],["T_VARIABLE","$storeId",1309],")",["T_WHITESPACE"," ",1309],"{",["T_WHITESPACE","\n                ",1309],["T_CONTINUE","continue",1310],";",["T_WHITESPACE","\n            ",1310],"}",["T_WHITESPACE","\n            ",1311],["T_VARIABLE","$options",1312],["T_WHITESPACE"," ",1312],"=",["T_WHITESPACE"," ",1312],["T_VARIABLE","$this",1312],["T_OBJECT_OPERATOR","->",1312],["T_STRING","_optionColFactory",1312],["T_OBJECT_OPERATOR","->",1312],["T_STRING","create",1312],"(",")",";",["T_WHITESPACE","\n            ",1312],["T_COMMENT","\/* @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Option\\Collection $options*\/",1313],["T_WHITESPACE","\n            ",1313],["T_VARIABLE","$options",1314],["T_OBJECT_OPERATOR","->",1314],["T_STRING","addOrder",1314],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",1314],")",";",["T_WHITESPACE","\n            ",1314],["T_VARIABLE","$options",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","reset",1315],"(",")",["T_OBJECT_OPERATOR","->",1315],["T_STRING","addOrder",1315],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",1315],")",["T_OBJECT_OPERATOR","->",1315],["T_STRING","addTitleToResult",1315],"(",["T_WHITESPACE","\n                ",1315],["T_VARIABLE","$storeId",1316],["T_WHITESPACE","\n            ",1316],")",["T_OBJECT_OPERATOR","->",1317],["T_STRING","addPriceToResult",1317],"(",["T_WHITESPACE","\n                ",1317],["T_VARIABLE","$storeId",1318],["T_WHITESPACE","\n            ",1318],")",["T_OBJECT_OPERATOR","->",1319],["T_STRING","addProductToFilter",1319],"(",["T_WHITESPACE","\n                ",1319],["T_VARIABLE","$productIds",1320],["T_WHITESPACE","\n            ",1320],")",["T_OBJECT_OPERATOR","->",1321],["T_STRING","addValuesToResult",1321],"(",["T_WHITESPACE","\n                ",1321],["T_VARIABLE","$storeId",1322],["T_WHITESPACE","\n            ",1322],")",";",["T_WHITESPACE","\n\n            ",1323],["T_FOREACH","foreach",1325],["T_WHITESPACE"," ",1325],"(",["T_VARIABLE","$options",1325],["T_WHITESPACE"," ",1325],["T_AS","as",1325],["T_WHITESPACE"," ",1325],["T_VARIABLE","$option",1325],")",["T_WHITESPACE"," ",1325],"{",["T_WHITESPACE","\n                ",1325],["T_VARIABLE","$row",1326],["T_WHITESPACE"," ",1326],"=",["T_WHITESPACE"," ",1326],"[","]",";",["T_WHITESPACE","\n                ",1326],["T_VARIABLE","$productId",1327],["T_WHITESPACE"," ",1327],"=",["T_WHITESPACE"," ",1327],["T_VARIABLE","$option",1327],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1327],"]",";",["T_WHITESPACE","\n\n                ",1327],["T_VARIABLE","$row",1329],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",1329],"]",["T_WHITESPACE"," ",1329],"=",["T_WHITESPACE"," ",1329],["T_VARIABLE","$option",1329],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",1329],"]",";",["T_WHITESPACE","\n                ",1329],["T_VARIABLE","$row",1330],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",1330],"]",["T_WHITESPACE"," ",1330],"=",["T_WHITESPACE"," ",1330],["T_VARIABLE","$option",1330],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",1330],"]",";",["T_WHITESPACE","\n                ",1330],["T_VARIABLE","$row",1331],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",1331],"]",["T_WHITESPACE"," ",1331],"=",["T_WHITESPACE"," ",1331],["T_VARIABLE","$option",1331],"[",["T_CONSTANT_ENCAPSED_STRING","'is_require'",1331],"]",";",["T_WHITESPACE","\n                ",1331],["T_VARIABLE","$row",1332],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",1332],"]",["T_WHITESPACE"," ",1332],"=",["T_WHITESPACE"," ",1332],["T_VARIABLE","$option",1332],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",1332],"]",";",["T_WHITESPACE","\n                ",1332],["T_VARIABLE","$row",1333],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",1333],"]",["T_WHITESPACE"," ",1333],"=",["T_WHITESPACE"," ",1333],"(",["T_VARIABLE","$option",1333],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",1333],"]",["T_WHITESPACE"," ",1333],["T_IS_EQUAL","==",1333],["T_WHITESPACE"," ",1333],["T_CONSTANT_ENCAPSED_STRING","'percent'",1333],")",["T_WHITESPACE"," ",1333],"?",["T_WHITESPACE"," ",1333],["T_VARIABLE","$option",1333],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",1333],"]",["T_WHITESPACE"," ",1333],":",["T_WHITESPACE"," ",1333],["T_CONSTANT_ENCAPSED_STRING","'fixed'",1333],";",["T_WHITESPACE","\n                ",1333],["T_VARIABLE","$row",1334],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1334],"]",["T_WHITESPACE"," ",1334],"=",["T_WHITESPACE"," ",1334],["T_VARIABLE","$option",1334],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1334],"]",";",["T_WHITESPACE","\n                ",1334],["T_IF","if",1335],["T_WHITESPACE"," ",1335],"(",["T_VARIABLE","$option",1335],"[",["T_CONSTANT_ENCAPSED_STRING","'max_characters'",1335],"]",")",["T_WHITESPACE"," ",1335],"{",["T_WHITESPACE","\n                    ",1335],["T_VARIABLE","$row",1336],"[",["T_CONSTANT_ENCAPSED_STRING","'max_characters'",1336],"]",["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_VARIABLE","$option",1336],"[",["T_CONSTANT_ENCAPSED_STRING","'max_characters'",1336],"]",";",["T_WHITESPACE","\n                ",1336],"}",["T_WHITESPACE","\n\n                ",1337],["T_FOREACH","foreach",1339],["T_WHITESPACE"," ",1339],"(","[",["T_CONSTANT_ENCAPSED_STRING","'file_extension'",1339],",",["T_WHITESPACE"," ",1339],["T_CONSTANT_ENCAPSED_STRING","'image_size_x'",1339],",",["T_WHITESPACE"," ",1339],["T_CONSTANT_ENCAPSED_STRING","'image_size_y'",1339],"]",["T_WHITESPACE"," ",1339],["T_AS","as",1339],["T_WHITESPACE"," ",1339],["T_VARIABLE","$fileOptionKey",1339],")",["T_WHITESPACE"," ",1339],"{",["T_WHITESPACE","\n                    ",1339],["T_IF","if",1340],["T_WHITESPACE"," ",1340],"(","!",["T_ISSET","isset",1340],"(",["T_VARIABLE","$option",1340],"[",["T_VARIABLE","$fileOptionKey",1340],"]",")",")",["T_WHITESPACE"," ",1340],"{",["T_WHITESPACE","\n                        ",1340],["T_CONTINUE","continue",1341],";",["T_WHITESPACE","\n                    ",1341],"}",["T_WHITESPACE","\n\n                    ",1342],["T_VARIABLE","$row",1344],"[",["T_VARIABLE","$fileOptionKey",1344],"]",["T_WHITESPACE"," ",1344],"=",["T_WHITESPACE"," ",1344],["T_VARIABLE","$option",1344],"[",["T_VARIABLE","$fileOptionKey",1344],"]",";",["T_WHITESPACE","\n                ",1344],"}",["T_WHITESPACE","\n\n                ",1345],["T_VARIABLE","$values",1347],["T_WHITESPACE"," ",1347],"=",["T_WHITESPACE"," ",1347],["T_VARIABLE","$option",1347],["T_OBJECT_OPERATOR","->",1347],["T_STRING","getValues",1347],"(",")",";",["T_WHITESPACE","\n\n                ",1347],["T_IF","if",1349],["T_WHITESPACE"," ",1349],"(",["T_VARIABLE","$values",1349],")",["T_WHITESPACE"," ",1349],"{",["T_WHITESPACE","\n                    ",1349],["T_FOREACH","foreach",1350],["T_WHITESPACE"," ",1350],"(",["T_VARIABLE","$values",1350],["T_WHITESPACE"," ",1350],["T_AS","as",1350],["T_WHITESPACE"," ",1350],["T_VARIABLE","$value",1350],")",["T_WHITESPACE"," ",1350],"{",["T_WHITESPACE","\n                        ",1350],["T_VARIABLE","$valuePriceType",1351],["T_WHITESPACE"," ",1351],"=",["T_WHITESPACE"," ",1351],"(",["T_VARIABLE","$value",1351],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",1351],"]",["T_WHITESPACE"," ",1351],["T_IS_EQUAL","==",1351],["T_WHITESPACE"," ",1351],["T_CONSTANT_ENCAPSED_STRING","'percent'",1351],")",["T_WHITESPACE"," ",1351],"?",["T_WHITESPACE"," ",1351],["T_VARIABLE","$value",1351],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",1351],"]",["T_WHITESPACE"," ",1351],":",["T_WHITESPACE"," ",1351],["T_CONSTANT_ENCAPSED_STRING","'fixed'",1351],";",["T_WHITESPACE","\n                        ",1351],["T_VARIABLE","$row",1352],"[",["T_CONSTANT_ENCAPSED_STRING","'option_title'",1352],"]",["T_WHITESPACE"," ",1352],"=",["T_WHITESPACE"," ",1352],["T_VARIABLE","$value",1352],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",1352],"]",";",["T_WHITESPACE","\n                        ",1352],["T_VARIABLE","$row",1353],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",1353],"]",["T_WHITESPACE"," ",1353],"=",["T_WHITESPACE"," ",1353],["T_VARIABLE","$value",1353],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",1353],"]",";",["T_WHITESPACE","\n                        ",1353],["T_VARIABLE","$row",1354],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",1354],"]",["T_WHITESPACE"," ",1354],"=",["T_WHITESPACE"," ",1354],["T_VARIABLE","$valuePriceType",1354],";",["T_WHITESPACE","\n                        ",1354],["T_VARIABLE","$row",1355],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1355],"]",["T_WHITESPACE"," ",1355],"=",["T_WHITESPACE"," ",1355],["T_VARIABLE","$value",1355],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1355],"]",";",["T_WHITESPACE","\n                        ",1355],["T_VARIABLE","$customOptionsData",1356],"[",["T_VARIABLE","$productId",1356],"]","[",["T_VARIABLE","$storeId",1356],"]","[","]",["T_WHITESPACE"," ",1356],"=",["T_WHITESPACE"," ",1356],["T_VARIABLE","$this",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","optionRowToCellString",1356],"(",["T_VARIABLE","$row",1356],")",";",["T_WHITESPACE","\n                    ",1356],"}",["T_WHITESPACE","\n                ",1357],"}",["T_WHITESPACE"," ",1358],["T_ELSE","else",1358],["T_WHITESPACE"," ",1358],"{",["T_WHITESPACE","\n                    ",1358],["T_VARIABLE","$customOptionsData",1359],"[",["T_VARIABLE","$productId",1359],"]","[",["T_VARIABLE","$storeId",1359],"]","[","]",["T_WHITESPACE"," ",1359],"=",["T_WHITESPACE"," ",1359],["T_VARIABLE","$this",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","optionRowToCellString",1359],"(",["T_VARIABLE","$row",1359],")",";",["T_WHITESPACE","\n                ",1359],"}",["T_WHITESPACE","\n                ",1360],["T_VARIABLE","$option",1361],["T_WHITESPACE"," ",1361],"=",["T_WHITESPACE"," ",1361],["T_STRING","null",1361],";",["T_WHITESPACE","\n            ",1361],"}",["T_WHITESPACE","\n            ",1362],["T_VARIABLE","$options",1363],["T_WHITESPACE"," ",1363],"=",["T_WHITESPACE"," ",1363],["T_STRING","null",1363],";",["T_WHITESPACE","\n        ",1363],"}",["T_WHITESPACE","\n\n        ",1364],["T_RETURN","return",1366],["T_WHITESPACE"," ",1366],["T_VARIABLE","$customOptionsData",1366],";",["T_WHITESPACE","\n    ",1366],"}",["T_WHITESPACE","\n\n    ",1367],["T_DOC_COMMENT","\/**\n     * Clean up already loaded attribute collection.\n     *\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Collection $collection\n     * @return \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Collection\n     *\/",1369],["T_WHITESPACE","\n    ",1374],["T_PUBLIC","public",1375],["T_WHITESPACE"," ",1375],["T_FUNCTION","function",1375],["T_WHITESPACE"," ",1375],["T_STRING","filterAttributeCollection",1375],"(",["T_NS_SEPARATOR","\\",1375],["T_STRING","Magento",1375],["T_NS_SEPARATOR","\\",1375],["T_STRING","Eav",1375],["T_NS_SEPARATOR","\\",1375],["T_STRING","Model",1375],["T_NS_SEPARATOR","\\",1375],["T_STRING","ResourceModel",1375],["T_NS_SEPARATOR","\\",1375],["T_STRING","Entity",1375],["T_NS_SEPARATOR","\\",1375],["T_STRING","Attribute",1375],["T_NS_SEPARATOR","\\",1375],["T_STRING","Collection",1375],["T_WHITESPACE"," ",1375],["T_VARIABLE","$collection",1375],")",["T_WHITESPACE","\n    ",1375],"{",["T_WHITESPACE","\n        ",1376],["T_VARIABLE","$validTypes",1377],["T_WHITESPACE"," ",1377],"=",["T_WHITESPACE"," ",1377],["T_STRING","array_keys",1377],"(",["T_VARIABLE","$this",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","_productTypeModels",1377],")",";",["T_WHITESPACE","\n        ",1377],["T_VARIABLE","$validTypes",1378],["T_WHITESPACE"," ",1378],"=",["T_WHITESPACE"," ",1378],["T_STRING","array_combine",1378],"(",["T_VARIABLE","$validTypes",1378],",",["T_WHITESPACE"," ",1378],["T_VARIABLE","$validTypes",1378],")",";",["T_WHITESPACE","\n\n        ",1378],["T_FOREACH","foreach",1380],["T_WHITESPACE"," ",1380],"(",["T_STRING","parent",1380],["T_DOUBLE_COLON","::",1380],["T_STRING","filterAttributeCollection",1380],"(",["T_VARIABLE","$collection",1380],")",["T_WHITESPACE"," ",1380],["T_AS","as",1380],["T_WHITESPACE"," ",1380],["T_VARIABLE","$attribute",1380],")",["T_WHITESPACE"," ",1380],"{",["T_WHITESPACE","\n            ",1380],["T_IF","if",1381],["T_WHITESPACE"," ",1381],"(",["T_STRING","in_array",1381],"(",["T_VARIABLE","$attribute",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","getAttributeCode",1381],"(",")",",",["T_WHITESPACE"," ",1381],["T_VARIABLE","$this",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","_bannedAttributes",1381],")",")",["T_WHITESPACE"," ",1381],"{",["T_WHITESPACE","\n                ",1381],["T_VARIABLE","$collection",1382],["T_OBJECT_OPERATOR","->",1382],["T_STRING","removeItemByKey",1382],"(",["T_VARIABLE","$attribute",1382],["T_OBJECT_OPERATOR","->",1382],["T_STRING","getId",1382],"(",")",")",";",["T_WHITESPACE","\n                ",1382],["T_CONTINUE","continue",1383],";",["T_WHITESPACE","\n            ",1383],"}",["T_WHITESPACE","\n            ",1384],["T_VARIABLE","$attrApplyTo",1385],["T_WHITESPACE"," ",1385],"=",["T_WHITESPACE"," ",1385],["T_VARIABLE","$attribute",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","getApplyTo",1385],"(",")",";",["T_WHITESPACE","\n            ",1385],["T_VARIABLE","$attrApplyTo",1386],["T_WHITESPACE"," ",1386],"=",["T_WHITESPACE"," ",1386],["T_STRING","array_combine",1386],"(",["T_VARIABLE","$attrApplyTo",1386],",",["T_WHITESPACE"," ",1386],["T_VARIABLE","$attrApplyTo",1386],")",";",["T_WHITESPACE","\n            ",1386],["T_VARIABLE","$attrApplyTo",1387],["T_WHITESPACE"," ",1387],"=",["T_WHITESPACE"," ",1387],["T_VARIABLE","$attrApplyTo",1387],["T_WHITESPACE"," ",1387],"?",["T_WHITESPACE"," ",1387],["T_STRING","array_intersect_key",1387],"(",["T_VARIABLE","$attrApplyTo",1387],",",["T_WHITESPACE"," ",1387],["T_VARIABLE","$validTypes",1387],")",["T_WHITESPACE"," ",1387],":",["T_WHITESPACE"," ",1387],["T_VARIABLE","$validTypes",1387],";",["T_WHITESPACE","\n\n            ",1387],["T_IF","if",1389],["T_WHITESPACE"," ",1389],"(",["T_VARIABLE","$attrApplyTo",1389],")",["T_WHITESPACE"," ",1389],"{",["T_WHITESPACE","\n                ",1389],["T_FOREACH","foreach",1390],["T_WHITESPACE"," ",1390],"(",["T_VARIABLE","$attrApplyTo",1390],["T_WHITESPACE"," ",1390],["T_AS","as",1390],["T_WHITESPACE"," ",1390],["T_VARIABLE","$productType",1390],")",["T_WHITESPACE"," ",1390],"{",["T_WHITESPACE","\n                    ",1390],["T_COMMENT","\/\/ override attributes by its product type model\n",1391],["T_WHITESPACE","                    ",1392],["T_IF","if",1392],["T_WHITESPACE"," ",1392],"(",["T_VARIABLE","$this",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","_productTypeModels",1392],"[",["T_VARIABLE","$productType",1392],"]",["T_OBJECT_OPERATOR","->",1392],["T_STRING","overrideAttribute",1392],"(",["T_VARIABLE","$attribute",1392],")",")",["T_WHITESPACE"," ",1392],"{",["T_WHITESPACE","\n                        ",1392],["T_BREAK","break",1393],";",["T_WHITESPACE","\n                    ",1393],"}",["T_WHITESPACE","\n                ",1394],"}",["T_WHITESPACE","\n            ",1395],"}",["T_WHITESPACE"," ",1396],["T_ELSE","else",1396],["T_WHITESPACE"," ",1396],"{",["T_WHITESPACE","\n                ",1396],["T_COMMENT","\/\/ remove attributes of not-supported product types\n",1397],["T_WHITESPACE","                ",1398],["T_VARIABLE","$collection",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","removeItemByKey",1398],"(",["T_VARIABLE","$attribute",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","getId",1398],"(",")",")",";",["T_WHITESPACE","\n            ",1398],"}",["T_WHITESPACE","\n        ",1399],"}",["T_WHITESPACE","\n        ",1400],["T_RETURN","return",1401],["T_WHITESPACE"," ",1401],["T_VARIABLE","$collection",1401],";",["T_WHITESPACE","\n    ",1401],"}",["T_WHITESPACE","\n\n    ",1402],["T_DOC_COMMENT","\/**\n     * Entity attributes collection getter.\n     *\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Collection\n     *\/",1404],["T_WHITESPACE","\n    ",1408],["T_PUBLIC","public",1409],["T_WHITESPACE"," ",1409],["T_FUNCTION","function",1409],["T_WHITESPACE"," ",1409],["T_STRING","getAttributeCollection",1409],"(",")",["T_WHITESPACE","\n    ",1409],"{",["T_WHITESPACE","\n        ",1410],["T_RETURN","return",1411],["T_WHITESPACE"," ",1411],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","_attributeColFactory",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","create",1411],"(",")",";",["T_WHITESPACE","\n    ",1411],"}",["T_WHITESPACE","\n\n    ",1412],["T_DOC_COMMENT","\/**\n     * EAV entity type code getter.\n     *\n     * @return string\n     *\/",1414],["T_WHITESPACE","\n    ",1418],["T_PUBLIC","public",1419],["T_WHITESPACE"," ",1419],["T_FUNCTION","function",1419],["T_WHITESPACE"," ",1419],["T_STRING","getEntityTypeCode",1419],"(",")",["T_WHITESPACE","\n    ",1419],"{",["T_WHITESPACE","\n        ",1420],["T_RETURN","return",1421],["T_WHITESPACE"," ",1421],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",1421],";",["T_WHITESPACE","\n    ",1421],"}",["T_WHITESPACE","\n\n    ",1422],["T_DOC_COMMENT","\/**\n     * Initialize attribute option values and types.\n     *\n     * @return $this\n     *\/",1424],["T_WHITESPACE","\n    ",1428],["T_PROTECTED","protected",1429],["T_WHITESPACE"," ",1429],["T_FUNCTION","function",1429],["T_WHITESPACE"," ",1429],["T_STRING","initAttributes",1429],"(",")",["T_WHITESPACE","\n    ",1429],"{",["T_WHITESPACE","\n        ",1430],["T_FOREACH","foreach",1431],["T_WHITESPACE"," ",1431],"(",["T_VARIABLE","$this",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","getAttributeCollection",1431],"(",")",["T_WHITESPACE"," ",1431],["T_AS","as",1431],["T_WHITESPACE"," ",1431],["T_VARIABLE","$attribute",1431],")",["T_WHITESPACE"," ",1431],"{",["T_WHITESPACE","\n            ",1431],["T_VARIABLE","$this",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","_attributeValues",1432],"[",["T_VARIABLE","$attribute",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","getAttributeCode",1432],"(",")","]",["T_WHITESPACE"," ",1432],"=",["T_WHITESPACE"," ",1432],["T_VARIABLE","$this",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","getAttributeOptions",1432],"(",["T_VARIABLE","$attribute",1432],")",";",["T_WHITESPACE","\n            ",1432],["T_VARIABLE","$this",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","_attributeTypes",1433],"[",["T_VARIABLE","$attribute",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","getAttributeCode",1433],"(",")","]",["T_WHITESPACE"," ",1433],"=",["T_WHITESPACE","\n                ",1433],["T_NS_SEPARATOR","\\",1434],["T_STRING","Magento",1434],["T_NS_SEPARATOR","\\",1434],["T_STRING","ImportExport",1434],["T_NS_SEPARATOR","\\",1434],["T_STRING","Model",1434],["T_NS_SEPARATOR","\\",1434],["T_STRING","Import",1434],["T_DOUBLE_COLON","::",1434],["T_STRING","getAttributeType",1434],"(",["T_VARIABLE","$attribute",1434],")",";",["T_WHITESPACE","\n            ",1434],["T_IF","if",1435],["T_WHITESPACE"," ",1435],"(",["T_VARIABLE","$attribute",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","getIsUserDefined",1435],"(",")",")",["T_WHITESPACE"," ",1435],"{",["T_WHITESPACE","\n                ",1435],["T_VARIABLE","$this",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","userDefinedAttributes",1436],"[","]",["T_WHITESPACE"," ",1436],"=",["T_WHITESPACE"," ",1436],["T_VARIABLE","$attribute",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","getAttributeCode",1436],"(",")",";",["T_WHITESPACE","\n            ",1436],"}",["T_WHITESPACE","\n        ",1437],"}",["T_WHITESPACE","\n        ",1438],["T_RETURN","return",1439],["T_WHITESPACE"," ",1439],["T_VARIABLE","$this",1439],";",["T_WHITESPACE","\n    ",1439],"}",["T_WHITESPACE","\n\n    ",1440],["T_DOC_COMMENT","\/**\n     * Get product metadata pool\n     *\n     * @return \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",1442],["T_WHITESPACE","\n    ",1446],["T_PRIVATE","private",1447],["T_WHITESPACE"," ",1447],["T_FUNCTION","function",1447],["T_WHITESPACE"," ",1447],["T_STRING","getMetadataPool",1447],"(",")",["T_WHITESPACE","\n    ",1447],"{",["T_WHITESPACE","\n        ",1448],["T_IF","if",1449],["T_WHITESPACE"," ",1449],"(","!",["T_VARIABLE","$this",1449],["T_OBJECT_OPERATOR","->",1449],["T_STRING","metadataPool",1449],")",["T_WHITESPACE"," ",1449],"{",["T_WHITESPACE","\n            ",1449],["T_VARIABLE","$this",1450],["T_OBJECT_OPERATOR","->",1450],["T_STRING","metadataPool",1450],["T_WHITESPACE"," ",1450],"=",["T_WHITESPACE"," ",1450],["T_NS_SEPARATOR","\\",1450],["T_STRING","Magento",1450],["T_NS_SEPARATOR","\\",1450],["T_STRING","Framework",1450],["T_NS_SEPARATOR","\\",1450],["T_STRING","App",1450],["T_NS_SEPARATOR","\\",1450],["T_STRING","ObjectManager",1450],["T_DOUBLE_COLON","::",1450],["T_STRING","getInstance",1450],"(",")",["T_WHITESPACE","\n                ",1450],["T_OBJECT_OPERATOR","->",1451],["T_STRING","get",1451],"(",["T_NS_SEPARATOR","\\",1451],["T_STRING","Magento",1451],["T_NS_SEPARATOR","\\",1451],["T_STRING","Framework",1451],["T_NS_SEPARATOR","\\",1451],["T_STRING","EntityManager",1451],["T_NS_SEPARATOR","\\",1451],["T_STRING","MetadataPool",1451],["T_DOUBLE_COLON","::",1451],["T_CLASS","class",1451],")",";",["T_WHITESPACE","\n        ",1451],"}",["T_WHITESPACE","\n        ",1452],["T_RETURN","return",1453],["T_WHITESPACE"," ",1453],["T_VARIABLE","$this",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","metadataPool",1453],";",["T_WHITESPACE","\n    ",1453],"}",["T_WHITESPACE","\n\n    ",1454],["T_DOC_COMMENT","\/**\n     * Get product entity link field\n     *\n     * @return string\n     *\/",1456],["T_WHITESPACE","\n    ",1460],["T_PROTECTED","protected",1461],["T_WHITESPACE"," ",1461],["T_FUNCTION","function",1461],["T_WHITESPACE"," ",1461],["T_STRING","getProductEntityLinkField",1461],"(",")",["T_WHITESPACE","\n    ",1461],"{",["T_WHITESPACE","\n        ",1462],["T_IF","if",1463],["T_WHITESPACE"," ",1463],"(","!",["T_VARIABLE","$this",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","productEntityLinkField",1463],")",["T_WHITESPACE"," ",1463],"{",["T_WHITESPACE","\n            ",1463],["T_VARIABLE","$this",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","productEntityLinkField",1464],["T_WHITESPACE"," ",1464],"=",["T_WHITESPACE"," ",1464],["T_VARIABLE","$this",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","getMetadataPool",1464],"(",")",["T_WHITESPACE","\n                ",1464],["T_OBJECT_OPERATOR","->",1465],["T_STRING","getMetadata",1465],"(",["T_NS_SEPARATOR","\\",1465],["T_STRING","Magento",1465],["T_NS_SEPARATOR","\\",1465],["T_STRING","Catalog",1465],["T_NS_SEPARATOR","\\",1465],["T_STRING","Api",1465],["T_NS_SEPARATOR","\\",1465],["T_STRING","Data",1465],["T_NS_SEPARATOR","\\",1465],["T_STRING","ProductInterface",1465],["T_DOUBLE_COLON","::",1465],["T_CLASS","class",1465],")",["T_WHITESPACE","\n                ",1465],["T_OBJECT_OPERATOR","->",1466],["T_STRING","getLinkField",1466],"(",")",";",["T_WHITESPACE","\n        ",1466],"}",["T_WHITESPACE","\n        ",1467],["T_RETURN","return",1468],["T_WHITESPACE"," ",1468],["T_VARIABLE","$this",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","productEntityLinkField",1468],";",["T_WHITESPACE","\n    ",1468],"}",["T_WHITESPACE","\n",1469],"}",["T_WHITESPACE","\n",1470]]