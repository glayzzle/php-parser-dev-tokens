[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogImportExport",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Import",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Product",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Visibility",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CatalogImportExport",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Import",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RowValidatorInterface",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","ValidatorInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Filesystem",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DirectoryList",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ResourceModel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Db",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ObjectRelationProcessor",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Db",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TransactionManagerInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Stdlib",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DateTime",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ImportExport",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Import",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ImportExport",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Import",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Entity",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AbstractEntity",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ImportExport",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Import",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ErrorProcessing",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ProcessingError",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ImportExport",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Import",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ErrorProcessing",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ProcessingErrorAggregatorInterface",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Import entity product model\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",22],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Product",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","ImportExport",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Model",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Import",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Entity",28],["T_NS_SEPARATOR","\\",28],["T_STRING","AbstractEntity",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","CONFIG_KEY_PRODUCT_TYPES",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'global\/importexport\/import_product_types'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Size of bunch - part of products to save in one step.\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","BUNCH_SIZE",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_LNUMBER","20",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Size of bunch to delete attributes of products in one step.\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","ATTRIBUTE_DELETE_BUNCH",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","1000",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Pseudo multi line separator in one cell.\n     *\n     * Can be used as custom option value delimiter or in configurable fields cells.\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'|'",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Symbol between Name and Value between Pairs.\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'='",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Value that means all entities (e.g. websites, groups etc.)\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","VALUE_ALL",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'all'",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Data row scopes.\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","SCOPE_DEFAULT",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],";",["T_WHITESPACE","\n\n    ",62],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","SCOPE_WEBSITE",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","2",64],";",["T_WHITESPACE","\n\n    ",64],["T_CONST","const",66],["T_WHITESPACE"," ",66],["T_STRING","SCOPE_STORE",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],";",["T_WHITESPACE","\n\n    ",66],["T_CONST","const",68],["T_WHITESPACE"," ",68],["T_STRING","SCOPE_NULL",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"-",["T_LNUMBER","1",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Permanent column names.\n     *\n     * Names that begins with underscore is not an attribute. This name convention is for\n     * to avoid interference with same attribute name.\n     *\/",70],["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Column product store.\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_CONST","const",80],["T_WHITESPACE"," ",80],["T_STRING","COL_STORE",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'_store'",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Column product store view code.\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_CONST","const",85],["T_WHITESPACE"," ",85],["T_STRING","COL_STORE_VIEW_CODE",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'store_view_code'",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Column website.\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_CONST","const",90],["T_WHITESPACE"," ",90],["T_STRING","COL_WEBSITE",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'website_code'",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Column product attribute set.\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_CONST","const",95],["T_WHITESPACE"," ",95],["T_STRING","COL_ATTR_SET",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'_attribute_set'",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Column product type.\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_CONST","const",100],["T_WHITESPACE"," ",100],["T_STRING","COL_TYPE",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'product_type'",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Column product category.\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_CONST","const",105],["T_WHITESPACE"," ",105],["T_STRING","COL_CATEGORY",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'categories'",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Column product visibility.\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_CONST","const",110],["T_WHITESPACE"," ",110],["T_STRING","COL_VISIBILITY",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'visibility'",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Column product sku.\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_CONST","const",115],["T_WHITESPACE"," ",115],["T_STRING","COL_SKU",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'sku'",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Column product name.\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_CONST","const",120],["T_WHITESPACE"," ",120],["T_STRING","COL_NAME",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'name'",120],";",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Column product website.\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_CONST","const",125],["T_WHITESPACE"," ",125],["T_STRING","COL_PRODUCT_WEBSITES",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'_product_websites'",125],";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Media gallery attribute code.\n     *\/",127],["T_WHITESPACE","\n    ",129],["T_CONST","const",130],["T_WHITESPACE"," ",130],["T_STRING","MEDIA_GALLERY_ATTRIBUTE_CODE",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",130],";",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Column media image.\n     *\/",132],["T_WHITESPACE","\n    ",134],["T_CONST","const",135],["T_WHITESPACE"," ",135],["T_STRING","COL_MEDIA_IMAGE",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'_media_image'",135],";",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Inventory use config.\n     *\/",137],["T_WHITESPACE","\n    ",139],["T_CONST","const",140],["T_WHITESPACE"," ",140],["T_STRING","INVENTORY_USE_CONFIG",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Use Config'",140],";",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Inventory use config prefix.\n     *\/",142],["T_WHITESPACE","\n    ",144],["T_CONST","const",145],["T_WHITESPACE"," ",145],["T_STRING","INVENTORY_USE_CONFIG_PREFIX",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'use_config_'",145],";",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Url key attribute code\n     *\/",147],["T_WHITESPACE","\n    ",149],["T_CONST","const",150],["T_WHITESPACE"," ",150],["T_STRING","URL_KEY",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'url_key'",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Attribute cache\n     *\n     * @var array\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_attributeCache",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[","]",";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Pairs of attribute set ID-to-name.\n     *\n     * @var array\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$_attrSetIdToName",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],"[","]",";",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Pairs of attribute set name-to-ID.\n     *\n     * @var array\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$_attrSetNameToId",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"[","]",";",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",173],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$mediaGalleryTableName",176],";",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",178],["T_WHITESPACE","\n    ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$mediaGalleryValueTableName",181],";",["T_WHITESPACE","\n    ",181],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",182],["T_WHITESPACE","\n    ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$mediaGalleryEntityToValueTableName",185],";",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",187],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$productEntityTableName",190],";",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Attributes with index (not label) value.\n     *\n     * @var string[]\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$_indexValueAttributes",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],"[",["T_WHITESPACE","\n        ",197],["T_CONSTANT_ENCAPSED_STRING","'status'",198],",",["T_WHITESPACE","\n        ",198],["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",199],",",["T_WHITESPACE","\n    ",199],"]",";",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Links attribute name-to-link type ID.\n     *\n     * @var array\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$_linkNameToId",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[",["T_WHITESPACE","\n        ",207],["T_CONSTANT_ENCAPSED_STRING","'_related_'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Catalog",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Model",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Product",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Link",208],["T_DOUBLE_COLON","::",208],["T_STRING","LINK_TYPE_RELATED",208],",",["T_WHITESPACE","\n        ",208],["T_CONSTANT_ENCAPSED_STRING","'_crosssell_'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Catalog",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Model",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Product",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Link",209],["T_DOUBLE_COLON","::",209],["T_STRING","LINK_TYPE_CROSSSELL",209],",",["T_WHITESPACE","\n        ",209],["T_CONSTANT_ENCAPSED_STRING","'_upsell_'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Catalog",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Model",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Product",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Link",210],["T_DOUBLE_COLON","::",210],["T_STRING","LINK_TYPE_UPSELL",210],",",["T_WHITESPACE","\n    ",210],"]",";",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Attributes codes which shows as date\n     *\n     * @var array\n     *\/",213],["T_WHITESPACE","\n    ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$dateAttrCodes",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[",["T_WHITESPACE","\n        ",218],["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",219],",",["T_WHITESPACE","\n        ",219],["T_CONSTANT_ENCAPSED_STRING","'special_to_date'",220],",",["T_WHITESPACE","\n        ",220],["T_CONSTANT_ENCAPSED_STRING","'news_from_date'",221],",",["T_WHITESPACE","\n        ",221],["T_CONSTANT_ENCAPSED_STRING","'news_to_date'",222],",",["T_WHITESPACE","\n        ",222],["T_CONSTANT_ENCAPSED_STRING","'custom_design_from'",223],",",["T_WHITESPACE","\n        ",223],["T_CONSTANT_ENCAPSED_STRING","'custom_design_to'",224],["T_WHITESPACE","\n    ",224],"]",";",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Need to log in import history\n     *\n     * @var bool\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$logInHistory",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","true",232],";",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Attribute id for product images storage.\n     *\n     * @var array\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$_mediaGalleryAttributeId",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","null",239],";",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Validation failure message template definitions\n     *\n     * @var array\n     *\/",241],["T_WHITESPACE","\n    ",245],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$_messageTemplates",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],"[",["T_WHITESPACE","\n        ",246],["T_STRING","ValidatorInterface",247],["T_DOUBLE_COLON","::",247],["T_STRING","ERROR_INVALID_SCOPE",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'Invalid value in Scope column'",247],",",["T_WHITESPACE","\n        ",247],["T_STRING","ValidatorInterface",248],["T_DOUBLE_COLON","::",248],["T_STRING","ERROR_INVALID_WEBSITE",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Invalid value in Website column (website does not exist?)'",248],",",["T_WHITESPACE","\n        ",248],["T_STRING","ValidatorInterface",249],["T_DOUBLE_COLON","::",249],["T_STRING","ERROR_INVALID_STORE",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Invalid value in Store column (store doesn\\'t exist?)'",249],",",["T_WHITESPACE","\n        ",249],["T_STRING","ValidatorInterface",250],["T_DOUBLE_COLON","::",250],["T_STRING","ERROR_INVALID_ATTR_SET",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'Invalid value for Attribute Set column (set doesn\\'t exist?)'",250],",",["T_WHITESPACE","\n        ",250],["T_STRING","ValidatorInterface",251],["T_DOUBLE_COLON","::",251],["T_STRING","ERROR_INVALID_TYPE",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'Product Type is invalid or not supported'",251],",",["T_WHITESPACE","\n        ",251],["T_STRING","ValidatorInterface",252],["T_DOUBLE_COLON","::",252],["T_STRING","ERROR_INVALID_CATEGORY",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'Category does not exist'",252],",",["T_WHITESPACE","\n        ",252],["T_STRING","ValidatorInterface",253],["T_DOUBLE_COLON","::",253],["T_STRING","ERROR_VALUE_IS_REQUIRED",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'Please make sure attribute \"%s\" is not empty.'",253],",",["T_WHITESPACE","\n        ",253],["T_STRING","ValidatorInterface",254],["T_DOUBLE_COLON","::",254],["T_STRING","ERROR_TYPE_CHANGED",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Trying to change type of existing products'",254],",",["T_WHITESPACE","\n        ",254],["T_STRING","ValidatorInterface",255],["T_DOUBLE_COLON","::",255],["T_STRING","ERROR_SKU_IS_EMPTY",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'SKU is empty'",255],",",["T_WHITESPACE","\n        ",255],["T_STRING","ValidatorInterface",256],["T_DOUBLE_COLON","::",256],["T_STRING","ERROR_NO_DEFAULT_ROW",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Default values row does not exist'",256],",",["T_WHITESPACE","\n        ",256],["T_STRING","ValidatorInterface",257],["T_DOUBLE_COLON","::",257],["T_STRING","ERROR_CHANGE_TYPE",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Product type change is not allowed'",257],",",["T_WHITESPACE","\n        ",257],["T_STRING","ValidatorInterface",258],["T_DOUBLE_COLON","::",258],["T_STRING","ERROR_DUPLICATE_SCOPE",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'Duplicate scope'",258],",",["T_WHITESPACE","\n        ",258],["T_STRING","ValidatorInterface",259],["T_DOUBLE_COLON","::",259],["T_STRING","ERROR_DUPLICATE_SKU",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Duplicate SKU'",259],",",["T_WHITESPACE","\n        ",259],["T_STRING","ValidatorInterface",260],["T_DOUBLE_COLON","::",260],["T_STRING","ERROR_CHANGE_ATTR_SET",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'Attribute set change is not allowed'",260],",",["T_WHITESPACE","\n        ",260],["T_STRING","ValidatorInterface",261],["T_DOUBLE_COLON","::",261],["T_STRING","ERROR_TYPE_UNSUPPORTED",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'Product type is not supported'",261],",",["T_WHITESPACE","\n        ",261],["T_STRING","ValidatorInterface",262],["T_DOUBLE_COLON","::",262],["T_STRING","ERROR_ROW_IS_ORPHAN",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'Orphan rows that will be skipped due default row errors'",262],",",["T_WHITESPACE","\n        ",262],["T_STRING","ValidatorInterface",263],["T_DOUBLE_COLON","::",263],["T_STRING","ERROR_INVALID_TIER_PRICE_QTY",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'Tier Price data price or quantity value is invalid'",263],",",["T_WHITESPACE","\n        ",263],["T_STRING","ValidatorInterface",264],["T_DOUBLE_COLON","::",264],["T_STRING","ERROR_INVALID_TIER_PRICE_SITE",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'Tier Price data website is invalid'",264],",",["T_WHITESPACE","\n        ",264],["T_STRING","ValidatorInterface",265],["T_DOUBLE_COLON","::",265],["T_STRING","ERROR_INVALID_TIER_PRICE_GROUP",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Tier Price customer group ID is invalid'",265],",",["T_WHITESPACE","\n        ",265],["T_STRING","ValidatorInterface",266],["T_DOUBLE_COLON","::",266],["T_STRING","ERROR_TIER_DATA_INCOMPLETE",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Tier Price data is incomplete'",266],",",["T_WHITESPACE","\n        ",266],["T_STRING","ValidatorInterface",267],["T_DOUBLE_COLON","::",267],["T_STRING","ERROR_SKU_NOT_FOUND_FOR_DELETE",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'Product with specified SKU not found'",267],",",["T_WHITESPACE","\n        ",267],["T_STRING","ValidatorInterface",268],["T_DOUBLE_COLON","::",268],["T_STRING","ERROR_SUPER_PRODUCTS_SKU_NOT_FOUND",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'Product with specified super products SKU not found'",268],",",["T_WHITESPACE","\n        ",268],["T_STRING","ValidatorInterface",269],["T_DOUBLE_COLON","::",269],["T_STRING","ERROR_MEDIA_DATA_INCOMPLETE",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'Media data is incomplete'",269],",",["T_WHITESPACE","\n        ",269],["T_STRING","ValidatorInterface",270],["T_DOUBLE_COLON","::",270],["T_STRING","ERROR_EXCEEDED_MAX_LENGTH",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Attribute %s exceeded max length'",270],",",["T_WHITESPACE","\n        ",270],["T_STRING","ValidatorInterface",271],["T_DOUBLE_COLON","::",271],["T_STRING","ERROR_INVALID_ATTRIBUTE_TYPE",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Value for \\'%s\\' attribute contains incorrect value'",271],",",["T_WHITESPACE","\n        ",271],["T_STRING","ValidatorInterface",272],["T_DOUBLE_COLON","::",272],["T_STRING","ERROR_ABSENT_REQUIRED_ATTRIBUTE",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'Attribute %s is required'",272],",",["T_WHITESPACE","\n        ",272],["T_STRING","ValidatorInterface",273],["T_DOUBLE_COLON","::",273],["T_STRING","ERROR_INVALID_ATTRIBUTE_OPTION",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'Value for \\'%s\\' attribute contains incorrect value, see acceptable values on settings specified for Admin'",273],",",["T_WHITESPACE","\n        ",273],["T_STRING","ValidatorInterface",274],["T_DOUBLE_COLON","::",274],["T_STRING","ERROR_DUPLICATE_UNIQUE_ATTRIBUTE",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'Duplicated unique attribute'",274],",",["T_WHITESPACE","\n        ",274],["T_STRING","ValidatorInterface",275],["T_DOUBLE_COLON","::",275],["T_STRING","ERROR_INVALID_VARIATIONS_CUSTOM_OPTIONS",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'Value for \\'%s\\' sub attribute in \\'%s\\' attribute contains incorrect value, acceptable values are: \\'dropdown\\', \\'checkbox\\', \\'radio\\', \\'text\\''",275],",",["T_WHITESPACE","\n        ",275],["T_STRING","ValidatorInterface",276],["T_DOUBLE_COLON","::",276],["T_STRING","ERROR_INVALID_MEDIA_URL_OR_PATH",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'Wrong URL\/path used for attribute %s'",276],",",["T_WHITESPACE","\n        ",276],["T_STRING","ValidatorInterface",277],["T_DOUBLE_COLON","::",277],["T_STRING","ERROR_MEDIA_PATH_NOT_ACCESSIBLE",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'Imported resource (image) does not exist in the local media storage'",277],",",["T_WHITESPACE","\n        ",277],["T_STRING","ValidatorInterface",278],["T_DOUBLE_COLON","::",278],["T_STRING","ERROR_MEDIA_URL_NOT_ACCESSIBLE",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'Imported resource (image) could not be downloaded from external resource due to timeout or access permissions'",278],",",["T_WHITESPACE","\n        ",278],["T_STRING","ValidatorInterface",279],["T_DOUBLE_COLON","::",279],["T_STRING","ERROR_INVALID_WEIGHT",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'Product weight is invalid'",279],",",["T_WHITESPACE","\n        ",279],["T_STRING","ValidatorInterface",280],["T_DOUBLE_COLON","::",280],["T_STRING","ERROR_DUPLICATE_URL_KEY",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'Url key: \\'%s\\' was already generated for an item with the SKU: \\'%s\\'. You need to specify the unique URL key manually'",280],["T_WHITESPACE","\n    ",280],"]",";",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Map between import file fields and system fields\/attributes.\n     *\n     * @var array\n     *\/",283],["T_WHITESPACE","\n    ",287],["T_PROTECTED","protected",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$_fieldsMap",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],"[",["T_WHITESPACE","\n        ",288],["T_CONSTANT_ENCAPSED_STRING","'image'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'base_image'",289],",",["T_WHITESPACE","\n        ",289],["T_CONSTANT_ENCAPSED_STRING","'image_label'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","\"base_image_label\"",290],",",["T_WHITESPACE","\n        ",290],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_image'",291],",",["T_WHITESPACE","\n        ",291],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_label'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'thumbnail_image_label'",292],",",["T_WHITESPACE","\n        ",292],["T_STRING","self",293],["T_DOUBLE_COLON","::",293],["T_STRING","COL_MEDIA_IMAGE",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'additional_images'",293],",",["T_WHITESPACE","\n        ",293],["T_CONSTANT_ENCAPSED_STRING","'_media_image_label'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'additional_image_labels'",294],",",["T_WHITESPACE","\n        ",294],["T_CONSTANT_ENCAPSED_STRING","'_media_is_disabled'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'hide_from_product_page'",295],",",["T_WHITESPACE","\n        ",295],["T_STRING","Product",296],["T_DOUBLE_COLON","::",296],["T_STRING","COL_STORE",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'store_view_code'",296],",",["T_WHITESPACE","\n        ",296],["T_STRING","Product",297],["T_DOUBLE_COLON","::",297],["T_STRING","COL_ATTR_SET",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_code'",297],",",["T_WHITESPACE","\n        ",297],["T_STRING","Product",298],["T_DOUBLE_COLON","::",298],["T_STRING","COL_TYPE",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'product_type'",298],",",["T_WHITESPACE","\n        ",298],["T_STRING","Product",299],["T_DOUBLE_COLON","::",299],["T_STRING","COL_PRODUCT_WEBSITES",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'product_websites'",299],",",["T_WHITESPACE","\n        ",299],["T_CONSTANT_ENCAPSED_STRING","'status'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'product_online'",300],",",["T_WHITESPACE","\n        ",300],["T_CONSTANT_ENCAPSED_STRING","'news_from_date'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'new_from_date'",301],",",["T_WHITESPACE","\n        ",301],["T_CONSTANT_ENCAPSED_STRING","'news_to_date'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'new_to_date'",302],",",["T_WHITESPACE","\n        ",302],["T_CONSTANT_ENCAPSED_STRING","'options_container'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'display_product_options_in'",303],",",["T_WHITESPACE","\n        ",303],["T_CONSTANT_ENCAPSED_STRING","'minimal_price'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'map_price'",304],",",["T_WHITESPACE","\n        ",304],["T_CONSTANT_ENCAPSED_STRING","'msrp'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'msrp_price'",305],",",["T_WHITESPACE","\n        ",305],["T_CONSTANT_ENCAPSED_STRING","'msrp_enabled'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'map_enabled'",306],",",["T_WHITESPACE","\n        ",306],["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'special_price_from_date'",307],",",["T_WHITESPACE","\n        ",307],["T_CONSTANT_ENCAPSED_STRING","'special_to_date'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'special_price_to_date'",308],",",["T_WHITESPACE","\n        ",308],["T_CONSTANT_ENCAPSED_STRING","'min_qty'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'out_of_stock_qty'",309],",",["T_WHITESPACE","\n        ",309],["T_CONSTANT_ENCAPSED_STRING","'backorders'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'allow_backorders'",310],",",["T_WHITESPACE","\n        ",310],["T_CONSTANT_ENCAPSED_STRING","'min_sale_qty'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'min_cart_qty'",311],",",["T_WHITESPACE","\n        ",311],["T_CONSTANT_ENCAPSED_STRING","'max_sale_qty'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'max_cart_qty'",312],",",["T_WHITESPACE","\n        ",312],["T_CONSTANT_ENCAPSED_STRING","'notify_stock_qty'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'notify_on_stock_below'",313],",",["T_WHITESPACE","\n        ",313],["T_CONSTANT_ENCAPSED_STRING","'_related_sku'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'related_skus'",314],",",["T_WHITESPACE","\n        ",314],["T_CONSTANT_ENCAPSED_STRING","'_related_position'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'related_position'",315],",",["T_WHITESPACE","\n        ",315],["T_CONSTANT_ENCAPSED_STRING","'_crosssell_sku'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'crosssell_skus'",316],",",["T_WHITESPACE","\n        ",316],["T_CONSTANT_ENCAPSED_STRING","'_crosssell_position'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'crosssell_position'",317],",",["T_WHITESPACE","\n        ",317],["T_CONSTANT_ENCAPSED_STRING","'_upsell_sku'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'upsell_skus'",318],",",["T_WHITESPACE","\n        ",318],["T_CONSTANT_ENCAPSED_STRING","'_upsell_position'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'upsell_position'",319],",",["T_WHITESPACE","\n        ",319],["T_CONSTANT_ENCAPSED_STRING","'meta_keyword'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'meta_keywords'",320],",",["T_WHITESPACE","\n    ",320],"]",";",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Existing products SKU-related information in form of array:\n     *\n     * [SKU] => array(\n     *     'type_id'        => (string) product type\n     *     'attr_set_id'    => (int) product attribute set ID\n     *     'entity_id'      => (int) product ID\n     *     'supported_type' => (boolean) is product type supported by current version of import module\n     * )\n     *\n     * @var array\n     *\/",323],["T_WHITESPACE","\n    ",334],["T_PROTECTED","protected",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$_oldSku",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],"[","]",";",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Column names that holds values with particular meaning.\n     *\n     * @var string[]\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$_specialAttributes",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],"[",["T_WHITESPACE","\n        ",342],["T_STRING","self",343],["T_DOUBLE_COLON","::",343],["T_STRING","COL_STORE",343],",",["T_WHITESPACE","\n        ",343],["T_STRING","self",344],["T_DOUBLE_COLON","::",344],["T_STRING","COL_ATTR_SET",344],",",["T_WHITESPACE","\n        ",344],["T_STRING","self",345],["T_DOUBLE_COLON","::",345],["T_STRING","COL_TYPE",345],",",["T_WHITESPACE","\n        ",345],["T_STRING","self",346],["T_DOUBLE_COLON","::",346],["T_STRING","COL_CATEGORY",346],",",["T_WHITESPACE","\n        ",346],["T_CONSTANT_ENCAPSED_STRING","'_product_websites'",347],",",["T_WHITESPACE","\n        ",347],["T_STRING","self",348],["T_DOUBLE_COLON","::",348],["T_STRING","COL_PRODUCT_WEBSITES",348],",",["T_WHITESPACE","\n        ",348],["T_CONSTANT_ENCAPSED_STRING","'_tier_price_website'",349],",",["T_WHITESPACE","\n        ",349],["T_CONSTANT_ENCAPSED_STRING","'_tier_price_customer_group'",350],",",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'_tier_price_qty'",351],",",["T_WHITESPACE","\n        ",351],["T_CONSTANT_ENCAPSED_STRING","'_tier_price_price'",352],",",["T_WHITESPACE","\n        ",352],["T_CONSTANT_ENCAPSED_STRING","'_related_sku'",353],",",["T_WHITESPACE","\n        ",353],["T_CONSTANT_ENCAPSED_STRING","'_related_position'",354],",",["T_WHITESPACE","\n        ",354],["T_CONSTANT_ENCAPSED_STRING","'_crosssell_sku'",355],",",["T_WHITESPACE","\n        ",355],["T_CONSTANT_ENCAPSED_STRING","'_crosssell_position'",356],",",["T_WHITESPACE","\n        ",356],["T_CONSTANT_ENCAPSED_STRING","'_upsell_sku'",357],",",["T_WHITESPACE","\n        ",357],["T_CONSTANT_ENCAPSED_STRING","'_upsell_position'",358],",",["T_WHITESPACE","\n        ",358],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_store'",359],",",["T_WHITESPACE","\n        ",359],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_type'",360],",",["T_WHITESPACE","\n        ",360],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_title'",361],",",["T_WHITESPACE","\n        ",361],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_is_required'",362],",",["T_WHITESPACE","\n        ",362],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_price'",363],",",["T_WHITESPACE","\n        ",363],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_sku'",364],",",["T_WHITESPACE","\n        ",364],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_max_characters'",365],",",["T_WHITESPACE","\n        ",365],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_sort_order'",366],",",["T_WHITESPACE","\n        ",366],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_file_extension'",367],",",["T_WHITESPACE","\n        ",367],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_image_size_x'",368],",",["T_WHITESPACE","\n        ",368],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_image_size_y'",369],",",["T_WHITESPACE","\n        ",369],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_row_title'",370],",",["T_WHITESPACE","\n        ",370],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_row_price'",371],",",["T_WHITESPACE","\n        ",371],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_row_sku'",372],",",["T_WHITESPACE","\n        ",372],["T_CONSTANT_ENCAPSED_STRING","'_custom_option_row_sort'",373],",",["T_WHITESPACE","\n        ",373],["T_CONSTANT_ENCAPSED_STRING","'_media_attribute_id'",374],",",["T_WHITESPACE","\n        ",374],["T_STRING","self",375],["T_DOUBLE_COLON","::",375],["T_STRING","COL_MEDIA_IMAGE",375],",",["T_WHITESPACE","\n        ",375],["T_CONSTANT_ENCAPSED_STRING","'_media_label'",376],",",["T_WHITESPACE","\n        ",376],["T_CONSTANT_ENCAPSED_STRING","'_media_position'",377],",",["T_WHITESPACE","\n        ",377],["T_CONSTANT_ENCAPSED_STRING","'_media_is_disabled'",378],",",["T_WHITESPACE","\n    ",378],"]",";",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",381],["T_WHITESPACE","\n    ",383],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$defaultStockData",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],"[",["T_WHITESPACE","\n        ",384],["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_LNUMBER","1",385],",",["T_WHITESPACE","\n        ",385],["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_LNUMBER","1",386],",",["T_WHITESPACE","\n        ",386],["T_CONSTANT_ENCAPSED_STRING","'qty'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_LNUMBER","0",387],",",["T_WHITESPACE","\n        ",387],["T_CONSTANT_ENCAPSED_STRING","'min_qty'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_LNUMBER","0",388],",",["T_WHITESPACE","\n        ",388],["T_CONSTANT_ENCAPSED_STRING","'use_config_min_qty'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_LNUMBER","1",389],",",["T_WHITESPACE","\n        ",389],["T_CONSTANT_ENCAPSED_STRING","'min_sale_qty'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_LNUMBER","1",390],",",["T_WHITESPACE","\n        ",390],["T_CONSTANT_ENCAPSED_STRING","'use_config_min_sale_qty'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_LNUMBER","1",391],",",["T_WHITESPACE","\n        ",391],["T_CONSTANT_ENCAPSED_STRING","'max_sale_qty'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_LNUMBER","10000",392],",",["T_WHITESPACE","\n        ",392],["T_CONSTANT_ENCAPSED_STRING","'use_config_max_sale_qty'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_LNUMBER","1",393],",",["T_WHITESPACE","\n        ",393],["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],["T_LNUMBER","0",394],",",["T_WHITESPACE","\n        ",394],["T_CONSTANT_ENCAPSED_STRING","'backorders'",395],["T_WHITESPACE"," ",395],["T_DOUBLE_ARROW","=>",395],["T_WHITESPACE"," ",395],["T_LNUMBER","0",395],",",["T_WHITESPACE","\n        ",395],["T_CONSTANT_ENCAPSED_STRING","'use_config_backorders'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_LNUMBER","1",396],",",["T_WHITESPACE","\n        ",396],["T_CONSTANT_ENCAPSED_STRING","'notify_stock_qty'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_LNUMBER","1",397],",",["T_WHITESPACE","\n        ",397],["T_CONSTANT_ENCAPSED_STRING","'use_config_notify_stock_qty'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_LNUMBER","1",398],",",["T_WHITESPACE","\n        ",398],["T_CONSTANT_ENCAPSED_STRING","'enable_qty_increments'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_LNUMBER","0",399],",",["T_WHITESPACE","\n        ",399],["T_CONSTANT_ENCAPSED_STRING","'use_config_enable_qty_inc'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_LNUMBER","1",400],",",["T_WHITESPACE","\n        ",400],["T_CONSTANT_ENCAPSED_STRING","'qty_increments'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_LNUMBER","0",401],",",["T_WHITESPACE","\n        ",401],["T_CONSTANT_ENCAPSED_STRING","'use_config_qty_increments'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_LNUMBER","1",402],",",["T_WHITESPACE","\n        ",402],["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_LNUMBER","1",403],",",["T_WHITESPACE","\n        ",403],["T_CONSTANT_ENCAPSED_STRING","'low_stock_date'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_STRING","null",404],",",["T_WHITESPACE","\n        ",404],["T_CONSTANT_ENCAPSED_STRING","'stock_status_changed_auto'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_LNUMBER","0",405],",",["T_WHITESPACE","\n        ",405],["T_CONSTANT_ENCAPSED_STRING","'is_decimal_divided'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_LNUMBER","0",406],",",["T_WHITESPACE","\n    ",406],"]",";",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Column names that holds images files names\n     *\n     * @var string[]\n     *\/",409],["T_WHITESPACE","\n    ",413],["T_PROTECTED","protected",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$_imagesArrayKeys",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_image'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'image'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'small_image'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'swatch_image'",414],"]",";",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Permanent entity columns.\n     *\n     * @var string[]\n     *\/",416],["T_WHITESPACE","\n    ",420],["T_PROTECTED","protected",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$_permanentAttributes",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],"[",["T_STRING","self",421],["T_DOUBLE_COLON","::",421],["T_STRING","COL_SKU",421],"]",";",["T_WHITESPACE","\n\n    ",421],["T_DOC_COMMENT","\/**\n     * Array of supported product types as keys with appropriate model object as value.\n     *\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Type\\AbstractType[]\n     *\/",423],["T_WHITESPACE","\n    ",427],["T_PROTECTED","protected",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$_productTypeModels",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],"[","]",";",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Media files uploader\n     *\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Uploader\n     *\/",430],["T_WHITESPACE","\n    ",434],["T_PROTECTED","protected",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$_fileUploader",435],";",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Import entity which provide import of product custom options\n     *\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Option\n     *\/",437],["T_WHITESPACE","\n    ",441],["T_PROTECTED","protected",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$_optionEntity",442],";",["T_WHITESPACE","\n\n    ",442],["T_DOC_COMMENT","\/**\n     * Catalog data\n     *\n     * @var \\Magento\\Catalog\\Helper\\Data\n     *\/",444],["T_WHITESPACE","\n    ",448],["T_PROTECTED","protected",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$_catalogData",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_STRING","null",449],";",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockRegistryInterface\n     *\/",451],["T_WHITESPACE","\n    ",453],["T_PROTECTED","protected",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$stockRegistry",454],";",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface\n     *\/",456],["T_WHITESPACE","\n    ",458],["T_PROTECTED","protected",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$stockConfiguration",459],";",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Model\\Spi\\StockStateProviderInterface\n     *\/",461],["T_WHITESPACE","\n    ",463],["T_PROTECTED","protected",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$stockStateProvider",464],";",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Core event manager proxy\n     *\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",466],["T_WHITESPACE","\n    ",470],["T_PROTECTED","protected",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$_eventManager",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","null",471],";",["T_WHITESPACE","\n\n    ",471],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Import\\Config\n     *\/",473],["T_WHITESPACE","\n    ",475],["T_PROTECTED","protected",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$_importConfig",476],";",["T_WHITESPACE","\n\n    ",476],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Proxy\\Product\\ResourceModelFactory\n     *\/",478],["T_WHITESPACE","\n    ",480],["T_PROTECTED","protected",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$_resourceFactory",481],";",["T_WHITESPACE","\n\n    ",481],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Proxy\\Product\\ResourceModel\n     *\/",483],["T_WHITESPACE","\n    ",485],["T_PROTECTED","protected",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$_resource",486],";",["T_WHITESPACE","\n\n    ",486],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory\n     *\/",488],["T_WHITESPACE","\n    ",490],["T_PROTECTED","protected",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$_setColFactory",491],";",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Type\\Factory\n     *\/",493],["T_WHITESPACE","\n    ",495],["T_PROTECTED","protected",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$_productTypeFactory",496],";",["T_WHITESPACE","\n\n    ",496],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\LinkFactory\n     *\/",498],["T_WHITESPACE","\n    ",500],["T_PROTECTED","protected",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$_linkFactory",501],";",["T_WHITESPACE","\n\n    ",501],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Proxy\\ProductFactory\n     *\/",503],["T_WHITESPACE","\n    ",505],["T_PROTECTED","protected",506],["T_WHITESPACE"," ",506],["T_VARIABLE","$_proxyProdFactory",506],";",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\UploaderFactory\n     *\/",508],["T_WHITESPACE","\n    ",510],["T_PROTECTED","protected",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$_uploaderFactory",511],";",["T_WHITESPACE","\n\n    ",511],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",513],["T_WHITESPACE","\n    ",515],["T_PROTECTED","protected",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$_mediaDirectory",516],";",["T_WHITESPACE","\n\n    ",516],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\ItemFactory\n     *\/",518],["T_WHITESPACE","\n    ",520],["T_PROTECTED","protected",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$_stockResItemFac",521],";",["T_WHITESPACE","\n\n    ",521],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",523],["T_WHITESPACE","\n    ",525],["T_PROTECTED","protected",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$_localeDate",526],";",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * @var DateTime\n     *\/",528],["T_WHITESPACE","\n    ",530],["T_PROTECTED","protected",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$dateTime",531],";",["T_WHITESPACE","\n\n    ",531],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Indexer\\IndexerRegistry\n     *\/",533],["T_WHITESPACE","\n    ",535],["T_PROTECTED","protected",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$indexerRegistry",536],";",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * @var Product\\StoreResolver\n     *\/",538],["T_WHITESPACE","\n    ",540],["T_PROTECTED","protected",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$storeResolver",541],";",["T_WHITESPACE","\n\n    ",541],["T_DOC_COMMENT","\/**\n     * @var Product\\SkuProcessor\n     *\/",543],["T_WHITESPACE","\n    ",545],["T_PROTECTED","protected",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$skuProcessor",546],";",["T_WHITESPACE","\n\n    ",546],["T_DOC_COMMENT","\/**\n     * @var Product\\CategoryProcessor\n     *\/",548],["T_WHITESPACE","\n    ",550],["T_PROTECTED","protected",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$categoryProcessor",551],";",["T_WHITESPACE","\n\n    ",551],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface *\/",553],["T_WHITESPACE","\n    ",553],["T_PROTECTED","protected",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$scopeConfig",554],";",["T_WHITESPACE","\n\n    ",554],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product\\Url *\/",556],["T_WHITESPACE","\n    ",556],["T_PROTECTED","protected",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$productUrl",557],";",["T_WHITESPACE","\n\n    ",557],["T_DOC_COMMENT","\/** @var array *\/",559],["T_WHITESPACE","\n    ",559],["T_PROTECTED","protected",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$websitesCache",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],"[","]",";",["T_WHITESPACE","\n\n    ",560],["T_DOC_COMMENT","\/** @var array *\/",562],["T_WHITESPACE","\n    ",562],["T_PROTECTED","protected",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$categoriesCache",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],"[","]",";",["T_WHITESPACE","\n\n    ",563],["T_DOC_COMMENT","\/** @var array *\/",565],["T_WHITESPACE","\n    ",565],["T_PROTECTED","protected",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$productUrlSuffix",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],"[","]",";",["T_WHITESPACE","\n\n    ",566],["T_DOC_COMMENT","\/**\n     * @var array\n     * @deprecated\n     *\/",568],["T_WHITESPACE","\n    ",571],["T_PROTECTED","protected",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$productUrlKeys",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],"[","]",";",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Instance of product tax class processor.\n     *\n     * @var Product\\TaxClassProcessor\n     *\/",574],["T_WHITESPACE","\n    ",578],["T_PROTECTED","protected",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$taxClassProcessor",579],";",["T_WHITESPACE","\n\n    ",579],["T_DOC_COMMENT","\/**\n     * @var Product\\Validator\n     *\/",581],["T_WHITESPACE","\n    ",583],["T_PROTECTED","protected",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$validator",584],";",["T_WHITESPACE","\n\n    ",584],["T_DOC_COMMENT","\/**\n     * Array of validated rows.\n     *\n     * @var array\n     *\/",586],["T_WHITESPACE","\n    ",590],["T_PROTECTED","protected",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$validatedRows",591],";",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",593],["T_WHITESPACE","\n    ",595],["T_PRIVATE","private",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$_logger",596],";",["T_WHITESPACE","\n\n    ",596],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",598],["T_WHITESPACE","\n    ",600],["T_PROTECTED","protected",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$masterAttributeCode",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_CONSTANT_ENCAPSED_STRING","'sku'",601],";",["T_WHITESPACE","\n\n    ",601],["T_DOC_COMMENT","\/**\n     * @var ObjectRelationProcessor\n     *\/",603],["T_WHITESPACE","\n    ",605],["T_PROTECTED","protected",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$objectRelationProcessor",606],";",["T_WHITESPACE","\n\n    ",606],["T_DOC_COMMENT","\/**\n     * @var TransactionManagerInterface\n     *\/",608],["T_WHITESPACE","\n    ",610],["T_PROTECTED","protected",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$transactionManager",611],";",["T_WHITESPACE","\n\n    ",611],["T_DOC_COMMENT","\/**\n     * Flag for replace operation.\n     *\n     * @var null\n     *\/",613],["T_WHITESPACE","\n    ",617],["T_PROTECTED","protected",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$_replaceFlag",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_STRING","null",618],";",["T_WHITESPACE","\n\n    ",618],["T_DOC_COMMENT","\/**\n     * Flag for replace operation.\n     *\n     * @var null\n     *\/",620],["T_WHITESPACE","\n    ",624],["T_PROTECTED","protected",625],["T_WHITESPACE"," ",625],["T_VARIABLE","$cachedImages",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_STRING","null",625],";",["T_WHITESPACE","\n\n    ",625],["T_DOC_COMMENT","\/** @var array *\/",627],["T_WHITESPACE","\n    ",627],["T_PROTECTED","protected",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$urlKeys",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],"[","]",";",["T_WHITESPACE","\n\n    ",628],["T_DOC_COMMENT","\/** @var array *\/",630],["T_WHITESPACE","\n    ",630],["T_PROTECTED","protected",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$rowNumbers",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],"[","]",";",["T_WHITESPACE","\n\n    ",631],["T_DOC_COMMENT","\/**\n     * Product entity link field\n     *\n     * @var string\n     *\/",633],["T_WHITESPACE","\n    ",637],["T_PRIVATE","private",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$productEntityLinkField",638],";",["T_WHITESPACE","\n\n    ",638],["T_DOC_COMMENT","\/**\n     * Product entity identifier field\n     *\n     * @var string\n     *\/",640],["T_WHITESPACE","\n    ",644],["T_PRIVATE","private",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$productEntityIdentifierField",645],";",["T_WHITESPACE","\n\n    ",645],["T_DOC_COMMENT","\/**\n     * Escaped separator value for regular expression.\n     * The value is based on PSEUDO_MULTI_LINE_SEPARATOR constant.\n     * @var string\n     *\/",647],["T_WHITESPACE","\n    ",651],["T_PRIVATE","private",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$multiLineSeparatorForRegexp",652],";",["T_WHITESPACE","\n\n    ",652],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Json\\Helper\\Data $jsonHelper\n     * @param \\Magento\\ImportExport\\Helper\\Data $importExportData\n     * @param \\Magento\\ImportExport\\Model\\ResourceModel\\Import\\Data $importData\n     * @param \\Magento\\Eav\\Model\\Config $config\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\ImportExport\\Model\\ResourceModel\\Helper $resourceHelper\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $string\n     * @param ProcessingErrorAggregatorInterface $errorAggregator\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\CatalogInventory\\Api\\StockConfigurationInterface $stockConfiguration\n     * @param \\Magento\\CatalogInventory\\Model\\Spi\\StockStateProviderInterface $stockStateProvider\n     * @param \\Magento\\Catalog\\Helper\\Data $catalogData\n     * @param \\Magento\\ImportExport\\Model\\Import\\Config $importConfig\n     * @param Proxy\\Product\\ResourceFactory $resourceFactory\n     * @param Product\\OptionFactory $optionFactory\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory $setColFactory\n     * @param Product\\Type\\Factory $productTypeFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\LinkFactory $linkFactory\n     * @param Proxy\\ProductFactory $proxyProdFactory\n     * @param UploaderFactory $uploaderFactory\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\ItemFactory $stockResItemFac\n     * @param DateTime\\TimezoneInterface $localeDate\n     * @param DateTime $dateTime\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Indexer\\IndexerRegistry $indexerRegistry\n     * @param Product\\StoreResolver $storeResolver\n     * @param Product\\SkuProcessor $skuProcessor\n     * @param Product\\CategoryProcessor $categoryProcessor\n     * @param Product\\Validator $validator\n     * @param ObjectRelationProcessor $objectRelationProcessor\n     * @param TransactionManagerInterface $transactionManager\n     * @param Product\\TaxClassProcessor $taxClassProcessor\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param array $data\n     * @param array $dateAttrCodes\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",654],["T_WHITESPACE","\n    ",695],["T_PUBLIC","public",696],["T_WHITESPACE"," ",696],["T_FUNCTION","function",696],["T_WHITESPACE"," ",696],["T_STRING","__construct",696],"(",["T_WHITESPACE","\n        ",696],["T_NS_SEPARATOR","\\",697],["T_STRING","Magento",697],["T_NS_SEPARATOR","\\",697],["T_STRING","Framework",697],["T_NS_SEPARATOR","\\",697],["T_STRING","Json",697],["T_NS_SEPARATOR","\\",697],["T_STRING","Helper",697],["T_NS_SEPARATOR","\\",697],["T_STRING","Data",697],["T_WHITESPACE"," ",697],["T_VARIABLE","$jsonHelper",697],",",["T_WHITESPACE","\n        ",697],["T_NS_SEPARATOR","\\",698],["T_STRING","Magento",698],["T_NS_SEPARATOR","\\",698],["T_STRING","ImportExport",698],["T_NS_SEPARATOR","\\",698],["T_STRING","Helper",698],["T_NS_SEPARATOR","\\",698],["T_STRING","Data",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$importExportData",698],",",["T_WHITESPACE","\n        ",698],["T_NS_SEPARATOR","\\",699],["T_STRING","Magento",699],["T_NS_SEPARATOR","\\",699],["T_STRING","ImportExport",699],["T_NS_SEPARATOR","\\",699],["T_STRING","Model",699],["T_NS_SEPARATOR","\\",699],["T_STRING","ResourceModel",699],["T_NS_SEPARATOR","\\",699],["T_STRING","Import",699],["T_NS_SEPARATOR","\\",699],["T_STRING","Data",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$importData",699],",",["T_WHITESPACE","\n        ",699],["T_NS_SEPARATOR","\\",700],["T_STRING","Magento",700],["T_NS_SEPARATOR","\\",700],["T_STRING","Eav",700],["T_NS_SEPARATOR","\\",700],["T_STRING","Model",700],["T_NS_SEPARATOR","\\",700],["T_STRING","Config",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$config",700],",",["T_WHITESPACE","\n        ",700],["T_NS_SEPARATOR","\\",701],["T_STRING","Magento",701],["T_NS_SEPARATOR","\\",701],["T_STRING","Framework",701],["T_NS_SEPARATOR","\\",701],["T_STRING","App",701],["T_NS_SEPARATOR","\\",701],["T_STRING","ResourceConnection",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$resource",701],",",["T_WHITESPACE","\n        ",701],["T_NS_SEPARATOR","\\",702],["T_STRING","Magento",702],["T_NS_SEPARATOR","\\",702],["T_STRING","ImportExport",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Model",702],["T_NS_SEPARATOR","\\",702],["T_STRING","ResourceModel",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Helper",702],["T_WHITESPACE"," ",702],["T_VARIABLE","$resourceHelper",702],",",["T_WHITESPACE","\n        ",702],["T_NS_SEPARATOR","\\",703],["T_STRING","Magento",703],["T_NS_SEPARATOR","\\",703],["T_STRING","Framework",703],["T_NS_SEPARATOR","\\",703],["T_STRING","Stdlib",703],["T_NS_SEPARATOR","\\",703],["T_STRING","StringUtils",703],["T_WHITESPACE"," ",703],["T_VARIABLE","$string",703],",",["T_WHITESPACE","\n        ",703],["T_STRING","ProcessingErrorAggregatorInterface",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$errorAggregator",704],",",["T_WHITESPACE","\n        ",704],["T_NS_SEPARATOR","\\",705],["T_STRING","Magento",705],["T_NS_SEPARATOR","\\",705],["T_STRING","Framework",705],["T_NS_SEPARATOR","\\",705],["T_STRING","Event",705],["T_NS_SEPARATOR","\\",705],["T_STRING","ManagerInterface",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$eventManager",705],",",["T_WHITESPACE","\n        ",705],["T_NS_SEPARATOR","\\",706],["T_STRING","Magento",706],["T_NS_SEPARATOR","\\",706],["T_STRING","CatalogInventory",706],["T_NS_SEPARATOR","\\",706],["T_STRING","Api",706],["T_NS_SEPARATOR","\\",706],["T_STRING","StockRegistryInterface",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$stockRegistry",706],",",["T_WHITESPACE","\n        ",706],["T_NS_SEPARATOR","\\",707],["T_STRING","Magento",707],["T_NS_SEPARATOR","\\",707],["T_STRING","CatalogInventory",707],["T_NS_SEPARATOR","\\",707],["T_STRING","Api",707],["T_NS_SEPARATOR","\\",707],["T_STRING","StockConfigurationInterface",707],["T_WHITESPACE"," ",707],["T_VARIABLE","$stockConfiguration",707],",",["T_WHITESPACE","\n        ",707],["T_NS_SEPARATOR","\\",708],["T_STRING","Magento",708],["T_NS_SEPARATOR","\\",708],["T_STRING","CatalogInventory",708],["T_NS_SEPARATOR","\\",708],["T_STRING","Model",708],["T_NS_SEPARATOR","\\",708],["T_STRING","Spi",708],["T_NS_SEPARATOR","\\",708],["T_STRING","StockStateProviderInterface",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$stockStateProvider",708],",",["T_WHITESPACE","\n        ",708],["T_NS_SEPARATOR","\\",709],["T_STRING","Magento",709],["T_NS_SEPARATOR","\\",709],["T_STRING","Catalog",709],["T_NS_SEPARATOR","\\",709],["T_STRING","Helper",709],["T_NS_SEPARATOR","\\",709],["T_STRING","Data",709],["T_WHITESPACE"," ",709],["T_VARIABLE","$catalogData",709],",",["T_WHITESPACE","\n        ",709],["T_NS_SEPARATOR","\\",710],["T_STRING","Magento",710],["T_NS_SEPARATOR","\\",710],["T_STRING","ImportExport",710],["T_NS_SEPARATOR","\\",710],["T_STRING","Model",710],["T_NS_SEPARATOR","\\",710],["T_STRING","Import",710],["T_NS_SEPARATOR","\\",710],["T_STRING","Config",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$importConfig",710],",",["T_WHITESPACE","\n        ",710],["T_NS_SEPARATOR","\\",711],["T_STRING","Magento",711],["T_NS_SEPARATOR","\\",711],["T_STRING","CatalogImportExport",711],["T_NS_SEPARATOR","\\",711],["T_STRING","Model",711],["T_NS_SEPARATOR","\\",711],["T_STRING","Import",711],["T_NS_SEPARATOR","\\",711],["T_STRING","Proxy",711],["T_NS_SEPARATOR","\\",711],["T_STRING","Product",711],["T_NS_SEPARATOR","\\",711],["T_STRING","ResourceModelFactory",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$resourceFactory",711],",",["T_WHITESPACE","\n        ",711],["T_NS_SEPARATOR","\\",712],["T_STRING","Magento",712],["T_NS_SEPARATOR","\\",712],["T_STRING","CatalogImportExport",712],["T_NS_SEPARATOR","\\",712],["T_STRING","Model",712],["T_NS_SEPARATOR","\\",712],["T_STRING","Import",712],["T_NS_SEPARATOR","\\",712],["T_STRING","Product",712],["T_NS_SEPARATOR","\\",712],["T_STRING","OptionFactory",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$optionFactory",712],",",["T_WHITESPACE","\n        ",712],["T_NS_SEPARATOR","\\",713],["T_STRING","Magento",713],["T_NS_SEPARATOR","\\",713],["T_STRING","Eav",713],["T_NS_SEPARATOR","\\",713],["T_STRING","Model",713],["T_NS_SEPARATOR","\\",713],["T_STRING","ResourceModel",713],["T_NS_SEPARATOR","\\",713],["T_STRING","Entity",713],["T_NS_SEPARATOR","\\",713],["T_STRING","Attribute",713],["T_NS_SEPARATOR","\\",713],["T_STRING","Set",713],["T_NS_SEPARATOR","\\",713],["T_STRING","CollectionFactory",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$setColFactory",713],",",["T_WHITESPACE","\n        ",713],["T_NS_SEPARATOR","\\",714],["T_STRING","Magento",714],["T_NS_SEPARATOR","\\",714],["T_STRING","CatalogImportExport",714],["T_NS_SEPARATOR","\\",714],["T_STRING","Model",714],["T_NS_SEPARATOR","\\",714],["T_STRING","Import",714],["T_NS_SEPARATOR","\\",714],["T_STRING","Product",714],["T_NS_SEPARATOR","\\",714],["T_STRING","Type",714],["T_NS_SEPARATOR","\\",714],["T_STRING","Factory",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$productTypeFactory",714],",",["T_WHITESPACE","\n        ",714],["T_NS_SEPARATOR","\\",715],["T_STRING","Magento",715],["T_NS_SEPARATOR","\\",715],["T_STRING","Catalog",715],["T_NS_SEPARATOR","\\",715],["T_STRING","Model",715],["T_NS_SEPARATOR","\\",715],["T_STRING","ResourceModel",715],["T_NS_SEPARATOR","\\",715],["T_STRING","Product",715],["T_NS_SEPARATOR","\\",715],["T_STRING","LinkFactory",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$linkFactory",715],",",["T_WHITESPACE","\n        ",715],["T_NS_SEPARATOR","\\",716],["T_STRING","Magento",716],["T_NS_SEPARATOR","\\",716],["T_STRING","CatalogImportExport",716],["T_NS_SEPARATOR","\\",716],["T_STRING","Model",716],["T_NS_SEPARATOR","\\",716],["T_STRING","Import",716],["T_NS_SEPARATOR","\\",716],["T_STRING","Proxy",716],["T_NS_SEPARATOR","\\",716],["T_STRING","ProductFactory",716],["T_WHITESPACE"," ",716],["T_VARIABLE","$proxyProdFactory",716],",",["T_WHITESPACE","\n        ",716],["T_NS_SEPARATOR","\\",717],["T_STRING","Magento",717],["T_NS_SEPARATOR","\\",717],["T_STRING","CatalogImportExport",717],["T_NS_SEPARATOR","\\",717],["T_STRING","Model",717],["T_NS_SEPARATOR","\\",717],["T_STRING","Import",717],["T_NS_SEPARATOR","\\",717],["T_STRING","UploaderFactory",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$uploaderFactory",717],",",["T_WHITESPACE","\n        ",717],["T_NS_SEPARATOR","\\",718],["T_STRING","Magento",718],["T_NS_SEPARATOR","\\",718],["T_STRING","Framework",718],["T_NS_SEPARATOR","\\",718],["T_STRING","Filesystem",718],["T_WHITESPACE"," ",718],["T_VARIABLE","$filesystem",718],",",["T_WHITESPACE","\n        ",718],["T_NS_SEPARATOR","\\",719],["T_STRING","Magento",719],["T_NS_SEPARATOR","\\",719],["T_STRING","CatalogInventory",719],["T_NS_SEPARATOR","\\",719],["T_STRING","Model",719],["T_NS_SEPARATOR","\\",719],["T_STRING","ResourceModel",719],["T_NS_SEPARATOR","\\",719],["T_STRING","Stock",719],["T_NS_SEPARATOR","\\",719],["T_STRING","ItemFactory",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$stockResItemFac",719],",",["T_WHITESPACE","\n        ",719],["T_NS_SEPARATOR","\\",720],["T_STRING","Magento",720],["T_NS_SEPARATOR","\\",720],["T_STRING","Framework",720],["T_NS_SEPARATOR","\\",720],["T_STRING","Stdlib",720],["T_NS_SEPARATOR","\\",720],["T_STRING","DateTime",720],["T_NS_SEPARATOR","\\",720],["T_STRING","TimezoneInterface",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$localeDate",720],",",["T_WHITESPACE","\n        ",720],["T_STRING","DateTime",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$dateTime",721],",",["T_WHITESPACE","\n        ",721],["T_NS_SEPARATOR","\\",722],["T_STRING","Psr",722],["T_NS_SEPARATOR","\\",722],["T_STRING","Log",722],["T_NS_SEPARATOR","\\",722],["T_STRING","LoggerInterface",722],["T_WHITESPACE"," ",722],["T_VARIABLE","$logger",722],",",["T_WHITESPACE","\n        ",722],["T_NS_SEPARATOR","\\",723],["T_STRING","Magento",723],["T_NS_SEPARATOR","\\",723],["T_STRING","Framework",723],["T_NS_SEPARATOR","\\",723],["T_STRING","Indexer",723],["T_NS_SEPARATOR","\\",723],["T_STRING","IndexerRegistry",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$indexerRegistry",723],",",["T_WHITESPACE","\n        ",723],["T_STRING","Product",724],["T_NS_SEPARATOR","\\",724],["T_STRING","StoreResolver",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$storeResolver",724],",",["T_WHITESPACE","\n        ",724],["T_STRING","Product",725],["T_NS_SEPARATOR","\\",725],["T_STRING","SkuProcessor",725],["T_WHITESPACE"," ",725],["T_VARIABLE","$skuProcessor",725],",",["T_WHITESPACE","\n        ",725],["T_STRING","Product",726],["T_NS_SEPARATOR","\\",726],["T_STRING","CategoryProcessor",726],["T_WHITESPACE"," ",726],["T_VARIABLE","$categoryProcessor",726],",",["T_WHITESPACE","\n        ",726],["T_STRING","Product",727],["T_NS_SEPARATOR","\\",727],["T_STRING","Validator",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$validator",727],",",["T_WHITESPACE","\n        ",727],["T_STRING","ObjectRelationProcessor",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$objectRelationProcessor",728],",",["T_WHITESPACE","\n        ",728],["T_STRING","TransactionManagerInterface",729],["T_WHITESPACE"," ",729],["T_VARIABLE","$transactionManager",729],",",["T_WHITESPACE","\n        ",729],["T_STRING","Product",730],["T_NS_SEPARATOR","\\",730],["T_STRING","TaxClassProcessor",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$taxClassProcessor",730],",",["T_WHITESPACE","\n        ",730],["T_NS_SEPARATOR","\\",731],["T_STRING","Magento",731],["T_NS_SEPARATOR","\\",731],["T_STRING","Framework",731],["T_NS_SEPARATOR","\\",731],["T_STRING","App",731],["T_NS_SEPARATOR","\\",731],["T_STRING","Config",731],["T_NS_SEPARATOR","\\",731],["T_STRING","ScopeConfigInterface",731],["T_WHITESPACE"," ",731],["T_VARIABLE","$scopeConfig",731],",",["T_WHITESPACE","\n        ",731],["T_NS_SEPARATOR","\\",732],["T_STRING","Magento",732],["T_NS_SEPARATOR","\\",732],["T_STRING","Catalog",732],["T_NS_SEPARATOR","\\",732],["T_STRING","Model",732],["T_NS_SEPARATOR","\\",732],["T_STRING","Product",732],["T_NS_SEPARATOR","\\",732],["T_STRING","Url",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$productUrl",732],",",["T_WHITESPACE","\n        ",732],["T_ARRAY","array",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$data",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],"[","]",",",["T_WHITESPACE","\n        ",733],["T_ARRAY","array",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$dateAttrCodes",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],"[","]",["T_WHITESPACE","\n    ",734],")",["T_WHITESPACE"," ",735],"{",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","_eventManager",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_VARIABLE","$eventManager",736],";",["T_WHITESPACE","\n        ",736],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","stockRegistry",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$stockRegistry",737],";",["T_WHITESPACE","\n        ",737],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","stockConfiguration",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$stockConfiguration",738],";",["T_WHITESPACE","\n        ",738],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","stockStateProvider",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_VARIABLE","$stockStateProvider",739],";",["T_WHITESPACE","\n        ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","_catalogData",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],["T_VARIABLE","$catalogData",740],";",["T_WHITESPACE","\n        ",740],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","_importConfig",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_VARIABLE","$importConfig",741],";",["T_WHITESPACE","\n        ",741],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_resourceFactory",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$resourceFactory",742],";",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","_setColFactory",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_VARIABLE","$setColFactory",743],";",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_productTypeFactory",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_VARIABLE","$productTypeFactory",744],";",["T_WHITESPACE","\n        ",744],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","_linkFactory",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_VARIABLE","$linkFactory",745],";",["T_WHITESPACE","\n        ",745],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","_proxyProdFactory",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_VARIABLE","$proxyProdFactory",746],";",["T_WHITESPACE","\n        ",746],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","_uploaderFactory",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_VARIABLE","$uploaderFactory",747],";",["T_WHITESPACE","\n        ",747],["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","_mediaDirectory",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$filesystem",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","getDirectoryWrite",748],"(",["T_STRING","DirectoryList",748],["T_DOUBLE_COLON","::",748],["T_STRING","ROOT",748],")",";",["T_WHITESPACE","\n        ",748],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_stockResItemFac",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_VARIABLE","$stockResItemFac",749],";",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","_localeDate",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$localeDate",750],";",["T_WHITESPACE","\n        ",750],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","dateTime",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_VARIABLE","$dateTime",751],";",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","indexerRegistry",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$indexerRegistry",752],";",["T_WHITESPACE","\n        ",752],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","_logger",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_VARIABLE","$logger",753],";",["T_WHITESPACE","\n        ",753],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","storeResolver",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_VARIABLE","$storeResolver",754],";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","skuProcessor",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$skuProcessor",755],";",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","categoryProcessor",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_VARIABLE","$categoryProcessor",756],";",["T_WHITESPACE","\n        ",756],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","validator",757],["T_WHITESPACE"," ",757],"=",["T_WHITESPACE"," ",757],["T_VARIABLE","$validator",757],";",["T_WHITESPACE","\n        ",757],["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","objectRelationProcessor",758],["T_WHITESPACE"," ",758],"=",["T_WHITESPACE"," ",758],["T_VARIABLE","$objectRelationProcessor",758],";",["T_WHITESPACE","\n        ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","transactionManager",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_VARIABLE","$transactionManager",759],";",["T_WHITESPACE","\n        ",759],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","taxClassProcessor",760],["T_WHITESPACE"," ",760],"=",["T_WHITESPACE"," ",760],["T_VARIABLE","$taxClassProcessor",760],";",["T_WHITESPACE","\n        ",760],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","scopeConfig",761],["T_WHITESPACE"," ",761],"=",["T_WHITESPACE"," ",761],["T_VARIABLE","$scopeConfig",761],";",["T_WHITESPACE","\n        ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","productUrl",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_VARIABLE","$productUrl",762],";",["T_WHITESPACE","\n        ",762],["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","dateAttrCodes",763],["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],["T_STRING","array_merge",763],"(",["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","dateAttrCodes",763],",",["T_WHITESPACE"," ",763],["T_VARIABLE","$dateAttrCodes",763],")",";",["T_WHITESPACE","\n        ",763],["T_STRING","parent",764],["T_DOUBLE_COLON","::",764],["T_STRING","__construct",764],"(",["T_WHITESPACE","\n            ",764],["T_VARIABLE","$jsonHelper",765],",",["T_WHITESPACE","\n            ",765],["T_VARIABLE","$importExportData",766],",",["T_WHITESPACE","\n            ",766],["T_VARIABLE","$importData",767],",",["T_WHITESPACE","\n            ",767],["T_VARIABLE","$config",768],",",["T_WHITESPACE","\n            ",768],["T_VARIABLE","$resource",769],",",["T_WHITESPACE","\n            ",769],["T_VARIABLE","$resourceHelper",770],",",["T_WHITESPACE","\n            ",770],["T_VARIABLE","$string",771],",",["T_WHITESPACE","\n            ",771],["T_VARIABLE","$errorAggregator",772],["T_WHITESPACE","\n        ",772],")",";",["T_WHITESPACE","\n        ",773],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","_optionEntity",774],["T_WHITESPACE"," ",774],"=",["T_WHITESPACE"," ",774],["T_ISSET","isset",774],"(",["T_WHITESPACE","\n            ",774],["T_VARIABLE","$data",775],"[",["T_CONSTANT_ENCAPSED_STRING","'option_entity'",775],"]",["T_WHITESPACE","\n        ",775],")",["T_WHITESPACE"," ",776],"?",["T_WHITESPACE"," ",776],["T_VARIABLE","$data",776],"[",["T_CONSTANT_ENCAPSED_STRING","'option_entity'",776],"]",["T_WHITESPACE"," ",776],":",["T_WHITESPACE"," ",776],["T_VARIABLE","$optionFactory",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","create",776],"(",["T_WHITESPACE","\n            ",776],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",777],["T_WHITESPACE"," ",777],["T_DOUBLE_ARROW","=>",777],["T_WHITESPACE"," ",777],"[",["T_CONSTANT_ENCAPSED_STRING","'product_entity'",777],["T_WHITESPACE"," ",777],["T_DOUBLE_ARROW","=>",777],["T_WHITESPACE"," ",777],["T_VARIABLE","$this",777],"]","]",["T_WHITESPACE","\n        ",777],")",";",["T_WHITESPACE","\n\n        ",778],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","_initAttributeSets",780],"(",")",["T_WHITESPACE","\n            ",780],["T_OBJECT_OPERATOR","->",781],["T_STRING","_initTypeModels",781],"(",")",["T_WHITESPACE","\n            ",781],["T_OBJECT_OPERATOR","->",782],["T_STRING","_initSkus",782],"(",")",";",["T_WHITESPACE","\n        ",782],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","validator",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","init",783],"(",["T_VARIABLE","$this",783],")",";",["T_WHITESPACE","\n    ",783],"}",["T_WHITESPACE","\n\n    ",784],["T_DOC_COMMENT","\/**\n     * Check one attribute. Can be overridden in child.\n     *\n     * @param string $attrCode Attribute code\n     * @param array $attrParams Attribute params\n     * @param array $rowData Row data\n     * @param int $rowNum\n     * @return bool\n     *\/",786],["T_WHITESPACE","\n    ",794],["T_PUBLIC","public",795],["T_WHITESPACE"," ",795],["T_FUNCTION","function",795],["T_WHITESPACE"," ",795],["T_STRING","isAttributeValid",795],"(",["T_VARIABLE","$attrCode",795],",",["T_WHITESPACE"," ",795],["T_ARRAY","array",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$attrParams",795],",",["T_WHITESPACE"," ",795],["T_ARRAY","array",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$rowData",795],",",["T_WHITESPACE"," ",795],["T_VARIABLE","$rowNum",795],")",["T_WHITESPACE","\n    ",795],"{",["T_WHITESPACE","\n        ",796],["T_IF","if",797],["T_WHITESPACE"," ",797],"(","!",["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","validator",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","isAttributeValid",797],"(",["T_VARIABLE","$attrCode",797],",",["T_WHITESPACE"," ",797],["T_VARIABLE","$attrParams",797],",",["T_WHITESPACE"," ",797],["T_VARIABLE","$rowData",797],")",")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n            ",797],["T_FOREACH","foreach",798],["T_WHITESPACE"," ",798],"(",["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","validator",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","getMessages",798],"(",")",["T_WHITESPACE"," ",798],["T_AS","as",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$message",798],")",["T_WHITESPACE"," ",798],"{",["T_WHITESPACE","\n                ",798],["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","addRowError",799],"(",["T_VARIABLE","$message",799],",",["T_WHITESPACE"," ",799],["T_VARIABLE","$rowNum",799],",",["T_WHITESPACE"," ",799],["T_VARIABLE","$attrCode",799],")",";",["T_WHITESPACE","\n            ",799],"}",["T_WHITESPACE","\n            ",800],["T_RETURN","return",801],["T_WHITESPACE"," ",801],["T_STRING","false",801],";",["T_WHITESPACE","\n        ",801],"}",["T_WHITESPACE","\n        ",802],["T_RETURN","return",803],["T_WHITESPACE"," ",803],["T_STRING","true",803],";",["T_WHITESPACE","\n    ",803],"}",["T_WHITESPACE","\n\n    ",804],["T_DOC_COMMENT","\/**\n     *\n     * Multiple value separator getter.\n     * @return string\n     *\/",806],["T_WHITESPACE","\n    ",810],["T_PUBLIC","public",811],["T_WHITESPACE"," ",811],["T_FUNCTION","function",811],["T_WHITESPACE"," ",811],["T_STRING","getMultipleValueSeparator",811],"(",")",["T_WHITESPACE","\n    ",811],"{",["T_WHITESPACE","\n        ",812],["T_IF","if",813],["T_WHITESPACE"," ",813],"(","!",["T_EMPTY","empty",813],"(",["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","_parameters",813],"[",["T_STRING","Import",813],["T_DOUBLE_COLON","::",813],["T_STRING","FIELD_FIELD_MULTIPLE_VALUE_SEPARATOR",813],"]",")",")",["T_WHITESPACE"," ",813],"{",["T_WHITESPACE","\n            ",813],["T_RETURN","return",814],["T_WHITESPACE"," ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","_parameters",814],"[",["T_STRING","Import",814],["T_DOUBLE_COLON","::",814],["T_STRING","FIELD_FIELD_MULTIPLE_VALUE_SEPARATOR",814],"]",";",["T_WHITESPACE","\n        ",814],"}",["T_WHITESPACE","\n        ",815],["T_RETURN","return",816],["T_WHITESPACE"," ",816],["T_STRING","Import",816],["T_DOUBLE_COLON","::",816],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",816],";",["T_WHITESPACE","\n    ",816],"}",["T_WHITESPACE","\n\n    ",817],["T_DOC_COMMENT","\/**\n     * Retrieve instance of product custom options import entity\n     *\n     * @return \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Option\n     *\/",819],["T_WHITESPACE","\n    ",823],["T_PUBLIC","public",824],["T_WHITESPACE"," ",824],["T_FUNCTION","function",824],["T_WHITESPACE"," ",824],["T_STRING","getOptionEntity",824],"(",")",["T_WHITESPACE","\n    ",824],"{",["T_WHITESPACE","\n        ",825],["T_RETURN","return",826],["T_WHITESPACE"," ",826],["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","_optionEntity",826],";",["T_WHITESPACE","\n    ",826],"}",["T_WHITESPACE","\n\n    ",827],["T_DOC_COMMENT","\/**\n     * Retrieve id of media gallery attribute.\n     *\n     * @return int\n     *\/",829],["T_WHITESPACE","\n    ",833],["T_PUBLIC","public",834],["T_WHITESPACE"," ",834],["T_FUNCTION","function",834],["T_WHITESPACE"," ",834],["T_STRING","getMediaGalleryAttributeId",834],"(",")",["T_WHITESPACE","\n    ",834],"{",["T_WHITESPACE","\n        ",835],["T_IF","if",836],["T_WHITESPACE"," ",836],"(","!",["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","_mediaGalleryAttributeId",836],")",["T_WHITESPACE"," ",836],"{",["T_WHITESPACE","\n            ",836],["T_DOC_COMMENT","\/** @var $resource \\Magento\\CatalogImportExport\\Model\\Import\\Proxy\\Product\\ResourceModel *\/",837],["T_WHITESPACE","\n            ",837],["T_VARIABLE","$resource",838],["T_WHITESPACE"," ",838],"=",["T_WHITESPACE"," ",838],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","_resourceFactory",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","create",838],"(",")",";",["T_WHITESPACE","\n            ",838],["T_VARIABLE","$this",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","_mediaGalleryAttributeId",839],["T_WHITESPACE"," ",839],"=",["T_WHITESPACE"," ",839],["T_VARIABLE","$resource",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","getAttribute",839],"(",["T_STRING","self",839],["T_DOUBLE_COLON","::",839],["T_STRING","MEDIA_GALLERY_ATTRIBUTE_CODE",839],")",["T_OBJECT_OPERATOR","->",839],["T_STRING","getId",839],"(",")",";",["T_WHITESPACE","\n        ",839],"}",["T_WHITESPACE","\n        ",840],["T_RETURN","return",841],["T_WHITESPACE"," ",841],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","_mediaGalleryAttributeId",841],";",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n\n    ",842],["T_DOC_COMMENT","\/**\n     * @param string $name\n     * @return Product\\Type\\AbstractType\n     *\/",844],["T_WHITESPACE","\n    ",847],["T_PUBLIC","public",848],["T_WHITESPACE"," ",848],["T_FUNCTION","function",848],["T_WHITESPACE"," ",848],["T_STRING","retrieveProductTypeByName",848],"(",["T_VARIABLE","$name",848],")",["T_WHITESPACE","\n    ",848],"{",["T_WHITESPACE","\n        ",849],["T_IF","if",850],["T_WHITESPACE"," ",850],"(",["T_ISSET","isset",850],"(",["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","_productTypeModels",850],"[",["T_VARIABLE","$name",850],"]",")",")",["T_WHITESPACE"," ",850],"{",["T_WHITESPACE","\n            ",850],["T_RETURN","return",851],["T_WHITESPACE"," ",851],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","_productTypeModels",851],"[",["T_VARIABLE","$name",851],"]",";",["T_WHITESPACE","\n        ",851],"}",["T_WHITESPACE","\n        ",852],["T_RETURN","return",853],["T_WHITESPACE"," ",853],["T_STRING","null",853],";",["T_WHITESPACE","\n    ",853],"}",["T_WHITESPACE","\n\n    ",854],["T_DOC_COMMENT","\/**\n     * Set import parameters\n     *\n     * @param array $params\n     * @return $this\n     *\/",856],["T_WHITESPACE","\n    ",861],["T_PUBLIC","public",862],["T_WHITESPACE"," ",862],["T_FUNCTION","function",862],["T_WHITESPACE"," ",862],["T_STRING","setParameters",862],"(",["T_ARRAY","array",862],["T_WHITESPACE"," ",862],["T_VARIABLE","$params",862],")",["T_WHITESPACE","\n    ",862],"{",["T_WHITESPACE","\n        ",863],["T_STRING","parent",864],["T_DOUBLE_COLON","::",864],["T_STRING","setParameters",864],"(",["T_VARIABLE","$params",864],")",";",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","getOptionEntity",865],"(",")",["T_OBJECT_OPERATOR","->",865],["T_STRING","setParameters",865],"(",["T_VARIABLE","$params",865],")",";",["T_WHITESPACE","\n\n        ",865],["T_RETURN","return",867],["T_WHITESPACE"," ",867],["T_VARIABLE","$this",867],";",["T_WHITESPACE","\n    ",867],"}",["T_WHITESPACE","\n\n    ",868],["T_DOC_COMMENT","\/**\n     * Delete products for replacement.\n     *\n     * @return $this\n     *\/",870],["T_WHITESPACE","\n    ",874],["T_PUBLIC","public",875],["T_WHITESPACE"," ",875],["T_FUNCTION","function",875],["T_WHITESPACE"," ",875],["T_STRING","deleteProductsForReplacement",875],"(",")",["T_WHITESPACE","\n    ",875],"{",["T_WHITESPACE","\n        ",876],["T_VARIABLE","$this",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","setParameters",877],"(",["T_STRING","array_merge",877],"(",["T_WHITESPACE","\n            ",877],["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","getParameters",878],"(",")",",",["T_WHITESPACE","\n            ",878],"[",["T_CONSTANT_ENCAPSED_STRING","'behavior'",879],["T_WHITESPACE"," ",879],["T_DOUBLE_ARROW","=>",879],["T_WHITESPACE"," ",879],["T_STRING","Import",879],["T_DOUBLE_COLON","::",879],["T_STRING","BEHAVIOR_DELETE",879],"]",["T_WHITESPACE","\n        ",879],")",")",";",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","_deleteProducts",881],"(",")",";",["T_WHITESPACE","\n\n        ",881],["T_RETURN","return",883],["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],";",["T_WHITESPACE","\n    ",883],"}",["T_WHITESPACE","\n\n    ",884],["T_DOC_COMMENT","\/**\n     * Delete products.\n     *\n     * @return $this\n     * @throws \\Exception\n     *\/",886],["T_WHITESPACE","\n    ",891],["T_PROTECTED","protected",892],["T_WHITESPACE"," ",892],["T_FUNCTION","function",892],["T_WHITESPACE"," ",892],["T_STRING","_deleteProducts",892],"(",")",["T_WHITESPACE","\n    ",892],"{",["T_WHITESPACE","\n        ",893],["T_VARIABLE","$productEntityTable",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","_resourceFactory",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","create",894],"(",")",["T_OBJECT_OPERATOR","->",894],["T_STRING","getEntityTable",894],"(",")",";",["T_WHITESPACE","\n\n        ",894],["T_WHILE","while",896],["T_WHITESPACE"," ",896],"(",["T_VARIABLE","$bunch",896],["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","_dataSourceModel",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","getNextBunch",896],"(",")",")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n            ",896],["T_VARIABLE","$idsToDelete",897],["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],"[","]",";",["T_WHITESPACE","\n\n            ",897],["T_FOREACH","foreach",899],["T_WHITESPACE"," ",899],"(",["T_VARIABLE","$bunch",899],["T_WHITESPACE"," ",899],["T_AS","as",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$rowNum",899],["T_WHITESPACE"," ",899],["T_DOUBLE_ARROW","=>",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$rowData",899],")",["T_WHITESPACE"," ",899],"{",["T_WHITESPACE","\n                ",899],["T_IF","if",900],["T_WHITESPACE"," ",900],"(",["T_VARIABLE","$this",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","validateRow",900],"(",["T_VARIABLE","$rowData",900],",",["T_WHITESPACE"," ",900],["T_VARIABLE","$rowNum",900],")",["T_WHITESPACE"," ",900],["T_BOOLEAN_AND","&&",900],["T_WHITESPACE"," ",900],["T_STRING","self",900],["T_DOUBLE_COLON","::",900],["T_STRING","SCOPE_DEFAULT",900],["T_WHITESPACE"," ",900],["T_IS_EQUAL","==",900],["T_WHITESPACE"," ",900],["T_VARIABLE","$this",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","getRowScope",900],"(",["T_VARIABLE","$rowData",900],")",")",["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n                    ",900],["T_VARIABLE","$idsToDelete",901],"[","]",["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","_oldSku",901],"[",["T_VARIABLE","$rowData",901],"[",["T_STRING","self",901],["T_DOUBLE_COLON","::",901],["T_STRING","COL_SKU",901],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",901],"]",";",["T_WHITESPACE","\n                ",901],"}",["T_WHITESPACE","\n            ",902],"}",["T_WHITESPACE","\n            ",903],["T_IF","if",904],["T_WHITESPACE"," ",904],"(",["T_VARIABLE","$idsToDelete",904],")",["T_WHITESPACE"," ",904],"{",["T_WHITESPACE","\n                ",904],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","countItemsDeleted",905],["T_WHITESPACE"," ",905],["T_PLUS_EQUAL","+=",905],["T_WHITESPACE"," ",905],["T_STRING","count",905],"(",["T_VARIABLE","$idsToDelete",905],")",";",["T_WHITESPACE","\n                ",905],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","transactionManager",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","start",906],"(",["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","_connection",906],")",";",["T_WHITESPACE","\n                ",906],["T_TRY","try",907],["T_WHITESPACE"," ",907],"{",["T_WHITESPACE","\n                    ",907],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","objectRelationProcessor",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","delete",908],"(",["T_WHITESPACE","\n                        ",908],["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","transactionManager",909],",",["T_WHITESPACE","\n                        ",909],["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","_connection",910],",",["T_WHITESPACE","\n                        ",910],["T_VARIABLE","$productEntityTable",911],",",["T_WHITESPACE","\n                        ",911],["T_VARIABLE","$this",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","_connection",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","quoteInto",912],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id IN (?)'",912],",",["T_WHITESPACE"," ",912],["T_VARIABLE","$idsToDelete",912],")",",",["T_WHITESPACE","\n                        ",912],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",913],["T_WHITESPACE"," ",913],["T_DOUBLE_ARROW","=>",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$idsToDelete",913],"]",["T_WHITESPACE","\n                    ",913],")",";",["T_WHITESPACE","\n                    ",914],["T_VARIABLE","$this",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","_eventManager",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","dispatch",915],"(",["T_WHITESPACE","\n                        ",915],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_import_bunch_delete_commit_before'",916],",",["T_WHITESPACE","\n                        ",916],"[",["T_WHITESPACE","\n                            ",917],["T_CONSTANT_ENCAPSED_STRING","'adapter'",918],["T_WHITESPACE"," ",918],["T_DOUBLE_ARROW","=>",918],["T_WHITESPACE"," ",918],["T_VARIABLE","$this",918],",",["T_WHITESPACE","\n                            ",918],["T_CONSTANT_ENCAPSED_STRING","'bunch'",919],["T_WHITESPACE"," ",919],["T_DOUBLE_ARROW","=>",919],["T_WHITESPACE"," ",919],["T_VARIABLE","$bunch",919],",",["T_WHITESPACE","\n                            ",919],["T_CONSTANT_ENCAPSED_STRING","'ids_to_delete'",920],["T_WHITESPACE"," ",920],["T_DOUBLE_ARROW","=>",920],["T_WHITESPACE"," ",920],["T_VARIABLE","$idsToDelete",920],",",["T_WHITESPACE","\n                        ",920],"]",["T_WHITESPACE","\n                    ",921],")",";",["T_WHITESPACE","\n                    ",922],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","transactionManager",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","commit",923],"(",")",";",["T_WHITESPACE","\n                ",923],"}",["T_WHITESPACE"," ",924],["T_CATCH","catch",924],["T_WHITESPACE"," ",924],"(",["T_NS_SEPARATOR","\\",924],["T_STRING","Exception",924],["T_WHITESPACE"," ",924],["T_VARIABLE","$e",924],")",["T_WHITESPACE"," ",924],"{",["T_WHITESPACE","\n                    ",924],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","transactionManager",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","rollBack",925],"(",")",";",["T_WHITESPACE","\n                    ",925],["T_THROW","throw",926],["T_WHITESPACE"," ",926],["T_VARIABLE","$e",926],";",["T_WHITESPACE","\n                ",926],"}",["T_WHITESPACE","\n                ",927],["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","_eventManager",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","dispatch",928],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_import_bunch_delete_after'",928],",",["T_WHITESPACE"," ",928],"[",["T_CONSTANT_ENCAPSED_STRING","'adapter'",928],["T_WHITESPACE"," ",928],["T_DOUBLE_ARROW","=>",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$this",928],",",["T_WHITESPACE"," ",928],["T_CONSTANT_ENCAPSED_STRING","'bunch'",928],["T_WHITESPACE"," ",928],["T_DOUBLE_ARROW","=>",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$bunch",928],"]",")",";",["T_WHITESPACE","\n            ",928],"}",["T_WHITESPACE","\n        ",929],"}",["T_WHITESPACE","\n        ",930],["T_RETURN","return",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$this",931],";",["T_WHITESPACE","\n    ",931],"}",["T_WHITESPACE","\n\n    ",932],["T_DOC_COMMENT","\/**\n     * Create Product entity from raw data.\n     *\n     * @throws \\Exception\n     * @return bool Result of operation.\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",934],["T_WHITESPACE","\n    ",940],["T_PROTECTED","protected",941],["T_WHITESPACE"," ",941],["T_FUNCTION","function",941],["T_WHITESPACE"," ",941],["T_STRING","_importData",941],"(",")",["T_WHITESPACE","\n    ",941],"{",["T_WHITESPACE","\n        ",942],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","_validatedRows",943],["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_STRING","null",943],";",["T_WHITESPACE","\n        ",943],["T_IF","if",944],["T_WHITESPACE"," ",944],"(",["T_STRING","Import",944],["T_DOUBLE_COLON","::",944],["T_STRING","BEHAVIOR_DELETE",944],["T_WHITESPACE"," ",944],["T_IS_EQUAL","==",944],["T_WHITESPACE"," ",944],["T_VARIABLE","$this",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","getBehavior",944],"(",")",")",["T_WHITESPACE"," ",944],"{",["T_WHITESPACE","\n            ",944],["T_VARIABLE","$this",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","_deleteProducts",945],"(",")",";",["T_WHITESPACE","\n        ",945],"}",["T_WHITESPACE"," ",946],["T_ELSEIF","elseif",946],["T_WHITESPACE"," ",946],"(",["T_STRING","Import",946],["T_DOUBLE_COLON","::",946],["T_STRING","BEHAVIOR_REPLACE",946],["T_WHITESPACE"," ",946],["T_IS_EQUAL","==",946],["T_WHITESPACE"," ",946],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","getBehavior",946],"(",")",")",["T_WHITESPACE"," ",946],"{",["T_WHITESPACE","\n            ",946],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","_replaceFlag",947],["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_STRING","true",947],";",["T_WHITESPACE","\n            ",947],["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","_replaceProducts",948],"(",")",";",["T_WHITESPACE","\n        ",948],"}",["T_WHITESPACE"," ",949],["T_ELSE","else",949],["T_WHITESPACE"," ",949],"{",["T_WHITESPACE","\n            ",949],["T_VARIABLE","$this",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","_saveProductsData",950],"(",")",";",["T_WHITESPACE","\n        ",950],"}",["T_WHITESPACE","\n        ",951],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","_eventManager",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","dispatch",952],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_import_finish_before'",952],",",["T_WHITESPACE"," ",952],"[",["T_CONSTANT_ENCAPSED_STRING","'adapter'",952],["T_WHITESPACE"," ",952],["T_DOUBLE_ARROW","=>",952],["T_WHITESPACE"," ",952],["T_VARIABLE","$this",952],"]",")",";",["T_WHITESPACE","\n        ",952],["T_RETURN","return",953],["T_WHITESPACE"," ",953],["T_STRING","true",953],";",["T_WHITESPACE","\n    ",953],"}",["T_WHITESPACE","\n\n    ",954],["T_DOC_COMMENT","\/**\n     * Replace imported products.\n     *\n     * @return $this\n     *\/",956],["T_WHITESPACE","\n    ",960],["T_PROTECTED","protected",961],["T_WHITESPACE"," ",961],["T_FUNCTION","function",961],["T_WHITESPACE"," ",961],["T_STRING","_replaceProducts",961],"(",")",["T_WHITESPACE","\n    ",961],"{",["T_WHITESPACE","\n        ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","deleteProductsForReplacement",963],"(",")",";",["T_WHITESPACE","\n        ",963],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","_oldSku",964],["T_WHITESPACE"," ",964],"=",["T_WHITESPACE"," ",964],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","skuProcessor",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","reloadOldSkus",964],"(",")",["T_OBJECT_OPERATOR","->",964],["T_STRING","getOldSkus",964],"(",")",";",["T_WHITESPACE","\n        ",964],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","_validatedRows",965],["T_WHITESPACE"," ",965],"=",["T_WHITESPACE"," ",965],["T_STRING","null",965],";",["T_WHITESPACE","\n        ",965],["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","setParameters",966],"(",["T_STRING","array_merge",966],"(",["T_WHITESPACE","\n            ",966],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","getParameters",967],"(",")",",",["T_WHITESPACE","\n            ",967],"[",["T_CONSTANT_ENCAPSED_STRING","'behavior'",968],["T_WHITESPACE"," ",968],["T_DOUBLE_ARROW","=>",968],["T_WHITESPACE"," ",968],["T_STRING","Import",968],["T_DOUBLE_COLON","::",968],["T_STRING","BEHAVIOR_APPEND",968],"]",["T_WHITESPACE","\n        ",968],")",")",";",["T_WHITESPACE","\n        ",969],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","_saveProductsData",970],"(",")",";",["T_WHITESPACE","\n\n        ",970],["T_RETURN","return",972],["T_WHITESPACE"," ",972],["T_VARIABLE","$this",972],";",["T_WHITESPACE","\n    ",972],"}",["T_WHITESPACE","\n\n    ",973],["T_DOC_COMMENT","\/**\n     * Save products data.\n     *\n     * @return $this\n     *\/",975],["T_WHITESPACE","\n    ",979],["T_PROTECTED","protected",980],["T_WHITESPACE"," ",980],["T_FUNCTION","function",980],["T_WHITESPACE"," ",980],["T_STRING","_saveProductsData",980],"(",")",["T_WHITESPACE","\n    ",980],"{",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$this",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","_saveProducts",982],"(",")",";",["T_WHITESPACE","\n        ",982],["T_FOREACH","foreach",983],["T_WHITESPACE"," ",983],"(",["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","_productTypeModels",983],["T_WHITESPACE"," ",983],["T_AS","as",983],["T_WHITESPACE"," ",983],["T_VARIABLE","$productTypeModel",983],")",["T_WHITESPACE"," ",983],"{",["T_WHITESPACE","\n            ",983],["T_VARIABLE","$productTypeModel",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","saveData",984],"(",")",";",["T_WHITESPACE","\n        ",984],"}",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","_saveLinks",986],"(",")",";",["T_WHITESPACE","\n        ",986],["T_VARIABLE","$this",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","_saveStockItem",987],"(",")",";",["T_WHITESPACE","\n        ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(",["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","_replaceFlag",988],")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n            ",988],["T_VARIABLE","$this",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","getOptionEntity",989],"(",")",["T_OBJECT_OPERATOR","->",989],["T_STRING","clearProductsSkuToId",989],"(",")",";",["T_WHITESPACE","\n        ",989],"}",["T_WHITESPACE","\n        ",990],["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","getOptionEntity",991],"(",")",["T_OBJECT_OPERATOR","->",991],["T_STRING","importData",991],"(",")",";",["T_WHITESPACE","\n\n        ",991],["T_RETURN","return",993],["T_WHITESPACE"," ",993],["T_VARIABLE","$this",993],";",["T_WHITESPACE","\n    ",993],"}",["T_WHITESPACE","\n\n    ",994],["T_DOC_COMMENT","\/**\n     * Initialize attribute sets code-to-id pairs.\n     *\n     * @return $this\n     *\/",996],["T_WHITESPACE","\n    ",1000],["T_PROTECTED","protected",1001],["T_WHITESPACE"," ",1001],["T_FUNCTION","function",1001],["T_WHITESPACE"," ",1001],["T_STRING","_initAttributeSets",1001],"(",")",["T_WHITESPACE","\n    ",1001],"{",["T_WHITESPACE","\n        ",1002],["T_FOREACH","foreach",1003],["T_WHITESPACE"," ",1003],"(",["T_VARIABLE","$this",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","_setColFactory",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","create",1003],"(",")",["T_OBJECT_OPERATOR","->",1003],["T_STRING","setEntityTypeFilter",1003],"(",["T_VARIABLE","$this",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","_entityTypeId",1003],")",["T_WHITESPACE"," ",1003],["T_AS","as",1003],["T_WHITESPACE"," ",1003],["T_VARIABLE","$attributeSet",1003],")",["T_WHITESPACE"," ",1003],"{",["T_WHITESPACE","\n            ",1003],["T_VARIABLE","$this",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","_attrSetNameToId",1004],"[",["T_VARIABLE","$attributeSet",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","getAttributeSetName",1004],"(",")","]",["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_VARIABLE","$attributeSet",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","getId",1004],"(",")",";",["T_WHITESPACE","\n            ",1004],["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","_attrSetIdToName",1005],"[",["T_VARIABLE","$attributeSet",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","getId",1005],"(",")","]",["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_VARIABLE","$attributeSet",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","getAttributeSetName",1005],"(",")",";",["T_WHITESPACE","\n        ",1005],"}",["T_WHITESPACE","\n        ",1006],["T_RETURN","return",1007],["T_WHITESPACE"," ",1007],["T_VARIABLE","$this",1007],";",["T_WHITESPACE","\n    ",1007],"}",["T_WHITESPACE","\n\n    ",1008],["T_DOC_COMMENT","\/**\n     * Initialize existent product SKUs.\n     *\n     * @return $this\n     *\/",1010],["T_WHITESPACE","\n    ",1014],["T_PROTECTED","protected",1015],["T_WHITESPACE"," ",1015],["T_FUNCTION","function",1015],["T_WHITESPACE"," ",1015],["T_STRING","_initSkus",1015],"(",")",["T_WHITESPACE","\n    ",1015],"{",["T_WHITESPACE","\n        ",1016],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","skuProcessor",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","setTypeModels",1017],"(",["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","_productTypeModels",1017],")",";",["T_WHITESPACE","\n        ",1017],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","_oldSku",1018],["T_WHITESPACE"," ",1018],"=",["T_WHITESPACE"," ",1018],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","skuProcessor",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getOldSkus",1018],"(",")",";",["T_WHITESPACE","\n        ",1018],["T_RETURN","return",1019],["T_WHITESPACE"," ",1019],["T_VARIABLE","$this",1019],";",["T_WHITESPACE","\n    ",1019],"}",["T_WHITESPACE","\n\n    ",1020],["T_DOC_COMMENT","\/**\n     * Initialize product type models.\n     *\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1022],["T_WHITESPACE","\n    ",1027],["T_PROTECTED","protected",1028],["T_WHITESPACE"," ",1028],["T_FUNCTION","function",1028],["T_WHITESPACE"," ",1028],["T_STRING","_initTypeModels",1028],"(",")",["T_WHITESPACE","\n    ",1028],"{",["T_WHITESPACE","\n        ",1029],["T_VARIABLE","$productTypes",1030],["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","_importConfig",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","getEntityTypes",1030],"(",["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","getEntityTypeCode",1030],"(",")",")",";",["T_WHITESPACE","\n        ",1030],["T_FOREACH","foreach",1031],["T_WHITESPACE"," ",1031],"(",["T_VARIABLE","$productTypes",1031],["T_WHITESPACE"," ",1031],["T_AS","as",1031],["T_WHITESPACE"," ",1031],["T_VARIABLE","$productTypeName",1031],["T_WHITESPACE"," ",1031],["T_DOUBLE_ARROW","=>",1031],["T_WHITESPACE"," ",1031],["T_VARIABLE","$productTypeConfig",1031],")",["T_WHITESPACE"," ",1031],"{",["T_WHITESPACE","\n            ",1031],["T_VARIABLE","$params",1032],["T_WHITESPACE"," ",1032],"=",["T_WHITESPACE"," ",1032],"[",["T_VARIABLE","$this",1032],",",["T_WHITESPACE"," ",1032],["T_VARIABLE","$productTypeName",1032],"]",";",["T_WHITESPACE","\n            ",1032],["T_IF","if",1033],["T_WHITESPACE"," ",1033],"(","!","(",["T_VARIABLE","$model",1033],["T_WHITESPACE"," ",1033],"=",["T_WHITESPACE"," ",1033],["T_VARIABLE","$this",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","_productTypeFactory",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","create",1033],"(",["T_VARIABLE","$productTypeConfig",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",1033],"]",",",["T_WHITESPACE"," ",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",1033],["T_WHITESPACE"," ",1033],["T_DOUBLE_ARROW","=>",1033],["T_WHITESPACE"," ",1033],["T_VARIABLE","$params",1033],"]",")",")",["T_WHITESPACE","\n            ",1033],")",["T_WHITESPACE"," ",1034],"{",["T_WHITESPACE","\n                ",1034],["T_THROW","throw",1035],["T_WHITESPACE"," ",1035],["T_NEW","new",1035],["T_WHITESPACE"," ",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Magento",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Framework",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Exception",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","LocalizedException",1035],"(",["T_WHITESPACE","\n                    ",1035],["T_STRING","__",1036],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity type model \\'%1\\' is not found'",1036],",",["T_WHITESPACE"," ",1036],["T_VARIABLE","$productTypeConfig",1036],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",1036],"]",")",["T_WHITESPACE","\n                ",1036],")",";",["T_WHITESPACE","\n            ",1037],"}",["T_WHITESPACE","\n            ",1038],["T_IF","if",1039],["T_WHITESPACE"," ",1039],"(","!",["T_VARIABLE","$model",1039],["T_WHITESPACE"," ",1039],["T_INSTANCEOF","instanceof",1039],["T_WHITESPACE"," ",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","Magento",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","CatalogImportExport",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","Model",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","Import",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","Product",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","Type",1039],["T_NS_SEPARATOR","\\",1039],["T_STRING","AbstractType",1039],")",["T_WHITESPACE"," ",1039],"{",["T_WHITESPACE","\n                ",1039],["T_THROW","throw",1040],["T_WHITESPACE"," ",1040],["T_NEW","new",1040],["T_WHITESPACE"," ",1040],["T_NS_SEPARATOR","\\",1040],["T_STRING","Magento",1040],["T_NS_SEPARATOR","\\",1040],["T_STRING","Framework",1040],["T_NS_SEPARATOR","\\",1040],["T_STRING","Exception",1040],["T_NS_SEPARATOR","\\",1040],["T_STRING","LocalizedException",1040],"(",["T_WHITESPACE","\n                    ",1040],["T_STRING","__",1041],"(",["T_WHITESPACE","\n                        ",1041],["T_CONSTANT_ENCAPSED_STRING","'Entity type model must be an instance of '",1042],["T_WHITESPACE","\n                        ",1042],".",["T_WHITESPACE"," ",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","Magento",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","CatalogImportExport",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","Model",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","Import",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","Product",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","Type",1043],["T_NS_SEPARATOR","\\",1043],["T_STRING","AbstractType",1043],["T_DOUBLE_COLON","::",1043],["T_CLASS","class",1043],["T_WHITESPACE","\n                    ",1043],")",["T_WHITESPACE","\n                ",1044],")",";",["T_WHITESPACE","\n            ",1045],"}",["T_WHITESPACE","\n            ",1046],["T_IF","if",1047],["T_WHITESPACE"," ",1047],"(",["T_VARIABLE","$model",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","isSuitable",1047],"(",")",")",["T_WHITESPACE"," ",1047],"{",["T_WHITESPACE","\n                ",1047],["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","_productTypeModels",1048],"[",["T_VARIABLE","$productTypeName",1048],"]",["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_VARIABLE","$model",1048],";",["T_WHITESPACE","\n            ",1048],"}",["T_WHITESPACE","\n            ",1049],["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","_fieldsMap",1050],["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_STRING","array_merge",1050],"(",["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","_fieldsMap",1050],",",["T_WHITESPACE"," ",1050],["T_VARIABLE","$model",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","getCustomFieldsMapping",1050],"(",")",")",";",["T_WHITESPACE","\n            ",1050],["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","_specialAttributes",1051],["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_STRING","array_merge",1051],"(",["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","_specialAttributes",1051],",",["T_WHITESPACE"," ",1051],["T_VARIABLE","$model",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","getParticularAttributes",1051],"(",")",")",";",["T_WHITESPACE","\n        ",1051],"}",["T_WHITESPACE","\n        ",1052],["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","_initErrorTemplates",1053],"(",")",";",["T_WHITESPACE","\n        ",1053],["T_COMMENT","\/\/ remove doubles\n",1054],["T_WHITESPACE","        ",1055],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_specialAttributes",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_STRING","array_unique",1055],"(",["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_specialAttributes",1055],")",";",["T_WHITESPACE","\n\n        ",1055],["T_RETURN","return",1057],["T_WHITESPACE"," ",1057],["T_VARIABLE","$this",1057],";",["T_WHITESPACE","\n    ",1057],"}",["T_WHITESPACE","\n\n    ",1058],["T_DOC_COMMENT","\/**\n     * Initialize Product error templates\n     *\/",1060],["T_WHITESPACE","\n    ",1062],["T_PROTECTED","protected",1063],["T_WHITESPACE"," ",1063],["T_FUNCTION","function",1063],["T_WHITESPACE"," ",1063],["T_STRING","_initErrorTemplates",1063],"(",")",["T_WHITESPACE","\n    ",1063],"{",["T_WHITESPACE","\n        ",1064],["T_FOREACH","foreach",1065],["T_WHITESPACE"," ",1065],"(",["T_VARIABLE","$this",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","_messageTemplates",1065],["T_WHITESPACE"," ",1065],["T_AS","as",1065],["T_WHITESPACE"," ",1065],["T_VARIABLE","$errorCode",1065],["T_WHITESPACE"," ",1065],["T_DOUBLE_ARROW","=>",1065],["T_WHITESPACE"," ",1065],["T_VARIABLE","$template",1065],")",["T_WHITESPACE"," ",1065],"{",["T_WHITESPACE","\n            ",1065],["T_VARIABLE","$this",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","addMessageTemplate",1066],"(",["T_VARIABLE","$errorCode",1066],",",["T_WHITESPACE"," ",1066],["T_VARIABLE","$template",1066],")",";",["T_WHITESPACE","\n        ",1066],"}",["T_WHITESPACE","\n    ",1067],"}",["T_WHITESPACE","\n\n    ",1068],["T_DOC_COMMENT","\/**\n     * Set valid attribute set and product type to rows with all scopes\n     * to ensure that existing products doesn't changed.\n     *\n     * @param array $rowData\n     * @return array\n     *\/",1070],["T_WHITESPACE","\n    ",1076],["T_PROTECTED","protected",1077],["T_WHITESPACE"," ",1077],["T_FUNCTION","function",1077],["T_WHITESPACE"," ",1077],["T_STRING","_prepareRowForDb",1077],"(",["T_ARRAY","array",1077],["T_WHITESPACE"," ",1077],["T_VARIABLE","$rowData",1077],")",["T_WHITESPACE","\n    ",1077],"{",["T_WHITESPACE","\n        ",1078],["T_VARIABLE","$rowData",1079],["T_WHITESPACE"," ",1079],"=",["T_WHITESPACE"," ",1079],["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","_customFieldsMapping",1079],"(",["T_VARIABLE","$rowData",1079],")",";",["T_WHITESPACE","\n\n        ",1079],["T_VARIABLE","$rowData",1081],["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],["T_STRING","parent",1081],["T_DOUBLE_COLON","::",1081],["T_STRING","_prepareRowForDb",1081],"(",["T_VARIABLE","$rowData",1081],")",";",["T_WHITESPACE","\n\n        ",1081],["T_STATIC","static",1083],["T_WHITESPACE"," ",1083],["T_VARIABLE","$lastSku",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_STRING","null",1083],";",["T_WHITESPACE","\n\n        ",1083],["T_IF","if",1085],["T_WHITESPACE"," ",1085],"(",["T_STRING","Import",1085],["T_DOUBLE_COLON","::",1085],["T_STRING","BEHAVIOR_DELETE",1085],["T_WHITESPACE"," ",1085],["T_IS_EQUAL","==",1085],["T_WHITESPACE"," ",1085],["T_VARIABLE","$this",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","getBehavior",1085],"(",")",")",["T_WHITESPACE"," ",1085],"{",["T_WHITESPACE","\n            ",1085],["T_RETURN","return",1086],["T_WHITESPACE"," ",1086],["T_VARIABLE","$rowData",1086],";",["T_WHITESPACE","\n        ",1086],"}",["T_WHITESPACE","\n\n        ",1087],["T_VARIABLE","$lastSku",1089],["T_WHITESPACE"," ",1089],"=",["T_WHITESPACE"," ",1089],["T_VARIABLE","$rowData",1089],"[",["T_STRING","self",1089],["T_DOUBLE_COLON","::",1089],["T_STRING","COL_SKU",1089],"]",";",["T_WHITESPACE","\n\n        ",1089],["T_IF","if",1091],["T_WHITESPACE"," ",1091],"(",["T_ISSET","isset",1091],"(",["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","_oldSku",1091],"[",["T_VARIABLE","$lastSku",1091],"]",")",")",["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n            ",1091],["T_VARIABLE","$newSku",1092],["T_WHITESPACE"," ",1092],"=",["T_WHITESPACE"," ",1092],["T_VARIABLE","$this",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","skuProcessor",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","getNewSku",1092],"(",["T_VARIABLE","$lastSku",1092],")",";",["T_WHITESPACE","\n            ",1092],["T_VARIABLE","$rowData",1093],"[",["T_STRING","self",1093],["T_DOUBLE_COLON","::",1093],["T_STRING","COL_ATTR_SET",1093],"]",["T_WHITESPACE"," ",1093],"=",["T_WHITESPACE"," ",1093],["T_VARIABLE","$newSku",1093],"[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_code'",1093],"]",";",["T_WHITESPACE","\n            ",1093],["T_VARIABLE","$rowData",1094],"[",["T_STRING","self",1094],["T_DOUBLE_COLON","::",1094],["T_STRING","COL_TYPE",1094],"]",["T_WHITESPACE"," ",1094],"=",["T_WHITESPACE"," ",1094],["T_VARIABLE","$newSku",1094],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",1094],"]",";",["T_WHITESPACE","\n        ",1094],"}",["T_WHITESPACE","\n\n        ",1095],["T_RETURN","return",1097],["T_WHITESPACE"," ",1097],["T_VARIABLE","$rowData",1097],";",["T_WHITESPACE","\n    ",1097],"}",["T_WHITESPACE","\n\n    ",1098],["T_DOC_COMMENT","\/**\n     * Gather and save information about product links.\n     * Must be called after ALL products saving done.\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",1100],["T_WHITESPACE","\n    ",1108],["T_PROTECTED","protected",1109],["T_WHITESPACE"," ",1109],["T_FUNCTION","function",1109],["T_WHITESPACE"," ",1109],["T_STRING","_saveLinks",1109],"(",")",["T_WHITESPACE","\n    ",1109],"{",["T_WHITESPACE","\n        ",1110],["T_VARIABLE","$resource",1111],["T_WHITESPACE"," ",1111],"=",["T_WHITESPACE"," ",1111],["T_VARIABLE","$this",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","_linkFactory",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","create",1111],"(",")",";",["T_WHITESPACE","\n        ",1111],["T_VARIABLE","$mainTable",1112],["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_VARIABLE","$resource",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","getMainTable",1112],"(",")",";",["T_WHITESPACE","\n        ",1112],["T_VARIABLE","$positionAttrId",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],"[","]",";",["T_WHITESPACE","\n        ",1113],["T_VARIABLE","$nextLinkId",1114],["T_WHITESPACE"," ",1114],"=",["T_WHITESPACE"," ",1114],["T_VARIABLE","$this",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","_resourceHelper",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","getNextAutoincrement",1114],"(",["T_VARIABLE","$mainTable",1114],")",";",["T_WHITESPACE","\n\n        ",1114],["T_COMMENT","\/\/ pre-load 'position' attributes ID for each link type once\n",1116],["T_WHITESPACE","        ",1117],["T_FOREACH","foreach",1117],["T_WHITESPACE"," ",1117],"(",["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","_linkNameToId",1117],["T_WHITESPACE"," ",1117],["T_AS","as",1117],["T_WHITESPACE"," ",1117],["T_VARIABLE","$linkName",1117],["T_WHITESPACE"," ",1117],["T_DOUBLE_ARROW","=>",1117],["T_WHITESPACE"," ",1117],["T_VARIABLE","$linkId",1117],")",["T_WHITESPACE"," ",1117],"{",["T_WHITESPACE","\n            ",1117],["T_VARIABLE","$select",1118],["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_VARIABLE","$this",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","_connection",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","select",1118],"(",")",["T_OBJECT_OPERATOR","->",1118],["T_STRING","from",1118],"(",["T_WHITESPACE","\n                ",1118],["T_VARIABLE","$resource",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","getTable",1119],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link_attribute'",1119],")",",",["T_WHITESPACE","\n                ",1119],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1120],["T_WHITESPACE"," ",1120],["T_DOUBLE_ARROW","=>",1120],["T_WHITESPACE"," ",1120],["T_CONSTANT_ENCAPSED_STRING","'product_link_attribute_id'",1120],"]",["T_WHITESPACE","\n            ",1120],")",["T_OBJECT_OPERATOR","->",1121],["T_STRING","where",1121],"(",["T_WHITESPACE","\n                ",1121],["T_CONSTANT_ENCAPSED_STRING","'link_type_id = :link_id AND product_link_attribute_code = :position'",1122],["T_WHITESPACE","\n            ",1122],")",";",["T_WHITESPACE","\n            ",1123],["T_VARIABLE","$bind",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],"[",["T_CONSTANT_ENCAPSED_STRING","':link_id'",1124],["T_WHITESPACE"," ",1124],["T_DOUBLE_ARROW","=>",1124],["T_WHITESPACE"," ",1124],["T_VARIABLE","$linkId",1124],",",["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","':position'",1124],["T_WHITESPACE"," ",1124],["T_DOUBLE_ARROW","=>",1124],["T_WHITESPACE"," ",1124],["T_CONSTANT_ENCAPSED_STRING","'position'",1124],"]",";",["T_WHITESPACE","\n            ",1124],["T_VARIABLE","$positionAttrId",1125],"[",["T_VARIABLE","$linkId",1125],"]",["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","_connection",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","fetchOne",1125],"(",["T_VARIABLE","$select",1125],",",["T_WHITESPACE"," ",1125],["T_VARIABLE","$bind",1125],")",";",["T_WHITESPACE","\n        ",1125],"}",["T_WHITESPACE","\n        ",1126],["T_WHILE","while",1127],["T_WHITESPACE"," ",1127],"(",["T_VARIABLE","$bunch",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","_dataSourceModel",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","getNextBunch",1127],"(",")",")",["T_WHITESPACE"," ",1127],"{",["T_WHITESPACE","\n            ",1127],["T_VARIABLE","$productIds",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],"[","]",";",["T_WHITESPACE","\n            ",1128],["T_VARIABLE","$linkRows",1129],["T_WHITESPACE"," ",1129],"=",["T_WHITESPACE"," ",1129],"[","]",";",["T_WHITESPACE","\n            ",1129],["T_VARIABLE","$positionRows",1130],["T_WHITESPACE"," ",1130],"=",["T_WHITESPACE"," ",1130],"[","]",";",["T_WHITESPACE","\n\n            ",1130],["T_FOREACH","foreach",1132],["T_WHITESPACE"," ",1132],"(",["T_VARIABLE","$bunch",1132],["T_WHITESPACE"," ",1132],["T_AS","as",1132],["T_WHITESPACE"," ",1132],["T_VARIABLE","$rowNum",1132],["T_WHITESPACE"," ",1132],["T_DOUBLE_ARROW","=>",1132],["T_WHITESPACE"," ",1132],["T_VARIABLE","$rowData",1132],")",["T_WHITESPACE"," ",1132],"{",["T_WHITESPACE","\n                ",1132],["T_IF","if",1133],["T_WHITESPACE"," ",1133],"(","!",["T_VARIABLE","$this",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","isRowAllowedToImport",1133],"(",["T_VARIABLE","$rowData",1133],",",["T_WHITESPACE"," ",1133],["T_VARIABLE","$rowNum",1133],")",")",["T_WHITESPACE"," ",1133],"{",["T_WHITESPACE","\n                    ",1133],["T_CONTINUE","continue",1134],";",["T_WHITESPACE","\n                ",1134],"}",["T_WHITESPACE","\n\n                ",1135],["T_VARIABLE","$sku",1137],["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_VARIABLE","$rowData",1137],"[",["T_STRING","self",1137],["T_DOUBLE_COLON","::",1137],["T_STRING","COL_SKU",1137],"]",";",["T_WHITESPACE","\n\n                ",1137],["T_VARIABLE","$productId",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_VARIABLE","$this",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","skuProcessor",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","getNewSku",1139],"(",["T_VARIABLE","$sku",1139],")","[",["T_VARIABLE","$this",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","getProductEntityLinkField",1139],"(",")","]",";",["T_WHITESPACE","\n                ",1139],["T_VARIABLE","$productLinkKeys",1140],["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],"[","]",";",["T_WHITESPACE","\n                ",1140],["T_VARIABLE","$select",1141],["T_WHITESPACE"," ",1141],"=",["T_WHITESPACE"," ",1141],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","_connection",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","select",1141],"(",")",["T_OBJECT_OPERATOR","->",1141],["T_STRING","from",1141],"(",["T_WHITESPACE","\n                    ",1141],["T_VARIABLE","$resource",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","getTable",1142],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_link'",1142],")",",",["T_WHITESPACE","\n                    ",1142],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1143],["T_WHITESPACE"," ",1143],["T_DOUBLE_ARROW","=>",1143],["T_WHITESPACE"," ",1143],["T_CONSTANT_ENCAPSED_STRING","'link_id'",1143],",",["T_WHITESPACE"," ",1143],["T_CONSTANT_ENCAPSED_STRING","'linked_id'",1143],["T_WHITESPACE"," ",1143],["T_DOUBLE_ARROW","=>",1143],["T_WHITESPACE"," ",1143],["T_CONSTANT_ENCAPSED_STRING","'linked_product_id'",1143],",",["T_WHITESPACE"," ",1143],["T_CONSTANT_ENCAPSED_STRING","'link_type_id'",1143],["T_WHITESPACE"," ",1143],["T_DOUBLE_ARROW","=>",1143],["T_WHITESPACE"," ",1143],["T_CONSTANT_ENCAPSED_STRING","'link_type_id'",1143],"]",["T_WHITESPACE","\n                ",1143],")",["T_OBJECT_OPERATOR","->",1144],["T_STRING","where",1144],"(",["T_WHITESPACE","\n                    ",1144],["T_CONSTANT_ENCAPSED_STRING","'product_id = :product_id'",1145],["T_WHITESPACE","\n                ",1145],")",";",["T_WHITESPACE","\n                ",1146],["T_VARIABLE","$bind",1147],["T_WHITESPACE"," ",1147],"=",["T_WHITESPACE"," ",1147],"[",["T_CONSTANT_ENCAPSED_STRING","':product_id'",1147],["T_WHITESPACE"," ",1147],["T_DOUBLE_ARROW","=>",1147],["T_WHITESPACE"," ",1147],["T_VARIABLE","$productId",1147],"]",";",["T_WHITESPACE","\n                ",1147],["T_FOREACH","foreach",1148],["T_WHITESPACE"," ",1148],"(",["T_VARIABLE","$this",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","_connection",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","fetchAll",1148],"(",["T_VARIABLE","$select",1148],",",["T_WHITESPACE"," ",1148],["T_VARIABLE","$bind",1148],")",["T_WHITESPACE"," ",1148],["T_AS","as",1148],["T_WHITESPACE"," ",1148],["T_VARIABLE","$linkData",1148],")",["T_WHITESPACE"," ",1148],"{",["T_WHITESPACE","\n                    ",1148],["T_VARIABLE","$linkKey",1149],["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],"\"",["T_CURLY_OPEN","{",1149],["T_VARIABLE","$productId",1149],"}",["T_ENCAPSED_AND_WHITESPACE","-",1149],["T_CURLY_OPEN","{",1149],["T_VARIABLE","$linkData",1149],"[",["T_CONSTANT_ENCAPSED_STRING","'linked_id'",1149],"]","}",["T_ENCAPSED_AND_WHITESPACE","-",1149],["T_CURLY_OPEN","{",1149],["T_VARIABLE","$linkData",1149],"[",["T_CONSTANT_ENCAPSED_STRING","'link_type_id'",1149],"]","}","\"",";",["T_WHITESPACE","\n                    ",1149],["T_VARIABLE","$productLinkKeys",1150],"[",["T_VARIABLE","$linkKey",1150],"]",["T_WHITESPACE"," ",1150],"=",["T_WHITESPACE"," ",1150],["T_VARIABLE","$linkData",1150],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1150],"]",";",["T_WHITESPACE","\n                ",1150],"}",["T_WHITESPACE","\n                ",1151],["T_FOREACH","foreach",1152],["T_WHITESPACE"," ",1152],"(",["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","_linkNameToId",1152],["T_WHITESPACE"," ",1152],["T_AS","as",1152],["T_WHITESPACE"," ",1152],["T_VARIABLE","$linkName",1152],["T_WHITESPACE"," ",1152],["T_DOUBLE_ARROW","=>",1152],["T_WHITESPACE"," ",1152],["T_VARIABLE","$linkId",1152],")",["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n                    ",1152],["T_VARIABLE","$productIds",1153],"[","]",["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_VARIABLE","$productId",1153],";",["T_WHITESPACE","\n                    ",1153],["T_IF","if",1154],["T_WHITESPACE"," ",1154],"(",["T_ISSET","isset",1154],"(",["T_VARIABLE","$rowData",1154],"[",["T_VARIABLE","$linkName",1154],["T_WHITESPACE"," ",1154],".",["T_WHITESPACE"," ",1154],["T_CONSTANT_ENCAPSED_STRING","'sku'",1154],"]",")",")",["T_WHITESPACE"," ",1154],"{",["T_WHITESPACE","\n                        ",1154],["T_VARIABLE","$linkSkus",1155],["T_WHITESPACE"," ",1155],"=",["T_WHITESPACE"," ",1155],["T_STRING","explode",1155],"(",["T_VARIABLE","$this",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","getMultipleValueSeparator",1155],"(",")",",",["T_WHITESPACE"," ",1155],["T_VARIABLE","$rowData",1155],"[",["T_VARIABLE","$linkName",1155],["T_WHITESPACE"," ",1155],".",["T_WHITESPACE"," ",1155],["T_CONSTANT_ENCAPSED_STRING","'sku'",1155],"]",")",";",["T_WHITESPACE","\n                        ",1155],["T_VARIABLE","$linkPositions",1156],["T_WHITESPACE"," ",1156],"=",["T_WHITESPACE"," ",1156],"!",["T_EMPTY","empty",1156],"(",["T_VARIABLE","$rowData",1156],"[",["T_VARIABLE","$linkName",1156],["T_WHITESPACE"," ",1156],".",["T_WHITESPACE"," ",1156],["T_CONSTANT_ENCAPSED_STRING","'position'",1156],"]",")",["T_WHITESPACE","\n                            ",1156],"?",["T_WHITESPACE"," ",1157],["T_STRING","explode",1157],"(",["T_VARIABLE","$this",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","getMultipleValueSeparator",1157],"(",")",",",["T_WHITESPACE"," ",1157],["T_VARIABLE","$rowData",1157],"[",["T_VARIABLE","$linkName",1157],["T_WHITESPACE"," ",1157],".",["T_WHITESPACE"," ",1157],["T_CONSTANT_ENCAPSED_STRING","'position'",1157],"]",")",["T_WHITESPACE","\n                            ",1157],":",["T_WHITESPACE"," ",1158],"[","]",";",["T_WHITESPACE","\n                        ",1158],["T_FOREACH","foreach",1159],["T_WHITESPACE"," ",1159],"(",["T_VARIABLE","$linkSkus",1159],["T_WHITESPACE"," ",1159],["T_AS","as",1159],["T_WHITESPACE"," ",1159],["T_VARIABLE","$linkedKey",1159],["T_WHITESPACE"," ",1159],["T_DOUBLE_ARROW","=>",1159],["T_WHITESPACE"," ",1159],["T_VARIABLE","$linkedSku",1159],")",["T_WHITESPACE"," ",1159],"{",["T_WHITESPACE","\n                            ",1159],["T_VARIABLE","$linkedSku",1160],["T_WHITESPACE"," ",1160],"=",["T_WHITESPACE"," ",1160],["T_STRING","trim",1160],"(",["T_VARIABLE","$linkedSku",1160],")",";",["T_WHITESPACE","\n                            ",1160],["T_IF","if",1161],["T_WHITESPACE"," ",1161],"(","(","!",["T_STRING","is_null",1161],"(",["T_WHITESPACE","\n                                        ",1161],["T_VARIABLE","$this",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","skuProcessor",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","getNewSku",1162],"(",["T_VARIABLE","$linkedSku",1162],")",["T_WHITESPACE","\n                                    ",1162],")",["T_WHITESPACE"," ",1163],["T_BOOLEAN_OR","||",1163],["T_WHITESPACE"," ",1163],["T_ISSET","isset",1163],"(",["T_WHITESPACE","\n                                        ",1163],["T_VARIABLE","$this",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","_oldSku",1164],"[",["T_VARIABLE","$linkedSku",1164],"]",["T_WHITESPACE","\n                                    ",1164],")",")",["T_WHITESPACE"," ",1165],["T_BOOLEAN_AND","&&",1165],["T_WHITESPACE"," ",1165],["T_VARIABLE","$linkedSku",1165],["T_WHITESPACE"," ",1165],["T_IS_NOT_EQUAL","!=",1165],["T_WHITESPACE"," ",1165],["T_VARIABLE","$sku",1165],["T_WHITESPACE","\n                            ",1165],")",["T_WHITESPACE"," ",1166],"{",["T_WHITESPACE","\n                                ",1166],["T_VARIABLE","$newSku",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","skuProcessor",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","getNewSku",1167],"(",["T_VARIABLE","$linkedSku",1167],")",";",["T_WHITESPACE","\n                                ",1167],["T_IF","if",1168],["T_WHITESPACE"," ",1168],"(","!",["T_EMPTY","empty",1168],"(",["T_VARIABLE","$newSku",1168],")",")",["T_WHITESPACE"," ",1168],"{",["T_WHITESPACE","\n                                    ",1168],["T_VARIABLE","$linkedId",1169],["T_WHITESPACE"," ",1169],"=",["T_WHITESPACE"," ",1169],["T_VARIABLE","$newSku",1169],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1169],"]",";",["T_WHITESPACE","\n                                ",1169],"}",["T_WHITESPACE"," ",1170],["T_ELSE","else",1170],["T_WHITESPACE"," ",1170],"{",["T_WHITESPACE","\n                                    ",1170],["T_VARIABLE","$linkedId",1171],["T_WHITESPACE"," ",1171],"=",["T_WHITESPACE"," ",1171],["T_VARIABLE","$this",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","_oldSku",1171],"[",["T_VARIABLE","$linkedSku",1171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1171],"]",";",["T_WHITESPACE","\n                                ",1171],"}",["T_WHITESPACE","\n\n                                ",1172],["T_IF","if",1174],["T_WHITESPACE"," ",1174],"(",["T_VARIABLE","$linkedId",1174],["T_WHITESPACE"," ",1174],["T_IS_EQUAL","==",1174],["T_WHITESPACE"," ",1174],["T_STRING","null",1174],")",["T_WHITESPACE"," ",1174],"{",["T_WHITESPACE","\n                                    ",1174],["T_COMMENT","\/\/ Import file links to a SKU which is skipped for some reason,\n",1175],["T_WHITESPACE","                                    ",1176],["T_COMMENT","\/\/ which leads to a \"NULL\"\n",1176],["T_WHITESPACE","                                    ",1177],["T_COMMENT","\/\/ link causing fatal errors.\n",1177],["T_WHITESPACE","                                    ",1178],["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","_logger",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","critical",1178],"(",["T_WHITESPACE","\n                                        ",1178],["T_NEW","new",1179],["T_WHITESPACE"," ",1179],["T_NS_SEPARATOR","\\",1179],["T_STRING","Exception",1179],"(",["T_WHITESPACE","\n                                            ",1179],["T_STRING","sprintf",1180],"(",["T_WHITESPACE","\n                                                ",1180],["T_CONSTANT_ENCAPSED_STRING","'WARNING: Orphaned link skipped: From SKU %s (ID %d) to SKU %s, '",1181],["T_WHITESPACE"," ",1181],".",["T_WHITESPACE","\n                                                ",1181],["T_CONSTANT_ENCAPSED_STRING","'Link type id: %d'",1182],",",["T_WHITESPACE","\n                                                ",1182],["T_VARIABLE","$sku",1183],",",["T_WHITESPACE","\n                                                ",1183],["T_VARIABLE","$productId",1184],",",["T_WHITESPACE","\n                                                ",1184],["T_VARIABLE","$linkedSku",1185],",",["T_WHITESPACE","\n                                                ",1185],["T_VARIABLE","$linkId",1186],["T_WHITESPACE","\n                                            ",1186],")",["T_WHITESPACE","\n                                        ",1187],")",["T_WHITESPACE","\n                                    ",1188],")",";",["T_WHITESPACE","\n                                    ",1189],["T_CONTINUE","continue",1190],";",["T_WHITESPACE","\n                                ",1190],"}",["T_WHITESPACE","\n\n                                ",1191],["T_VARIABLE","$linkKey",1193],["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],"\"",["T_CURLY_OPEN","{",1193],["T_VARIABLE","$productId",1193],"}",["T_ENCAPSED_AND_WHITESPACE","-",1193],["T_CURLY_OPEN","{",1193],["T_VARIABLE","$linkedId",1193],"}",["T_ENCAPSED_AND_WHITESPACE","-",1193],["T_CURLY_OPEN","{",1193],["T_VARIABLE","$linkId",1193],"}","\"",";",["T_WHITESPACE","\n                                ",1193],["T_IF","if",1194],["T_WHITESPACE"," ",1194],"(",["T_EMPTY","empty",1194],"(",["T_VARIABLE","$productLinkKeys",1194],"[",["T_VARIABLE","$linkKey",1194],"]",")",")",["T_WHITESPACE"," ",1194],"{",["T_WHITESPACE","\n                                    ",1194],["T_VARIABLE","$productLinkKeys",1195],"[",["T_VARIABLE","$linkKey",1195],"]",["T_WHITESPACE"," ",1195],"=",["T_WHITESPACE"," ",1195],["T_VARIABLE","$nextLinkId",1195],";",["T_WHITESPACE","\n                                ",1195],"}",["T_WHITESPACE","\n                                ",1196],["T_IF","if",1197],["T_WHITESPACE"," ",1197],"(","!",["T_ISSET","isset",1197],"(",["T_VARIABLE","$linkRows",1197],"[",["T_VARIABLE","$linkKey",1197],"]",")",")",["T_WHITESPACE"," ",1197],"{",["T_WHITESPACE","\n                                    ",1197],["T_VARIABLE","$linkRows",1198],"[",["T_VARIABLE","$linkKey",1198],"]",["T_WHITESPACE"," ",1198],"=",["T_WHITESPACE"," ",1198],"[",["T_WHITESPACE","\n                                        ",1198],["T_CONSTANT_ENCAPSED_STRING","'link_id'",1199],["T_WHITESPACE"," ",1199],["T_DOUBLE_ARROW","=>",1199],["T_WHITESPACE"," ",1199],["T_VARIABLE","$productLinkKeys",1199],"[",["T_VARIABLE","$linkKey",1199],"]",",",["T_WHITESPACE","\n                                        ",1199],["T_CONSTANT_ENCAPSED_STRING","'product_id'",1200],["T_WHITESPACE"," ",1200],["T_DOUBLE_ARROW","=>",1200],["T_WHITESPACE"," ",1200],["T_VARIABLE","$productId",1200],",",["T_WHITESPACE","\n                                        ",1200],["T_CONSTANT_ENCAPSED_STRING","'linked_product_id'",1201],["T_WHITESPACE"," ",1201],["T_DOUBLE_ARROW","=>",1201],["T_WHITESPACE"," ",1201],["T_VARIABLE","$linkedId",1201],",",["T_WHITESPACE","\n                                        ",1201],["T_CONSTANT_ENCAPSED_STRING","'link_type_id'",1202],["T_WHITESPACE"," ",1202],["T_DOUBLE_ARROW","=>",1202],["T_WHITESPACE"," ",1202],["T_VARIABLE","$linkId",1202],",",["T_WHITESPACE","\n                                    ",1202],"]",";",["T_WHITESPACE","\n                                    ",1203],["T_IF","if",1204],["T_WHITESPACE"," ",1204],"(","!",["T_EMPTY","empty",1204],"(",["T_VARIABLE","$linkPositions",1204],"[",["T_VARIABLE","$linkedKey",1204],"]",")",")",["T_WHITESPACE"," ",1204],"{",["T_WHITESPACE","\n                                        ",1204],["T_VARIABLE","$positionRows",1205],"[","]",["T_WHITESPACE"," ",1205],"=",["T_WHITESPACE"," ",1205],"[",["T_WHITESPACE","\n                                            ",1205],["T_CONSTANT_ENCAPSED_STRING","'link_id'",1206],["T_WHITESPACE"," ",1206],["T_DOUBLE_ARROW","=>",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$productLinkKeys",1206],"[",["T_VARIABLE","$linkKey",1206],"]",",",["T_WHITESPACE","\n                                            ",1206],["T_CONSTANT_ENCAPSED_STRING","'product_link_attribute_id'",1207],["T_WHITESPACE"," ",1207],["T_DOUBLE_ARROW","=>",1207],["T_WHITESPACE"," ",1207],["T_VARIABLE","$positionAttrId",1207],"[",["T_VARIABLE","$linkId",1207],"]",",",["T_WHITESPACE","\n                                            ",1207],["T_CONSTANT_ENCAPSED_STRING","'value'",1208],["T_WHITESPACE"," ",1208],["T_DOUBLE_ARROW","=>",1208],["T_WHITESPACE"," ",1208],["T_VARIABLE","$linkPositions",1208],"[",["T_VARIABLE","$linkedKey",1208],"]",",",["T_WHITESPACE","\n                                        ",1208],"]",";",["T_WHITESPACE","\n                                    ",1209],"}",["T_WHITESPACE","\n                                    ",1210],["T_VARIABLE","$nextLinkId",1211],["T_INC","++",1211],";",["T_WHITESPACE","\n                                ",1211],"}",["T_WHITESPACE","\n                            ",1212],"}",["T_WHITESPACE","\n                        ",1213],"}",["T_WHITESPACE","\n                    ",1214],"}",["T_WHITESPACE","\n                ",1215],"}",["T_WHITESPACE","\n            ",1216],"}",["T_WHITESPACE","\n            ",1217],["T_IF","if",1218],["T_WHITESPACE"," ",1218],"(",["T_STRING","Import",1218],["T_DOUBLE_COLON","::",1218],["T_STRING","BEHAVIOR_APPEND",1218],["T_WHITESPACE"," ",1218],["T_IS_NOT_EQUAL","!=",1218],["T_WHITESPACE"," ",1218],["T_VARIABLE","$this",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","getBehavior",1218],"(",")",["T_WHITESPACE"," ",1218],["T_BOOLEAN_AND","&&",1218],["T_WHITESPACE"," ",1218],["T_VARIABLE","$productIds",1218],")",["T_WHITESPACE"," ",1218],"{",["T_WHITESPACE","\n                ",1218],["T_VARIABLE","$this",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","_connection",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","delete",1219],"(",["T_WHITESPACE","\n                    ",1219],["T_VARIABLE","$mainTable",1220],",",["T_WHITESPACE","\n                    ",1220],["T_VARIABLE","$this",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","_connection",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","quoteInto",1221],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id IN (?)'",1221],",",["T_WHITESPACE"," ",1221],["T_STRING","array_unique",1221],"(",["T_VARIABLE","$productIds",1221],")",")",["T_WHITESPACE","\n                ",1221],")",";",["T_WHITESPACE","\n            ",1222],"}",["T_WHITESPACE","\n            ",1223],["T_IF","if",1224],["T_WHITESPACE"," ",1224],"(",["T_VARIABLE","$linkRows",1224],")",["T_WHITESPACE"," ",1224],"{",["T_WHITESPACE","\n                ",1224],["T_VARIABLE","$this",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","_connection",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","insertOnDuplicate",1225],"(",["T_VARIABLE","$mainTable",1225],",",["T_WHITESPACE"," ",1225],["T_VARIABLE","$linkRows",1225],",",["T_WHITESPACE"," ",1225],"[",["T_CONSTANT_ENCAPSED_STRING","'link_id'",1225],"]",")",";",["T_WHITESPACE","\n            ",1225],"}",["T_WHITESPACE","\n            ",1226],["T_IF","if",1227],["T_WHITESPACE"," ",1227],"(",["T_VARIABLE","$positionRows",1227],")",["T_WHITESPACE"," ",1227],"{",["T_WHITESPACE","\n                ",1227],["T_COMMENT","\/\/ process linked product positions\n",1228],["T_WHITESPACE","                ",1229],["T_VARIABLE","$this",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","_connection",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","insertOnDuplicate",1229],"(",["T_WHITESPACE","\n                    ",1229],["T_VARIABLE","$resource",1230],["T_OBJECT_OPERATOR","->",1230],["T_STRING","getAttributeTypeTable",1230],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",1230],")",",",["T_WHITESPACE","\n                    ",1230],["T_VARIABLE","$positionRows",1231],",",["T_WHITESPACE"," ",1231],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1231],"]",["T_WHITESPACE","\n                ",1231],")",";",["T_WHITESPACE","\n            ",1232],"}",["T_WHITESPACE","\n        ",1233],"}",["T_WHITESPACE","\n        ",1234],["T_RETURN","return",1235],["T_WHITESPACE"," ",1235],["T_VARIABLE","$this",1235],";",["T_WHITESPACE","\n    ",1235],"}",["T_WHITESPACE","\n\n    ",1236],["T_DOC_COMMENT","\/**\n     * Save product attributes.\n     *\n     * @param array $attributesData\n     * @return $this\n     *\/",1238],["T_WHITESPACE","\n    ",1243],["T_PROTECTED","protected",1244],["T_WHITESPACE"," ",1244],["T_FUNCTION","function",1244],["T_WHITESPACE"," ",1244],["T_STRING","_saveProductAttributes",1244],"(",["T_ARRAY","array",1244],["T_WHITESPACE"," ",1244],["T_VARIABLE","$attributesData",1244],")",["T_WHITESPACE","\n    ",1244],"{",["T_WHITESPACE","\n        ",1245],["T_FOREACH","foreach",1246],["T_WHITESPACE"," ",1246],"(",["T_VARIABLE","$attributesData",1246],["T_WHITESPACE"," ",1246],["T_AS","as",1246],["T_WHITESPACE"," ",1246],["T_VARIABLE","$tableName",1246],["T_WHITESPACE"," ",1246],["T_DOUBLE_ARROW","=>",1246],["T_WHITESPACE"," ",1246],["T_VARIABLE","$skuData",1246],")",["T_WHITESPACE"," ",1246],"{",["T_WHITESPACE","\n            ",1246],["T_VARIABLE","$tableData",1247],["T_WHITESPACE"," ",1247],"=",["T_WHITESPACE"," ",1247],"[","]",";",["T_WHITESPACE","\n            ",1247],["T_FOREACH","foreach",1248],["T_WHITESPACE"," ",1248],"(",["T_VARIABLE","$skuData",1248],["T_WHITESPACE"," ",1248],["T_AS","as",1248],["T_WHITESPACE"," ",1248],["T_VARIABLE","$sku",1248],["T_WHITESPACE"," ",1248],["T_DOUBLE_ARROW","=>",1248],["T_WHITESPACE"," ",1248],["T_VARIABLE","$attributes",1248],")",["T_WHITESPACE"," ",1248],"{",["T_WHITESPACE","\n                ",1248],["T_VARIABLE","$linkId",1249],["T_WHITESPACE"," ",1249],"=",["T_WHITESPACE"," ",1249],["T_VARIABLE","$this",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","_connection",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","fetchOne",1249],"(",["T_WHITESPACE","\n                    ",1249],["T_VARIABLE","$this",1250],["T_OBJECT_OPERATOR","->",1250],["T_STRING","_connection",1250],["T_OBJECT_OPERATOR","->",1250],["T_STRING","select",1250],"(",")",["T_WHITESPACE","\n                        ",1250],["T_OBJECT_OPERATOR","->",1251],["T_STRING","from",1251],"(",["T_VARIABLE","$this",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","getResource",1251],"(",")",["T_OBJECT_OPERATOR","->",1251],["T_STRING","getTable",1251],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",1251],")",")",["T_WHITESPACE","\n                        ",1251],["T_OBJECT_OPERATOR","->",1252],["T_STRING","where",1252],"(",["T_CONSTANT_ENCAPSED_STRING","'sku = ?'",1252],",",["T_WHITESPACE"," ",1252],["T_VARIABLE","$sku",1252],")",["T_WHITESPACE","\n                        ",1252],["T_OBJECT_OPERATOR","->",1253],["T_STRING","columns",1253],"(",["T_VARIABLE","$this",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","getProductEntityLinkField",1253],"(",")",")",["T_WHITESPACE","\n                ",1253],")",";",["T_WHITESPACE","\n\n                ",1254],["T_FOREACH","foreach",1256],["T_WHITESPACE"," ",1256],"(",["T_VARIABLE","$attributes",1256],["T_WHITESPACE"," ",1256],["T_AS","as",1256],["T_WHITESPACE"," ",1256],["T_VARIABLE","$attributeId",1256],["T_WHITESPACE"," ",1256],["T_DOUBLE_ARROW","=>",1256],["T_WHITESPACE"," ",1256],["T_VARIABLE","$storeValues",1256],")",["T_WHITESPACE"," ",1256],"{",["T_WHITESPACE","\n                    ",1256],["T_FOREACH","foreach",1257],["T_WHITESPACE"," ",1257],"(",["T_VARIABLE","$storeValues",1257],["T_WHITESPACE"," ",1257],["T_AS","as",1257],["T_WHITESPACE"," ",1257],["T_VARIABLE","$storeId",1257],["T_WHITESPACE"," ",1257],["T_DOUBLE_ARROW","=>",1257],["T_WHITESPACE"," ",1257],["T_VARIABLE","$storeValue",1257],")",["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n                        ",1257],["T_VARIABLE","$tableData",1258],"[","]",["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],"[",["T_WHITESPACE","\n                            ",1258],["T_VARIABLE","$this",1259],["T_OBJECT_OPERATOR","->",1259],["T_STRING","getProductEntityLinkField",1259],"(",")",["T_WHITESPACE"," ",1259],["T_DOUBLE_ARROW","=>",1259],["T_WHITESPACE"," ",1259],["T_VARIABLE","$linkId",1259],",",["T_WHITESPACE","\n                            ",1259],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1260],["T_WHITESPACE"," ",1260],["T_DOUBLE_ARROW","=>",1260],["T_WHITESPACE"," ",1260],["T_VARIABLE","$attributeId",1260],",",["T_WHITESPACE","\n                            ",1260],["T_CONSTANT_ENCAPSED_STRING","'store_id'",1261],["T_WHITESPACE"," ",1261],["T_DOUBLE_ARROW","=>",1261],["T_WHITESPACE"," ",1261],["T_VARIABLE","$storeId",1261],",",["T_WHITESPACE","\n                            ",1261],["T_CONSTANT_ENCAPSED_STRING","'value'",1262],["T_WHITESPACE"," ",1262],["T_DOUBLE_ARROW","=>",1262],["T_WHITESPACE"," ",1262],["T_VARIABLE","$storeValue",1262],",",["T_WHITESPACE","\n                        ",1262],"]",";",["T_WHITESPACE","\n                    ",1263],"}",["T_WHITESPACE","\n                ",1264],"}",["T_WHITESPACE","\n            ",1265],"}",["T_WHITESPACE","\n            ",1266],["T_VARIABLE","$this",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","_connection",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","insertOnDuplicate",1267],"(",["T_VARIABLE","$tableName",1267],",",["T_WHITESPACE"," ",1267],["T_VARIABLE","$tableData",1267],",",["T_WHITESPACE"," ",1267],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1267],"]",")",";",["T_WHITESPACE","\n        ",1267],"}",["T_WHITESPACE","\n        ",1268],["T_RETURN","return",1269],["T_WHITESPACE"," ",1269],["T_VARIABLE","$this",1269],";",["T_WHITESPACE","\n    ",1269],"}",["T_WHITESPACE","\n\n    ",1270],["T_DOC_COMMENT","\/**\n     * Save product categories.\n     *\n     * @param array $categoriesData\n     * @return $this\n     *\/",1272],["T_WHITESPACE","\n    ",1277],["T_PROTECTED","protected",1278],["T_WHITESPACE"," ",1278],["T_FUNCTION","function",1278],["T_WHITESPACE"," ",1278],["T_STRING","_saveProductCategories",1278],"(",["T_ARRAY","array",1278],["T_WHITESPACE"," ",1278],["T_VARIABLE","$categoriesData",1278],")",["T_WHITESPACE","\n    ",1278],"{",["T_WHITESPACE","\n        ",1279],["T_STATIC","static",1280],["T_WHITESPACE"," ",1280],["T_VARIABLE","$tableName",1280],["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_STRING","null",1280],";",["T_WHITESPACE","\n\n        ",1280],["T_IF","if",1282],["T_WHITESPACE"," ",1282],"(","!",["T_VARIABLE","$tableName",1282],")",["T_WHITESPACE"," ",1282],"{",["T_WHITESPACE","\n            ",1282],["T_VARIABLE","$tableName",1283],["T_WHITESPACE"," ",1283],"=",["T_WHITESPACE"," ",1283],["T_VARIABLE","$this",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","_resourceFactory",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","create",1283],"(",")",["T_OBJECT_OPERATOR","->",1283],["T_STRING","getProductCategoryTable",1283],"(",")",";",["T_WHITESPACE","\n        ",1283],"}",["T_WHITESPACE","\n        ",1284],["T_IF","if",1285],["T_WHITESPACE"," ",1285],"(",["T_VARIABLE","$categoriesData",1285],")",["T_WHITESPACE"," ",1285],"{",["T_WHITESPACE","\n            ",1285],["T_VARIABLE","$categoriesIn",1286],["T_WHITESPACE"," ",1286],"=",["T_WHITESPACE"," ",1286],"[","]",";",["T_WHITESPACE","\n            ",1286],["T_VARIABLE","$delProductId",1287],["T_WHITESPACE"," ",1287],"=",["T_WHITESPACE"," ",1287],"[","]",";",["T_WHITESPACE","\n\n            ",1287],["T_FOREACH","foreach",1289],["T_WHITESPACE"," ",1289],"(",["T_VARIABLE","$categoriesData",1289],["T_WHITESPACE"," ",1289],["T_AS","as",1289],["T_WHITESPACE"," ",1289],["T_VARIABLE","$delSku",1289],["T_WHITESPACE"," ",1289],["T_DOUBLE_ARROW","=>",1289],["T_WHITESPACE"," ",1289],["T_VARIABLE","$categories",1289],")",["T_WHITESPACE"," ",1289],"{",["T_WHITESPACE","\n                ",1289],["T_VARIABLE","$productId",1290],["T_WHITESPACE"," ",1290],"=",["T_WHITESPACE"," ",1290],["T_VARIABLE","$this",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","skuProcessor",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","getNewSku",1290],"(",["T_VARIABLE","$delSku",1290],")","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1290],"]",";",["T_WHITESPACE","\n                ",1290],["T_VARIABLE","$delProductId",1291],"[","]",["T_WHITESPACE"," ",1291],"=",["T_WHITESPACE"," ",1291],["T_VARIABLE","$productId",1291],";",["T_WHITESPACE","\n\n                ",1291],["T_FOREACH","foreach",1293],["T_WHITESPACE"," ",1293],"(",["T_STRING","array_keys",1293],"(",["T_VARIABLE","$categories",1293],")",["T_WHITESPACE"," ",1293],["T_AS","as",1293],["T_WHITESPACE"," ",1293],["T_VARIABLE","$categoryId",1293],")",["T_WHITESPACE"," ",1293],"{",["T_WHITESPACE","\n                    ",1293],["T_VARIABLE","$categoriesIn",1294],"[","]",["T_WHITESPACE"," ",1294],"=",["T_WHITESPACE"," ",1294],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1294],["T_WHITESPACE"," ",1294],["T_DOUBLE_ARROW","=>",1294],["T_WHITESPACE"," ",1294],["T_VARIABLE","$productId",1294],",",["T_WHITESPACE"," ",1294],["T_CONSTANT_ENCAPSED_STRING","'category_id'",1294],["T_WHITESPACE"," ",1294],["T_DOUBLE_ARROW","=>",1294],["T_WHITESPACE"," ",1294],["T_VARIABLE","$categoryId",1294],",",["T_WHITESPACE"," ",1294],["T_CONSTANT_ENCAPSED_STRING","'position'",1294],["T_WHITESPACE"," ",1294],["T_DOUBLE_ARROW","=>",1294],["T_WHITESPACE"," ",1294],["T_LNUMBER","1",1294],"]",";",["T_WHITESPACE","\n                ",1294],"}",["T_WHITESPACE","\n            ",1295],"}",["T_WHITESPACE","\n            ",1296],["T_IF","if",1297],["T_WHITESPACE"," ",1297],"(",["T_STRING","Import",1297],["T_DOUBLE_COLON","::",1297],["T_STRING","BEHAVIOR_APPEND",1297],["T_WHITESPACE"," ",1297],["T_IS_NOT_EQUAL","!=",1297],["T_WHITESPACE"," ",1297],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","getBehavior",1297],"(",")",")",["T_WHITESPACE"," ",1297],"{",["T_WHITESPACE","\n                ",1297],["T_VARIABLE","$this",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","_connection",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","delete",1298],"(",["T_WHITESPACE","\n                    ",1298],["T_VARIABLE","$tableName",1299],",",["T_WHITESPACE","\n                    ",1299],["T_VARIABLE","$this",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","_connection",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","quoteInto",1300],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id IN (?)'",1300],",",["T_WHITESPACE"," ",1300],["T_VARIABLE","$delProductId",1300],")",["T_WHITESPACE","\n                ",1300],")",";",["T_WHITESPACE","\n            ",1301],"}",["T_WHITESPACE","\n            ",1302],["T_IF","if",1303],["T_WHITESPACE"," ",1303],"(",["T_VARIABLE","$categoriesIn",1303],")",["T_WHITESPACE"," ",1303],"{",["T_WHITESPACE","\n                ",1303],["T_VARIABLE","$this",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","_connection",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","insertOnDuplicate",1304],"(",["T_VARIABLE","$tableName",1304],",",["T_WHITESPACE"," ",1304],["T_VARIABLE","$categoriesIn",1304],",",["T_WHITESPACE"," ",1304],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1304],",",["T_WHITESPACE"," ",1304],["T_CONSTANT_ENCAPSED_STRING","'category_id'",1304],"]",")",";",["T_WHITESPACE","\n            ",1304],"}",["T_WHITESPACE","\n        ",1305],"}",["T_WHITESPACE","\n        ",1306],["T_RETURN","return",1307],["T_WHITESPACE"," ",1307],["T_VARIABLE","$this",1307],";",["T_WHITESPACE","\n    ",1307],"}",["T_WHITESPACE","\n\n    ",1308],["T_DOC_COMMENT","\/**\n     * Update and insert data in entity table.\n     *\n     * @param array $entityRowsIn Row for insert\n     * @param array $entityRowsUp Row for update\n     * @return $this\n     *\/",1310],["T_WHITESPACE","\n    ",1316],["T_PUBLIC","public",1317],["T_WHITESPACE"," ",1317],["T_FUNCTION","function",1317],["T_WHITESPACE"," ",1317],["T_STRING","saveProductEntity",1317],"(",["T_ARRAY","array",1317],["T_WHITESPACE"," ",1317],["T_VARIABLE","$entityRowsIn",1317],",",["T_WHITESPACE"," ",1317],["T_ARRAY","array",1317],["T_WHITESPACE"," ",1317],["T_VARIABLE","$entityRowsUp",1317],")",["T_WHITESPACE","\n    ",1317],"{",["T_WHITESPACE","\n        ",1318],["T_STATIC","static",1319],["T_WHITESPACE"," ",1319],["T_VARIABLE","$entityTable",1319],["T_WHITESPACE"," ",1319],"=",["T_WHITESPACE"," ",1319],["T_STRING","null",1319],";",["T_WHITESPACE","\n        ",1319],["T_VARIABLE","$this",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","countItemsCreated",1320],["T_WHITESPACE"," ",1320],["T_PLUS_EQUAL","+=",1320],["T_WHITESPACE"," ",1320],["T_STRING","count",1320],"(",["T_VARIABLE","$entityRowsIn",1320],")",";",["T_WHITESPACE","\n        ",1320],["T_VARIABLE","$this",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","countItemsUpdated",1321],["T_WHITESPACE"," ",1321],["T_PLUS_EQUAL","+=",1321],["T_WHITESPACE"," ",1321],["T_STRING","count",1321],"(",["T_VARIABLE","$entityRowsUp",1321],")",";",["T_WHITESPACE","\n\n        ",1321],["T_IF","if",1323],["T_WHITESPACE"," ",1323],"(","!",["T_VARIABLE","$entityTable",1323],")",["T_WHITESPACE"," ",1323],"{",["T_WHITESPACE","\n            ",1323],["T_VARIABLE","$entityTable",1324],["T_WHITESPACE"," ",1324],"=",["T_WHITESPACE"," ",1324],["T_VARIABLE","$this",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","_resourceFactory",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","create",1324],"(",")",["T_OBJECT_OPERATOR","->",1324],["T_STRING","getEntityTable",1324],"(",")",";",["T_WHITESPACE","\n        ",1324],"}",["T_WHITESPACE","\n        ",1325],["T_IF","if",1326],["T_WHITESPACE"," ",1326],"(",["T_VARIABLE","$entityRowsUp",1326],")",["T_WHITESPACE"," ",1326],"{",["T_WHITESPACE","\n            ",1326],["T_VARIABLE","$this",1327],["T_OBJECT_OPERATOR","->",1327],["T_STRING","_connection",1327],["T_OBJECT_OPERATOR","->",1327],["T_STRING","insertOnDuplicate",1327],"(",["T_VARIABLE","$entityTable",1327],",",["T_WHITESPACE"," ",1327],["T_VARIABLE","$entityRowsUp",1327],",",["T_WHITESPACE"," ",1327],"[",["T_CONSTANT_ENCAPSED_STRING","'updated_at'",1327],"]",")",";",["T_WHITESPACE","\n        ",1327],"}",["T_WHITESPACE","\n        ",1328],["T_IF","if",1329],["T_WHITESPACE"," ",1329],"(",["T_VARIABLE","$entityRowsIn",1329],")",["T_WHITESPACE"," ",1329],"{",["T_WHITESPACE","\n            ",1329],["T_VARIABLE","$this",1330],["T_OBJECT_OPERATOR","->",1330],["T_STRING","_connection",1330],["T_OBJECT_OPERATOR","->",1330],["T_STRING","insertMultiple",1330],"(",["T_VARIABLE","$entityTable",1330],",",["T_WHITESPACE"," ",1330],["T_VARIABLE","$entityRowsIn",1330],")",";",["T_WHITESPACE","\n\n            ",1330],["T_VARIABLE","$select",1332],["T_WHITESPACE"," ",1332],"=",["T_WHITESPACE"," ",1332],["T_VARIABLE","$this",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","_connection",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","select",1332],"(",")",["T_OBJECT_OPERATOR","->",1332],["T_STRING","from",1332],"(",["T_WHITESPACE","\n                ",1332],["T_VARIABLE","$entityTable",1333],",",["T_WHITESPACE","\n                ",1333],["T_STRING","array_merge",1334],"(",["T_VARIABLE","$this",1334],["T_OBJECT_OPERATOR","->",1334],["T_STRING","getNewSkuFieldsForSelect",1334],"(",")",",",["T_WHITESPACE"," ",1334],["T_VARIABLE","$this",1334],["T_OBJECT_OPERATOR","->",1334],["T_STRING","getOldSkuFieldsForSelect",1334],"(",")",")",["T_WHITESPACE","\n            ",1334],")",["T_OBJECT_OPERATOR","->",1335],["T_STRING","where",1335],"(",["T_WHITESPACE","\n                ",1335],["T_CONSTANT_ENCAPSED_STRING","'sku IN (?)'",1336],",",["T_WHITESPACE","\n                ",1336],["T_STRING","array_keys",1337],"(",["T_VARIABLE","$entityRowsIn",1337],")",["T_WHITESPACE","\n            ",1337],")",";",["T_WHITESPACE","\n            ",1338],["T_VARIABLE","$newProducts",1339],["T_WHITESPACE"," ",1339],"=",["T_WHITESPACE"," ",1339],["T_VARIABLE","$this",1339],["T_OBJECT_OPERATOR","->",1339],["T_STRING","_connection",1339],["T_OBJECT_OPERATOR","->",1339],["T_STRING","fetchAll",1339],"(",["T_VARIABLE","$select",1339],")",";",["T_WHITESPACE","\n            ",1339],["T_FOREACH","foreach",1340],["T_WHITESPACE"," ",1340],"(",["T_VARIABLE","$newProducts",1340],["T_WHITESPACE"," ",1340],["T_AS","as",1340],["T_WHITESPACE"," ",1340],["T_VARIABLE","$data",1340],")",["T_WHITESPACE"," ",1340],"{",["T_WHITESPACE","\n                ",1340],["T_VARIABLE","$sku",1341],["T_WHITESPACE"," ",1341],"=",["T_WHITESPACE"," ",1341],["T_VARIABLE","$data",1341],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1341],"]",";",["T_WHITESPACE","\n                ",1341],["T_UNSET","unset",1342],"(",["T_VARIABLE","$data",1342],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1342],"]",")",";",["T_WHITESPACE","\n                ",1342],["T_FOREACH","foreach",1343],["T_WHITESPACE"," ",1343],"(",["T_VARIABLE","$data",1343],["T_WHITESPACE"," ",1343],["T_AS","as",1343],["T_WHITESPACE"," ",1343],["T_VARIABLE","$key",1343],["T_WHITESPACE"," ",1343],["T_DOUBLE_ARROW","=>",1343],["T_WHITESPACE"," ",1343],["T_VARIABLE","$value",1343],")",["T_WHITESPACE"," ",1343],"{",["T_WHITESPACE","\n                    ",1343],["T_VARIABLE","$this",1344],["T_OBJECT_OPERATOR","->",1344],["T_STRING","skuProcessor",1344],["T_OBJECT_OPERATOR","->",1344],["T_STRING","setNewSkuData",1344],"(",["T_VARIABLE","$sku",1344],",",["T_WHITESPACE"," ",1344],["T_VARIABLE","$key",1344],",",["T_WHITESPACE"," ",1344],["T_VARIABLE","$value",1344],")",";",["T_WHITESPACE","\n                ",1344],"}",["T_WHITESPACE","\n            ",1345],"}",["T_WHITESPACE","\n\n            ",1346],["T_VARIABLE","$this",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","updateOldSku",1348],"(",["T_VARIABLE","$newProducts",1348],")",";",["T_WHITESPACE","\n        ",1348],"}",["T_WHITESPACE","\n\n        ",1349],["T_RETURN","return",1351],["T_WHITESPACE"," ",1351],["T_VARIABLE","$this",1351],";",["T_WHITESPACE","\n    ",1351],"}",["T_WHITESPACE","\n\n    ",1352],["T_DOC_COMMENT","\/**\n     * Return additional data, needed to select.\n     * @return array\n     *\/",1354],["T_WHITESPACE","\n    ",1357],["T_PRIVATE","private",1358],["T_WHITESPACE"," ",1358],["T_FUNCTION","function",1358],["T_WHITESPACE"," ",1358],["T_STRING","getOldSkuFieldsForSelect",1358],"(",")",["T_WHITESPACE","\n    ",1358],"{",["T_WHITESPACE","\n        ",1359],["T_RETURN","return",1360],["T_WHITESPACE"," ",1360],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",1360],",",["T_WHITESPACE"," ",1360],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",1360],"]",";",["T_WHITESPACE","\n    ",1360],"}",["T_WHITESPACE","\n\n    ",1361],["T_DOC_COMMENT","\/**\n     * Adds newly created products to _oldSku\n     * @param array $newProducts\n     * @return void\n     *\/",1363],["T_WHITESPACE","\n    ",1367],["T_PRIVATE","private",1368],["T_WHITESPACE"," ",1368],["T_FUNCTION","function",1368],["T_WHITESPACE"," ",1368],["T_STRING","updateOldSku",1368],"(",["T_ARRAY","array",1368],["T_WHITESPACE"," ",1368],["T_VARIABLE","$newProducts",1368],")",["T_WHITESPACE","\n    ",1368],"{",["T_WHITESPACE","\n        ",1369],["T_VARIABLE","$oldSkus",1370],["T_WHITESPACE"," ",1370],"=",["T_WHITESPACE"," ",1370],"[","]",";",["T_WHITESPACE","\n        ",1370],["T_FOREACH","foreach",1371],["T_WHITESPACE"," ",1371],"(",["T_VARIABLE","$newProducts",1371],["T_WHITESPACE"," ",1371],["T_AS","as",1371],["T_WHITESPACE"," ",1371],["T_VARIABLE","$info",1371],")",["T_WHITESPACE"," ",1371],"{",["T_WHITESPACE","\n            ",1371],["T_VARIABLE","$typeId",1372],["T_WHITESPACE"," ",1372],"=",["T_WHITESPACE"," ",1372],["T_VARIABLE","$info",1372],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",1372],"]",";",["T_WHITESPACE","\n            ",1372],["T_VARIABLE","$sku",1373],["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],["T_VARIABLE","$info",1373],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1373],"]",";",["T_WHITESPACE","\n            ",1373],["T_VARIABLE","$oldSkus",1374],"[",["T_VARIABLE","$sku",1374],"]",["T_WHITESPACE"," ",1374],"=",["T_WHITESPACE"," ",1374],"[",["T_WHITESPACE","\n                ",1374],["T_CONSTANT_ENCAPSED_STRING","'type_id'",1375],["T_WHITESPACE"," ",1375],["T_DOUBLE_ARROW","=>",1375],["T_WHITESPACE"," ",1375],["T_VARIABLE","$typeId",1375],",",["T_WHITESPACE","\n                ",1375],["T_CONSTANT_ENCAPSED_STRING","'attr_set_id'",1376],["T_WHITESPACE"," ",1376],["T_DOUBLE_ARROW","=>",1376],["T_WHITESPACE"," ",1376],["T_VARIABLE","$info",1376],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",1376],"]",",",["T_WHITESPACE","\n                ",1376],["T_VARIABLE","$this",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","getProductIdentifierField",1377],"(",")",["T_WHITESPACE"," ",1377],["T_DOUBLE_ARROW","=>",1377],["T_WHITESPACE"," ",1377],["T_VARIABLE","$info",1377],"[",["T_VARIABLE","$this",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","getProductIdentifierField",1377],"(",")","]",",",["T_WHITESPACE","\n                ",1377],["T_CONSTANT_ENCAPSED_STRING","'supported_type'",1378],["T_WHITESPACE"," ",1378],["T_DOUBLE_ARROW","=>",1378],["T_WHITESPACE"," ",1378],["T_ISSET","isset",1378],"(",["T_VARIABLE","$this",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","_productTypeModels",1378],"[",["T_VARIABLE","$typeId",1378],"]",")",",",["T_WHITESPACE","\n                ",1378],["T_VARIABLE","$this",1379],["T_OBJECT_OPERATOR","->",1379],["T_STRING","getProductEntityLinkField",1379],"(",")",["T_WHITESPACE"," ",1379],["T_DOUBLE_ARROW","=>",1379],["T_WHITESPACE"," ",1379],["T_VARIABLE","$info",1379],"[",["T_VARIABLE","$this",1379],["T_OBJECT_OPERATOR","->",1379],["T_STRING","getProductEntityLinkField",1379],"(",")","]",",",["T_WHITESPACE","\n            ",1379],"]",";",["T_WHITESPACE","\n        ",1380],"}",["T_WHITESPACE","\n\n        ",1381],["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","_oldSku",1383],["T_WHITESPACE"," ",1383],"=",["T_WHITESPACE"," ",1383],["T_STRING","array_replace",1383],"(",["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","_oldSku",1383],",",["T_WHITESPACE"," ",1383],["T_VARIABLE","$oldSkus",1383],")",";",["T_WHITESPACE","\n    ",1383],"}",["T_WHITESPACE","\n\n    ",1384],["T_DOC_COMMENT","\/**\n     * Get new SKU fields for select\n     *\n     * @return array\n     *\/",1386],["T_WHITESPACE","\n    ",1390],["T_PRIVATE","private",1391],["T_WHITESPACE"," ",1391],["T_FUNCTION","function",1391],["T_WHITESPACE"," ",1391],["T_STRING","getNewSkuFieldsForSelect",1391],"(",")",["T_WHITESPACE","\n    ",1391],"{",["T_WHITESPACE","\n        ",1392],["T_VARIABLE","$fields",1393],["T_WHITESPACE"," ",1393],"=",["T_WHITESPACE"," ",1393],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1393],",",["T_WHITESPACE"," ",1393],["T_VARIABLE","$this",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","getProductEntityLinkField",1393],"(",")","]",";",["T_WHITESPACE","\n        ",1393],["T_IF","if",1394],["T_WHITESPACE"," ",1394],"(",["T_VARIABLE","$this",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","getProductEntityLinkField",1394],"(",")",["T_WHITESPACE"," ",1394],["T_IS_NOT_EQUAL","!=",1394],["T_WHITESPACE"," ",1394],["T_VARIABLE","$this",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","getProductIdentifierField",1394],"(",")",")",["T_WHITESPACE"," ",1394],"{",["T_WHITESPACE","\n            ",1394],["T_VARIABLE","$fields",1395],"[","]",["T_WHITESPACE"," ",1395],"=",["T_WHITESPACE"," ",1395],["T_VARIABLE","$this",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","getProductIdentifierField",1395],"(",")",";",["T_WHITESPACE","\n        ",1395],"}",["T_WHITESPACE","\n        ",1396],["T_RETURN","return",1397],["T_WHITESPACE"," ",1397],["T_VARIABLE","$fields",1397],";",["T_WHITESPACE","\n    ",1397],"}",["T_WHITESPACE","\n\n    ",1398],["T_DOC_COMMENT","\/**\n     * Init media gallery resources\n     * @return void\n     *\/",1400],["T_WHITESPACE","\n    ",1403],["T_PROTECTED","protected",1404],["T_WHITESPACE"," ",1404],["T_FUNCTION","function",1404],["T_WHITESPACE"," ",1404],["T_STRING","initMediaGalleryResources",1404],"(",")",["T_WHITESPACE","\n    ",1404],"{",["T_WHITESPACE","\n        ",1405],["T_IF","if",1406],["T_WHITESPACE"," ",1406],"(",["T_STRING","null",1406],["T_WHITESPACE"," ",1406],["T_IS_EQUAL","==",1406],["T_WHITESPACE"," ",1406],["T_VARIABLE","$this",1406],["T_OBJECT_OPERATOR","->",1406],["T_STRING","mediaGalleryTableName",1406],")",["T_WHITESPACE"," ",1406],"{",["T_WHITESPACE","\n            ",1406],["T_VARIABLE","$this",1407],["T_OBJECT_OPERATOR","->",1407],["T_STRING","productEntityTableName",1407],["T_WHITESPACE"," ",1407],"=",["T_WHITESPACE"," ",1407],["T_VARIABLE","$this",1407],["T_OBJECT_OPERATOR","->",1407],["T_STRING","getResource",1407],"(",")",["T_OBJECT_OPERATOR","->",1407],["T_STRING","getTable",1407],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",1407],")",";",["T_WHITESPACE","\n            ",1407],["T_VARIABLE","$this",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","mediaGalleryTableName",1408],["T_WHITESPACE"," ",1408],"=",["T_WHITESPACE"," ",1408],["T_VARIABLE","$this",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","getResource",1408],"(",")",["T_OBJECT_OPERATOR","->",1408],["T_STRING","getTable",1408],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_media_gallery'",1408],")",";",["T_WHITESPACE","\n            ",1408],["T_VARIABLE","$this",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","mediaGalleryValueTableName",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_VARIABLE","$this",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","getResource",1409],"(",")",["T_OBJECT_OPERATOR","->",1409],["T_STRING","getTable",1409],"(",["T_WHITESPACE","\n                ",1409],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_media_gallery_value'",1410],["T_WHITESPACE","\n            ",1410],")",";",["T_WHITESPACE","\n            ",1411],["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","mediaGalleryEntityToValueTableName",1412],["T_WHITESPACE"," ",1412],"=",["T_WHITESPACE"," ",1412],["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","getResource",1412],"(",")",["T_OBJECT_OPERATOR","->",1412],["T_STRING","getTable",1412],"(",["T_WHITESPACE","\n                ",1412],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_media_gallery_value_to_entity'",1413],["T_WHITESPACE","\n            ",1413],")",";",["T_WHITESPACE","\n        ",1414],"}",["T_WHITESPACE","\n    ",1415],"}",["T_WHITESPACE","\n\n    ",1416],["T_DOC_COMMENT","\/**\n     * Get existing images for current bunch\n     *\n     * @param array $bunch\n     * @return array\n     *\/",1418],["T_WHITESPACE","\n    ",1423],["T_PROTECTED","protected",1424],["T_WHITESPACE"," ",1424],["T_FUNCTION","function",1424],["T_WHITESPACE"," ",1424],["T_STRING","getExistingImages",1424],"(",["T_VARIABLE","$bunch",1424],")",["T_WHITESPACE","\n    ",1424],"{",["T_WHITESPACE","\n        ",1425],["T_VARIABLE","$result",1426],["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],"[","]",";",["T_WHITESPACE","\n        ",1426],["T_IF","if",1427],["T_WHITESPACE"," ",1427],"(",["T_VARIABLE","$this",1427],["T_OBJECT_OPERATOR","->",1427],["T_STRING","getErrorAggregator",1427],"(",")",["T_OBJECT_OPERATOR","->",1427],["T_STRING","hasToBeTerminated",1427],"(",")",")",["T_WHITESPACE"," ",1427],"{",["T_WHITESPACE","\n            ",1427],["T_RETURN","return",1428],["T_WHITESPACE"," ",1428],["T_VARIABLE","$result",1428],";",["T_WHITESPACE","\n        ",1428],"}",["T_WHITESPACE","\n\n        ",1429],["T_VARIABLE","$this",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","initMediaGalleryResources",1431],"(",")",";",["T_WHITESPACE","\n        ",1431],["T_VARIABLE","$productSKUs",1432],["T_WHITESPACE"," ",1432],"=",["T_WHITESPACE"," ",1432],["T_STRING","array_map",1432],"(",["T_CONSTANT_ENCAPSED_STRING","'strval'",1432],",",["T_WHITESPACE"," ",1432],["T_STRING","array_column",1432],"(",["T_VARIABLE","$bunch",1432],",",["T_WHITESPACE"," ",1432],["T_STRING","self",1432],["T_DOUBLE_COLON","::",1432],["T_STRING","COL_SKU",1432],")",")",";",["T_WHITESPACE","\n        ",1432],["T_VARIABLE","$select",1433],["T_WHITESPACE"," ",1433],"=",["T_WHITESPACE"," ",1433],["T_VARIABLE","$this",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","_connection",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","select",1433],"(",")",["T_OBJECT_OPERATOR","->",1433],["T_STRING","from",1433],"(",["T_WHITESPACE","\n            ",1433],"[",["T_CONSTANT_ENCAPSED_STRING","'mg'",1434],["T_WHITESPACE"," ",1434],["T_DOUBLE_ARROW","=>",1434],["T_WHITESPACE"," ",1434],["T_VARIABLE","$this",1434],["T_OBJECT_OPERATOR","->",1434],["T_STRING","mediaGalleryTableName",1434],"]",",",["T_WHITESPACE","\n            ",1434],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1435],["T_WHITESPACE"," ",1435],["T_DOUBLE_ARROW","=>",1435],["T_WHITESPACE"," ",1435],["T_CONSTANT_ENCAPSED_STRING","'mg.value'",1435],"]",["T_WHITESPACE","\n        ",1435],")",["T_OBJECT_OPERATOR","->",1436],["T_STRING","joinInner",1436],"(",["T_WHITESPACE","\n            ",1436],"[",["T_CONSTANT_ENCAPSED_STRING","'mgvte'",1437],["T_WHITESPACE"," ",1437],["T_DOUBLE_ARROW","=>",1437],["T_WHITESPACE"," ",1437],["T_VARIABLE","$this",1437],["T_OBJECT_OPERATOR","->",1437],["T_STRING","mediaGalleryEntityToValueTableName",1437],"]",",",["T_WHITESPACE","\n            ",1437],["T_CONSTANT_ENCAPSED_STRING","'(mg.value_id = mgvte.value_id)'",1438],",",["T_WHITESPACE","\n            ",1438],"[",["T_WHITESPACE","\n                ",1439],["T_VARIABLE","$this",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","getProductEntityLinkField",1440],"(",")",["T_WHITESPACE"," ",1440],["T_DOUBLE_ARROW","=>",1440],["T_WHITESPACE"," ",1440],["T_CONSTANT_ENCAPSED_STRING","'mgvte.'",1440],["T_WHITESPACE"," ",1440],".",["T_WHITESPACE"," ",1440],["T_VARIABLE","$this",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","getProductEntityLinkField",1440],"(",")",",",["T_WHITESPACE","\n                ",1440],["T_CONSTANT_ENCAPSED_STRING","'value_id'",1441],["T_WHITESPACE"," ",1441],["T_DOUBLE_ARROW","=>",1441],["T_WHITESPACE"," ",1441],["T_CONSTANT_ENCAPSED_STRING","'mgvte.value_id'",1441],["T_WHITESPACE","\n            ",1441],"]",["T_WHITESPACE","\n        ",1442],")",["T_OBJECT_OPERATOR","->",1443],["T_STRING","joinLeft",1443],"(",["T_WHITESPACE","\n            ",1443],"[",["T_CONSTANT_ENCAPSED_STRING","'mgv'",1444],["T_WHITESPACE"," ",1444],["T_DOUBLE_ARROW","=>",1444],["T_WHITESPACE"," ",1444],["T_VARIABLE","$this",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","mediaGalleryValueTableName",1444],"]",",",["T_WHITESPACE","\n            ",1444],["T_STRING","sprintf",1445],"(",["T_WHITESPACE","\n                ",1445],["T_CONSTANT_ENCAPSED_STRING","'(mg.value_id = mgv.value_id AND mgv.%s = mgvte.%s AND mgv.store_id = %d)'",1446],",",["T_WHITESPACE","\n                ",1446],["T_VARIABLE","$this",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","getProductEntityLinkField",1447],"(",")",",",["T_WHITESPACE","\n                ",1447],["T_VARIABLE","$this",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","getProductEntityLinkField",1448],"(",")",",",["T_WHITESPACE","\n                ",1448],["T_NS_SEPARATOR","\\",1449],["T_STRING","Magento",1449],["T_NS_SEPARATOR","\\",1449],["T_STRING","Store",1449],["T_NS_SEPARATOR","\\",1449],["T_STRING","Model",1449],["T_NS_SEPARATOR","\\",1449],["T_STRING","Store",1449],["T_DOUBLE_COLON","::",1449],["T_STRING","DEFAULT_STORE_ID",1449],["T_WHITESPACE","\n            ",1449],")",",",["T_WHITESPACE","\n            ",1450],"[",["T_WHITESPACE","\n                ",1451],["T_CONSTANT_ENCAPSED_STRING","'label'",1452],["T_WHITESPACE"," ",1452],["T_DOUBLE_ARROW","=>",1452],["T_WHITESPACE"," ",1452],["T_CONSTANT_ENCAPSED_STRING","'mgv.label'",1452],["T_WHITESPACE","\n            ",1452],"]",["T_WHITESPACE","\n        ",1453],")",["T_OBJECT_OPERATOR","->",1454],["T_STRING","joinInner",1454],"(",["T_WHITESPACE","\n            ",1454],"[",["T_CONSTANT_ENCAPSED_STRING","'pe'",1455],["T_WHITESPACE"," ",1455],["T_DOUBLE_ARROW","=>",1455],["T_WHITESPACE"," ",1455],["T_VARIABLE","$this",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","productEntityTableName",1455],"]",",",["T_WHITESPACE","\n            ",1455],"\"",["T_ENCAPSED_AND_WHITESPACE","(mgvte.",1456],["T_CURLY_OPEN","{",1456],["T_VARIABLE","$this",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","getProductEntityLinkField",1456],"(",")","}",["T_ENCAPSED_AND_WHITESPACE"," = pe.",1456],["T_CURLY_OPEN","{",1456],["T_VARIABLE","$this",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","getProductEntityLinkField",1456],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",")",1456],"\"",",",["T_WHITESPACE","\n            ",1456],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1457],["T_WHITESPACE"," ",1457],["T_DOUBLE_ARROW","=>",1457],["T_WHITESPACE"," ",1457],["T_CONSTANT_ENCAPSED_STRING","'pe.sku'",1457],"]",["T_WHITESPACE","\n        ",1457],")",["T_OBJECT_OPERATOR","->",1458],["T_STRING","where",1458],"(",["T_WHITESPACE","\n            ",1458],["T_CONSTANT_ENCAPSED_STRING","'pe.sku IN (?)'",1459],",",["T_WHITESPACE","\n            ",1459],["T_VARIABLE","$productSKUs",1460],["T_WHITESPACE","\n        ",1460],")",";",["T_WHITESPACE","\n\n        ",1461],["T_FOREACH","foreach",1463],["T_WHITESPACE"," ",1463],"(",["T_VARIABLE","$this",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","_connection",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","fetchAll",1463],"(",["T_VARIABLE","$select",1463],")",["T_WHITESPACE"," ",1463],["T_AS","as",1463],["T_WHITESPACE"," ",1463],["T_VARIABLE","$image",1463],")",["T_WHITESPACE"," ",1463],"{",["T_WHITESPACE","\n            ",1463],["T_VARIABLE","$result",1464],"[",["T_VARIABLE","$image",1464],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1464],"]","]","[",["T_VARIABLE","$image",1464],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1464],"]","]",["T_WHITESPACE"," ",1464],"=",["T_WHITESPACE"," ",1464],["T_VARIABLE","$image",1464],";",["T_WHITESPACE","\n        ",1464],"}",["T_WHITESPACE","\n\n        ",1465],["T_RETURN","return",1467],["T_WHITESPACE"," ",1467],["T_VARIABLE","$result",1467],";",["T_WHITESPACE","\n    ",1467],"}",["T_WHITESPACE","\n\n    ",1468],["T_DOC_COMMENT","\/**\n     * @param array $rowData\n     * @return array\n     *\/",1470],["T_WHITESPACE","\n    ",1473],["T_PUBLIC","public",1474],["T_WHITESPACE"," ",1474],["T_FUNCTION","function",1474],["T_WHITESPACE"," ",1474],["T_STRING","getImagesFromRow",1474],"(",["T_ARRAY","array",1474],["T_WHITESPACE"," ",1474],["T_VARIABLE","$rowData",1474],")",["T_WHITESPACE","\n    ",1474],"{",["T_WHITESPACE","\n        ",1475],["T_VARIABLE","$images",1476],["T_WHITESPACE"," ",1476],"=",["T_WHITESPACE"," ",1476],"[","]",";",["T_WHITESPACE","\n        ",1476],["T_VARIABLE","$labels",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],"[","]",";",["T_WHITESPACE","\n        ",1477],["T_FOREACH","foreach",1478],["T_WHITESPACE"," ",1478],"(",["T_VARIABLE","$this",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","_imagesArrayKeys",1478],["T_WHITESPACE"," ",1478],["T_AS","as",1478],["T_WHITESPACE"," ",1478],["T_VARIABLE","$column",1478],")",["T_WHITESPACE"," ",1478],"{",["T_WHITESPACE","\n            ",1478],["T_IF","if",1479],["T_WHITESPACE"," ",1479],"(","!",["T_EMPTY","empty",1479],"(",["T_VARIABLE","$rowData",1479],"[",["T_VARIABLE","$column",1479],"]",")",")",["T_WHITESPACE"," ",1479],"{",["T_WHITESPACE","\n                ",1479],["T_VARIABLE","$images",1480],"[",["T_VARIABLE","$column",1480],"]",["T_WHITESPACE"," ",1480],"=",["T_WHITESPACE"," ",1480],["T_STRING","array_unique",1480],"(",["T_WHITESPACE","\n                    ",1480],["T_STRING","array_map",1481],"(",["T_WHITESPACE","\n                        ",1481],["T_CONSTANT_ENCAPSED_STRING","'trim'",1482],",",["T_WHITESPACE","\n                        ",1482],["T_STRING","explode",1483],"(",["T_VARIABLE","$this",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","getMultipleValueSeparator",1483],"(",")",",",["T_WHITESPACE"," ",1483],["T_VARIABLE","$rowData",1483],"[",["T_VARIABLE","$column",1483],"]",")",["T_WHITESPACE","\n                    ",1483],")",["T_WHITESPACE","\n                ",1484],")",";",["T_WHITESPACE","\n\n                ",1485],["T_IF","if",1487],["T_WHITESPACE"," ",1487],"(","!",["T_EMPTY","empty",1487],"(",["T_VARIABLE","$rowData",1487],"[",["T_VARIABLE","$column",1487],["T_WHITESPACE"," ",1487],".",["T_WHITESPACE"," ",1487],["T_CONSTANT_ENCAPSED_STRING","'_label'",1487],"]",")",")",["T_WHITESPACE"," ",1487],"{",["T_WHITESPACE","\n                    ",1487],["T_VARIABLE","$labels",1488],"[",["T_VARIABLE","$column",1488],"]",["T_WHITESPACE"," ",1488],"=",["T_WHITESPACE"," ",1488],["T_VARIABLE","$this",1488],["T_OBJECT_OPERATOR","->",1488],["T_STRING","parseMultipleValues",1488],"(",["T_VARIABLE","$rowData",1488],"[",["T_VARIABLE","$column",1488],["T_WHITESPACE"," ",1488],".",["T_WHITESPACE"," ",1488],["T_CONSTANT_ENCAPSED_STRING","'_label'",1488],"]",")",";",["T_WHITESPACE","\n\n                    ",1488],["T_IF","if",1490],["T_WHITESPACE"," ",1490],"(",["T_STRING","count",1490],"(",["T_VARIABLE","$labels",1490],"[",["T_VARIABLE","$column",1490],"]",")",["T_WHITESPACE"," ",1490],">",["T_WHITESPACE"," ",1490],["T_STRING","count",1490],"(",["T_VARIABLE","$images",1490],"[",["T_VARIABLE","$column",1490],"]",")",")",["T_WHITESPACE"," ",1490],"{",["T_WHITESPACE","\n                        ",1490],["T_VARIABLE","$labels",1491],"[",["T_VARIABLE","$column",1491],"]",["T_WHITESPACE"," ",1491],"=",["T_WHITESPACE"," ",1491],["T_STRING","array_slice",1491],"(",["T_VARIABLE","$labels",1491],"[",["T_VARIABLE","$column",1491],"]",",",["T_WHITESPACE"," ",1491],["T_LNUMBER","0",1491],",",["T_WHITESPACE"," ",1491],["T_STRING","count",1491],"(",["T_VARIABLE","$images",1491],"[",["T_VARIABLE","$column",1491],"]",")",")",";",["T_WHITESPACE","\n                    ",1491],"}",["T_WHITESPACE","\n                ",1492],"}",["T_WHITESPACE","\n            ",1493],"}",["T_WHITESPACE","\n        ",1494],"}",["T_WHITESPACE","\n\n        ",1495],["T_RETURN","return",1497],["T_WHITESPACE"," ",1497],"[",["T_VARIABLE","$images",1497],",",["T_WHITESPACE"," ",1497],["T_VARIABLE","$labels",1497],"]",";",["T_WHITESPACE","\n    ",1497],"}",["T_WHITESPACE","\n\n    ",1498],["T_DOC_COMMENT","\/**\n     * Gather and save information about product entities.\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",1500],["T_WHITESPACE","\n    ",1508],["T_PROTECTED","protected",1509],["T_WHITESPACE"," ",1509],["T_FUNCTION","function",1509],["T_WHITESPACE"," ",1509],["T_STRING","_saveProducts",1509],"(",")",["T_WHITESPACE","\n    ",1509],"{",["T_WHITESPACE","\n        ",1510],["T_VARIABLE","$priceIsGlobal",1511],["T_WHITESPACE"," ",1511],"=",["T_WHITESPACE"," ",1511],["T_VARIABLE","$this",1511],["T_OBJECT_OPERATOR","->",1511],["T_STRING","_catalogData",1511],["T_OBJECT_OPERATOR","->",1511],["T_STRING","isPriceGlobal",1511],"(",")",";",["T_WHITESPACE","\n        ",1511],["T_VARIABLE","$productLimit",1512],["T_WHITESPACE"," ",1512],"=",["T_WHITESPACE"," ",1512],["T_STRING","null",1512],";",["T_WHITESPACE","\n        ",1512],["T_VARIABLE","$productsQty",1513],["T_WHITESPACE"," ",1513],"=",["T_WHITESPACE"," ",1513],["T_STRING","null",1513],";",["T_WHITESPACE","\n\n        ",1513],["T_WHILE","while",1515],["T_WHITESPACE"," ",1515],"(",["T_VARIABLE","$bunch",1515],["T_WHITESPACE"," ",1515],"=",["T_WHITESPACE"," ",1515],["T_VARIABLE","$this",1515],["T_OBJECT_OPERATOR","->",1515],["T_STRING","_dataSourceModel",1515],["T_OBJECT_OPERATOR","->",1515],["T_STRING","getNextBunch",1515],"(",")",")",["T_WHITESPACE"," ",1515],"{",["T_WHITESPACE","\n            ",1515],["T_VARIABLE","$entityRowsIn",1516],["T_WHITESPACE"," ",1516],"=",["T_WHITESPACE"," ",1516],"[","]",";",["T_WHITESPACE","\n            ",1516],["T_VARIABLE","$entityRowsUp",1517],["T_WHITESPACE"," ",1517],"=",["T_WHITESPACE"," ",1517],"[","]",";",["T_WHITESPACE","\n            ",1517],["T_VARIABLE","$attributes",1518],["T_WHITESPACE"," ",1518],"=",["T_WHITESPACE"," ",1518],"[","]",";",["T_WHITESPACE","\n            ",1518],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","websitesCache",1519],["T_WHITESPACE"," ",1519],"=",["T_WHITESPACE"," ",1519],"[","]",";",["T_WHITESPACE","\n            ",1519],["T_VARIABLE","$this",1520],["T_OBJECT_OPERATOR","->",1520],["T_STRING","categoriesCache",1520],["T_WHITESPACE"," ",1520],"=",["T_WHITESPACE"," ",1520],"[","]",";",["T_WHITESPACE","\n            ",1520],["T_VARIABLE","$tierPrices",1521],["T_WHITESPACE"," ",1521],"=",["T_WHITESPACE"," ",1521],"[","]",";",["T_WHITESPACE","\n            ",1521],["T_VARIABLE","$mediaGallery",1522],["T_WHITESPACE"," ",1522],"=",["T_WHITESPACE"," ",1522],"[","]",";",["T_WHITESPACE","\n            ",1522],["T_VARIABLE","$labelsForUpdate",1523],["T_WHITESPACE"," ",1523],"=",["T_WHITESPACE"," ",1523],"[","]",";",["T_WHITESPACE","\n            ",1523],["T_VARIABLE","$uploadedImages",1524],["T_WHITESPACE"," ",1524],"=",["T_WHITESPACE"," ",1524],"[","]",";",["T_WHITESPACE","\n            ",1524],["T_VARIABLE","$previousType",1525],["T_WHITESPACE"," ",1525],"=",["T_WHITESPACE"," ",1525],["T_STRING","null",1525],";",["T_WHITESPACE","\n            ",1525],["T_VARIABLE","$prevAttributeSet",1526],["T_WHITESPACE"," ",1526],"=",["T_WHITESPACE"," ",1526],["T_STRING","null",1526],";",["T_WHITESPACE","\n            ",1526],["T_VARIABLE","$existingImages",1527],["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_VARIABLE","$this",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","getExistingImages",1527],"(",["T_VARIABLE","$bunch",1527],")",";",["T_WHITESPACE","\n\n            ",1527],["T_FOREACH","foreach",1529],["T_WHITESPACE"," ",1529],"(",["T_VARIABLE","$bunch",1529],["T_WHITESPACE"," ",1529],["T_AS","as",1529],["T_WHITESPACE"," ",1529],["T_VARIABLE","$rowNum",1529],["T_WHITESPACE"," ",1529],["T_DOUBLE_ARROW","=>",1529],["T_WHITESPACE"," ",1529],["T_VARIABLE","$rowData",1529],")",["T_WHITESPACE"," ",1529],"{",["T_WHITESPACE","\n                ",1529],["T_IF","if",1530],["T_WHITESPACE"," ",1530],"(","!",["T_VARIABLE","$this",1530],["T_OBJECT_OPERATOR","->",1530],["T_STRING","validateRow",1530],"(",["T_VARIABLE","$rowData",1530],",",["T_WHITESPACE"," ",1530],["T_VARIABLE","$rowNum",1530],")",")",["T_WHITESPACE"," ",1530],"{",["T_WHITESPACE","\n                    ",1530],["T_CONTINUE","continue",1531],";",["T_WHITESPACE","\n                ",1531],"}",["T_WHITESPACE","\n                ",1532],["T_IF","if",1533],["T_WHITESPACE"," ",1533],"(",["T_VARIABLE","$this",1533],["T_OBJECT_OPERATOR","->",1533],["T_STRING","getErrorAggregator",1533],"(",")",["T_OBJECT_OPERATOR","->",1533],["T_STRING","hasToBeTerminated",1533],"(",")",")",["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n                    ",1533],["T_VARIABLE","$this",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","getErrorAggregator",1534],"(",")",["T_OBJECT_OPERATOR","->",1534],["T_STRING","addRowToSkip",1534],"(",["T_VARIABLE","$rowNum",1534],")",";",["T_WHITESPACE","\n                    ",1534],["T_CONTINUE","continue",1535],";",["T_WHITESPACE","\n                ",1535],"}",["T_WHITESPACE","\n                ",1536],["T_VARIABLE","$rowScope",1537],["T_WHITESPACE"," ",1537],"=",["T_WHITESPACE"," ",1537],["T_VARIABLE","$this",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","getRowScope",1537],"(",["T_VARIABLE","$rowData",1537],")",";",["T_WHITESPACE","\n\n                ",1537],["T_IF","if",1539],["T_WHITESPACE"," ",1539],"(",["T_EMPTY","empty",1539],"(",["T_VARIABLE","$rowData",1539],"[",["T_STRING","self",1539],["T_DOUBLE_COLON","::",1539],["T_STRING","URL_KEY",1539],"]",")",")",["T_WHITESPACE"," ",1539],"{",["T_WHITESPACE","\n                    ",1539],["T_VARIABLE","$rowData",1540],"[",["T_STRING","self",1540],["T_DOUBLE_COLON","::",1540],["T_STRING","URL_KEY",1540],"]",["T_WHITESPACE"," ",1540],"=",["T_WHITESPACE"," ",1540],["T_VARIABLE","$this",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","getUrlKey",1540],"(",["T_VARIABLE","$rowData",1540],")",";",["T_WHITESPACE","\n                ",1540],"}",["T_WHITESPACE","\n\n                ",1541],["T_VARIABLE","$rowSku",1543],["T_WHITESPACE"," ",1543],"=",["T_WHITESPACE"," ",1543],["T_VARIABLE","$rowData",1543],"[",["T_STRING","self",1543],["T_DOUBLE_COLON","::",1543],["T_STRING","COL_SKU",1543],"]",";",["T_WHITESPACE","\n\n                ",1543],["T_IF","if",1545],["T_WHITESPACE"," ",1545],"(",["T_STRING","null",1545],["T_WHITESPACE"," ",1545],["T_IS_IDENTICAL","===",1545],["T_WHITESPACE"," ",1545],["T_VARIABLE","$rowSku",1545],")",["T_WHITESPACE"," ",1545],"{",["T_WHITESPACE","\n                    ",1545],["T_VARIABLE","$this",1546],["T_OBJECT_OPERATOR","->",1546],["T_STRING","getErrorAggregator",1546],"(",")",["T_OBJECT_OPERATOR","->",1546],["T_STRING","addRowToSkip",1546],"(",["T_VARIABLE","$rowNum",1546],")",";",["T_WHITESPACE","\n                    ",1546],["T_CONTINUE","continue",1547],";",["T_WHITESPACE","\n                ",1547],"}",["T_WHITESPACE"," ",1548],["T_ELSEIF","elseif",1548],["T_WHITESPACE"," ",1548],"(",["T_STRING","self",1548],["T_DOUBLE_COLON","::",1548],["T_STRING","SCOPE_STORE",1548],["T_WHITESPACE"," ",1548],["T_IS_EQUAL","==",1548],["T_WHITESPACE"," ",1548],["T_VARIABLE","$rowScope",1548],")",["T_WHITESPACE"," ",1548],"{",["T_WHITESPACE","\n                    ",1548],["T_COMMENT","\/\/ set necessary data from SCOPE_DEFAULT row\n",1549],["T_WHITESPACE","                    ",1550],["T_VARIABLE","$rowData",1550],"[",["T_STRING","self",1550],["T_DOUBLE_COLON","::",1550],["T_STRING","COL_TYPE",1550],"]",["T_WHITESPACE"," ",1550],"=",["T_WHITESPACE"," ",1550],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","skuProcessor",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","getNewSku",1550],"(",["T_VARIABLE","$rowSku",1550],")","[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",1550],"]",";",["T_WHITESPACE","\n                    ",1550],["T_VARIABLE","$rowData",1551],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",1551],"]",["T_WHITESPACE"," ",1551],"=",["T_WHITESPACE"," ",1551],["T_VARIABLE","$this",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","skuProcessor",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","getNewSku",1551],"(",["T_VARIABLE","$rowSku",1551],")","[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_id'",1551],"]",";",["T_WHITESPACE","\n                    ",1551],["T_VARIABLE","$rowData",1552],"[",["T_STRING","self",1552],["T_DOUBLE_COLON","::",1552],["T_STRING","COL_ATTR_SET",1552],"]",["T_WHITESPACE"," ",1552],"=",["T_WHITESPACE"," ",1552],["T_VARIABLE","$this",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","skuProcessor",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","getNewSku",1552],"(",["T_VARIABLE","$rowSku",1552],")","[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_code'",1552],"]",";",["T_WHITESPACE","\n                ",1552],"}",["T_WHITESPACE","\n\n                ",1553],["T_COMMENT","\/\/ 1. Entity phase\n",1555],["T_WHITESPACE","                ",1556],["T_IF","if",1556],["T_WHITESPACE"," ",1556],"(",["T_ISSET","isset",1556],"(",["T_VARIABLE","$this",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","_oldSku",1556],"[",["T_VARIABLE","$rowSku",1556],"]",")",")",["T_WHITESPACE"," ",1556],"{",["T_WHITESPACE","\n                    ",1556],["T_COMMENT","\/\/ existing row\n",1557],["T_WHITESPACE","                    ",1558],["T_VARIABLE","$entityRowsUp",1558],"[","]",["T_WHITESPACE"," ",1558],"=",["T_WHITESPACE"," ",1558],"[",["T_WHITESPACE","\n                        ",1558],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",1559],["T_WHITESPACE"," ",1559],["T_DOUBLE_ARROW","=>",1559],["T_WHITESPACE"," ",1559],"(",["T_NEW","new",1559],["T_WHITESPACE"," ",1559],["T_NS_SEPARATOR","\\",1559],["T_STRING","DateTime",1559],"(",")",")",["T_OBJECT_OPERATOR","->",1559],["T_STRING","format",1559],"(",["T_STRING","DateTime",1559],["T_DOUBLE_COLON","::",1559],["T_STRING","DATETIME_PHP_FORMAT",1559],")",",",["T_WHITESPACE","\n                        ",1559],["T_VARIABLE","$this",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","getProductEntityLinkField",1560],"(",")",["T_WHITESPACE"," ",1560],["T_DOUBLE_ARROW","=>",1560],["T_WHITESPACE"," ",1560],["T_VARIABLE","$this",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","_oldSku",1560],"[",["T_VARIABLE","$rowSku",1560],"]","[",["T_VARIABLE","$this",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","getProductEntityLinkField",1560],"(",")","]",",",["T_WHITESPACE","\n                    ",1560],"]",";",["T_WHITESPACE","\n                ",1561],"}",["T_WHITESPACE"," ",1562],["T_ELSE","else",1562],["T_WHITESPACE"," ",1562],"{",["T_WHITESPACE","\n                    ",1562],["T_IF","if",1563],["T_WHITESPACE"," ",1563],"(","!",["T_VARIABLE","$productLimit",1563],["T_WHITESPACE"," ",1563],["T_BOOLEAN_OR","||",1563],["T_WHITESPACE"," ",1563],["T_VARIABLE","$productsQty",1563],["T_WHITESPACE"," ",1563],"<",["T_WHITESPACE"," ",1563],["T_VARIABLE","$productLimit",1563],")",["T_WHITESPACE"," ",1563],"{",["T_WHITESPACE","\n                        ",1563],["T_VARIABLE","$entityRowsIn",1564],"[",["T_VARIABLE","$rowSku",1564],"]",["T_WHITESPACE"," ",1564],"=",["T_WHITESPACE"," ",1564],"[",["T_WHITESPACE","\n                            ",1564],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",1565],["T_WHITESPACE"," ",1565],["T_DOUBLE_ARROW","=>",1565],["T_WHITESPACE"," ",1565],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","skuProcessor",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","getNewSku",1565],"(",["T_VARIABLE","$rowSku",1565],")","[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_id'",1565],"]",",",["T_WHITESPACE","\n                            ",1565],["T_CONSTANT_ENCAPSED_STRING","'type_id'",1566],["T_WHITESPACE"," ",1566],["T_DOUBLE_ARROW","=>",1566],["T_WHITESPACE"," ",1566],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","skuProcessor",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","getNewSku",1566],"(",["T_VARIABLE","$rowSku",1566],")","[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",1566],"]",",",["T_WHITESPACE","\n                            ",1566],["T_CONSTANT_ENCAPSED_STRING","'sku'",1567],["T_WHITESPACE"," ",1567],["T_DOUBLE_ARROW","=>",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$rowSku",1567],",",["T_WHITESPACE","\n                            ",1567],["T_CONSTANT_ENCAPSED_STRING","'has_options'",1568],["T_WHITESPACE"," ",1568],["T_DOUBLE_ARROW","=>",1568],["T_WHITESPACE"," ",1568],["T_ISSET","isset",1568],"(",["T_VARIABLE","$rowData",1568],"[",["T_CONSTANT_ENCAPSED_STRING","'has_options'",1568],"]",")",["T_WHITESPACE"," ",1568],"?",["T_WHITESPACE"," ",1568],["T_VARIABLE","$rowData",1568],"[",["T_CONSTANT_ENCAPSED_STRING","'has_options'",1568],"]",["T_WHITESPACE"," ",1568],":",["T_WHITESPACE"," ",1568],["T_LNUMBER","0",1568],",",["T_WHITESPACE","\n                            ",1568],["T_CONSTANT_ENCAPSED_STRING","'created_at'",1569],["T_WHITESPACE"," ",1569],["T_DOUBLE_ARROW","=>",1569],["T_WHITESPACE"," ",1569],"(",["T_NEW","new",1569],["T_WHITESPACE"," ",1569],["T_NS_SEPARATOR","\\",1569],["T_STRING","DateTime",1569],"(",")",")",["T_OBJECT_OPERATOR","->",1569],["T_STRING","format",1569],"(",["T_STRING","DateTime",1569],["T_DOUBLE_COLON","::",1569],["T_STRING","DATETIME_PHP_FORMAT",1569],")",",",["T_WHITESPACE","\n                            ",1569],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",1570],["T_WHITESPACE"," ",1570],["T_DOUBLE_ARROW","=>",1570],["T_WHITESPACE"," ",1570],"(",["T_NEW","new",1570],["T_WHITESPACE"," ",1570],["T_NS_SEPARATOR","\\",1570],["T_STRING","DateTime",1570],"(",")",")",["T_OBJECT_OPERATOR","->",1570],["T_STRING","format",1570],"(",["T_STRING","DateTime",1570],["T_DOUBLE_COLON","::",1570],["T_STRING","DATETIME_PHP_FORMAT",1570],")",",",["T_WHITESPACE","\n                        ",1570],"]",";",["T_WHITESPACE","\n                        ",1571],["T_VARIABLE","$productsQty",1572],["T_INC","++",1572],";",["T_WHITESPACE","\n                    ",1572],"}",["T_WHITESPACE"," ",1573],["T_ELSE","else",1573],["T_WHITESPACE"," ",1573],"{",["T_WHITESPACE","\n                        ",1573],["T_VARIABLE","$rowSku",1574],["T_WHITESPACE"," ",1574],"=",["T_WHITESPACE"," ",1574],["T_STRING","null",1574],";",["T_WHITESPACE","\n                        ",1574],["T_COMMENT","\/\/ sign for child rows to be skipped\n",1575],["T_WHITESPACE","                        ",1576],["T_VARIABLE","$this",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","getErrorAggregator",1576],"(",")",["T_OBJECT_OPERATOR","->",1576],["T_STRING","addRowToSkip",1576],"(",["T_VARIABLE","$rowNum",1576],")",";",["T_WHITESPACE","\n                        ",1576],["T_CONTINUE","continue",1577],";",["T_WHITESPACE","\n                    ",1577],"}",["T_WHITESPACE","\n                ",1578],"}",["T_WHITESPACE","\n\n                ",1579],["T_IF","if",1581],["T_WHITESPACE"," ",1581],"(","!",["T_STRING","array_key_exists",1581],"(",["T_VARIABLE","$rowSku",1581],",",["T_WHITESPACE"," ",1581],["T_VARIABLE","$this",1581],["T_OBJECT_OPERATOR","->",1581],["T_STRING","websitesCache",1581],")",")",["T_WHITESPACE"," ",1581],"{",["T_WHITESPACE","\n                    ",1581],["T_VARIABLE","$this",1582],["T_OBJECT_OPERATOR","->",1582],["T_STRING","websitesCache",1582],"[",["T_VARIABLE","$rowSku",1582],"]",["T_WHITESPACE"," ",1582],"=",["T_WHITESPACE"," ",1582],"[","]",";",["T_WHITESPACE","\n                ",1582],"}",["T_WHITESPACE","\n                ",1583],["T_COMMENT","\/\/ 2. Product-to-Website phase\n",1584],["T_WHITESPACE","                ",1585],["T_IF","if",1585],["T_WHITESPACE"," ",1585],"(","!",["T_EMPTY","empty",1585],"(",["T_VARIABLE","$rowData",1585],"[",["T_STRING","self",1585],["T_DOUBLE_COLON","::",1585],["T_STRING","COL_PRODUCT_WEBSITES",1585],"]",")",")",["T_WHITESPACE"," ",1585],"{",["T_WHITESPACE","\n                    ",1585],["T_VARIABLE","$websiteCodes",1586],["T_WHITESPACE"," ",1586],"=",["T_WHITESPACE"," ",1586],["T_STRING","explode",1586],"(",["T_VARIABLE","$this",1586],["T_OBJECT_OPERATOR","->",1586],["T_STRING","getMultipleValueSeparator",1586],"(",")",",",["T_WHITESPACE"," ",1586],["T_VARIABLE","$rowData",1586],"[",["T_STRING","self",1586],["T_DOUBLE_COLON","::",1586],["T_STRING","COL_PRODUCT_WEBSITES",1586],"]",")",";",["T_WHITESPACE","\n                    ",1586],["T_FOREACH","foreach",1587],["T_WHITESPACE"," ",1587],"(",["T_VARIABLE","$websiteCodes",1587],["T_WHITESPACE"," ",1587],["T_AS","as",1587],["T_WHITESPACE"," ",1587],["T_VARIABLE","$websiteCode",1587],")",["T_WHITESPACE"," ",1587],"{",["T_WHITESPACE","\n                        ",1587],["T_VARIABLE","$websiteId",1588],["T_WHITESPACE"," ",1588],"=",["T_WHITESPACE"," ",1588],["T_VARIABLE","$this",1588],["T_OBJECT_OPERATOR","->",1588],["T_STRING","storeResolver",1588],["T_OBJECT_OPERATOR","->",1588],["T_STRING","getWebsiteCodeToId",1588],"(",["T_VARIABLE","$websiteCode",1588],")",";",["T_WHITESPACE","\n                        ",1588],["T_VARIABLE","$this",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","websitesCache",1589],"[",["T_VARIABLE","$rowSku",1589],"]","[",["T_VARIABLE","$websiteId",1589],"]",["T_WHITESPACE"," ",1589],"=",["T_WHITESPACE"," ",1589],["T_STRING","true",1589],";",["T_WHITESPACE","\n                    ",1589],"}",["T_WHITESPACE","\n                ",1590],"}",["T_WHITESPACE","\n\n                ",1591],["T_COMMENT","\/\/ 3. Categories phase\n",1593],["T_WHITESPACE","                ",1594],["T_IF","if",1594],["T_WHITESPACE"," ",1594],"(","!",["T_STRING","array_key_exists",1594],"(",["T_VARIABLE","$rowSku",1594],",",["T_WHITESPACE"," ",1594],["T_VARIABLE","$this",1594],["T_OBJECT_OPERATOR","->",1594],["T_STRING","categoriesCache",1594],")",")",["T_WHITESPACE"," ",1594],"{",["T_WHITESPACE","\n                    ",1594],["T_VARIABLE","$this",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","categoriesCache",1595],"[",["T_VARIABLE","$rowSku",1595],"]",["T_WHITESPACE"," ",1595],"=",["T_WHITESPACE"," ",1595],"[","]",";",["T_WHITESPACE","\n                ",1595],"}",["T_WHITESPACE","\n                ",1596],["T_VARIABLE","$rowData",1597],"[",["T_CONSTANT_ENCAPSED_STRING","'rowNum'",1597],"]",["T_WHITESPACE"," ",1597],"=",["T_WHITESPACE"," ",1597],["T_VARIABLE","$rowNum",1597],";",["T_WHITESPACE","\n                ",1597],["T_VARIABLE","$categoryIds",1598],["T_WHITESPACE"," ",1598],"=",["T_WHITESPACE"," ",1598],["T_VARIABLE","$this",1598],["T_OBJECT_OPERATOR","->",1598],["T_STRING","processRowCategories",1598],"(",["T_VARIABLE","$rowData",1598],")",";",["T_WHITESPACE","\n                ",1598],["T_FOREACH","foreach",1599],["T_WHITESPACE"," ",1599],"(",["T_VARIABLE","$categoryIds",1599],["T_WHITESPACE"," ",1599],["T_AS","as",1599],["T_WHITESPACE"," ",1599],["T_VARIABLE","$id",1599],")",["T_WHITESPACE"," ",1599],"{",["T_WHITESPACE","\n                    ",1599],["T_VARIABLE","$this",1600],["T_OBJECT_OPERATOR","->",1600],["T_STRING","categoriesCache",1600],"[",["T_VARIABLE","$rowSku",1600],"]","[",["T_VARIABLE","$id",1600],"]",["T_WHITESPACE"," ",1600],"=",["T_WHITESPACE"," ",1600],["T_STRING","true",1600],";",["T_WHITESPACE","\n                ",1600],"}",["T_WHITESPACE","\n                ",1601],["T_UNSET","unset",1602],"(",["T_VARIABLE","$rowData",1602],"[",["T_CONSTANT_ENCAPSED_STRING","'rowNum'",1602],"]",")",";",["T_WHITESPACE","\n\n                ",1602],["T_COMMENT","\/\/ 4.1. Tier prices phase\n",1604],["T_WHITESPACE","                ",1605],["T_IF","if",1605],["T_WHITESPACE"," ",1605],"(","!",["T_EMPTY","empty",1605],"(",["T_VARIABLE","$rowData",1605],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_website'",1605],"]",")",")",["T_WHITESPACE"," ",1605],"{",["T_WHITESPACE","\n                    ",1605],["T_VARIABLE","$tierPrices",1606],"[",["T_VARIABLE","$rowSku",1606],"]","[","]",["T_WHITESPACE"," ",1606],"=",["T_WHITESPACE"," ",1606],"[",["T_WHITESPACE","\n                        ",1606],["T_CONSTANT_ENCAPSED_STRING","'all_groups'",1607],["T_WHITESPACE"," ",1607],["T_DOUBLE_ARROW","=>",1607],["T_WHITESPACE"," ",1607],["T_VARIABLE","$rowData",1607],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_customer_group'",1607],"]",["T_WHITESPACE"," ",1607],["T_IS_EQUAL","==",1607],["T_WHITESPACE"," ",1607],["T_STRING","self",1607],["T_DOUBLE_COLON","::",1607],["T_STRING","VALUE_ALL",1607],",",["T_WHITESPACE","\n                        ",1607],["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",1608],["T_WHITESPACE"," ",1608],["T_DOUBLE_ARROW","=>",1608],["T_WHITESPACE"," ",1608],["T_VARIABLE","$rowData",1608],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_customer_group'",1608],"]",["T_WHITESPACE"," ",1608],["T_IS_EQUAL","==",1608],["T_WHITESPACE","\n                        ",1608],["T_STRING","self",1609],["T_DOUBLE_COLON","::",1609],["T_STRING","VALUE_ALL",1609],["T_WHITESPACE"," ",1609],"?",["T_WHITESPACE"," ",1609],["T_LNUMBER","0",1609],["T_WHITESPACE"," ",1609],":",["T_WHITESPACE"," ",1609],["T_VARIABLE","$rowData",1609],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_customer_group'",1609],"]",",",["T_WHITESPACE","\n                        ",1609],["T_CONSTANT_ENCAPSED_STRING","'qty'",1610],["T_WHITESPACE"," ",1610],["T_DOUBLE_ARROW","=>",1610],["T_WHITESPACE"," ",1610],["T_VARIABLE","$rowData",1610],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_qty'",1610],"]",",",["T_WHITESPACE","\n                        ",1610],["T_CONSTANT_ENCAPSED_STRING","'value'",1611],["T_WHITESPACE"," ",1611],["T_DOUBLE_ARROW","=>",1611],["T_WHITESPACE"," ",1611],["T_VARIABLE","$rowData",1611],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_price'",1611],"]",",",["T_WHITESPACE","\n                        ",1611],["T_CONSTANT_ENCAPSED_STRING","'website_id'",1612],["T_WHITESPACE"," ",1612],["T_DOUBLE_ARROW","=>",1612],["T_WHITESPACE"," ",1612],["T_STRING","self",1612],["T_DOUBLE_COLON","::",1612],["T_STRING","VALUE_ALL",1612],["T_WHITESPACE"," ",1612],["T_IS_EQUAL","==",1612],["T_WHITESPACE"," ",1612],["T_VARIABLE","$rowData",1612],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_website'",1612],"]",["T_WHITESPACE"," ",1612],["T_BOOLEAN_OR","||",1612],["T_WHITESPACE","\n                        ",1612],["T_VARIABLE","$priceIsGlobal",1613],["T_WHITESPACE"," ",1613],"?",["T_WHITESPACE"," ",1613],["T_LNUMBER","0",1613],["T_WHITESPACE"," ",1613],":",["T_WHITESPACE"," ",1613],["T_VARIABLE","$this",1613],["T_OBJECT_OPERATOR","->",1613],["T_STRING","storeResolver",1613],["T_OBJECT_OPERATOR","->",1613],["T_STRING","getWebsiteCodeToId",1613],"(",["T_VARIABLE","$rowData",1613],"[",["T_CONSTANT_ENCAPSED_STRING","'_tier_price_website'",1613],"]",")",",",["T_WHITESPACE","\n                    ",1613],"]",";",["T_WHITESPACE","\n                ",1614],"}",["T_WHITESPACE","\n\n                ",1615],["T_IF","if",1617],["T_WHITESPACE"," ",1617],"(","!",["T_VARIABLE","$this",1617],["T_OBJECT_OPERATOR","->",1617],["T_STRING","validateRow",1617],"(",["T_VARIABLE","$rowData",1617],",",["T_WHITESPACE"," ",1617],["T_VARIABLE","$rowNum",1617],")",")",["T_WHITESPACE"," ",1617],"{",["T_WHITESPACE","\n                    ",1617],["T_CONTINUE","continue",1618],";",["T_WHITESPACE","\n                ",1618],"}",["T_WHITESPACE","\n\n                ",1619],["T_COMMENT","\/\/ 5. Media gallery phase\n",1621],["T_WHITESPACE","                ",1622],["T_VARIABLE","$disabledImages",1622],["T_WHITESPACE"," ",1622],"=",["T_WHITESPACE"," ",1622],"[","]",";",["T_WHITESPACE","\n                ",1622],["T_LIST","list",1623],"(",["T_VARIABLE","$rowImages",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$rowLabels",1623],")",["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_VARIABLE","$this",1623],["T_OBJECT_OPERATOR","->",1623],["T_STRING","getImagesFromRow",1623],"(",["T_VARIABLE","$rowData",1623],")",";",["T_WHITESPACE","\n                ",1623],["T_IF","if",1624],["T_WHITESPACE"," ",1624],"(",["T_ISSET","isset",1624],"(",["T_VARIABLE","$rowData",1624],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_is_disabled'",1624],"]",")",")",["T_WHITESPACE"," ",1624],"{",["T_WHITESPACE","\n                    ",1624],["T_VARIABLE","$disabledImages",1625],["T_WHITESPACE"," ",1625],"=",["T_WHITESPACE"," ",1625],["T_STRING","array_flip",1625],"(",["T_WHITESPACE","\n                        ",1625],["T_STRING","explode",1626],"(",["T_VARIABLE","$this",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","getMultipleValueSeparator",1626],"(",")",",",["T_WHITESPACE"," ",1626],["T_VARIABLE","$rowData",1626],"[",["T_CONSTANT_ENCAPSED_STRING","'_media_is_disabled'",1626],"]",")",["T_WHITESPACE","\n                    ",1626],")",";",["T_WHITESPACE","\n                ",1627],"}",["T_WHITESPACE","\n                ",1628],["T_VARIABLE","$rowData",1629],"[",["T_STRING","self",1629],["T_DOUBLE_COLON","::",1629],["T_STRING","COL_MEDIA_IMAGE",1629],"]",["T_WHITESPACE"," ",1629],"=",["T_WHITESPACE"," ",1629],"[","]",";",["T_WHITESPACE","\n                ",1629],["T_FOREACH","foreach",1630],["T_WHITESPACE"," ",1630],"(",["T_VARIABLE","$rowImages",1630],["T_WHITESPACE"," ",1630],["T_AS","as",1630],["T_WHITESPACE"," ",1630],["T_VARIABLE","$column",1630],["T_WHITESPACE"," ",1630],["T_DOUBLE_ARROW","=>",1630],["T_WHITESPACE"," ",1630],["T_VARIABLE","$columnImages",1630],")",["T_WHITESPACE"," ",1630],"{",["T_WHITESPACE","\n                    ",1630],["T_FOREACH","foreach",1631],["T_WHITESPACE"," ",1631],"(",["T_VARIABLE","$columnImages",1631],["T_WHITESPACE"," ",1631],["T_AS","as",1631],["T_WHITESPACE"," ",1631],["T_VARIABLE","$position",1631],["T_WHITESPACE"," ",1631],["T_DOUBLE_ARROW","=>",1631],["T_WHITESPACE"," ",1631],["T_VARIABLE","$columnImage",1631],")",["T_WHITESPACE"," ",1631],"{",["T_WHITESPACE","\n                        ",1631],["T_IF","if",1632],["T_WHITESPACE"," ",1632],"(","!",["T_ISSET","isset",1632],"(",["T_VARIABLE","$uploadedImages",1632],"[",["T_VARIABLE","$columnImage",1632],"]",")",")",["T_WHITESPACE"," ",1632],"{",["T_WHITESPACE","\n                            ",1632],["T_VARIABLE","$uploadedFile",1633],["T_WHITESPACE"," ",1633],"=",["T_WHITESPACE"," ",1633],["T_VARIABLE","$this",1633],["T_OBJECT_OPERATOR","->",1633],["T_STRING","uploadMediaFiles",1633],"(",["T_VARIABLE","$columnImage",1633],",",["T_WHITESPACE"," ",1633],["T_STRING","true",1633],")",";",["T_WHITESPACE","\n                            ",1633],["T_IF","if",1634],["T_WHITESPACE"," ",1634],"(",["T_VARIABLE","$uploadedFile",1634],")",["T_WHITESPACE"," ",1634],"{",["T_WHITESPACE","\n                                ",1634],["T_VARIABLE","$uploadedImages",1635],"[",["T_VARIABLE","$columnImage",1635],"]",["T_WHITESPACE"," ",1635],"=",["T_WHITESPACE"," ",1635],["T_VARIABLE","$uploadedFile",1635],";",["T_WHITESPACE","\n                            ",1635],"}",["T_WHITESPACE"," ",1636],["T_ELSE","else",1636],["T_WHITESPACE"," ",1636],"{",["T_WHITESPACE","\n                                ",1636],["T_VARIABLE","$this",1637],["T_OBJECT_OPERATOR","->",1637],["T_STRING","addRowError",1637],"(",["T_WHITESPACE","\n                                    ",1637],["T_STRING","ValidatorInterface",1638],["T_DOUBLE_COLON","::",1638],["T_STRING","ERROR_MEDIA_URL_NOT_ACCESSIBLE",1638],",",["T_WHITESPACE","\n                                    ",1638],["T_VARIABLE","$rowNum",1639],",",["T_WHITESPACE","\n                                    ",1639],["T_STRING","null",1640],",",["T_WHITESPACE","\n                                    ",1640],["T_STRING","null",1641],",",["T_WHITESPACE","\n                                    ",1641],["T_STRING","ProcessingError",1642],["T_DOUBLE_COLON","::",1642],["T_STRING","ERROR_LEVEL_NOT_CRITICAL",1642],["T_WHITESPACE","\n                                ",1642],")",";",["T_WHITESPACE","\n                            ",1643],"}",["T_WHITESPACE","\n                        ",1644],"}",["T_WHITESPACE"," ",1645],["T_ELSE","else",1645],["T_WHITESPACE"," ",1645],"{",["T_WHITESPACE","\n                            ",1645],["T_VARIABLE","$uploadedFile",1646],["T_WHITESPACE"," ",1646],"=",["T_WHITESPACE"," ",1646],["T_VARIABLE","$uploadedImages",1646],"[",["T_VARIABLE","$columnImage",1646],"]",";",["T_WHITESPACE","\n                        ",1646],"}",["T_WHITESPACE","\n\n                        ",1647],["T_IF","if",1649],["T_WHITESPACE"," ",1649],"(",["T_VARIABLE","$uploadedFile",1649],["T_WHITESPACE"," ",1649],["T_BOOLEAN_AND","&&",1649],["T_WHITESPACE"," ",1649],["T_VARIABLE","$column",1649],["T_WHITESPACE"," ",1649],["T_IS_NOT_IDENTICAL","!==",1649],["T_WHITESPACE"," ",1649],["T_STRING","self",1649],["T_DOUBLE_COLON","::",1649],["T_STRING","COL_MEDIA_IMAGE",1649],")",["T_WHITESPACE"," ",1649],"{",["T_WHITESPACE","\n                            ",1649],["T_VARIABLE","$rowData",1650],"[",["T_VARIABLE","$column",1650],"]",["T_WHITESPACE"," ",1650],"=",["T_WHITESPACE"," ",1650],["T_VARIABLE","$uploadedFile",1650],";",["T_WHITESPACE","\n                        ",1650],"}",["T_WHITESPACE","\n\n                        ",1651],["T_IF","if",1653],["T_WHITESPACE"," ",1653],"(",["T_VARIABLE","$uploadedFile",1653],["T_WHITESPACE"," ",1653],["T_BOOLEAN_AND","&&",1653],["T_WHITESPACE"," ",1653],"!",["T_ISSET","isset",1653],"(",["T_VARIABLE","$mediaGallery",1653],"[",["T_VARIABLE","$rowSku",1653],"]","[",["T_VARIABLE","$uploadedFile",1653],"]",")",")",["T_WHITESPACE"," ",1653],"{",["T_WHITESPACE","\n                            ",1653],["T_IF","if",1654],["T_WHITESPACE"," ",1654],"(",["T_ISSET","isset",1654],"(",["T_VARIABLE","$existingImages",1654],"[",["T_VARIABLE","$rowSku",1654],"]","[",["T_VARIABLE","$uploadedFile",1654],"]",")",")",["T_WHITESPACE"," ",1654],"{",["T_WHITESPACE","\n                                ",1654],["T_IF","if",1655],["T_WHITESPACE"," ",1655],"(",["T_ISSET","isset",1655],"(",["T_VARIABLE","$rowLabels",1655],"[",["T_VARIABLE","$column",1655],"]","[",["T_VARIABLE","$position",1655],"]",")",["T_WHITESPACE","\n                                    ",1655],["T_BOOLEAN_AND","&&",1656],["T_WHITESPACE"," ",1656],["T_VARIABLE","$rowLabels",1656],"[",["T_VARIABLE","$column",1656],"]","[",["T_VARIABLE","$position",1656],"]",["T_WHITESPACE"," ",1656],["T_IS_NOT_EQUAL","!=",1656],["T_WHITESPACE"," ",1656],["T_VARIABLE","$existingImages",1656],"[",["T_VARIABLE","$rowSku",1656],"]","[",["T_VARIABLE","$uploadedFile",1656],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",1656],"]",["T_WHITESPACE","\n                                ",1656],")",["T_WHITESPACE"," ",1657],"{",["T_WHITESPACE","\n                                    ",1657],["T_VARIABLE","$labelsForUpdate",1658],"[","]",["T_WHITESPACE"," ",1658],"=",["T_WHITESPACE"," ",1658],"[",["T_WHITESPACE","\n                                        ",1658],["T_CONSTANT_ENCAPSED_STRING","'label'",1659],["T_WHITESPACE"," ",1659],["T_DOUBLE_ARROW","=>",1659],["T_WHITESPACE"," ",1659],["T_VARIABLE","$rowLabels",1659],"[",["T_VARIABLE","$column",1659],"]","[",["T_VARIABLE","$position",1659],"]",",",["T_WHITESPACE","\n                                        ",1659],["T_CONSTANT_ENCAPSED_STRING","'imageData'",1660],["T_WHITESPACE"," ",1660],["T_DOUBLE_ARROW","=>",1660],["T_WHITESPACE"," ",1660],["T_VARIABLE","$existingImages",1660],"[",["T_VARIABLE","$rowSku",1660],"]","[",["T_VARIABLE","$uploadedFile",1660],"]",["T_WHITESPACE","\n                                    ",1660],"]",";",["T_WHITESPACE","\n                                ",1661],"}",["T_WHITESPACE","\n                            ",1662],"}",["T_WHITESPACE"," ",1663],["T_ELSE","else",1663],["T_WHITESPACE"," ",1663],"{",["T_WHITESPACE","\n                                ",1663],["T_IF","if",1664],["T_WHITESPACE"," ",1664],"(",["T_VARIABLE","$column",1664],["T_WHITESPACE"," ",1664],["T_IS_EQUAL","==",1664],["T_WHITESPACE"," ",1664],["T_STRING","self",1664],["T_DOUBLE_COLON","::",1664],["T_STRING","COL_MEDIA_IMAGE",1664],")",["T_WHITESPACE"," ",1664],"{",["T_WHITESPACE","\n                                    ",1664],["T_VARIABLE","$rowData",1665],"[",["T_VARIABLE","$column",1665],"]","[","]",["T_WHITESPACE"," ",1665],"=",["T_WHITESPACE"," ",1665],["T_VARIABLE","$uploadedFile",1665],";",["T_WHITESPACE","\n                                ",1665],"}",["T_WHITESPACE","\n                                ",1666],["T_VARIABLE","$mediaGallery",1667],"[",["T_VARIABLE","$rowSku",1667],"]","[",["T_VARIABLE","$uploadedFile",1667],"]",["T_WHITESPACE"," ",1667],"=",["T_WHITESPACE"," ",1667],"[",["T_WHITESPACE","\n                                    ",1667],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1668],["T_WHITESPACE"," ",1668],["T_DOUBLE_ARROW","=>",1668],["T_WHITESPACE"," ",1668],["T_VARIABLE","$this",1668],["T_OBJECT_OPERATOR","->",1668],["T_STRING","getMediaGalleryAttributeId",1668],"(",")",",",["T_WHITESPACE","\n                                    ",1668],["T_CONSTANT_ENCAPSED_STRING","'label'",1669],["T_WHITESPACE"," ",1669],["T_DOUBLE_ARROW","=>",1669],["T_WHITESPACE"," ",1669],["T_ISSET","isset",1669],"(",["T_VARIABLE","$rowLabels",1669],"[",["T_VARIABLE","$column",1669],"]","[",["T_VARIABLE","$position",1669],"]",")",["T_WHITESPACE"," ",1669],"?",["T_WHITESPACE"," ",1669],["T_VARIABLE","$rowLabels",1669],"[",["T_VARIABLE","$column",1669],"]","[",["T_VARIABLE","$position",1669],"]",["T_WHITESPACE"," ",1669],":",["T_WHITESPACE"," ",1669],["T_CONSTANT_ENCAPSED_STRING","''",1669],",",["T_WHITESPACE","\n                                    ",1669],["T_CONSTANT_ENCAPSED_STRING","'position'",1670],["T_WHITESPACE"," ",1670],["T_DOUBLE_ARROW","=>",1670],["T_WHITESPACE"," ",1670],["T_VARIABLE","$position",1670],["T_WHITESPACE"," ",1670],"+",["T_WHITESPACE"," ",1670],["T_LNUMBER","1",1670],",",["T_WHITESPACE","\n                                    ",1670],["T_CONSTANT_ENCAPSED_STRING","'disabled'",1671],["T_WHITESPACE"," ",1671],["T_DOUBLE_ARROW","=>",1671],["T_WHITESPACE"," ",1671],["T_ISSET","isset",1671],"(",["T_VARIABLE","$disabledImages",1671],"[",["T_VARIABLE","$columnImage",1671],"]",")",["T_WHITESPACE"," ",1671],"?",["T_WHITESPACE"," ",1671],["T_CONSTANT_ENCAPSED_STRING","'1'",1671],["T_WHITESPACE"," ",1671],":",["T_WHITESPACE"," ",1671],["T_CONSTANT_ENCAPSED_STRING","'0'",1671],",",["T_WHITESPACE","\n                                    ",1671],["T_CONSTANT_ENCAPSED_STRING","'value'",1672],["T_WHITESPACE"," ",1672],["T_DOUBLE_ARROW","=>",1672],["T_WHITESPACE"," ",1672],["T_VARIABLE","$uploadedFile",1672],",",["T_WHITESPACE","\n                                ",1672],"]",";",["T_WHITESPACE","\n                            ",1673],"}",["T_WHITESPACE","\n                        ",1674],"}",["T_WHITESPACE","\n                    ",1675],"}",["T_WHITESPACE","\n                ",1676],"}",["T_WHITESPACE","\n\n                ",1677],["T_COMMENT","\/\/ 6. Attributes phase\n",1679],["T_WHITESPACE","                ",1680],["T_VARIABLE","$rowStore",1680],["T_WHITESPACE"," ",1680],"=",["T_WHITESPACE"," ",1680],"(",["T_STRING","self",1680],["T_DOUBLE_COLON","::",1680],["T_STRING","SCOPE_STORE",1680],["T_WHITESPACE"," ",1680],["T_IS_EQUAL","==",1680],["T_WHITESPACE"," ",1680],["T_VARIABLE","$rowScope",1680],")",["T_WHITESPACE","\n                    ",1680],"?",["T_WHITESPACE"," ",1681],["T_VARIABLE","$this",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","storeResolver",1681],["T_OBJECT_OPERATOR","->",1681],["T_STRING","getStoreCodeToId",1681],"(",["T_VARIABLE","$rowData",1681],"[",["T_STRING","self",1681],["T_DOUBLE_COLON","::",1681],["T_STRING","COL_STORE",1681],"]",")",["T_WHITESPACE","\n                    ",1681],":",["T_WHITESPACE"," ",1682],["T_LNUMBER","0",1682],";",["T_WHITESPACE","\n                ",1682],["T_VARIABLE","$productType",1683],["T_WHITESPACE"," ",1683],"=",["T_WHITESPACE"," ",1683],["T_ISSET","isset",1683],"(",["T_VARIABLE","$rowData",1683],"[",["T_STRING","self",1683],["T_DOUBLE_COLON","::",1683],["T_STRING","COL_TYPE",1683],"]",")",["T_WHITESPACE"," ",1683],"?",["T_WHITESPACE"," ",1683],["T_VARIABLE","$rowData",1683],"[",["T_STRING","self",1683],["T_DOUBLE_COLON","::",1683],["T_STRING","COL_TYPE",1683],"]",["T_WHITESPACE"," ",1683],":",["T_WHITESPACE"," ",1683],["T_STRING","null",1683],";",["T_WHITESPACE","\n                ",1683],["T_IF","if",1684],["T_WHITESPACE"," ",1684],"(","!",["T_STRING","is_null",1684],"(",["T_VARIABLE","$productType",1684],")",")",["T_WHITESPACE"," ",1684],"{",["T_WHITESPACE","\n                    ",1684],["T_VARIABLE","$previousType",1685],["T_WHITESPACE"," ",1685],"=",["T_WHITESPACE"," ",1685],["T_VARIABLE","$productType",1685],";",["T_WHITESPACE","\n                ",1685],"}",["T_WHITESPACE","\n                ",1686],["T_IF","if",1687],["T_WHITESPACE"," ",1687],"(",["T_ISSET","isset",1687],"(",["T_VARIABLE","$rowData",1687],"[",["T_STRING","self",1687],["T_DOUBLE_COLON","::",1687],["T_STRING","COL_ATTR_SET",1687],"]",")",")",["T_WHITESPACE"," ",1687],"{",["T_WHITESPACE","\n                    ",1687],["T_VARIABLE","$prevAttributeSet",1688],["T_WHITESPACE"," ",1688],"=",["T_WHITESPACE"," ",1688],["T_VARIABLE","$rowData",1688],"[",["T_STRING","self",1688],["T_DOUBLE_COLON","::",1688],["T_STRING","COL_ATTR_SET",1688],"]",";",["T_WHITESPACE","\n                ",1688],"}",["T_WHITESPACE","\n                ",1689],["T_IF","if",1690],["T_WHITESPACE"," ",1690],"(",["T_STRING","self",1690],["T_DOUBLE_COLON","::",1690],["T_STRING","SCOPE_NULL",1690],["T_WHITESPACE"," ",1690],["T_IS_EQUAL","==",1690],["T_WHITESPACE"," ",1690],["T_VARIABLE","$rowScope",1690],")",["T_WHITESPACE"," ",1690],"{",["T_WHITESPACE","\n                    ",1690],["T_COMMENT","\/\/ for multiselect attributes only\n",1691],["T_WHITESPACE","                    ",1692],["T_IF","if",1692],["T_WHITESPACE"," ",1692],"(","!",["T_STRING","is_null",1692],"(",["T_VARIABLE","$prevAttributeSet",1692],")",")",["T_WHITESPACE"," ",1692],"{",["T_WHITESPACE","\n                        ",1692],["T_VARIABLE","$rowData",1693],"[",["T_STRING","self",1693],["T_DOUBLE_COLON","::",1693],["T_STRING","COL_ATTR_SET",1693],"]",["T_WHITESPACE"," ",1693],"=",["T_WHITESPACE"," ",1693],["T_VARIABLE","$prevAttributeSet",1693],";",["T_WHITESPACE","\n                    ",1693],"}",["T_WHITESPACE","\n                    ",1694],["T_IF","if",1695],["T_WHITESPACE"," ",1695],"(",["T_STRING","is_null",1695],"(",["T_VARIABLE","$productType",1695],")",["T_WHITESPACE"," ",1695],["T_BOOLEAN_AND","&&",1695],["T_WHITESPACE"," ",1695],"!",["T_STRING","is_null",1695],"(",["T_VARIABLE","$previousType",1695],")",")",["T_WHITESPACE"," ",1695],"{",["T_WHITESPACE","\n                        ",1695],["T_VARIABLE","$productType",1696],["T_WHITESPACE"," ",1696],"=",["T_WHITESPACE"," ",1696],["T_VARIABLE","$previousType",1696],";",["T_WHITESPACE","\n                    ",1696],"}",["T_WHITESPACE","\n                    ",1697],["T_IF","if",1698],["T_WHITESPACE"," ",1698],"(",["T_STRING","is_null",1698],"(",["T_VARIABLE","$productType",1698],")",")",["T_WHITESPACE"," ",1698],"{",["T_WHITESPACE","\n                        ",1698],["T_CONTINUE","continue",1699],";",["T_WHITESPACE","\n                    ",1699],"}",["T_WHITESPACE","\n                ",1700],"}",["T_WHITESPACE","\n\n                ",1701],["T_VARIABLE","$productTypeModel",1703],["T_WHITESPACE"," ",1703],"=",["T_WHITESPACE"," ",1703],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","_productTypeModels",1703],"[",["T_VARIABLE","$productType",1703],"]",";",["T_WHITESPACE","\n                ",1703],["T_IF","if",1704],["T_WHITESPACE"," ",1704],"(","!",["T_EMPTY","empty",1704],"(",["T_VARIABLE","$rowData",1704],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_name'",1704],"]",")",")",["T_WHITESPACE"," ",1704],"{",["T_WHITESPACE","\n                    ",1704],["T_VARIABLE","$rowData",1705],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",1705],"]",["T_WHITESPACE"," ",1705],"=",["T_WHITESPACE","\n                        ",1705],["T_VARIABLE","$this",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","taxClassProcessor",1706],["T_OBJECT_OPERATOR","->",1706],["T_STRING","upsertTaxClass",1706],"(",["T_VARIABLE","$rowData",1706],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_name'",1706],"]",",",["T_WHITESPACE"," ",1706],["T_VARIABLE","$productTypeModel",1706],")",";",["T_WHITESPACE","\n                ",1706],"}",["T_WHITESPACE","\n\n                ",1707],["T_IF","if",1709],["T_WHITESPACE"," ",1709],"(",["T_VARIABLE","$this",1709],["T_OBJECT_OPERATOR","->",1709],["T_STRING","getBehavior",1709],"(",")",["T_WHITESPACE"," ",1709],["T_IS_EQUAL","==",1709],["T_WHITESPACE"," ",1709],["T_STRING","Import",1709],["T_DOUBLE_COLON","::",1709],["T_STRING","BEHAVIOR_APPEND",1709],["T_WHITESPACE"," ",1709],["T_BOOLEAN_OR","||",1709],["T_WHITESPACE","\n                    ",1709],["T_EMPTY","empty",1710],"(",["T_VARIABLE","$rowData",1710],"[",["T_STRING","self",1710],["T_DOUBLE_COLON","::",1710],["T_STRING","COL_SKU",1710],"]",")",["T_WHITESPACE","\n                ",1710],")",["T_WHITESPACE"," ",1711],"{",["T_WHITESPACE","\n                    ",1711],["T_VARIABLE","$rowData",1712],["T_WHITESPACE"," ",1712],"=",["T_WHITESPACE"," ",1712],["T_VARIABLE","$productTypeModel",1712],["T_OBJECT_OPERATOR","->",1712],["T_STRING","clearEmptyData",1712],"(",["T_VARIABLE","$rowData",1712],")",";",["T_WHITESPACE","\n                ",1712],"}",["T_WHITESPACE","\n\n                ",1713],["T_VARIABLE","$rowData",1715],["T_WHITESPACE"," ",1715],"=",["T_WHITESPACE"," ",1715],["T_VARIABLE","$productTypeModel",1715],["T_OBJECT_OPERATOR","->",1715],["T_STRING","prepareAttributesWithDefaultValueForSave",1715],"(",["T_WHITESPACE","\n                    ",1715],["T_VARIABLE","$rowData",1716],",",["T_WHITESPACE","\n                    ",1716],"!",["T_ISSET","isset",1717],"(",["T_VARIABLE","$this",1717],["T_OBJECT_OPERATOR","->",1717],["T_STRING","_oldSku",1717],"[",["T_VARIABLE","$rowSku",1717],"]",")",["T_WHITESPACE","\n                ",1717],")",";",["T_WHITESPACE","\n                ",1718],["T_VARIABLE","$product",1719],["T_WHITESPACE"," ",1719],"=",["T_WHITESPACE"," ",1719],["T_VARIABLE","$this",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","_proxyProdFactory",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","create",1719],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",1719],["T_WHITESPACE"," ",1719],["T_DOUBLE_ARROW","=>",1719],["T_WHITESPACE"," ",1719],["T_VARIABLE","$rowData",1719],"]",")",";",["T_WHITESPACE","\n\n                ",1719],["T_FOREACH","foreach",1721],["T_WHITESPACE"," ",1721],"(",["T_VARIABLE","$rowData",1721],["T_WHITESPACE"," ",1721],["T_AS","as",1721],["T_WHITESPACE"," ",1721],["T_VARIABLE","$attrCode",1721],["T_WHITESPACE"," ",1721],["T_DOUBLE_ARROW","=>",1721],["T_WHITESPACE"," ",1721],["T_VARIABLE","$attrValue",1721],")",["T_WHITESPACE"," ",1721],"{",["T_WHITESPACE","\n                    ",1721],["T_VARIABLE","$attribute",1722],["T_WHITESPACE"," ",1722],"=",["T_WHITESPACE"," ",1722],["T_VARIABLE","$this",1722],["T_OBJECT_OPERATOR","->",1722],["T_STRING","retrieveAttributeByCode",1722],"(",["T_VARIABLE","$attrCode",1722],")",";",["T_WHITESPACE","\n\n                    ",1722],["T_IF","if",1724],["T_WHITESPACE"," ",1724],"(",["T_CONSTANT_ENCAPSED_STRING","'multiselect'",1724],["T_WHITESPACE"," ",1724],["T_IS_NOT_EQUAL","!=",1724],["T_WHITESPACE"," ",1724],["T_VARIABLE","$attribute",1724],["T_OBJECT_OPERATOR","->",1724],["T_STRING","getFrontendInput",1724],"(",")",["T_WHITESPACE"," ",1724],["T_BOOLEAN_AND","&&",1724],["T_WHITESPACE"," ",1724],["T_STRING","self",1724],["T_DOUBLE_COLON","::",1724],["T_STRING","SCOPE_NULL",1724],["T_WHITESPACE"," ",1724],["T_IS_EQUAL","==",1724],["T_WHITESPACE"," ",1724],["T_VARIABLE","$rowScope",1724],")",["T_WHITESPACE"," ",1724],"{",["T_WHITESPACE","\n                        ",1724],["T_COMMENT","\/\/ skip attribute processing for SCOPE_NULL rows\n",1725],["T_WHITESPACE","                        ",1726],["T_CONTINUE","continue",1726],";",["T_WHITESPACE","\n                    ",1726],"}",["T_WHITESPACE","\n                    ",1727],["T_VARIABLE","$attrId",1728],["T_WHITESPACE"," ",1728],"=",["T_WHITESPACE"," ",1728],["T_VARIABLE","$attribute",1728],["T_OBJECT_OPERATOR","->",1728],["T_STRING","getId",1728],"(",")",";",["T_WHITESPACE","\n                    ",1728],["T_VARIABLE","$backModel",1729],["T_WHITESPACE"," ",1729],"=",["T_WHITESPACE"," ",1729],["T_VARIABLE","$attribute",1729],["T_OBJECT_OPERATOR","->",1729],["T_STRING","getBackendModel",1729],"(",")",";",["T_WHITESPACE","\n                    ",1729],["T_VARIABLE","$attrTable",1730],["T_WHITESPACE"," ",1730],"=",["T_WHITESPACE"," ",1730],["T_VARIABLE","$attribute",1730],["T_OBJECT_OPERATOR","->",1730],["T_STRING","getBackend",1730],"(",")",["T_OBJECT_OPERATOR","->",1730],["T_STRING","getTable",1730],"(",")",";",["T_WHITESPACE","\n                    ",1730],["T_VARIABLE","$storeIds",1731],["T_WHITESPACE"," ",1731],"=",["T_WHITESPACE"," ",1731],"[",["T_LNUMBER","0",1731],"]",";",["T_WHITESPACE","\n\n                    ",1731],["T_IF","if",1733],["T_WHITESPACE"," ",1733],"(",["T_WHITESPACE","\n                        ",1733],["T_CONSTANT_ENCAPSED_STRING","'datetime'",1734],["T_WHITESPACE"," ",1734],["T_IS_EQUAL","==",1734],["T_WHITESPACE"," ",1734],["T_VARIABLE","$attribute",1734],["T_OBJECT_OPERATOR","->",1734],["T_STRING","getBackendType",1734],"(",")",["T_WHITESPACE","\n                        ",1734],["T_BOOLEAN_AND","&&",1735],["T_WHITESPACE"," ",1735],"(",["T_WHITESPACE","\n                            ",1735],["T_STRING","in_array",1736],"(",["T_VARIABLE","$attribute",1736],["T_OBJECT_OPERATOR","->",1736],["T_STRING","getAttributeCode",1736],"(",")",",",["T_WHITESPACE"," ",1736],["T_VARIABLE","$this",1736],["T_OBJECT_OPERATOR","->",1736],["T_STRING","dateAttrCodes",1736],")",["T_WHITESPACE","\n                            ",1736],["T_BOOLEAN_OR","||",1737],["T_WHITESPACE"," ",1737],["T_VARIABLE","$attribute",1737],["T_OBJECT_OPERATOR","->",1737],["T_STRING","getIsUserDefined",1737],"(",")",["T_WHITESPACE","\n                        ",1737],")",["T_WHITESPACE","\n                    ",1738],")",["T_WHITESPACE"," ",1739],"{",["T_WHITESPACE","\n                        ",1739],["T_VARIABLE","$attrValue",1740],["T_WHITESPACE"," ",1740],"=",["T_WHITESPACE"," ",1740],["T_VARIABLE","$this",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","dateTime",1740],["T_OBJECT_OPERATOR","->",1740],["T_STRING","formatDate",1740],"(",["T_VARIABLE","$attrValue",1740],",",["T_WHITESPACE"," ",1740],["T_STRING","false",1740],")",";",["T_WHITESPACE","\n                    ",1740],"}",["T_WHITESPACE"," ",1741],["T_ELSE","else",1741],["T_WHITESPACE"," ",1741],["T_IF","if",1741],["T_WHITESPACE"," ",1741],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime'",1741],["T_WHITESPACE"," ",1741],["T_IS_EQUAL","==",1741],["T_WHITESPACE"," ",1741],["T_VARIABLE","$attribute",1741],["T_OBJECT_OPERATOR","->",1741],["T_STRING","getBackendType",1741],"(",")",["T_WHITESPACE"," ",1741],["T_BOOLEAN_AND","&&",1741],["T_WHITESPACE"," ",1741],["T_STRING","strtotime",1741],"(",["T_VARIABLE","$attrValue",1741],")",")",["T_WHITESPACE"," ",1741],"{",["T_WHITESPACE","\n                        ",1741],["T_VARIABLE","$attrValue",1742],["T_WHITESPACE"," ",1742],"=",["T_WHITESPACE"," ",1742],["T_VARIABLE","$this",1742],["T_OBJECT_OPERATOR","->",1742],["T_STRING","dateTime",1742],["T_OBJECT_OPERATOR","->",1742],["T_STRING","gmDate",1742],"(",["T_WHITESPACE","\n                            ",1742],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",1743],",",["T_WHITESPACE","\n                            ",1743],["T_VARIABLE","$this",1744],["T_OBJECT_OPERATOR","->",1744],["T_STRING","_localeDate",1744],["T_OBJECT_OPERATOR","->",1744],["T_STRING","date",1744],"(",["T_VARIABLE","$attrValue",1744],")",["T_OBJECT_OPERATOR","->",1744],["T_STRING","getTimestamp",1744],"(",")",["T_WHITESPACE","\n                        ",1744],")",";",["T_WHITESPACE","\n                    ",1745],"}",["T_WHITESPACE"," ",1746],["T_ELSEIF","elseif",1746],["T_WHITESPACE"," ",1746],"(",["T_VARIABLE","$backModel",1746],")",["T_WHITESPACE"," ",1746],"{",["T_WHITESPACE","\n                        ",1746],["T_VARIABLE","$attribute",1747],["T_OBJECT_OPERATOR","->",1747],["T_STRING","getBackend",1747],"(",")",["T_OBJECT_OPERATOR","->",1747],["T_STRING","beforeSave",1747],"(",["T_VARIABLE","$product",1747],")",";",["T_WHITESPACE","\n                        ",1747],["T_VARIABLE","$attrValue",1748],["T_WHITESPACE"," ",1748],"=",["T_WHITESPACE"," ",1748],["T_VARIABLE","$product",1748],["T_OBJECT_OPERATOR","->",1748],["T_STRING","getData",1748],"(",["T_VARIABLE","$attribute",1748],["T_OBJECT_OPERATOR","->",1748],["T_STRING","getAttributeCode",1748],"(",")",")",";",["T_WHITESPACE","\n                    ",1748],"}",["T_WHITESPACE","\n                    ",1749],["T_IF","if",1750],["T_WHITESPACE"," ",1750],"(",["T_STRING","self",1750],["T_DOUBLE_COLON","::",1750],["T_STRING","SCOPE_STORE",1750],["T_WHITESPACE"," ",1750],["T_IS_EQUAL","==",1750],["T_WHITESPACE"," ",1750],["T_VARIABLE","$rowScope",1750],")",["T_WHITESPACE"," ",1750],"{",["T_WHITESPACE","\n                        ",1750],["T_IF","if",1751],["T_WHITESPACE"," ",1751],"(",["T_STRING","self",1751],["T_DOUBLE_COLON","::",1751],["T_STRING","SCOPE_WEBSITE",1751],["T_WHITESPACE"," ",1751],["T_IS_EQUAL","==",1751],["T_WHITESPACE"," ",1751],["T_VARIABLE","$attribute",1751],["T_OBJECT_OPERATOR","->",1751],["T_STRING","getIsGlobal",1751],"(",")",")",["T_WHITESPACE"," ",1751],"{",["T_WHITESPACE","\n                            ",1751],["T_COMMENT","\/\/ check website defaults already set\n",1752],["T_WHITESPACE","                            ",1753],["T_IF","if",1753],["T_WHITESPACE"," ",1753],"(","!",["T_ISSET","isset",1753],"(",["T_VARIABLE","$attributes",1753],"[",["T_VARIABLE","$attrTable",1753],"]","[",["T_VARIABLE","$rowSku",1753],"]","[",["T_VARIABLE","$attrId",1753],"]","[",["T_VARIABLE","$rowStore",1753],"]",")",")",["T_WHITESPACE"," ",1753],"{",["T_WHITESPACE","\n                                ",1753],["T_VARIABLE","$storeIds",1754],["T_WHITESPACE"," ",1754],"=",["T_WHITESPACE"," ",1754],["T_VARIABLE","$this",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","storeResolver",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","getStoreIdToWebsiteStoreIds",1754],"(",["T_VARIABLE","$rowStore",1754],")",";",["T_WHITESPACE","\n                            ",1754],"}",["T_WHITESPACE","\n                        ",1755],"}",["T_WHITESPACE"," ",1756],["T_ELSEIF","elseif",1756],["T_WHITESPACE"," ",1756],"(",["T_STRING","self",1756],["T_DOUBLE_COLON","::",1756],["T_STRING","SCOPE_STORE",1756],["T_WHITESPACE"," ",1756],["T_IS_EQUAL","==",1756],["T_WHITESPACE"," ",1756],["T_VARIABLE","$attribute",1756],["T_OBJECT_OPERATOR","->",1756],["T_STRING","getIsGlobal",1756],"(",")",")",["T_WHITESPACE"," ",1756],"{",["T_WHITESPACE","\n                            ",1756],["T_VARIABLE","$storeIds",1757],["T_WHITESPACE"," ",1757],"=",["T_WHITESPACE"," ",1757],"[",["T_VARIABLE","$rowStore",1757],"]",";",["T_WHITESPACE","\n                        ",1757],"}",["T_WHITESPACE","\n                        ",1758],["T_IF","if",1759],["T_WHITESPACE"," ",1759],"(","!",["T_ISSET","isset",1759],"(",["T_VARIABLE","$this",1759],["T_OBJECT_OPERATOR","->",1759],["T_STRING","_oldSku",1759],"[",["T_VARIABLE","$rowSku",1759],"]",")",")",["T_WHITESPACE"," ",1759],"{",["T_WHITESPACE","\n                            ",1759],["T_VARIABLE","$storeIds",1760],"[","]",["T_WHITESPACE"," ",1760],"=",["T_WHITESPACE"," ",1760],["T_LNUMBER","0",1760],";",["T_WHITESPACE","\n                        ",1760],"}",["T_WHITESPACE","\n                    ",1761],"}",["T_WHITESPACE","\n                    ",1762],["T_FOREACH","foreach",1763],["T_WHITESPACE"," ",1763],"(",["T_VARIABLE","$storeIds",1763],["T_WHITESPACE"," ",1763],["T_AS","as",1763],["T_WHITESPACE"," ",1763],["T_VARIABLE","$storeId",1763],")",["T_WHITESPACE"," ",1763],"{",["T_WHITESPACE","\n                        ",1763],["T_IF","if",1764],["T_WHITESPACE"," ",1764],"(","!",["T_ISSET","isset",1764],"(",["T_VARIABLE","$attributes",1764],"[",["T_VARIABLE","$attrTable",1764],"]","[",["T_VARIABLE","$rowSku",1764],"]","[",["T_VARIABLE","$attrId",1764],"]","[",["T_VARIABLE","$storeId",1764],"]",")",")",["T_WHITESPACE"," ",1764],"{",["T_WHITESPACE","\n                            ",1764],["T_VARIABLE","$attributes",1765],"[",["T_VARIABLE","$attrTable",1765],"]","[",["T_VARIABLE","$rowSku",1765],"]","[",["T_VARIABLE","$attrId",1765],"]","[",["T_VARIABLE","$storeId",1765],"]",["T_WHITESPACE"," ",1765],"=",["T_WHITESPACE"," ",1765],["T_VARIABLE","$attrValue",1765],";",["T_WHITESPACE","\n                        ",1765],"}",["T_WHITESPACE","\n                    ",1766],"}",["T_WHITESPACE","\n                    ",1767],["T_COMMENT","\/\/ restore 'backend_model' to avoid 'default' setting\n",1768],["T_WHITESPACE","                    ",1769],["T_VARIABLE","$attribute",1769],["T_OBJECT_OPERATOR","->",1769],["T_STRING","setBackendModel",1769],"(",["T_VARIABLE","$backModel",1769],")",";",["T_WHITESPACE","\n                ",1769],"}",["T_WHITESPACE","\n            ",1770],"}",["T_WHITESPACE","\n\n            ",1771],["T_FOREACH","foreach",1773],["T_WHITESPACE"," ",1773],"(",["T_VARIABLE","$bunch",1773],["T_WHITESPACE"," ",1773],["T_AS","as",1773],["T_WHITESPACE"," ",1773],["T_VARIABLE","$rowNum",1773],["T_WHITESPACE"," ",1773],["T_DOUBLE_ARROW","=>",1773],["T_WHITESPACE"," ",1773],["T_VARIABLE","$rowData",1773],")",["T_WHITESPACE"," ",1773],"{",["T_WHITESPACE","\n                ",1773],["T_IF","if",1774],["T_WHITESPACE"," ",1774],"(",["T_VARIABLE","$this",1774],["T_OBJECT_OPERATOR","->",1774],["T_STRING","getErrorAggregator",1774],"(",")",["T_OBJECT_OPERATOR","->",1774],["T_STRING","isRowInvalid",1774],"(",["T_VARIABLE","$rowNum",1774],")",")",["T_WHITESPACE"," ",1774],"{",["T_WHITESPACE","\n                    ",1774],["T_UNSET","unset",1775],"(",["T_VARIABLE","$bunch",1775],"[",["T_VARIABLE","$rowNum",1775],"]",")",";",["T_WHITESPACE","\n                ",1775],"}",["T_WHITESPACE","\n            ",1776],"}",["T_WHITESPACE","\n\n            ",1777],["T_VARIABLE","$this",1779],["T_OBJECT_OPERATOR","->",1779],["T_STRING","saveProductEntity",1779],"(",["T_WHITESPACE","\n                ",1779],["T_VARIABLE","$entityRowsIn",1780],",",["T_WHITESPACE","\n                ",1780],["T_VARIABLE","$entityRowsUp",1781],["T_WHITESPACE","\n            ",1781],")",["T_OBJECT_OPERATOR","->",1782],["T_STRING","_saveProductWebsites",1782],"(",["T_WHITESPACE","\n                ",1782],["T_VARIABLE","$this",1783],["T_OBJECT_OPERATOR","->",1783],["T_STRING","websitesCache",1783],["T_WHITESPACE","\n            ",1783],")",["T_OBJECT_OPERATOR","->",1784],["T_STRING","_saveProductCategories",1784],"(",["T_WHITESPACE","\n                ",1784],["T_VARIABLE","$this",1785],["T_OBJECT_OPERATOR","->",1785],["T_STRING","categoriesCache",1785],["T_WHITESPACE","\n            ",1785],")",["T_OBJECT_OPERATOR","->",1786],["T_STRING","_saveProductTierPrices",1786],"(",["T_WHITESPACE","\n                ",1786],["T_VARIABLE","$tierPrices",1787],["T_WHITESPACE","\n            ",1787],")",["T_OBJECT_OPERATOR","->",1788],["T_STRING","_saveMediaGallery",1788],"(",["T_WHITESPACE","\n                ",1788],["T_VARIABLE","$mediaGallery",1789],["T_WHITESPACE","\n            ",1789],")",["T_OBJECT_OPERATOR","->",1790],["T_STRING","_saveProductAttributes",1790],"(",["T_WHITESPACE","\n                ",1790],["T_VARIABLE","$attributes",1791],["T_WHITESPACE","\n            ",1791],")",["T_OBJECT_OPERATOR","->",1792],["T_STRING","updateMediaGalleryLabels",1792],"(",["T_WHITESPACE","\n                ",1792],["T_VARIABLE","$labelsForUpdate",1793],["T_WHITESPACE","\n            ",1793],")",";",["T_WHITESPACE","\n\n            ",1794],["T_VARIABLE","$this",1796],["T_OBJECT_OPERATOR","->",1796],["T_STRING","_eventManager",1796],["T_OBJECT_OPERATOR","->",1796],["T_STRING","dispatch",1796],"(",["T_WHITESPACE","\n                ",1796],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_import_bunch_save_after'",1797],",",["T_WHITESPACE","\n                ",1797],"[",["T_CONSTANT_ENCAPSED_STRING","'adapter'",1798],["T_WHITESPACE"," ",1798],["T_DOUBLE_ARROW","=>",1798],["T_WHITESPACE"," ",1798],["T_VARIABLE","$this",1798],",",["T_WHITESPACE"," ",1798],["T_CONSTANT_ENCAPSED_STRING","'bunch'",1798],["T_WHITESPACE"," ",1798],["T_DOUBLE_ARROW","=>",1798],["T_WHITESPACE"," ",1798],["T_VARIABLE","$bunch",1798],"]",["T_WHITESPACE","\n            ",1798],")",";",["T_WHITESPACE","\n        ",1799],"}",["T_WHITESPACE","\n\n        ",1800],["T_RETURN","return",1802],["T_WHITESPACE"," ",1802],["T_VARIABLE","$this",1802],";",["T_WHITESPACE","\n    ",1802],"}",["T_WHITESPACE","\n\n    ",1803],["T_DOC_COMMENT","\/**\n     * @param array $rowData\n     * @return array\n     *\/",1805],["T_WHITESPACE","\n    ",1808],["T_PROTECTED","protected",1809],["T_WHITESPACE"," ",1809],["T_FUNCTION","function",1809],["T_WHITESPACE"," ",1809],["T_STRING","processRowCategories",1809],"(",["T_VARIABLE","$rowData",1809],")",["T_WHITESPACE","\n    ",1809],"{",["T_WHITESPACE","\n        ",1810],["T_VARIABLE","$categoriesString",1811],["T_WHITESPACE"," ",1811],"=",["T_WHITESPACE"," ",1811],["T_EMPTY","empty",1811],"(",["T_VARIABLE","$rowData",1811],"[",["T_STRING","self",1811],["T_DOUBLE_COLON","::",1811],["T_STRING","COL_CATEGORY",1811],"]",")",["T_WHITESPACE"," ",1811],"?",["T_WHITESPACE"," ",1811],["T_CONSTANT_ENCAPSED_STRING","''",1811],["T_WHITESPACE"," ",1811],":",["T_WHITESPACE"," ",1811],["T_VARIABLE","$rowData",1811],"[",["T_STRING","self",1811],["T_DOUBLE_COLON","::",1811],["T_STRING","COL_CATEGORY",1811],"]",";",["T_WHITESPACE","\n        ",1811],["T_VARIABLE","$categoryIds",1812],["T_WHITESPACE"," ",1812],"=",["T_WHITESPACE"," ",1812],"[","]",";",["T_WHITESPACE","\n        ",1812],["T_IF","if",1813],["T_WHITESPACE"," ",1813],"(","!",["T_EMPTY","empty",1813],"(",["T_VARIABLE","$categoriesString",1813],")",")",["T_WHITESPACE"," ",1813],"{",["T_WHITESPACE","\n            ",1813],["T_VARIABLE","$categoryIds",1814],["T_WHITESPACE"," ",1814],"=",["T_WHITESPACE"," ",1814],["T_VARIABLE","$this",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","categoryProcessor",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","upsertCategories",1814],"(",["T_WHITESPACE","\n                ",1814],["T_VARIABLE","$categoriesString",1815],",",["T_WHITESPACE","\n                ",1815],["T_VARIABLE","$this",1816],["T_OBJECT_OPERATOR","->",1816],["T_STRING","getMultipleValueSeparator",1816],"(",")",["T_WHITESPACE","\n            ",1816],")",";",["T_WHITESPACE","\n            ",1817],["T_FOREACH","foreach",1818],["T_WHITESPACE"," ",1818],"(",["T_VARIABLE","$this",1818],["T_OBJECT_OPERATOR","->",1818],["T_STRING","categoryProcessor",1818],["T_OBJECT_OPERATOR","->",1818],["T_STRING","getFailedCategories",1818],"(",")",["T_WHITESPACE"," ",1818],["T_AS","as",1818],["T_WHITESPACE"," ",1818],["T_VARIABLE","$error",1818],")",["T_WHITESPACE"," ",1818],"{",["T_WHITESPACE","\n                ",1818],["T_VARIABLE","$this",1819],["T_OBJECT_OPERATOR","->",1819],["T_STRING","errorAggregator",1819],["T_OBJECT_OPERATOR","->",1819],["T_STRING","addError",1819],"(",["T_WHITESPACE","\n                    ",1819],["T_STRING","AbstractEntity",1820],["T_DOUBLE_COLON","::",1820],["T_STRING","ERROR_CODE_CATEGORY_NOT_VALID",1820],",",["T_WHITESPACE","\n                    ",1820],["T_STRING","ProcessingError",1821],["T_DOUBLE_COLON","::",1821],["T_STRING","ERROR_LEVEL_NOT_CRITICAL",1821],",",["T_WHITESPACE","\n                    ",1821],["T_VARIABLE","$rowData",1822],"[",["T_CONSTANT_ENCAPSED_STRING","'rowNum'",1822],"]",",",["T_WHITESPACE","\n                    ",1822],["T_STRING","self",1823],["T_DOUBLE_COLON","::",1823],["T_STRING","COL_CATEGORY",1823],",",["T_WHITESPACE","\n                    ",1823],["T_STRING","__",1824],"(",["T_CONSTANT_ENCAPSED_STRING","'Category \"%1\" has not been created.'",1824],",",["T_WHITESPACE"," ",1824],["T_VARIABLE","$error",1824],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",1824],"]",")",["T_WHITESPACE","\n                    ",1824],".",["T_WHITESPACE"," ",1825],["T_CONSTANT_ENCAPSED_STRING","' '",1825],["T_WHITESPACE"," ",1825],".",["T_WHITESPACE"," ",1825],["T_VARIABLE","$error",1825],"[",["T_CONSTANT_ENCAPSED_STRING","'exception'",1825],"]",["T_OBJECT_OPERATOR","->",1825],["T_STRING","getMessage",1825],"(",")",["T_WHITESPACE","\n                ",1825],")",";",["T_WHITESPACE","\n            ",1826],"}",["T_WHITESPACE","\n        ",1827],"}",["T_WHITESPACE","\n        ",1828],["T_RETURN","return",1829],["T_WHITESPACE"," ",1829],["T_VARIABLE","$categoryIds",1829],";",["T_WHITESPACE","\n    ",1829],"}",["T_WHITESPACE","\n\n    ",1830],["T_DOC_COMMENT","\/**\n     * @param string $productSku\n     * @return array\n     *\/",1832],["T_WHITESPACE","\n    ",1835],["T_PUBLIC","public",1836],["T_WHITESPACE"," ",1836],["T_FUNCTION","function",1836],["T_WHITESPACE"," ",1836],["T_STRING","getProductWebsites",1836],"(",["T_VARIABLE","$productSku",1836],")",["T_WHITESPACE","\n    ",1836],"{",["T_WHITESPACE","\n        ",1837],["T_RETURN","return",1838],["T_WHITESPACE"," ",1838],["T_STRING","array_keys",1838],"(",["T_VARIABLE","$this",1838],["T_OBJECT_OPERATOR","->",1838],["T_STRING","websitesCache",1838],"[",["T_VARIABLE","$productSku",1838],"]",")",";",["T_WHITESPACE","\n    ",1838],"}",["T_WHITESPACE","\n\n    ",1839],["T_DOC_COMMENT","\/**\n     * @param string $productSku\n     * @return array\n     *\/",1841],["T_WHITESPACE","\n    ",1844],["T_PUBLIC","public",1845],["T_WHITESPACE"," ",1845],["T_FUNCTION","function",1845],["T_WHITESPACE"," ",1845],["T_STRING","getProductCategories",1845],"(",["T_VARIABLE","$productSku",1845],")",["T_WHITESPACE","\n    ",1845],"{",["T_WHITESPACE","\n        ",1846],["T_RETURN","return",1847],["T_WHITESPACE"," ",1847],["T_STRING","array_keys",1847],"(",["T_VARIABLE","$this",1847],["T_OBJECT_OPERATOR","->",1847],["T_STRING","categoriesCache",1847],"[",["T_VARIABLE","$productSku",1847],"]",")",";",["T_WHITESPACE","\n    ",1847],"}",["T_WHITESPACE","\n\n    ",1848],["T_DOC_COMMENT","\/**\n     * @param string $storeCode\n     * @return array|int|null|string\n     *\/",1850],["T_WHITESPACE","\n    ",1853],["T_PUBLIC","public",1854],["T_WHITESPACE"," ",1854],["T_FUNCTION","function",1854],["T_WHITESPACE"," ",1854],["T_STRING","getStoreIdByCode",1854],"(",["T_VARIABLE","$storeCode",1854],")",["T_WHITESPACE","\n    ",1854],"{",["T_WHITESPACE","\n        ",1855],["T_IF","if",1856],["T_WHITESPACE"," ",1856],"(",["T_EMPTY","empty",1856],"(",["T_VARIABLE","$storeCode",1856],")",")",["T_WHITESPACE"," ",1856],"{",["T_WHITESPACE","\n            ",1856],["T_RETURN","return",1857],["T_WHITESPACE"," ",1857],["T_STRING","self",1857],["T_DOUBLE_COLON","::",1857],["T_STRING","SCOPE_DEFAULT",1857],";",["T_WHITESPACE","\n        ",1857],"}",["T_WHITESPACE","\n        ",1858],["T_RETURN","return",1859],["T_WHITESPACE"," ",1859],["T_VARIABLE","$this",1859],["T_OBJECT_OPERATOR","->",1859],["T_STRING","storeResolver",1859],["T_OBJECT_OPERATOR","->",1859],["T_STRING","getStoreCodeToId",1859],"(",["T_VARIABLE","$storeCode",1859],")",";",["T_WHITESPACE","\n    ",1859],"}",["T_WHITESPACE","\n\n    ",1860],["T_DOC_COMMENT","\/**\n     * Save product tier prices.\n     *\n     * @param array $tierPriceData\n     * @return $this\n     *\/",1862],["T_WHITESPACE","\n    ",1867],["T_PROTECTED","protected",1868],["T_WHITESPACE"," ",1868],["T_FUNCTION","function",1868],["T_WHITESPACE"," ",1868],["T_STRING","_saveProductTierPrices",1868],"(",["T_ARRAY","array",1868],["T_WHITESPACE"," ",1868],["T_VARIABLE","$tierPriceData",1868],")",["T_WHITESPACE","\n    ",1868],"{",["T_WHITESPACE","\n        ",1869],["T_STATIC","static",1870],["T_WHITESPACE"," ",1870],["T_VARIABLE","$tableName",1870],["T_WHITESPACE"," ",1870],"=",["T_WHITESPACE"," ",1870],["T_STRING","null",1870],";",["T_WHITESPACE","\n\n        ",1870],["T_IF","if",1872],["T_WHITESPACE"," ",1872],"(","!",["T_VARIABLE","$tableName",1872],")",["T_WHITESPACE"," ",1872],"{",["T_WHITESPACE","\n            ",1872],["T_VARIABLE","$tableName",1873],["T_WHITESPACE"," ",1873],"=",["T_WHITESPACE"," ",1873],["T_VARIABLE","$this",1873],["T_OBJECT_OPERATOR","->",1873],["T_STRING","_resourceFactory",1873],["T_OBJECT_OPERATOR","->",1873],["T_STRING","create",1873],"(",")",["T_OBJECT_OPERATOR","->",1873],["T_STRING","getTable",1873],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity_tier_price'",1873],")",";",["T_WHITESPACE","\n        ",1873],"}",["T_WHITESPACE","\n        ",1874],["T_IF","if",1875],["T_WHITESPACE"," ",1875],"(",["T_VARIABLE","$tierPriceData",1875],")",["T_WHITESPACE"," ",1875],"{",["T_WHITESPACE","\n            ",1875],["T_VARIABLE","$tierPriceIn",1876],["T_WHITESPACE"," ",1876],"=",["T_WHITESPACE"," ",1876],"[","]",";",["T_WHITESPACE","\n            ",1876],["T_VARIABLE","$delProductId",1877],["T_WHITESPACE"," ",1877],"=",["T_WHITESPACE"," ",1877],"[","]",";",["T_WHITESPACE","\n\n            ",1877],["T_FOREACH","foreach",1879],["T_WHITESPACE"," ",1879],"(",["T_VARIABLE","$tierPriceData",1879],["T_WHITESPACE"," ",1879],["T_AS","as",1879],["T_WHITESPACE"," ",1879],["T_VARIABLE","$delSku",1879],["T_WHITESPACE"," ",1879],["T_DOUBLE_ARROW","=>",1879],["T_WHITESPACE"," ",1879],["T_VARIABLE","$tierPriceRows",1879],")",["T_WHITESPACE"," ",1879],"{",["T_WHITESPACE","\n                ",1879],["T_VARIABLE","$productId",1880],["T_WHITESPACE"," ",1880],"=",["T_WHITESPACE"," ",1880],["T_VARIABLE","$this",1880],["T_OBJECT_OPERATOR","->",1880],["T_STRING","skuProcessor",1880],["T_OBJECT_OPERATOR","->",1880],["T_STRING","getNewSku",1880],"(",["T_VARIABLE","$delSku",1880],")","[",["T_VARIABLE","$this",1880],["T_OBJECT_OPERATOR","->",1880],["T_STRING","getProductEntityLinkField",1880],"(",")","]",";",["T_WHITESPACE","\n                ",1880],["T_VARIABLE","$delProductId",1881],"[","]",["T_WHITESPACE"," ",1881],"=",["T_WHITESPACE"," ",1881],["T_VARIABLE","$productId",1881],";",["T_WHITESPACE","\n\n                ",1881],["T_FOREACH","foreach",1883],["T_WHITESPACE"," ",1883],"(",["T_VARIABLE","$tierPriceRows",1883],["T_WHITESPACE"," ",1883],["T_AS","as",1883],["T_WHITESPACE"," ",1883],["T_VARIABLE","$row",1883],")",["T_WHITESPACE"," ",1883],"{",["T_WHITESPACE","\n                    ",1883],["T_VARIABLE","$row",1884],"[",["T_VARIABLE","$this",1884],["T_OBJECT_OPERATOR","->",1884],["T_STRING","getProductEntityLinkField",1884],"(",")","]",["T_WHITESPACE"," ",1884],"=",["T_WHITESPACE"," ",1884],["T_VARIABLE","$productId",1884],";",["T_WHITESPACE","\n                    ",1884],["T_VARIABLE","$tierPriceIn",1885],"[","]",["T_WHITESPACE"," ",1885],"=",["T_WHITESPACE"," ",1885],["T_VARIABLE","$row",1885],";",["T_WHITESPACE","\n                ",1885],"}",["T_WHITESPACE","\n            ",1886],"}",["T_WHITESPACE","\n            ",1887],["T_IF","if",1888],["T_WHITESPACE"," ",1888],"(",["T_STRING","Import",1888],["T_DOUBLE_COLON","::",1888],["T_STRING","BEHAVIOR_APPEND",1888],["T_WHITESPACE"," ",1888],["T_IS_NOT_EQUAL","!=",1888],["T_WHITESPACE"," ",1888],["T_VARIABLE","$this",1888],["T_OBJECT_OPERATOR","->",1888],["T_STRING","getBehavior",1888],"(",")",")",["T_WHITESPACE"," ",1888],"{",["T_WHITESPACE","\n                ",1888],["T_VARIABLE","$this",1889],["T_OBJECT_OPERATOR","->",1889],["T_STRING","_connection",1889],["T_OBJECT_OPERATOR","->",1889],["T_STRING","delete",1889],"(",["T_WHITESPACE","\n                    ",1889],["T_VARIABLE","$tableName",1890],",",["T_WHITESPACE","\n                    ",1890],["T_VARIABLE","$this",1891],["T_OBJECT_OPERATOR","->",1891],["T_STRING","_connection",1891],["T_OBJECT_OPERATOR","->",1891],["T_STRING","quoteInto",1891],"(","\"",["T_CURLY_OPEN","{",1891],["T_VARIABLE","$this",1891],["T_OBJECT_OPERATOR","->",1891],["T_STRING","getProductEntityLinkField",1891],"(",")","}",["T_ENCAPSED_AND_WHITESPACE"," IN (?)",1891],"\"",",",["T_WHITESPACE"," ",1891],["T_VARIABLE","$delProductId",1891],")",["T_WHITESPACE","\n                ",1891],")",";",["T_WHITESPACE","\n            ",1892],"}",["T_WHITESPACE","\n            ",1893],["T_IF","if",1894],["T_WHITESPACE"," ",1894],"(",["T_VARIABLE","$tierPriceIn",1894],")",["T_WHITESPACE"," ",1894],"{",["T_WHITESPACE","\n                ",1894],["T_VARIABLE","$this",1895],["T_OBJECT_OPERATOR","->",1895],["T_STRING","_connection",1895],["T_OBJECT_OPERATOR","->",1895],["T_STRING","insertOnDuplicate",1895],"(",["T_VARIABLE","$tableName",1895],",",["T_WHITESPACE"," ",1895],["T_VARIABLE","$tierPriceIn",1895],",",["T_WHITESPACE"," ",1895],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1895],"]",")",";",["T_WHITESPACE","\n            ",1895],"}",["T_WHITESPACE","\n        ",1896],"}",["T_WHITESPACE","\n        ",1897],["T_RETURN","return",1898],["T_WHITESPACE"," ",1898],["T_VARIABLE","$this",1898],";",["T_WHITESPACE","\n    ",1898],"}",["T_WHITESPACE","\n\n    ",1899],["T_DOC_COMMENT","\/**\n     * Returns an object for upload a media files\n     *\n     * @return \\Magento\\CatalogImportExport\\Model\\Import\\Uploader\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1901],["T_WHITESPACE","\n    ",1906],["T_PROTECTED","protected",1907],["T_WHITESPACE"," ",1907],["T_FUNCTION","function",1907],["T_WHITESPACE"," ",1907],["T_STRING","_getUploader",1907],"(",")",["T_WHITESPACE","\n    ",1907],"{",["T_WHITESPACE","\n        ",1908],["T_IF","if",1909],["T_WHITESPACE"," ",1909],"(",["T_STRING","is_null",1909],"(",["T_VARIABLE","$this",1909],["T_OBJECT_OPERATOR","->",1909],["T_STRING","_fileUploader",1909],")",")",["T_WHITESPACE"," ",1909],"{",["T_WHITESPACE","\n            ",1909],["T_VARIABLE","$this",1910],["T_OBJECT_OPERATOR","->",1910],["T_STRING","_fileUploader",1910],["T_WHITESPACE"," ",1910],"=",["T_WHITESPACE"," ",1910],["T_VARIABLE","$this",1910],["T_OBJECT_OPERATOR","->",1910],["T_STRING","_uploaderFactory",1910],["T_OBJECT_OPERATOR","->",1910],["T_STRING","create",1910],"(",")",";",["T_WHITESPACE","\n\n            ",1910],["T_VARIABLE","$this",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","_fileUploader",1912],["T_OBJECT_OPERATOR","->",1912],["T_STRING","init",1912],"(",")",";",["T_WHITESPACE","\n\n            ",1912],["T_VARIABLE","$dirConfig",1914],["T_WHITESPACE"," ",1914],"=",["T_WHITESPACE"," ",1914],["T_STRING","DirectoryList",1914],["T_DOUBLE_COLON","::",1914],["T_STRING","getDefaultConfig",1914],"(",")",";",["T_WHITESPACE","\n            ",1914],["T_VARIABLE","$dirAddon",1915],["T_WHITESPACE"," ",1915],"=",["T_WHITESPACE"," ",1915],["T_VARIABLE","$dirConfig",1915],"[",["T_STRING","DirectoryList",1915],["T_DOUBLE_COLON","::",1915],["T_STRING","MEDIA",1915],"]","[",["T_STRING","DirectoryList",1915],["T_DOUBLE_COLON","::",1915],["T_STRING","PATH",1915],"]",";",["T_WHITESPACE","\n\n            ",1915],["T_VARIABLE","$DS",1917],["T_WHITESPACE"," ",1917],"=",["T_WHITESPACE"," ",1917],["T_STRING","DIRECTORY_SEPARATOR",1917],";",["T_WHITESPACE","\n\n            ",1917],["T_IF","if",1919],["T_WHITESPACE"," ",1919],"(","!",["T_EMPTY","empty",1919],"(",["T_VARIABLE","$this",1919],["T_OBJECT_OPERATOR","->",1919],["T_STRING","_parameters",1919],"[",["T_STRING","Import",1919],["T_DOUBLE_COLON","::",1919],["T_STRING","FIELD_NAME_IMG_FILE_DIR",1919],"]",")",")",["T_WHITESPACE"," ",1919],"{",["T_WHITESPACE","\n                ",1919],["T_VARIABLE","$tmpPath",1920],["T_WHITESPACE"," ",1920],"=",["T_WHITESPACE"," ",1920],["T_VARIABLE","$this",1920],["T_OBJECT_OPERATOR","->",1920],["T_STRING","_parameters",1920],"[",["T_STRING","Import",1920],["T_DOUBLE_COLON","::",1920],["T_STRING","FIELD_NAME_IMG_FILE_DIR",1920],"]",";",["T_WHITESPACE","\n            ",1920],"}",["T_WHITESPACE"," ",1921],["T_ELSE","else",1921],["T_WHITESPACE"," ",1921],"{",["T_WHITESPACE","\n                ",1921],["T_VARIABLE","$tmpPath",1922],["T_WHITESPACE"," ",1922],"=",["T_WHITESPACE"," ",1922],["T_VARIABLE","$dirAddon",1922],["T_WHITESPACE"," ",1922],".",["T_WHITESPACE"," ",1922],["T_VARIABLE","$DS",1922],["T_WHITESPACE"," ",1922],".",["T_WHITESPACE"," ",1922],["T_VARIABLE","$this",1922],["T_OBJECT_OPERATOR","->",1922],["T_STRING","_mediaDirectory",1922],["T_OBJECT_OPERATOR","->",1922],["T_STRING","getRelativePath",1922],"(",["T_CONSTANT_ENCAPSED_STRING","'import'",1922],")",";",["T_WHITESPACE","\n            ",1922],"}",["T_WHITESPACE","\n\n            ",1923],["T_IF","if",1925],["T_WHITESPACE"," ",1925],"(","!",["T_VARIABLE","$this",1925],["T_OBJECT_OPERATOR","->",1925],["T_STRING","_fileUploader",1925],["T_OBJECT_OPERATOR","->",1925],["T_STRING","setTmpDir",1925],"(",["T_VARIABLE","$tmpPath",1925],")",")",["T_WHITESPACE"," ",1925],"{",["T_WHITESPACE","\n                ",1925],["T_THROW","throw",1926],["T_WHITESPACE"," ",1926],["T_NEW","new",1926],["T_WHITESPACE"," ",1926],["T_NS_SEPARATOR","\\",1926],["T_STRING","Magento",1926],["T_NS_SEPARATOR","\\",1926],["T_STRING","Framework",1926],["T_NS_SEPARATOR","\\",1926],["T_STRING","Exception",1926],["T_NS_SEPARATOR","\\",1926],["T_STRING","LocalizedException",1926],"(",["T_WHITESPACE","\n                    ",1926],["T_STRING","__",1927],"(",["T_CONSTANT_ENCAPSED_STRING","'File directory \\'%1\\' is not readable.'",1927],",",["T_WHITESPACE"," ",1927],["T_VARIABLE","$tmpPath",1927],")",["T_WHITESPACE","\n                ",1927],")",";",["T_WHITESPACE","\n            ",1928],"}",["T_WHITESPACE","\n            ",1929],["T_VARIABLE","$destinationDir",1930],["T_WHITESPACE"," ",1930],"=",["T_WHITESPACE"," ",1930],["T_CONSTANT_ENCAPSED_STRING","\"catalog\/product\"",1930],";",["T_WHITESPACE","\n            ",1930],["T_VARIABLE","$destinationPath",1931],["T_WHITESPACE"," ",1931],"=",["T_WHITESPACE"," ",1931],["T_VARIABLE","$dirAddon",1931],["T_WHITESPACE"," ",1931],".",["T_WHITESPACE"," ",1931],["T_VARIABLE","$DS",1931],["T_WHITESPACE"," ",1931],".",["T_WHITESPACE"," ",1931],["T_VARIABLE","$this",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","_mediaDirectory",1931],["T_OBJECT_OPERATOR","->",1931],["T_STRING","getRelativePath",1931],"(",["T_VARIABLE","$destinationDir",1931],")",";",["T_WHITESPACE","\n\n            ",1931],["T_VARIABLE","$this",1933],["T_OBJECT_OPERATOR","->",1933],["T_STRING","_mediaDirectory",1933],["T_OBJECT_OPERATOR","->",1933],["T_STRING","create",1933],"(",["T_VARIABLE","$destinationPath",1933],")",";",["T_WHITESPACE","\n            ",1933],["T_IF","if",1934],["T_WHITESPACE"," ",1934],"(","!",["T_VARIABLE","$this",1934],["T_OBJECT_OPERATOR","->",1934],["T_STRING","_fileUploader",1934],["T_OBJECT_OPERATOR","->",1934],["T_STRING","setDestDir",1934],"(",["T_VARIABLE","$destinationPath",1934],")",")",["T_WHITESPACE"," ",1934],"{",["T_WHITESPACE","\n                ",1934],["T_THROW","throw",1935],["T_WHITESPACE"," ",1935],["T_NEW","new",1935],["T_WHITESPACE"," ",1935],["T_NS_SEPARATOR","\\",1935],["T_STRING","Magento",1935],["T_NS_SEPARATOR","\\",1935],["T_STRING","Framework",1935],["T_NS_SEPARATOR","\\",1935],["T_STRING","Exception",1935],["T_NS_SEPARATOR","\\",1935],["T_STRING","LocalizedException",1935],"(",["T_WHITESPACE","\n                    ",1935],["T_STRING","__",1936],"(",["T_CONSTANT_ENCAPSED_STRING","'File directory \\'%1\\' is not writable.'",1936],",",["T_WHITESPACE"," ",1936],["T_VARIABLE","$destinationPath",1936],")",["T_WHITESPACE","\n                ",1936],")",";",["T_WHITESPACE","\n            ",1937],"}",["T_WHITESPACE","\n        ",1938],"}",["T_WHITESPACE","\n        ",1939],["T_RETURN","return",1940],["T_WHITESPACE"," ",1940],["T_VARIABLE","$this",1940],["T_OBJECT_OPERATOR","->",1940],["T_STRING","_fileUploader",1940],";",["T_WHITESPACE","\n    ",1940],"}",["T_WHITESPACE","\n\n    ",1941],["T_DOC_COMMENT","\/**\n     * @return Uploader\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1943],["T_WHITESPACE","\n    ",1946],["T_PUBLIC","public",1947],["T_WHITESPACE"," ",1947],["T_FUNCTION","function",1947],["T_WHITESPACE"," ",1947],["T_STRING","getUploader",1947],"(",")",["T_WHITESPACE","\n    ",1947],"{",["T_WHITESPACE","\n        ",1948],["T_RETURN","return",1949],["T_WHITESPACE"," ",1949],["T_VARIABLE","$this",1949],["T_OBJECT_OPERATOR","->",1949],["T_STRING","_getUploader",1949],"(",")",";",["T_WHITESPACE","\n    ",1949],"}",["T_WHITESPACE","\n\n    ",1950],["T_DOC_COMMENT","\/**\n     * Uploading files into the \"catalog\/product\" media folder.\n     * Return a new file name if the same file is already exists.\n     *\n     * @param string $fileName\n     * @return string\n     *\/",1952],["T_WHITESPACE","\n    ",1958],["T_PROTECTED","protected",1959],["T_WHITESPACE"," ",1959],["T_FUNCTION","function",1959],["T_WHITESPACE"," ",1959],["T_STRING","uploadMediaFiles",1959],"(",["T_VARIABLE","$fileName",1959],",",["T_WHITESPACE"," ",1959],["T_VARIABLE","$renameFileOff",1959],["T_WHITESPACE"," ",1959],"=",["T_WHITESPACE"," ",1959],["T_STRING","false",1959],")",["T_WHITESPACE","\n    ",1959],"{",["T_WHITESPACE","\n        ",1960],["T_TRY","try",1961],["T_WHITESPACE"," ",1961],"{",["T_WHITESPACE","\n            ",1961],["T_VARIABLE","$res",1962],["T_WHITESPACE"," ",1962],"=",["T_WHITESPACE"," ",1962],["T_VARIABLE","$this",1962],["T_OBJECT_OPERATOR","->",1962],["T_STRING","_getUploader",1962],"(",")",["T_OBJECT_OPERATOR","->",1962],["T_STRING","move",1962],"(",["T_VARIABLE","$fileName",1962],",",["T_WHITESPACE"," ",1962],["T_VARIABLE","$renameFileOff",1962],")",";",["T_WHITESPACE","\n            ",1962],["T_RETURN","return",1963],["T_WHITESPACE"," ",1963],["T_VARIABLE","$res",1963],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",1963],"]",";",["T_WHITESPACE","\n        ",1963],"}",["T_WHITESPACE"," ",1964],["T_CATCH","catch",1964],["T_WHITESPACE"," ",1964],"(",["T_NS_SEPARATOR","\\",1964],["T_STRING","Exception",1964],["T_WHITESPACE"," ",1964],["T_VARIABLE","$e",1964],")",["T_WHITESPACE"," ",1964],"{",["T_WHITESPACE","\n            ",1964],["T_RETURN","return",1965],["T_WHITESPACE"," ",1965],["T_CONSTANT_ENCAPSED_STRING","''",1965],";",["T_WHITESPACE","\n        ",1965],"}",["T_WHITESPACE","\n    ",1966],"}",["T_WHITESPACE","\n\n    ",1967],["T_DOC_COMMENT","\/**\n     * Save product media gallery.\n     *\n     * @param array $mediaGalleryData\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1969],["T_WHITESPACE","\n    ",1976],["T_PROTECTED","protected",1977],["T_WHITESPACE"," ",1977],["T_FUNCTION","function",1977],["T_WHITESPACE"," ",1977],["T_STRING","_saveMediaGallery",1977],"(",["T_ARRAY","array",1977],["T_WHITESPACE"," ",1977],["T_VARIABLE","$mediaGalleryData",1977],")",["T_WHITESPACE","\n    ",1977],"{",["T_WHITESPACE","\n        ",1978],["T_IF","if",1979],["T_WHITESPACE"," ",1979],"(",["T_EMPTY","empty",1979],"(",["T_VARIABLE","$mediaGalleryData",1979],")",")",["T_WHITESPACE"," ",1979],"{",["T_WHITESPACE","\n            ",1979],["T_RETURN","return",1980],["T_WHITESPACE"," ",1980],["T_VARIABLE","$this",1980],";",["T_WHITESPACE","\n        ",1980],"}",["T_WHITESPACE","\n        ",1981],["T_VARIABLE","$this",1982],["T_OBJECT_OPERATOR","->",1982],["T_STRING","initMediaGalleryResources",1982],"(",")",";",["T_WHITESPACE","\n        ",1982],["T_VARIABLE","$productIds",1983],["T_WHITESPACE"," ",1983],"=",["T_WHITESPACE"," ",1983],"[","]",";",["T_WHITESPACE","\n        ",1983],["T_VARIABLE","$imageNames",1984],["T_WHITESPACE"," ",1984],"=",["T_WHITESPACE"," ",1984],"[","]",";",["T_WHITESPACE","\n        ",1984],["T_VARIABLE","$multiInsertData",1985],["T_WHITESPACE"," ",1985],"=",["T_WHITESPACE"," ",1985],"[","]",";",["T_WHITESPACE","\n        ",1985],["T_VARIABLE","$valueToProductId",1986],["T_WHITESPACE"," ",1986],"=",["T_WHITESPACE"," ",1986],"[","]",";",["T_WHITESPACE","\n        ",1986],["T_FOREACH","foreach",1987],["T_WHITESPACE"," ",1987],"(",["T_VARIABLE","$mediaGalleryData",1987],["T_WHITESPACE"," ",1987],["T_AS","as",1987],["T_WHITESPACE"," ",1987],["T_VARIABLE","$productSku",1987],["T_WHITESPACE"," ",1987],["T_DOUBLE_ARROW","=>",1987],["T_WHITESPACE"," ",1987],["T_VARIABLE","$mediaGalleryRows",1987],")",["T_WHITESPACE"," ",1987],"{",["T_WHITESPACE","\n            ",1987],["T_VARIABLE","$productId",1988],["T_WHITESPACE"," ",1988],"=",["T_WHITESPACE"," ",1988],["T_VARIABLE","$this",1988],["T_OBJECT_OPERATOR","->",1988],["T_STRING","skuProcessor",1988],["T_OBJECT_OPERATOR","->",1988],["T_STRING","getNewSku",1988],"(",["T_VARIABLE","$productSku",1988],")","[",["T_VARIABLE","$this",1988],["T_OBJECT_OPERATOR","->",1988],["T_STRING","getProductEntityLinkField",1988],"(",")","]",";",["T_WHITESPACE","\n            ",1988],["T_VARIABLE","$productIds",1989],"[","]",["T_WHITESPACE"," ",1989],"=",["T_WHITESPACE"," ",1989],["T_VARIABLE","$productId",1989],";",["T_WHITESPACE","\n            ",1989],["T_VARIABLE","$insertedGalleryImgs",1990],["T_WHITESPACE"," ",1990],"=",["T_WHITESPACE"," ",1990],"[","]",";",["T_WHITESPACE","\n            ",1990],["T_FOREACH","foreach",1991],["T_WHITESPACE"," ",1991],"(",["T_VARIABLE","$mediaGalleryRows",1991],["T_WHITESPACE"," ",1991],["T_AS","as",1991],["T_WHITESPACE"," ",1991],["T_VARIABLE","$insertValue",1991],")",["T_WHITESPACE"," ",1991],"{",["T_WHITESPACE","\n                ",1991],["T_IF","if",1992],["T_WHITESPACE"," ",1992],"(","!",["T_STRING","in_array",1992],"(",["T_VARIABLE","$insertValue",1992],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1992],"]",",",["T_WHITESPACE"," ",1992],["T_VARIABLE","$insertedGalleryImgs",1992],")",")",["T_WHITESPACE"," ",1992],"{",["T_WHITESPACE","\n                    ",1992],["T_VARIABLE","$valueArr",1993],["T_WHITESPACE"," ",1993],"=",["T_WHITESPACE"," ",1993],"[",["T_WHITESPACE","\n                        ",1993],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1994],["T_WHITESPACE"," ",1994],["T_DOUBLE_ARROW","=>",1994],["T_WHITESPACE"," ",1994],["T_VARIABLE","$insertValue",1994],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1994],"]",",",["T_WHITESPACE","\n                        ",1994],["T_CONSTANT_ENCAPSED_STRING","'value'",1995],["T_WHITESPACE"," ",1995],["T_DOUBLE_ARROW","=>",1995],["T_WHITESPACE"," ",1995],["T_VARIABLE","$insertValue",1995],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1995],"]",",",["T_WHITESPACE","\n                    ",1995],"]",";",["T_WHITESPACE","\n                    ",1996],["T_VARIABLE","$valueToProductId",1997],"[",["T_VARIABLE","$insertValue",1997],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1997],"]","]","[","]",["T_WHITESPACE"," ",1997],"=",["T_WHITESPACE"," ",1997],["T_VARIABLE","$productId",1997],";",["T_WHITESPACE","\n                    ",1997],["T_VARIABLE","$imageNames",1998],"[","]",["T_WHITESPACE"," ",1998],"=",["T_WHITESPACE"," ",1998],["T_VARIABLE","$insertValue",1998],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1998],"]",";",["T_WHITESPACE","\n                    ",1998],["T_VARIABLE","$multiInsertData",1999],"[","]",["T_WHITESPACE"," ",1999],"=",["T_WHITESPACE"," ",1999],["T_VARIABLE","$valueArr",1999],";",["T_WHITESPACE","\n                    ",1999],["T_VARIABLE","$insertedGalleryImgs",2000],"[","]",["T_WHITESPACE"," ",2000],"=",["T_WHITESPACE"," ",2000],["T_VARIABLE","$insertValue",2000],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2000],"]",";",["T_WHITESPACE","\n                ",2000],"}",["T_WHITESPACE","\n            ",2001],"}",["T_WHITESPACE","\n        ",2002],"}",["T_WHITESPACE","\n        ",2003],["T_VARIABLE","$oldMediaValues",2004],["T_WHITESPACE"," ",2004],"=",["T_WHITESPACE"," ",2004],["T_VARIABLE","$this",2004],["T_OBJECT_OPERATOR","->",2004],["T_STRING","_connection",2004],["T_OBJECT_OPERATOR","->",2004],["T_STRING","fetchAssoc",2004],"(",["T_WHITESPACE","\n            ",2004],["T_VARIABLE","$this",2005],["T_OBJECT_OPERATOR","->",2005],["T_STRING","_connection",2005],["T_OBJECT_OPERATOR","->",2005],["T_STRING","select",2005],"(",")",["T_OBJECT_OPERATOR","->",2005],["T_STRING","from",2005],"(",["T_VARIABLE","$this",2005],["T_OBJECT_OPERATOR","->",2005],["T_STRING","mediaGalleryTableName",2005],",",["T_WHITESPACE"," ",2005],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2005],",",["T_WHITESPACE"," ",2005],["T_CONSTANT_ENCAPSED_STRING","'value'",2005],"]",")",["T_WHITESPACE","\n                ",2005],["T_OBJECT_OPERATOR","->",2006],["T_STRING","where",2006],"(",["T_CONSTANT_ENCAPSED_STRING","'value IN (?)'",2006],",",["T_WHITESPACE"," ",2006],["T_VARIABLE","$imageNames",2006],")",["T_WHITESPACE","\n        ",2006],")",";",["T_WHITESPACE","\n        ",2007],["T_VARIABLE","$this",2008],["T_OBJECT_OPERATOR","->",2008],["T_STRING","_connection",2008],["T_OBJECT_OPERATOR","->",2008],["T_STRING","insertOnDuplicate",2008],"(",["T_VARIABLE","$this",2008],["T_OBJECT_OPERATOR","->",2008],["T_STRING","mediaGalleryTableName",2008],",",["T_WHITESPACE"," ",2008],["T_VARIABLE","$multiInsertData",2008],",",["T_WHITESPACE"," ",2008],"[","]",")",";",["T_WHITESPACE","\n        ",2008],["T_VARIABLE","$multiInsertData",2009],["T_WHITESPACE"," ",2009],"=",["T_WHITESPACE"," ",2009],"[","]",";",["T_WHITESPACE","\n        ",2009],["T_VARIABLE","$newMediaSelect",2010],["T_WHITESPACE"," ",2010],"=",["T_WHITESPACE"," ",2010],["T_VARIABLE","$this",2010],["T_OBJECT_OPERATOR","->",2010],["T_STRING","_connection",2010],["T_OBJECT_OPERATOR","->",2010],["T_STRING","select",2010],"(",")",["T_OBJECT_OPERATOR","->",2010],["T_STRING","from",2010],"(",["T_VARIABLE","$this",2010],["T_OBJECT_OPERATOR","->",2010],["T_STRING","mediaGalleryTableName",2010],",",["T_WHITESPACE"," ",2010],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2010],",",["T_WHITESPACE"," ",2010],["T_CONSTANT_ENCAPSED_STRING","'value'",2010],"]",")",["T_WHITESPACE","\n            ",2010],["T_OBJECT_OPERATOR","->",2011],["T_STRING","where",2011],"(",["T_CONSTANT_ENCAPSED_STRING","'value IN (?)'",2011],",",["T_WHITESPACE"," ",2011],["T_VARIABLE","$imageNames",2011],")",";",["T_WHITESPACE","\n        ",2011],["T_IF","if",2012],["T_WHITESPACE"," ",2012],"(",["T_STRING","array_keys",2012],"(",["T_VARIABLE","$oldMediaValues",2012],")",")",["T_WHITESPACE"," ",2012],"{",["T_WHITESPACE","\n            ",2012],["T_VARIABLE","$newMediaSelect",2013],["T_OBJECT_OPERATOR","->",2013],["T_STRING","where",2013],"(",["T_CONSTANT_ENCAPSED_STRING","'value_id NOT IN (?)'",2013],",",["T_WHITESPACE"," ",2013],["T_STRING","array_keys",2013],"(",["T_VARIABLE","$oldMediaValues",2013],")",")",";",["T_WHITESPACE","\n        ",2013],"}",["T_WHITESPACE","\n\n        ",2014],["T_VARIABLE","$dataForSkinnyTable",2016],["T_WHITESPACE"," ",2016],"=",["T_WHITESPACE"," ",2016],"[","]",";",["T_WHITESPACE","\n        ",2016],["T_VARIABLE","$newMediaValues",2017],["T_WHITESPACE"," ",2017],"=",["T_WHITESPACE"," ",2017],["T_VARIABLE","$this",2017],["T_OBJECT_OPERATOR","->",2017],["T_STRING","_connection",2017],["T_OBJECT_OPERATOR","->",2017],["T_STRING","fetchAssoc",2017],"(",["T_VARIABLE","$newMediaSelect",2017],")",";",["T_WHITESPACE","\n        ",2017],["T_FOREACH","foreach",2018],["T_WHITESPACE"," ",2018],"(",["T_VARIABLE","$mediaGalleryData",2018],["T_WHITESPACE"," ",2018],["T_AS","as",2018],["T_WHITESPACE"," ",2018],["T_VARIABLE","$productSku",2018],["T_WHITESPACE"," ",2018],["T_DOUBLE_ARROW","=>",2018],["T_WHITESPACE"," ",2018],["T_VARIABLE","$mediaGalleryRows",2018],")",["T_WHITESPACE"," ",2018],"{",["T_WHITESPACE","\n            ",2018],["T_FOREACH","foreach",2019],["T_WHITESPACE"," ",2019],"(",["T_VARIABLE","$mediaGalleryRows",2019],["T_WHITESPACE"," ",2019],["T_AS","as",2019],["T_WHITESPACE"," ",2019],["T_VARIABLE","$insertValue",2019],")",["T_WHITESPACE"," ",2019],"{",["T_WHITESPACE","\n                ",2019],["T_FOREACH","foreach",2020],["T_WHITESPACE"," ",2020],"(",["T_VARIABLE","$newMediaValues",2020],["T_WHITESPACE"," ",2020],["T_AS","as",2020],["T_WHITESPACE"," ",2020],["T_VARIABLE","$value_id",2020],["T_WHITESPACE"," ",2020],["T_DOUBLE_ARROW","=>",2020],["T_WHITESPACE"," ",2020],["T_VARIABLE","$values",2020],")",["T_WHITESPACE"," ",2020],"{",["T_WHITESPACE","\n                    ",2020],["T_IF","if",2021],["T_WHITESPACE"," ",2021],"(",["T_VARIABLE","$values",2021],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2021],"]",["T_WHITESPACE"," ",2021],["T_IS_EQUAL","==",2021],["T_WHITESPACE"," ",2021],["T_VARIABLE","$insertValue",2021],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2021],"]",")",["T_WHITESPACE"," ",2021],"{",["T_WHITESPACE","\n                        ",2021],["T_VARIABLE","$insertValue",2022],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2022],"]",["T_WHITESPACE"," ",2022],"=",["T_WHITESPACE"," ",2022],["T_VARIABLE","$value_id",2022],";",["T_WHITESPACE","\n                        ",2022],["T_VARIABLE","$insertValue",2023],"[",["T_VARIABLE","$this",2023],["T_OBJECT_OPERATOR","->",2023],["T_STRING","getProductEntityLinkField",2023],"(",")","]",["T_WHITESPACE","\n                            ",2023],"=",["T_WHITESPACE"," ",2024],["T_STRING","array_shift",2024],"(",["T_VARIABLE","$valueToProductId",2024],"[",["T_VARIABLE","$values",2024],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2024],"]","]",")",";",["T_WHITESPACE","\n                        ",2024],["T_UNSET","unset",2025],"(",["T_VARIABLE","$newMediaValues",2025],"[",["T_VARIABLE","$value_id",2025],"]",")",";",["T_WHITESPACE","\n                        ",2025],["T_BREAK","break",2026],";",["T_WHITESPACE","\n                    ",2026],"}",["T_WHITESPACE","\n                ",2027],"}",["T_WHITESPACE","\n                ",2028],["T_IF","if",2029],["T_WHITESPACE"," ",2029],"(",["T_ISSET","isset",2029],"(",["T_VARIABLE","$insertValue",2029],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2029],"]",")",")",["T_WHITESPACE"," ",2029],"{",["T_WHITESPACE","\n                    ",2029],["T_VARIABLE","$valueArr",2030],["T_WHITESPACE"," ",2030],"=",["T_WHITESPACE"," ",2030],"[",["T_WHITESPACE","\n                        ",2030],["T_CONSTANT_ENCAPSED_STRING","'value_id'",2031],["T_WHITESPACE"," ",2031],["T_DOUBLE_ARROW","=>",2031],["T_WHITESPACE"," ",2031],["T_VARIABLE","$insertValue",2031],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2031],"]",",",["T_WHITESPACE","\n                        ",2031],["T_CONSTANT_ENCAPSED_STRING","'store_id'",2032],["T_WHITESPACE"," ",2032],["T_DOUBLE_ARROW","=>",2032],["T_WHITESPACE"," ",2032],["T_NS_SEPARATOR","\\",2032],["T_STRING","Magento",2032],["T_NS_SEPARATOR","\\",2032],["T_STRING","Store",2032],["T_NS_SEPARATOR","\\",2032],["T_STRING","Model",2032],["T_NS_SEPARATOR","\\",2032],["T_STRING","Store",2032],["T_DOUBLE_COLON","::",2032],["T_STRING","DEFAULT_STORE_ID",2032],",",["T_WHITESPACE","\n                        ",2032],["T_VARIABLE","$this",2033],["T_OBJECT_OPERATOR","->",2033],["T_STRING","getProductEntityLinkField",2033],"(",")",["T_WHITESPACE"," ",2033],["T_DOUBLE_ARROW","=>",2033],["T_WHITESPACE"," ",2033],["T_VARIABLE","$insertValue",2033],"[",["T_VARIABLE","$this",2033],["T_OBJECT_OPERATOR","->",2033],["T_STRING","getProductEntityLinkField",2033],"(",")","]",",",["T_WHITESPACE","\n                        ",2033],["T_CONSTANT_ENCAPSED_STRING","'label'",2034],["T_WHITESPACE"," ",2034],["T_DOUBLE_ARROW","=>",2034],["T_WHITESPACE"," ",2034],["T_VARIABLE","$insertValue",2034],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",2034],"]",",",["T_WHITESPACE","\n                        ",2034],["T_CONSTANT_ENCAPSED_STRING","'position'",2035],["T_WHITESPACE"," ",2035],["T_DOUBLE_ARROW","=>",2035],["T_WHITESPACE"," ",2035],["T_VARIABLE","$insertValue",2035],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",2035],"]",",",["T_WHITESPACE","\n                        ",2035],["T_CONSTANT_ENCAPSED_STRING","'disabled'",2036],["T_WHITESPACE"," ",2036],["T_DOUBLE_ARROW","=>",2036],["T_WHITESPACE"," ",2036],["T_VARIABLE","$insertValue",2036],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",2036],"]",",",["T_WHITESPACE","\n                    ",2036],"]",";",["T_WHITESPACE","\n                    ",2037],["T_VARIABLE","$multiInsertData",2038],"[","]",["T_WHITESPACE"," ",2038],"=",["T_WHITESPACE"," ",2038],["T_VARIABLE","$valueArr",2038],";",["T_WHITESPACE","\n                    ",2038],["T_VARIABLE","$dataForSkinnyTable",2039],"[","]",["T_WHITESPACE"," ",2039],"=",["T_WHITESPACE"," ",2039],"[",["T_WHITESPACE","\n                        ",2039],["T_CONSTANT_ENCAPSED_STRING","'value_id'",2040],["T_WHITESPACE"," ",2040],["T_DOUBLE_ARROW","=>",2040],["T_WHITESPACE"," ",2040],["T_VARIABLE","$insertValue",2040],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2040],"]",",",["T_WHITESPACE","\n                        ",2040],["T_VARIABLE","$this",2041],["T_OBJECT_OPERATOR","->",2041],["T_STRING","getProductEntityLinkField",2041],"(",")",["T_WHITESPACE"," ",2041],["T_DOUBLE_ARROW","=>",2041],["T_WHITESPACE"," ",2041],["T_VARIABLE","$insertValue",2041],"[",["T_VARIABLE","$this",2041],["T_OBJECT_OPERATOR","->",2041],["T_STRING","getProductEntityLinkField",2041],"(",")","]",",",["T_WHITESPACE","\n                    ",2041],"]",";",["T_WHITESPACE","\n                ",2042],"}",["T_WHITESPACE","\n            ",2043],"}",["T_WHITESPACE","\n        ",2044],"}",["T_WHITESPACE","\n        ",2045],["T_TRY","try",2046],["T_WHITESPACE"," ",2046],"{",["T_WHITESPACE","\n            ",2046],["T_VARIABLE","$this",2047],["T_OBJECT_OPERATOR","->",2047],["T_STRING","_connection",2047],["T_OBJECT_OPERATOR","->",2047],["T_STRING","insertOnDuplicate",2047],"(",["T_WHITESPACE","\n                ",2047],["T_VARIABLE","$this",2048],["T_OBJECT_OPERATOR","->",2048],["T_STRING","mediaGalleryValueTableName",2048],",",["T_WHITESPACE","\n                ",2048],["T_VARIABLE","$multiInsertData",2049],",",["T_WHITESPACE","\n                ",2049],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2050],",",["T_WHITESPACE"," ",2050],["T_CONSTANT_ENCAPSED_STRING","'store_id'",2050],",",["T_WHITESPACE"," ",2050],["T_VARIABLE","$this",2050],["T_OBJECT_OPERATOR","->",2050],["T_STRING","getProductEntityLinkField",2050],"(",")",",",["T_WHITESPACE"," ",2050],["T_CONSTANT_ENCAPSED_STRING","'label'",2050],",",["T_WHITESPACE"," ",2050],["T_CONSTANT_ENCAPSED_STRING","'position'",2050],",",["T_WHITESPACE"," ",2050],["T_CONSTANT_ENCAPSED_STRING","'disabled'",2050],"]",["T_WHITESPACE","\n            ",2050],")",";",["T_WHITESPACE","\n            ",2051],["T_VARIABLE","$this",2052],["T_OBJECT_OPERATOR","->",2052],["T_STRING","_connection",2052],["T_OBJECT_OPERATOR","->",2052],["T_STRING","insertOnDuplicate",2052],"(",["T_WHITESPACE","\n                ",2052],["T_VARIABLE","$this",2053],["T_OBJECT_OPERATOR","->",2053],["T_STRING","mediaGalleryEntityToValueTableName",2053],",",["T_WHITESPACE","\n                ",2053],["T_VARIABLE","$dataForSkinnyTable",2054],",",["T_WHITESPACE","\n                ",2054],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2055],"]",["T_WHITESPACE","\n            ",2055],")",";",["T_WHITESPACE","\n        ",2056],"}",["T_WHITESPACE"," ",2057],["T_CATCH","catch",2057],["T_WHITESPACE"," ",2057],"(",["T_NS_SEPARATOR","\\",2057],["T_STRING","Exception",2057],["T_WHITESPACE"," ",2057],["T_VARIABLE","$e",2057],")",["T_WHITESPACE"," ",2057],"{",["T_WHITESPACE","\n            ",2057],["T_VARIABLE","$this",2058],["T_OBJECT_OPERATOR","->",2058],["T_STRING","_connection",2058],["T_OBJECT_OPERATOR","->",2058],["T_STRING","delete",2058],"(",["T_WHITESPACE","\n                ",2058],["T_VARIABLE","$this",2059],["T_OBJECT_OPERATOR","->",2059],["T_STRING","mediaGalleryTableName",2059],",",["T_WHITESPACE","\n                ",2059],["T_VARIABLE","$this",2060],["T_OBJECT_OPERATOR","->",2060],["T_STRING","_connection",2060],["T_OBJECT_OPERATOR","->",2060],["T_STRING","quoteInto",2060],"(",["T_CONSTANT_ENCAPSED_STRING","'value_id IN (?)'",2060],",",["T_WHITESPACE"," ",2060],["T_VARIABLE","$newMediaValues",2060],")",["T_WHITESPACE","\n            ",2060],")",";",["T_WHITESPACE","\n        ",2061],"}",["T_WHITESPACE","\n        ",2062],["T_RETURN","return",2063],["T_WHITESPACE"," ",2063],["T_VARIABLE","$this",2063],";",["T_WHITESPACE","\n    ",2063],"}",["T_WHITESPACE","\n\n    ",2064],["T_DOC_COMMENT","\/**\n     * Save product websites.\n     *\n     * @param array $websiteData\n     * @return $this\n     *\/",2066],["T_WHITESPACE","\n    ",2071],["T_PROTECTED","protected",2072],["T_WHITESPACE"," ",2072],["T_FUNCTION","function",2072],["T_WHITESPACE"," ",2072],["T_STRING","_saveProductWebsites",2072],"(",["T_ARRAY","array",2072],["T_WHITESPACE"," ",2072],["T_VARIABLE","$websiteData",2072],")",["T_WHITESPACE","\n    ",2072],"{",["T_WHITESPACE","\n        ",2073],["T_STATIC","static",2074],["T_WHITESPACE"," ",2074],["T_VARIABLE","$tableName",2074],["T_WHITESPACE"," ",2074],"=",["T_WHITESPACE"," ",2074],["T_STRING","null",2074],";",["T_WHITESPACE","\n\n        ",2074],["T_IF","if",2076],["T_WHITESPACE"," ",2076],"(","!",["T_VARIABLE","$tableName",2076],")",["T_WHITESPACE"," ",2076],"{",["T_WHITESPACE","\n            ",2076],["T_VARIABLE","$tableName",2077],["T_WHITESPACE"," ",2077],"=",["T_WHITESPACE"," ",2077],["T_VARIABLE","$this",2077],["T_OBJECT_OPERATOR","->",2077],["T_STRING","_resourceFactory",2077],["T_OBJECT_OPERATOR","->",2077],["T_STRING","create",2077],"(",")",["T_OBJECT_OPERATOR","->",2077],["T_STRING","getProductWebsiteTable",2077],"(",")",";",["T_WHITESPACE","\n        ",2077],"}",["T_WHITESPACE","\n        ",2078],["T_IF","if",2079],["T_WHITESPACE"," ",2079],"(",["T_VARIABLE","$websiteData",2079],")",["T_WHITESPACE"," ",2079],"{",["T_WHITESPACE","\n            ",2079],["T_VARIABLE","$websitesData",2080],["T_WHITESPACE"," ",2080],"=",["T_WHITESPACE"," ",2080],"[","]",";",["T_WHITESPACE","\n            ",2080],["T_VARIABLE","$delProductId",2081],["T_WHITESPACE"," ",2081],"=",["T_WHITESPACE"," ",2081],"[","]",";",["T_WHITESPACE","\n\n            ",2081],["T_FOREACH","foreach",2083],["T_WHITESPACE"," ",2083],"(",["T_VARIABLE","$websiteData",2083],["T_WHITESPACE"," ",2083],["T_AS","as",2083],["T_WHITESPACE"," ",2083],["T_VARIABLE","$delSku",2083],["T_WHITESPACE"," ",2083],["T_DOUBLE_ARROW","=>",2083],["T_WHITESPACE"," ",2083],["T_VARIABLE","$websites",2083],")",["T_WHITESPACE"," ",2083],"{",["T_WHITESPACE","\n                ",2083],["T_VARIABLE","$productId",2084],["T_WHITESPACE"," ",2084],"=",["T_WHITESPACE"," ",2084],["T_VARIABLE","$this",2084],["T_OBJECT_OPERATOR","->",2084],["T_STRING","skuProcessor",2084],["T_OBJECT_OPERATOR","->",2084],["T_STRING","getNewSku",2084],"(",["T_VARIABLE","$delSku",2084],")","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",2084],"]",";",["T_WHITESPACE","\n                ",2084],["T_VARIABLE","$delProductId",2085],"[","]",["T_WHITESPACE"," ",2085],"=",["T_WHITESPACE"," ",2085],["T_VARIABLE","$productId",2085],";",["T_WHITESPACE","\n\n                ",2085],["T_FOREACH","foreach",2087],["T_WHITESPACE"," ",2087],"(",["T_STRING","array_keys",2087],"(",["T_VARIABLE","$websites",2087],")",["T_WHITESPACE"," ",2087],["T_AS","as",2087],["T_WHITESPACE"," ",2087],["T_VARIABLE","$websiteId",2087],")",["T_WHITESPACE"," ",2087],"{",["T_WHITESPACE","\n                    ",2087],["T_VARIABLE","$websitesData",2088],"[","]",["T_WHITESPACE"," ",2088],"=",["T_WHITESPACE"," ",2088],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",2088],["T_WHITESPACE"," ",2088],["T_DOUBLE_ARROW","=>",2088],["T_WHITESPACE"," ",2088],["T_VARIABLE","$productId",2088],",",["T_WHITESPACE"," ",2088],["T_CONSTANT_ENCAPSED_STRING","'website_id'",2088],["T_WHITESPACE"," ",2088],["T_DOUBLE_ARROW","=>",2088],["T_WHITESPACE"," ",2088],["T_VARIABLE","$websiteId",2088],"]",";",["T_WHITESPACE","\n                ",2088],"}",["T_WHITESPACE","\n            ",2089],"}",["T_WHITESPACE","\n            ",2090],["T_IF","if",2091],["T_WHITESPACE"," ",2091],"(",["T_STRING","Import",2091],["T_DOUBLE_COLON","::",2091],["T_STRING","BEHAVIOR_APPEND",2091],["T_WHITESPACE"," ",2091],["T_IS_NOT_EQUAL","!=",2091],["T_WHITESPACE"," ",2091],["T_VARIABLE","$this",2091],["T_OBJECT_OPERATOR","->",2091],["T_STRING","getBehavior",2091],"(",")",")",["T_WHITESPACE"," ",2091],"{",["T_WHITESPACE","\n                ",2091],["T_VARIABLE","$this",2092],["T_OBJECT_OPERATOR","->",2092],["T_STRING","_connection",2092],["T_OBJECT_OPERATOR","->",2092],["T_STRING","delete",2092],"(",["T_WHITESPACE","\n                    ",2092],["T_VARIABLE","$tableName",2093],",",["T_WHITESPACE","\n                    ",2093],["T_VARIABLE","$this",2094],["T_OBJECT_OPERATOR","->",2094],["T_STRING","_connection",2094],["T_OBJECT_OPERATOR","->",2094],["T_STRING","quoteInto",2094],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id IN (?)'",2094],",",["T_WHITESPACE"," ",2094],["T_VARIABLE","$delProductId",2094],")",["T_WHITESPACE","\n                ",2094],")",";",["T_WHITESPACE","\n            ",2095],"}",["T_WHITESPACE","\n            ",2096],["T_IF","if",2097],["T_WHITESPACE"," ",2097],"(",["T_VARIABLE","$websitesData",2097],")",["T_WHITESPACE"," ",2097],"{",["T_WHITESPACE","\n                ",2097],["T_VARIABLE","$this",2098],["T_OBJECT_OPERATOR","->",2098],["T_STRING","_connection",2098],["T_OBJECT_OPERATOR","->",2098],["T_STRING","insertOnDuplicate",2098],"(",["T_VARIABLE","$tableName",2098],",",["T_WHITESPACE"," ",2098],["T_VARIABLE","$websitesData",2098],")",";",["T_WHITESPACE","\n            ",2098],"}",["T_WHITESPACE","\n        ",2099],"}",["T_WHITESPACE","\n        ",2100],["T_RETURN","return",2101],["T_WHITESPACE"," ",2101],["T_VARIABLE","$this",2101],";",["T_WHITESPACE","\n    ",2101],"}",["T_WHITESPACE","\n\n    ",2102],["T_DOC_COMMENT","\/**\n     * Stock item saving.\n     *\n     * @return $this\n     *\/",2104],["T_WHITESPACE","\n    ",2108],["T_PROTECTED","protected",2109],["T_WHITESPACE"," ",2109],["T_FUNCTION","function",2109],["T_WHITESPACE"," ",2109],["T_STRING","_saveStockItem",2109],"(",")",["T_WHITESPACE","\n    ",2109],"{",["T_WHITESPACE","\n        ",2110],["T_VARIABLE","$indexer",2111],["T_WHITESPACE"," ",2111],"=",["T_WHITESPACE"," ",2111],["T_VARIABLE","$this",2111],["T_OBJECT_OPERATOR","->",2111],["T_STRING","indexerRegistry",2111],["T_OBJECT_OPERATOR","->",2111],["T_STRING","get",2111],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_category'",2111],")",";",["T_WHITESPACE","\n        ",2111],["T_DOC_COMMENT","\/** @var $stockResource \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\Item *\/",2112],["T_WHITESPACE","\n        ",2112],["T_VARIABLE","$stockResource",2113],["T_WHITESPACE"," ",2113],"=",["T_WHITESPACE"," ",2113],["T_VARIABLE","$this",2113],["T_OBJECT_OPERATOR","->",2113],["T_STRING","_stockResItemFac",2113],["T_OBJECT_OPERATOR","->",2113],["T_STRING","create",2113],"(",")",";",["T_WHITESPACE","\n        ",2113],["T_VARIABLE","$entityTable",2114],["T_WHITESPACE"," ",2114],"=",["T_WHITESPACE"," ",2114],["T_VARIABLE","$stockResource",2114],["T_OBJECT_OPERATOR","->",2114],["T_STRING","getMainTable",2114],"(",")",";",["T_WHITESPACE","\n        ",2114],["T_WHILE","while",2115],["T_WHITESPACE"," ",2115],"(",["T_VARIABLE","$bunch",2115],["T_WHITESPACE"," ",2115],"=",["T_WHITESPACE"," ",2115],["T_VARIABLE","$this",2115],["T_OBJECT_OPERATOR","->",2115],["T_STRING","_dataSourceModel",2115],["T_OBJECT_OPERATOR","->",2115],["T_STRING","getNextBunch",2115],"(",")",")",["T_WHITESPACE"," ",2115],"{",["T_WHITESPACE","\n            ",2115],["T_VARIABLE","$stockData",2116],["T_WHITESPACE"," ",2116],"=",["T_WHITESPACE"," ",2116],"[","]",";",["T_WHITESPACE","\n            ",2116],["T_VARIABLE","$productIdsToReindex",2117],["T_WHITESPACE"," ",2117],"=",["T_WHITESPACE"," ",2117],"[","]",";",["T_WHITESPACE","\n            ",2117],["T_COMMENT","\/\/ Format bunch to stock data rows\n",2118],["T_WHITESPACE","            ",2119],["T_FOREACH","foreach",2119],["T_WHITESPACE"," ",2119],"(",["T_VARIABLE","$bunch",2119],["T_WHITESPACE"," ",2119],["T_AS","as",2119],["T_WHITESPACE"," ",2119],["T_VARIABLE","$rowNum",2119],["T_WHITESPACE"," ",2119],["T_DOUBLE_ARROW","=>",2119],["T_WHITESPACE"," ",2119],["T_VARIABLE","$rowData",2119],")",["T_WHITESPACE"," ",2119],"{",["T_WHITESPACE","\n                ",2119],["T_IF","if",2120],["T_WHITESPACE"," ",2120],"(","!",["T_VARIABLE","$this",2120],["T_OBJECT_OPERATOR","->",2120],["T_STRING","isRowAllowedToImport",2120],"(",["T_VARIABLE","$rowData",2120],",",["T_WHITESPACE"," ",2120],["T_VARIABLE","$rowNum",2120],")",")",["T_WHITESPACE"," ",2120],"{",["T_WHITESPACE","\n                    ",2120],["T_CONTINUE","continue",2121],";",["T_WHITESPACE","\n                ",2121],"}",["T_WHITESPACE","\n\n                ",2122],["T_VARIABLE","$row",2124],["T_WHITESPACE"," ",2124],"=",["T_WHITESPACE"," ",2124],"[","]",";",["T_WHITESPACE","\n                ",2124],["T_VARIABLE","$row",2125],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",2125],"]",["T_WHITESPACE"," ",2125],"=",["T_WHITESPACE"," ",2125],["T_VARIABLE","$this",2125],["T_OBJECT_OPERATOR","->",2125],["T_STRING","skuProcessor",2125],["T_OBJECT_OPERATOR","->",2125],["T_STRING","getNewSku",2125],"(",["T_VARIABLE","$rowData",2125],"[",["T_STRING","self",2125],["T_DOUBLE_COLON","::",2125],["T_STRING","COL_SKU",2125],"]",")","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",2125],"]",";",["T_WHITESPACE","\n                ",2125],["T_VARIABLE","$productIdsToReindex",2126],"[","]",["T_WHITESPACE"," ",2126],"=",["T_WHITESPACE"," ",2126],["T_VARIABLE","$row",2126],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",2126],"]",";",["T_WHITESPACE","\n\n                ",2126],["T_VARIABLE","$row",2128],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",2128],"]",["T_WHITESPACE"," ",2128],"=",["T_WHITESPACE"," ",2128],["T_VARIABLE","$this",2128],["T_OBJECT_OPERATOR","->",2128],["T_STRING","stockConfiguration",2128],["T_OBJECT_OPERATOR","->",2128],["T_STRING","getDefaultScopeId",2128],"(",")",";",["T_WHITESPACE","\n                ",2128],["T_VARIABLE","$row",2129],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_id'",2129],"]",["T_WHITESPACE"," ",2129],"=",["T_WHITESPACE"," ",2129],["T_VARIABLE","$this",2129],["T_OBJECT_OPERATOR","->",2129],["T_STRING","stockRegistry",2129],["T_OBJECT_OPERATOR","->",2129],["T_STRING","getStock",2129],"(",["T_VARIABLE","$row",2129],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",2129],"]",")",["T_OBJECT_OPERATOR","->",2129],["T_STRING","getStockId",2129],"(",")",";",["T_WHITESPACE","\n\n                ",2129],["T_VARIABLE","$stockItemDo",2131],["T_WHITESPACE"," ",2131],"=",["T_WHITESPACE"," ",2131],["T_VARIABLE","$this",2131],["T_OBJECT_OPERATOR","->",2131],["T_STRING","stockRegistry",2131],["T_OBJECT_OPERATOR","->",2131],["T_STRING","getStockItem",2131],"(",["T_VARIABLE","$row",2131],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",2131],"]",",",["T_WHITESPACE"," ",2131],["T_VARIABLE","$row",2131],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",2131],"]",")",";",["T_WHITESPACE","\n                ",2131],["T_VARIABLE","$existStockData",2132],["T_WHITESPACE"," ",2132],"=",["T_WHITESPACE"," ",2132],["T_VARIABLE","$stockItemDo",2132],["T_OBJECT_OPERATOR","->",2132],["T_STRING","getData",2132],"(",")",";",["T_WHITESPACE","\n\n                ",2132],["T_VARIABLE","$row",2134],["T_WHITESPACE"," ",2134],"=",["T_WHITESPACE"," ",2134],["T_STRING","array_merge",2134],"(",["T_WHITESPACE","\n                    ",2134],["T_VARIABLE","$this",2135],["T_OBJECT_OPERATOR","->",2135],["T_STRING","defaultStockData",2135],",",["T_WHITESPACE","\n                    ",2135],["T_STRING","array_intersect_key",2136],"(",["T_VARIABLE","$existStockData",2136],",",["T_WHITESPACE"," ",2136],["T_VARIABLE","$this",2136],["T_OBJECT_OPERATOR","->",2136],["T_STRING","defaultStockData",2136],")",",",["T_WHITESPACE","\n                    ",2136],["T_STRING","array_intersect_key",2137],"(",["T_VARIABLE","$rowData",2137],",",["T_WHITESPACE"," ",2137],["T_VARIABLE","$this",2137],["T_OBJECT_OPERATOR","->",2137],["T_STRING","defaultStockData",2137],")",",",["T_WHITESPACE","\n                    ",2137],["T_VARIABLE","$row",2138],["T_WHITESPACE","\n                ",2138],")",";",["T_WHITESPACE","\n\n                ",2139],["T_IF","if",2141],["T_WHITESPACE"," ",2141],"(",["T_VARIABLE","$this",2141],["T_OBJECT_OPERATOR","->",2141],["T_STRING","stockConfiguration",2141],["T_OBJECT_OPERATOR","->",2141],["T_STRING","isQty",2141],"(",["T_WHITESPACE","\n                    ",2141],["T_VARIABLE","$this",2142],["T_OBJECT_OPERATOR","->",2142],["T_STRING","skuProcessor",2142],["T_OBJECT_OPERATOR","->",2142],["T_STRING","getNewSku",2142],"(",["T_VARIABLE","$rowData",2142],"[",["T_STRING","self",2142],["T_DOUBLE_COLON","::",2142],["T_STRING","COL_SKU",2142],"]",")","[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",2142],"]",["T_WHITESPACE","\n                ",2142],")",")",["T_WHITESPACE"," ",2143],"{",["T_WHITESPACE","\n                    ",2143],["T_VARIABLE","$stockItemDo",2144],["T_OBJECT_OPERATOR","->",2144],["T_STRING","setData",2144],"(",["T_VARIABLE","$row",2144],")",";",["T_WHITESPACE","\n                    ",2144],["T_VARIABLE","$row",2145],"[",["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",2145],"]",["T_WHITESPACE"," ",2145],"=",["T_WHITESPACE"," ",2145],["T_VARIABLE","$this",2145],["T_OBJECT_OPERATOR","->",2145],["T_STRING","stockStateProvider",2145],["T_OBJECT_OPERATOR","->",2145],["T_STRING","verifyStock",2145],"(",["T_VARIABLE","$stockItemDo",2145],")",";",["T_WHITESPACE","\n                    ",2145],["T_IF","if",2146],["T_WHITESPACE"," ",2146],"(",["T_VARIABLE","$this",2146],["T_OBJECT_OPERATOR","->",2146],["T_STRING","stockStateProvider",2146],["T_OBJECT_OPERATOR","->",2146],["T_STRING","verifyNotification",2146],"(",["T_VARIABLE","$stockItemDo",2146],")",")",["T_WHITESPACE"," ",2146],"{",["T_WHITESPACE","\n                        ",2146],["T_VARIABLE","$row",2147],"[",["T_CONSTANT_ENCAPSED_STRING","'low_stock_date'",2147],"]",["T_WHITESPACE"," ",2147],"=",["T_WHITESPACE"," ",2147],["T_VARIABLE","$this",2147],["T_OBJECT_OPERATOR","->",2147],["T_STRING","dateTime",2147],["T_OBJECT_OPERATOR","->",2147],["T_STRING","gmDate",2147],"(",["T_WHITESPACE","\n                            ",2147],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",2148],",",["T_WHITESPACE","\n                            ",2148],"(",["T_NEW","new",2149],["T_WHITESPACE"," ",2149],["T_NS_SEPARATOR","\\",2149],["T_STRING","DateTime",2149],"(",")",")",["T_OBJECT_OPERATOR","->",2149],["T_STRING","getTimestamp",2149],"(",")",["T_WHITESPACE","\n                        ",2149],")",";",["T_WHITESPACE","\n                    ",2150],"}",["T_WHITESPACE","\n                    ",2151],["T_VARIABLE","$row",2152],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_status_changed_auto'",2152],"]",["T_WHITESPACE"," ",2152],"=",["T_WHITESPACE","\n                        ",2152],["T_INT_CAST","(int)",2153],["T_WHITESPACE"," ",2153],"!",["T_VARIABLE","$this",2153],["T_OBJECT_OPERATOR","->",2153],["T_STRING","stockStateProvider",2153],["T_OBJECT_OPERATOR","->",2153],["T_STRING","verifyStock",2153],"(",["T_VARIABLE","$stockItemDo",2153],")",";",["T_WHITESPACE","\n                ",2153],"}",["T_WHITESPACE"," ",2154],["T_ELSE","else",2154],["T_WHITESPACE"," ",2154],"{",["T_WHITESPACE","\n                    ",2154],["T_VARIABLE","$row",2155],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",2155],"]",["T_WHITESPACE"," ",2155],"=",["T_WHITESPACE"," ",2155],["T_LNUMBER","0",2155],";",["T_WHITESPACE","\n                ",2155],"}",["T_WHITESPACE","\n                ",2156],["T_IF","if",2157],["T_WHITESPACE"," ",2157],"(","!",["T_ISSET","isset",2157],"(",["T_VARIABLE","$stockData",2157],"[",["T_VARIABLE","$rowData",2157],"[",["T_STRING","self",2157],["T_DOUBLE_COLON","::",2157],["T_STRING","COL_SKU",2157],"]","]",")",")",["T_WHITESPACE"," ",2157],"{",["T_WHITESPACE","\n                    ",2157],["T_VARIABLE","$stockData",2158],"[",["T_VARIABLE","$rowData",2158],"[",["T_STRING","self",2158],["T_DOUBLE_COLON","::",2158],["T_STRING","COL_SKU",2158],"]","]",["T_WHITESPACE"," ",2158],"=",["T_WHITESPACE"," ",2158],["T_VARIABLE","$row",2158],";",["T_WHITESPACE","\n                ",2158],"}",["T_WHITESPACE","\n            ",2159],"}",["T_WHITESPACE","\n\n            ",2160],["T_COMMENT","\/\/ Insert rows\n",2162],["T_WHITESPACE","            ",2163],["T_IF","if",2163],["T_WHITESPACE"," ",2163],"(","!",["T_EMPTY","empty",2163],"(",["T_VARIABLE","$stockData",2163],")",")",["T_WHITESPACE"," ",2163],"{",["T_WHITESPACE","\n                ",2163],["T_VARIABLE","$this",2164],["T_OBJECT_OPERATOR","->",2164],["T_STRING","_connection",2164],["T_OBJECT_OPERATOR","->",2164],["T_STRING","insertOnDuplicate",2164],"(",["T_VARIABLE","$entityTable",2164],",",["T_WHITESPACE"," ",2164],["T_STRING","array_values",2164],"(",["T_VARIABLE","$stockData",2164],")",")",";",["T_WHITESPACE","\n            ",2164],"}",["T_WHITESPACE","\n\n            ",2165],["T_IF","if",2167],["T_WHITESPACE"," ",2167],"(",["T_VARIABLE","$productIdsToReindex",2167],")",["T_WHITESPACE"," ",2167],"{",["T_WHITESPACE","\n                ",2167],["T_VARIABLE","$indexer",2168],["T_OBJECT_OPERATOR","->",2168],["T_STRING","reindexList",2168],"(",["T_VARIABLE","$productIdsToReindex",2168],")",";",["T_WHITESPACE","\n            ",2168],"}",["T_WHITESPACE","\n        ",2169],"}",["T_WHITESPACE","\n        ",2170],["T_RETURN","return",2171],["T_WHITESPACE"," ",2171],["T_VARIABLE","$this",2171],";",["T_WHITESPACE","\n    ",2171],"}",["T_WHITESPACE","\n\n    ",2172],["T_DOC_COMMENT","\/**\n     * Retrieve attribute by code\n     *\n     * @param string $attrCode\n     * @return mixed\n     *\/",2174],["T_WHITESPACE","\n    ",2179],["T_PUBLIC","public",2180],["T_WHITESPACE"," ",2180],["T_FUNCTION","function",2180],["T_WHITESPACE"," ",2180],["T_STRING","retrieveAttributeByCode",2180],"(",["T_VARIABLE","$attrCode",2180],")",["T_WHITESPACE","\n    ",2180],"{",["T_WHITESPACE","\n        ",2181],["T_IF","if",2182],["T_WHITESPACE"," ",2182],"(","!",["T_ISSET","isset",2182],"(",["T_VARIABLE","$this",2182],["T_OBJECT_OPERATOR","->",2182],["T_STRING","_attributeCache",2182],"[",["T_VARIABLE","$attrCode",2182],"]",")",")",["T_WHITESPACE"," ",2182],"{",["T_WHITESPACE","\n            ",2182],["T_VARIABLE","$this",2183],["T_OBJECT_OPERATOR","->",2183],["T_STRING","_attributeCache",2183],"[",["T_VARIABLE","$attrCode",2183],"]",["T_WHITESPACE"," ",2183],"=",["T_WHITESPACE"," ",2183],["T_VARIABLE","$this",2183],["T_OBJECT_OPERATOR","->",2183],["T_STRING","getResource",2183],"(",")",["T_OBJECT_OPERATOR","->",2183],["T_STRING","getAttribute",2183],"(",["T_VARIABLE","$attrCode",2183],")",";",["T_WHITESPACE","\n        ",2183],"}",["T_WHITESPACE","\n        ",2184],["T_RETURN","return",2185],["T_WHITESPACE"," ",2185],["T_VARIABLE","$this",2185],["T_OBJECT_OPERATOR","->",2185],["T_STRING","_attributeCache",2185],"[",["T_VARIABLE","$attrCode",2185],"]",";",["T_WHITESPACE","\n    ",2185],"}",["T_WHITESPACE","\n\n    ",2186],["T_DOC_COMMENT","\/**\n     * Attribute set ID-to-name pairs getter.\n     *\n     * @return array\n     *\/",2188],["T_WHITESPACE","\n    ",2192],["T_PUBLIC","public",2193],["T_WHITESPACE"," ",2193],["T_FUNCTION","function",2193],["T_WHITESPACE"," ",2193],["T_STRING","getAttrSetIdToName",2193],"(",")",["T_WHITESPACE","\n    ",2193],"{",["T_WHITESPACE","\n        ",2194],["T_RETURN","return",2195],["T_WHITESPACE"," ",2195],["T_VARIABLE","$this",2195],["T_OBJECT_OPERATOR","->",2195],["T_STRING","_attrSetIdToName",2195],";",["T_WHITESPACE","\n    ",2195],"}",["T_WHITESPACE","\n\n    ",2196],["T_DOC_COMMENT","\/**\n     * DB connection getter.\n     *\n     * @return \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",2198],["T_WHITESPACE","\n    ",2202],["T_PUBLIC","public",2203],["T_WHITESPACE"," ",2203],["T_FUNCTION","function",2203],["T_WHITESPACE"," ",2203],["T_STRING","getConnection",2203],"(",")",["T_WHITESPACE","\n    ",2203],"{",["T_WHITESPACE","\n        ",2204],["T_RETURN","return",2205],["T_WHITESPACE"," ",2205],["T_VARIABLE","$this",2205],["T_OBJECT_OPERATOR","->",2205],["T_STRING","_connection",2205],";",["T_WHITESPACE","\n    ",2205],"}",["T_WHITESPACE","\n\n    ",2206],["T_DOC_COMMENT","\/**\n     * EAV entity type code getter.\n     *\n     * @abstract\n     * @return string\n     *\/",2208],["T_WHITESPACE","\n    ",2213],["T_PUBLIC","public",2214],["T_WHITESPACE"," ",2214],["T_FUNCTION","function",2214],["T_WHITESPACE"," ",2214],["T_STRING","getEntityTypeCode",2214],"(",")",["T_WHITESPACE","\n    ",2214],"{",["T_WHITESPACE","\n        ",2215],["T_RETURN","return",2216],["T_WHITESPACE"," ",2216],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",2216],";",["T_WHITESPACE","\n    ",2216],"}",["T_WHITESPACE","\n\n    ",2217],["T_DOC_COMMENT","\/**\n     * New products SKU data.\n     *\n     * @var string $sku\n     * @return array\n     *\/",2219],["T_WHITESPACE","\n    ",2224],["T_PUBLIC","public",2225],["T_WHITESPACE"," ",2225],["T_FUNCTION","function",2225],["T_WHITESPACE"," ",2225],["T_STRING","getNewSku",2225],"(",["T_VARIABLE","$sku",2225],["T_WHITESPACE"," ",2225],"=",["T_WHITESPACE"," ",2225],["T_STRING","null",2225],")",["T_WHITESPACE","\n    ",2225],"{",["T_WHITESPACE","\n        ",2226],["T_RETURN","return",2227],["T_WHITESPACE"," ",2227],["T_VARIABLE","$this",2227],["T_OBJECT_OPERATOR","->",2227],["T_STRING","skuProcessor",2227],["T_OBJECT_OPERATOR","->",2227],["T_STRING","getNewSku",2227],"(",["T_VARIABLE","$sku",2227],")",";",["T_WHITESPACE","\n    ",2227],"}",["T_WHITESPACE","\n\n    ",2228],["T_DOC_COMMENT","\/**\n     * Get next bunch of validated rows.\n     *\n     * @return array|null\n     *\/",2230],["T_WHITESPACE","\n    ",2234],["T_PUBLIC","public",2235],["T_WHITESPACE"," ",2235],["T_FUNCTION","function",2235],["T_WHITESPACE"," ",2235],["T_STRING","getNextBunch",2235],"(",")",["T_WHITESPACE","\n    ",2235],"{",["T_WHITESPACE","\n        ",2236],["T_RETURN","return",2237],["T_WHITESPACE"," ",2237],["T_VARIABLE","$this",2237],["T_OBJECT_OPERATOR","->",2237],["T_STRING","_dataSourceModel",2237],["T_OBJECT_OPERATOR","->",2237],["T_STRING","getNextBunch",2237],"(",")",";",["T_WHITESPACE","\n    ",2237],"}",["T_WHITESPACE","\n\n    ",2238],["T_DOC_COMMENT","\/**\n     * Existing products SKU getter.\n     *\n     * @return array\n     *\/",2240],["T_WHITESPACE","\n    ",2244],["T_PUBLIC","public",2245],["T_WHITESPACE"," ",2245],["T_FUNCTION","function",2245],["T_WHITESPACE"," ",2245],["T_STRING","getOldSku",2245],"(",")",["T_WHITESPACE","\n    ",2245],"{",["T_WHITESPACE","\n        ",2246],["T_RETURN","return",2247],["T_WHITESPACE"," ",2247],["T_VARIABLE","$this",2247],["T_OBJECT_OPERATOR","->",2247],["T_STRING","_oldSku",2247],";",["T_WHITESPACE","\n    ",2247],"}",["T_WHITESPACE","\n\n    ",2248],["T_DOC_COMMENT","\/**\n     * Retrieve Category Processor\n     *\n     * @return \\Magento\\CatalogImportExport\\Model\\Import\\Product\\CategoryProcessor\n     *\/",2250],["T_WHITESPACE","\n    ",2254],["T_PUBLIC","public",2255],["T_WHITESPACE"," ",2255],["T_FUNCTION","function",2255],["T_WHITESPACE"," ",2255],["T_STRING","getCategoryProcessor",2255],"(",")",["T_WHITESPACE","\n    ",2255],"{",["T_WHITESPACE","\n        ",2256],["T_RETURN","return",2257],["T_WHITESPACE"," ",2257],["T_VARIABLE","$this",2257],["T_OBJECT_OPERATOR","->",2257],["T_STRING","categoryProcessor",2257],";",["T_WHITESPACE","\n    ",2257],"}",["T_WHITESPACE","\n\n    ",2258],["T_DOC_COMMENT","\/**\n     * Obtain scope of the row from row data.\n     *\n     * @param array $rowData\n     * @return int\n     *\/",2260],["T_WHITESPACE","\n    ",2265],["T_PUBLIC","public",2266],["T_WHITESPACE"," ",2266],["T_FUNCTION","function",2266],["T_WHITESPACE"," ",2266],["T_STRING","getRowScope",2266],"(",["T_ARRAY","array",2266],["T_WHITESPACE"," ",2266],["T_VARIABLE","$rowData",2266],")",["T_WHITESPACE","\n    ",2266],"{",["T_WHITESPACE","\n        ",2267],["T_IF","if",2268],["T_WHITESPACE"," ",2268],"(",["T_EMPTY","empty",2268],"(",["T_VARIABLE","$rowData",2268],"[",["T_STRING","self",2268],["T_DOUBLE_COLON","::",2268],["T_STRING","COL_STORE",2268],"]",")",")",["T_WHITESPACE"," ",2268],"{",["T_WHITESPACE","\n            ",2268],["T_RETURN","return",2269],["T_WHITESPACE"," ",2269],["T_STRING","self",2269],["T_DOUBLE_COLON","::",2269],["T_STRING","SCOPE_DEFAULT",2269],";",["T_WHITESPACE","\n        ",2269],"}",["T_WHITESPACE","\n        ",2270],["T_RETURN","return",2271],["T_WHITESPACE"," ",2271],["T_STRING","self",2271],["T_DOUBLE_COLON","::",2271],["T_STRING","SCOPE_STORE",2271],";",["T_WHITESPACE","\n    ",2271],"}",["T_WHITESPACE","\n\n    ",2272],["T_DOC_COMMENT","\/**\n     * Validate data row.\n     *\n     * @param array $rowData\n     * @param int $rowNum\n     * @return boolean\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",2274],["T_WHITESPACE","\n    ",2283],["T_PUBLIC","public",2284],["T_WHITESPACE"," ",2284],["T_FUNCTION","function",2284],["T_WHITESPACE"," ",2284],["T_STRING","validateRow",2284],"(",["T_ARRAY","array",2284],["T_WHITESPACE"," ",2284],["T_VARIABLE","$rowData",2284],",",["T_WHITESPACE"," ",2284],["T_VARIABLE","$rowNum",2284],")",["T_WHITESPACE","\n    ",2284],"{",["T_WHITESPACE","\n        ",2285],["T_IF","if",2286],["T_WHITESPACE"," ",2286],"(",["T_ISSET","isset",2286],"(",["T_VARIABLE","$this",2286],["T_OBJECT_OPERATOR","->",2286],["T_STRING","_validatedRows",2286],"[",["T_VARIABLE","$rowNum",2286],"]",")",")",["T_WHITESPACE"," ",2286],"{",["T_WHITESPACE","\n            ",2286],["T_COMMENT","\/\/ check that row is already validated\n",2287],["T_WHITESPACE","            ",2288],["T_RETURN","return",2288],["T_WHITESPACE"," ",2288],"!",["T_VARIABLE","$this",2288],["T_OBJECT_OPERATOR","->",2288],["T_STRING","getErrorAggregator",2288],"(",")",["T_OBJECT_OPERATOR","->",2288],["T_STRING","isRowInvalid",2288],"(",["T_VARIABLE","$rowNum",2288],")",";",["T_WHITESPACE","\n        ",2288],"}",["T_WHITESPACE","\n        ",2289],["T_VARIABLE","$this",2290],["T_OBJECT_OPERATOR","->",2290],["T_STRING","_validatedRows",2290],"[",["T_VARIABLE","$rowNum",2290],"]",["T_WHITESPACE"," ",2290],"=",["T_WHITESPACE"," ",2290],["T_STRING","true",2290],";",["T_WHITESPACE","\n\n        ",2290],["T_VARIABLE","$rowScope",2292],["T_WHITESPACE"," ",2292],"=",["T_WHITESPACE"," ",2292],["T_VARIABLE","$this",2292],["T_OBJECT_OPERATOR","->",2292],["T_STRING","getRowScope",2292],"(",["T_VARIABLE","$rowData",2292],")",";",["T_WHITESPACE","\n\n        ",2292],["T_COMMENT","\/\/ BEHAVIOR_DELETE and BEHAVIOR_REPLACE use specific validation logic\n",2294],["T_WHITESPACE","        ",2295],["T_IF","if",2295],["T_WHITESPACE"," ",2295],"(",["T_STRING","Import",2295],["T_DOUBLE_COLON","::",2295],["T_STRING","BEHAVIOR_REPLACE",2295],["T_WHITESPACE"," ",2295],["T_IS_EQUAL","==",2295],["T_WHITESPACE"," ",2295],["T_VARIABLE","$this",2295],["T_OBJECT_OPERATOR","->",2295],["T_STRING","getBehavior",2295],"(",")",")",["T_WHITESPACE"," ",2295],"{",["T_WHITESPACE","\n            ",2295],["T_IF","if",2296],["T_WHITESPACE"," ",2296],"(",["T_STRING","self",2296],["T_DOUBLE_COLON","::",2296],["T_STRING","SCOPE_DEFAULT",2296],["T_WHITESPACE"," ",2296],["T_IS_EQUAL","==",2296],["T_WHITESPACE"," ",2296],["T_VARIABLE","$rowScope",2296],["T_WHITESPACE"," ",2296],["T_BOOLEAN_AND","&&",2296],["T_WHITESPACE"," ",2296],"!",["T_ISSET","isset",2296],"(",["T_VARIABLE","$this",2296],["T_OBJECT_OPERATOR","->",2296],["T_STRING","_oldSku",2296],"[",["T_VARIABLE","$rowData",2296],"[",["T_STRING","self",2296],["T_DOUBLE_COLON","::",2296],["T_STRING","COL_SKU",2296],"]","]",")",")",["T_WHITESPACE"," ",2296],"{",["T_WHITESPACE","\n                ",2296],["T_VARIABLE","$this",2297],["T_OBJECT_OPERATOR","->",2297],["T_STRING","addRowError",2297],"(",["T_STRING","ValidatorInterface",2297],["T_DOUBLE_COLON","::",2297],["T_STRING","ERROR_SKU_NOT_FOUND_FOR_DELETE",2297],",",["T_WHITESPACE"," ",2297],["T_VARIABLE","$rowNum",2297],")",";",["T_WHITESPACE","\n                ",2297],["T_RETURN","return",2298],["T_WHITESPACE"," ",2298],["T_STRING","false",2298],";",["T_WHITESPACE","\n            ",2298],"}",["T_WHITESPACE","\n        ",2299],"}",["T_WHITESPACE","\n        ",2300],["T_IF","if",2301],["T_WHITESPACE"," ",2301],"(",["T_STRING","Import",2301],["T_DOUBLE_COLON","::",2301],["T_STRING","BEHAVIOR_DELETE",2301],["T_WHITESPACE"," ",2301],["T_IS_EQUAL","==",2301],["T_WHITESPACE"," ",2301],["T_VARIABLE","$this",2301],["T_OBJECT_OPERATOR","->",2301],["T_STRING","getBehavior",2301],"(",")",")",["T_WHITESPACE"," ",2301],"{",["T_WHITESPACE","\n            ",2301],["T_IF","if",2302],["T_WHITESPACE"," ",2302],"(",["T_STRING","self",2302],["T_DOUBLE_COLON","::",2302],["T_STRING","SCOPE_DEFAULT",2302],["T_WHITESPACE"," ",2302],["T_IS_EQUAL","==",2302],["T_WHITESPACE"," ",2302],["T_VARIABLE","$rowScope",2302],["T_WHITESPACE"," ",2302],["T_BOOLEAN_AND","&&",2302],["T_WHITESPACE"," ",2302],"!",["T_ISSET","isset",2302],"(",["T_VARIABLE","$this",2302],["T_OBJECT_OPERATOR","->",2302],["T_STRING","_oldSku",2302],"[",["T_VARIABLE","$rowData",2302],"[",["T_STRING","self",2302],["T_DOUBLE_COLON","::",2302],["T_STRING","COL_SKU",2302],"]","]",")",")",["T_WHITESPACE"," ",2302],"{",["T_WHITESPACE","\n                ",2302],["T_VARIABLE","$this",2303],["T_OBJECT_OPERATOR","->",2303],["T_STRING","addRowError",2303],"(",["T_STRING","ValidatorInterface",2303],["T_DOUBLE_COLON","::",2303],["T_STRING","ERROR_SKU_NOT_FOUND_FOR_DELETE",2303],",",["T_WHITESPACE"," ",2303],["T_VARIABLE","$rowNum",2303],")",";",["T_WHITESPACE","\n                ",2303],["T_RETURN","return",2304],["T_WHITESPACE"," ",2304],["T_STRING","false",2304],";",["T_WHITESPACE","\n            ",2304],"}",["T_WHITESPACE","\n            ",2305],["T_RETURN","return",2306],["T_WHITESPACE"," ",2306],["T_STRING","true",2306],";",["T_WHITESPACE","\n        ",2306],"}",["T_WHITESPACE","\n\n        ",2307],["T_IF","if",2309],["T_WHITESPACE"," ",2309],"(","!",["T_VARIABLE","$this",2309],["T_OBJECT_OPERATOR","->",2309],["T_STRING","validator",2309],["T_OBJECT_OPERATOR","->",2309],["T_STRING","isValid",2309],"(",["T_VARIABLE","$rowData",2309],")",")",["T_WHITESPACE"," ",2309],"{",["T_WHITESPACE","\n            ",2309],["T_FOREACH","foreach",2310],["T_WHITESPACE"," ",2310],"(",["T_VARIABLE","$this",2310],["T_OBJECT_OPERATOR","->",2310],["T_STRING","validator",2310],["T_OBJECT_OPERATOR","->",2310],["T_STRING","getMessages",2310],"(",")",["T_WHITESPACE"," ",2310],["T_AS","as",2310],["T_WHITESPACE"," ",2310],["T_VARIABLE","$message",2310],")",["T_WHITESPACE"," ",2310],"{",["T_WHITESPACE","\n                ",2310],["T_VARIABLE","$this",2311],["T_OBJECT_OPERATOR","->",2311],["T_STRING","addRowError",2311],"(",["T_VARIABLE","$message",2311],",",["T_WHITESPACE"," ",2311],["T_VARIABLE","$rowNum",2311],",",["T_WHITESPACE"," ",2311],["T_VARIABLE","$this",2311],["T_OBJECT_OPERATOR","->",2311],["T_STRING","validator",2311],["T_OBJECT_OPERATOR","->",2311],["T_STRING","getInvalidAttribute",2311],"(",")",")",";",["T_WHITESPACE","\n            ",2311],"}",["T_WHITESPACE","\n        ",2312],"}",["T_WHITESPACE","\n\n        ",2313],["T_VARIABLE","$sku",2315],["T_WHITESPACE"," ",2315],"=",["T_WHITESPACE"," ",2315],["T_VARIABLE","$rowData",2315],"[",["T_STRING","self",2315],["T_DOUBLE_COLON","::",2315],["T_STRING","COL_SKU",2315],"]",";",["T_WHITESPACE","\n        ",2315],["T_IF","if",2316],["T_WHITESPACE"," ",2316],"(",["T_STRING","null",2316],["T_WHITESPACE"," ",2316],["T_IS_IDENTICAL","===",2316],["T_WHITESPACE"," ",2316],["T_VARIABLE","$sku",2316],")",["T_WHITESPACE"," ",2316],"{",["T_WHITESPACE","\n            ",2316],["T_VARIABLE","$this",2317],["T_OBJECT_OPERATOR","->",2317],["T_STRING","addRowError",2317],"(",["T_STRING","ValidatorInterface",2317],["T_DOUBLE_COLON","::",2317],["T_STRING","ERROR_SKU_IS_EMPTY",2317],",",["T_WHITESPACE"," ",2317],["T_VARIABLE","$rowNum",2317],")",";",["T_WHITESPACE","\n        ",2317],"}",["T_WHITESPACE"," ",2318],["T_ELSEIF","elseif",2318],["T_WHITESPACE"," ",2318],"(",["T_STRING","false",2318],["T_WHITESPACE"," ",2318],["T_IS_IDENTICAL","===",2318],["T_WHITESPACE"," ",2318],["T_VARIABLE","$sku",2318],")",["T_WHITESPACE"," ",2318],"{",["T_WHITESPACE","\n            ",2318],["T_VARIABLE","$this",2319],["T_OBJECT_OPERATOR","->",2319],["T_STRING","addRowError",2319],"(",["T_STRING","ValidatorInterface",2319],["T_DOUBLE_COLON","::",2319],["T_STRING","ERROR_ROW_IS_ORPHAN",2319],",",["T_WHITESPACE"," ",2319],["T_VARIABLE","$rowNum",2319],")",";",["T_WHITESPACE","\n        ",2319],"}",["T_WHITESPACE"," ",2320],["T_ELSEIF","elseif",2320],["T_WHITESPACE"," ",2320],"(",["T_STRING","self",2320],["T_DOUBLE_COLON","::",2320],["T_STRING","SCOPE_STORE",2320],["T_WHITESPACE"," ",2320],["T_IS_EQUAL","==",2320],["T_WHITESPACE"," ",2320],["T_VARIABLE","$rowScope",2320],["T_WHITESPACE","\n            ",2320],["T_BOOLEAN_AND","&&",2321],["T_WHITESPACE"," ",2321],"!",["T_VARIABLE","$this",2321],["T_OBJECT_OPERATOR","->",2321],["T_STRING","storeResolver",2321],["T_OBJECT_OPERATOR","->",2321],["T_STRING","getStoreCodeToId",2321],"(",["T_VARIABLE","$rowData",2321],"[",["T_STRING","self",2321],["T_DOUBLE_COLON","::",2321],["T_STRING","COL_STORE",2321],"]",")",["T_WHITESPACE","\n        ",2321],")",["T_WHITESPACE"," ",2322],"{",["T_WHITESPACE","\n            ",2322],["T_VARIABLE","$this",2323],["T_OBJECT_OPERATOR","->",2323],["T_STRING","addRowError",2323],"(",["T_STRING","ValidatorInterface",2323],["T_DOUBLE_COLON","::",2323],["T_STRING","ERROR_INVALID_STORE",2323],",",["T_WHITESPACE"," ",2323],["T_VARIABLE","$rowNum",2323],")",";",["T_WHITESPACE","\n        ",2323],"}",["T_WHITESPACE","\n\n        ",2324],["T_COMMENT","\/\/ SKU is specified, row is SCOPE_DEFAULT, new product block begins\n",2326],["T_WHITESPACE","        ",2327],["T_VARIABLE","$this",2327],["T_OBJECT_OPERATOR","->",2327],["T_STRING","_processedEntitiesCount",2327],["T_INC","++",2327],";",["T_WHITESPACE","\n\n        ",2327],["T_VARIABLE","$sku",2329],["T_WHITESPACE"," ",2329],"=",["T_WHITESPACE"," ",2329],["T_VARIABLE","$rowData",2329],"[",["T_STRING","self",2329],["T_DOUBLE_COLON","::",2329],["T_STRING","COL_SKU",2329],"]",";",["T_WHITESPACE","\n\n        ",2329],["T_IF","if",2331],["T_WHITESPACE"," ",2331],"(",["T_ISSET","isset",2331],"(",["T_VARIABLE","$this",2331],["T_OBJECT_OPERATOR","->",2331],["T_STRING","_oldSku",2331],"[",["T_VARIABLE","$sku",2331],"]",")",["T_WHITESPACE"," ",2331],["T_BOOLEAN_AND","&&",2331],["T_WHITESPACE"," ",2331],["T_STRING","Import",2331],["T_DOUBLE_COLON","::",2331],["T_STRING","BEHAVIOR_REPLACE",2331],["T_WHITESPACE"," ",2331],["T_IS_NOT_IDENTICAL","!==",2331],["T_WHITESPACE"," ",2331],["T_VARIABLE","$this",2331],["T_OBJECT_OPERATOR","->",2331],["T_STRING","getBehavior",2331],"(",")",")",["T_WHITESPACE"," ",2331],"{",["T_WHITESPACE","\n            ",2331],["T_COMMENT","\/\/ can we get all necessary data from existent DB product?\n",2332],["T_WHITESPACE","            ",2333],["T_COMMENT","\/\/ check for supported type of existing product\n",2333],["T_WHITESPACE","            ",2334],["T_IF","if",2334],["T_WHITESPACE"," ",2334],"(",["T_ISSET","isset",2334],"(",["T_VARIABLE","$this",2334],["T_OBJECT_OPERATOR","->",2334],["T_STRING","_productTypeModels",2334],"[",["T_VARIABLE","$this",2334],["T_OBJECT_OPERATOR","->",2334],["T_STRING","_oldSku",2334],"[",["T_VARIABLE","$sku",2334],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",2334],"]","]",")",")",["T_WHITESPACE"," ",2334],"{",["T_WHITESPACE","\n                ",2334],["T_VARIABLE","$this",2335],["T_OBJECT_OPERATOR","->",2335],["T_STRING","skuProcessor",2335],["T_OBJECT_OPERATOR","->",2335],["T_STRING","addNewSku",2335],"(",["T_WHITESPACE","\n                    ",2335],["T_VARIABLE","$sku",2336],",",["T_WHITESPACE","\n                    ",2336],["T_VARIABLE","$this",2337],["T_OBJECT_OPERATOR","->",2337],["T_STRING","prepareNewSkuData",2337],"(",["T_VARIABLE","$sku",2337],")",["T_WHITESPACE","\n                ",2337],")",";",["T_WHITESPACE","\n            ",2338],"}",["T_WHITESPACE"," ",2339],["T_ELSE","else",2339],["T_WHITESPACE"," ",2339],"{",["T_WHITESPACE","\n                ",2339],["T_VARIABLE","$this",2340],["T_OBJECT_OPERATOR","->",2340],["T_STRING","addRowError",2340],"(",["T_STRING","ValidatorInterface",2340],["T_DOUBLE_COLON","::",2340],["T_STRING","ERROR_TYPE_UNSUPPORTED",2340],",",["T_WHITESPACE"," ",2340],["T_VARIABLE","$rowNum",2340],")",";",["T_WHITESPACE","\n                ",2340],["T_COMMENT","\/\/ child rows of legacy products with unsupported types are orphans\n",2341],["T_WHITESPACE","                ",2342],["T_VARIABLE","$sku",2342],["T_WHITESPACE"," ",2342],"=",["T_WHITESPACE"," ",2342],["T_STRING","false",2342],";",["T_WHITESPACE","\n            ",2342],"}",["T_WHITESPACE","\n        ",2343],"}",["T_WHITESPACE"," ",2344],["T_ELSE","else",2344],["T_WHITESPACE"," ",2344],"{",["T_WHITESPACE","\n            ",2344],["T_COMMENT","\/\/ validate new product type and attribute set\n",2345],["T_WHITESPACE","            ",2346],["T_IF","if",2346],["T_WHITESPACE"," ",2346],"(","!",["T_ISSET","isset",2346],"(",["T_VARIABLE","$rowData",2346],"[",["T_STRING","self",2346],["T_DOUBLE_COLON","::",2346],["T_STRING","COL_TYPE",2346],"]",")",["T_WHITESPACE"," ",2346],["T_BOOLEAN_OR","||",2346],["T_WHITESPACE"," ",2346],"!",["T_ISSET","isset",2346],"(",["T_VARIABLE","$this",2346],["T_OBJECT_OPERATOR","->",2346],["T_STRING","_productTypeModels",2346],"[",["T_VARIABLE","$rowData",2346],"[",["T_STRING","self",2346],["T_DOUBLE_COLON","::",2346],["T_STRING","COL_TYPE",2346],"]","]",")",")",["T_WHITESPACE"," ",2346],"{",["T_WHITESPACE","\n                ",2346],["T_VARIABLE","$this",2347],["T_OBJECT_OPERATOR","->",2347],["T_STRING","addRowError",2347],"(",["T_STRING","ValidatorInterface",2347],["T_DOUBLE_COLON","::",2347],["T_STRING","ERROR_INVALID_TYPE",2347],",",["T_WHITESPACE"," ",2347],["T_VARIABLE","$rowNum",2347],")",";",["T_WHITESPACE","\n            ",2347],"}",["T_WHITESPACE"," ",2348],["T_ELSEIF","elseif",2348],["T_WHITESPACE"," ",2348],"(","!",["T_ISSET","isset",2348],"(",["T_WHITESPACE","\n                    ",2348],["T_VARIABLE","$rowData",2349],"[",["T_STRING","self",2349],["T_DOUBLE_COLON","::",2349],["T_STRING","COL_ATTR_SET",2349],"]",["T_WHITESPACE","\n                ",2349],")",["T_WHITESPACE"," ",2350],["T_BOOLEAN_OR","||",2350],["T_WHITESPACE"," ",2350],"!",["T_ISSET","isset",2350],"(",["T_WHITESPACE","\n                    ",2350],["T_VARIABLE","$this",2351],["T_OBJECT_OPERATOR","->",2351],["T_STRING","_attrSetNameToId",2351],"[",["T_VARIABLE","$rowData",2351],"[",["T_STRING","self",2351],["T_DOUBLE_COLON","::",2351],["T_STRING","COL_ATTR_SET",2351],"]","]",["T_WHITESPACE","\n                ",2351],")",["T_WHITESPACE","\n            ",2352],")",["T_WHITESPACE"," ",2353],"{",["T_WHITESPACE","\n                ",2353],["T_VARIABLE","$this",2354],["T_OBJECT_OPERATOR","->",2354],["T_STRING","addRowError",2354],"(",["T_STRING","ValidatorInterface",2354],["T_DOUBLE_COLON","::",2354],["T_STRING","ERROR_INVALID_ATTR_SET",2354],",",["T_WHITESPACE"," ",2354],["T_VARIABLE","$rowNum",2354],")",";",["T_WHITESPACE","\n            ",2354],"}",["T_WHITESPACE"," ",2355],["T_ELSEIF","elseif",2355],["T_WHITESPACE"," ",2355],"(",["T_STRING","is_null",2355],"(",["T_VARIABLE","$this",2355],["T_OBJECT_OPERATOR","->",2355],["T_STRING","skuProcessor",2355],["T_OBJECT_OPERATOR","->",2355],["T_STRING","getNewSku",2355],"(",["T_VARIABLE","$sku",2355],")",")",")",["T_WHITESPACE"," ",2355],"{",["T_WHITESPACE","\n                ",2355],["T_VARIABLE","$this",2356],["T_OBJECT_OPERATOR","->",2356],["T_STRING","skuProcessor",2356],["T_OBJECT_OPERATOR","->",2356],["T_STRING","addNewSku",2356],"(",["T_WHITESPACE","\n                    ",2356],["T_VARIABLE","$sku",2357],",",["T_WHITESPACE","\n                    ",2357],"[",["T_WHITESPACE","\n                        ",2358],["T_CONSTANT_ENCAPSED_STRING","'row_id'",2359],["T_WHITESPACE"," ",2359],["T_DOUBLE_ARROW","=>",2359],["T_WHITESPACE"," ",2359],["T_STRING","null",2359],",",["T_WHITESPACE","\n                        ",2359],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",2360],["T_WHITESPACE"," ",2360],["T_DOUBLE_ARROW","=>",2360],["T_WHITESPACE"," ",2360],["T_STRING","null",2360],",",["T_WHITESPACE","\n                        ",2360],["T_CONSTANT_ENCAPSED_STRING","'type_id'",2361],["T_WHITESPACE"," ",2361],["T_DOUBLE_ARROW","=>",2361],["T_WHITESPACE"," ",2361],["T_VARIABLE","$rowData",2361],"[",["T_STRING","self",2361],["T_DOUBLE_COLON","::",2361],["T_STRING","COL_TYPE",2361],"]",",",["T_WHITESPACE","\n                        ",2361],["T_CONSTANT_ENCAPSED_STRING","'attr_set_id'",2362],["T_WHITESPACE"," ",2362],["T_DOUBLE_ARROW","=>",2362],["T_WHITESPACE"," ",2362],["T_VARIABLE","$this",2362],["T_OBJECT_OPERATOR","->",2362],["T_STRING","_attrSetNameToId",2362],"[",["T_VARIABLE","$rowData",2362],"[",["T_STRING","self",2362],["T_DOUBLE_COLON","::",2362],["T_STRING","COL_ATTR_SET",2362],"]","]",",",["T_WHITESPACE","\n                        ",2362],["T_CONSTANT_ENCAPSED_STRING","'attr_set_code'",2363],["T_WHITESPACE"," ",2363],["T_DOUBLE_ARROW","=>",2363],["T_WHITESPACE"," ",2363],["T_VARIABLE","$rowData",2363],"[",["T_STRING","self",2363],["T_DOUBLE_COLON","::",2363],["T_STRING","COL_ATTR_SET",2363],"]",",",["T_WHITESPACE","\n                    ",2363],"]",["T_WHITESPACE","\n                ",2364],")",";",["T_WHITESPACE","\n            ",2365],"}",["T_WHITESPACE","\n            ",2366],["T_IF","if",2367],["T_WHITESPACE"," ",2367],"(",["T_VARIABLE","$this",2367],["T_OBJECT_OPERATOR","->",2367],["T_STRING","getErrorAggregator",2367],"(",")",["T_OBJECT_OPERATOR","->",2367],["T_STRING","isRowInvalid",2367],"(",["T_VARIABLE","$rowNum",2367],")",")",["T_WHITESPACE"," ",2367],"{",["T_WHITESPACE","\n                ",2367],["T_COMMENT","\/\/ mark SCOPE_DEFAULT row as invalid for future child rows if product not in DB already\n",2368],["T_WHITESPACE","                ",2369],["T_VARIABLE","$sku",2369],["T_WHITESPACE"," ",2369],"=",["T_WHITESPACE"," ",2369],["T_STRING","false",2369],";",["T_WHITESPACE","\n            ",2369],"}",["T_WHITESPACE","\n        ",2370],"}",["T_WHITESPACE","\n\n        ",2371],["T_IF","if",2373],["T_WHITESPACE"," ",2373],"(","!",["T_VARIABLE","$this",2373],["T_OBJECT_OPERATOR","->",2373],["T_STRING","getErrorAggregator",2373],"(",")",["T_OBJECT_OPERATOR","->",2373],["T_STRING","isRowInvalid",2373],"(",["T_VARIABLE","$rowNum",2373],")",")",["T_WHITESPACE"," ",2373],"{",["T_WHITESPACE","\n            ",2373],["T_VARIABLE","$newSku",2374],["T_WHITESPACE"," ",2374],"=",["T_WHITESPACE"," ",2374],["T_VARIABLE","$this",2374],["T_OBJECT_OPERATOR","->",2374],["T_STRING","skuProcessor",2374],["T_OBJECT_OPERATOR","->",2374],["T_STRING","getNewSku",2374],"(",["T_VARIABLE","$sku",2374],")",";",["T_WHITESPACE","\n            ",2374],["T_COMMENT","\/\/ set attribute set code into row data for followed attribute validation in type model\n",2375],["T_WHITESPACE","            ",2376],["T_VARIABLE","$rowData",2376],"[",["T_STRING","self",2376],["T_DOUBLE_COLON","::",2376],["T_STRING","COL_ATTR_SET",2376],"]",["T_WHITESPACE"," ",2376],"=",["T_WHITESPACE"," ",2376],["T_VARIABLE","$newSku",2376],"[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_code'",2376],"]",";",["T_WHITESPACE","\n\n            ",2376],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogImportExport\\Model\\Import\\Product\\Type\\AbstractType $productTypeValidator *\/",2378],["T_WHITESPACE","\n            ",2378],["T_VARIABLE","$productTypeValidator",2379],["T_WHITESPACE"," ",2379],"=",["T_WHITESPACE"," ",2379],["T_VARIABLE","$this",2379],["T_OBJECT_OPERATOR","->",2379],["T_STRING","_productTypeModels",2379],"[",["T_VARIABLE","$newSku",2379],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",2379],"]","]",";",["T_WHITESPACE","\n            ",2379],["T_VARIABLE","$rowAttributesValid",2380],["T_WHITESPACE"," ",2380],"=",["T_WHITESPACE"," ",2380],["T_VARIABLE","$productTypeValidator",2380],["T_OBJECT_OPERATOR","->",2380],["T_STRING","isRowValid",2380],"(",["T_WHITESPACE","\n                ",2380],["T_VARIABLE","$rowData",2381],",",["T_WHITESPACE","\n                ",2381],["T_VARIABLE","$rowNum",2382],",",["T_WHITESPACE","\n                ",2382],"!","(",["T_ISSET","isset",2383],"(",["T_VARIABLE","$this",2383],["T_OBJECT_OPERATOR","->",2383],["T_STRING","_oldSku",2383],"[",["T_VARIABLE","$sku",2383],"]",")",["T_WHITESPACE"," ",2383],["T_BOOLEAN_AND","&&",2383],["T_WHITESPACE"," ",2383],["T_STRING","Import",2383],["T_DOUBLE_COLON","::",2383],["T_STRING","BEHAVIOR_REPLACE",2383],["T_WHITESPACE"," ",2383],["T_IS_NOT_IDENTICAL","!==",2383],["T_WHITESPACE"," ",2383],["T_VARIABLE","$this",2383],["T_OBJECT_OPERATOR","->",2383],["T_STRING","getBehavior",2383],"(",")",")",["T_WHITESPACE","\n            ",2383],")",";",["T_WHITESPACE","\n            ",2384],["T_IF","if",2385],["T_WHITESPACE"," ",2385],"(","!",["T_VARIABLE","$rowAttributesValid",2385],["T_WHITESPACE"," ",2385],["T_BOOLEAN_AND","&&",2385],["T_WHITESPACE"," ",2385],["T_STRING","self",2385],["T_DOUBLE_COLON","::",2385],["T_STRING","SCOPE_DEFAULT",2385],["T_WHITESPACE"," ",2385],["T_IS_EQUAL","==",2385],["T_WHITESPACE"," ",2385],["T_VARIABLE","$rowScope",2385],")",["T_WHITESPACE"," ",2385],"{",["T_WHITESPACE","\n                ",2385],["T_COMMENT","\/\/ mark SCOPE_DEFAULT row as invalid for future child rows if product not in DB already\n",2386],["T_WHITESPACE","                ",2387],["T_VARIABLE","$sku",2387],["T_WHITESPACE"," ",2387],"=",["T_WHITESPACE"," ",2387],["T_STRING","false",2387],";",["T_WHITESPACE","\n            ",2387],"}",["T_WHITESPACE","\n        ",2388],"}",["T_WHITESPACE","\n        ",2389],["T_COMMENT","\/\/ validate custom options\n",2390],["T_WHITESPACE","        ",2391],["T_VARIABLE","$this",2391],["T_OBJECT_OPERATOR","->",2391],["T_STRING","getOptionEntity",2391],"(",")",["T_OBJECT_OPERATOR","->",2391],["T_STRING","validateRow",2391],"(",["T_VARIABLE","$rowData",2391],",",["T_WHITESPACE"," ",2391],["T_VARIABLE","$rowNum",2391],")",";",["T_WHITESPACE","\n\n        ",2391],["T_IF","if",2393],["T_WHITESPACE"," ",2393],"(",["T_VARIABLE","$this",2393],["T_OBJECT_OPERATOR","->",2393],["T_STRING","isNeedToValidateUrlKey",2393],"(",["T_VARIABLE","$rowData",2393],")",")",["T_WHITESPACE"," ",2393],"{",["T_WHITESPACE","\n            ",2393],["T_VARIABLE","$urlKey",2394],["T_WHITESPACE"," ",2394],"=",["T_WHITESPACE"," ",2394],["T_VARIABLE","$this",2394],["T_OBJECT_OPERATOR","->",2394],["T_STRING","getUrlKey",2394],"(",["T_VARIABLE","$rowData",2394],")",";",["T_WHITESPACE","\n            ",2394],["T_VARIABLE","$storeCodes",2395],["T_WHITESPACE"," ",2395],"=",["T_WHITESPACE"," ",2395],["T_EMPTY","empty",2395],"(",["T_VARIABLE","$rowData",2395],"[",["T_STRING","self",2395],["T_DOUBLE_COLON","::",2395],["T_STRING","COL_STORE_VIEW_CODE",2395],"]",")",["T_WHITESPACE","\n                ",2395],"?",["T_WHITESPACE"," ",2396],["T_STRING","array_flip",2396],"(",["T_VARIABLE","$this",2396],["T_OBJECT_OPERATOR","->",2396],["T_STRING","storeResolver",2396],["T_OBJECT_OPERATOR","->",2396],["T_STRING","getStoreCodeToId",2396],"(",")",")",["T_WHITESPACE","\n                ",2396],":",["T_WHITESPACE"," ",2397],["T_STRING","explode",2397],"(",["T_VARIABLE","$this",2397],["T_OBJECT_OPERATOR","->",2397],["T_STRING","getMultipleValueSeparator",2397],"(",")",",",["T_WHITESPACE"," ",2397],["T_VARIABLE","$rowData",2397],"[",["T_STRING","self",2397],["T_DOUBLE_COLON","::",2397],["T_STRING","COL_STORE_VIEW_CODE",2397],"]",")",";",["T_WHITESPACE","\n            ",2397],["T_FOREACH","foreach",2398],["T_WHITESPACE"," ",2398],"(",["T_VARIABLE","$storeCodes",2398],["T_WHITESPACE"," ",2398],["T_AS","as",2398],["T_WHITESPACE"," ",2398],["T_VARIABLE","$storeCode",2398],")",["T_WHITESPACE"," ",2398],"{",["T_WHITESPACE","\n                ",2398],["T_VARIABLE","$storeId",2399],["T_WHITESPACE"," ",2399],"=",["T_WHITESPACE"," ",2399],["T_VARIABLE","$this",2399],["T_OBJECT_OPERATOR","->",2399],["T_STRING","storeResolver",2399],["T_OBJECT_OPERATOR","->",2399],["T_STRING","getStoreCodeToId",2399],"(",["T_VARIABLE","$storeCode",2399],")",";",["T_WHITESPACE","\n                ",2399],["T_VARIABLE","$productUrlSuffix",2400],["T_WHITESPACE"," ",2400],"=",["T_WHITESPACE"," ",2400],["T_VARIABLE","$this",2400],["T_OBJECT_OPERATOR","->",2400],["T_STRING","getProductUrlSuffix",2400],"(",["T_VARIABLE","$storeId",2400],")",";",["T_WHITESPACE","\n                ",2400],["T_VARIABLE","$urlPath",2401],["T_WHITESPACE"," ",2401],"=",["T_WHITESPACE"," ",2401],["T_VARIABLE","$urlKey",2401],["T_WHITESPACE"," ",2401],".",["T_WHITESPACE"," ",2401],["T_VARIABLE","$productUrlSuffix",2401],";",["T_WHITESPACE","\n                ",2401],["T_IF","if",2402],["T_WHITESPACE"," ",2402],"(",["T_EMPTY","empty",2402],"(",["T_VARIABLE","$this",2402],["T_OBJECT_OPERATOR","->",2402],["T_STRING","urlKeys",2402],"[",["T_VARIABLE","$storeId",2402],"]","[",["T_VARIABLE","$urlPath",2402],"]",")",["T_WHITESPACE","\n                    ",2402],["T_BOOLEAN_OR","||",2403],["T_WHITESPACE"," ",2403],"(",["T_VARIABLE","$this",2403],["T_OBJECT_OPERATOR","->",2403],["T_STRING","urlKeys",2403],"[",["T_VARIABLE","$storeId",2403],"]","[",["T_VARIABLE","$urlPath",2403],"]",["T_WHITESPACE"," ",2403],["T_IS_EQUAL","==",2403],["T_WHITESPACE"," ",2403],["T_VARIABLE","$rowData",2403],"[",["T_STRING","self",2403],["T_DOUBLE_COLON","::",2403],["T_STRING","COL_SKU",2403],"]",")",["T_WHITESPACE","\n                ",2403],")",["T_WHITESPACE"," ",2404],"{",["T_WHITESPACE","\n                    ",2404],["T_VARIABLE","$this",2405],["T_OBJECT_OPERATOR","->",2405],["T_STRING","urlKeys",2405],"[",["T_VARIABLE","$storeId",2405],"]","[",["T_VARIABLE","$urlPath",2405],"]",["T_WHITESPACE"," ",2405],"=",["T_WHITESPACE"," ",2405],["T_VARIABLE","$rowData",2405],"[",["T_STRING","self",2405],["T_DOUBLE_COLON","::",2405],["T_STRING","COL_SKU",2405],"]",";",["T_WHITESPACE","\n                    ",2405],["T_VARIABLE","$this",2406],["T_OBJECT_OPERATOR","->",2406],["T_STRING","rowNumbers",2406],"[",["T_VARIABLE","$storeId",2406],"]","[",["T_VARIABLE","$urlPath",2406],"]",["T_WHITESPACE"," ",2406],"=",["T_WHITESPACE"," ",2406],["T_VARIABLE","$rowNum",2406],";",["T_WHITESPACE","\n                ",2406],"}",["T_WHITESPACE"," ",2407],["T_ELSE","else",2407],["T_WHITESPACE"," ",2407],"{",["T_WHITESPACE","\n                    ",2407],["T_VARIABLE","$message",2408],["T_WHITESPACE"," ",2408],"=",["T_WHITESPACE"," ",2408],["T_STRING","sprintf",2408],"(",["T_WHITESPACE","\n                        ",2408],["T_VARIABLE","$this",2409],["T_OBJECT_OPERATOR","->",2409],["T_STRING","retrieveMessageTemplate",2409],"(",["T_STRING","ValidatorInterface",2409],["T_DOUBLE_COLON","::",2409],["T_STRING","ERROR_DUPLICATE_URL_KEY",2409],")",",",["T_WHITESPACE","\n                        ",2409],["T_VARIABLE","$urlKey",2410],",",["T_WHITESPACE","\n                        ",2410],["T_VARIABLE","$this",2411],["T_OBJECT_OPERATOR","->",2411],["T_STRING","urlKeys",2411],"[",["T_VARIABLE","$storeId",2411],"]","[",["T_VARIABLE","$urlPath",2411],"]",["T_WHITESPACE","\n                    ",2411],")",";",["T_WHITESPACE","\n                    ",2412],["T_VARIABLE","$this",2413],["T_OBJECT_OPERATOR","->",2413],["T_STRING","addRowError",2413],"(",["T_WHITESPACE","\n                        ",2413],["T_STRING","ValidatorInterface",2414],["T_DOUBLE_COLON","::",2414],["T_STRING","ERROR_DUPLICATE_URL_KEY",2414],",",["T_WHITESPACE","\n                        ",2414],["T_VARIABLE","$rowNum",2415],",",["T_WHITESPACE","\n                        ",2415],["T_VARIABLE","$rowData",2416],"[",["T_STRING","self",2416],["T_DOUBLE_COLON","::",2416],["T_STRING","COL_NAME",2416],"]",",",["T_WHITESPACE","\n                        ",2416],["T_VARIABLE","$message",2417],["T_WHITESPACE","\n                    ",2417],")",";",["T_WHITESPACE","\n                ",2418],"}",["T_WHITESPACE","\n            ",2419],"}",["T_WHITESPACE","\n        ",2420],"}",["T_WHITESPACE","\n        ",2421],["T_RETURN","return",2422],["T_WHITESPACE"," ",2422],"!",["T_VARIABLE","$this",2422],["T_OBJECT_OPERATOR","->",2422],["T_STRING","getErrorAggregator",2422],"(",")",["T_OBJECT_OPERATOR","->",2422],["T_STRING","isRowInvalid",2422],"(",["T_VARIABLE","$rowNum",2422],")",";",["T_WHITESPACE","\n    ",2422],"}",["T_WHITESPACE","\n\n    ",2423],["T_DOC_COMMENT","\/**\n     * @param array $rowData\n     * @return bool\n     *\/",2425],["T_WHITESPACE","\n    ",2428],["T_PRIVATE","private",2429],["T_WHITESPACE"," ",2429],["T_FUNCTION","function",2429],["T_WHITESPACE"," ",2429],["T_STRING","isNeedToValidateUrlKey",2429],"(",["T_VARIABLE","$rowData",2429],")",["T_WHITESPACE","\n    ",2429],"{",["T_WHITESPACE","\n        ",2430],["T_RETURN","return",2431],["T_WHITESPACE"," ",2431],"(","!",["T_EMPTY","empty",2431],"(",["T_VARIABLE","$rowData",2431],"[",["T_STRING","self",2431],["T_DOUBLE_COLON","::",2431],["T_STRING","URL_KEY",2431],"]",")",["T_WHITESPACE"," ",2431],["T_BOOLEAN_OR","||",2431],["T_WHITESPACE"," ",2431],"!",["T_EMPTY","empty",2431],"(",["T_VARIABLE","$rowData",2431],"[",["T_STRING","self",2431],["T_DOUBLE_COLON","::",2431],["T_STRING","COL_NAME",2431],"]",")",")",["T_WHITESPACE","\n            ",2431],["T_BOOLEAN_AND","&&",2432],["T_WHITESPACE"," ",2432],"(",["T_EMPTY","empty",2432],"(",["T_VARIABLE","$rowData",2432],"[",["T_STRING","self",2432],["T_DOUBLE_COLON","::",2432],["T_STRING","COL_VISIBILITY",2432],"]",")",["T_WHITESPACE","\n            ",2432],["T_BOOLEAN_OR","||",2433],["T_WHITESPACE"," ",2433],["T_VARIABLE","$rowData",2433],"[",["T_STRING","self",2433],["T_DOUBLE_COLON","::",2433],["T_STRING","COL_VISIBILITY",2433],"]",["T_WHITESPACE","\n            ",2433],["T_IS_NOT_IDENTICAL","!==",2434],["T_WHITESPACE"," ",2434],["T_STRING_CAST","(string)",2434],["T_STRING","Visibility",2434],["T_DOUBLE_COLON","::",2434],["T_STRING","getOptionArray",2434],"(",")","[",["T_STRING","Visibility",2434],["T_DOUBLE_COLON","::",2434],["T_STRING","VISIBILITY_NOT_VISIBLE",2434],"]",")",";",["T_WHITESPACE","\n    ",2434],"}",["T_WHITESPACE","\n\n    ",2435],["T_DOC_COMMENT","\/**\n     * Prepare new SKU data\n     *\n     * @param string $sku\n     * @return array\n     *\/",2437],["T_WHITESPACE","\n    ",2442],["T_PRIVATE","private",2443],["T_WHITESPACE"," ",2443],["T_FUNCTION","function",2443],["T_WHITESPACE"," ",2443],["T_STRING","prepareNewSkuData",2443],"(",["T_VARIABLE","$sku",2443],")",["T_WHITESPACE","\n    ",2443],"{",["T_WHITESPACE","\n        ",2444],["T_VARIABLE","$data",2445],["T_WHITESPACE"," ",2445],"=",["T_WHITESPACE"," ",2445],"[","]",";",["T_WHITESPACE","\n        ",2445],["T_FOREACH","foreach",2446],["T_WHITESPACE"," ",2446],"(",["T_VARIABLE","$this",2446],["T_OBJECT_OPERATOR","->",2446],["T_STRING","_oldSku",2446],"[",["T_VARIABLE","$sku",2446],"]",["T_WHITESPACE"," ",2446],["T_AS","as",2446],["T_WHITESPACE"," ",2446],["T_VARIABLE","$key",2446],["T_WHITESPACE"," ",2446],["T_DOUBLE_ARROW","=>",2446],["T_WHITESPACE"," ",2446],["T_VARIABLE","$value",2446],")",["T_WHITESPACE"," ",2446],"{",["T_WHITESPACE","\n            ",2446],["T_VARIABLE","$data",2447],"[",["T_VARIABLE","$key",2447],"]",["T_WHITESPACE"," ",2447],"=",["T_WHITESPACE"," ",2447],["T_VARIABLE","$value",2447],";",["T_WHITESPACE","\n        ",2447],"}",["T_WHITESPACE","\n\n        ",2448],["T_VARIABLE","$data",2450],"[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_code'",2450],"]",["T_WHITESPACE"," ",2450],"=",["T_WHITESPACE"," ",2450],["T_VARIABLE","$this",2450],["T_OBJECT_OPERATOR","->",2450],["T_STRING","_attrSetIdToName",2450],"[",["T_VARIABLE","$this",2450],["T_OBJECT_OPERATOR","->",2450],["T_STRING","_oldSku",2450],"[",["T_VARIABLE","$sku",2450],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attr_set_id'",2450],"]","]",";",["T_WHITESPACE","\n\n        ",2450],["T_RETURN","return",2452],["T_WHITESPACE"," ",2452],["T_VARIABLE","$data",2452],";",["T_WHITESPACE","\n    ",2452],"}",["T_WHITESPACE","\n\n    ",2453],["T_DOC_COMMENT","\/**\n     * Parse attributes names and values string to array.\n     *\n     * @param array $rowData\n     *\n     * @return array\n     *\/",2455],["T_WHITESPACE","\n    ",2461],["T_PRIVATE","private",2462],["T_WHITESPACE"," ",2462],["T_FUNCTION","function",2462],["T_WHITESPACE"," ",2462],["T_STRING","_parseAdditionalAttributes",2462],"(",["T_VARIABLE","$rowData",2462],")",["T_WHITESPACE","\n    ",2462],"{",["T_WHITESPACE","\n        ",2463],["T_IF","if",2464],["T_WHITESPACE"," ",2464],"(",["T_EMPTY","empty",2464],"(",["T_VARIABLE","$rowData",2464],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_attributes'",2464],"]",")",")",["T_WHITESPACE"," ",2464],"{",["T_WHITESPACE","\n            ",2464],["T_RETURN","return",2465],["T_WHITESPACE"," ",2465],["T_VARIABLE","$rowData",2465],";",["T_WHITESPACE","\n        ",2465],"}",["T_WHITESPACE","\n        ",2466],["T_VARIABLE","$rowData",2467],["T_WHITESPACE"," ",2467],"=",["T_WHITESPACE"," ",2467],["T_STRING","array_merge",2467],"(",["T_VARIABLE","$rowData",2467],",",["T_WHITESPACE"," ",2467],["T_VARIABLE","$this",2467],["T_OBJECT_OPERATOR","->",2467],["T_STRING","parseAdditionalAttributes",2467],"(",["T_VARIABLE","$rowData",2467],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_attributes'",2467],"]",")",")",";",["T_WHITESPACE","\n        ",2467],["T_RETURN","return",2468],["T_WHITESPACE"," ",2468],["T_VARIABLE","$rowData",2468],";",["T_WHITESPACE","\n    ",2468],"}",["T_WHITESPACE","\n\n    ",2469],["T_DOC_COMMENT","\/**\n     * Retrieves additional attributes in format:\n     * [\n     *      code1 => value1,\n     *      code2 => value2,\n     *      ...\n     *      codeN => valueN\n     * ]\n     *\n     * @param string $additionalAttributes Attributes data that will be parsed\n     * @return array\n     *\/",2471],["T_WHITESPACE","\n    ",2482],["T_PRIVATE","private",2483],["T_WHITESPACE"," ",2483],["T_FUNCTION","function",2483],["T_WHITESPACE"," ",2483],["T_STRING","parseAdditionalAttributes",2483],"(",["T_VARIABLE","$additionalAttributes",2483],")",["T_WHITESPACE","\n    ",2483],"{",["T_WHITESPACE","\n        ",2484],["T_RETURN","return",2485],["T_WHITESPACE"," ",2485],["T_EMPTY","empty",2485],"(",["T_VARIABLE","$this",2485],["T_OBJECT_OPERATOR","->",2485],["T_STRING","_parameters",2485],"[",["T_STRING","Import",2485],["T_DOUBLE_COLON","::",2485],["T_STRING","FIELDS_ENCLOSURE",2485],"]",")",["T_WHITESPACE","\n            ",2485],"?",["T_WHITESPACE"," ",2486],["T_VARIABLE","$this",2486],["T_OBJECT_OPERATOR","->",2486],["T_STRING","parseAttributesWithoutWrappedValues",2486],"(",["T_VARIABLE","$additionalAttributes",2486],")",["T_WHITESPACE","\n            ",2486],":",["T_WHITESPACE"," ",2487],["T_VARIABLE","$this",2487],["T_OBJECT_OPERATOR","->",2487],["T_STRING","parseAttributesWithWrappedValues",2487],"(",["T_VARIABLE","$additionalAttributes",2487],")",";",["T_WHITESPACE","\n    ",2487],"}",["T_WHITESPACE","\n\n    ",2488],["T_DOC_COMMENT","\/**\n     * Parses data and returns attributes in format:\n     * [\n     *      code1 => value1,\n     *      code2 => value2,\n     *      ...\n     *      codeN => valueN\n     * ]\n     *\n     * @param string $attributesData Attributes data that will be parsed. It keeps data in format:\n     *      code=value,code2=value2...,codeN=valueN\n     * @return array\n     *\/",2490],["T_WHITESPACE","\n    ",2502],["T_PRIVATE","private",2503],["T_WHITESPACE"," ",2503],["T_FUNCTION","function",2503],["T_WHITESPACE"," ",2503],["T_STRING","parseAttributesWithoutWrappedValues",2503],"(",["T_VARIABLE","$attributesData",2503],")",["T_WHITESPACE","\n    ",2503],"{",["T_WHITESPACE","\n        ",2504],["T_VARIABLE","$attributeNameValuePairs",2505],["T_WHITESPACE"," ",2505],"=",["T_WHITESPACE"," ",2505],["T_STRING","explode",2505],"(",["T_VARIABLE","$this",2505],["T_OBJECT_OPERATOR","->",2505],["T_STRING","getMultipleValueSeparator",2505],"(",")",",",["T_WHITESPACE"," ",2505],["T_VARIABLE","$attributesData",2505],")",";",["T_WHITESPACE","\n        ",2505],["T_VARIABLE","$preparedAttributes",2506],["T_WHITESPACE"," ",2506],"=",["T_WHITESPACE"," ",2506],"[","]",";",["T_WHITESPACE","\n        ",2506],["T_VARIABLE","$code",2507],["T_WHITESPACE"," ",2507],"=",["T_WHITESPACE"," ",2507],["T_CONSTANT_ENCAPSED_STRING","''",2507],";",["T_WHITESPACE","\n        ",2507],["T_FOREACH","foreach",2508],["T_WHITESPACE"," ",2508],"(",["T_VARIABLE","$attributeNameValuePairs",2508],["T_WHITESPACE"," ",2508],["T_AS","as",2508],["T_WHITESPACE"," ",2508],["T_VARIABLE","$attributeData",2508],")",["T_WHITESPACE"," ",2508],"{",["T_WHITESPACE","\n            ",2508],["T_COMMENT","\/\/process case when attribute has ImportModel::DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR inside its value\n",2509],["T_WHITESPACE","            ",2510],["T_IF","if",2510],["T_WHITESPACE"," ",2510],"(",["T_STRING","strpos",2510],"(",["T_VARIABLE","$attributeData",2510],",",["T_WHITESPACE"," ",2510],["T_STRING","self",2510],["T_DOUBLE_COLON","::",2510],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",2510],")",["T_WHITESPACE"," ",2510],["T_IS_IDENTICAL","===",2510],["T_WHITESPACE"," ",2510],["T_STRING","false",2510],")",["T_WHITESPACE"," ",2510],"{",["T_WHITESPACE","\n                ",2510],["T_IF","if",2511],["T_WHITESPACE"," ",2511],"(","!",["T_VARIABLE","$code",2511],")",["T_WHITESPACE"," ",2511],"{",["T_WHITESPACE","\n                    ",2511],["T_CONTINUE","continue",2512],";",["T_WHITESPACE","\n                ",2512],"}",["T_WHITESPACE","\n                ",2513],["T_VARIABLE","$preparedAttributes",2514],"[",["T_VARIABLE","$code",2514],"]",["T_WHITESPACE"," ",2514],["T_CONCAT_EQUAL",".=",2514],["T_WHITESPACE"," ",2514],["T_VARIABLE","$this",2514],["T_OBJECT_OPERATOR","->",2514],["T_STRING","getMultipleValueSeparator",2514],"(",")",["T_WHITESPACE"," ",2514],".",["T_WHITESPACE"," ",2514],["T_VARIABLE","$attributeData",2514],";",["T_WHITESPACE","\n                ",2514],["T_CONTINUE","continue",2515],";",["T_WHITESPACE","\n            ",2515],"}",["T_WHITESPACE","\n            ",2516],["T_LIST","list",2517],"(",["T_VARIABLE","$code",2517],",",["T_WHITESPACE"," ",2517],["T_VARIABLE","$value",2517],")",["T_WHITESPACE"," ",2517],"=",["T_WHITESPACE"," ",2517],["T_STRING","explode",2517],"(",["T_STRING","self",2517],["T_DOUBLE_COLON","::",2517],["T_STRING","PAIR_NAME_VALUE_SEPARATOR",2517],",",["T_WHITESPACE"," ",2517],["T_VARIABLE","$attributeData",2517],",",["T_WHITESPACE"," ",2517],["T_LNUMBER","2",2517],")",";",["T_WHITESPACE","\n            ",2517],["T_VARIABLE","$preparedAttributes",2518],"[",["T_VARIABLE","$code",2518],"]",["T_WHITESPACE"," ",2518],"=",["T_WHITESPACE"," ",2518],["T_VARIABLE","$value",2518],";",["T_WHITESPACE","\n        ",2518],"}",["T_WHITESPACE","\n        ",2519],["T_RETURN","return",2520],["T_WHITESPACE"," ",2520],["T_VARIABLE","$preparedAttributes",2520],";",["T_WHITESPACE","\n    ",2520],"}",["T_WHITESPACE","\n\n    ",2521],["T_DOC_COMMENT","\/**\n     * Parses data and returns attributes in format:\n     * [\n     *      code1 => value1,\n     *      code2 => value2,\n     *      ...\n     *      codeN => valueN\n     * ]\n     * All values have unescaped data except mupliselect attributes,\n     * they should be parsed in additional method - parseMultiselectValues()\n     *\n     * @param string $attributesData Attributes data that will be parsed. It keeps data in format:\n     *      code=\"value\",code2=\"value2\"...,codeN=\"valueN\"\n     *  where every value is wrapped in double quotes. Double quotes as part of value should be duplicated.\n     *  E.g. attribute with code 'attr_code' has value 'my\"value'. This data should be stored as attr_code=\"my\"\"value\"\n     *\n     * @return array\n     *\/",2523],["T_WHITESPACE","\n    ",2540],["T_PRIVATE","private",2541],["T_WHITESPACE"," ",2541],["T_FUNCTION","function",2541],["T_WHITESPACE"," ",2541],["T_STRING","parseAttributesWithWrappedValues",2541],"(",["T_VARIABLE","$attributesData",2541],")",["T_WHITESPACE","\n    ",2541],"{",["T_WHITESPACE","\n        ",2542],["T_VARIABLE","$attributes",2543],["T_WHITESPACE"," ",2543],"=",["T_WHITESPACE"," ",2543],"[","]",";",["T_WHITESPACE","\n        ",2543],["T_STRING","preg_match_all",2544],"(",["T_CONSTANT_ENCAPSED_STRING","'~((?:[a-z0-9_])+)=\"((?:[^\"]|\"\"|\"'",2544],["T_WHITESPACE"," ",2544],".",["T_WHITESPACE"," ",2544],["T_VARIABLE","$this",2544],["T_OBJECT_OPERATOR","->",2544],["T_STRING","getMultiLineSeparatorForRegexp",2544],"(",")",["T_WHITESPACE"," ",2544],".",["T_WHITESPACE"," ",2544],["T_CONSTANT_ENCAPSED_STRING","'\")+)\"+~'",2544],",",["T_WHITESPACE","\n            ",2544],["T_VARIABLE","$attributesData",2545],",",["T_WHITESPACE","\n            ",2545],["T_VARIABLE","$matches",2546],["T_WHITESPACE","\n        ",2546],")",";",["T_WHITESPACE","\n        ",2547],["T_FOREACH","foreach",2548],["T_WHITESPACE"," ",2548],"(",["T_VARIABLE","$matches",2548],"[",["T_LNUMBER","1",2548],"]",["T_WHITESPACE"," ",2548],["T_AS","as",2548],["T_WHITESPACE"," ",2548],["T_VARIABLE","$i",2548],["T_WHITESPACE"," ",2548],["T_DOUBLE_ARROW","=>",2548],["T_WHITESPACE"," ",2548],["T_VARIABLE","$attributeCode",2548],")",["T_WHITESPACE"," ",2548],"{",["T_WHITESPACE","\n            ",2548],["T_VARIABLE","$attribute",2549],["T_WHITESPACE"," ",2549],"=",["T_WHITESPACE"," ",2549],["T_VARIABLE","$this",2549],["T_OBJECT_OPERATOR","->",2549],["T_STRING","retrieveAttributeByCode",2549],"(",["T_VARIABLE","$attributeCode",2549],")",";",["T_WHITESPACE","\n            ",2549],["T_VARIABLE","$value",2550],["T_WHITESPACE"," ",2550],"=",["T_WHITESPACE"," ",2550],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",2550],["T_WHITESPACE"," ",2550],["T_IS_NOT_EQUAL","!=",2550],["T_WHITESPACE"," ",2550],["T_VARIABLE","$attribute",2550],["T_OBJECT_OPERATOR","->",2550],["T_STRING","getFrontendInput",2550],"(",")",["T_WHITESPACE","\n                ",2550],"?",["T_WHITESPACE"," ",2551],["T_STRING","str_replace",2551],"(",["T_CONSTANT_ENCAPSED_STRING","'\"\"'",2551],",",["T_WHITESPACE"," ",2551],["T_CONSTANT_ENCAPSED_STRING","'\"'",2551],",",["T_WHITESPACE"," ",2551],["T_VARIABLE","$matches",2551],"[",["T_LNUMBER","2",2551],"]","[",["T_VARIABLE","$i",2551],"]",")",["T_WHITESPACE","\n                ",2551],":",["T_WHITESPACE"," ",2552],["T_CONSTANT_ENCAPSED_STRING","'\"'",2552],["T_WHITESPACE"," ",2552],".",["T_WHITESPACE"," ",2552],["T_VARIABLE","$matches",2552],"[",["T_LNUMBER","2",2552],"]","[",["T_VARIABLE","$i",2552],"]",["T_WHITESPACE"," ",2552],".",["T_WHITESPACE"," ",2552],["T_CONSTANT_ENCAPSED_STRING","'\"'",2552],";",["T_WHITESPACE","\n            ",2552],["T_VARIABLE","$attributes",2553],"[",["T_VARIABLE","$attributeCode",2553],"]",["T_WHITESPACE"," ",2553],"=",["T_WHITESPACE"," ",2553],["T_VARIABLE","$value",2553],";",["T_WHITESPACE","\n        ",2553],"}",["T_WHITESPACE","\n        ",2554],["T_RETURN","return",2555],["T_WHITESPACE"," ",2555],["T_VARIABLE","$attributes",2555],";",["T_WHITESPACE","\n    ",2555],"}",["T_WHITESPACE","\n\n    ",2556],["T_DOC_COMMENT","\/**\n     * Parse values of multiselect attributes depends on \"Fields Enclosure\" parameter\n     *\n     * @param string $values\n     * @param string $delimiter\n     * @return array\n     *\/",2558],["T_WHITESPACE","\n    ",2564],["T_PUBLIC","public",2565],["T_WHITESPACE"," ",2565],["T_FUNCTION","function",2565],["T_WHITESPACE"," ",2565],["T_STRING","parseMultiselectValues",2565],"(",["T_VARIABLE","$values",2565],",",["T_WHITESPACE"," ",2565],["T_VARIABLE","$delimiter",2565],["T_WHITESPACE"," ",2565],"=",["T_WHITESPACE"," ",2565],["T_STRING","self",2565],["T_DOUBLE_COLON","::",2565],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",2565],")",["T_WHITESPACE","\n    ",2565],"{",["T_WHITESPACE","\n        ",2566],["T_IF","if",2567],["T_WHITESPACE"," ",2567],"(",["T_EMPTY","empty",2567],"(",["T_VARIABLE","$this",2567],["T_OBJECT_OPERATOR","->",2567],["T_STRING","_parameters",2567],"[",["T_STRING","Import",2567],["T_DOUBLE_COLON","::",2567],["T_STRING","FIELDS_ENCLOSURE",2567],"]",")",")",["T_WHITESPACE"," ",2567],"{",["T_WHITESPACE","\n            ",2567],["T_RETURN","return",2568],["T_WHITESPACE"," ",2568],["T_STRING","explode",2568],"(",["T_VARIABLE","$delimiter",2568],",",["T_WHITESPACE"," ",2568],["T_VARIABLE","$values",2568],")",";",["T_WHITESPACE","\n        ",2568],"}",["T_WHITESPACE","\n        ",2569],["T_IF","if",2570],["T_WHITESPACE"," ",2570],"(",["T_STRING","preg_match_all",2570],"(",["T_CONSTANT_ENCAPSED_STRING","'~\"((?:[^\"]|\"\")*)\"~'",2570],",",["T_WHITESPACE"," ",2570],["T_VARIABLE","$values",2570],",",["T_WHITESPACE"," ",2570],["T_VARIABLE","$matches",2570],")",")",["T_WHITESPACE"," ",2570],"{",["T_WHITESPACE","\n            ",2570],["T_RETURN","return",2571],["T_WHITESPACE"," ",2571],["T_VARIABLE","$values",2571],["T_WHITESPACE"," ",2571],"=",["T_WHITESPACE"," ",2571],["T_STRING","array_map",2571],"(",["T_FUNCTION","function",2571],["T_WHITESPACE"," ",2571],"(",["T_VARIABLE","$value",2571],")",["T_WHITESPACE"," ",2571],"{",["T_WHITESPACE","\n                ",2571],["T_RETURN","return",2572],["T_WHITESPACE"," ",2572],["T_STRING","str_replace",2572],"(",["T_CONSTANT_ENCAPSED_STRING","'\"\"'",2572],",",["T_WHITESPACE"," ",2572],["T_CONSTANT_ENCAPSED_STRING","'\"'",2572],",",["T_WHITESPACE"," ",2572],["T_VARIABLE","$value",2572],")",";",["T_WHITESPACE","\n            ",2572],"}",",",["T_WHITESPACE"," ",2573],["T_VARIABLE","$matches",2573],"[",["T_LNUMBER","1",2573],"]",")",";",["T_WHITESPACE","\n        ",2573],"}",["T_WHITESPACE","\n        ",2574],["T_RETURN","return",2575],["T_WHITESPACE"," ",2575],"[",["T_VARIABLE","$values",2575],"]",";",["T_WHITESPACE","\n    ",2575],"}",["T_WHITESPACE","\n\n    ",2576],["T_DOC_COMMENT","\/**\n     * Retrieves escaped PSEUDO_MULTI_LINE_SEPARATOR if it is metacharacter for regular expression\n     *\n     * @return string\n     *\/",2578],["T_WHITESPACE","\n    ",2582],["T_PRIVATE","private",2583],["T_WHITESPACE"," ",2583],["T_FUNCTION","function",2583],["T_WHITESPACE"," ",2583],["T_STRING","getMultiLineSeparatorForRegexp",2583],"(",")",["T_WHITESPACE","\n    ",2583],"{",["T_WHITESPACE","\n        ",2584],["T_IF","if",2585],["T_WHITESPACE"," ",2585],"(","!",["T_VARIABLE","$this",2585],["T_OBJECT_OPERATOR","->",2585],["T_STRING","multiLineSeparatorForRegexp",2585],")",["T_WHITESPACE"," ",2585],"{",["T_WHITESPACE","\n            ",2585],["T_VARIABLE","$this",2586],["T_OBJECT_OPERATOR","->",2586],["T_STRING","multiLineSeparatorForRegexp",2586],["T_WHITESPACE"," ",2586],"=",["T_WHITESPACE"," ",2586],["T_STRING","in_array",2586],"(",["T_STRING","self",2586],["T_DOUBLE_COLON","::",2586],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",2586],",",["T_WHITESPACE"," ",2586],["T_STRING","str_split",2586],"(",["T_CONSTANT_ENCAPSED_STRING","'[\\^$.|?*+(){}'",2586],")",")",["T_WHITESPACE","\n                ",2586],"?",["T_WHITESPACE"," ",2587],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",2587],["T_WHITESPACE"," ",2587],".",["T_WHITESPACE"," ",2587],["T_STRING","self",2587],["T_DOUBLE_COLON","::",2587],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",2587],["T_WHITESPACE","\n                ",2587],":",["T_WHITESPACE"," ",2588],["T_STRING","self",2588],["T_DOUBLE_COLON","::",2588],["T_STRING","PSEUDO_MULTI_LINE_SEPARATOR",2588],";",["T_WHITESPACE","\n        ",2588],"}",["T_WHITESPACE","\n        ",2589],["T_RETURN","return",2590],["T_WHITESPACE"," ",2590],["T_VARIABLE","$this",2590],["T_OBJECT_OPERATOR","->",2590],["T_STRING","multiLineSeparatorForRegexp",2590],";",["T_WHITESPACE","\n    ",2590],"}",["T_WHITESPACE","\n\n    ",2591],["T_DOC_COMMENT","\/**\n     * Set values in use_config_ fields.\n     *\n     * @param array $rowData\n     *\n     * @return array\n     *\/",2593],["T_WHITESPACE","\n    ",2599],["T_PRIVATE","private",2600],["T_WHITESPACE"," ",2600],["T_FUNCTION","function",2600],["T_WHITESPACE"," ",2600],["T_STRING","_setStockUseConfigFieldsValues",2600],"(",["T_VARIABLE","$rowData",2600],")",["T_WHITESPACE","\n    ",2600],"{",["T_WHITESPACE","\n        ",2601],["T_VARIABLE","$useConfigFields",2602],["T_WHITESPACE"," ",2602],"=",["T_WHITESPACE"," ",2602],"[","]",";",["T_WHITESPACE","\n        ",2602],["T_FOREACH","foreach",2603],["T_WHITESPACE"," ",2603],"(",["T_VARIABLE","$rowData",2603],["T_WHITESPACE"," ",2603],["T_AS","as",2603],["T_WHITESPACE"," ",2603],["T_VARIABLE","$key",2603],["T_WHITESPACE"," ",2603],["T_DOUBLE_ARROW","=>",2603],["T_WHITESPACE"," ",2603],["T_VARIABLE","$value",2603],")",["T_WHITESPACE"," ",2603],"{",["T_WHITESPACE","\n            ",2603],["T_VARIABLE","$useConfigName",2604],["T_WHITESPACE"," ",2604],"=",["T_WHITESPACE"," ",2604],["T_STRING","self",2604],["T_DOUBLE_COLON","::",2604],["T_STRING","INVENTORY_USE_CONFIG_PREFIX",2604],["T_WHITESPACE"," ",2604],".",["T_WHITESPACE"," ",2604],["T_VARIABLE","$key",2604],";",["T_WHITESPACE","\n            ",2604],["T_IF","if",2605],["T_WHITESPACE"," ",2605],"(",["T_ISSET","isset",2605],"(",["T_VARIABLE","$this",2605],["T_OBJECT_OPERATOR","->",2605],["T_STRING","defaultStockData",2605],"[",["T_VARIABLE","$key",2605],"]",")",["T_WHITESPACE","\n                ",2605],["T_BOOLEAN_AND","&&",2606],["T_WHITESPACE"," ",2606],["T_ISSET","isset",2606],"(",["T_VARIABLE","$this",2606],["T_OBJECT_OPERATOR","->",2606],["T_STRING","defaultStockData",2606],"[",["T_VARIABLE","$useConfigName",2606],"]",")",["T_WHITESPACE","\n                ",2606],["T_BOOLEAN_AND","&&",2607],["T_WHITESPACE"," ",2607],"!",["T_EMPTY","empty",2607],"(",["T_VARIABLE","$value",2607],")",["T_WHITESPACE","\n                ",2607],["T_BOOLEAN_AND","&&",2608],["T_WHITESPACE"," ",2608],["T_EMPTY","empty",2608],"(",["T_VARIABLE","$rowData",2608],"[",["T_VARIABLE","$useConfigName",2608],"]",")",["T_WHITESPACE","\n            ",2608],")",["T_WHITESPACE"," ",2609],"{",["T_WHITESPACE","\n                ",2609],["T_VARIABLE","$useConfigFields",2610],"[",["T_VARIABLE","$useConfigName",2610],"]",["T_WHITESPACE"," ",2610],"=",["T_WHITESPACE"," ",2610],"(",["T_VARIABLE","$value",2610],["T_WHITESPACE"," ",2610],["T_IS_EQUAL","==",2610],["T_WHITESPACE"," ",2610],["T_STRING","self",2610],["T_DOUBLE_COLON","::",2610],["T_STRING","INVENTORY_USE_CONFIG",2610],")",["T_WHITESPACE"," ",2610],"?",["T_WHITESPACE"," ",2610],["T_LNUMBER","1",2610],["T_WHITESPACE"," ",2610],":",["T_WHITESPACE"," ",2610],["T_LNUMBER","0",2610],";",["T_WHITESPACE","\n            ",2610],"}",["T_WHITESPACE","\n        ",2611],"}",["T_WHITESPACE","\n        ",2612],["T_VARIABLE","$rowData",2613],["T_WHITESPACE"," ",2613],"=",["T_WHITESPACE"," ",2613],["T_STRING","array_merge",2613],"(",["T_VARIABLE","$rowData",2613],",",["T_WHITESPACE"," ",2613],["T_VARIABLE","$useConfigFields",2613],")",";",["T_WHITESPACE","\n        ",2613],["T_RETURN","return",2614],["T_WHITESPACE"," ",2614],["T_VARIABLE","$rowData",2614],";",["T_WHITESPACE","\n    ",2614],"}",["T_WHITESPACE","\n\n    ",2615],["T_DOC_COMMENT","\/**\n     * Custom fields mapping for changed purposes of fields and field names.\n     *\n     * @param array $rowData\n     *\n     * @return array\n     *\/",2617],["T_WHITESPACE","\n    ",2623],["T_PRIVATE","private",2624],["T_WHITESPACE"," ",2624],["T_FUNCTION","function",2624],["T_WHITESPACE"," ",2624],["T_STRING","_customFieldsMapping",2624],"(",["T_VARIABLE","$rowData",2624],")",["T_WHITESPACE","\n    ",2624],"{",["T_WHITESPACE","\n        ",2625],["T_FOREACH","foreach",2626],["T_WHITESPACE"," ",2626],"(",["T_VARIABLE","$this",2626],["T_OBJECT_OPERATOR","->",2626],["T_STRING","_fieldsMap",2626],["T_WHITESPACE"," ",2626],["T_AS","as",2626],["T_WHITESPACE"," ",2626],["T_VARIABLE","$systemFieldName",2626],["T_WHITESPACE"," ",2626],["T_DOUBLE_ARROW","=>",2626],["T_WHITESPACE"," ",2626],["T_VARIABLE","$fileFieldName",2626],")",["T_WHITESPACE"," ",2626],"{",["T_WHITESPACE","\n            ",2626],["T_IF","if",2627],["T_WHITESPACE"," ",2627],"(",["T_STRING","array_key_exists",2627],"(",["T_VARIABLE","$fileFieldName",2627],",",["T_WHITESPACE"," ",2627],["T_VARIABLE","$rowData",2627],")",")",["T_WHITESPACE"," ",2627],"{",["T_WHITESPACE","\n                ",2627],["T_VARIABLE","$rowData",2628],"[",["T_VARIABLE","$systemFieldName",2628],"]",["T_WHITESPACE"," ",2628],"=",["T_WHITESPACE"," ",2628],["T_VARIABLE","$rowData",2628],"[",["T_VARIABLE","$fileFieldName",2628],"]",";",["T_WHITESPACE","\n            ",2628],"}",["T_WHITESPACE","\n        ",2629],"}",["T_WHITESPACE","\n\n        ",2630],["T_VARIABLE","$rowData",2632],["T_WHITESPACE"," ",2632],"=",["T_WHITESPACE"," ",2632],["T_VARIABLE","$this",2632],["T_OBJECT_OPERATOR","->",2632],["T_STRING","_parseAdditionalAttributes",2632],"(",["T_VARIABLE","$rowData",2632],")",";",["T_WHITESPACE","\n\n        ",2632],["T_VARIABLE","$rowData",2634],["T_WHITESPACE"," ",2634],"=",["T_WHITESPACE"," ",2634],["T_VARIABLE","$this",2634],["T_OBJECT_OPERATOR","->",2634],["T_STRING","_setStockUseConfigFieldsValues",2634],"(",["T_VARIABLE","$rowData",2634],")",";",["T_WHITESPACE","\n        ",2634],["T_IF","if",2635],["T_WHITESPACE"," ",2635],"(",["T_STRING","array_key_exists",2635],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",2635],",",["T_WHITESPACE"," ",2635],["T_VARIABLE","$rowData",2635],")",["T_WHITESPACE","\n            ",2635],["T_BOOLEAN_AND","&&",2636],["T_WHITESPACE"," ",2636],["T_VARIABLE","$rowData",2636],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",2636],"]",["T_WHITESPACE"," ",2636],["T_IS_NOT_EQUAL","!=",2636],["T_WHITESPACE"," ",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Magento",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Catalog",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Model",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Product",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Attribute",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Source",2636],["T_NS_SEPARATOR","\\",2636],["T_STRING","Status",2636],["T_DOUBLE_COLON","::",2636],["T_STRING","STATUS_ENABLED",2636],["T_WHITESPACE","\n        ",2636],")",["T_WHITESPACE"," ",2637],"{",["T_WHITESPACE","\n            ",2637],["T_IF","if",2638],["T_WHITESPACE"," ",2638],"(",["T_VARIABLE","$rowData",2638],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",2638],"]",["T_WHITESPACE"," ",2638],["T_IS_EQUAL","==",2638],["T_WHITESPACE"," ",2638],["T_CONSTANT_ENCAPSED_STRING","'yes'",2638],")",["T_WHITESPACE"," ",2638],"{",["T_WHITESPACE","\n                ",2638],["T_VARIABLE","$rowData",2639],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",2639],"]",["T_WHITESPACE"," ",2639],"=",["T_WHITESPACE"," ",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Magento",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Catalog",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Model",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Product",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Attribute",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Source",2639],["T_NS_SEPARATOR","\\",2639],["T_STRING","Status",2639],["T_DOUBLE_COLON","::",2639],["T_STRING","STATUS_ENABLED",2639],";",["T_WHITESPACE","\n            ",2639],"}",["T_WHITESPACE"," ",2640],["T_ELSEIF","elseif",2640],["T_WHITESPACE"," ",2640],"(","!",["T_EMPTY","empty",2640],"(",["T_VARIABLE","$rowData",2640],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",2640],"]",")",["T_WHITESPACE"," ",2640],["T_BOOLEAN_OR","||",2640],["T_WHITESPACE"," ",2640],["T_VARIABLE","$this",2640],["T_OBJECT_OPERATOR","->",2640],["T_STRING","getRowScope",2640],"(",["T_VARIABLE","$rowData",2640],")",["T_WHITESPACE"," ",2640],["T_IS_EQUAL","==",2640],["T_WHITESPACE"," ",2640],["T_STRING","self",2640],["T_DOUBLE_COLON","::",2640],["T_STRING","SCOPE_DEFAULT",2640],")",["T_WHITESPACE"," ",2640],"{",["T_WHITESPACE","\n                ",2640],["T_VARIABLE","$rowData",2641],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",2641],"]",["T_WHITESPACE"," ",2641],"=",["T_WHITESPACE"," ",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Magento",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Catalog",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Model",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Product",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Attribute",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Source",2641],["T_NS_SEPARATOR","\\",2641],["T_STRING","Status",2641],["T_DOUBLE_COLON","::",2641],["T_STRING","STATUS_DISABLED",2641],";",["T_WHITESPACE","\n            ",2641],"}",["T_WHITESPACE","\n        ",2642],"}",["T_WHITESPACE","\n        ",2643],["T_RETURN","return",2644],["T_WHITESPACE"," ",2644],["T_VARIABLE","$rowData",2644],";",["T_WHITESPACE","\n    ",2644],"}",["T_WHITESPACE","\n\n    ",2645],["T_DOC_COMMENT","\/**\n     * Validate data rows and save bunches to DB\n     *\n     * @return $this\n     *\/",2647],["T_WHITESPACE","\n    ",2651],["T_PROTECTED","protected",2652],["T_WHITESPACE"," ",2652],["T_FUNCTION","function",2652],["T_WHITESPACE"," ",2652],["T_STRING","_saveValidatedBunches",2652],"(",")",["T_WHITESPACE","\n    ",2652],"{",["T_WHITESPACE","\n        ",2653],["T_VARIABLE","$source",2654],["T_WHITESPACE"," ",2654],"=",["T_WHITESPACE"," ",2654],["T_VARIABLE","$this",2654],["T_OBJECT_OPERATOR","->",2654],["T_STRING","_getSource",2654],"(",")",";",["T_WHITESPACE","\n        ",2654],["T_VARIABLE","$source",2655],["T_OBJECT_OPERATOR","->",2655],["T_STRING","rewind",2655],"(",")",";",["T_WHITESPACE","\n\n        ",2655],["T_WHILE","while",2657],["T_WHITESPACE"," ",2657],"(",["T_VARIABLE","$source",2657],["T_OBJECT_OPERATOR","->",2657],["T_STRING","valid",2657],"(",")",")",["T_WHITESPACE"," ",2657],"{",["T_WHITESPACE","\n            ",2657],["T_TRY","try",2658],["T_WHITESPACE"," ",2658],"{",["T_WHITESPACE","\n                ",2658],["T_VARIABLE","$rowData",2659],["T_WHITESPACE"," ",2659],"=",["T_WHITESPACE"," ",2659],["T_VARIABLE","$source",2659],["T_OBJECT_OPERATOR","->",2659],["T_STRING","current",2659],"(",")",";",["T_WHITESPACE","\n            ",2659],"}",["T_WHITESPACE"," ",2660],["T_CATCH","catch",2660],["T_WHITESPACE"," ",2660],"(",["T_NS_SEPARATOR","\\",2660],["T_STRING","InvalidArgumentException",2660],["T_WHITESPACE"," ",2660],["T_VARIABLE","$e",2660],")",["T_WHITESPACE"," ",2660],"{",["T_WHITESPACE","\n                ",2660],["T_VARIABLE","$this",2661],["T_OBJECT_OPERATOR","->",2661],["T_STRING","addRowError",2661],"(",["T_VARIABLE","$e",2661],["T_OBJECT_OPERATOR","->",2661],["T_STRING","getMessage",2661],"(",")",",",["T_WHITESPACE"," ",2661],["T_VARIABLE","$this",2661],["T_OBJECT_OPERATOR","->",2661],["T_STRING","_processedRowsCount",2661],")",";",["T_WHITESPACE","\n                ",2661],["T_VARIABLE","$this",2662],["T_OBJECT_OPERATOR","->",2662],["T_STRING","_processedRowsCount",2662],["T_INC","++",2662],";",["T_WHITESPACE","\n                ",2662],["T_VARIABLE","$source",2663],["T_OBJECT_OPERATOR","->",2663],["T_STRING","next",2663],"(",")",";",["T_WHITESPACE","\n                ",2663],["T_CONTINUE","continue",2664],";",["T_WHITESPACE","\n            ",2664],"}",["T_WHITESPACE","\n\n            ",2665],["T_VARIABLE","$rowData",2667],["T_WHITESPACE"," ",2667],"=",["T_WHITESPACE"," ",2667],["T_VARIABLE","$this",2667],["T_OBJECT_OPERATOR","->",2667],["T_STRING","_customFieldsMapping",2667],"(",["T_VARIABLE","$rowData",2667],")",";",["T_WHITESPACE","\n\n            ",2667],["T_VARIABLE","$this",2669],["T_OBJECT_OPERATOR","->",2669],["T_STRING","validateRow",2669],"(",["T_VARIABLE","$rowData",2669],",",["T_WHITESPACE"," ",2669],["T_VARIABLE","$source",2669],["T_OBJECT_OPERATOR","->",2669],["T_STRING","key",2669],"(",")",")",";",["T_WHITESPACE","\n\n            ",2669],["T_VARIABLE","$source",2671],["T_OBJECT_OPERATOR","->",2671],["T_STRING","next",2671],"(",")",";",["T_WHITESPACE","\n        ",2671],"}",["T_WHITESPACE","\n        ",2672],["T_VARIABLE","$this",2673],["T_OBJECT_OPERATOR","->",2673],["T_STRING","checkUrlKeyDuplicates",2673],"(",")",";",["T_WHITESPACE","\n        ",2673],["T_VARIABLE","$this",2674],["T_OBJECT_OPERATOR","->",2674],["T_STRING","getOptionEntity",2674],"(",")",["T_OBJECT_OPERATOR","->",2674],["T_STRING","validateAmbiguousData",2674],"(",")",";",["T_WHITESPACE","\n        ",2674],["T_RETURN","return",2675],["T_WHITESPACE"," ",2675],["T_STRING","parent",2675],["T_DOUBLE_COLON","::",2675],["T_STRING","_saveValidatedBunches",2675],"(",")",";",["T_WHITESPACE","\n    ",2675],"}",["T_WHITESPACE","\n\n    ",2676],["T_DOC_COMMENT","\/**\n     * Check that url_keys are not assigned to other products in DB\n     *\n     * @return void\n     *\/",2678],["T_WHITESPACE","\n    ",2682],["T_PROTECTED","protected",2683],["T_WHITESPACE"," ",2683],["T_FUNCTION","function",2683],["T_WHITESPACE"," ",2683],["T_STRING","checkUrlKeyDuplicates",2683],"(",")",["T_WHITESPACE","\n    ",2683],"{",["T_WHITESPACE","\n        ",2684],["T_VARIABLE","$resource",2685],["T_WHITESPACE"," ",2685],"=",["T_WHITESPACE"," ",2685],["T_VARIABLE","$this",2685],["T_OBJECT_OPERATOR","->",2685],["T_STRING","getResource",2685],"(",")",";",["T_WHITESPACE","\n        ",2685],["T_FOREACH","foreach",2686],["T_WHITESPACE"," ",2686],"(",["T_VARIABLE","$this",2686],["T_OBJECT_OPERATOR","->",2686],["T_STRING","urlKeys",2686],["T_WHITESPACE"," ",2686],["T_AS","as",2686],["T_WHITESPACE"," ",2686],["T_VARIABLE","$storeId",2686],["T_WHITESPACE"," ",2686],["T_DOUBLE_ARROW","=>",2686],["T_WHITESPACE"," ",2686],["T_VARIABLE","$urlKeys",2686],")",["T_WHITESPACE"," ",2686],"{",["T_WHITESPACE","\n            ",2686],["T_VARIABLE","$urlKeyDuplicates",2687],["T_WHITESPACE"," ",2687],"=",["T_WHITESPACE"," ",2687],["T_VARIABLE","$this",2687],["T_OBJECT_OPERATOR","->",2687],["T_STRING","_connection",2687],["T_OBJECT_OPERATOR","->",2687],["T_STRING","fetchAssoc",2687],"(",["T_WHITESPACE","\n                ",2687],["T_VARIABLE","$this",2688],["T_OBJECT_OPERATOR","->",2688],["T_STRING","_connection",2688],["T_OBJECT_OPERATOR","->",2688],["T_STRING","select",2688],"(",")",["T_OBJECT_OPERATOR","->",2688],["T_STRING","from",2688],"(",["T_WHITESPACE","\n                    ",2688],"[",["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",2689],["T_WHITESPACE"," ",2689],["T_DOUBLE_ARROW","=>",2689],["T_WHITESPACE"," ",2689],["T_VARIABLE","$resource",2689],["T_OBJECT_OPERATOR","->",2689],["T_STRING","getTable",2689],"(",["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",2689],")","]",",",["T_WHITESPACE","\n                    ",2689],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",2690],",",["T_WHITESPACE"," ",2690],["T_CONSTANT_ENCAPSED_STRING","'store_id'",2690],"]",["T_WHITESPACE","\n                ",2690],")",["T_OBJECT_OPERATOR","->",2691],["T_STRING","joinLeft",2691],"(",["T_WHITESPACE","\n                    ",2691],"[",["T_CONSTANT_ENCAPSED_STRING","'cpe'",2692],["T_WHITESPACE"," ",2692],["T_DOUBLE_ARROW","=>",2692],["T_WHITESPACE"," ",2692],["T_VARIABLE","$resource",2692],["T_OBJECT_OPERATOR","->",2692],["T_STRING","getTable",2692],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",2692],")","]",",",["T_WHITESPACE","\n                    ",2692],["T_CONSTANT_ENCAPSED_STRING","\"cpe.entity_id = url_rewrite.entity_id\"",2693],["T_WHITESPACE","\n                ",2693],")",["T_OBJECT_OPERATOR","->",2694],["T_STRING","where",2694],"(",["T_CONSTANT_ENCAPSED_STRING","'request_path IN (?)'",2694],",",["T_WHITESPACE"," ",2694],["T_STRING","array_keys",2694],"(",["T_VARIABLE","$urlKeys",2694],")",")",["T_WHITESPACE","\n                    ",2694],["T_OBJECT_OPERATOR","->",2695],["T_STRING","where",2695],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id IN (?)'",2695],",",["T_WHITESPACE"," ",2695],["T_VARIABLE","$storeId",2695],")",["T_WHITESPACE","\n                    ",2695],["T_OBJECT_OPERATOR","->",2696],["T_STRING","where",2696],"(",["T_CONSTANT_ENCAPSED_STRING","'cpe.sku not in (?)'",2696],",",["T_WHITESPACE"," ",2696],["T_STRING","array_values",2696],"(",["T_VARIABLE","$urlKeys",2696],")",")",["T_WHITESPACE","\n            ",2696],")",";",["T_WHITESPACE","\n            ",2697],["T_FOREACH","foreach",2698],["T_WHITESPACE"," ",2698],"(",["T_VARIABLE","$urlKeyDuplicates",2698],["T_WHITESPACE"," ",2698],["T_AS","as",2698],["T_WHITESPACE"," ",2698],["T_VARIABLE","$entityData",2698],")",["T_WHITESPACE"," ",2698],"{",["T_WHITESPACE","\n                ",2698],["T_VARIABLE","$rowNum",2699],["T_WHITESPACE"," ",2699],"=",["T_WHITESPACE"," ",2699],["T_VARIABLE","$this",2699],["T_OBJECT_OPERATOR","->",2699],["T_STRING","rowNumbers",2699],"[",["T_VARIABLE","$entityData",2699],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",2699],"]","]","[",["T_VARIABLE","$entityData",2699],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",2699],"]","]",";",["T_WHITESPACE","\n                ",2699],["T_VARIABLE","$this",2700],["T_OBJECT_OPERATOR","->",2700],["T_STRING","addRowError",2700],"(",["T_STRING","ValidatorInterface",2700],["T_DOUBLE_COLON","::",2700],["T_STRING","ERROR_DUPLICATE_URL_KEY",2700],",",["T_WHITESPACE"," ",2700],["T_VARIABLE","$rowNum",2700],")",";",["T_WHITESPACE","\n            ",2700],"}",["T_WHITESPACE","\n        ",2701],"}",["T_WHITESPACE","\n    ",2702],"}",["T_WHITESPACE","\n\n    ",2703],["T_DOC_COMMENT","\/**\n     * Retrieve product rewrite suffix for store\n     *\n     * @param int $storeId\n     * @return string\n     *\/",2705],["T_WHITESPACE","\n    ",2710],["T_PROTECTED","protected",2711],["T_WHITESPACE"," ",2711],["T_FUNCTION","function",2711],["T_WHITESPACE"," ",2711],["T_STRING","getProductUrlSuffix",2711],"(",["T_VARIABLE","$storeId",2711],["T_WHITESPACE"," ",2711],"=",["T_WHITESPACE"," ",2711],["T_STRING","null",2711],")",["T_WHITESPACE","\n    ",2711],"{",["T_WHITESPACE","\n        ",2712],["T_IF","if",2713],["T_WHITESPACE"," ",2713],"(","!",["T_ISSET","isset",2713],"(",["T_VARIABLE","$this",2713],["T_OBJECT_OPERATOR","->",2713],["T_STRING","productUrlSuffix",2713],"[",["T_VARIABLE","$storeId",2713],"]",")",")",["T_WHITESPACE"," ",2713],"{",["T_WHITESPACE","\n            ",2713],["T_VARIABLE","$this",2714],["T_OBJECT_OPERATOR","->",2714],["T_STRING","productUrlSuffix",2714],"[",["T_VARIABLE","$storeId",2714],"]",["T_WHITESPACE"," ",2714],"=",["T_WHITESPACE"," ",2714],["T_VARIABLE","$this",2714],["T_OBJECT_OPERATOR","->",2714],["T_STRING","scopeConfig",2714],["T_OBJECT_OPERATOR","->",2714],["T_STRING","getValue",2714],"(",["T_WHITESPACE","\n                ",2714],["T_NS_SEPARATOR","\\",2715],["T_STRING","Magento",2715],["T_NS_SEPARATOR","\\",2715],["T_STRING","CatalogUrlRewrite",2715],["T_NS_SEPARATOR","\\",2715],["T_STRING","Model",2715],["T_NS_SEPARATOR","\\",2715],["T_STRING","ProductUrlPathGenerator",2715],["T_DOUBLE_COLON","::",2715],["T_STRING","XML_PATH_PRODUCT_URL_SUFFIX",2715],",",["T_WHITESPACE","\n                ",2715],["T_NS_SEPARATOR","\\",2716],["T_STRING","Magento",2716],["T_NS_SEPARATOR","\\",2716],["T_STRING","Store",2716],["T_NS_SEPARATOR","\\",2716],["T_STRING","Model",2716],["T_NS_SEPARATOR","\\",2716],["T_STRING","ScopeInterface",2716],["T_DOUBLE_COLON","::",2716],["T_STRING","SCOPE_STORE",2716],",",["T_WHITESPACE","\n                ",2716],["T_VARIABLE","$storeId",2717],["T_WHITESPACE","\n            ",2717],")",";",["T_WHITESPACE","\n        ",2718],"}",["T_WHITESPACE","\n        ",2719],["T_RETURN","return",2720],["T_WHITESPACE"," ",2720],["T_VARIABLE","$this",2720],["T_OBJECT_OPERATOR","->",2720],["T_STRING","productUrlSuffix",2720],"[",["T_VARIABLE","$storeId",2720],"]",";",["T_WHITESPACE","\n    ",2720],"}",["T_WHITESPACE","\n\n    ",2721],["T_DOC_COMMENT","\/**\n     * @param array $rowData\n     * @return string\n     *\/",2723],["T_WHITESPACE","\n    ",2726],["T_PROTECTED","protected",2727],["T_WHITESPACE"," ",2727],["T_FUNCTION","function",2727],["T_WHITESPACE"," ",2727],["T_STRING","getUrlKey",2727],"(",["T_VARIABLE","$rowData",2727],")",["T_WHITESPACE","\n    ",2727],"{",["T_WHITESPACE","\n        ",2728],["T_IF","if",2729],["T_WHITESPACE"," ",2729],"(","!",["T_EMPTY","empty",2729],"(",["T_VARIABLE","$rowData",2729],"[",["T_STRING","self",2729],["T_DOUBLE_COLON","::",2729],["T_STRING","URL_KEY",2729],"]",")",")",["T_WHITESPACE"," ",2729],"{",["T_WHITESPACE","\n            ",2729],["T_RETURN","return",2730],["T_WHITESPACE"," ",2730],["T_VARIABLE","$rowData",2730],"[",["T_STRING","self",2730],["T_DOUBLE_COLON","::",2730],["T_STRING","URL_KEY",2730],"]",";",["T_WHITESPACE","\n        ",2730],"}",["T_WHITESPACE","\n\n        ",2731],["T_IF","if",2733],["T_WHITESPACE"," ",2733],"(","!",["T_EMPTY","empty",2733],"(",["T_VARIABLE","$rowData",2733],"[",["T_STRING","self",2733],["T_DOUBLE_COLON","::",2733],["T_STRING","COL_NAME",2733],"]",")",")",["T_WHITESPACE"," ",2733],"{",["T_WHITESPACE","\n            ",2733],["T_RETURN","return",2734],["T_WHITESPACE"," ",2734],["T_VARIABLE","$this",2734],["T_OBJECT_OPERATOR","->",2734],["T_STRING","productUrl",2734],["T_OBJECT_OPERATOR","->",2734],["T_STRING","formatUrlKey",2734],"(",["T_VARIABLE","$rowData",2734],"[",["T_STRING","self",2734],["T_DOUBLE_COLON","::",2734],["T_STRING","COL_NAME",2734],"]",")",";",["T_WHITESPACE","\n        ",2734],"}",["T_WHITESPACE","\n\n        ",2735],["T_RETURN","return",2737],["T_WHITESPACE"," ",2737],["T_CONSTANT_ENCAPSED_STRING","''",2737],";",["T_WHITESPACE","\n    ",2737],"}",["T_WHITESPACE","\n\n    ",2738],["T_DOC_COMMENT","\/**\n     * @return Proxy\\Product\\ResourceModel\n     *\/",2740],["T_WHITESPACE","\n    ",2742],["T_PROTECTED","protected",2743],["T_WHITESPACE"," ",2743],["T_FUNCTION","function",2743],["T_WHITESPACE"," ",2743],["T_STRING","getResource",2743],"(",")",["T_WHITESPACE","\n    ",2743],"{",["T_WHITESPACE","\n        ",2744],["T_IF","if",2745],["T_WHITESPACE"," ",2745],"(","!",["T_VARIABLE","$this",2745],["T_OBJECT_OPERATOR","->",2745],["T_STRING","_resource",2745],")",["T_WHITESPACE"," ",2745],"{",["T_WHITESPACE","\n            ",2745],["T_VARIABLE","$this",2746],["T_OBJECT_OPERATOR","->",2746],["T_STRING","_resource",2746],["T_WHITESPACE"," ",2746],"=",["T_WHITESPACE"," ",2746],["T_VARIABLE","$this",2746],["T_OBJECT_OPERATOR","->",2746],["T_STRING","_resourceFactory",2746],["T_OBJECT_OPERATOR","->",2746],["T_STRING","create",2746],"(",")",";",["T_WHITESPACE","\n        ",2746],"}",["T_WHITESPACE","\n        ",2747],["T_RETURN","return",2748],["T_WHITESPACE"," ",2748],["T_VARIABLE","$this",2748],["T_OBJECT_OPERATOR","->",2748],["T_STRING","_resource",2748],";",["T_WHITESPACE","\n    ",2748],"}",["T_WHITESPACE","\n\n    ",2749],["T_DOC_COMMENT","\/**\n     * Get product entity link field\n     *\n     * @return string\n     *\/",2751],["T_WHITESPACE","\n    ",2755],["T_PRIVATE","private",2756],["T_WHITESPACE"," ",2756],["T_FUNCTION","function",2756],["T_WHITESPACE"," ",2756],["T_STRING","getProductEntityLinkField",2756],"(",")",["T_WHITESPACE","\n    ",2756],"{",["T_WHITESPACE","\n        ",2757],["T_IF","if",2758],["T_WHITESPACE"," ",2758],"(","!",["T_VARIABLE","$this",2758],["T_OBJECT_OPERATOR","->",2758],["T_STRING","productEntityLinkField",2758],")",["T_WHITESPACE"," ",2758],"{",["T_WHITESPACE","\n            ",2758],["T_VARIABLE","$this",2759],["T_OBJECT_OPERATOR","->",2759],["T_STRING","productEntityLinkField",2759],["T_WHITESPACE"," ",2759],"=",["T_WHITESPACE"," ",2759],["T_VARIABLE","$this",2759],["T_OBJECT_OPERATOR","->",2759],["T_STRING","getMetadataPool",2759],"(",")",["T_WHITESPACE","\n                ",2759],["T_OBJECT_OPERATOR","->",2760],["T_STRING","getMetadata",2760],"(",["T_NS_SEPARATOR","\\",2760],["T_STRING","Magento",2760],["T_NS_SEPARATOR","\\",2760],["T_STRING","Catalog",2760],["T_NS_SEPARATOR","\\",2760],["T_STRING","Api",2760],["T_NS_SEPARATOR","\\",2760],["T_STRING","Data",2760],["T_NS_SEPARATOR","\\",2760],["T_STRING","ProductInterface",2760],["T_DOUBLE_COLON","::",2760],["T_CLASS","class",2760],")",["T_WHITESPACE","\n                ",2760],["T_OBJECT_OPERATOR","->",2761],["T_STRING","getLinkField",2761],"(",")",";",["T_WHITESPACE","\n        ",2761],"}",["T_WHITESPACE","\n        ",2762],["T_RETURN","return",2763],["T_WHITESPACE"," ",2763],["T_VARIABLE","$this",2763],["T_OBJECT_OPERATOR","->",2763],["T_STRING","productEntityLinkField",2763],";",["T_WHITESPACE","\n    ",2763],"}",["T_WHITESPACE","\n\n    ",2764],["T_DOC_COMMENT","\/**\n     * Get product entity identifier field\n     *\n     * @return string\n     *\/",2766],["T_WHITESPACE","\n    ",2770],["T_PRIVATE","private",2771],["T_WHITESPACE"," ",2771],["T_FUNCTION","function",2771],["T_WHITESPACE"," ",2771],["T_STRING","getProductIdentifierField",2771],"(",")",["T_WHITESPACE","\n    ",2771],"{",["T_WHITESPACE","\n        ",2772],["T_IF","if",2773],["T_WHITESPACE"," ",2773],"(","!",["T_VARIABLE","$this",2773],["T_OBJECT_OPERATOR","->",2773],["T_STRING","productEntityIdentifierField",2773],")",["T_WHITESPACE"," ",2773],"{",["T_WHITESPACE","\n            ",2773],["T_VARIABLE","$this",2774],["T_OBJECT_OPERATOR","->",2774],["T_STRING","productEntityIdentifierField",2774],["T_WHITESPACE"," ",2774],"=",["T_WHITESPACE"," ",2774],["T_VARIABLE","$this",2774],["T_OBJECT_OPERATOR","->",2774],["T_STRING","getMetadataPool",2774],"(",")",["T_WHITESPACE","\n                ",2774],["T_OBJECT_OPERATOR","->",2775],["T_STRING","getMetadata",2775],"(",["T_NS_SEPARATOR","\\",2775],["T_STRING","Magento",2775],["T_NS_SEPARATOR","\\",2775],["T_STRING","Catalog",2775],["T_NS_SEPARATOR","\\",2775],["T_STRING","Api",2775],["T_NS_SEPARATOR","\\",2775],["T_STRING","Data",2775],["T_NS_SEPARATOR","\\",2775],["T_STRING","ProductInterface",2775],["T_DOUBLE_COLON","::",2775],["T_CLASS","class",2775],")",["T_WHITESPACE","\n                ",2775],["T_OBJECT_OPERATOR","->",2776],["T_STRING","getIdentifierField",2776],"(",")",";",["T_WHITESPACE","\n        ",2776],"}",["T_WHITESPACE","\n        ",2777],["T_RETURN","return",2778],["T_WHITESPACE"," ",2778],["T_VARIABLE","$this",2778],["T_OBJECT_OPERATOR","->",2778],["T_STRING","productEntityIdentifierField",2778],";",["T_WHITESPACE","\n    ",2778],"}",["T_WHITESPACE","\n\n    ",2779],["T_DOC_COMMENT","\/**\n     * Update media gallery labels\n     *\n     * @param array $labels\n     * @return void\n     *\/",2781],["T_WHITESPACE","\n    ",2786],["T_PRIVATE","private",2787],["T_WHITESPACE"," ",2787],["T_FUNCTION","function",2787],["T_WHITESPACE"," ",2787],["T_STRING","updateMediaGalleryLabels",2787],"(",["T_ARRAY","array",2787],["T_WHITESPACE"," ",2787],["T_VARIABLE","$labels",2787],")",["T_WHITESPACE","\n    ",2787],"{",["T_WHITESPACE","\n        ",2788],["T_IF","if",2789],["T_WHITESPACE"," ",2789],"(",["T_EMPTY","empty",2789],"(",["T_VARIABLE","$labels",2789],")",")",["T_WHITESPACE"," ",2789],"{",["T_WHITESPACE","\n            ",2789],["T_RETURN","return",2790],";",["T_WHITESPACE","\n        ",2790],"}",["T_WHITESPACE","\n\n        ",2791],["T_VARIABLE","$insertData",2793],["T_WHITESPACE"," ",2793],"=",["T_WHITESPACE"," ",2793],"[","]",";",["T_WHITESPACE","\n        ",2793],["T_FOREACH","foreach",2794],["T_WHITESPACE"," ",2794],"(",["T_VARIABLE","$labels",2794],["T_WHITESPACE"," ",2794],["T_AS","as",2794],["T_WHITESPACE"," ",2794],["T_VARIABLE","$label",2794],")",["T_WHITESPACE"," ",2794],"{",["T_WHITESPACE","\n            ",2794],["T_VARIABLE","$imageData",2795],["T_WHITESPACE"," ",2795],"=",["T_WHITESPACE"," ",2795],["T_VARIABLE","$label",2795],"[",["T_CONSTANT_ENCAPSED_STRING","'imageData'",2795],"]",";",["T_WHITESPACE","\n\n            ",2795],["T_IF","if",2797],["T_WHITESPACE"," ",2797],"(",["T_VARIABLE","$imageData",2797],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",2797],"]",["T_WHITESPACE"," ",2797],["T_IS_IDENTICAL","===",2797],["T_WHITESPACE"," ",2797],["T_STRING","null",2797],")",["T_WHITESPACE"," ",2797],"{",["T_WHITESPACE","\n                ",2797],["T_VARIABLE","$insertData",2798],"[","]",["T_WHITESPACE"," ",2798],"=",["T_WHITESPACE"," ",2798],"[",["T_WHITESPACE","\n                    ",2798],["T_CONSTANT_ENCAPSED_STRING","'label'",2799],["T_WHITESPACE"," ",2799],["T_DOUBLE_ARROW","=>",2799],["T_WHITESPACE"," ",2799],["T_VARIABLE","$label",2799],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",2799],"]",",",["T_WHITESPACE","\n                    ",2799],["T_VARIABLE","$this",2800],["T_OBJECT_OPERATOR","->",2800],["T_STRING","getProductEntityLinkField",2800],"(",")",["T_WHITESPACE"," ",2800],["T_DOUBLE_ARROW","=>",2800],["T_WHITESPACE"," ",2800],["T_VARIABLE","$imageData",2800],"[",["T_VARIABLE","$this",2800],["T_OBJECT_OPERATOR","->",2800],["T_STRING","getProductEntityLinkField",2800],"(",")","]",",",["T_WHITESPACE","\n                    ",2800],["T_CONSTANT_ENCAPSED_STRING","'value_id'",2801],["T_WHITESPACE"," ",2801],["T_DOUBLE_ARROW","=>",2801],["T_WHITESPACE"," ",2801],["T_VARIABLE","$imageData",2801],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2801],"]",",",["T_WHITESPACE","\n                    ",2801],["T_CONSTANT_ENCAPSED_STRING","'store_id'",2802],["T_WHITESPACE"," ",2802],["T_DOUBLE_ARROW","=>",2802],["T_WHITESPACE"," ",2802],["T_NS_SEPARATOR","\\",2802],["T_STRING","Magento",2802],["T_NS_SEPARATOR","\\",2802],["T_STRING","Store",2802],["T_NS_SEPARATOR","\\",2802],["T_STRING","Model",2802],["T_NS_SEPARATOR","\\",2802],["T_STRING","Store",2802],["T_DOUBLE_COLON","::",2802],["T_STRING","DEFAULT_STORE_ID",2802],["T_WHITESPACE","\n                ",2802],"]",";",["T_WHITESPACE","\n            ",2803],"}",["T_WHITESPACE"," ",2804],["T_ELSE","else",2804],["T_WHITESPACE"," ",2804],"{",["T_WHITESPACE","\n                ",2804],["T_VARIABLE","$this",2805],["T_OBJECT_OPERATOR","->",2805],["T_STRING","_connection",2805],["T_OBJECT_OPERATOR","->",2805],["T_STRING","update",2805],"(",["T_WHITESPACE","\n                    ",2805],["T_VARIABLE","$this",2806],["T_OBJECT_OPERATOR","->",2806],["T_STRING","mediaGalleryValueTableName",2806],",",["T_WHITESPACE","\n                    ",2806],"[",["T_WHITESPACE","\n                        ",2807],["T_CONSTANT_ENCAPSED_STRING","'label'",2808],["T_WHITESPACE"," ",2808],["T_DOUBLE_ARROW","=>",2808],["T_WHITESPACE"," ",2808],["T_VARIABLE","$label",2808],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",2808],"]",["T_WHITESPACE","\n                    ",2808],"]",",",["T_WHITESPACE","\n                    ",2809],"[",["T_WHITESPACE","\n                        ",2810],["T_VARIABLE","$this",2811],["T_OBJECT_OPERATOR","->",2811],["T_STRING","getProductEntityLinkField",2811],"(",")",["T_WHITESPACE"," ",2811],".",["T_WHITESPACE"," ",2811],["T_CONSTANT_ENCAPSED_STRING","' = ?'",2811],["T_WHITESPACE"," ",2811],["T_DOUBLE_ARROW","=>",2811],["T_WHITESPACE"," ",2811],["T_VARIABLE","$imageData",2811],"[",["T_VARIABLE","$this",2811],["T_OBJECT_OPERATOR","->",2811],["T_STRING","getProductEntityLinkField",2811],"(",")","]",",",["T_WHITESPACE","\n                        ",2811],["T_CONSTANT_ENCAPSED_STRING","'value_id = ?'",2812],["T_WHITESPACE"," ",2812],["T_DOUBLE_ARROW","=>",2812],["T_WHITESPACE"," ",2812],["T_VARIABLE","$imageData",2812],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",2812],"]",",",["T_WHITESPACE","\n                        ",2812],["T_CONSTANT_ENCAPSED_STRING","'store_id = ?'",2813],["T_WHITESPACE"," ",2813],["T_DOUBLE_ARROW","=>",2813],["T_WHITESPACE"," ",2813],["T_NS_SEPARATOR","\\",2813],["T_STRING","Magento",2813],["T_NS_SEPARATOR","\\",2813],["T_STRING","Store",2813],["T_NS_SEPARATOR","\\",2813],["T_STRING","Model",2813],["T_NS_SEPARATOR","\\",2813],["T_STRING","Store",2813],["T_DOUBLE_COLON","::",2813],["T_STRING","DEFAULT_STORE_ID",2813],["T_WHITESPACE","\n                    ",2813],"]",["T_WHITESPACE","\n                ",2814],")",";",["T_WHITESPACE","\n            ",2815],"}",["T_WHITESPACE","\n        ",2816],"}",["T_WHITESPACE","\n\n        ",2817],["T_IF","if",2819],["T_WHITESPACE"," ",2819],"(","!",["T_EMPTY","empty",2819],"(",["T_VARIABLE","$insertData",2819],")",")",["T_WHITESPACE"," ",2819],"{",["T_WHITESPACE","\n            ",2819],["T_VARIABLE","$this",2820],["T_OBJECT_OPERATOR","->",2820],["T_STRING","_connection",2820],["T_OBJECT_OPERATOR","->",2820],["T_STRING","insertMultiple",2820],"(",["T_WHITESPACE","\n                ",2820],["T_VARIABLE","$this",2821],["T_OBJECT_OPERATOR","->",2821],["T_STRING","mediaGalleryValueTableName",2821],",",["T_WHITESPACE","\n                ",2821],["T_VARIABLE","$insertData",2822],["T_WHITESPACE","\n            ",2822],")",";",["T_WHITESPACE","\n        ",2823],"}",["T_WHITESPACE","\n    ",2824],"}",["T_WHITESPACE","\n\n    ",2825],["T_DOC_COMMENT","\/**\n     * Parse values from multiple attributes fields\n     *\n     * @param string $labelRow\n     * @return array\n     *\/",2827],["T_WHITESPACE","\n    ",2832],["T_PRIVATE","private",2833],["T_WHITESPACE"," ",2833],["T_FUNCTION","function",2833],["T_WHITESPACE"," ",2833],["T_STRING","parseMultipleValues",2833],"(",["T_VARIABLE","$labelRow",2833],")",["T_WHITESPACE","\n    ",2833],"{",["T_WHITESPACE","\n        ",2834],["T_RETURN","return",2835],["T_WHITESPACE"," ",2835],["T_VARIABLE","$this",2835],["T_OBJECT_OPERATOR","->",2835],["T_STRING","parseMultiselectValues",2835],"(",["T_WHITESPACE","\n            ",2835],["T_VARIABLE","$labelRow",2836],",",["T_WHITESPACE","\n            ",2836],["T_VARIABLE","$this",2837],["T_OBJECT_OPERATOR","->",2837],["T_STRING","getMultipleValueSeparator",2837],"(",")",["T_WHITESPACE","\n        ",2837],")",";",["T_WHITESPACE","\n    ",2838],"}",["T_WHITESPACE","\n",2839],"}",["T_WHITESPACE","\n",2840]]