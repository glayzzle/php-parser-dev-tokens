[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cms",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ResourceModel",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cms",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Page",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","CmsPage",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DB",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Select",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","LocalizedException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractModel",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityManager",13],["T_NS_SEPARATOR","\\",13],["T_STRING","MetadataPool",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ResourceModel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Db",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractDb",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Db",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Context",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Stdlib",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DateTime",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Store",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Store",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Store",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StoreManagerInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EntityManager",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EntityManager",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Cms",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Api",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Data",20],["T_NS_SEPARATOR","\\",20],["T_STRING","PageInterface",20],";",["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Cms page mysql resource\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",22],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","Page",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","AbstractDb",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * Store model\n     *\n     * @var null|Store\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_store",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","null",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var StoreManagerInterface\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_storeManager",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var DateTime\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$dateTime",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var EntityManager\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$entityManager",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$metadataPool",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @param Context $context\n     * @param StoreManagerInterface $storeManager\n     * @param DateTime $dateTime\n     * @param EntityManager $entityManager\n     * @param MetadataPool $metadataPool\n     * @param string $connectionName\n     *\/",57],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_WHITESPACE","\n        ",65],["T_STRING","Context",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$context",66],",",["T_WHITESPACE","\n        ",66],["T_STRING","StoreManagerInterface",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$storeManager",67],",",["T_WHITESPACE","\n        ",67],["T_STRING","DateTime",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$dateTime",68],",",["T_WHITESPACE","\n        ",68],["T_STRING","EntityManager",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$entityManager",69],",",["T_WHITESPACE","\n        ",69],["T_STRING","MetadataPool",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$metadataPool",70],",",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$connectionName",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","__construct",73],"(",["T_VARIABLE","$context",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$connectionName",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_storeManager",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$storeManager",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","dateTime",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$dateTime",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","entityManager",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$entityManager",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","metadataPool",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$metadataPool",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","_construct",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_init",87],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_page'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'page_id'",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @inheritDoc\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","getConnection",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","metadataPool",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMetadata",95],"(",["T_STRING","PageInterface",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getEntityConnection",95],"(",")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Process page data before saving\n     *\n     * @param AbstractModel $object\n     * @return $this\n     * @throws LocalizedException\n     *\/",98],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","_beforeSave",105],"(",["T_STRING","AbstractModel",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$object",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_COMMENT","\/*\n         * For two attributes which represent timestamp data in DB\n         * we should make converting such as:\n         * If they are empty we need to convert them into DB\n         * type NULL so in DB they will be empty and not some default value\n         *\/",107],["T_WHITESPACE","\n        ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(","[",["T_CONSTANT_ENCAPSED_STRING","'custom_theme_from'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'custom_theme_to'",113],"]",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$field",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$value",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],"!",["T_VARIABLE","$object",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getData",114],"(",["T_VARIABLE","$field",114],")",["T_WHITESPACE"," ",114],"?",["T_WHITESPACE"," ",114],["T_STRING","null",114],["T_WHITESPACE"," ",114],":",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","dateTime",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","formatDate",114],"(",["T_VARIABLE","$object",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getData",114],"(",["T_VARIABLE","$field",114],")",")",";",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$object",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setData",115],"(",["T_VARIABLE","$field",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$value",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isValidPageIdentifier",118],"(",["T_VARIABLE","$object",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_THROW","throw",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","LocalizedException",119],"(",["T_WHITESPACE","\n                ",119],["T_STRING","__",120],"(",["T_CONSTANT_ENCAPSED_STRING","'The page URL key contains capital letters or disallowed symbols.'",120],")",["T_WHITESPACE","\n            ",120],")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isNumericPageIdentifier",124],"(",["T_VARIABLE","$object",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_THROW","throw",125],["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","LocalizedException",125],"(",["T_WHITESPACE","\n                ",125],["T_STRING","__",126],"(",["T_CONSTANT_ENCAPSED_STRING","'The page URL key cannot be made of only numbers.'",126],")",["T_WHITESPACE","\n            ",126],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","parent",129],["T_DOUBLE_COLON","::",129],["T_STRING","_beforeSave",129],"(",["T_VARIABLE","$object",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * @param AbstractModel $object\n     * @param string $value\n     * @param string|null $field\n     * @return bool|int|string\n     * @throws LocalizedException\n     * @throws \\Exception\n     *\/",132],["T_WHITESPACE","\n    ",139],["T_PRIVATE","private",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getPageId",140],"(",["T_STRING","AbstractModel",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$object",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$value",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$field",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","null",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$entityMetadata",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","metadataPool",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMetadata",142],"(",["T_STRING","PageInterface",142],["T_DOUBLE_COLON","::",142],["T_CLASS","class",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_STRING","is_numeric",144],"(",["T_VARIABLE","$value",144],")",["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$field",144],["T_WHITESPACE"," ",144],["T_IS_IDENTICAL","===",144],["T_WHITESPACE"," ",144],["T_STRING","null",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$field",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'identifier'",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE"," ",146],["T_ELSEIF","elseif",146],["T_WHITESPACE"," ",146],"(","!",["T_VARIABLE","$field",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$field",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$entityMetadata",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getIdentifierField",147],"(",")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$pageId",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$value",150],";",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$field",151],["T_WHITESPACE"," ",151],["T_IS_NOT_EQUAL","!=",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$entityMetadata",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getIdentifierField",151],"(",")",["T_WHITESPACE"," ",151],["T_BOOLEAN_OR","||",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$object",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getStoreId",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$select",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_getLoadSelect",152],"(",["T_VARIABLE","$field",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$object",152],")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$select",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","reset",153],"(",["T_STRING","Select",153],["T_DOUBLE_COLON","::",153],["T_STRING","COLUMNS",153],")",["T_WHITESPACE","\n                ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","columns",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getMainTable",154],"(",")",["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'.'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$entityMetadata",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getIdentifierField",154],"(",")",")",["T_WHITESPACE","\n                ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","limit",155],"(",["T_LNUMBER","1",155],")",";",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$result",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getConnection",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","fetchCol",156],"(",["T_VARIABLE","$select",156],")",";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$pageId",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","count",157],"(",["T_VARIABLE","$result",157],")",["T_WHITESPACE"," ",157],"?",["T_WHITESPACE"," ",157],["T_VARIABLE","$result",157],"[",["T_LNUMBER","0",157],"]",["T_WHITESPACE"," ",157],":",["T_WHITESPACE"," ",157],["T_STRING","false",157],";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$pageId",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Load an object\n     *\n     * @param CmsPage|AbstractModel $object\n     * @param mixed $value\n     * @param string $field field to load by (defaults to model id)\n     * @return $this\n     *\/",162],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","load",170],"(",["T_STRING","AbstractModel",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$object",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$value",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$field",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$pageId",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getPageId",172],"(",["T_VARIABLE","$object",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$value",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$field",172],")",";",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$pageId",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","entityManager",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","load",174],"(",["T_VARIABLE","$object",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$pageId",174],")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Retrieve select object for load object data\n     *\n     * @param string $field\n     * @param mixed $value\n     * @param CmsPage|AbstractModel $object\n     * @return Select\n     *\/",179],["T_WHITESPACE","\n    ",186],["T_PROTECTED","protected",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","_getLoadSelect",187],"(",["T_VARIABLE","$field",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$value",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$object",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$entityMetadata",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","metadataPool",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getMetadata",189],"(",["T_STRING","PageInterface",189],["T_DOUBLE_COLON","::",189],["T_CLASS","class",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$linkField",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$entityMetadata",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getLinkField",190],"(",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$select",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","parent",192],["T_DOUBLE_COLON","::",192],["T_STRING","_getLoadSelect",192],"(",["T_VARIABLE","$field",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$value",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$object",192],")",";",["T_WHITESPACE","\n\n        ",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$object",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getStoreId",194],"(",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$storeIds",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],"[",["T_WHITESPACE","\n                ",195],["T_STRING","Store",196],["T_DOUBLE_COLON","::",196],["T_STRING","DEFAULT_STORE_ID",196],",",["T_WHITESPACE","\n                ",196],["T_INT_CAST","(int)",197],["T_VARIABLE","$object",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getStoreId",197],"(",")",",",["T_WHITESPACE","\n            ",197],"]",";",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$select",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","join",199],"(",["T_WHITESPACE","\n                ",199],"[",["T_CONSTANT_ENCAPSED_STRING","'cms_page_store'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getTable",200],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_page_store'",200],")","]",",",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getMainTable",201],"(",")",["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'.'",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_VARIABLE","$linkField",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","' = cms_page_store.'",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_VARIABLE","$linkField",201],",",["T_WHITESPACE","\n                ",201],"[","]",["T_WHITESPACE","\n            ",202],")",["T_WHITESPACE","\n                ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","where",204],"(",["T_CONSTANT_ENCAPSED_STRING","'is_active = ?'",204],",",["T_WHITESPACE"," ",204],["T_LNUMBER","1",204],")",["T_WHITESPACE","\n                ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","where",205],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_page_store.store_id IN (?)'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$storeIds",205],")",["T_WHITESPACE","\n                ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","order",206],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_page_store.store_id DESC'",206],")",["T_WHITESPACE","\n                ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","limit",207],"(",["T_LNUMBER","1",207],")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$select",210],";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Retrieve load select with filter by identifier, store and activity\n     *\n     * @param string $identifier\n     * @param int|array $store\n     * @param int $isActive\n     * @return Select\n     *\/",213],["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","_getLoadByIdentifierSelect",221],"(",["T_VARIABLE","$identifier",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$store",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$isActive",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","null",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$entityMetadata",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","metadataPool",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMetadata",223],"(",["T_STRING","PageInterface",223],["T_DOUBLE_COLON","::",223],["T_CLASS","class",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$linkField",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$entityMetadata",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getLinkField",224],"(",")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$select",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getConnection",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","select",226],"(",")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","from",227],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cp'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getMainTable",227],"(",")","]",")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","join",228],"(",["T_WHITESPACE","\n                ",228],"[",["T_CONSTANT_ENCAPSED_STRING","'cps'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getTable",229],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_page_store'",229],")","]",",",["T_WHITESPACE","\n                ",229],["T_CONSTANT_ENCAPSED_STRING","'cp.'",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_VARIABLE","$linkField",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","' = cps.'",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_VARIABLE","$linkField",230],",",["T_WHITESPACE","\n                ",230],"[","]",["T_WHITESPACE","\n            ",231],")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","where",233],"(",["T_CONSTANT_ENCAPSED_STRING","'cp.identifier = ?'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$identifier",233],")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","where",234],"(",["T_CONSTANT_ENCAPSED_STRING","'cps.store_id IN (?)'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$store",234],")",";",["T_WHITESPACE","\n\n        ",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$isActive",236],["T_WHITESPACE"," ",236],["T_IS_NOT_IDENTICAL","!==",236],["T_WHITESPACE"," ",236],["T_STRING","null",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$select",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","where",237],"(",["T_CONSTANT_ENCAPSED_STRING","'cp.is_active = ?'",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$isActive",237],")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$select",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     *  Check whether page identifier is numeric\n     *\n     * @param AbstractModel $object\n     * @return bool\n     *\/",243],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","isNumericPageIdentifier",249],"(",["T_STRING","AbstractModel",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$object",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_STRING","preg_match",251],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]+$\/'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$object",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getData",251],"(",["T_CONSTANT_ENCAPSED_STRING","'identifier'",251],")",")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     *  Check whether page identifier is valid\n     *\n     * @param AbstractModel $object\n     * @return bool\n     *\/",254],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","isValidPageIdentifier",260],"(",["T_STRING","AbstractModel",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$object",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_STRING","preg_match",262],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[a-z0-9][a-z0-9_\\\/-]+(\\.[a-z0-9_-]+)?$\/'",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$object",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getData",262],"(",["T_CONSTANT_ENCAPSED_STRING","'identifier'",262],")",")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Check if page identifier exist for specific store\n     * return page id if page exists\n     *\n     * @param string $identifier\n     * @param int $storeId\n     * @return int\n     *\/",265],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","checkIdentifier",273],"(",["T_VARIABLE","$identifier",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$storeId",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$entityMetadata",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","metadataPool",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getMetadata",275],"(",["T_STRING","PageInterface",275],["T_DOUBLE_COLON","::",275],["T_CLASS","class",275],")",";",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$stores",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],"[",["T_STRING","Store",277],["T_DOUBLE_COLON","::",277],["T_STRING","DEFAULT_STORE_ID",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$storeId",277],"]",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$select",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_getLoadByIdentifierSelect",278],"(",["T_VARIABLE","$identifier",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$stores",278],",",["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$select",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","reset",279],"(",["T_STRING","Select",279],["T_DOUBLE_COLON","::",279],["T_STRING","COLUMNS",279],")",["T_WHITESPACE","\n            ",279],["T_OBJECT_OPERATOR","->",280],["T_STRING","columns",280],"(",["T_CONSTANT_ENCAPSED_STRING","'cp.'",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_VARIABLE","$entityMetadata",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getIdentifierField",280],"(",")",")",["T_WHITESPACE","\n            ",280],["T_OBJECT_OPERATOR","->",281],["T_STRING","order",281],"(",["T_CONSTANT_ENCAPSED_STRING","'cps.store_id DESC'",281],")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","limit",282],"(",["T_LNUMBER","1",282],")",";",["T_WHITESPACE","\n\n        ",282],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getConnection",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","fetchOne",284],"(",["T_VARIABLE","$select",284],")",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * Retrieves cms page title from DB by passed identifier.\n     *\n     * @param string $identifier\n     * @return string|false\n     *\/",287],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","getCmsPageTitleByIdentifier",293],"(",["T_VARIABLE","$identifier",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$stores",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],"[",["T_STRING","Store",295],["T_DOUBLE_COLON","::",295],["T_STRING","DEFAULT_STORE_ID",295],"]",";",["T_WHITESPACE","\n        ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_store",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$stores",297],"[","]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_INT_CAST","(int)",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getStore",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getId",297],"(",")",";",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$select",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_getLoadByIdentifierSelect",300],"(",["T_VARIABLE","$identifier",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$stores",300],")",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$select",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","reset",301],"(",["T_STRING","Select",301],["T_DOUBLE_COLON","::",301],["T_STRING","COLUMNS",301],")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","columns",302],"(",["T_CONSTANT_ENCAPSED_STRING","'cp.title'",302],")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","order",303],"(",["T_CONSTANT_ENCAPSED_STRING","'cps.store_id DESC'",303],")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","limit",304],"(",["T_LNUMBER","1",304],")",";",["T_WHITESPACE","\n\n        ",304],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getConnection",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","fetchOne",306],"(",["T_VARIABLE","$select",306],")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Retrieves cms page title from DB by passed id.\n     *\n     * @param string $id\n     * @return string|false\n     *\/",309],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","getCmsPageTitleById",315],"(",["T_VARIABLE","$id",315],")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$connection",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getConnection",317],"(",")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$entityMetadata",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","metadataPool",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getMetadata",318],"(",["T_STRING","PageInterface",318],["T_DOUBLE_COLON","::",318],["T_CLASS","class",318],")",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$select",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$connection",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","select",320],"(",")",["T_WHITESPACE","\n            ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","from",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getMainTable",321],"(",")",",",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'title'",321],")",["T_WHITESPACE","\n            ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","where",322],"(",["T_VARIABLE","$entityMetadata",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getIdentifierField",322],"(",")",["T_WHITESPACE"," ",322],".",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","' = :page_id'",322],")",";",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$connection",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","fetchOne",324],"(",["T_VARIABLE","$select",324],",",["T_WHITESPACE"," ",324],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_INT_CAST","(int)",324],["T_VARIABLE","$id",324],"]",")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Retrieves cms page identifier from DB by passed id.\n     *\n     * @param string $id\n     * @return string|false\n     *\/",327],["T_WHITESPACE","\n    ",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","getCmsPageIdentifierById",333],"(",["T_VARIABLE","$id",333],")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$connection",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getConnection",335],"(",")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$entityMetadata",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","metadataPool",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getMetadata",336],"(",["T_STRING","PageInterface",336],["T_DOUBLE_COLON","::",336],["T_CLASS","class",336],")",";",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$select",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$connection",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","select",338],"(",")",["T_WHITESPACE","\n            ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","from",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getMainTable",339],"(",")",",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'identifier'",339],")",["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","where",340],"(",["T_VARIABLE","$entityMetadata",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getIdentifierField",340],"(",")",["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","' = :page_id'",340],")",";",["T_WHITESPACE","\n\n        ",340],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$connection",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","fetchOne",342],"(",["T_VARIABLE","$select",342],",",["T_WHITESPACE"," ",342],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_INT_CAST","(int)",342],["T_VARIABLE","$id",342],"]",")",";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Get store ids to which specified item is assigned\n     *\n     * @param int $pageId\n     * @return array\n     *\/",345],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","lookupStoreIds",351],"(",["T_VARIABLE","$pageId",351],")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$connection",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getConnection",353],"(",")",";",["T_WHITESPACE","\n\n        ",353],["T_VARIABLE","$entityMetadata",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","metadataPool",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getMetadata",355],"(",["T_STRING","PageInterface",355],["T_DOUBLE_COLON","::",355],["T_CLASS","class",355],")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$linkField",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$entityMetadata",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getLinkField",356],"(",")",";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$select",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$connection",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","select",358],"(",")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","from",359],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cps'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getTable",359],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_page_store'",359],")","]",",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'store_id'",359],")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","join",360],"(",["T_WHITESPACE","\n                ",360],"[",["T_CONSTANT_ENCAPSED_STRING","'cp'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getMainTable",361],"(",")","]",",",["T_WHITESPACE","\n                ",361],["T_CONSTANT_ENCAPSED_STRING","'cps.'",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_VARIABLE","$linkField",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","' = cp.'",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_VARIABLE","$linkField",362],",",["T_WHITESPACE","\n                ",362],"[","]",["T_WHITESPACE","\n            ",363],")",["T_WHITESPACE","\n            ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","where",365],"(",["T_CONSTANT_ENCAPSED_STRING","'cp.'",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_VARIABLE","$entityMetadata",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getIdentifierField",365],"(",")",["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","' = :page_id'",365],")",";",["T_WHITESPACE","\n\n        ",365],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$connection",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","fetchCol",367],"(",["T_VARIABLE","$select",367],",",["T_WHITESPACE"," ",367],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_INT_CAST","(int)",367],["T_VARIABLE","$pageId",367],"]",")",";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Set store model\n     *\n     * @param Store $store\n     * @return $this\n     *\/",370],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","setStore",376],"(",["T_VARIABLE","$store",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_store",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$store",378],";",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * Retrieve store model\n     *\n     * @return Store\n     *\/",382],["T_WHITESPACE","\n    ",386],["T_PUBLIC","public",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","getStore",387],"(",")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_storeManager",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getStore",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_store",389],")",";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * @inheritDoc\n     *\/",392],["T_WHITESPACE","\n    ",394],["T_PUBLIC","public",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","save",395],"(",["T_STRING","AbstractModel",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$object",395],")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","entityManager",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","save",397],"(",["T_VARIABLE","$object",397],")",";",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * @inheritDoc\n     *\/",401],["T_WHITESPACE","\n    ",403],["T_PUBLIC","public",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","delete",404],"(",["T_STRING","AbstractModel",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$object",404],")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","entityManager",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","delete",406],"(",["T_VARIABLE","$object",406],")",";",["T_WHITESPACE","\n        ",406],["T_RETURN","return",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],";",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n",408],"}",["T_WHITESPACE","\n",409]]