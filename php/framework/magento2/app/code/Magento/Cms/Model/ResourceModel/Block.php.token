[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cms",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cms",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","BlockInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DB",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Select",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LocalizedException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractModel",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityManager",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MetadataPool",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityManager",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityManager",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ResourceModel",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Db",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractDb",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Db",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Context",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Store",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Store",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Store",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","StoreManagerInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * CMS block model\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",19],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","Block",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","AbstractDb",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var StoreManagerInterface\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_storeManager",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var EntityManager\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$entityManager",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$metadataPool",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @param Context $context\n     * @param StoreManagerInterface $storeManager\n     * @param EntityManager $entityManager\n     * @param MetadataPool $metadataPool\n     * @param string $connectionName\n     *\/",42],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_STRING","Context",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$context",50],",",["T_WHITESPACE","\n        ",50],["T_STRING","StoreManagerInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$storeManager",51],",",["T_WHITESPACE","\n        ",51],["T_STRING","EntityManager",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$entityManager",52],",",["T_WHITESPACE","\n        ",52],["T_STRING","MetadataPool",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$metadataPool",53],",",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$connectionName",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","null",54],["T_WHITESPACE","\n    ",54],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_storeManager",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$storeManager",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","entityManager",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$entityManager",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","metadataPool",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$metadataPool",58],";",["T_WHITESPACE","\n        ",58],["T_STRING","parent",59],["T_DOUBLE_COLON","::",59],["T_STRING","__construct",59],"(",["T_VARIABLE","$context",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$connectionName",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","_construct",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_init",69],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_block'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'block_id'",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @inheritDoc\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getConnection",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","metadataPool",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMetadata",77],"(",["T_STRING","BlockInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getEntityConnection",77],"(",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Perform operations before object save\n     *\n     * @param AbstractModel $object\n     * @return $this\n     * @throws LocalizedException\n     *\/",80],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","_beforeSave",87],"(",["T_STRING","AbstractModel",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$object",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getIsUniqueBlockToStores",89],"(",["T_VARIABLE","$object",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","LocalizedException",90],"(",["T_WHITESPACE","\n                ",90],["T_STRING","__",91],"(",["T_CONSTANT_ENCAPSED_STRING","'A block identifier with the same properties already exists in the selected store.'",91],")",["T_WHITESPACE","\n            ",91],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * @param AbstractModel $object\n     * @param mixed $value\n     * @param null $field\n     * @return bool|int|string\n     * @throws LocalizedException\n     * @throws \\Exception\n     *\/",97],["T_WHITESPACE","\n    ",104],["T_PRIVATE","private",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getBlockId",105],"(",["T_STRING","AbstractModel",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$object",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$value",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$field",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$entityMetadata",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","metadataPool",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMetadata",107],"(",["T_STRING","BlockInterface",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_STRING","is_numeric",108],"(",["T_VARIABLE","$value",108],")",["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$field",108],["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_STRING","null",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$field",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'identifier'",109],";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE"," ",110],["T_ELSEIF","elseif",110],["T_WHITESPACE"," ",110],"(","!",["T_VARIABLE","$field",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$field",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$entityMetadata",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getIdentifierField",111],"(",")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$entityId",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$value",113],";",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$field",114],["T_WHITESPACE"," ",114],["T_IS_NOT_EQUAL","!=",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$entityMetadata",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getIdentifierField",114],"(",")",["T_WHITESPACE"," ",114],["T_BOOLEAN_OR","||",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$object",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getStoreId",114],"(",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$select",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_getLoadSelect",115],"(",["T_VARIABLE","$field",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$value",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$object",115],")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$select",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","reset",116],"(",["T_STRING","Select",116],["T_DOUBLE_COLON","::",116],["T_STRING","COLUMNS",116],")",["T_WHITESPACE","\n                ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","columns",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMainTable",117],"(",")",["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'.'",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$entityMetadata",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getIdentifierField",117],"(",")",")",["T_WHITESPACE","\n                ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","limit",118],"(",["T_LNUMBER","1",118],")",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$result",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getConnection",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","fetchCol",119],"(",["T_VARIABLE","$select",119],")",";",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$entityId",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","count",120],"(",["T_VARIABLE","$result",120],")",["T_WHITESPACE"," ",120],"?",["T_WHITESPACE"," ",120],["T_VARIABLE","$result",120],"[",["T_LNUMBER","0",120],"]",["T_WHITESPACE"," ",120],":",["T_WHITESPACE"," ",120],["T_STRING","false",120],";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$entityId",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Load an object\n     *\n     * @param \\Magento\\Cms\\Model\\Block|AbstractModel $object\n     * @param mixed $value\n     * @param string $field field to load by (defaults to model id)\n     * @return $this\n     *\/",125],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","load",133],"(",["T_STRING","AbstractModel",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$object",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$value",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$field",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","null",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$blockId",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getBlockId",135],"(",["T_VARIABLE","$object",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$field",135],")",";",["T_WHITESPACE","\n        ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$blockId",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","entityManager",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","load",137],"(",["T_VARIABLE","$object",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$blockId",137],")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Retrieve select object for load object data\n     *\n     * @param string $field\n     * @param mixed $value\n     * @param \\Magento\\Cms\\Model\\Block|AbstractModel $object\n     * @return Select\n     *\/",142],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","_getLoadSelect",150],"(",["T_VARIABLE","$field",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$value",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$object",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$entityMetadata",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","metadataPool",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getMetadata",152],"(",["T_STRING","BlockInterface",152],["T_DOUBLE_COLON","::",152],["T_CLASS","class",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$linkField",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$entityMetadata",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getLinkField",153],"(",")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$select",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","parent",155],["T_DOUBLE_COLON","::",155],["T_STRING","_getLoadSelect",155],"(",["T_VARIABLE","$field",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$value",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$object",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$object",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getStoreId",157],"(",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$stores",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"[",["T_INT_CAST","(int)",158],["T_VARIABLE","$object",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getStoreId",158],"(",")",",",["T_WHITESPACE"," ",158],["T_STRING","Store",158],["T_DOUBLE_COLON","::",158],["T_STRING","DEFAULT_STORE_ID",158],"]",";",["T_WHITESPACE","\n\n            ",158],["T_VARIABLE","$select",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","join",160],"(",["T_WHITESPACE","\n                ",160],"[",["T_CONSTANT_ENCAPSED_STRING","'cbs'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getTable",161],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_block_store'",161],")","]",",",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getMainTable",162],"(",")",["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'.'",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_VARIABLE","$linkField",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","' = cbs.'",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_VARIABLE","$linkField",162],",",["T_WHITESPACE","\n                ",162],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",163],"]",["T_WHITESPACE","\n            ",163],")",["T_WHITESPACE","\n                ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","where",165],"(",["T_CONSTANT_ENCAPSED_STRING","'is_active = ?'",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","1",165],")",["T_WHITESPACE","\n                ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","where",166],"(",["T_CONSTANT_ENCAPSED_STRING","'cbs.store_id in (?)'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$stores",166],")",["T_WHITESPACE","\n                ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","order",167],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id DESC'",167],")",["T_WHITESPACE","\n                ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","limit",168],"(",["T_LNUMBER","1",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$select",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Check for unique of identifier of block to selected store(s).\n     *\n     * @param AbstractModel $object\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",174],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getIsUniqueBlockToStores",181],"(",["T_STRING","AbstractModel",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$object",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$entityMetadata",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","metadataPool",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getMetadata",183],"(",["T_STRING","BlockInterface",183],["T_DOUBLE_COLON","::",183],["T_CLASS","class",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$linkField",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$entityMetadata",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getLinkField",184],"(",")",";",["T_WHITESPACE","\n\n        ",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_storeManager",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","hasSingleStore",186],"(",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$stores",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],"[",["T_STRING","Store",187],["T_DOUBLE_COLON","::",187],["T_STRING","DEFAULT_STORE_ID",187],"]",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE"," ",188],["T_ELSE","else",188],["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$stores",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY_CAST","(array)",189],["T_VARIABLE","$object",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getData",189],"(",["T_CONSTANT_ENCAPSED_STRING","'stores'",189],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$select",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getConnection",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","select",192],"(",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","from",193],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cb'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getMainTable",193],"(",")","]",")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","join",194],"(",["T_WHITESPACE","\n                ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'cbs'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getTable",195],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_block_store'",195],")","]",",",["T_WHITESPACE","\n                ",195],["T_CONSTANT_ENCAPSED_STRING","'cb.'",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$linkField",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","' = cbs.'",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$linkField",196],",",["T_WHITESPACE","\n                ",196],"[","]",["T_WHITESPACE","\n            ",197],")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","where",199],"(",["T_CONSTANT_ENCAPSED_STRING","'cb.identifier = ?'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$object",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getData",199],"(",["T_CONSTANT_ENCAPSED_STRING","'identifier'",199],")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","where",200],"(",["T_CONSTANT_ENCAPSED_STRING","'cbs.store_id IN (?)'",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$stores",200],")",";",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$object",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getId",202],"(",")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$select",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","where",203],"(",["T_CONSTANT_ENCAPSED_STRING","'cb.'",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$entityMetadata",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getIdentifierField",203],"(",")",["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","' <> ?'",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$object",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getId",203],"(",")",")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n\n        ",204],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getConnection",206],"(",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","fetchRow",206],"(",["T_VARIABLE","$select",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_STRING","false",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_STRING","true",210],";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Get store ids to which specified item is assigned\n     *\n     * @param int $id\n     * @return array\n     *\/",213],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","lookupStoreIds",219],"(",["T_VARIABLE","$id",219],")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$connection",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getConnection",221],"(",")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$entityMetadata",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","metadataPool",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMetadata",223],"(",["T_STRING","BlockInterface",223],["T_DOUBLE_COLON","::",223],["T_CLASS","class",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$linkField",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$entityMetadata",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getLinkField",224],"(",")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$select",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$connection",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","select",226],"(",")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","from",227],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cbs'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getTable",227],"(",["T_CONSTANT_ENCAPSED_STRING","'cms_block_store'",227],")","]",",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'store_id'",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","join",228],"(",["T_WHITESPACE","\n                ",228],"[",["T_CONSTANT_ENCAPSED_STRING","'cb'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getMainTable",229],"(",")","]",",",["T_WHITESPACE","\n                ",229],["T_CONSTANT_ENCAPSED_STRING","'cbs.'",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_VARIABLE","$linkField",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","' = cb.'",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_VARIABLE","$linkField",230],",",["T_WHITESPACE","\n                ",230],"[","]",["T_WHITESPACE","\n            ",231],")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","where",233],"(",["T_CONSTANT_ENCAPSED_STRING","'cb.'",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_VARIABLE","$entityMetadata",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getIdentifierField",233],"(",")",["T_WHITESPACE","  ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","' = :block_id'",233],")",";",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$connection",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","fetchCol",235],"(",["T_VARIABLE","$select",235],",",["T_WHITESPACE"," ",235],"[",["T_CONSTANT_ENCAPSED_STRING","'block_id'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_INT_CAST","(int)",235],["T_VARIABLE","$id",235],"]",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * @param AbstractModel $object\n     * @return $this\n     * @throws \\Exception\n     *\/",238],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","save",243],"(",["T_STRING","AbstractModel",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$object",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","entityManager",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","save",245],"(",["T_VARIABLE","$object",245],")",";",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * @inheritDoc\n     *\/",249],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","delete",252],"(",["T_STRING","AbstractModel",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$object",252],")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","entityManager",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","delete",254],"(",["T_VARIABLE","$object",254],")",";",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n",256],"}",["T_WHITESPACE","\n",257]]