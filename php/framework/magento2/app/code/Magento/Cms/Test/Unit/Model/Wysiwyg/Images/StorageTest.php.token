[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cms",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Wysiwyg",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Images",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cms",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Wysiwyg",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Images",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Storage",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Collection",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","StorageCollection",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.LongVariable)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @SuppressWarnings(PHPMD.TooManyFields)\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","StorageTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Directory paths samples\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","STORAGE_ROOT_DIR",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'\/storage\/root\/dir'",21],";",["T_WHITESPACE","\n\n    ",21],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","INVALID_DIRECTORY_OVER_ROOT",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'\/storage\/some\/another\/dir'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Cms\\Model\\Wysiwyg\\Images\\Storage\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$imagesStorage",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$filesystemMock",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$adapterFactoryMock",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$imageHelperMock",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var array()\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$resizeParameters",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Cms\\Model\\Wysiwyg\\Images\\Storage\\CollectionFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$storageCollectionFactoryMock",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\Storage\\FileFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$storageFileFactoryMock",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\Storage\\DatabaseFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$storageDatabaseFactoryMock",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\Storage\\Directory\\DatabaseFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$directoryDatabaseFactoryMock",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\Storage\\Directory\\Database|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$directoryCollectionMock",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\UploaderFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$uploaderFactoryMock",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Session|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$sessionMock",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Url|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$backendUrlMock",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\Write|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$directoryMock",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\DriverInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$driverMock",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$coreFileStorageMock",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$objectManagerHelper",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @return void\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",110],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","setUp",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","filesystemMock",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMock",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Framework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Filesystem",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],",",["T_WHITESPACE"," ",116],"[","]",",",["T_WHITESPACE"," ",116],"[","]",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","''",116],",",["T_WHITESPACE"," ",116],["T_STRING","false",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","driverMock",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMockForAbstractClass",117],"(",["T_WHITESPACE","\n            ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Filesystem",118],["T_NS_SEPARATOR","\\",118],["T_STRING","DriverInterface",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],",",["T_WHITESPACE","\n            ",118],"[","]",",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE","\n            ",120],["T_STRING","false",121],",",["T_WHITESPACE","\n            ",121],["T_STRING","false",122],",",["T_WHITESPACE","\n            ",122],["T_STRING","true",123],",",["T_WHITESPACE","\n            ",123],"[",["T_CONSTANT_ENCAPSED_STRING","'getRealPath'",124],"]",["T_WHITESPACE","\n        ",124],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","driverMock",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","any",126],"(",")",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","method",126],"(",["T_CONSTANT_ENCAPSED_STRING","'getRealPath'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","will",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","returnArgument",126],"(",["T_LNUMBER","0",126],")",")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","directoryMock",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMock",128],"(",["T_WHITESPACE","\n            ",128],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Framework",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Filesystem",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Directory",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Write",129],["T_DOUBLE_COLON","::",129],["T_CLASS","class",129],",",["T_WHITESPACE","\n            ",129],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'getDriver'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'create'",130],"]",",",["T_WHITESPACE","\n            ",130],"[","]",",",["T_WHITESPACE","\n            ",131],["T_CONSTANT_ENCAPSED_STRING","''",132],",",["T_WHITESPACE","\n            ",132],["T_STRING","false",133],["T_WHITESPACE","\n        ",133],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","directoryMock",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","any",136],"(",")",["T_WHITESPACE","\n        ",136],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","method",137],"(",["T_WHITESPACE","\n            ",137],["T_CONSTANT_ENCAPSED_STRING","'getDriver'",138],["T_WHITESPACE","\n        ",138],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","will",139],"(",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","returnValue",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","driverMock",140],")",["T_WHITESPACE","\n        ",140],")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","filesystemMock",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMock",143],"(",["T_WHITESPACE","\n            ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Framework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Filesystem",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],",",["T_WHITESPACE","\n            ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'getDirectoryWrite'",145],"]",",",["T_WHITESPACE","\n            ",145],"[","]",",",["T_WHITESPACE","\n            ",146],["T_CONSTANT_ENCAPSED_STRING","''",147],",",["T_WHITESPACE","\n            ",147],["T_STRING","false",148],["T_WHITESPACE","\n        ",148],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","filesystemMock",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","any",151],"(",")",["T_WHITESPACE","\n        ",151],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","method",152],"(",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'getDirectoryWrite'",153],["T_WHITESPACE","\n        ",153],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","with",154],"(",["T_WHITESPACE","\n            ",154],["T_STRING","DirectoryList",155],["T_DOUBLE_COLON","::",155],["T_STRING","MEDIA",155],["T_WHITESPACE","\n        ",155],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","will",156],"(",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","returnValue",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","directoryMock",157],")",["T_WHITESPACE","\n        ",157],")",";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","adapterFactoryMock",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getMock",160],"(",["T_WHITESPACE","\n            ",160],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Framework",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Image",161],["T_NS_SEPARATOR","\\",161],["T_STRING","AdapterFactory",161],["T_DOUBLE_COLON","::",161],["T_CLASS","class",161],",",["T_WHITESPACE","\n            ",161],"[","]",",",["T_WHITESPACE","\n            ",162],"[","]",",",["T_WHITESPACE","\n            ",163],["T_CONSTANT_ENCAPSED_STRING","''",164],",",["T_WHITESPACE","\n            ",164],["T_STRING","false",165],["T_WHITESPACE","\n        ",165],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","imageHelperMock",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getMock",167],"(",["T_WHITESPACE","\n            ",167],["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Cms",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Helper",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Wysiwyg",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Images",168],["T_DOUBLE_COLON","::",168],["T_CLASS","class",168],",",["T_WHITESPACE","\n            ",168],"[",["T_CONSTANT_ENCAPSED_STRING","'getStorageRoot'",169],"]",",",["T_WHITESPACE","\n            ",169],"[","]",",",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","''",171],",",["T_WHITESPACE","\n            ",171],["T_STRING","false",172],["T_WHITESPACE","\n        ",172],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","imageHelperMock",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","any",175],"(",")",["T_WHITESPACE","\n        ",175],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","method",176],"(",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'getStorageRoot'",177],["T_WHITESPACE","\n        ",177],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","will",178],"(",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","returnValue",179],"(",["T_STRING","self",179],["T_DOUBLE_COLON","::",179],["T_STRING","STORAGE_ROOT_DIR",179],")",["T_WHITESPACE","\n        ",179],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","resizeParameters",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","100",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'height'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","50",182],"]",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","storageCollectionFactoryMock",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getMock",184],"(",["T_WHITESPACE","\n            ",184],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Cms",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Model",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Wysiwyg",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Images",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Storage",185],["T_NS_SEPARATOR","\\",185],["T_STRING","CollectionFactory",185],["T_DOUBLE_COLON","::",185],["T_CLASS","class",185],",",["T_WHITESPACE","\n            ",185],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",186],"]",",",["T_WHITESPACE","\n            ",186],"[","]",",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","''",188],",",["T_WHITESPACE","\n            ",188],["T_STRING","false",189],["T_WHITESPACE","\n        ",189],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","storageFileFactoryMock",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getMock",191],"(",["T_WHITESPACE","\n            ",191],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","MediaStorage",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Model",192],["T_NS_SEPARATOR","\\",192],["T_STRING","File",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Storage",192],["T_NS_SEPARATOR","\\",192],["T_STRING","FileFactory",192],["T_DOUBLE_COLON","::",192],["T_CLASS","class",192],",",["T_WHITESPACE","\n            ",192],"[","]",",",["T_WHITESPACE","\n            ",193],"[","]",",",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","''",195],",",["T_WHITESPACE","\n            ",195],["T_STRING","false",196],["T_WHITESPACE","\n        ",196],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","storageDatabaseFactoryMock",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getMock",198],"(",["T_WHITESPACE","\n            ",198],["T_NS_SEPARATOR","\\",199],["T_STRING","Magento",199],["T_NS_SEPARATOR","\\",199],["T_STRING","MediaStorage",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Model",199],["T_NS_SEPARATOR","\\",199],["T_STRING","File",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Storage",199],["T_NS_SEPARATOR","\\",199],["T_STRING","DatabaseFactory",199],["T_DOUBLE_COLON","::",199],["T_CLASS","class",199],",",["T_WHITESPACE","\n            ",199],"[","]",",",["T_WHITESPACE","\n            ",200],"[","]",",",["T_WHITESPACE","\n            ",201],["T_CONSTANT_ENCAPSED_STRING","''",202],",",["T_WHITESPACE","\n            ",202],["T_STRING","false",203],["T_WHITESPACE","\n        ",203],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","directoryDatabaseFactoryMock",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getMock",205],"(",["T_WHITESPACE","\n            ",205],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","MediaStorage",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Model",206],["T_NS_SEPARATOR","\\",206],["T_STRING","File",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Storage",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Directory",206],["T_NS_SEPARATOR","\\",206],["T_STRING","DatabaseFactory",206],["T_DOUBLE_COLON","::",206],["T_CLASS","class",206],",",["T_WHITESPACE","\n            ",206],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",207],"]",",",["T_WHITESPACE","\n            ",207],"[","]",",",["T_WHITESPACE","\n            ",208],["T_CONSTANT_ENCAPSED_STRING","''",209],",",["T_WHITESPACE","\n            ",209],["T_STRING","false",210],["T_WHITESPACE","\n        ",210],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","directoryCollectionMock",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMock",212],"(",["T_WHITESPACE","\n            ",212],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","MediaStorage",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Model",213],["T_NS_SEPARATOR","\\",213],["T_STRING","File",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Storage",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Directory",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Database",213],["T_DOUBLE_COLON","::",213],["T_CLASS","class",213],",",["T_WHITESPACE","\n            ",213],"[","]",",",["T_WHITESPACE","\n            ",214],"[","]",",",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","''",216],",",["T_WHITESPACE","\n            ",216],["T_STRING","false",217],["T_WHITESPACE","\n        ",217],")",";",["T_WHITESPACE","\n\n        ",218],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","uploaderFactoryMock",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getMockBuilder",220],"(",["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","MediaStorage",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Model",220],["T_NS_SEPARATOR","\\",220],["T_STRING","File",220],["T_NS_SEPARATOR","\\",220],["T_STRING","UploaderFactory",220],["T_DOUBLE_COLON","::",220],["T_CLASS","class",220],")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","disableOriginalConstructor",221],"(",")",["T_WHITESPACE","\n            ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","getMock",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","sessionMock",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMock",223],"(",["T_NS_SEPARATOR","\\",223],["T_STRING","Magento",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Backend",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Model",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Session",223],["T_DOUBLE_COLON","::",223],["T_CLASS","class",223],",",["T_WHITESPACE"," ",223],"[","]",",",["T_WHITESPACE"," ",223],"[","]",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],",",["T_WHITESPACE"," ",223],["T_STRING","false",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","backendUrlMock",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getMock",224],"(",["T_NS_SEPARATOR","\\",224],["T_STRING","Magento",224],["T_NS_SEPARATOR","\\",224],["T_STRING","Backend",224],["T_NS_SEPARATOR","\\",224],["T_STRING","Model",224],["T_NS_SEPARATOR","\\",224],["T_STRING","Url",224],["T_DOUBLE_COLON","::",224],["T_CLASS","class",224],",",["T_WHITESPACE"," ",224],"[","]",",",["T_WHITESPACE"," ",224],"[","]",",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","''",224],",",["T_WHITESPACE"," ",224],["T_STRING","false",224],")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","coreFileStorageMock",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getMockBuilder",226],"(",["T_NS_SEPARATOR","\\",226],["T_STRING","Magento",226],["T_NS_SEPARATOR","\\",226],["T_STRING","MediaStorage",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Helper",226],["T_NS_SEPARATOR","\\",226],["T_STRING","File",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Storage",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Database",226],["T_DOUBLE_COLON","::",226],["T_CLASS","class",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","disableOriginalConstructor",227],"(",")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","getMock",228],"(",")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","objectManagerHelper",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Magento",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Framework",230],["T_NS_SEPARATOR","\\",230],["T_STRING","TestFramework",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Unit",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Helper",230],["T_NS_SEPARATOR","\\",230],["T_STRING","ObjectManager",230],"(",["T_VARIABLE","$this",230],")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","imagesStorage",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","objectManagerHelper",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getObject",232],"(",["T_WHITESPACE","\n            ",232],["T_NS_SEPARATOR","\\",233],["T_STRING","Magento",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Cms",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Model",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Wysiwyg",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Images",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Storage",233],["T_DOUBLE_COLON","::",233],["T_CLASS","class",233],",",["T_WHITESPACE","\n            ",233],"[",["T_WHITESPACE","\n                ",234],["T_CONSTANT_ENCAPSED_STRING","'session'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","sessionMock",235],",",["T_WHITESPACE","\n                ",235],["T_CONSTANT_ENCAPSED_STRING","'backendUrl'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","backendUrlMock",236],",",["T_WHITESPACE","\n                ",236],["T_CONSTANT_ENCAPSED_STRING","'cmsWysiwygImages'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","imageHelperMock",237],",",["T_WHITESPACE","\n                ",237],["T_CONSTANT_ENCAPSED_STRING","'coreFileStorageDb'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","coreFileStorageMock",238],",",["T_WHITESPACE","\n                ",238],["T_CONSTANT_ENCAPSED_STRING","'filesystem'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","filesystemMock",239],",",["T_WHITESPACE","\n                ",239],["T_CONSTANT_ENCAPSED_STRING","'imageFactory'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","adapterFactoryMock",240],",",["T_WHITESPACE","\n                ",240],["T_CONSTANT_ENCAPSED_STRING","'assetRepo'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getMock",241],"(",["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Framework",241],["T_NS_SEPARATOR","\\",241],["T_STRING","View",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Asset",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Repository",241],["T_DOUBLE_COLON","::",241],["T_CLASS","class",241],",",["T_WHITESPACE"," ",241],"[","]",",",["T_WHITESPACE"," ",241],"[","]",",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],",",["T_WHITESPACE"," ",241],["T_STRING","false",241],")",",",["T_WHITESPACE","\n                ",241],["T_CONSTANT_ENCAPSED_STRING","'storageCollectionFactory'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","storageCollectionFactoryMock",242],",",["T_WHITESPACE","\n                ",242],["T_CONSTANT_ENCAPSED_STRING","'storageFileFactory'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","storageFileFactoryMock",243],",",["T_WHITESPACE","\n                ",243],["T_CONSTANT_ENCAPSED_STRING","'storageDatabaseFactory'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","storageDatabaseFactoryMock",244],",",["T_WHITESPACE","\n                ",244],["T_CONSTANT_ENCAPSED_STRING","'directoryDatabaseFactory'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","directoryDatabaseFactoryMock",245],",",["T_WHITESPACE","\n                ",245],["T_CONSTANT_ENCAPSED_STRING","'uploaderFactory'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","uploaderFactoryMock",246],",",["T_WHITESPACE","\n                ",246],["T_CONSTANT_ENCAPSED_STRING","'resizeParameters'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","resizeParameters",247],",",["T_WHITESPACE","\n                ",247],["T_CONSTANT_ENCAPSED_STRING","'dirs'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],"[",["T_WHITESPACE","\n                    ",248],["T_CONSTANT_ENCAPSED_STRING","'exclude'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],"[","]",",",["T_WHITESPACE","\n                    ",249],["T_CONSTANT_ENCAPSED_STRING","'include'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],"[","]",["T_WHITESPACE","\n                ",250],"]",["T_WHITESPACE","\n            ",251],"]",["T_WHITESPACE","\n        ",252],")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Cms\\Model\\Wysiwyg\\Images\\Storage::getResizeWidth\n     *\/",256],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","testGetResizeWidth",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertEquals",261],"(",["T_LNUMBER","100",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","imagesStorage",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getResizeWidth",261],"(",")",")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Cms\\Model\\Wysiwyg\\Images\\Storage::getResizeHeight\n     *\/",264],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","testGetResizeHeight",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertEquals",269],"(",["T_LNUMBER","50",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","imagesStorage",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getResizeHeight",269],"(",")",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Cms\\Model\\Wysiwyg\\Images\\Storage::deleteDirectory\n     *\/",272],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","testDeleteDirectoryOverRoot",275],"(",")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","setExpectedException",277],"(",["T_WHITESPACE","\n            ",277],["T_NS_SEPARATOR","\\",278],["T_STRING","Magento",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Framework",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Exception",278],["T_NS_SEPARATOR","\\",278],["T_STRING","LocalizedException",278],["T_DOUBLE_COLON","::",278],["T_CLASS","class",278],",",["T_WHITESPACE","\n            ",278],["T_STRING","sprintf",279],"(",["T_CONSTANT_ENCAPSED_STRING","'Directory %s is not under storage root path.'",279],",",["T_WHITESPACE"," ",279],["T_STRING","self",279],["T_DOUBLE_COLON","::",279],["T_STRING","INVALID_DIRECTORY_OVER_ROOT",279],")",["T_WHITESPACE","\n        ",279],")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","imagesStorage",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","deleteDirectory",281],"(",["T_STRING","self",281],["T_DOUBLE_COLON","::",281],["T_STRING","INVALID_DIRECTORY_OVER_ROOT",281],")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Cms\\Model\\Wysiwyg\\Images\\Storage::deleteDirectory\n     *\/",284],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","testDeleteRootDirectory",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","setExpectedException",289],"(",["T_WHITESPACE","\n            ",289],["T_NS_SEPARATOR","\\",290],["T_STRING","Magento",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Framework",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Exception",290],["T_NS_SEPARATOR","\\",290],["T_STRING","LocalizedException",290],["T_DOUBLE_COLON","::",290],["T_CLASS","class",290],",",["T_WHITESPACE","\n            ",290],["T_STRING","sprintf",291],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t delete root directory %s right now.'",291],",",["T_WHITESPACE"," ",291],["T_STRING","self",291],["T_DOUBLE_COLON","::",291],["T_STRING","STORAGE_ROOT_DIR",291],")",["T_WHITESPACE","\n        ",291],")",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","imagesStorage",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","deleteDirectory",293],"(",["T_STRING","self",293],["T_DOUBLE_COLON","::",293],["T_STRING","STORAGE_ROOT_DIR",293],")",";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","testGetDirsCollectionCreateSubDirectories",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$directoryName",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'test1'",298],";",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","coreFileStorageMock",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","expects",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","once",300],"(",")",")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","method",301],"(",["T_CONSTANT_ENCAPSED_STRING","'checkDbUsage'",301],")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","willReturn",302],"(",["T_STRING","true",302],")",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","directoryCollectionMock",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","expects",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","once",304],"(",")",")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","method",305],"(",["T_CONSTANT_ENCAPSED_STRING","'getSubdirectories'",305],")",["T_WHITESPACE","\n            ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","with",306],"(",["T_STRING","self",306],["T_DOUBLE_COLON","::",306],["T_STRING","STORAGE_ROOT_DIR",306],")",["T_WHITESPACE","\n            ",306],["T_OBJECT_OPERATOR","->",307],["T_STRING","willReturn",307],"(","[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$directoryName",307],"]","]",")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","directoryDatabaseFactoryMock",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","expects",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","once",309],"(",")",")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","method",310],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",310],")",["T_WHITESPACE","\n            ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","willReturn",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","directoryCollectionMock",311],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","directoryMock",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","expects",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","once",313],"(",")",")",["T_WHITESPACE","\n            ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","method",314],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",314],")",["T_WHITESPACE","\n            ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","with",315],"(",["T_STRING","rtrim",315],"(",["T_STRING","self",315],["T_DOUBLE_COLON","::",315],["T_STRING","STORAGE_ROOT_DIR",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/'",315],")",["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/'",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_VARIABLE","$directoryName",315],")",";",["T_WHITESPACE","\n\n        ",315],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","generalTestGetDirsCollection",317],"(",["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_STRING","STORAGE_ROOT_DIR",317],")",";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * @param array $exclude\n     * @param array $include\n     * @param array $fileNames\n     * @param array $expectedRemoveKeys\n     * @dataProvider dirsCollectionDataProvider\n     *\/",320],["T_WHITESPACE","\n    ",326],["T_PUBLIC","public",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","testGetDirsCollection",327],"(",["T_VARIABLE","$exclude",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$include",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$fileNames",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$expectedRemoveKeys",327],")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","imagesStorage",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","objectManagerHelper",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getObject",329],"(",["T_WHITESPACE","\n            ",329],["T_NS_SEPARATOR","\\",330],["T_STRING","Magento",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Cms",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Model",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Wysiwyg",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Images",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Storage",330],["T_DOUBLE_COLON","::",330],["T_CLASS","class",330],",",["T_WHITESPACE","\n            ",330],"[",["T_WHITESPACE","\n                ",331],["T_CONSTANT_ENCAPSED_STRING","'session'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","sessionMock",332],",",["T_WHITESPACE","\n                ",332],["T_CONSTANT_ENCAPSED_STRING","'backendUrl'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","backendUrlMock",333],",",["T_WHITESPACE","\n                ",333],["T_CONSTANT_ENCAPSED_STRING","'cmsWysiwygImages'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","imageHelperMock",334],",",["T_WHITESPACE","\n                ",334],["T_CONSTANT_ENCAPSED_STRING","'coreFileStorageDb'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","coreFileStorageMock",335],",",["T_WHITESPACE","\n                ",335],["T_CONSTANT_ENCAPSED_STRING","'filesystem'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","filesystemMock",336],",",["T_WHITESPACE","\n                ",336],["T_CONSTANT_ENCAPSED_STRING","'imageFactory'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","adapterFactoryMock",337],",",["T_WHITESPACE","\n                ",337],["T_CONSTANT_ENCAPSED_STRING","'assetRepo'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getMock",338],"(",["T_NS_SEPARATOR","\\",338],["T_STRING","Magento",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Framework",338],["T_NS_SEPARATOR","\\",338],["T_STRING","View",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Asset",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Repository",338],["T_DOUBLE_COLON","::",338],["T_CLASS","class",338],",",["T_WHITESPACE"," ",338],"[","]",",",["T_WHITESPACE"," ",338],"[","]",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","''",338],",",["T_WHITESPACE"," ",338],["T_STRING","false",338],")",",",["T_WHITESPACE","\n                ",338],["T_CONSTANT_ENCAPSED_STRING","'storageCollectionFactory'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","storageCollectionFactoryMock",339],",",["T_WHITESPACE","\n                ",339],["T_CONSTANT_ENCAPSED_STRING","'storageFileFactory'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","storageFileFactoryMock",340],",",["T_WHITESPACE","\n                ",340],["T_CONSTANT_ENCAPSED_STRING","'storageDatabaseFactory'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","storageDatabaseFactoryMock",341],",",["T_WHITESPACE","\n                ",341],["T_CONSTANT_ENCAPSED_STRING","'directoryDatabaseFactory'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","directoryDatabaseFactoryMock",342],",",["T_WHITESPACE","\n                ",342],["T_CONSTANT_ENCAPSED_STRING","'uploaderFactory'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","uploaderFactoryMock",343],",",["T_WHITESPACE","\n                ",343],["T_CONSTANT_ENCAPSED_STRING","'resizeParameters'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","resizeParameters",344],",",["T_WHITESPACE","\n                ",344],["T_CONSTANT_ENCAPSED_STRING","'dirs'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],"[",["T_WHITESPACE","\n                    ",345],["T_CONSTANT_ENCAPSED_STRING","'exclude'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$exclude",346],",",["T_WHITESPACE","\n                    ",346],["T_CONSTANT_ENCAPSED_STRING","'include'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$include",347],["T_WHITESPACE","\n                ",347],"]",["T_WHITESPACE","\n            ",348],"]",["T_WHITESPACE","\n        ",349],")",";",["T_WHITESPACE","\n\n        ",350],["T_VARIABLE","$collection",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],"[","]",";",["T_WHITESPACE","\n        ",352],["T_FOREACH","foreach",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$fileNames",353],["T_WHITESPACE"," ",353],["T_AS","as",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$filename",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DataObject|\\PHPUnit_Framework_MockObject_MockObject $objectMock *\/",354],["T_WHITESPACE","\n            ",354],["T_VARIABLE","$objectMock",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getMock",355],"(",["T_NS_SEPARATOR","\\",355],["T_STRING","Magento",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Framework",355],["T_NS_SEPARATOR","\\",355],["T_STRING","DataObject",355],["T_DOUBLE_COLON","::",355],["T_CLASS","class",355],",",["T_WHITESPACE"," ",355],"[",["T_CONSTANT_ENCAPSED_STRING","'getFilename'",355],"]",",",["T_WHITESPACE"," ",355],"[","]",",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","''",355],",",["T_WHITESPACE"," ",355],["T_STRING","false",355],")",";",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$objectMock",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","expects",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","any",356],"(",")",")",["T_WHITESPACE","\n                ",356],["T_OBJECT_OPERATOR","->",357],["T_STRING","method",357],"(",["T_CONSTANT_ENCAPSED_STRING","'getFilename'",357],")",["T_WHITESPACE","\n                ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","willReturn",358],"(",["T_STRING","self",358],["T_DOUBLE_COLON","::",358],["T_STRING","STORAGE_ROOT_DIR",358],["T_WHITESPACE"," ",358],".",["T_WHITESPACE"," ",358],["T_VARIABLE","$filename",358],")",";",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$collection",359],"[","]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$objectMock",359],";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","generalTestGetDirsCollection",362],"(",["T_STRING","self",362],["T_DOUBLE_COLON","::",362],["T_STRING","STORAGE_ROOT_DIR",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$collection",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$expectedRemoveKeys",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",365],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","dirsCollectionDataProvider",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],"[",["T_WHITESPACE","\n            ",370],"[",["T_WHITESPACE","\n                ",371],["T_CONSTANT_ENCAPSED_STRING","'exclude'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],"[",["T_WHITESPACE","\n                    ",372],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'dress'",373],"]",["T_WHITESPACE","\n                ",373],"]",",",["T_WHITESPACE","\n                ",374],["T_CONSTANT_ENCAPSED_STRING","'include'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],"[","]",",",["T_WHITESPACE","\n                ",375],["T_CONSTANT_ENCAPSED_STRING","'filenames'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],"[","]",",",["T_WHITESPACE","\n                ",376],["T_CONSTANT_ENCAPSED_STRING","'expectRemoveKeys'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],"[","]",["T_WHITESPACE","\n            ",377],"]",",",["T_WHITESPACE","\n            ",378],"[",["T_WHITESPACE","\n                ",379],["T_CONSTANT_ENCAPSED_STRING","'exclude'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],"[","]",",",["T_WHITESPACE","\n                ",380],["T_CONSTANT_ENCAPSED_STRING","'include'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],"[","]",",",["T_WHITESPACE","\n                ",381],["T_CONSTANT_ENCAPSED_STRING","'filenames'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],"[",["T_WHITESPACE","\n                    ",382],["T_CONSTANT_ENCAPSED_STRING","'\/dress'",383],",",["T_WHITESPACE","\n                ",383],"]",",",["T_WHITESPACE","\n                ",384],["T_CONSTANT_ENCAPSED_STRING","'expectRemoveKeys'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],"[","]",["T_WHITESPACE","\n            ",385],"]",",",["T_WHITESPACE","\n            ",386],"[",["T_WHITESPACE","\n                ",387],["T_CONSTANT_ENCAPSED_STRING","'exclude'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],"[",["T_WHITESPACE","\n                    ",388],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'dress'",389],"]",["T_WHITESPACE","\n                ",389],"]",",",["T_WHITESPACE","\n                ",390],["T_CONSTANT_ENCAPSED_STRING","'include'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],"[","]",",",["T_WHITESPACE","\n                ",391],["T_CONSTANT_ENCAPSED_STRING","'filenames'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],"[",["T_WHITESPACE","\n                    ",392],["T_CONSTANT_ENCAPSED_STRING","'\/collection'",393],",",["T_WHITESPACE","\n                ",393],"]",",",["T_WHITESPACE","\n                ",394],["T_CONSTANT_ENCAPSED_STRING","'expectRemoveKeys'",395],["T_WHITESPACE"," ",395],["T_DOUBLE_ARROW","=>",395],["T_WHITESPACE"," ",395],"[","]",["T_WHITESPACE","\n            ",395],"]",",",["T_WHITESPACE","\n            ",396],"[",["T_WHITESPACE","\n                ",397],["T_CONSTANT_ENCAPSED_STRING","'exclude'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],"[",["T_WHITESPACE","\n                    ",398],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'gear'",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'regexp'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_LNUMBER","1",399],"]",",",["T_WHITESPACE","\n                    ",399],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'home'",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'regexp'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_LNUMBER","1",400],"]",",",["T_WHITESPACE","\n                    ",400],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'collection'",401],"]",",",["T_WHITESPACE","\n                    ",401],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'dress'",402],"]",["T_WHITESPACE","\n                ",402],"]",",",["T_WHITESPACE","\n                ",403],["T_CONSTANT_ENCAPSED_STRING","'include'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],"[",["T_WHITESPACE","\n                    ",404],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'home'",405],",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'regexp'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_LNUMBER","1",405],"]",",",["T_WHITESPACE","\n                    ",405],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'collection'",406],"]",["T_WHITESPACE","\n                ",406],"]",",",["T_WHITESPACE","\n                ",407],["T_CONSTANT_ENCAPSED_STRING","'filenames'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],"[",["T_WHITESPACE","\n                    ",408],["T_CONSTANT_ENCAPSED_STRING","'\/dress'",409],",",["T_WHITESPACE","\n                    ",409],["T_CONSTANT_ENCAPSED_STRING","'\/collection'",410],",",["T_WHITESPACE","\n                    ",410],["T_CONSTANT_ENCAPSED_STRING","'\/gear'",411],["T_WHITESPACE","\n                ",411],"]",",",["T_WHITESPACE","\n                ",412],["T_CONSTANT_ENCAPSED_STRING","'expectRemoveKeys'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],"[","[",["T_LNUMBER","0",413],"]",",",["T_WHITESPACE"," ",413],"[",["T_LNUMBER","2",413],"]","]",["T_WHITESPACE","\n            ",413],"]",["T_WHITESPACE","\n        ",414],"]",";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * General conditions for testGetDirsCollection tests\n     *\n     * @param string $path\n     * @param array $collectionArray\n     * @param array $expectedRemoveKeys\n     *\/",418],["T_WHITESPACE","\n    ",424],["T_PROTECTED","protected",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","generalTestGetDirsCollection",425],"(",["T_VARIABLE","$path",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$collectionArray",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],"[","]",",",["T_WHITESPACE"," ",425],["T_VARIABLE","$expectedRemoveKeys",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],"[","]",")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_DOC_COMMENT","\/** @var StorageCollection|\\PHPUnit_Framework_MockObject_MockObject $storageCollectionMock *\/",427],["T_WHITESPACE","\n        ",427],["T_VARIABLE","$storageCollectionMock",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getMockBuilder",428],"(",["T_NS_SEPARATOR","\\",428],["T_STRING","Magento",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Cms",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Model",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Wysiwyg",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Images",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Storage",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Collection",428],["T_DOUBLE_COLON","::",428],["T_CLASS","class",428],")",["T_WHITESPACE","\n            ",428],["T_OBJECT_OPERATOR","->",429],["T_STRING","disableOriginalConstructor",429],"(",")",["T_WHITESPACE","\n            ",429],["T_OBJECT_OPERATOR","->",430],["T_STRING","getMock",430],"(",")",";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$storageCollectionMock",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","expects",431],"(",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","once",431],"(",")",")",["T_WHITESPACE","\n            ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","method",432],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectDirs'",432],")",["T_WHITESPACE","\n            ",432],["T_OBJECT_OPERATOR","->",433],["T_STRING","with",433],"(",["T_STRING","true",433],")",["T_WHITESPACE","\n            ",433],["T_OBJECT_OPERATOR","->",434],["T_STRING","willReturnSelf",434],"(",")",";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$storageCollectionMock",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","expects",435],"(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","once",435],"(",")",")",["T_WHITESPACE","\n            ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","method",436],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectFiles'",436],")",["T_WHITESPACE","\n            ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","with",437],"(",["T_STRING","false",437],")",["T_WHITESPACE","\n            ",437],["T_OBJECT_OPERATOR","->",438],["T_STRING","willReturnSelf",438],"(",")",";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$storageCollectionMock",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","expects",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","once",439],"(",")",")",["T_WHITESPACE","\n            ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","method",440],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectRecursively'",440],")",["T_WHITESPACE","\n            ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","with",441],"(",["T_STRING","false",441],")",["T_WHITESPACE","\n            ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","willReturnSelf",442],"(",")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$storageCollectionMock",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","expects",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","once",443],"(",")",")",["T_WHITESPACE","\n            ",443],["T_OBJECT_OPERATOR","->",444],["T_STRING","method",444],"(",["T_CONSTANT_ENCAPSED_STRING","'getIterator'",444],")",["T_WHITESPACE","\n            ",444],["T_OBJECT_OPERATOR","->",445],["T_STRING","willReturn",445],"(",["T_NEW","new",445],["T_WHITESPACE"," ",445],["T_NS_SEPARATOR","\\",445],["T_STRING","ArrayIterator",445],"(",["T_VARIABLE","$collectionArray",445],")",")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$storageCollectionInvMock",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$storageCollectionMock",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","expects",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","exactly",446],"(",["T_STRING","sizeof",446],"(",["T_VARIABLE","$expectedRemoveKeys",446],")",")",")",["T_WHITESPACE","\n            ",446],["T_OBJECT_OPERATOR","->",447],["T_STRING","method",447],"(",["T_CONSTANT_ENCAPSED_STRING","'removeItemByKey'",447],")",";",["T_WHITESPACE","\n        ",447],["T_STRING","call_user_func_array",448],"(","[",["T_VARIABLE","$storageCollectionInvMock",448],",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'withConsecutive'",448],"]",",",["T_WHITESPACE"," ",448],["T_VARIABLE","$expectedRemoveKeys",448],")",";",["T_WHITESPACE","\n\n        ",448],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","storageCollectionFactoryMock",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","expects",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","once",450],"(",")",")",["T_WHITESPACE","\n            ",450],["T_OBJECT_OPERATOR","->",451],["T_STRING","method",451],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",451],")",["T_WHITESPACE","\n            ",451],["T_OBJECT_OPERATOR","->",452],["T_STRING","willReturn",452],"(",["T_VARIABLE","$storageCollectionMock",452],")",";",["T_WHITESPACE","\n\n        ",452],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","imagesStorage",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getDirsCollection",454],"(",["T_VARIABLE","$path",454],")",";",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n",455],"}",["T_WHITESPACE","\n",456]]