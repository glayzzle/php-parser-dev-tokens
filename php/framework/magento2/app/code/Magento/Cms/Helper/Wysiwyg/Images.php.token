[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cms",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Wysiwyg",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Wysiwyg Images Helper\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Images",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Helper",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractHelper",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Current directory path\n     * @var string\n     *\/",15],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_currentPath",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Current directory URL\n     * @var string\n     *\/",21],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_currentUrl",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Currenty selected store ID if applicable\n     *\n     * @var int\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_storeId",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","null",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\Write\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_directory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Adminhtml data\n     *\n     * @var \\Magento\\Backend\\Helper\\Data\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_backendData",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_storeManager",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Backend\\Helper\\Data $backendData\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     *\/",53],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","__construct",61],"(",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","App",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Helper",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Context",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$context",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Backend",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Helper",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Data",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$backendData",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Filesystem",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$filesystem",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Store",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","StoreManagerInterface",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$storeManager",65],["T_WHITESPACE","\n    ",65],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_STRING","parent",67],["T_DOUBLE_COLON","::",67],["T_STRING","__construct",67],"(",["T_VARIABLE","$context",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_backendData",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$backendData",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_storeManager",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$storeManager",69],";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_directory",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$filesystem",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getDirectoryWrite",71],"(",["T_STRING","DirectoryList",71],["T_DOUBLE_COLON","::",71],["T_STRING","MEDIA",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_directory",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","create",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Cms",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Model",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Wysiwyg",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Config",72],["T_DOUBLE_COLON","::",72],["T_STRING","IMAGE_DIRECTORY",72],")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Set a specified store ID value\n     *\n     * @param int $store\n     * @return $this\n     *\/",75],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","setStoreId",81],"(",["T_VARIABLE","$store",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_storeId",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$store",83],";",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Images Storage root directory\n     *\n     * @return string\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","getStorageRoot",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_directory",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getAbsolutePath",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Cms",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Wysiwyg",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Config",94],["T_DOUBLE_COLON","::",94],["T_STRING","IMAGE_DIRECTORY",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Images Storage base URL\n     *\n     * @return string\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getBaseUrl",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_storeManager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getStore",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getBaseUrl",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","UrlInterface",104],["T_DOUBLE_COLON","::",104],["T_STRING","URL_TYPE_MEDIA",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Ext Tree node key name\n     *\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getTreeNodeName",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'node'",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Encode path to HTML element id\n     *\n     * @param string $path Path to file\/directory\n     * @return string\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","convertPathToId",123],"(",["T_VARIABLE","$path",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$path",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","str_replace",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getStorageRoot",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","''",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$path",125],")",";",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","idEncode",126],"(",["T_VARIABLE","$path",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Decode HTML element id\n     *\n     * @param string $id\n     * @return string\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","convertIdToPath",135],"(",["T_VARIABLE","$id",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$id",137],["T_WHITESPACE"," ",137],["T_IS_IDENTICAL","===",137],["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Theme",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Helper",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Storage",137],["T_DOUBLE_COLON","::",137],["T_STRING","NODE_ROOT",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getStorageRoot",138],"(",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getStorageRoot",140],"(",")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","idDecode",140],"(",["T_VARIABLE","$id",140],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Check whether using static URLs is allowed\n     *\n     * @return bool\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","isUsingStaticUrlsAllowed",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$checkResult",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","StdClass",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$checkResult",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","isAllowed",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","false",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_eventManager",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","dispatch",153],"(",["T_WHITESPACE","\n            ",153],["T_CONSTANT_ENCAPSED_STRING","'cms_wysiwyg_images_static_urls_allowed'",154],",",["T_WHITESPACE","\n            ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$checkResult",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'store_id'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_storeId",155],"]",["T_WHITESPACE","\n        ",155],")",";",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$checkResult",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","isAllowed",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Prepare Image insertion declaration for Wysiwyg or textarea(as_is mode)\n     *\n     * @param string $filename Filename transferred via Ajax\n     * @param bool $renderAsTag Leave image HTML as is or transform it to controller directive\n     * @return string\n     *\/",160],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","getImageHtmlDeclaration",167],"(",["T_VARIABLE","$filename",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$renderAsTag",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","false",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$fileurl",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getCurrentUrl",169],"(",")",["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$filename",169],";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$mediaUrl",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_storeManager",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getStore",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getBaseUrl",170],"(",["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","UrlInterface",170],["T_DOUBLE_COLON","::",170],["T_STRING","URL_TYPE_MEDIA",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$mediaPath",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","str_replace",171],"(",["T_VARIABLE","$mediaUrl",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$fileurl",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$directive",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","sprintf",172],"(",["T_CONSTANT_ENCAPSED_STRING","'{{media url=\"%s\"}}'",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$mediaPath",172],")",";",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$renderAsTag",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$html",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","sprintf",174],"(",["T_CONSTANT_ENCAPSED_STRING","'<img src=\"%s\" alt=\"\" \/>'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","isUsingStaticUrlsAllowed",174],"(",")",["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_VARIABLE","$fileurl",174],["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_VARIABLE","$directive",174],")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","isUsingStaticUrlsAllowed",176],"(",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$html",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$fileurl",177],";",["T_WHITESPACE"," ",177],["T_COMMENT","\/\/ $mediaPath;\n",177],["T_WHITESPACE","            ",178],"}",["T_WHITESPACE"," ",178],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$directive",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","urlEncoder",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","encode",179],"(",["T_VARIABLE","$directive",179],")",";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$html",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_backendData",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getUrl",180],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/wysiwyg\/directive'",180],",",["T_WHITESPACE"," ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'___directive'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$directive",180],"]",")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$html",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Return path of the current selected directory or root directory for startup\n     * Try to create target directory if it doesn't exist\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",186],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getCurrentPath",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_currentPath",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$currentPath",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_directory",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getAbsolutePath",196],"(",")",["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Cms",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Model",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Wysiwyg",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Config",196],["T_DOUBLE_COLON","::",196],["T_STRING","IMAGE_DIRECTORY",196],";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$path",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_getRequest",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getParam",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getTreeNodeName",197],"(",")",")",";",["T_WHITESPACE","\n            ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$path",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_VARIABLE","$path",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","convertIdToPath",199],"(",["T_VARIABLE","$path",199],")",";",["T_WHITESPACE","\n                ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_directory",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","isDirectory",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_directory",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getRelativePath",200],"(",["T_VARIABLE","$path",200],")",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$currentPath",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$path",201],";",["T_WHITESPACE","\n                ",201],"}",["T_WHITESPACE","\n            ",202],"}",["T_WHITESPACE","\n            ",203],["T_TRY","try",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$currentDir",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_directory",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getRelativePath",205],"(",["T_VARIABLE","$currentPath",205],")",";",["T_WHITESPACE","\n                ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(","!",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_directory",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","isExist",206],"(",["T_VARIABLE","$currentDir",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_directory",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","create",207],"(",["T_VARIABLE","$currentDir",207],")",";",["T_WHITESPACE","\n                ",207],"}",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE"," ",209],["T_CATCH","catch",209],["T_WHITESPACE"," ",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Framework",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Exception",209],["T_NS_SEPARATOR","\\",209],["T_STRING","FileSystemException",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$e",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$message",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","__",210],"(",["T_CONSTANT_ENCAPSED_STRING","'The directory %1 is not writable by server.'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$currentPath",210],")",";",["T_WHITESPACE","\n                ",210],["T_THROW","throw",211],["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Magento",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Framework",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Exception",211],["T_NS_SEPARATOR","\\",211],["T_STRING","LocalizedException",211],"(",["T_VARIABLE","$message",211],")",";",["T_WHITESPACE","\n            ",211],"}",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_currentPath",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$currentPath",213],";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n        ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_currentPath",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Return URL based on current selected directory or root directory for startup\n     *\n     * @return string\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","getCurrentUrl",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","!",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_currentUrl",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$path",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getCurrentPath",226],"(",")",";",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$mediaUrl",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_storeManager",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getStore",227],"(",["T_WHITESPACE","\n                ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_storeId",228],["T_WHITESPACE","\n            ",228],")",["T_OBJECT_OPERATOR","->",229],["T_STRING","getBaseUrl",229],"(",["T_WHITESPACE","\n                ",229],["T_NS_SEPARATOR","\\",230],["T_STRING","Magento",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Framework",230],["T_NS_SEPARATOR","\\",230],["T_STRING","UrlInterface",230],["T_DOUBLE_COLON","::",230],["T_STRING","URL_TYPE_MEDIA",230],["T_WHITESPACE","\n            ",230],")",";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_currentUrl",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$mediaUrl",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_directory",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getRelativePath",232],"(",["T_VARIABLE","$path",232],")",["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'\/'",232],";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_currentUrl",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Encode string to valid HTML id element, based on base64 encoding\n     *\n     * @param string $string\n     * @return string\n     *\/",237],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","idEncode",243],"(",["T_VARIABLE","$string",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","strtr",245],"(",["T_STRING","base64_encode",245],"(",["T_VARIABLE","$string",245],")",",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'+\/='",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","':_-'",245],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Revert opration to idEncode\n     *\n     * @param string $string\n     * @return string\n     *\/",248],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","idDecode",254],"(",["T_VARIABLE","$string",254],")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$string",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","strtr",256],"(",["T_VARIABLE","$string",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","':_-'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'+\/='",256],")",";",["T_WHITESPACE","\n        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","base64_decode",257],"(",["T_VARIABLE","$string",257],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Reduce filename by replacing some characters with dots\n     *\n     * @param string $filename\n     * @param int $maxLength Maximum filename\n     * @return string Truncated filename\n     *\/",260],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getShortFilename",267],"(",["T_VARIABLE","$filename",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$maxLength",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_LNUMBER","20",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_STRING","strlen",269],"(",["T_VARIABLE","$filename",269],")",["T_WHITESPACE"," ",269],["T_IS_SMALLER_OR_EQUAL","<=",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$maxLength",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$filename",270],";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","substr",272],"(",["T_VARIABLE","$filename",272],",",["T_WHITESPACE"," ",272],["T_LNUMBER","0",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$maxLength",272],")",["T_WHITESPACE"," ",272],".",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'...'",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n",273],"}",["T_WHITESPACE","\n",274]]