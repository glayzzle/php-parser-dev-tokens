[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Security",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PasswordResetRequestEvent",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Password reset request event collection\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Collection",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Db",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Collection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractCollection",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$_idFieldName",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'id'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$dateTime",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactoryInterface $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $dateTime\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface|null $connection\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\AbstractDb|null $resource\n     *\/",23],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Data",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Collection",33],["T_NS_SEPARATOR","\\",33],["T_STRING","EntityFactoryInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$entityFactory",33],",",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Psr",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Log",34],["T_NS_SEPARATOR","\\",34],["T_STRING","LoggerInterface",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$logger",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Data",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Collection",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Db",35],["T_NS_SEPARATOR","\\",35],["T_STRING","FetchStrategyInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$fetchStrategy",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Event",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ManagerInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$eventManager",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Stdlib",37],["T_NS_SEPARATOR","\\",37],["T_STRING","DateTime",37],["T_NS_SEPARATOR","\\",37],["T_STRING","DateTime",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$dateTime",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","DB",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Adapter",38],["T_NS_SEPARATOR","\\",38],["T_STRING","AdapterInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$connection",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","null",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ResourceModel",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Db",39],["T_NS_SEPARATOR","\\",39],["T_STRING","AbstractDb",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$resource",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$entityFactory",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$logger",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$fetchStrategy",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$eventManager",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$connection",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$resource",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","dateTime",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$dateTime",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Define resource model\n     *\n     * @return void\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","_construct",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_init",52],"(",["T_WHITESPACE","\n            ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Security",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","PasswordResetRequestEvent",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],",",["T_WHITESPACE","\n            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Security",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","PasswordResetRequestEvent",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Filter by account reference\n     *\n     * @param string $reference\n     * @return $this\n     *\/",58],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","filterByAccountReference",64],"(",["T_VARIABLE","$reference",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","addFieldToFilter",66],"(",["T_CONSTANT_ENCAPSED_STRING","'account_reference'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$reference",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Filter by IP\n     *\n     * @param string $ip\n     * @return $this\n     *\/",71],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","filterByIp",77],"(",["T_VARIABLE","$ip",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","addFieldToFilter",79],"(",["T_CONSTANT_ENCAPSED_STRING","'ip'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$ip",79],")",";",["T_WHITESPACE","\n\n        ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Filter by request type\n     *\n     * @param int $requestType\n     * @return $this\n     *\/",84],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","filterByRequestType",90],"(",["T_VARIABLE","$requestType",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","addFieldToFilter",92],"(",["T_CONSTANT_ENCAPSED_STRING","'request_type'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$requestType",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Filter by lifetime\n     *\n     * @param int $lifetime\n     * @return $this\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","filterByLifetime",103],"(",["T_VARIABLE","$lifetime",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$connection",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getConnection",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$gmtTimestamp",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","dateTime",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","gmtTimestamp",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","addFieldToFilter",107],"(",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'created_at'",108],",",["T_WHITESPACE","\n            ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'gt'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$connection",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","formatDate",109],"(",["T_VARIABLE","$gmtTimestamp",109],["T_WHITESPACE"," ",109],"-",["T_WHITESPACE"," ",109],["T_VARIABLE","$lifetime",109],")","]",["T_WHITESPACE","\n        ",109],")",";",["T_WHITESPACE","\n\n        ",110],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Filter last item\n     *\n     * @return $this\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","filterLastItem",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addOrder",122],"(",["T_CONSTANT_ENCAPSED_STRING","'created_at'",122],",",["T_WHITESPACE"," ",122],["T_STRING","self",122],["T_DOUBLE_COLON","::",122],["T_STRING","SORT_ORDER_DESC",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","getSelect",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","limit",122],"(",["T_LNUMBER","1",122],")",";",["T_WHITESPACE","\n\n        ",122],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Filter by IP or by account reference\n     *\n     * @param int $ip\n     * @param string $accountReference\n     * @return $this\n     *\/",127],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","filterByIpOrAccountReference",134],"(",["T_VARIABLE","$ip",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$accountReference",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","addFieldToFilter",136],"(",["T_WHITESPACE","\n            ",136],"[",["T_CONSTANT_ENCAPSED_STRING","'ip'",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'account_reference'",137],"]",",",["T_WHITESPACE","\n            ",137],"[",["T_WHITESPACE","\n                ",138],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$ip",139],"]",",",["T_WHITESPACE","\n                ",139],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$accountReference",140],"]",",",["T_WHITESPACE","\n            ",140],"]",["T_WHITESPACE","\n        ",141],")",";",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Delete records older than some value\n     *\n     * @param int $timestamp\n     * @return $this\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","deleteRecordsOlderThen",153],"(",["T_VARIABLE","$timestamp",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getResource",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","deleteRecordsOlderThen",155],"(",["T_INT_CAST","(int)",155],["T_VARIABLE","$timestamp",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n",158],"}",["T_WHITESPACE","\n",159]]