[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Security",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AdminSessionInfo",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Admin Session Info collection\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Collection",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Db",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Collection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractCollection",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$_idFieldName",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'id'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$dateTime",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactoryInterface $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $dateTime\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface|null $connection\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\AbstractDb|null $resource\n     *\/",23],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Framework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Data",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Collection",33],["T_NS_SEPARATOR","\\",33],["T_STRING","EntityFactoryInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$entityFactory",33],",",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Psr",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Log",34],["T_NS_SEPARATOR","\\",34],["T_STRING","LoggerInterface",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$logger",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Data",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Collection",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Db",35],["T_NS_SEPARATOR","\\",35],["T_STRING","FetchStrategyInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$fetchStrategy",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Event",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ManagerInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$eventManager",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Stdlib",37],["T_NS_SEPARATOR","\\",37],["T_STRING","DateTime",37],["T_NS_SEPARATOR","\\",37],["T_STRING","DateTime",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$dateTime",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","DB",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Adapter",38],["T_NS_SEPARATOR","\\",38],["T_STRING","AdapterInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$connection",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","null",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ResourceModel",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Db",39],["T_NS_SEPARATOR","\\",39],["T_STRING","AbstractDb",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$resource",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$entityFactory",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$logger",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$fetchStrategy",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$eventManager",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$connection",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$resource",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","dateTime",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$dateTime",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Define resource model\n     *\n     * @return void\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","_construct",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_init",52],"(",["T_WHITESPACE","\n            ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Security",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","AdminSessionInfo",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],",",["T_WHITESPACE","\n            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Security",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","AdminSessionInfo",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Update active sessions status except a specific one\n     *\n     * @param int $status\n     * @param int $userId\n     * @param string $sessionIdToExclude\n     * @param int $updateOlderThen\n     * @return int The number of affected rows.\n     *\/",58],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","updateActiveSessionsStatus",67],"(",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$status",68],",",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$userId",69],",",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$sessionIdToExclude",70],",",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$updateOlderThen",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getResource",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","updateStatusByUserId",73],"(",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$status",74],",",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$userId",75],",",["T_WHITESPACE","\n            ",75],"[",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Security",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","AdminSessionInfo",76],["T_DOUBLE_COLON","::",76],["T_STRING","LOGGED_IN",76],"]",",",["T_WHITESPACE","\n            ",76],"[",["T_VARIABLE","$sessionIdToExclude",77],"]",",",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$updateOlderThen",78],["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Filter by user\n     *\n     * @param int $userId\n     * @param int $status\n     * @param null|string $sessionIdToExclude\n     * @return $this\n     *\/",82],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","filterByUser",90],"(",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$userId",91],",",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$status",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Security",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Model",92],["T_NS_SEPARATOR","\\",92],["T_STRING","AdminSessionInfo",92],["T_DOUBLE_COLON","::",92],["T_STRING","LOGGED_IN",92],",",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$sessionIdToExclude",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","null",93],["T_WHITESPACE","\n    ",93],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addFieldToFilter",95],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$userId",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addFieldToFilter",96],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$status",96],")",";",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","null",97],["T_WHITESPACE"," ",97],["T_IS_NOT_IDENTICAL","!==",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$sessionIdToExclude",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addFieldToFilter",98],"(",["T_CONSTANT_ENCAPSED_STRING","'session_id'",98],",",["T_WHITESPACE"," ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'neq'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$sessionIdToExclude",98],"]",")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Filter expired sessions\n     *\n     * @param int $sessionLifeTime\n     * @return $this\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","filterExpiredSessions",109],"(",["T_VARIABLE","$sessionLifeTime",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$connection",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getConnection",111],"(",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$gmtTimestamp",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","dateTime",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","gmtTimestamp",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","addFieldToFilter",113],"(",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",114],",",["T_WHITESPACE","\n            ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'gt'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$connection",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","formatDate",115],"(",["T_VARIABLE","$gmtTimestamp",115],["T_WHITESPACE"," ",115],"-",["T_WHITESPACE"," ",115],["T_VARIABLE","$sessionLifeTime",115],")","]",["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Delete sessions older than some value\n     *\n     * @param int $timestamp\n     * @return $this\n     *\/",120],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","deleteSessionsOlderThen",126],"(",["T_VARIABLE","$timestamp",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getResource",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","deleteSessionsOlderThen",128],"(",["T_INT_CAST","(int)",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$timestamp",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n",131],"}",["T_WHITESPACE","\n",132]]