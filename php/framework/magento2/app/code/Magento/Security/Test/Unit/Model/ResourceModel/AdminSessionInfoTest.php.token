[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Security",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Security\\Model\\ResourceModel\\AdminSessionInfo testing\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AdminSessionInfoTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/** @var \\Magento\\Security\\Model\\ResourceModel\\AdminSessionInfo *\/",15],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$model",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Stdlib\\DateTime *\/",18],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$dateTimeMock",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\ResourceConnection *\/",21],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$resourceMock",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface *\/",24],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$dbAdapterMock",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Init mocks for tests\n     * @return void\n     *\/",27],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$objectManager",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","ObjectManager",33],"(",["T_VARIABLE","$this",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","dateTimeMock",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getMock",35],"(",["T_WHITESPACE","\n            ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Stdlib",36],["T_NS_SEPARATOR","\\",36],["T_STRING","DateTime",36],["T_DOUBLE_COLON","::",36],["T_CLASS","class",36],",",["T_WHITESPACE","\n            ",36],"[","]",",",["T_WHITESPACE","\n            ",37],"[","]",",",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","''",39],",",["T_WHITESPACE","\n            ",39],["T_STRING","false",40],["T_WHITESPACE","\n        ",40],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","resourceMock",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMock",43],"(",["T_WHITESPACE","\n            ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","App",44],["T_NS_SEPARATOR","\\",44],["T_STRING","ResourceConnection",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],",",["T_WHITESPACE","\n            ",44],"[","]",",",["T_WHITESPACE","\n            ",45],"[","]",",",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","''",47],",",["T_WHITESPACE","\n            ",47],["T_STRING","false",48],["T_WHITESPACE","\n        ",48],")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","dbAdapterMock",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMock",51],"(",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","DB",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Adapter",52],["T_NS_SEPARATOR","\\",52],["T_STRING","AdapterInterface",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],",",["T_WHITESPACE","\n            ",52],"[","]",",",["T_WHITESPACE","\n            ",53],"[","]",",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","''",55],",",["T_WHITESPACE","\n            ",55],["T_STRING","false",56],["T_WHITESPACE","\n        ",56],")",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","model",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$objectManager",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getObject",59],"(",["T_WHITESPACE","\n            ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Security",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ResourceModel",60],["T_NS_SEPARATOR","\\",60],["T_STRING","AdminSessionInfo",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],",",["T_WHITESPACE","\n            ",60],"[",["T_WHITESPACE","\n                ",61],["T_CONSTANT_ENCAPSED_STRING","'resource'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","resourceMock",62],",",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'dateTime'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","dateTimeMock",63],["T_WHITESPACE","\n            ",63],"]",["T_WHITESPACE","\n        ",64],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testDeleteSessionsOlderThen",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$timestamp",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_LNUMBER","12345",73],";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","resourceMock",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","expects",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","once",75],"(",")",")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","willReturn",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","dbAdapterMock",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","dbAdapterMock",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","once",79],"(",")",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",80],")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","with",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","model",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMainTable",81],"(",")",",",["T_WHITESPACE"," ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'updated_at < ?'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","dateTimeMock",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","formatDate",81],"(",["T_VARIABLE","$timestamp",81],")","]",")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","willReturnSelf",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEquals",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","model",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","model",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","deleteSessionsOlderThen",84],"(",["T_VARIABLE","$timestamp",84],")",")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","testUpdateStatusByUserId",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$status",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_LNUMBER","2",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$userId",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","10",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$withStatuses",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_LNUMBER","1",94],",",["T_WHITESPACE"," ",94],["T_LNUMBER","5",94],"]",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$excludedSessionIds",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[",["T_LNUMBER","20",95],",",["T_WHITESPACE"," ",95],["T_LNUMBER","21",95],",",["T_WHITESPACE"," ",95],["T_LNUMBER","22",95],"]",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$updateOlderThen",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'2015-12-31 23:59:59'",96],";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$whereStatement",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'updated_at > ?'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","dateTimeMock",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","formatDate",99],"(",["T_VARIABLE","$updateOlderThen",99],")",",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'user_id = ?'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_INT_CAST","(int)",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$userId",100],",",["T_WHITESPACE","\n        ",100],"]",";",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_EMPTY","empty",102],"(",["T_VARIABLE","$excludedSessionIds",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$whereStatement",103],"[",["T_CONSTANT_ENCAPSED_STRING","'session_id NOT IN (?)'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$excludedSessionIds",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_EMPTY","empty",105],"(",["T_VARIABLE","$withStatuses",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$whereStatement",106],"[",["T_CONSTANT_ENCAPSED_STRING","'status IN (?)'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$withStatuses",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","resourceMock",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","willReturn",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","dbAdapterMock",111],")",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","dbAdapterMock",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","expects",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","once",113],"(",")",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","method",114],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","with",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","model",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMainTable",115],"(",")",",",["T_WHITESPACE"," ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$status",115],"]",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$whereStatement",115],")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","willReturnSelf",116],"(",")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","model",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","updateStatusByUserId",118],"(",["T_VARIABLE","$status",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$userId",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$withStatuses",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$excludedSessionIds",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$updateOlderThen",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n",119],"}",["T_WHITESPACE","\n",120]]