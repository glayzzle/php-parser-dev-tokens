[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRuleConfigurable",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Rule",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogRuleConfigurable",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogRule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Rule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Validation",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Unit test for Magento\\CatalogRuleConfigurable\\Plugin\\CatalogRule\\Model\\Rule\\Validation\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ValidationTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRuleConfigurable\\Plugin\\CatalogRule\\Model\\Rule\\Validation\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$validation",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ConfigurableProduct\\Model\\Product\\Type\\Configurable|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$configurableMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogRule\\Model\\Rule|\\PHPUnit_Framework_MockObject_MockObject *\/",26],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$ruleMock",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/** @var \\Magento\\Rule\\Model\\Condition\\Combine|\\PHPUnit_Framework_MockObject_MockObject *\/",29],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$ruleConditionsMock",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DataObject|\\PHPUnit_Framework_MockObject_MockObject *\/",32],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$productMock",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","configurableMock",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMock",40],"(",["T_WHITESPACE","\n            ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ConfigurableProduct",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Product",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Type",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Configurable",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n            ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'getParentIdsByChild'",42],"]",",",["T_WHITESPACE","\n            ",42],"[","]",",",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE","\n            ",44],["T_STRING","false",45],["T_WHITESPACE","\n        ",45],")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","ruleMock",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMock",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","CatalogRule",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Rule",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],",",["T_WHITESPACE"," ",48],"[","]",",",["T_WHITESPACE"," ",48],"[","]",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","''",48],",",["T_WHITESPACE"," ",48],["T_STRING","false",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","ruleConditionsMock",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Rule",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Condition",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Combine",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],",",["T_WHITESPACE"," ",49],"[","]",",",["T_WHITESPACE"," ",49],"[","]",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE"," ",49],["T_STRING","false",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","productMock",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMock",50],"(",["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","DataObject",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'getId'",50],"]",")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","validation",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","Validation",52],"(",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","configurableMock",53],["T_WHITESPACE","\n        ",53],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @param $parentsIds\n     * @param $validationResult\n     * @param $runValidateAmount\n     * @param $result\n     * @dataProvider dataProviderForValidateWithValidConfigurableProduct\n     * @return void\n     *\/",57],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testAfterValidateWithValidConfigurableProduct",65],"(",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$parentsIds",66],",",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$validationResult",67],",",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$runValidateAmount",68],",",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$result",69],["T_WHITESPACE","\n    ",69],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","productMock",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","once",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","willReturn",71],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","configurableMock",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","expects",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","once",72],"(",")",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","method",72],"(",["T_CONSTANT_ENCAPSED_STRING","'getParentIdsByChild'",72],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","with",72],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",72],")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","willReturn",73],"(",["T_VARIABLE","$parentsIds",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","ruleMock",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","exactly",74],"(",["T_VARIABLE","$runValidateAmount",74],")",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'getConditions'",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","willReturn",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","ruleConditionsMock",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","ruleConditionsMock",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","exactly",76],"(",["T_VARIABLE","$runValidateAmount",76],")",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'validateByEntityId'",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","willReturnMap",77],"(",["T_VARIABLE","$validationResult",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertEquals",79],"(",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$result",80],",",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","validation",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","afterValidate",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","ruleMock",81],",",["T_WHITESPACE"," ",81],["T_STRING","false",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","productMock",81],")",["T_WHITESPACE","\n        ",81],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","dataProviderForValidateWithValidConfigurableProduct",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],"[",["T_WHITESPACE","\n            ",90],"[",["T_WHITESPACE","\n                ",91],"[",["T_LNUMBER","1",92],",",["T_WHITESPACE"," ",92],["T_LNUMBER","2",92],",",["T_WHITESPACE"," ",92],["T_LNUMBER","3",92],"]",",",["T_WHITESPACE","\n                ",92],"[",["T_WHITESPACE","\n                    ",93],"[",["T_LNUMBER","1",94],",",["T_WHITESPACE"," ",94],["T_STRING","false",94],"]",",",["T_WHITESPACE","\n                    ",94],"[",["T_LNUMBER","2",95],",",["T_WHITESPACE"," ",95],["T_STRING","true",95],"]",",",["T_WHITESPACE","\n                    ",95],"[",["T_LNUMBER","3",96],",",["T_WHITESPACE"," ",96],["T_STRING","true",96],"]",",",["T_WHITESPACE","\n                ",96],"]",",",["T_WHITESPACE","\n                ",97],["T_LNUMBER","2",98],",",["T_WHITESPACE","\n                ",98],["T_STRING","true",99],",",["T_WHITESPACE","\n            ",99],"]",",",["T_WHITESPACE","\n            ",100],"[",["T_WHITESPACE","\n                ",101],"[",["T_LNUMBER","1",102],",",["T_WHITESPACE"," ",102],["T_LNUMBER","2",102],",",["T_WHITESPACE"," ",102],["T_LNUMBER","3",102],"]",",",["T_WHITESPACE","\n                ",102],"[",["T_WHITESPACE","\n                    ",103],"[",["T_LNUMBER","1",104],",",["T_WHITESPACE"," ",104],["T_STRING","true",104],"]",",",["T_WHITESPACE","\n                    ",104],"[",["T_LNUMBER","2",105],",",["T_WHITESPACE"," ",105],["T_STRING","false",105],"]",",",["T_WHITESPACE","\n                    ",105],"[",["T_LNUMBER","3",106],",",["T_WHITESPACE"," ",106],["T_STRING","true",106],"]",",",["T_WHITESPACE","\n                ",106],"]",",",["T_WHITESPACE","\n                ",107],["T_LNUMBER","1",108],",",["T_WHITESPACE","\n                ",108],["T_STRING","true",109],",",["T_WHITESPACE","\n            ",109],"]",",",["T_WHITESPACE","\n            ",110],"[",["T_WHITESPACE","\n                ",111],"[",["T_LNUMBER","1",112],",",["T_WHITESPACE"," ",112],["T_LNUMBER","2",112],",",["T_WHITESPACE"," ",112],["T_LNUMBER","3",112],"]",",",["T_WHITESPACE","\n                ",112],"[",["T_WHITESPACE","\n                    ",113],"[",["T_LNUMBER","1",114],",",["T_WHITESPACE"," ",114],["T_STRING","false",114],"]",",",["T_WHITESPACE","\n                    ",114],"[",["T_LNUMBER","2",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],"]",",",["T_WHITESPACE","\n                    ",115],"[",["T_LNUMBER","3",116],",",["T_WHITESPACE"," ",116],["T_STRING","false",116],"]",",",["T_WHITESPACE","\n                ",116],"]",",",["T_WHITESPACE","\n                ",117],["T_LNUMBER","3",118],",",["T_WHITESPACE","\n                ",118],["T_STRING","false",119],",",["T_WHITESPACE","\n            ",119],"]",",",["T_WHITESPACE","\n        ",120],"]",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n",122],"}",["T_WHITESPACE","\n",123]]