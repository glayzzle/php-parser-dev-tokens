[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRuleConfigurable",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Rule",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogRuleConfigurable",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogRule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Rule",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConfigurableProductHandler",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigurableProduct",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Type",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Configurable",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogRuleConfigurable",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogRule",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigurableProductsProvider",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Unit test for Magento\\CatalogRuleConfigurable\\Plugin\\CatalogRule\\Model\\Rule\\ConfigurableProductHandler\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ConfigurableProductHandlerTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogRuleConfigurable\\Plugin\\CatalogRule\\Model\\Rule\\ConfigurableProductHandler\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PRIVATE","private",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$configurableProductHandler",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var Configurable|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$configurableMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var ConfigurableProductsProvider|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$configurableProductsProviderMock",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogRule\\Model\\Rule||\\PHPUnit_Framework_MockObject_MockObject *\/",33],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$ruleMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * {@inheritDoc}\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","configurableMock",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMock",41],"(",["T_WHITESPACE","\n            ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","ConfigurableProduct",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","ResourceModel",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Product",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Type",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Configurable",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],",",["T_WHITESPACE","\n            ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'getChildrenIds'",43],"]",",",["T_WHITESPACE","\n            ",43],"[","]",",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE","\n            ",45],["T_STRING","false",46],["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","configurableProductsProviderMock",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMock",48],"(",["T_WHITESPACE","\n            ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","CatalogRuleConfigurable",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Plugin",49],["T_NS_SEPARATOR","\\",49],["T_STRING","CatalogRule",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ConfigurableProductsProvider",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],",",["T_WHITESPACE","\n            ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'getIds'",50],"]",",",["T_WHITESPACE","\n            ",50],"[","]",",",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","''",52],",",["T_WHITESPACE","\n            ",52],["T_STRING","false",53],["T_WHITESPACE","\n        ",53],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","ruleMock",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMock",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","CatalogRule",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Rule",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],",",["T_WHITESPACE"," ",55],"[","]",",",["T_WHITESPACE"," ",55],"[","]",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","''",55],",",["T_WHITESPACE"," ",55],["T_STRING","false",55],")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","configurableProductHandler",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","ConfigurableProductHandler",57],"(",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","configurableMock",58],",",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","configurableProductsProviderMock",59],["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testAfterGetMatchingProductIdsWithSimpleProduct",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","configurableProductsProviderMock",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","expects",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","once",68],"(",")",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","method",68],"(",["T_CONSTANT_ENCAPSED_STRING","'getIds'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","willReturn",68],"(","[","]",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","configurableMock",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","expects",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","never",69],"(",")",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'getChildrenIds'",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$productIds",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'valid results'",71],"]",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEquals",72],"(",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$productIds",73],",",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","configurableProductHandler",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","afterGetMatchingProductIds",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","ruleMock",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$productIds",74],")",["T_WHITESPACE","\n        ",74],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testAfterGetMatchingProductIdsWithConfigurableProduct",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","configurableProductsProviderMock",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","expects",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","once",83],"(",")",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getIds'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","willReturn",84],"(","[",["T_CONSTANT_ENCAPSED_STRING","'conf1'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'conf2'",84],"]",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","configurableMock",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","expects",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","any",85],"(",")",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'getChildrenIds'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","willReturnMap",85],"(","[",["T_WHITESPACE","\n            ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'conf1'",86],",",["T_WHITESPACE"," ",86],["T_STRING","true",86],",",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE"," ",86],["T_LNUMBER","0",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],"[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",86],"]","]","]",",",["T_WHITESPACE","\n            ",86],"[",["T_CONSTANT_ENCAPSED_STRING","'conf2'",87],",",["T_WHITESPACE"," ",87],["T_STRING","true",87],",",["T_WHITESPACE"," ",87],"[",["T_WHITESPACE"," ",87],["T_LNUMBER","0",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],"[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'simple2'",87],"]","]","]",",",["T_WHITESPACE","\n        ",87],"]",")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEquals",90],"(",["T_WHITESPACE","\n            ",90],"[",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'simple1'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n                    ",92],["T_LNUMBER","0",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","true",93],",",["T_WHITESPACE","\n                    ",93],["T_LNUMBER","1",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","true",94],",",["T_WHITESPACE","\n                    ",94],["T_LNUMBER","3",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","true",95],",",["T_WHITESPACE","\n                ",95],"]",",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'simple2'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],"[",["T_WHITESPACE","\n                    ",97],["T_LNUMBER","3",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","true",98],",",["T_WHITESPACE","\n                ",98],"]",["T_WHITESPACE","\n            ",99],"]",",",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","configurableProductHandler",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","afterGetMatchingProductIds",101],"(",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","ruleMock",102],",",["T_WHITESPACE","\n                ",102],"[",["T_WHITESPACE","\n                    ",103],["T_CONSTANT_ENCAPSED_STRING","'conf1'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],"[",["T_WHITESPACE","\n                        ",104],["T_LNUMBER","0",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_STRING","true",105],",",["T_WHITESPACE","\n                        ",105],["T_LNUMBER","1",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","true",106],",",["T_WHITESPACE","\n                    ",106],"]",",",["T_WHITESPACE","\n                    ",107],["T_CONSTANT_ENCAPSED_STRING","'conf2'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],"[",["T_WHITESPACE","\n                        ",108],["T_LNUMBER","0",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","false",109],",",["T_WHITESPACE","\n                        ",109],["T_LNUMBER","1",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_STRING","false",110],",",["T_WHITESPACE","\n                        ",110],["T_LNUMBER","3",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","true",111],",",["T_WHITESPACE","\n                        ",111],["T_LNUMBER","4",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","false",112],",",["T_WHITESPACE","\n                    ",112],"]",",",["T_WHITESPACE","\n                ",113],"]",["T_WHITESPACE","\n            ",114],")",["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]