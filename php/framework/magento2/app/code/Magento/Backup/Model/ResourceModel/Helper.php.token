[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceModel",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Helper",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DB",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Tables foreign key data array\n     * [tbl_name] = array(create foreign key strings)\n     *\n     * @var array\n     *\/",13],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_foreignKeys",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[","]",";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Core Date\n     *\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_coreDate",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param string $modulePrefix\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $coreDate\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","App",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ResourceConnection",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$resource",34],",",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$modulePrefix",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Stdlib",36],["T_NS_SEPARATOR","\\",36],["T_STRING","DateTime",36],["T_NS_SEPARATOR","\\",36],["T_STRING","DateTime",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$coreDate",36],["T_WHITESPACE","\n    ",36],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_STRING","parent",38],["T_DOUBLE_COLON","::",38],["T_STRING","__construct",38],"(",["T_VARIABLE","$resource",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$modulePrefix",38],")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_coreDate",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$coreDate",39],";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Retrieve SQL fragment for drop table\n     *\n     * @param string $tableName\n     * @return string\n     *\/",42],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getTableDropSql",48],"(",["T_VARIABLE","$tableName",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$quotedTableName",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getConnection",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","quoteIdentifier",50],"(",["T_VARIABLE","$tableName",50],")",";",["T_WHITESPACE","\n        ",50],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_STRING","sprintf",51],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE IF EXISTS %s;'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$quotedTableName",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Retrieve foreign keys for table(s)\n     *\n     * @param string|null $tableName\n     * @return string|bool\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getTableForeignKeysSql",60],"(",["T_VARIABLE","$tableName",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","null",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$sql",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","false",62],";",["T_WHITESPACE","\n\n        ",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$tableName",64],["T_WHITESPACE"," ",64],["T_IS_IDENTICAL","===",64],["T_WHITESPACE"," ",64],["T_STRING","null",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$sql",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","''",65],";",["T_WHITESPACE","\n            ",65],["T_FOREACH","foreach",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_foreignKeys",66],["T_WHITESPACE"," ",66],["T_AS","as",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$table",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$foreignKeys",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$sql",67],["T_WHITESPACE"," ",67],["T_CONCAT_EQUAL",".=",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_buildForeignKeysAlterTableSql",67],"(",["T_VARIABLE","$table",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$foreignKeys",67],")",";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE"," ",69],["T_ELSEIF","elseif",69],["T_WHITESPACE"," ",69],"(",["T_ISSET","isset",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_foreignKeys",69],"[",["T_VARIABLE","$tableName",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$foreignKeys",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_foreignKeys",70],"[",["T_VARIABLE","$tableName",70],"]",";",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$sql",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_buildForeignKeysAlterTableSql",71],"(",["T_VARIABLE","$tableName",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$foreignKeys",71],")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$sql",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Build sql that will add foreign keys to it\n     *\n     * @param string $tableName\n     * @param array $foreignKeys\n     * @return string\n     *\/",77],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","_buildForeignKeysAlterTableSql",84],"(",["T_VARIABLE","$tableName",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$foreignKeys",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(","!",["T_STRING","is_array",86],"(",["T_VARIABLE","$foreignKeys",86],")",["T_WHITESPACE"," ",86],["T_BOOLEAN_OR","||",86],["T_WHITESPACE"," ",86],["T_EMPTY","empty",86],"(",["T_VARIABLE","$foreignKeys",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_STRING","sprintf",90],"(",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","\"ALTER TABLE %s\\n  %s;\\n\"",91],",",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getConnection",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","quoteIdentifier",92],"(",["T_VARIABLE","$tableName",92],")",",",["T_WHITESPACE","\n            ",92],["T_STRING","join",93],"(",["T_CONSTANT_ENCAPSED_STRING","\",\\n  \"",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$foreignKeys",93],")",["T_WHITESPACE","\n        ",93],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Get create script for table\n     *\n     * @param string $tableName\n     * @param boolean $addDropIfExists\n     * @return string\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getTableCreateScript",104],"(",["T_VARIABLE","$tableName",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$addDropIfExists",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","false",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$script",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$quotedTableName",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getConnection",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","quoteIdentifier",107],"(",["T_VARIABLE","$tableName",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$addDropIfExists",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$script",110],["T_WHITESPACE"," ",110],["T_CONCAT_EQUAL",".=",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE IF EXISTS '",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$quotedTableName",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\";\\n\"",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_COMMENT","\/\/TODO fix me\n",112],["T_WHITESPACE","        ",113],["T_VARIABLE","$sql",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'SHOW CREATE TABLE '",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_VARIABLE","$quotedTableName",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$data",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getConnection",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","fetchRow",114],"(",["T_VARIABLE","$sql",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$script",115],["T_WHITESPACE"," ",115],["T_CONCAT_EQUAL",".=",115],["T_WHITESPACE"," ",115],["T_ISSET","isset",115],"(",["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",115],"]",")",["T_WHITESPACE"," ",115],"?",["T_WHITESPACE"," ",115],["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",115],"]",["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","\";\\n\"",115],["T_WHITESPACE"," ",115],":",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],";",["T_WHITESPACE","\n\n        ",115],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$script",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Retrieve SQL fragment for create table\n     *\n     * @param string $tableName\n     * @param bool $withForeignKeys\n     * @return string\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",120],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getTableCreateSql",128],"(",["T_VARIABLE","$tableName",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$withForeignKeys",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","false",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$connection",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getConnection",130],"(",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$quotedTableName",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$connection",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","quoteIdentifier",131],"(",["T_VARIABLE","$tableName",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$query",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'SHOW CREATE TABLE '",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$quotedTableName",132],";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$row",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$connection",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","fetchRow",133],"(",["T_VARIABLE","$query",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_VARIABLE","$row",135],["T_WHITESPACE"," ",135],["T_BOOLEAN_OR","||",135],["T_WHITESPACE"," ",135],"!",["T_ISSET","isset",135],"(",["T_VARIABLE","$row",135],"[",["T_CONSTANT_ENCAPSED_STRING","'Table'",135],"]",")",["T_WHITESPACE"," ",135],["T_BOOLEAN_OR","||",135],["T_WHITESPACE"," ",135],"!",["T_ISSET","isset",135],"(",["T_VARIABLE","$row",135],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",135],"]",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_STRING","false",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$regExp",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'\/,\\s+CONSTRAINT `([^`]*)` FOREIGN KEY \\(`([^`]*)`\\) '",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'REFERENCES `([^`]*)` \\(`([^`]*)`\\)'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE","\n            ",140],["T_CONSTANT_ENCAPSED_STRING","'( ON DELETE (RESTRICT|CASCADE|SET NULL|NO ACTION))?'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'( ON UPDATE (RESTRICT|CASCADE|SET NULL|NO ACTION))?\/'",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$matches",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",";",["T_WHITESPACE","\n        ",143],["T_STRING","preg_match_all",144],"(",["T_VARIABLE","$regExp",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$row",144],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",144],"]",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$matches",144],",",["T_WHITESPACE"," ",144],["T_STRING","PREG_SET_ORDER",144],")",";",["T_WHITESPACE","\n\n        ",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_STRING","is_array",146],"(",["T_VARIABLE","$matches",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$matches",147],["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$match",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_foreignKeys",148],"[",["T_VARIABLE","$tableName",148],"]","[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","sprintf",148],"(",["T_WHITESPACE","\n                    ",148],["T_CONSTANT_ENCAPSED_STRING","'ADD CONSTRAINT %s FOREIGN KEY (%s) REFERENCES %s (%s)%s%s'",149],",",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$connection",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","quoteIdentifier",150],"(",["T_VARIABLE","$match",150],"[",["T_LNUMBER","1",150],"]",")",",",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$connection",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","quoteIdentifier",151],"(",["T_VARIABLE","$match",151],"[",["T_LNUMBER","2",151],"]",")",",",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$connection",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","quoteIdentifier",152],"(",["T_VARIABLE","$match",152],"[",["T_LNUMBER","3",152],"]",")",",",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$connection",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","quoteIdentifier",153],"(",["T_VARIABLE","$match",153],"[",["T_LNUMBER","4",153],"]",")",",",["T_WHITESPACE","\n                    ",153],["T_ISSET","isset",154],"(",["T_VARIABLE","$match",154],"[",["T_LNUMBER","5",154],"]",")",["T_WHITESPACE"," ",154],"?",["T_WHITESPACE"," ",154],["T_VARIABLE","$match",154],"[",["T_LNUMBER","5",154],"]",["T_WHITESPACE"," ",154],":",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE","\n                    ",154],["T_ISSET","isset",155],"(",["T_VARIABLE","$match",155],"[",["T_LNUMBER","7",155],"]",")",["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_VARIABLE","$match",155],"[",["T_LNUMBER","7",155],"]",["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],["T_WHITESPACE","\n                ",155],")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$withForeignKeys",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$sql",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$row",161],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",161],"]",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE"," ",162],["T_ELSE","else",162],["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$sql",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","preg_replace",163],"(",["T_VARIABLE","$regExp",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","''",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$row",163],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",163],"]",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$sql",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","';'",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Returns SQL header data, move from original resource model\n     *\n     * @return string\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getHeader",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$dbConfig",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getConnection",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getConfig",176],"(",")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$versionRow",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getConnection",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","fetchRow",178],"(",["T_CONSTANT_ENCAPSED_STRING","'SHOW VARIABLES LIKE \\'version\\''",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$hostName",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"!",["T_EMPTY","empty",179],"(",["T_VARIABLE","$dbConfig",179],"[",["T_CONSTANT_ENCAPSED_STRING","'unix_socket'",179],"]",")",["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_VARIABLE","$dbConfig",179],"[",["T_CONSTANT_ENCAPSED_STRING","'unix_socket'",179],"]",["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],"(","!",["T_EMPTY","empty",179],"(",["T_VARIABLE","$dbConfig",179],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",179],"]",")",["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_VARIABLE","$dbConfig",179],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",179],"]",["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'localhost'",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$header",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","\"-- Magento DB backup\\n\"",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","\"--\\n\"",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE","\n            ",182],"\"",["T_ENCAPSED_AND_WHITESPACE","-- Host: ",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$hostName",183],"}",["T_ENCAPSED_AND_WHITESPACE","    Database: ",183],["T_CURLY_OPEN","{",183],["T_VARIABLE","$dbConfig",183],"[",["T_CONSTANT_ENCAPSED_STRING","'dbname'",183],"]","}",["T_ENCAPSED_AND_WHITESPACE","\\n",183],"\"",["T_WHITESPACE"," ",183],".",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","\"-- ------------------------------------------------------\\n\"",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE","\n            ",184],"\"",["T_ENCAPSED_AND_WHITESPACE","-- Server version: ",185],["T_CURLY_OPEN","{",185],["T_VARIABLE","$versionRow",185],"[",["T_CONSTANT_ENCAPSED_STRING","'Value'",185],"]","}",["T_ENCAPSED_AND_WHITESPACE","\\n\\n",185],"\"",["T_WHITESPACE"," ",185],".",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT *\/;\\n\"",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS *\/;\\n\"",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION *\/;\\n\"",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET NAMES utf8 *\/;\\n\"",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 *\/;\\n\"",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 *\/;\\n\"",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE","\n            ",191],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' *\/;\\n\"",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE","\n            ",192],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 *\/;\\n\"",193],";",["T_WHITESPACE","\n\n        ",193],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$header",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Returns SQL footer data, move from original resource model\n     *\n     * @return string\n     *\/",198],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","getFooter",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$footer",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","\"\\n\/*!40101 SET SQL_MODE=@OLD_SQL_MODE *\/;\\n\"",205],["T_WHITESPACE"," ",205],".",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS *\/; \\n\"",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE","\n            ",206],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS *\/;\\n\"",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE","\n            ",207],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT *\/;\\n\"",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE","\n            ",208],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS *\/;\\n\"",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE","\n            ",209],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION *\/;\\n\"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES *\/;\\n\"",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","\"\\n-- Dump completed on \"",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_coreDate",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","gmtDate",213],"(",")",["T_WHITESPACE"," ",213],".",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","\" GMT\"",214],";",["T_WHITESPACE","\n\n        ",214],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$footer",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Retrieve before insert data SQL fragment\n     *\n     * @param string $tableName\n     * @return string\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","getTableDataBeforeSql",225],"(",["T_VARIABLE","$tableName",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$quotedTableName",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getConnection",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","quoteIdentifier",227],"(",["T_VARIABLE","$tableName",227],")",";",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","\"\\n--\\n\"",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE","\n            ",228],"\"",["T_ENCAPSED_AND_WHITESPACE","-- Dumping data for table ",229],["T_CURLY_OPEN","{",229],["T_VARIABLE","$quotedTableName",229],"}",["T_ENCAPSED_AND_WHITESPACE","\\n",229],"\"",["T_WHITESPACE"," ",229],".",["T_WHITESPACE","\n            ",229],["T_CONSTANT_ENCAPSED_STRING","\"--\\n\\n\"",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE","\n            ",230],"\"",["T_ENCAPSED_AND_WHITESPACE","LOCK TABLES ",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$quotedTableName",231],"}",["T_ENCAPSED_AND_WHITESPACE"," WRITE;\\n",231],"\"",["T_WHITESPACE"," ",231],".",["T_WHITESPACE","\n            ",231],"\"",["T_ENCAPSED_AND_WHITESPACE","\/*!40000 ALTER TABLE ",232],["T_CURLY_OPEN","{",232],["T_VARIABLE","$quotedTableName",232],"}",["T_ENCAPSED_AND_WHITESPACE"," DISABLE KEYS *\/;\\n",232],"\"",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Retrieve after insert data SQL fragment\n     *\n     * @param string $tableName\n     * @return string\n     *\/",235],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getTableDataAfterSql",241],"(",["T_VARIABLE","$tableName",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$quotedTableName",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getConnection",243],"(",")",["T_OBJECT_OPERATOR","->",243],["T_STRING","quoteIdentifier",243],"(",["T_VARIABLE","$tableName",243],")",";",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],"\"",["T_ENCAPSED_AND_WHITESPACE","\/*!40000 ALTER TABLE ",244],["T_CURLY_OPEN","{",244],["T_VARIABLE","$quotedTableName",244],"}",["T_ENCAPSED_AND_WHITESPACE"," ENABLE KEYS *\/;\\n",244],"\"",["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","\"UNLOCK TABLES;\\n\"",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Return table part data SQL insert\n     *\n     * @param string $tableName\n     * @param int $count\n     * @param int $offset\n     * @return string\n     *\/",247],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","getPartInsertSql",255],"(",["T_VARIABLE","$tableName",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$count",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","null",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$offset",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","null",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$sql",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","null",257],";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$connection",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getConnection",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$select",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$connection",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","select",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","from",259],"(",["T_VARIABLE","$tableName",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","limit",259],"(",["T_VARIABLE","$count",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$offset",259],")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$query",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$connection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","query",260],"(",["T_VARIABLE","$select",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_WHILE","while",262],["T_WHITESPACE"," ",262],"(",["T_STRING","true",262],["T_WHITESPACE"," ",262],["T_IS_EQUAL","==",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$row",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$query",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","fetch",262],"(",")",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$sql",263],["T_WHITESPACE"," ",263],["T_IS_IDENTICAL","===",263],["T_WHITESPACE"," ",263],["T_STRING","null",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_VARIABLE","$sql",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","sprintf",264],"(",["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO %s VALUES '",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$connection",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","quoteIdentifier",264],"(",["T_VARIABLE","$tableName",264],")",")",";",["T_WHITESPACE","\n            ",264],"}",["T_WHITESPACE"," ",265],["T_ELSE","else",265],["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$sql",266],["T_WHITESPACE"," ",266],["T_CONCAT_EQUAL",".=",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","','",266],";",["T_WHITESPACE","\n            ",266],"}",["T_WHITESPACE","\n\n            ",267],["T_VARIABLE","$sql",269],["T_WHITESPACE"," ",269],["T_CONCAT_EQUAL",".=",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_quoteRow",269],"(",["T_VARIABLE","$tableName",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$row",269],")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n        ",270],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$sql",272],["T_WHITESPACE"," ",272],["T_IS_NOT_IDENTICAL","!==",272],["T_WHITESPACE"," ",272],["T_STRING","null",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$sql",273],["T_WHITESPACE"," ",273],["T_CONCAT_EQUAL",".=",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","';'",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$sql",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Return table data SQL insert\n     *\n     * @param string $tableName\n     * @return string\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","getInsertSql",285],"(",["T_VARIABLE","$tableName",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getPartInsertSql",287],"(",["T_VARIABLE","$tableName",287],")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Quote Table Row\n     *\n     * @param string $tableName\n     * @param array $row\n     * @return string\n     *\/",290],["T_WHITESPACE","\n    ",296],["T_PROTECTED","protected",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","_quoteRow",297],"(",["T_VARIABLE","$tableName",297],",",["T_WHITESPACE"," ",297],["T_ARRAY","array",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$row",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$connection",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getConnection",299],"(",")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$describe",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$connection",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","describeTable",300],"(",["T_VARIABLE","$tableName",300],")",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$dataTypes",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],"[",["T_CONSTANT_ENCAPSED_STRING","'bigint'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'mediumint'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'smallint'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",301],"]",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$rowData",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],"[","]",";",["T_WHITESPACE","\n        ",302],["T_FOREACH","foreach",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$row",303],["T_WHITESPACE"," ",303],["T_AS","as",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$key",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$data",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$data",304],["T_WHITESPACE"," ",304],["T_IS_IDENTICAL","===",304],["T_WHITESPACE"," ",304],["T_STRING","null",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$value",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'NULL'",305],";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE"," ",306],["T_ELSEIF","elseif",306],["T_WHITESPACE"," ",306],"(",["T_STRING","in_array",306],"(",["T_STRING","strtolower",306],"(",["T_VARIABLE","$describe",306],"[",["T_VARIABLE","$key",306],"]","[",["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",306],"]",")",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$dataTypes",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$value",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$data",307],";",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE"," ",308],["T_ELSE","else",308],["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$value",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$connection",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","quoteInto",309],"(",["T_CONSTANT_ENCAPSED_STRING","'?'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$data",309],")",";",["T_WHITESPACE","\n            ",309],"}",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$rowData",311],"[","]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$value",311],";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n\n        ",312],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_STRING","sprintf",314],"(",["T_CONSTANT_ENCAPSED_STRING","'(%s)'",314],",",["T_WHITESPACE"," ",314],["T_STRING","implode",314],"(",["T_CONSTANT_ENCAPSED_STRING","','",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$rowData",314],")",")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Prepare transaction isolation level for backup process\n     *\n     * @return void\n     *\/",317],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","prepareTransactionIsolationLevel",322],"(",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getConnection",324],"(",")",["T_OBJECT_OPERATOR","->",324],["T_STRING","query",324],"(",["T_CONSTANT_ENCAPSED_STRING","'SET SESSION TRANSACTION ISOLATION LEVEL SERIALIZABLE'",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Restore transaction isolation level after backup\n     *\n     * @return void\n     *\/",327],["T_WHITESPACE","\n    ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","restoreTransactionIsolationLevel",332],"(",")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getConnection",334],"(",")",["T_OBJECT_OPERATOR","->",334],["T_STRING","query",334],"(",["T_CONSTANT_ENCAPSED_STRING","'SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ'",334],")",";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n",335],"}",["T_WHITESPACE","\n",336]]