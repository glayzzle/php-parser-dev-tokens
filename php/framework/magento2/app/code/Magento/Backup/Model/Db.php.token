[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backup",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Database backup model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Db",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Backup",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","BackupDbInterface",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Buffer length for multi rows\n     * default 100 Kb\n     *\/",15],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","BUFFER_LENGTH",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_LNUMBER","102400",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Backup resource model\n     *\n     * @var \\Magento\\Backup\\Model\\ResourceModel\\Db\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_resourceDb",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","null",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Core resource model\n     *\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_resource",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","null",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backup\\Model\\ResourceModel\\Db $resourceDb\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     *\/",35],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Backup",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ResourceModel",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Db",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$resourceDb",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","App",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ResourceConnection",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$resource",41],["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_resourceDb",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$resourceDb",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_resource",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$resource",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * List of tables which data should not be backed up\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_ignoreDataTablesList",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'importexport\/importdata'",52],"]",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Retrieve resource model\n     *\n     * @return \\Magento\\Backup\\Model\\ResourceModel\\Db\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getResource",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_resourceDb",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","getTables",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getResource",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getTables",69],"(",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @param string $tableName\n     * @param bool $addDropIfExists\n     * @return string\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","getTableCreateScript",77],"(",["T_VARIABLE","$tableName",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$addDropIfExists",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","false",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getResource",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getTableCreateScript",79],"(",["T_VARIABLE","$tableName",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$addDropIfExists",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @param string $tableName\n     * @return string\n     *\/",82],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getTableDataDump",86],"(",["T_VARIABLE","$tableName",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getResource",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getTableDataDump",88],"(",["T_VARIABLE","$tableName",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","getHeader",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getResource",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getHeader",96],"(",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getFooter",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getResource",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getFooter",104],"(",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","renderSql",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_STRING","ini_set",112],"(",["T_CONSTANT_ENCAPSED_STRING","'max_execution_time'",112],",",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$sql",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getHeader",113],"(",")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$tables",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getTables",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$tables",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$tableName",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$sql",117],["T_WHITESPACE"," ",117],["T_CONCAT_EQUAL",".=",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getTableCreateScript",117],"(",["T_VARIABLE","$tableName",117],",",["T_WHITESPACE"," ",117],["T_STRING","true",117],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$sql",118],["T_WHITESPACE"," ",118],["T_CONCAT_EQUAL",".=",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getTableDataDump",118],"(",["T_VARIABLE","$tableName",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$sql",121],["T_WHITESPACE"," ",121],["T_CONCAT_EQUAL",".=",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getFooter",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$sql",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Create backup and stream write to adapter\n     *\n     * @param \\Magento\\Framework\\Backup\\Db\\BackupInterface $backup\n     * @return $this\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","createBackup",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Framework",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Backup",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Db",131],["T_NS_SEPARATOR","\\",131],["T_STRING","BackupInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$backup",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$backup",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","open",133],"(",["T_STRING","true",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getResource",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","beginTransaction",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$tables",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getResource",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getTables",137],"(",")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$backup",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","write",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getResource",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","getHeader",139],"(",")",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$ignoreDataTablesList",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getIgnoreDataTablesList",141],"(",")",";",["T_WHITESPACE","\n\n        ",141],["T_FOREACH","foreach",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$tables",143],["T_WHITESPACE"," ",143],["T_AS","as",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$table",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$backup",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","write",144],"(",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getResource",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getTableHeader",145],"(",["T_VARIABLE","$table",145],")",["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getResource",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getTableDropSql",145],"(",["T_VARIABLE","$table",145],")",["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",145],["T_WHITESPACE","\n            ",145],")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$backup",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","write",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getResource",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getTableCreateSql",147],"(",["T_VARIABLE","$table",147],",",["T_WHITESPACE"," ",147],["T_STRING","false",147],")",["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",147],")",";",["T_WHITESPACE","\n\n            ",147],["T_VARIABLE","$tableStatus",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getResource",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getTableStatus",149],"(",["T_VARIABLE","$table",149],")",";",["T_WHITESPACE","\n\n            ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$tableStatus",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getRows",151],"(",")",["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],"!",["T_STRING","in_array",151],"(",["T_VARIABLE","$table",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$ignoreDataTablesList",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$backup",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","write",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getResource",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getTableDataBeforeSql",152],"(",["T_VARIABLE","$table",152],")",")",";",["T_WHITESPACE","\n\n                ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$tableStatus",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getDataLength",154],"(",")",["T_WHITESPACE"," ",154],">",["T_WHITESPACE"," ",154],["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","BUFFER_LENGTH",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$tableStatus",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getAvgRowLength",155],"(",")",["T_WHITESPACE"," ",155],"<",["T_WHITESPACE"," ",155],["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_STRING","BUFFER_LENGTH",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                        ",155],["T_VARIABLE","$limit",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","floor",156],"(",["T_STRING","self",156],["T_DOUBLE_COLON","::",156],["T_STRING","BUFFER_LENGTH",156],["T_WHITESPACE"," ",156],"\/",["T_WHITESPACE"," ",156],["T_VARIABLE","$tableStatus",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getAvgRowLength",156],"(",")",")",";",["T_WHITESPACE","\n                        ",156],["T_VARIABLE","$multiRowsLength",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","ceil",157],"(",["T_VARIABLE","$tableStatus",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getRows",157],"(",")",["T_WHITESPACE"," ",157],"\/",["T_WHITESPACE"," ",157],["T_VARIABLE","$limit",157],")",";",["T_WHITESPACE","\n                    ",157],"}",["T_WHITESPACE"," ",158],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                        ",158],["T_VARIABLE","$limit",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_LNUMBER","1",159],";",["T_WHITESPACE","\n                        ",159],["T_VARIABLE","$multiRowsLength",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$tableStatus",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getRows",160],"(",")",";",["T_WHITESPACE","\n                    ",160],"}",["T_WHITESPACE","\n                ",161],"}",["T_WHITESPACE"," ",162],["T_ELSE","else",162],["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$limit",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$tableStatus",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getRows",163],"(",")",";",["T_WHITESPACE","\n                    ",163],["T_VARIABLE","$multiRowsLength",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_LNUMBER","1",164],";",["T_WHITESPACE","\n                ",164],"}",["T_WHITESPACE","\n\n                ",165],["T_FOR","for",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$i",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_LNUMBER","0",167],";",["T_WHITESPACE"," ",167],["T_VARIABLE","$i",167],["T_WHITESPACE"," ",167],"<",["T_WHITESPACE"," ",167],["T_VARIABLE","$multiRowsLength",167],";",["T_WHITESPACE"," ",167],["T_VARIABLE","$i",167],["T_INC","++",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$backup",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","write",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getResource",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","getTableDataSql",168],"(",["T_VARIABLE","$table",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$limit",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$i",168],["T_WHITESPACE"," ",168],"*",["T_WHITESPACE"," ",168],["T_VARIABLE","$limit",168],")",")",";",["T_WHITESPACE","\n                ",168],"}",["T_WHITESPACE","\n\n                ",169],["T_VARIABLE","$backup",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","write",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getResource",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getTableDataAfterSql",171],"(",["T_VARIABLE","$table",171],")",")",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$backup",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","write",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getResource",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getTableForeignKeysSql",174],"(",")",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$backup",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","write",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getResource",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getFooter",175],"(",")",")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getResource",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","commitTransaction",177],"(",")",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$backup",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","close",179],"(",")",";",["T_WHITESPACE","\n\n        ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Get database backup size\n     *\n     * @return int\n     *\/",184],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","getDBBackupSize",189],"(",")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$tables",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getResource",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","getTables",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$ignoreDataTablesList",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getIgnoreDataTablesList",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$size",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_LNUMBER","0",193],";",["T_WHITESPACE","\n        ",193],["T_FOREACH","foreach",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$tables",194],["T_WHITESPACE"," ",194],["T_AS","as",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$table",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$tableStatus",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getResource",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getTableStatus",195],"(",["T_VARIABLE","$table",195],")",";",["T_WHITESPACE","\n            ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$tableStatus",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getRows",196],"(",")",["T_WHITESPACE"," ",196],["T_BOOLEAN_AND","&&",196],["T_WHITESPACE"," ",196],"!",["T_STRING","in_array",196],"(",["T_VARIABLE","$table",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$ignoreDataTablesList",196],")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$size",197],["T_WHITESPACE"," ",197],["T_PLUS_EQUAL","+=",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$tableStatus",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getDataLength",197],"(",")",["T_WHITESPACE"," ",197],"+",["T_WHITESPACE"," ",197],["T_VARIABLE","$tableStatus",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getIndexLength",197],"(",")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$size",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Returns the list of tables which data should not be backed up\n     *\n     * @return string[]\n     *\/",203],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getIgnoreDataTablesList",208],"(",")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$result",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[","]",";",["T_WHITESPACE","\n\n        ",210],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_ignoreDataTablesList",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$table",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$result",213],"[","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_resource",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getTableName",213],"(",["T_VARIABLE","$table",213],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n\n        ",214],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$result",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n",217],"}",["T_WHITESPACE","\n",218]]