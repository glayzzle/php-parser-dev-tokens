[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backup",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MaintenanceMode",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Backup data helper\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Data",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","App",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Helper",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractHelper",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var Filesystem\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_filesystem",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\AuthorizationInterface\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_authorization",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Cache\\TypeListInterface\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_cacheTypeList",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param Filesystem $filesystem\n     * @param \\Magento\\Framework\\AuthorizationInterface $authorization\n     * @param \\Magento\\Framework\\App\\Cache\\TypeListInterface $cacheTypeList\n     *\/",32],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","App",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Helper",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Context",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$context",41],",",["T_WHITESPACE","\n        ",41],["T_STRING","Filesystem",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$filesystem",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","AuthorizationInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$authorization",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","App",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Cache",44],["T_NS_SEPARATOR","\\",44],["T_STRING","TypeListInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$cacheTypeList",44],["T_WHITESPACE","\n    ",44],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n        ",45],["T_STRING","parent",46],["T_DOUBLE_COLON","::",46],["T_STRING","__construct",46],"(",["T_VARIABLE","$context",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_authorization",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$authorization",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_filesystem",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$filesystem",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_cacheTypeList",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$cacheTypeList",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Get all possible backup type values with descriptive title\n     *\n     * @return array\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","getBackupTypes",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n            ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Framework",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Backup",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Factory",60],["T_DOUBLE_COLON","::",60],["T_STRING","TYPE_DB",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Database'",60],")",",",["T_WHITESPACE","\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Backup",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Factory",61],["T_DOUBLE_COLON","::",61],["T_STRING","TYPE_MEDIA",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Database and Media'",61],")",",",["T_WHITESPACE","\n            ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Backup",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Factory",62],["T_DOUBLE_COLON","::",62],["T_STRING","TYPE_SYSTEM_SNAPSHOT",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","__",62],"(",["T_CONSTANT_ENCAPSED_STRING","'System'",62],")",",",["T_WHITESPACE","\n            ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Backup",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Factory",63],["T_DOUBLE_COLON","::",63],["T_STRING","TYPE_SNAPSHOT_WITHOUT_MEDIA",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","__",63],"(",["T_CONSTANT_ENCAPSED_STRING","'System (excluding Media)'",63],")",["T_WHITESPACE","\n        ",63],"]",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Get all possible backup type values\n     *\n     * @return string[]\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","getBackupTypesList",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],"[",["T_WHITESPACE","\n            ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Framework",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Backup",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Factory",75],["T_DOUBLE_COLON","::",75],["T_STRING","TYPE_DB",75],",",["T_WHITESPACE","\n            ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Backup",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Factory",76],["T_DOUBLE_COLON","::",76],["T_STRING","TYPE_SYSTEM_SNAPSHOT",76],",",["T_WHITESPACE","\n            ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Backup",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Factory",77],["T_DOUBLE_COLON","::",77],["T_STRING","TYPE_SNAPSHOT_WITHOUT_MEDIA",77],",",["T_WHITESPACE","\n            ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Backup",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Factory",78],["T_DOUBLE_COLON","::",78],["T_STRING","TYPE_MEDIA",78],["T_WHITESPACE","\n        ",78],"]",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Get default backup type value\n     *\n     * @return string\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getDefaultBackupType",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Backup",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Factory",89],["T_DOUBLE_COLON","::",89],["T_STRING","TYPE_DB",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Get directory path where backups stored\n     *\n     * @return string\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getBackupsDir",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_filesystem",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getDirectoryWrite",99],"(",["T_STRING","DirectoryList",99],["T_DOUBLE_COLON","::",99],["T_STRING","VAR_DIR",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getAbsolutePath",99],"(",["T_CONSTANT_ENCAPSED_STRING","'backups'",99],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Get backup file extension by backup type\n     *\n     * @param string $type\n     * @return string\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","getExtensionByType",108],"(",["T_VARIABLE","$type",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$extensions",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getExtensions",110],"(",")",";",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_ISSET","isset",111],"(",["T_VARIABLE","$extensions",111],"[",["T_VARIABLE","$type",111],"]",")",["T_WHITESPACE"," ",111],"?",["T_WHITESPACE"," ",111],["T_VARIABLE","$extensions",111],"[",["T_VARIABLE","$type",111],"]",["T_WHITESPACE"," ",111],":",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Get all types to extensions map\n     *\n     * @return array\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getExtensions",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],"[",["T_WHITESPACE","\n            ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Backup",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Factory",122],["T_DOUBLE_COLON","::",122],["T_STRING","TYPE_SYSTEM_SNAPSHOT",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'tgz'",122],",",["T_WHITESPACE","\n            ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Framework",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Backup",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Factory",123],["T_DOUBLE_COLON","::",123],["T_STRING","TYPE_SNAPSHOT_WITHOUT_MEDIA",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'tgz'",123],",",["T_WHITESPACE","\n            ",123],["T_NS_SEPARATOR","\\",124],["T_STRING","Magento",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Framework",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Backup",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Factory",124],["T_DOUBLE_COLON","::",124],["T_STRING","TYPE_MEDIA",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'tgz'",124],",",["T_WHITESPACE","\n            ",124],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Framework",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Backup",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Factory",125],["T_DOUBLE_COLON","::",125],["T_STRING","TYPE_DB",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'sql'",125],["T_WHITESPACE","\n        ",125],"]",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Generate backup download name\n     *\n     * @param \\Magento\\Backup\\Model\\Backup $backup\n     * @return string\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","generateBackupDownloadName",135],"(",["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Backup",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Model",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Backup",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$backup",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$additionalExtension",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$backup",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getType",137],"(",")",["T_WHITESPACE"," ",137],["T_IS_EQUAL","==",137],["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Framework",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Backup",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Factory",137],["T_DOUBLE_COLON","::",137],["T_STRING","TYPE_DB",137],["T_WHITESPACE"," ",137],"?",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'.sql'",137],["T_WHITESPACE"," ",137],":",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","''",137],";",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$backup",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getTime",138],"(",")",["T_WHITESPACE"," ",138],".",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'_'",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$backup",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getType",140],"(",")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE","\n            ",140],["T_CONSTANT_ENCAPSED_STRING","'_'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$backup",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getName",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$additionalExtension",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'.'",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getExtensionByType",145],"(",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$backup",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getType",146],"(",")",["T_WHITESPACE","\n            ",146],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Check Permission for Rollback\n     *\n     * @return bool\n     *\/",150],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","isRollbackAllowed",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_authorization",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","isAllowed",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Backup::rollback'",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Get paths that should be ignored when creating system snapshots\n     *\n     * @return string[]\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getBackupIgnorePaths",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],"[",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'.git'",168],",",["T_WHITESPACE","\n            ",168],["T_CONSTANT_ENCAPSED_STRING","'.svn'",169],",",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_filesystem",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getDirectoryRead",170],"(",["T_STRING","MaintenanceMode",170],["T_DOUBLE_COLON","::",170],["T_STRING","FLAG_DIR",170],")",["T_WHITESPACE","\n                ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","getAbsolutePath",171],"(",["T_STRING","MaintenanceMode",171],["T_DOUBLE_COLON","::",171],["T_STRING","FLAG_FILENAME",171],")",",",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_filesystem",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getDirectoryRead",172],"(",["T_STRING","DirectoryList",172],["T_DOUBLE_COLON","::",172],["T_STRING","SESSION",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getAbsolutePath",172],"(",")",",",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_filesystem",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getDirectoryRead",173],"(",["T_STRING","DirectoryList",173],["T_DOUBLE_COLON","::",173],["T_STRING","CACHE",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","getAbsolutePath",173],"(",")",",",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_filesystem",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getDirectoryRead",174],"(",["T_STRING","DirectoryList",174],["T_DOUBLE_COLON","::",174],["T_STRING","LOG",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getAbsolutePath",174],"(",")",",",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_filesystem",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getDirectoryRead",175],"(",["T_STRING","DirectoryList",175],["T_DOUBLE_COLON","::",175],["T_STRING","VAR_DIR",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getAbsolutePath",175],"(",["T_CONSTANT_ENCAPSED_STRING","'full_page_cache'",175],")",",",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_filesystem",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getDirectoryRead",176],"(",["T_STRING","DirectoryList",176],["T_DOUBLE_COLON","::",176],["T_STRING","VAR_DIR",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getAbsolutePath",176],"(",["T_CONSTANT_ENCAPSED_STRING","'locks'",176],")",",",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_filesystem",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getDirectoryRead",177],"(",["T_STRING","DirectoryList",177],["T_DOUBLE_COLON","::",177],["T_STRING","VAR_DIR",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","getAbsolutePath",177],"(",["T_CONSTANT_ENCAPSED_STRING","'report'",177],")",",",["T_WHITESPACE","\n        ",177],"]",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Get paths that should be ignored when rolling back system snapshots\n     *\n     * @return string[]\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getRollbackIgnorePaths",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],"[",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'.svn'",189],",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'.git'",190],",",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_filesystem",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getDirectoryRead",191],"(",["T_STRING","MaintenanceMode",191],["T_DOUBLE_COLON","::",191],["T_STRING","FLAG_DIR",191],")",["T_WHITESPACE","\n                ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","getAbsolutePath",192],"(",["T_STRING","MaintenanceMode",192],["T_DOUBLE_COLON","::",192],["T_STRING","FLAG_FILENAME",192],")",",",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_filesystem",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getDirectoryRead",193],"(",["T_STRING","DirectoryList",193],["T_DOUBLE_COLON","::",193],["T_STRING","SESSION",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","getAbsolutePath",193],"(",")",",",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_filesystem",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getDirectoryRead",194],"(",["T_STRING","DirectoryList",194],["T_DOUBLE_COLON","::",194],["T_STRING","LOG",194],")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getAbsolutePath",194],"(",")",",",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_filesystem",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getDirectoryRead",195],"(",["T_STRING","DirectoryList",195],["T_DOUBLE_COLON","::",195],["T_STRING","VAR_DIR",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getAbsolutePath",195],"(",["T_CONSTANT_ENCAPSED_STRING","'locks'",195],")",",",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_filesystem",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getDirectoryRead",196],"(",["T_STRING","DirectoryList",196],["T_DOUBLE_COLON","::",196],["T_STRING","VAR_DIR",196],")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getAbsolutePath",196],"(",["T_CONSTANT_ENCAPSED_STRING","'report'",196],")",",",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_filesystem",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getDirectoryRead",197],"(",["T_STRING","DirectoryList",197],["T_DOUBLE_COLON","::",197],["T_STRING","ROOT",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getAbsolutePath",197],"(",["T_CONSTANT_ENCAPSED_STRING","'errors'",197],")",",",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_filesystem",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getDirectoryRead",198],"(",["T_STRING","DirectoryList",198],["T_DOUBLE_COLON","::",198],["T_STRING","ROOT",198],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getAbsolutePath",198],"(",["T_CONSTANT_ENCAPSED_STRING","'index.php'",198],")",",",["T_WHITESPACE","\n        ",198],"]",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Get backup create success message by backup type\n     *\n     * @param string $type\n     * @return void|string\n     *\/",202],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getCreateSuccessMessageByType",208],"(",["T_VARIABLE","$type",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$messagesMap",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[",["T_WHITESPACE","\n            ",210],["T_NS_SEPARATOR","\\",211],["T_STRING","Magento",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Framework",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Backup",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Factory",211],["T_DOUBLE_COLON","::",211],["T_STRING","TYPE_SYSTEM_SNAPSHOT",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_STRING","__",211],"(",["T_CONSTANT_ENCAPSED_STRING","'You created the system backup.'",211],")",",",["T_WHITESPACE","\n            ",211],["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Framework",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Backup",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Factory",212],["T_DOUBLE_COLON","::",212],["T_STRING","TYPE_SNAPSHOT_WITHOUT_MEDIA",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_STRING","__",212],"(",["T_WHITESPACE","\n                ",212],["T_CONSTANT_ENCAPSED_STRING","'You created the system backup (excluding media).'",213],["T_WHITESPACE","\n            ",213],")",",",["T_WHITESPACE","\n            ",214],["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Framework",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Backup",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Factory",215],["T_DOUBLE_COLON","::",215],["T_STRING","TYPE_MEDIA",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_STRING","__",215],"(",["T_CONSTANT_ENCAPSED_STRING","'You created the database and media backup.'",215],")",",",["T_WHITESPACE","\n            ",215],["T_NS_SEPARATOR","\\",216],["T_STRING","Magento",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Framework",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Backup",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Factory",216],["T_DOUBLE_COLON","::",216],["T_STRING","TYPE_DB",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_STRING","__",216],"(",["T_CONSTANT_ENCAPSED_STRING","'You created the database backup.'",216],")",",",["T_WHITESPACE","\n        ",216],"]",";",["T_WHITESPACE","\n\n        ",217],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_ISSET","isset",219],"(",["T_VARIABLE","$messagesMap",219],"[",["T_VARIABLE","$type",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_RETURN","return",220],";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n\n        ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$messagesMap",223],"[",["T_VARIABLE","$type",223],"]",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Invalidate Cache\n     *\n     * @return $this\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","invalidateCache",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$cacheTypes",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_cacheConfig",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getTypes",233],"(",")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$cacheTypesList",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","array_keys",234],"(",["T_VARIABLE","$cacheTypes",234],")",";",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_cacheTypeList",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","invalidate",235],"(",["T_VARIABLE","$cacheTypesList",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n        ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Creates backup's display name from it's name\n     *\n     * @param string $name\n     * @return string\n     *\/",240],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","nameToDisplayName",246],"(",["T_VARIABLE","$name",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_STRING","str_replace",248],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","' '",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$name",248],")",";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Extracts information from backup's filename\n     *\n     * @param string $filename\n     * @return \\Magento\\Framework\\DataObject\n     *\/",251],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","extractDataFromFilename",257],"(",["T_VARIABLE","$filename",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$extensions",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getExtensions",259],"(",")",";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$filenameWithoutExtension",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$filename",261],";",["T_WHITESPACE","\n\n        ",261],["T_FOREACH","foreach",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$extensions",263],["T_WHITESPACE"," ",263],["T_AS","as",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$extension",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$filenameWithoutExtension",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","preg_replace",264],"(",["T_WHITESPACE","\n                ",264],["T_CONSTANT_ENCAPSED_STRING","'\/'",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_STRING","preg_quote",265],"(",["T_VARIABLE","$extension",265],",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'\/'",265],")",["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'$\/'",265],",",["T_WHITESPACE","\n                ",265],["T_CONSTANT_ENCAPSED_STRING","''",266],",",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$filenameWithoutExtension",267],["T_WHITESPACE","\n            ",267],")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$filenameWithoutExtension",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","substr",271],"(",["T_VARIABLE","$filenameWithoutExtension",271],",",["T_WHITESPACE"," ",271],["T_LNUMBER","0",271],",",["T_WHITESPACE"," ",271],["T_STRING","strrpos",271],"(",["T_VARIABLE","$filenameWithoutExtension",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","\".\"",271],")",")",";",["T_WHITESPACE","\n\n        ",271],["T_LIST","list",273],"(",["T_VARIABLE","$time",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$type",273],")",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","explode",273],"(",["T_CONSTANT_ENCAPSED_STRING","\"_\"",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$filenameWithoutExtension",273],")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$name",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING","str_replace",275],"(",["T_VARIABLE","$time",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'_'",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_VARIABLE","$type",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","''",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$filenameWithoutExtension",275],")",";",["T_WHITESPACE","\n\n        ",275],["T_IF","if",277],["T_WHITESPACE"," ",277],"(","!",["T_EMPTY","empty",277],"(",["T_VARIABLE","$name",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$name",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","substr",278],"(",["T_VARIABLE","$name",278],",",["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n\n        ",279],["T_VARIABLE","$result",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Magento",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Framework",281],["T_NS_SEPARATOR","\\",281],["T_STRING","DataObject",281],"(",")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$result",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","addData",282],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$name",282],",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'type'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$type",282],",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'time'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$time",282],"]",")",";",["T_WHITESPACE","\n\n        ",282],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$result",284],";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n",285],"}",["T_WHITESPACE","\n",286]]