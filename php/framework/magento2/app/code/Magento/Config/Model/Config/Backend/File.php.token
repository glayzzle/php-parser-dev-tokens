[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backend",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ScopeConfigInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DirectoryList",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Filesystem",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MediaStorage",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","File",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Uploader",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * System config file field backend model\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n *\/",13],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","File",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","App",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Config",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Value",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Config\\Model\\Config\\Backend\\File\\RequestData\\RequestDataInterface\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_requestData",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Upload max file size in kilobytes\n     *\n     * @var int\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_maxFileSize",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_LNUMBER","0",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var Filesystem\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_filesystem",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_mediaDirectory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\UploaderFactory\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_uploaderFactory",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     * @param \\Magento\\Framework\\App\\Cache\\TypeListInterface $cacheTypeList\n     * @param \\Magento\\MediaStorage\\Model\\File\\UploaderFactory $uploaderFactory\n     * @param \\Magento\\Config\\Model\\Config\\Backend\\File\\RequestData\\RequestDataInterface $requestData\n     * @param Filesystem $filesystem\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     *\/",48],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","__construct",60],"(",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Context",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$context",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Registry",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$registry",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","App",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Config",63],["T_NS_SEPARATOR","\\",63],["T_STRING","ScopeConfigInterface",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$config",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","App",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Cache",64],["T_NS_SEPARATOR","\\",64],["T_STRING","TypeListInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$cacheTypeList",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","MediaStorage",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","File",65],["T_NS_SEPARATOR","\\",65],["T_STRING","UploaderFactory",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$uploaderFactory",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Config",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Config",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Backend",66],["T_NS_SEPARATOR","\\",66],["T_STRING","File",66],["T_NS_SEPARATOR","\\",66],["T_STRING","RequestData",66],["T_NS_SEPARATOR","\\",66],["T_STRING","RequestDataInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$requestData",66],",",["T_WHITESPACE","\n        ",66],["T_STRING","Filesystem",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$filesystem",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","ResourceModel",68],["T_NS_SEPARATOR","\\",68],["T_STRING","AbstractResource",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$resource",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Data",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Collection",69],["T_NS_SEPARATOR","\\",69],["T_STRING","AbstractDb",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$resourceCollection",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","null",69],",",["T_WHITESPACE","\n        ",69],["T_ARRAY","array",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$data",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[","]",["T_WHITESPACE","\n    ",70],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_uploaderFactory",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$uploaderFactory",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_requestData",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$requestData",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_filesystem",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$filesystem",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_mediaDirectory",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$filesystem",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getDirectoryWrite",75],"(",["T_STRING","DirectoryList",75],["T_DOUBLE_COLON","::",75],["T_STRING","MEDIA",75],")",";",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","__construct",76],"(",["T_VARIABLE","$context",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$registry",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$config",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$cacheTypeList",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$resource",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$resourceCollection",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$data",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Save uploaded file before saving config value\n     *\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",79],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","beforeSave",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$value",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getValue",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$file",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getFileData",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_EMPTY","empty",89],"(",["T_VARIABLE","$file",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$uploadDir",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_getUploadDir",90],"(",")",";",["T_WHITESPACE","\n            ",90],["T_TRY","try",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_DOC_COMMENT","\/** @var Uploader $uploader *\/",92],["T_WHITESPACE","\n                ",92],["T_VARIABLE","$uploader",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_uploaderFactory",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","create",93],"(","[",["T_CONSTANT_ENCAPSED_STRING","'fileId'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$file",93],"]",")",";",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$uploader",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setAllowedExtensions",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_getAllowedExtensions",94],"(",")",")",";",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$uploader",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setAllowRenameFiles",95],"(",["T_STRING","true",95],")",";",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$uploader",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addValidateCallback",96],"(",["T_CONSTANT_ENCAPSED_STRING","'size'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'validateMaxSize'",96],")",";",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$result",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$uploader",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",["T_VARIABLE","$uploadDir",97],")",";",["T_WHITESPACE","\n            ",97],"}",["T_WHITESPACE"," ",98],["T_CATCH","catch",98],["T_WHITESPACE"," ",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Exception",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$e",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_THROW","throw",99],["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Exception",99],["T_NS_SEPARATOR","\\",99],["T_STRING","LocalizedException",99],"(",["T_STRING","__",99],"(",["T_CONSTANT_ENCAPSED_STRING","'%1'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$e",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMessage",99],"(",")",")",")",";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n\n            ",100],["T_VARIABLE","$filename",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$result",102],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",102],"]",";",["T_WHITESPACE","\n            ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$filename",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_addWhetherScopeInfo",104],"(",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                    ",104],["T_VARIABLE","$filename",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_prependScopeInfo",105],"(",["T_VARIABLE","$filename",105],")",";",["T_WHITESPACE","\n                ",105],"}",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setValue",107],"(",["T_VARIABLE","$filename",107],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE"," ",109],["T_ELSE","else",109],["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","is_array",110],"(",["T_VARIABLE","$value",110],")",["T_WHITESPACE"," ",110],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],"!",["T_EMPTY","empty",110],"(",["T_VARIABLE","$value",110],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",110],"]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setValue",111],"(",["T_CONSTANT_ENCAPSED_STRING","''",111],")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE"," ",112],["T_ELSE","else",112],["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","unsValue",113],"(",")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n\n        ",115],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Receiving uploaded file data\n     *\n     * @return array\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getFileData",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$file",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],"[","]",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$value",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getValue",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$tmpName",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_requestData",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getTmpName",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getPath",129],"(",")",")",";",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$tmpName",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$file",131],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$tmpName",131],";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$file",132],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_requestData",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getName",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getPath",132],"(",")",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE"," ",133],["T_ELSEIF","elseif",133],["T_WHITESPACE"," ",133],"(","!",["T_EMPTY","empty",133],"(",["T_VARIABLE","$value",133],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$file",134],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$value",134],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",134],"]",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$file",135],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ISSET","isset",135],"(",["T_VARIABLE","$value",135],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",135],"]",")",["T_WHITESPACE"," ",135],"?",["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",135],"]",["T_WHITESPACE"," ",135],":",["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",135],"]",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n\n        ",136],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$file",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Validation callback for checking max file size\n     *\n     * @param  string $filePath Path to temporary uploaded file\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",141],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","validateMaxSize",148],"(",["T_VARIABLE","$filePath",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$directory",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_filesystem",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getDirectoryRead",150],"(",["T_STRING","DirectoryList",150],["T_DOUBLE_COLON","::",150],["T_STRING","SYS_TMP",150],")",";",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_maxFileSize",151],["T_WHITESPACE"," ",151],">",["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$directory",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","stat",151],"(",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$directory",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getRelativePath",152],"(",["T_VARIABLE","$filePath",152],")",["T_WHITESPACE","\n        ",152],")","[",["T_CONSTANT_ENCAPSED_STRING","'size'",153],"]",["T_WHITESPACE"," ",153],">",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_maxFileSize",153],["T_WHITESPACE"," ",153],"*",["T_WHITESPACE"," ",153],["T_LNUMBER","1024",153],["T_WHITESPACE","\n        ",153],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_THROW","throw",155],["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Magento",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Framework",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Exception",155],["T_NS_SEPARATOR","\\",155],["T_STRING","LocalizedException",155],"(",["T_WHITESPACE","\n                ",155],["T_STRING","__",156],"(",["T_CONSTANT_ENCAPSED_STRING","'The file you\\'re uploading exceeds the server size limit of %1 kilobytes.'",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_maxFileSize",156],")",["T_WHITESPACE","\n            ",156],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Makes a decision about whether to add info about the scope.\n     *\n     * @return boolean\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PROTECTED","protected",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","_addWhetherScopeInfo",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$fieldConfig",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getFieldConfig",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$dirParams",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","array_key_exists",169],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$fieldConfig",169],")",["T_WHITESPACE"," ",169],"?",["T_WHITESPACE"," ",169],["T_VARIABLE","$fieldConfig",169],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",169],"]",["T_WHITESPACE"," ",169],":",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","is_array",170],"(",["T_VARIABLE","$dirParams",170],")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],["T_STRING","array_key_exists",170],"(",["T_CONSTANT_ENCAPSED_STRING","'scope_info'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$dirParams",170],")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$dirParams",170],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_info'",170],"]",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Return path to directory for upload file\n     *\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",173],["T_WHITESPACE","\n    ",178],["T_PROTECTED","protected",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","_getUploadDir",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$fieldConfig",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getFieldConfig",181],"(",")",";",["T_WHITESPACE","\n\n        ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_STRING","array_key_exists",183],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$fieldConfig",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_THROW","throw",184],["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Exception",184],["T_NS_SEPARATOR","\\",184],["T_STRING","LocalizedException",184],"(",["T_WHITESPACE","\n                ",184],["T_STRING","__",185],"(",["T_CONSTANT_ENCAPSED_STRING","'The base directory to upload file is not specified.'",185],")",["T_WHITESPACE","\n            ",185],")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","is_array",189],"(",["T_VARIABLE","$fieldConfig",189],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",189],"]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$uploadDir",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$fieldConfig",190],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",190],"]",";",["T_WHITESPACE","\n            ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_WHITESPACE","\n                ",191],["T_STRING","array_key_exists",192],"(",["T_CONSTANT_ENCAPSED_STRING","'scope_info'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$fieldConfig",192],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",192],"]",")",["T_WHITESPACE","\n                ",192],["T_BOOLEAN_AND","&&",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$fieldConfig",193],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",193],"]","[",["T_CONSTANT_ENCAPSED_STRING","'scope_info'",193],"]",["T_WHITESPACE","\n            ",193],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$uploadDir",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_appendScopeInfo",195],"(",["T_VARIABLE","$uploadDir",195],")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n\n            ",196],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_STRING","array_key_exists",198],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$fieldConfig",198],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",198],"]",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_VARIABLE","$uploadDir",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getUploadDirPath",199],"(",["T_VARIABLE","$uploadDir",199],")",";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSE","else",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$uploadDir",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING_CAST","(string)",202],["T_VARIABLE","$fieldConfig",202],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",202],"]",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n\n        ",203],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$uploadDir",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Retrieve upload directory path\n     *\n     * @param string $uploadDir\n     * @return string\n     *\/",208],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","getUploadDirPath",214],"(",["T_VARIABLE","$uploadDir",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_mediaDirectory",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getAbsolutePath",216],"(",["T_VARIABLE","$uploadDir",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Prepend path with scope info\n     *\n     * E.g. 'stores\/2\/path' , 'websites\/3\/path', 'default\/path'\n     *\n     * @param string $path\n     * @return string\n     *\/",219],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","_prependScopeInfo",227],"(",["T_VARIABLE","$path",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$scopeInfo",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getScope",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_STRING","ScopeConfigInterface",230],["T_DOUBLE_COLON","::",230],["T_STRING","SCOPE_TYPE_DEFAULT",230],["T_WHITESPACE"," ",230],["T_IS_NOT_EQUAL","!=",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getScope",230],"(",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$scopeInfo",231],["T_WHITESPACE"," ",231],["T_CONCAT_EQUAL",".=",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'\/'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getScopeId",231],"(",")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$scopeInfo",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'\/'",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_VARIABLE","$path",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Add scope info to path\n     *\n     * E.g. 'path\/stores\/2' , 'path\/websites\/3', 'path\/default'\n     *\n     * @param string $path\n     * @return string\n     *\/",236],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","_appendScopeInfo",244],"(",["T_VARIABLE","$path",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$path",246],["T_WHITESPACE"," ",246],["T_CONCAT_EQUAL",".=",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'\/'",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getScope",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_STRING","ScopeConfigInterface",247],["T_DOUBLE_COLON","::",247],["T_STRING","SCOPE_TYPE_DEFAULT",247],["T_WHITESPACE"," ",247],["T_IS_NOT_EQUAL","!=",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getScope",247],"(",")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$path",248],["T_WHITESPACE"," ",248],["T_CONCAT_EQUAL",".=",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'\/'",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getScopeId",248],"(",")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$path",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Getter for allowed extensions of uploaded files\n     *\n     * @return array\n     *\/",253],["T_WHITESPACE","\n    ",257],["T_PROTECTED","protected",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","_getAllowedExtensions",258],"(",")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],"[","]",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n",261],"}",["T_WHITESPACE","\n",262]]