[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ProductAlert",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * ProductAlert Email processor\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Email",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractModel",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","XML_PATH_EMAIL_PRICE_TEMPLATE",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'catalog\/productalert\/email_price_template'",16],";",["T_WHITESPACE","\n\n    ",16],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","XML_PATH_EMAIL_STOCK_TEMPLATE",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'catalog\/productalert\/email_stock_template'",18],";",["T_WHITESPACE","\n\n    ",18],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","XML_PATH_EMAIL_IDENTITY",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'catalog\/productalert\/email_identity'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Type\n     *\n     * @var string\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_type",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'price'",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Website Model\n     *\n     * @var \\Magento\\Store\\Model\\Website\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_website",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Customer model\n     *\n     * @var \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_customer",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Products collection where changed price\n     *\n     * @var array\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_priceProducts",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Product collection which of back in stock\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_stockProducts",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Price block\n     *\n     * @var \\Magento\\ProductAlert\\Block\\Email\\Price\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_priceBlock",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Stock block\n     *\n     * @var \\Magento\\ProductAlert\\Block\\Email\\Stock\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_stockBlock",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Product alert data\n     *\n     * @var \\Magento\\ProductAlert\\Helper\\Data\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_productAlertData",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","null",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_scopeConfig",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_storeManager",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$customerRepository",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\App\\Emulation\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_appEmulation",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Mail\\Template\\TransportBuilder\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$_transportBuilder",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Helper\\View\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_customerHelper",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\ProductAlert\\Helper\\Data $productAlertData\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerRepository\n     * @param \\Magento\\Customer\\Helper\\View $customerHelper\n     * @param \\Magento\\Store\\Model\\App\\Emulation $appEmulation\n     * @param \\Magento\\Framework\\Mail\\Template\\TransportBuilder $transportBuilder\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",110],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","__construct",125],"(",["T_WHITESPACE","\n        ",125],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Model",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Context",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$context",126],",",["T_WHITESPACE","\n        ",126],["T_NS_SEPARATOR","\\",127],["T_STRING","Magento",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Framework",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Registry",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$registry",127],",",["T_WHITESPACE","\n        ",127],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","ProductAlert",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Helper",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Data",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$productAlertData",128],",",["T_WHITESPACE","\n        ",128],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Framework",129],["T_NS_SEPARATOR","\\",129],["T_STRING","App",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Config",129],["T_NS_SEPARATOR","\\",129],["T_STRING","ScopeConfigInterface",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$scopeConfig",129],",",["T_WHITESPACE","\n        ",129],["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Store",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Model",130],["T_NS_SEPARATOR","\\",130],["T_STRING","StoreManagerInterface",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$storeManager",130],",",["T_WHITESPACE","\n        ",130],["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Customer",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Api",131],["T_NS_SEPARATOR","\\",131],["T_STRING","CustomerRepositoryInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$customerRepository",131],",",["T_WHITESPACE","\n        ",131],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Customer",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Helper",132],["T_NS_SEPARATOR","\\",132],["T_STRING","View",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$customerHelper",132],",",["T_WHITESPACE","\n        ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Store",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Model",133],["T_NS_SEPARATOR","\\",133],["T_STRING","App",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Emulation",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$appEmulation",133],",",["T_WHITESPACE","\n        ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Framework",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Mail",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Template",134],["T_NS_SEPARATOR","\\",134],["T_STRING","TransportBuilder",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$transportBuilder",134],",",["T_WHITESPACE","\n        ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Framework",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Model",135],["T_NS_SEPARATOR","\\",135],["T_STRING","ResourceModel",135],["T_NS_SEPARATOR","\\",135],["T_STRING","AbstractResource",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$resource",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","null",135],",",["T_WHITESPACE","\n        ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Data",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Collection",136],["T_NS_SEPARATOR","\\",136],["T_STRING","AbstractDb",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$resourceCollection",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","null",136],",",["T_WHITESPACE","\n        ",136],["T_ARRAY","array",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[","]",["T_WHITESPACE","\n    ",137],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_productAlertData",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$productAlertData",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_scopeConfig",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$scopeConfig",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_storeManager",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$storeManager",141],";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","customerRepository",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$customerRepository",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_appEmulation",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$appEmulation",143],";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_transportBuilder",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$transportBuilder",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_customerHelper",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$customerHelper",145],";",["T_WHITESPACE","\n        ",145],["T_STRING","parent",146],["T_DOUBLE_COLON","::",146],["T_STRING","__construct",146],"(",["T_VARIABLE","$context",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$registry",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$resource",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$resourceCollection",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$data",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Set model type\n     *\n     * @param string $type\n     * @return void\n     *\/",149],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","setType",155],"(",["T_VARIABLE","$type",155],")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_type",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$type",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Retrieve model type\n     *\n     * @return string\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getType",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_type",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Set website model\n     *\n     * @param \\Magento\\Store\\Model\\Website $website\n     * @return $this\n     *\/",170],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","setWebsite",176],"(",["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Store",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Website",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$website",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_website",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$website",178],";",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Set website id\n     *\n     * @param int $websiteId\n     * @return $this\n     *\/",182],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","setWebsiteId",188],"(",["T_VARIABLE","$websiteId",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_website",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_storeManager",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getWebsite",190],"(",["T_VARIABLE","$websiteId",190],")",";",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Set customer by id\n     *\n     * @param int $customerId\n     * @return $this\n     *\/",194],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","setCustomerId",200],"(",["T_VARIABLE","$customerId",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_customer",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","customerRepository",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getById",202],"(",["T_VARIABLE","$customerId",202],")",";",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Set customer model\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @return $this\n     *\/",206],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","setCustomerData",212],"(",["T_VARIABLE","$customer",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_customer",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$customer",214],";",["T_WHITESPACE","\n        ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Clean data\n     *\n     * @return $this\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","clean",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_customer",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","null",225],";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_priceProducts",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],"[","]",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_stockProducts",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[","]",";",["T_WHITESPACE","\n\n        ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Add product (price change) to collection\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","addPriceProduct",238],"(",["T_NS_SEPARATOR","\\",238],["T_STRING","Magento",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Catalog",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Model",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Product",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$product",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_priceProducts",240],"[",["T_VARIABLE","$product",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getId",240],"(",")","]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$product",240],";",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Add product (back in stock) to collection\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",244],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","addStockProduct",250],"(",["T_NS_SEPARATOR","\\",250],["T_STRING","Magento",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Catalog",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Model",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Product",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$product",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_stockProducts",252],"[",["T_VARIABLE","$product",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getId",252],"(",")","]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$product",252],";",["T_WHITESPACE","\n        ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Retrieve price block\n     *\n     * @return \\Magento\\ProductAlert\\Block\\Email\\Price\n     *\/",256],["T_WHITESPACE","\n    ",260],["T_PROTECTED","protected",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","_getPriceBlock",261],"(",")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_priceBlock",263],["T_WHITESPACE"," ",263],["T_IS_IDENTICAL","===",263],["T_WHITESPACE"," ",263],["T_STRING","null",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_priceBlock",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_productAlertData",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","createBlock",264],"(",["T_NS_SEPARATOR","\\",264],["T_STRING","Magento",264],["T_NS_SEPARATOR","\\",264],["T_STRING","ProductAlert",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Block",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Email",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Price",264],["T_DOUBLE_COLON","::",264],["T_CLASS","class",264],")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_priceBlock",266],";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Retrieve stock block\n     *\n     * @return \\Magento\\ProductAlert\\Block\\Email\\Stock\n     *\/",269],["T_WHITESPACE","\n    ",273],["T_PROTECTED","protected",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","_getStockBlock",274],"(",")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_stockBlock",276],["T_WHITESPACE"," ",276],["T_IS_IDENTICAL","===",276],["T_WHITESPACE"," ",276],["T_STRING","null",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_stockBlock",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_productAlertData",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","createBlock",277],"(",["T_NS_SEPARATOR","\\",277],["T_STRING","Magento",277],["T_NS_SEPARATOR","\\",277],["T_STRING","ProductAlert",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Block",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Email",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Stock",277],["T_DOUBLE_COLON","::",277],["T_CLASS","class",277],")",";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_stockBlock",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Send customer email\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",282],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","send",290],"(",")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","_website",292],["T_WHITESPACE"," ",292],["T_IS_IDENTICAL","===",292],["T_WHITESPACE"," ",292],["T_STRING","null",292],["T_WHITESPACE"," ",292],["T_BOOLEAN_OR","||",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","_customer",292],["T_WHITESPACE"," ",292],["T_IS_IDENTICAL","===",292],["T_WHITESPACE"," ",292],["T_STRING","null",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_STRING","false",293],";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n        ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_type",295],["T_WHITESPACE"," ",295],["T_IS_EQUAL","==",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'price'",295],["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],["T_STRING","count",295],"(",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_priceProducts",296],["T_WHITESPACE","\n        ",296],")",["T_WHITESPACE"," ",297],["T_IS_EQUAL","==",297],["T_WHITESPACE"," ",297],["T_LNUMBER","0",297],["T_WHITESPACE"," ",297],["T_BOOLEAN_OR","||",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_type",297],["T_WHITESPACE"," ",297],["T_IS_EQUAL","==",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'stock'",297],["T_WHITESPACE"," ",297],["T_BOOLEAN_AND","&&",297],["T_WHITESPACE"," ",297],["T_STRING","count",297],"(",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_stockProducts",298],["T_WHITESPACE","\n        ",298],")",["T_WHITESPACE"," ",299],["T_IS_EQUAL","==",299],["T_WHITESPACE"," ",299],["T_LNUMBER","0",299],["T_WHITESPACE","\n        ",299],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_STRING","false",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n        ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(","!",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_website",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getDefaultGroup",303],"(",")",["T_WHITESPACE"," ",303],["T_BOOLEAN_OR","||",303],["T_WHITESPACE"," ",303],"!",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_website",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getDefaultGroup",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","getDefaultStore",303],"(",")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_STRING","false",304],";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_customer",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getStoreId",307],"(",")",["T_WHITESPACE"," ",307],">",["T_WHITESPACE"," ",307],["T_LNUMBER","0",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$store",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_storeManager",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getStore",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_customer",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getStoreId",308],"(",")",")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE"," ",309],["T_ELSE","else",309],["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$store",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_website",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getDefaultStore",310],"(",")",";",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$storeId",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$store",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getId",312],"(",")",";",["T_WHITESPACE","\n\n        ",312],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_type",314],["T_WHITESPACE"," ",314],["T_IS_EQUAL","==",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'price'",314],["T_WHITESPACE"," ",314],["T_BOOLEAN_AND","&&",314],["T_WHITESPACE"," ",314],"!",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_scopeConfig",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getValue",314],"(",["T_WHITESPACE","\n            ",314],["T_STRING","self",315],["T_DOUBLE_COLON","::",315],["T_STRING","XML_PATH_EMAIL_PRICE_TEMPLATE",315],",",["T_WHITESPACE","\n            ",315],["T_NS_SEPARATOR","\\",316],["T_STRING","Magento",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Store",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Model",316],["T_NS_SEPARATOR","\\",316],["T_STRING","ScopeInterface",316],["T_DOUBLE_COLON","::",316],["T_STRING","SCOPE_STORE",316],",",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$storeId",317],["T_WHITESPACE","\n        ",317],")",["T_WHITESPACE","\n        ",318],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_STRING","false",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE"," ",321],["T_ELSEIF","elseif",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_type",321],["T_WHITESPACE"," ",321],["T_IS_EQUAL","==",321],["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'stock'",321],["T_WHITESPACE"," ",321],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE"," ",321],"!",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_scopeConfig",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getValue",321],"(",["T_WHITESPACE","\n            ",321],["T_STRING","self",322],["T_DOUBLE_COLON","::",322],["T_STRING","XML_PATH_EMAIL_STOCK_TEMPLATE",322],",",["T_WHITESPACE","\n            ",322],["T_NS_SEPARATOR","\\",323],["T_STRING","Magento",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Store",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Model",323],["T_NS_SEPARATOR","\\",323],["T_STRING","ScopeInterface",323],["T_DOUBLE_COLON","::",323],["T_STRING","SCOPE_STORE",323],",",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$storeId",324],["T_WHITESPACE","\n        ",324],")",["T_WHITESPACE","\n        ",325],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_STRING","false",327],";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_type",330],["T_WHITESPACE"," ",330],["T_IS_NOT_EQUAL","!=",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'price'",330],["T_WHITESPACE"," ",330],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_type",330],["T_WHITESPACE"," ",330],["T_IS_NOT_EQUAL","!=",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'stock'",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_STRING","false",331],";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n\n        ",332],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_appEmulation",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","startEnvironmentEmulation",334],"(",["T_VARIABLE","$storeId",334],")",";",["T_WHITESPACE","\n\n        ",334],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_type",336],["T_WHITESPACE"," ",336],["T_IS_EQUAL","==",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'price'",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_getPriceBlock",337],"(",")",["T_OBJECT_OPERATOR","->",337],["T_STRING","setStore",337],"(",["T_VARIABLE","$store",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","reset",337],"(",")",";",["T_WHITESPACE","\n            ",337],["T_FOREACH","foreach",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_priceProducts",338],["T_WHITESPACE"," ",338],["T_AS","as",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$product",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$product",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","setCustomerGroupId",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_customer",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getGroupId",339],"(",")",")",";",["T_WHITESPACE","\n                ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_getPriceBlock",340],"(",")",["T_OBJECT_OPERATOR","->",340],["T_STRING","addProduct",340],"(",["T_VARIABLE","$product",340],")",";",["T_WHITESPACE","\n            ",340],"}",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$block",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_getPriceBlock",342],"(",")",";",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$templateId",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_scopeConfig",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getValue",343],"(",["T_WHITESPACE","\n                ",343],["T_STRING","self",344],["T_DOUBLE_COLON","::",344],["T_STRING","XML_PATH_EMAIL_PRICE_TEMPLATE",344],",",["T_WHITESPACE","\n                ",344],["T_NS_SEPARATOR","\\",345],["T_STRING","Magento",345],["T_NS_SEPARATOR","\\",345],["T_STRING","Store",345],["T_NS_SEPARATOR","\\",345],["T_STRING","Model",345],["T_NS_SEPARATOR","\\",345],["T_STRING","ScopeInterface",345],["T_DOUBLE_COLON","::",345],["T_STRING","SCOPE_STORE",345],",",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$storeId",346],["T_WHITESPACE","\n            ",346],")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE"," ",348],["T_ELSE","else",348],["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_getStockBlock",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","setStore",349],"(",["T_VARIABLE","$store",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","reset",349],"(",")",";",["T_WHITESPACE","\n            ",349],["T_FOREACH","foreach",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_stockProducts",350],["T_WHITESPACE"," ",350],["T_AS","as",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$product",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$product",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","setCustomerGroupId",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_customer",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getGroupId",351],"(",")",")",";",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_getStockBlock",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","addProduct",352],"(",["T_VARIABLE","$product",352],")",";",["T_WHITESPACE","\n            ",352],"}",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$block",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_getStockBlock",354],"(",")",";",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$templateId",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_scopeConfig",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getValue",355],"(",["T_WHITESPACE","\n                ",355],["T_STRING","self",356],["T_DOUBLE_COLON","::",356],["T_STRING","XML_PATH_EMAIL_STOCK_TEMPLATE",356],",",["T_WHITESPACE","\n                ",356],["T_NS_SEPARATOR","\\",357],["T_STRING","Magento",357],["T_NS_SEPARATOR","\\",357],["T_STRING","Store",357],["T_NS_SEPARATOR","\\",357],["T_STRING","Model",357],["T_NS_SEPARATOR","\\",357],["T_STRING","ScopeInterface",357],["T_DOUBLE_COLON","::",357],["T_STRING","SCOPE_STORE",357],",",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$storeId",358],["T_WHITESPACE","\n            ",358],")",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_VARIABLE","$alertGrid",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","_appState",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","emulateAreaCode",362],"(",["T_WHITESPACE","\n            ",362],["T_NS_SEPARATOR","\\",363],["T_STRING","Magento",363],["T_NS_SEPARATOR","\\",363],["T_STRING","Framework",363],["T_NS_SEPARATOR","\\",363],["T_STRING","App",363],["T_NS_SEPARATOR","\\",363],["T_STRING","Area",363],["T_DOUBLE_COLON","::",363],["T_STRING","AREA_FRONTEND",363],",",["T_WHITESPACE","\n            ",363],"[",["T_VARIABLE","$block",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'toHtml'",364],"]",["T_WHITESPACE","\n        ",364],")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_appEmulation",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","stopEnvironmentEmulation",366],"(",")",";",["T_WHITESPACE","\n\n        ",366],["T_VARIABLE","$transport",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_transportBuilder",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","setTemplateIdentifier",368],"(",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$templateId",369],["T_WHITESPACE","\n        ",369],")",["T_OBJECT_OPERATOR","->",370],["T_STRING","setTemplateOptions",370],"(",["T_WHITESPACE","\n            ",370],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_NS_SEPARATOR","\\",371],["T_STRING","Magento",371],["T_NS_SEPARATOR","\\",371],["T_STRING","Framework",371],["T_NS_SEPARATOR","\\",371],["T_STRING","App",371],["T_NS_SEPARATOR","\\",371],["T_STRING","Area",371],["T_DOUBLE_COLON","::",371],["T_STRING","AREA_FRONTEND",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'store'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$storeId",371],"]",["T_WHITESPACE","\n        ",371],")",["T_OBJECT_OPERATOR","->",372],["T_STRING","setTemplateVars",372],"(",["T_WHITESPACE","\n            ",372],"[",["T_WHITESPACE","\n                ",373],["T_CONSTANT_ENCAPSED_STRING","'customerName'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_customerHelper",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getCustomerName",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_customer",374],")",",",["T_WHITESPACE","\n                ",374],["T_CONSTANT_ENCAPSED_STRING","'alertGrid'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$alertGrid",375],",",["T_WHITESPACE","\n            ",375],"]",["T_WHITESPACE","\n        ",376],")",["T_OBJECT_OPERATOR","->",377],["T_STRING","setFrom",377],"(",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_scopeConfig",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getValue",378],"(",["T_WHITESPACE","\n                ",378],["T_STRING","self",379],["T_DOUBLE_COLON","::",379],["T_STRING","XML_PATH_EMAIL_IDENTITY",379],",",["T_WHITESPACE","\n                ",379],["T_NS_SEPARATOR","\\",380],["T_STRING","Magento",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Store",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Model",380],["T_NS_SEPARATOR","\\",380],["T_STRING","ScopeInterface",380],["T_DOUBLE_COLON","::",380],["T_STRING","SCOPE_STORE",380],",",["T_WHITESPACE","\n                ",380],["T_VARIABLE","$storeId",381],["T_WHITESPACE","\n            ",381],")",["T_WHITESPACE","\n        ",382],")",["T_OBJECT_OPERATOR","->",383],["T_STRING","addTo",383],"(",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_customer",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getEmail",384],"(",")",",",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_customerHelper",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getCustomerName",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_customer",385],")",["T_WHITESPACE","\n        ",385],")",["T_OBJECT_OPERATOR","->",386],["T_STRING","getTransport",386],"(",")",";",["T_WHITESPACE","\n\n        ",386],["T_VARIABLE","$transport",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","sendMessage",388],"(",")",";",["T_WHITESPACE","\n\n        ",388],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_STRING","true",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n",391],"}",["T_WHITESPACE","\n",392]]