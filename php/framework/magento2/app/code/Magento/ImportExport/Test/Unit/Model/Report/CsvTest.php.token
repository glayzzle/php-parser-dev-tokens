[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Report",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","CsvTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Helper\\Report|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$reportHelperMock",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Export\\Adapter\\CsvFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$outputCsvFactoryMock",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Export\\Adapter\\Csv|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$outputCsvMock",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Import\\Source\\CsvFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$sourceCsvFactoryMock",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Export\\Adapter\\Csv|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$sourceCsvMock",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$filesystemMock",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Report\\Csv|\\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$csvModel",43],";",["T_WHITESPACE","\n\n    ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$objectManager",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","TestFramework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Unit",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Helper",47],["T_NS_SEPARATOR","\\",47],["T_STRING","ObjectManager",47],"(",["T_VARIABLE","$this",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","reportHelperMock",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ImportExport",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Helper",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Report",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],",",["T_WHITESPACE"," ",49],"[","]",",",["T_WHITESPACE"," ",49],"[","]",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE"," ",49],["T_STRING","false",49],")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","outputCsvFactoryMock",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMock",51],"(",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ImportExport",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Export",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Adapter",52],["T_NS_SEPARATOR","\\",52],["T_STRING","CsvFactory",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],",",["T_WHITESPACE","\n            ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",53],"]",",",["T_WHITESPACE","\n            ",53],"[","]",",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","''",55],",",["T_WHITESPACE","\n            ",55],["T_STRING","false",56],["T_WHITESPACE","\n        ",56],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","outputCsvMock",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","ImportExport",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Export",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Adapter",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Csv",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],",",["T_WHITESPACE"," ",58],"[","]",",",["T_WHITESPACE"," ",58],"[","]",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","''",58],",",["T_WHITESPACE"," ",58],["T_STRING","false",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","outputCsvFactoryMock",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","expects",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","any",59],"(",")",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","method",59],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","willReturn",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","outputCsvMock",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","sourceCsvFactoryMock",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMock",61],"(",["T_WHITESPACE","\n            ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","ImportExport",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Import",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Source",62],["T_NS_SEPARATOR","\\",62],["T_STRING","CsvFactory",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],",",["T_WHITESPACE","\n            ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",63],"]",",",["T_WHITESPACE","\n            ",63],"[","]",",",["T_WHITESPACE","\n            ",64],["T_CONSTANT_ENCAPSED_STRING","''",65],",",["T_WHITESPACE","\n            ",65],["T_STRING","false",66],["T_WHITESPACE","\n        ",66],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","sourceCsvMock",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMock",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","ImportExport",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Import",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Source",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Csv",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],",",["T_WHITESPACE"," ",68],"[","]",",",["T_WHITESPACE"," ",68],"[","]",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE"," ",68],["T_STRING","false",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","sourceCsvMock",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","expects",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","any",69],"(",")",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'valid'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","willReturnOnConsecutiveCalls",69],"(",["T_STRING","true",69],",",["T_WHITESPACE"," ",69],["T_STRING","true",69],",",["T_WHITESPACE"," ",69],["T_STRING","false",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","sourceCsvMock",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","any",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'current'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","willReturnOnConsecutiveCalls",70],"(",["T_WHITESPACE","\n            ",70],"[",["T_LNUMBER","23",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'first error'",71],"]",",",["T_WHITESPACE","\n            ",71],"[",["T_LNUMBER","27",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'second error'",72],"]",["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","sourceCsvFactoryMock",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","any",74],"(",")",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","sourceCsvMock",74],")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","filesystemMock",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getMock",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Filesystem",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],",",["T_WHITESPACE"," ",76],"[","]",",",["T_WHITESPACE"," ",76],"[","]",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],",",["T_WHITESPACE"," ",76],["T_STRING","false",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","csvModel",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getObject",78],"(",["T_WHITESPACE","\n            ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","ImportExport",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Report",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Csv",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],",",["T_WHITESPACE","\n            ",79],"[",["T_WHITESPACE","\n                ",80],["T_CONSTANT_ENCAPSED_STRING","'reportHelper'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","reportHelperMock",81],",",["T_WHITESPACE","\n                ",81],["T_CONSTANT_ENCAPSED_STRING","'sourceCsvFactory'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","sourceCsvFactoryMock",82],",",["T_WHITESPACE","\n                ",82],["T_CONSTANT_ENCAPSED_STRING","'outputCsvFactory'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","outputCsvFactoryMock",83],",",["T_WHITESPACE","\n                ",83],["T_CONSTANT_ENCAPSED_STRING","'filesystem'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","filesystemMock",84],["T_WHITESPACE","\n            ",84],"]",["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testCreateReport",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$errorAggregatorMock",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMock",91],"(",["T_WHITESPACE","\n            ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ImportExport",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Model",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Import",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ErrorProcessing",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ProcessingErrorAggregator",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],",",["T_WHITESPACE","\n            ",92],"[","]",",",["T_WHITESPACE","\n            ",93],"[","]",",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","''",95],",",["T_WHITESPACE","\n            ",95],["T_STRING","false",96],["T_WHITESPACE","\n        ",96],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$errorProcessingMock",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",["T_WHITESPACE","\n            ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ImportExport",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Import",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ErrorProcessing",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],",",["T_WHITESPACE","\n            ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'getErrorMessage'",100],"]",",",["T_WHITESPACE","\n            ",100],"[","]",",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE","\n            ",102],["T_STRING","false",103],["T_WHITESPACE","\n        ",103],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$errorProcessingMock",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","expects",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","any",105],"(",")",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","method",105],"(",["T_CONSTANT_ENCAPSED_STRING","'getErrorMessage'",105],")",["T_OBJECT_OPERATOR","->",105],["T_STRING","willReturn",105],"(",["T_CONSTANT_ENCAPSED_STRING","'some_error_message'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$errorAggregatorMock",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","any",106],"(",")",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","method",106],"(",["T_CONSTANT_ENCAPSED_STRING","'getErrorByRowNumber'",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","willReturn",106],"(","[",["T_VARIABLE","$errorProcessingMock",106],"]",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","sourceCsvMock",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","expects",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","any",107],"(",")",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'getColNames'",107],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","willReturn",107],"(","[","]",")",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$name",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","csvModel",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","createReport",109],"(",["T_CONSTANT_ENCAPSED_STRING","'some_file_name'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$errorAggregatorMock",109],",",["T_WHITESPACE"," ",109],["T_STRING","true",109],")",";",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEquals",111],"(",["T_VARIABLE","$name",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'some_file_name_error_report.csv'",111],")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]