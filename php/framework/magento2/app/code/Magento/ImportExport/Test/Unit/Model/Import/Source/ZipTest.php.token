[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ImportExport",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Import",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Source",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","ZipTest",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PHPUnit_Framework_TestCase",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\Write|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",11],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$directory",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Import\\Source\\Zip|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$zip",19],";",["T_WHITESPACE","\n\n    ",19],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","setUp",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","directory",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getMockBuilder",23],"(",["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Filesystem",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Directory",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Write",23],["T_DOUBLE_COLON","::",23],["T_CLASS","class",23],")",["T_WHITESPACE","\n            ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","disableOriginalConstructor",24],"(",")",["T_WHITESPACE","\n            ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","setMethods",25],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getRelativePath'",25],"]",")",["T_WHITESPACE","\n            ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMock",26],"(",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Test destination argument for the second getRelativePath after preg_replace.\n     *\n     * @depends testConstructorInternalCalls\n     * @dataProvider constructorFileDestinationMatchDataProvider\n     *\/",29],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testConstructorFileDestinationMatch",35],"(",["T_VARIABLE","$fileName",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$expectedfileName",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","directory",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","expects",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","at",37],"(",["T_LNUMBER","0",37],")",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","method",37],"(",["T_CONSTANT_ENCAPSED_STRING","'getRelativePath'",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","with",37],"(",["T_VARIABLE","$fileName",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","directory",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","expects",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","at",38],"(",["T_LNUMBER","1",38],")",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","method",38],"(",["T_CONSTANT_ENCAPSED_STRING","'getRelativePath'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","with",38],"(",["T_VARIABLE","$expectedfileName",38],")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_invokeConstructor",39],"(",["T_VARIABLE","$fileName",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","constructorFileDestinationMatchDataProvider",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],"[",["T_WHITESPACE","\n            ",44],"[",["T_WHITESPACE","\n                ",45],["T_CONSTANT_ENCAPSED_STRING","'$fileName'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'test_file.txt'",46],",",["T_WHITESPACE","\n                ",46],["T_CONSTANT_ENCAPSED_STRING","'$expectedfileName'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'test_file.txt'",47],",",["T_WHITESPACE","\n            ",47],"]",",",["T_WHITESPACE","\n            ",48],"[",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'$fileName'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'test_file.zip'",50],",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'$expectedfileName'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'test_file.csv'",51],",",["T_WHITESPACE","\n            ",51],"]",",",["T_WHITESPACE","\n            ",52],"[",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'$fileName'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'.ziptest_.zip.file.zip.ZIP'",54],",",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'$expectedfileName'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'.ziptest_.zip.file.zip.csv'",55],",",["T_WHITESPACE","\n            ",55],"]",["T_WHITESPACE","\n        ",56],"]",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Instantiate zip mock and invoke its constructor.\n     *\n     * @param string $fileName\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","_invokeConstructor",65],"(",["T_VARIABLE","$fileName",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_TRY","try",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","zip",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockBuilder",68],"(",["T_WHITESPACE","\n                ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","ImportExport",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Import",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Source",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Zip",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],["T_WHITESPACE","\n            ",69],")",["T_WHITESPACE","\n                ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","setConstructorArgs",71],"(",["T_WHITESPACE","\n                    ",71],"[",["T_WHITESPACE","\n                        ",72],["T_VARIABLE","$fileName",73],",",["T_WHITESPACE","\n                        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","directory",74],",",["T_WHITESPACE","\n                        ",74],"[","]",",",["T_WHITESPACE","\n                    ",75],"]",["T_WHITESPACE","\n                ",76],")",["T_WHITESPACE","\n                ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMock",78],"(",")",";",["T_WHITESPACE","\n\n            ",78],["T_VARIABLE","$reflectedClass",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","ReflectionClass",80],"(",["T_WHITESPACE","\n                ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ImportExport",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Model",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Import",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Source",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Zip",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],["T_WHITESPACE","\n            ",81],")",";",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$constructor",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$reflectedClass",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getConstructor",83],"(",")",";",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$constructor",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","invoke",84],"(",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","zip",85],",",["T_WHITESPACE","\n                ",85],"[",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$fileName",87],",",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","directory",88],",",["T_WHITESPACE","\n                ",88],"[","]",",",["T_WHITESPACE","\n                ",89],"]",["T_WHITESPACE","\n            ",90],")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE"," ",92],["T_CATCH","catch",92],["T_WHITESPACE"," ",92],"(",["T_NS_SEPARATOR","\\",92],["T_STRING","PHPUnit_Framework_Error",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$e",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_COMMENT","\/\/ Suppress any errors due to no control of Zip object dependency instantiation.\n",93],["T_WHITESPACE","        ",94],"}",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n",95],"}",["T_WHITESPACE","\n",96]]