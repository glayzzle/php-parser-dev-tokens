[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ImportExport",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HTTP",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adapter",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FileTransferFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ImportExport",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Import",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ErrorProcessing",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ProcessingError",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ImportExport",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Import",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ErrorProcessing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ProcessingErrorAggregatorInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Import model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\n * @method string getBehavior() getBehavior()\n * @method \\Magento\\ImportExport\\Model\\Import setEntity() setEntity(string $value)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","Import",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","ImportExport",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","AbstractModel",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/**#@+\n     * Import behaviors\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","BEHAVIOR_APPEND",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'append'",30],";",["T_WHITESPACE","\n\n    ",30],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","BEHAVIOR_ADD_UPDATE",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'add_update'",32],";",["T_WHITESPACE","\n\n    ",32],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","BEHAVIOR_REPLACE",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'replace'",34],";",["T_WHITESPACE","\n\n    ",34],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","BEHAVIOR_DELETE",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'delete'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","BEHAVIOR_CUSTOM",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'custom'",38],";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/**#@-*\/",40],["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/**#@+\n     * Form field names (and IDs)\n     *\/",42],["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Import source file.\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","FIELD_NAME_SOURCE_FILE",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'import_file'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Import image archive.\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","FIELD_NAME_IMG_ARCHIVE_FILE",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'import_image_archive'",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Import images file directory.\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","FIELD_NAME_IMG_FILE_DIR",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'import_images_file_dir'",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Allowed errors count field name\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","FIELD_NAME_ALLOWED_ERROR_COUNT",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'allowed_error_count'",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Validation startegt field name\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","FIELD_NAME_VALIDATION_STRATEGY",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'validation_strategy'",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Import field separator.\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_CONST","const",74],["T_WHITESPACE"," ",74],["T_STRING","FIELD_FIELD_SEPARATOR",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'_import_field_separator'",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Import multiple value separator.\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_CONST","const",79],["T_WHITESPACE"," ",79],["T_STRING","FIELD_FIELD_MULTIPLE_VALUE_SEPARATOR",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'_import_multiple_value_separator'",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Allow multiple values wrapping in double quotes for additional attributes.\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_CONST","const",84],["T_WHITESPACE"," ",84],["T_STRING","FIELDS_ENCLOSURE",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'fields_enclosure'",84],";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/**#@-*\/",86],["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * default delimiter for several values in one cell as default for FIELD_FIELD_MULTIPLE_VALUE_SEPARATOR\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_CONST","const",91],["T_WHITESPACE"," ",91],["T_STRING","DEFAULT_GLOBAL_MULTI_VALUE_SEPARATOR",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","','",91],";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/**#@+\n     * Import constants\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_CONST","const",96],["T_WHITESPACE"," ",96],["T_STRING","DEFAULT_SIZE",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_LNUMBER","50",96],";",["T_WHITESPACE","\n\n    ",96],["T_CONST","const",98],["T_WHITESPACE"," ",98],["T_STRING","MAX_IMPORT_CHUNKS",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_LNUMBER","4",98],";",["T_WHITESPACE","\n\n    ",98],["T_CONST","const",100],["T_WHITESPACE"," ",100],["T_STRING","IMPORT_HISTORY_DIR",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'import_history\/'",100],";",["T_WHITESPACE","\n\n    ",100],["T_CONST","const",102],["T_WHITESPACE"," ",102],["T_STRING","IMPORT_DIR",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'import\/'",102],";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/**#@-*\/",104],["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Entity adapter.\n     *\n     * @var \\Magento\\ImportExport\\Model\\Import\\Entity\\AbstractEntity\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$_entityAdapter",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Import export data\n     *\n     * @var \\Magento\\ImportExport\\Helper\\Data\n     *\/",113],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$_importExportData",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","null",118],";",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Import\\ConfigInterface\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$_importConfig",123],";",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Import\\Entity\\Factory\n     *\/",125],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_entityFactory",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\ResourceModel\\Import\\Data\n     *\/",130],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_importData",133],";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Export\\Adapter\\CsvFactory\n     *\/",135],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$_csvFactory",138],";",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\HTTP\\Adapter\\FileTransferFactory\n     *\/",140],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_httpFactory",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\UploaderFactory\n     *\/",145],["T_WHITESPACE","\n    ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$_uploaderFactory",148],";",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Indexer\\IndexerRegistry\n     *\/",150],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$indexerRegistry",153],";",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\ImportExport\\Model\\Source\\Import\\Behavior\\Factory\n     *\/",155],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$_behaviorFactory",158],";",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",160],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$_filesystem",163],";",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\ImportExport\\Helper\\Data $importExportData\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $coreConfig\n     * @param Import\\ConfigInterface $importConfig\n     * @param Import\\Entity\\Factory $entityFactory\n     * @param \\Magento\\ImportExport\\Model\\ResourceModel\\Import\\Data $importData\n     * @param Export\\Adapter\\CsvFactory $csvFactory\n     * @param FileTransferFactory $httpFactory\n     * @param \\Magento\\MediaStorage\\Model\\File\\UploaderFactory $uploaderFactory\n     * @param Source\\Import\\Behavior\\Factory $behaviorFactory\n     * @param \\Magento\\Framework\\Indexer\\IndexerRegistry $indexerRegistry\n     * @param History $importHistoryModel\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",165],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","__construct",183],"(",["T_WHITESPACE","\n        ",183],["T_NS_SEPARATOR","\\",184],["T_STRING","Psr",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Log",184],["T_NS_SEPARATOR","\\",184],["T_STRING","LoggerInterface",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$logger",184],",",["T_WHITESPACE","\n        ",184],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Framework",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Filesystem",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$filesystem",185],",",["T_WHITESPACE","\n        ",185],["T_NS_SEPARATOR","\\",186],["T_STRING","Magento",186],["T_NS_SEPARATOR","\\",186],["T_STRING","ImportExport",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Helper",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Data",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$importExportData",186],",",["T_WHITESPACE","\n        ",186],["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Framework",187],["T_NS_SEPARATOR","\\",187],["T_STRING","App",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Config",187],["T_NS_SEPARATOR","\\",187],["T_STRING","ScopeConfigInterface",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$coreConfig",187],",",["T_WHITESPACE","\n        ",187],["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","ImportExport",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Import",188],["T_NS_SEPARATOR","\\",188],["T_STRING","ConfigInterface",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$importConfig",188],",",["T_WHITESPACE","\n        ",188],["T_NS_SEPARATOR","\\",189],["T_STRING","Magento",189],["T_NS_SEPARATOR","\\",189],["T_STRING","ImportExport",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Model",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Import",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Entity",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Factory",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$entityFactory",189],",",["T_WHITESPACE","\n        ",189],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","ImportExport",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Model",190],["T_NS_SEPARATOR","\\",190],["T_STRING","ResourceModel",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Import",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Data",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$importData",190],",",["T_WHITESPACE","\n        ",190],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","ImportExport",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Model",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Export",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Adapter",191],["T_NS_SEPARATOR","\\",191],["T_STRING","CsvFactory",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$csvFactory",191],",",["T_WHITESPACE","\n        ",191],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","HTTP",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Adapter",192],["T_NS_SEPARATOR","\\",192],["T_STRING","FileTransferFactory",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$httpFactory",192],",",["T_WHITESPACE","\n        ",192],["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","MediaStorage",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Model",193],["T_NS_SEPARATOR","\\",193],["T_STRING","File",193],["T_NS_SEPARATOR","\\",193],["T_STRING","UploaderFactory",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$uploaderFactory",193],",",["T_WHITESPACE","\n        ",193],["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","ImportExport",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Model",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Source",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Import",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Behavior",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Factory",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$behaviorFactory",194],",",["T_WHITESPACE","\n        ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Framework",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Indexer",195],["T_NS_SEPARATOR","\\",195],["T_STRING","IndexerRegistry",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$indexerRegistry",195],",",["T_WHITESPACE","\n        ",195],["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","ImportExport",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Model",196],["T_NS_SEPARATOR","\\",196],["T_STRING","History",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$importHistoryModel",196],",",["T_WHITESPACE","\n        ",196],["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Framework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Stdlib",197],["T_NS_SEPARATOR","\\",197],["T_STRING","DateTime",197],["T_NS_SEPARATOR","\\",197],["T_STRING","DateTime",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$localeDate",197],",",["T_WHITESPACE","\n        ",197],["T_ARRAY","array",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$data",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[","]",["T_WHITESPACE","\n    ",198],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_importExportData",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$importExportData",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_coreConfig",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$coreConfig",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_importConfig",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$importConfig",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_entityFactory",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$entityFactory",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_importData",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$importData",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_csvFactory",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$csvFactory",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_httpFactory",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$httpFactory",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_uploaderFactory",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$uploaderFactory",207],";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","indexerRegistry",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$indexerRegistry",208],";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_behaviorFactory",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$behaviorFactory",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_filesystem",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$filesystem",210],";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","importHistoryModel",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$importHistoryModel",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","localeDate",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$localeDate",212],";",["T_WHITESPACE","\n        ",212],["T_STRING","parent",213],["T_DOUBLE_COLON","::",213],["T_STRING","__construct",213],"(",["T_VARIABLE","$logger",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$filesystem",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$data",213],")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Create instance of entity adapter and return it\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return \\Magento\\ImportExport\\Model\\Import\\Entity\\AbstractEntity|\\Magento\\ImportExport\\Model\\Import\\AbstractEntity\n     *\/",216],["T_WHITESPACE","\n    ",221],["T_PROTECTED","protected",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_getEntityAdapter",222],"(",")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n\n        ",223],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","!",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_entityAdapter",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$entities",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_importConfig",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getEntities",226],"(",")",";",["T_WHITESPACE","\n            ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_ISSET","isset",227],"(",["T_VARIABLE","$entities",227],"[",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getEntity",227],"(",")","]",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                ",227],["T_TRY","try",228],["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_entityAdapter",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_entityFactory",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","create",229],"(",["T_VARIABLE","$entities",229],"[",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getEntity",229],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'model'",229],"]",")",";",["T_WHITESPACE","\n                ",229],"}",["T_WHITESPACE"," ",230],["T_CATCH","catch",230],["T_WHITESPACE"," ",230],"(",["T_NS_SEPARATOR","\\",230],["T_STRING","Exception",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$e",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_logger",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","critical",231],"(",["T_VARIABLE","$e",231],")",";",["T_WHITESPACE","\n                    ",231],["T_THROW","throw",232],["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Magento",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Framework",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Exception",232],["T_NS_SEPARATOR","\\",232],["T_STRING","LocalizedException",232],"(",["T_WHITESPACE","\n                        ",232],["T_STRING","__",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a correct entity model.'",233],")",["T_WHITESPACE","\n                    ",233],")",";",["T_WHITESPACE","\n                ",234],"}",["T_WHITESPACE","\n                ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(","!",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_entityAdapter",236],["T_WHITESPACE"," ",236],["T_INSTANCEOF","instanceof",236],["T_WHITESPACE"," ",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","ImportExport",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Model",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Import",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Entity",236],["T_NS_SEPARATOR","\\",236],["T_STRING","AbstractEntity",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE","\n                    ",236],"!",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_entityAdapter",237],["T_WHITESPACE"," ",237],["T_INSTANCEOF","instanceof",237],["T_WHITESPACE"," ",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","ImportExport",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Model",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Import",237],["T_NS_SEPARATOR","\\",237],["T_STRING","AbstractEntity",237],["T_WHITESPACE","\n                ",237],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                    ",238],["T_THROW","throw",239],["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Framework",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Exception",239],["T_NS_SEPARATOR","\\",239],["T_STRING","LocalizedException",239],"(",["T_WHITESPACE","\n                        ",239],["T_STRING","__",240],"(",["T_WHITESPACE","\n                            ",240],["T_CONSTANT_ENCAPSED_STRING","'The entity adapter object must be an instance of %1 or %2.'",241],",",["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","ImportExport",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Model",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Import",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Entity",241],["T_NS_SEPARATOR","\\",241],["T_STRING","AbstractEntity",241],["T_DOUBLE_COLON","::",241],["T_CLASS","class",241],",",["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","ImportExport",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Model",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Import",241],["T_NS_SEPARATOR","\\",241],["T_STRING","AbstractEntity",241],["T_DOUBLE_COLON","::",241],["T_CLASS","class",241],["T_WHITESPACE","\n                        ",241],")",["T_WHITESPACE","\n                    ",242],")",";",["T_WHITESPACE","\n                ",243],"}",["T_WHITESPACE","\n\n                ",244],["T_COMMENT","\/\/ check for entity codes integrity\n",246],["T_WHITESPACE","                ",247],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getEntity",247],"(",")",["T_WHITESPACE"," ",247],["T_IS_NOT_EQUAL","!=",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_entityAdapter",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getEntityTypeCode",247],"(",")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                    ",247],["T_THROW","throw",248],["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Framework",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Exception",248],["T_NS_SEPARATOR","\\",248],["T_STRING","LocalizedException",248],"(",["T_WHITESPACE","\n                        ",248],["T_STRING","__",249],"(",["T_CONSTANT_ENCAPSED_STRING","'The input entity code is not equal to entity adapter code.'",249],")",["T_WHITESPACE","\n                    ",249],")",";",["T_WHITESPACE","\n                ",250],"}",["T_WHITESPACE","\n            ",251],"}",["T_WHITESPACE"," ",252],["T_ELSE","else",252],["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_THROW","throw",253],["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Magento",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Framework",253],["T_NS_SEPARATOR","\\",253],["T_STRING","Exception",253],["T_NS_SEPARATOR","\\",253],["T_STRING","LocalizedException",253],"(",["T_STRING","__",253],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a correct entity.'",253],")",")",";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_entityAdapter",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","setParameters",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getData",255],"(",")",")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_entityAdapter",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Returns source adapter object.\n     *\n     * @param string $sourceFile Full path to source file\n     * @return \\Magento\\ImportExport\\Model\\Import\\AbstractSource\n     *\/",260],["T_WHITESPACE","\n    ",265],["T_PROTECTED","protected",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","_getSourceAdapter",266],"(",["T_VARIABLE","$sourceFile",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Magento",268],["T_NS_SEPARATOR","\\",268],["T_STRING","ImportExport",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Model",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Import",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Adapter",268],["T_DOUBLE_COLON","::",268],["T_STRING","findAdapterFor",268],"(",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$sourceFile",269],",",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_filesystem",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getDirectoryWrite",270],"(",["T_STRING","DirectoryList",270],["T_DOUBLE_COLON","::",270],["T_STRING","ROOT",270],")",",",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getData",271],"(",["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","FIELD_FIELD_SEPARATOR",271],")",["T_WHITESPACE","\n        ",271],")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Return operation result messages\n     *\n     * @param ProcessingErrorAggregatorInterface $validationResult\n     * @return string[]\n     *\/",275],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","getOperationResultMessages",281],"(",["T_STRING","ProcessingErrorAggregatorInterface",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$validationResult",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$messages",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[","]",";",["T_WHITESPACE","\n        ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getProcessedRowsCount",284],"(",")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$validationResult",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getErrorsCount",285],"(",")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                ",285],["T_VARIABLE","$messages",286],"[","]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","__",286],"(",["T_CONSTANT_ENCAPSED_STRING","'Data validation failed. Please fix the following errors and upload the file again.'",286],")",";",["T_WHITESPACE","\n\n                ",286],["T_COMMENT","\/\/ errors info\n",288],["T_WHITESPACE","                ",289],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$validationResult",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getRowsGroupedByErrorCode",289],"(",")",["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$errorMessage",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$rows",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                    ",289],["T_VARIABLE","$error",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$errorMessage",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","' '",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_STRING","__",290],"(",["T_CONSTANT_ENCAPSED_STRING","'in row(s)'",290],")",["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","': '",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE"," ",290],["T_STRING","implode",290],"(",["T_CONSTANT_ENCAPSED_STRING","', '",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$rows",290],")",";",["T_WHITESPACE","\n                    ",290],["T_VARIABLE","$messages",291],"[","]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$error",291],";",["T_WHITESPACE","\n                ",291],"}",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE"," ",293],["T_ELSE","else",293],["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","isImportAllowed",294],"(",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                    ",294],["T_VARIABLE","$messages",295],"[","]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","__",295],"(",["T_CONSTANT_ENCAPSED_STRING","'The validation is complete.'",295],")",";",["T_WHITESPACE","\n                ",295],"}",["T_WHITESPACE"," ",296],["T_ELSE","else",296],["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                    ",296],["T_VARIABLE","$messages",297],"[","]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","__",297],"(",["T_CONSTANT_ENCAPSED_STRING","'The file is valid, but we can\\'t import it for some reason.'",297],")",";",["T_WHITESPACE","\n                ",297],"}",["T_WHITESPACE","\n            ",298],"}",["T_WHITESPACE","\n\n            ",299],["T_VARIABLE","$messages",301],"[","]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","__",301],"(",["T_WHITESPACE","\n                ",301],["T_CONSTANT_ENCAPSED_STRING","'Checked rows: %1, checked entities: %2, invalid rows: %3, total errors: %4'",302],",",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getProcessedRowsCount",303],"(",")",",",["T_WHITESPACE","\n                ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getProcessedEntitiesCount",304],"(",")",",",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$validationResult",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getInvalidRowsCount",305],"(",")",",",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$validationResult",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getErrorsCount",306],"(",["T_WHITESPACE","\n                    ",306],"[",["T_WHITESPACE","\n                        ",307],["T_STRING","ProcessingError",308],["T_DOUBLE_COLON","::",308],["T_STRING","ERROR_LEVEL_CRITICAL",308],",",["T_WHITESPACE","\n                        ",308],["T_STRING","ProcessingError",309],["T_DOUBLE_COLON","::",309],["T_STRING","ERROR_LEVEL_NOT_CRITICAL",309],["T_WHITESPACE","\n                    ",309],"]",["T_WHITESPACE","\n                ",310],")",["T_WHITESPACE","\n            ",311],")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE"," ",313],["T_ELSE","else",313],["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$messages",314],"[","]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","__",314],"(",["T_CONSTANT_ENCAPSED_STRING","'This file does not contain any data.'",314],")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$messages",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Get attribute type for upcoming validation.\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute|\\Magento\\Eav\\Model\\Entity\\Attribute $attribute\n     * @return string\n     *\/",319],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_STATIC","static",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getAttributeType",325],"(",["T_NS_SEPARATOR","\\",325],["T_STRING","Magento",325],["T_NS_SEPARATOR","\\",325],["T_STRING","Eav",325],["T_NS_SEPARATOR","\\",325],["T_STRING","Model",325],["T_NS_SEPARATOR","\\",325],["T_STRING","Entity",325],["T_NS_SEPARATOR","\\",325],["T_STRING","Attribute",325],["T_NS_SEPARATOR","\\",325],["T_STRING","AbstractAttribute",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$attribute",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$frontendInput",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$attribute",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getFrontendInput",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$attribute",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","usesSource",328],"(",")",["T_WHITESPACE"," ",328],["T_BOOLEAN_AND","&&",328],["T_WHITESPACE"," ",328],["T_STRING","in_array",328],"(",["T_VARIABLE","$frontendInput",328],",",["T_WHITESPACE"," ",328],"[",["T_CONSTANT_ENCAPSED_STRING","'select'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'boolean'",328],"]",")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$frontendInput",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE"," ",330],["T_ELSEIF","elseif",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$attribute",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","isStatic",330],"(",")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$frontendInput",331],["T_WHITESPACE"," ",331],["T_IS_EQUAL","==",331],["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'date'",331],["T_WHITESPACE"," ",331],"?",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'datetime'",331],["T_WHITESPACE"," ",331],":",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'varchar'",331],";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE"," ",332],["T_ELSE","else",332],["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$attribute",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getBackendType",333],"(",")",";",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * DB data source model getter.\n     *\n     * @return \\Magento\\ImportExport\\Model\\ResourceModel\\Import\\Data\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","getDataSourceModel",342],"(",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_importData",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Default import behavior getter.\n     *\n     * @static\n     * @return string\n     *\/",347],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_STATIC","static",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","getDefaultBehavior",353],"(",")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_STRING","self",355],["T_DOUBLE_COLON","::",355],["T_STRING","BEHAVIOR_APPEND",355],";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Override standard entity getter.\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return string\n     *\/",358],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","getEntity",364],"(",")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_EMPTY","empty",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_data",366],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",366],"]",")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_THROW","throw",367],["T_WHITESPACE"," ",367],["T_NEW","new",367],["T_WHITESPACE"," ",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Magento",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Framework",367],["T_NS_SEPARATOR","\\",367],["T_STRING","Exception",367],["T_NS_SEPARATOR","\\",367],["T_STRING","LocalizedException",367],"(",["T_STRING","__",367],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity is unknown'",367],")",")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_data",369],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",369],"]",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Returns number of checked entities.\n     *\n     * @return int\n     *\/",372],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","getProcessedEntitiesCount",377],"(",")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_getEntityAdapter",379],"(",")",["T_OBJECT_OPERATOR","->",379],["T_STRING","getProcessedEntitiesCount",379],"(",")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * Returns number of checked rows.\n     *\n     * @return int\n     *\/",382],["T_WHITESPACE","\n    ",386],["T_PUBLIC","public",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","getProcessedRowsCount",387],"(",")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_getEntityAdapter",389],"(",")",["T_OBJECT_OPERATOR","->",389],["T_STRING","getProcessedRowsCount",389],"(",")",";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * Import\/Export working directory (source files, result files, lock files etc.).\n     *\n     * @return string\n     *\/",392],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","getWorkingDir",397],"(",")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_varDirectory",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getAbsolutePath",399],"(",["T_CONSTANT_ENCAPSED_STRING","'importexport\/'",399],")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Import source file structure to DB.\n     *\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",402],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","importSource",408],"(",")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","setData",410],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getDataSourceModel",410],"(",")",["T_OBJECT_OPERATOR","->",410],["T_STRING","getEntityTypeCode",410],"(",")",")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","setData",411],"(",["T_CONSTANT_ENCAPSED_STRING","'behavior'",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getDataSourceModel",411],"(",")",["T_OBJECT_OPERATOR","->",411],["T_STRING","getBehavior",411],"(",")",")",";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","importHistoryModel",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","updateReport",412],"(",["T_VARIABLE","$this",412],")",";",["T_WHITESPACE","\n\n        ",412],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","addLogComment",414],"(",["T_STRING","__",414],"(",["T_CONSTANT_ENCAPSED_STRING","'Begin import of \"%1\" with \"%2\" behavior'",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getEntity",414],"(",")",",",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getBehavior",414],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",414],["T_VARIABLE","$result",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","processImport",416],"(",")",";",["T_WHITESPACE","\n\n        ",416],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$result",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","addLogComment",419],"(",["T_WHITESPACE","\n                ",419],"[",["T_WHITESPACE","\n                    ",420],["T_STRING","__",421],"(",["T_WHITESPACE","\n                        ",421],["T_CONSTANT_ENCAPSED_STRING","'Checked rows: %1, checked entities: %2, invalid rows: %3, total errors: %4'",422],",",["T_WHITESPACE","\n                        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getProcessedRowsCount",423],"(",")",",",["T_WHITESPACE","\n                        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getProcessedEntitiesCount",424],"(",")",",",["T_WHITESPACE","\n                        ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getErrorAggregator",425],"(",")",["T_OBJECT_OPERATOR","->",425],["T_STRING","getInvalidRowsCount",425],"(",")",",",["T_WHITESPACE","\n                        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getErrorAggregator",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","getErrorsCount",426],"(",")",["T_WHITESPACE","\n                    ",426],")",",",["T_WHITESPACE","\n                    ",427],["T_STRING","__",428],"(",["T_CONSTANT_ENCAPSED_STRING","'The import was successful.'",428],")",",",["T_WHITESPACE","\n                ",428],"]",["T_WHITESPACE","\n            ",429],")",";",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","importHistoryModel",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","updateReport",431],"(",["T_VARIABLE","$this",431],",",["T_WHITESPACE"," ",431],["T_STRING","true",431],")",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE"," ",432],["T_ELSE","else",432],["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","importHistoryModel",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","invalidateReport",433],"(",["T_VARIABLE","$this",433],")",";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n\n\n        ",434],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$result",437],";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",440],["T_WHITESPACE","\n    ",442],["T_PROTECTED","protected",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","processImport",443],"(",")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$errorAggregator",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getEntityAdapter",445],"(",")",["T_OBJECT_OPERATOR","->",445],["T_STRING","getErrorAggregator",445],"(",")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$errorAggregator",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","initValidationStrategy",446],"(",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getData",447],"(",["T_STRING","self",447],["T_DOUBLE_COLON","::",447],["T_STRING","FIELD_NAME_VALIDATION_STRATEGY",447],")",",",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getData",448],"(",["T_STRING","self",448],["T_DOUBLE_COLON","::",448],["T_STRING","FIELD_NAME_ALLOWED_ERROR_COUNT",448],")",["T_WHITESPACE","\n        ",448],")",";",["T_WHITESPACE","\n        ",449],["T_TRY","try",450],["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_getEntityAdapter",451],"(",")",["T_OBJECT_OPERATOR","->",451],["T_STRING","importData",451],"(",")",";",["T_WHITESPACE","\n        ",451],"}",["T_WHITESPACE"," ",452],["T_CATCH","catch",452],["T_WHITESPACE"," ",452],"(",["T_NS_SEPARATOR","\\",452],["T_STRING","Exception",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$e",452],")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$errorAggregator",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","addError",453],"(",["T_WHITESPACE","\n                ",453],["T_NS_SEPARATOR","\\",454],["T_STRING","Magento",454],["T_NS_SEPARATOR","\\",454],["T_STRING","ImportExport",454],["T_NS_SEPARATOR","\\",454],["T_STRING","Model",454],["T_NS_SEPARATOR","\\",454],["T_STRING","Import",454],["T_NS_SEPARATOR","\\",454],["T_STRING","Entity",454],["T_NS_SEPARATOR","\\",454],["T_STRING","AbstractEntity",454],["T_DOUBLE_COLON","::",454],["T_STRING","ERROR_CODE_SYSTEM_EXCEPTION",454],",",["T_WHITESPACE","\n                ",454],["T_STRING","ProcessingError",455],["T_DOUBLE_COLON","::",455],["T_STRING","ERROR_LEVEL_CRITICAL",455],",",["T_WHITESPACE","\n                ",455],["T_STRING","null",456],",",["T_WHITESPACE","\n                ",456],["T_STRING","null",457],",",["T_WHITESPACE","\n                ",457],["T_STRING","null",458],",",["T_WHITESPACE","\n                ",458],["T_VARIABLE","$e",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getMessage",459],"(",")",["T_WHITESPACE","\n            ",459],")",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE","\n\n        ",461],["T_RETURN","return",463],["T_WHITESPACE"," ",463],"!",["T_VARIABLE","$errorAggregator",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","hasToBeTerminated",463],"(",")",";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Import possibility getter.\n     *\n     * @return bool\n     *\/",466],["T_WHITESPACE","\n    ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","isImportAllowed",471],"(",")",["T_WHITESPACE","\n    ",471],"{",["T_WHITESPACE","\n        ",472],["T_RETURN","return",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","_getEntityAdapter",473],"(",")",["T_OBJECT_OPERATOR","->",473],["T_STRING","isImportAllowed",473],"(",")",";",["T_WHITESPACE","\n    ",473],"}",["T_WHITESPACE","\n\n    ",474],["T_DOC_COMMENT","\/**\n     * @return ProcessingErrorAggregatorInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",476],["T_WHITESPACE","\n    ",479],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","getErrorAggregator",480],"(",")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_getEntityAdapter",482],"(",")",["T_OBJECT_OPERATOR","->",482],["T_STRING","getErrorAggregator",482],"(",")",";",["T_WHITESPACE","\n    ",482],"}",["T_WHITESPACE","\n\n    ",483],["T_DOC_COMMENT","\/**\n     * Move uploaded file and create source adapter instance.\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return string Source file path\n     *\/",485],["T_WHITESPACE","\n    ",490],["T_PUBLIC","public",491],["T_WHITESPACE"," ",491],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","uploadSource",491],"(",")",["T_WHITESPACE","\n    ",491],"{",["T_WHITESPACE","\n        ",492],["T_DOC_COMMENT","\/** @var $adapter \\Zend_File_Transfer_Adapter_Http *\/",493],["T_WHITESPACE","\n        ",493],["T_VARIABLE","$adapter",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_httpFactory",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","create",494],"(",")",";",["T_WHITESPACE","\n        ",494],["T_IF","if",495],["T_WHITESPACE"," ",495],"(","!",["T_VARIABLE","$adapter",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","isValid",495],"(",["T_STRING","self",495],["T_DOUBLE_COLON","::",495],["T_STRING","FIELD_NAME_SOURCE_FILE",495],")",")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n            ",495],["T_VARIABLE","$errors",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$adapter",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getErrors",496],"(",")",";",["T_WHITESPACE","\n            ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$errors",497],"[",["T_LNUMBER","0",497],"]",["T_WHITESPACE"," ",497],["T_IS_EQUAL","==",497],["T_WHITESPACE"," ",497],["T_NS_SEPARATOR","\\",497],["T_STRING","Zend_Validate_File_Upload",497],["T_DOUBLE_COLON","::",497],["T_STRING","INI_SIZE",497],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n                ",497],["T_VARIABLE","$errorMessage",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_importExportData",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","getMaxUploadSizeMessage",498],"(",")",";",["T_WHITESPACE","\n            ",498],"}",["T_WHITESPACE"," ",499],["T_ELSE","else",499],["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n                ",499],["T_VARIABLE","$errorMessage",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_STRING","__",500],"(",["T_CONSTANT_ENCAPSED_STRING","'The file was not uploaded.'",500],")",";",["T_WHITESPACE","\n            ",500],"}",["T_WHITESPACE","\n            ",501],["T_THROW","throw",502],["T_WHITESPACE"," ",502],["T_NEW","new",502],["T_WHITESPACE"," ",502],["T_NS_SEPARATOR","\\",502],["T_STRING","Magento",502],["T_NS_SEPARATOR","\\",502],["T_STRING","Framework",502],["T_NS_SEPARATOR","\\",502],["T_STRING","Exception",502],["T_NS_SEPARATOR","\\",502],["T_STRING","LocalizedException",502],"(",["T_VARIABLE","$errorMessage",502],")",";",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n\n        ",503],["T_VARIABLE","$entity",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getEntity",505],"(",")",";",["T_WHITESPACE","\n        ",505],["T_DOC_COMMENT","\/** @var $uploader \\Magento\\MediaStorage\\Model\\File\\Uploader *\/",506],["T_WHITESPACE","\n        ",506],["T_VARIABLE","$uploader",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_uploaderFactory",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","create",507],"(","[",["T_CONSTANT_ENCAPSED_STRING","'fileId'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_STRING","self",507],["T_DOUBLE_COLON","::",507],["T_STRING","FIELD_NAME_SOURCE_FILE",507],"]",")",";",["T_WHITESPACE","\n        ",507],["T_VARIABLE","$uploader",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","skipDbProcessing",508],"(",["T_STRING","true",508],")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$result",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$uploader",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","save",509],"(",["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getWorkingDir",509],"(",")",")",";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$extension",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_STRING","pathinfo",510],"(",["T_VARIABLE","$result",510],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",510],"]",",",["T_WHITESPACE"," ",510],["T_STRING","PATHINFO_EXTENSION",510],")",";",["T_WHITESPACE","\n\n        ",510],["T_VARIABLE","$uploadedFile",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$result",512],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",512],"]",["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_VARIABLE","$result",512],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",512],"]",";",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(","!",["T_VARIABLE","$extension",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","_varDirectory",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","delete",514],"(",["T_VARIABLE","$uploadedFile",514],")",";",["T_WHITESPACE","\n            ",514],["T_THROW","throw",515],["T_WHITESPACE"," ",515],["T_NEW","new",515],["T_WHITESPACE"," ",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Magento",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Framework",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Exception",515],["T_NS_SEPARATOR","\\",515],["T_STRING","LocalizedException",515],"(",["T_STRING","__",515],"(",["T_CONSTANT_ENCAPSED_STRING","'The file you uploaded has no extension.'",515],")",")",";",["T_WHITESPACE","\n        ",515],"}",["T_WHITESPACE","\n        ",516],["T_VARIABLE","$sourceFile",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getWorkingDir",517],"(",")",["T_WHITESPACE"," ",517],".",["T_WHITESPACE"," ",517],["T_VARIABLE","$entity",517],";",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$sourceFile",519],["T_WHITESPACE"," ",519],["T_CONCAT_EQUAL",".=",519],["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'.'",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_VARIABLE","$extension",519],";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$sourceFileRelative",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_varDirectory",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getRelativePath",520],"(",["T_VARIABLE","$sourceFile",520],")",";",["T_WHITESPACE","\n\n        ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_STRING","strtolower",522],"(",["T_VARIABLE","$uploadedFile",522],")",["T_WHITESPACE"," ",522],["T_IS_NOT_EQUAL","!=",522],["T_WHITESPACE"," ",522],["T_STRING","strtolower",522],"(",["T_VARIABLE","$sourceFile",522],")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_IF","if",523],["T_WHITESPACE"," ",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_varDirectory",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","isExist",523],"(",["T_VARIABLE","$sourceFileRelative",523],")",")",["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n                ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_varDirectory",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","delete",524],"(",["T_VARIABLE","$sourceFileRelative",524],")",";",["T_WHITESPACE","\n            ",524],"}",["T_WHITESPACE","\n\n            ",525],["T_TRY","try",527],["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n                ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_varDirectory",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","renameFile",528],"(",["T_WHITESPACE","\n                    ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_varDirectory",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getRelativePath",529],"(",["T_VARIABLE","$uploadedFile",529],")",",",["T_WHITESPACE","\n                    ",529],["T_VARIABLE","$sourceFileRelative",530],["T_WHITESPACE","\n                ",530],")",";",["T_WHITESPACE","\n            ",531],"}",["T_WHITESPACE"," ",532],["T_CATCH","catch",532],["T_WHITESPACE"," ",532],"(",["T_NS_SEPARATOR","\\",532],["T_STRING","Magento",532],["T_NS_SEPARATOR","\\",532],["T_STRING","Framework",532],["T_NS_SEPARATOR","\\",532],["T_STRING","Exception",532],["T_NS_SEPARATOR","\\",532],["T_STRING","FileSystemException",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$e",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n                ",532],["T_THROW","throw",533],["T_WHITESPACE"," ",533],["T_NEW","new",533],["T_WHITESPACE"," ",533],["T_NS_SEPARATOR","\\",533],["T_STRING","Magento",533],["T_NS_SEPARATOR","\\",533],["T_STRING","Framework",533],["T_NS_SEPARATOR","\\",533],["T_STRING","Exception",533],["T_NS_SEPARATOR","\\",533],["T_STRING","LocalizedException",533],"(",["T_STRING","__",533],"(",["T_CONSTANT_ENCAPSED_STRING","'The source file moving process failed.'",533],")",")",";",["T_WHITESPACE","\n            ",533],"}",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_removeBom",536],"(",["T_VARIABLE","$sourceFile",536],")",";",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","createHistoryReport",537],"(",["T_VARIABLE","$sourceFileRelative",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$entity",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$extension",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$result",537],")",";",["T_WHITESPACE","\n        ",537],["T_COMMENT","\/\/ trying to create source adapter for file and catch possible exception to be convinced in its adequacy\n",538],["T_WHITESPACE","        ",539],["T_TRY","try",539],["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_getSourceAdapter",540],"(",["T_VARIABLE","$sourceFile",540],")",";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE"," ",541],["T_CATCH","catch",541],["T_WHITESPACE"," ",541],"(",["T_NS_SEPARATOR","\\",541],["T_STRING","Exception",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$e",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","_varDirectory",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","delete",542],"(",["T_VARIABLE","$sourceFileRelative",542],")",";",["T_WHITESPACE","\n            ",542],["T_THROW","throw",543],["T_WHITESPACE"," ",543],["T_NEW","new",543],["T_WHITESPACE"," ",543],["T_NS_SEPARATOR","\\",543],["T_STRING","Magento",543],["T_NS_SEPARATOR","\\",543],["T_STRING","Framework",543],["T_NS_SEPARATOR","\\",543],["T_STRING","Exception",543],["T_NS_SEPARATOR","\\",543],["T_STRING","LocalizedException",543],"(",["T_STRING","__",543],"(",["T_VARIABLE","$e",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","getMessage",543],"(",")",")",")",";",["T_WHITESPACE","\n        ",543],"}",["T_WHITESPACE","\n        ",544],["T_RETURN","return",545],["T_WHITESPACE"," ",545],["T_VARIABLE","$sourceFile",545],";",["T_WHITESPACE","\n    ",545],"}",["T_WHITESPACE","\n\n    ",546],["T_DOC_COMMENT","\/**\n     * Remove BOM from a file\n     *\n     * @param string $sourceFile\n     * @return $this\n     *\/",548],["T_WHITESPACE","\n    ",553],["T_PROTECTED","protected",554],["T_WHITESPACE"," ",554],["T_FUNCTION","function",554],["T_WHITESPACE"," ",554],["T_STRING","_removeBom",554],"(",["T_VARIABLE","$sourceFile",554],")",["T_WHITESPACE","\n    ",554],"{",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$string",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","_varDirectory",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","readFile",556],"(",["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","_varDirectory",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getRelativePath",556],"(",["T_VARIABLE","$sourceFile",556],")",")",";",["T_WHITESPACE","\n        ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(",["T_VARIABLE","$string",557],["T_WHITESPACE"," ",557],["T_IS_NOT_IDENTICAL","!==",557],["T_WHITESPACE"," ",557],["T_STRING","false",557],["T_WHITESPACE"," ",557],["T_BOOLEAN_AND","&&",557],["T_WHITESPACE"," ",557],["T_STRING","substr",557],"(",["T_VARIABLE","$string",557],",",["T_WHITESPACE"," ",557],["T_LNUMBER","0",557],",",["T_WHITESPACE"," ",557],["T_LNUMBER","3",557],")",["T_WHITESPACE"," ",557],["T_IS_EQUAL","==",557],["T_WHITESPACE"," ",557],["T_STRING","pack",557],"(",["T_CONSTANT_ENCAPSED_STRING","\"CCC\"",557],",",["T_WHITESPACE"," ",557],["T_LNUMBER","0xef",557],",",["T_WHITESPACE"," ",557],["T_LNUMBER","0xbb",557],",",["T_WHITESPACE"," ",557],["T_LNUMBER","0xbf",557],")",")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n            ",557],["T_VARIABLE","$string",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_STRING","substr",558],"(",["T_VARIABLE","$string",558],",",["T_WHITESPACE"," ",558],["T_LNUMBER","3",558],")",";",["T_WHITESPACE","\n            ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_varDirectory",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","writeFile",559],"(",["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_varDirectory",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","getRelativePath",559],"(",["T_VARIABLE","$sourceFile",559],")",",",["T_WHITESPACE"," ",559],["T_VARIABLE","$string",559],")",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n        ",560],["T_RETURN","return",561],["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],";",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n    ",562],["T_DOC_COMMENT","\/**\n     * Validates source file and returns validation result.\n     *\n     * @param \\Magento\\ImportExport\\Model\\Import\\AbstractSource $source\n     * @return bool\n     *\/",564],["T_WHITESPACE","\n    ",569],["T_PUBLIC","public",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","validateSource",570],"(",["T_NS_SEPARATOR","\\",570],["T_STRING","Magento",570],["T_NS_SEPARATOR","\\",570],["T_STRING","ImportExport",570],["T_NS_SEPARATOR","\\",570],["T_STRING","Model",570],["T_NS_SEPARATOR","\\",570],["T_STRING","Import",570],["T_NS_SEPARATOR","\\",570],["T_STRING","AbstractSource",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$source",570],")",["T_WHITESPACE","\n    ",570],"{",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","addLogComment",572],"(",["T_STRING","__",572],"(",["T_CONSTANT_ENCAPSED_STRING","'Begin data validation'",572],")",")",";",["T_WHITESPACE","\n        ",572],["T_TRY","try",573],["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n            ",573],["T_VARIABLE","$adapter",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","_getEntityAdapter",574],"(",")",["T_OBJECT_OPERATOR","->",574],["T_STRING","setSource",574],"(",["T_VARIABLE","$source",574],")",";",["T_WHITESPACE","\n            ",574],["T_VARIABLE","$errorAggregator",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$adapter",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","validateData",575],"(",")",";",["T_WHITESPACE","\n        ",575],"}",["T_WHITESPACE"," ",576],["T_CATCH","catch",576],["T_WHITESPACE"," ",576],"(",["T_NS_SEPARATOR","\\",576],["T_STRING","Exception",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$e",576],")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n            ",576],["T_VARIABLE","$errorAggregator",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getErrorAggregator",577],"(",")",";",["T_WHITESPACE","\n            ",577],["T_VARIABLE","$errorAggregator",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","addError",578],"(",["T_WHITESPACE","\n                ",578],["T_NS_SEPARATOR","\\",579],["T_STRING","Magento",579],["T_NS_SEPARATOR","\\",579],["T_STRING","ImportExport",579],["T_NS_SEPARATOR","\\",579],["T_STRING","Model",579],["T_NS_SEPARATOR","\\",579],["T_STRING","Import",579],["T_NS_SEPARATOR","\\",579],["T_STRING","Entity",579],["T_NS_SEPARATOR","\\",579],["T_STRING","AbstractEntity",579],["T_DOUBLE_COLON","::",579],["T_STRING","ERROR_CODE_SYSTEM_EXCEPTION",579],",",["T_WHITESPACE","\n                ",579],["T_STRING","ProcessingError",580],["T_DOUBLE_COLON","::",580],["T_STRING","ERROR_LEVEL_CRITICAL",580],",",["T_WHITESPACE","\n                ",580],["T_STRING","null",581],",",["T_WHITESPACE","\n                ",581],["T_STRING","null",582],",",["T_WHITESPACE","\n                ",582],["T_STRING","null",583],",",["T_WHITESPACE","\n                ",583],["T_VARIABLE","$e",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","getMessage",584],"(",")",["T_WHITESPACE","\n            ",584],")",";",["T_WHITESPACE","\n        ",585],"}",["T_WHITESPACE","\n\n        ",586],["T_VARIABLE","$messages",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getOperationResultMessages",588],"(",["T_VARIABLE","$errorAggregator",588],")",";",["T_WHITESPACE","\n        ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","addLogComment",589],"(",["T_VARIABLE","$messages",589],")",";",["T_WHITESPACE","\n\n        ",589],["T_VARIABLE","$result",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],"!",["T_VARIABLE","$errorAggregator",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","getErrorsCount",591],"(",")",";",["T_WHITESPACE","\n        ",591],["T_IF","if",592],["T_WHITESPACE"," ",592],"(",["T_VARIABLE","$result",592],")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n            ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","addLogComment",593],"(",["T_STRING","__",593],"(",["T_CONSTANT_ENCAPSED_STRING","'Import data validation is complete.'",593],")",")",";",["T_WHITESPACE","\n        ",593],"}",["T_WHITESPACE","\n        ",594],["T_RETURN","return",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$result",595],";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n\n    ",596],["T_DOC_COMMENT","\/**\n     * Invalidate indexes by process codes.\n     *\n     * @return $this\n     *\/",598],["T_WHITESPACE","\n    ",602],["T_PUBLIC","public",603],["T_WHITESPACE"," ",603],["T_FUNCTION","function",603],["T_WHITESPACE"," ",603],["T_STRING","invalidateIndex",603],"(",")",["T_WHITESPACE","\n    ",603],"{",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$relatedIndexers",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","_importConfig",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getRelatedIndexers",605],"(",["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getEntity",605],"(",")",")",";",["T_WHITESPACE","\n        ",605],["T_IF","if",606],["T_WHITESPACE"," ",606],"(",["T_EMPTY","empty",606],"(",["T_VARIABLE","$relatedIndexers",606],")",")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n            ",606],["T_RETURN","return",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$this",607],";",["T_WHITESPACE","\n        ",607],"}",["T_WHITESPACE","\n\n        ",608],["T_FOREACH","foreach",610],["T_WHITESPACE"," ",610],"(",["T_STRING","array_keys",610],"(",["T_VARIABLE","$relatedIndexers",610],")",["T_WHITESPACE"," ",610],["T_AS","as",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$indexerId",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n            ",610],["T_TRY","try",611],["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n                ",611],["T_VARIABLE","$indexer",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","indexerRegistry",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","get",612],"(",["T_VARIABLE","$indexerId",612],")",";",["T_WHITESPACE","\n\n                ",612],["T_IF","if",614],["T_WHITESPACE"," ",614],"(","!",["T_VARIABLE","$indexer",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","isScheduled",614],"(",")",")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n                    ",614],["T_VARIABLE","$indexer",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","invalidate",615],"(",")",";",["T_WHITESPACE","\n                ",615],"}",["T_WHITESPACE","\n            ",616],"}",["T_WHITESPACE"," ",617],["T_CATCH","catch",617],["T_WHITESPACE"," ",617],"(",["T_NS_SEPARATOR","\\",617],["T_STRING","InvalidArgumentException",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$e",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n            ",617],"}",["T_WHITESPACE","\n        ",618],"}",["T_WHITESPACE","\n\n        ",619],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],";",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n    ",622],["T_DOC_COMMENT","\/**\n     * Gets array of entities and appropriate behaviours\n     * array(\n     *     <entity_code> => array(\n     *         'token' => <behavior_class_name>,\n     *         'code'  => <behavior_model_code>,\n     *     ),\n     *     ...\n     * )\n     *\n     * @return array\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",624],["T_WHITESPACE","\n    ",636],["T_PUBLIC","public",637],["T_WHITESPACE"," ",637],["T_FUNCTION","function",637],["T_WHITESPACE"," ",637],["T_STRING","getEntityBehaviors",637],"(",")",["T_WHITESPACE","\n    ",637],"{",["T_WHITESPACE","\n        ",638],["T_VARIABLE","$behaviourData",639],["T_WHITESPACE"," ",639],"=",["T_WHITESPACE"," ",639],"[","]",";",["T_WHITESPACE","\n        ",639],["T_VARIABLE","$entities",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","_importConfig",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getEntities",640],"(",")",";",["T_WHITESPACE","\n        ",640],["T_FOREACH","foreach",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$entities",641],["T_WHITESPACE"," ",641],["T_AS","as",641],["T_WHITESPACE"," ",641],["T_VARIABLE","$entityCode",641],["T_WHITESPACE"," ",641],["T_DOUBLE_ARROW","=>",641],["T_WHITESPACE"," ",641],["T_VARIABLE","$entityData",641],")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n            ",641],["T_VARIABLE","$behaviorClassName",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_ISSET","isset",642],"(",["T_VARIABLE","$entityData",642],"[",["T_CONSTANT_ENCAPSED_STRING","'behaviorModel'",642],"]",")",["T_WHITESPACE"," ",642],"?",["T_WHITESPACE"," ",642],["T_VARIABLE","$entityData",642],"[",["T_CONSTANT_ENCAPSED_STRING","'behaviorModel'",642],"]",["T_WHITESPACE"," ",642],":",["T_WHITESPACE"," ",642],["T_STRING","null",642],";",["T_WHITESPACE","\n            ",642],["T_IF","if",643],["T_WHITESPACE"," ",643],"(",["T_VARIABLE","$behaviorClassName",643],["T_WHITESPACE"," ",643],["T_BOOLEAN_AND","&&",643],["T_WHITESPACE"," ",643],["T_STRING","class_exists",643],"(",["T_VARIABLE","$behaviorClassName",643],")",")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n                ",643],["T_DOC_COMMENT","\/** @var $behavior \\Magento\\ImportExport\\Model\\Source\\Import\\AbstractBehavior *\/",644],["T_WHITESPACE","\n                ",644],["T_VARIABLE","$behavior",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_behaviorFactory",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","create",645],"(",["T_VARIABLE","$behaviorClassName",645],")",";",["T_WHITESPACE","\n                ",645],["T_VARIABLE","$behaviourData",646],"[",["T_VARIABLE","$entityCode",646],"]",["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],"[",["T_WHITESPACE","\n                    ",646],["T_CONSTANT_ENCAPSED_STRING","'token'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_VARIABLE","$behaviorClassName",647],",",["T_WHITESPACE","\n                    ",647],["T_CONSTANT_ENCAPSED_STRING","'code'",648],["T_WHITESPACE"," ",648],["T_DOUBLE_ARROW","=>",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$behavior",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getCode",648],"(",")",["T_WHITESPACE"," ",648],".",["T_WHITESPACE"," ",648],["T_CONSTANT_ENCAPSED_STRING","'_behavior'",648],",",["T_WHITESPACE","\n                    ",648],["T_CONSTANT_ENCAPSED_STRING","'notes'",649],["T_WHITESPACE"," ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$behavior",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","getNotes",649],"(",["T_VARIABLE","$entityCode",649],")",",",["T_WHITESPACE","\n                ",649],"]",";",["T_WHITESPACE","\n            ",650],"}",["T_WHITESPACE"," ",651],["T_ELSE","else",651],["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n                ",651],["T_THROW","throw",652],["T_WHITESPACE"," ",652],["T_NEW","new",652],["T_WHITESPACE"," ",652],["T_NS_SEPARATOR","\\",652],["T_STRING","Magento",652],["T_NS_SEPARATOR","\\",652],["T_STRING","Framework",652],["T_NS_SEPARATOR","\\",652],["T_STRING","Exception",652],["T_NS_SEPARATOR","\\",652],["T_STRING","LocalizedException",652],"(",["T_WHITESPACE","\n                    ",652],["T_STRING","__",653],"(",["T_CONSTANT_ENCAPSED_STRING","'The behavior token for %1 is invalid.'",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$entityCode",653],")",["T_WHITESPACE","\n                ",653],")",";",["T_WHITESPACE","\n            ",654],"}",["T_WHITESPACE","\n        ",655],"}",["T_WHITESPACE","\n        ",656],["T_RETURN","return",657],["T_WHITESPACE"," ",657],["T_VARIABLE","$behaviourData",657],";",["T_WHITESPACE","\n    ",657],"}",["T_WHITESPACE","\n\n    ",658],["T_DOC_COMMENT","\/**\n     * Get array of unique entity behaviors\n     * array(\n     *     <behavior_model_code> => <behavior_class_name>,\n     *     ...\n     * )\n     *\n     * @return array\n     *\/",660],["T_WHITESPACE","\n    ",668],["T_PUBLIC","public",669],["T_WHITESPACE"," ",669],["T_FUNCTION","function",669],["T_WHITESPACE"," ",669],["T_STRING","getUniqueEntityBehaviors",669],"(",")",["T_WHITESPACE","\n    ",669],"{",["T_WHITESPACE","\n        ",670],["T_VARIABLE","$uniqueBehaviors",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],"[","]",";",["T_WHITESPACE","\n        ",671],["T_VARIABLE","$behaviourData",672],["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","getEntityBehaviors",672],"(",")",";",["T_WHITESPACE","\n        ",672],["T_FOREACH","foreach",673],["T_WHITESPACE"," ",673],"(",["T_VARIABLE","$behaviourData",673],["T_WHITESPACE"," ",673],["T_AS","as",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$behavior",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n            ",673],["T_VARIABLE","$behaviorCode",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$behavior",674],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",674],"]",";",["T_WHITESPACE","\n            ",674],["T_IF","if",675],["T_WHITESPACE"," ",675],"(","!",["T_ISSET","isset",675],"(",["T_VARIABLE","$uniqueBehaviors",675],"[",["T_VARIABLE","$behaviorCode",675],"]",")",")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n                ",675],["T_VARIABLE","$uniqueBehaviors",676],"[",["T_VARIABLE","$behaviorCode",676],"]",["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$behavior",676],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",676],"]",";",["T_WHITESPACE","\n            ",676],"}",["T_WHITESPACE","\n        ",677],"}",["T_WHITESPACE","\n        ",678],["T_RETURN","return",679],["T_WHITESPACE"," ",679],["T_VARIABLE","$uniqueBehaviors",679],";",["T_WHITESPACE","\n    ",679],"}",["T_WHITESPACE","\n\n    ",680],["T_DOC_COMMENT","\/**\n     * Retrieve processed reports entity types\n     *\n     * @param string|null $entity\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",682],["T_WHITESPACE","\n    ",688],["T_PUBLIC","public",689],["T_WHITESPACE"," ",689],["T_FUNCTION","function",689],["T_WHITESPACE"," ",689],["T_STRING","isReportEntityType",689],"(",["T_VARIABLE","$entity",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_STRING","null",689],")",["T_WHITESPACE","\n    ",689],"{",["T_WHITESPACE","\n        ",690],["T_VARIABLE","$result",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","false",691],";",["T_WHITESPACE","\n        ",691],["T_IF","if",692],["T_WHITESPACE"," ",692],"(","!",["T_VARIABLE","$entity",692],")",["T_WHITESPACE"," ",692],"{",["T_WHITESPACE","\n            ",692],["T_VARIABLE","$entity",693],["T_WHITESPACE"," ",693],"=",["T_WHITESPACE"," ",693],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","getEntity",693],"(",")",";",["T_WHITESPACE","\n        ",693],"}",["T_WHITESPACE","\n        ",694],["T_IF","if",695],["T_WHITESPACE"," ",695],"(",["T_VARIABLE","$entity",695],["T_WHITESPACE"," ",695],["T_IS_NOT_IDENTICAL","!==",695],["T_WHITESPACE"," ",695],["T_STRING","null",695],["T_WHITESPACE"," ",695],["T_BOOLEAN_AND","&&",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$this",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","_getEntityAdapter",695],"(",")",["T_OBJECT_OPERATOR","->",695],["T_STRING","getEntityTypeCode",695],"(",")",["T_WHITESPACE"," ",695],["T_IS_NOT_EQUAL","!=",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$entity",695],")",["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n            ",695],["T_VARIABLE","$entities",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","_importConfig",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","getEntities",696],"(",")",";",["T_WHITESPACE","\n            ",696],["T_IF","if",697],["T_WHITESPACE"," ",697],"(",["T_ISSET","isset",697],"(",["T_VARIABLE","$entities",697],"[",["T_VARIABLE","$entity",697],"]",")",")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n                ",697],["T_TRY","try",698],["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n                    ",698],["T_VARIABLE","$result",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","_getEntityAdapter",699],"(",")",["T_OBJECT_OPERATOR","->",699],["T_STRING","isNeedToLogInHistory",699],"(",")",";",["T_WHITESPACE","\n                ",699],"}",["T_WHITESPACE"," ",700],["T_CATCH","catch",700],["T_WHITESPACE"," ",700],"(",["T_NS_SEPARATOR","\\",700],["T_STRING","Exception",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$e",700],")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n                    ",700],["T_THROW","throw",701],["T_WHITESPACE"," ",701],["T_NEW","new",701],["T_WHITESPACE"," ",701],["T_NS_SEPARATOR","\\",701],["T_STRING","Magento",701],["T_NS_SEPARATOR","\\",701],["T_STRING","Framework",701],["T_NS_SEPARATOR","\\",701],["T_STRING","Exception",701],["T_NS_SEPARATOR","\\",701],["T_STRING","LocalizedException",701],"(",["T_STRING","__",701],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a correct entity model'",701],")",")",";",["T_WHITESPACE","\n                ",701],"}",["T_WHITESPACE","\n            ",702],"}",["T_WHITESPACE"," ",703],["T_ELSE","else",703],["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n                ",703],["T_THROW","throw",704],["T_WHITESPACE"," ",704],["T_NEW","new",704],["T_WHITESPACE"," ",704],["T_NS_SEPARATOR","\\",704],["T_STRING","Magento",704],["T_NS_SEPARATOR","\\",704],["T_STRING","Framework",704],["T_NS_SEPARATOR","\\",704],["T_STRING","Exception",704],["T_NS_SEPARATOR","\\",704],["T_STRING","LocalizedException",704],"(",["T_STRING","__",704],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a correct entity model'",704],")",")",";",["T_WHITESPACE","\n            ",704],"}",["T_WHITESPACE","\n        ",705],"}",["T_WHITESPACE"," ",706],["T_ELSE","else",706],["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_VARIABLE","$result",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","_getEntityAdapter",707],"(",")",["T_OBJECT_OPERATOR","->",707],["T_STRING","isNeedToLogInHistory",707],"(",")",";",["T_WHITESPACE","\n        ",707],"}",["T_WHITESPACE","\n        ",708],["T_RETURN","return",709],["T_WHITESPACE"," ",709],["T_VARIABLE","$result",709],";",["T_WHITESPACE","\n    ",709],"}",["T_WHITESPACE","\n\n    ",710],["T_DOC_COMMENT","\/**\n     * Create history report\n     *\n     * @param string $entity\n     * @param string $extension\n     * @param string $sourceFileRelative\n     * @param array $result\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",712],["T_WHITESPACE","\n    ",721],["T_PROTECTED","protected",722],["T_WHITESPACE"," ",722],["T_FUNCTION","function",722],["T_WHITESPACE"," ",722],["T_STRING","createHistoryReport",722],"(",["T_VARIABLE","$sourceFileRelative",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$entity",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$extension",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_STRING","null",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$result",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_STRING","null",722],")",["T_WHITESPACE","\n    ",722],"{",["T_WHITESPACE","\n        ",723],["T_IF","if",724],["T_WHITESPACE"," ",724],"(",["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","isReportEntityType",724],"(",["T_VARIABLE","$entity",724],")",")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n            ",724],["T_IF","if",725],["T_WHITESPACE"," ",725],"(",["T_STRING","is_array",725],"(",["T_VARIABLE","$sourceFileRelative",725],")",")",["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n                ",725],["T_VARIABLE","$fileName",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$sourceFileRelative",726],"[",["T_CONSTANT_ENCAPSED_STRING","'file_name'",726],"]",";",["T_WHITESPACE","\n                ",726],["T_VARIABLE","$sourceFileRelative",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","_varDirectory",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getRelativePath",727],"(",["T_STRING","self",727],["T_DOUBLE_COLON","::",727],["T_STRING","IMPORT_DIR",727],["T_WHITESPACE"," ",727],".",["T_WHITESPACE"," ",727],["T_VARIABLE","$fileName",727],")",";",["T_WHITESPACE","\n            ",727],"}",["T_WHITESPACE"," ",728],["T_ELSEIF","elseif",728],["T_WHITESPACE"," ",728],"(",["T_ISSET","isset",728],"(",["T_VARIABLE","$result",728],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",728],"]",")",")",["T_WHITESPACE"," ",728],"{",["T_WHITESPACE","\n                ",728],["T_VARIABLE","$fileName",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$result",729],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",729],"]",";",["T_WHITESPACE","\n            ",729],"}",["T_WHITESPACE"," ",730],["T_ELSEIF","elseif",730],["T_WHITESPACE"," ",730],"(","!",["T_STRING","is_null",730],"(",["T_VARIABLE","$extension",730],")",")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n                ",730],["T_VARIABLE","$fileName",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_VARIABLE","$entity",731],["T_WHITESPACE"," ",731],".",["T_WHITESPACE"," ",731],["T_VARIABLE","$extension",731],";",["T_WHITESPACE","\n            ",731],"}",["T_WHITESPACE"," ",732],["T_ELSE","else",732],["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n                ",732],["T_VARIABLE","$fileName",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_STRING","basename",733],"(",["T_VARIABLE","$sourceFileRelative",733],")",";",["T_WHITESPACE","\n            ",733],"}",["T_WHITESPACE","\n            ",734],["T_VARIABLE","$copyName",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","localeDate",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","gmtTimestamp",735],"(",")",["T_WHITESPACE"," ",735],".",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'_'",735],["T_WHITESPACE"," ",735],".",["T_WHITESPACE"," ",735],["T_VARIABLE","$fileName",735],";",["T_WHITESPACE","\n            ",735],["T_VARIABLE","$copyFile",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_STRING","self",736],["T_DOUBLE_COLON","::",736],["T_STRING","IMPORT_HISTORY_DIR",736],["T_WHITESPACE"," ",736],".",["T_WHITESPACE"," ",736],["T_VARIABLE","$copyName",736],";",["T_WHITESPACE","\n            ",736],["T_TRY","try",737],["T_WHITESPACE"," ",737],"{",["T_WHITESPACE","\n                ",737],["T_IF","if",738],["T_WHITESPACE"," ",738],"(",["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","_varDirectory",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","isExist",738],"(",["T_VARIABLE","$sourceFileRelative",738],")",")",["T_WHITESPACE"," ",738],"{",["T_WHITESPACE","\n                    ",738],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","_varDirectory",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","copyFile",739],"(",["T_VARIABLE","$sourceFileRelative",739],",",["T_WHITESPACE"," ",739],["T_VARIABLE","$copyFile",739],")",";",["T_WHITESPACE","\n                ",739],"}",["T_WHITESPACE"," ",740],["T_ELSE","else",740],["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n                    ",740],["T_VARIABLE","$content",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","_varDirectory",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","getDriver",741],"(",")",["T_OBJECT_OPERATOR","->",741],["T_STRING","fileGetContents",741],"(",["T_VARIABLE","$sourceFileRelative",741],")",";",["T_WHITESPACE","\n                    ",741],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_varDirectory",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","writeFile",742],"(",["T_VARIABLE","$copyFile",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$content",742],")",";",["T_WHITESPACE","\n                ",742],"}",["T_WHITESPACE","\n            ",743],"}",["T_WHITESPACE"," ",744],["T_CATCH","catch",744],["T_WHITESPACE"," ",744],"(",["T_NS_SEPARATOR","\\",744],["T_STRING","Magento",744],["T_NS_SEPARATOR","\\",744],["T_STRING","Framework",744],["T_NS_SEPARATOR","\\",744],["T_STRING","Exception",744],["T_NS_SEPARATOR","\\",744],["T_STRING","FileSystemException",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$e",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n                ",744],["T_THROW","throw",745],["T_WHITESPACE"," ",745],["T_NEW","new",745],["T_WHITESPACE"," ",745],["T_NS_SEPARATOR","\\",745],["T_STRING","Magento",745],["T_NS_SEPARATOR","\\",745],["T_STRING","Framework",745],["T_NS_SEPARATOR","\\",745],["T_STRING","Exception",745],["T_NS_SEPARATOR","\\",745],["T_STRING","LocalizedException",745],"(",["T_STRING","__",745],"(",["T_CONSTANT_ENCAPSED_STRING","'Source file coping failed'",745],")",")",";",["T_WHITESPACE","\n            ",745],"}",["T_WHITESPACE","\n            ",746],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","importHistoryModel",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","addReport",747],"(",["T_VARIABLE","$copyName",747],")",";",["T_WHITESPACE","\n        ",747],"}",["T_WHITESPACE","\n        ",748],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$this",749],";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n\n    ",750],["T_DOC_COMMENT","\/**\n     * Get count of created items\n     *\n     * @return int\n     *\/",753],["T_WHITESPACE","\n    ",757],["T_PUBLIC","public",758],["T_WHITESPACE"," ",758],["T_FUNCTION","function",758],["T_WHITESPACE"," ",758],["T_STRING","getCreatedItemsCount",758],"(",")",["T_WHITESPACE","\n    ",758],"{",["T_WHITESPACE","\n        ",759],["T_RETURN","return",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","_getEntityAdapter",760],"(",")",["T_OBJECT_OPERATOR","->",760],["T_STRING","getCreatedItemsCount",760],"(",")",";",["T_WHITESPACE","\n    ",760],"}",["T_WHITESPACE","\n\n    ",761],["T_DOC_COMMENT","\/**\n     * Get count of updated items\n     *\n     * @return int\n     *\/",763],["T_WHITESPACE","\n    ",767],["T_PUBLIC","public",768],["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],["T_STRING","getUpdatedItemsCount",768],"(",")",["T_WHITESPACE","\n    ",768],"{",["T_WHITESPACE","\n        ",769],["T_RETURN","return",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_getEntityAdapter",770],"(",")",["T_OBJECT_OPERATOR","->",770],["T_STRING","getUpdatedItemsCount",770],"(",")",";",["T_WHITESPACE","\n    ",770],"}",["T_WHITESPACE","\n\n    ",771],["T_DOC_COMMENT","\/**\n     * Get count of deleted items\n     *\n     * @return int\n     *\/",773],["T_WHITESPACE","\n    ",777],["T_PUBLIC","public",778],["T_WHITESPACE"," ",778],["T_FUNCTION","function",778],["T_WHITESPACE"," ",778],["T_STRING","getDeletedItemsCount",778],"(",")",["T_WHITESPACE","\n    ",778],"{",["T_WHITESPACE","\n        ",779],["T_RETURN","return",780],["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","_getEntityAdapter",780],"(",")",["T_OBJECT_OPERATOR","->",780],["T_STRING","getDeletedItemsCount",780],"(",")",";",["T_WHITESPACE","\n    ",780],"}",["T_WHITESPACE","\n",781],"}",["T_WHITESPACE","\n",782]]