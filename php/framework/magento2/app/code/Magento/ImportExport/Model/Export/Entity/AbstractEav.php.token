[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Export",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Eav",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Attribute",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AbstractAttribute",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Eav",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Collection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AbstractCollection",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Export",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Store",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Store",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Export EAV entity abstract model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",18],["T_ABSTRACT","abstract",19],["T_WHITESPACE"," ",19],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","AbstractEav",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ImportExport",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Export",19],["T_NS_SEPARATOR","\\",19],["T_STRING","AbstractEntity",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Attribute code to its values. Only attributes with options and only default store values used\n     *\n     * @var array\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_attributeValues",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[","]",";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Entity type id.\n     *\n     * @var int\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_entityTypeId",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Attributes with index (not label) value\n     *\n     * @var string[]\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_indexValueAttributes",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[","]",";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_localeDate",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\ImportExport\\Model\\Export\\Factory $collectionFactory\n     * @param \\Magento\\ImportExport\\Model\\ResourceModel\\CollectionByPagesIteratorFactory $resourceColFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param array $data\n     *\/",47],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","__construct",56],"(",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","App",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Config",57],["T_NS_SEPARATOR","\\",57],["T_STRING","ScopeConfigInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$scopeConfig",57],",",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Store",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","StoreManagerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$storeManager",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","ImportExport",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Export",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Factory",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$collectionFactory",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ImportExport",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ResourceModel",60],["T_NS_SEPARATOR","\\",60],["T_STRING","CollectionByPagesIteratorFactory",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$resourceColFactory",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Stdlib",61],["T_NS_SEPARATOR","\\",61],["T_STRING","DateTime",61],["T_NS_SEPARATOR","\\",61],["T_STRING","TimezoneInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$localeDate",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Eav",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Config",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$eavConfig",62],",",["T_WHITESPACE","\n        ",62],["T_ARRAY","array",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$data",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[","]",["T_WHITESPACE","\n    ",63],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_localeDate",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$localeDate",65],";",["T_WHITESPACE","\n        ",65],["T_STRING","parent",66],["T_DOUBLE_COLON","::",66],["T_STRING","__construct",66],"(",["T_VARIABLE","$scopeConfig",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$storeManager",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$collectionFactory",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$resourceColFactory",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$data",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_ISSET","isset",68],"(",["T_VARIABLE","$data",68],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",68],"]",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_entityTypeId",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$data",69],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",69],"]",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE"," ",70],["T_ELSE","else",70],["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_entityTypeId",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$eavConfig",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getEntityType",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getEntityTypeCode",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getEntityTypeId",71],"(",")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Initialize attribute option values\n     *\n     * @return $this\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_initAttributeValues",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_DOC_COMMENT","\/** @var $attribute AbstractAttribute *\/",82],["T_WHITESPACE","\n        ",82],["T_FOREACH","foreach",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getAttributeCollection",83],"(",")",["T_WHITESPACE"," ",83],["T_AS","as",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$attribute",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_attributeValues",84],"[",["T_VARIABLE","$attribute",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getAttributeCode",84],"(",")","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getAttributeOptions",84],"(",["T_VARIABLE","$attribute",84],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Apply filter to collection and add not skipped attributes to select\n     *\n     * @param AbstractCollection $collection\n     * @return AbstractCollection\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","_prepareEntityCollection",95],"(",["T_STRING","AbstractCollection",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$collection",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","filterEntityCollection",97],"(",["T_VARIABLE","$collection",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_addAttributesToCollection",98],"(",["T_VARIABLE","$collection",98],")",";",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$collection",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Apply filter to collection\n     *\n     * @param AbstractCollection $collection\n     * @return AbstractCollection\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",102],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","filterEntityCollection",109],"(",["T_STRING","AbstractCollection",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$collection",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_ISSET","isset",111],"(",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_parameters",112],"[",["T_STRING","Export",112],["T_DOUBLE_COLON","::",112],["T_STRING","FILTER_ELEMENT_GROUP",112],"]",["T_WHITESPACE","\n        ",112],")",["T_WHITESPACE"," ",113],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],"!",["T_STRING","is_array",113],"(",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_parameters",114],"[",["T_STRING","Export",114],["T_DOUBLE_COLON","::",114],["T_STRING","FILTER_ELEMENT_GROUP",114],"]",["T_WHITESPACE","\n        ",114],")",["T_WHITESPACE","\n        ",115],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$exportFilter",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[","]",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE"," ",118],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$exportFilter",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_parameters",119],"[",["T_STRING","Export",119],["T_DOUBLE_COLON","::",119],["T_STRING","FILTER_ELEMENT_GROUP",119],"]",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_DOC_COMMENT","\/** @var $attribute AbstractAttribute *\/",122],["T_WHITESPACE","\n        ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","filterAttributeCollection",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getAttributeCollection",123],"(",")",")",["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$attribute",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$attributeCode",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$attribute",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getAttributeCode",124],"(",")",";",["T_WHITESPACE","\n\n            ",124],["T_COMMENT","\/\/ filter applying\n",126],["T_WHITESPACE","            ",127],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_ISSET","isset",127],"(",["T_VARIABLE","$exportFilter",127],"[",["T_VARIABLE","$attributeCode",127],"]",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$attributeFilterType",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","Export",128],["T_DOUBLE_COLON","::",128],["T_STRING","getAttributeFilterType",128],"(",["T_VARIABLE","$attribute",128],")",";",["T_WHITESPACE","\n\n                ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_STRING","Export",130],["T_DOUBLE_COLON","::",130],["T_STRING","FILTER_TYPE_SELECT",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$attributeFilterType",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                    ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_STRING","is_scalar",131],"(",["T_VARIABLE","$exportFilter",131],"[",["T_VARIABLE","$attributeCode",131],"]",")",["T_WHITESPACE"," ",131],["T_BOOLEAN_AND","&&",131],["T_WHITESPACE"," ",131],["T_STRING","trim",131],"(",["T_VARIABLE","$exportFilter",131],"[",["T_VARIABLE","$attributeCode",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                        ",131],["T_VARIABLE","$collection",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","addAttributeToFilter",132],"(",["T_WHITESPACE","\n                            ",132],["T_VARIABLE","$attributeCode",133],",",["T_WHITESPACE","\n                            ",133],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$exportFilter",134],"[",["T_VARIABLE","$attributeCode",134],"]","]",["T_WHITESPACE","\n                        ",134],")",";",["T_WHITESPACE","\n                    ",135],"}",["T_WHITESPACE","\n                ",136],"}",["T_WHITESPACE"," ",137],["T_ELSEIF","elseif",137],["T_WHITESPACE"," ",137],"(",["T_STRING","Export",137],["T_DOUBLE_COLON","::",137],["T_STRING","FILTER_TYPE_INPUT",137],["T_WHITESPACE"," ",137],["T_IS_EQUAL","==",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$attributeFilterType",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                    ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","is_scalar",138],"(",["T_VARIABLE","$exportFilter",138],"[",["T_VARIABLE","$attributeCode",138],"]",")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],["T_STRING","trim",138],"(",["T_VARIABLE","$exportFilter",138],"[",["T_VARIABLE","$attributeCode",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                        ",138],["T_VARIABLE","$collection",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","addAttributeToFilter",139],"(",["T_WHITESPACE","\n                            ",139],["T_VARIABLE","$attributeCode",140],",",["T_WHITESPACE","\n                            ",140],"[",["T_CONSTANT_ENCAPSED_STRING","'like'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],"\"",["T_ENCAPSED_AND_WHITESPACE","%",141],["T_CURLY_OPEN","{",141],["T_VARIABLE","$exportFilter",141],"[",["T_VARIABLE","$attributeCode",141],"]","}",["T_ENCAPSED_AND_WHITESPACE","%",141],"\"","]",["T_WHITESPACE","\n                        ",141],")",";",["T_WHITESPACE","\n                    ",142],"}",["T_WHITESPACE","\n                ",143],"}",["T_WHITESPACE"," ",144],["T_ELSEIF","elseif",144],["T_WHITESPACE"," ",144],"(",["T_STRING","Export",144],["T_DOUBLE_COLON","::",144],["T_STRING","FILTER_TYPE_DATE",144],["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$attributeFilterType",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                    ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","is_array",145],"(",["T_VARIABLE","$exportFilter",145],"[",["T_VARIABLE","$attributeCode",145],"]",")",["T_WHITESPACE"," ",145],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE"," ",145],["T_STRING","count",145],"(",["T_VARIABLE","$exportFilter",145],"[",["T_VARIABLE","$attributeCode",145],"]",")",["T_WHITESPACE"," ",145],["T_IS_EQUAL","==",145],["T_WHITESPACE"," ",145],["T_LNUMBER","2",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                        ",145],["T_VARIABLE","$from",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","array_shift",146],"(",["T_VARIABLE","$exportFilter",146],"[",["T_VARIABLE","$attributeCode",146],"]",")",";",["T_WHITESPACE","\n                        ",146],["T_VARIABLE","$to",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","array_shift",147],"(",["T_VARIABLE","$exportFilter",147],"[",["T_VARIABLE","$attributeCode",147],"]",")",";",["T_WHITESPACE","\n\n                        ",147],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_STRING","is_scalar",149],"(",["T_VARIABLE","$from",149],")",["T_WHITESPACE"," ",149],["T_BOOLEAN_AND","&&",149],["T_WHITESPACE"," ",149],"!",["T_EMPTY","empty",149],"(",["T_VARIABLE","$from",149],")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                            ",149],["T_VARIABLE","$date",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"(",["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_NS_SEPARATOR","\\",150],["T_STRING","DateTime",150],"(",["T_VARIABLE","$from",150],")",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","format",150],"(",["T_CONSTANT_ENCAPSED_STRING","'m\/d\/Y'",150],")",";",["T_WHITESPACE","\n                            ",150],["T_VARIABLE","$collection",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","addAttributeToFilter",151],"(",["T_VARIABLE","$attributeCode",151],",",["T_WHITESPACE"," ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$date",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'date'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","true",151],"]",")",";",["T_WHITESPACE","\n                        ",151],"}",["T_WHITESPACE","\n                        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","is_scalar",153],"(",["T_VARIABLE","$to",153],")",["T_WHITESPACE"," ",153],["T_BOOLEAN_AND","&&",153],["T_WHITESPACE"," ",153],"!",["T_EMPTY","empty",153],"(",["T_VARIABLE","$to",153],")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                            ",153],["T_VARIABLE","$date",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],"(",["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_NS_SEPARATOR","\\",154],["T_STRING","DateTime",154],"(",["T_VARIABLE","$to",154],")",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","format",154],"(",["T_CONSTANT_ENCAPSED_STRING","'m\/d\/Y'",154],")",";",["T_WHITESPACE","\n                            ",154],["T_VARIABLE","$collection",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","addAttributeToFilter",155],"(",["T_VARIABLE","$attributeCode",155],",",["T_WHITESPACE"," ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$date",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'date'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","true",155],"]",")",";",["T_WHITESPACE","\n                        ",155],"}",["T_WHITESPACE","\n                    ",156],"}",["T_WHITESPACE","\n                ",157],"}",["T_WHITESPACE"," ",158],["T_ELSEIF","elseif",158],["T_WHITESPACE"," ",158],"(",["T_STRING","Export",158],["T_DOUBLE_COLON","::",158],["T_STRING","FILTER_TYPE_NUMBER",158],["T_WHITESPACE"," ",158],["T_IS_EQUAL","==",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$attributeFilterType",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                    ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_STRING","is_array",159],"(",["T_VARIABLE","$exportFilter",159],"[",["T_VARIABLE","$attributeCode",159],"]",")",["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_STRING","count",159],"(",["T_VARIABLE","$exportFilter",159],"[",["T_VARIABLE","$attributeCode",159],"]",")",["T_WHITESPACE"," ",159],["T_IS_EQUAL","==",159],["T_WHITESPACE"," ",159],["T_LNUMBER","2",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                        ",159],["T_VARIABLE","$from",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","array_shift",160],"(",["T_VARIABLE","$exportFilter",160],"[",["T_VARIABLE","$attributeCode",160],"]",")",";",["T_WHITESPACE","\n                        ",160],["T_VARIABLE","$to",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","array_shift",161],"(",["T_VARIABLE","$exportFilter",161],"[",["T_VARIABLE","$attributeCode",161],"]",")",";",["T_WHITESPACE","\n\n                        ",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_STRING","is_numeric",163],"(",["T_VARIABLE","$from",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                            ",163],["T_VARIABLE","$collection",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","addAttributeToFilter",164],"(",["T_VARIABLE","$attributeCode",164],",",["T_WHITESPACE"," ",164],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$from",164],"]",")",";",["T_WHITESPACE","\n                        ",164],"}",["T_WHITESPACE","\n                        ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","is_numeric",166],"(",["T_VARIABLE","$to",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                            ",166],["T_VARIABLE","$collection",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","addAttributeToFilter",167],"(",["T_VARIABLE","$attributeCode",167],",",["T_WHITESPACE"," ",167],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$to",167],"]",")",";",["T_WHITESPACE","\n                        ",167],"}",["T_WHITESPACE","\n                    ",168],"}",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$collection",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Add not skipped attributes to select\n     *\n     * @param AbstractCollection $collection\n     * @return AbstractCollection\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PROTECTED","protected",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","_addAttributesToCollection",182],"(",["T_STRING","AbstractCollection",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$collection",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$attributeCodes",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_getExportAttributeCodes",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$collection",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","addAttributeToSelect",185],"(",["T_VARIABLE","$attributeCodes",185],")",";",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$collection",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Returns attributes all values in label-value or value-value pairs form. Labels are lower-cased\n     *\n     * @param AbstractAttribute $attribute\n     * @return array\n     *\/",189],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getAttributeOptions",195],"(",["T_STRING","AbstractAttribute",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$attribute",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$options",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],"[","]",";",["T_WHITESPACE","\n\n        ",197],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$attribute",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","usesSource",199],"(",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_COMMENT","\/\/ should attribute has index (option value) instead of a label?\n",200],["T_WHITESPACE","            ",201],["T_VARIABLE","$index",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","in_array",201],"(",["T_VARIABLE","$attribute",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getAttributeCode",201],"(",")",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_indexValueAttributes",201],")",["T_WHITESPACE"," ",201],"?",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'value'",201],["T_WHITESPACE"," ",201],":",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'label'",201],";",["T_WHITESPACE","\n\n            ",201],["T_COMMENT","\/\/ only default (admin) store values used\n",203],["T_WHITESPACE","            ",204],["T_VARIABLE","$attribute",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setStoreId",204],"(",["T_STRING","Store",204],["T_DOUBLE_COLON","::",204],["T_STRING","DEFAULT_STORE_ID",204],")",";",["T_WHITESPACE","\n\n            ",204],["T_TRY","try",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                ",206],["T_FOREACH","foreach",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$attribute",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getSource",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getAllOptions",207],"(",["T_STRING","false",207],")",["T_WHITESPACE"," ",207],["T_AS","as",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$option",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                    ",207],["T_VARIABLE","$optionValues",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","is_array",208],"(",["T_VARIABLE","$option",208],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",208],"]",")",["T_WHITESPACE"," ",208],"?",["T_WHITESPACE"," ",208],["T_VARIABLE","$option",208],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",208],"]",["T_WHITESPACE"," ",208],":",["T_WHITESPACE"," ",208],"[",["T_VARIABLE","$option",208],"]",";",["T_WHITESPACE","\n                    ",208],["T_FOREACH","foreach",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$optionValues",209],["T_WHITESPACE"," ",209],["T_AS","as",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$innerOption",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_STRING","strlen",210],"(",["T_VARIABLE","$innerOption",210],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",210],"]",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                            ",210],["T_COMMENT","\/\/ skip ' -- Please Select -- ' option\n",211],["T_WHITESPACE","                            ",212],["T_VARIABLE","$options",212],"[",["T_VARIABLE","$innerOption",212],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",212],"]","]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$innerOption",212],"[",["T_VARIABLE","$index",212],"]",";",["T_WHITESPACE","\n                        ",212],"}",["T_WHITESPACE","\n                    ",213],"}",["T_WHITESPACE","\n                ",214],"}",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE"," ",216],["T_CATCH","catch",216],["T_WHITESPACE"," ",216],"(",["T_NS_SEPARATOR","\\",216],["T_STRING","Exception",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$e",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_COMMENT","\/\/ ignore exceptions connected with source models\n",217],["T_WHITESPACE","            ",218],"}",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$options",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Entity type ID getter\n     *\n     * @return int\n     *\/",223],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getEntityTypeId",228],"(",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_entityTypeId",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Fill row with attributes values\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $item export entity\n     * @param array $row data row\n     * @return array\n     *\/",233],["T_WHITESPACE","\n    ",239],["T_PROTECTED","protected",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","_addAttributeValuesToRow",240],"(",["T_NS_SEPARATOR","\\",240],["T_STRING","Magento",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Framework",240],["T_NS_SEPARATOR","\\",240],["T_STRING","Model",240],["T_NS_SEPARATOR","\\",240],["T_STRING","AbstractModel",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$item",240],",",["T_WHITESPACE"," ",240],["T_ARRAY","array",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$row",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[","]",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$validAttributeCodes",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_getExportAttributeCodes",242],"(",")",";",["T_WHITESPACE","\n        ",242],["T_COMMENT","\/\/ go through all valid attribute codes\n",243],["T_WHITESPACE","        ",244],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$validAttributeCodes",244],["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$attributeCode",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$attributeValue",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$item",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getData",245],"(",["T_VARIABLE","$attributeCode",245],")",";",["T_WHITESPACE","\n\n            ",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_ISSET","isset",247],"(",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_attributeValues",248],"[",["T_VARIABLE","$attributeCode",248],"]",["T_WHITESPACE","\n            ",248],")",["T_WHITESPACE"," ",249],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_ISSET","isset",249],"(",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_attributeValues",250],"[",["T_VARIABLE","$attributeCode",250],"]","[",["T_VARIABLE","$attributeValue",250],"]",["T_WHITESPACE","\n            ",250],")",["T_WHITESPACE","\n            ",251],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$attributeValue",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_attributeValues",253],"[",["T_VARIABLE","$attributeCode",253],"]","[",["T_VARIABLE","$attributeValue",253],"]",";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n            ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","null",255],["T_WHITESPACE"," ",255],["T_IS_NOT_IDENTICAL","!==",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$attributeValue",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$row",256],"[",["T_VARIABLE","$attributeCode",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$attributeValue",256],";",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$row",260],";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n",261],"}",["T_WHITESPACE","\n",262]]