[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_CLOSE_TAG","?>\n",8],["T_INLINE_HTML","<script>\nrequire([\n    \"jquery\",\n    \"tinymce\",\n    \"Magento_Ui\/js\/modal\/modal\",\n    \"prototype\",\n    \"mage\/adminhtml\/events\"\n], function(jQuery, tinyMCE, modal){\n\n\/\/<![CDATA[\n\nWindow.keepMultiModalWindow = true;\nvar catalogWysiwygEditor = {\n    overlayShowEffectOptions : null,\n    overlayHideEffectOptions : null,\n    modal: null,\n    open : function(editorUrl, elementId) {\n        if (editorUrl && elementId) {\n           jQuery.ajax({\n                url: editorUrl,\n                data: {\n                    element_id: elementId + '_editor',\n                    store_id: '",9],["T_OPEN_TAG","<?php ",31],["T_COMMENT","\/* @escapeNotVerified *\/",31],["T_WHITESPACE"," ",31],["T_ECHO","echo",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$block",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getStoreId",31],"(",")",["T_WHITESPACE"," ",31],["T_CLOSE_TAG","?>",31],["T_INLINE_HTML","'\n                },\n                showLoader: true,\n                dataType: 'html',\n                success: function(data, textStatus, transport) {\n                    this.openDialogWindow(data, elementId);\n                }.bind(this)\n            });\n        }\n    },\n    openDialogWindow : function(data, elementId) {\n        var self = this;\n\n        if (this.modal) {\n            this.modal.html(jQuery(data).html());\n        } else {\n            this.modal = jQuery(data).modal({\n                title: '",31],["T_OPEN_TAG","<?php ",48],["T_COMMENT","\/* @escapeNotVerified *\/",48],["T_WHITESPACE"," ",48],["T_ECHO","echo",48],["T_WHITESPACE"," ",48],["T_STRING","__",48],"(",["T_CONSTANT_ENCAPSED_STRING","'WYSIWYG Editor'",48],")",";",["T_WHITESPACE"," ",48],["T_CLOSE_TAG","?>",48],["T_INLINE_HTML","',\n                modalClass: 'magento',\n                type: 'slide',\n                firedElementId: elementId,\n                buttons: [{\n                    text: jQuery.mage.__('Cancel'),\n                    click: function () {\n                        self.closeDialogWindow(this);\n                    }\n                },{\n                    text: jQuery.mage.__('Submit'),\n                    click: function () {\n                        self.okDialogWindow(this);\n                    }\n                }],\n                close: function () {\n                    self.closeDialogWindow(this);\n                }\n            });\n        }\n        this.modal.modal('openModal');\n        $(elementId + '_editor').value = $(elementId).value;\n    },\n    okDialogWindow : function(dialogWindow) {\n        if (dialogWindow.options.firedElementId) {\n            wysiwygObj = eval('wysiwyg'+dialogWindow.options.firedElementId+'_editor');\n            wysiwygObj.turnOff();\n            if (tinyMCE.get(wysiwygObj.id)) {\n                $(dialogWindow.options.firedElementId).value = tinyMCE.get(wysiwygObj.id).getContent();\n            } else {\n                if ($(dialogWindow.options.firedElementId+'_editor')) {\n                    $(dialogWindow.options.firedElementId).value = $(dialogWindow.options.firedElementId+'_editor').value;\n                }\n            }\n            tinyMCE.editors[dialogWindow.options.firedElementId].load();\n            if (typeof varienGlobalEvents != undefined) {\n                varienGlobalEvents.fireEvent('tinymceChange');\n            }\n        }\n        this.closeDialogWindow(dialogWindow);\n    },\n    closeDialogWindow : function(dialogWindow) {\n        \/\/ remove form validation event after closing editor to prevent errors during save main form\n        if (typeof varienGlobalEvents != undefined && editorFormValidationHandler) {\n            varienGlobalEvents.removeEventHandler('formSubmit', editorFormValidationHandler);\n        }\n\n        \/\/IE fix - blocked form fields after closing\n        try {\n            $(dialogWindow.options.firedElementId).focus();\n        } catch (e) {\n            \/\/ie8 cannot focus hidden elements\n        }\n\n        \/\/destroy the instance of editor\n        wysiwygObj = eval('wysiwyg'+dialogWindow.options.firedElementId+'_editor');\n        if (tinyMCE.get(wysiwygObj.id)) {\n           tinyMCE.execCommand('mceRemoveControl', true, wysiwygObj.id);\n        }\n\n        dialogWindow.closeModal();\n        Windows.overlayShowEffectOptions = this.overlayShowEffectOptions;\n        Windows.overlayHideEffectOptions = this.overlayHideEffectOptions;\n    }\n};\n\nwindow.catalogWysiwygEditor = catalogWysiwygEditor;\n\/\/]]>\n\n});\n<\/script>\n",48]]