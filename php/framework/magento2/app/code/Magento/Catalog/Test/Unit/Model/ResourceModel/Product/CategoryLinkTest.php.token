[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceModel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CategoryLink",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PHPUnit_Framework_MockObject_MockObject",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","MockObject",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","CategoryLinkTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var CategoryLink\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PRIVATE","private",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$model",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection|MockObject\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PRIVATE","private",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$resourceMock",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\EntityManager\\MetadataPool|MockObject\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$metadataPoolMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Select|MockObject\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$dbSelectMock",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface|MockObject\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$connectionMock",36],";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","resourceMock",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMockBuilder",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","App",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ResourceConnection",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","disableOriginalConstructor",41],"(",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMock",42],"(",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","metadataPoolMock",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMockBuilder",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","EntityManager",43],["T_NS_SEPARATOR","\\",43],["T_STRING","MetadataPool",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","disableOriginalConstructor",44],"(",")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMock",45],"(",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","model",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","CategoryLink",47],"(",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","metadataPoolMock",48],",",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","resourceMock",49],["T_WHITESPACE","\n        ",49],")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","prepareAdapter",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","dbSelectMock",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMockBuilder",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","DB",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Select",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],")",["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","disableOriginalConstructor",56],"(",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","getMock",57],"(",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","connectionMock",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMockBuilder",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","DB",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Adapter",58],["T_NS_SEPARATOR","\\",58],["T_STRING","AdapterInterface",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMockForAbstractClass",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","connectionMock",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","expects",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","any",60],"(",")",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","method",60],"(",["T_CONSTANT_ENCAPSED_STRING","'select'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","willReturn",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","dbSelectMock",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","resourceMock",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","expects",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","any",61],"(",")",")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","method",62],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","willReturn",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","connectionMock",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","prepareMetadata",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$categoryLinkMetadata",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockBuilder",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","EntityManager",68],["T_NS_SEPARATOR","\\",68],["T_STRING","EntityMetadataInterface",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMockForAbstractClass",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$categoryLinkMetadata",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","any",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityTable'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","willReturn",70],"(",["T_CONSTANT_ENCAPSED_STRING","'category_link_table'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$categoryEntityMetadata",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMockBuilder",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","EntityManager",71],["T_NS_SEPARATOR","\\",71],["T_STRING","EntityMetadataInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMockForAbstractClass",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$categoryEntityMetadata",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","any",73],"(",")",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityTable'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","willReturn",73],"(",["T_CONSTANT_ENCAPSED_STRING","'category_entity_table'",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","metadataPoolMock",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","any",74],"(",")",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'getMetadata'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturnMap",74],"(",["T_WHITESPACE","\n            ",74],"[",["T_WHITESPACE","\n                ",75],"[",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Catalog",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Api",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Data",76],["T_NS_SEPARATOR","\\",76],["T_STRING","CategoryLinkInterface",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$categoryLinkMetadata",76],"]",",",["T_WHITESPACE","\n                ",76],"[",["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Catalog",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Api",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Data",77],["T_NS_SEPARATOR","\\",77],["T_STRING","CategoryInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$categoryEntityMetadata",77],"]",",",["T_WHITESPACE","\n            ",77],"]",["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testGetCategoryLinks",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","prepareAdapter",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","prepareMetadata",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$product",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockBuilder",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Catalog",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Api",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Data",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ProductInterface",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockForAbstractClass",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$product",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","expects",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","any",87],"(",")",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","method",87],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","willReturn",87],"(",["T_LNUMBER","1",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","connectionMock",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","expects",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","once",88],"(",")",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","method",88],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","with",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","dbSelectMock",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","willReturn",88],"(",["T_WHITESPACE","\n            ",88],"[",["T_WHITESPACE","\n                ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_LNUMBER","3",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'position'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_LNUMBER","10",90],"]",",",["T_WHITESPACE","\n                ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_LNUMBER","4",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'position'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_LNUMBER","20",91],"]",",",["T_WHITESPACE","\n            ",91],"]",["T_WHITESPACE","\n        ",92],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEquals",95],"(",["T_WHITESPACE","\n            ",95],"[",["T_WHITESPACE","\n                ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_LNUMBER","3",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'position'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_LNUMBER","10",97],"]",",",["T_WHITESPACE","\n                ",97],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","4",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'position'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","20",98],"]",",",["T_WHITESPACE","\n            ",98],"]",",",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","model",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getCategoryLinks",100],"(",["T_VARIABLE","$product",100],",",["T_WHITESPACE"," ",100],"[",["T_LNUMBER","3",100],",",["T_WHITESPACE"," ",100],["T_LNUMBER","4",100],"]",")",["T_WHITESPACE","\n        ",100],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @param array $newCategoryLinks\n     * @param array $dbCategoryLinks\n     * @param array $affectedIds\n     * @dataProvider getCategoryLinksDataProvider\n     *\/",104],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","testSaveCategoryLinks",110],"(",["T_VARIABLE","$newCategoryLinks",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$dbCategoryLinks",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$affectedIds",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","prepareAdapter",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","prepareMetadata",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$product",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMockBuilder",114],"(",["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Catalog",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Api",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Data",114],["T_NS_SEPARATOR","\\",114],["T_STRING","ProductInterface",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getMockForAbstractClass",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$product",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","any",115],"(",")",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","method",115],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","willReturn",115],"(",["T_LNUMBER","1",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","connectionMock",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","once",116],"(",")",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchAll'",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","with",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","dbSelectMock",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturn",119],"(",["T_VARIABLE","$dbCategoryLinks",119],")",";",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_EMPTY","empty",120],"(",["T_VARIABLE","$newCategoryLinks",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","connectionMock",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","once",121],"(",")",")",["T_WHITESPACE","\n                ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'fetchCol'",122],")",["T_WHITESPACE","\n                ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","with",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","dbSelectMock",123],")",["T_WHITESPACE","\n                ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","willReturn",124],"(",["T_WHITESPACE","\n                    ",124],["T_STRING","array_intersect",125],"(",["T_WHITESPACE","\n                        ",125],"[",["T_LNUMBER","3",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","4",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","5",126],"]",",",["T_WHITESPACE"," ",126],["T_COMMENT","\/\/ valid category_ids\n",126],["T_WHITESPACE","                        ",127],["T_STRING","array_column",127],"(",["T_VARIABLE","$newCategoryLinks",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'category_id'",127],")",["T_WHITESPACE","\n                    ",127],")",["T_WHITESPACE","\n                ",128],")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$actualResult",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","model",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","saveCategoryLinks",132],"(",["T_VARIABLE","$product",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$newCategoryLinks",132],")",";",["T_WHITESPACE","\n        ",132],["T_STRING","sort",133],"(",["T_VARIABLE","$actualResult",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_VARIABLE","$affectedIds",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$actualResult",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Category links data provider\n     *\n     * @return array\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","getCategoryLinksDataProvider",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],"[",["T_WHITESPACE","\n            ",144],"[",["T_WHITESPACE","\n                ",145],"[",["T_WHITESPACE","\n                    ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_LNUMBER","3",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'position'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_LNUMBER","10",147],"]",",",["T_WHITESPACE","\n                    ",147],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_LNUMBER","4",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'position'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_LNUMBER","20",148],"]",",",["T_WHITESPACE","\n                ",148],"]",",",["T_WHITESPACE","\n                ",149],"[",["T_WHITESPACE","\n                    ",150],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","3",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'position'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","10",151],"]",",",["T_WHITESPACE","\n                    ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_LNUMBER","4",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'position'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_LNUMBER","20",152],"]",",",["T_WHITESPACE","\n                ",152],"]",",",["T_WHITESPACE","\n                ",153],"[","]",",",["T_WHITESPACE"," ",154],["T_COMMENT","\/\/ Nothing to update - data not changed\n",154],["T_WHITESPACE","            ",155],"]",",",["T_WHITESPACE","\n            ",155],"[",["T_WHITESPACE","\n                ",156],"[",["T_WHITESPACE","\n                    ",157],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_LNUMBER","4",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'position'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_LNUMBER","30",158],"]",",",["T_WHITESPACE","\n                    ",158],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_LNUMBER","5",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'position'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_LNUMBER","40",159],"]",",",["T_WHITESPACE","\n                ",159],"]",",",["T_WHITESPACE","\n                ",160],"[",["T_WHITESPACE","\n                    ",161],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_LNUMBER","3",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'position'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_LNUMBER","10",162],"]",",",["T_WHITESPACE","\n                    ",162],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_LNUMBER","4",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'position'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_LNUMBER","20",163],"]",",",["T_WHITESPACE","\n                ",163],"]",",",["T_WHITESPACE","\n                ",164],"[",["T_LNUMBER","3",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","4",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","5",165],"]",",",["T_WHITESPACE"," ",165],["T_COMMENT","\/\/ 4 - updated position, 5 - added, 3 - deleted\n",165],["T_WHITESPACE","            ",166],"]",",",["T_WHITESPACE","\n            ",166],"[",["T_WHITESPACE","\n                ",167],"[",["T_WHITESPACE","\n                    ",168],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_LNUMBER","6",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'position'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_LNUMBER","30",169],"]",",",["T_WHITESPACE"," ",169],["T_COMMENT","\/\/6 - not valid category,\n",169],["T_WHITESPACE","                    ",170],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_LNUMBER","3",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'position'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_LNUMBER","40",170],"]",",",["T_WHITESPACE","\n                ",170],"]",",",["T_WHITESPACE","\n                ",171],"[",["T_WHITESPACE","\n                    ",172],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_LNUMBER","3",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'position'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_LNUMBER","10",173],"]",",",["T_WHITESPACE","\n                    ",173],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","4",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'position'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","20",174],"]",",",["T_WHITESPACE","\n                ",174],"]",",",["T_WHITESPACE","\n                ",175],"[",["T_LNUMBER","3",176],",",["T_WHITESPACE"," ",176],["T_LNUMBER","4",176],"]",",",["T_WHITESPACE"," ",176],["T_COMMENT","\/\/ 3 - updated position, 4 - deleted\n",176],["T_WHITESPACE","            ",177],"]",",",["T_WHITESPACE","\n            ",177],"[",["T_WHITESPACE","\n                ",178],"[","]",",",["T_WHITESPACE","\n                ",179],"[",["T_WHITESPACE","\n                    ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_LNUMBER","3",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'position'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_LNUMBER","10",181],"]",",",["T_WHITESPACE","\n                    ",181],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","4",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'position'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","20",182],"]",",",["T_WHITESPACE","\n                ",182],"]",",",["T_WHITESPACE","\n                ",183],"[",["T_LNUMBER","3",184],",",["T_WHITESPACE"," ",184],["T_LNUMBER","4",184],"]",",",["T_WHITESPACE"," ",184],["T_COMMENT","\/\/ 3, 4 - deleted\n",184],["T_WHITESPACE","            ",185],"]",",",["T_WHITESPACE","\n        ",185],"]",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n",187],"}",["T_WHITESPACE","\n",188]]