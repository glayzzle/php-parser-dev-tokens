[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","NoSuchEntityException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @SuppressWarnings(PHPMD.TooManyFields)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","LayerTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$model",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Category|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$category",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Registry|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$registry",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$storeManager",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\Store|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$store",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\ContextInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$context",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\Category\\StateKey|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$stateKeyGenerator",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\StateFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$stateFactory",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\State|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$state",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\Category\\CollectionFilter|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$collectionFilter",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PRIVATE","private",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$collection",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\ItemCollectionProviderInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$collectionProvider",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\Filter\\Item|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$filter",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\Filter\\AbstractFilter|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PRIVATE","private",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$abstractFilter",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\CategoryRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_PRIVATE","private",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$categoryRepository",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Category|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_PRIVATE","private",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$currentCategory",95],";",["T_WHITESPACE","\n\n    ",95],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","setUp",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$helper",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","ObjectManager",99],"(",["T_VARIABLE","$this",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","category",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMockBuilder",101],"(",["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Catalog",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Category",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","setMethods",102],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getId'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",102],"]",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","disableOriginalConstructor",103],"(",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",")",";",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","registry",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMockBuilder",106],"(",["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Registry",106],["T_DOUBLE_COLON","::",106],["T_CLASS","class",106],")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","setMethods",107],"(","[",["T_CONSTANT_ENCAPSED_STRING","'registry'",107],"]",")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","disableOriginalConstructor",108],"(",")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMock",109],"(",")",";",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","store",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMockBuilder",111],"(",["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Store",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Store",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","setMethods",112],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getRootCategoryId'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'getFilters'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",112],"]",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","disableOriginalConstructor",113],"(",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMockForAbstractClass",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","storeManager",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMockBuilder",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Store",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","StoreManagerInterface",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","setMethods",117],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getStore'",117],"]",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","disableOriginalConstructor",118],"(",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMockForAbstractClass",119],"(",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","storeManager",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","any",120],"(",")",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",120],")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","will",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","returnValue",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","store",121],")",")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","stateKeyGenerator",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getMockBuilder",123],"(",["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Catalog",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Model",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Layer",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Category",123],["T_NS_SEPARATOR","\\",123],["T_STRING","StateKey",123],["T_DOUBLE_COLON","::",123],["T_CLASS","class",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setMethods",124],"(","[",["T_CONSTANT_ENCAPSED_STRING","'toString'",124],"]",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","disableOriginalConstructor",125],"(",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMock",126],"(",")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","collectionFilter",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMockBuilder",128],"(",["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Catalog",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Model",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Layer",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Category",128],["T_NS_SEPARATOR","\\",128],["T_STRING","CollectionFilter",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","setMethods",129],"(","[",["T_CONSTANT_ENCAPSED_STRING","'filter'",129],"]",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","disableOriginalConstructor",130],"(",")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","getMock",131],"(",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","collectionProvider",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMockBuilder",133],"(",["T_WHITESPACE","\n            ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Catalog",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Layer",134],["T_NS_SEPARATOR","\\",134],["T_STRING","ItemCollectionProviderInterface",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],["T_WHITESPACE","\n        ",134],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","disableOriginalConstructor",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","getMockForAbstractClass",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","filter",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockBuilder",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Catalog",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Layer",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Filter",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Item",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","setMethods",138],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getFilter'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'getValueString'",138],"]",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","disableOriginalConstructor",139],"(",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","getMock",140],"(",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","abstractFilter",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMockBuilder",142],"(",["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Catalog",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Model",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Layer",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Filter",142],["T_NS_SEPARATOR","\\",142],["T_STRING","AbstractFilter",142],["T_DOUBLE_COLON","::",142],["T_CLASS","class",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","setMethods",143],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getRequestVar'",143],"]",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","disableOriginalConstructor",144],"(",")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMock",145],"(",")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","context",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getMockBuilder",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Catalog",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Layer",147],["T_NS_SEPARATOR","\\",147],["T_STRING","ContextInterface",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","setMethods",148],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getStateKey'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'getCollectionFilter'",148],"]",")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","disableOriginalConstructor",149],"(",")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMockForAbstractClass",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","context",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","expects",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","any",151],"(",")",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'getStateKey'",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","will",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","returnValue",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","stateKeyGenerator",152],")",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","context",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","any",153],"(",")",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'getCollectionFilter'",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","will",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","returnValue",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","collectionFilter",154],")",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","context",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","expects",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","any",155],"(",")",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","method",155],"(",["T_CONSTANT_ENCAPSED_STRING","'getCollectionProvider'",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","will",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","returnValue",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","collectionProvider",156],")",")",";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","state",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getMockBuilder",158],"(",["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Catalog",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Model",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Layer",158],["T_NS_SEPARATOR","\\",158],["T_STRING","State",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","disableOriginalConstructor",159],"(",")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","getMock",160],"(",")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","stateFactory",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getMockBuilder",162],"(",["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Catalog",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Model",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Layer",162],["T_NS_SEPARATOR","\\",162],["T_STRING","StateFactory",162],["T_DOUBLE_COLON","::",162],["T_CLASS","class",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","setMethods",163],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",163],"]",")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","disableOriginalConstructor",164],"(",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","getMock",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","stateFactory",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","any",166],"(",")",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",166],")",["T_OBJECT_OPERATOR","->",166],["T_STRING","will",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","returnValue",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","state",166],")",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","collection",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getMockBuilder",168],"(",["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Catalog",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Model",168],["T_NS_SEPARATOR","\\",168],["T_STRING","ResourceModel",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Product",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Collection",168],["T_DOUBLE_COLON","::",168],["T_CLASS","class",168],")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","disableOriginalConstructor",169],"(",")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","getMock",170],"(",")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","categoryRepository",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Catalog",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Api",172],["T_NS_SEPARATOR","\\",172],["T_STRING","CategoryRepositoryInterface",172],["T_DOUBLE_COLON","::",172],["T_CLASS","class",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","currentCategory",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getMock",173],"(",["T_WHITESPACE","\n            ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Catalog",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Model",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Category",174],["T_DOUBLE_COLON","::",174],["T_CLASS","class",174],",",["T_WHITESPACE","\n            ",174],"[",["T_CONSTANT_ENCAPSED_STRING","'getId'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",175],"]",",",["T_WHITESPACE","\n            ",175],"[","]",",",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","''",177],",",["T_WHITESPACE","\n            ",177],["T_STRING","false",178],["T_WHITESPACE","\n        ",178],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","model",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$helper",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getObject",181],"(",["T_WHITESPACE","\n            ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Catalog",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Model",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Layer",182],["T_DOUBLE_COLON","::",182],["T_CLASS","class",182],",",["T_WHITESPACE","\n            ",182],"[",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'registry'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","registry",184],",",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'storeManager'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","storeManager",185],",",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'context'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","context",186],",",["T_WHITESPACE","\n                ",186],["T_CONSTANT_ENCAPSED_STRING","'layerStateFactory'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","stateFactory",187],",",["T_WHITESPACE","\n                ",187],["T_CONSTANT_ENCAPSED_STRING","'categoryRepository'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","categoryRepository",188],",",["T_WHITESPACE","\n            ",188],"]",["T_WHITESPACE","\n        ",189],")",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","testGetState",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertInstanceOf",195],"(",["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Catalog",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Model",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Layer",195],["T_NS_SEPARATOR","\\",195],["T_STRING","State",195],["T_DOUBLE_COLON","::",195],["T_CLASS","class",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","model",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getState",195],"(",")",")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","testGetStateKey",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$stateKey",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'sk'",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","registry",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","expects",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","once",201],"(",")",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","with",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","equalTo",201],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",201],")",")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","will",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","returnValue",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","category",202],")",")",";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","stateKeyGenerator",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","once",204],"(",")",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","method",204],"(",["T_CONSTANT_ENCAPSED_STRING","'toString'",204],")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","with",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","equalTo",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","category",205],")",")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","will",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","returnValue",206],"(",["T_VARIABLE","$stateKey",206],")",")",";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertEquals",208],"(",["T_VARIABLE","$stateKey",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","model",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getStateKey",208],"(",")",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","testGetProductCollection",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","registry",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","expects",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","once",213],"(",")",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","method",213],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","with",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","equalTo",213],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",213],")",")",["T_WHITESPACE","\n            ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","will",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","returnValue",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","category",214],")",")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","category",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","expects",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","any",216],"(",")",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","method",216],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",216],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","will",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","returnValue",216],"(",["T_LNUMBER","333",216],")",")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","collectionFilter",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","method",218],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",218],")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","with",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","equalTo",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","collection",219],")",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","equalTo",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","category",219],")",")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","collectionProvider",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","expects",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","once",221],"(",")",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","method",221],"(",["T_CONSTANT_ENCAPSED_STRING","'getCollection'",221],")",["T_WHITESPACE","\n            ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","with",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","equalTo",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","category",222],")",")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","will",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","returnValue",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","collection",223],")",")",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$result",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","model",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getProductCollection",225],"(",")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertInstanceOf",226],"(",["T_NS_SEPARATOR","\\",226],["T_STRING","Magento",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Catalog",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Model",226],["T_NS_SEPARATOR","\\",226],["T_STRING","ResourceModel",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Product",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Collection",226],["T_DOUBLE_COLON","::",226],["T_CLASS","class",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$result",226],")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$result",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","model",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getProductCollection",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertInstanceOf",228],"(",["T_NS_SEPARATOR","\\",228],["T_STRING","Magento",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Catalog",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Model",228],["T_NS_SEPARATOR","\\",228],["T_STRING","ResourceModel",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Product",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Collection",228],["T_DOUBLE_COLON","::",228],["T_CLASS","class",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$result",228],")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","testApply",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$stateKey",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'sk'",233],";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","registry",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","expects",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","once",234],"(",")",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","method",234],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",234],")",["T_OBJECT_OPERATOR","->",234],["T_STRING","with",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","equalTo",234],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",234],")",")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","will",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","returnValue",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","category",235],")",")",";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","stateKeyGenerator",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","expects",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","once",237],"(",")",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","method",237],"(",["T_CONSTANT_ENCAPSED_STRING","'toString'",237],")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","with",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","equalTo",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","category",238],")",")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","will",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","returnValue",239],"(",["T_VARIABLE","$stateKey",239],")",")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","state",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","expects",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","any",241],"(",")",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","method",241],"(",["T_CONSTANT_ENCAPSED_STRING","'getFilters'",241],")",["T_OBJECT_OPERATOR","->",241],["T_STRING","will",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","returnValue",241],"(","[",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","filter",241],"]",")",")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","filter",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","expects",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","once",243],"(",")",")",["T_OBJECT_OPERATOR","->",243],["T_STRING","method",243],"(",["T_CONSTANT_ENCAPSED_STRING","'getFilter'",243],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","will",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","returnValue",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","abstractFilter",243],")",")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","filter",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","expects",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","once",244],"(",")",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","method",244],"(",["T_CONSTANT_ENCAPSED_STRING","'getValueString'",244],")",["T_OBJECT_OPERATOR","->",244],["T_STRING","will",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","returnValue",244],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",244],")",")",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","abstractFilter",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","expects",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","once",246],"(",")",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","method",246],"(",["T_CONSTANT_ENCAPSED_STRING","'getRequestVar'",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","will",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","returnValue",246],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",246],")",")",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$result",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","model",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","apply",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertInstanceOf",249],"(",["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Catalog",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Model",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Layer",249],["T_DOUBLE_COLON","::",249],["T_CLASS","class",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$result",249],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","testPrepareProductCollection",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","registry",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","once",254],"(",")",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","method",254],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","with",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","equalTo",254],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",254],")",")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","will",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","returnValue",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","category",255],")",")",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","collectionFilter",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","once",257],"(",")",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","method",257],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",257],")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","with",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","equalTo",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","collection",258],")",",",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","equalTo",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","category",258],")",")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$result",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","model",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","prepareProductCollection",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","collection",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertInstanceOf",261],"(",["T_NS_SEPARATOR","\\",261],["T_STRING","Magento",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Catalog",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Model",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Layer",261],["T_DOUBLE_COLON","::",261],["T_CLASS","class",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$result",261],")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","testGetCurrentStore",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertInstanceOf",266],"(",["T_NS_SEPARATOR","\\",266],["T_STRING","Magento",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Store",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Model",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Store",266],["T_DOUBLE_COLON","::",266],["T_CLASS","class",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","model",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getCurrentStore",266],"(",")",")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","testSetNewCurrentCategoryIfCurrentCategoryIsAnother",269],"(",")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$categoryId",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_LNUMBER","333",271],";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$currentCategoryId",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_LNUMBER","334",272],";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","category",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","expects",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","any",274],"(",")",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","method",274],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",274],")",["T_OBJECT_OPERATOR","->",274],["T_STRING","will",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","returnValue",274],"(",["T_VARIABLE","$categoryId",274],")",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","categoryRepository",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","expects",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","once",275],"(",")",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","method",275],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",275],")",["T_OBJECT_OPERATOR","->",275],["T_STRING","with",275],"(",["T_VARIABLE","$categoryId",275],")",["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","willReturn",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","category",276],")",";",["T_WHITESPACE","\n\n        ",276],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","currentCategory",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","expects",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","any",278],"(",")",")",["T_OBJECT_OPERATOR","->",278],["T_STRING","method",278],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",278],")",["T_OBJECT_OPERATOR","->",278],["T_STRING","willReturn",278],"(",["T_VARIABLE","$currentCategoryId",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","registry",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","expects",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","once",279],"(",")",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","method",279],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",279],")",["T_OBJECT_OPERATOR","->",279],["T_STRING","with",279],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",279],")",["T_WHITESPACE","\n            ",279],["T_OBJECT_OPERATOR","->",280],["T_STRING","willReturn",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","currentCategory",280],")",";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertInstanceOf",282],"(",["T_NS_SEPARATOR","\\",282],["T_STRING","Magento",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Catalog",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Model",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Layer",282],["T_DOUBLE_COLON","::",282],["T_CLASS","class",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","model",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","setCurrentCategory",282],"(",["T_VARIABLE","$categoryId",282],")",")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertEquals",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","currentCategory",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","model",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getData",283],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",283],")",")",";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","testSetNewCurrentCategoryIfCurrentCategoryIsSame",286],"(",")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$categoryId",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_LNUMBER","333",288],";",["T_WHITESPACE","\n\n        ",288],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","category",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","expects",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","any",290],"(",")",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","method",290],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",290],")",["T_OBJECT_OPERATOR","->",290],["T_STRING","will",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","returnValue",290],"(",["T_VARIABLE","$categoryId",290],")",")",";",["T_WHITESPACE","\n\n        ",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","categoryRepository",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","expects",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","once",292],"(",")",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","method",292],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",292],")",["T_OBJECT_OPERATOR","->",292],["T_STRING","with",292],"(",["T_VARIABLE","$categoryId",292],")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","willReturn",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","category",293],")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","registry",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","expects",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","once",294],"(",")",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","method",294],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",294],")",["T_OBJECT_OPERATOR","->",294],["T_STRING","with",294],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",294],")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","willReturn",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","category",295],")",";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","assertInstanceOf",297],"(",["T_NS_SEPARATOR","\\",297],["T_STRING","Magento",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Catalog",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Model",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Layer",297],["T_DOUBLE_COLON","::",297],["T_CLASS","class",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","model",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","setCurrentCategory",297],"(",["T_VARIABLE","$categoryId",297],")",")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assertEquals",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","category",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","model",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getData",298],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",298],")",")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Please correct the category.\n     *\/",301],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","testSetNewCurrentCategoryIfCategoryIsNotFound",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","categoryRepository",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","expects",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","once",307],"(",")",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","method",307],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",307],")",["T_WHITESPACE","\n            ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","will",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","throwException",308],"(",["T_NEW","new",308],["T_WHITESPACE"," ",308],["T_STRING","NoSuchEntityException",308],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",308],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","model",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","setCurrentCategory",310],"(",["T_LNUMBER","1",310],")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Must be category model instance or its id.\n     *\/",313],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","testSetCurrentCategoryInstanceOfException",317],"(",")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","model",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","setCurrentCategory",319],"(",["T_STRING","null",319],")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Please correct the category.\n     *\/",322],["T_WHITESPACE","\n    ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","testSetCurrentCategoryNotFoundException",326],"(",")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","category",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","expects",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","once",328],"(",")",")",["T_OBJECT_OPERATOR","->",328],["T_STRING","method",328],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",328],")",["T_OBJECT_OPERATOR","->",328],["T_STRING","will",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","returnValue",328],"(",["T_STRING","null",328],")",")",";",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","model",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setCurrentCategory",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","category",330],")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","testGetCurrentCategory",333],"(",")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","currentCategory",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getData",335],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",335],",",["T_WHITESPACE"," ",335],["T_STRING","null",335],")",";",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","registry",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","expects",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","once",337],"(",")",")",["T_OBJECT_OPERATOR","->",337],["T_STRING","method",337],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","with",337],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",337],")",["T_WHITESPACE","\n            ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","willReturn",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","currentCategory",338],")",";",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","assertEquals",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","currentCategory",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","model",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getCurrentCategory",340],"(",")",")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","assertEquals",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","currentCategory",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","model",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getData",341],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",341],")",")",";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","testGetCurrentCategoryIfCurrentCategoryIsNotSet",344],"(",")",["T_WHITESPACE","\n    ",344],"{",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$rootCategoryId",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_LNUMBER","333",346],";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","currentCategory",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getData",347],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",347],",",["T_WHITESPACE"," ",347],["T_STRING","null",347],")",";",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","registry",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","expects",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","once",349],"(",")",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","method",349],"(",["T_CONSTANT_ENCAPSED_STRING","'registry'",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","with",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","equalTo",349],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",349],")",")",["T_WHITESPACE","\n            ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","willReturn",350],"(",["T_STRING","null",350],")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","categoryRepository",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","expects",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","once",351],"(",")",")",["T_OBJECT_OPERATOR","->",351],["T_STRING","method",351],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",351],")",["T_OBJECT_OPERATOR","->",351],["T_STRING","with",351],"(",["T_VARIABLE","$rootCategoryId",351],")",["T_WHITESPACE","\n            ",351],["T_OBJECT_OPERATOR","->",352],["T_STRING","willReturn",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","category",352],")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","store",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","expects",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","any",353],"(",")",")",["T_OBJECT_OPERATOR","->",353],["T_STRING","method",353],"(",["T_CONSTANT_ENCAPSED_STRING","'getRootCategoryId'",353],")",["T_WHITESPACE","\n            ",353],["T_OBJECT_OPERATOR","->",354],["T_STRING","will",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","returnValue",354],"(",["T_VARIABLE","$rootCategoryId",354],")",")",";",["T_WHITESPACE","\n\n        ",354],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","assertEquals",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","currentCategory",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","model",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getCurrentCategory",356],"(",")",")",";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertEquals",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","currentCategory",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","model",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getData",357],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",357],")",")",";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n",358],"}",["T_WHITESPACE","\n",359]]