[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Pricing",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Price",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Product",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Option",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Value",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Option",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Pricing",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Price",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Pricing",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Price",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractPrice",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Pricing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SaleableInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Pricing",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Adjustment",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CalculatorInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Pricing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Amount",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AmountInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Class OptionPrice\n *\n *\/",16],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","CustomOptionPrice",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","AbstractPrice",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","CustomOptionPriceInterface",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Price model code\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","PRICE_CODE",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'custom_option_price'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$priceOptions",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Code of parent adjustment to be skipped from calculation\n     *\n     * @var string\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$excludeAdjustment",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","null",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @param SaleableInterface $saleableItem\n     * @param float $quantity\n     * @param CalculatorInterface $calculator\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param array $excludeAdjustment\n     *\/",39],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","__construct",46],"(",["T_WHITESPACE","\n        ",46],["T_STRING","SaleableInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$saleableItem",47],",",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$quantity",48],",",["T_WHITESPACE","\n        ",48],["T_STRING","CalculatorInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$calculator",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Pricing",50],["T_NS_SEPARATOR","\\",50],["T_STRING","PriceCurrencyInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$priceCurrency",50],",",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$excludeAdjustment",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","null",51],["T_WHITESPACE","\n    ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_STRING","parent",53],["T_DOUBLE_COLON","::",53],["T_STRING","__construct",53],"(",["T_VARIABLE","$saleableItem",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$quantity",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$calculator",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$priceCurrency",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","excludeAdjustment",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$excludeAdjustment",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Get minimal and maximal option values\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",57],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getValue",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$optionValues",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$options",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","product",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getOptions",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$options",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_DOC_COMMENT","\/** @var $optionItem \\Magento\\Catalog\\Model\\Product\\Option *\/",69],["T_WHITESPACE","\n            ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$options",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$optionItem",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$min",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],";",["T_WHITESPACE","\n                ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_VARIABLE","$optionItem",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getIsRequire",72],"(",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                    ",72],["T_VARIABLE","$min",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_DNUMBER","0.",73],";",["T_WHITESPACE","\n                ",73],"}",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$max",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_DNUMBER","0.",75],";",["T_WHITESPACE","\n                ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$optionItem",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getValues",76],"(",")",["T_WHITESPACE"," ",76],["T_IS_IDENTICAL","===",76],["T_WHITESPACE"," ",76],["T_STRING","null",76],["T_WHITESPACE"," ",76],["T_BOOLEAN_AND","&&",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$optionItem",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getPrice",76],"(",")",["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_STRING","null",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_VARIABLE","$price",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$optionItem",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getPrice",77],"(",["T_VARIABLE","$optionItem",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getPriceType",77],"(",")",["T_WHITESPACE"," ",77],["T_IS_EQUAL","==",77],["T_WHITESPACE"," ",77],["T_STRING","Value",77],["T_DOUBLE_COLON","::",77],["T_STRING","TYPE_PERCENT",77],")",";",["T_WHITESPACE","\n                    ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$min",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                        ",78],["T_VARIABLE","$min",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$price",79],";",["T_WHITESPACE","\n                    ",79],"}",["T_WHITESPACE"," ",80],["T_ELSEIF","elseif",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$price",80],["T_WHITESPACE"," ",80],"<",["T_WHITESPACE"," ",80],["T_VARIABLE","$min",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                        ",80],["T_VARIABLE","$min",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$price",81],";",["T_WHITESPACE","\n                    ",81],"}",["T_WHITESPACE","\n                    ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$price",83],["T_WHITESPACE"," ",83],">",["T_WHITESPACE"," ",83],["T_VARIABLE","$max",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                        ",83],["T_VARIABLE","$max",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$price",84],";",["T_WHITESPACE","\n                    ",84],"}",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE"," ",86],["T_ELSE","else",86],["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                    ",86],["T_DOC_COMMENT","\/** @var $optionValue \\Magento\\Catalog\\Model\\Product\\Option\\Value *\/",87],["T_WHITESPACE","\n                    ",87],["T_FOREACH","foreach",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$optionItem",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getValues",88],"(",")",["T_WHITESPACE"," ",88],["T_AS","as",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$optionValue",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                        ",88],["T_VARIABLE","$price",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$optionValue",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getPrice",89],"(",["T_VARIABLE","$optionValue",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getPriceType",89],"(",")",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_STRING","Value",89],["T_DOUBLE_COLON","::",89],["T_STRING","TYPE_PERCENT",89],")",";",["T_WHITESPACE","\n                        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$min",90],["T_WHITESPACE"," ",90],["T_IS_IDENTICAL","===",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                            ",90],["T_VARIABLE","$min",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$price",91],";",["T_WHITESPACE","\n                        ",91],"}",["T_WHITESPACE"," ",92],["T_ELSEIF","elseif",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$price",92],["T_WHITESPACE"," ",92],"<",["T_WHITESPACE"," ",92],["T_VARIABLE","$min",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                            ",92],["T_VARIABLE","$min",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$price",93],";",["T_WHITESPACE","\n                        ",93],"}",["T_WHITESPACE","\n                        ",94],["T_VARIABLE","$type",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$optionItem",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getType",95],"(",")",";",["T_WHITESPACE","\n                        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$type",96],["T_WHITESPACE"," ",96],["T_IS_EQUAL","==",96],["T_WHITESPACE"," ",96],["T_STRING","Option",96],["T_DOUBLE_COLON","::",96],["T_STRING","OPTION_TYPE_CHECKBOX",96],["T_WHITESPACE"," ",96],["T_BOOLEAN_OR","||",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$type",96],["T_WHITESPACE"," ",96],["T_IS_EQUAL","==",96],["T_WHITESPACE"," ",96],["T_STRING","Option",96],["T_DOUBLE_COLON","::",96],["T_STRING","OPTION_TYPE_MULTIPLE",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                            ",96],["T_VARIABLE","$max",97],["T_WHITESPACE"," ",97],["T_PLUS_EQUAL","+=",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$price",97],";",["T_WHITESPACE","\n                        ",97],"}",["T_WHITESPACE"," ",98],["T_ELSEIF","elseif",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$price",98],["T_WHITESPACE"," ",98],">",["T_WHITESPACE"," ",98],["T_VARIABLE","$max",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                            ",98],["T_VARIABLE","$max",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$price",99],";",["T_WHITESPACE","\n                        ",99],"}",["T_WHITESPACE","\n                    ",100],"}",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$optionValues",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n                    ",103],["T_CONSTANT_ENCAPSED_STRING","'option_id'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$optionItem",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getId",104],"(",")",",",["T_WHITESPACE","\n                    ",104],["T_CONSTANT_ENCAPSED_STRING","'type'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$optionItem",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getType",105],"(",")",",",["T_WHITESPACE","\n                    ",105],["T_CONSTANT_ENCAPSED_STRING","'min'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$min",106],["T_WHITESPACE"," ",106],["T_IS_IDENTICAL","===",106],["T_WHITESPACE"," ",106],["T_STRING","null",106],")",["T_WHITESPACE"," ",106],"?",["T_WHITESPACE"," ",106],["T_DNUMBER","0.",106],["T_WHITESPACE"," ",106],":",["T_WHITESPACE"," ",106],["T_VARIABLE","$min",106],",",["T_WHITESPACE","\n                    ",106],["T_CONSTANT_ENCAPSED_STRING","'max'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$max",107],",",["T_WHITESPACE","\n                ",107],"]",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$optionValues",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @param float $amount\n     * @param null|bool|string|array $exclude\n     * @param null|array $context\n     * @return AmountInterface|bool|float\n     *\/",114],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getCustomAmount",120],"(",["T_VARIABLE","$amount",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","null",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$exclude",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","null",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$context",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[","]",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_STRING","null",122],["T_WHITESPACE"," ",122],["T_IS_NOT_IDENTICAL","!==",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$amount",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$amount",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","priceCurrency",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","convertAndRound",123],"(",["T_VARIABLE","$amount",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE"," ",124],["T_ELSE","else",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$amount",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getValue",125],"(",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$exclude",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","excludeAdjustment",127],";",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","calculator",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getAmount",128],"(",["T_VARIABLE","$amount",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getProduct",128],"(",")",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$exclude",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$context",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Return the minimal or maximal price for custom options\n     *\n     * @param bool $getMin\n     * @return float\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getCustomOptionRange",137],"(",["T_VARIABLE","$getMin",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$optionValue",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_DNUMBER","0.",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$options",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getValue",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$options",141],["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$option",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$getMin",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$optionValue",143],["T_WHITESPACE"," ",143],["T_PLUS_EQUAL","+=",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$option",143],"[",["T_CONSTANT_ENCAPSED_STRING","'min'",143],"]",";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE"," ",144],["T_ELSE","else",144],["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$optionValue",145],["T_WHITESPACE"," ",145],["T_PLUS_EQUAL","+=",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$option",145],"[",["T_CONSTANT_ENCAPSED_STRING","'max'",145],"]",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","priceCurrency",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","convertAndRound",148],"(",["T_VARIABLE","$optionValue",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Return price for select custom options\n     *\n     * @return float\n     *\/",151],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getSelectedOptions",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_STRING","null",158],["T_WHITESPACE"," ",158],["T_IS_NOT_IDENTICAL","!==",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","value",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","value",159],";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","value",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","false",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$optionIds",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","product",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getCustomOption",162],"(",["T_CONSTANT_ENCAPSED_STRING","'option_ids'",162],")",";",["T_WHITESPACE","\n        ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","!",["T_VARIABLE","$optionIds",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","value",164],";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","value",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_DNUMBER","0.",166],";",["T_WHITESPACE","\n\n        ",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$optionIds",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$values",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","explode",169],"(",["T_CONSTANT_ENCAPSED_STRING","','",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$optionIds",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getValue",169],"(",")",")",";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$values",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","array_filter",170],"(",["T_VARIABLE","$values",170],")",";",["T_WHITESPACE","\n            ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_EMPTY","empty",171],"(",["T_VARIABLE","$values",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","value",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","processOptions",172],"(",["T_VARIABLE","$values",172],")",";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","value",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Process Product Options\n     *\n     * @param array $values\n     * @return float\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","processOptions",184],"(",["T_ARRAY","array",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$values",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$value",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_DNUMBER","0.",186],";",["T_WHITESPACE","\n        ",186],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$values",187],["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$optionId",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$option",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","product",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getOptionById",188],"(",["T_VARIABLE","$optionId",188],")",";",["T_WHITESPACE","\n            ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_VARIABLE","$option",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_CONTINUE","continue",190],";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$confItemOption",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","product",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getCustomOption",192],"(",["T_CONSTANT_ENCAPSED_STRING","'option_'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$option",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getId",192],"(",")",")",";",["T_WHITESPACE","\n\n            ",192],["T_VARIABLE","$group",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$option",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","groupFactory",194],"(",["T_VARIABLE","$option",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getType",194],"(",")",")",["T_WHITESPACE","\n                ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","setOption",195],"(",["T_VARIABLE","$option",195],")",["T_WHITESPACE","\n                ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","setConfigurationItemOption",196],"(",["T_VARIABLE","$confItemOption",196],")",";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$value",197],["T_WHITESPACE"," ",197],["T_PLUS_EQUAL","+=",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$group",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getOptionPrice",197],"(",["T_VARIABLE","$confItemOption",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getValue",197],"(",")",",",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","value",197],")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$value",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Get Product Options\n     *\n     * @return array\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","getOptions",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_STRING","null",209],["T_WHITESPACE"," ",209],["T_IS_NOT_IDENTICAL","!==",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","priceOptions",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","priceOptions",210],";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","priceOptions",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],"[","]",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$options",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","product",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getOptions",213],"(",")",";",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$options",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_DOC_COMMENT","\/** @var $optionItem \\Magento\\Catalog\\Model\\Product\\Option *\/",215],["T_WHITESPACE","\n            ",215],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$options",216],["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$optionItem",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_DOC_COMMENT","\/** @var $optionValue \\Magento\\Catalog\\Model\\Product\\Option\\Value *\/",217],["T_WHITESPACE","\n                ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$optionItem",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getValues",218],"(",")",["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$optionValue",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                    ",218],["T_VARIABLE","$price",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$optionValue",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getPrice",219],"(",["T_VARIABLE","$optionValue",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getPriceType",219],"(",")",["T_WHITESPACE"," ",219],["T_IS_EQUAL","==",219],["T_WHITESPACE"," ",219],["T_STRING","Value",219],["T_DOUBLE_COLON","::",219],["T_STRING","TYPE_PERCENT",219],")",";",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","priceOptions",220],"[",["T_VARIABLE","$optionValue",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getId",220],"(",")","]","[",["T_VARIABLE","$price",220],"]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],"[",["T_WHITESPACE","\n                        ",220],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$price",221],",",["T_WHITESPACE","\n                        ",221],["T_CONSTANT_ENCAPSED_STRING","'adjustment'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getCustomAmount",222],"(",["T_VARIABLE","$price",222],")",["T_OBJECT_OPERATOR","->",222],["T_STRING","getValue",222],"(",")",",",["T_WHITESPACE","\n                    ",222],"]",";",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","priceOptions",227],";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n",228],"}",["T_WHITESPACE","\n",229]]