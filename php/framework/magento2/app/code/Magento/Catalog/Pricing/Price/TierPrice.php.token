[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Pricing",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Price",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Product",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","GroupManagementInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Customer",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Session",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Pricing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Adjustment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CalculatorInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Pricing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Amount",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AmountInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Pricing",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Price",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractPrice",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Pricing",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Price",17],["T_NS_SEPARATOR","\\",17],["T_STRING","BasePriceProviderInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Pricing",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PriceInfoInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Tire prices model\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","TierPrice",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","AbstractPrice",23],["T_WHITESPACE"," ",23],["T_IMPLEMENTS","implements",23],["T_WHITESPACE"," ",23],["T_STRING","TierPriceInterface",23],",",["T_WHITESPACE"," ",23],["T_STRING","BasePriceProviderInterface",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * Price type tier\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","PRICE_CODE",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'tier_price'",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var Session\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$customerSession",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$customerGroup",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Raw price list stored in DB\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$rawPriceList",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Applicable price list\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$priceList",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var GroupManagementInterface\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$groupManagement",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @param Product $saleableItem\n     * @param float $quantity\n     * @param CalculatorInterface $calculator\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param Session $customerSession\n     * @param GroupManagementInterface $groupManagement\n     *\/",59],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","__construct",67],"(",["T_WHITESPACE","\n        ",67],["T_STRING","Product",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$saleableItem",68],",",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$quantity",69],",",["T_WHITESPACE","\n        ",69],["T_STRING","CalculatorInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$calculator",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Pricing",71],["T_NS_SEPARATOR","\\",71],["T_STRING","PriceCurrencyInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$priceCurrency",71],",",["T_WHITESPACE","\n        ",71],["T_STRING","Session",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$customerSession",72],",",["T_WHITESPACE","\n        ",72],["T_STRING","GroupManagementInterface",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$groupManagement",73],["T_WHITESPACE","\n    ",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$quantity",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$quantity",75],["T_WHITESPACE"," ",75],"?",":",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],";",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","__construct",76],"(",["T_VARIABLE","$saleableItem",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$quantity",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$calculator",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$priceCurrency",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","customerSession",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$customerSession",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","groupManagement",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$groupManagement",78],";",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$saleableItem",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","hasCustomerGroupId",79],"(",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","customerGroup",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_INT_CAST","(int)",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$saleableItem",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getCustomerGroupId",80],"(",")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE"," ",81],["T_ELSE","else",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","customerGroup",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_INT_CAST","(int)",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","customerSession",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getCustomerGroupId",82],"(",")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Get price value\n     *\n     * @return bool|float\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getValue",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_STRING","null",93],["T_WHITESPACE"," ",93],["T_IS_IDENTICAL","===",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","value",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$prices",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getStoredTierPrices",94],"(",")",";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$prevQty",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","PriceInfoInterface",95],["T_DOUBLE_COLON","::",95],["T_STRING","PRODUCT_QUANTITY_DEFAULT",95],";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","value",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$prevPrice",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$tierPrice",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","false",96],";",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$priceGroup",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","groupManagement",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getAllCustomersGroup",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getId",97],"(",")",";",["T_WHITESPACE","\n\n            ",97],["T_FOREACH","foreach",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$prices",99],["T_WHITESPACE"," ",99],["T_AS","as",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$price",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","canApplyTierPrice",100],"(",["T_VARIABLE","$price",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$priceGroup",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$prevQty",100],")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                    ",100],["T_CONTINUE","continue",101],";",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n                ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_STRING","false",103],["T_WHITESPACE"," ",103],["T_IS_IDENTICAL","===",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$prevPrice",103],["T_WHITESPACE"," ",103],["T_BOOLEAN_OR","||",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isFirstPriceBetter",103],"(",["T_VARIABLE","$price",103],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",103],"]",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$prevPrice",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$tierPrice",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$prevPrice",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$price",104],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",104],"]",";",["T_WHITESPACE","\n                    ",104],["T_VARIABLE","$prevQty",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$price",105],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",105],"]",";",["T_WHITESPACE","\n                    ",105],["T_VARIABLE","$priceGroup",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$price",106],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",106],"]",";",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","value",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_DOUBLE_CAST","(float)",107],["T_VARIABLE","$tierPrice",107],";",["T_WHITESPACE","\n                ",107],"}",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","value",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Returns true if first price is better\n     *\n     * Method filters tiers price values, lower tier price value is better\n     *\n     * @param float $firstPrice\n     * @param float $secondPrice\n     * @return bool\n     *\/",114],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","isFirstPriceBetter",123],"(",["T_VARIABLE","$firstPrice",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$secondPrice",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$firstPrice",125],["T_WHITESPACE"," ",125],"<",["T_WHITESPACE"," ",125],["T_VARIABLE","$secondPrice",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getTierPriceCount",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","count",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getTierPriceList",133],"(",")",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",136],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getTierPriceList",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_STRING","null",141],["T_WHITESPACE"," ",141],["T_IS_IDENTICAL","===",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","priceList",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$priceList",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getStoredTierPrices",142],"(",")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","priceList",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","filterTierPrices",143],"(",["T_VARIABLE","$priceList",143],")",";",["T_WHITESPACE","\n            ",143],["T_STRING","array_walk",144],"(",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","priceList",145],",",["T_WHITESPACE","\n                ",145],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],"(","&",["T_VARIABLE","$priceData",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                    ",146],["T_COMMENT","\/* convert string value to float *\/",147],["T_WHITESPACE","\n                    ",147],["T_VARIABLE","$priceData",148],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$priceData",148],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",148],"]",["T_WHITESPACE"," ",148],"*",["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],";",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$priceData",149],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","applyAdjustment",149],"(",["T_VARIABLE","$priceData",149],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",149],"]",")",";",["T_WHITESPACE","\n                ",149],"}",["T_WHITESPACE","\n            ",150],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","priceList",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @param array $priceList\n     * @return array\n     *\/",156],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","filterTierPrices",160],"(",["T_ARRAY","array",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$priceList",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$qtyCache",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[","]",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$allCustomersGroupId",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","groupManagement",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getAllCustomersGroup",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getId",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$priceList",164],["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$priceKey",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],"&",["T_VARIABLE","$price",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$price",165],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",165],"]",["T_WHITESPACE"," ",165],["T_IS_GREATER_OR_EQUAL",">=",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","priceInfo",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getPrice",165],"(",["T_STRING","FinalPrice",165],["T_DOUBLE_COLON","::",165],["T_STRING","PRICE_CODE",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","getValue",165],"(",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_UNSET","unset",166],"(",["T_VARIABLE","$priceList",166],"[",["T_VARIABLE","$priceKey",166],"]",")",";",["T_WHITESPACE","\n                ",166],["T_CONTINUE","continue",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n\n            ",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_ISSET","isset",170],"(",["T_VARIABLE","$price",170],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",170],"]",")",["T_WHITESPACE"," ",170],["T_BOOLEAN_AND","&&",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$price",170],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",170],"]",["T_WHITESPACE"," ",170],["T_IS_EQUAL","==",170],["T_WHITESPACE"," ",170],["T_LNUMBER","1",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_UNSET","unset",171],"(",["T_VARIABLE","$priceList",171],"[",["T_VARIABLE","$priceKey",171],"]",")",";",["T_WHITESPACE","\n                ",171],["T_CONTINUE","continue",172],";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n            ",173],["T_COMMENT","\/* filter price by customer group *\/",174],["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$price",175],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",175],"]",["T_WHITESPACE"," ",175],["T_IS_NOT_EQUAL","!=",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","customerGroup",175],["T_WHITESPACE"," ",175],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE","\n                ",175],["T_VARIABLE","$price",176],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",176],"]",["T_WHITESPACE"," ",176],["T_IS_NOT_EQUAL","!=",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$allCustomersGroupId",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_UNSET","unset",177],"(",["T_VARIABLE","$priceList",177],"[",["T_VARIABLE","$priceKey",177],"]",")",";",["T_WHITESPACE","\n                ",177],["T_CONTINUE","continue",178],";",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE","\n            ",179],["T_COMMENT","\/* select a lower price for each quantity *\/",180],["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_ISSET","isset",181],"(",["T_VARIABLE","$qtyCache",181],"[",["T_VARIABLE","$price",181],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",181],"]","]",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$priceQty",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$qtyCache",182],"[",["T_VARIABLE","$price",182],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",182],"]","]",";",["T_WHITESPACE","\n                ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","isFirstPriceBetter",183],"(",["T_VARIABLE","$price",183],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",183],"]",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$priceList",183],"[",["T_VARIABLE","$priceQty",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                    ",183],["T_UNSET","unset",184],"(",["T_VARIABLE","$priceList",184],"[",["T_VARIABLE","$priceQty",184],"]",")",";",["T_WHITESPACE","\n                    ",184],["T_VARIABLE","$qtyCache",185],"[",["T_VARIABLE","$price",185],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",185],"]","]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$priceKey",185],";",["T_WHITESPACE","\n                ",185],"}",["T_WHITESPACE"," ",186],["T_ELSE","else",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                    ",186],["T_UNSET","unset",187],"(",["T_VARIABLE","$priceList",187],"[",["T_VARIABLE","$priceKey",187],"]",")",";",["T_WHITESPACE","\n                ",187],"}",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE"," ",189],["T_ELSE","else",189],["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$qtyCache",190],"[",["T_VARIABLE","$price",190],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",190],"]","]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$priceKey",190],";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","array_values",193],"(",["T_VARIABLE","$priceList",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * @return float\n     *\/",196],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","getBasePrice",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_DOC_COMMENT","\/** @var float $productPrice is a minimal available price *\/",201],["T_WHITESPACE","\n        ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","priceInfo",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getPrice",202],"(",["T_STRING","BasePrice",202],["T_DOUBLE_COLON","::",202],["T_STRING","PRICE_CODE",202],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getValue",202],"(",")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * @param AmountInterface $amount\n     * @return float\n     *\/",205],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getSavePercent",209],"(",["T_STRING","AmountInterface",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$amount",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_STRING","round",211],"(",["T_WHITESPACE","\n            ",211],["T_LNUMBER","100",212],["T_WHITESPACE"," ",212],"-",["T_WHITESPACE"," ",212],"(","(",["T_LNUMBER","100",212],["T_WHITESPACE"," ",212],"\/",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","priceInfo",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getPrice",212],"(",["T_STRING","FinalPrice",212],["T_DOUBLE_COLON","::",212],["T_STRING","PRICE_CODE",212],")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getValue",212],"(",")",")",["T_WHITESPACE","\n                ",212],"*",["T_WHITESPACE"," ",213],["T_VARIABLE","$amount",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getBaseAmount",213],"(",")",")",["T_WHITESPACE","\n        ",213],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * @param float|string $price\n     * @return \\Magento\\Framework\\Pricing\\Amount\\AmountInterface\n     *\/",217],["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","applyAdjustment",221],"(",["T_VARIABLE","$price",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","calculator",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getAmount",223],"(",["T_VARIABLE","$price",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","product",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Can apply tier price\n     *\n     * @param array $currentTierPrice\n     * @param int $prevPriceGroup\n     * @param float|string $prevQty\n     * @return bool\n     *\/",226],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","canApplyTierPrice",234],"(",["T_ARRAY","array",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$currentTierPrice",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$prevPriceGroup",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$prevQty",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$custGroupAllId",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_INT_CAST","(int)",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","groupManagement",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getAllCustomersGroup",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","getId",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_COMMENT","\/\/ Tier price can be applied, if:\n",237],["T_WHITESPACE","        ",238],["T_COMMENT","\/\/ tier price is for current customer group or is for all groups\n",238],["T_WHITESPACE","        ",239],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_INT_CAST","(int)",239],["T_VARIABLE","$currentTierPrice",239],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",239],"]",["T_WHITESPACE"," ",239],["T_IS_NOT_IDENTICAL","!==",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","customerGroup",239],["T_WHITESPACE","\n            ",239],["T_BOOLEAN_AND","&&",240],["T_WHITESPACE"," ",240],["T_INT_CAST","(int)",240],["T_VARIABLE","$currentTierPrice",240],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",240],"]",["T_WHITESPACE"," ",240],["T_IS_NOT_IDENTICAL","!==",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$custGroupAllId",240],["T_WHITESPACE","\n        ",240],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_STRING","false",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_COMMENT","\/\/ and tier qty is lower than product qty\n",244],["T_WHITESPACE","        ",245],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","quantity",245],["T_WHITESPACE"," ",245],"<",["T_WHITESPACE"," ",245],["T_VARIABLE","$currentTierPrice",245],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",245],"]",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_STRING","false",246],";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n        ",247],["T_COMMENT","\/\/ and tier qty is bigger than previous qty\n",248],["T_WHITESPACE","        ",249],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$currentTierPrice",249],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",249],"]",["T_WHITESPACE"," ",249],"<",["T_WHITESPACE"," ",249],["T_VARIABLE","$prevQty",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","false",250],";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_COMMENT","\/\/ and found tier qty is same as previous tier qty, but current tier group isn't ALL_GROUPS\n",252],["T_WHITESPACE","        ",253],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$currentTierPrice",253],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",253],"]",["T_WHITESPACE"," ",253],["T_IS_EQUAL","==",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$prevQty",253],["T_WHITESPACE","\n            ",253],["T_BOOLEAN_AND","&&",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$prevPriceGroup",254],["T_WHITESPACE"," ",254],["T_IS_NOT_IDENTICAL","!==",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$custGroupAllId",254],["T_WHITESPACE","\n            ",254],["T_BOOLEAN_AND","&&",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$currentTierPrice",255],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",255],"]",["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$custGroupAllId",255],["T_WHITESPACE","\n        ",255],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","false",257],";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_STRING","true",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Get clear tier price list stored in DB\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",262],["T_WHITESPACE","\n    ",267],["T_PROTECTED","protected",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getStoredTierPrices",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","null",270],["T_WHITESPACE"," ",270],["T_IS_IDENTICAL","===",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","rawPriceList",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","rawPriceList",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","product",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getData",271],"(",["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","PRICE_CODE",271],")",";",["T_WHITESPACE","\n            ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","null",272],["T_WHITESPACE"," ",272],["T_IS_IDENTICAL","===",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","rawPriceList",272],["T_WHITESPACE"," ",272],["T_BOOLEAN_OR","||",272],["T_WHITESPACE"," ",272],"!",["T_STRING","is_array",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","rawPriceList",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_DOC_COMMENT","\/** @var \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute $attribute *\/",273],["T_WHITESPACE","\n                ",273],["T_VARIABLE","$attribute",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","product",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getResource",274],"(",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","getAttribute",274],"(",["T_STRING","self",274],["T_DOUBLE_COLON","::",274],["T_STRING","PRICE_CODE",274],")",";",["T_WHITESPACE","\n                ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$attribute",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                    ",275],["T_VARIABLE","$attribute",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getBackend",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","afterLoad",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","product",276],")",";",["T_WHITESPACE","\n                    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","rawPriceList",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","product",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getData",277],"(",["T_STRING","self",277],["T_DOUBLE_COLON","::",277],["T_STRING","PRICE_CODE",277],")",";",["T_WHITESPACE","\n                ",277],"}",["T_WHITESPACE","\n            ",278],"}",["T_WHITESPACE","\n            ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_STRING","null",280],["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","rawPriceList",280],["T_WHITESPACE"," ",280],["T_BOOLEAN_OR","||",280],["T_WHITESPACE"," ",280],"!",["T_STRING","is_array",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","rawPriceList",280],")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","rawPriceList",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],"[","]",";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n            ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","isPercentageDiscount",283],"(",")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_FOREACH","foreach",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","rawPriceList",284],["T_WHITESPACE"," ",284],["T_AS","as",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$index",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$rawPrice",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                    ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_ISSET","isset",285],"(",["T_VARIABLE","$rawPrice",285],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",285],"]",")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","rawPriceList",286],"[",["T_VARIABLE","$index",286],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",286],"]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE","\n                            ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","priceCurrency",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","convertAndRound",287],"(",["T_VARIABLE","$rawPrice",287],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",287],"]",")",";",["T_WHITESPACE","\n                    ",287],"}",["T_WHITESPACE","\n                    ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_ISSET","isset",289],"(",["T_VARIABLE","$rawPrice",289],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",289],"]",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","rawPriceList",290],"[",["T_VARIABLE","$index",290],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",290],"]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE","\n                            ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","priceCurrency",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","convertAndRound",291],"(",["T_VARIABLE","$rawPrice",291],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",291],"]",")",";",["T_WHITESPACE","\n                    ",291],"}",["T_WHITESPACE","\n                ",292],"}",["T_WHITESPACE","\n            ",293],"}",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","rawPriceList",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",299],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","isPercentageDiscount",302],"(",")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_STRING","false",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n",305],"}",["T_WHITESPACE","\n",306]]