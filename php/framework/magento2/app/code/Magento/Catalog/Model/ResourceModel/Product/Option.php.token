[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Catalog product custom option resource model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Option",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceModel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Db",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractDb",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$metadataPool",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_storeManager",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Currency factory\n     *\n     * @var \\Magento\\Directory\\Model\\CurrencyFactory\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_currencyFactory",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Core config model\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_config",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Class constructor\n     *\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     * @param string $connectionName\n     *\/",44],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","__construct",53],"(",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Db",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Context",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$context",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Directory",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","CurrencyFactory",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$currencyFactory",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Store",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","StoreManagerInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$storeManager",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","App",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Config",57],["T_NS_SEPARATOR","\\",57],["T_STRING","ScopeConfigInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$config",57],",",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$connectionName",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],["T_WHITESPACE","\n    ",58],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_currencyFactory",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$currencyFactory",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_storeManager",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$storeManager",61],";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_config",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$config",62],";",["T_WHITESPACE","\n        ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","__construct",63],"(",["T_VARIABLE","$context",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$connectionName",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Define main table and initialize connection\n     *\n     * @return void\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","_construct",71],"(",")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_init",73],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'option_id'",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Save options store data\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return \\Magento\\Framework\\Model\\ResourceModel\\Db\\AbstractDb\n     *\/",76],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","_afterSave",82],"(",["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","AbstractModel",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$object",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_saveValuePrices",84],"(",["T_VARIABLE","$object",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_saveValueTitles",85],"(",["T_VARIABLE","$object",85],")",";",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","_afterSave",87],"(",["T_VARIABLE","$object",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Save value prices\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",90],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_saveValuePrices",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","AbstractModel",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$object",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$priceTable",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getTable",100],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_price'",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$connection",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getConnection",101],"(",")",";",["T_WHITESPACE","\n\n        ",101],["T_COMMENT","\/*\n         * Better to check param 'price' and 'price_type' for saving.\n         * If there is not price skip saving price\n         *\/",103],["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$object",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getType",108],"(",")",["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Catalog",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Model",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Product",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Option",108],["T_DOUBLE_COLON","::",108],["T_STRING","OPTION_TYPE_FIELD",108],["T_WHITESPACE"," ",108],["T_BOOLEAN_OR","||",108],["T_WHITESPACE","\n            ",108],["T_VARIABLE","$object",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getType",109],"(",")",["T_WHITESPACE"," ",109],["T_IS_EQUAL","==",109],["T_WHITESPACE"," ",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Catalog",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Product",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Option",109],["T_DOUBLE_COLON","::",109],["T_STRING","OPTION_TYPE_AREA",109],["T_WHITESPACE"," ",109],["T_BOOLEAN_OR","||",109],["T_WHITESPACE","\n            ",109],["T_VARIABLE","$object",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getType",110],"(",")",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Catalog",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Product",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Option",110],["T_DOUBLE_COLON","::",110],["T_STRING","OPTION_TYPE_FILE",110],["T_WHITESPACE"," ",110],["T_BOOLEAN_OR","||",110],["T_WHITESPACE","\n            ",110],["T_VARIABLE","$object",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getType",111],"(",")",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Catalog",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Product",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Option",111],["T_DOUBLE_COLON","::",111],["T_STRING","OPTION_TYPE_DATE",111],["T_WHITESPACE"," ",111],["T_BOOLEAN_OR","||",111],["T_WHITESPACE","\n            ",111],["T_VARIABLE","$object",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getType",112],"(",")",["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Catalog",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Product",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Option",112],["T_DOUBLE_COLON","::",112],["T_STRING","OPTION_TYPE_DATE_TIME",112],["T_WHITESPACE"," ",112],["T_BOOLEAN_OR","||",112],["T_WHITESPACE","\n            ",112],["T_VARIABLE","$object",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getType",113],"(",")",["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Catalog",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Product",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Option",113],["T_DOUBLE_COLON","::",113],["T_STRING","OPTION_TYPE_TIME",113],["T_WHITESPACE","\n        ",113],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_COMMENT","\/\/save for store_id = 0\n",115],["T_WHITESPACE","            ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_VARIABLE","$object",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getData",116],"(",["T_CONSTANT_ENCAPSED_STRING","'scope'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'price'",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$statement",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$connection",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","select",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","from",117],"(",["T_WHITESPACE","\n                    ",117],["T_VARIABLE","$priceTable",118],",",["T_WHITESPACE","\n                    ",118],["T_CONSTANT_ENCAPSED_STRING","'option_id'",119],["T_WHITESPACE","\n                ",119],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","where",120],"(",["T_WHITESPACE","\n                    ",120],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",121],",",["T_WHITESPACE","\n                    ",121],["T_VARIABLE","$object",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getId",122],"(",")",["T_WHITESPACE","\n                ",122],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","where",123],"(",["T_WHITESPACE","\n                    ",123],["T_CONSTANT_ENCAPSED_STRING","'store_id = ?'",124],",",["T_WHITESPACE","\n                    ",124],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Store",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Store",125],["T_DOUBLE_COLON","::",125],["T_STRING","DEFAULT_STORE_ID",125],["T_WHITESPACE","\n                ",125],")",";",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$optionId",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$connection",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","fetchOne",127],"(",["T_VARIABLE","$statement",127],")",";",["T_WHITESPACE","\n\n                ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$optionId",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$data",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_prepareDataForTable",130],"(",["T_WHITESPACE","\n                        ",130],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Framework",131],["T_NS_SEPARATOR","\\",131],["T_STRING","DataObject",131],"(",["T_WHITESPACE","\n                            ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$object",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getPrice",132],"(",")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'price_type'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$object",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getPriceType",132],"(",")","]",["T_WHITESPACE","\n                        ",132],")",",",["T_WHITESPACE","\n                        ",133],["T_VARIABLE","$priceTable",134],["T_WHITESPACE","\n                    ",134],")",";",["T_WHITESPACE","\n\n                    ",135],["T_VARIABLE","$connection",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","update",137],"(",["T_WHITESPACE","\n                        ",137],["T_VARIABLE","$priceTable",138],",",["T_WHITESPACE","\n                        ",138],["T_VARIABLE","$data",139],",",["T_WHITESPACE","\n                        ",139],"[",["T_WHITESPACE","\n                            ",140],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$object",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getId",141],"(",")",",",["T_WHITESPACE","\n                            ",141],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Store",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Model",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Store",142],["T_DOUBLE_COLON","::",142],["T_STRING","DEFAULT_STORE_ID",142],["T_WHITESPACE","\n                        ",142],"]",["T_WHITESPACE","\n                    ",143],")",";",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE"," ",145],["T_ELSE","else",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                    ",145],["T_VARIABLE","$data",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_prepareDataForTable",146],"(",["T_WHITESPACE","\n                        ",146],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Framework",147],["T_NS_SEPARATOR","\\",147],["T_STRING","DataObject",147],"(",["T_WHITESPACE","\n                            ",147],"[",["T_WHITESPACE","\n                                ",148],["T_CONSTANT_ENCAPSED_STRING","'option_id'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$object",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getId",149],"(",")",",",["T_WHITESPACE","\n                                ",149],["T_CONSTANT_ENCAPSED_STRING","'store_id'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Store",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Model",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Store",150],["T_DOUBLE_COLON","::",150],["T_STRING","DEFAULT_STORE_ID",150],",",["T_WHITESPACE","\n                                ",150],["T_CONSTANT_ENCAPSED_STRING","'price'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$object",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getPrice",151],"(",")",",",["T_WHITESPACE","\n                                ",151],["T_CONSTANT_ENCAPSED_STRING","'price_type'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$object",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getPriceType",152],"(",")",",",["T_WHITESPACE","\n                            ",152],"]",["T_WHITESPACE","\n                        ",153],")",",",["T_WHITESPACE","\n                        ",154],["T_VARIABLE","$priceTable",155],["T_WHITESPACE","\n                    ",155],")",";",["T_WHITESPACE","\n                    ",156],["T_VARIABLE","$connection",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","insert",157],"(",["T_VARIABLE","$priceTable",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$data",157],")",";",["T_WHITESPACE","\n                ",157],"}",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n\n            ",159],["T_VARIABLE","$scope",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_INT_CAST","(int)",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_config",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getValue",161],"(",["T_WHITESPACE","\n                ",161],["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Store",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Model",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Store",162],["T_DOUBLE_COLON","::",162],["T_STRING","XML_PATH_PRICE_SCOPE",162],",",["T_WHITESPACE","\n                ",162],["T_NS_SEPARATOR","\\",163],["T_STRING","Magento",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Store",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Model",163],["T_NS_SEPARATOR","\\",163],["T_STRING","ScopeInterface",163],["T_DOUBLE_COLON","::",163],["T_STRING","SCOPE_STORE",163],["T_WHITESPACE","\n            ",163],")",";",["T_WHITESPACE","\n\n            ",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$object",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getStoreId",166],"(",")",["T_WHITESPACE"," ",166],["T_IS_NOT_EQUAL","!=",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'0'",166],["T_WHITESPACE"," ",166],["T_BOOLEAN_AND","&&",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$scope",166],["T_WHITESPACE"," ",166],["T_IS_EQUAL","==",166],["T_WHITESPACE"," ",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Store",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Model",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Store",166],["T_DOUBLE_COLON","::",166],["T_STRING","PRICE_SCOPE_WEBSITE",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$baseCurrency",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_config",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getValue",167],"(",["T_WHITESPACE","\n                    ",167],["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Directory",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Model",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Currency",168],["T_DOUBLE_COLON","::",168],["T_STRING","XML_PATH_CURRENCY_BASE",168],",",["T_WHITESPACE","\n                    ",168],["T_CONSTANT_ENCAPSED_STRING","'default'",169],["T_WHITESPACE","\n                ",169],")",";",["T_WHITESPACE","\n\n                ",170],["T_VARIABLE","$storeIds",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_storeManager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getStore",172],"(",["T_VARIABLE","$object",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getStoreId",172],"(",")",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getWebsite",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getStoreIds",172],"(",")",";",["T_WHITESPACE","\n                ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_STRING","is_array",173],"(",["T_VARIABLE","$storeIds",173],")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_FOREACH","foreach",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$storeIds",174],["T_WHITESPACE"," ",174],["T_AS","as",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$storeId",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$object",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getPriceType",175],"(",")",["T_WHITESPACE"," ",175],["T_IS_EQUAL","==",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'fixed'",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                            ",175],["T_VARIABLE","$storeCurrency",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_storeManager",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getStore",176],"(",["T_VARIABLE","$storeId",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getBaseCurrencyCode",176],"(",")",";",["T_WHITESPACE","\n                            ",176],["T_VARIABLE","$rate",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_currencyFactory",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","create",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","load",177],"(",["T_VARIABLE","$baseCurrency",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","getRate",177],"(",["T_VARIABLE","$storeCurrency",177],")",";",["T_WHITESPACE","\n                            ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_VARIABLE","$rate",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                                ",178],["T_VARIABLE","$rate",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_LNUMBER","1",179],";",["T_WHITESPACE","\n                            ",179],"}",["T_WHITESPACE","\n                            ",180],["T_VARIABLE","$newPrice",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$object",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getPrice",181],"(",")",["T_WHITESPACE"," ",181],"*",["T_WHITESPACE"," ",181],["T_VARIABLE","$rate",181],";",["T_WHITESPACE","\n                        ",181],"}",["T_WHITESPACE"," ",182],["T_ELSE","else",182],["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                            ",182],["T_VARIABLE","$newPrice",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$object",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getPrice",183],"(",")",";",["T_WHITESPACE","\n                        ",183],"}",["T_WHITESPACE","\n\n                        ",184],["T_VARIABLE","$statement",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$connection",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","select",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","from",186],"(",["T_WHITESPACE","\n                            ",186],["T_VARIABLE","$priceTable",187],["T_WHITESPACE","\n                        ",187],")",["T_OBJECT_OPERATOR","->",188],["T_STRING","where",188],"(",["T_WHITESPACE","\n                            ",188],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",189],",",["T_WHITESPACE","\n                            ",189],["T_VARIABLE","$object",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getId",190],"(",")",["T_WHITESPACE","\n                        ",190],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","where",191],"(",["T_WHITESPACE","\n                            ",191],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",192],",",["T_WHITESPACE","\n                            ",192],["T_VARIABLE","$storeId",193],["T_WHITESPACE","\n                        ",193],")",";",["T_WHITESPACE","\n\n                        ",194],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$connection",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","fetchOne",196],"(",["T_VARIABLE","$statement",196],")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                            ",196],["T_VARIABLE","$data",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_prepareDataForTable",197],"(",["T_WHITESPACE","\n                                ",197],["T_NEW","new",198],["T_WHITESPACE"," ",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Framework",198],["T_NS_SEPARATOR","\\",198],["T_STRING","DataObject",198],"(",["T_WHITESPACE","\n                                    ",198],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$newPrice",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'price_type'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$object",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getPriceType",199],"(",")","]",["T_WHITESPACE","\n                                ",199],")",",",["T_WHITESPACE","\n                                ",200],["T_VARIABLE","$priceTable",201],["T_WHITESPACE","\n                            ",201],")",";",["T_WHITESPACE","\n\n                            ",202],["T_VARIABLE","$connection",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","update",204],"(",["T_WHITESPACE","\n                                ",204],["T_VARIABLE","$priceTable",205],",",["T_WHITESPACE","\n                                ",205],["T_VARIABLE","$data",206],",",["T_WHITESPACE","\n                                ",206],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$object",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getId",207],"(",")",",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$storeId",207],"]",["T_WHITESPACE","\n                            ",207],")",";",["T_WHITESPACE","\n                        ",208],"}",["T_WHITESPACE"," ",209],["T_ELSE","else",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                            ",209],["T_VARIABLE","$data",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_prepareDataForTable",210],"(",["T_WHITESPACE","\n                                ",210],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Magento",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Framework",211],["T_NS_SEPARATOR","\\",211],["T_STRING","DataObject",211],"(",["T_WHITESPACE","\n                                    ",211],"[",["T_WHITESPACE","\n                                        ",212],["T_CONSTANT_ENCAPSED_STRING","'option_id'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$object",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getId",213],"(",")",",",["T_WHITESPACE","\n                                        ",213],["T_CONSTANT_ENCAPSED_STRING","'store_id'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$storeId",214],",",["T_WHITESPACE","\n                                        ",214],["T_CONSTANT_ENCAPSED_STRING","'price'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$newPrice",215],",",["T_WHITESPACE","\n                                        ",215],["T_CONSTANT_ENCAPSED_STRING","'price_type'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$object",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getPriceType",216],"(",")",",",["T_WHITESPACE","\n                                    ",216],"]",["T_WHITESPACE","\n                                ",217],")",",",["T_WHITESPACE","\n                                ",218],["T_VARIABLE","$priceTable",219],["T_WHITESPACE","\n                            ",219],")",";",["T_WHITESPACE","\n                            ",220],["T_VARIABLE","$connection",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","insert",221],"(",["T_VARIABLE","$priceTable",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$data",221],")",";",["T_WHITESPACE","\n                        ",221],"}",["T_WHITESPACE","\n                    ",222],"}",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE"," ",225],["T_ELSEIF","elseif",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$scope",225],["T_WHITESPACE"," ",225],["T_IS_EQUAL","==",225],["T_WHITESPACE"," ",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Magento",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Store",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Model",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Store",225],["T_DOUBLE_COLON","::",225],["T_STRING","PRICE_SCOPE_WEBSITE",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$object",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getData",225],"(",["T_CONSTANT_ENCAPSED_STRING","'scope'",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'price'",225],")",["T_WHITESPACE","\n            ",225],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$connection",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","delete",227],"(",["T_WHITESPACE","\n                    ",227],["T_VARIABLE","$priceTable",228],",",["T_WHITESPACE","\n                    ",228],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$object",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getId",229],"(",")",",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$object",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getStoreId",229],"(",")","]",["T_WHITESPACE","\n                ",229],")",";",["T_WHITESPACE","\n            ",230],"}",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Save titles\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",237],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","_saveValueTitles",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Framework",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Model",244],["T_NS_SEPARATOR","\\",244],["T_STRING","AbstractModel",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$object",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$connection",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getConnection",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$titleTableName",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTable",247],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_title'",247],")",";",["T_WHITESPACE","\n        ",247],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(","[",["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Store",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Model",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Store",248],["T_DOUBLE_COLON","::",248],["T_STRING","DEFAULT_STORE_ID",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$object",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getStoreId",248],"(",")","]",["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$storeId",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$existInCurrentStore",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getColFromOptionTable",249],"(",["T_VARIABLE","$titleTableName",249],",",["T_WHITESPACE"," ",249],["T_INT_CAST","(int)",249],["T_VARIABLE","$object",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getId",249],"(",")",",",["T_WHITESPACE"," ",249],["T_INT_CAST","(int)",249],["T_VARIABLE","$storeId",249],")",";",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$existInDefaultStore",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_INT_CAST","(int)",250],["T_VARIABLE","$storeId",250],["T_WHITESPACE"," ",250],["T_IS_EQUAL","==",250],["T_WHITESPACE"," ",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Magento",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Store",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Model",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Store",250],["T_DOUBLE_COLON","::",250],["T_STRING","DEFAULT_STORE_ID",250],["T_WHITESPACE"," ",250],"?",["T_WHITESPACE","\n                ",250],["T_VARIABLE","$existInCurrentStore",251],["T_WHITESPACE"," ",251],":",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getColFromOptionTable",252],"(",["T_WHITESPACE","\n                    ",252],["T_VARIABLE","$titleTableName",253],",",["T_WHITESPACE","\n                    ",253],["T_INT_CAST","(int)",254],["T_VARIABLE","$object",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getId",254],"(",")",",",["T_WHITESPACE","\n                    ",254],["T_NS_SEPARATOR","\\",255],["T_STRING","Magento",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Store",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Model",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Store",255],["T_DOUBLE_COLON","::",255],["T_STRING","DEFAULT_STORE_ID",255],["T_WHITESPACE","\n                ",255],")",";",["T_WHITESPACE","\n\n            ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$object",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getTitle",258],"(",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$isDeleteStoreTitle",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_BOOL_CAST","(bool)",259],["T_VARIABLE","$object",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getData",259],"(",["T_CONSTANT_ENCAPSED_STRING","'is_delete_store_title'",259],")",";",["T_WHITESPACE","\n                ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_VARIABLE","$existInCurrentStore",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                    ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$isDeleteStoreTitle",261],["T_WHITESPACE"," ",261],["T_BOOLEAN_AND","&&",261],["T_WHITESPACE"," ",261],["T_INT_CAST","(int)",261],["T_VARIABLE","$storeId",261],["T_WHITESPACE"," ",261],["T_IS_NOT_EQUAL","!=",261],["T_WHITESPACE"," ",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Magento",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Store",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Model",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Store",261],["T_DOUBLE_COLON","::",261],["T_STRING","DEFAULT_STORE_ID",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n                        ",261],["T_VARIABLE","$connection",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","delete",262],"(",["T_VARIABLE","$titleTableName",262],",",["T_WHITESPACE"," ",262],"[",["T_CONSTANT_ENCAPSED_STRING","'option_title_id = ?'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$existInCurrentStore",262],"]",")",";",["T_WHITESPACE","\n\n                    ",262],"}",["T_WHITESPACE"," ",264],["T_ELSEIF","elseif",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$object",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getStoreId",264],"(",")",["T_WHITESPACE"," ",264],["T_IS_EQUAL","==",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$storeId",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                        ",264],["T_VARIABLE","$data",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_prepareDataForTable",265],"(",["T_WHITESPACE","\n                            ",265],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Magento",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Framework",266],["T_NS_SEPARATOR","\\",266],["T_STRING","DataObject",266],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$object",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getTitle",266],"(",")","]",")",",",["T_WHITESPACE","\n                            ",266],["T_VARIABLE","$titleTableName",267],["T_WHITESPACE","\n                        ",267],")",";",["T_WHITESPACE","\n                        ",268],["T_VARIABLE","$connection",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","update",269],"(",["T_WHITESPACE","\n                            ",269],["T_VARIABLE","$titleTableName",270],",",["T_WHITESPACE","\n                            ",270],["T_VARIABLE","$data",271],",",["T_WHITESPACE","\n                            ",271],"[",["T_WHITESPACE","\n                                ",272],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$object",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getId",273],"(",")",",",["T_WHITESPACE","\n                                ",273],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$storeId",274],",",["T_WHITESPACE","\n                            ",274],"]",["T_WHITESPACE","\n                        ",275],")",";",["T_WHITESPACE","\n                    ",276],"}",["T_WHITESPACE","\n                ",277],"}",["T_WHITESPACE"," ",278],["T_ELSE","else",278],["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                    ",278],["T_COMMENT","\/\/ we should insert record into not default store only of if it does not exist in default store\n",279],["T_WHITESPACE","                    ",280],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_WHITESPACE","\n                        ",280],"(",["T_VARIABLE","$storeId",281],["T_WHITESPACE"," ",281],["T_IS_EQUAL","==",281],["T_WHITESPACE"," ",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Magento",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Store",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Model",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Store",281],["T_DOUBLE_COLON","::",281],["T_STRING","DEFAULT_STORE_ID",281],["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],"!",["T_VARIABLE","$existInDefaultStore",281],")",["T_WHITESPACE"," ",281],["T_BOOLEAN_OR","||",281],["T_WHITESPACE","\n                        ",281],"(",["T_WHITESPACE","\n                            ",282],["T_VARIABLE","$storeId",283],["T_WHITESPACE"," ",283],["T_IS_NOT_EQUAL","!=",283],["T_WHITESPACE"," ",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Magento",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Store",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Model",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Store",283],["T_DOUBLE_COLON","::",283],["T_STRING","DEFAULT_STORE_ID",283],["T_WHITESPACE"," ",283],["T_BOOLEAN_AND","&&",283],["T_WHITESPACE","\n                            ",283],"!",["T_VARIABLE","$existInCurrentStore",284],["T_WHITESPACE"," ",284],["T_BOOLEAN_AND","&&",284],["T_WHITESPACE","\n                            ",284],"!",["T_VARIABLE","$isDeleteStoreTitle",285],["T_WHITESPACE","\n                        ",285],")",["T_WHITESPACE","\n                    ",286],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                        ",287],["T_VARIABLE","$data",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_prepareDataForTable",288],"(",["T_WHITESPACE","\n                            ",288],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Magento",289],["T_NS_SEPARATOR","\\",289],["T_STRING","Framework",289],["T_NS_SEPARATOR","\\",289],["T_STRING","DataObject",289],"(",["T_WHITESPACE","\n                                ",289],"[",["T_WHITESPACE","\n                                    ",290],["T_CONSTANT_ENCAPSED_STRING","'option_id'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$object",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getId",291],"(",")",",",["T_WHITESPACE","\n                                    ",291],["T_CONSTANT_ENCAPSED_STRING","'store_id'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$storeId",292],",",["T_WHITESPACE","\n                                    ",292],["T_CONSTANT_ENCAPSED_STRING","'title'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$object",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getTitle",293],"(",")",",",["T_WHITESPACE","\n                                ",293],"]",["T_WHITESPACE","\n                            ",294],")",",",["T_WHITESPACE","\n                            ",295],["T_VARIABLE","$titleTableName",296],["T_WHITESPACE","\n                        ",296],")",";",["T_WHITESPACE","\n                        ",297],["T_VARIABLE","$connection",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","insert",298],"(",["T_VARIABLE","$titleTableName",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$data",298],")",";",["T_WHITESPACE","\n                    ",298],"}",["T_WHITESPACE","\n                ",299],"}",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE"," ",301],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$object",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getId",302],"(",")",["T_WHITESPACE"," ",302],["T_BOOLEAN_AND","&&",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$object",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getStoreId",302],"(",")",["T_WHITESPACE"," ",302],">",["T_WHITESPACE"," ",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Magento",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Store",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Model",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Store",302],["T_DOUBLE_COLON","::",302],["T_STRING","DEFAULT_STORE_ID",302],["T_WHITESPACE","\n                    ",302],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$storeId",303],["T_WHITESPACE","\n                ",303],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                    ",304],["T_VARIABLE","$connection",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","delete",305],"(",["T_WHITESPACE","\n                        ",305],["T_VARIABLE","$titleTableName",306],",",["T_WHITESPACE","\n                        ",306],"[",["T_WHITESPACE","\n                            ",307],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$object",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getId",308],"(",")",",",["T_WHITESPACE","\n                            ",308],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$object",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getStoreId",309],"(",")",",",["T_WHITESPACE","\n                        ",309],"]",["T_WHITESPACE","\n                    ",310],")",";",["T_WHITESPACE","\n                ",311],"}",["T_WHITESPACE","\n            ",312],"}",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Get first col from from first row for option table\n     *\n     * @param string $tableName\n     * @param int $optionId\n     * @param int $storeId\n     * @return string\n     *\/",317],["T_WHITESPACE","\n    ",324],["T_PROTECTED","protected",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getColFromOptionTable",325],"(",["T_VARIABLE","$tableName",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$optionId",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$storeId",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$connection",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getConnection",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$statement",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$connection",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","select",328],"(",")",["T_OBJECT_OPERATOR","->",328],["T_STRING","from",328],"(",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$tableName",329],["T_WHITESPACE","\n        ",329],")",["T_OBJECT_OPERATOR","->",330],["T_STRING","where",330],"(",["T_WHITESPACE","\n            ",330],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",331],",",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$optionId",332],["T_WHITESPACE","\n        ",332],")",["T_OBJECT_OPERATOR","->",333],["T_STRING","where",333],"(",["T_WHITESPACE","\n            ",333],["T_CONSTANT_ENCAPSED_STRING","'store_id  = ?'",334],",",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$storeId",335],["T_WHITESPACE","\n        ",335],")",";",["T_WHITESPACE","\n\n        ",336],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$connection",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","fetchOne",338],"(",["T_VARIABLE","$statement",338],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Delete prices\n     *\n     * @param int $optionId\n     * @return $this\n     *\/",341],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","deletePrices",347],"(",["T_VARIABLE","$optionId",347],")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getConnection",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","delete",349],"(",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getTable",350],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_price'",350],")",",",["T_WHITESPACE","\n            ",350],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$optionId",351],"]",["T_WHITESPACE","\n        ",351],")",";",["T_WHITESPACE","\n\n        ",352],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Delete titles\n     *\n     * @param int $optionId\n     * @return $this\n     *\/",357],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","deleteTitles",363],"(",["T_VARIABLE","$optionId",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getConnection",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","delete",365],"(",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getTable",366],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_title'",366],")",",",["T_WHITESPACE","\n            ",366],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$optionId",367],"]",["T_WHITESPACE","\n        ",367],")",";",["T_WHITESPACE","\n\n        ",368],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * Duplicate custom options for product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product\\Option $object\n     * @param int $oldProductId\n     * @param int $newProductId\n     * @return \\Magento\\Catalog\\Model\\Product\\Option\n     *\/",373],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","duplicate",381],"(",["T_NS_SEPARATOR","\\",381],["T_STRING","Magento",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Catalog",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Model",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Product",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Option",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$object",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$oldProductId",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$newProductId",381],")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$connection",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getConnection",383],"(",")",";",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$optionsCond",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],"[","]",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$optionsData",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],"[","]",";",["T_WHITESPACE","\n\n        ",386],["T_COMMENT","\/\/ read and prepare original product options\n",388],["T_WHITESPACE","        ",389],["T_VARIABLE","$select",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$connection",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","select",389],"(",")",["T_OBJECT_OPERATOR","->",389],["T_STRING","from",389],"(",["T_WHITESPACE","\n            ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getTable",390],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option'",390],")",["T_WHITESPACE","\n        ",390],")",["T_OBJECT_OPERATOR","->",391],["T_STRING","where",391],"(",["T_WHITESPACE","\n            ",391],["T_CONSTANT_ENCAPSED_STRING","'product_id = ?'",392],",",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$oldProductId",393],["T_WHITESPACE","\n        ",393],")",";",["T_WHITESPACE","\n\n        ",394],["T_VARIABLE","$query",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$connection",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","query",396],"(",["T_VARIABLE","$select",396],")",";",["T_WHITESPACE","\n\n        ",396],["T_WHILE","while",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$row",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$query",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","fetch",398],"(",")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$optionsData",399],"[",["T_VARIABLE","$row",399],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",399],"]","]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$row",399],";",["T_WHITESPACE","\n            ",399],["T_VARIABLE","$optionsData",400],"[",["T_VARIABLE","$row",400],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",400],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",400],"]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$newProductId",400],";",["T_WHITESPACE","\n            ",400],["T_UNSET","unset",401],"(",["T_VARIABLE","$optionsData",401],"[",["T_VARIABLE","$row",401],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",401],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",401],"]",")",";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n\n        ",402],["T_COMMENT","\/\/ insert options to duplicated product\n",404],["T_WHITESPACE","        ",405],["T_FOREACH","foreach",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$optionsData",405],["T_WHITESPACE"," ",405],["T_AS","as",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$oId",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$data",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$connection",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","insert",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getMainTable",406],"(",")",",",["T_WHITESPACE"," ",406],["T_VARIABLE","$data",406],")",";",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$optionsCond",407],"[",["T_VARIABLE","$oId",407],"]",["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$connection",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","lastInsertId",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getMainTable",407],"(",")",")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_COMMENT","\/\/ copy options prefs\n",410],["T_WHITESPACE","        ",411],["T_FOREACH","foreach",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$optionsCond",411],["T_WHITESPACE"," ",411],["T_AS","as",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$oldOptionId",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$newOptionId",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_COMMENT","\/\/ title\n",412],["T_WHITESPACE","            ",413],["T_VARIABLE","$table",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getTable",413],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_title'",413],")",";",["T_WHITESPACE","\n\n            ",413],["T_VARIABLE","$select",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getConnection",415],"(",")",["T_OBJECT_OPERATOR","->",415],["T_STRING","select",415],"(",")",["T_OBJECT_OPERATOR","->",415],["T_STRING","from",415],"(",["T_WHITESPACE","\n                ",415],["T_VARIABLE","$table",416],",",["T_WHITESPACE","\n                ",416],"[",["T_NEW","new",417],["T_WHITESPACE"," ",417],["T_NS_SEPARATOR","\\",417],["T_STRING","Zend_Db_Expr",417],"(",["T_VARIABLE","$newOptionId",417],")",",",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'store_id'",417],",",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'title'",417],"]",["T_WHITESPACE","\n            ",417],")",["T_OBJECT_OPERATOR","->",418],["T_STRING","where",418],"(",["T_WHITESPACE","\n                ",418],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",419],",",["T_WHITESPACE","\n                ",419],["T_VARIABLE","$oldOptionId",420],["T_WHITESPACE","\n            ",420],")",";",["T_WHITESPACE","\n\n            ",421],["T_VARIABLE","$insertSelect",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$connection",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","insertFromSelect",423],"(",["T_WHITESPACE","\n                ",423],["T_VARIABLE","$select",424],",",["T_WHITESPACE","\n                ",424],["T_VARIABLE","$table",425],",",["T_WHITESPACE","\n                ",425],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'store_id'",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'title'",426],"]",",",["T_WHITESPACE","\n                ",426],["T_NS_SEPARATOR","\\",427],["T_STRING","Magento",427],["T_NS_SEPARATOR","\\",427],["T_STRING","Framework",427],["T_NS_SEPARATOR","\\",427],["T_STRING","DB",427],["T_NS_SEPARATOR","\\",427],["T_STRING","Adapter",427],["T_NS_SEPARATOR","\\",427],["T_STRING","AdapterInterface",427],["T_DOUBLE_COLON","::",427],["T_STRING","INSERT_ON_DUPLICATE",427],["T_WHITESPACE","\n            ",427],")",";",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$connection",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","query",429],"(",["T_VARIABLE","$insertSelect",429],")",";",["T_WHITESPACE","\n\n            ",429],["T_COMMENT","\/\/ price\n",431],["T_WHITESPACE","            ",432],["T_VARIABLE","$table",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getTable",432],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_price'",432],")",";",["T_WHITESPACE","\n\n            ",432],["T_VARIABLE","$select",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$connection",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","select",434],"(",")",["T_OBJECT_OPERATOR","->",434],["T_STRING","from",434],"(",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$table",435],",",["T_WHITESPACE","\n                ",435],"[",["T_NEW","new",436],["T_WHITESPACE"," ",436],["T_NS_SEPARATOR","\\",436],["T_STRING","Zend_Db_Expr",436],"(",["T_VARIABLE","$newOptionId",436],")",",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'store_id'",436],",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'price'",436],",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'price_type'",436],"]",["T_WHITESPACE","\n            ",436],")",["T_OBJECT_OPERATOR","->",437],["T_STRING","where",437],"(",["T_WHITESPACE","\n                ",437],["T_CONSTANT_ENCAPSED_STRING","'option_id = ?'",438],",",["T_WHITESPACE","\n                ",438],["T_VARIABLE","$oldOptionId",439],["T_WHITESPACE","\n            ",439],")",";",["T_WHITESPACE","\n\n            ",440],["T_VARIABLE","$insertSelect",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$connection",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","insertFromSelect",442],"(",["T_WHITESPACE","\n                ",442],["T_VARIABLE","$select",443],",",["T_WHITESPACE","\n                ",443],["T_VARIABLE","$table",444],",",["T_WHITESPACE","\n                ",444],"[",["T_CONSTANT_ENCAPSED_STRING","'option_id'",445],",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'store_id'",445],",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'price'",445],",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'price_type'",445],"]",",",["T_WHITESPACE","\n                ",445],["T_NS_SEPARATOR","\\",446],["T_STRING","Magento",446],["T_NS_SEPARATOR","\\",446],["T_STRING","Framework",446],["T_NS_SEPARATOR","\\",446],["T_STRING","DB",446],["T_NS_SEPARATOR","\\",446],["T_STRING","Adapter",446],["T_NS_SEPARATOR","\\",446],["T_STRING","AdapterInterface",446],["T_DOUBLE_COLON","::",446],["T_STRING","INSERT_ON_DUPLICATE",446],["T_WHITESPACE","\n            ",446],")",";",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$connection",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","query",448],"(",["T_VARIABLE","$insertSelect",448],")",";",["T_WHITESPACE","\n\n            ",448],["T_VARIABLE","$object",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getValueInstance",450],"(",")",["T_OBJECT_OPERATOR","->",450],["T_STRING","duplicate",450],"(",["T_VARIABLE","$oldOptionId",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$newOptionId",450],")",";",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n\n        ",451],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$object",453],";",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * Retrieve option searchable data\n     *\n     * @param int $productId\n     * @param int $storeId\n     * @return array\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",456],["T_WHITESPACE","\n    ",463],["T_PUBLIC","public",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","getSearchableData",464],"(",["T_VARIABLE","$productId",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$storeId",464],")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$searchData",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],"[","]",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$connection",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getConnection",467],"(",")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$titleCheckSql",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$connection",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getCheckSql",468],"(",["T_WHITESPACE","\n            ",468],["T_CONSTANT_ENCAPSED_STRING","'option_title_store.title IS NULL'",469],",",["T_WHITESPACE","\n            ",469],["T_CONSTANT_ENCAPSED_STRING","'option_title_default.title'",470],",",["T_WHITESPACE","\n            ",470],["T_CONSTANT_ENCAPSED_STRING","'option_title_store.title'",471],["T_WHITESPACE","\n        ",471],")",";",["T_WHITESPACE","\n\n        ",472],["T_COMMENT","\/\/ retrieve options title\n",474],["T_WHITESPACE","        ",475],["T_VARIABLE","$defaultOptionJoin",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_STRING","implode",475],"(",["T_WHITESPACE","\n            ",475],["T_CONSTANT_ENCAPSED_STRING","' AND '",476],",",["T_WHITESPACE","\n            ",476],"[",["T_WHITESPACE","\n                ",477],["T_CONSTANT_ENCAPSED_STRING","'option_title_default.option_id=product_option.option_id'",478],",",["T_WHITESPACE","\n                ",478],["T_VARIABLE","$connection",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","quoteInto",479],"(",["T_WHITESPACE","\n                    ",479],["T_CONSTANT_ENCAPSED_STRING","'option_title_default.store_id = ?'",480],",",["T_WHITESPACE","\n                    ",480],["T_NS_SEPARATOR","\\",481],["T_STRING","Magento",481],["T_NS_SEPARATOR","\\",481],["T_STRING","Store",481],["T_NS_SEPARATOR","\\",481],["T_STRING","Model",481],["T_NS_SEPARATOR","\\",481],["T_STRING","Store",481],["T_DOUBLE_COLON","::",481],["T_STRING","DEFAULT_STORE_ID",481],["T_WHITESPACE","\n                ",481],")",["T_WHITESPACE","\n            ",482],"]",["T_WHITESPACE","\n        ",483],")",";",["T_WHITESPACE","\n\n        ",484],["T_VARIABLE","$storeOptionJoin",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_STRING","implode",486],"(",["T_WHITESPACE","\n            ",486],["T_CONSTANT_ENCAPSED_STRING","' AND '",487],",",["T_WHITESPACE","\n            ",487],"[",["T_WHITESPACE","\n                ",488],["T_CONSTANT_ENCAPSED_STRING","'option_title_store.option_id=product_option.option_id'",489],",",["T_WHITESPACE","\n                ",489],["T_VARIABLE","$connection",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","quoteInto",490],"(",["T_CONSTANT_ENCAPSED_STRING","'option_title_store.store_id = ?'",490],",",["T_WHITESPACE"," ",490],["T_INT_CAST","(int)",490],["T_VARIABLE","$storeId",490],")",["T_WHITESPACE","\n            ",490],"]",["T_WHITESPACE","\n        ",491],")",";",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$select",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$connection",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","select",494],"(",")",["T_OBJECT_OPERATOR","->",494],["T_STRING","from",494],"(",["T_WHITESPACE","\n            ",494],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getMainTable",495],"(",")","]",",",["T_WHITESPACE","\n            ",495],["T_STRING","null",496],["T_WHITESPACE","\n        ",496],")",["T_OBJECT_OPERATOR","->",497],["T_STRING","join",497],"(",["T_WHITESPACE","\n            ",497],"[",["T_CONSTANT_ENCAPSED_STRING","'option_title_default'",498],["T_WHITESPACE"," ",498],["T_DOUBLE_ARROW","=>",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","getTable",498],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_title'",498],")","]",",",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$defaultOptionJoin",499],",",["T_WHITESPACE","\n            ",499],"[","]",["T_WHITESPACE","\n        ",500],")",["T_OBJECT_OPERATOR","->",501],["T_STRING","join",501],"(",["T_WHITESPACE","\n            ",501],"[",["T_CONSTANT_ENCAPSED_STRING","'cpe'",502],["T_WHITESPACE"," ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getTable",502],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",502],")","]",",",["T_WHITESPACE","\n            ",502],["T_STRING","sprintf",503],"(",["T_WHITESPACE","\n                ",503],["T_CONSTANT_ENCAPSED_STRING","'cpe.%s = product_option.product_id'",504],",",["T_WHITESPACE","\n                ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getMetadataPool",505],"(",")",["T_OBJECT_OPERATOR","->",505],["T_STRING","getMetadata",505],"(",["T_STRING","ProductInterface",505],["T_DOUBLE_COLON","::",505],["T_CLASS","class",505],")",["T_OBJECT_OPERATOR","->",505],["T_STRING","getLinkField",505],"(",")",["T_WHITESPACE","\n            ",505],")",",",["T_WHITESPACE","\n            ",506],"[","]",["T_WHITESPACE","\n        ",507],")",["T_OBJECT_OPERATOR","->",508],["T_STRING","joinLeft",508],"(",["T_WHITESPACE","\n            ",508],"[",["T_CONSTANT_ENCAPSED_STRING","'option_title_store'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getTable",509],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_title'",509],")","]",",",["T_WHITESPACE","\n            ",509],["T_VARIABLE","$storeOptionJoin",510],",",["T_WHITESPACE","\n            ",510],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$titleCheckSql",511],"]",["T_WHITESPACE","\n        ",511],")",["T_OBJECT_OPERATOR","->",512],["T_STRING","where",512],"(",["T_WHITESPACE","\n            ",512],["T_CONSTANT_ENCAPSED_STRING","'cpe.entity_id = ?'",513],",",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$productId",514],["T_WHITESPACE","\n        ",514],")",";",["T_WHITESPACE","\n\n        ",515],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_VARIABLE","$titles",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$connection",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","fetchCol",517],"(",["T_VARIABLE","$select",517],")",")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$searchData",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","array_merge",518],"(",["T_VARIABLE","$searchData",518],",",["T_WHITESPACE"," ",518],["T_VARIABLE","$titles",518],")",";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n\n        ",519],["T_COMMENT","\/\/select option type titles\n",521],["T_WHITESPACE","        ",522],["T_VARIABLE","$defaultOptionJoin",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","implode",522],"(",["T_WHITESPACE","\n            ",522],["T_CONSTANT_ENCAPSED_STRING","' AND '",523],",",["T_WHITESPACE","\n            ",523],"[",["T_WHITESPACE","\n                ",524],["T_CONSTANT_ENCAPSED_STRING","'option_title_default.option_type_id=option_type.option_type_id'",525],",",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$connection",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","quoteInto",526],"(",["T_WHITESPACE","\n                    ",526],["T_CONSTANT_ENCAPSED_STRING","'option_title_default.store_id = ?'",527],",",["T_WHITESPACE","\n                    ",527],["T_NS_SEPARATOR","\\",528],["T_STRING","Magento",528],["T_NS_SEPARATOR","\\",528],["T_STRING","Store",528],["T_NS_SEPARATOR","\\",528],["T_STRING","Model",528],["T_NS_SEPARATOR","\\",528],["T_STRING","Store",528],["T_DOUBLE_COLON","::",528],["T_STRING","DEFAULT_STORE_ID",528],["T_WHITESPACE","\n                ",528],")",["T_WHITESPACE","\n            ",529],"]",["T_WHITESPACE","\n        ",530],")",";",["T_WHITESPACE","\n\n        ",531],["T_VARIABLE","$storeOptionJoin",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_STRING","implode",533],"(",["T_WHITESPACE","\n            ",533],["T_CONSTANT_ENCAPSED_STRING","' AND '",534],",",["T_WHITESPACE","\n            ",534],"[",["T_WHITESPACE","\n                ",535],["T_CONSTANT_ENCAPSED_STRING","'option_title_store.option_type_id = option_type.option_type_id'",536],",",["T_WHITESPACE","\n                ",536],["T_VARIABLE","$connection",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","quoteInto",537],"(",["T_CONSTANT_ENCAPSED_STRING","'option_title_store.store_id = ?'",537],",",["T_WHITESPACE"," ",537],["T_INT_CAST","(int)",537],["T_VARIABLE","$storeId",537],")",["T_WHITESPACE","\n            ",537],"]",["T_WHITESPACE","\n        ",538],")",";",["T_WHITESPACE","\n\n        ",539],["T_VARIABLE","$select",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_VARIABLE","$connection",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","select",541],"(",")",["T_OBJECT_OPERATOR","->",541],["T_STRING","from",541],"(",["T_WHITESPACE","\n            ",541],"[",["T_CONSTANT_ENCAPSED_STRING","'product_option'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getMainTable",542],"(",")","]",",",["T_WHITESPACE","\n            ",542],["T_STRING","null",543],["T_WHITESPACE","\n        ",543],")",["T_OBJECT_OPERATOR","->",544],["T_STRING","join",544],"(",["T_WHITESPACE","\n            ",544],"[",["T_CONSTANT_ENCAPSED_STRING","'option_type'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getTable",545],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_type_value'",545],")","]",",",["T_WHITESPACE","\n            ",545],["T_CONSTANT_ENCAPSED_STRING","'option_type.option_id=product_option.option_id'",546],",",["T_WHITESPACE","\n            ",546],"[","]",["T_WHITESPACE","\n        ",547],")",["T_OBJECT_OPERATOR","->",548],["T_STRING","join",548],"(",["T_WHITESPACE","\n            ",548],"[",["T_CONSTANT_ENCAPSED_STRING","'cpe'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getTable",549],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",549],")","]",",",["T_WHITESPACE","\n            ",549],["T_STRING","sprintf",550],"(",["T_WHITESPACE","\n                ",550],["T_CONSTANT_ENCAPSED_STRING","'cpe.%s = product_option.product_id'",551],",",["T_WHITESPACE","\n                ",551],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","getMetadataPool",552],"(",")",["T_OBJECT_OPERATOR","->",552],["T_STRING","getMetadata",552],"(",["T_STRING","ProductInterface",552],["T_DOUBLE_COLON","::",552],["T_CLASS","class",552],")",["T_OBJECT_OPERATOR","->",552],["T_STRING","getLinkField",552],"(",")",["T_WHITESPACE","\n            ",552],")",",",["T_WHITESPACE","\n            ",553],"[","]",["T_WHITESPACE","\n        ",554],")",["T_OBJECT_OPERATOR","->",555],["T_STRING","join",555],"(",["T_WHITESPACE","\n            ",555],"[",["T_CONSTANT_ENCAPSED_STRING","'option_title_default'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getTable",556],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_type_title'",556],")","]",",",["T_WHITESPACE","\n            ",556],["T_VARIABLE","$defaultOptionJoin",557],",",["T_WHITESPACE","\n            ",557],"[","]",["T_WHITESPACE","\n        ",558],")",["T_OBJECT_OPERATOR","->",559],["T_STRING","joinLeft",559],"(",["T_WHITESPACE","\n            ",559],"[",["T_CONSTANT_ENCAPSED_STRING","'option_title_store'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getTable",560],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_option_type_title'",560],")","]",",",["T_WHITESPACE","\n            ",560],["T_VARIABLE","$storeOptionJoin",561],",",["T_WHITESPACE","\n            ",561],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",562],["T_WHITESPACE"," ",562],["T_DOUBLE_ARROW","=>",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$titleCheckSql",562],"]",["T_WHITESPACE","\n        ",562],")",["T_OBJECT_OPERATOR","->",563],["T_STRING","where",563],"(",["T_WHITESPACE","\n            ",563],["T_CONSTANT_ENCAPSED_STRING","'cpe.entity_id = ?'",564],",",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$productId",565],["T_WHITESPACE","\n        ",565],")",";",["T_WHITESPACE","\n\n        ",566],["T_IF","if",568],["T_WHITESPACE"," ",568],"(",["T_VARIABLE","$titles",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$connection",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","fetchCol",568],"(",["T_VARIABLE","$select",568],")",")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_VARIABLE","$searchData",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_STRING","array_merge",569],"(",["T_VARIABLE","$searchData",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$titles",569],")",";",["T_WHITESPACE","\n        ",569],"}",["T_WHITESPACE","\n\n        ",570],["T_RETURN","return",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$searchData",572],";",["T_WHITESPACE","\n    ",572],"}",["T_WHITESPACE","\n\n    ",573],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",575],["T_WHITESPACE","\n    ",577],["T_PRIVATE","private",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","getMetadataPool",578],"(",")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_IF","if",580],["T_WHITESPACE"," ",580],"(",["T_STRING","null",580],["T_WHITESPACE"," ",580],["T_IS_IDENTICAL","===",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","metadataPool",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n            ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","metadataPool",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_NS_SEPARATOR","\\",581],["T_STRING","Magento",581],["T_NS_SEPARATOR","\\",581],["T_STRING","Framework",581],["T_NS_SEPARATOR","\\",581],["T_STRING","App",581],["T_NS_SEPARATOR","\\",581],["T_STRING","ObjectManager",581],["T_DOUBLE_COLON","::",581],["T_STRING","getInstance",581],"(",")",["T_WHITESPACE","\n                ",581],["T_OBJECT_OPERATOR","->",582],["T_STRING","get",582],"(",["T_NS_SEPARATOR","\\",582],["T_STRING","Magento",582],["T_NS_SEPARATOR","\\",582],["T_STRING","Framework",582],["T_NS_SEPARATOR","\\",582],["T_STRING","EntityManager",582],["T_NS_SEPARATOR","\\",582],["T_STRING","MetadataPool",582],["T_DOUBLE_COLON","::",582],["T_CLASS","class",582],")",";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","metadataPool",584],";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n",585],"}",["T_WHITESPACE","\n",586]]