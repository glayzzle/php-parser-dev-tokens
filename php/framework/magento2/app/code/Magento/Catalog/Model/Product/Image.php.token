[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Catalog product link model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Filesystem",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DirectoryList",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","App",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ObjectManager",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Image",16],["T_WHITESPACE"," ",16],["T_AS","as",16],["T_WHITESPACE"," ",16],["T_STRING","MagentoImage",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @method string getFile()\n * @method string getLabel()\n * @method string getPosition()\n *\/",18],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","Image",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Framework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","AbstractModel",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_width",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_height",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Default quality value (for JPEG images only).\n     *\n     * @var int\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_quality",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","80",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_keepAspectRatio",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","true",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_keepFrame",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","true",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_keepTransparency",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","true",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_constrainOnly",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","true",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var int[]\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_backgroundColor",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[",["T_LNUMBER","255",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","255",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","255",68],"]",";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_baseFile",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_isBaseFilePlaceholder",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var string|bool\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_newFile",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var MagentoImage\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_processor",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_destinationSubdir",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_angle",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$_watermarkFile",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_watermarkPosition",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_watermarkWidth",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",115],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$_watermarkHeight",118],";",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$_watermarkImageOpacity",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","70",123],";",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",125],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_mediaDirectory",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Image\\Factory\n     *\/",130],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_imageFactory",133],";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\Repository\n     *\/",135],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$_assetRepo",138],";",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\FileSystem\n     *\/",140],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_viewFileSystem",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Core file storage database\n     *\n     * @var \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_coreFileStorageDatabase",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","null",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_scopeConfig",157],";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Catalog product media config\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\Media\\Config\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$_catalogProductMediaConfig",164],";",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$_storeManager",171],";",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\View\\Asset\\ImageFactory\n     *\/",173],["T_WHITESPACE","\n    ",175],["T_PRIVATE","private",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$viewAssetImageFactory",176],";",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\View\\Asset\\PlaceholderFactory\n     *\/",178],["T_WHITESPACE","\n    ",180],["T_PRIVATE","private",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$viewAssetPlaceholderFactory",181],";",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\LocalInterface\n     *\/",183],["T_WHITESPACE","\n    ",185],["T_PRIVATE","private",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$imageAsset",186],";",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\Product\\Media\\Config $catalogProductMediaConfig\n     * @param \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database $coreFileStorageDatabase\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Framework\\Image\\Factory $imageFactory\n     * @param \\Magento\\Framework\\View\\Asset\\Repository $assetRepo\n     * @param \\Magento\\Framework\\View\\FileSystem $viewFileSystem\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",188],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","__construct",205],"(",["T_WHITESPACE","\n        ",205],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Framework",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Model",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Context",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$context",206],",",["T_WHITESPACE","\n        ",206],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Registry",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$registry",207],",",["T_WHITESPACE","\n        ",207],["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Store",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Model",208],["T_NS_SEPARATOR","\\",208],["T_STRING","StoreManagerInterface",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$storeManager",208],",",["T_WHITESPACE","\n        ",208],["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Catalog",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Model",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Product",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Media",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Config",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$catalogProductMediaConfig",209],",",["T_WHITESPACE","\n        ",209],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","MediaStorage",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Helper",210],["T_NS_SEPARATOR","\\",210],["T_STRING","File",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Storage",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Database",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$coreFileStorageDatabase",210],",",["T_WHITESPACE","\n        ",210],["T_NS_SEPARATOR","\\",211],["T_STRING","Magento",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Framework",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Filesystem",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$filesystem",211],",",["T_WHITESPACE","\n        ",211],["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Framework",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Image",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Factory",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$imageFactory",212],",",["T_WHITESPACE","\n        ",212],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Framework",213],["T_NS_SEPARATOR","\\",213],["T_STRING","View",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Asset",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Repository",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$assetRepo",213],",",["T_WHITESPACE","\n        ",213],["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Framework",214],["T_NS_SEPARATOR","\\",214],["T_STRING","View",214],["T_NS_SEPARATOR","\\",214],["T_STRING","FileSystem",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$viewFileSystem",214],",",["T_WHITESPACE","\n        ",214],["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Framework",215],["T_NS_SEPARATOR","\\",215],["T_STRING","App",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Config",215],["T_NS_SEPARATOR","\\",215],["T_STRING","ScopeConfigInterface",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$scopeConfig",215],",",["T_WHITESPACE","\n        ",215],["T_NS_SEPARATOR","\\",216],["T_STRING","Magento",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Framework",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Model",216],["T_NS_SEPARATOR","\\",216],["T_STRING","ResourceModel",216],["T_NS_SEPARATOR","\\",216],["T_STRING","AbstractResource",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$resource",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","null",216],",",["T_WHITESPACE","\n        ",216],["T_NS_SEPARATOR","\\",217],["T_STRING","Magento",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Framework",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Data",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Collection",217],["T_NS_SEPARATOR","\\",217],["T_STRING","AbstractDb",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$resourceCollection",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","null",217],",",["T_WHITESPACE","\n        ",217],["T_ARRAY","array",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$data",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[","]",["T_WHITESPACE","\n    ",218],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_storeManager",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$storeManager",220],";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_catalogProductMediaConfig",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$catalogProductMediaConfig",221],";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_coreFileStorageDatabase",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$coreFileStorageDatabase",222],";",["T_WHITESPACE","\n        ",222],["T_STRING","parent",223],["T_DOUBLE_COLON","::",223],["T_STRING","__construct",223],"(",["T_VARIABLE","$context",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$registry",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$resource",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$resourceCollection",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$data",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_mediaDirectory",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$filesystem",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getDirectoryWrite",224],"(",["T_STRING","DirectoryList",224],["T_DOUBLE_COLON","::",224],["T_STRING","MEDIA",224],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_imageFactory",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$imageFactory",225],";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_assetRepo",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$assetRepo",226],";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_viewFileSystem",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$viewFileSystem",227],";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_scopeConfig",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$scopeConfig",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * @param int $width\n     * @return $this\n     *\/",231],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","setWidth",235],"(",["T_VARIABLE","$width",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_width",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$width",237],";",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",241],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","getWidth",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_width",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * @param int $height\n     * @return $this\n     *\/",249],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","setHeight",253],"(",["T_VARIABLE","$height",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_height",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$height",255],";",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",259],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getHeight",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_height",264],";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Set image quality, values in percentage from 0 to 100\n     *\n     * @param int $quality\n     * @return $this\n     *\/",267],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","setQuality",273],"(",["T_VARIABLE","$quality",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_quality",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$quality",275],";",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Get image quality\n     *\n     * @return int\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getQuality",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_quality",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * @param bool $keep\n     * @return $this\n     *\/",289],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","setKeepAspectRatio",293],"(",["T_VARIABLE","$keep",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_keepAspectRatio",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_BOOL_CAST","(bool)",295],["T_VARIABLE","$keep",295],";",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * @param bool $keep\n     * @return $this\n     *\/",299],["T_WHITESPACE","\n    ",302],["T_PUBLIC","public",303],["T_WHITESPACE"," ",303],["T_FUNCTION","function",303],["T_WHITESPACE"," ",303],["T_STRING","setKeepFrame",303],"(",["T_VARIABLE","$keep",303],")",["T_WHITESPACE","\n    ",303],"{",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_keepFrame",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_BOOL_CAST","(bool)",305],["T_VARIABLE","$keep",305],";",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * @param bool $keep\n     * @return $this\n     *\/",309],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","setKeepTransparency",313],"(",["T_VARIABLE","$keep",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_keepTransparency",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_BOOL_CAST","(bool)",315],["T_VARIABLE","$keep",315],";",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * @param bool $flag\n     * @return $this\n     *\/",319],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","setConstrainOnly",323],"(",["T_VARIABLE","$flag",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_constrainOnly",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_BOOL_CAST","(bool)",325],["T_VARIABLE","$flag",325],";",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * @param int[] $rgbArray\n     * @return $this\n     *\/",329],["T_WHITESPACE","\n    ",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","setBackgroundColor",333],"(",["T_ARRAY","array",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$rgbArray",333],")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_backgroundColor",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$rgbArray",335],";",["T_WHITESPACE","\n        ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * @param string $size\n     * @return $this\n     *\/",339],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","setSize",343],"(",["T_VARIABLE","$size",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_COMMENT","\/\/ determine width and height from string\n",345],["T_WHITESPACE","        ",346],["T_LIST","list",346],"(",["T_VARIABLE","$width",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$height",346],")",["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","explode",346],"(",["T_CONSTANT_ENCAPSED_STRING","'x'",346],",",["T_WHITESPACE"," ",346],["T_STRING","strtolower",346],"(",["T_VARIABLE","$size",346],")",",",["T_WHITESPACE"," ",346],["T_LNUMBER","2",346],")",";",["T_WHITESPACE","\n        ",346],["T_FOREACH","foreach",347],["T_WHITESPACE"," ",347],"(","[",["T_CONSTANT_ENCAPSED_STRING","'width'",347],",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'height'",347],"]",["T_WHITESPACE"," ",347],["T_AS","as",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$wh",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],"$","{",["T_VARIABLE","$wh",348],"}",["T_WHITESPACE","\n                ",348],"=",["T_WHITESPACE"," ",349],["T_INT_CAST","(int)",349],"$","{",["T_VARIABLE","$wh",349],"}",";",["T_WHITESPACE","\n            ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_EMPTY","empty",350],"(","$","{",["T_VARIABLE","$wh",350],"}",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                ",350],"$","{",["T_VARIABLE","$wh",351],"}",["T_WHITESPACE","\n                    ",351],"=",["T_WHITESPACE"," ",352],["T_STRING","null",352],";",["T_WHITESPACE","\n            ",352],"}",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_COMMENT","\/\/ set sizes\n",356],["T_WHITESPACE","        ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","setWidth",357],"(",["T_VARIABLE","$width",357],")",["T_OBJECT_OPERATOR","->",357],["T_STRING","setHeight",357],"(",["T_VARIABLE","$height",357],")",";",["T_WHITESPACE","\n\n        ",357],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * @param string|null $file\n     * @return bool\n     *\/",362],["T_WHITESPACE","\n    ",365],["T_PROTECTED","protected",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","_checkMemory",366],"(",["T_VARIABLE","$file",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","null",366],")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getMemoryLimit",368],"(",")",["T_WHITESPACE"," ",368],">",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getMemoryUsage",368],"(",")",["T_WHITESPACE"," ",368],"+",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getNeedMemoryForFile",368],"(",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$file",369],["T_WHITESPACE","\n        ",369],")",["T_WHITESPACE","\n        ",370],["T_BOOLEAN_OR","||",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_getMemoryLimit",371],"(",")",["T_WHITESPACE"," ",371],["T_IS_EQUAL","==",371],["T_WHITESPACE"," ",371],"-",["T_LNUMBER","1",371],";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",374],["T_WHITESPACE","\n    ",376],["T_PROTECTED","protected",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","_getMemoryLimit",377],"(",")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$memoryLimit",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","trim",379],"(",["T_STRING","strtoupper",379],"(",["T_STRING","ini_get",379],"(",["T_CONSTANT_ENCAPSED_STRING","'memory_limit'",379],")",")",")",";",["T_WHITESPACE","\n\n        ",379],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_ISSET","isset",381],"(",["T_VARIABLE","$memoryLimit",381],"[",["T_LNUMBER","0",381],"]",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_VARIABLE","$memoryLimit",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","\"128M\"",382],";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_STRING","substr",385],"(",["T_VARIABLE","$memoryLimit",385],",",["T_WHITESPACE"," ",385],"-",["T_LNUMBER","1",385],")",["T_WHITESPACE"," ",385],["T_IS_EQUAL","==",385],["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'K'",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_STRING","substr",386],"(",["T_VARIABLE","$memoryLimit",386],",",["T_WHITESPACE"," ",386],["T_LNUMBER","0",386],",",["T_WHITESPACE"," ",386],"-",["T_LNUMBER","1",386],")",["T_WHITESPACE"," ",386],"*",["T_WHITESPACE"," ",386],["T_LNUMBER","1024",386],";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_STRING","substr",388],"(",["T_VARIABLE","$memoryLimit",388],",",["T_WHITESPACE"," ",388],"-",["T_LNUMBER","1",388],")",["T_WHITESPACE"," ",388],["T_IS_EQUAL","==",388],["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'M'",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_STRING","substr",389],"(",["T_VARIABLE","$memoryLimit",389],",",["T_WHITESPACE"," ",389],["T_LNUMBER","0",389],",",["T_WHITESPACE"," ",389],"-",["T_LNUMBER","1",389],")",["T_WHITESPACE"," ",389],"*",["T_WHITESPACE"," ",389],["T_LNUMBER","1024",389],["T_WHITESPACE"," ",389],"*",["T_WHITESPACE"," ",389],["T_LNUMBER","1024",389],";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_STRING","substr",391],"(",["T_VARIABLE","$memoryLimit",391],",",["T_WHITESPACE"," ",391],"-",["T_LNUMBER","1",391],")",["T_WHITESPACE"," ",391],["T_IS_EQUAL","==",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'G'",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_STRING","substr",392],"(",["T_VARIABLE","$memoryLimit",392],",",["T_WHITESPACE"," ",392],["T_LNUMBER","0",392],",",["T_WHITESPACE"," ",392],"-",["T_LNUMBER","1",392],")",["T_WHITESPACE"," ",392],"*",["T_WHITESPACE"," ",392],["T_LNUMBER","1024",392],["T_WHITESPACE"," ",392],"*",["T_WHITESPACE"," ",392],["T_LNUMBER","1024",392],["T_WHITESPACE"," ",392],"*",["T_WHITESPACE"," ",392],["T_LNUMBER","1024",392],";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n        ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$memoryLimit",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",397],["T_WHITESPACE","\n    ",399],["T_PROTECTED","protected",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","_getMemoryUsage",400],"(",")",["T_WHITESPACE","\n    ",400],"{",["T_WHITESPACE","\n        ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_STRING","function_exists",402],"(",["T_CONSTANT_ENCAPSED_STRING","'memory_get_usage'",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_RETURN","return",403],["T_WHITESPACE"," ",403],["T_STRING","memory_get_usage",403],"(",")",";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n        ",404],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_LNUMBER","0",405],";",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n    ",406],["T_DOC_COMMENT","\/**\n     * @param string|null $file\n     * @return float|int\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",408],["T_WHITESPACE","\n    ",412],["T_PROTECTED","protected",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","_getNeedMemoryForFile",413],"(",["T_VARIABLE","$file",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_STRING","null",413],")",["T_WHITESPACE","\n    ",413],"{",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$file",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$file",415],["T_WHITESPACE"," ",415],["T_IS_IDENTICAL","===",415],["T_WHITESPACE"," ",415],["T_STRING","null",415],["T_WHITESPACE"," ",415],"?",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getBaseFile",415],"(",")",["T_WHITESPACE"," ",415],":",["T_WHITESPACE"," ",415],["T_VARIABLE","$file",415],";",["T_WHITESPACE","\n        ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(","!",["T_VARIABLE","$file",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_LNUMBER","0",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n\n        ",418],["T_IF","if",420],["T_WHITESPACE"," ",420],"(","!",["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_mediaDirectory",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","isExist",420],"(",["T_VARIABLE","$file",420],")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n            ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_LNUMBER","0",421],";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE","\n\n        ",422],["T_VARIABLE","$imageInfo",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","getimagesize",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_mediaDirectory",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getAbsolutePath",424],"(",["T_VARIABLE","$file",424],")",")",";",["T_WHITESPACE","\n\n        ",424],["T_IF","if",426],["T_WHITESPACE"," ",426],"(","!",["T_ISSET","isset",426],"(",["T_VARIABLE","$imageInfo",426],"[",["T_LNUMBER","0",426],"]",")",["T_WHITESPACE"," ",426],["T_BOOLEAN_OR","||",426],["T_WHITESPACE"," ",426],"!",["T_ISSET","isset",426],"(",["T_VARIABLE","$imageInfo",426],"[",["T_LNUMBER","1",426],"]",")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_LNUMBER","0",427],";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n        ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(","!",["T_ISSET","isset",429],"(",["T_VARIABLE","$imageInfo",429],"[",["T_CONSTANT_ENCAPSED_STRING","'channels'",429],"]",")",")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n            ",429],["T_COMMENT","\/\/ if there is no info about this parameter lets set it for maximum\n",430],["T_WHITESPACE","            ",431],["T_VARIABLE","$imageInfo",431],"[",["T_CONSTANT_ENCAPSED_STRING","'channels'",431],"]",["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_LNUMBER","4",431],";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n        ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(","!",["T_ISSET","isset",433],"(",["T_VARIABLE","$imageInfo",433],"[",["T_CONSTANT_ENCAPSED_STRING","'bits'",433],"]",")",")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_COMMENT","\/\/ if there is no info about this parameter lets set it for maximum\n",434],["T_WHITESPACE","            ",435],["T_VARIABLE","$imageInfo",435],"[",["T_CONSTANT_ENCAPSED_STRING","'bits'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_LNUMBER","8",435],";",["T_WHITESPACE","\n        ",435],"}",["T_WHITESPACE","\n        ",436],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_STRING","round",437],"(",["T_WHITESPACE","\n            ",437],"(",["T_VARIABLE","$imageInfo",438],"[",["T_LNUMBER","0",438],"]",["T_WHITESPACE"," ",438],"*",["T_WHITESPACE"," ",438],["T_VARIABLE","$imageInfo",438],"[",["T_LNUMBER","1",438],"]",["T_WHITESPACE"," ",438],"*",["T_WHITESPACE"," ",438],["T_VARIABLE","$imageInfo",438],"[",["T_CONSTANT_ENCAPSED_STRING","'bits'",438],"]",["T_WHITESPACE"," ",438],"*",["T_WHITESPACE"," ",438],["T_VARIABLE","$imageInfo",438],"[",["T_CONSTANT_ENCAPSED_STRING","'channels'",438],"]",["T_WHITESPACE"," ",438],"\/",["T_WHITESPACE"," ",438],["T_LNUMBER","8",438],["T_WHITESPACE"," ",438],"+",["T_WHITESPACE"," ",438],["T_STRING","Pow",438],"(",["T_LNUMBER","2",438],",",["T_WHITESPACE"," ",438],["T_LNUMBER","16",438],")",")",["T_WHITESPACE"," ",438],"*",["T_WHITESPACE"," ",438],["T_DNUMBER","1.65",438],["T_WHITESPACE","\n        ",438],")",";",["T_WHITESPACE","\n    ",439],"}",["T_WHITESPACE","\n\n    ",440],["T_DOC_COMMENT","\/**\n     * Convert array of 3 items (decimal r, g, b) to string of their hex values\n     *\n     * @param int[] $rgbArray\n     * @return string\n     *\/",442],["T_WHITESPACE","\n    ",447],["T_PROTECTED","protected",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","_rgbToString",448],"(",["T_VARIABLE","$rgbArray",448],")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$result",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],"[","]",";",["T_WHITESPACE","\n        ",450],["T_FOREACH","foreach",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$rgbArray",451],["T_WHITESPACE"," ",451],["T_AS","as",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$value",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_STRING","null",452],["T_WHITESPACE"," ",452],["T_IS_IDENTICAL","===",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$value",452],")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n                ",452],["T_VARIABLE","$result",453],"[","]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'null'",453],";",["T_WHITESPACE","\n            ",453],"}",["T_WHITESPACE"," ",454],["T_ELSE","else",454],["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$result",455],"[","]",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","sprintf",455],"(",["T_CONSTANT_ENCAPSED_STRING","'%02s'",455],",",["T_WHITESPACE"," ",455],["T_STRING","dechex",455],"(",["T_VARIABLE","$value",455],")",")",";",["T_WHITESPACE","\n            ",455],"}",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_STRING","implode",458],"(",["T_VARIABLE","$result",458],")",";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * Set filenames for base file and new file\n     *\n     * @param string $file\n     * @return $this\n     * @throws \\Exception\n     *\/",461],["T_WHITESPACE","\n    ",467],["T_PUBLIC","public",468],["T_WHITESPACE"," ",468],["T_FUNCTION","function",468],["T_WHITESPACE"," ",468],["T_STRING","setBaseFile",468],"(",["T_VARIABLE","$file",468],")",["T_WHITESPACE","\n    ",468],"{",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_isBaseFilePlaceholder",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_STRING","false",470],";",["T_WHITESPACE","\n\n        ",470],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","imageAsset",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getViewAssetImageFactory",472],"(",")",["T_OBJECT_OPERATOR","->",472],["T_STRING","create",472],"(",["T_WHITESPACE","\n            ",472],"[",["T_WHITESPACE","\n                ",473],["T_CONSTANT_ENCAPSED_STRING","'miscParams'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getMiscParams",474],"(",")",",",["T_WHITESPACE","\n                ",474],["T_CONSTANT_ENCAPSED_STRING","'filePath'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$file",475],",",["T_WHITESPACE","\n            ",475],"]",["T_WHITESPACE","\n        ",476],")",";",["T_WHITESPACE","\n        ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$file",478],["T_WHITESPACE"," ",478],["T_IS_EQUAL","==",478],["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'no_selection'",478],["T_WHITESPACE"," ",478],["T_BOOLEAN_OR","||",478],["T_WHITESPACE"," ",478],"!",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_fileExists",478],"(",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","imageAsset",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getSourceFile",478],"(",")",")",["T_WHITESPACE","\n            ",478],["T_BOOLEAN_OR","||",479],["T_WHITESPACE"," ",479],"!",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_checkMemory",479],"(",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","imageAsset",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getSourceFile",479],"(",")",")",["T_WHITESPACE","\n        ",479],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_isBaseFilePlaceholder",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","true",481],";",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","imageAsset",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getViewAssetPlaceholderFactory",482],"(",")",["T_OBJECT_OPERATOR","->",482],["T_STRING","create",482],"(",["T_WHITESPACE","\n                ",482],"[",["T_WHITESPACE","\n                    ",483],["T_CONSTANT_ENCAPSED_STRING","'type'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getDestinationSubdir",484],"(",")",",",["T_WHITESPACE","\n                ",484],"]",["T_WHITESPACE","\n            ",485],")",";",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE","\n\n        ",487],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_baseFile",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","imageAsset",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getSourceFile",489],"(",")",";",["T_WHITESPACE","\n\n        ",489],["T_RETURN","return",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],";",["T_WHITESPACE","\n    ",491],"}",["T_WHITESPACE","\n\n    ",492],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",494],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","getBaseFile",497],"(",")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_RETURN","return",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","_baseFile",499],";",["T_WHITESPACE","\n    ",499],"}",["T_WHITESPACE","\n\n    ",500],["T_DOC_COMMENT","\/**\n     * @deprecated\n     * @return bool|string\n     *\/",502],["T_WHITESPACE","\n    ",505],["T_PUBLIC","public",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","getNewFile",506],"(",")",["T_WHITESPACE","\n    ",506],"{",["T_WHITESPACE","\n        ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_newFile",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Retrieve 'true' if image is a base file placeholder\n     *\n     * @return bool\n     *\/",511],["T_WHITESPACE","\n    ",515],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","isBaseFilePlaceholder",516],"(",")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_RETURN","return",518],["T_WHITESPACE"," ",518],["T_BOOL_CAST","(bool)",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","_isBaseFilePlaceholder",518],";",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n\n    ",519],["T_DOC_COMMENT","\/**\n     * @param MagentoImage $processor\n     * @return $this\n     *\/",521],["T_WHITESPACE","\n    ",524],["T_PUBLIC","public",525],["T_WHITESPACE"," ",525],["T_FUNCTION","function",525],["T_WHITESPACE"," ",525],["T_STRING","setImageProcessor",525],"(",["T_VARIABLE","$processor",525],")",["T_WHITESPACE","\n    ",525],"{",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","_processor",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$processor",527],";",["T_WHITESPACE","\n        ",527],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],";",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n\n    ",529],["T_DOC_COMMENT","\/**\n     * @return MagentoImage\n     *\/",531],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","getImageProcessor",534],"(",")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_IF","if",536],["T_WHITESPACE"," ",536],"(","!",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_processor",536],")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n            ",536],["T_VARIABLE","$filename",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getBaseFile",537],"(",")",["T_WHITESPACE"," ",537],"?",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_mediaDirectory",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getAbsolutePath",537],"(",["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getBaseFile",537],"(",")",")",["T_WHITESPACE"," ",537],":",["T_WHITESPACE"," ",537],["T_STRING","null",537],";",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","_processor",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","_imageFactory",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","create",538],"(",["T_VARIABLE","$filename",538],")",";",["T_WHITESPACE","\n        ",538],"}",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_processor",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","keepAspectRatio",540],"(",["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_keepAspectRatio",540],")",";",["T_WHITESPACE","\n        ",540],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_processor",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","keepFrame",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_keepFrame",541],")",";",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","_processor",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","keepTransparency",542],"(",["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","_keepTransparency",542],")",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","_processor",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","constrainOnly",543],"(",["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","_constrainOnly",543],")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_processor",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","backgroundColor",544],"(",["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_backgroundColor",544],")",";",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_processor",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","quality",545],"(",["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_quality",545],")",";",["T_WHITESPACE","\n        ",545],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","_processor",546],";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_DOC_COMMENT","\/**\n     * @see \\Magento\\Framework\\Image\\Adapter\\AbstractAdapter\n     * @return $this\n     *\/",549],["T_WHITESPACE","\n    ",552],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","resize",553],"(",")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_IF","if",555],["T_WHITESPACE"," ",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getWidth",555],"(",")",["T_WHITESPACE"," ",555],["T_IS_IDENTICAL","===",555],["T_WHITESPACE"," ",555],["T_STRING","null",555],["T_WHITESPACE"," ",555],["T_BOOLEAN_AND","&&",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getHeight",555],"(",")",["T_WHITESPACE"," ",555],["T_IS_IDENTICAL","===",555],["T_WHITESPACE"," ",555],["T_STRING","null",555],")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n            ",555],["T_RETURN","return",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],";",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","getImageProcessor",558],"(",")",["T_OBJECT_OPERATOR","->",558],["T_STRING","resize",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","_width",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","_height",558],")",";",["T_WHITESPACE","\n        ",558],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$this",559],";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n\n    ",560],["T_DOC_COMMENT","\/**\n     * @param int $angle\n     * @return $this\n     *\/",562],["T_WHITESPACE","\n    ",565],["T_PUBLIC","public",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","rotate",566],"(",["T_VARIABLE","$angle",566],")",["T_WHITESPACE","\n    ",566],"{",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$angle",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_STRING","intval",568],"(",["T_VARIABLE","$angle",568],")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","getImageProcessor",569],"(",")",["T_OBJECT_OPERATOR","->",569],["T_STRING","rotate",569],"(",["T_VARIABLE","$angle",569],")",";",["T_WHITESPACE","\n        ",569],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Set angle for rotating\n     *\n     * This func actually affects only the cache filename.\n     *\n     * @param int $angle\n     * @return $this\n     *\/",573],["T_WHITESPACE","\n    ",580],["T_PUBLIC","public",581],["T_WHITESPACE"," ",581],["T_FUNCTION","function",581],["T_WHITESPACE"," ",581],["T_STRING","setAngle",581],"(",["T_VARIABLE","$angle",581],")",["T_WHITESPACE","\n    ",581],"{",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_angle",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$angle",583],";",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Add watermark to image\n     * size param in format 100x200\n     *\n     * @param string $file\n     * @param string $position\n     * @param array $size ['width' => int, 'height' => int]\n     * @param int $width\n     * @param int $height\n     * @param int $opacity\n     * @return $this\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",587],["T_WHITESPACE","\n    ",599],["T_PUBLIC","public",600],["T_WHITESPACE"," ",600],["T_FUNCTION","function",600],["T_WHITESPACE"," ",600],["T_STRING","setWatermark",600],"(",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$file",601],",",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$position",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_STRING","null",602],",",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$size",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_STRING","null",603],",",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$width",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_STRING","null",604],",",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$height",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_STRING","null",605],",",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$opacity",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_STRING","null",606],["T_WHITESPACE","\n    ",606],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n        ",607],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","_isBaseFilePlaceholder",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n            ",608],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],";",["T_WHITESPACE","\n        ",609],"}",["T_WHITESPACE","\n\n        ",610],["T_IF","if",612],["T_WHITESPACE"," ",612],"(",["T_VARIABLE","$file",612],")",["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","setWatermarkFile",613],"(",["T_VARIABLE","$file",613],")",";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE"," ",614],["T_ELSE","else",614],["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n            ",614],["T_RETURN","return",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n\n        ",616],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_VARIABLE","$position",618],")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n            ",618],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","setWatermarkPosition",619],"(",["T_VARIABLE","$position",619],")",";",["T_WHITESPACE","\n        ",619],"}",["T_WHITESPACE","\n        ",620],["T_IF","if",621],["T_WHITESPACE"," ",621],"(",["T_VARIABLE","$size",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n            ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","setWatermarkSize",622],"(",["T_VARIABLE","$size",622],")",";",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n        ",623],["T_IF","if",624],["T_WHITESPACE"," ",624],"(",["T_VARIABLE","$width",624],")",["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n            ",624],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","setWatermarkWidth",625],"(",["T_VARIABLE","$width",625],")",";",["T_WHITESPACE","\n        ",625],"}",["T_WHITESPACE","\n        ",626],["T_IF","if",627],["T_WHITESPACE"," ",627],"(",["T_VARIABLE","$height",627],")",["T_WHITESPACE"," ",627],"{",["T_WHITESPACE","\n            ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","setWatermarkHeight",628],"(",["T_VARIABLE","$height",628],")",";",["T_WHITESPACE","\n        ",628],"}",["T_WHITESPACE","\n        ",629],["T_IF","if",630],["T_WHITESPACE"," ",630],"(",["T_VARIABLE","$opacity",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n            ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","setWatermarkImageOpacity",631],"(",["T_VARIABLE","$opacity",631],")",";",["T_WHITESPACE","\n        ",631],"}",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$filePath",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","_getWatermarkFilePath",633],"(",")",";",["T_WHITESPACE","\n\n        ",633],["T_IF","if",635],["T_WHITESPACE"," ",635],"(",["T_VARIABLE","$filePath",635],")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n            ",635],["T_VARIABLE","$imagePreprocessor",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","getImageProcessor",636],"(",")",";",["T_WHITESPACE","\n            ",636],["T_VARIABLE","$imagePreprocessor",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","setWatermarkPosition",637],"(",["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getWatermarkPosition",637],"(",")",")",";",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$imagePreprocessor",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","setWatermarkImageOpacity",638],"(",["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","getWatermarkImageOpacity",638],"(",")",")",";",["T_WHITESPACE","\n            ",638],["T_VARIABLE","$imagePreprocessor",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","setWatermarkWidth",639],"(",["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","getWatermarkWidth",639],"(",")",")",";",["T_WHITESPACE","\n            ",639],["T_VARIABLE","$imagePreprocessor",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","setWatermarkHeight",640],"(",["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getWatermarkHeight",640],"(",")",")",";",["T_WHITESPACE","\n            ",640],["T_VARIABLE","$imagePreprocessor",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","watermark",641],"(",["T_VARIABLE","$filePath",641],")",";",["T_WHITESPACE","\n        ",641],"}",["T_WHITESPACE","\n\n        ",642],["T_RETURN","return",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],";",["T_WHITESPACE","\n    ",644],"}",["T_WHITESPACE","\n\n    ",645],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",647],["T_WHITESPACE","\n    ",649],["T_PUBLIC","public",650],["T_WHITESPACE"," ",650],["T_FUNCTION","function",650],["T_WHITESPACE"," ",650],["T_STRING","saveFile",650],"(",")",["T_WHITESPACE","\n    ",650],"{",["T_WHITESPACE","\n        ",651],["T_IF","if",652],["T_WHITESPACE"," ",652],"(",["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_isBaseFilePlaceholder",652],")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n            ",652],["T_RETURN","return",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE","\n        ",654],["T_VARIABLE","$filename",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getBaseFile",655],"(",")",["T_WHITESPACE"," ",655],"?",["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","imageAsset",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getPath",655],"(",")",["T_WHITESPACE"," ",655],":",["T_WHITESPACE"," ",655],["T_STRING","null",655],";",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","getImageProcessor",656],"(",")",["T_OBJECT_OPERATOR","->",656],["T_STRING","save",656],"(",["T_VARIABLE","$filename",656],")",";",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","_coreFileStorageDatabase",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","saveFile",657],"(",["T_VARIABLE","$filename",657],")",";",["T_WHITESPACE","\n        ",657],["T_RETURN","return",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$this",658],";",["T_WHITESPACE","\n    ",658],"}",["T_WHITESPACE","\n\n    ",659],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",661],["T_WHITESPACE","\n    ",663],["T_PUBLIC","public",664],["T_WHITESPACE"," ",664],["T_FUNCTION","function",664],["T_WHITESPACE"," ",664],["T_STRING","getUrl",664],"(",")",["T_WHITESPACE","\n    ",664],"{",["T_WHITESPACE","\n        ",665],["T_RETURN","return",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","imageAsset",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getUrl",666],"(",")",";",["T_WHITESPACE","\n    ",666],"}",["T_WHITESPACE","\n\n    ",667],["T_DOC_COMMENT","\/**\n     * @param string $dir\n     * @return $this\n     *\/",669],["T_WHITESPACE","\n    ",672],["T_PUBLIC","public",673],["T_WHITESPACE"," ",673],["T_FUNCTION","function",673],["T_WHITESPACE"," ",673],["T_STRING","setDestinationSubdir",673],"(",["T_VARIABLE","$dir",673],")",["T_WHITESPACE","\n    ",673],"{",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","_destinationSubdir",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$dir",675],";",["T_WHITESPACE","\n        ",675],["T_RETURN","return",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],";",["T_WHITESPACE","\n    ",676],"}",["T_WHITESPACE","\n\n    ",677],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",679],["T_WHITESPACE","\n    ",681],["T_PUBLIC","public",682],["T_WHITESPACE"," ",682],["T_FUNCTION","function",682],["T_WHITESPACE"," ",682],["T_STRING","getDestinationSubdir",682],"(",")",["T_WHITESPACE","\n    ",682],"{",["T_WHITESPACE","\n        ",683],["T_RETURN","return",684],["T_WHITESPACE"," ",684],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","_destinationSubdir",684],";",["T_WHITESPACE","\n    ",684],"}",["T_WHITESPACE","\n\n    ",685],["T_DOC_COMMENT","\/**\n     * @return bool|void\n     *\/",687],["T_WHITESPACE","\n    ",689],["T_PUBLIC","public",690],["T_WHITESPACE"," ",690],["T_FUNCTION","function",690],["T_WHITESPACE"," ",690],["T_STRING","isCached",690],"(",")",["T_WHITESPACE","\n    ",690],"{",["T_WHITESPACE","\n        ",691],["T_RETURN","return",692],["T_WHITESPACE"," ",692],["T_STRING","file_exists",692],"(",["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","imageAsset",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","getPath",692],"(",")",")",";",["T_WHITESPACE","\n    ",692],"}",["T_WHITESPACE","\n\n    ",693],["T_DOC_COMMENT","\/**\n     * Set watermark file name\n     *\n     * @param string $file\n     * @return $this\n     *\/",695],["T_WHITESPACE","\n    ",700],["T_PUBLIC","public",701],["T_WHITESPACE"," ",701],["T_FUNCTION","function",701],["T_WHITESPACE"," ",701],["T_STRING","setWatermarkFile",701],"(",["T_VARIABLE","$file",701],")",["T_WHITESPACE","\n    ",701],"{",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_watermarkFile",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$file",703],";",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Get watermark file name\n     *\n     * @return string\n     *\/",707],["T_WHITESPACE","\n    ",711],["T_PUBLIC","public",712],["T_WHITESPACE"," ",712],["T_FUNCTION","function",712],["T_WHITESPACE"," ",712],["T_STRING","getWatermarkFile",712],"(",")",["T_WHITESPACE","\n    ",712],"{",["T_WHITESPACE","\n        ",713],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","_watermarkFile",714],";",["T_WHITESPACE","\n    ",714],"}",["T_WHITESPACE","\n\n    ",715],["T_DOC_COMMENT","\/**\n     * Get relative watermark file path\n     * or false if file not found\n     *\n     * @return string | bool\n     *\/",717],["T_WHITESPACE","\n    ",722],["T_PROTECTED","protected",723],["T_WHITESPACE"," ",723],["T_FUNCTION","function",723],["T_WHITESPACE"," ",723],["T_STRING","_getWatermarkFilePath",723],"(",")",["T_WHITESPACE","\n    ",723],"{",["T_WHITESPACE","\n        ",724],["T_VARIABLE","$filePath",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_STRING","false",725],";",["T_WHITESPACE","\n\n        ",725],["T_IF","if",727],["T_WHITESPACE"," ",727],"(","!","(",["T_VARIABLE","$file",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getWatermarkFile",727],"(",")",")",")",["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n            ",727],["T_RETURN","return",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$filePath",728],";",["T_WHITESPACE","\n        ",728],"}",["T_WHITESPACE","\n        ",729],["T_VARIABLE","$baseDir",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","_catalogProductMediaConfig",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","getBaseMediaPath",730],"(",")",";",["T_WHITESPACE","\n\n        ",730],["T_VARIABLE","$candidates",732],["T_WHITESPACE"," ",732],"=",["T_WHITESPACE"," ",732],"[",["T_WHITESPACE","\n            ",732],["T_VARIABLE","$baseDir",733],["T_WHITESPACE"," ",733],".",["T_WHITESPACE"," ",733],["T_CONSTANT_ENCAPSED_STRING","'\/watermark\/stores\/'",733],["T_WHITESPACE"," ",733],".",["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","_storeManager",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getStore",733],"(",")",["T_OBJECT_OPERATOR","->",733],["T_STRING","getId",733],"(",")",["T_WHITESPACE"," ",733],".",["T_WHITESPACE"," ",733],["T_VARIABLE","$file",733],",",["T_WHITESPACE","\n            ",733],["T_VARIABLE","$baseDir",734],["T_WHITESPACE"," ",734],".",["T_WHITESPACE"," ",734],["T_CONSTANT_ENCAPSED_STRING","'\/watermark\/websites\/'",734],["T_WHITESPACE"," ",734],".",["T_WHITESPACE"," ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","_storeManager",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","getWebsite",734],"(",")",["T_OBJECT_OPERATOR","->",734],["T_STRING","getId",734],"(",")",["T_WHITESPACE"," ",734],".",["T_WHITESPACE"," ",734],["T_VARIABLE","$file",734],",",["T_WHITESPACE","\n            ",734],["T_VARIABLE","$baseDir",735],["T_WHITESPACE"," ",735],".",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'\/watermark\/default\/'",735],["T_WHITESPACE"," ",735],".",["T_WHITESPACE"," ",735],["T_VARIABLE","$file",735],",",["T_WHITESPACE","\n            ",735],["T_VARIABLE","$baseDir",736],["T_WHITESPACE"," ",736],".",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'\/watermark\/'",736],["T_WHITESPACE"," ",736],".",["T_WHITESPACE"," ",736],["T_VARIABLE","$file",736],",",["T_WHITESPACE","\n        ",736],"]",";",["T_WHITESPACE","\n        ",737],["T_FOREACH","foreach",738],["T_WHITESPACE"," ",738],"(",["T_VARIABLE","$candidates",738],["T_WHITESPACE"," ",738],["T_AS","as",738],["T_WHITESPACE"," ",738],["T_VARIABLE","$candidate",738],")",["T_WHITESPACE"," ",738],"{",["T_WHITESPACE","\n            ",738],["T_IF","if",739],["T_WHITESPACE"," ",739],"(",["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","_mediaDirectory",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","isExist",739],"(",["T_VARIABLE","$candidate",739],")",")",["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n                ",739],["T_VARIABLE","$filePath",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","_mediaDirectory",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","getAbsolutePath",740],"(",["T_VARIABLE","$candidate",740],")",";",["T_WHITESPACE","\n                ",740],["T_BREAK","break",741],";",["T_WHITESPACE","\n            ",741],"}",["T_WHITESPACE","\n        ",742],"}",["T_WHITESPACE","\n        ",743],["T_IF","if",744],["T_WHITESPACE"," ",744],"(","!",["T_VARIABLE","$filePath",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n            ",744],["T_VARIABLE","$filePath",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","_viewFileSystem",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","getStaticFileName",745],"(",["T_VARIABLE","$file",745],")",";",["T_WHITESPACE","\n        ",745],"}",["T_WHITESPACE","\n\n        ",746],["T_RETURN","return",748],["T_WHITESPACE"," ",748],["T_VARIABLE","$filePath",748],";",["T_WHITESPACE","\n    ",748],"}",["T_WHITESPACE","\n\n    ",749],["T_DOC_COMMENT","\/**\n     * Set watermark position\n     *\n     * @param string $position\n     * @return $this\n     *\/",751],["T_WHITESPACE","\n    ",756],["T_PUBLIC","public",757],["T_WHITESPACE"," ",757],["T_FUNCTION","function",757],["T_WHITESPACE"," ",757],["T_STRING","setWatermarkPosition",757],"(",["T_VARIABLE","$position",757],")",["T_WHITESPACE","\n    ",757],"{",["T_WHITESPACE","\n        ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","_watermarkPosition",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_VARIABLE","$position",759],";",["T_WHITESPACE","\n        ",759],["T_RETURN","return",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],";",["T_WHITESPACE","\n    ",760],"}",["T_WHITESPACE","\n\n    ",761],["T_DOC_COMMENT","\/**\n     * Get watermark position\n     *\n     * @return string\n     *\/",763],["T_WHITESPACE","\n    ",767],["T_PUBLIC","public",768],["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],["T_STRING","getWatermarkPosition",768],"(",")",["T_WHITESPACE","\n    ",768],"{",["T_WHITESPACE","\n        ",769],["T_RETURN","return",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_watermarkPosition",770],";",["T_WHITESPACE","\n    ",770],"}",["T_WHITESPACE","\n\n    ",771],["T_DOC_COMMENT","\/**\n     * Set watermark image opacity\n     *\n     * @param int $imageOpacity\n     * @return $this\n     *\/",773],["T_WHITESPACE","\n    ",778],["T_PUBLIC","public",779],["T_WHITESPACE"," ",779],["T_FUNCTION","function",779],["T_WHITESPACE"," ",779],["T_STRING","setWatermarkImageOpacity",779],"(",["T_VARIABLE","$imageOpacity",779],")",["T_WHITESPACE","\n    ",779],"{",["T_WHITESPACE","\n        ",780],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","_watermarkImageOpacity",781],["T_WHITESPACE"," ",781],"=",["T_WHITESPACE"," ",781],["T_VARIABLE","$imageOpacity",781],";",["T_WHITESPACE","\n        ",781],["T_RETURN","return",782],["T_WHITESPACE"," ",782],["T_VARIABLE","$this",782],";",["T_WHITESPACE","\n    ",782],"}",["T_WHITESPACE","\n\n    ",783],["T_DOC_COMMENT","\/**\n     * Get watermark image opacity\n     *\n     * @return int\n     *\/",785],["T_WHITESPACE","\n    ",789],["T_PUBLIC","public",790],["T_WHITESPACE"," ",790],["T_FUNCTION","function",790],["T_WHITESPACE"," ",790],["T_STRING","getWatermarkImageOpacity",790],"(",")",["T_WHITESPACE","\n    ",790],"{",["T_WHITESPACE","\n        ",791],["T_RETURN","return",792],["T_WHITESPACE"," ",792],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","_watermarkImageOpacity",792],";",["T_WHITESPACE","\n    ",792],"}",["T_WHITESPACE","\n\n    ",793],["T_DOC_COMMENT","\/**\n     * Set watermark size\n     *\n     * @param array $size\n     * @return $this\n     *\/",795],["T_WHITESPACE","\n    ",800],["T_PUBLIC","public",801],["T_WHITESPACE"," ",801],["T_FUNCTION","function",801],["T_WHITESPACE"," ",801],["T_STRING","setWatermarkSize",801],"(",["T_VARIABLE","$size",801],")",["T_WHITESPACE","\n    ",801],"{",["T_WHITESPACE","\n        ",802],["T_IF","if",803],["T_WHITESPACE"," ",803],"(",["T_STRING","is_array",803],"(",["T_VARIABLE","$size",803],")",")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n            ",803],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","setWatermarkWidth",804],"(",["T_VARIABLE","$size",804],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",804],"]",")",["T_OBJECT_OPERATOR","->",804],["T_STRING","setWatermarkHeight",804],"(",["T_VARIABLE","$size",804],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",804],"]",")",";",["T_WHITESPACE","\n        ",804],"}",["T_WHITESPACE","\n        ",805],["T_RETURN","return",806],["T_WHITESPACE"," ",806],["T_VARIABLE","$this",806],";",["T_WHITESPACE","\n    ",806],"}",["T_WHITESPACE","\n\n    ",807],["T_DOC_COMMENT","\/**\n     * Set watermark width\n     *\n     * @param int $width\n     * @return $this\n     *\/",809],["T_WHITESPACE","\n    ",814],["T_PUBLIC","public",815],["T_WHITESPACE"," ",815],["T_FUNCTION","function",815],["T_WHITESPACE"," ",815],["T_STRING","setWatermarkWidth",815],"(",["T_VARIABLE","$width",815],")",["T_WHITESPACE","\n    ",815],"{",["T_WHITESPACE","\n        ",816],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","_watermarkWidth",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$width",817],";",["T_WHITESPACE","\n        ",817],["T_RETURN","return",818],["T_WHITESPACE"," ",818],["T_VARIABLE","$this",818],";",["T_WHITESPACE","\n    ",818],"}",["T_WHITESPACE","\n\n    ",819],["T_DOC_COMMENT","\/**\n     * Get watermark width\n     *\n     * @return int\n     *\/",821],["T_WHITESPACE","\n    ",825],["T_PUBLIC","public",826],["T_WHITESPACE"," ",826],["T_FUNCTION","function",826],["T_WHITESPACE"," ",826],["T_STRING","getWatermarkWidth",826],"(",")",["T_WHITESPACE","\n    ",826],"{",["T_WHITESPACE","\n        ",827],["T_RETURN","return",828],["T_WHITESPACE"," ",828],["T_VARIABLE","$this",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","_watermarkWidth",828],";",["T_WHITESPACE","\n    ",828],"}",["T_WHITESPACE","\n\n    ",829],["T_DOC_COMMENT","\/**\n     * Set watermark height\n     *\n     * @param int $height\n     * @return $this\n     *\/",831],["T_WHITESPACE","\n    ",836],["T_PUBLIC","public",837],["T_WHITESPACE"," ",837],["T_FUNCTION","function",837],["T_WHITESPACE"," ",837],["T_STRING","setWatermarkHeight",837],"(",["T_VARIABLE","$height",837],")",["T_WHITESPACE","\n    ",837],"{",["T_WHITESPACE","\n        ",838],["T_VARIABLE","$this",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","_watermarkHeight",839],["T_WHITESPACE"," ",839],"=",["T_WHITESPACE"," ",839],["T_VARIABLE","$height",839],";",["T_WHITESPACE","\n        ",839],["T_RETURN","return",840],["T_WHITESPACE"," ",840],["T_VARIABLE","$this",840],";",["T_WHITESPACE","\n    ",840],"}",["T_WHITESPACE","\n\n    ",841],["T_DOC_COMMENT","\/**\n     * Get watermark height\n     *\n     * @return string\n     *\/",843],["T_WHITESPACE","\n    ",847],["T_PUBLIC","public",848],["T_WHITESPACE"," ",848],["T_FUNCTION","function",848],["T_WHITESPACE"," ",848],["T_STRING","getWatermarkHeight",848],"(",")",["T_WHITESPACE","\n    ",848],"{",["T_WHITESPACE","\n        ",849],["T_RETURN","return",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","_watermarkHeight",850],";",["T_WHITESPACE","\n    ",850],"}",["T_WHITESPACE","\n\n    ",851],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",853],["T_WHITESPACE","\n    ",855],["T_PUBLIC","public",856],["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],["T_STRING","clearCache",856],"(",")",["T_WHITESPACE","\n    ",856],"{",["T_WHITESPACE","\n        ",857],["T_VARIABLE","$directory",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","_catalogProductMediaConfig",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getBaseMediaPath",858],"(",")",["T_WHITESPACE"," ",858],".",["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'\/cache'",858],";",["T_WHITESPACE","\n        ",858],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","_mediaDirectory",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","delete",859],"(",["T_VARIABLE","$directory",859],")",";",["T_WHITESPACE","\n\n        ",859],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","_coreFileStorageDatabase",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","deleteFolder",861],"(",["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","_mediaDirectory",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","getAbsolutePath",861],"(",["T_VARIABLE","$directory",861],")",")",";",["T_WHITESPACE","\n    ",861],"}",["T_WHITESPACE","\n\n    ",862],["T_DOC_COMMENT","\/**\n     * First check this file on FS\n     * If it doesn't exist - try to download it from DB\n     *\n     * @param string $filename\n     * @return bool\n     *\/",864],["T_WHITESPACE","\n    ",870],["T_PROTECTED","protected",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","_fileExists",871],"(",["T_VARIABLE","$filename",871],")",["T_WHITESPACE","\n    ",871],"{",["T_WHITESPACE","\n        ",872],["T_IF","if",873],["T_WHITESPACE"," ",873],"(",["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","_mediaDirectory",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","isFile",873],"(",["T_VARIABLE","$filename",873],")",")",["T_WHITESPACE"," ",873],"{",["T_WHITESPACE","\n            ",873],["T_RETURN","return",874],["T_WHITESPACE"," ",874],["T_STRING","true",874],";",["T_WHITESPACE","\n        ",874],"}",["T_WHITESPACE"," ",875],["T_ELSE","else",875],["T_WHITESPACE"," ",875],"{",["T_WHITESPACE","\n            ",875],["T_RETURN","return",876],["T_WHITESPACE"," ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","_coreFileStorageDatabase",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","saveFileToFilesystem",876],"(",["T_WHITESPACE","\n                ",876],["T_VARIABLE","$this",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","_mediaDirectory",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","getAbsolutePath",877],"(",["T_VARIABLE","$filename",877],")",["T_WHITESPACE","\n            ",877],")",";",["T_WHITESPACE","\n        ",878],"}",["T_WHITESPACE","\n    ",879],"}",["T_WHITESPACE","\n\n    ",880],["T_DOC_COMMENT","\/**\n     * Return resized product image information\n     *\n     * @return array\n     *\/",882],["T_WHITESPACE","\n    ",886],["T_PUBLIC","public",887],["T_WHITESPACE"," ",887],["T_FUNCTION","function",887],["T_WHITESPACE"," ",887],["T_STRING","getResizedImageInfo",887],"(",")",["T_WHITESPACE","\n    ",887],"{",["T_WHITESPACE","\n        ",888],["T_IF","if",889],["T_WHITESPACE"," ",889],"(",["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","isBaseFilePlaceholder",889],"(",")",["T_WHITESPACE"," ",889],["T_IS_EQUAL","==",889],["T_WHITESPACE"," ",889],["T_STRING","true",889],")",["T_WHITESPACE"," ",889],"{",["T_WHITESPACE","\n            ",889],["T_VARIABLE","$image",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","imageAsset",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","getSourceFile",890],"(",")",";",["T_WHITESPACE","\n        ",890],"}",["T_WHITESPACE"," ",891],["T_ELSE","else",891],["T_WHITESPACE"," ",891],"{",["T_WHITESPACE","\n            ",891],["T_VARIABLE","$image",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","imageAsset",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","getPath",892],"(",")",";",["T_WHITESPACE","\n        ",892],"}",["T_WHITESPACE","\n        ",893],["T_RETURN","return",894],["T_WHITESPACE"," ",894],["T_STRING","getimagesize",894],"(",["T_VARIABLE","$image",894],")",";",["T_WHITESPACE","\n    ",894],"}",["T_WHITESPACE","\n\n    ",895],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Catalog\\Model\\View\\Asset\\ImageFactory\n     *\/",897],["T_WHITESPACE","\n    ",899],["T_PRIVATE","private",900],["T_WHITESPACE"," ",900],["T_FUNCTION","function",900],["T_WHITESPACE"," ",900],["T_STRING","getViewAssetImageFactory",900],"(",")",["T_WHITESPACE","\n    ",900],"{",["T_WHITESPACE","\n        ",901],["T_IF","if",902],["T_WHITESPACE"," ",902],"(",["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","viewAssetImageFactory",902],["T_WHITESPACE"," ",902],["T_IS_EQUAL","==",902],["T_WHITESPACE"," ",902],["T_STRING","null",902],")",["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n            ",902],["T_VARIABLE","$this",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","viewAssetImageFactory",903],["T_WHITESPACE"," ",903],"=",["T_WHITESPACE"," ",903],["T_STRING","ObjectManager",903],["T_DOUBLE_COLON","::",903],["T_STRING","getInstance",903],"(",")",["T_OBJECT_OPERATOR","->",903],["T_STRING","get",903],"(",["T_WHITESPACE","\n                ",903],["T_NS_SEPARATOR","\\",904],["T_STRING","Magento",904],["T_NS_SEPARATOR","\\",904],["T_STRING","Catalog",904],["T_NS_SEPARATOR","\\",904],["T_STRING","Model",904],["T_NS_SEPARATOR","\\",904],["T_STRING","View",904],["T_NS_SEPARATOR","\\",904],["T_STRING","Asset",904],["T_NS_SEPARATOR","\\",904],["T_STRING","ImageFactory",904],["T_DOUBLE_COLON","::",904],["T_CLASS","class",904],["T_WHITESPACE","\n            ",904],")",";",["T_WHITESPACE","\n        ",905],"}",["T_WHITESPACE","\n\n        ",906],["T_RETURN","return",908],["T_WHITESPACE"," ",908],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","viewAssetImageFactory",908],";",["T_WHITESPACE","\n    ",908],"}",["T_WHITESPACE","\n\n    ",909],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Catalog\\Model\\View\\Asset\\PlaceholderFactory\n     *\/",911],["T_WHITESPACE","\n    ",913],["T_PRIVATE","private",914],["T_WHITESPACE"," ",914],["T_FUNCTION","function",914],["T_WHITESPACE"," ",914],["T_STRING","getViewAssetPlaceholderFactory",914],"(",")",["T_WHITESPACE","\n    ",914],"{",["T_WHITESPACE","\n        ",915],["T_IF","if",916],["T_WHITESPACE"," ",916],"(",["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","viewAssetPlaceholderFactory",916],["T_WHITESPACE"," ",916],["T_IS_EQUAL","==",916],["T_WHITESPACE"," ",916],["T_STRING","null",916],")",["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n            ",916],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","viewAssetPlaceholderFactory",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_STRING","ObjectManager",917],["T_DOUBLE_COLON","::",917],["T_STRING","getInstance",917],"(",")",["T_OBJECT_OPERATOR","->",917],["T_STRING","get",917],"(",["T_WHITESPACE","\n                ",917],["T_NS_SEPARATOR","\\",918],["T_STRING","Magento",918],["T_NS_SEPARATOR","\\",918],["T_STRING","Catalog",918],["T_NS_SEPARATOR","\\",918],["T_STRING","Model",918],["T_NS_SEPARATOR","\\",918],["T_STRING","View",918],["T_NS_SEPARATOR","\\",918],["T_STRING","Asset",918],["T_NS_SEPARATOR","\\",918],["T_STRING","PlaceholderFactory",918],["T_DOUBLE_COLON","::",918],["T_CLASS","class",918],["T_WHITESPACE","\n            ",918],")",";",["T_WHITESPACE","\n        ",919],"}",["T_WHITESPACE","\n\n        ",920],["T_RETURN","return",922],["T_WHITESPACE"," ",922],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","viewAssetPlaceholderFactory",922],";",["T_WHITESPACE","\n    ",922],"}",["T_WHITESPACE","\n\n    ",923],["T_DOC_COMMENT","\/**\n     * Retrieve misc params based on all image attributes\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",925],["T_WHITESPACE","\n    ",930],["T_PRIVATE","private",931],["T_WHITESPACE"," ",931],["T_FUNCTION","function",931],["T_WHITESPACE"," ",931],["T_STRING","getMiscParams",931],"(",")",["T_WHITESPACE","\n    ",931],"{",["T_WHITESPACE","\n        ",932],["T_VARIABLE","$miscParams",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],"[",["T_WHITESPACE","\n            ",933],["T_CONSTANT_ENCAPSED_STRING","'image_type'",934],["T_WHITESPACE"," ",934],["T_DOUBLE_ARROW","=>",934],["T_WHITESPACE"," ",934],["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","getDestinationSubdir",934],"(",")",",",["T_WHITESPACE","\n            ",934],["T_CONSTANT_ENCAPSED_STRING","'image_height'",935],["T_WHITESPACE"," ",935],["T_DOUBLE_ARROW","=>",935],["T_WHITESPACE"," ",935],["T_VARIABLE","$this",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","getHeight",935],"(",")",",",["T_WHITESPACE","\n            ",935],["T_CONSTANT_ENCAPSED_STRING","'image_width'",936],["T_WHITESPACE"," ",936],["T_DOUBLE_ARROW","=>",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","getWidth",936],"(",")",",",["T_WHITESPACE","\n            ",936],["T_CONSTANT_ENCAPSED_STRING","'keep_aspect_ratio'",937],["T_WHITESPACE"," ",937],["T_DOUBLE_ARROW","=>",937],["T_WHITESPACE"," ",937],"(",["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_keepAspectRatio",937],["T_WHITESPACE"," ",937],"?",["T_WHITESPACE"," ",937],["T_CONSTANT_ENCAPSED_STRING","''",937],["T_WHITESPACE"," ",937],":",["T_WHITESPACE"," ",937],["T_CONSTANT_ENCAPSED_STRING","'non'",937],")",["T_WHITESPACE"," ",937],".",["T_WHITESPACE"," ",937],["T_CONSTANT_ENCAPSED_STRING","'proportional'",937],",",["T_WHITESPACE","\n            ",937],["T_CONSTANT_ENCAPSED_STRING","'keep_frame'",938],["T_WHITESPACE"," ",938],["T_DOUBLE_ARROW","=>",938],["T_WHITESPACE"," ",938],"(",["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","_keepFrame",938],["T_WHITESPACE"," ",938],"?",["T_WHITESPACE"," ",938],["T_CONSTANT_ENCAPSED_STRING","''",938],["T_WHITESPACE"," ",938],":",["T_WHITESPACE"," ",938],["T_CONSTANT_ENCAPSED_STRING","'no'",938],")",["T_WHITESPACE"," ",938],".",["T_WHITESPACE"," ",938],["T_CONSTANT_ENCAPSED_STRING","'frame'",938],",",["T_WHITESPACE","\n            ",938],["T_CONSTANT_ENCAPSED_STRING","'keep_transparency'",939],["T_WHITESPACE"," ",939],["T_DOUBLE_ARROW","=>",939],["T_WHITESPACE"," ",939],"(",["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_keepTransparency",939],["T_WHITESPACE"," ",939],"?",["T_WHITESPACE"," ",939],["T_CONSTANT_ENCAPSED_STRING","''",939],["T_WHITESPACE"," ",939],":",["T_WHITESPACE"," ",939],["T_CONSTANT_ENCAPSED_STRING","'no'",939],")",["T_WHITESPACE"," ",939],".",["T_WHITESPACE"," ",939],["T_CONSTANT_ENCAPSED_STRING","'transparency'",939],",",["T_WHITESPACE","\n            ",939],["T_CONSTANT_ENCAPSED_STRING","'constrain_only'",940],["T_WHITESPACE"," ",940],["T_DOUBLE_ARROW","=>",940],["T_WHITESPACE"," ",940],"(",["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_constrainOnly",940],["T_WHITESPACE"," ",940],"?",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","'do'",940],["T_WHITESPACE"," ",940],":",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","'not'",940],")",["T_WHITESPACE"," ",940],".",["T_WHITESPACE"," ",940],["T_CONSTANT_ENCAPSED_STRING","'constrainonly'",940],",",["T_WHITESPACE","\n            ",940],["T_CONSTANT_ENCAPSED_STRING","'background'",941],["T_WHITESPACE"," ",941],["T_DOUBLE_ARROW","=>",941],["T_WHITESPACE"," ",941],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","_rgbToString",941],"(",["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","_backgroundColor",941],")",",",["T_WHITESPACE","\n            ",941],["T_CONSTANT_ENCAPSED_STRING","'angle'",942],["T_WHITESPACE"," ",942],["T_DOUBLE_ARROW","=>",942],["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_angle",942],",",["T_WHITESPACE","\n            ",942],["T_CONSTANT_ENCAPSED_STRING","'quality'",943],["T_WHITESPACE"," ",943],["T_DOUBLE_ARROW","=>",943],["T_WHITESPACE"," ",943],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","_quality",943],",",["T_WHITESPACE","\n        ",943],"]",";",["T_WHITESPACE","\n\n        ",944],["T_COMMENT","\/\/ if has watermark add watermark params to hash\n",946],["T_WHITESPACE","        ",947],["T_IF","if",947],["T_WHITESPACE"," ",947],"(",["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","getWatermarkFile",947],"(",")",")",["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n            ",947],["T_VARIABLE","$miscParams",948],"[",["T_CONSTANT_ENCAPSED_STRING","'watermark_file'",948],"]",["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","getWatermarkFile",948],"(",")",";",["T_WHITESPACE","\n            ",948],["T_VARIABLE","$miscParams",949],"[",["T_CONSTANT_ENCAPSED_STRING","'watermark_image_opacity'",949],"]",["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","getWatermarkImageOpacity",949],"(",")",";",["T_WHITESPACE","\n            ",949],["T_VARIABLE","$miscParams",950],"[",["T_CONSTANT_ENCAPSED_STRING","'watermark_position'",950],"]",["T_WHITESPACE"," ",950],"=",["T_WHITESPACE"," ",950],["T_VARIABLE","$this",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","getWatermarkPosition",950],"(",")",";",["T_WHITESPACE","\n            ",950],["T_VARIABLE","$miscParams",951],"[",["T_CONSTANT_ENCAPSED_STRING","'watermark_width'",951],"]",["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","getWatermarkWidth",951],"(",")",";",["T_WHITESPACE","\n            ",951],["T_VARIABLE","$miscParams",952],"[",["T_CONSTANT_ENCAPSED_STRING","'watermark_height'",952],"]",["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","getWatermarkHeight",952],"(",")",";",["T_WHITESPACE","\n        ",952],"}",["T_WHITESPACE","\n\n        ",953],["T_RETURN","return",955],["T_WHITESPACE"," ",955],["T_VARIABLE","$miscParams",955],";",["T_WHITESPACE","\n    ",955],"}",["T_WHITESPACE","\n",956],"}",["T_WHITESPACE","\n",957]]