[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Catalog Config Resource Model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Config",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractDb",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * catalog_product entity type id\n     *\n     * @var int\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_entityTypeId",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Store id\n     *\n     * @var int\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_storeId",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","null",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Eav config\n     *\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_eavConfig",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_storeManager",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\Db\\Context $context\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param string $connectionName\n     *\/",43],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","ResourceModel",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Db",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Context",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$context",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Store",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","StoreManagerInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$storeManager",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Eav",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Config",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$eavConfig",52],",",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$connectionName",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","null",53],["T_WHITESPACE","\n    ",53],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_storeManager",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$storeManager",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_eavConfig",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$eavConfig",56],";",["T_WHITESPACE","\n        ",56],["T_STRING","parent",57],["T_DOUBLE_COLON","::",57],["T_STRING","__construct",57],"(",["T_VARIABLE","$context",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$connectionName",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Initialize connection\n     *\n     * @return void\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","_construct",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_init",67],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Set store id\n     *\n     * @param integer $storeId\n     * @return $this\n     *\/",70],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","setStoreId",76],"(",["T_VARIABLE","$storeId",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_storeId",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_INT_CAST","(int)",78],["T_VARIABLE","$storeId",78],";",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Return store id.\n     * If is not set return current app store\n     *\n     * @return integer\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getStoreId",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_storeId",90],["T_WHITESPACE"," ",90],["T_IS_IDENTICAL","===",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_storeId",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_INT_CAST","(int)",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_storeManager",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getStore",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getId",91],"(",")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_storeId",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Retrieve catalog_product entity type id\n     *\n     * @return int\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getEntityTypeId",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_entityTypeId",103],["T_WHITESPACE"," ",103],["T_IS_IDENTICAL","===",103],["T_WHITESPACE"," ",103],["T_STRING","null",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_entityTypeId",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_INT_CAST","(int)",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_eavConfig",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getEntityType",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Catalog",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Model",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Product",104],["T_DOUBLE_COLON","::",104],["T_STRING","ENTITY",104],")",["T_WHITESPACE","\n                ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","getId",105],"(",")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_entityTypeId",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Retrieve Product Attributes Used in Catalog Product listing\n     *\n     * @return array\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getAttributesUsedInListing",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$connection",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getConnection",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$storeLabelExpr",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$connection",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getCheckSql",118],"(",["T_CONSTANT_ENCAPSED_STRING","'al.value IS NOT NULL'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'al.value'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'main_table.frontend_label'",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$select",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$connection",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","select",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","from",120],"(",["T_WHITESPACE","\n            ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getTable",121],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",121],")","]",["T_WHITESPACE","\n        ",121],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","join",122],"(",["T_WHITESPACE","\n            ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_table'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getTable",123],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_eav_attribute'",123],")","]",",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id = additional_table.attribute_id'",124],["T_WHITESPACE","\n        ",124],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","joinLeft",125],"(",["T_WHITESPACE","\n            ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'al'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getTable",126],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_label'",126],")","]",",",["T_WHITESPACE","\n            ",126],["T_CONSTANT_ENCAPSED_STRING","'al.attribute_id = main_table.attribute_id AND al.store_id = '",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_INT_CAST","(int)",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getStoreId",127],"(",")",",",["T_WHITESPACE","\n            ",127],"[",["T_CONSTANT_ENCAPSED_STRING","'store_label'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$storeLabelExpr",128],"]",["T_WHITESPACE","\n        ",128],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","where",129],"(",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'main_table.entity_type_id = ?'",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getEntityTypeId",131],"(",")",["T_WHITESPACE","\n        ",131],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","where",132],"(",["T_WHITESPACE","\n            ",132],["T_CONSTANT_ENCAPSED_STRING","'additional_table.used_in_product_listing = ?'",133],",",["T_WHITESPACE","\n            ",133],["T_LNUMBER","1",134],["T_WHITESPACE","\n        ",134],")",";",["T_WHITESPACE","\n        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$connection",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","fetchAll",136],"(",["T_VARIABLE","$select",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Retrieve Used Product Attributes for Catalog Product Listing Sort By\n     *\n     * @return array\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getAttributesUsedForSortBy",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$connection",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getConnection",146],"(",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$storeLabelExpr",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$connection",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getCheckSql",147],"(",["T_CONSTANT_ENCAPSED_STRING","'al.value IS NULL'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'main_table.frontend_label'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'al.value'",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$select",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$connection",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","select",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","from",148],"(",["T_WHITESPACE","\n            ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getTable",149],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",149],")","]",["T_WHITESPACE","\n        ",149],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","join",150],"(",["T_WHITESPACE","\n            ",150],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_table'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getTable",151],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_eav_attribute'",151],")","]",",",["T_WHITESPACE","\n            ",151],["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id = additional_table.attribute_id'",152],",",["T_WHITESPACE","\n            ",152],"[","]",["T_WHITESPACE","\n        ",153],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","joinLeft",154],"(",["T_WHITESPACE","\n            ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'al'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getTable",155],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_label'",155],")","]",",",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'al.attribute_id = main_table.attribute_id AND al.store_id = '",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getStoreId",156],"(",")",",",["T_WHITESPACE","\n            ",156],"[",["T_CONSTANT_ENCAPSED_STRING","'store_label'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$storeLabelExpr",157],"]",["T_WHITESPACE","\n        ",157],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","where",158],"(",["T_WHITESPACE","\n            ",158],["T_CONSTANT_ENCAPSED_STRING","'main_table.entity_type_id = ?'",159],",",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getEntityTypeId",160],"(",")",["T_WHITESPACE","\n        ",160],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","where",161],"(",["T_WHITESPACE","\n            ",161],["T_CONSTANT_ENCAPSED_STRING","'additional_table.used_for_sort_by = ?'",162],",",["T_WHITESPACE","\n            ",162],["T_LNUMBER","1",163],["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$connection",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","fetchAll",165],"(",["T_VARIABLE","$select",165],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n",166],"}",["T_WHITESPACE","\n",167]]