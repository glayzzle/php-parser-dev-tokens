[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Collection",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Catalog EAV collection resource abstract model\n * Implement using different stores for retrieve attribute values\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","AbstractCollection",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Eav",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Collection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractCollection",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Current scope (store Id)\n     *\n     * @var int\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_storeId",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_storeManager",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Eav\\Model\\EntityFactory $eavEntityFactory\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Helper $resourceHelper\n     * @param \\Magento\\Framework\\Validator\\UniversalFactory $universalFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface $connection\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",31],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","__construct",46],"(",["T_WHITESPACE","\n        ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Data",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Collection",47],["T_NS_SEPARATOR","\\",47],["T_STRING","EntityFactory",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$entityFactory",47],",",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Psr",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Log",48],["T_NS_SEPARATOR","\\",48],["T_STRING","LoggerInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$logger",48],",",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Framework",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Data",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Collection",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Db",49],["T_NS_SEPARATOR","\\",49],["T_STRING","FetchStrategyInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$fetchStrategy",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Event",50],["T_NS_SEPARATOR","\\",50],["T_STRING","ManagerInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$eventManager",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Eav",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Config",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$eavConfig",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","App",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ResourceConnection",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$resource",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Eav",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","EntityFactory",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$eavEntityFactory",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Eav",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Helper",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$resourceHelper",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Validator",55],["T_NS_SEPARATOR","\\",55],["T_STRING","UniversalFactory",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$universalFactory",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Store",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","StoreManagerInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$storeManager",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","DB",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Adapter",57],["T_NS_SEPARATOR","\\",57],["T_STRING","AdapterInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$connection",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],["T_WHITESPACE","\n    ",57],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_storeManager",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$storeManager",59],";",["T_WHITESPACE","\n        ",59],["T_STRING","parent",60],["T_DOUBLE_COLON","::",60],["T_STRING","__construct",60],"(",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$entityFactory",61],",",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$logger",62],",",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$fetchStrategy",63],",",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$eventManager",64],",",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$eavConfig",65],",",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$resource",66],",",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$eavEntityFactory",67],",",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$resourceHelper",68],",",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$universalFactory",69],",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$connection",70],["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Retrieve Entity Primary Key\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\AbstractEntity $entity\n     * @return string\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getEntityPkName",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Eav",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Entity",80],["T_NS_SEPARATOR","\\",80],["T_STRING","AbstractEntity",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$entity",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$entity",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getLinkField",82],"(",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Set store scope\n     *\n     * @param int|string|\\Magento\\Store\\Model\\Store $store\n     * @return $this\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","setStore",91],"(",["T_VARIABLE","$store",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setStoreId",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_storeManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getStore",93],"(",["T_VARIABLE","$store",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getId",93],"(",")",")",";",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Set store scope\n     *\n     * @param int|string|\\Magento\\Store\\Api\\Data\\StoreInterface $storeId\n     * @return $this\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","setStoreId",103],"(",["T_VARIABLE","$storeId",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$storeId",105],["T_WHITESPACE"," ",105],["T_INSTANCEOF","instanceof",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Store",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Api",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Data",105],["T_NS_SEPARATOR","\\",105],["T_STRING","StoreInterface",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$storeId",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$storeId",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getId",106],"(",")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_storeId",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_INT_CAST","(int)",108],["T_VARIABLE","$storeId",108],";",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Return current store id\n     *\n     * @return int\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getStoreId",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_storeId",119],["T_WHITESPACE"," ",119],["T_IS_IDENTICAL","===",119],["T_WHITESPACE"," ",119],["T_STRING","null",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setStoreId",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_storeManager",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getStore",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getId",120],"(",")",")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_storeId",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Retrieve default store id\n     *\n     * @return int\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getDefaultStoreId",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Store",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Model",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Store",132],["T_DOUBLE_COLON","::",132],["T_STRING","DEFAULT_STORE_ID",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Retrieve attributes load select\n     *\n     * @param string $table\n     * @param array|int $attributeIds\n     * @return \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",135],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","_getLoadAttributesSelect",142],"(",["T_VARIABLE","$table",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$attributeIds",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[","]",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_EMPTY","empty",144],"(",["T_VARIABLE","$attributeIds",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$attributeIds",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_selectAttributes",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$storeId",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getStoreId",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$connection",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getConnection",148],"(",")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$entityTable",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getEntity",150],"(",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","getEntityTable",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$indexList",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$connection",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getIndexList",151],"(",["T_VARIABLE","$entityTable",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$entityIdField",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$indexList",152],"[",["T_VARIABLE","$connection",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getPrimaryKeyName",152],"(",["T_VARIABLE","$entityTable",152],")","]","[",["T_CONSTANT_ENCAPSED_STRING","'COLUMNS_LIST'",152],"]","[",["T_LNUMBER","0",152],"]",";",["T_WHITESPACE","\n\n        ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$storeId",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$joinCondition",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[",["T_WHITESPACE","\n                ",155],["T_CONSTANT_ENCAPSED_STRING","'t_s.attribute_id = t_d.attribute_id'",156],",",["T_WHITESPACE","\n                ",156],"\"",["T_ENCAPSED_AND_WHITESPACE","t_s.",157],["T_CURLY_OPEN","{",157],["T_VARIABLE","$entityIdField",157],"}",["T_ENCAPSED_AND_WHITESPACE"," = t_d.",157],["T_CURLY_OPEN","{",157],["T_VARIABLE","$entityIdField",157],"}","\"",",",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$connection",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","quoteInto",158],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s.store_id = ?'",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$storeId",158],")",",",["T_WHITESPACE","\n            ",158],"]",";",["T_WHITESPACE","\n\n            ",159],["T_VARIABLE","$select",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$connection",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","select",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","from",161],"(",["T_WHITESPACE","\n                ",161],"[",["T_CONSTANT_ENCAPSED_STRING","'t_d'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$table",162],"]",",",["T_WHITESPACE","\n                ",162],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",163],"]",["T_WHITESPACE","\n            ",163],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","join",164],"(",["T_WHITESPACE","\n                ",164],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$entityTable",165],"]",",",["T_WHITESPACE","\n                ",165],"\"",["T_ENCAPSED_AND_WHITESPACE","e.",166],["T_CURLY_OPEN","{",166],["T_VARIABLE","$entityIdField",166],"}",["T_ENCAPSED_AND_WHITESPACE"," = t_d.",166],["T_CURLY_OPEN","{",166],["T_VARIABLE","$entityIdField",166],"}","\"",",",["T_WHITESPACE","\n                ",166],"[",["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",167],"]",["T_WHITESPACE","\n            ",167],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","where",168],"(",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","\"e.entity_id IN (?)\"",169],",",["T_WHITESPACE","\n                ",169],["T_STRING","array_keys",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_itemsById",170],")",["T_WHITESPACE","\n            ",170],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","where",171],"(",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'t_d.attribute_id IN (?)'",172],",",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$attributeIds",173],["T_WHITESPACE","\n            ",173],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","joinLeft",174],"(",["T_WHITESPACE","\n                ",174],"[",["T_CONSTANT_ENCAPSED_STRING","'t_s'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$table",175],"]",",",["T_WHITESPACE","\n                ",175],["T_STRING","implode",176],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$joinCondition",176],")",",",["T_WHITESPACE","\n                ",176],"[","]",["T_WHITESPACE","\n            ",177],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","where",178],"(",["T_WHITESPACE","\n                ",178],["T_CONSTANT_ENCAPSED_STRING","'t_d.store_id = ?'",179],",",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$connection",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getIfNullSql",180],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s.store_id'",180],",",["T_WHITESPACE"," ",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Store",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Store",180],["T_DOUBLE_COLON","::",180],["T_STRING","DEFAULT_STORE_ID",180],")",["T_WHITESPACE","\n            ",180],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE"," ",182],["T_ELSE","else",182],["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$select",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$connection",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","select",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","from",183],"(",["T_WHITESPACE","\n                ",183],"[",["T_CONSTANT_ENCAPSED_STRING","'t_d'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$table",184],"]",",",["T_WHITESPACE","\n                ",184],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",185],"]",["T_WHITESPACE","\n            ",185],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","join",186],"(",["T_WHITESPACE","\n                ",186],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$entityTable",187],"]",",",["T_WHITESPACE","\n                ",187],"\"",["T_ENCAPSED_AND_WHITESPACE","e.",188],["T_CURLY_OPEN","{",188],["T_VARIABLE","$entityIdField",188],"}",["T_ENCAPSED_AND_WHITESPACE"," = t_d.",188],["T_CURLY_OPEN","{",188],["T_VARIABLE","$entityIdField",188],"}","\"",",",["T_WHITESPACE","\n                ",188],"[",["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",189],"]",["T_WHITESPACE","\n            ",189],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","where",190],"(",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","\"e.entity_id IN (?)\"",191],",",["T_WHITESPACE","\n                ",191],["T_STRING","array_keys",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_itemsById",192],")",["T_WHITESPACE","\n            ",192],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","where",193],"(",["T_WHITESPACE","\n                ",193],["T_CONSTANT_ENCAPSED_STRING","'attribute_id IN (?)'",194],",",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$attributeIds",195],["T_WHITESPACE","\n            ",195],")",["T_OBJECT_OPERATOR","->",196],["T_STRING","where",196],"(",["T_WHITESPACE","\n                ",196],["T_CONSTANT_ENCAPSED_STRING","'store_id = ?'",197],",",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getDefaultStoreId",198],"(",")",["T_WHITESPACE","\n            ",198],")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$select",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\DB\\Select $select\n     * @param string $table\n     * @param string $type\n     * @return \\Magento\\Framework\\DB\\Select\n     *\/",204],["T_WHITESPACE","\n    ",209],["T_PROTECTED","protected",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","_addLoadAttributesSelectValues",210],"(",["T_VARIABLE","$select",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$table",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$type",210],")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$storeId",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getStoreId",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$storeId",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$connection",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getConnection",214],"(",")",";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$valueExpr",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$connection",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getCheckSql",215],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s.value_id IS NULL'",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'t_d.value'",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'t_s.value'",215],")",";",["T_WHITESPACE","\n\n            ",215],["T_VARIABLE","$select",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","columns",217],"(",["T_WHITESPACE","\n                ",217],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'t_d.value'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'store_value'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'t_s.value'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'value'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$valueExpr",218],"]",["T_WHITESPACE","\n            ",218],")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE"," ",220],["T_ELSE","else",220],["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$select",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","parent",221],["T_DOUBLE_COLON","::",221],["T_STRING","_addLoadAttributesSelectValues",221],"(",["T_VARIABLE","$select",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$table",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$type",221],")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$select",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Adding join statement to collection select instance\n     *\n     * @param string $method\n     * @param object $attribute\n     * @param string $tableAlias\n     * @param array $condition\n     * @param string $fieldCode\n     * @param string $fieldAlias\n     * @return \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",226],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_joinAttributeToSelect",237],"(",["T_VARIABLE","$method",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$attribute",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$tableAlias",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$condition",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$fieldCode",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$fieldAlias",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_ISSET","isset",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_joinAttributes",239],"[",["T_VARIABLE","$fieldCode",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",239],"]",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$storeId",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_joinAttributes",240],"[",["T_VARIABLE","$fieldCode",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",240],"]",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE"," ",241],["T_ELSE","else",241],["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$storeId",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getStoreId",242],"(",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$connection",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getConnection",245],"(",")",";",["T_WHITESPACE","\n\n        ",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$storeId",247],["T_WHITESPACE"," ",247],["T_IS_NOT_EQUAL","!=",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getDefaultStoreId",247],"(",")",["T_WHITESPACE"," ",247],["T_BOOLEAN_AND","&&",247],["T_WHITESPACE"," ",247],"!",["T_VARIABLE","$attribute",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","isScopeGlobal",247],"(",")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_DOC_COMMENT","\/**\n             * Add joining default value for not default store\n             * if value for store is null - we use default value\n             *\/",248],["T_WHITESPACE","\n            ",251],["T_VARIABLE","$defCondition",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'('",252],["T_WHITESPACE"," ",252],".",["T_WHITESPACE"," ",252],["T_STRING","implode",252],"(",["T_CONSTANT_ENCAPSED_STRING","') AND ('",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$condition",252],")",["T_WHITESPACE"," ",252],".",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","')'",252],";",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$defAlias",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$tableAlias",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'_default'",253],";",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$defAlias",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getConnection",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getTableName",254],"(",["T_VARIABLE","$defAlias",254],")",";",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$defFieldAlias",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","str_replace",255],"(",["T_VARIABLE","$tableAlias",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$defAlias",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$fieldAlias",255],")",";",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$tableAlias",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getConnection",256],"(",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","getTableName",256],"(",["T_VARIABLE","$tableAlias",256],")",";",["T_WHITESPACE","\n\n            ",256],["T_VARIABLE","$defCondition",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","str_replace",258],"(",["T_VARIABLE","$tableAlias",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$defAlias",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$defCondition",258],")",";",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$defCondition",259],["T_WHITESPACE"," ",259],["T_CONCAT_EQUAL",".=",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$connection",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","quoteInto",259],"(",["T_WHITESPACE","\n                ",259],["T_CONSTANT_ENCAPSED_STRING","\" AND \"",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_VARIABLE","$connection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","quoteColumnAs",260],"(","\"",["T_CURLY_OPEN","{",260],["T_VARIABLE","$defAlias",260],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id",260],"\"",",",["T_WHITESPACE"," ",260],["T_STRING","null",260],")",["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","\" = ?\"",260],",",["T_WHITESPACE","\n                ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getDefaultStoreId",261],"(",")",["T_WHITESPACE","\n            ",261],")",";",["T_WHITESPACE","\n\n            ",262],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getSelect",264],"(",")",["T_OBJECT_OPERATOR","->",264],"{",["T_VARIABLE","$method",264],"}","(",["T_WHITESPACE","\n                ",264],"[",["T_VARIABLE","$defAlias",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$attribute",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getBackend",265],"(",")",["T_OBJECT_OPERATOR","->",265],["T_STRING","getTable",265],"(",")","]",",",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$defCondition",266],",",["T_WHITESPACE","\n                ",266],"[","]",["T_WHITESPACE","\n            ",267],")",";",["T_WHITESPACE","\n\n            ",268],["T_VARIABLE","$method",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",270],";",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$fieldAlias",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getConnection",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getCheckSql",271],"(",["T_WHITESPACE","\n                ",271],"\"",["T_CURLY_OPEN","{",272],["T_VARIABLE","$tableAlias",272],"}",["T_ENCAPSED_AND_WHITESPACE",".value_id > 0",272],"\"",",",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$fieldAlias",273],",",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$defFieldAlias",274],["T_WHITESPACE","\n            ",274],")",";",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_joinAttributes",276],"[",["T_VARIABLE","$fieldCode",276],"]","[",["T_CONSTANT_ENCAPSED_STRING","'condition_alias'",276],"]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$fieldAlias",276],";",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_joinAttributes",277],"[",["T_VARIABLE","$fieldCode",277],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",277],"]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$attribute",277],";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE"," ",278],["T_ELSE","else",278],["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$storeId",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getDefaultStoreId",279],"(",")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$condition",281],"[","]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$connection",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","quoteInto",281],"(",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$connection",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","quoteColumnAs",282],"(","\"",["T_CURLY_OPEN","{",282],["T_VARIABLE","$tableAlias",282],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id",282],"\"",",",["T_WHITESPACE"," ",282],["T_STRING","null",282],")",["T_WHITESPACE"," ",282],".",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","' = ?'",282],",",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$storeId",283],["T_WHITESPACE","\n        ",283],")",";",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_STRING","parent",285],["T_DOUBLE_COLON","::",285],["T_STRING","_joinAttributeToSelect",285],"(",["T_VARIABLE","$method",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$attribute",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$tableAlias",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$condition",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$fieldCode",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$fieldAlias",285],")",";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n",286],"}",["T_WHITESPACE","\n",287]]