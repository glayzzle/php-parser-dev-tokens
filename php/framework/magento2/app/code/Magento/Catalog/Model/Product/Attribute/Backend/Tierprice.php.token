[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Catalog product tier price backend attribute model\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Attribute",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Backend",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Catalog",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Attribute",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ScopeOverriddenValue",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Tierprice",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Catalog",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Product",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Attribute",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Backend",16],["T_NS_SEPARATOR","\\",16],["T_STRING","GroupPrice",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractGroupPrice",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Catalog product attribute backend tierprice\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Backend\\Tierprice\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_productAttributeBackendTierprice",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Helper\\Data $catalogData\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param \\Magento\\Catalog\\Model\\Product\\Type $catalogProductType\n     * @param \\Magento\\Customer\\Api\\GroupManagementInterface $groupManagement\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Backend\\Tierprice $productAttributeTierprice\n     * @param ScopeOverriddenValue|null $scopeOverriddenValue\n     *\/",25],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Directory",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","CurrencyFactory",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$currencyFactory",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Store",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","StoreManagerInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$storeManager",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Catalog",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Helper",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Data",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$catalogData",39],",",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","App",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Config",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ScopeConfigInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$config",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Locale",41],["T_NS_SEPARATOR","\\",41],["T_STRING","FormatInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$localeFormat",41],",",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Catalog",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Product",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Type",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$catalogProductType",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Customer",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Api",43],["T_NS_SEPARATOR","\\",43],["T_STRING","GroupManagementInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$groupManagement",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Catalog",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Model",44],["T_NS_SEPARATOR","\\",44],["T_STRING","ResourceModel",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Product",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Attribute",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Backend",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Tierprice",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$productAttributeTierprice",44],",",["T_WHITESPACE","\n        ",44],["T_STRING","ScopeOverriddenValue",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$scopeOverriddenValue",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],["T_WHITESPACE","\n    ",45],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_productAttributeBackendTierprice",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$productAttributeTierprice",47],";",["T_WHITESPACE","\n        ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","__construct",48],"(",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$currencyFactory",49],",",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$storeManager",50],",",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$catalogData",51],",",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$config",52],",",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$localeFormat",53],",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$catalogProductType",54],",",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$groupManagement",55],",",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$scopeOverriddenValue",56],["T_WHITESPACE","\n        ",56],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Retrieve resource instance\n     *\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\Backend\\Tierprice\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","_getResource",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_productAttributeBackendTierprice",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Add price qty to unique fields\n     *\n     * @param array $objectArray\n     * @return array\n     *\/",70],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_getAdditionalUniqueFields",76],"(",["T_VARIABLE","$objectArray",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$uniqueFields",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","parent",78],["T_DOUBLE_COLON","::",78],["T_STRING","_getAdditionalUniqueFields",78],"(",["T_VARIABLE","$objectArray",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$uniqueFields",79],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$objectArray",79],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",79],"]",["T_WHITESPACE"," ",79],"*",["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],";",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$uniqueFields",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getAdditionalFields",86],"(",["T_VARIABLE","$objectArray",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$percentageValue",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getPercentage",88],"(",["T_VARIABLE","$objectArray",88],")",";",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],"[",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'value'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$percentageValue",90],["T_WHITESPACE"," ",90],"?",["T_WHITESPACE"," ",90],["T_STRING","null",90],["T_WHITESPACE"," ",90],":",["T_WHITESPACE"," ",90],["T_VARIABLE","$objectArray",90],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",90],"]",",",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","'percentage_value'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$percentageValue",91],["T_WHITESPACE"," ",91],"?",":",["T_WHITESPACE"," ",91],["T_STRING","null",91],",",["T_WHITESPACE","\n        ",91],"]",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Error message when duplicates\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","_getDuplicateErrorMessage",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_STRING","__",102],"(",["T_CONSTANT_ENCAPSED_STRING","'We found a duplicate website, tier price, customer group and quantity.'",102],")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Whether tier price value fixed or percent of original price\n     *\n     * @param \\Magento\\Catalog\\Model\\Product\\Type\\Price $priceObject\n     * @return bool\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_isPriceFixed",111],"(",["T_VARIABLE","$priceObject",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$priceObject",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","isTierPriceFixed",113],"(",")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * By default attribute value is considered non-scalar that can be stored in a generic way\n     *\n     * @return bool\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","isScalar",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","false",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",126],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","validate",129],"(",["T_VARIABLE","$object",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$attribute",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getAttribute",131],"(",")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$priceRows",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$object",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getData",132],"(",["T_VARIABLE","$attribute",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getName",132],"(",")",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$priceRows",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","array_filter",133],"(",["T_ARRAY_CAST","(array)",133],["T_VARIABLE","$priceRows",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$priceRows",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$priceRow",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$percentage",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getPercentage",136],"(",["T_VARIABLE","$priceRow",136],")",";",["T_WHITESPACE","\n            ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$percentage",137],["T_WHITESPACE"," ",137],["T_IS_NOT_IDENTICAL","!==",137],["T_WHITESPACE"," ",137],["T_STRING","null",137],["T_WHITESPACE"," ",137],["T_BOOLEAN_AND","&&",137],["T_WHITESPACE"," ",137],"(","!",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isPositiveOrZero",137],"(",["T_VARIABLE","$percentage",137],")",["T_WHITESPACE"," ",137],["T_BOOLEAN_OR","||",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$percentage",137],["T_WHITESPACE"," ",137],">",["T_WHITESPACE"," ",137],["T_LNUMBER","100",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_THROW","throw",138],["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Framework",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Exception",138],["T_NS_SEPARATOR","\\",138],["T_STRING","LocalizedException",138],"(",["T_WHITESPACE","\n                    ",138],["T_STRING","__",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Percentage value must be a number between 0 and 100.'",139],")",["T_WHITESPACE","\n                ",139],")",";",["T_WHITESPACE","\n            ",140],"}",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","parent",144],["T_DOUBLE_COLON","::",144],["T_STRING","validate",144],"(",["T_VARIABLE","$object",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",147],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","validatePrice",150],"(",["T_ARRAY","array",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$priceRow",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getPercentage",152],"(",["T_VARIABLE","$priceRow",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_STRING","parent",153],["T_DOUBLE_COLON","::",153],["T_STRING","validatePrice",153],"(",["T_VARIABLE","$priceRow",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",157],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","modifyPriceData",160],"(",["T_VARIABLE","$object",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$data",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$data",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","parent",162],["T_DOUBLE_COLON","::",162],["T_STRING","modifyPriceData",162],"(",["T_VARIABLE","$object",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$data",162],")",";",["T_WHITESPACE","\n        ",162],["T_FOREACH","foreach",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$data",163],["T_WHITESPACE"," ",163],["T_AS","as",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$key",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$tierPrice",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getPercentage",164],"(",["T_VARIABLE","$tierPrice",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$data",165],"[",["T_VARIABLE","$key",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$object",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getPrice",165],"(",")",["T_WHITESPACE"," ",165],"*",["T_WHITESPACE"," ",165],"(",["T_LNUMBER","1",165],["T_WHITESPACE"," ",165],"-",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getPercentage",165],"(",["T_VARIABLE","$tierPrice",165],")",["T_WHITESPACE"," ",165],"\/",["T_WHITESPACE"," ",165],["T_LNUMBER","100",165],")",";",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$data",166],"[",["T_VARIABLE","$key",166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$object",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getPrice",166],"(",")",["T_WHITESPACE"," ",166],"*",["T_WHITESPACE"," ",166],"(",["T_LNUMBER","1",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getPercentage",166],"(",["T_VARIABLE","$tierPrice",166],")",["T_WHITESPACE"," ",166],"\/",["T_WHITESPACE"," ",166],["T_LNUMBER","100",166],")",";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$data",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * @param array $valuesToUpdate\n     * @param array $oldValues\n     * @return boolean\n     *\/",172],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","updateValues",177],"(",["T_ARRAY","array",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$valuesToUpdate",177],",",["T_WHITESPACE"," ",177],["T_ARRAY","array",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$oldValues",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$isChanged",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","false",179],";",["T_WHITESPACE","\n        ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$valuesToUpdate",180],["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$key",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$value",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$oldValues",181],"[",["T_VARIABLE","$key",181],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price'",181],"]",["T_WHITESPACE"," ",181],["T_IS_NOT_EQUAL","!=",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$value",181],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",181],"]",["T_WHITESPACE","\n                ",181],["T_BOOLEAN_OR","||",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getPercentage",182],"(",["T_VARIABLE","$oldValues",182],"[",["T_VARIABLE","$key",182],"]",")",["T_WHITESPACE"," ",182],["T_IS_NOT_EQUAL","!=",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getPercentage",182],"(",["T_VARIABLE","$value",182],")",["T_WHITESPACE","\n            ",182],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$price",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","DataObject",184],"(",["T_WHITESPACE","\n                    ",184],"[",["T_WHITESPACE","\n                        ",185],["T_CONSTANT_ENCAPSED_STRING","'value_id'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$oldValues",186],"[",["T_VARIABLE","$key",186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_id'",186],"]",",",["T_WHITESPACE","\n                        ",186],["T_CONSTANT_ENCAPSED_STRING","'value'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$value",187],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",187],"]",",",["T_WHITESPACE","\n                        ",187],["T_CONSTANT_ENCAPSED_STRING","'percentage_value'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getPercentage",188],"(",["T_VARIABLE","$value",188],")",["T_WHITESPACE","\n                    ",188],"]",["T_WHITESPACE","\n                ",189],")",";",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_getResource",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","savePriceData",191],"(",["T_VARIABLE","$price",191],")",";",["T_WHITESPACE","\n\n                ",191],["T_VARIABLE","$isChanged",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","true",193],";",["T_WHITESPACE","\n            ",193],"}",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$isChanged",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Check whether price has percentage value.\n     *\n     * @param array $priceRow\n     * @return null\n     *\/",199],["T_WHITESPACE","\n    ",204],["T_PRIVATE","private",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getPercentage",205],"(",["T_VARIABLE","$priceRow",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_ISSET","isset",207],"(",["T_VARIABLE","$priceRow",207],"[",["T_CONSTANT_ENCAPSED_STRING","'percentage_value'",207],"]",")",["T_WHITESPACE"," ",207],["T_BOOLEAN_AND","&&",207],["T_WHITESPACE"," ",207],["T_STRING","is_numeric",207],"(",["T_VARIABLE","$priceRow",207],"[",["T_CONSTANT_ENCAPSED_STRING","'percentage_value'",207],"]",")",["T_WHITESPACE","\n            ",207],"?",["T_WHITESPACE"," ",208],["T_VARIABLE","$priceRow",208],"[",["T_CONSTANT_ENCAPSED_STRING","'percentage_value'",208],"]",["T_WHITESPACE","\n            ",208],":",["T_WHITESPACE"," ",209],["T_STRING","null",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n",210],"}",["T_WHITESPACE","\n",211]]