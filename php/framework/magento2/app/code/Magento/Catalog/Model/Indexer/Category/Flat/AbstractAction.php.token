[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Indexer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Category",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Flat",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceConnection",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityManager",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MetadataPool",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","AbstractAction",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Suffix for table to show it is temporary\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","TEMPORARY_TABLE_SUFFIX",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'_tmp'",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Attribute codes\n     *\n     * @var array\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$attributeCodes",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$resource",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$storeManager",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Catalog resource helper\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Helper\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$resourceHelper",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Flat columns\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$columns",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[","]",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$connection",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\EntityManager\\EntityMetadata\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$categoryMetadata",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Static columns to skip\n     *\n     * @var array\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$skipStaticColumns",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[","]",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @param ResourceConnection $resource\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Helper $resourceHelper\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","__construct",74],"(",["T_WHITESPACE","\n        ",74],["T_STRING","ResourceConnection",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$resource",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Store",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","StoreManagerInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$storeManager",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Catalog",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","ResourceModel",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Helper",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$resourceHelper",77],["T_WHITESPACE","\n    ",77],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","resource",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$resource",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","connection",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$resource",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getConnection",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","storeManager",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$storeManager",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","resourceHelper",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$resourceHelper",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","columns",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","array_merge",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getStaticColumns",83],"(",")",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getEavColumns",83],"(",")",")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Add suffix to table name to show it is temporary\n     *\n     * @param string $tableName\n     * @return string\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","addTemporaryTableSuffix",92],"(",["T_VARIABLE","$tableName",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$tableName",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","TEMPORARY_TABLE_SUFFIX",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Retrieve list of columns for flat structure\n     *\n     * @return array\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getColumns",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","columns",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Return name of table for given $storeId.\n     *\n     * @param integer $storeId\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","getMainStoreTable",113],"(",["T_VARIABLE","$storeId",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Store",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Store",113],["T_DOUBLE_COLON","::",113],["T_STRING","DEFAULT_STORE_ID",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_STRING","is_string",115],"(",["T_VARIABLE","$storeId",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$storeId",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","intval",116],"(",["T_VARIABLE","$storeId",116],")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$suffix",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","sprintf",119],"(",["T_CONSTANT_ENCAPSED_STRING","'store_%d'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$storeId",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$table",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","connection",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getTableName",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getTableName",120],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_flat_'",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_VARIABLE","$suffix",120],")",")",";",["T_WHITESPACE","\n\n        ",120],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$table",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Return structure for flat catalog table\n     *\n     * @param string $tableName\n     * @return \\Magento\\Framework\\DB\\Ddl\\Table\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getFlatTableStructure",131],"(",["T_VARIABLE","$tableName",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$table",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","connection",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","newTable",133],"(",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$tableName",134],["T_WHITESPACE","\n        ",134],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","setComment",135],"(",["T_WHITESPACE","\n            ",135],["T_STRING","sprintf",136],"(",["T_CONSTANT_ENCAPSED_STRING","\"Catalog Category Flat\"",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$tableName",136],")",["T_WHITESPACE","\n        ",136],")",";",["T_WHITESPACE","\n\n        ",137],["T_COMMENT","\/\/Adding columns\n",139],["T_WHITESPACE","        ",140],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getColumns",140],"(",")",["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$fieldName",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$fieldProp",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$default",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$fieldProp",141],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",141],"]",";",["T_WHITESPACE","\n            ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$fieldProp",142],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",142],"]","[",["T_LNUMBER","0",142],"]",["T_WHITESPACE"," ",142],["T_IS_EQUAL","==",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","DB",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Ddl",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Table",142],["T_DOUBLE_COLON","::",142],["T_STRING","TYPE_TIMESTAMP",142],["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$default",142],["T_WHITESPACE"," ",142],["T_IS_EQUAL","==",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'CURRENT_TIMESTAMP'",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$default",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Framework",143],["T_NS_SEPARATOR","\\",143],["T_STRING","DB",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Ddl",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Table",143],["T_DOUBLE_COLON","::",143],["T_STRING","TIMESTAMP_INIT",143],";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$table",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","addColumn",145],"(",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$fieldName",146],",",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$fieldProp",147],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",147],"]","[",["T_LNUMBER","0",147],"]",",",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$fieldProp",148],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",148],"]","[",["T_LNUMBER","1",148],"]",",",["T_WHITESPACE","\n                ",148],"[",["T_WHITESPACE","\n                    ",149],["T_CONSTANT_ENCAPSED_STRING","'nullable'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$fieldProp",150],"[",["T_CONSTANT_ENCAPSED_STRING","'nullable'",150],"]",",",["T_WHITESPACE","\n                    ",150],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$fieldProp",151],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",151],"]",",",["T_WHITESPACE","\n                    ",151],["T_CONSTANT_ENCAPSED_STRING","'default'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$default",152],",",["T_WHITESPACE","\n                    ",152],["T_CONSTANT_ENCAPSED_STRING","'primary'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_ISSET","isset",153],"(",["T_VARIABLE","$fieldProp",153],"[",["T_CONSTANT_ENCAPSED_STRING","'primary'",153],"]",")",["T_WHITESPACE"," ",153],"?",["T_WHITESPACE"," ",153],["T_VARIABLE","$fieldProp",153],"[",["T_CONSTANT_ENCAPSED_STRING","'primary'",153],"]",["T_WHITESPACE"," ",153],":",["T_WHITESPACE"," ",153],["T_STRING","false",153],["T_WHITESPACE","\n                ",153],"]",",",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$fieldProp",155],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",155],"]",["T_WHITESPACE"," ",155],["T_IS_NOT_EQUAL","!=",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_VARIABLE","$fieldProp",155],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",155],"]",["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_STRING","ucwords",155],"(",["T_STRING","str_replace",155],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","' '",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$fieldName",155],")",")",["T_WHITESPACE","\n            ",155],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_COMMENT","\/\/ Adding indexes\n",159],["T_WHITESPACE","        ",160],["T_VARIABLE","$table",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","addIndex",160],"(",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","connection",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getIndexName",161],"(",["T_VARIABLE","$tableName",161],",",["T_WHITESPACE"," ",161],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",161],"]",")",",",["T_WHITESPACE","\n            ",161],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",162],"]",",",["T_WHITESPACE","\n            ",162],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'primary'",163],"]",["T_WHITESPACE","\n        ",163],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$table",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","addIndex",165],"(",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","connection",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getIndexName",166],"(",["T_VARIABLE","$tableName",166],",",["T_WHITESPACE"," ",166],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",166],"]",")",",",["T_WHITESPACE","\n            ",166],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",167],"]",",",["T_WHITESPACE","\n            ",167],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'index'",168],"]",["T_WHITESPACE","\n        ",168],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$table",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","addIndex",170],"(",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","connection",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getIndexName",171],"(",["T_VARIABLE","$tableName",171],",",["T_WHITESPACE"," ",171],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",171],"]",")",",",["T_WHITESPACE","\n            ",171],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",172],"]",",",["T_WHITESPACE","\n            ",172],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'index'",173],"]",["T_WHITESPACE","\n        ",173],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$table",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","addIndex",175],"(",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","connection",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getIndexName",176],"(",["T_VARIABLE","$tableName",176],",",["T_WHITESPACE"," ",176],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",176],"]",")",",",["T_WHITESPACE","\n            ",176],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",177],"]",",",["T_WHITESPACE","\n            ",177],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'index'",178],"]",["T_WHITESPACE","\n        ",178],")",";",["T_WHITESPACE","\n\n        ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$table",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Return array of static columns\n     *\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",184],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","getStaticColumns",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$columns",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],"[","]",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$describe",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","connection",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","describeTable",193],"(",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","connection",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getTableName",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getTableName",194],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_entity'",194],")",")",["T_WHITESPACE","\n        ",194],")",";",["T_WHITESPACE","\n\n        ",195],["T_FOREACH","foreach",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$describe",197],["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$column",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_STRING","in_array",198],"(",["T_VARIABLE","$column",198],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",198],"]",",",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getSkipStaticColumns",198],"(",")",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_CONTINUE","continue",199],";",["T_WHITESPACE","\n            ",199],"}",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$isUnsigned",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","''",201],";",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$options",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","null",202],";",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$ddlType",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","resourceHelper",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getDdlTypeByColumnType",203],"(",["T_VARIABLE","$column",203],"[",["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",203],"]",")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$column",204],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","trim",204],"(",["T_VARIABLE","$column",204],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",204],"]",",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","\"' \"",204],")",";",["T_WHITESPACE","\n            ",204],["T_SWITCH","switch",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$ddlType",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_CASE","case",206],["T_WHITESPACE"," ",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Framework",206],["T_NS_SEPARATOR","\\",206],["T_STRING","DB",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Ddl",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Table",206],["T_DOUBLE_COLON","::",206],["T_STRING","TYPE_SMALLINT",206],":",["T_WHITESPACE","\n                ",206],["T_CASE","case",207],["T_WHITESPACE"," ",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","DB",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Ddl",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Table",207],["T_DOUBLE_COLON","::",207],["T_STRING","TYPE_INTEGER",207],":",["T_WHITESPACE","\n                ",207],["T_CASE","case",208],["T_WHITESPACE"," ",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Framework",208],["T_NS_SEPARATOR","\\",208],["T_STRING","DB",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Ddl",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Table",208],["T_DOUBLE_COLON","::",208],["T_STRING","TYPE_BIGINT",208],":",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$isUnsigned",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_BOOL_CAST","(bool)",209],["T_VARIABLE","$column",209],"[",["T_CONSTANT_ENCAPSED_STRING","'UNSIGNED'",209],"]",";",["T_WHITESPACE","\n                    ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$column",210],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",210],"]",["T_WHITESPACE"," ",210],["T_IS_IDENTICAL","===",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","''",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                        ",210],["T_VARIABLE","$column",211],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","null",211],";",["T_WHITESPACE","\n                    ",211],"}",["T_WHITESPACE","\n\n                    ",212],["T_VARIABLE","$options",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],";",["T_WHITESPACE","\n                    ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$column",215],"[",["T_CONSTANT_ENCAPSED_STRING","'SCALE'",215],"]",["T_WHITESPACE"," ",215],">",["T_WHITESPACE"," ",215],["T_LNUMBER","0",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                        ",215],["T_VARIABLE","$ddlType",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Magento",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Framework",216],["T_NS_SEPARATOR","\\",216],["T_STRING","DB",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Ddl",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Table",216],["T_DOUBLE_COLON","::",216],["T_STRING","TYPE_DECIMAL",216],";",["T_WHITESPACE","\n                    ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                        ",217],["T_BREAK","break",218],";",["T_WHITESPACE","\n                    ",218],"}",["T_WHITESPACE","\n                    ",219],["T_COMMENT","\/\/ fall-through intentional\n",220],["T_WHITESPACE","                ",221],["T_CASE","case",221],["T_WHITESPACE"," ",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Framework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","DB",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Ddl",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Table",221],["T_DOUBLE_COLON","::",221],["T_STRING","TYPE_DECIMAL",221],":",["T_WHITESPACE","\n                    ",221],["T_VARIABLE","$options",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$column",222],"[",["T_CONSTANT_ENCAPSED_STRING","'PRECISION'",222],"]",["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","','",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_VARIABLE","$column",222],"[",["T_CONSTANT_ENCAPSED_STRING","'SCALE'",222],"]",";",["T_WHITESPACE","\n                    ",222],["T_VARIABLE","$isUnsigned",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],";",["T_WHITESPACE","\n                    ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$column",224],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",224],"]",["T_WHITESPACE"," ",224],["T_IS_IDENTICAL","===",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","''",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                        ",224],["T_VARIABLE","$column",225],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","null",225],";",["T_WHITESPACE","\n                    ",225],"}",["T_WHITESPACE","\n                    ",226],["T_BREAK","break",227],";",["T_WHITESPACE","\n                ",227],["T_CASE","case",228],["T_WHITESPACE"," ",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Magento",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Framework",228],["T_NS_SEPARATOR","\\",228],["T_STRING","DB",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Ddl",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Table",228],["T_DOUBLE_COLON","::",228],["T_STRING","TYPE_TEXT",228],":",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$options",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$column",229],"[",["T_CONSTANT_ENCAPSED_STRING","'LENGTH'",229],"]",";",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$isUnsigned",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","null",230],";",["T_WHITESPACE","\n                    ",230],["T_BREAK","break",231],";",["T_WHITESPACE","\n                ",231],["T_CASE","case",232],["T_WHITESPACE"," ",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Magento",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Framework",232],["T_NS_SEPARATOR","\\",232],["T_STRING","DB",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Ddl",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Table",232],["T_DOUBLE_COLON","::",232],["T_STRING","TYPE_TIMESTAMP",232],":",["T_WHITESPACE","\n                    ",232],["T_VARIABLE","$options",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","null",233],";",["T_WHITESPACE","\n                    ",233],["T_VARIABLE","$isUnsigned",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","null",234],";",["T_WHITESPACE","\n                    ",234],["T_BREAK","break",235],";",["T_WHITESPACE","\n                ",235],["T_CASE","case",236],["T_WHITESPACE"," ",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Framework",236],["T_NS_SEPARATOR","\\",236],["T_STRING","DB",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Ddl",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Table",236],["T_DOUBLE_COLON","::",236],["T_STRING","TYPE_DATETIME",236],":",["T_WHITESPACE","\n                    ",236],["T_VARIABLE","$isUnsigned",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","null",237],";",["T_WHITESPACE","\n                    ",237],["T_BREAK","break",238],";",["T_WHITESPACE","\n            ",238],"}",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$columns",240],"[",["T_VARIABLE","$column",240],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",240],"]","]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[",["T_WHITESPACE","\n                ",240],["T_CONSTANT_ENCAPSED_STRING","'type'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],"[",["T_VARIABLE","$ddlType",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$options",241],"]",",",["T_WHITESPACE","\n                ",241],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$isUnsigned",242],",",["T_WHITESPACE","\n                ",242],["T_CONSTANT_ENCAPSED_STRING","'nullable'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$column",243],"[",["T_CONSTANT_ENCAPSED_STRING","'NULLABLE'",243],"]",",",["T_WHITESPACE","\n                ",243],["T_CONSTANT_ENCAPSED_STRING","'default'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$column",244],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",244],"]",["T_WHITESPACE"," ",244],["T_IS_IDENTICAL","===",244],["T_WHITESPACE"," ",244],["T_STRING","null",244],["T_WHITESPACE"," ",244],"?",["T_WHITESPACE"," ",244],["T_STRING","false",244],["T_WHITESPACE"," ",244],":",["T_WHITESPACE"," ",244],["T_VARIABLE","$column",244],"[",["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",244],"]",",",["T_WHITESPACE","\n                ",244],["T_CONSTANT_ENCAPSED_STRING","'comment'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$column",245],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",245],"]",",",["T_WHITESPACE","\n            ",245],"]",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$columns",248],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],"[",["T_WHITESPACE","\n            ",248],["T_CONSTANT_ENCAPSED_STRING","'type'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],"[",["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Framework",249],["T_NS_SEPARATOR","\\",249],["T_STRING","DB",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Ddl",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Table",249],["T_DOUBLE_COLON","::",249],["T_STRING","TYPE_SMALLINT",249],",",["T_WHITESPACE"," ",249],["T_LNUMBER","5",249],"]",",",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_STRING","true",250],",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'nullable'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_STRING","false",251],",",["T_WHITESPACE","\n            ",251],["T_CONSTANT_ENCAPSED_STRING","'default'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'0'",252],",",["T_WHITESPACE","\n            ",252],["T_CONSTANT_ENCAPSED_STRING","'comment'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'Store Id'",253],",",["T_WHITESPACE","\n        ",253],"]",";",["T_WHITESPACE","\n\n        ",254],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$columns",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Return array of eav columns, skip attribute with static type\n     *\n     * @return array\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","getEavColumns",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$columns",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],"[","]",";",["T_WHITESPACE","\n        ",266],["T_FOREACH","foreach",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getAttributes",267],"(",")",["T_WHITESPACE"," ",267],["T_AS","as",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$attribute",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$attribute",268],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",268],"]",["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'static'",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_CONTINUE","continue",269],";",["T_WHITESPACE","\n            ",269],"}",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$columns",271],"[",["T_VARIABLE","$attribute",271],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",271],"]","]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"[","]",";",["T_WHITESPACE","\n            ",271],["T_SWITCH","switch",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$attribute",272],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",272],"]",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_CASE","case",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'varchar'",273],":",["T_WHITESPACE","\n                    ",273],["T_VARIABLE","$columns",274],"[",["T_VARIABLE","$attribute",274],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",274],"]","]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n                        ",274],["T_CONSTANT_ENCAPSED_STRING","'type'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],"[",["T_NS_SEPARATOR","\\",275],["T_STRING","Magento",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Framework",275],["T_NS_SEPARATOR","\\",275],["T_STRING","DB",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Ddl",275],["T_NS_SEPARATOR","\\",275],["T_STRING","Table",275],["T_DOUBLE_COLON","::",275],["T_STRING","TYPE_TEXT",275],",",["T_WHITESPACE"," ",275],["T_LNUMBER","255",275],"]",",",["T_WHITESPACE","\n                        ",275],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_STRING","null",276],",",["T_WHITESPACE","\n                        ",276],["T_CONSTANT_ENCAPSED_STRING","'nullable'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_STRING","true",277],",",["T_WHITESPACE","\n                        ",277],["T_CONSTANT_ENCAPSED_STRING","'default'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","null",278],",",["T_WHITESPACE","\n                        ",278],["T_CONSTANT_ENCAPSED_STRING","'comment'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING_CAST","(string)",279],["T_VARIABLE","$attribute",279],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",279],"]",",",["T_WHITESPACE","\n                    ",279],"]",";",["T_WHITESPACE","\n                    ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n                ",281],["T_CASE","case",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'int'",282],":",["T_WHITESPACE","\n                    ",282],["T_VARIABLE","$columns",283],"[",["T_VARIABLE","$attribute",283],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",283],"]","]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[",["T_WHITESPACE","\n                        ",283],["T_CONSTANT_ENCAPSED_STRING","'type'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],"[",["T_NS_SEPARATOR","\\",284],["T_STRING","Magento",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Framework",284],["T_NS_SEPARATOR","\\",284],["T_STRING","DB",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Ddl",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Table",284],["T_DOUBLE_COLON","::",284],["T_STRING","TYPE_INTEGER",284],",",["T_WHITESPACE"," ",284],["T_STRING","null",284],"]",",",["T_WHITESPACE","\n                        ",284],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_STRING","null",285],",",["T_WHITESPACE","\n                        ",285],["T_CONSTANT_ENCAPSED_STRING","'nullable'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_STRING","true",286],",",["T_WHITESPACE","\n                        ",286],["T_CONSTANT_ENCAPSED_STRING","'default'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_STRING","null",287],",",["T_WHITESPACE","\n                        ",287],["T_CONSTANT_ENCAPSED_STRING","'comment'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_STRING_CAST","(string)",288],["T_VARIABLE","$attribute",288],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",288],"]",",",["T_WHITESPACE","\n                    ",288],"]",";",["T_WHITESPACE","\n                    ",289],["T_BREAK","break",290],";",["T_WHITESPACE","\n                ",290],["T_CASE","case",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'text'",291],":",["T_WHITESPACE","\n                    ",291],["T_VARIABLE","$columns",292],"[",["T_VARIABLE","$attribute",292],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",292],"]","]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],"[",["T_WHITESPACE","\n                        ",292],["T_CONSTANT_ENCAPSED_STRING","'type'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],"[",["T_NS_SEPARATOR","\\",293],["T_STRING","Magento",293],["T_NS_SEPARATOR","\\",293],["T_STRING","Framework",293],["T_NS_SEPARATOR","\\",293],["T_STRING","DB",293],["T_NS_SEPARATOR","\\",293],["T_STRING","Ddl",293],["T_NS_SEPARATOR","\\",293],["T_STRING","Table",293],["T_DOUBLE_COLON","::",293],["T_STRING","TYPE_TEXT",293],",",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'64k'",293],"]",",",["T_WHITESPACE","\n                        ",293],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_STRING","null",294],",",["T_WHITESPACE","\n                        ",294],["T_CONSTANT_ENCAPSED_STRING","'nullable'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_STRING","true",295],",",["T_WHITESPACE","\n                        ",295],["T_CONSTANT_ENCAPSED_STRING","'default'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_STRING","null",296],",",["T_WHITESPACE","\n                        ",296],["T_CONSTANT_ENCAPSED_STRING","'comment'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_STRING_CAST","(string)",297],["T_VARIABLE","$attribute",297],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",297],"]",",",["T_WHITESPACE","\n                    ",297],"]",";",["T_WHITESPACE","\n                    ",298],["T_BREAK","break",299],";",["T_WHITESPACE","\n                ",299],["T_CASE","case",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'datetime'",300],":",["T_WHITESPACE","\n                    ",300],["T_VARIABLE","$columns",301],"[",["T_VARIABLE","$attribute",301],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",301],"]","]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],"[",["T_WHITESPACE","\n                        ",301],["T_CONSTANT_ENCAPSED_STRING","'type'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],"[",["T_NS_SEPARATOR","\\",302],["T_STRING","Magento",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Framework",302],["T_NS_SEPARATOR","\\",302],["T_STRING","DB",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Ddl",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Table",302],["T_DOUBLE_COLON","::",302],["T_STRING","TYPE_DATETIME",302],",",["T_WHITESPACE"," ",302],["T_STRING","null",302],"]",",",["T_WHITESPACE","\n                        ",302],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_STRING","null",303],",",["T_WHITESPACE","\n                        ",303],["T_CONSTANT_ENCAPSED_STRING","'nullable'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_STRING","true",304],",",["T_WHITESPACE","\n                        ",304],["T_CONSTANT_ENCAPSED_STRING","'default'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_STRING","null",305],",",["T_WHITESPACE","\n                        ",305],["T_CONSTANT_ENCAPSED_STRING","'comment'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_STRING_CAST","(string)",306],["T_VARIABLE","$attribute",306],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",306],"]",",",["T_WHITESPACE","\n                    ",306],"]",";",["T_WHITESPACE","\n                    ",307],["T_BREAK","break",308],";",["T_WHITESPACE","\n                ",308],["T_CASE","case",309],["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'decimal'",309],":",["T_WHITESPACE","\n                    ",309],["T_VARIABLE","$columns",310],"[",["T_VARIABLE","$attribute",310],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",310],"]","]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],"[",["T_WHITESPACE","\n                        ",310],["T_CONSTANT_ENCAPSED_STRING","'type'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],"[",["T_NS_SEPARATOR","\\",311],["T_STRING","Magento",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Framework",311],["T_NS_SEPARATOR","\\",311],["T_STRING","DB",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Ddl",311],["T_NS_SEPARATOR","\\",311],["T_STRING","Table",311],["T_DOUBLE_COLON","::",311],["T_STRING","TYPE_DECIMAL",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'12,4'",311],"]",",",["T_WHITESPACE","\n                        ",311],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_STRING","null",312],",",["T_WHITESPACE","\n                        ",312],["T_CONSTANT_ENCAPSED_STRING","'nullable'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_STRING","true",313],",",["T_WHITESPACE","\n                        ",313],["T_CONSTANT_ENCAPSED_STRING","'default'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_STRING","null",314],",",["T_WHITESPACE","\n                        ",314],["T_CONSTANT_ENCAPSED_STRING","'comment'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_STRING_CAST","(string)",315],["T_VARIABLE","$attribute",315],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",315],"]",",",["T_WHITESPACE","\n                    ",315],"]",";",["T_WHITESPACE","\n                    ",316],["T_BREAK","break",317],";",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n\n        ",319],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$columns",321],";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Return array of attribute codes for entity type 'catalog_category'\n     *\n     * @return array\n     *\/",324],["T_WHITESPACE","\n    ",328],["T_PROTECTED","protected",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","getAttributes",329],"(",")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","attributeCodes",331],["T_WHITESPACE"," ",331],["T_IS_IDENTICAL","===",331],["T_WHITESPACE"," ",331],["T_STRING","null",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$select",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","connection",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","select",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","from",332],"(",["T_WHITESPACE","\n                ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","connection",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getTableName",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getTableName",333],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",333],")",")",",",["T_WHITESPACE","\n                ",333],"[","]",["T_WHITESPACE","\n            ",334],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","join",335],"(",["T_WHITESPACE","\n                ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","connection",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getTableName",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getTableName",336],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",336],")",")",",",["T_WHITESPACE","\n                ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","connection",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getTableName",337],"(",["T_WHITESPACE","\n                    ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getTableName",338],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",338],")",["T_WHITESPACE","\n                ",338],")",["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'.entity_type_id = '",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","connection",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getTableName",339],"(",["T_WHITESPACE","\n                    ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getTableName",340],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",340],")",["T_WHITESPACE","\n                ",340],")",["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'.entity_type_id'",341],",",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","connection",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getTableName",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getTableName",342],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",342],")",")",["T_WHITESPACE"," ",342],".",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'.*'",342],["T_WHITESPACE","\n            ",342],")",["T_OBJECT_OPERATOR","->",343],["T_STRING","where",343],"(",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","connection",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getTableName",344],"(",["T_WHITESPACE","\n                    ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getTableName",345],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_type'",345],")",["T_WHITESPACE","\n                ",345],")",["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'.entity_type_code = ?'",346],",",["T_WHITESPACE","\n                ",346],["T_NS_SEPARATOR","\\",347],["T_STRING","Magento",347],["T_NS_SEPARATOR","\\",347],["T_STRING","Catalog",347],["T_NS_SEPARATOR","\\",347],["T_STRING","Model",347],["T_NS_SEPARATOR","\\",347],["T_STRING","Category",347],["T_DOUBLE_COLON","::",347],["T_STRING","ENTITY",347],["T_WHITESPACE","\n            ",347],")",";",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","attributeCodes",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"[","]",";",["T_WHITESPACE","\n            ",349],["T_FOREACH","foreach",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","connection",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","fetchAll",350],"(",["T_VARIABLE","$select",350],")",["T_WHITESPACE"," ",350],["T_AS","as",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$attribute",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","attributeCodes",351],"[",["T_VARIABLE","$attribute",351],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",351],"]","]",["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$attribute",351],";",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n\n        ",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","attributeCodes",355],";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Return attribute values for given entities and store\n     *\n     * @param array $entityIds\n     * @param integer $storeId\n     * @return array\n     *\/",358],["T_WHITESPACE","\n    ",364],["T_PROTECTED","protected",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","getAttributeValues",365],"(",["T_VARIABLE","$entityIds",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$storeId",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(","!",["T_STRING","is_array",367],"(",["T_VARIABLE","$entityIds",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$entityIds",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],"[",["T_VARIABLE","$entityIds",368],"]",";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$values",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],"[","]",";",["T_WHITESPACE","\n\n        ",370],["T_FOREACH","foreach",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$entityIds",372],["T_WHITESPACE"," ",372],["T_AS","as",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$entityId",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$values",373],"[",["T_VARIABLE","$entityId",373],"]",["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],"[","]",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$attributes",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getAttributes",375],"(",")",";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$attributesType",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[",["T_CONSTANT_ENCAPSED_STRING","'varchar'",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'int'",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'decimal'",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'text'",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'datetime'",376],"]",";",["T_WHITESPACE","\n        ",376],["T_FOREACH","foreach",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$attributesType",377],["T_WHITESPACE"," ",377],["T_AS","as",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$type",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_FOREACH","foreach",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getAttributeTypeValues",378],"(",["T_VARIABLE","$type",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$entityIds",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$storeId",378],")",["T_WHITESPACE"," ",378],["T_AS","as",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$row",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_ISSET","isset",379],"(",["T_VARIABLE","$row",379],"[",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getCategoryMetadata",379],"(",")",["T_OBJECT_OPERATOR","->",379],["T_STRING","getLinkField",379],"(",")","]",")",["T_WHITESPACE"," ",379],["T_BOOLEAN_AND","&&",379],["T_WHITESPACE"," ",379],["T_ISSET","isset",379],"(",["T_VARIABLE","$row",379],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",379],"]",")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n                    ",379],["T_VARIABLE","$attributeId",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$row",380],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",380],"]",";",["T_WHITESPACE","\n                    ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_ISSET","isset",381],"(",["T_VARIABLE","$attributes",381],"[",["T_VARIABLE","$attributeId",381],"]",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                        ",381],["T_VARIABLE","$attributeCode",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$attributes",382],"[",["T_VARIABLE","$attributeId",382],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",382],"]",";",["T_WHITESPACE","\n                        ",382],["T_VARIABLE","$values",383],"[",["T_VARIABLE","$row",383],"[",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getCategoryMetadata",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","getLinkField",383],"(",")","]","]","[",["T_VARIABLE","$attributeCode",383],"]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$row",383],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",383],"]",";",["T_WHITESPACE","\n                    ",383],"}",["T_WHITESPACE","\n                ",384],"}",["T_WHITESPACE","\n            ",385],"}",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$values",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Return attribute values for given entities and store of specific attribute type\n     *\n     * @param string $type\n     * @param array $entityIds\n     * @param integer $storeId\n     * @return array\n     *\/",391],["T_WHITESPACE","\n    ",398],["T_PROTECTED","protected",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","getAttributeTypeValues",399],"(",["T_VARIABLE","$type",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$entityIds",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$storeId",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$linkField",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getCategoryMetadata",401],"(",")",["T_OBJECT_OPERATOR","->",401],["T_STRING","getLinkField",401],"(",")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$select",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","connection",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","select",402],"(",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","from",402],"(",["T_WHITESPACE","\n            ",402],"[",["T_WHITESPACE","\n                ",403],["T_CONSTANT_ENCAPSED_STRING","'def'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","connection",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getTableName",404],"(",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getTableName",404],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_entity_'",404],["T_WHITESPACE"," ",404],".",["T_WHITESPACE"," ",404],["T_VARIABLE","$type",404],")",")",",",["T_WHITESPACE","\n            ",404],"]",",",["T_WHITESPACE","\n            ",405],"[",["T_VARIABLE","$linkField",406],",",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",406],"]",["T_WHITESPACE","\n        ",406],")",["T_OBJECT_OPERATOR","->",407],["T_STRING","joinLeft",407],"(",["T_WHITESPACE","\n            ",407],"[",["T_WHITESPACE","\n                ",408],["T_CONSTANT_ENCAPSED_STRING","'e'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","connection",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getTableName",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getTableName",409],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_entity'",409],")",")",["T_WHITESPACE","\n            ",409],"]",",",["T_WHITESPACE","\n            ",410],"\"",["T_ENCAPSED_AND_WHITESPACE","def.",411],["T_CURLY_OPEN","{",411],["T_VARIABLE","$linkField",411],"}",["T_ENCAPSED_AND_WHITESPACE"," = e.",411],["T_CURLY_OPEN","{",411],["T_VARIABLE","$linkField",411],"}","\"",["T_WHITESPACE","\n        ",411],")",["T_OBJECT_OPERATOR","->",412],["T_STRING","joinLeft",412],"(",["T_WHITESPACE","\n            ",412],"[",["T_WHITESPACE","\n                ",413],["T_CONSTANT_ENCAPSED_STRING","'store'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","connection",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getTableName",414],"(",["T_WHITESPACE","\n                    ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getTableName",415],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_entity_'",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_VARIABLE","$type",415],")",["T_WHITESPACE","\n                ",415],")",",",["T_WHITESPACE","\n            ",416],"]",",",["T_WHITESPACE","\n            ",417],"\"",["T_ENCAPSED_AND_WHITESPACE","store.",418],["T_CURLY_OPEN","{",418],["T_VARIABLE","$linkField",418],"}",["T_ENCAPSED_AND_WHITESPACE"," = def.",418],["T_CURLY_OPEN","{",418],["T_VARIABLE","$linkField",418],"}",["T_ENCAPSED_AND_WHITESPACE"," AND store.attribute_id = def.attribute_id ",418],"\"",["T_WHITESPACE"," ",418],".",["T_WHITESPACE","\n            ",418],["T_CONSTANT_ENCAPSED_STRING","'AND store.store_id = '",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$storeId",420],",",["T_WHITESPACE","\n            ",420],"[",["T_WHITESPACE","\n                ",421],["T_CONSTANT_ENCAPSED_STRING","'value'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","connection",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getCheckSql",422],"(",["T_WHITESPACE","\n                    ",422],["T_CONSTANT_ENCAPSED_STRING","'store.value_id > 0'",423],",",["T_WHITESPACE","\n                    ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","connection",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","quoteIdentifier",424],"(",["T_CONSTANT_ENCAPSED_STRING","'store.value'",424],")",",",["T_WHITESPACE","\n                    ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","connection",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","quoteIdentifier",425],"(",["T_CONSTANT_ENCAPSED_STRING","'def.value'",425],")",["T_WHITESPACE","\n                ",425],")",["T_WHITESPACE","\n            ",426],"]",["T_WHITESPACE","\n        ",427],")",["T_OBJECT_OPERATOR","->",428],["T_STRING","where",428],"(",["T_WHITESPACE","\n            ",428],["T_CONSTANT_ENCAPSED_STRING","\"e.entity_id IN (?)\"",429],",",["T_WHITESPACE","\n            ",429],["T_VARIABLE","$entityIds",430],["T_WHITESPACE","\n        ",430],")",["T_OBJECT_OPERATOR","->",431],["T_STRING","where",431],"(",["T_WHITESPACE","\n            ",431],["T_CONSTANT_ENCAPSED_STRING","'def.store_id IN (?)'",432],",",["T_WHITESPACE","\n            ",432],"[",["T_NS_SEPARATOR","\\",433],["T_STRING","Magento",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Store",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Model",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Store",433],["T_DOUBLE_COLON","::",433],["T_STRING","DEFAULT_STORE_ID",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$storeId",433],"]",["T_WHITESPACE","\n        ",433],")",";",["T_WHITESPACE","\n\n        ",434],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","connection",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","fetchAll",436],"(",["T_VARIABLE","$select",436],")",";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * Prepare array of column and columnValue pairs\n     *\n     * @param array $data\n     * @return array\n     *\/",439],["T_WHITESPACE","\n    ",444],["T_PROTECTED","protected",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","prepareValuesToInsert",445],"(",["T_VARIABLE","$data",445],")",["T_WHITESPACE","\n    ",445],"{",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$values",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],"[","]",";",["T_WHITESPACE","\n        ",447],["T_FOREACH","foreach",448],["T_WHITESPACE"," ",448],"(",["T_STRING","array_keys",448],"(",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getColumns",448],"(",")",")",["T_WHITESPACE"," ",448],["T_AS","as",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$column",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n            ",448],["T_IF","if",449],["T_WHITESPACE"," ",449],"(",["T_ISSET","isset",449],"(",["T_VARIABLE","$data",449],"[",["T_VARIABLE","$column",449],"]",")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                ",449],["T_VARIABLE","$values",450],"[",["T_VARIABLE","$column",450],"]",["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$data",450],"[",["T_VARIABLE","$column",450],"]",";",["T_WHITESPACE","\n            ",450],"}",["T_WHITESPACE"," ",451],["T_ELSE","else",451],["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n                ",451],["T_VARIABLE","$values",452],"[",["T_VARIABLE","$column",452],"]",["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_STRING","null",452],";",["T_WHITESPACE","\n            ",452],"}",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n        ",454],["T_RETURN","return",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$values",455],";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Get table name\n     *\n     * @param string $name\n     * @return string\n     *\/",458],["T_WHITESPACE","\n    ",463],["T_PROTECTED","protected",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","getTableName",464],"(",["T_VARIABLE","$name",464],")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","resource",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getTableName",466],"(",["T_VARIABLE","$name",466],")",";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\EntityManager\\EntityMetadata\n     *\/",469],["T_WHITESPACE","\n    ",471],["T_PRIVATE","private",472],["T_WHITESPACE"," ",472],["T_FUNCTION","function",472],["T_WHITESPACE"," ",472],["T_STRING","getCategoryMetadata",472],"(",")",["T_WHITESPACE","\n    ",472],"{",["T_WHITESPACE","\n        ",473],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_STRING","null",474],["T_WHITESPACE"," ",474],["T_IS_IDENTICAL","===",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","categoryMetadata",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$metadataPool",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_NS_SEPARATOR","\\",475],["T_STRING","Magento",475],["T_NS_SEPARATOR","\\",475],["T_STRING","Framework",475],["T_NS_SEPARATOR","\\",475],["T_STRING","App",475],["T_NS_SEPARATOR","\\",475],["T_STRING","ObjectManager",475],["T_DOUBLE_COLON","::",475],["T_STRING","getInstance",475],"(",")",["T_WHITESPACE","\n                ",475],["T_OBJECT_OPERATOR","->",476],["T_STRING","get",476],"(",["T_NS_SEPARATOR","\\",476],["T_STRING","Magento",476],["T_NS_SEPARATOR","\\",476],["T_STRING","Framework",476],["T_NS_SEPARATOR","\\",476],["T_STRING","EntityManager",476],["T_NS_SEPARATOR","\\",476],["T_STRING","MetadataPool",476],["T_DOUBLE_COLON","::",476],["T_CLASS","class",476],")",";",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","categoryMetadata",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_VARIABLE","$metadataPool",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getMetadata",477],"(",["T_NS_SEPARATOR","\\",477],["T_STRING","Magento",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Catalog",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Api",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Data",477],["T_NS_SEPARATOR","\\",477],["T_STRING","CategoryInterface",477],["T_DOUBLE_COLON","::",477],["T_CLASS","class",477],")",";",["T_WHITESPACE","\n        ",477],"}",["T_WHITESPACE","\n        ",478],["T_RETURN","return",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","categoryMetadata",479],";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",482],["T_WHITESPACE","\n    ",484],["T_PRIVATE","private",485],["T_WHITESPACE"," ",485],["T_FUNCTION","function",485],["T_WHITESPACE"," ",485],["T_STRING","getSkipStaticColumns",485],"(",")",["T_WHITESPACE","\n    ",485],"{",["T_WHITESPACE","\n        ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_STRING","null",487],["T_WHITESPACE"," ",487],["T_IS_IDENTICAL","===",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","skipStaticColumns",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$provider",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Magento",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Framework",488],["T_NS_SEPARATOR","\\",488],["T_STRING","App",488],["T_NS_SEPARATOR","\\",488],["T_STRING","ObjectManager",488],["T_DOUBLE_COLON","::",488],["T_STRING","getInstance",488],"(",")",["T_WHITESPACE","\n                ",488],["T_OBJECT_OPERATOR","->",489],["T_STRING","get",489],"(",["T_NS_SEPARATOR","\\",489],["T_STRING","Magento",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Catalog",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Model",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Indexer",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Category",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Flat",489],["T_NS_SEPARATOR","\\",489],["T_STRING","SkipStaticColumnsProvider",489],["T_DOUBLE_COLON","::",489],["T_CLASS","class",489],")",";",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","skipStaticColumns",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$provider",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","get",490],"(",")",";",["T_WHITESPACE","\n        ",490],"}",["T_WHITESPACE","\n        ",491],["T_RETURN","return",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","skipStaticColumns",492],";",["T_WHITESPACE","\n    ",492],"}",["T_WHITESPACE","\n",493],"}",["T_WHITESPACE","\n",494]]