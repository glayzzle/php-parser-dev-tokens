[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Price",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Product cost storage.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","CostStorage",12],["T_WHITESPACE"," ",12],["T_IMPLEMENTS","implements",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CostStorageInterface",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Attribute code.\n     *\n     * @var string\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$attributeCode",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'cost'",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var PricePersistence\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$pricePersistence",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\Data\\CostInterfaceFactory\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$costInterfaceFactory",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductIdLocatorInterface\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$productIdLocator",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Price\\Validation\\Result\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$validationResult",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Price\\InvalidSkuChecker\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$invalidSkuChecker",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Allowed product types.\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$allowedProductTypes",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var PricePersistenceFactory\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$pricePersistenceFactory",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Api\\StoreRepositoryInterface\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PRIVATE","private",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$storeRepository",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * CostStorage constructor.\n     *\n     * @param PricePersistenceFactory $pricePersistenceFactory\n     * @param \\Magento\\Catalog\\Api\\Data\\CostInterfaceFactory $costInterfaceFactory\n     * @param \\Magento\\Catalog\\Model\\ProductIdLocatorInterface $productIdLocator\n     * @param \\Magento\\Store\\Api\\StoreRepositoryInterface $storeRepository\n     * @param \\Magento\\Catalog\\Model\\Product\\Price\\Validation\\Result $validationResult\n     * @param \\Magento\\Catalog\\Model\\Product\\Price\\InvalidSkuChecker $invalidSkuChecker\n     * @param array $allowedProductTypes [optional]\n     *\/",63],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","__construct",74],"(",["T_WHITESPACE","\n        ",74],["T_STRING","PricePersistenceFactory",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$pricePersistenceFactory",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Catalog",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Api",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Data",76],["T_NS_SEPARATOR","\\",76],["T_STRING","CostInterfaceFactory",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$costInterfaceFactory",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Catalog",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","ProductIdLocatorInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$productIdLocator",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Store",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Api",78],["T_NS_SEPARATOR","\\",78],["T_STRING","StoreRepositoryInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$storeRepository",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Catalog",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Product",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Price",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Validation",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Result",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$validationResult",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Catalog",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Product",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Price",80],["T_NS_SEPARATOR","\\",80],["T_STRING","InvalidSkuChecker",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$invalidSkuChecker",80],",",["T_WHITESPACE","\n        ",80],["T_ARRAY","array",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$allowedProductTypes",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",["T_WHITESPACE","\n    ",81],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","pricePersistenceFactory",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$pricePersistenceFactory",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","costInterfaceFactory",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$costInterfaceFactory",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","productIdLocator",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$productIdLocator",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","storeRepository",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$storeRepository",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","validationResult",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$validationResult",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","invalidSkuChecker",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$invalidSkuChecker",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","allowedProductTypes",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$allowedProductTypes",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","get",95],"(",["T_ARRAY","array",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$skus",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","invalidSkuChecker",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","isSkuListValid",97],"(",["T_VARIABLE","$skus",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","allowedProductTypes",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$rawPrices",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getPricePersistence",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","get",98],"(",["T_VARIABLE","$skus",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$prices",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[","]",";",["T_WHITESPACE","\n        ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$rawPrices",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$rawPrice",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$price",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","costInterfaceFactory",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","create",101],"(",")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$sku",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getPricePersistence",102],"(",")",["T_WHITESPACE","\n                ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","retrieveSkuById",103],"(",["T_VARIABLE","$rawPrice",103],"[",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getPricePersistence",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getEntityLinkField",103],"(",")","]",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$skus",103],")",";",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$price",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setSku",104],"(",["T_VARIABLE","$sku",104],")",";",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$price",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setCost",105],"(",["T_VARIABLE","$rawPrice",105],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",105],"]",")",";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$price",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setStoreId",106],"(",["T_VARIABLE","$rawPrice",106],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",106],"]",")",";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$prices",107],"[","]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$price",107],";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$prices",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","update",116],"(",["T_ARRAY","array",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$prices",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$prices",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","retrieveValidPrices",118],"(",["T_VARIABLE","$prices",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$formattedPrices",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[","]",";",["T_WHITESPACE","\n\n        ",119],["T_FOREACH","foreach",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$prices",121],["T_WHITESPACE"," ",121],["T_AS","as",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$price",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$productIdsBySkus",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","productIdLocator",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","retrieveProductIdsBySkus",122],"(","[",["T_VARIABLE","$price",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getSku",122],"(",")","]",")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$productIds",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","array_keys",123],"(",["T_VARIABLE","$productIdsBySkus",123],"[",["T_VARIABLE","$price",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getSku",123],"(",")","]",")",";",["T_WHITESPACE","\n            ",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$productIds",124],["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$id",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$formattedPrices",125],"[","]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[",["T_WHITESPACE","\n                    ",125],["T_CONSTANT_ENCAPSED_STRING","'store_id'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$price",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getStoreId",126],"(",")",",",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getPricePersistence",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getEntityLinkField",127],"(",")",["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$id",127],",",["T_WHITESPACE","\n                    ",127],["T_CONSTANT_ENCAPSED_STRING","'value'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$price",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getCost",128],"(",")",",",["T_WHITESPACE","\n                ",128],"]",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getPricePersistence",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","update",133],"(",["T_VARIABLE","$formattedPrices",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","validationResult",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getFailedItems",135],"(",")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",138],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","delete",141],"(",["T_ARRAY","array",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$skus",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","invalidSkuChecker",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","isSkuListValid",143],"(",["T_VARIABLE","$skus",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","allowedProductTypes",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getPricePersistence",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","delete",144],"(",["T_VARIABLE","$skus",144],")",";",["T_WHITESPACE","\n\n        ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_STRING","true",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Get price persistence.\n     *\n     * @return PricePersistence\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PRIVATE","private",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","getPricePersistence",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","pricePersistence",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","pricePersistence",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","pricePersistenceFactory",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","create",157],"(","[",["T_CONSTANT_ENCAPSED_STRING","'attributeCode'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","attributeCode",157],"]",")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","pricePersistence",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Retrieve valid prices that do not contain any errors.\n     *\n     * @param array $prices\n     * @return array\n     *\/",163],["T_WHITESPACE","\n    ",168],["T_PRIVATE","private",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","retrieveValidPrices",169],"(",["T_ARRAY","array",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$prices",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$skus",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","array_unique",171],"(",["T_WHITESPACE","\n            ",171],["T_STRING","array_map",172],"(",["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$price",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$price",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getSku",173],"(",")",";",["T_WHITESPACE","\n            ",173],"}",",",["T_WHITESPACE"," ",174],["T_VARIABLE","$prices",174],")",["T_WHITESPACE","\n        ",174],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$invalidSkus",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","invalidSkuChecker",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","retrieveInvalidSkuList",176],"(",["T_VARIABLE","$skus",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","allowedProductTypes",176],")",";",["T_WHITESPACE","\n\n        ",176],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$prices",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$id",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$price",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_VARIABLE","$price",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getSku",179],"(",")",["T_WHITESPACE"," ",179],["T_BOOLEAN_OR","||",179],["T_WHITESPACE"," ",179],["T_STRING","in_array",179],"(",["T_VARIABLE","$price",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getSku",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$invalidSkus",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","validationResult",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","addFailedItem",180],"(",["T_WHITESPACE","\n                    ",180],["T_VARIABLE","$id",181],",",["T_WHITESPACE","\n                    ",181],["T_STRING","__",182],"(",["T_WHITESPACE","\n                        ",182],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute %fieldName = %fieldValue.'",183],",",["T_WHITESPACE","\n                        ",183],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",184],"]",["T_WHITESPACE","\n                    ",184],")",",",["T_WHITESPACE","\n                    ",185],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'SKU'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$price",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getSku",186],"(",")","]",["T_WHITESPACE","\n                ",186],")",";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n            ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","null",189],["T_WHITESPACE"," ",189],["T_IS_IDENTICAL","===",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$price",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getCost",189],"(",")",["T_WHITESPACE"," ",189],["T_BOOLEAN_OR","||",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$price",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getCost",189],"(",")",["T_WHITESPACE"," ",189],"<",["T_WHITESPACE"," ",189],["T_LNUMBER","0",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","validationResult",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","addFailedItem",190],"(",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$id",191],",",["T_WHITESPACE","\n                    ",191],["T_STRING","__",192],"(",["T_WHITESPACE","\n                        ",192],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute Cost = %cost. Row ID: SKU = %SKU, Store ID: %storeId.'",193],",",["T_WHITESPACE","\n                        ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'cost'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$price",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getCost",194],"(",")",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'SKU'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$price",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getSku",194],"(",")",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'storeId'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$price",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getStoreId",194],"(",")","]",["T_WHITESPACE","\n                    ",194],")",",",["T_WHITESPACE","\n                    ",195],"[",["T_CONSTANT_ENCAPSED_STRING","'cost'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$price",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getCost",196],"(",")",",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'SKU'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$price",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getSku",196],"(",")",",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'storeId'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$price",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getStoreId",196],"(",")","]",["T_WHITESPACE","\n                ",196],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n            ",198],["T_TRY","try",199],["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","storeRepository",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getById",200],"(",["T_VARIABLE","$price",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getStoreId",200],"(",")",")",";",["T_WHITESPACE","\n            ",200],"}",["T_WHITESPACE"," ",201],["T_CATCH","catch",201],["T_WHITESPACE"," ",201],"(",["T_NS_SEPARATOR","\\",201],["T_STRING","Magento",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Framework",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Exception",201],["T_NS_SEPARATOR","\\",201],["T_STRING","NoSuchEntityException",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$e",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","validationResult",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","addFailedItem",202],"(",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$id",203],",",["T_WHITESPACE","\n                    ",203],["T_STRING","__",204],"(",["T_WHITESPACE","\n                        ",204],["T_CONSTANT_ENCAPSED_STRING","'Requested store is not found. Row ID: SKU = %SKU, Store ID: %storeId.'",205],",",["T_WHITESPACE","\n                        ",205],"[",["T_CONSTANT_ENCAPSED_STRING","'SKU'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$price",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getSku",206],"(",")",",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'storeId'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$price",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getStoreId",206],"(",")","]",["T_WHITESPACE","\n                    ",206],")",",",["T_WHITESPACE","\n                    ",207],"[",["T_CONSTANT_ENCAPSED_STRING","'SKU'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$price",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getSku",208],"(",")",",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'storeId'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$price",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getStoreId",208],"(",")","]",["T_WHITESPACE","\n                ",208],")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n\n        ",211],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","validationResult",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getFailedRowIds",213],"(",")",["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$id",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_UNSET","unset",214],"(",["T_VARIABLE","$prices",214],"[",["T_VARIABLE","$id",214],"]",")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n\n        ",215],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$prices",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n",218],"}",["T_WHITESPACE","\n",219]]