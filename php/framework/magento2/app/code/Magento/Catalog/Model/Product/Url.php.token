[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Product Url model\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UrlRewrite",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UrlFinderInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UrlRewrite",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Service",15],["T_NS_SEPARATOR","\\",15],["T_STRING","V1",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UrlRewrite",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Url",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DataObject",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * URL instance\n     *\n     * @var \\Magento\\Framework\\UrlFactory\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$urlFactory",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filter\\FilterManager\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$filter",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$storeManager",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Session\\SidResolverInterface\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$sidResolver",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/** @var UrlFinderInterface *\/",43],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$urlFinder",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\UrlFactory $urlFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Filter\\FilterManager $filter\n     * @param \\Magento\\Framework\\Session\\SidResolverInterface $sidResolver\n     * @param UrlFinderInterface $urlFinder\n     * @param array $data\n     *\/",46],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","__construct",54],"(",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","UrlFactory",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$urlFactory",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Store",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","StoreManagerInterface",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$storeManager",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Filter",57],["T_NS_SEPARATOR","\\",57],["T_STRING","FilterManager",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$filter",57],",",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Framework",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Session",58],["T_NS_SEPARATOR","\\",58],["T_STRING","SidResolverInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$sidResolver",58],",",["T_WHITESPACE","\n        ",58],["T_STRING","UrlFinderInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$urlFinder",59],",",["T_WHITESPACE","\n        ",59],["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$data",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","]",["T_WHITESPACE","\n    ",60],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_STRING","parent",62],["T_DOUBLE_COLON","::",62],["T_STRING","__construct",62],"(",["T_VARIABLE","$data",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","urlFactory",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$urlFactory",63],";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","storeManager",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$storeManager",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","filter",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$filter",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","sidResolver",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$sidResolver",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","urlFinder",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$urlFinder",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Retrieve URL Instance\n     *\n     * @return \\Magento\\Framework\\UrlInterface\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getUrlInstance",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","urlFactory",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","create",77],"(",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Retrieve URL in current store\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $params the URL route params\n     * @return string\n     *\/",80],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getUrlInStore",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Catalog",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Model",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Product",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$product",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$params",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],"[","]",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$params",89],"[",["T_CONSTANT_ENCAPSED_STRING","'_scope_to_url'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","true",89],";",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getUrl",90],"(",["T_VARIABLE","$product",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$params",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Retrieve Product URL\n     *\n     * @param  \\Magento\\Catalog\\Model\\Product $product\n     * @param  bool $useSid forced SID mode\n     * @return string\n     *\/",93],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getProductUrl",100],"(",["T_VARIABLE","$product",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$useSid",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","null",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$useSid",102],["T_WHITESPACE"," ",102],["T_IS_IDENTICAL","===",102],["T_WHITESPACE"," ",102],["T_STRING","null",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$useSid",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","sidResolver",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getUseSessionInUrl",103],"(",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$params",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[","]",";",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_VARIABLE","$useSid",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$params",108],"[",["T_CONSTANT_ENCAPSED_STRING","'_nosid'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","true",108],";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getUrl",111],"(",["T_VARIABLE","$product",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$params",111],")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Format Key for URL\n     *\n     * @param string $str\n     * @return string\n     *\/",114],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","formatUrlKey",120],"(",["T_VARIABLE","$str",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","filter",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","translitUrl",122],"(",["T_VARIABLE","$str",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Retrieve Product URL using UrlDataObject\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $params\n     * @return string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",125],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","getUrl",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Catalog",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Product",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$product",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$params",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],"[","]",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$routePath",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","''",136],";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$routeParams",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$params",137],";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$storeId",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$product",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getStoreId",139],"(",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$categoryId",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","null",141],";",["T_WHITESPACE","\n\n        ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_ISSET","isset",143],"(",["T_VARIABLE","$params",143],"[",["T_CONSTANT_ENCAPSED_STRING","'_ignore_category'",143],"]",")",["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$product",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getCategoryId",143],"(",")",["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],"!",["T_VARIABLE","$product",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getDoNotUseCategoryId",143],"(",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$categoryId",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$product",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getCategoryId",144],"(",")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$product",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","hasUrlDataObject",147],"(",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$requestPath",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$product",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getUrlDataObject",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getUrlRewrite",148],"(",")",";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$routeParams",149],"[",["T_CONSTANT_ENCAPSED_STRING","'_scope'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$product",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getUrlDataObject",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getStoreId",149],"(",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE"," ",150],["T_ELSE","else",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$requestPath",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$product",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getRequestPath",151],"(",")",";",["T_WHITESPACE","\n            ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_EMPTY","empty",152],"(",["T_VARIABLE","$requestPath",152],")",["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$requestPath",152],["T_WHITESPACE"," ",152],["T_IS_NOT_IDENTICAL","!==",152],["T_WHITESPACE"," ",152],["T_STRING","false",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$filterData",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],"[",["T_WHITESPACE","\n                    ",153],["T_STRING","UrlRewrite",154],["T_DOUBLE_COLON","::",154],["T_STRING","ENTITY_ID",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$product",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getId",154],"(",")",",",["T_WHITESPACE","\n                    ",154],["T_STRING","UrlRewrite",155],["T_DOUBLE_COLON","::",155],["T_STRING","ENTITY_TYPE",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Magento",155],["T_NS_SEPARATOR","\\",155],["T_STRING","CatalogUrlRewrite",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Model",155],["T_NS_SEPARATOR","\\",155],["T_STRING","ProductUrlRewriteGenerator",155],["T_DOUBLE_COLON","::",155],["T_STRING","ENTITY_TYPE",155],",",["T_WHITESPACE","\n                    ",155],["T_STRING","UrlRewrite",156],["T_DOUBLE_COLON","::",156],["T_STRING","STORE_ID",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$storeId",156],",",["T_WHITESPACE","\n                ",156],"]",";",["T_WHITESPACE","\n                ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$categoryId",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                    ",158],["T_VARIABLE","$filterData",159],"[",["T_STRING","UrlRewrite",159],["T_DOUBLE_COLON","::",159],["T_STRING","METADATA",159],"]","[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$categoryId",159],";",["T_WHITESPACE","\n                ",159],"}",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$rewrite",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","urlFinder",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","findOneByData",161],"(",["T_VARIABLE","$filterData",161],")",";",["T_WHITESPACE","\n                ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$rewrite",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$requestPath",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$rewrite",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getRequestPath",163],"(",")",";",["T_WHITESPACE","\n                    ",163],["T_VARIABLE","$product",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setRequestPath",164],"(",["T_VARIABLE","$requestPath",164],")",";",["T_WHITESPACE","\n                ",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                    ",165],["T_VARIABLE","$product",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setRequestPath",166],"(",["T_STRING","false",166],")",";",["T_WHITESPACE","\n                ",166],"}",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_ISSET","isset",171],"(",["T_VARIABLE","$routeParams",171],"[",["T_CONSTANT_ENCAPSED_STRING","'_scope'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$storeId",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","storeManager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getStore",172],"(",["T_VARIABLE","$routeParams",172],"[",["T_CONSTANT_ENCAPSED_STRING","'_scope'",172],"]",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getId",172],"(",")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$storeId",175],["T_WHITESPACE"," ",175],["T_IS_NOT_EQUAL","!=",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","storeManager",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getStore",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getId",175],"(",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$routeParams",176],"[",["T_CONSTANT_ENCAPSED_STRING","'_scope_to_url'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","true",176],";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n\n        ",177],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_EMPTY","empty",179],"(",["T_VARIABLE","$requestPath",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$routeParams",180],"[",["T_CONSTANT_ENCAPSED_STRING","'_direct'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$requestPath",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE"," ",181],["T_ELSE","else",181],["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$routePath",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/view'",182],";",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$routeParams",183],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$product",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getId",183],"(",")",";",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$routeParams",184],"[",["T_CONSTANT_ENCAPSED_STRING","'s'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$product",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getUrlKey",184],"(",")",";",["T_WHITESPACE","\n            ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$categoryId",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$routeParams",186],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$categoryId",186],";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_COMMENT","\/\/ reset cached URL instance GET query params\n",190],["T_WHITESPACE","        ",191],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_ISSET","isset",191],"(",["T_VARIABLE","$routeParams",191],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",191],"]",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$routeParams",192],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],"[","]",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getUrlInstance",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","setScope",195],"(",["T_VARIABLE","$storeId",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getUrl",195],"(",["T_VARIABLE","$routePath",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$routeParams",195],")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n",196],"}",["T_WHITESPACE","\n",197]]