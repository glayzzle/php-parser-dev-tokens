[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Price",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Class is responsible to detect list of invalid SKU values from list of provided skus and allowed product types.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","InvalidSkuChecker",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ProductIdLocatorInterface $productIdLocator\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     *\/",14],["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","__construct",18],"(",["T_WHITESPACE","\n        ",18],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Catalog",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ProductIdLocatorInterface",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$productIdLocator",19],",",["T_WHITESPACE","\n        ",19],["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Catalog",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Api",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ProductRepositoryInterface",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$productRepository",20],["T_WHITESPACE","\n    ",20],")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","productIdLocator",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$productIdLocator",22],";",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","productRepository",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$productRepository",23],";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Retrieve not found or invalid SKUs and and check that their type corresponds to allowed types list.\n     *\n     * @param array $skus\n     * @param array $allowedProductTypes\n     * @param int|bool $allowedPriceTypeValue\n     * @return array\n     *\/",26],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","retrieveInvalidSkuList",34],"(",["T_ARRAY","array",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$skus",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$allowedProductTypes",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$allowedPriceTypeValue",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","false",34],")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$idsBySku",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","productIdLocator",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","retrieveProductIdsBySkus",36],"(",["T_VARIABLE","$skus",36],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$existingSkus",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","array_keys",37],"(",["T_VARIABLE","$idsBySku",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$skuDiff",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","array_udiff",38],"(",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$skus",39],",",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$existingSkus",40],",",["T_WHITESPACE","\n            ",40],["T_CONSTANT_ENCAPSED_STRING","'strcasecmp'",41],["T_WHITESPACE","\n        ",41],")",";",["T_WHITESPACE","\n\n        ",42],["T_FOREACH","foreach",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$idsBySku",44],["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$sku",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$ids",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_FOREACH","foreach",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$ids",45],["T_WHITESPACE"," ",45],["T_AS","as",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$type",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n                ",45],["T_VARIABLE","$valueTypeIsAllowed",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","false",46],";",["T_WHITESPACE","\n\n                ",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$allowedPriceTypeValue",48],["T_WHITESPACE","\n                    ",48],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$type",49],["T_WHITESPACE"," ",49],["T_IS_EQUAL","==",49],["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Catalog",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Product",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Type",49],["T_DOUBLE_COLON","::",49],["T_STRING","TYPE_BUNDLE",49],["T_WHITESPACE","\n                    ",49],["T_BOOLEAN_AND","&&",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","productRepository",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_VARIABLE","$sku",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getPriceType",50],"(",")",["T_WHITESPACE"," ",50],["T_IS_NOT_EQUAL","!=",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$allowedPriceTypeValue",50],["T_WHITESPACE","\n                ",50],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                    ",51],["T_VARIABLE","$valueTypeIsAllowed",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","true",52],";",["T_WHITESPACE","\n                ",52],"}",["T_WHITESPACE","\n\n                ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_STRING","in_array",55],"(",["T_VARIABLE","$type",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$allowedProductTypes",55],")",["T_WHITESPACE"," ",55],["T_BOOLEAN_OR","||",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$valueTypeIsAllowed",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                    ",55],["T_VARIABLE","$skuDiff",56],"[","]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$sku",56],";",["T_WHITESPACE","\n                    ",56],["T_BREAK","break",57],";",["T_WHITESPACE","\n                ",57],"}",["T_WHITESPACE","\n            ",58],"}",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$skuDiff",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Check that SKU list is valid or return exception if it contains invalid values.\n     *\n     * @param array $skus\n     * @param array $allowedProductTypes\n     * @param int|bool $allowedPriceTypeValue\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException\n     *\/",65],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","isSkuListValid",74],"(",["T_ARRAY","array",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$skus",74],",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$allowedProductTypes",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$allowedPriceTypeValue",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","false",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$failedItems",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","retrieveInvalidSkuList",76],"(",["T_VARIABLE","$skus",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$allowedProductTypes",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$allowedPriceTypeValue",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_EMPTY","empty",78],"(",["T_VARIABLE","$failedItems",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$values",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","implode",79],"(",["T_CONSTANT_ENCAPSED_STRING","', '",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$failedItems",79],")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$description",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","count",80],"(",["T_VARIABLE","$failedItems",80],")",["T_WHITESPACE"," ",80],["T_IS_EQUAL","==",80],["T_WHITESPACE"," ",80],["T_LNUMBER","1",80],["T_WHITESPACE","\n                ",80],"?",["T_WHITESPACE"," ",81],["T_STRING","__",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested product doesn\\'t exist: %sku'",81],",",["T_WHITESPACE"," ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$values",81],"]",")",["T_WHITESPACE","\n                ",81],":",["T_WHITESPACE"," ",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested products don\\'t exist: %sku'",82],",",["T_WHITESPACE"," ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$values",82],"]",")",";",["T_WHITESPACE","\n            ",82],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Exception",83],["T_NS_SEPARATOR","\\",83],["T_STRING","NoSuchEntityException",83],"(",["T_VARIABLE","$description",83],")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n",85],"}",["T_WHITESPACE","\n",86]]