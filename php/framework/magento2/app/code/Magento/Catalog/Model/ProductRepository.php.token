[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ProductInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Collection",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Product",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gallery",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MimeTypeExtensionMap",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ImageContentInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Data",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ImageContentInterfaceFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Api",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ImageContentValidatorInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ImageProcessorInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","SearchCriteria",16],["T_NS_SEPARATOR","\\",16],["T_STRING","CollectionProcessorInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DB",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Adapter",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ConnectionException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DB",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Adapter",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DeadlockException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DB",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Adapter",19],["T_NS_SEPARATOR","\\",19],["T_STRING","LockWaitException",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Exception",20],["T_NS_SEPARATOR","\\",20],["T_STRING","InputException",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Exception",21],["T_NS_SEPARATOR","\\",21],["T_STRING","LocalizedException",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Framework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Exception",22],["T_NS_SEPARATOR","\\",22],["T_STRING","NoSuchEntityException",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Exception",23],["T_NS_SEPARATOR","\\",23],["T_STRING","StateException",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Framework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Exception",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ValidatorException",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Framework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Exception",25],["T_NS_SEPARATOR","\\",25],["T_STRING","CouldNotSaveException",25],";",["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @SuppressWarnings(PHPMD.TooManyFields)\n *\/",27],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","ProductRepository",31],["T_WHITESPACE"," ",31],["T_IMPLEMENTS","implements",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Catalog",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Api",31],["T_NS_SEPARATOR","\\",31],["T_STRING","ProductRepositoryInterface",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductCustomOptionRepositoryInterface\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$optionRepository",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var ProductFactory\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$productFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var Product[]\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$instances",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[","]",";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var Product[]\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$instancesById",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Controller\\Adminhtml\\Product\\Initialization\\Helper\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$initializationHelper",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\Data\\ProductSearchResultsInterfaceFactory\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$searchResultsFactory",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$searchCriteriaBuilder",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\FilterBuilder\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$filterBuilder",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$collectionFactory",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$resourceModel",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @var Product\\Initialization\\Helper\\ProductLinks\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$linkInitializer",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var Product\\LinkTypeProvider\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$linkTypeProvider",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$storeManager",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductAttributeRepositoryInterface\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$attributeRepository",101],";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductAttributeRepositoryInterface\n     *\/",103],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$metadataService",106],";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$extensibleDataObjectConverter",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$fileSystem",116],";",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @var ImageContentInterfaceFactory\n     *\/",118],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$contentFactory",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * @var ImageProcessorInterface\n     *\/",123],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$imageProcessor",126],";",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$extensionAttributesJoinProcessor",131],";",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Gallery\\Processor\n     *\/",133],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$mediaGalleryProcessor",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * @var CollectionProcessorInterface\n     *\/",138],["T_WHITESPACE","\n    ",140],["T_PRIVATE","private",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$collectionProcessor",141],";",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * ProductRepository constructor.\n     * @param ProductFactory $productFactory\n     * @param \\Magento\\Catalog\\Controller\\Adminhtml\\Product\\Initialization\\Helper $initializationHelper\n     * @param \\Magento\\Catalog\\Api\\Data\\ProductSearchResultsInterfaceFactory $searchResultsFactory\n     * @param ResourceModel\\Product\\CollectionFactory $collectionFactory\n     * @param \\Magento\\Framework\\Api\\SearchCriteriaBuilder $searchCriteriaBuilder\n     * @param \\Magento\\Catalog\\Api\\ProductAttributeRepositoryInterface $attributeRepository\n     * @param ResourceModel\\Product $resourceModel\n     * @param Product\\Initialization\\Helper\\ProductLinks $linkInitializer\n     * @param Product\\LinkTypeProvider $linkTypeProvider\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Api\\FilterBuilder $filterBuilder\n     * @param \\Magento\\Catalog\\Api\\ProductAttributeRepositoryInterface $metadataServiceInterface\n     * @param \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter $extensibleDataObjectConverter\n     * @param Product\\Option\\Converter $optionConverter\n     * @param \\Magento\\Framework\\Filesystem $fileSystem\n     * @param ImageContentValidatorInterface $contentValidator\n     * @param ImageContentInterfaceFactory $contentFactory\n     * @param MimeTypeExtensionMap $mimeTypeExtensionMap\n     * @param ImageProcessorInterface $imageProcessor\n     * @param \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface $extensionAttributesJoinProcessor\n     * @param CollectionProcessorInterface $collectionProcessor\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",143],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","__construct",169],"(",["T_WHITESPACE","\n        ",169],["T_STRING","ProductFactory",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$productFactory",170],",",["T_WHITESPACE","\n        ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Catalog",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Controller",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Adminhtml",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Product",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Initialization",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Helper",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$initializationHelper",171],",",["T_WHITESPACE","\n        ",171],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Catalog",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Api",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Data",172],["T_NS_SEPARATOR","\\",172],["T_STRING","ProductSearchResultsInterfaceFactory",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$searchResultsFactory",172],",",["T_WHITESPACE","\n        ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Catalog",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Model",173],["T_NS_SEPARATOR","\\",173],["T_STRING","ResourceModel",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Product",173],["T_NS_SEPARATOR","\\",173],["T_STRING","CollectionFactory",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$collectionFactory",173],",",["T_WHITESPACE","\n        ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Framework",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Api",174],["T_NS_SEPARATOR","\\",174],["T_STRING","SearchCriteriaBuilder",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$searchCriteriaBuilder",174],",",["T_WHITESPACE","\n        ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Catalog",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Api",175],["T_NS_SEPARATOR","\\",175],["T_STRING","ProductAttributeRepositoryInterface",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$attributeRepository",175],",",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Catalog",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","ResourceModel",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Product",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$resourceModel",176],",",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Catalog",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Product",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Initialization",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Helper",177],["T_NS_SEPARATOR","\\",177],["T_STRING","ProductLinks",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$linkInitializer",177],",",["T_WHITESPACE","\n        ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Catalog",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Product",178],["T_NS_SEPARATOR","\\",178],["T_STRING","LinkTypeProvider",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$linkTypeProvider",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Store",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Model",179],["T_NS_SEPARATOR","\\",179],["T_STRING","StoreManagerInterface",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$storeManager",179],",",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Framework",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Api",180],["T_NS_SEPARATOR","\\",180],["T_STRING","FilterBuilder",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$filterBuilder",180],",",["T_WHITESPACE","\n        ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Catalog",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Api",181],["T_NS_SEPARATOR","\\",181],["T_STRING","ProductAttributeRepositoryInterface",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$metadataServiceInterface",181],",",["T_WHITESPACE","\n        ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Framework",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Api",182],["T_NS_SEPARATOR","\\",182],["T_STRING","ExtensibleDataObjectConverter",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$extensibleDataObjectConverter",182],",",["T_WHITESPACE","\n        ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Catalog",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Model",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Product",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Option",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Converter",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$optionConverter",183],",",["T_WHITESPACE","\n        ",183],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Filesystem",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$fileSystem",184],",",["T_WHITESPACE","\n        ",184],["T_STRING","ImageContentValidatorInterface",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$contentValidator",185],",",["T_WHITESPACE","\n        ",185],["T_STRING","ImageContentInterfaceFactory",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$contentFactory",186],",",["T_WHITESPACE","\n        ",186],["T_STRING","MimeTypeExtensionMap",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$mimeTypeExtensionMap",187],",",["T_WHITESPACE","\n        ",187],["T_STRING","ImageProcessorInterface",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$imageProcessor",188],",",["T_WHITESPACE","\n        ",188],["T_NS_SEPARATOR","\\",189],["T_STRING","Magento",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Framework",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Api",189],["T_NS_SEPARATOR","\\",189],["T_STRING","ExtensionAttribute",189],["T_NS_SEPARATOR","\\",189],["T_STRING","JoinProcessorInterface",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$extensionAttributesJoinProcessor",189],",",["T_WHITESPACE","\n        ",189],["T_STRING","CollectionProcessorInterface",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$collectionProcessor",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","null",190],["T_WHITESPACE","\n    ",190],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","productFactory",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$productFactory",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","collectionFactory",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$collectionFactory",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","initializationHelper",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$initializationHelper",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","searchResultsFactory",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$searchResultsFactory",195],";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","searchCriteriaBuilder",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$searchCriteriaBuilder",196],";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","resourceModel",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$resourceModel",197],";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","linkInitializer",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$linkInitializer",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","linkTypeProvider",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$linkTypeProvider",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","storeManager",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$storeManager",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","attributeRepository",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$attributeRepository",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","filterBuilder",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$filterBuilder",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","metadataService",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$metadataServiceInterface",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","extensibleDataObjectConverter",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$extensibleDataObjectConverter",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","fileSystem",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$fileSystem",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","contentFactory",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$contentFactory",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","imageProcessor",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$imageProcessor",207],";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","extensionAttributesJoinProcessor",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$extensionAttributesJoinProcessor",208],";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","collectionProcessor",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$collectionProcessor",209],["T_WHITESPACE"," ",209],"?",":",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getCollectionProcessor",209],"(",")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",212],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","get",215],"(",["T_VARIABLE","$sku",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$editMode",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","false",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$storeId",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","null",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$forceReload",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","false",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$cacheKey",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getCacheKey",217],"(","[",["T_VARIABLE","$editMode",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$storeId",217],"]",")",";",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_ISSET","isset",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","instances",218],"[",["T_VARIABLE","$sku",218],"]","[",["T_VARIABLE","$cacheKey",218],"]",")",["T_WHITESPACE"," ",218],["T_BOOLEAN_OR","||",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$forceReload",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$product",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","productFactory",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","create",219],"(",")",";",["T_WHITESPACE","\n\n            ",219],["T_VARIABLE","$productId",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","resourceModel",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getIdBySku",221],"(",["T_VARIABLE","$sku",221],")",";",["T_WHITESPACE","\n            ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(","!",["T_VARIABLE","$productId",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_THROW","throw",223],["T_WHITESPACE"," ",223],["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","NoSuchEntityException",223],"(",["T_STRING","__",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested product doesn\\'t exist'",223],")",")",";",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE","\n            ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$editMode",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$product",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setData",226],"(",["T_CONSTANT_ENCAPSED_STRING","'_edit_mode'",226],",",["T_WHITESPACE"," ",226],["T_STRING","true",226],")",";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n            ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$storeId",228],["T_WHITESPACE"," ",228],["T_IS_NOT_IDENTICAL","!==",228],["T_WHITESPACE"," ",228],["T_STRING","null",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$product",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setData",229],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$storeId",229],")",";",["T_WHITESPACE","\n            ",229],"}",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$product",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","load",231],"(",["T_VARIABLE","$productId",231],")",";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","instances",232],"[",["T_VARIABLE","$sku",232],"]","[",["T_VARIABLE","$cacheKey",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$product",232],";",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","instancesById",233],"[",["T_VARIABLE","$product",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getId",233],"(",")","]","[",["T_VARIABLE","$cacheKey",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$product",233],";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n        ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","instances",235],"[",["T_VARIABLE","$sku",235],"]","[",["T_VARIABLE","$cacheKey",235],"]",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",238],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getById",241],"(",["T_VARIABLE","$productId",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$editMode",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","false",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$storeId",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","null",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$forceReload",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","false",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$cacheKey",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getCacheKey",243],"(","[",["T_VARIABLE","$editMode",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$storeId",243],"]",")",";",["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(","!",["T_ISSET","isset",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","instancesById",244],"[",["T_VARIABLE","$productId",244],"]","[",["T_VARIABLE","$cacheKey",244],"]",")",["T_WHITESPACE"," ",244],["T_BOOLEAN_OR","||",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$forceReload",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$product",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","productFactory",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","create",245],"(",")",";",["T_WHITESPACE","\n            ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$editMode",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$product",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setData",247],"(",["T_CONSTANT_ENCAPSED_STRING","'_edit_mode'",247],",",["T_WHITESPACE"," ",247],["T_STRING","true",247],")",";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$storeId",249],["T_WHITESPACE"," ",249],["T_IS_NOT_IDENTICAL","!==",249],["T_WHITESPACE"," ",249],["T_STRING","null",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$product",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","setData",250],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$storeId",250],")",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$product",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","load",252],"(",["T_VARIABLE","$productId",252],")",";",["T_WHITESPACE","\n            ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$product",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getId",253],"(",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                ",253],["T_THROW","throw",254],["T_WHITESPACE"," ",254],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_STRING","NoSuchEntityException",254],"(",["T_STRING","__",254],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested product doesn\\'t exist'",254],")",")",";",["T_WHITESPACE","\n            ",254],"}",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","instancesById",256],"[",["T_VARIABLE","$productId",256],"]","[",["T_VARIABLE","$cacheKey",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$product",256],";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","instances",257],"[",["T_VARIABLE","$product",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getSku",257],"(",")","]","[",["T_VARIABLE","$cacheKey",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$product",257],";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","instancesById",259],"[",["T_VARIABLE","$productId",259],"]","[",["T_VARIABLE","$cacheKey",259],"]",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Get key for cache\n     *\n     * @param array $data\n     * @return string\n     *\/",262],["T_WHITESPACE","\n    ",267],["T_PROTECTED","protected",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getCacheKey",268],"(",["T_VARIABLE","$data",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$serializeData",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],"[","]",";",["T_WHITESPACE","\n        ",270],["T_FOREACH","foreach",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$data",271],["T_WHITESPACE"," ",271],["T_AS","as",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$key",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$value",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","is_object",272],"(",["T_VARIABLE","$value",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$serializeData",273],"[",["T_VARIABLE","$key",273],"]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$value",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getId",273],"(",")",";",["T_WHITESPACE","\n            ",273],"}",["T_WHITESPACE"," ",274],["T_ELSE","else",274],["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$serializeData",275],"[",["T_VARIABLE","$key",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$value",275],";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_STRING","md5",279],"(",["T_STRING","serialize",279],"(",["T_VARIABLE","$serializeData",279],")",")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Merge data from DB and updates from request\n     *\n     * @param array $productData\n     * @param bool $createNew\n     * @return \\Magento\\Catalog\\Api\\Data\\ProductInterface|Product\n     * @throws NoSuchEntityException\n     *\/",282],["T_WHITESPACE","\n    ",289],["T_PROTECTED","protected",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","initializeProductData",290],"(",["T_ARRAY","array",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$productData",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$createNew",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$createNew",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$product",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","productFactory",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","create",293],"(",")",";",["T_WHITESPACE","\n            ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","storeManager",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","hasSingleStore",294],"(",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$product",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","setWebsiteIds",295],"(","[",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","storeManager",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getStore",295],"(",["T_STRING","true",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","getWebsiteId",295],"(",")","]",")",";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE"," ",297],["T_ELSE","else",297],["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_UNSET","unset",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","instances",298],"[",["T_VARIABLE","$productData",298],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",298],"]","]",")",";",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$product",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","get",299],"(",["T_VARIABLE","$productData",299],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",299],"]",")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_FOREACH","foreach",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$productData",302],["T_WHITESPACE"," ",302],["T_AS","as",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$key",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$value",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$product",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","setData",303],"(",["T_VARIABLE","$key",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$value",303],")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assignProductToWebsites",305],"(",["T_VARIABLE","$product",305],")",";",["T_WHITESPACE","\n\n        ",305],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$product",307],";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     *\/",310],["T_WHITESPACE","\n    ",313],["T_PRIVATE","private",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","assignProductToWebsites",314],"(",["T_NS_SEPARATOR","\\",314],["T_STRING","Magento",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Catalog",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Model",314],["T_NS_SEPARATOR","\\",314],["T_STRING","Product",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$product",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$websiteIds",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$product",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getWebsiteIds",316],"(",")",";",["T_WHITESPACE","\n\n        ",316],["T_IF","if",318],["T_WHITESPACE"," ",318],"(","!",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","storeManager",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","hasSingleStore",318],"(",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$websiteIds",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","array_unique",319],"(",["T_WHITESPACE","\n                ",319],["T_STRING","array_merge",320],"(",["T_WHITESPACE","\n                    ",320],["T_VARIABLE","$websiteIds",321],",",["T_WHITESPACE","\n                    ",321],"[",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","storeManager",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getStore",322],"(",")",["T_OBJECT_OPERATOR","->",322],["T_STRING","getWebsiteId",322],"(",")","]",["T_WHITESPACE","\n                ",322],")",["T_WHITESPACE","\n            ",323],")",";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","storeManager",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getStore",327],"(",["T_STRING","true",327],")",["T_OBJECT_OPERATOR","->",327],["T_STRING","getCode",327],"(",")",["T_WHITESPACE"," ",327],["T_IS_EQUAL","==",327],["T_WHITESPACE"," ",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Magento",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Store",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Model",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Store",327],["T_DOUBLE_COLON","::",327],["T_STRING","ADMIN_CODE",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$websiteIds",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","array_keys",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","storeManager",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getWebsites",328],"(",")",")",";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$product",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setWebsiteIds",331],"(",["T_VARIABLE","$websiteIds",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * @param ProductInterface $product\n     * @param array $newEntry\n     * @return $this\n     * @throws InputException\n     * @throws StateException\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",334],["T_WHITESPACE","\n    ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","processNewMediaGalleryEntry",342],"(",["T_WHITESPACE","\n        ",342],["T_STRING","ProductInterface",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$product",343],",",["T_WHITESPACE","\n        ",343],["T_ARRAY","array",344],["T_WHITESPACE","  ",344],["T_VARIABLE","$newEntry",344],["T_WHITESPACE","\n    ",344],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n        ",345],["T_DOC_COMMENT","\/** @var ImageContentInterface $contentDataObject *\/",346],["T_WHITESPACE","\n        ",346],["T_VARIABLE","$contentDataObject",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$newEntry",347],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",347],"]",";",["T_WHITESPACE","\n\n        ",347],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product\\Media\\Config $mediaConfig *\/",349],["T_WHITESPACE","\n        ",349],["T_VARIABLE","$mediaConfig",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$product",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getMediaConfig",350],"(",")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$mediaTmpPath",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$mediaConfig",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getBaseTmpMediaPath",351],"(",")",";",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$relativeFilePath",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","imageProcessor",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","processImageContent",353],"(",["T_VARIABLE","$mediaTmpPath",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$contentDataObject",353],")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$tmpFilePath",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$mediaConfig",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getTmpMediaShortUrl",354],"(",["T_VARIABLE","$relativeFilePath",354],")",";",["T_WHITESPACE","\n\n        ",354],["T_IF","if",356],["T_WHITESPACE"," ",356],"(","!",["T_VARIABLE","$product",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","hasGalleryAttribute",356],"(",")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_THROW","throw",357],["T_WHITESPACE"," ",357],["T_NEW","new",357],["T_WHITESPACE"," ",357],["T_STRING","StateException",357],"(",["T_STRING","__",357],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested product does not support images.'",357],")",")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n\n        ",358],["T_VARIABLE","$imageFileUri",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getMediaGalleryProcessor",360],"(",")",["T_OBJECT_OPERATOR","->",360],["T_STRING","addImage",360],"(",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$product",361],",",["T_WHITESPACE","\n            ",361],["T_VARIABLE","$tmpFilePath",362],",",["T_WHITESPACE","\n            ",362],["T_ISSET","isset",363],"(",["T_VARIABLE","$newEntry",363],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",363],"]",")",["T_WHITESPACE"," ",363],"?",["T_WHITESPACE"," ",363],["T_VARIABLE","$newEntry",363],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",363],"]",["T_WHITESPACE"," ",363],":",["T_WHITESPACE"," ",363],"[","]",",",["T_WHITESPACE","\n            ",363],["T_STRING","true",364],",",["T_WHITESPACE","\n            ",364],["T_ISSET","isset",365],"(",["T_VARIABLE","$newEntry",365],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",365],"]",")",["T_WHITESPACE"," ",365],"?",["T_WHITESPACE"," ",365],["T_VARIABLE","$newEntry",365],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",365],"]",["T_WHITESPACE"," ",365],":",["T_WHITESPACE"," ",365],["T_STRING","true",365],["T_WHITESPACE","\n        ",365],")",";",["T_WHITESPACE","\n        ",366],["T_COMMENT","\/\/ Update additional fields that are still empty after addImage call\n",367],["T_WHITESPACE","        ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getMediaGalleryProcessor",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","updateImage",368],"(",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$product",369],",",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$imageFileUri",370],",",["T_WHITESPACE","\n            ",370],"[",["T_WHITESPACE","\n                ",371],["T_CONSTANT_ENCAPSED_STRING","'label'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$newEntry",372],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",372],"]",",",["T_WHITESPACE","\n                ",372],["T_CONSTANT_ENCAPSED_STRING","'position'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$newEntry",373],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",373],"]",",",["T_WHITESPACE","\n                ",373],["T_CONSTANT_ENCAPSED_STRING","'disabled'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$newEntry",374],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",374],"]",",",["T_WHITESPACE","\n                ",374],["T_CONSTANT_ENCAPSED_STRING","'media_type'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$newEntry",375],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",375],"]",",",["T_WHITESPACE","\n            ",375],"]",["T_WHITESPACE","\n        ",376],")",";",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Process product links, creating new links, updating and deleting existing links\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\ProductInterface $product\n     * @param \\Magento\\Catalog\\Api\\Data\\ProductLinkInterface[] $newLinks\n     * @return $this\n     * @throws NoSuchEntityException\n     *\/",381],["T_WHITESPACE","\n    ",388],["T_PRIVATE","private",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","processLinks",389],"(",["T_NS_SEPARATOR","\\",389],["T_STRING","Magento",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Catalog",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Api",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Data",389],["T_NS_SEPARATOR","\\",389],["T_STRING","ProductInterface",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$product",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$newLinks",389],")",["T_WHITESPACE","\n    ",389],"{",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$newLinks",391],["T_WHITESPACE"," ",391],["T_IS_IDENTICAL","===",391],["T_WHITESPACE"," ",391],["T_STRING","null",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_COMMENT","\/\/ If product links were not specified, don't do anything\n",392],["T_WHITESPACE","            ",393],["T_RETURN","return",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n\n        ",394],["T_COMMENT","\/\/ Clear all existing product links and then set the ones we want\n",396],["T_WHITESPACE","        ",397],["T_VARIABLE","$linkTypes",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","linkTypeProvider",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getLinkTypes",397],"(",")",";",["T_WHITESPACE","\n        ",397],["T_FOREACH","foreach",398],["T_WHITESPACE"," ",398],"(",["T_STRING","array_keys",398],"(",["T_VARIABLE","$linkTypes",398],")",["T_WHITESPACE"," ",398],["T_AS","as",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$typeName",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","linkInitializer",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","initializeLinks",399],"(",["T_VARIABLE","$product",399],",",["T_WHITESPACE"," ",399],"[",["T_VARIABLE","$typeName",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],"[","]","]",")",";",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n\n        ",400],["T_COMMENT","\/\/ Set each linktype info\n",402],["T_WHITESPACE","        ",403],["T_IF","if",403],["T_WHITESPACE"," ",403],"(","!",["T_EMPTY","empty",403],"(",["T_VARIABLE","$newLinks",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$productLinks",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],"[","]",";",["T_WHITESPACE","\n            ",404],["T_FOREACH","foreach",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$newLinks",405],["T_WHITESPACE"," ",405],["T_AS","as",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$link",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n                ",405],["T_VARIABLE","$productLinks",406],"[",["T_VARIABLE","$link",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getLinkType",406],"(",")","]","[","]",["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$link",406],";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n\n            ",407],["T_FOREACH","foreach",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$productLinks",409],["T_WHITESPACE"," ",409],["T_AS","as",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$type",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$linksByType",409],")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n                ",409],["T_VARIABLE","$assignedSkuList",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],"[","]",";",["T_WHITESPACE","\n                ",410],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductLinkInterface $link *\/",411],["T_WHITESPACE","\n                ",411],["T_FOREACH","foreach",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$linksByType",412],["T_WHITESPACE"," ",412],["T_AS","as",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$link",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n                    ",412],["T_VARIABLE","$assignedSkuList",413],"[","]",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$link",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getLinkedProductSku",413],"(",")",";",["T_WHITESPACE","\n                ",413],"}",["T_WHITESPACE","\n                ",414],["T_VARIABLE","$linkedProductIds",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","resourceModel",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getProductsIdsBySkus",415],"(",["T_VARIABLE","$assignedSkuList",415],")",";",["T_WHITESPACE","\n\n                ",415],["T_VARIABLE","$linksToInitialize",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],"[","]",";",["T_WHITESPACE","\n                ",417],["T_FOREACH","foreach",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$linksByType",418],["T_WHITESPACE"," ",418],["T_AS","as",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$link",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n                    ",418],["T_VARIABLE","$linkDataArray",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","extensibleDataObjectConverter",419],["T_WHITESPACE","\n                        ",419],["T_OBJECT_OPERATOR","->",420],["T_STRING","toNestedArray",420],"(",["T_VARIABLE","$link",420],",",["T_WHITESPACE"," ",420],"[","]",",",["T_WHITESPACE"," ",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Magento",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Catalog",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Api",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Data",420],["T_NS_SEPARATOR","\\",420],["T_STRING","ProductLinkInterface",420],["T_DOUBLE_COLON","::",420],["T_CLASS","class",420],")",";",["T_WHITESPACE","\n                    ",420],["T_VARIABLE","$linkedSku",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$link",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getLinkedProductSku",421],"(",")",";",["T_WHITESPACE","\n                    ",421],["T_IF","if",422],["T_WHITESPACE"," ",422],"(","!",["T_ISSET","isset",422],"(",["T_VARIABLE","$linkedProductIds",422],"[",["T_VARIABLE","$linkedSku",422],"]",")",")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n                        ",422],["T_THROW","throw",423],["T_WHITESPACE"," ",423],["T_NEW","new",423],["T_WHITESPACE"," ",423],["T_STRING","NoSuchEntityException",423],"(",["T_WHITESPACE","\n                            ",423],["T_STRING","__",424],"(",["T_CONSTANT_ENCAPSED_STRING","'Product with SKU \"%1\" does not exist'",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$linkedSku",424],")",["T_WHITESPACE","\n                        ",424],")",";",["T_WHITESPACE","\n                    ",425],"}",["T_WHITESPACE","\n                    ",426],["T_VARIABLE","$linkDataArray",427],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",427],"]",["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$linkedProductIds",427],"[",["T_VARIABLE","$linkedSku",427],"]",";",["T_WHITESPACE","\n                    ",427],["T_VARIABLE","$linksToInitialize",428],"[",["T_VARIABLE","$linkedProductIds",428],"[",["T_VARIABLE","$linkedSku",428],"]","]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$linkDataArray",428],";",["T_WHITESPACE","\n                ",428],"}",["T_WHITESPACE","\n\n                ",429],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","linkInitializer",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","initializeLinks",431],"(",["T_VARIABLE","$product",431],",",["T_WHITESPACE"," ",431],"[",["T_VARIABLE","$type",431],["T_WHITESPACE"," ",431],["T_DOUBLE_ARROW","=>",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$linksToInitialize",431],"]",")",";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n\n        ",433],["T_VARIABLE","$product",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","setProductLinks",435],"(",["T_VARIABLE","$newLinks",435],")",";",["T_WHITESPACE","\n        ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * @param ProductInterface $product\n     * @param array $mediaGalleryEntries\n     * @return $this\n     * @throws InputException\n     * @throws StateException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",439],["T_WHITESPACE","\n    ",446],["T_PROTECTED","protected",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","processMediaGallery",447],"(",["T_STRING","ProductInterface",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$product",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$mediaGalleryEntries",447],")",["T_WHITESPACE","\n    ",447],"{",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$existingMediaGallery",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$product",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getMediaGallery",449],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",449],")",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$newEntries",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],"[","]",";",["T_WHITESPACE","\n        ",450],["T_IF","if",451],["T_WHITESPACE"," ",451],"(","!",["T_EMPTY","empty",451],"(",["T_VARIABLE","$existingMediaGallery",451],")",")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$entriesById",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],"[","]",";",["T_WHITESPACE","\n            ",452],["T_FOREACH","foreach",453],["T_WHITESPACE"," ",453],"(",["T_VARIABLE","$mediaGalleryEntries",453],["T_WHITESPACE"," ",453],["T_AS","as",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$entry",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_ISSET","isset",454],"(",["T_VARIABLE","$entry",454],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",454],"]",")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n                    ",454],["T_VARIABLE","$entry",455],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",455],"]",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$entry",455],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",455],"]",";",["T_WHITESPACE","\n                    ",455],["T_VARIABLE","$entriesById",456],"[",["T_VARIABLE","$entry",456],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",456],"]","]",["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$entry",456],";",["T_WHITESPACE","\n                ",456],"}",["T_WHITESPACE"," ",457],["T_ELSE","else",457],["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n                    ",457],["T_VARIABLE","$newEntries",458],"[","]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$entry",458],";",["T_WHITESPACE","\n                ",458],"}",["T_WHITESPACE","\n            ",459],"}",["T_WHITESPACE","\n            ",460],["T_FOREACH","foreach",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$existingMediaGallery",461],["T_WHITESPACE"," ",461],["T_AS","as",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$key",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],"&",["T_VARIABLE","$existingEntry",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                ",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_ISSET","isset",462],"(",["T_VARIABLE","$entriesById",462],"[",["T_VARIABLE","$existingEntry",462],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",462],"]","]",")",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n                    ",462],["T_VARIABLE","$updatedEntry",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$entriesById",463],"[",["T_VARIABLE","$existingEntry",463],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",463],"]","]",";",["T_WHITESPACE","\n                    ",463],["T_VARIABLE","$existingMediaGallery",464],"[",["T_VARIABLE","$key",464],"]",["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_STRING","array_merge",464],"(",["T_VARIABLE","$existingEntry",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$updatedEntry",464],")",";",["T_WHITESPACE","\n                ",464],"}",["T_WHITESPACE"," ",465],["T_ELSE","else",465],["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n                    ",465],["T_COMMENT","\/\/set the removed flag\n",466],["T_WHITESPACE","                    ",467],["T_VARIABLE","$existingEntry",467],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",467],"]",["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","true",467],";",["T_WHITESPACE","\n                ",467],"}",["T_WHITESPACE","\n            ",468],"}",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$product",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","setData",470],"(",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",470],",",["T_WHITESPACE"," ",470],"[",["T_CONSTANT_ENCAPSED_STRING","\"images\"",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$existingMediaGallery",470],"]",")",";",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE"," ",471],["T_ELSE","else",471],["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$newEntries",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$mediaGalleryEntries",472],";",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n\n        ",473],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getMediaGalleryProcessor",475],"(",")",["T_OBJECT_OPERATOR","->",475],["T_STRING","clearMediaAttribute",475],"(",["T_VARIABLE","$product",475],",",["T_WHITESPACE"," ",475],["T_STRING","array_keys",475],"(",["T_VARIABLE","$product",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getMediaAttributes",475],"(",")",")",")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$images",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$product",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getMediaGallery",476],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",476],")",";",["T_WHITESPACE","\n        ",476],["T_IF","if",477],["T_WHITESPACE"," ",477],"(",["T_VARIABLE","$images",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n            ",477],["T_FOREACH","foreach",478],["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$images",478],["T_WHITESPACE"," ",478],["T_AS","as",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$image",478],")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n                ",478],["T_IF","if",479],["T_WHITESPACE"," ",479],"(","!",["T_ISSET","isset",479],"(",["T_VARIABLE","$image",479],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",479],"]",")",["T_WHITESPACE"," ",479],["T_BOOLEAN_AND","&&",479],["T_WHITESPACE"," ",479],"!",["T_EMPTY","empty",479],"(",["T_VARIABLE","$image",479],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",479],"]",")",")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n                    ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getMediaGalleryProcessor",480],"(",")",["T_OBJECT_OPERATOR","->",480],["T_STRING","setMediaAttribute",480],"(",["T_VARIABLE","$product",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$image",480],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",480],"]",",",["T_WHITESPACE"," ",480],["T_VARIABLE","$image",480],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",480],"]",")",";",["T_WHITESPACE","\n                ",480],"}",["T_WHITESPACE","\n            ",481],"}",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n\n        ",483],["T_FOREACH","foreach",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$newEntries",485],["T_WHITESPACE"," ",485],["T_AS","as",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$newEntry",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(","!",["T_ISSET","isset",486],"(",["T_VARIABLE","$newEntry",486],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",486],"]",")",")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n                ",486],["T_THROW","throw",487],["T_WHITESPACE"," ",487],["T_NEW","new",487],["T_WHITESPACE"," ",487],["T_STRING","InputException",487],"(",["T_STRING","__",487],"(",["T_CONSTANT_ENCAPSED_STRING","'The image content is not valid.'",487],")",")",";",["T_WHITESPACE","\n            ",487],"}",["T_WHITESPACE","\n            ",488],["T_DOC_COMMENT","\/** @var ImageContentInterface $contentDataObject *\/",489],["T_WHITESPACE","\n            ",489],["T_VARIABLE","$contentDataObject",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","contentFactory",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","create",490],"(",")",["T_WHITESPACE","\n                ",490],["T_OBJECT_OPERATOR","->",491],["T_STRING","setName",491],"(",["T_VARIABLE","$newEntry",491],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",491],"]","[",["T_STRING","ImageContentInterface",491],["T_DOUBLE_COLON","::",491],["T_STRING","NAME",491],"]",")",["T_WHITESPACE","\n                ",491],["T_OBJECT_OPERATOR","->",492],["T_STRING","setBase64EncodedData",492],"(",["T_VARIABLE","$newEntry",492],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",492],"]","[",["T_STRING","ImageContentInterface",492],["T_DOUBLE_COLON","::",492],["T_STRING","BASE64_ENCODED_DATA",492],"]",")",["T_WHITESPACE","\n                ",492],["T_OBJECT_OPERATOR","->",493],["T_STRING","setType",493],"(",["T_VARIABLE","$newEntry",493],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",493],"]","[",["T_STRING","ImageContentInterface",493],["T_DOUBLE_COLON","::",493],["T_STRING","TYPE",493],"]",")",";",["T_WHITESPACE","\n            ",493],["T_VARIABLE","$newEntry",494],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",494],"]",["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$contentDataObject",494],";",["T_WHITESPACE","\n            ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","processNewMediaGalleryEntry",495],"(",["T_VARIABLE","$product",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$newEntry",495],")",";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n        ",496],["T_RETURN","return",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",500],["T_WHITESPACE","\n    ",504],["T_PUBLIC","public",505],["T_WHITESPACE"," ",505],["T_FUNCTION","function",505],["T_WHITESPACE"," ",505],["T_STRING","save",505],"(",["T_NS_SEPARATOR","\\",505],["T_STRING","Magento",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Catalog",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Api",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Data",505],["T_NS_SEPARATOR","\\",505],["T_STRING","ProductInterface",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$product",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$saveOptions",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_STRING","false",505],")",["T_WHITESPACE","\n    ",505],"{",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$tierPrices",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$product",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getData",507],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",507],")",";",["T_WHITESPACE","\n\n        ",507],["T_TRY","try",509],["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n            ",509],["T_VARIABLE","$existingProduct",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","get",510],"(",["T_VARIABLE","$product",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getSku",510],"(",")",")",";",["T_WHITESPACE","\n\n            ",510],["T_VARIABLE","$product",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","setData",512],"(",["T_WHITESPACE","\n                ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","resourceModel",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","getLinkField",513],"(",")",",",["T_WHITESPACE","\n                ",513],["T_VARIABLE","$existingProduct",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getData",514],"(",["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","resourceModel",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getLinkField",514],"(",")",")",["T_WHITESPACE","\n            ",514],")",";",["T_WHITESPACE","\n        ",515],"}",["T_WHITESPACE"," ",516],["T_CATCH","catch",516],["T_WHITESPACE"," ",516],"(",["T_STRING","NoSuchEntityException",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$e",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$existingProduct",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","null",517],";",["T_WHITESPACE","\n        ",517],"}",["T_WHITESPACE","\n\n        ",518],["T_VARIABLE","$productDataArray",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","extensibleDataObjectConverter",520],["T_WHITESPACE","\n            ",520],["T_OBJECT_OPERATOR","->",521],["T_STRING","toNestedArray",521],"(",["T_VARIABLE","$product",521],",",["T_WHITESPACE"," ",521],"[","]",",",["T_WHITESPACE"," ",521],["T_NS_SEPARATOR","\\",521],["T_STRING","Magento",521],["T_NS_SEPARATOR","\\",521],["T_STRING","Catalog",521],["T_NS_SEPARATOR","\\",521],["T_STRING","Api",521],["T_NS_SEPARATOR","\\",521],["T_STRING","Data",521],["T_NS_SEPARATOR","\\",521],["T_STRING","ProductInterface",521],["T_DOUBLE_COLON","::",521],["T_CLASS","class",521],")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$productDataArray",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","array_replace",522],"(",["T_VARIABLE","$productDataArray",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$product",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","getData",522],"(",")",")",";",["T_WHITESPACE","\n        ",522],["T_UNSET","unset",523],"(",["T_VARIABLE","$productDataArray",523],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",523],"]",")",";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$ignoreLinksFlag",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$product",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getData",525],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore_links_flag'",525],")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$productLinks",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_STRING","null",526],";",["T_WHITESPACE","\n        ",526],["T_IF","if",527],["T_WHITESPACE"," ",527],"(","!",["T_VARIABLE","$ignoreLinksFlag",527],["T_WHITESPACE"," ",527],["T_BOOLEAN_AND","&&",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$ignoreLinksFlag",527],["T_WHITESPACE"," ",527],["T_IS_NOT_IDENTICAL","!==",527],["T_WHITESPACE"," ",527],["T_STRING","null",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n            ",527],["T_VARIABLE","$productLinks",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$product",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getProductLinks",528],"(",")",";",["T_WHITESPACE","\n        ",528],"}",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$productDataArray",530],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",530],"]",["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_INT_CAST","(int)",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","storeManager",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getStore",530],"(",")",["T_OBJECT_OPERATOR","->",530],["T_STRING","getId",530],"(",")",";",["T_WHITESPACE","\n        ",530],["T_VARIABLE","$product",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","initializeProductData",531],"(",["T_VARIABLE","$productDataArray",531],",",["T_WHITESPACE"," ",531],["T_EMPTY","empty",531],"(",["T_VARIABLE","$existingProduct",531],")",")",";",["T_WHITESPACE","\n\n        ",531],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","processLinks",533],"(",["T_VARIABLE","$product",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$productLinks",533],")",";",["T_WHITESPACE","\n        ",533],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_ISSET","isset",534],"(",["T_VARIABLE","$productDataArray",534],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery_entries'",534],"]",")",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","processMediaGallery",535],"(",["T_VARIABLE","$product",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$productDataArray",535],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery_entries'",535],"]",")",";",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n\n        ",536],["T_IF","if",538],["T_WHITESPACE"," ",538],"(","!",["T_VARIABLE","$product",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getOptionsReadonly",538],"(",")",")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$product",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","setCanSaveCustomOptions",539],"(",["T_STRING","true",539],")",";",["T_WHITESPACE","\n        ",539],"}",["T_WHITESPACE","\n\n        ",540],["T_VARIABLE","$validationResult",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","resourceModel",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","validate",542],"(",["T_VARIABLE","$product",542],")",";",["T_WHITESPACE","\n        ",542],["T_IF","if",543],["T_WHITESPACE"," ",543],"(",["T_STRING","true",543],["T_WHITESPACE"," ",543],["T_IS_NOT_IDENTICAL","!==",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$validationResult",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_THROW","throw",544],["T_WHITESPACE"," ",544],["T_NEW","new",544],["T_WHITESPACE"," ",544],["T_NS_SEPARATOR","\\",544],["T_STRING","Magento",544],["T_NS_SEPARATOR","\\",544],["T_STRING","Framework",544],["T_NS_SEPARATOR","\\",544],["T_STRING","Exception",544],["T_NS_SEPARATOR","\\",544],["T_STRING","CouldNotSaveException",544],"(",["T_WHITESPACE","\n                ",544],["T_STRING","__",545],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid product data: %1'",545],",",["T_WHITESPACE"," ",545],["T_STRING","implode",545],"(",["T_CONSTANT_ENCAPSED_STRING","','",545],",",["T_WHITESPACE"," ",545],["T_VARIABLE","$validationResult",545],")",")",["T_WHITESPACE","\n            ",545],")",";",["T_WHITESPACE","\n        ",546],"}",["T_WHITESPACE","\n\n        ",547],["T_TRY","try",549],["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n            ",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$tierPrices",550],["T_WHITESPACE"," ",550],["T_IS_NOT_IDENTICAL","!==",550],["T_WHITESPACE"," ",550],["T_STRING","null",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n                ",550],["T_VARIABLE","$product",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","setData",551],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$tierPrices",551],")",";",["T_WHITESPACE","\n            ",551],"}",["T_WHITESPACE","\n            ",552],["T_UNSET","unset",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","instances",553],"[",["T_VARIABLE","$product",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getSku",553],"(",")","]",")",";",["T_WHITESPACE","\n            ",553],["T_UNSET","unset",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","instancesById",554],"[",["T_VARIABLE","$product",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","getId",554],"(",")","]",")",";",["T_WHITESPACE","\n            ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","resourceModel",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","save",555],"(",["T_VARIABLE","$product",555],")",";",["T_WHITESPACE","\n        ",555],"}",["T_WHITESPACE"," ",556],["T_CATCH","catch",556],["T_WHITESPACE"," ",556],"(",["T_STRING","ConnectionException",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$exception",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n            ",556],["T_THROW","throw",557],["T_WHITESPACE"," ",557],["T_NEW","new",557],["T_WHITESPACE"," ",557],["T_NS_SEPARATOR","\\",557],["T_STRING","Magento",557],["T_NS_SEPARATOR","\\",557],["T_STRING","Framework",557],["T_NS_SEPARATOR","\\",557],["T_STRING","Exception",557],["T_NS_SEPARATOR","\\",557],["T_STRING","TemporaryState",557],["T_NS_SEPARATOR","\\",557],["T_STRING","CouldNotSaveException",557],"(",["T_WHITESPACE","\n                ",557],["T_STRING","__",558],"(",["T_CONSTANT_ENCAPSED_STRING","'Database connection error'",558],")",",",["T_WHITESPACE","\n                ",558],["T_VARIABLE","$exception",559],",",["T_WHITESPACE","\n                ",559],["T_VARIABLE","$exception",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getCode",560],"(",")",["T_WHITESPACE","\n            ",560],")",";",["T_WHITESPACE","\n        ",561],"}",["T_WHITESPACE"," ",562],["T_CATCH","catch",562],["T_WHITESPACE"," ",562],"(",["T_STRING","DeadlockException",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$exception",562],")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n            ",562],["T_THROW","throw",563],["T_WHITESPACE"," ",563],["T_NEW","new",563],["T_WHITESPACE"," ",563],["T_NS_SEPARATOR","\\",563],["T_STRING","Magento",563],["T_NS_SEPARATOR","\\",563],["T_STRING","Framework",563],["T_NS_SEPARATOR","\\",563],["T_STRING","Exception",563],["T_NS_SEPARATOR","\\",563],["T_STRING","TemporaryState",563],["T_NS_SEPARATOR","\\",563],["T_STRING","CouldNotSaveException",563],"(",["T_WHITESPACE","\n                ",563],["T_STRING","__",564],"(",["T_CONSTANT_ENCAPSED_STRING","'Database deadlock found when trying to get lock'",564],")",",",["T_WHITESPACE","\n                ",564],["T_VARIABLE","$exception",565],",",["T_WHITESPACE","\n                ",565],["T_VARIABLE","$exception",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getCode",566],"(",")",["T_WHITESPACE","\n            ",566],")",";",["T_WHITESPACE","\n        ",567],"}",["T_WHITESPACE"," ",568],["T_CATCH","catch",568],["T_WHITESPACE"," ",568],"(",["T_STRING","LockWaitException",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$exception",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_THROW","throw",569],["T_WHITESPACE"," ",569],["T_NEW","new",569],["T_WHITESPACE"," ",569],["T_NS_SEPARATOR","\\",569],["T_STRING","Magento",569],["T_NS_SEPARATOR","\\",569],["T_STRING","Framework",569],["T_NS_SEPARATOR","\\",569],["T_STRING","Exception",569],["T_NS_SEPARATOR","\\",569],["T_STRING","TemporaryState",569],["T_NS_SEPARATOR","\\",569],["T_STRING","CouldNotSaveException",569],"(",["T_WHITESPACE","\n                ",569],["T_STRING","__",570],"(",["T_CONSTANT_ENCAPSED_STRING","'Database lock wait timeout exceeded'",570],")",",",["T_WHITESPACE","\n                ",570],["T_VARIABLE","$exception",571],",",["T_WHITESPACE","\n                ",571],["T_VARIABLE","$exception",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","getCode",572],"(",")",["T_WHITESPACE","\n            ",572],")",";",["T_WHITESPACE","\n        ",573],"}",["T_WHITESPACE"," ",574],["T_CATCH","catch",574],["T_WHITESPACE"," ",574],"(",["T_NS_SEPARATOR","\\",574],["T_STRING","Magento",574],["T_NS_SEPARATOR","\\",574],["T_STRING","Eav",574],["T_NS_SEPARATOR","\\",574],["T_STRING","Model",574],["T_NS_SEPARATOR","\\",574],["T_STRING","Entity",574],["T_NS_SEPARATOR","\\",574],["T_STRING","Attribute",574],["T_NS_SEPARATOR","\\",574],["T_STRING","Exception",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$exception",574],")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n            ",574],["T_THROW","throw",575],["T_WHITESPACE"," ",575],["T_NS_SEPARATOR","\\",575],["T_STRING","Magento",575],["T_NS_SEPARATOR","\\",575],["T_STRING","Framework",575],["T_NS_SEPARATOR","\\",575],["T_STRING","Exception",575],["T_NS_SEPARATOR","\\",575],["T_STRING","InputException",575],["T_DOUBLE_COLON","::",575],["T_STRING","invalidFieldValue",575],"(",["T_WHITESPACE","\n                ",575],["T_VARIABLE","$exception",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getAttributeCode",576],"(",")",",",["T_WHITESPACE","\n                ",576],["T_VARIABLE","$product",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getData",577],"(",["T_VARIABLE","$exception",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getAttributeCode",577],"(",")",")",",",["T_WHITESPACE","\n                ",577],["T_VARIABLE","$exception",578],["T_WHITESPACE","\n            ",578],")",";",["T_WHITESPACE","\n        ",579],"}",["T_WHITESPACE"," ",580],["T_CATCH","catch",580],["T_WHITESPACE"," ",580],"(",["T_STRING","ValidatorException",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$e",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n            ",580],["T_THROW","throw",581],["T_WHITESPACE"," ",581],["T_NEW","new",581],["T_WHITESPACE"," ",581],["T_STRING","CouldNotSaveException",581],"(",["T_STRING","__",581],"(",["T_VARIABLE","$e",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getMessage",581],"(",")",")",")",";",["T_WHITESPACE","\n        ",581],"}",["T_WHITESPACE"," ",582],["T_CATCH","catch",582],["T_WHITESPACE"," ",582],"(",["T_STRING","LocalizedException",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$e",582],")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n            ",582],["T_THROW","throw",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$e",583],";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE"," ",584],["T_CATCH","catch",584],["T_WHITESPACE"," ",584],"(",["T_NS_SEPARATOR","\\",584],["T_STRING","Exception",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$e",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n            ",584],["T_THROW","throw",585],["T_WHITESPACE"," ",585],["T_NEW","new",585],["T_WHITESPACE"," ",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Magento",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Framework",585],["T_NS_SEPARATOR","\\",585],["T_STRING","Exception",585],["T_NS_SEPARATOR","\\",585],["T_STRING","CouldNotSaveException",585],"(",["T_STRING","__",585],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to save product'",585],")",")",";",["T_WHITESPACE","\n        ",585],"}",["T_WHITESPACE","\n        ",586],["T_UNSET","unset",587],"(",["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","instances",587],"[",["T_VARIABLE","$product",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getSku",587],"(",")","]",")",";",["T_WHITESPACE","\n        ",587],["T_UNSET","unset",588],"(",["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","instancesById",588],"[",["T_VARIABLE","$product",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getId",588],"(",")","]",")",";",["T_WHITESPACE","\n        ",588],["T_RETURN","return",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","get",589],"(",["T_VARIABLE","$product",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","getSku",589],"(",")",")",";",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n\n    ",590],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",592],["T_WHITESPACE","\n    ",594],["T_PUBLIC","public",595],["T_WHITESPACE"," ",595],["T_FUNCTION","function",595],["T_WHITESPACE"," ",595],["T_STRING","delete",595],"(",["T_NS_SEPARATOR","\\",595],["T_STRING","Magento",595],["T_NS_SEPARATOR","\\",595],["T_STRING","Catalog",595],["T_NS_SEPARATOR","\\",595],["T_STRING","Api",595],["T_NS_SEPARATOR","\\",595],["T_STRING","Data",595],["T_NS_SEPARATOR","\\",595],["T_STRING","ProductInterface",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$product",595],")",["T_WHITESPACE","\n    ",595],"{",["T_WHITESPACE","\n        ",596],["T_VARIABLE","$sku",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$product",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","getSku",597],"(",")",";",["T_WHITESPACE","\n        ",597],["T_VARIABLE","$productId",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$product",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getId",598],"(",")",";",["T_WHITESPACE","\n        ",598],["T_TRY","try",599],["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n            ",599],["T_UNSET","unset",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","instances",600],"[",["T_VARIABLE","$product",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","getSku",600],"(",")","]",")",";",["T_WHITESPACE","\n            ",600],["T_UNSET","unset",601],"(",["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","instancesById",601],"[",["T_VARIABLE","$product",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","getId",601],"(",")","]",")",";",["T_WHITESPACE","\n            ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","resourceModel",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","delete",602],"(",["T_VARIABLE","$product",602],")",";",["T_WHITESPACE","\n        ",602],"}",["T_WHITESPACE"," ",603],["T_CATCH","catch",603],["T_WHITESPACE"," ",603],"(",["T_STRING","ValidatorException",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$e",603],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_THROW","throw",604],["T_WHITESPACE"," ",604],["T_NEW","new",604],["T_WHITESPACE"," ",604],["T_STRING","CouldNotSaveException",604],"(",["T_STRING","__",604],"(",["T_VARIABLE","$e",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getMessage",604],"(",")",")",")",";",["T_WHITESPACE","\n        ",604],"}",["T_WHITESPACE"," ",605],["T_CATCH","catch",605],["T_WHITESPACE"," ",605],"(",["T_NS_SEPARATOR","\\",605],["T_STRING","Exception",605],["T_WHITESPACE"," ",605],["T_VARIABLE","$e",605],")",["T_WHITESPACE"," ",605],"{",["T_WHITESPACE","\n            ",605],["T_THROW","throw",606],["T_WHITESPACE"," ",606],["T_NEW","new",606],["T_WHITESPACE"," ",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Magento",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Framework",606],["T_NS_SEPARATOR","\\",606],["T_STRING","Exception",606],["T_NS_SEPARATOR","\\",606],["T_STRING","StateException",606],"(",["T_WHITESPACE","\n                ",606],["T_STRING","__",607],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to remove product %1'",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$sku",607],")",["T_WHITESPACE","\n            ",607],")",";",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE","\n        ",609],["T_UNSET","unset",610],"(",["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","instances",610],"[",["T_VARIABLE","$sku",610],"]",")",";",["T_WHITESPACE","\n        ",610],["T_UNSET","unset",611],"(",["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","instancesById",611],"[",["T_VARIABLE","$productId",611],"]",")",";",["T_WHITESPACE","\n        ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_STRING","true",612],";",["T_WHITESPACE","\n    ",612],"}",["T_WHITESPACE","\n\n    ",613],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",615],["T_WHITESPACE","\n    ",617],["T_PUBLIC","public",618],["T_WHITESPACE"," ",618],["T_FUNCTION","function",618],["T_WHITESPACE"," ",618],["T_STRING","deleteById",618],"(",["T_VARIABLE","$sku",618],")",["T_WHITESPACE","\n    ",618],"{",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$product",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","get",620],"(",["T_VARIABLE","$sku",620],")",";",["T_WHITESPACE","\n        ",620],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","delete",621],"(",["T_VARIABLE","$product",621],")",";",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n    ",622],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",624],["T_WHITESPACE","\n    ",626],["T_PUBLIC","public",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","getList",627],"(",["T_NS_SEPARATOR","\\",627],["T_STRING","Magento",627],["T_NS_SEPARATOR","\\",627],["T_STRING","Framework",627],["T_NS_SEPARATOR","\\",627],["T_STRING","Api",627],["T_NS_SEPARATOR","\\",627],["T_STRING","SearchCriteriaInterface",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$searchCriteria",627],")",["T_WHITESPACE","\n    ",627],"{",["T_WHITESPACE","\n        ",628],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $collection *\/",629],["T_WHITESPACE","\n        ",629],["T_VARIABLE","$collection",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","collectionFactory",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","create",630],"(",")",";",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","extensionAttributesJoinProcessor",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","process",631],"(",["T_VARIABLE","$collection",631],")",";",["T_WHITESPACE","\n\n        ",631],["T_FOREACH","foreach",633],["T_WHITESPACE"," ",633],"(",["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","metadataService",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getList",633],"(",["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","searchCriteriaBuilder",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","create",633],"(",")",")",["T_OBJECT_OPERATOR","->",633],["T_STRING","getItems",633],"(",")",["T_WHITESPACE"," ",633],["T_AS","as",633],["T_WHITESPACE"," ",633],["T_VARIABLE","$metadata",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$collection",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","addAttributeToSelect",634],"(",["T_VARIABLE","$metadata",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getAttributeCode",634],"(",")",")",";",["T_WHITESPACE","\n        ",634],"}",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$collection",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","joinAttribute",636],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",636],",",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'catalog_product\/status'",636],",",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",636],",",["T_WHITESPACE"," ",636],["T_STRING","null",636],",",["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'inner'",636],")",";",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$collection",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","joinAttribute",637],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility'",637],",",["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'catalog_product\/visibility'",637],",",["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",637],",",["T_WHITESPACE"," ",637],["T_STRING","null",637],",",["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'inner'",637],")",";",["T_WHITESPACE","\n\n        ",637],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","collectionProcessor",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","process",639],"(",["T_VARIABLE","$searchCriteria",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$collection",639],")",";",["T_WHITESPACE","\n\n        ",639],["T_VARIABLE","$collection",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","load",641],"(",")",";",["T_WHITESPACE","\n\n        ",641],["T_VARIABLE","$collection",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","addCategoryIds",643],"(",")",";",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$searchResult",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","searchResultsFactory",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","create",644],"(",")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$searchResult",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","setSearchCriteria",645],"(",["T_VARIABLE","$searchCriteria",645],")",";",["T_WHITESPACE","\n        ",645],["T_VARIABLE","$searchResult",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","setItems",646],"(",["T_VARIABLE","$collection",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getItems",646],"(",")",")",";",["T_WHITESPACE","\n        ",646],["T_VARIABLE","$searchResult",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","setTotalCount",647],"(",["T_VARIABLE","$collection",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","getSize",647],"(",")",")",";",["T_WHITESPACE","\n        ",647],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$searchResult",648],";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * Helper function that adds a FilterGroup to the collection.\n     *\n     * @deprecated\n     * @param \\Magento\\Framework\\Api\\Search\\FilterGroup $filterGroup\n     * @param Collection $collection\n     * @return void\n     *\/",651],["T_WHITESPACE","\n    ",658],["T_PROTECTED","protected",659],["T_WHITESPACE"," ",659],["T_FUNCTION","function",659],["T_WHITESPACE"," ",659],["T_STRING","addFilterGroupToCollection",659],"(",["T_WHITESPACE","\n        ",659],["T_NS_SEPARATOR","\\",660],["T_STRING","Magento",660],["T_NS_SEPARATOR","\\",660],["T_STRING","Framework",660],["T_NS_SEPARATOR","\\",660],["T_STRING","Api",660],["T_NS_SEPARATOR","\\",660],["T_STRING","Search",660],["T_NS_SEPARATOR","\\",660],["T_STRING","FilterGroup",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$filterGroup",660],",",["T_WHITESPACE","\n        ",660],["T_STRING","Collection",661],["T_WHITESPACE"," ",661],["T_VARIABLE","$collection",661],["T_WHITESPACE","\n    ",661],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n        ",662],["T_VARIABLE","$fields",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],"[","]",";",["T_WHITESPACE","\n        ",663],["T_VARIABLE","$categoryFilter",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],"[","]",";",["T_WHITESPACE","\n        ",664],["T_FOREACH","foreach",665],["T_WHITESPACE"," ",665],"(",["T_VARIABLE","$filterGroup",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getFilters",665],"(",")",["T_WHITESPACE"," ",665],["T_AS","as",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$filter",665],")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n            ",665],["T_VARIABLE","$conditionType",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$filter",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getConditionType",666],"(",")",["T_WHITESPACE"," ",666],"?",["T_WHITESPACE"," ",666],["T_VARIABLE","$filter",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getConditionType",666],"(",")",["T_WHITESPACE"," ",666],":",["T_WHITESPACE"," ",666],["T_CONSTANT_ENCAPSED_STRING","'eq'",666],";",["T_WHITESPACE","\n\n            ",666],["T_IF","if",668],["T_WHITESPACE"," ",668],"(",["T_VARIABLE","$filter",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","getField",668],"(",")",["T_WHITESPACE"," ",668],["T_IS_EQUAL","==",668],["T_WHITESPACE"," ",668],["T_CONSTANT_ENCAPSED_STRING","'category_id'",668],")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n                ",668],["T_VARIABLE","$categoryFilter",669],"[",["T_VARIABLE","$conditionType",669],"]","[","]",["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$filter",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getValue",669],"(",")",";",["T_WHITESPACE","\n                ",669],["T_CONTINUE","continue",670],";",["T_WHITESPACE","\n            ",670],"}",["T_WHITESPACE","\n            ",671],["T_VARIABLE","$fields",672],"[","]",["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$filter",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","getField",672],"(",")",",",["T_WHITESPACE"," ",672],["T_VARIABLE","$conditionType",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$filter",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","getValue",672],"(",")","]",";",["T_WHITESPACE","\n        ",672],"}",["T_WHITESPACE","\n\n        ",673],["T_IF","if",675],["T_WHITESPACE"," ",675],"(",["T_VARIABLE","$categoryFilter",675],")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n            ",675],["T_VARIABLE","$collection",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","addCategoriesFilter",676],"(",["T_VARIABLE","$categoryFilter",676],")",";",["T_WHITESPACE","\n        ",676],"}",["T_WHITESPACE","\n\n        ",677],["T_IF","if",679],["T_WHITESPACE"," ",679],"(",["T_VARIABLE","$fields",679],")",["T_WHITESPACE"," ",679],"{",["T_WHITESPACE","\n            ",679],["T_VARIABLE","$collection",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","addFieldToFilter",680],"(",["T_VARIABLE","$fields",680],")",";",["T_WHITESPACE","\n        ",680],"}",["T_WHITESPACE","\n    ",681],"}",["T_WHITESPACE","\n\n    ",682],["T_DOC_COMMENT","\/**\n     * Clean internal product cache\n     *\n     * @return void\n     *\/",684],["T_WHITESPACE","\n    ",688],["T_PUBLIC","public",689],["T_WHITESPACE"," ",689],["T_FUNCTION","function",689],["T_WHITESPACE"," ",689],["T_STRING","cleanCache",689],"(",")",["T_WHITESPACE","\n    ",689],"{",["T_WHITESPACE","\n        ",690],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","instances",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","null",691],";",["T_WHITESPACE","\n        ",691],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","instancesById",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_STRING","null",692],";",["T_WHITESPACE","\n    ",692],"}",["T_WHITESPACE","\n\n    ",693],["T_DOC_COMMENT","\/**\n     * @return Product\\Gallery\\Processor\n     *\/",695],["T_WHITESPACE","\n    ",697],["T_PRIVATE","private",698],["T_WHITESPACE"," ",698],["T_FUNCTION","function",698],["T_WHITESPACE"," ",698],["T_STRING","getMediaGalleryProcessor",698],"(",")",["T_WHITESPACE","\n    ",698],"{",["T_WHITESPACE","\n        ",699],["T_IF","if",700],["T_WHITESPACE"," ",700],"(",["T_STRING","null",700],["T_WHITESPACE"," ",700],["T_IS_IDENTICAL","===",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","mediaGalleryProcessor",700],")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n            ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","mediaGalleryProcessor",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_NS_SEPARATOR","\\",701],["T_STRING","Magento",701],["T_NS_SEPARATOR","\\",701],["T_STRING","Framework",701],["T_NS_SEPARATOR","\\",701],["T_STRING","App",701],["T_NS_SEPARATOR","\\",701],["T_STRING","ObjectManager",701],["T_DOUBLE_COLON","::",701],["T_STRING","getInstance",701],"(",")",["T_WHITESPACE","\n                ",701],["T_OBJECT_OPERATOR","->",702],["T_STRING","get",702],"(",["T_NS_SEPARATOR","\\",702],["T_STRING","Magento",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Catalog",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Model",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Product",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Gallery",702],["T_NS_SEPARATOR","\\",702],["T_STRING","Processor",702],["T_DOUBLE_COLON","::",702],["T_CLASS","class",702],")",";",["T_WHITESPACE","\n        ",702],"}",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","mediaGalleryProcessor",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Retrieve collection processor\n     *\n     * @deprecated\n     * @return CollectionProcessorInterface\n     *\/",707],["T_WHITESPACE","\n    ",712],["T_PRIVATE","private",713],["T_WHITESPACE"," ",713],["T_FUNCTION","function",713],["T_WHITESPACE"," ",713],["T_STRING","getCollectionProcessor",713],"(",")",["T_WHITESPACE","\n    ",713],"{",["T_WHITESPACE","\n        ",714],["T_IF","if",715],["T_WHITESPACE"," ",715],"(","!",["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","collectionProcessor",715],")",["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n            ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","collectionProcessor",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_NS_SEPARATOR","\\",716],["T_STRING","Magento",716],["T_NS_SEPARATOR","\\",716],["T_STRING","Framework",716],["T_NS_SEPARATOR","\\",716],["T_STRING","App",716],["T_NS_SEPARATOR","\\",716],["T_STRING","ObjectManager",716],["T_DOUBLE_COLON","::",716],["T_STRING","getInstance",716],"(",")",["T_OBJECT_OPERATOR","->",716],["T_STRING","get",716],"(",["T_WHITESPACE","\n                ",716],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Catalog\\Model\\Api\\SearchCriteria\\ProductCollectionProcessor'",717],["T_WHITESPACE","\n            ",717],")",";",["T_WHITESPACE","\n        ",718],"}",["T_WHITESPACE","\n        ",719],["T_RETURN","return",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","collectionProcessor",720],";",["T_WHITESPACE","\n    ",720],"}",["T_WHITESPACE","\n",721],"}",["T_WHITESPACE","\n",722]]