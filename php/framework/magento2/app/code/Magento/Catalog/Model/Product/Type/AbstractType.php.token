[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Type",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DirectoryList",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LocalizedException",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @api\n * Abstract model for product type implementation\n * @SuppressWarnings(PHPMD.ExcessivePublicCount)\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",19],["T_ABSTRACT","abstract",20],["T_WHITESPACE"," ",20],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","AbstractType",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Product type instance id\n     *\n     * @var string\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_typeId",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_editableAttributes",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Is a composite product type\n     *\n     * @var bool\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_isComposite",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","false",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * If product can be configured\n     *\n     * @var bool\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_canConfigure",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","false",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Whether product quantity is fractional number or not\n     *\n     * @var bool\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_canUseQtyDecimals",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","true",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * File queue array\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_fileQueue",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"[","]",";",["T_WHITESPACE","\n\n    ",60],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","CALCULATE_CHILD",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],";",["T_WHITESPACE","\n\n    ",62],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","CALCULATE_PARENT",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","1",64],";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/**#@+\n     * values for shipment type (invoice etc)\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","SHIPMENT_SEPARATELY",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],";",["T_WHITESPACE","\n\n    ",69],["T_CONST","const",71],["T_WHITESPACE"," ",71],["T_STRING","SHIPMENT_TOGETHER",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],";",["T_WHITESPACE","\n    ",71],["T_COMMENT","\/**#@-*\/",72],["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Process modes\n     *\n     * Full validation - all required options must be set, whole configuration\n     * must be valid\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_CONST","const",80],["T_WHITESPACE"," ",80],["T_STRING","PROCESS_MODE_FULL",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'full'",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Process modes\n     *\n     * Lite validation - only received options are validated\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_CONST","const",87],["T_WHITESPACE"," ",87],["T_STRING","PROCESS_MODE_LITE",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'lite'",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Item options prefix\n     *\/",89],["T_WHITESPACE","\n    ",91],["T_CONST","const",92],["T_WHITESPACE"," ",92],["T_STRING","OPTION_PREFIX",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'option_'",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\n     *\/",94],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_filesystem",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_fileStorageDb",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Cache key for Product Attributes\n     *\n     * @var string\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_cacheProductSetAttributes",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_product_set_attributes'",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Delete data specific for this product type\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     *\/",111],["T_WHITESPACE","\n    ",116],["T_ABSTRACT","abstract",117],["T_WHITESPACE"," ",117],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","deleteTypeSpecificData",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Catalog",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Product",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$product",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$_coreRegistry",124],";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Core event manager proxy\n     *\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$_eventManager",131],";",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",133],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_logger",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Catalog product type\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\Type\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_catalogProductType",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Eav config\n     *\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_eavConfig",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Catalog product option\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\Option\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_catalogProductOption",157],";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",159],["T_WHITESPACE","\n    ",161],["T_PROTECTED","protected",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$productRepository",162],";",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Serializer interface instance.\n     *\n     * @var \\Magento\\Framework\\Serialize\\Serializer\\Json\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$serializer",169],";",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param \\Magento\\Catalog\\Model\\Product\\Option $catalogProductOption\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\Type $catalogProductType\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database $fileStorageDb\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Framework\\Serialize\\Serializer\\Json|null $serializer\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",171],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","__construct",186],"(",["T_WHITESPACE","\n        ",186],["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Catalog",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Model",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Product",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Option",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$catalogProductOption",187],",",["T_WHITESPACE","\n        ",187],["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Eav",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Config",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$eavConfig",188],",",["T_WHITESPACE","\n        ",188],["T_NS_SEPARATOR","\\",189],["T_STRING","Magento",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Catalog",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Model",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Product",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Type",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$catalogProductType",189],",",["T_WHITESPACE","\n        ",189],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Framework",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Event",190],["T_NS_SEPARATOR","\\",190],["T_STRING","ManagerInterface",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$eventManager",190],",",["T_WHITESPACE","\n        ",190],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","MediaStorage",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Helper",191],["T_NS_SEPARATOR","\\",191],["T_STRING","File",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Storage",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Database",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$fileStorageDb",191],",",["T_WHITESPACE","\n        ",191],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Filesystem",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$filesystem",192],",",["T_WHITESPACE","\n        ",192],["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Framework",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Registry",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$coreRegistry",193],",",["T_WHITESPACE","\n        ",193],["T_NS_SEPARATOR","\\",194],["T_STRING","Psr",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Log",194],["T_NS_SEPARATOR","\\",194],["T_STRING","LoggerInterface",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$logger",194],",",["T_WHITESPACE","\n        ",194],["T_STRING","ProductRepositoryInterface",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$productRepository",195],",",["T_WHITESPACE","\n        ",195],["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Framework",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Serialize",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Serializer",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Json",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$serializer",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","null",196],["T_WHITESPACE","\n    ",196],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_catalogProductOption",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$catalogProductOption",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_eavConfig",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$eavConfig",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_catalogProductType",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$catalogProductType",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_coreRegistry",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$coreRegistry",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_eventManager",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$eventManager",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_fileStorageDb",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$fileStorageDb",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_filesystem",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$filesystem",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_logger",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$logger",205],";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","productRepository",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$productRepository",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","serializer",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$serializer",207],["T_WHITESPACE"," ",207],"?",":",["T_WHITESPACE"," ",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","App",207],["T_NS_SEPARATOR","\\",207],["T_STRING","ObjectManager",207],["T_DOUBLE_COLON","::",207],["T_STRING","getInstance",207],"(",")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","get",208],"(",["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Framework",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Serialize",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Serializer",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Json",208],["T_DOUBLE_COLON","::",208],["T_CLASS","class",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Specify type identifier\n     *\n     * @param   string $typeId\n     * @return  \\Magento\\Catalog\\Model\\Product\\Type\\AbstractType\n     *\/",211],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","setTypeId",217],"(",["T_VARIABLE","$typeId",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_typeId",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$typeId",219],";",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Return relation info about used products for specific type instance\n     *\n     * @return \\Magento\\Framework\\DataObject Object with information data\n     *\/",223],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getRelationInfo",228],"(",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_NEW","new",230],["T_WHITESPACE"," ",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Magento",230],["T_NS_SEPARATOR","\\",230],["T_STRING","Framework",230],["T_NS_SEPARATOR","\\",230],["T_STRING","DataObject",230],"(",")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Retrieve Required children ids\n     * Return grouped array, ex array(\n     *   group => array(ids)\n     * )\n     *\n     * @deplacated TODO: refactor to child relation manager\n     *\n     * @param int $parentId\n     * @param bool $required\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",233],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","getChildrenIds",246],"(",["T_VARIABLE","$parentId",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$required",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","true",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],"[","]",";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Retrieve parent ids array by requered child\n     *\n     * @param int|array $childId\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",251],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","getParentIdsByChild",258],"(",["T_VARIABLE","$childId",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],"[","]",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Get array of product set attributes\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute[]\n     *\/",263],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getSetAttributes",269],"(",["T_VARIABLE","$product",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(","!",["T_VARIABLE","$product",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","hasData",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_cacheProductSetAttributes",271],")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$setAttributes",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$product",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getResource",272],"(",")",["T_WHITESPACE","\n                ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","loadAllAttributes",273],"(",["T_VARIABLE","$product",273],")",["T_WHITESPACE","\n                ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","getSortedAttributes",274],"(",["T_VARIABLE","$product",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getAttributeSetId",274],"(",")",")",";",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$product",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","setData",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_cacheProductSetAttributes",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$setAttributes",275],")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$product",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getData",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_cacheProductSetAttributes",277],")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Compare attributes sorting\n     *\n     * @param \\Magento\\Catalog\\Model\\Entity\\Attribute $attributeOne\n     * @param \\Magento\\Catalog\\Model\\Entity\\Attribute $attributeTwo\n     * @return int\n     *\/",280],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","attributesCompare",287],"(",["T_VARIABLE","$attributeOne",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$attributeTwo",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$sortOne",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$attributeOne",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getGroupSortPath",289],"(",")",["T_WHITESPACE"," ",289],"*",["T_WHITESPACE"," ",289],["T_LNUMBER","1000",289],["T_WHITESPACE"," ",289],"+",["T_WHITESPACE"," ",289],["T_VARIABLE","$attributeOne",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getSortPath",289],"(",")",["T_WHITESPACE"," ",289],"*",["T_WHITESPACE"," ",289],["T_DNUMBER","0.0001",289],";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$sortTwo",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$attributeTwo",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getGroupSortPath",290],"(",")",["T_WHITESPACE"," ",290],"*",["T_WHITESPACE"," ",290],["T_LNUMBER","1000",290],["T_WHITESPACE"," ",290],"+",["T_WHITESPACE"," ",290],["T_VARIABLE","$attributeTwo",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getSortPath",290],"(",")",["T_WHITESPACE"," ",290],"*",["T_WHITESPACE"," ",290],["T_DNUMBER","0.0001",290],";",["T_WHITESPACE","\n\n        ",290],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$sortOne",292],["T_WHITESPACE"," ",292],">",["T_WHITESPACE"," ",292],["T_VARIABLE","$sortTwo",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_LNUMBER","1",293],";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE"," ",294],["T_ELSEIF","elseif",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$sortOne",294],["T_WHITESPACE"," ",294],"<",["T_WHITESPACE"," ",294],["T_VARIABLE","$sortTwo",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],"-",["T_LNUMBER","1",295],";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Retrieve product type attributes\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return \\Magento\\Eav\\Model\\Entity\\Attribute\\AbstractAttribute[]\n     *\/",301],["T_WHITESPACE","\n    ",306],["T_PUBLIC","public",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","getEditableAttributes",307],"(",["T_VARIABLE","$product",307],")",["T_WHITESPACE","\n    ",307],"{",["T_WHITESPACE","\n        ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getSetAttributes",309],"(",["T_VARIABLE","$product",309],")",";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Retrieve product attribute by identifier\n     *\n     * @param  int $attributeId\n     * @param  \\Magento\\Catalog\\Model\\Product $product\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute|null\n     *\/",312],["T_WHITESPACE","\n    ",318],["T_PUBLIC","public",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","getAttributeById",319],"(",["T_VARIABLE","$attributeId",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$product",319],")",["T_WHITESPACE","\n    ",319],"{",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$attributeId",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_FOREACH","foreach",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getSetAttributes",322],"(",["T_VARIABLE","$product",322],")",["T_WHITESPACE"," ",322],["T_AS","as",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$attribute",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$attribute",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getId",323],"(",")",["T_WHITESPACE"," ",323],["T_IS_EQUAL","==",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$attributeId",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                    ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$attribute",324],";",["T_WHITESPACE","\n                ",324],"}",["T_WHITESPACE","\n            ",325],"}",["T_WHITESPACE","\n        ",326],"}",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_STRING","null",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Check is virtual product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",331],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","isVirtual",338],"(",["T_VARIABLE","$product",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","false",340],";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Check is product available for sale\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     *\/",343],["T_WHITESPACE","\n    ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","isSalable",349],"(",["T_VARIABLE","$product",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$salable",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$product",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getStatus",351],"(",")",["T_WHITESPACE"," ",351],["T_IS_EQUAL","==",351],["T_WHITESPACE"," ",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Magento",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Catalog",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Model",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Product",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Attribute",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Source",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Status",351],["T_DOUBLE_COLON","::",351],["T_STRING","STATUS_ENABLED",351],";",["T_WHITESPACE","\n        ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$salable",352],["T_WHITESPACE"," ",352],["T_BOOLEAN_AND","&&",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$product",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","hasData",352],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",352],")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$salable",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$product",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getData",353],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",353],")",";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_BOOL_CAST","(bool)",356],["T_INT_CAST","(int)",356],["T_VARIABLE","$salable",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Prepare product and its configuration to be added to some products list.\n     * Perform standard preparation process and then prepare options belonging to specific product type.\n     *\n     * @param  \\Magento\\Framework\\DataObject $buyRequest\n     * @param  \\Magento\\Catalog\\Model\\Product $product\n     * @param  string $processMode\n     * @return array|string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",359],["T_WHITESPACE","\n    ",368],["T_PROTECTED","protected",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","_prepareProduct",369],"(",["T_NS_SEPARATOR","\\",369],["T_STRING","Magento",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Framework",369],["T_NS_SEPARATOR","\\",369],["T_STRING","DataObject",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$buyRequest",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$product",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$processMode",369],")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_COMMENT","\/\/ try to add custom options\n",371],["T_WHITESPACE","        ",372],["T_TRY","try",372],["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$options",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_prepareOptions",373],"(",["T_VARIABLE","$buyRequest",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$product",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$processMode",373],")",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE"," ",374],["T_CATCH","catch",374],["T_WHITESPACE"," ",374],"(",["T_NS_SEPARATOR","\\",374],["T_STRING","Magento",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Framework",374],["T_NS_SEPARATOR","\\",374],["T_STRING","Exception",374],["T_NS_SEPARATOR","\\",374],["T_STRING","LocalizedException",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$e",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$e",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getMessage",375],"(",")",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n\n        ",376],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_STRING","is_string",378],"(",["T_VARIABLE","$options",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$options",379],";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n        ",380],["T_COMMENT","\/\/ try to found super product configuration\n",381],["T_WHITESPACE","        ",382],["T_VARIABLE","$superProductConfig",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$buyRequest",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getSuperProductConfig",382],"(",")",";",["T_WHITESPACE","\n        ",382],["T_IF","if",383],["T_WHITESPACE"," ",383],"(","!",["T_EMPTY","empty",383],"(",["T_VARIABLE","$superProductConfig",383],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",383],"]",")",["T_WHITESPACE"," ",383],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE"," ",383],"!",["T_EMPTY","empty",383],"(",["T_VARIABLE","$superProductConfig",383],"[",["T_CONSTANT_ENCAPSED_STRING","'product_type'",383],"]",")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$superProductId",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_INT_CAST","(int)",384],["T_VARIABLE","$superProductConfig",384],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",384],"]",";",["T_WHITESPACE","\n            ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$superProductId",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $superProduct *\/",386],["T_WHITESPACE","\n                ",386],["T_VARIABLE","$superProduct",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_coreRegistry",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","registry",387],"(",["T_CONSTANT_ENCAPSED_STRING","'used_super_product_'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$superProductId",387],")",";",["T_WHITESPACE","\n                ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!",["T_VARIABLE","$superProduct",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                    ",388],["T_VARIABLE","$superProduct",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","productRepository",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getById",389],"(",["T_VARIABLE","$superProductId",389],")",";",["T_WHITESPACE","\n                    ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_coreRegistry",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","register",390],"(",["T_CONSTANT_ENCAPSED_STRING","'used_super_product_'",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$superProductId",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$superProduct",390],")",";",["T_WHITESPACE","\n                ",390],"}",["T_WHITESPACE","\n                ",391],["T_VARIABLE","$assocProductIds",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$superProduct",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getTypeInstance",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","getAssociatedProductIds",392],"(",["T_VARIABLE","$superProduct",392],")",";",["T_WHITESPACE","\n                ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_STRING","in_array",393],"(",["T_VARIABLE","$product",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getId",393],"(",")",",",["T_WHITESPACE"," ",393],["T_VARIABLE","$assocProductIds",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                    ",393],["T_VARIABLE","$productType",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$superProductConfig",394],"[",["T_CONSTANT_ENCAPSED_STRING","'product_type'",394],"]",";",["T_WHITESPACE","\n                    ",394],["T_VARIABLE","$product",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","addCustomOption",395],"(",["T_CONSTANT_ENCAPSED_STRING","'product_type'",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$productType",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$superProduct",395],")",";",["T_WHITESPACE","\n\n                    ",395],["T_VARIABLE","$buyRequest",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","setData",397],"(",["T_WHITESPACE","\n                        ",397],["T_CONSTANT_ENCAPSED_STRING","'super_product_config'",398],",",["T_WHITESPACE","\n                        ",398],"[",["T_CONSTANT_ENCAPSED_STRING","'product_type'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$productType",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'product_id'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$superProduct",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getId",399],"(",")","]",["T_WHITESPACE","\n                    ",399],")",";",["T_WHITESPACE","\n                ",400],"}",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_VARIABLE","$product",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","prepareCustomOptions",405],"(",")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$buyRequest",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","unsetData",406],"(",["T_CONSTANT_ENCAPSED_STRING","'_processing_params'",406],")",";",["T_WHITESPACE","\n        ",406],["T_COMMENT","\/\/ One-time params only\n",407],["T_WHITESPACE","        ",408],["T_VARIABLE","$product",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","addCustomOption",408],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","serializer",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","serialize",408],"(",["T_VARIABLE","$buyRequest",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getData",408],"(",")",")",")",";",["T_WHITESPACE","\n        ",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$options",409],")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$optionIds",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","array_keys",410],"(",["T_VARIABLE","$options",410],")",";",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$product",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","addCustomOption",411],"(",["T_CONSTANT_ENCAPSED_STRING","'option_ids'",411],",",["T_WHITESPACE"," ",411],["T_STRING","implode",411],"(",["T_CONSTANT_ENCAPSED_STRING","','",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$optionIds",411],")",")",";",["T_WHITESPACE","\n            ",411],["T_FOREACH","foreach",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$options",412],["T_WHITESPACE"," ",412],["T_AS","as",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$optionId",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$optionValue",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n                ",412],["T_VARIABLE","$product",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","addCustomOption",413],"(",["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_STRING","OPTION_PREFIX",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_VARIABLE","$optionId",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$optionValue",413],")",";",["T_WHITESPACE","\n            ",413],"}",["T_WHITESPACE","\n        ",414],"}",["T_WHITESPACE","\n\n        ",415],["T_COMMENT","\/\/ set quantity in cart\n",417],["T_WHITESPACE","        ",418],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_isStrictProcessMode",418],"(",["T_VARIABLE","$processMode",418],")",")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$product",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","setCartQty",419],"(",["T_VARIABLE","$buyRequest",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getQty",419],"(",")",")",";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$product",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","setQty",421],"(",["T_VARIABLE","$buyRequest",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getQty",421],"(",")",")",";",["T_WHITESPACE","\n\n        ",421],["T_RETURN","return",423],["T_WHITESPACE"," ",423],"[",["T_VARIABLE","$product",423],"]",";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Process product configuration\n     *\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param string $processMode\n     * @return array|string\n     *\/",426],["T_WHITESPACE","\n    ",433],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","processConfiguration",434],"(",["T_WHITESPACE","\n        ",434],["T_NS_SEPARATOR","\\",435],["T_STRING","Magento",435],["T_NS_SEPARATOR","\\",435],["T_STRING","Framework",435],["T_NS_SEPARATOR","\\",435],["T_STRING","DataObject",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$buyRequest",435],",",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$product",436],",",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$processMode",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","self",437],["T_DOUBLE_COLON","::",437],["T_STRING","PROCESS_MODE_LITE",437],["T_WHITESPACE","\n    ",437],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$products",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_prepareProduct",439],"(",["T_VARIABLE","$buyRequest",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$product",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$processMode",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","processFileQueue",440],"(",")",";",["T_WHITESPACE","\n        ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$products",441],";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_DOC_COMMENT","\/**\n     * Initialize product(s) for add to cart process.\n     * Advanced version of func to prepare product for cart - processMode can be specified there.\n     *\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param null|string $processMode\n     * @return array|string\n     *\/",444],["T_WHITESPACE","\n    ",452],["T_PUBLIC","public",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","prepareForCartAdvanced",453],"(",["T_NS_SEPARATOR","\\",453],["T_STRING","Magento",453],["T_NS_SEPARATOR","\\",453],["T_STRING","Framework",453],["T_NS_SEPARATOR","\\",453],["T_STRING","DataObject",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$buyRequest",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$product",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$processMode",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","null",453],")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(","!",["T_VARIABLE","$processMode",455],")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$processMode",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_STRING","self",456],["T_DOUBLE_COLON","::",456],["T_STRING","PROCESS_MODE_FULL",456],";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$_products",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_prepareProduct",458],"(",["T_VARIABLE","$buyRequest",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$product",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$processMode",458],")",";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","processFileQueue",459],"(",")",";",["T_WHITESPACE","\n        ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$_products",460],";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Initialize product(s) for add to cart process\n     *\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return array|string\n     *\/",463],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","prepareForCart",470],"(",["T_NS_SEPARATOR","\\",470],["T_STRING","Magento",470],["T_NS_SEPARATOR","\\",470],["T_STRING","Framework",470],["T_NS_SEPARATOR","\\",470],["T_STRING","DataObject",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$buyRequest",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$product",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","prepareForCartAdvanced",472],"(",["T_VARIABLE","$buyRequest",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$product",472],",",["T_WHITESPACE"," ",472],["T_STRING","self",472],["T_DOUBLE_COLON","::",472],["T_STRING","PROCESS_MODE_FULL",472],")",";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Process File Queue\n     *\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",475],["T_WHITESPACE","\n    ",482],["T_PUBLIC","public",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","processFileQueue",483],"(",")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_EMPTY","empty",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_fileQueue",485],")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],";",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE","\n\n        ",487],["T_FOREACH","foreach",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_fileQueue",489],["T_WHITESPACE"," ",489],["T_AS","as",489],["T_WHITESPACE"," ",489],"&",["T_VARIABLE","$queueOptions",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_ISSET","isset",490],"(",["T_VARIABLE","$queueOptions",490],"[",["T_CONSTANT_ENCAPSED_STRING","'operation'",490],"]",")",["T_WHITESPACE"," ",490],["T_BOOLEAN_AND","&&",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$operation",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$queueOptions",490],"[",["T_CONSTANT_ENCAPSED_STRING","'operation'",490],"]",")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_SWITCH","switch",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$operation",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n                    ",491],["T_CASE","case",492],["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'receive_uploaded_file'",492],":",["T_WHITESPACE","\n                        ",492],["T_VARIABLE","$src",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_ISSET","isset",493],"(",["T_VARIABLE","$queueOptions",493],"[",["T_CONSTANT_ENCAPSED_STRING","'src_name'",493],"]",")",["T_WHITESPACE"," ",493],"?",["T_WHITESPACE"," ",493],["T_VARIABLE","$queueOptions",493],"[",["T_CONSTANT_ENCAPSED_STRING","'src_name'",493],"]",["T_WHITESPACE"," ",493],":",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","''",493],";",["T_WHITESPACE","\n                        ",493],["T_VARIABLE","$dst",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_ISSET","isset",494],"(",["T_VARIABLE","$queueOptions",494],"[",["T_CONSTANT_ENCAPSED_STRING","'dst_name'",494],"]",")",["T_WHITESPACE"," ",494],"?",["T_WHITESPACE"," ",494],["T_VARIABLE","$queueOptions",494],"[",["T_CONSTANT_ENCAPSED_STRING","'dst_name'",494],"]",["T_WHITESPACE"," ",494],":",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","''",494],";",["T_WHITESPACE","\n                        ",494],["T_DOC_COMMENT","\/** @var $uploader \\Zend_File_Transfer_Adapter_Http *\/",495],["T_WHITESPACE","\n                        ",495],["T_VARIABLE","$uploader",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_ISSET","isset",496],"(",["T_VARIABLE","$queueOptions",496],"[",["T_CONSTANT_ENCAPSED_STRING","'uploader'",496],"]",")",["T_WHITESPACE"," ",496],"?",["T_WHITESPACE"," ",496],["T_VARIABLE","$queueOptions",496],"[",["T_CONSTANT_ENCAPSED_STRING","'uploader'",496],"]",["T_WHITESPACE"," ",496],":",["T_WHITESPACE"," ",496],["T_STRING","null",496],";",["T_WHITESPACE","\n\n                        ",496],["T_VARIABLE","$path",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","dirname",498],"(",["T_VARIABLE","$dst",498],")",";",["T_WHITESPACE","\n\n                        ",498],["T_TRY","try",500],["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n                            ",500],["T_VARIABLE","$rootDir",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_filesystem",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getDirectoryWrite",501],"(",["T_WHITESPACE","\n                                ",501],["T_STRING","DirectoryList",502],["T_DOUBLE_COLON","::",502],["T_STRING","ROOT",502],["T_WHITESPACE","\n                            ",502],")",";",["T_WHITESPACE","\n                            ",503],["T_VARIABLE","$rootDir",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","create",504],"(",["T_VARIABLE","$rootDir",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getRelativePath",504],"(",["T_VARIABLE","$path",504],")",")",";",["T_WHITESPACE","\n                        ",504],"}",["T_WHITESPACE"," ",505],["T_CATCH","catch",505],["T_WHITESPACE"," ",505],"(",["T_NS_SEPARATOR","\\",505],["T_STRING","Magento",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Framework",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Exception",505],["T_NS_SEPARATOR","\\",505],["T_STRING","FileSystemException",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$e",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n                            ",505],["T_THROW","throw",506],["T_WHITESPACE"," ",506],["T_NEW","new",506],["T_WHITESPACE"," ",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Magento",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Framework",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Exception",506],["T_NS_SEPARATOR","\\",506],["T_STRING","LocalizedException",506],"(",["T_WHITESPACE","\n                                ",506],["T_STRING","__",507],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t create writeable directory \"%1\".'",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$path",507],")",["T_WHITESPACE","\n                            ",507],")",";",["T_WHITESPACE","\n                        ",508],"}",["T_WHITESPACE","\n\n                        ",509],["T_VARIABLE","$uploader",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","setDestination",511],"(",["T_VARIABLE","$path",511],")",";",["T_WHITESPACE","\n\n                        ",511],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_EMPTY","empty",513],"(",["T_VARIABLE","$src",513],")",["T_WHITESPACE"," ",513],["T_BOOLEAN_OR","||",513],["T_WHITESPACE"," ",513],["T_EMPTY","empty",513],"(",["T_VARIABLE","$dst",513],")",["T_WHITESPACE"," ",513],["T_BOOLEAN_OR","||",513],["T_WHITESPACE"," ",513],"!",["T_VARIABLE","$uploader",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","receive",513],"(",["T_VARIABLE","$src",513],")",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n                            ",513],["T_DOC_COMMENT","\/**\n                             * @todo: show invalid option\n                             *\/",514],["T_WHITESPACE","\n                            ",516],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_ISSET","isset",517],"(",["T_VARIABLE","$queueOptions",517],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",517],"]",")",")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n                                ",517],["T_VARIABLE","$queueOptions",518],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",518],"]",["T_OBJECT_OPERATOR","->",518],["T_STRING","setIsValid",518],"(",["T_STRING","false",518],")",";",["T_WHITESPACE","\n                            ",518],"}",["T_WHITESPACE","\n                            ",519],["T_THROW","throw",520],["T_WHITESPACE"," ",520],["T_NEW","new",520],["T_WHITESPACE"," ",520],["T_NS_SEPARATOR","\\",520],["T_STRING","Magento",520],["T_NS_SEPARATOR","\\",520],["T_STRING","Framework",520],["T_NS_SEPARATOR","\\",520],["T_STRING","Exception",520],["T_NS_SEPARATOR","\\",520],["T_STRING","LocalizedException",520],"(",["T_STRING","__",520],"(",["T_CONSTANT_ENCAPSED_STRING","'The file upload failed.'",520],")",")",";",["T_WHITESPACE","\n                        ",520],"}",["T_WHITESPACE","\n                        ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_fileStorageDb",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","saveFile",522],"(",["T_VARIABLE","$dst",522],")",";",["T_WHITESPACE","\n                        ",522],["T_BREAK","break",523],";",["T_WHITESPACE","\n                    ",523],["T_DEFAULT","default",524],":",["T_WHITESPACE","\n                        ",524],["T_BREAK","break",525],";",["T_WHITESPACE","\n                ",525],"}",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n            ",527],["T_VARIABLE","$queueOptions",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_STRING","null",528],";",["T_WHITESPACE","\n        ",528],"}",["T_WHITESPACE","\n\n        ",529],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Add file to File Queue\n     * @param array $queueOptions   Array of File Queue\n     *                              (eg. ['operation'=>'move',\n     *                                    'src_name'=>'filename',\n     *                                    'dst_name'=>'filename2'])\n     * @return void\n     *\/",534],["T_WHITESPACE","\n    ",541],["T_PUBLIC","public",542],["T_WHITESPACE"," ",542],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","addFileQueue",542],"(",["T_VARIABLE","$queueOptions",542],")",["T_WHITESPACE","\n    ",542],"{",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_fileQueue",544],"[","]",["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_VARIABLE","$queueOptions",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Check if current process mode is strict\n     *\n     * @param string $processMode\n     * @return bool\n     *\/",547],["T_WHITESPACE","\n    ",552],["T_PROTECTED","protected",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","_isStrictProcessMode",553],"(",["T_VARIABLE","$processMode",553],")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$processMode",555],["T_WHITESPACE"," ",555],["T_IS_EQUAL","==",555],["T_WHITESPACE"," ",555],["T_STRING","self",555],["T_DOUBLE_COLON","::",555],["T_STRING","PROCESS_MODE_FULL",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Retrieve message for specify option(s)\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",558],["T_WHITESPACE","\n    ",562],["T_PUBLIC","public",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","getSpecifyOptionMessage",563],"(",")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_STRING","__",565],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify product\\'s required option(s).'",565],")",";",["T_WHITESPACE","\n    ",565],"}",["T_WHITESPACE","\n\n    ",566],["T_DOC_COMMENT","\/**\n     * Process custom defined options for product\n     *\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param string $processMode\n     * @return array\n     * @throws LocalizedException\n     *\/",568],["T_WHITESPACE","\n    ",576],["T_PROTECTED","protected",577],["T_WHITESPACE"," ",577],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","_prepareOptions",577],"(",["T_NS_SEPARATOR","\\",577],["T_STRING","Magento",577],["T_NS_SEPARATOR","\\",577],["T_STRING","Framework",577],["T_NS_SEPARATOR","\\",577],["T_STRING","DataObject",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$buyRequest",577],",",["T_WHITESPACE"," ",577],["T_VARIABLE","$product",577],",",["T_WHITESPACE"," ",577],["T_VARIABLE","$processMode",577],")",["T_WHITESPACE","\n    ",577],"{",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$transport",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_NEW","new",579],["T_WHITESPACE"," ",579],["T_NS_SEPARATOR","\\",579],["T_STRING","StdClass",579],"(",")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$transport",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","options",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],"[","]",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$options",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_STRING","null",581],";",["T_WHITESPACE","\n        ",581],["T_IF","if",582],["T_WHITESPACE"," ",582],"(",["T_VARIABLE","$product",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getHasOptions",582],"(",")",")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$options",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$product",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","getOptions",583],"(",")",";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE","\n        ",584],["T_IF","if",585],["T_WHITESPACE"," ",585],"(",["T_VARIABLE","$options",585],["T_WHITESPACE"," ",585],["T_IS_NOT_IDENTICAL","!==",585],["T_WHITESPACE"," ",585],["T_STRING","null",585],")",["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n            ",585],["T_VARIABLE","$results",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],"[","]",";",["T_WHITESPACE","\n            ",586],["T_FOREACH","foreach",587],["T_WHITESPACE"," ",587],"(",["T_VARIABLE","$options",587],["T_WHITESPACE"," ",587],["T_AS","as",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$option",587],")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n                ",587],["T_COMMENT","\/* @var $option \\Magento\\Catalog\\Model\\Product\\Option *\/",588],["T_WHITESPACE","\n                ",588],["T_TRY","try",589],["T_WHITESPACE"," ",589],"{",["T_WHITESPACE","\n                    ",589],["T_VARIABLE","$group",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_VARIABLE","$option",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","groupFactory",590],"(",["T_VARIABLE","$option",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","getType",590],"(",")",")",["T_WHITESPACE","\n                        ",590],["T_OBJECT_OPERATOR","->",591],["T_STRING","setOption",591],"(",["T_VARIABLE","$option",591],")",["T_WHITESPACE","\n                        ",591],["T_OBJECT_OPERATOR","->",592],["T_STRING","setProduct",592],"(",["T_VARIABLE","$product",592],")",["T_WHITESPACE","\n                        ",592],["T_OBJECT_OPERATOR","->",593],["T_STRING","setRequest",593],"(",["T_VARIABLE","$buyRequest",593],")",["T_WHITESPACE","\n                        ",593],["T_OBJECT_OPERATOR","->",594],["T_STRING","setProcessMode",594],"(",["T_VARIABLE","$processMode",594],")",["T_WHITESPACE","\n                        ",594],["T_OBJECT_OPERATOR","->",595],["T_STRING","validateUserValue",595],"(",["T_VARIABLE","$buyRequest",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","getOptions",595],"(",")",")",";",["T_WHITESPACE","\n                ",595],"}",["T_WHITESPACE"," ",596],["T_CATCH","catch",596],["T_WHITESPACE"," ",596],"(",["T_STRING","LocalizedException",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$e",596],")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n                    ",596],["T_VARIABLE","$results",597],"[","]",["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$e",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","getMessage",597],"(",")",";",["T_WHITESPACE","\n                    ",597],["T_CONTINUE","continue",598],";",["T_WHITESPACE","\n                ",598],"}",["T_WHITESPACE","\n\n                ",599],["T_VARIABLE","$preparedValue",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_VARIABLE","$group",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","prepareForCart",601],"(",")",";",["T_WHITESPACE","\n                ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_VARIABLE","$preparedValue",602],["T_WHITESPACE"," ",602],["T_IS_NOT_IDENTICAL","!==",602],["T_WHITESPACE"," ",602],["T_STRING","null",602],")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n                    ",602],["T_VARIABLE","$transport",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","options",603],"[",["T_VARIABLE","$option",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getId",603],"(",")","]",["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$preparedValue",603],";",["T_WHITESPACE","\n                ",603],"}",["T_WHITESPACE","\n            ",604],"}",["T_WHITESPACE","\n            ",605],["T_IF","if",606],["T_WHITESPACE"," ",606],"(",["T_STRING","count",606],"(",["T_VARIABLE","$results",606],")",["T_WHITESPACE"," ",606],">",["T_WHITESPACE"," ",606],["T_LNUMBER","0",606],")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n                ",606],["T_THROW","throw",607],["T_WHITESPACE"," ",607],["T_NEW","new",607],["T_WHITESPACE"," ",607],["T_STRING","LocalizedException",607],"(",["T_STRING","__",607],"(",["T_STRING","implode",607],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$results",607],")",")",")",";",["T_WHITESPACE","\n            ",607],"}",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE","\n\n        ",609],["T_VARIABLE","$eventName",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_STRING","sprintf",611],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_type_prepare_%s_options'",611],",",["T_WHITESPACE"," ",611],["T_VARIABLE","$processMode",611],")",";",["T_WHITESPACE","\n        ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_eventManager",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","dispatch",612],"(",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$eventName",613],",",["T_WHITESPACE","\n            ",613],"[",["T_CONSTANT_ENCAPSED_STRING","'transport'",614],["T_WHITESPACE"," ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$transport",614],",",["T_WHITESPACE"," ",614],["T_CONSTANT_ENCAPSED_STRING","'buy_request'",614],["T_WHITESPACE"," ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$buyRequest",614],",",["T_WHITESPACE"," ",614],["T_CONSTANT_ENCAPSED_STRING","'product'",614],["T_WHITESPACE"," ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$product",614],"]",["T_WHITESPACE","\n        ",614],")",";",["T_WHITESPACE","\n        ",615],["T_RETURN","return",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$transport",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","options",616],";",["T_WHITESPACE","\n    ",616],"}",["T_WHITESPACE","\n\n    ",617],["T_DOC_COMMENT","\/**\n     * Check if product can be bought\n     *\n     * @param  \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",619],["T_WHITESPACE","\n    ",625],["T_PUBLIC","public",626],["T_WHITESPACE"," ",626],["T_FUNCTION","function",626],["T_WHITESPACE"," ",626],["T_STRING","checkProductBuyState",626],"(",["T_VARIABLE","$product",626],")",["T_WHITESPACE","\n    ",626],"{",["T_WHITESPACE","\n        ",627],["T_IF","if",628],["T_WHITESPACE"," ",628],"(","!",["T_VARIABLE","$product",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getSkipCheckRequiredOption",628],"(",")",["T_WHITESPACE"," ",628],["T_BOOLEAN_AND","&&",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$product",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getHasOptions",628],"(",")",")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n            ",628],["T_VARIABLE","$options",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_VARIABLE","$product",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getProductOptionsCollection",629],"(",")",";",["T_WHITESPACE","\n            ",629],["T_FOREACH","foreach",630],["T_WHITESPACE"," ",630],"(",["T_VARIABLE","$options",630],["T_WHITESPACE"," ",630],["T_AS","as",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$option",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n                ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_VARIABLE","$option",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","getIsRequire",631],"(",")",")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n                    ",631],["T_VARIABLE","$customOption",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$product",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getCustomOption",632],"(",["T_STRING","self",632],["T_DOUBLE_COLON","::",632],["T_STRING","OPTION_PREFIX",632],["T_WHITESPACE"," ",632],".",["T_WHITESPACE"," ",632],["T_VARIABLE","$option",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getId",632],"(",")",")",";",["T_WHITESPACE","\n                    ",632],["T_IF","if",633],["T_WHITESPACE"," ",633],"(","!",["T_VARIABLE","$customOption",633],["T_WHITESPACE"," ",633],["T_BOOLEAN_OR","||",633],["T_WHITESPACE"," ",633],["T_STRING","strlen",633],"(",["T_VARIABLE","$customOption",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getValue",633],"(",")",")",["T_WHITESPACE"," ",633],["T_IS_EQUAL","==",633],["T_WHITESPACE"," ",633],["T_LNUMBER","0",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n                        ",633],["T_VARIABLE","$product",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","setSkipCheckRequiredOption",634],"(",["T_STRING","true",634],")",";",["T_WHITESPACE","\n                        ",634],["T_THROW","throw",635],["T_WHITESPACE"," ",635],["T_NEW","new",635],["T_WHITESPACE"," ",635],["T_NS_SEPARATOR","\\",635],["T_STRING","Magento",635],["T_NS_SEPARATOR","\\",635],["T_STRING","Framework",635],["T_NS_SEPARATOR","\\",635],["T_STRING","Exception",635],["T_NS_SEPARATOR","\\",635],["T_STRING","LocalizedException",635],"(",["T_WHITESPACE","\n                            ",635],["T_STRING","__",636],"(",["T_CONSTANT_ENCAPSED_STRING","'The product has required options.'",636],")",["T_WHITESPACE","\n                        ",636],")",";",["T_WHITESPACE","\n                    ",637],"}",["T_WHITESPACE","\n                ",638],"}",["T_WHITESPACE","\n            ",639],"}",["T_WHITESPACE","\n        ",640],"}",["T_WHITESPACE","\n\n        ",641],["T_RETURN","return",643],["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],";",["T_WHITESPACE","\n    ",643],"}",["T_WHITESPACE","\n\n    ",644],["T_DOC_COMMENT","\/**\n     * Prepare additional options\/information for order item which will be\n     * created from this product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return array\n     *\/",646],["T_WHITESPACE","\n    ",652],["T_PUBLIC","public",653],["T_WHITESPACE"," ",653],["T_FUNCTION","function",653],["T_WHITESPACE"," ",653],["T_STRING","getOrderOptions",653],"(",["T_VARIABLE","$product",653],")",["T_WHITESPACE","\n    ",653],"{",["T_WHITESPACE","\n        ",654],["T_VARIABLE","$optionArr",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],"[","]",";",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$info",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_VARIABLE","$product",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","getCustomOption",656],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",656],")",";",["T_WHITESPACE","\n        ",656],["T_IF","if",657],["T_WHITESPACE"," ",657],"(",["T_VARIABLE","$info",657],")",["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n            ",657],["T_VARIABLE","$optionArr",658],"[",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",658],"]",["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","serializer",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","unserialize",658],"(",["T_VARIABLE","$info",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","getValue",658],"(",")",")",";",["T_WHITESPACE","\n        ",658],"}",["T_WHITESPACE","\n\n        ",659],["T_VARIABLE","$optionIds",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_VARIABLE","$product",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","getCustomOption",661],"(",["T_CONSTANT_ENCAPSED_STRING","'option_ids'",661],")",";",["T_WHITESPACE","\n        ",661],["T_IF","if",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$optionIds",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n            ",662],["T_FOREACH","foreach",663],["T_WHITESPACE"," ",663],"(",["T_STRING","explode",663],"(",["T_CONSTANT_ENCAPSED_STRING","','",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$optionIds",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","getValue",663],"(",")",")",["T_WHITESPACE"," ",663],["T_AS","as",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$optionId",663],")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n                ",663],["T_VARIABLE","$option",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_VARIABLE","$product",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","getOptionById",664],"(",["T_VARIABLE","$optionId",664],")",";",["T_WHITESPACE","\n                ",664],["T_IF","if",665],["T_WHITESPACE"," ",665],"(",["T_VARIABLE","$option",665],")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n                    ",665],["T_VARIABLE","$confItemOption",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$product",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getCustomOption",666],"(",["T_STRING","self",666],["T_DOUBLE_COLON","::",666],["T_STRING","OPTION_PREFIX",666],["T_WHITESPACE"," ",666],".",["T_WHITESPACE"," ",666],["T_VARIABLE","$option",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getId",666],"(",")",")",";",["T_WHITESPACE","\n\n                    ",666],["T_VARIABLE","$group",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_VARIABLE","$option",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","groupFactory",668],"(",["T_VARIABLE","$option",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","getType",668],"(",")",")",["T_WHITESPACE","\n                        ",668],["T_OBJECT_OPERATOR","->",669],["T_STRING","setOption",669],"(",["T_VARIABLE","$option",669],")",["T_WHITESPACE","\n                        ",669],["T_OBJECT_OPERATOR","->",670],["T_STRING","setProduct",670],"(",["T_VARIABLE","$product",670],")",["T_WHITESPACE","\n                        ",670],["T_OBJECT_OPERATOR","->",671],["T_STRING","setConfigurationItemOption",671],"(",["T_VARIABLE","$confItemOption",671],")",";",["T_WHITESPACE","\n\n                    ",671],["T_VARIABLE","$optionArr",673],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",673],"]","[","]",["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],"[",["T_WHITESPACE","\n                        ",673],["T_CONSTANT_ENCAPSED_STRING","'label'",674],["T_WHITESPACE"," ",674],["T_DOUBLE_ARROW","=>",674],["T_WHITESPACE"," ",674],["T_VARIABLE","$option",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getTitle",674],"(",")",",",["T_WHITESPACE","\n                        ",674],["T_CONSTANT_ENCAPSED_STRING","'value'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_VARIABLE","$group",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","getFormattedOptionValue",675],"(",["T_VARIABLE","$confItemOption",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","getValue",675],"(",")",")",",",["T_WHITESPACE","\n                        ",675],["T_CONSTANT_ENCAPSED_STRING","'print_value'",676],["T_WHITESPACE"," ",676],["T_DOUBLE_ARROW","=>",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$group",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getPrintableOptionValue",676],"(",["T_VARIABLE","$confItemOption",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getValue",676],"(",")",")",",",["T_WHITESPACE","\n                        ",676],["T_CONSTANT_ENCAPSED_STRING","'option_id'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$option",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getId",677],"(",")",",",["T_WHITESPACE","\n                        ",677],["T_CONSTANT_ENCAPSED_STRING","'option_type'",678],["T_WHITESPACE"," ",678],["T_DOUBLE_ARROW","=>",678],["T_WHITESPACE"," ",678],["T_VARIABLE","$option",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","getType",678],"(",")",",",["T_WHITESPACE","\n                        ",678],["T_CONSTANT_ENCAPSED_STRING","'option_value'",679],["T_WHITESPACE"," ",679],["T_DOUBLE_ARROW","=>",679],["T_WHITESPACE"," ",679],["T_VARIABLE","$confItemOption",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getValue",679],"(",")",",",["T_WHITESPACE","\n                        ",679],["T_CONSTANT_ENCAPSED_STRING","'custom_view'",680],["T_WHITESPACE"," ",680],["T_DOUBLE_ARROW","=>",680],["T_WHITESPACE"," ",680],["T_VARIABLE","$group",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","isCustomizedView",680],"(",")",",",["T_WHITESPACE","\n                    ",680],"]",";",["T_WHITESPACE","\n                ",681],"}",["T_WHITESPACE","\n            ",682],"}",["T_WHITESPACE","\n        ",683],"}",["T_WHITESPACE","\n\n        ",684],["T_VARIABLE","$productTypeConfig",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_VARIABLE","$product",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getCustomOption",686],"(",["T_CONSTANT_ENCAPSED_STRING","'product_type'",686],")",";",["T_WHITESPACE","\n        ",686],["T_IF","if",687],["T_WHITESPACE"," ",687],"(",["T_VARIABLE","$productTypeConfig",687],")",["T_WHITESPACE"," ",687],"{",["T_WHITESPACE","\n            ",687],["T_VARIABLE","$optionArr",688],"[",["T_CONSTANT_ENCAPSED_STRING","'super_product_config'",688],"]",["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],"[",["T_WHITESPACE","\n                ",688],["T_CONSTANT_ENCAPSED_STRING","'product_code'",689],["T_WHITESPACE"," ",689],["T_DOUBLE_ARROW","=>",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$productTypeConfig",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","getCode",689],"(",")",",",["T_WHITESPACE","\n                ",689],["T_CONSTANT_ENCAPSED_STRING","'product_type'",690],["T_WHITESPACE"," ",690],["T_DOUBLE_ARROW","=>",690],["T_WHITESPACE"," ",690],["T_VARIABLE","$productTypeConfig",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","getValue",690],"(",")",",",["T_WHITESPACE","\n                ",690],["T_CONSTANT_ENCAPSED_STRING","'product_id'",691],["T_WHITESPACE"," ",691],["T_DOUBLE_ARROW","=>",691],["T_WHITESPACE"," ",691],["T_VARIABLE","$productTypeConfig",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","getProductId",691],"(",")",",",["T_WHITESPACE","\n            ",691],"]",";",["T_WHITESPACE","\n        ",692],"}",["T_WHITESPACE","\n\n        ",693],["T_RETURN","return",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$optionArr",695],";",["T_WHITESPACE","\n    ",695],"}",["T_WHITESPACE","\n\n    ",696],["T_DOC_COMMENT","\/**\n     * Save type related data\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",698],["T_WHITESPACE","\n    ",703],["T_PUBLIC","public",704],["T_WHITESPACE"," ",704],["T_FUNCTION","function",704],["T_WHITESPACE"," ",704],["T_STRING","save",704],"(",["T_VARIABLE","$product",704],")",["T_WHITESPACE","\n    ",704],"{",["T_WHITESPACE","\n        ",705],["T_IF","if",706],["T_WHITESPACE"," ",706],"(",["T_VARIABLE","$product",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","dataHasChangedFor",706],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",706],")",["T_WHITESPACE"," ",706],["T_BOOLEAN_AND","&&",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$product",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getOrigData",706],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",706],")",")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_VARIABLE","$oldTypeProduct",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_CLONE","clone",707],["T_WHITESPACE"," ",707],["T_VARIABLE","$product",707],";",["T_WHITESPACE","\n            ",707],["T_VARIABLE","$oldTypeInstance",708],["T_WHITESPACE"," ",708],"=",["T_WHITESPACE"," ",708],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","_catalogProductType",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","factory",708],"(",["T_WHITESPACE","\n                ",708],["T_VARIABLE","$oldTypeProduct",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","setTypeId",709],"(",["T_VARIABLE","$product",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","getOrigData",709],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",709],")",")",["T_WHITESPACE","\n            ",709],")",";",["T_WHITESPACE","\n            ",710],["T_VARIABLE","$oldTypeProduct",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","setTypeInstance",711],"(",["T_VARIABLE","$oldTypeInstance",711],")",";",["T_WHITESPACE","\n            ",711],["T_VARIABLE","$oldTypeInstance",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","deleteTypeSpecificData",712],"(",["T_VARIABLE","$oldTypeProduct",712],")",";",["T_WHITESPACE","\n        ",712],"}",["T_WHITESPACE","\n        ",713],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],";",["T_WHITESPACE","\n    ",714],"}",["T_WHITESPACE","\n\n    ",715],["T_DOC_COMMENT","\/**\n     * Remove don't applicable attributes data\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     *\/",717],["T_WHITESPACE","\n    ",722],["T_PROTECTED","protected",723],["T_WHITESPACE"," ",723],["T_FUNCTION","function",723],["T_WHITESPACE"," ",723],["T_STRING","_removeNotApplicableAttributes",723],"(",["T_VARIABLE","$product",723],")",["T_WHITESPACE","\n    ",723],"{",["T_WHITESPACE","\n        ",724],["T_VARIABLE","$entityType",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$product",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","getResource",725],"(",")",["T_OBJECT_OPERATOR","->",725],["T_STRING","getEntityType",725],"(",")",";",["T_WHITESPACE","\n        ",725],["T_FOREACH","foreach",726],["T_WHITESPACE"," ",726],"(",["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","_eavConfig",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","getEntityAttributeCodes",726],"(",["T_VARIABLE","$entityType",726],",",["T_WHITESPACE"," ",726],["T_VARIABLE","$product",726],")",["T_WHITESPACE"," ",726],["T_AS","as",726],["T_WHITESPACE"," ",726],["T_VARIABLE","$attributeCode",726],")",["T_WHITESPACE"," ",726],"{",["T_WHITESPACE","\n            ",726],["T_VARIABLE","$attribute",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","_eavConfig",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getAttribute",727],"(",["T_VARIABLE","$entityType",727],",",["T_WHITESPACE"," ",727],["T_VARIABLE","$attributeCode",727],")",";",["T_WHITESPACE","\n            ",727],["T_VARIABLE","$applyTo",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_VARIABLE","$attribute",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","getApplyTo",728],"(",")",";",["T_WHITESPACE","\n            ",728],["T_IF","if",729],["T_WHITESPACE"," ",729],"(",["T_STRING","is_array",729],"(",["T_VARIABLE","$applyTo",729],")",["T_WHITESPACE"," ",729],["T_BOOLEAN_AND","&&",729],["T_WHITESPACE"," ",729],["T_STRING","count",729],"(",["T_VARIABLE","$applyTo",729],")",["T_WHITESPACE"," ",729],">",["T_WHITESPACE"," ",729],["T_LNUMBER","0",729],["T_WHITESPACE"," ",729],["T_BOOLEAN_AND","&&",729],["T_WHITESPACE"," ",729],"!",["T_STRING","in_array",729],"(",["T_VARIABLE","$product",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","getTypeId",729],"(",")",",",["T_WHITESPACE"," ",729],["T_VARIABLE","$applyTo",729],")",")",["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n                ",729],["T_VARIABLE","$product",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","unsetData",730],"(",["T_VARIABLE","$attribute",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","getAttributeCode",730],"(",")",")",";",["T_WHITESPACE","\n            ",730],"}",["T_WHITESPACE","\n        ",731],"}",["T_WHITESPACE","\n    ",732],"}",["T_WHITESPACE","\n\n    ",733],["T_DOC_COMMENT","\/**\n     * Before save type related data\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",735],["T_WHITESPACE","\n    ",740],["T_PUBLIC","public",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","beforeSave",741],"(",["T_VARIABLE","$product",741],")",["T_WHITESPACE","\n    ",741],"{",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","_removeNotApplicableAttributes",743],"(",["T_VARIABLE","$product",743],")",";",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$product",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","canAffectOptions",744],"(",["T_STRING","true",744],")",";",["T_WHITESPACE","\n        ",744],["T_RETURN","return",745],["T_WHITESPACE"," ",745],["T_VARIABLE","$this",745],";",["T_WHITESPACE","\n    ",745],"}",["T_WHITESPACE","\n\n    ",746],["T_DOC_COMMENT","\/**\n     * Check if product is composite\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",748],["T_WHITESPACE","\n    ",754],["T_PUBLIC","public",755],["T_WHITESPACE"," ",755],["T_FUNCTION","function",755],["T_WHITESPACE"," ",755],["T_STRING","isComposite",755],"(",["T_VARIABLE","$product",755],")",["T_WHITESPACE","\n    ",755],"{",["T_WHITESPACE","\n        ",756],["T_RETURN","return",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","_isComposite",757],";",["T_WHITESPACE","\n    ",757],"}",["T_WHITESPACE","\n\n    ",758],["T_DOC_COMMENT","\/**\n     * Check if product can be configured\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",760],["T_WHITESPACE","\n    ",766],["T_PUBLIC","public",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","canConfigure",767],"(",["T_VARIABLE","$product",767],")",["T_WHITESPACE","\n    ",767],"{",["T_WHITESPACE","\n        ",768],["T_RETURN","return",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","_canConfigure",769],";",["T_WHITESPACE","\n    ",769],"}",["T_WHITESPACE","\n\n    ",770],["T_DOC_COMMENT","\/**\n     * Check if product qty is fractional number\n     *\n     * @return bool\n     *\/",772],["T_WHITESPACE","\n    ",776],["T_PUBLIC","public",777],["T_WHITESPACE"," ",777],["T_FUNCTION","function",777],["T_WHITESPACE"," ",777],["T_STRING","canUseQtyDecimals",777],"(",")",["T_WHITESPACE","\n    ",777],"{",["T_WHITESPACE","\n        ",778],["T_RETURN","return",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","_canUseQtyDecimals",779],";",["T_WHITESPACE","\n    ",779],"}",["T_WHITESPACE","\n\n    ",780],["T_DOC_COMMENT","\/**\n     * Default action to get sku of product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return string\n     *\/",782],["T_WHITESPACE","\n    ",787],["T_PUBLIC","public",788],["T_WHITESPACE"," ",788],["T_FUNCTION","function",788],["T_WHITESPACE"," ",788],["T_STRING","getSku",788],"(",["T_VARIABLE","$product",788],")",["T_WHITESPACE","\n    ",788],"{",["T_WHITESPACE","\n        ",789],["T_VARIABLE","$sku",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$product",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","getData",790],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",790],")",";",["T_WHITESPACE","\n        ",790],["T_IF","if",791],["T_WHITESPACE"," ",791],"(",["T_VARIABLE","$product",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","getCustomOption",791],"(",["T_CONSTANT_ENCAPSED_STRING","'option_ids'",791],")",")",["T_WHITESPACE"," ",791],"{",["T_WHITESPACE","\n            ",791],["T_VARIABLE","$sku",792],["T_WHITESPACE"," ",792],"=",["T_WHITESPACE"," ",792],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","getOptionSku",792],"(",["T_VARIABLE","$product",792],",",["T_WHITESPACE"," ",792],["T_VARIABLE","$sku",792],")",";",["T_WHITESPACE","\n        ",792],"}",["T_WHITESPACE","\n        ",793],["T_RETURN","return",794],["T_WHITESPACE"," ",794],["T_VARIABLE","$sku",794],";",["T_WHITESPACE","\n    ",794],"}",["T_WHITESPACE","\n\n    ",795],["T_DOC_COMMENT","\/**\n     * Default action to get sku of product with option\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product Product with Custom Options\n     * @param string $sku Product SKU without option\n     * @return string\n     *\/",797],["T_WHITESPACE","\n    ",803],["T_PUBLIC","public",804],["T_WHITESPACE"," ",804],["T_FUNCTION","function",804],["T_WHITESPACE"," ",804],["T_STRING","getOptionSku",804],"(",["T_VARIABLE","$product",804],",",["T_WHITESPACE"," ",804],["T_VARIABLE","$sku",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_CONSTANT_ENCAPSED_STRING","''",804],")",["T_WHITESPACE","\n    ",804],"{",["T_WHITESPACE","\n        ",805],["T_VARIABLE","$skuDelimiter",806],["T_WHITESPACE"," ",806],"=",["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","'-'",806],";",["T_WHITESPACE","\n        ",806],["T_IF","if",807],["T_WHITESPACE"," ",807],"(",["T_EMPTY","empty",807],"(",["T_VARIABLE","$sku",807],")",")",["T_WHITESPACE"," ",807],"{",["T_WHITESPACE","\n            ",807],["T_VARIABLE","$sku",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_VARIABLE","$product",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","getData",808],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",808],")",";",["T_WHITESPACE","\n        ",808],"}",["T_WHITESPACE","\n        ",809],["T_VARIABLE","$optionIds",810],["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],["T_VARIABLE","$product",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","getCustomOption",810],"(",["T_CONSTANT_ENCAPSED_STRING","'option_ids'",810],")",";",["T_WHITESPACE","\n        ",810],["T_IF","if",811],["T_WHITESPACE"," ",811],"(",["T_VARIABLE","$optionIds",811],")",["T_WHITESPACE"," ",811],"{",["T_WHITESPACE","\n            ",811],["T_FOREACH","foreach",812],["T_WHITESPACE"," ",812],"(",["T_STRING","explode",812],"(",["T_CONSTANT_ENCAPSED_STRING","','",812],",",["T_WHITESPACE"," ",812],["T_VARIABLE","$optionIds",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getValue",812],"(",")",")",["T_WHITESPACE"," ",812],["T_AS","as",812],["T_WHITESPACE"," ",812],["T_VARIABLE","$optionId",812],")",["T_WHITESPACE"," ",812],"{",["T_WHITESPACE","\n                ",812],["T_VARIABLE","$option",813],["T_WHITESPACE"," ",813],"=",["T_WHITESPACE"," ",813],["T_VARIABLE","$product",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","getOptionById",813],"(",["T_VARIABLE","$optionId",813],")",";",["T_WHITESPACE","\n                ",813],["T_IF","if",814],["T_WHITESPACE"," ",814],"(",["T_VARIABLE","$option",814],")",["T_WHITESPACE"," ",814],"{",["T_WHITESPACE","\n                    ",814],["T_VARIABLE","$confItemOption",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$product",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","getCustomOption",815],"(",["T_STRING","self",815],["T_DOUBLE_COLON","::",815],["T_STRING","OPTION_PREFIX",815],["T_WHITESPACE"," ",815],".",["T_WHITESPACE"," ",815],["T_VARIABLE","$optionId",815],")",";",["T_WHITESPACE","\n\n                    ",815],["T_VARIABLE","$group",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$option",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","groupFactory",817],"(",["T_VARIABLE","$option",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getType",817],"(",")",")",["T_WHITESPACE","\n                        ",817],["T_OBJECT_OPERATOR","->",818],["T_STRING","setOption",818],"(",["T_VARIABLE","$option",818],")",["T_WHITESPACE","\n                        ",818],["T_OBJECT_OPERATOR","->",819],["T_STRING","setListener",819],"(",["T_NEW","new",819],["T_WHITESPACE"," ",819],["T_NS_SEPARATOR","\\",819],["T_STRING","Magento",819],["T_NS_SEPARATOR","\\",819],["T_STRING","Framework",819],["T_NS_SEPARATOR","\\",819],["T_STRING","DataObject",819],"(",")",")",";",["T_WHITESPACE","\n\n                    ",819],["T_VARIABLE","$optionSku",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_VARIABLE","$group",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","getOptionSku",821],"(",["T_VARIABLE","$confItemOption",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","getValue",821],"(",")",",",["T_WHITESPACE"," ",821],["T_VARIABLE","$skuDelimiter",821],")",";",["T_WHITESPACE","\n                    ",821],["T_IF","if",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$optionSku",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n                        ",822],["T_VARIABLE","$sku",823],["T_WHITESPACE"," ",823],["T_CONCAT_EQUAL",".=",823],["T_WHITESPACE"," ",823],["T_VARIABLE","$skuDelimiter",823],["T_WHITESPACE"," ",823],".",["T_WHITESPACE"," ",823],["T_VARIABLE","$optionSku",823],";",["T_WHITESPACE","\n                    ",823],"}",["T_WHITESPACE","\n\n                    ",824],["T_IF","if",826],["T_WHITESPACE"," ",826],"(",["T_VARIABLE","$group",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","getListener",826],"(",")",["T_OBJECT_OPERATOR","->",826],["T_STRING","getHasError",826],"(",")",")",["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n                        ",826],["T_VARIABLE","$product",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","setHasError",827],"(",["T_STRING","true",827],")",["T_OBJECT_OPERATOR","->",827],["T_STRING","setMessage",827],"(",["T_VARIABLE","$group",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","getListener",827],"(",")",["T_OBJECT_OPERATOR","->",827],["T_STRING","getMessage",827],"(",")",")",";",["T_WHITESPACE","\n                    ",827],"}",["T_WHITESPACE","\n                ",828],"}",["T_WHITESPACE","\n            ",829],"}",["T_WHITESPACE","\n        ",830],"}",["T_WHITESPACE","\n        ",831],["T_RETURN","return",832],["T_WHITESPACE"," ",832],["T_VARIABLE","$sku",832],";",["T_WHITESPACE","\n    ",832],"}",["T_WHITESPACE","\n\n    ",833],["T_DOC_COMMENT","\/**\n     * Default action to get weight of product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return float\n     *\/",835],["T_WHITESPACE","\n    ",840],["T_PUBLIC","public",841],["T_WHITESPACE"," ",841],["T_FUNCTION","function",841],["T_WHITESPACE"," ",841],["T_STRING","getWeight",841],"(",["T_VARIABLE","$product",841],")",["T_WHITESPACE","\n    ",841],"{",["T_WHITESPACE","\n        ",842],["T_RETURN","return",843],["T_WHITESPACE"," ",843],["T_VARIABLE","$product",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","getData",843],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",843],")",";",["T_WHITESPACE","\n    ",843],"}",["T_WHITESPACE","\n\n    ",844],["T_DOC_COMMENT","\/**\n     * Return true if product has options\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     *\/",846],["T_WHITESPACE","\n    ",851],["T_PUBLIC","public",852],["T_WHITESPACE"," ",852],["T_FUNCTION","function",852],["T_WHITESPACE"," ",852],["T_STRING","hasOptions",852],"(",["T_VARIABLE","$product",852],")",["T_WHITESPACE","\n    ",852],"{",["T_WHITESPACE","\n        ",853],["T_RETURN","return",854],["T_WHITESPACE"," ",854],["T_VARIABLE","$product",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","getHasOptions",854],"(",")",";",["T_WHITESPACE","\n    ",854],"}",["T_WHITESPACE","\n\n    ",855],["T_DOC_COMMENT","\/**\n     * Method is needed for specific actions to change given configuration options values\n     * according current product type logic\n     * Example: the cataloginventory validation of decimal qty can change qty to int,\n     * so need to change configuration item qty option value too.\n     *\n     * @param array $options\n     * @param \\Magento\\Framework\\DataObject $option\n     * @param int|float|null $value\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",857],["T_WHITESPACE","\n    ",870],["T_PUBLIC","public",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","updateQtyOption",871],"(",["T_VARIABLE","$options",871],",",["T_WHITESPACE"," ",871],["T_NS_SEPARATOR","\\",871],["T_STRING","Magento",871],["T_NS_SEPARATOR","\\",871],["T_STRING","Framework",871],["T_NS_SEPARATOR","\\",871],["T_STRING","DataObject",871],["T_WHITESPACE"," ",871],["T_VARIABLE","$option",871],",",["T_WHITESPACE"," ",871],["T_VARIABLE","$value",871],",",["T_WHITESPACE"," ",871],["T_VARIABLE","$product",871],")",["T_WHITESPACE","\n    ",871],"{",["T_WHITESPACE","\n        ",872],["T_RETURN","return",873],["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],";",["T_WHITESPACE","\n    ",873],"}",["T_WHITESPACE","\n\n    ",874],["T_DOC_COMMENT","\/**\n     * Check if product has required options\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     *\/",876],["T_WHITESPACE","\n    ",881],["T_PUBLIC","public",882],["T_WHITESPACE"," ",882],["T_FUNCTION","function",882],["T_WHITESPACE"," ",882],["T_STRING","hasRequiredOptions",882],"(",["T_VARIABLE","$product",882],")",["T_WHITESPACE","\n    ",882],"{",["T_WHITESPACE","\n        ",883],["T_IF","if",884],["T_WHITESPACE"," ",884],"(",["T_VARIABLE","$product",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","getRequiredOptions",884],"(",")",")",["T_WHITESPACE"," ",884],"{",["T_WHITESPACE","\n            ",884],["T_RETURN","return",885],["T_WHITESPACE"," ",885],["T_STRING","true",885],";",["T_WHITESPACE","\n        ",885],"}",["T_WHITESPACE","\n        ",886],["T_RETURN","return",887],["T_WHITESPACE"," ",887],["T_STRING","false",887],";",["T_WHITESPACE","\n    ",887],"}",["T_WHITESPACE","\n\n    ",888],["T_DOC_COMMENT","\/**\n     * Retrieve store filter for associated products\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return int|\\Magento\\Store\\Model\\Store\n     *\/",890],["T_WHITESPACE","\n    ",895],["T_PUBLIC","public",896],["T_WHITESPACE"," ",896],["T_FUNCTION","function",896],["T_WHITESPACE"," ",896],["T_STRING","getStoreFilter",896],"(",["T_VARIABLE","$product",896],")",["T_WHITESPACE","\n    ",896],"{",["T_WHITESPACE","\n        ",897],["T_VARIABLE","$cacheKey",898],["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_store_filter'",898],";",["T_WHITESPACE","\n        ",898],["T_RETURN","return",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$product",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","getData",899],"(",["T_VARIABLE","$cacheKey",899],")",";",["T_WHITESPACE","\n    ",899],"}",["T_WHITESPACE","\n\n    ",900],["T_DOC_COMMENT","\/**\n     * Set store filter for associated products\n     *\n     * @param $store int|\\Magento\\Store\\Model\\Store\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",902],["T_WHITESPACE","\n    ",908],["T_PUBLIC","public",909],["T_WHITESPACE"," ",909],["T_FUNCTION","function",909],["T_WHITESPACE"," ",909],["T_STRING","setStoreFilter",909],"(",["T_VARIABLE","$store",909],",",["T_WHITESPACE"," ",909],["T_VARIABLE","$product",909],")",["T_WHITESPACE","\n    ",909],"{",["T_WHITESPACE","\n        ",910],["T_VARIABLE","$cacheKey",911],["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_store_filter'",911],";",["T_WHITESPACE","\n        ",911],["T_VARIABLE","$product",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","setData",912],"(",["T_VARIABLE","$cacheKey",912],",",["T_WHITESPACE"," ",912],["T_VARIABLE","$store",912],")",";",["T_WHITESPACE","\n        ",912],["T_RETURN","return",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],";",["T_WHITESPACE","\n    ",913],"}",["T_WHITESPACE","\n\n    ",914],["T_DOC_COMMENT","\/**\n     * Allow for updates of children qty's\n     * (applicable for complicated product types. As default returns false)\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return boolean false\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",916],["T_WHITESPACE","\n    ",924],["T_PUBLIC","public",925],["T_WHITESPACE"," ",925],["T_FUNCTION","function",925],["T_WHITESPACE"," ",925],["T_STRING","getForceChildItemQtyChanges",925],"(",["T_VARIABLE","$product",925],")",["T_WHITESPACE","\n    ",925],"{",["T_WHITESPACE","\n        ",926],["T_RETURN","return",927],["T_WHITESPACE"," ",927],["T_STRING","false",927],";",["T_WHITESPACE","\n    ",927],"}",["T_WHITESPACE","\n\n    ",928],["T_DOC_COMMENT","\/**\n     * Prepare Quote Item Quantity\n     *\n     * @param int|float $qty\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return float\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",930],["T_WHITESPACE","\n    ",937],["T_PUBLIC","public",938],["T_WHITESPACE"," ",938],["T_FUNCTION","function",938],["T_WHITESPACE"," ",938],["T_STRING","prepareQuoteItemQty",938],"(",["T_VARIABLE","$qty",938],",",["T_WHITESPACE"," ",938],["T_VARIABLE","$product",938],")",["T_WHITESPACE","\n    ",938],"{",["T_WHITESPACE","\n        ",939],["T_RETURN","return",940],["T_WHITESPACE"," ",940],["T_STRING","floatval",940],"(",["T_VARIABLE","$qty",940],")",";",["T_WHITESPACE","\n    ",940],"}",["T_WHITESPACE","\n\n    ",941],["T_DOC_COMMENT","\/**\n     * Implementation of product specify logic of which product needs to be assigned to option.\n     * For example if product which was added to option already removed from catalog.\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $optionProduct\n     * @param \\Magento\\Quote\\Model\\Quote\\Item\\Option $option\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",943],["T_WHITESPACE","\n    ",951],["T_PUBLIC","public",952],["T_WHITESPACE"," ",952],["T_FUNCTION","function",952],["T_WHITESPACE"," ",952],["T_STRING","assignProductToOption",952],"(",["T_VARIABLE","$optionProduct",952],",",["T_WHITESPACE"," ",952],["T_VARIABLE","$option",952],",",["T_WHITESPACE"," ",952],["T_VARIABLE","$product",952],")",["T_WHITESPACE","\n    ",952],"{",["T_WHITESPACE","\n        ",953],["T_IF","if",954],["T_WHITESPACE"," ",954],"(",["T_VARIABLE","$optionProduct",954],")",["T_WHITESPACE"," ",954],"{",["T_WHITESPACE","\n            ",954],["T_VARIABLE","$option",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","setProduct",955],"(",["T_VARIABLE","$optionProduct",955],")",";",["T_WHITESPACE","\n        ",955],"}",["T_WHITESPACE"," ",956],["T_ELSE","else",956],["T_WHITESPACE"," ",956],"{",["T_WHITESPACE","\n            ",956],["T_VARIABLE","$option",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","setProduct",957],"(",["T_VARIABLE","$product",957],")",";",["T_WHITESPACE","\n        ",957],"}",["T_WHITESPACE","\n\n        ",958],["T_RETURN","return",960],["T_WHITESPACE"," ",960],["T_VARIABLE","$this",960],";",["T_WHITESPACE","\n    ",960],"}",["T_WHITESPACE","\n\n    ",961],["T_DOC_COMMENT","\/**\n     * Setting specified product type variables\n     *\n     * @param array $config\n     * @return $this\n     *\/",963],["T_WHITESPACE","\n    ",968],["T_PUBLIC","public",969],["T_WHITESPACE"," ",969],["T_FUNCTION","function",969],["T_WHITESPACE"," ",969],["T_STRING","setConfig",969],"(",["T_VARIABLE","$config",969],")",["T_WHITESPACE","\n    ",969],"{",["T_WHITESPACE","\n        ",970],["T_IF","if",971],["T_WHITESPACE"," ",971],"(",["T_ISSET","isset",971],"(",["T_VARIABLE","$config",971],"[",["T_CONSTANT_ENCAPSED_STRING","'composite'",971],"]",")",")",["T_WHITESPACE"," ",971],"{",["T_WHITESPACE","\n            ",971],["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","_isComposite",972],["T_WHITESPACE"," ",972],"=",["T_WHITESPACE"," ",972],["T_BOOL_CAST","(bool)",972],["T_VARIABLE","$config",972],"[",["T_CONSTANT_ENCAPSED_STRING","'composite'",972],"]",";",["T_WHITESPACE","\n        ",972],"}",["T_WHITESPACE","\n\n        ",973],["T_IF","if",975],["T_WHITESPACE"," ",975],"(",["T_ISSET","isset",975],"(",["T_VARIABLE","$config",975],"[",["T_CONSTANT_ENCAPSED_STRING","'can_use_qty_decimals'",975],"]",")",")",["T_WHITESPACE"," ",975],"{",["T_WHITESPACE","\n            ",975],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","_canUseQtyDecimals",976],["T_WHITESPACE"," ",976],"=",["T_WHITESPACE"," ",976],["T_BOOL_CAST","(bool)",976],["T_WHITESPACE"," ",976],["T_VARIABLE","$config",976],"[",["T_CONSTANT_ENCAPSED_STRING","'can_use_qty_decimals'",976],"]",";",["T_WHITESPACE","\n        ",976],"}",["T_WHITESPACE","\n\n        ",977],["T_RETURN","return",979],["T_WHITESPACE"," ",979],["T_VARIABLE","$this",979],";",["T_WHITESPACE","\n    ",979],"}",["T_WHITESPACE","\n\n    ",980],["T_DOC_COMMENT","\/**\n     * Retrieve additional searchable data from type instance\n     * Using based on product id and store_id data\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return array\n     *\/",982],["T_WHITESPACE","\n    ",988],["T_PUBLIC","public",989],["T_WHITESPACE"," ",989],["T_FUNCTION","function",989],["T_WHITESPACE"," ",989],["T_STRING","getSearchableData",989],"(",["T_VARIABLE","$product",989],")",["T_WHITESPACE","\n    ",989],"{",["T_WHITESPACE","\n        ",990],["T_VARIABLE","$searchData",991],["T_WHITESPACE"," ",991],"=",["T_WHITESPACE"," ",991],"[","]",";",["T_WHITESPACE","\n        ",991],["T_IF","if",992],["T_WHITESPACE"," ",992],"(",["T_VARIABLE","$product",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","getHasOptions",992],"(",")",")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n            ",992],["T_VARIABLE","$searchData",993],["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","_catalogProductOption",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","getSearchableData",993],"(",["T_WHITESPACE","\n                ",993],["T_VARIABLE","$product",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","getEntityId",994],"(",")",",",["T_WHITESPACE","\n                ",994],["T_VARIABLE","$product",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","getStoreId",995],"(",")",["T_WHITESPACE","\n            ",995],")",";",["T_WHITESPACE","\n        ",996],"}",["T_WHITESPACE","\n\n        ",997],["T_RETURN","return",999],["T_WHITESPACE"," ",999],["T_VARIABLE","$searchData",999],";",["T_WHITESPACE","\n    ",999],"}",["T_WHITESPACE","\n\n    ",1000],["T_DOC_COMMENT","\/**\n     * Retrieve products divided into groups required to purchase\n     * At least one product in each group has to be purchased\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return array\n     *\/",1002],["T_WHITESPACE","\n    ",1008],["T_PUBLIC","public",1009],["T_WHITESPACE"," ",1009],["T_FUNCTION","function",1009],["T_WHITESPACE"," ",1009],["T_STRING","getProductsToPurchaseByReqGroups",1009],"(",["T_VARIABLE","$product",1009],")",["T_WHITESPACE","\n    ",1009],"{",["T_WHITESPACE","\n        ",1010],["T_IF","if",1011],["T_WHITESPACE"," ",1011],"(",["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","isComposite",1011],"(",["T_VARIABLE","$product",1011],")",")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n            ",1011],["T_RETURN","return",1012],["T_WHITESPACE"," ",1012],"[","]",";",["T_WHITESPACE","\n        ",1012],"}",["T_WHITESPACE","\n        ",1013],["T_RETURN","return",1014],["T_WHITESPACE"," ",1014],"[","[",["T_VARIABLE","$product",1014],"]","]",";",["T_WHITESPACE","\n    ",1014],"}",["T_WHITESPACE","\n\n    ",1015],["T_DOC_COMMENT","\/**\n     * Prepare selected options for product\n     *\n     * @param  \\Magento\\Catalog\\Model\\Product $product\n     * @param  \\Magento\\Framework\\DataObject $buyRequest\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1017],["T_WHITESPACE","\n    ",1024],["T_PUBLIC","public",1025],["T_WHITESPACE"," ",1025],["T_FUNCTION","function",1025],["T_WHITESPACE"," ",1025],["T_STRING","processBuyRequest",1025],"(",["T_VARIABLE","$product",1025],",",["T_WHITESPACE"," ",1025],["T_VARIABLE","$buyRequest",1025],")",["T_WHITESPACE","\n    ",1025],"{",["T_WHITESPACE","\n        ",1026],["T_RETURN","return",1027],["T_WHITESPACE"," ",1027],"[","]",";",["T_WHITESPACE","\n    ",1027],"}",["T_WHITESPACE","\n\n    ",1028],["T_DOC_COMMENT","\/**\n     * Check product's options configuration\n     *\n     * @param  \\Magento\\Catalog\\Model\\Product $product\n     * @param  \\Magento\\Framework\\DataObject $buyRequest\n     * @return array\n     *\/",1030],["T_WHITESPACE","\n    ",1036],["T_PUBLIC","public",1037],["T_WHITESPACE"," ",1037],["T_FUNCTION","function",1037],["T_WHITESPACE"," ",1037],["T_STRING","checkProductConfiguration",1037],"(",["T_VARIABLE","$product",1037],",",["T_WHITESPACE"," ",1037],["T_VARIABLE","$buyRequest",1037],")",["T_WHITESPACE","\n    ",1037],"{",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$errors",1039],["T_WHITESPACE"," ",1039],"=",["T_WHITESPACE"," ",1039],"[","]",";",["T_WHITESPACE","\n\n        ",1039],["T_TRY","try",1041],["T_WHITESPACE"," ",1041],"{",["T_WHITESPACE","\n            ",1041],["T_DOC_COMMENT","\/**\n             * cloning product because prepareForCart() method will modify it\n             *\/",1042],["T_WHITESPACE","\n            ",1044],["T_VARIABLE","$productForCheck",1045],["T_WHITESPACE"," ",1045],"=",["T_WHITESPACE"," ",1045],["T_CLONE","clone",1045],["T_WHITESPACE"," ",1045],["T_VARIABLE","$product",1045],";",["T_WHITESPACE","\n            ",1045],["T_VARIABLE","$buyRequestForCheck",1046],["T_WHITESPACE"," ",1046],"=",["T_WHITESPACE"," ",1046],["T_CLONE","clone",1046],["T_WHITESPACE"," ",1046],["T_VARIABLE","$buyRequest",1046],";",["T_WHITESPACE","\n            ",1046],["T_VARIABLE","$result",1047],["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_VARIABLE","$this",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","prepareForCart",1047],"(",["T_VARIABLE","$buyRequestForCheck",1047],",",["T_WHITESPACE"," ",1047],["T_VARIABLE","$productForCheck",1047],")",";",["T_WHITESPACE","\n\n            ",1047],["T_IF","if",1049],["T_WHITESPACE"," ",1049],"(",["T_STRING","is_string",1049],"(",["T_VARIABLE","$result",1049],")",")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n                ",1049],["T_VARIABLE","$errors",1050],"[","]",["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_VARIABLE","$result",1050],";",["T_WHITESPACE","\n            ",1050],"}",["T_WHITESPACE","\n        ",1051],"}",["T_WHITESPACE"," ",1052],["T_CATCH","catch",1052],["T_WHITESPACE"," ",1052],"(",["T_NS_SEPARATOR","\\",1052],["T_STRING","Magento",1052],["T_NS_SEPARATOR","\\",1052],["T_STRING","Framework",1052],["T_NS_SEPARATOR","\\",1052],["T_STRING","Exception",1052],["T_NS_SEPARATOR","\\",1052],["T_STRING","LocalizedException",1052],["T_WHITESPACE"," ",1052],["T_VARIABLE","$e",1052],")",["T_WHITESPACE"," ",1052],"{",["T_WHITESPACE","\n            ",1052],["T_VARIABLE","$errors",1053],"[","]",["T_WHITESPACE"," ",1053],"=",["T_WHITESPACE"," ",1053],["T_VARIABLE","$e",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","getMessage",1053],"(",")",";",["T_WHITESPACE","\n        ",1053],"}",["T_WHITESPACE"," ",1054],["T_CATCH","catch",1054],["T_WHITESPACE"," ",1054],"(",["T_NS_SEPARATOR","\\",1054],["T_STRING","Exception",1054],["T_WHITESPACE"," ",1054],["T_VARIABLE","$e",1054],")",["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n            ",1054],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_logger",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","critical",1055],"(",["T_VARIABLE","$e",1055],")",";",["T_WHITESPACE","\n            ",1055],["T_VARIABLE","$errors",1056],"[","]",["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_STRING","__",1056],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while processing the request.'",1056],")",";",["T_WHITESPACE","\n        ",1056],"}",["T_WHITESPACE","\n\n        ",1057],["T_RETURN","return",1059],["T_WHITESPACE"," ",1059],["T_VARIABLE","$errors",1059],";",["T_WHITESPACE","\n    ",1059],"}",["T_WHITESPACE","\n\n    ",1060],["T_DOC_COMMENT","\/**\n     * Determine presence of weight for product type\n     *\n     * @return bool\n     *\/",1062],["T_WHITESPACE","\n    ",1066],["T_PUBLIC","public",1067],["T_WHITESPACE"," ",1067],["T_FUNCTION","function",1067],["T_WHITESPACE"," ",1067],["T_STRING","hasWeight",1067],"(",")",["T_WHITESPACE","\n    ",1067],"{",["T_WHITESPACE","\n        ",1068],["T_RETURN","return",1069],["T_WHITESPACE"," ",1069],["T_STRING","true",1069],";",["T_WHITESPACE","\n    ",1069],"}",["T_WHITESPACE","\n\n    ",1070],["T_DOC_COMMENT","\/**\n     * Set image for product without image if possible\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1072],["T_WHITESPACE","\n    ",1078],["T_PUBLIC","public",1079],["T_WHITESPACE"," ",1079],["T_FUNCTION","function",1079],["T_WHITESPACE"," ",1079],["T_STRING","setImageFromChildProduct",1079],"(",["T_NS_SEPARATOR","\\",1079],["T_STRING","Magento",1079],["T_NS_SEPARATOR","\\",1079],["T_STRING","Catalog",1079],["T_NS_SEPARATOR","\\",1079],["T_STRING","Model",1079],["T_NS_SEPARATOR","\\",1079],["T_STRING","Product",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$product",1079],")",["T_WHITESPACE","\n    ",1079],"{",["T_WHITESPACE","\n        ",1080],["T_RETURN","return",1081],["T_WHITESPACE"," ",1081],["T_VARIABLE","$this",1081],";",["T_WHITESPACE","\n    ",1081],"}",["T_WHITESPACE","\n\n    ",1082],["T_DOC_COMMENT","\/**\n     * Return array of specific to type product entities\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1084],["T_WHITESPACE","\n    ",1090],["T_PUBLIC","public",1091],["T_WHITESPACE"," ",1091],["T_FUNCTION","function",1091],["T_WHITESPACE"," ",1091],["T_STRING","getIdentities",1091],"(",["T_NS_SEPARATOR","\\",1091],["T_STRING","Magento",1091],["T_NS_SEPARATOR","\\",1091],["T_STRING","Catalog",1091],["T_NS_SEPARATOR","\\",1091],["T_STRING","Model",1091],["T_NS_SEPARATOR","\\",1091],["T_STRING","Product",1091],["T_WHITESPACE"," ",1091],["T_VARIABLE","$product",1091],")",["T_WHITESPACE","\n    ",1091],"{",["T_WHITESPACE","\n        ",1092],["T_RETURN","return",1093],["T_WHITESPACE"," ",1093],"[","]",";",["T_WHITESPACE","\n    ",1093],"}",["T_WHITESPACE","\n\n    ",1094],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product\\Type\\AbstractType $product\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1096],["T_WHITESPACE","\n    ",1100],["T_PUBLIC","public",1101],["T_WHITESPACE"," ",1101],["T_FUNCTION","function",1101],["T_WHITESPACE"," ",1101],["T_STRING","getAssociatedProducts",1101],"(",["T_VARIABLE","$product",1101],")",["T_WHITESPACE","\n    ",1101],"{",["T_WHITESPACE","\n        ",1102],["T_RETURN","return",1103],["T_WHITESPACE"," ",1103],"[","]",";",["T_WHITESPACE","\n    ",1103],"}",["T_WHITESPACE","\n\n    ",1104],["T_DOC_COMMENT","\/**\n     * Check if product can be potentially buyed from the category page or some other list\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return bool\n     *\/",1106],["T_WHITESPACE","\n    ",1111],["T_PUBLIC","public",1112],["T_WHITESPACE"," ",1112],["T_FUNCTION","function",1112],["T_WHITESPACE"," ",1112],["T_STRING","isPossibleBuyFromList",1112],"(",["T_VARIABLE","$product",1112],")",["T_WHITESPACE","\n    ",1112],"{",["T_WHITESPACE","\n        ",1113],["T_RETURN","return",1114],["T_WHITESPACE"," ",1114],"!",["T_VARIABLE","$this",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","hasRequiredOptions",1114],"(",["T_VARIABLE","$product",1114],")",";",["T_WHITESPACE","\n    ",1114],"}",["T_WHITESPACE","\n",1115],"}",["T_WHITESPACE","\n",1116]]