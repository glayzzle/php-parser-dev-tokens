[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Price",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Validation",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tier Price Validator.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","TierPriceValidator",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductIdLocatorInterface\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$productIdLocator",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$searchCriteriaBuilder",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\FilterBuilder\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$filterBuilder",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\GroupRepositoryInterface\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$customerGroupRepository",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Api\\WebsiteRepositoryInterface\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$websiteRepository",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Price\\Validation\\Result\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$validationResult",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Price\\TierPricePersistence\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$tierPricePersistence",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Groups by code cache.\n     *\n     * @var array\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$customerGroupsByCode",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"[","]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Price\\InvalidSkuChecker\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$invalidSkuChecker",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * All groups value.\n     *\n     * @var string\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$allGroupsValue",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'all groups'",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * All websites value.\n     *\n     * @var string\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PRIVATE","private",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$allWebsitesValue",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","\"0\"",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Allowed product types.\n     *\n     * @var array\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$allowedProductTypes",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * TierPriceValidator constructor.\n     *\n     * @param \\Magento\\Catalog\\Model\\ProductIdLocatorInterface $productIdLocator\n     * @param \\Magento\\Framework\\Api\\SearchCriteriaBuilder $searchCriteriaBuilder\n     * @param \\Magento\\Framework\\Api\\FilterBuilder $filterBuilder\n     * @param \\Magento\\Customer\\Api\\GroupRepositoryInterface $customerGroupRepository\n     * @param \\Magento\\Store\\Api\\WebsiteRepositoryInterface $websiteRepository\n     * @param \\Magento\\Catalog\\Model\\Product\\Price\\TierPricePersistence $tierPricePersistence\n     * @param \\Magento\\Catalog\\Model\\Product\\Price\\Validation\\Result $validationResult\n     * @param \\Magento\\Catalog\\Model\\Product\\Price\\InvalidSkuChecker $invalidSkuChecker\n     * @param array $allowedProductTypes [optional]\n     *\/",82],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","__construct",95],"(",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Catalog",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Model",96],["T_NS_SEPARATOR","\\",96],["T_STRING","ProductIdLocatorInterface",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$productIdLocator",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Api",97],["T_NS_SEPARATOR","\\",97],["T_STRING","SearchCriteriaBuilder",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$searchCriteriaBuilder",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Api",98],["T_NS_SEPARATOR","\\",98],["T_STRING","FilterBuilder",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$filterBuilder",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Customer",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Api",99],["T_NS_SEPARATOR","\\",99],["T_STRING","GroupRepositoryInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$customerGroupRepository",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Store",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Api",100],["T_NS_SEPARATOR","\\",100],["T_STRING","WebsiteRepositoryInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$websiteRepository",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Catalog",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Product",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Price",101],["T_NS_SEPARATOR","\\",101],["T_STRING","TierPricePersistence",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$tierPricePersistence",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Catalog",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Model",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Product",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Price",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Validation",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Result",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$validationResult",102],",",["T_WHITESPACE","\n        ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Catalog",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Model",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Product",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Price",103],["T_NS_SEPARATOR","\\",103],["T_STRING","InvalidSkuChecker",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$invalidSkuChecker",103],",",["T_WHITESPACE","\n        ",103],["T_ARRAY","array",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$allowedProductTypes",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],"[","]",["T_WHITESPACE","\n    ",104],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","productIdLocator",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$productIdLocator",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","searchCriteriaBuilder",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$searchCriteriaBuilder",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","filterBuilder",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$filterBuilder",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","customerGroupRepository",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$customerGroupRepository",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","websiteRepository",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$websiteRepository",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","tierPricePersistence",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$tierPricePersistence",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","validationResult",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$validationResult",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","invalidSkuChecker",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$invalidSkuChecker",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","allowedProductTypes",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$allowedProductTypes",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Validate SKU.\n     *\n     * @param array $skus\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @return void\n     *\/",117],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","validateSkus",124],"(",["T_ARRAY","array",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$skus",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","invalidSkuChecker",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","isSkuListValid",126],"(",["T_VARIABLE","$skus",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","allowedProductTypes",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Validate that prices have appropriate values and are unique and return result.\n     *\n     * @param array $prices\n     * @param array $existingPrices\n     * @return \\Magento\\Catalog\\Model\\Product\\Price\\Validation\\Result $validationResult\n     *\/",129],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","retrieveValidationResult",136],"(",["T_ARRAY","array",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$prices",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$existingPrices",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[","]",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$validationResult",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_CLONE","clone",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","validationResult",138],";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$skus",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","array_unique",139],"(",["T_WHITESPACE","\n            ",139],["T_STRING","array_map",140],"(",["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$price",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$price",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getSku",141],"(",")",";",["T_WHITESPACE","\n            ",141],"}",",",["T_WHITESPACE"," ",142],["T_VARIABLE","$prices",142],")",["T_WHITESPACE","\n        ",142],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$skuDiff",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","invalidSkuChecker",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","retrieveInvalidSkuList",144],"(",["T_VARIABLE","$skus",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","allowedProductTypes",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$idsBySku",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","productIdLocator",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","retrieveProductIdsBySkus",145],"(",["T_VARIABLE","$skus",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$pricesBySku",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"[","]",";",["T_WHITESPACE","\n\n        ",147],["T_FOREACH","foreach",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$prices",149],["T_WHITESPACE"," ",149],["T_AS","as",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$price",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$pricesBySku",150],"[",["T_VARIABLE","$price",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getSku",150],"(",")","]","[","]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$price",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$prices",153],["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$key",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$price",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","checkSku",154],"(",["T_VARIABLE","$price",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$key",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$skuDiff",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$validationResult",154],")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","checkPrice",155],"(",["T_VARIABLE","$price",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$key",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$validationResult",155],")",";",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$ids",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_ISSET","isset",156],"(",["T_VARIABLE","$idsBySku",156],"[",["T_VARIABLE","$price",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getSku",156],"(",")","]",")",["T_WHITESPACE"," ",156],"?",["T_WHITESPACE"," ",156],["T_VARIABLE","$idsBySku",156],"[",["T_VARIABLE","$price",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getSku",156],"(",")","]",["T_WHITESPACE"," ",156],":",["T_WHITESPACE"," ",156],"[","]",";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","checkPriceType",157],"(",["T_VARIABLE","$price",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$ids",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$key",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$validationResult",157],")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","checkQuantity",158],"(",["T_VARIABLE","$price",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$key",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$validationResult",158],")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","checkWebsite",159],"(",["T_VARIABLE","$price",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$key",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$validationResult",159],")",";",["T_WHITESPACE","\n            ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_ISSET","isset",160],"(",["T_VARIABLE","$pricesBySku",160],"[",["T_VARIABLE","$price",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getSku",160],"(",")","]",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","checkUnique",161],"(",["T_VARIABLE","$price",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$pricesBySku",161],"[",["T_VARIABLE","$price",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getSku",161],"(",")","]",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$key",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$validationResult",161],")",";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","checkUnique",163],"(",["T_VARIABLE","$price",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$existingPrices",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$key",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$validationResult",163],")",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","checkGroup",164],"(",["T_VARIABLE","$price",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$key",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$validationResult",164],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$validationResult",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Check that sku value is correct.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $price\n     * @param int $key\n     * @param array $invalidSkus\n     * @param Result $validationResult\n     * @return void\n     *\/",170],["T_WHITESPACE","\n    ",178],["T_PRIVATE","private",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","checkSku",179],"(",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Catalog",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Api",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Data",180],["T_NS_SEPARATOR","\\",180],["T_STRING","TierPriceInterface",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$price",180],",",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$key",181],",",["T_WHITESPACE","\n        ",181],["T_ARRAY","array",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$invalidSkus",182],",",["T_WHITESPACE","\n        ",182],["T_STRING","Result",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$validationResult",183],["T_WHITESPACE","\n    ",183],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(","!",["T_VARIABLE","$price",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getSku",185],"(",")",["T_WHITESPACE"," ",185],["T_BOOLEAN_OR","||",185],["T_WHITESPACE"," ",185],["T_STRING","in_array",185],"(",["T_VARIABLE","$price",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getSku",185],"(",")",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$invalidSkus",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$validationResult",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","addFailedItem",186],"(",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$key",187],",",["T_WHITESPACE","\n                ",187],["T_STRING","__",188],"(",["T_WHITESPACE","\n                    ",188],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute %fieldName = %fieldValue.'",189],",",["T_WHITESPACE","\n                    ",189],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",190],"]",["T_WHITESPACE","\n                ",190],")",",",["T_WHITESPACE","\n                ",191],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'SKU'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$price",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getSku",192],"(",")","]",["T_WHITESPACE","\n            ",192],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Verify that price value is correct.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $price\n     * @param int $key\n     * @param Result $validationResult\n     * @return void\n     *\/",197],["T_WHITESPACE","\n    ",204],["T_PRIVATE","private",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","checkPrice",205],"(",["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Catalog",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Api",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Data",205],["T_NS_SEPARATOR","\\",205],["T_STRING","TierPriceInterface",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$price",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$key",205],",",["T_WHITESPACE"," ",205],["T_STRING","Result",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$validationResult",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_WHITESPACE","\n            ",207],["T_STRING","null",208],["T_WHITESPACE"," ",208],["T_IS_IDENTICAL","===",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$price",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getPrice",208],"(",")",["T_WHITESPACE","\n            ",208],["T_BOOLEAN_OR","||",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$price",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getPrice",209],"(",")",["T_WHITESPACE"," ",209],"<",["T_WHITESPACE"," ",209],["T_LNUMBER","0",209],["T_WHITESPACE","\n            ",209],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$price",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getPriceType",210],"(",")",["T_WHITESPACE"," ",210],["T_IS_IDENTICAL","===",210],["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Catalog",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Api",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Data",210],["T_NS_SEPARATOR","\\",210],["T_STRING","TierPriceInterface",210],["T_DOUBLE_COLON","::",210],["T_STRING","PRICE_TYPE_DISCOUNT",210],["T_WHITESPACE","\n                ",210],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$price",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getPrice",211],"(",")",["T_WHITESPACE"," ",211],">",["T_WHITESPACE"," ",211],["T_LNUMBER","100",211],["T_WHITESPACE","\n            ",211],")",["T_WHITESPACE","\n        ",212],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$validationResult",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","addFailedItem",214],"(",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$key",215],",",["T_WHITESPACE","\n                ",215],["T_STRING","__",216],"(",["T_WHITESPACE","\n                    ",216],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute %fieldName = %fieldValue.'",217],",",["T_WHITESPACE","\n                    ",217],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",218],"]",["T_WHITESPACE","\n                ",218],")",",",["T_WHITESPACE","\n                ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'Price'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$price",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getPrice",220],"(",")","]",["T_WHITESPACE","\n            ",220],")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Verify that price type is correct.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $price\n     * @param array $ids\n     * @param int $key\n     * @param Result $validationResult\n     * @return void\n     *\/",225],["T_WHITESPACE","\n    ",233],["T_PRIVATE","private",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","checkPriceType",234],"(",["T_WHITESPACE","\n        ",234],["T_NS_SEPARATOR","\\",235],["T_STRING","Magento",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Catalog",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Api",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Data",235],["T_NS_SEPARATOR","\\",235],["T_STRING","TierPriceInterface",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$price",235],",",["T_WHITESPACE","\n        ",235],["T_ARRAY","array",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$ids",236],",",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$key",237],",",["T_WHITESPACE","\n        ",237],["T_STRING","Result",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$validationResult",238],["T_WHITESPACE","\n    ",238],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_WHITESPACE","\n            ",240],"!",["T_STRING","in_array",241],"(",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$price",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getPriceType",242],"(",")",",",["T_WHITESPACE","\n                ",242],"[",["T_WHITESPACE","\n                    ",243],["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Catalog",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Api",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Data",244],["T_NS_SEPARATOR","\\",244],["T_STRING","TierPriceInterface",244],["T_DOUBLE_COLON","::",244],["T_STRING","PRICE_TYPE_FIXED",244],",",["T_WHITESPACE","\n                    ",244],["T_NS_SEPARATOR","\\",245],["T_STRING","Magento",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Catalog",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Api",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Data",245],["T_NS_SEPARATOR","\\",245],["T_STRING","TierPriceInterface",245],["T_DOUBLE_COLON","::",245],["T_STRING","PRICE_TYPE_DISCOUNT",245],["T_WHITESPACE","\n                ",245],"]",["T_WHITESPACE","\n            ",246],")",["T_WHITESPACE","\n            ",247],["T_BOOLEAN_OR","||",248],["T_WHITESPACE"," ",248],"(",["T_STRING","array_search",248],"(",["T_NS_SEPARATOR","\\",248],["T_STRING","Magento",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Catalog",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Model",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Product",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Type",248],["T_DOUBLE_COLON","::",248],["T_STRING","TYPE_BUNDLE",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$ids",248],")",["T_WHITESPACE","\n                ",248],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$price",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getPriceType",249],"(",")",["T_WHITESPACE"," ",249],["T_IS_NOT_IDENTICAL","!==",249],["T_WHITESPACE"," ",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Catalog",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Api",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Data",249],["T_NS_SEPARATOR","\\",249],["T_STRING","TierPriceInterface",249],["T_DOUBLE_COLON","::",249],["T_STRING","PRICE_TYPE_DISCOUNT",249],")",["T_WHITESPACE","\n        ",249],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$validationResult",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","addFailedItem",251],"(",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$key",252],",",["T_WHITESPACE","\n                ",252],["T_STRING","__",253],"(",["T_WHITESPACE","\n                    ",253],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute %fieldName = %fieldValue.'",254],",",["T_WHITESPACE","\n                    ",254],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",255],"]",["T_WHITESPACE","\n                ",255],")",",",["T_WHITESPACE","\n                ",256],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Price Type'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$price",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getPriceType",257],"(",")","]",["T_WHITESPACE","\n            ",257],")",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Verify that product quantity is correct.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $price\n     * @param int $key\n     * @param Result $validationResult\n     * @return void\n     *\/",262],["T_WHITESPACE","\n    ",269],["T_PRIVATE","private",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","checkQuantity",270],"(",["T_NS_SEPARATOR","\\",270],["T_STRING","Magento",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Catalog",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Api",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Data",270],["T_NS_SEPARATOR","\\",270],["T_STRING","TierPriceInterface",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$price",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$key",270],",",["T_WHITESPACE"," ",270],["T_STRING","Result",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$validationResult",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$price",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getQuantity",272],"(",")",["T_WHITESPACE"," ",272],"<",["T_WHITESPACE"," ",272],["T_LNUMBER","1",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$validationResult",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","addFailedItem",273],"(",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$key",274],",",["T_WHITESPACE","\n                ",274],["T_STRING","__",275],"(",["T_WHITESPACE","\n                    ",275],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute %fieldName = %fieldValue.'",276],",",["T_WHITESPACE","\n                    ",276],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",277],"]",["T_WHITESPACE","\n                ",277],")",",",["T_WHITESPACE","\n                ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'Quantity'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$price",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getQuantity",279],"(",")","]",["T_WHITESPACE","\n            ",279],")",";",["T_WHITESPACE","\n        ",280],"}",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Verify that website exists.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $price\n     * @param int $key\n     * @param Result $validationResult\n     * @return void\n     *\/",284],["T_WHITESPACE","\n    ",291],["T_PRIVATE","private",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","checkWebsite",292],"(",["T_NS_SEPARATOR","\\",292],["T_STRING","Magento",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Catalog",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Api",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Data",292],["T_NS_SEPARATOR","\\",292],["T_STRING","TierPriceInterface",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$price",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$key",292],",",["T_WHITESPACE"," ",292],["T_STRING","Result",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$validationResult",292],")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_TRY","try",294],["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","websiteRepository",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getById",295],"(",["T_VARIABLE","$price",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getWebsiteId",295],"(",")",")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE"," ",296],["T_CATCH","catch",296],["T_WHITESPACE"," ",296],"(",["T_NS_SEPARATOR","\\",296],["T_STRING","Magento",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Framework",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Exception",296],["T_NS_SEPARATOR","\\",296],["T_STRING","NoSuchEntityException",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$e",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$validationResult",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","addFailedItem",297],"(",["T_WHITESPACE","\n                ",297],["T_VARIABLE","$key",298],",",["T_WHITESPACE","\n                ",298],["T_STRING","__",299],"(",["T_WHITESPACE","\n                    ",299],["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute %fieldName = %fieldValue.'",300],",",["T_WHITESPACE","\n                    ",300],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",301],"]",["T_WHITESPACE","\n                ",301],")",",",["T_WHITESPACE","\n                ",302],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'Website Id'",303],",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$price",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getWebsiteId",303],"(",")","]",["T_WHITESPACE","\n            ",303],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Check website value is unique.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $tierPrice\n     * @param array $prices\n     * @param int $key\n     * @param Result $validationResult\n     * @return void\n     *\/",308],["T_WHITESPACE","\n    ",316],["T_PRIVATE","private",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","checkUnique",317],"(",["T_WHITESPACE","\n        ",317],["T_NS_SEPARATOR","\\",318],["T_STRING","Magento",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Catalog",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Api",318],["T_NS_SEPARATOR","\\",318],["T_STRING","Data",318],["T_NS_SEPARATOR","\\",318],["T_STRING","TierPriceInterface",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$tierPrice",318],",",["T_WHITESPACE","\n        ",318],["T_ARRAY","array",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$prices",319],",",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$key",320],",",["T_WHITESPACE","\n        ",320],["T_STRING","Result",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$validationResult",321],["T_WHITESPACE","\n    ",321],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n        ",322],["T_FOREACH","foreach",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$prices",323],["T_WHITESPACE"," ",323],["T_AS","as",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$price",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$price",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getSku",325],"(",")",["T_WHITESPACE"," ",325],["T_IS_IDENTICAL","===",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$tierPrice",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getSku",325],"(",")",["T_WHITESPACE","\n                ",325],["T_BOOLEAN_AND","&&",326],["T_WHITESPACE"," ",326],["T_STRING","strtolower",326],"(",["T_VARIABLE","$price",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getCustomerGroup",326],"(",")",")",["T_WHITESPACE"," ",326],["T_IS_IDENTICAL","===",326],["T_WHITESPACE"," ",326],["T_STRING","strtolower",326],"(",["T_VARIABLE","$tierPrice",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getCustomerGroup",326],"(",")",")",["T_WHITESPACE","\n                ",326],["T_BOOLEAN_AND","&&",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$price",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getQuantity",327],"(",")",["T_WHITESPACE"," ",327],["T_IS_EQUAL","==",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$tierPrice",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getQuantity",327],"(",")",["T_WHITESPACE","\n                ",327],["T_BOOLEAN_AND","&&",328],["T_WHITESPACE"," ",328],"(",["T_WHITESPACE","\n                    ",328],"(",["T_VARIABLE","$price",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getWebsiteId",329],"(",")",["T_WHITESPACE"," ",329],["T_IS_EQUAL","==",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","allWebsitesValue",329],["T_WHITESPACE","\n                        ",329],["T_BOOLEAN_OR","||",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$tierPrice",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getWebsiteId",330],"(",")",["T_WHITESPACE"," ",330],["T_IS_EQUAL","==",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","allWebsitesValue",330],")",["T_WHITESPACE","\n                    ",330],["T_BOOLEAN_AND","&&",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$price",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getWebsiteId",331],"(",")",["T_WHITESPACE"," ",331],["T_IS_NOT_EQUAL","!=",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$tierPrice",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getWebsiteId",331],"(",")",["T_WHITESPACE","\n                ",331],")",["T_WHITESPACE","\n            ",332],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n                ",333],["T_VARIABLE","$validationResult",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","addFailedItem",334],"(",["T_WHITESPACE","\n                    ",334],["T_VARIABLE","$key",335],",",["T_WHITESPACE","\n                    ",335],["T_STRING","__",336],"(",["T_WHITESPACE","\n                        ",336],["T_CONSTANT_ENCAPSED_STRING","'We found a duplicate website, tier price, customer group and quantity:'",337],["T_WHITESPACE","\n                        ",337],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","' %fieldName1 = %fieldValue1, %fieldName2 = %fieldValue2, %fieldName3 = %fieldValue3.'",338],",",["T_WHITESPACE","\n                        ",338],"[",["T_WHITESPACE","\n                            ",339],["T_CONSTANT_ENCAPSED_STRING","'fieldName1'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'%fieldName1'",340],",",["T_WHITESPACE","\n                            ",340],["T_CONSTANT_ENCAPSED_STRING","'fieldValue1'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue1'",341],",",["T_WHITESPACE","\n                            ",341],["T_CONSTANT_ENCAPSED_STRING","'fieldName2'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'%fieldName2'",342],",",["T_WHITESPACE","\n                            ",342],["T_CONSTANT_ENCAPSED_STRING","'fieldValue2'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue2'",343],",",["T_WHITESPACE","\n                            ",343],["T_CONSTANT_ENCAPSED_STRING","'fieldName3'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'%fieldName3'",344],",",["T_WHITESPACE","\n                            ",344],["T_CONSTANT_ENCAPSED_STRING","'fieldValue3'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue3'",345],["T_WHITESPACE","\n                        ",345],"]",["T_WHITESPACE","\n                    ",346],")",",",["T_WHITESPACE","\n                    ",347],"[",["T_WHITESPACE","\n                        ",348],["T_CONSTANT_ENCAPSED_STRING","'fieldName1'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'Customer Group'",349],",",["T_WHITESPACE","\n                        ",349],["T_CONSTANT_ENCAPSED_STRING","'fieldValue1'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$price",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getCustomerGroup",350],"(",")",",",["T_WHITESPACE","\n                        ",350],["T_CONSTANT_ENCAPSED_STRING","'fieldName2'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'Website Id'",351],",",["T_WHITESPACE","\n                        ",351],["T_CONSTANT_ENCAPSED_STRING","'fieldValue2'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$price",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getWebsiteId",352],"(",")",",",["T_WHITESPACE","\n                        ",352],["T_CONSTANT_ENCAPSED_STRING","'fieldName3'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'Quantity'",353],",",["T_WHITESPACE","\n                        ",353],["T_CONSTANT_ENCAPSED_STRING","'fieldValue3'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$price",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getQuantity",354],"(",")",",",["T_WHITESPACE","\n                    ",354],"]",["T_WHITESPACE","\n                ",355],")",";",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Check customer group exists and has correct value.\n     *\n     * @param \\Magento\\Catalog\\Api\\Data\\TierPriceInterface $price\n     * @param int $key\n     * @param Result $validationResult\n     * @return void\n     *\/",361],["T_WHITESPACE","\n    ",368],["T_PRIVATE","private",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","checkGroup",369],"(",["T_NS_SEPARATOR","\\",369],["T_STRING","Magento",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Catalog",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Api",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Data",369],["T_NS_SEPARATOR","\\",369],["T_STRING","TierPriceInterface",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$price",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$key",369],",",["T_WHITESPACE"," ",369],["T_STRING","Result",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$validationResult",369],")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$customerGroup",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","strtolower",371],"(",["T_VARIABLE","$price",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getCustomerGroup",371],"(",")",")",";",["T_WHITESPACE","\n\n        ",371],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$customerGroup",373],["T_WHITESPACE"," ",373],["T_IS_NOT_EQUAL","!=",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","allGroupsValue",373],["T_WHITESPACE"," ",373],["T_BOOLEAN_AND","&&",373],["T_WHITESPACE"," ",373],["T_STRING","false",373],["T_WHITESPACE"," ",373],["T_IS_IDENTICAL","===",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","retrieveGroupValue",373],"(",["T_VARIABLE","$customerGroup",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$validationResult",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","addFailedItem",374],"(",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$key",375],",",["T_WHITESPACE","\n                ",375],["T_STRING","__",376],"(",["T_WHITESPACE","\n                    ",376],["T_CONSTANT_ENCAPSED_STRING","'No such entity with %fieldName = %fieldValue.'",377],",",["T_WHITESPACE","\n                    ",377],"[",["T_CONSTANT_ENCAPSED_STRING","'fieldName'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'%fieldName'",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'%fieldValue'",378],"]",["T_WHITESPACE","\n                ",378],")",",",["T_WHITESPACE","\n                ",379],"[",["T_WHITESPACE","\n                    ",380],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'Customer Group'",381],",",["T_WHITESPACE","\n                    ",381],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$customerGroup",382],",",["T_WHITESPACE","\n                ",382],"]",["T_WHITESPACE","\n            ",383],")",";",["T_WHITESPACE","\n        ",384],"}",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n    ",386],["T_DOC_COMMENT","\/**\n     * Retrieve customer group id by code.\n     *\n     * @param string $code\n     * @return int|bool\n     *\/",388],["T_WHITESPACE","\n    ",393],["T_PRIVATE","private",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","retrieveGroupValue",394],"(",["T_VARIABLE","$code",394],")",["T_WHITESPACE","\n    ",394],"{",["T_WHITESPACE","\n        ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(","!",["T_ISSET","isset",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","customerGroupsByCode",396],"[",["T_VARIABLE","$code",396],"]",")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_VARIABLE","$searchCriteria",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","searchCriteriaBuilder",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","addFilters",397],"(",["T_WHITESPACE","\n                ",397],"[",["T_WHITESPACE","\n                    ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","filterBuilder",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","setField",399],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_code'",399],")",["T_OBJECT_OPERATOR","->",399],["T_STRING","setValue",399],"(",["T_VARIABLE","$code",399],")",["T_OBJECT_OPERATOR","->",399],["T_STRING","create",399],"(",")",["T_WHITESPACE","\n                ",399],"]",["T_WHITESPACE","\n            ",400],")",";",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$items",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","customerGroupRepository",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getList",402],"(",["T_VARIABLE","$searchCriteria",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","create",402],"(",")",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","getItems",402],"(",")",";",["T_WHITESPACE","\n            ",402],["T_VARIABLE","$item",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_STRING","array_shift",403],"(",["T_VARIABLE","$items",403],")",";",["T_WHITESPACE","\n\n            ",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(","!",["T_VARIABLE","$item",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n                ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","false",406],";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n\n            ",407],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","customerGroupsByCode",409],"[",["T_STRING","strtolower",409],"(",["T_VARIABLE","$item",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getCode",409],"(",")",")","]",["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$item",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getId",409],"(",")",";",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n\n        ",410],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","customerGroupsByCode",412],"[",["T_VARIABLE","$code",412],"]",";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n",413],"}",["T_WHITESPACE","\n",414]]