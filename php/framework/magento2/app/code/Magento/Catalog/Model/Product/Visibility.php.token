[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Catalog Product visibilite model and attribute source model\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","OptionSourceInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DB",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Ddl",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Table",15],";",["T_WHITESPACE","\n\n",15],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Visibility",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DataObject",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","OptionSourceInterface",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","VISIBILITY_NOT_VISIBLE",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_LNUMBER","1",19],";",["T_WHITESPACE","\n\n    ",19],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","VISIBILITY_IN_CATALOG",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_LNUMBER","2",21],";",["T_WHITESPACE","\n\n    ",21],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","VISIBILITY_IN_SEARCH",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_LNUMBER","3",23],";",["T_WHITESPACE","\n\n    ",23],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","VISIBILITY_BOTH",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_LNUMBER","4",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Reference to the attribute instance\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_attribute",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Eav entity attribute\n     *\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_eavEntityAttribute",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute $eavEntityAttribute\n     * @param array $data\n     *\/",41],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Eav",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ResourceModel",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Entity",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Attribute",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$eavEntityAttribute",48],",",["T_WHITESPACE","\n        ",48],["T_ARRAY","array",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$data",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[","]",["T_WHITESPACE","\n    ",49],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_eavEntityAttribute",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$eavEntityAttribute",51],";",["T_WHITESPACE","\n        ",51],["T_STRING","parent",52],["T_DOUBLE_COLON","::",52],["T_STRING","__construct",52],"(",["T_VARIABLE","$data",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Retrieve visible in catalog ids array\n     *\n     * @return string[]\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getVisibleInCatalogIds",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],"[",["T_STRING","self",62],["T_DOUBLE_COLON","::",62],["T_STRING","VISIBILITY_IN_CATALOG",62],",",["T_WHITESPACE"," ",62],["T_STRING","self",62],["T_DOUBLE_COLON","::",62],["T_STRING","VISIBILITY_BOTH",62],"]",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Retrieve visible in search ids array\n     *\n     * @return string[]\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","getVisibleInSearchIds",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],"[",["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","VISIBILITY_IN_SEARCH",72],",",["T_WHITESPACE"," ",72],["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","VISIBILITY_BOTH",72],"]",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Retrieve visible in site ids array\n     *\n     * @return string[]\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getVisibleInSiteIds",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],"[",["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","VISIBILITY_IN_SEARCH",82],",",["T_WHITESPACE"," ",82],["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","VISIBILITY_IN_CATALOG",82],",",["T_WHITESPACE"," ",82],["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","VISIBILITY_BOTH",82],"]",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Retrieve option array\n     *\n     * @return array\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_STATIC","static",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getOptionArray",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n            ",92],["T_STRING","self",93],["T_DOUBLE_COLON","::",93],["T_STRING","VISIBILITY_NOT_VISIBLE",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","__",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Visible Individually'",93],")",",",["T_WHITESPACE","\n            ",93],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","VISIBILITY_IN_CATALOG",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",94],")",",",["T_WHITESPACE","\n            ",94],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","VISIBILITY_IN_SEARCH",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","__",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",95],")",",",["T_WHITESPACE","\n            ",95],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","VISIBILITY_BOTH",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","__",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog, Search'",96],")",["T_WHITESPACE","\n        ",96],"]",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Retrieve all options\n     *\n     * @return array\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_STATIC","static",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getAllOption",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$options",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","self",107],["T_DOUBLE_COLON","::",107],["T_STRING","getOptionArray",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_STRING","array_unshift",108],"(",["T_VARIABLE","$options",108],",",["T_WHITESPACE"," ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","''",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'label'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","''",108],"]",")",";",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$options",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Retrieve all options\n     *\n     * @return array\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_STATIC","static",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getAllOptions",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$res",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[","]",";",["T_WHITESPACE","\n        ",119],["T_FOREACH","foreach",120],["T_WHITESPACE"," ",120],"(",["T_STRING","self",120],["T_DOUBLE_COLON","::",120],["T_STRING","getOptionArray",120],"(",")",["T_WHITESPACE"," ",120],["T_AS","as",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$index",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$res",121],"[","]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$index",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'label'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$value",121],"]",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$res",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Retrieve option text\n     *\n     * @param int $optionId\n     * @return string\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_STATIC","static",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","getOptionText",132],"(",["T_VARIABLE","$optionId",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$options",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","self",134],["T_DOUBLE_COLON","::",134],["T_STRING","getOptionArray",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_ISSET","isset",135],"(",["T_VARIABLE","$options",135],"[",["T_VARIABLE","$optionId",135],"]",")",["T_WHITESPACE"," ",135],"?",["T_WHITESPACE"," ",135],["T_VARIABLE","$options",135],"[",["T_VARIABLE","$optionId",135],"]",["T_WHITESPACE"," ",135],":",["T_WHITESPACE"," ",135],["T_STRING","null",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Retrieve flat column definition\n     *\n     * @return array\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","getFlatColumns",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$attributeCode",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAttribute",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getAttributeCode",145],"(",")",";",["T_WHITESPACE","\n\n        ",145],["T_RETURN","return",147],["T_WHITESPACE"," ",147],"[",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$attributeCode",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],"[",["T_WHITESPACE","\n                ",148],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_STRING","true",149],",",["T_WHITESPACE","\n                ",149],["T_CONSTANT_ENCAPSED_STRING","'default'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","null",150],",",["T_WHITESPACE","\n                ",150],["T_CONSTANT_ENCAPSED_STRING","'extra'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","null",151],",",["T_WHITESPACE","\n                ",151],["T_CONSTANT_ENCAPSED_STRING","'type'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_STRING","Table",152],["T_DOUBLE_COLON","::",152],["T_STRING","TYPE_SMALLINT",152],",",["T_WHITESPACE","\n                ",152],["T_CONSTANT_ENCAPSED_STRING","'nullable'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","true",153],",",["T_WHITESPACE","\n                ",153],["T_CONSTANT_ENCAPSED_STRING","'comment'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'Catalog Product Visibility '",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$attributeCode",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","' column'",154],",",["T_WHITESPACE","\n            ",154],"]",",",["T_WHITESPACE","\n        ",155],"]",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Retrieve Indexes for Flat\n     *\n     * @return array\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","getFlatIndexes",164],"(",")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],"[","]",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Retrieve Select For Flat Attribute update\n     *\n     * @param int $store\n     * @return \\Magento\\Framework\\DB\\Select|null\n     *\/",169],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","getFlatUpdateSelect",175],"(",["T_VARIABLE","$store",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_eavEntityAttribute",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getFlatUpdateSelect",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getAttribute",177],"(",")",",",["T_WHITESPACE"," ",177],["T_VARIABLE","$store",177],")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Set attribute instance\n     *\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $attribute\n     * @return $this\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","setAttribute",186],"(",["T_VARIABLE","$attribute",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_attribute",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$attribute",188],";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Get attribute instance\n     *\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getAttribute",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_attribute",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Add Value Sort To Collection Select\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection $collection\n     * @param string $dir direction\n     * @return $this\n     *\/",202],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","addValueSortToCollection",209],"(",["T_VARIABLE","$collection",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$dir",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'asc'",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$attributeCode",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getAttribute",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getAttributeCode",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$attributeId",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getAttribute",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getId",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$attributeTable",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getAttribute",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","getBackend",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","getTable",213],"(",")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$linkField",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getAttribute",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getEntity",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getLinkField",214],"(",")",";",["T_WHITESPACE","\n\n        ",214],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getAttribute",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","isScopeGlobal",216],"(",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$tableName",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$attributeCode",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'_t'",217],";",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$collection",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getSelect",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","joinLeft",218],"(",["T_WHITESPACE","\n                ",218],"[",["T_VARIABLE","$tableName",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$attributeTable",219],"]",",",["T_WHITESPACE","\n                ",219],"\"",["T_ENCAPSED_AND_WHITESPACE","e.",220],["T_CURLY_OPEN","{",220],["T_VARIABLE","$linkField",220],"}",["T_ENCAPSED_AND_WHITESPACE","=",220],["T_CURLY_OPEN","{",220],["T_VARIABLE","$tableName",220],"}",["T_ENCAPSED_AND_WHITESPACE",".",220],["T_CURLY_OPEN","{",220],["T_VARIABLE","$linkField",220],"}","\"",["T_WHITESPACE"," ",220],".",["T_WHITESPACE","\n                ",220],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",221],["T_CURLY_OPEN","{",221],["T_VARIABLE","$tableName",221],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id='",221],["T_CURLY_OPEN","{",221],["T_VARIABLE","$attributeId",221],"}",["T_ENCAPSED_AND_WHITESPACE","'",221],"\"",["T_WHITESPACE"," ",221],".",["T_WHITESPACE","\n                ",221],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",222],["T_CURLY_OPEN","{",222],["T_VARIABLE","$tableName",222],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id='0'",222],"\"",",",["T_WHITESPACE","\n                ",222],"[","]",["T_WHITESPACE","\n            ",223],")",";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$valueExpr",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$tableName",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'.value'",225],";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$valueTable1",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$attributeCode",227],["T_WHITESPACE"," ",227],".",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'_t1'",227],";",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$valueTable2",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$attributeCode",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'_t2'",228],";",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$collection",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getSelect",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","joinLeft",229],"(",["T_WHITESPACE","\n                ",229],"[",["T_VARIABLE","$valueTable1",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$attributeTable",230],"]",",",["T_WHITESPACE","\n                ",230],"\"",["T_ENCAPSED_AND_WHITESPACE","e.",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$linkField",231],"}",["T_ENCAPSED_AND_WHITESPACE","=",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$valueTable1",231],"}",["T_ENCAPSED_AND_WHITESPACE",".",231],["T_CURLY_OPEN","{",231],["T_VARIABLE","$linkField",231],"}","\"",["T_WHITESPACE"," ",231],".",["T_WHITESPACE","\n                ",231],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",232],["T_CURLY_OPEN","{",232],["T_VARIABLE","$valueTable1",232],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id='",232],["T_CURLY_OPEN","{",232],["T_VARIABLE","$attributeId",232],"}",["T_ENCAPSED_AND_WHITESPACE","'",232],"\"",["T_WHITESPACE"," ",232],".",["T_WHITESPACE","\n                ",232],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",233],["T_CURLY_OPEN","{",233],["T_VARIABLE","$valueTable1",233],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id='0'",233],"\"",",",["T_WHITESPACE","\n                ",233],"[","]",["T_WHITESPACE","\n            ",234],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","joinLeft",235],"(",["T_WHITESPACE","\n                ",235],"[",["T_VARIABLE","$valueTable2",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$attributeTable",236],"]",",",["T_WHITESPACE","\n                ",236],"\"",["T_ENCAPSED_AND_WHITESPACE","e.",237],["T_CURLY_OPEN","{",237],["T_VARIABLE","$linkField",237],"}",["T_ENCAPSED_AND_WHITESPACE","=",237],["T_CURLY_OPEN","{",237],["T_VARIABLE","$valueTable2",237],"}",["T_ENCAPSED_AND_WHITESPACE",".",237],["T_CURLY_OPEN","{",237],["T_VARIABLE","$linkField",237],"}","\"",["T_WHITESPACE"," ",237],".",["T_WHITESPACE","\n                ",237],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",238],["T_CURLY_OPEN","{",238],["T_VARIABLE","$valueTable2",238],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id='",238],["T_CURLY_OPEN","{",238],["T_VARIABLE","$attributeId",238],"}",["T_ENCAPSED_AND_WHITESPACE","'",238],"\"",["T_WHITESPACE"," ",238],".",["T_WHITESPACE","\n                ",238],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",239],["T_CURLY_OPEN","{",239],["T_VARIABLE","$valueTable2",239],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id='",239],["T_CURLY_OPEN","{",239],["T_VARIABLE","$collection",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getStoreId",239],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","'",239],"\"",",",["T_WHITESPACE","\n                ",239],"[","]",["T_WHITESPACE","\n            ",240],")",";",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$valueExpr",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$collection",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getConnection",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getCheckSql",242],"(",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$valueTable2",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'.value_id > 0'",243],",",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$valueTable2",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'.value'",244],",",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$valueTable1",245],["T_WHITESPACE"," ",245],".",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'.value'",245],["T_WHITESPACE","\n            ",245],")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$collection",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getSelect",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","order",249],"(",["T_VARIABLE","$valueExpr",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","' '",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_VARIABLE","$dir",249],")",";",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",253],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","toOptionArray",256],"(",")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getAllOptions",258],"(",")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n",259],"}",["T_WHITESPACE","\n",260]]