[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Category",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CatalogUrlRewrite",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CategoryUrlRewriteGenerator",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Category resource collection\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Collection",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Catalog",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Collection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractCollection",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Event prefix\n     *\n     * @var string\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_eventPrefix",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'catalog_category_collection'",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Event object name\n     *\n     * @var string\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_eventObject",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'category_collection'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Name of product table\n     *\n     * @var string\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_productTable",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Store id, that we should count products on\n     *\n     * @var int\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_productStoreId",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Name of product website table\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_productWebsiteTable",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Load with product count flag\n     *\n     * @var boolean\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_loadWithProductCount",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","false",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Init collection and determine table names\n     *\n     * @return void\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","_construct",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_init",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Catalog",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Category",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],",",["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Catalog",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","ResourceModel",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Category",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Add Id filter\n     *\n     * @param array $categoryIds\n     * @return $this\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","addIdFilter",75],"(",["T_VARIABLE","$categoryIds",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_STRING","is_array",77],"(",["T_VARIABLE","$categoryIds",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_EMPTY","empty",78],"(",["T_VARIABLE","$categoryIds",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$condition",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE"," ",80],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$condition",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$categoryIds",81],"]",";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE"," ",83],["T_ELSEIF","elseif",83],["T_WHITESPACE"," ",83],"(",["T_STRING","is_numeric",83],"(",["T_VARIABLE","$categoryIds",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$condition",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$categoryIds",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE"," ",85],["T_ELSEIF","elseif",85],["T_WHITESPACE"," ",85],"(",["T_STRING","is_string",85],"(",["T_VARIABLE","$categoryIds",85],")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$ids",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","explode",86],"(",["T_CONSTANT_ENCAPSED_STRING","','",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$categoryIds",86],")",";",["T_WHITESPACE","\n            ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_EMPTY","empty",87],"(",["T_VARIABLE","$ids",87],")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$condition",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$categoryIds",88],";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$condition",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$ids",90],"]",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","addFieldToFilter",93],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$condition",93],")",";",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Set flag for loading product count\n     *\n     * @param boolean $flag\n     * @return $this\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","setLoadProductCount",103],"(",["T_VARIABLE","$flag",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_loadWithProductCount",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$flag",105],";",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Before collection load\n     *\n     * @return $this\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","_beforeLoad",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_eventManager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","dispatch",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_eventPrefix",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'_load_before'",116],",",["T_WHITESPACE"," ",116],"[",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_eventObject",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],"]",")",";",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_STRING","parent",117],["T_DOUBLE_COLON","::",117],["T_STRING","_beforeLoad",117],"(",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * After collection load\n     *\n     * @return $this\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","_afterLoad",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_eventManager",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","dispatch",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_eventPrefix",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'_load_after'",127],",",["T_WHITESPACE"," ",127],"[",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_eventObject",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],"]",")",";",["T_WHITESPACE","\n\n        ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","parent",129],["T_DOUBLE_COLON","::",129],["T_STRING","_afterLoad",129],"(",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Set id of the store that we should count products on\n     *\n     * @param int $storeId\n     * @return $this\n     *\/",132],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","setProductStoreId",138],"(",["T_VARIABLE","$storeId",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_productStoreId",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$storeId",140],";",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Get id of the store that we should count products on\n     *\n     * @return int\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","getProductStoreId",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_productStoreId",151],["T_WHITESPACE"," ",151],["T_IS_IDENTICAL","===",151],["T_WHITESPACE"," ",151],["T_STRING","null",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_productStoreId",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Store",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Model",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Store",152],["T_DOUBLE_COLON","::",152],["T_STRING","DEFAULT_STORE_ID",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_productStoreId",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Load collection\n     *\n     * @param bool $printQuery\n     * @param bool $logQuery\n     * @return $this\n     *\/",157],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","load",164],"(",["T_VARIABLE","$printQuery",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","false",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$logQuery",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","false",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","isLoaded",166],"(",")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n\n        ",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_loadWithProductCount",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","addAttributeToSelect",171],"(",["T_CONSTANT_ENCAPSED_STRING","'all_children'",171],")",";",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","addAttributeToSelect",172],"(",["T_CONSTANT_ENCAPSED_STRING","'is_anchor'",172],")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_STRING","parent",175],["T_DOUBLE_COLON","::",175],["T_STRING","load",175],"(",["T_VARIABLE","$printQuery",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$logQuery",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_loadWithProductCount",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_loadProductCount",178],"(",")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Load categories product count\n     *\n     * @return void\n     *\/",184],["T_WHITESPACE","\n    ",188],["T_PROTECTED","protected",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","_loadProductCount",189],"(",")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","loadProductCount",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_items",191],",",["T_WHITESPACE"," ",191],["T_STRING","true",191],",",["T_WHITESPACE"," ",191],["T_STRING","true",191],")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Load product count for specified items\n     *\n     * @param array $items\n     * @param boolean $countRegular get product count for regular (non-anchor) categories\n     * @param boolean $countAnchor get product count for anchor categories\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",194],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","loadProductCount",204],"(",["T_VARIABLE","$items",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$countRegular",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","true",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$countAnchor",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","true",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$anchor",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],"[","]",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$regular",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[","]",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$websiteId",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_storeManager",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getStore",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getProductStoreId",208],"(",")",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","getWebsiteId",208],"(",")",";",["T_WHITESPACE","\n\n        ",208],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$items",210],["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$item",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$item",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getIsAnchor",211],"(",")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$anchor",212],"[",["T_VARIABLE","$item",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getId",212],"(",")","]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$item",212],";",["T_WHITESPACE","\n            ",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$regular",214],"[",["T_VARIABLE","$item",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getId",214],"(",")","]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$item",214],";",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$countRegular",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_COMMENT","\/\/ Retrieve regular categories product counts\n",219],["T_WHITESPACE","            ",220],["T_VARIABLE","$regularIds",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","array_keys",220],"(",["T_VARIABLE","$regular",220],")",";",["T_WHITESPACE","\n            ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(","!",["T_EMPTY","empty",221],"(",["T_VARIABLE","$regularIds",221],")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$select",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_conn",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","select",222],"(",")",";",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$select",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","from",223],"(",["T_WHITESPACE","\n                    ",223],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getProductTable",224],"(",")","]",",",["T_WHITESPACE","\n                    ",224],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",225],",",["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Zend_Db_Expr",225],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(main_table.product_id)'",225],")","]",["T_WHITESPACE","\n                ",225],")",["T_OBJECT_OPERATOR","->",226],["T_STRING","where",226],"(",["T_WHITESPACE","\n                    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_conn",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","quoteInto",227],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.category_id IN(?)'",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$regularIds",227],")",["T_WHITESPACE","\n                ",227],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","group",228],"(",["T_WHITESPACE","\n                    ",228],["T_CONSTANT_ENCAPSED_STRING","'main_table.category_id'",229],["T_WHITESPACE","\n                ",229],")",";",["T_WHITESPACE","\n                ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$websiteId",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$select",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","join",232],"(",["T_WHITESPACE","\n                        ",232],"[",["T_CONSTANT_ENCAPSED_STRING","'w'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getProductWebsiteTable",233],"(",")","]",",",["T_WHITESPACE","\n                        ",233],["T_CONSTANT_ENCAPSED_STRING","'main_table.product_id = w.product_id'",234],",",["T_WHITESPACE","\n                        ",234],"[","]",["T_WHITESPACE","\n                    ",235],")",["T_OBJECT_OPERATOR","->",236],["T_STRING","where",236],"(",["T_WHITESPACE","\n                        ",236],["T_CONSTANT_ENCAPSED_STRING","'w.website_id = ?'",237],",",["T_WHITESPACE","\n                        ",237],["T_VARIABLE","$websiteId",238],["T_WHITESPACE","\n                    ",238],")",";",["T_WHITESPACE","\n                ",239],"}",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$counts",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_conn",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","fetchPairs",241],"(",["T_VARIABLE","$select",241],")",";",["T_WHITESPACE","\n                ",241],["T_FOREACH","foreach",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$regular",242],["T_WHITESPACE"," ",242],["T_AS","as",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$item",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                    ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_ISSET","isset",243],"(",["T_VARIABLE","$counts",243],"[",["T_VARIABLE","$item",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getId",243],"(",")","]",")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                        ",243],["T_VARIABLE","$item",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","setProductCount",244],"(",["T_VARIABLE","$counts",244],"[",["T_VARIABLE","$item",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getId",244],"(",")","]",")",";",["T_WHITESPACE","\n                    ",244],"}",["T_WHITESPACE"," ",245],["T_ELSE","else",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                        ",245],["T_VARIABLE","$item",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","setProductCount",246],"(",["T_LNUMBER","0",246],")",";",["T_WHITESPACE","\n                    ",246],"}",["T_WHITESPACE","\n                ",247],"}",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$countAnchor",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_COMMENT","\/\/ Retrieve Anchor categories product counts\n",253],["T_WHITESPACE","            ",254],["T_FOREACH","foreach",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$anchor",254],["T_WHITESPACE"," ",254],["T_AS","as",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$item",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$allChildren",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$item",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getAllChildren",255],"(",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_VARIABLE","$bind",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$item",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getId",256],"(",")",",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'c_path'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$item",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getPath",256],"(",")",["T_WHITESPACE"," ",256],".",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'\/%'",256],"]",";",["T_WHITESPACE","\n                    ",256],["T_VARIABLE","$select",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_conn",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","select",257],"(",")",";",["T_WHITESPACE","\n                    ",257],["T_VARIABLE","$select",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","from",258],"(",["T_WHITESPACE","\n                        ",258],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getProductTable",259],"(",")","]",",",["T_WHITESPACE","\n                        ",259],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Zend_Db_Expr",260],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(DISTINCT main_table.product_id)'",260],")",["T_WHITESPACE","\n                    ",260],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","joinInner",261],"(",["T_WHITESPACE","\n                        ",261],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getTable",262],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_entity'",262],")","]",",",["T_WHITESPACE","\n                        ",262],["T_CONSTANT_ENCAPSED_STRING","'main_table.category_id=e.entity_id'",263],",",["T_WHITESPACE","\n                        ",263],"[","]",["T_WHITESPACE","\n                    ",264],")",["T_OBJECT_OPERATOR","->",265],["T_STRING","where",265],"(",["T_WHITESPACE","\n                        ",265],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = :entity_id'",266],["T_WHITESPACE","\n                    ",266],")",["T_OBJECT_OPERATOR","->",267],["T_STRING","orWhere",267],"(",["T_WHITESPACE","\n                        ",267],["T_CONSTANT_ENCAPSED_STRING","'e.path LIKE :c_path'",268],["T_WHITESPACE","\n                    ",268],")",";",["T_WHITESPACE","\n                    ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$websiteId",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                        ",270],["T_VARIABLE","$select",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","join",271],"(",["T_WHITESPACE","\n                            ",271],"[",["T_CONSTANT_ENCAPSED_STRING","'w'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getProductWebsiteTable",272],"(",")","]",",",["T_WHITESPACE","\n                            ",272],["T_CONSTANT_ENCAPSED_STRING","'main_table.product_id = w.product_id'",273],",",["T_WHITESPACE","\n                            ",273],"[","]",["T_WHITESPACE","\n                        ",274],")",["T_OBJECT_OPERATOR","->",275],["T_STRING","where",275],"(",["T_WHITESPACE","\n                            ",275],["T_CONSTANT_ENCAPSED_STRING","'w.website_id = ?'",276],",",["T_WHITESPACE","\n                            ",276],["T_VARIABLE","$websiteId",277],["T_WHITESPACE","\n                        ",277],")",";",["T_WHITESPACE","\n                    ",278],"}",["T_WHITESPACE","\n                    ",279],["T_VARIABLE","$item",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","setProductCount",280],"(",["T_INT_CAST","(int)",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_conn",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","fetchOne",280],"(",["T_VARIABLE","$select",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$bind",280],")",")",";",["T_WHITESPACE","\n                ",280],"}",["T_WHITESPACE"," ",281],["T_ELSE","else",281],["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                    ",281],["T_VARIABLE","$item",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","setProductCount",282],"(",["T_LNUMBER","0",282],")",";",["T_WHITESPACE","\n                ",282],"}",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Add category path filter\n     *\n     * @param string $regexp\n     * @return $this\n     *\/",289],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","addPathFilter",295],"(",["T_VARIABLE","$regexp",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","addFieldToFilter",297],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",297],",",["T_WHITESPACE"," ",297],"[",["T_CONSTANT_ENCAPSED_STRING","'regexp'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$regexp",297],"]",")",";",["T_WHITESPACE","\n        ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Joins url rewrite rules to collection\n     *\n     * @return $this\n     *\/",301],["T_WHITESPACE","\n    ",305],["T_PUBLIC","public",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","joinUrlRewrite",306],"(",")",["T_WHITESPACE","\n    ",306],"{",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","joinTable",308],"(",["T_WHITESPACE","\n            ",308],["T_CONSTANT_ENCAPSED_STRING","'url_rewrite'",309],",",["T_WHITESPACE","\n            ",309],["T_CONSTANT_ENCAPSED_STRING","'entity_id = entity_id'",310],",",["T_WHITESPACE","\n            ",310],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",311],"]",",",["T_WHITESPACE","\n            ",311],["T_STRING","sprintf",312],"(",["T_WHITESPACE","\n                ",312],["T_CONSTANT_ENCAPSED_STRING","'{{table}}.is_autogenerated = 1 AND {{table}}.store_id = %d AND {{table}}.entity_type = \\'%s\\''",313],",",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_storeManager",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getStore",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","getId",314],"(",")",",",["T_WHITESPACE","\n                ",314],["T_STRING","CategoryUrlRewriteGenerator",315],["T_DOUBLE_COLON","::",315],["T_STRING","ENTITY_TYPE",315],["T_WHITESPACE","\n            ",315],")",",",["T_WHITESPACE","\n            ",316],["T_CONSTANT_ENCAPSED_STRING","'left'",317],["T_WHITESPACE","\n        ",317],")",";",["T_WHITESPACE","\n        ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Add active category filter\n     *\n     * @return $this\n     *\/",322],["T_WHITESPACE","\n    ",326],["T_PUBLIC","public",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","addIsActiveFilter",327],"(",")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","addAttributeToFilter",329],"(",["T_CONSTANT_ENCAPSED_STRING","'is_active'",329],",",["T_WHITESPACE"," ",329],["T_LNUMBER","1",329],")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_eventManager",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","dispatch",330],"(",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_eventPrefix",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'_add_is_active_filter'",331],",",["T_WHITESPACE","\n            ",331],"[",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_eventObject",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],"]",["T_WHITESPACE","\n        ",332],")",";",["T_WHITESPACE","\n        ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Add name attribute to result\n     *\n     * @return $this\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","addNameToResult",342],"(",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","addAttributeToSelect",344],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",344],")",";",["T_WHITESPACE","\n        ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Add url rewrite rules to collection\n     *\n     * @return $this\n     *\/",348],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","addUrlRewriteToResult",353],"(",")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","joinUrlRewrite",355],"(",")",";",["T_WHITESPACE","\n        ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Add category path filter\n     *\n     * @param array|string $paths\n     * @return $this\n     *\/",359],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","addPathsFilter",365],"(",["T_VARIABLE","$paths",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(","!",["T_STRING","is_array",367],"(",["T_VARIABLE","$paths",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$paths",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],"[",["T_VARIABLE","$paths",368],"]",";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$connection",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getResource",370],"(",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","getConnection",370],"(",")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$cond",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],"[","]",";",["T_WHITESPACE","\n        ",371],["T_FOREACH","foreach",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$paths",372],["T_WHITESPACE"," ",372],["T_AS","as",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$path",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$cond",373],"[","]",["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$connection",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","quoteInto",373],"(",["T_CONSTANT_ENCAPSED_STRING","'e.path LIKE ?'",373],",",["T_WHITESPACE"," ",373],"\"",["T_CURLY_OPEN","{",373],["T_VARIABLE","$path",373],"}",["T_ENCAPSED_AND_WHITESPACE","%",373],"\"",")",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$cond",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getSelect",376],"(",")",["T_OBJECT_OPERATOR","->",376],["T_STRING","where",376],"(",["T_STRING","join",376],"(",["T_CONSTANT_ENCAPSED_STRING","' OR '",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$cond",376],")",")",";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Add category level filter\n     *\n     * @param int|string $level\n     * @return $this\n     *\/",381],["T_WHITESPACE","\n    ",386],["T_PUBLIC","public",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","addLevelFilter",387],"(",["T_VARIABLE","$level",387],")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","addFieldToFilter",389],"(",["T_CONSTANT_ENCAPSED_STRING","'level'",389],",",["T_WHITESPACE"," ",389],"[",["T_CONSTANT_ENCAPSED_STRING","'lteq'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$level",389],"]",")",";",["T_WHITESPACE","\n        ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Add root category filter\n     *\n     * @return $this\n     *\/",393],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","addRootLevelFilter",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","addFieldToFilter",400],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",400],",",["T_WHITESPACE"," ",400],"[",["T_CONSTANT_ENCAPSED_STRING","'neq'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'1'",400],"]",")",";",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","addLevelFilter",401],"(",["T_LNUMBER","1",401],")",";",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Add order field\n     *\n     * @param string $field\n     * @return $this\n     *\/",405],["T_WHITESPACE","\n    ",410],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","addOrderField",411],"(",["T_VARIABLE","$field",411],")",["T_WHITESPACE","\n    ",411],"{",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","setOrder",413],"(",["T_VARIABLE","$field",413],",",["T_WHITESPACE"," ",413],["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_STRING","SORT_ORDER_ASC",413],")",";",["T_WHITESPACE","\n        ",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],";",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * Getter for _productWebsiteTable\n     *\n     * @return string\n     *\/",417],["T_WHITESPACE","\n    ",421],["T_PUBLIC","public",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","getProductWebsiteTable",422],"(",")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_EMPTY","empty",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_productWebsiteTable",424],")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_productWebsiteTable",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getTable",425],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_website'",425],")",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_productWebsiteTable",427],";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Getter for _productTable\n     *\n     * @return string\n     *\/",430],["T_WHITESPACE","\n    ",434],["T_PUBLIC","public",435],["T_WHITESPACE"," ",435],["T_FUNCTION","function",435],["T_WHITESPACE"," ",435],["T_STRING","getProductTable",435],"(",")",["T_WHITESPACE","\n    ",435],"{",["T_WHITESPACE","\n        ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_EMPTY","empty",437],"(",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_productTable",437],")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_productTable",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getTable",438],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product'",438],")",";",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_productTable",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n",441],"}",["T_WHITESPACE","\n",442]]