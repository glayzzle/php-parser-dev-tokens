[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Category",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Node",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Retrieve category data represented in tree structure\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Tree",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Tree\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$categoryTree",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$storeManager",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Collection\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$categoryCollection",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\Data\\CategoryTreeInterfaceFactory\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$treeFactory",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Tree $categoryTree\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Category\\Collection $categoryCollection\n     * @param \\Magento\\Catalog\\Api\\Data\\CategoryTreeInterfaceFactory $treeFactory\n     *\/",35],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Catalog",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","ResourceModel",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Category",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Tree",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$categoryTree",42],",",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Store",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Model",43],["T_NS_SEPARATOR","\\",43],["T_STRING","StoreManagerInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$storeManager",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Catalog",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Model",44],["T_NS_SEPARATOR","\\",44],["T_STRING","ResourceModel",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Category",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Collection",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$categoryCollection",44],",",["T_WHITESPACE","\n        ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Catalog",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Api",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Data",45],["T_NS_SEPARATOR","\\",45],["T_STRING","CategoryTreeInterfaceFactory",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$treeFactory",45],["T_WHITESPACE","\n    ",45],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","categoryTree",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$categoryTree",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","storeManager",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$storeManager",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","categoryCollection",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$categoryCollection",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","treeFactory",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$treeFactory",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Category|null $category\n     * @return Node|null\n     *\/",53],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","getRootNode",57],"(",["T_VARIABLE","$category",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$category",59],["T_WHITESPACE"," ",59],["T_IS_NOT_IDENTICAL","!==",59],["T_WHITESPACE"," ",59],["T_STRING","null",59],["T_WHITESPACE"," ",59],["T_BOOLEAN_AND","&&",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$category",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getId",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getNode",60],"(",["T_VARIABLE","$category",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$store",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","storeManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getStore",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$rootId",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$store",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getRootCategoryId",64],"(",")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$tree",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","categoryTree",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],"(",["T_STRING","null",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","prepareCollection",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$tree",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","addCollectionData",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","categoryCollection",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$root",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$tree",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getNodeById",69],"(",["T_VARIABLE","$rootId",69],")",";",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$root",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Category $category\n     * @return Node\n     *\/",73],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","getNode",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Catalog",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Category",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$category",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$nodeId",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$category",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$node",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","categoryTree",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","loadNode",80],"(",["T_VARIABLE","$nodeId",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$node",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","loadChildren",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","prepareCollection",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","categoryTree",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addCollectionData",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","categoryCollection",83],")",";",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$node",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","prepareCollection",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$storeId",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","storeManager",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getStore",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getId",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","categoryCollection",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","addAttributeToSelect",93],"(",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'name'",94],["T_WHITESPACE","\n        ",94],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","addAttributeToSelect",95],"(",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'is_active'",96],["T_WHITESPACE","\n        ",96],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","setProductStoreId",97],"(",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$storeId",98],["T_WHITESPACE","\n        ",98],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","setLoadProductCount",99],"(",["T_WHITESPACE","\n            ",99],["T_STRING","true",100],["T_WHITESPACE","\n        ",100],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","setStoreId",101],"(",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$storeId",102],["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Tree\\Node $node\n     * @param int $depth\n     * @param int $currentLevel\n     * @return \\Magento\\Catalog\\Api\\Data\\CategoryTreeInterface\n     *\/",106],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getTree",112],"(",["T_VARIABLE","$node",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$depth",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","null",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$currentLevel",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\CategoryTreeInterface[] $children *\/",114],["T_WHITESPACE","\n        ",114],["T_VARIABLE","$children",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getChildren",115],"(",["T_VARIABLE","$node",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$depth",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$currentLevel",115],")",";",["T_WHITESPACE","\n        ",115],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\CategoryTreeInterface $tree *\/",116],["T_WHITESPACE","\n        ",116],["T_VARIABLE","$tree",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","treeFactory",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","create",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$tree",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setId",118],"(",["T_VARIABLE","$node",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getId",118],"(",")",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","setParentId",119],"(",["T_VARIABLE","$node",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getParentId",119],"(",")",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","setName",120],"(",["T_VARIABLE","$node",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getName",120],"(",")",")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","setPosition",121],"(",["T_VARIABLE","$node",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getPosition",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","setLevel",122],"(",["T_VARIABLE","$node",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getLevel",122],"(",")",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setIsActive",123],"(",["T_VARIABLE","$node",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getIsActive",123],"(",")",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setProductCount",124],"(",["T_VARIABLE","$node",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getProductCount",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setChildrenData",125],"(",["T_VARIABLE","$children",125],")",";",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$tree",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Data\\Tree\\Node $node\n     * @param int $depth\n     * @param int $currentLevel\n     * @return \\Magento\\Catalog\\Api\\Data\\CategoryTreeInterface[]|[]\n     *\/",129],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getChildren",135],"(",["T_VARIABLE","$node",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$depth",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$currentLevel",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$node",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","hasChildren",137],"(",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$children",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"[","]",";",["T_WHITESPACE","\n            ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$node",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getChildren",139],"(",")",["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$child",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$depth",140],["T_WHITESPACE"," ",140],["T_IS_NOT_IDENTICAL","!==",140],["T_WHITESPACE"," ",140],["T_STRING","null",140],["T_WHITESPACE"," ",140],["T_BOOLEAN_AND","&&",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$depth",140],["T_WHITESPACE"," ",140],["T_IS_SMALLER_OR_EQUAL","<=",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$currentLevel",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                    ",140],["T_BREAK","break",141],";",["T_WHITESPACE","\n                ",141],"}",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$children",143],"[","]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getTree",143],"(",["T_VARIABLE","$child",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$depth",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$currentLevel",143],["T_WHITESPACE"," ",143],"+",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],")",";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE","\n            ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$children",145],";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n        ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],"[","]",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n",148],"}",["T_WHITESPACE","\n",149]]