[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Indexer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Flat",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceConnection",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityManager",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MetadataPool",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class FlatTableBuilder\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","FlatTableBuilder",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$metadataPool",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Path to maximum available amount of indexes for flat indexer\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","XML_NODE_MAX_INDEX_COUNT",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/flat\/max_index_count'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Helper\\Product\\Flat\\Indexer\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_productIndexerHelper",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_connection",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_config",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_storeManager",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var TableDataInterface\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_tableData",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$resource",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Helper\\Product\\Flat\\Indexer $productIndexerHelper\n     * @param ResourceConnection $resource\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param TableDataInterface $tableData\n     *\/",58],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Catalog",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Helper",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Product",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Flat",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Indexer",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$productIndexerHelper",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","App",67],["T_NS_SEPARATOR","\\",67],["T_STRING","ResourceConnection",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$resource",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","App",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Config",68],["T_NS_SEPARATOR","\\",68],["T_STRING","ScopeConfigInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$config",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Store",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","StoreManagerInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$storeManager",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Catalog",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Indexer",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Product",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Flat",70],["T_NS_SEPARATOR","\\",70],["T_STRING","TableDataInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$tableData",70],["T_WHITESPACE","\n    ",70],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_productIndexerHelper",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$productIndexerHelper",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","resource",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$resource",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_connection",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$resource",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getConnection",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_config",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$config",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_storeManager",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$storeManager",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_tableData",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$tableData",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Prepare temporary flat tables\n     *\n     * @param int|string $storeId\n     * @param array $changedIds\n     * @param string $valueFieldSuffix\n     * @param string $tableDropSuffix\n     * @param bool $fillTmpTables\n     * @return void\n     *\/",80],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","build",90],"(",["T_VARIABLE","$storeId",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$changedIds",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$valueFieldSuffix",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$tableDropSuffix",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$fillTmpTables",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$attributes",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_productIndexerHelper",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getAttributes",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$eavAttributes",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_productIndexerHelper",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getTablesStructure",93],"(",["T_VARIABLE","$attributes",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_createTemporaryFlatTable",95],"(",["T_VARIABLE","$storeId",95],")",";",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$fillTmpTables",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_fillTemporaryFlatTable",98],"(",["T_VARIABLE","$eavAttributes",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$storeId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$valueFieldSuffix",98],")",";",["T_WHITESPACE","\n            ",98],["T_COMMENT","\/\/Update zero based attributes by values from current store\n",99],["T_WHITESPACE","            ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_updateTemporaryTableByStoreValues",100],"(",["T_VARIABLE","$eavAttributes",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$changedIds",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$storeId",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$valueFieldSuffix",100],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$flatTable",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_productIndexerHelper",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getFlatTableName",103],"(",["T_VARIABLE","$storeId",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$flatDropName",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$flatTable",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$tableDropSuffix",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$temporaryFlatTableName",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_getTemporaryTableName",105],"(",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_productIndexerHelper",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getFlatTableName",106],"(",["T_VARIABLE","$storeId",106],")",["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_tableData",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","move",108],"(",["T_VARIABLE","$flatTable",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$flatDropName",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$temporaryFlatTableName",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Prepare flat table for store\n     *\n     * @param int|string $storeId\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",111],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","_createTemporaryFlatTable",120],"(",["T_VARIABLE","$storeId",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$columns",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_productIndexerHelper",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getFlatColumns",122],"(",")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$indexesNeed",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_productIndexerHelper",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getFlatIndexes",124],"(",")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$maxIndex",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_config",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getValue",126],"(",["T_WHITESPACE","\n            ",126],["T_STRING","self",127],["T_DOUBLE_COLON","::",127],["T_STRING","XML_NODE_MAX_INDEX_COUNT",127],["T_WHITESPACE","\n        ",127],")",";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$maxIndex",129],["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_STRING","count",129],"(",["T_VARIABLE","$indexesNeed",129],")",["T_WHITESPACE"," ",129],">",["T_WHITESPACE"," ",129],["T_VARIABLE","$maxIndex",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Framework",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Exception",130],["T_NS_SEPARATOR","\\",130],["T_STRING","LocalizedException",130],"(",["T_WHITESPACE","\n                ",130],["T_STRING","__",131],"(",["T_WHITESPACE","\n                    ",131],["T_CONSTANT_ENCAPSED_STRING","'The Flat Catalog module has a limit of %2$d filterable and\/or sortable attributes.'",132],["T_WHITESPACE","\n                    ",132],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'Currently there are %1$d of them.'",133],["T_WHITESPACE","\n                    ",133],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'Please reduce the number of filterable\/sortable attributes in order to use this module'",134],",",["T_WHITESPACE","\n                    ",134],["T_STRING","count",135],"(",["T_VARIABLE","$indexesNeed",135],")",",",["T_WHITESPACE","\n                    ",135],["T_VARIABLE","$maxIndex",136],["T_WHITESPACE","\n                ",136],")",["T_WHITESPACE","\n            ",137],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$indexKeys",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[","]",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$indexProps",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","array_values",142],"(",["T_VARIABLE","$indexesNeed",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$upperPrimaryKey",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","strtoupper",143],"(",["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Framework",143],["T_NS_SEPARATOR","\\",143],["T_STRING","DB",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Adapter",143],["T_NS_SEPARATOR","\\",143],["T_STRING","AdapterInterface",143],["T_DOUBLE_COLON","::",143],["T_STRING","INDEX_TYPE_PRIMARY",143],")",";",["T_WHITESPACE","\n        ",143],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$indexProps",144],["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$i",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$indexProp",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$indexName",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_connection",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getIndexName",145],"(",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_getTemporaryTableName",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_productIndexerHelper",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getFlatTableName",146],"(",["T_VARIABLE","$storeId",146],")",")",",",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$indexProp",147],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",147],"]",",",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$indexProp",148],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",148],"]",["T_WHITESPACE","\n            ",148],")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$indexProp",150],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","strtoupper",150],"(",["T_VARIABLE","$indexProp",150],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",150],"]",")",";",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$indexProp",151],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",151],"]",["T_WHITESPACE"," ",151],["T_IS_EQUAL","==",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$upperPrimaryKey",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$indexKey",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$upperPrimaryKey",152],";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$indexKey",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$indexName",154],";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n\n            ",155],["T_VARIABLE","$indexProps",157],"[",["T_VARIABLE","$i",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'KEY_NAME'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$indexName",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'COLUMNS_LIST'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$indexProp",159],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",159],"]",",",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'INDEX_TYPE'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_STRING","strtolower",160],"(",["T_VARIABLE","$indexProp",160],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",160],"]",")",",",["T_WHITESPACE","\n            ",160],"]",";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$indexKeys",162],"[",["T_VARIABLE","$i",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$indexKey",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$indexesNeed",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","array_combine",164],"(",["T_VARIABLE","$indexKeys",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$indexProps",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_DOC_COMMENT","\/** @var $table \\Magento\\Framework\\DB\\Ddl\\Table *\/",166],["T_WHITESPACE","\n        ",166],["T_VARIABLE","$table",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_connection",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","newTable",167],"(",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_getTemporaryTableName",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_productIndexerHelper",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getFlatTableName",168],"(",["T_VARIABLE","$storeId",168],")",")",["T_WHITESPACE","\n        ",168],")",";",["T_WHITESPACE","\n        ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$columns",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$fieldName",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$fieldProp",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$columnLength",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ISSET","isset",171],"(",["T_VARIABLE","$fieldProp",171],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",171],"]",")",["T_WHITESPACE"," ",171],"?",["T_WHITESPACE"," ",171],["T_VARIABLE","$fieldProp",171],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",171],"]",["T_WHITESPACE"," ",171],":",["T_WHITESPACE"," ",171],["T_STRING","null",171],";",["T_WHITESPACE","\n\n            ",171],["T_VARIABLE","$columnDefinition",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],"[",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'nullable'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ISSET","isset",174],"(",["T_VARIABLE","$fieldProp",174],"[",["T_CONSTANT_ENCAPSED_STRING","'nullable'",174],"]",")",["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_BOOL_CAST","(bool)",174],["T_VARIABLE","$fieldProp",174],"[",["T_CONSTANT_ENCAPSED_STRING","'nullable'",174],"]",["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_STRING","false",174],",",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_ISSET","isset",175],"(",["T_VARIABLE","$fieldProp",175],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",175],"]",")",["T_WHITESPACE"," ",175],"?",["T_WHITESPACE"," ",175],["T_BOOL_CAST","(bool)",175],["T_VARIABLE","$fieldProp",175],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",175],"]",["T_WHITESPACE"," ",175],":",["T_WHITESPACE"," ",175],["T_STRING","false",175],",",["T_WHITESPACE","\n                ",175],["T_CONSTANT_ENCAPSED_STRING","'default'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ISSET","isset",176],"(",["T_VARIABLE","$fieldProp",176],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",176],"]",")",["T_WHITESPACE"," ",176],"?",["T_WHITESPACE"," ",176],["T_VARIABLE","$fieldProp",176],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",176],"]",["T_WHITESPACE"," ",176],":",["T_WHITESPACE"," ",176],["T_STRING","false",176],",",["T_WHITESPACE","\n                ",176],["T_CONSTANT_ENCAPSED_STRING","'primary'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_STRING","false",177],",",["T_WHITESPACE","\n            ",177],"]",";",["T_WHITESPACE","\n\n            ",178],["T_VARIABLE","$columnComment",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ISSET","isset",180],"(",["T_VARIABLE","$fieldProp",180],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",180],"]",")",["T_WHITESPACE"," ",180],"?",["T_WHITESPACE"," ",180],["T_VARIABLE","$fieldProp",180],"[",["T_CONSTANT_ENCAPSED_STRING","'comment'",180],"]",["T_WHITESPACE"," ",180],":",["T_WHITESPACE"," ",180],["T_VARIABLE","$fieldName",180],";",["T_WHITESPACE","\n\n            ",180],["T_VARIABLE","$table",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","addColumn",182],"(",["T_VARIABLE","$fieldName",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$fieldProp",182],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",182],"]",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$columnLength",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$columnDefinition",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$columnComment",182],")",";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n\n        ",183],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$indexesNeed",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$indexProp",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$table",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","addIndex",186],"(",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$indexProp",187],"[",["T_CONSTANT_ENCAPSED_STRING","'KEY_NAME'",187],"]",",",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$indexProp",188],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMNS_LIST'",188],"]",",",["T_WHITESPACE","\n                ",188],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$indexProp",189],"[",["T_CONSTANT_ENCAPSED_STRING","'INDEX_TYPE'",189],"]","]",["T_WHITESPACE","\n            ",189],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$table",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setComment",193],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Catalog Product Flat (Store ",193],["T_CURLY_OPEN","{",193],["T_VARIABLE","$storeId",193],"}",["T_ENCAPSED_AND_WHITESPACE",")",193],"\"",")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_connection",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","dropTable",195],"(",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_getTemporaryTableName",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_productIndexerHelper",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getFlatTableName",196],"(",["T_VARIABLE","$storeId",196],")",")",["T_WHITESPACE","\n        ",196],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_connection",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","createTable",198],"(",["T_VARIABLE","$table",198],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Fill temporary flat table by data from temporary flat table parts\n     *\n     * @param array $tables\n     * @param int|string $storeId\n     * @param string $valueFieldSuffix\n     * @return void\n     *\/",201],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","_fillTemporaryFlatTable",209],"(",["T_ARRAY","array",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$tables",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$storeId",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$valueFieldSuffix",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$linkField",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getMetadataPool",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getMetadata",211],"(",["T_STRING","ProductInterface",211],["T_DOUBLE_COLON","::",211],["T_CLASS","class",211],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getLinkField",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$select",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_connection",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","select",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$temporaryFlatTableName",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_getTemporaryTableName",213],"(",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_productIndexerHelper",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getFlatTableName",214],"(",["T_VARIABLE","$storeId",214],")",["T_WHITESPACE","\n        ",214],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$flatColumns",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_productIndexerHelper",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getFlatColumns",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$entityTableName",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_productIndexerHelper",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getTable",217],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$entityTemporaryTableName",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_getTemporaryTableName",218],"(",["T_VARIABLE","$entityTableName",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$columnsList",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","array_keys",219],"(",["T_VARIABLE","$tables",219],"[",["T_VARIABLE","$entityTableName",219],"]",")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$websiteId",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_INT_CAST","(int)",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_storeManager",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getStore",220],"(",["T_VARIABLE","$storeId",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getWebsiteId",220],"(",")",";",["T_WHITESPACE","\n\n        ",220],["T_UNSET","unset",222],"(",["T_VARIABLE","$tables",222],"[",["T_VARIABLE","$entityTableName",222],"]",")",";",["T_WHITESPACE","\n\n        ",222],["T_VARIABLE","$allColumns",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","array_values",224],"(",["T_WHITESPACE","\n            ",224],["T_STRING","array_unique",225],"(",["T_WHITESPACE","\n                ",225],["T_STRING","array_merge",226],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$linkField",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'type_id'",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",226],"]",",",["T_WHITESPACE"," ",226],["T_VARIABLE","$columnsList",226],")",["T_WHITESPACE","\n            ",226],")",["T_WHITESPACE","\n        ",227],")",";",["T_WHITESPACE","\n\n        ",228],["T_COMMENT","\/* @var $status \\Magento\\Eav\\Model\\Entity\\Attribute *\/",230],["T_WHITESPACE","\n        ",230],["T_VARIABLE","$status",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_productIndexerHelper",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getAttribute",231],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$statusTable",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getTemporaryTableName",232],"(",["T_VARIABLE","$status",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getBackendTable",232],"(",")",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$statusConditions",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],"[",["T_WHITESPACE","\n            ",233],["T_STRING","sprintf",234],"(",["T_CONSTANT_ENCAPSED_STRING","'e.%s = dstatus.%s'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$linkField",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$linkField",234],")",",",["T_WHITESPACE","\n            ",234],["T_CONSTANT_ENCAPSED_STRING","'dstatus.store_id = '",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_INT_CAST","(int)",235],["T_VARIABLE","$storeId",235],",",["T_WHITESPACE","\n            ",235],["T_CONSTANT_ENCAPSED_STRING","'dstatus.attribute_id = '",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_INT_CAST","(int)",236],["T_VARIABLE","$status",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getId",236],"(",")",",",["T_WHITESPACE","\n        ",236],"]",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$statusExpression",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_connection",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getIfNullSql",238],"(",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'dstatus.value'",239],",",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_connection",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","quoteIdentifier",240],"(","\"",["T_CURLY_OPEN","{",240],["T_VARIABLE","$statusTable",240],"}",["T_ENCAPSED_AND_WHITESPACE",".status",240],"\"",")",["T_WHITESPACE","\n        ",240],")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$select",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","from",243],"(",["T_WHITESPACE","\n            ",243],"[",["T_CONSTANT_ENCAPSED_STRING","'et'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$entityTemporaryTableName",244],"]",",",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$allColumns",245],["T_WHITESPACE","\n        ",245],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","joinInner",246],"(",["T_WHITESPACE","\n            ",246],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","resource",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTableName",247],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",247],")","]",",",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = et.entity_id'",248],",",["T_WHITESPACE","\n            ",248],"[","]",["T_WHITESPACE","\n        ",249],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","joinInner",250],"(",["T_WHITESPACE","\n            ",250],"[",["T_CONSTANT_ENCAPSED_STRING","'wp'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_productIndexerHelper",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getTable",251],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_website'",251],")","]",",",["T_WHITESPACE","\n            ",251],["T_CONSTANT_ENCAPSED_STRING","'wp.product_id = e.entity_id AND wp.website_id = '",252],["T_WHITESPACE"," ",252],".",["T_WHITESPACE"," ",252],["T_VARIABLE","$websiteId",252],",",["T_WHITESPACE","\n            ",252],"[","]",["T_WHITESPACE","\n        ",253],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","joinLeft",254],"(",["T_WHITESPACE","\n            ",254],"[",["T_CONSTANT_ENCAPSED_STRING","'dstatus'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$status",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getBackend",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","getTable",255],"(",")","]",",",["T_WHITESPACE","\n            ",255],["T_STRING","implode",256],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$statusConditions",256],")",",",["T_WHITESPACE","\n            ",256],"[","]",["T_WHITESPACE","\n        ",257],")",["T_OBJECT_OPERATOR","->",258],["T_STRING","where",258],"(",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$statusExpression",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","' = '",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Magento",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Catalog",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Model",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Product",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Attribute",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Source",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Status",259],["T_DOUBLE_COLON","::",259],["T_STRING","STATUS_ENABLED",259],["T_WHITESPACE","\n        ",259],")",";",["T_WHITESPACE","\n\n        ",260],["T_FOREACH","foreach",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$tables",262],["T_WHITESPACE"," ",262],["T_AS","as",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$tableName",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$columns",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$columnValueNames",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],"[","]",";",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$temporaryTableName",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_getTemporaryTableName",264],"(",["T_VARIABLE","$tableName",264],")",";",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$temporaryValueTableName",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$temporaryTableName",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_VARIABLE","$valueFieldSuffix",265],";",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$columnsNames",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","array_keys",266],"(",["T_VARIABLE","$columns",266],")",";",["T_WHITESPACE","\n\n            ",266],["T_VARIABLE","$select",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","joinLeft",268],"(",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$temporaryTableName",269],",",["T_WHITESPACE","\n                ",269],["T_STRING","sprintf",270],"(",["T_CONSTANT_ENCAPSED_STRING","'e.%1$s = %2$s.%1$s'",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$linkField",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$temporaryTableName",270],")",",",["T_WHITESPACE","\n                ",270],["T_VARIABLE","$columnsNames",271],["T_WHITESPACE","\n            ",271],")",";",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$allColumns",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","array_merge",273],"(",["T_VARIABLE","$allColumns",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$columnsNames",273],")",";",["T_WHITESPACE","\n\n            ",273],["T_FOREACH","foreach",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$columnsNames",275],["T_WHITESPACE"," ",275],["T_AS","as",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$name",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$columnValueName",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$name",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$valueFieldSuffix",276],";",["T_WHITESPACE","\n                ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_ISSET","isset",277],"(",["T_VARIABLE","$flatColumns",277],"[",["T_VARIABLE","$columnValueName",277],"]",")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                    ",277],["T_VARIABLE","$columnValueNames",278],"[","]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$columnValueName",278],";",["T_WHITESPACE","\n                ",278],"}",["T_WHITESPACE","\n            ",279],"}",["T_WHITESPACE","\n            ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_EMPTY","empty",281],"(",["T_VARIABLE","$columnValueNames",281],")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$select",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","joinLeft",282],"(",["T_WHITESPACE","\n                    ",282],["T_VARIABLE","$temporaryValueTableName",283],",",["T_WHITESPACE","\n                    ",283],["T_STRING","sprintf",284],"(",["T_CONSTANT_ENCAPSED_STRING","'e.%1$s = %2$s.%1$s'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$linkField",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$temporaryValueTableName",284],")",",",["T_WHITESPACE","\n                    ",284],["T_VARIABLE","$columnValueNames",285],["T_WHITESPACE","\n                ",285],")",";",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$allColumns",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","array_merge",287],"(",["T_VARIABLE","$allColumns",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$columnValueNames",287],")",";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE","\n        ",288],"}",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$sql",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$select",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","insertFromSelect",290],"(",["T_VARIABLE","$temporaryFlatTableName",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$allColumns",290],",",["T_WHITESPACE"," ",290],["T_STRING","false",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_connection",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","query",291],"(",["T_VARIABLE","$sql",291],")",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Apply diff. between 0 store and current store to temporary flat table\n     *\n     * @param array $tables\n     * @param array $changedIds\n     * @param int|string $storeId\n     * @param string $valueFieldSuffix\n     * @return void\n     *\/",294],["T_WHITESPACE","\n    ",302],["T_PROTECTED","protected",303],["T_WHITESPACE"," ",303],["T_FUNCTION","function",303],["T_WHITESPACE"," ",303],["T_STRING","_updateTemporaryTableByStoreValues",303],"(",["T_WHITESPACE","\n        ",303],["T_ARRAY","array",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$tables",304],",",["T_WHITESPACE","\n        ",304],["T_ARRAY","array",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$changedIds",305],",",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$storeId",306],",",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$valueFieldSuffix",307],["T_WHITESPACE","\n    ",307],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$flatColumns",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_productIndexerHelper",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getFlatColumns",309],"(",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$temporaryFlatTableName",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_getTemporaryTableName",310],"(",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_productIndexerHelper",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getFlatTableName",311],"(",["T_VARIABLE","$storeId",311],")",["T_WHITESPACE","\n        ",311],")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$linkField",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getMetadataPool",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","getMetadata",313],"(",["T_STRING","ProductInterface",313],["T_DOUBLE_COLON","::",313],["T_CLASS","class",313],")",["T_OBJECT_OPERATOR","->",313],["T_STRING","getLinkField",313],"(",")",";",["T_WHITESPACE","\n        ",313],["T_FOREACH","foreach",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$tables",314],["T_WHITESPACE"," ",314],["T_AS","as",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$tableName",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$columns",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$columns",315],["T_WHITESPACE"," ",315],["T_AS","as",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$attribute",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                ",315],["T_COMMENT","\/* @var $attribute \\Magento\\Eav\\Model\\Entity\\Attribute *\/",316],["T_WHITESPACE","\n                ",316],["T_VARIABLE","$attributeCode",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$attribute",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getAttributeCode",317],"(",")",";",["T_WHITESPACE","\n                ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$attribute",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getBackend",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getType",318],"(",")",["T_WHITESPACE"," ",318],["T_IS_NOT_EQUAL","!=",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'static'",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                    ",318],["T_VARIABLE","$joinCondition",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","sprintf",319],"(",["T_CONSTANT_ENCAPSED_STRING","'t.%s = e.%s'",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$linkField",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$linkField",319],")",["T_WHITESPACE"," ",319],".",["T_WHITESPACE","\n                        ",319],["T_CONSTANT_ENCAPSED_STRING","' AND t.attribute_id='",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE","\n                        ",320],["T_VARIABLE","$attribute",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getId",321],"(",")",["T_WHITESPACE"," ",321],".",["T_WHITESPACE","\n                        ",321],["T_CONSTANT_ENCAPSED_STRING","' AND t.store_id = '",322],["T_WHITESPACE"," ",322],".",["T_WHITESPACE","\n                        ",322],["T_VARIABLE","$storeId",323],["T_WHITESPACE"," ",323],".",["T_WHITESPACE","\n                        ",323],["T_CONSTANT_ENCAPSED_STRING","' AND t.value IS NOT NULL'",324],";",["T_WHITESPACE","\n                    ",324],["T_DOC_COMMENT","\/** @var $select \\Magento\\Framework\\DB\\Select *\/",325],["T_WHITESPACE","\n                    ",325],["T_VARIABLE","$select",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_connection",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","select",326],"(",")",["T_WHITESPACE","\n                        ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","joinInner",327],"(",["T_WHITESPACE","\n                            ",327],"[",["T_CONSTANT_ENCAPSED_STRING","'e'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","resource",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getTableName",328],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",328],")","]",",",["T_WHITESPACE","\n                            ",328],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id = et.entity_id'",329],",",["T_WHITESPACE","\n                            ",329],"[","]",["T_WHITESPACE","\n                        ",330],")",["T_OBJECT_OPERATOR","->",331],["T_STRING","joinInner",331],"(",["T_WHITESPACE","\n                            ",331],"[",["T_CONSTANT_ENCAPSED_STRING","'t'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$tableName",332],"]",",",["T_WHITESPACE","\n                            ",332],["T_VARIABLE","$joinCondition",333],",",["T_WHITESPACE","\n                            ",333],"[",["T_VARIABLE","$attributeCode",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'t.value'",334],"]",["T_WHITESPACE","\n                        ",334],")",";",["T_WHITESPACE","\n                    ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(","!",["T_EMPTY","empty",336],"(",["T_VARIABLE","$changedIds",336],")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                        ",336],["T_VARIABLE","$select",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","where",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_connection",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","quoteInto",337],"(",["T_CONSTANT_ENCAPSED_STRING","'et.entity_id IN (?)'",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$changedIds",337],")",")",";",["T_WHITESPACE","\n                    ",337],"}",["T_WHITESPACE","\n                    ",338],["T_VARIABLE","$sql",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$select",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","crossUpdateFromSelect",339],"(","[",["T_CONSTANT_ENCAPSED_STRING","'et'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$temporaryFlatTableName",339],"]",")",";",["T_WHITESPACE","\n                    ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_connection",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","query",340],"(",["T_VARIABLE","$sql",340],")",";",["T_WHITESPACE","\n                ",340],"}",["T_WHITESPACE","\n\n                ",341],["T_COMMENT","\/\/Update not simple attributes (eg. dropdown)\n",343],["T_WHITESPACE","                ",344],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_ISSET","isset",344],"(",["T_VARIABLE","$flatColumns",344],"[",["T_VARIABLE","$attributeCode",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_VARIABLE","$valueFieldSuffix",344],"]",")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                    ",344],["T_VARIABLE","$select",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_connection",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","select",345],"(",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","joinInner",345],"(",["T_WHITESPACE","\n                        ",345],"[",["T_CONSTANT_ENCAPSED_STRING","'t'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_productIndexerHelper",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getTable",346],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_option_value'",346],")","]",",",["T_WHITESPACE","\n                        ",346],["T_CONSTANT_ENCAPSED_STRING","'t.option_id = et.'",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_VARIABLE","$attributeCode",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","' AND t.store_id='",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_VARIABLE","$storeId",347],",",["T_WHITESPACE","\n                        ",347],"[",["T_VARIABLE","$attributeCode",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_VARIABLE","$valueFieldSuffix",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'t.value'",348],"]",["T_WHITESPACE","\n                    ",348],")",";",["T_WHITESPACE","\n                    ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(","!",["T_EMPTY","empty",350],"(",["T_VARIABLE","$changedIds",350],")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                        ",350],["T_VARIABLE","$select",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","where",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_connection",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","quoteInto",351],"(",["T_CONSTANT_ENCAPSED_STRING","'et.entity_id IN (?)'",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$changedIds",351],")",")",";",["T_WHITESPACE","\n                    ",351],"}",["T_WHITESPACE","\n                    ",352],["T_VARIABLE","$sql",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$select",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","crossUpdateFromSelect",353],"(","[",["T_CONSTANT_ENCAPSED_STRING","'et'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$temporaryFlatTableName",353],"]",")",";",["T_WHITESPACE","\n                    ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_connection",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","query",354],"(",["T_VARIABLE","$sql",354],")",";",["T_WHITESPACE","\n                ",354],"}",["T_WHITESPACE","\n            ",355],"}",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Retrieve temporary table name by regular table name\n     *\n     * @param string $tableName\n     * @return string\n     *\/",360],["T_WHITESPACE","\n    ",365],["T_PROTECTED","protected",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","_getTemporaryTableName",366],"(",["T_VARIABLE","$tableName",366],")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_STRING","sprintf",368],"(",["T_CONSTANT_ENCAPSED_STRING","'%s_tmp_indexer'",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$tableName",368],")",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\EntityManager\\MetadataPool\n     *\/",371],["T_WHITESPACE","\n    ",373],["T_PRIVATE","private",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getMetadataPool",374],"(",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_STRING","null",376],["T_WHITESPACE"," ",376],["T_IS_IDENTICAL","===",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","metadataPool",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","metadataPool",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Magento",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Framework",377],["T_NS_SEPARATOR","\\",377],["T_STRING","App",377],["T_NS_SEPARATOR","\\",377],["T_STRING","ObjectManager",377],["T_DOUBLE_COLON","::",377],["T_STRING","getInstance",377],"(",")",["T_WHITESPACE","\n                ",377],["T_OBJECT_OPERATOR","->",378],["T_STRING","get",378],"(",["T_NS_SEPARATOR","\\",378],["T_STRING","Magento",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Framework",378],["T_NS_SEPARATOR","\\",378],["T_STRING","EntityManager",378],["T_NS_SEPARATOR","\\",378],["T_STRING","MetadataPool",378],["T_DOUBLE_COLON","::",378],["T_CLASS","class",378],")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n        ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","metadataPool",380],";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n",381],"}",["T_WHITESPACE","\n",382]]