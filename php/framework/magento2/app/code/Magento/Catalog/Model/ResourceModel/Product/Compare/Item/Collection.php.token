[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Compare",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Item",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Catalog Product Compare Items Resource Collection\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.LongVariable)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Collection",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Catalog",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResourceModel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Product",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Collection",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Customer Filter\n     *\n     * @var int\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_customerId",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_LNUMBER","0",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Visitor Filter\n     *\n     * @var int\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_visitorId",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Comparable attributes cache\n     *\n     * @var array\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_comparableAttributes",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Catalog product compare\n     *\n     * @var \\Magento\\Catalog\\Helper\\Product\\Compare\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_catalogProductCompare",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","null",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Catalog product compare item\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Compare\\Item\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_catalogProductCompareItem",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Collection constructor.\n     * @param \\Magento\\Framework\\Data\\Collection\\EntityFactory $entityFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Framework\\Data\\Collection\\Db\\FetchStrategyInterface $fetchStrategy\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Eav\\Model\\EntityFactory $eavEntityFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Helper $resourceHelper\n     * @param \\Magento\\Framework\\Validator\\UniversalFactory $universalFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Module\\Manager $moduleManager\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Flat\\State $catalogProductFlatState\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Catalog\\Model\\Product\\OptionFactory $productOptionFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Url $catalogUrl\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Customer\\Api\\GroupManagementInterface $groupManagement\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Compare\\Item $catalogProductCompareItem\n     * @param \\Magento\\Catalog\\Helper\\Product\\Compare $catalogProductCompare\n     * @param \\Magento\\Framework\\DB\\Adapter\\AdapterInterface $connection\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",52],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","__construct",79],"(",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Data",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Collection",80],["T_NS_SEPARATOR","\\",80],["T_STRING","EntityFactory",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$entityFactory",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Psr",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Log",81],["T_NS_SEPARATOR","\\",81],["T_STRING","LoggerInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$logger",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Data",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Collection",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Db",82],["T_NS_SEPARATOR","\\",82],["T_STRING","FetchStrategyInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$fetchStrategy",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Event",83],["T_NS_SEPARATOR","\\",83],["T_STRING","ManagerInterface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$eventManager",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Eav",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Config",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$eavConfig",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","App",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ResourceConnection",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$resource",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Eav",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","EntityFactory",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$eavEntityFactory",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Catalog",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Model",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ResourceModel",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Helper",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$resourceHelper",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Validator",88],["T_NS_SEPARATOR","\\",88],["T_STRING","UniversalFactory",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$universalFactory",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Store",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Model",89],["T_NS_SEPARATOR","\\",89],["T_STRING","StoreManagerInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$storeManager",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Module",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Manager",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$moduleManager",90],",",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Catalog",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Model",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Indexer",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Product",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Flat",91],["T_NS_SEPARATOR","\\",91],["T_STRING","State",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$catalogProductFlatState",91],",",["T_WHITESPACE","\n        ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","App",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Config",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ScopeConfigInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$scopeConfig",92],",",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Catalog",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Product",93],["T_NS_SEPARATOR","\\",93],["T_STRING","OptionFactory",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$productOptionFactory",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Catalog",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","ResourceModel",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Url",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$catalogUrl",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Stdlib",95],["T_NS_SEPARATOR","\\",95],["T_STRING","DateTime",95],["T_NS_SEPARATOR","\\",95],["T_STRING","TimezoneInterface",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$localeDate",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Customer",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Model",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Session",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$customerSession",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Stdlib",97],["T_NS_SEPARATOR","\\",97],["T_STRING","DateTime",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$dateTime",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Customer",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Api",98],["T_NS_SEPARATOR","\\",98],["T_STRING","GroupManagementInterface",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$groupManagement",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Catalog",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ResourceModel",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Product",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Compare",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Item",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$catalogProductCompareItem",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Catalog",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Helper",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Product",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Compare",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$catalogProductCompare",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Framework",101],["T_NS_SEPARATOR","\\",101],["T_STRING","DB",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Adapter",101],["T_NS_SEPARATOR","\\",101],["T_STRING","AdapterInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$connection",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","null",101],["T_WHITESPACE","\n    ",101],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_catalogProductCompareItem",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$catalogProductCompareItem",103],";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_catalogProductCompare",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$catalogProductCompare",104],";",["T_WHITESPACE","\n        ",104],["T_STRING","parent",105],["T_DOUBLE_COLON","::",105],["T_STRING","__construct",105],"(",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$entityFactory",106],",",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$logger",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$fetchStrategy",108],",",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$eventManager",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$eavConfig",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$resource",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$eavEntityFactory",112],",",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$resourceHelper",113],",",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$universalFactory",114],",",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$storeManager",115],",",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$moduleManager",116],",",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$catalogProductFlatState",117],",",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$scopeConfig",118],",",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$productOptionFactory",119],",",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$catalogUrl",120],",",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$localeDate",121],",",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$customerSession",122],",",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$dateTime",123],",",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$groupManagement",124],",",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$connection",125],["T_WHITESPACE","\n        ",125],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Initialize resources\n     *\n     * @return void\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","_construct",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_init",136],"(",["T_WHITESPACE","\n            ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Catalog",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Product",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Compare",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Item",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],",",["T_WHITESPACE","\n            ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Catalog",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Model",138],["T_NS_SEPARATOR","\\",138],["T_STRING","ResourceModel",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Product",138],["T_DOUBLE_COLON","::",138],["T_CLASS","class",138],["T_WHITESPACE","\n        ",138],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_initTables",140],"(",")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Set customer filter to collection\n     *\n     * @param int $customerId\n     * @return $this\n     *\/",143],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","setCustomerId",149],"(",["T_VARIABLE","$customerId",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_customerId",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_INT_CAST","(int)",151],["T_VARIABLE","$customerId",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_addJoinToSelect",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Set visitor filter to collection\n     *\n     * @param int $visitorId\n     * @return $this\n     *\/",156],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","setVisitorId",162],"(",["T_VARIABLE","$visitorId",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_visitorId",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_INT_CAST","(int)",164],["T_VARIABLE","$visitorId",164],";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_addJoinToSelect",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Retrieve customer filter applied to collection\n     *\n     * @return int\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getCustomerId",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_customerId",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Retrieve visitor filter applied to collection\n     *\n     * @return int\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getVisitorId",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_visitorId",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Retrieve condition for join filters\n     *\n     * @return array\n     *\/",189],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","getConditionForJoin",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getCustomerId",196],"(",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getCustomerId",197],"(",")","]",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n\n        ",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getVisitorId",200],"(",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],"[",["T_CONSTANT_ENCAPSED_STRING","'visitor_id'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getVisitorId",201],"(",")","]",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n\n        ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_STRING","true",204],"]",",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'visitor_id'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'0'",204],"]",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Add join to select\n     *\n     * @return $this\n     *\/",207],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","_addJoinToSelect",212],"(",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","joinTable",214],"(",["T_WHITESPACE","\n            ",214],"[",["T_CONSTANT_ENCAPSED_STRING","'t_compare'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'catalog_compare_item'",215],"]",",",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","'product_id=entity_id'",216],",",["T_WHITESPACE","\n            ",216],"[",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'product_id'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'product_id'",218],",",["T_WHITESPACE","\n                ",218],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",219],",",["T_WHITESPACE","\n                ",219],["T_CONSTANT_ENCAPSED_STRING","'visitor_id'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'visitor_id'",220],",",["T_WHITESPACE","\n                ",220],["T_CONSTANT_ENCAPSED_STRING","'item_store_id'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'store_id'",221],",",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'catalog_compare_item_id'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'catalog_compare_item_id'",222],["T_WHITESPACE","\n            ",222],"]",",",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getConditionForJoin",224],"(",")",["T_WHITESPACE","\n        ",224],")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_productLimitationFilters",227],"[",["T_CONSTANT_ENCAPSED_STRING","'store_table'",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'t_compare'",227],";",["T_WHITESPACE","\n\n        ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Retrieve comapre products attribute set ids\n     *\n     * @return array\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_getAttributeSetIds",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_COMMENT","\/\/ prepare compare items table conditions\n",239],["T_WHITESPACE","        ",240],["T_VARIABLE","$compareConds",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[",["T_CONSTANT_ENCAPSED_STRING","'compare.product_id=entity.entity_id'",240],"]",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getCustomerId",241],"(",")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$compareConds",242],"[","]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getConnection",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","quoteInto",242],"(",["T_CONSTANT_ENCAPSED_STRING","'compare.customer_id = ?'",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getCustomerId",242],"(",")",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE"," ",243],["T_ELSE","else",243],["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$compareConds",244],"[","]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getConnection",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","quoteInto",244],"(",["T_CONSTANT_ENCAPSED_STRING","'compare.visitor_id = ?'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getVisitorId",244],"(",")",")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_COMMENT","\/\/ prepare website filter\n",247],["T_WHITESPACE","        ",248],["T_VARIABLE","$websiteId",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_INT_CAST","(int)",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_storeManager",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getStore",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getStoreId",248],"(",")",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getWebsiteId",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$websiteConds",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],"[",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'website.product_id = entity.entity_id'",250],",",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getConnection",251],"(",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","quoteInto",251],"(",["T_CONSTANT_ENCAPSED_STRING","'website.website_id = ?'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$websiteId",251],")",",",["T_WHITESPACE","\n        ",251],"]",";",["T_WHITESPACE","\n\n        ",252],["T_COMMENT","\/\/ retrieve attribute sets\n",254],["T_WHITESPACE","        ",255],["T_VARIABLE","$select",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getConnection",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","select",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","distinct",255],"(",["T_WHITESPACE","\n            ",255],["T_STRING","true",256],["T_WHITESPACE","\n        ",256],")",["T_OBJECT_OPERATOR","->",257],["T_STRING","from",257],"(",["T_WHITESPACE","\n            ",257],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getEntity",258],"(",")",["T_OBJECT_OPERATOR","->",258],["T_STRING","getEntityTable",258],"(",")","]",",",["T_WHITESPACE","\n            ",258],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",259],["T_WHITESPACE","\n        ",259],")",["T_OBJECT_OPERATOR","->",260],["T_STRING","join",260],"(",["T_WHITESPACE","\n            ",260],"[",["T_CONSTANT_ENCAPSED_STRING","'website'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getTable",261],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_website'",261],")","]",",",["T_WHITESPACE","\n            ",261],["T_STRING","join",262],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$websiteConds",262],")",",",["T_WHITESPACE","\n            ",262],"[","]",["T_WHITESPACE","\n        ",263],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","join",264],"(",["T_WHITESPACE","\n            ",264],"[",["T_CONSTANT_ENCAPSED_STRING","'compare'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getTable",265],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_compare_item'",265],")","]",",",["T_WHITESPACE","\n            ",265],["T_STRING","join",266],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$compareConds",266],")",",",["T_WHITESPACE","\n            ",266],"[","]",["T_WHITESPACE","\n        ",267],")",";",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getConnection",269],"(",")",["T_OBJECT_OPERATOR","->",269],["T_STRING","fetchCol",269],"(",["T_VARIABLE","$select",269],")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Retrieve attribute ids by set ids\n     *\n     * @param array $setIds\n     * @return array\n     *\/",272],["T_WHITESPACE","\n    ",277],["T_PROTECTED","protected",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","_getAttributeIdsBySetIds",278],"(",["T_ARRAY","array",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$setIds",278],")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$select",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getConnection",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","select",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","distinct",280],"(",["T_WHITESPACE","\n            ",280],["T_STRING","true",281],["T_WHITESPACE","\n        ",281],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","from",282],"(",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getTable",283],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_entity_attribute'",283],")",",",["T_WHITESPACE","\n            ",283],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",284],["T_WHITESPACE","\n        ",284],")",["T_OBJECT_OPERATOR","->",285],["T_STRING","where",285],"(",["T_WHITESPACE","\n            ",285],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id IN(?)'",286],",",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$setIds",287],["T_WHITESPACE","\n        ",287],")",";",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getConnection",289],"(",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","fetchCol",289],"(",["T_VARIABLE","$select",289],")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Retrieve Merged comparable attributes for compared product items\n     *\n     * @return array\n     *\/",292],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","getComparableAttributes",297],"(",")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_comparableAttributes",299],["T_WHITESPACE"," ",299],["T_IS_IDENTICAL","===",299],["T_WHITESPACE"," ",299],["T_STRING","null",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_comparableAttributes",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],"[","]",";",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$setIds",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_getAttributeSetIds",301],"(",")",";",["T_WHITESPACE","\n            ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$setIds",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$attributeIds",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_getAttributeIdsBySetIds",303],"(",["T_VARIABLE","$setIds",303],")",";",["T_WHITESPACE","\n\n                ",303],["T_VARIABLE","$select",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getConnection",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","select",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","from",305],"(",["T_WHITESPACE","\n                    ",305],"[",["T_CONSTANT_ENCAPSED_STRING","'main_table'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getTable",306],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute'",306],")","]",["T_WHITESPACE","\n                ",306],")",["T_OBJECT_OPERATOR","->",307],["T_STRING","join",307],"(",["T_WHITESPACE","\n                    ",307],"[",["T_CONSTANT_ENCAPSED_STRING","'additional_table'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getTable",308],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_eav_attribute'",308],")","]",",",["T_WHITESPACE","\n                    ",308],["T_CONSTANT_ENCAPSED_STRING","'additional_table.attribute_id=main_table.attribute_id'",309],["T_WHITESPACE","\n                ",309],")",["T_OBJECT_OPERATOR","->",310],["T_STRING","joinLeft",310],"(",["T_WHITESPACE","\n                    ",310],"[",["T_CONSTANT_ENCAPSED_STRING","'al'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getTable",311],"(",["T_CONSTANT_ENCAPSED_STRING","'eav_attribute_label'",311],")","]",",",["T_WHITESPACE","\n                    ",311],["T_CONSTANT_ENCAPSED_STRING","'al.attribute_id = main_table.attribute_id AND al.store_id = '",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_INT_CAST","(int)",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getStoreId",312],"(",")",",",["T_WHITESPACE","\n                    ",312],"[",["T_WHITESPACE","\n                        ",313],["T_CONSTANT_ENCAPSED_STRING","'store_label'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getConnection",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","getCheckSql",314],"(",["T_WHITESPACE","\n                            ",314],["T_CONSTANT_ENCAPSED_STRING","'al.value IS NULL'",315],",",["T_WHITESPACE","\n                            ",315],["T_CONSTANT_ENCAPSED_STRING","'main_table.frontend_label'",316],",",["T_WHITESPACE","\n                            ",316],["T_CONSTANT_ENCAPSED_STRING","'al.value'",317],["T_WHITESPACE","\n                        ",317],")",["T_WHITESPACE","\n                    ",318],"]",["T_WHITESPACE","\n                ",319],")",["T_OBJECT_OPERATOR","->",320],["T_STRING","where",320],"(",["T_WHITESPACE","\n                    ",320],["T_CONSTANT_ENCAPSED_STRING","'additional_table.is_comparable=?'",321],",",["T_WHITESPACE","\n                    ",321],["T_LNUMBER","1",322],["T_WHITESPACE","\n                ",322],")",["T_OBJECT_OPERATOR","->",323],["T_STRING","where",323],"(",["T_WHITESPACE","\n                    ",323],["T_CONSTANT_ENCAPSED_STRING","'main_table.attribute_id IN(?)'",324],",",["T_WHITESPACE","\n                    ",324],["T_VARIABLE","$attributeIds",325],["T_WHITESPACE","\n                ",325],")",";",["T_WHITESPACE","\n                ",326],["T_VARIABLE","$attributesData",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getConnection",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","fetchAll",327],"(",["T_VARIABLE","$select",327],")",";",["T_WHITESPACE","\n                ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$attributesData",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n                    ",328],["T_VARIABLE","$entityType",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Magento",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Catalog",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Model",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Product",329],["T_DOUBLE_COLON","::",329],["T_STRING","ENTITY",329],";",["T_WHITESPACE","\n                    ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_eavConfig",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","importAttributesData",330],"(",["T_VARIABLE","$entityType",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$attributesData",330],")",";",["T_WHITESPACE","\n                    ",330],["T_FOREACH","foreach",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$attributesData",331],["T_WHITESPACE"," ",331],["T_AS","as",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$data",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                        ",331],["T_VARIABLE","$attribute",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_eavConfig",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getAttribute",332],"(",["T_VARIABLE","$entityType",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$data",332],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",332],"]",")",";",["T_WHITESPACE","\n                        ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_comparableAttributes",333],"[",["T_VARIABLE","$attribute",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getAttributeCode",333],"(",")","]",["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$attribute",333],";",["T_WHITESPACE","\n                    ",333],"}",["T_WHITESPACE","\n                    ",334],["T_UNSET","unset",335],"(",["T_VARIABLE","$attributesData",335],")",";",["T_WHITESPACE","\n                ",335],"}",["T_WHITESPACE","\n            ",336],"}",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n        ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_comparableAttributes",339],";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Load Comparable attributes\n     *\n     * @return $this\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","loadComparableAttributes",347],"(",")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$comparableAttributes",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getComparableAttributes",349],"(",")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$attributes",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],"[","]",";",["T_WHITESPACE","\n        ",350],["T_FOREACH","foreach",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$comparableAttributes",351],["T_WHITESPACE"," ",351],["T_AS","as",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$attribute",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$attributes",352],"[","]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$attribute",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getAttributeCode",352],"(",")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","addAttributeToSelect",354],"(",["T_VARIABLE","$attributes",354],")",";",["T_WHITESPACE","\n\n        ",354],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Use product as collection item\n     *\n     * @return $this\n     *\/",359],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","useProductItem",364],"(",")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","setObject",366],"(",["T_NS_SEPARATOR","\\",366],["T_STRING","Magento",366],["T_NS_SEPARATOR","\\",366],["T_STRING","Catalog",366],["T_NS_SEPARATOR","\\",366],["T_STRING","Model",366],["T_NS_SEPARATOR","\\",366],["T_STRING","Product",366],["T_DOUBLE_COLON","::",366],["T_CLASS","class",366],")",";",["T_WHITESPACE","\n\n        ",366],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","setFlag",368],"(",["T_CONSTANT_ENCAPSED_STRING","'url_data_object'",368],",",["T_WHITESPACE"," ",368],["T_STRING","true",368],")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","setFlag",369],"(",["T_CONSTANT_ENCAPSED_STRING","'do_not_use_category_id'",369],",",["T_WHITESPACE"," ",369],["T_STRING","true",369],")",";",["T_WHITESPACE","\n\n        ",369],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Retrieve product ids from collection\n     *\n     * @return int[]\n     *\/",374],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","getProductIds",379],"(",")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$ids",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],"[","]",";",["T_WHITESPACE","\n        ",381],["T_FOREACH","foreach",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getItems",382],"(",")",["T_WHITESPACE"," ",382],["T_AS","as",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$item",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$ids",383],"[","]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$item",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getProductId",383],"(",")",";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n\n        ",384],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$ids",386],";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n\n    ",387],["T_DOC_COMMENT","\/**\n     * Clear compare items by condition\n     *\n     * @return $this\n     *\/",389],["T_WHITESPACE","\n    ",393],["T_PUBLIC","public",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","clear",394],"(",")",["T_WHITESPACE","\n    ",394],"{",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_catalogProductCompareItem",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","clearItems",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getVisitorId",396],"(",")",",",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getCustomerId",396],"(",")",")",";",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_eventManager",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","dispatch",397],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_compare_item_collection_clear'",397],")",";",["T_WHITESPACE","\n\n        ",397],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Retrieve is flat enabled flag\n     * Overwrite disable flat for compared item if required EAV resource\n     *\n     * @return bool\n     *\/",402],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","isEnabledFlat",408],"(",")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_IF","if",410],["T_WHITESPACE"," ",410],"(","!",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_catalogProductCompare",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getAllowUsedFlat",410],"(",")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_STRING","false",411],";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n        ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_STRING","parent",413],["T_DOUBLE_COLON","::",413],["T_STRING","isEnabledFlat",413],"(",")",";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n",414],"}",["T_WHITESPACE","\n",415]]