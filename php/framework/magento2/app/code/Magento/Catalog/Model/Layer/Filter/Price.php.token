[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Layer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filter",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Layer price filter\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Price",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Catalog",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Layer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Filter",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractFilter",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Resource instance\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Layer\\Filter\\Price\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_resource",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_coreRegistry",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","null",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Catalog layer filter price algorithm\n     *\n     * @var \\Magento\\Framework\\Search\\Dynamic\\Algorithm\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_priceAlgorithm",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Customer session\n     *\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_customerSession",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_scopeConfig",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Pricing\\PriceCurrencyInterface\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$priceCurrency",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var Dynamic\\AlgorithmFactory\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$algorithmFactory",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/** @var DataProvider\\Price *\/",62],["T_WHITESPACE","\n    ",62],["T_PRIVATE","private",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$dataProvider",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @param ItemFactory $filterItemFactory\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\Layer $layer\n     * @param \\Magento\\Catalog\\Model\\Layer\\Filter\\Item\\DataBuilder $itemDataBuilder\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Layer\\Filter\\Price $resource\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Framework\\Search\\Dynamic\\Algorithm $priceAlgorithm\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param Dynamic\\AlgorithmFactory $algorithmFactory\n     * @param DataProvider\\PriceFactory $dataProviderFactory\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",65],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","__construct",79],"(",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Catalog",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Layer",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Filter",80],["T_NS_SEPARATOR","\\",80],["T_STRING","ItemFactory",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$filterItemFactory",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Store",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Model",81],["T_NS_SEPARATOR","\\",81],["T_STRING","StoreManagerInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$storeManager",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Catalog",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Layer",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$layer",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Catalog",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Layer",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Filter",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Item",83],["T_NS_SEPARATOR","\\",83],["T_STRING","DataBuilder",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$itemDataBuilder",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Catalog",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ResourceModel",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Layer",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Filter",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Price",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$resource",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Customer",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Session",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$customerSession",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Search",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Dynamic",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Algorithm",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$priceAlgorithm",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Pricing",87],["T_NS_SEPARATOR","\\",87],["T_STRING","PriceCurrencyInterface",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$priceCurrency",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Catalog",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Layer",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Filter",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Dynamic",88],["T_NS_SEPARATOR","\\",88],["T_STRING","AlgorithmFactory",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$algorithmFactory",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Catalog",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Model",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Layer",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Filter",89],["T_NS_SEPARATOR","\\",89],["T_STRING","DataProvider",89],["T_NS_SEPARATOR","\\",89],["T_STRING","PriceFactory",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$dataProviderFactory",89],",",["T_WHITESPACE","\n        ",89],["T_ARRAY","array",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$data",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[","]",["T_WHITESPACE","\n    ",90],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","priceCurrency",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$priceCurrency",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_resource",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$resource",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_customerSession",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$customerSession",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_priceAlgorithm",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$priceAlgorithm",95],";",["T_WHITESPACE","\n        ",95],["T_STRING","parent",96],["T_DOUBLE_COLON","::",96],["T_STRING","__construct",96],"(",["T_VARIABLE","$filterItemFactory",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$storeManager",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$layer",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$itemDataBuilder",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$data",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_requestVar",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'price'",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","algorithmFactory",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$algorithmFactory",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","dataProvider",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$dataProviderFactory",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","create",99],"(","[",["T_CONSTANT_ENCAPSED_STRING","'layer'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getLayer",99],"(",")","]",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Apply price range filter\n     *\n     * @param \\Magento\\Framework\\App\\RequestInterface $request\n     * @return $this\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","apply",108],"(",["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Framework",108],["T_NS_SEPARATOR","\\",108],["T_STRING","App",108],["T_NS_SEPARATOR","\\",108],["T_STRING","RequestInterface",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$request",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_DOC_COMMENT","\/**\n         * Filter must be string: $fromPrice-$toPrice\n         *\/",110],["T_WHITESPACE","\n        ",112],["T_VARIABLE","$filter",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$request",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getParam",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getRequestVar",113],"(",")",")",";",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","!",["T_VARIABLE","$filter",114],["T_WHITESPACE"," ",114],["T_BOOLEAN_OR","||",114],["T_WHITESPACE"," ",114],["T_STRING","is_array",114],"(",["T_VARIABLE","$filter",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_COMMENT","\/\/validate filter\n",118],["T_WHITESPACE","        ",119],["T_VARIABLE","$filterParams",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","explode",119],"(",["T_CONSTANT_ENCAPSED_STRING","','",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$filter",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$filter",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","dataProvider",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","validateFilter",120],"(",["T_VARIABLE","$filterParams",120],"[",["T_LNUMBER","0",120],"]",")",";",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_VARIABLE","$filter",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_LIST","list",125],"(",["T_VARIABLE","$from",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$to",125],")",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$filter",125],";",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","dataProvider",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setInterval",127],"(","[",["T_VARIABLE","$from",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$to",127],"]",")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$priorFilters",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","dataProvider",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getPriorFilters",129],"(",["T_VARIABLE","$filterParams",129],")",";",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$priorFilters",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","dataProvider",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setPriorIntervals",131],"(",["T_VARIABLE","$priorFilters",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_applyPriceRange",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getLayer",135],"(",")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","getState",136],"(",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","addFilter",137],"(",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_createItem",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_renderRangeLabel",138],"(",["T_EMPTY","empty",138],"(",["T_VARIABLE","$from",138],")",["T_WHITESPACE"," ",138],"?",["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],["T_WHITESPACE"," ",138],":",["T_WHITESPACE"," ",138],["T_VARIABLE","$from",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$to",138],")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$filter",138],")",["T_WHITESPACE","\n            ",138],")",";",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Retrieve active customer group id\n     *\n     * @return int\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","getCustomerGroupId",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$customerGroupId",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_getData",151],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",151],")",";",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_STRING","is_null",152],"(",["T_VARIABLE","$customerGroupId",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$customerGroupId",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_customerSession",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getCustomerGroupId",153],"(",")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$customerGroupId",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Set active customer group id for filter\n     *\n     * @param int $customerGroupId\n     * @return $this\n     *\/",159],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","setCustomerGroupId",165],"(",["T_VARIABLE","$customerGroupId",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setData",167],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$customerGroupId",167],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Retrieve active currency rate for filter\n     *\n     * @return float\n     *\/",170],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","getCurrencyRate",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$rate",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_getData",177],"(",["T_CONSTANT_ENCAPSED_STRING","'currency_rate'",177],")",";",["T_WHITESPACE","\n        ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_STRING","is_null",178],"(",["T_VARIABLE","$rate",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$rate",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_storeManager",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getStore",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getStoreId",179],"(",")",")",["T_WHITESPACE","\n                ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","getCurrentCurrencyRate",180],"(",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(","!",["T_VARIABLE","$rate",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$rate",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_LNUMBER","1",183],";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$rate",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Set active currency rate for filter\n     *\n     * @param float $rate\n     * @return $this\n     *\/",189],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","setCurrencyRate",195],"(",["T_VARIABLE","$rate",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setData",197],"(",["T_CONSTANT_ENCAPSED_STRING","'currency_rate'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$rate",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Get filter value for reset current filter state\n     *\n     * @return null|string\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getResetValue",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","dataProvider",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getResetValue",207],"(",")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Get 'clear price' link text\n     *\n     * @return \\Magento\\Framework\\Phrase|bool\n     *\/",210],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getClearLinkText",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","dataProvider",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getPriorIntervals",217],"(",")",["T_WHITESPACE","\n        ",217],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_STRING","__",219],"(",["T_CONSTANT_ENCAPSED_STRING","'Clear Price'",219],")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_STRING","parent",222],["T_DOUBLE_COLON","::",222],["T_STRING","getClearLinkText",222],"(",")",";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Prepare text of range label\n     *\n     * @param float|string $fromPrice\n     * @param float|string $toPrice\n     * @return float|\\Magento\\Framework\\Phrase\n     *\/",225],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","_renderRangeLabel",232],"(",["T_VARIABLE","$fromPrice",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$toPrice",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$formattedFromPrice",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","priceCurrency",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","format",234],"(",["T_VARIABLE","$fromPrice",234],")",";",["T_WHITESPACE","\n        ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$toPrice",235],["T_WHITESPACE"," ",235],["T_IS_IDENTICAL","===",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_STRING","__",236],"(",["T_CONSTANT_ENCAPSED_STRING","'%1 and above'",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$formattedFromPrice",236],")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_ELSEIF","elseif",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$fromPrice",237],["T_WHITESPACE"," ",237],["T_IS_EQUAL","==",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$toPrice",237],["T_WHITESPACE"," ",237],["T_BOOLEAN_AND","&&",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","dataProvider",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getOnePriceIntervalValue",237],"(",")",["T_WHITESPACE","\n        ",237],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$formattedFromPrice",239],";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE"," ",240],["T_ELSE","else",240],["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$fromPrice",241],["T_WHITESPACE"," ",241],["T_IS_NOT_EQUAL","!=",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$toPrice",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$toPrice",242],["T_WHITESPACE"," ",242],["T_MINUS_EQUAL","-=",242],["T_WHITESPACE"," ",242],["T_DNUMBER",".01",242],";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n\n            ",243],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","__",245],"(",["T_CONSTANT_ENCAPSED_STRING","'%1 - %2'",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$formattedFromPrice",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","priceCurrency",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","format",245],"(",["T_VARIABLE","$toPrice",245],")",")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Get additional request param data\n     *\n     * @return string\n     *\/",249],["T_WHITESPACE","\n    ",253],["T_PROTECTED","protected",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","_getAdditionalRequestData",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$result",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","''",256],";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$appliedInterval",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","dataProvider",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getInterval",257],"(",")",";",["T_WHITESPACE","\n        ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$appliedInterval",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$result",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","','",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_VARIABLE","$appliedInterval",259],"[",["T_LNUMBER","0",259],"]",["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'-'",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_VARIABLE","$appliedInterval",259],"[",["T_LNUMBER","1",259],"]",";",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$priorIntervals",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getResetValue",260],"(",")",";",["T_WHITESPACE","\n            ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$priorIntervals",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$result",262],["T_WHITESPACE"," ",262],["T_CONCAT_EQUAL",".=",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","','",262],["T_WHITESPACE"," ",262],".",["T_WHITESPACE"," ",262],["T_VARIABLE","$priorIntervals",262],";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$result",266],";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Get data for build price filter items\n     * @return array\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",269],["T_WHITESPACE","\n    ",273],["T_PROTECTED","protected",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","_getItemsData",274],"(",")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$algorithm",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","algorithmFactory",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","create",276],"(",")",";",["T_WHITESPACE","\n\n        ",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$algorithm",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getItemsData",278],"(",["T_ARRAY_CAST","(array)",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","dataProvider",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getInterval",278],"(",")",",",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","dataProvider",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getAdditionalRequestData",278],"(",")",")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Apply price range filter to collection\n     *\n     * @return $this\n     *\/",281],["T_WHITESPACE","\n    ",285],["T_PROTECTED","protected",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","_applyPriceRange",286],"(",")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","dataProvider",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getResource",288],"(",")",["T_OBJECT_OPERATOR","->",288],["T_STRING","applyPriceRange",288],"(",["T_VARIABLE","$this",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","dataProvider",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getInterval",288],"(",")",")",";",["T_WHITESPACE","\n\n        ",288],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n",291],"}",["T_WHITESPACE","\n",292]]