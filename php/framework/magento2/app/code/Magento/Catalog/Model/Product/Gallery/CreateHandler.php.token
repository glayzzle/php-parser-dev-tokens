[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gallery",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MediaStorage",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","File",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Uploader",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","FileUploader",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityManager",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Operation",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ExtensionInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Create handler for catalog product gallery\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CreateHandler",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","ExtensionInterface",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\EntityManager\\EntityMetadata\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$metadata",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\Data\\ProductAttributeInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$attribute",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductAttributeRepositoryInterface\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$attributeRepository",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Resource model\n     *\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Gallery\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$resourceModel",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\Helper\\Data\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$jsonHelper",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Media\\Config\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$mediaConfig",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$mediaDirectory",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$fileStorageDb",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PRIVATE","private",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$mediaAttributeCodes",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\EntityManager\\MetadataPool $metadataPool\n     * @param \\Magento\\Catalog\\Api\\ProductAttributeRepositoryInterface $attributeRepository\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Gallery $resourceModel\n     * @param \\Magento\\Framework\\Json\\Helper\\Data $jsonHelper\n     * @param \\Magento\\Catalog\\Model\\Product\\Media\\Config $mediaConfig\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\MediaStorage\\Helper\\File\\Storage\\Database $fileStorageDb\n     *\/",66],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","EntityManager",76],["T_NS_SEPARATOR","\\",76],["T_STRING","MetadataPool",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$metadataPool",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Catalog",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Api",77],["T_NS_SEPARATOR","\\",77],["T_STRING","ProductAttributeRepositoryInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$attributeRepository",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Catalog",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","ResourceModel",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Product",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Gallery",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$resourceModel",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Json",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Helper",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Data",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$jsonHelper",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Catalog",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Product",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Media",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Config",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$mediaConfig",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Filesystem",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$filesystem",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","MediaStorage",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Helper",82],["T_NS_SEPARATOR","\\",82],["T_STRING","File",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Storage",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Database",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$fileStorageDb",82],["T_WHITESPACE","\n    ",82],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","metadata",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$metadataPool",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMetadata",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Catalog",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Api",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Data",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ProductInterface",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","attributeRepository",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$attributeRepository",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","resourceModel",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$resourceModel",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","jsonHelper",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$jsonHelper",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","mediaConfig",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$mediaConfig",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","mediaDirectory",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$filesystem",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getDirectoryWrite",89],"(",["T_STRING","DirectoryList",89],["T_DOUBLE_COLON","::",89],["T_STRING","MEDIA",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","fileStorageDb",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$fileStorageDb",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @param object $product\n     * @param array $arguments\n     * @return object\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",93],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","execute",102],"(",["T_VARIABLE","$product",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$arguments",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[","]",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$attrCode",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getAttribute",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getAttributeCode",104],"(",")",";",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$value",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$product",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getData",106],"(",["T_VARIABLE","$attrCode",106],")",";",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_STRING","is_array",108],"(",["T_VARIABLE","$value",108],")",["T_WHITESPACE"," ",108],["T_BOOLEAN_OR","||",108],["T_WHITESPACE"," ",108],"!",["T_ISSET","isset",108],"(",["T_VARIABLE","$value",108],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",108],"]",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$product",109],";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_STRING","is_array",112],"(",["T_VARIABLE","$value",112],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",112],"]",")",["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_STRING","strlen",112],"(",["T_VARIABLE","$value",112],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",112],"]",")",["T_WHITESPACE"," ",112],">",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$value",113],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","jsonHelper",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","jsonDecode",113],"(",["T_VARIABLE","$value",113],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",113],"]",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_STRING","is_array",116],"(",["T_VARIABLE","$value",116],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$value",117],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[","]",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$clearImages",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[","]",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$newImages",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"[","]",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$existImages",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n\n        ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$product",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getIsDuplicate",124],"(",")",["T_WHITESPACE"," ",124],["T_IS_NOT_EQUAL","!=",124],["T_WHITESPACE"," ",124],["T_STRING","true",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$value",125],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",125],"]",["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],"&",["T_VARIABLE","$image",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_EMPTY","empty",126],"(",["T_VARIABLE","$image",126],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$clearImages",127],"[","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$image",127],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",127],"]",";",["T_WHITESPACE","\n                ",127],"}",["T_WHITESPACE"," ",128],["T_ELSEIF","elseif",128],["T_WHITESPACE"," ",128],"(",["T_EMPTY","empty",128],"(",["T_VARIABLE","$image",128],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",128],"]",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$newFile",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","moveImageFromTmp",129],"(",["T_VARIABLE","$image",129],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",129],"]",")",";",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$image",130],"[",["T_CONSTANT_ENCAPSED_STRING","'new_file'",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$newFile",130],";",["T_WHITESPACE","\n                    ",130],["T_VARIABLE","$newImages",131],"[",["T_VARIABLE","$image",131],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",131],"]","]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$image",131],";",["T_WHITESPACE","\n                    ",131],["T_VARIABLE","$image",132],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$newFile",132],";",["T_WHITESPACE","\n                ",132],"}",["T_WHITESPACE"," ",133],["T_ELSE","else",133],["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$existImages",134],"[",["T_VARIABLE","$image",134],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",134],"]","]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$image",134],";",["T_WHITESPACE","\n                ",134],"}",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_COMMENT","\/\/ For duplicating we need copy original images.\n",138],["T_WHITESPACE","            ",139],["T_VARIABLE","$duplicate",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"[","]",";",["T_WHITESPACE","\n            ",139],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$value",140],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",140],"]",["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],"&",["T_VARIABLE","$image",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_EMPTY","empty",141],"(",["T_VARIABLE","$image",141],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",141],"]",")",["T_WHITESPACE"," ",141],["T_BOOLEAN_OR","||",141],["T_WHITESPACE"," ",141],"!",["T_EMPTY","empty",141],"(",["T_VARIABLE","$image",141],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                    ",141],["T_CONTINUE","continue",142],";",["T_WHITESPACE","\n                ",142],"}",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$duplicate",144],"[",["T_VARIABLE","$image",144],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",144],"]","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","copyImage",144],"(",["T_VARIABLE","$image",144],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",144],"]",")",";",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$image",145],"[",["T_CONSTANT_ENCAPSED_STRING","'new_file'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$duplicate",145],"[",["T_VARIABLE","$image",145],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",145],"]","]",";",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$newImages",146],"[",["T_VARIABLE","$image",146],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",146],"]","]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$image",146],";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n\n            ",147],["T_VARIABLE","$value",149],"[",["T_CONSTANT_ENCAPSED_STRING","'duplicate'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$duplicate",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_COMMENT","\/* @var $mediaAttribute \\Magento\\Catalog\\Api\\Data\\ProductAttributeInterface *\/",152],["T_WHITESPACE","\n        ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMediaAttributeCodes",153],"(",")",["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$mediaAttrCode",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$attrData",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$product",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getData",154],"(",["T_VARIABLE","$mediaAttrCode",154],")",";",["T_WHITESPACE","\n            ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_EMPTY","empty",155],"(",["T_VARIABLE","$attrData",155],")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_EMPTY","empty",155],"(",["T_VARIABLE","$clearImages",155],")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_EMPTY","empty",155],"(",["T_VARIABLE","$newImages",155],")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_EMPTY","empty",155],"(",["T_VARIABLE","$existImages",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_CONTINUE","continue",156],";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n            ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_STRING","in_array",158],"(",["T_VARIABLE","$attrData",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$clearImages",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$product",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setData",159],"(",["T_VARIABLE","$mediaAttrCode",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'no_selection'",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n\n            ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_STRING","in_array",162],"(",["T_VARIABLE","$attrData",162],",",["T_WHITESPACE"," ",162],["T_STRING","array_keys",162],"(",["T_VARIABLE","$newImages",162],")",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$product",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","setData",163],"(",["T_VARIABLE","$mediaAttrCode",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$newImages",163],"[",["T_VARIABLE","$attrData",163],"]","[",["T_CONSTANT_ENCAPSED_STRING","'new_file'",163],"]",")",";",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$product",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setData",164],"(",["T_VARIABLE","$mediaAttrCode",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'_label'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$newImages",164],"[",["T_VARIABLE","$attrData",164],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",164],"]",")",";",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE","\n\n            ",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_STRING","in_array",167],"(",["T_VARIABLE","$attrData",167],",",["T_WHITESPACE"," ",167],["T_STRING","array_keys",167],"(",["T_VARIABLE","$existImages",167],")",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$product",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setData",168],"(",["T_VARIABLE","$mediaAttrCode",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'_label'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$existImages",168],"[",["T_VARIABLE","$attrData",168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",168],"]",")",";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n            ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(","!",["T_EMPTY","empty",170],"(",["T_VARIABLE","$product",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getData",170],"(",["T_VARIABLE","$mediaAttrCode",170],")",")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$product",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","addAttributeUpdate",171],"(",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$mediaAttrCode",172],",",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$product",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getData",173],"(",["T_VARIABLE","$mediaAttrCode",173],")",",",["T_WHITESPACE","\n                    ",173],["T_VARIABLE","$product",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getStoreId",174],"(",")",["T_WHITESPACE","\n                ",174],")",";",["T_WHITESPACE","\n            ",175],"}",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$product",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setData",179],"(",["T_VARIABLE","$attrCode",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$value",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$product",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getIsDuplicate",181],"(",")",["T_WHITESPACE"," ",181],["T_IS_EQUAL","==",181],["T_WHITESPACE"," ",181],["T_STRING","true",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","duplicate",182],"(",["T_VARIABLE","$product",182],")",";",["T_WHITESPACE","\n            ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$product",183],";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_STRING","is_array",186],"(",["T_VARIABLE","$value",186],")",["T_WHITESPACE"," ",186],["T_BOOLEAN_OR","||",186],["T_WHITESPACE"," ",186],"!",["T_ISSET","isset",186],"(",["T_VARIABLE","$value",186],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",186],"]",")",["T_WHITESPACE"," ",186],["T_BOOLEAN_OR","||",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$product",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","isLockedAttribute",186],"(",["T_VARIABLE","$attrCode",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$product",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","processDeletedImages",190],"(",["T_VARIABLE","$product",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$value",190],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",190],"]",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","processNewAndExistingImages",191],"(",["T_VARIABLE","$product",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$value",191],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",191],"]",")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$product",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setData",193],"(",["T_VARIABLE","$attrCode",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$value",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$product",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Catalog\\Api\\Data\\ProductAttributeInterface\n     *\/",198],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getAttribute",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","attribute",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","attribute",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","attributeRepository",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","get",204],"(",["T_WHITESPACE","\n                ",204],["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",205],["T_WHITESPACE","\n            ",205],")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","attribute",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $images\n     * @return void\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",212],["T_WHITESPACE","\n    ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","processDeletedImages",218],"(",["T_VARIABLE","$product",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],["T_WHITESPACE"," ",218],"&",["T_VARIABLE","$images",218],")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $images\n     * @return void\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","processNewAndExistingImages",227],"(",["T_VARIABLE","$product",227],",",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],["T_WHITESPACE"," ",227],"&",["T_VARIABLE","$images",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_FOREACH","foreach",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$images",229],["T_WHITESPACE"," ",229],["T_AS","as",229],["T_WHITESPACE"," ",229],"&",["T_VARIABLE","$image",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_EMPTY","empty",230],"(",["T_VARIABLE","$image",230],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",230],"]",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$data",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","processNewImage",231],"(",["T_VARIABLE","$product",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$image",231],")",";",["T_WHITESPACE","\n\n                ",231],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","resourceModel",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","deleteGalleryValueInStore",233],"(",["T_WHITESPACE","\n                    ",233],["T_VARIABLE","$image",234],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",234],"]",",",["T_WHITESPACE","\n                    ",234],["T_VARIABLE","$product",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getData",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","metadata",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getLinkField",235],"(",")",")",",",["T_WHITESPACE","\n                    ",235],["T_VARIABLE","$product",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getStoreId",236],"(",")",["T_WHITESPACE","\n                ",236],")",";",["T_WHITESPACE","\n\n                ",237],["T_COMMENT","\/\/ Add per store labels, position, disabled\n",239],["T_WHITESPACE","                ",240],["T_VARIABLE","$data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",240],"]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$image",240],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",240],"]",";",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$data",241],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_ISSET","isset",241],"(",["T_VARIABLE","$image",241],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",241],"]",")",["T_WHITESPACE"," ",241],"?",["T_WHITESPACE"," ",241],["T_VARIABLE","$image",241],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",241],"]",["T_WHITESPACE"," ",241],":",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],";",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$data",242],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ISSET","isset",242],"(",["T_VARIABLE","$image",242],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",242],"]",")",["T_WHITESPACE"," ",242],"?",["T_WHITESPACE"," ",242],["T_INT_CAST","(int)",242],["T_VARIABLE","$image",242],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",242],"]",["T_WHITESPACE"," ",242],":",["T_WHITESPACE"," ",242],["T_LNUMBER","0",242],";",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$data",243],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_ISSET","isset",243],"(",["T_VARIABLE","$image",243],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",243],"]",")",["T_WHITESPACE"," ",243],"?",["T_WHITESPACE"," ",243],["T_INT_CAST","(int)",243],["T_VARIABLE","$image",243],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",243],"]",["T_WHITESPACE"," ",243],":",["T_WHITESPACE"," ",243],["T_LNUMBER","0",243],";",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$data",244],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_INT_CAST","(int)",244],["T_VARIABLE","$product",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getStoreId",244],"(",")",";",["T_WHITESPACE","\n\n                ",244],["T_VARIABLE","$data",246],"[",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","metadata",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getLinkField",246],"(",")","]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_INT_CAST","(int)",246],["T_VARIABLE","$product",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getData",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","metadata",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getLinkField",246],"(",")",")",";",["T_WHITESPACE","\n\n                ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","resourceModel",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","insertGalleryValueInStore",248],"(",["T_VARIABLE","$data",248],")",";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Processes image as new.\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $image\n     * @return array\n     *\/",253],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","processNewImage",260],"(",["T_VARIABLE","$product",260],",",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],["T_WHITESPACE"," ",260],"&",["T_VARIABLE","$image",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$data",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],"[","]",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$data",264],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$image",264],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",264],"]",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$data",265],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getAttribute",265],"(",")",["T_OBJECT_OPERATOR","->",265],["T_STRING","getAttributeId",265],"(",")",";",["T_WHITESPACE","\n\n        ",265],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_EMPTY","empty",267],"(",["T_VARIABLE","$image",267],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",267],"]",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$data",268],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",268],"]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$image",268],"[",["T_CONSTANT_ENCAPSED_STRING","'media_type'",268],"]",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$image",271],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","resourceModel",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","insertGallery",271],"(",["T_VARIABLE","$data",271],")",";",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","resourceModel",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","bindValueToEntity",273],"(",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$image",274],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",274],"]",",",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$product",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getData",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","metadata",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getLinkField",275],"(",")",")",["T_WHITESPACE","\n        ",275],")",";",["T_WHITESPACE","\n\n        ",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$data",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",281],["T_WHITESPACE","\n    ",284],["T_PROTECTED","protected",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","duplicate",285],"(",["T_VARIABLE","$product",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$mediaGalleryData",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$product",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getData",287],"(",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getAttribute",288],"(",")",["T_OBJECT_OPERATOR","->",288],["T_STRING","getAttributeCode",288],"(",")",["T_WHITESPACE","\n        ",288],")",";",["T_WHITESPACE","\n\n        ",289],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_ISSET","isset",291],"(",["T_VARIABLE","$mediaGalleryData",291],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",291],"]",")",["T_WHITESPACE"," ",291],["T_BOOLEAN_OR","||",291],["T_WHITESPACE"," ",291],"!",["T_STRING","is_array",291],"(",["T_VARIABLE","$mediaGalleryData",291],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","resourceModel",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","duplicate",295],"(",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getAttribute",296],"(",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","getAttributeId",296],"(",")",",",["T_WHITESPACE","\n            ",296],["T_ISSET","isset",297],"(",["T_VARIABLE","$mediaGalleryData",297],"[",["T_CONSTANT_ENCAPSED_STRING","'duplicate'",297],"]",")",["T_WHITESPACE"," ",297],"?",["T_WHITESPACE"," ",297],["T_VARIABLE","$mediaGalleryData",297],"[",["T_CONSTANT_ENCAPSED_STRING","'duplicate'",297],"]",["T_WHITESPACE"," ",297],":",["T_WHITESPACE"," ",297],"[","]",",",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$product",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getOriginalId",298],"(",")",",",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$product",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getData",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","metadata",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getLinkField",299],"(",")",")",["T_WHITESPACE","\n        ",299],")",";",["T_WHITESPACE","\n\n        ",300],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Move image from temporary directory to normal\n     *\n     * @param string $file\n     * @return string\n     *\/",305],["T_WHITESPACE","\n    ",310],["T_PROTECTED","protected",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","moveImageFromTmp",311],"(",["T_VARIABLE","$file",311],")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$file",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getFilenameFromTmp",313],"(",["T_VARIABLE","$file",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$destinationFile",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getUniqueFileName",314],"(",["T_VARIABLE","$file",314],")",";",["T_WHITESPACE","\n\n        ",314],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","fileStorageDb",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","checkDbUsage",316],"(",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","fileStorageDb",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","renameFile",317],"(",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","mediaConfig",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getTmpMediaShortUrl",318],"(",["T_VARIABLE","$file",318],")",",",["T_WHITESPACE","\n                ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","mediaConfig",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getMediaShortUrl",319],"(",["T_VARIABLE","$destinationFile",319],")",["T_WHITESPACE","\n            ",319],")",";",["T_WHITESPACE","\n\n            ",320],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","mediaDirectory",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","delete",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","mediaConfig",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getTmpMediaPath",322],"(",["T_VARIABLE","$file",322],")",")",";",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","mediaDirectory",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","delete",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","mediaConfig",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getMediaPath",323],"(",["T_VARIABLE","$destinationFile",323],")",")",";",["T_WHITESPACE","\n        ",323],"}",["T_WHITESPACE"," ",324],["T_ELSE","else",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","mediaDirectory",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","renameFile",325],"(",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","mediaConfig",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getTmpMediaPath",326],"(",["T_VARIABLE","$file",326],")",",",["T_WHITESPACE","\n                ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","mediaConfig",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getMediaPath",327],"(",["T_VARIABLE","$destinationFile",327],")",["T_WHITESPACE","\n            ",327],")",";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_STRING","str_replace",331],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'\/'",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$destinationFile",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * @param string $file\n     * @return string\n     *\/",334],["T_WHITESPACE","\n    ",337],["T_PROTECTED","protected",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","getFilenameFromTmp",338],"(",["T_VARIABLE","$file",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","strrpos",340],"(",["T_VARIABLE","$file",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'.tmp'",340],")",["T_WHITESPACE"," ",340],["T_IS_EQUAL","==",340],["T_WHITESPACE"," ",340],["T_STRING","strlen",340],"(",["T_VARIABLE","$file",340],")",["T_WHITESPACE"," ",340],"-",["T_WHITESPACE"," ",340],["T_LNUMBER","4",340],["T_WHITESPACE"," ",340],"?",["T_WHITESPACE"," ",340],["T_STRING","substr",340],"(",["T_VARIABLE","$file",340],",",["T_WHITESPACE"," ",340],["T_LNUMBER","0",340],",",["T_WHITESPACE"," ",340],["T_STRING","strlen",340],"(",["T_VARIABLE","$file",340],")",["T_WHITESPACE"," ",340],"-",["T_WHITESPACE"," ",340],["T_LNUMBER","4",340],")",["T_WHITESPACE"," ",340],":",["T_WHITESPACE"," ",340],["T_VARIABLE","$file",340],";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Check whether file to move exists. Getting unique name\n     *\n     * @param string $file\n     * @param bool $forTmp\n     * @return string\n     *\/",343],["T_WHITESPACE","\n    ",349],["T_PROTECTED","protected",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","getUniqueFileName",350],"(",["T_VARIABLE","$file",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$forTmp",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","false",350],")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","fileStorageDb",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","checkDbUsage",352],"(",")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$destFile",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","fileStorageDb",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getUniqueFilename",353],"(",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","mediaConfig",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getBaseMediaUrlAddition",354],"(",")",",",["T_WHITESPACE","\n                ",354],["T_VARIABLE","$file",355],["T_WHITESPACE","\n            ",355],")",";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE"," ",357],["T_ELSE","else",357],["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$destinationFile",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$forTmp",358],["T_WHITESPACE","\n                ",358],"?",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","mediaDirectory",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getAbsolutePath",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","mediaConfig",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getTmpMediaPath",359],"(",["T_VARIABLE","$file",359],")",")",["T_WHITESPACE","\n                ",359],":",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","mediaDirectory",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getAbsolutePath",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","mediaConfig",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getMediaPath",360],"(",["T_VARIABLE","$file",360],")",")",";",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$destFile",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING","dirname",361],"(",["T_VARIABLE","$file",361],")",["T_WHITESPACE"," ",361],".",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'\/'",361],["T_WHITESPACE"," ",361],".",["T_WHITESPACE"," ",361],["T_STRING","FileUploader",361],["T_DOUBLE_COLON","::",361],["T_STRING","getNewFileName",361],"(",["T_VARIABLE","$destinationFile",361],")",";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n\n        ",362],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$destFile",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Copy image and return new filename.\n     *\n     * @param string $file\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",367],["T_WHITESPACE","\n    ",373],["T_PROTECTED","protected",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","copyImage",374],"(",["T_VARIABLE","$file",374],")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_TRY","try",376],["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$destinationFile",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getUniqueFileName",377],"(",["T_VARIABLE","$file",377],")",";",["T_WHITESPACE","\n\n            ",377],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","mediaDirectory",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","isFile",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","mediaConfig",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getMediaPath",379],"(",["T_VARIABLE","$file",379],")",")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n                ",379],["T_THROW","throw",380],["T_WHITESPACE"," ",380],["T_NEW","new",380],["T_WHITESPACE"," ",380],["T_NS_SEPARATOR","\\",380],["T_STRING","Exception",380],"(",")",";",["T_WHITESPACE","\n            ",380],"}",["T_WHITESPACE","\n\n            ",381],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","fileStorageDb",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","checkDbUsage",383],"(",")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","fileStorageDb",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","copyFile",384],"(",["T_WHITESPACE","\n                    ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","mediaDirectory",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getAbsolutePath",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","mediaConfig",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getMediaShortUrl",385],"(",["T_VARIABLE","$file",385],")",")",",",["T_WHITESPACE","\n                    ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","mediaConfig",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getMediaShortUrl",386],"(",["T_VARIABLE","$destinationFile",386],")",["T_WHITESPACE","\n                ",386],")",";",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","mediaDirectory",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","delete",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","mediaConfig",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getMediaPath",388],"(",["T_VARIABLE","$destinationFile",388],")",")",";",["T_WHITESPACE","\n            ",388],"}",["T_WHITESPACE"," ",389],["T_ELSE","else",389],["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n                ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","mediaDirectory",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","copyFile",390],"(",["T_WHITESPACE","\n                    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","mediaConfig",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getMediaPath",391],"(",["T_VARIABLE","$file",391],")",",",["T_WHITESPACE","\n                    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","mediaConfig",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getMediaPath",392],"(",["T_VARIABLE","$destinationFile",392],")",["T_WHITESPACE","\n                ",392],")",";",["T_WHITESPACE","\n            ",393],"}",["T_WHITESPACE","\n\n            ",394],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_STRING","str_replace",396],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'\/'",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$destinationFile",396],")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE"," ",397],["T_CATCH","catch",397],["T_WHITESPACE"," ",397],"(",["T_NS_SEPARATOR","\\",397],["T_STRING","Exception",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$e",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$file",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","mediaConfig",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getMediaPath",398],"(",["T_VARIABLE","$file",398],")",";",["T_WHITESPACE","\n            ",398],["T_THROW","throw",399],["T_WHITESPACE"," ",399],["T_NEW","new",399],["T_WHITESPACE"," ",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Magento",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Framework",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Exception",399],["T_NS_SEPARATOR","\\",399],["T_STRING","LocalizedException",399],"(",["T_WHITESPACE","\n                ",399],["T_STRING","__",400],"(",["T_CONSTANT_ENCAPSED_STRING","'We couldn\\'t copy file %1. Please delete media with non-existing images and try again.'",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$file",400],")",["T_WHITESPACE","\n            ",400],")",";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Get Media Attribute Codes cached value\n     *\n     * @return array\n     *\/",405],["T_WHITESPACE","\n    ",409],["T_PRIVATE","private",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","getMediaAttributeCodes",410],"(",")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","mediaAttributeCodes",412],["T_WHITESPACE"," ",412],["T_IS_IDENTICAL","===",412],["T_WHITESPACE"," ",412],["T_STRING","null",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","mediaAttributeCodes",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","mediaConfig",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getMediaAttributeCodes",413],"(",")",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n        ",414],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","mediaAttributeCodes",415],";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n",416],"}",["T_WHITESPACE","\n",417]]