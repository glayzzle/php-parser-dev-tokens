[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Option",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Type",6],["T_NS_SEPARATOR","\\",6],["T_STRING","File",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","Validator",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$scopeConfig",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\File\\Size\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$fileSize",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\ReadInterface\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$rootDirectory",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Framework\\Filesystem $filesystem\n     * @param \\Magento\\Framework\\File\\Size $fileSize\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","App",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Config",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ScopeConfigInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$scopeConfig",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Filesystem",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$filesystem",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","File",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Size",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$fileSize",38],["T_WHITESPACE","\n    ",38],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","scopeConfig",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$scopeConfig",40],";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","rootDirectory",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$filesystem",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getDirectoryRead",41],"(",["T_STRING","DirectoryList",41],["T_DOUBLE_COLON","::",41],["T_STRING","MEDIA",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","fileSize",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$fileSize",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Store Config value\n     *\n     * @param string $key Config value key\n     * @return string\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getConfigData",51],"(",["T_VARIABLE","$key",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","scopeConfig",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getValue",53],"(",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'catalog\/custom_options\/'",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$key",54],",",["T_WHITESPACE","\n            ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Store",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","ScopeInterface",55],["T_DOUBLE_COLON","::",55],["T_STRING","SCOPE_STORE",55],["T_WHITESPACE","\n        ",55],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Get Error messages for validator Errors\n     *\n     * @param string[] $errors Array of validation failure message codes @see \\Zend_Validate::getErrors()\n     * @param array $fileInfo File info\n     * @param \\Magento\\Catalog\\Model\\Product\\Option $option\n     * @return string[] Array of error messages\n     * @see \\Magento\\Catalog\\Model\\Product\\Option\\Type\\File::_getValidatorErrors\n     *\/",59],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getValidatorErrors",68],"(",["T_VARIABLE","$errors",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$fileInfo",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$option",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$result",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[","]",";",["T_WHITESPACE","\n        ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$errors",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$errorCode",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_SWITCH","switch",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$errorCode",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_CASE","case",73],["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Zend_Validate_File_ExcludeExtension",73],["T_DOUBLE_COLON","::",73],["T_STRING","FALSE_EXTENSION",73],":",["T_WHITESPACE","\n                    ",73],["T_VARIABLE","$result",74],"[","]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","__",74],"(",["T_WHITESPACE","\n                        ",74],["T_CONSTANT_ENCAPSED_STRING","\"The file '%1' for '%2' has an invalid extension.\"",75],",",["T_WHITESPACE","\n                        ",75],["T_VARIABLE","$fileInfo",76],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",76],"]",",",["T_WHITESPACE","\n                        ",76],["T_VARIABLE","$option",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getTitle",77],"(",")",["T_WHITESPACE","\n                    ",77],")",";",["T_WHITESPACE","\n                    ",78],["T_BREAK","break",79],";",["T_WHITESPACE","\n                ",79],["T_CASE","case",80],["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Zend_Validate_File_Extension",80],["T_DOUBLE_COLON","::",80],["T_STRING","FALSE_EXTENSION",80],":",["T_WHITESPACE","\n                    ",80],["T_VARIABLE","$result",81],"[","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","__",81],"(",["T_WHITESPACE","\n                        ",81],["T_CONSTANT_ENCAPSED_STRING","\"The file '%1' for '%2' has an invalid extension.\"",82],",",["T_WHITESPACE","\n                        ",82],["T_VARIABLE","$fileInfo",83],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",83],"]",",",["T_WHITESPACE","\n                        ",83],["T_VARIABLE","$option",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getTitle",84],"(",")",["T_WHITESPACE","\n                    ",84],")",";",["T_WHITESPACE","\n                    ",85],["T_BREAK","break",86],";",["T_WHITESPACE","\n                ",86],["T_CASE","case",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Zend_Validate_File_ImageSize",87],["T_DOUBLE_COLON","::",87],["T_STRING","WIDTH_TOO_BIG",87],":",["T_WHITESPACE","\n                ",87],["T_CASE","case",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Zend_Validate_File_ImageSize",88],["T_DOUBLE_COLON","::",88],["T_STRING","HEIGHT_TOO_BIG",88],":",["T_WHITESPACE","\n                    ",88],["T_VARIABLE","$result",89],"[","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","__",89],"(",["T_WHITESPACE","\n                        ",89],["T_CONSTANT_ENCAPSED_STRING","\"The maximum allowed image size for '%1' is %2x%3 px.\"",90],",",["T_WHITESPACE","\n                        ",90],["T_VARIABLE","$option",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getTitle",91],"(",")",",",["T_WHITESPACE","\n                        ",91],["T_VARIABLE","$option",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getImageSizeX",92],"(",")",",",["T_WHITESPACE","\n                        ",92],["T_VARIABLE","$option",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getImageSizeY",93],"(",")",["T_WHITESPACE","\n                    ",93],")",";",["T_WHITESPACE","\n                    ",94],["T_BREAK","break",95],";",["T_WHITESPACE","\n                ",95],["T_CASE","case",96],["T_WHITESPACE"," ",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Zend_Validate_File_FilesSize",96],["T_DOUBLE_COLON","::",96],["T_STRING","TOO_BIG",96],":",["T_WHITESPACE","\n                    ",96],["T_VARIABLE","$result",97],"[","]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","__",97],"(",["T_WHITESPACE","\n                        ",97],["T_CONSTANT_ENCAPSED_STRING","\"The file '%1' you uploaded is larger than the %2 megabytes allowed by our server.\"",98],",",["T_WHITESPACE","\n                        ",98],["T_VARIABLE","$fileInfo",99],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",99],"]",",",["T_WHITESPACE","\n                        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","fileSize",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMaxFileSizeInMb",100],"(",")",["T_WHITESPACE","\n                    ",100],")",";",["T_WHITESPACE","\n                    ",101],["T_BREAK","break",102],";",["T_WHITESPACE","\n                ",102],["T_CASE","case",103],["T_WHITESPACE"," ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Zend_Validate_File_ImageSize",103],["T_DOUBLE_COLON","::",103],["T_STRING","NOT_DETECTED",103],":",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$result",104],"[","]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","__",104],"(",["T_WHITESPACE","\n                        ",104],["T_CONSTANT_ENCAPSED_STRING","\"The file '%1' is empty. Please choose another one\"",105],",",["T_WHITESPACE","\n                        ",105],["T_VARIABLE","$fileInfo",106],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",106],"]",["T_WHITESPACE","\n                    ",106],")",";",["T_WHITESPACE","\n                    ",107],["T_BREAK","break",108],";",["T_WHITESPACE","\n                ",108],["T_DEFAULT","default",109],":",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$result",110],"[","]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","__",110],"(",["T_WHITESPACE","\n                        ",110],["T_CONSTANT_ENCAPSED_STRING","\"The file '%1' is invalid. Please choose another one\"",111],",",["T_WHITESPACE","\n                        ",111],["T_VARIABLE","$fileInfo",112],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",112],"]",["T_WHITESPACE","\n                    ",112],")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$result",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Parse file extensions string with various separators\n     *\n     * @param string $extensions String to parse\n     * @return array|null\n     * @see \\Magento\\Catalog\\Model\\Product\\Option\\Type\\File::_parseExtensionsString\n     *\/",119],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","parseExtensionsString",126],"(",["T_VARIABLE","$extensions",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_STRING","preg_match_all",128],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?<extension>[a-z0-9]+)\/si'",128],",",["T_WHITESPACE"," ",128],["T_STRING","strtolower",128],"(",["T_VARIABLE","$extensions",128],")",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$matches",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$matches",129],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",129],"]",["T_WHITESPACE"," ",129],"?",":",["T_WHITESPACE"," ",129],["T_STRING","null",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STRING","null",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * @param \\Zend_File_Transfer_Adapter_Http|\\Zend_Validate $object\n     * @param \\Magento\\Catalog\\Model\\Product\\Option $option\n     * @param array $fileFullPath\n     * @return \\Zend_File_Transfer_Adapter_Http|\\Zend_Validate $object\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",134],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","buildImageValidator",141],"(",["T_VARIABLE","$object",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$option",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$fileFullPath",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","null",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$dimensions",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",";",["T_WHITESPACE","\n\n        ",143],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$option",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getImageSizeX",145],"(",")",["T_WHITESPACE"," ",145],">",["T_WHITESPACE"," ",145],["T_LNUMBER","0",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$dimensions",146],"[",["T_CONSTANT_ENCAPSED_STRING","'maxwidth'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$option",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getImageSizeX",146],"(",")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$option",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getImageSizeY",148],"(",")",["T_WHITESPACE"," ",148],">",["T_WHITESPACE"," ",148],["T_LNUMBER","0",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$dimensions",149],"[",["T_CONSTANT_ENCAPSED_STRING","'maxheight'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$option",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getImageSizeY",149],"(",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_STRING","count",151],"(",["T_VARIABLE","$dimensions",151],")",["T_WHITESPACE"," ",151],">",["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$fileFullPath",152],["T_WHITESPACE"," ",152],["T_IS_NOT_IDENTICAL","!==",152],["T_WHITESPACE"," ",152],["T_STRING","null",152],["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],"!",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","isImage",152],"(",["T_VARIABLE","$fileFullPath",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_THROW","throw",153],["T_WHITESPACE"," ",153],["T_NEW","new",153],["T_WHITESPACE"," ",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Magento",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Framework",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Exception",153],["T_NS_SEPARATOR","\\",153],["T_STRING","InputException",153],"(",["T_WHITESPACE","\n                    ",153],["T_STRING","__",154],"(",["T_CONSTANT_ENCAPSED_STRING","'File \\'%1\\' is not an image.'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$option",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getTitle",154],"(",")",")",["T_WHITESPACE","\n                ",154],")",";",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$object",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","addValidator",157],"(",["T_NEW","new",157],["T_WHITESPACE"," ",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Zend_Validate_File_ImageSize",157],"(",["T_VARIABLE","$dimensions",157],")",")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_COMMENT","\/\/ File extension\n",160],["T_WHITESPACE","        ",161],["T_VARIABLE","$allowed",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","parseExtensionsString",161],"(",["T_VARIABLE","$option",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getFileExtension",161],"(",")",")",";",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$allowed",162],["T_WHITESPACE"," ",162],["T_IS_NOT_IDENTICAL","!==",162],["T_WHITESPACE"," ",162],["T_STRING","null",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$object",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","addValidator",163],"(",["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Zend_Validate_File_Extension",163],"(",["T_VARIABLE","$allowed",163],")",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE"," ",164],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$forbidden",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","parseExtensionsString",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getConfigData",165],"(",["T_CONSTANT_ENCAPSED_STRING","'forbidden_extensions'",165],")",")",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$forbidden",166],["T_WHITESPACE"," ",166],["T_IS_NOT_IDENTICAL","!==",166],["T_WHITESPACE"," ",166],["T_STRING","null",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$object",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","addValidator",167],"(",["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Zend_Validate_File_ExcludeExtension",167],"(",["T_VARIABLE","$forbidden",167],")",")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$object",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","addValidator",171],"(",["T_WHITESPACE","\n            ",171],["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Zend_Validate_File_FilesSize",172],"(","[",["T_CONSTANT_ENCAPSED_STRING","'max'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","fileSize",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMaxFileSize",172],"(",")","]",")",["T_WHITESPACE","\n        ",172],")",";",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$object",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Simple check if file is image\n     *\n     * @param array|string $fileInfo - either file data from \\Zend_File_Transfer or file path\n     * @return boolean\n     * @see \\Magento\\Catalog\\Model\\Product\\Option\\Type\\File::_isImage\n     *\/",177],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","isImage",184],"(",["T_VARIABLE","$fileInfo",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_COMMENT","\/\/ Maybe array with file info came in\n",186],["T_WHITESPACE","        ",187],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_STRING","is_array",187],"(",["T_VARIABLE","$fileInfo",187],")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","strstr",188],"(",["T_VARIABLE","$fileInfo",188],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",188],"]",",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'image\/'",188],")",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_COMMENT","\/\/ File path came in - check the physical file\n",191],["T_WHITESPACE","        ",192],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","rootDirectory",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","isReadable",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","rootDirectory",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getRelativePath",192],"(",["T_VARIABLE","$fileInfo",192],")",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","false",193],";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$imageInfo",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","getimagesize",195],"(",["T_VARIABLE","$fileInfo",195],")",";",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_VARIABLE","$imageInfo",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_STRING","false",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","true",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n",200],"}",["T_WHITESPACE","\n",201]]