[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Gallery",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ProductAttributeMediaGalleryEntryInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ProductInterface",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","Product",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","InputException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","NoSuchEntityException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","StateException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Api",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ImageContentValidatorInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","GalleryManagement",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Catalog",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ProductAttributeMediaGalleryManagementInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$productRepository",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var ImageContentValidatorInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$contentValidator",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param ImageContentValidatorInterface $contentValidator\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",31],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Catalog",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Api",38],["T_NS_SEPARATOR","\\",38],["T_STRING","ProductRepositoryInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$productRepository",38],",",["T_WHITESPACE","\n        ",38],["T_STRING","ImageContentValidatorInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$contentValidator",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","productRepository",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$productRepository",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","contentValidator",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$contentValidator",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","create",48],"(",["T_VARIABLE","$sku",48],",",["T_WHITESPACE"," ",48],["T_STRING","ProductAttributeMediaGalleryEntryInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$entry",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_DOC_COMMENT","\/** @var $entry ProductAttributeMediaGalleryEntryInterface *\/",50],["T_WHITESPACE","\n        ",50],["T_VARIABLE","$entryContent",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$entry",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getContent",51],"(",")",";",["T_WHITESPACE","\n\n        ",51],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","contentValidator",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","isValid",53],"(",["T_VARIABLE","$entryContent",53],")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_THROW","throw",54],["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_STRING","InputException",54],"(",["T_STRING","__",54],"(",["T_CONSTANT_ENCAPSED_STRING","'The image content is not valid.'",54],")",")",";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$product",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","productRepository",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_VARIABLE","$sku",56],")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$existingMediaGalleryEntries",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$product",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMediaGalleryEntries",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$existingEntryIds",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[","]",";",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$existingMediaGalleryEntries",60],["T_WHITESPACE"," ",60],["T_IS_EQUAL","==",60],["T_WHITESPACE"," ",60],["T_STRING","null",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$existingMediaGalleryEntries",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[",["T_VARIABLE","$entry",61],"]",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE"," ",62],["T_ELSE","else",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_FOREACH","foreach",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$existingMediaGalleryEntries",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$existingEntries",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$existingEntryIds",64],"[",["T_VARIABLE","$existingEntries",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")","]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$existingEntries",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")",";",["T_WHITESPACE","\n            ",64],"}",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$existingMediaGalleryEntries",66],"[","]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$entry",66],";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$product",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setMediaGalleryEntries",68],"(",["T_VARIABLE","$existingMediaGalleryEntries",68],")",";",["T_WHITESPACE","\n        ",68],["T_TRY","try",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$product",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","productRepository",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",["T_VARIABLE","$product",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE"," ",71],["T_CATCH","catch",71],["T_WHITESPACE"," ",71],"(",["T_STRING","InputException",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$inputException",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_THROW","throw",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$inputException",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_CATCH","catch",73],["T_WHITESPACE"," ",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Exception",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$e",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","StateException",74],"(",["T_STRING","__",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot save product.'",74],")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_FOREACH","foreach",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$product",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMediaGalleryEntries",77],"(",")",["T_WHITESPACE"," ",77],["T_AS","as",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$entry",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_ISSET","isset",78],"(",["T_VARIABLE","$existingEntryIds",78],"[",["T_VARIABLE","$entry",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getId",78],"(",")","]",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$entry",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_THROW","throw",82],["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","StateException",82],"(",["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to save new media gallery entry.'",82],")",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","update",88],"(",["T_VARIABLE","$sku",88],",",["T_WHITESPACE"," ",88],["T_STRING","ProductAttributeMediaGalleryEntryInterface",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$entry",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$product",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","productRepository",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","get",90],"(",["T_VARIABLE","$sku",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$existingMediaGalleryEntries",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$product",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMediaGalleryEntries",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$existingMediaGalleryEntries",92],["T_WHITESPACE"," ",92],["T_IS_EQUAL","==",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_THROW","throw",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","NoSuchEntityException",93],"(",["T_STRING","__",93],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no image with provided ID.'",93],")",")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$found",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","false",95],";",["T_WHITESPACE","\n        ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$existingMediaGalleryEntries",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$key",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$existingEntry",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$entryTypes",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY_CAST","(array)",97],["T_VARIABLE","$entry",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getTypes",97],"(",")",";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$existingEntryTypes",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY_CAST","(array)",98],["T_VARIABLE","$existingMediaGalleryEntries",98],"[",["T_VARIABLE","$key",98],"]",["T_OBJECT_OPERATOR","->",98],["T_STRING","getTypes",98],"(",")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$existingMediaGalleryEntries",99],"[",["T_VARIABLE","$key",99],"]",["T_OBJECT_OPERATOR","->",99],["T_STRING","setTypes",99],"(",["T_STRING","array_diff",99],"(",["T_VARIABLE","$existingEntryTypes",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$entryTypes",99],")",")",";",["T_WHITESPACE","\n\n            ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$existingEntry",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getId",101],"(",")",["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$entry",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getId",101],"(",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$found",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","true",102],";",["T_WHITESPACE","\n                ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$entry",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getFile",103],"(",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$entry",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setId",104],"(",["T_STRING","null",104],")",";",["T_WHITESPACE","\n                ",104],"}",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$existingMediaGalleryEntries",106],"[",["T_VARIABLE","$key",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$entry",106],";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_VARIABLE","$found",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_THROW","throw",110],["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","NoSuchEntityException",110],"(",["T_STRING","__",110],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no image with provided ID.'",110],")",")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$product",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setMediaGalleryEntries",112],"(",["T_VARIABLE","$existingMediaGalleryEntries",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_TRY","try",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","productRepository",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","save",115],"(",["T_VARIABLE","$product",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE"," ",116],["T_CATCH","catch",116],["T_WHITESPACE"," ",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Exception",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$exception",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","StateException",117],"(",["T_STRING","__",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot save product.'",117],")",")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_STRING","true",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","remove",125],"(",["T_VARIABLE","$sku",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$entryId",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$product",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","productRepository",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"(",["T_VARIABLE","$sku",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$existingMediaGalleryEntries",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$product",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMediaGalleryEntries",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$existingMediaGalleryEntries",129],["T_WHITESPACE"," ",129],["T_IS_EQUAL","==",129],["T_WHITESPACE"," ",129],["T_STRING","null",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","NoSuchEntityException",130],"(",["T_STRING","__",130],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no image with provided ID.'",130],")",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$found",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","false",132],";",["T_WHITESPACE","\n        ",132],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$existingMediaGalleryEntries",133],["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$key",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$entry",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$entry",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getId",134],"(",")",["T_WHITESPACE"," ",134],["T_IS_EQUAL","==",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$entryId",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_UNSET","unset",135],"(",["T_VARIABLE","$existingMediaGalleryEntries",135],"[",["T_VARIABLE","$key",135],"]",")",";",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$found",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","true",136],";",["T_WHITESPACE","\n                ",136],["T_BREAK","break",137],";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_VARIABLE","$found",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_THROW","throw",141],["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","NoSuchEntityException",141],"(",["T_STRING","__",141],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no image with provided ID.'",141],")",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$product",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setMediaGalleryEntries",143],"(",["T_VARIABLE","$existingMediaGalleryEntries",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","productRepository",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","save",144],"(",["T_VARIABLE","$product",144],")",";",["T_WHITESPACE","\n        ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_STRING","true",145],";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",148],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","get",151],"(",["T_VARIABLE","$sku",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$entryId",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_TRY","try",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$product",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","productRepository",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","get",154],"(",["T_VARIABLE","$sku",154],")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE"," ",155],["T_CATCH","catch",155],["T_WHITESPACE"," ",155],"(",["T_NS_SEPARATOR","\\",155],["T_STRING","Exception",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$exception",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","NoSuchEntityException",156],"(",["T_STRING","__",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Such product doesn\\'t exist'",156],")",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$mediaGalleryEntries",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$product",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getMediaGalleryEntries",159],"(",")",";",["T_WHITESPACE","\n        ",159],["T_FOREACH","foreach",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$mediaGalleryEntries",160],["T_WHITESPACE"," ",160],["T_AS","as",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$entry",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$entry",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getId",161],"(",")",["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$entryId",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$entry",162],";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_THROW","throw",166],["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","NoSuchEntityException",166],"(",["T_STRING","__",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Such image doesn\\'t exist'",166],")",")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",169],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getList",172],"(",["T_VARIABLE","$sku",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",174],["T_WHITESPACE","\n        ",174],["T_VARIABLE","$product",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","productRepository",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","get",175],"(",["T_VARIABLE","$sku",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$product",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getMediaGalleryEntries",177],"(",")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n",178],"}",["T_WHITESPACE","\n",179]]