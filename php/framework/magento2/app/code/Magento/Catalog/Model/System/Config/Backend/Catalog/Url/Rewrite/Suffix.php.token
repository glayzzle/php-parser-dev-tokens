[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Url rewrite suffix backend\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","System",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Backend",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Url",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Rewrite",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CatalogUrlRewrite",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CategoryUrlPathGenerator",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CatalogUrlRewrite",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CategoryUrlRewriteGenerator",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CatalogUrlRewrite",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ProductUrlPathGenerator",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CatalogUrlRewrite",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ProductUrlRewriteGenerator",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","App",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceConnection",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Store",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ScopeInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UrlRewrite",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Storage",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DbStorage",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","UrlRewrite",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Service",19],["T_NS_SEPARATOR","\\",19],["T_STRING","V1",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Data",19],["T_NS_SEPARATOR","\\",19],["T_STRING","UrlRewrite",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",21],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","Suffix",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Framework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","App",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Config",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Value",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/** @var \\Magento\\UrlRewrite\\Helper\\UrlRewrite *\/",26],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$urlRewriteHelper",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface *\/",29],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$storeManager",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/** @var \\Magento\\UrlRewrite\\Model\\UrlFinderInterface *\/",32],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$urlFinder",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface *\/",35],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$connection",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$resource",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$appConfig",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     * @param \\Magento\\Framework\\App\\Cache\\TypeListInterface $cacheTypeList\n     * @param \\Magento\\UrlRewrite\\Helper\\UrlRewrite $urlRewriteHelper\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param ResourceConnection $appResource\n     * @param \\Magento\\UrlRewrite\\Model\\UrlFinderInterface $urlFinder\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|null $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb|null $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",48],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Context",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$context",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Framework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Registry",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$registry",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","App",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Config",65],["T_NS_SEPARATOR","\\",65],["T_STRING","ScopeConfigInterface",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$config",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","App",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Cache",66],["T_NS_SEPARATOR","\\",66],["T_STRING","TypeListInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$cacheTypeList",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","UrlRewrite",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Helper",67],["T_NS_SEPARATOR","\\",67],["T_STRING","UrlRewrite",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$urlRewriteHelper",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Store",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","StoreManagerInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$storeManager",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","App",69],["T_NS_SEPARATOR","\\",69],["T_STRING","ResourceConnection",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$appResource",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","UrlRewrite",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","UrlFinderInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$urlFinder",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Model",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ResourceModel",71],["T_NS_SEPARATOR","\\",71],["T_STRING","AbstractResource",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$resource",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],",",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Data",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Collection",72],["T_NS_SEPARATOR","\\",72],["T_STRING","AbstractDb",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$resourceCollection",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],",",["T_WHITESPACE","\n        ",72],["T_ARRAY","array",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$data",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[","]",["T_WHITESPACE","\n    ",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_STRING","parent",75],["T_DOUBLE_COLON","::",75],["T_STRING","__construct",75],"(",["T_VARIABLE","$context",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$registry",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$config",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$cacheTypeList",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$resource",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$resourceCollection",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$data",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","urlRewriteHelper",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$urlRewriteHelper",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","connection",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$appResource",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getConnection",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","urlFinder",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$urlFinder",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","storeManager",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$storeManager",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","resource",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$appResource",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Get instance of ScopePool\n     *\n     * @return \\Magento\\Framework\\App\\Config\n     * @deprecated\n     *\/",83],["T_WHITESPACE","\n    ",88],["T_PRIVATE","private",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getAppConfig",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","appConfig",91],["T_WHITESPACE"," ",91],["T_IS_IDENTICAL","===",91],["T_WHITESPACE"," ",91],["T_STRING","null",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","appConfig",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","App",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ObjectManager",92],["T_DOUBLE_COLON","::",92],["T_STRING","getInstance",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_WHITESPACE","\n                ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","App",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Config",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],["T_WHITESPACE","\n            ",93],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","appConfig",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Check url rewrite suffix - whether we can support it\n     *\n     * @return $this\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","beforeSave",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","urlRewriteHelper",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","validateSuffix",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getValue",106],"(",")",")",";",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","afterSave",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","isValueChanged",115],"(",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","updateSuffixForUrlRewrites",116],"(",")",";",["T_WHITESPACE","\n            ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","isCategorySuffixChanged",117],"(",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","cacheTypeList",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","invalidate",118],"(","[",["T_WHITESPACE","\n                    ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Framework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","App",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Cache",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Type",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Block",119],["T_DOUBLE_COLON","::",119],["T_STRING","TYPE_IDENTIFIER",119],",",["T_WHITESPACE","\n                    ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Framework",120],["T_NS_SEPARATOR","\\",120],["T_STRING","App",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Cache",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Type",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Collection",120],["T_DOUBLE_COLON","::",120],["T_STRING","TYPE_IDENTIFIER",120],["T_WHITESPACE","\n                ",120],"]",")",";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_STRING","parent",124],["T_DOUBLE_COLON","::",124],["T_STRING","afterSave",124],"(",")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",127],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","afterDeleteCommit",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","isValueChanged",132],"(",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","updateSuffixForUrlRewrites",133],"(",")",";",["T_WHITESPACE","\n            ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","isCategorySuffixChanged",134],"(",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","cacheTypeList",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","invalidate",135],"(","[",["T_WHITESPACE","\n                    ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","App",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Cache",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Type",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Block",136],["T_DOUBLE_COLON","::",136],["T_STRING","TYPE_IDENTIFIER",136],",",["T_WHITESPACE","\n                    ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Framework",137],["T_NS_SEPARATOR","\\",137],["T_STRING","App",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Cache",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Type",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Collection",137],["T_DOUBLE_COLON","::",137],["T_STRING","TYPE_IDENTIFIER",137],["T_WHITESPACE","\n                ",137],"]",")",";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","parent",142],["T_DOUBLE_COLON","::",142],["T_STRING","afterDeleteCommit",142],"(",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Check is category suffix changed\n     *\n     * @return bool\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PRIVATE","private",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","isCategorySuffixChanged",150],"(",")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","isValueChanged",152],"(",")",["T_WHITESPACE","\n            ",152],["T_BOOLEAN_AND","&&",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getPath",153],"(",")",["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_STRING","CategoryUrlPathGenerator",153],["T_DOUBLE_COLON","::",153],["T_STRING","XML_PATH_CATEGORY_URL_SUFFIX",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Update suffix for url rewrites\n     *\n     * @return $this\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","updateSuffixForUrlRewrites",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$map",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"[",["T_WHITESPACE","\n            ",163],["T_STRING","ProductUrlPathGenerator",164],["T_DOUBLE_COLON","::",164],["T_STRING","XML_PATH_PRODUCT_URL_SUFFIX",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_STRING","ProductUrlRewriteGenerator",164],["T_DOUBLE_COLON","::",164],["T_STRING","ENTITY_TYPE",164],",",["T_WHITESPACE","\n            ",164],["T_STRING","CategoryUrlPathGenerator",165],["T_DOUBLE_COLON","::",165],["T_STRING","XML_PATH_CATEGORY_URL_SUFFIX",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_STRING","CategoryUrlRewriteGenerator",165],["T_DOUBLE_COLON","::",165],["T_STRING","ENTITY_TYPE",165],",",["T_WHITESPACE","\n        ",165],"]",";",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_ISSET","isset",167],"(",["T_VARIABLE","$map",167],"[",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getPath",167],"(",")","]",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$dataFilter",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],"[",["T_STRING","UrlRewrite",170],["T_DOUBLE_COLON","::",170],["T_STRING","ENTITY_TYPE",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$map",170],"[",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getPath",170],"(",")","]","]",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$storesIds",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getStoreIds",171],"(",")",";",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$storesIds",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$dataFilter",173],"[",["T_STRING","UrlRewrite",173],["T_DOUBLE_COLON","::",173],["T_STRING","STORE_ID",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$storesIds",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$entities",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","urlFinder",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","findAllByData",175],"(",["T_VARIABLE","$dataFilter",175],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$oldSuffixPattern",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'~'",176],["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_STRING","preg_quote",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getOldValue",176],"(",")",")",["T_WHITESPACE"," ",176],".",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'$~'",176],";",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getValue",177],"(",")",["T_WHITESPACE"," ",177],["T_IS_NOT_IDENTICAL","!==",177],["T_WHITESPACE"," ",177],["T_STRING","null",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$suffix",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getValue",178],"(",")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE"," ",179],["T_ELSE","else",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getAppConfig",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","clean",180],"(",")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$suffix",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_config",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getValue",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getPath",181],"(",")",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_FOREACH","foreach",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$entities",183],["T_WHITESPACE"," ",183],["T_AS","as",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$urlRewrite",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$bind",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$urlRewrite",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getIsAutogenerated",184],"(",")",["T_WHITESPACE","\n                ",184],"?",["T_WHITESPACE"," ",185],"[",["T_STRING","UrlRewrite",185],["T_DOUBLE_COLON","::",185],["T_STRING","REQUEST_PATH",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_STRING","preg_replace",185],"(",["T_VARIABLE","$oldSuffixPattern",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$suffix",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$urlRewrite",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getRequestPath",185],"(",")",")","]",["T_WHITESPACE","\n                ",185],":",["T_WHITESPACE"," ",186],"[",["T_STRING","UrlRewrite",186],["T_DOUBLE_COLON","::",186],["T_STRING","TARGET_PATH",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_STRING","preg_replace",186],"(",["T_VARIABLE","$oldSuffixPattern",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$suffix",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$urlRewrite",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getTargetPath",186],"(",")",")","]",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","connection",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","update",187],"(",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","resource",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getTableName",188],"(",["T_STRING","DbStorage",188],["T_DOUBLE_COLON","::",188],["T_STRING","TABLE_NAME",188],")",",",["T_WHITESPACE","\n                ",188],["T_VARIABLE","$bind",189],",",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","connection",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","quoteIdentifier",190],"(",["T_STRING","UrlRewrite",190],["T_DOUBLE_COLON","::",190],["T_STRING","URL_REWRITE_ID",190],")",["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","' = '",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$urlRewrite",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getUrlRewriteId",190],"(",")",["T_WHITESPACE","\n            ",190],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * @return array|null\n     *\/",196],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","getStoreIds",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getScope",201],"(",")",["T_WHITESPACE"," ",201],["T_IS_EQUAL","==",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'stores'",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$storeIds",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"[",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getScopeId",202],"(",")","]",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE"," ",203],["T_ELSEIF","elseif",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getScope",203],"(",")",["T_WHITESPACE"," ",203],["T_IS_EQUAL","==",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'websites'",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$website",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","storeManager",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getWebsite",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getScopeId",204],"(",")",")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$storeIds",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","array_keys",205],"(",["T_VARIABLE","$website",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getStoreIds",205],"(",")",")",";",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$storeIds",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","array_diff",206],"(",["T_VARIABLE","$storeIds",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getOverrideStoreIds",206],"(",["T_VARIABLE","$storeIds",206],")",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE"," ",207],["T_ELSE","else",207],["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$storeIds",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","array_keys",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","storeManager",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getStores",208],"(",")",")",";",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$storeIds",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","array_diff",209],"(",["T_VARIABLE","$storeIds",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getOverrideStoreIds",209],"(",["T_VARIABLE","$storeIds",209],")",")",";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$storeIds",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * @param array $storeIds\n     * @return array\n     *\/",214],["T_WHITESPACE","\n    ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","getOverrideStoreIds",218],"(",["T_VARIABLE","$storeIds",218],")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$excludeIds",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],"[","]",";",["T_WHITESPACE","\n        ",220],["T_FOREACH","foreach",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$storeIds",221],["T_WHITESPACE"," ",221],["T_AS","as",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$storeId",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$suffix",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_config",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getValue",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getPath",222],"(",")",",",["T_WHITESPACE"," ",222],["T_STRING","ScopeInterface",222],["T_DOUBLE_COLON","::",222],["T_STRING","SCOPE_STORE",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$storeId",222],")",";",["T_WHITESPACE","\n            ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$suffix",223],["T_WHITESPACE"," ",223],["T_IS_NOT_EQUAL","!=",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getOldValue",223],"(",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$excludeIds",224],"[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$storeId",224],";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$excludeIds",227],";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n",228],"}",["T_WHITESPACE","\n",229]]