[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ProductRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Category",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Product View block\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","View",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","AbstractProduct",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DataObject",15],["T_NS_SEPARATOR","\\",15],["T_STRING","IdentityInterface",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Magento string lib\n     *\n     * @var \\Magento\\Framework\\Stdlib\\StringUtils\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$string",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\EncoderInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_jsonEncoder",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Pricing\\PriceCurrencyInterface\n     * @deprecated\n     *\/",29],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$priceCurrency",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Url\\EncoderInterface\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$urlEncoder",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Helper\\Product\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_productHelper",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$productTypeConfig",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\FormatInterface\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_localeFormat",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$customerSession",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$productRepository",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @param Context $context\n     * @param \\Magento\\Framework\\Url\\EncoderInterface $urlEncoder\n     * @param \\Magento\\Framework\\Json\\EncoderInterface $jsonEncoder\n     * @param \\Magento\\Framework\\Stdlib\\StringUtils $string\n     * @param \\Magento\\Catalog\\Helper\\Product $productHelper\n     * @param \\Magento\\Catalog\\Model\\ProductTypes\\ConfigInterface $productTypeConfig\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param ProductRepositoryInterface|\\Magento\\Framework\\Pricing\\PriceCurrencyInterface $productRepository\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param array $data\n     * @codingStandardsIgnoreStart\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",65],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","__construct",80],"(",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Catalog",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Block",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Product",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Context",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$context",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Url",82],["T_NS_SEPARATOR","\\",82],["T_STRING","EncoderInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$urlEncoder",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Json",83],["T_NS_SEPARATOR","\\",83],["T_STRING","EncoderInterface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$jsonEncoder",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Stdlib",84],["T_NS_SEPARATOR","\\",84],["T_STRING","StringUtils",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$string",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Catalog",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Helper",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Product",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$productHelper",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Catalog",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ProductTypes",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ConfigInterface",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$productTypeConfig",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Locale",87],["T_NS_SEPARATOR","\\",87],["T_STRING","FormatInterface",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$localeFormat",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Customer",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Session",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$customerSession",88],",",["T_WHITESPACE","\n        ",88],["T_STRING","ProductRepositoryInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$productRepository",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Pricing",90],["T_NS_SEPARATOR","\\",90],["T_STRING","PriceCurrencyInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$priceCurrency",90],",",["T_WHITESPACE","\n        ",90],["T_ARRAY","array",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$data",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",["T_WHITESPACE","\n    ",91],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_productHelper",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$productHelper",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","urlEncoder",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$urlEncoder",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_jsonEncoder",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$jsonEncoder",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","productTypeConfig",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$productTypeConfig",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","string",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$string",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_localeFormat",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$localeFormat",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","customerSession",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$customerSession",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","productRepository",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$productRepository",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","priceCurrency",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$priceCurrency",101],";",["T_WHITESPACE","\n        ",101],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","__construct",102],"(",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$context",103],",",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$data",104],["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n    ",106],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",107],["T_WHITESPACE","\n    ",108],["T_DOC_COMMENT","\/**\n     * Return wishlist widget options\n     *\n     * @return array\n     * @deprecated\n     *\/",109],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getWishlistOptions",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'productType'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getProduct",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getTypeId",117],"(",")","]",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Add meta information from product to head block\n     *\n     * @return \\Magento\\Catalog\\Block\\Product\\View\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","_prepareLayout",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getLayout",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","createBlock",127],"(",["T_NS_SEPARATOR","\\",127],["T_STRING","Magento",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Catalog",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Block",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Breadcrumbs",127],["T_DOUBLE_COLON","::",127],["T_CLASS","class",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$product",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getProduct",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_VARIABLE","$product",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","parent",130],["T_DOUBLE_COLON","::",130],["T_STRING","_prepareLayout",130],"(",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$title",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$product",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMetaTitle",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$title",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","pageConfig",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTitle",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","set",135],"(",["T_VARIABLE","$title",135],")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$keyword",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$product",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMetaKeyword",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$currentCategory",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_coreRegistry",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","registry",138],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",138],")",";",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$keyword",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","pageConfig",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setKeywords",140],"(",["T_VARIABLE","$keyword",140],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE"," ",141],["T_ELSEIF","elseif",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$currentCategory",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","pageConfig",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","setKeywords",142],"(",["T_VARIABLE","$product",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getName",142],"(",")",")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$description",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$product",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMetaDescription",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$description",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","pageConfig",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","setDescription",146],"(",["T_VARIABLE","$description",146],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE"," ",147],["T_ELSE","else",147],["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","pageConfig",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setDescription",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","string",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","substr",148],"(",["T_VARIABLE","$product",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getDescription",148],"(",")",",",["T_WHITESPACE"," ",148],["T_LNUMBER","0",148],",",["T_WHITESPACE"," ",148],["T_LNUMBER","255",148],")",")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_productHelper",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","canUseCanonicalTag",150],"(",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","pageConfig",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","addRemotePageAsset",151],"(",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$product",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getUrlModel",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getUrl",152],"(",["T_VARIABLE","$product",152],",",["T_WHITESPACE"," ",152],"[",["T_CONSTANT_ENCAPSED_STRING","'_ignore_category'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_STRING","true",152],"]",")",",",["T_WHITESPACE","\n                ",152],["T_CONSTANT_ENCAPSED_STRING","'canonical'",153],",",["T_WHITESPACE","\n                ",153],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'rel'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'canonical'",154],"]","]",["T_WHITESPACE","\n            ",154],")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$pageMainTitle",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getLayout",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getBlock",158],"(",["T_CONSTANT_ENCAPSED_STRING","'page.main.title'",158],")",";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$pageMainTitle",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$pageMainTitle",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setPageTitle",160],"(",["T_VARIABLE","$product",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getName",160],"(",")",")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","parent",162],["T_DOUBLE_COLON","::",162],["T_STRING","_prepareLayout",162],"(",")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Retrieve current product model\n     *\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",165],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","getProduct",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_coreRegistry",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","registry",172],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",172],")",["T_WHITESPACE"," ",172],["T_BOOLEAN_AND","&&",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getProductId",172],"(",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$product",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","productRepository",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getById",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getProductId",173],"(",")",")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_coreRegistry",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","register",174],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$product",174],")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_coreRegistry",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","registry",176],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",176],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Check if product can be emailed to friend\n     *\n     * @return bool\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","canEmailToFriend",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_STRING","false",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Retrieve url for direct adding product to cart\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param array $additional\n     * @return string\n     *\/",189],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getAddToCartUrl",196],"(",["T_VARIABLE","$product",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$additional",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"[","]",")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","hasCustomAddToCartUrl",198],"(",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getCustomAddToCartUrl",199],"(",")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getRequest",202],"(",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getParam",202],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_next'",202],")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$additional",203],"[",["T_CONSTANT_ENCAPSED_STRING","'wishlist_next'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_LNUMBER","1",203],";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$addUrlKey",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Framework",206],["T_NS_SEPARATOR","\\",206],["T_STRING","App",206],["T_NS_SEPARATOR","\\",206],["T_STRING","ActionInterface",206],["T_DOUBLE_COLON","::",206],["T_STRING","PARAM_NAME_URL_ENCODED",206],";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$addUrlValue",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_urlBuilder",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getUrl",207],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/*'",207],",",["T_WHITESPACE"," ",207],"[",["T_CONSTANT_ENCAPSED_STRING","'_use_rewrite'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_STRING","true",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'_current'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_STRING","true",207],"]",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$additional",208],"[",["T_VARIABLE","$addUrlKey",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","urlEncoder",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","encode",208],"(",["T_VARIABLE","$addUrlValue",208],")",";",["T_WHITESPACE","\n\n        ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_cartHelper",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getAddUrl",210],"(",["T_VARIABLE","$product",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$additional",210],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Get JSON encoded configuration array which can be used for JS dynamic\n     * price calculation depending on product options\n     *\n     * @return string\n     *\/",213],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","getJsonConfig",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_COMMENT","\/* @var $product \\Magento\\Catalog\\Model\\Product *\/",221],["T_WHITESPACE","\n        ",221],["T_VARIABLE","$product",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getProduct",222],"(",")",";",["T_WHITESPACE","\n\n        ",222],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","hasOptions",224],"(",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$config",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"[",["T_WHITESPACE","\n                ",225],["T_CONSTANT_ENCAPSED_STRING","'productId'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$product",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getId",226],"(",")",",",["T_WHITESPACE","\n                ",226],["T_CONSTANT_ENCAPSED_STRING","'priceFormat'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_localeFormat",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getPriceFormat",227],"(",")",["T_WHITESPACE","\n            ",227],"]",";",["T_WHITESPACE","\n            ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_jsonEncoder",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","encode",229],"(",["T_VARIABLE","$config",229],")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$tierPrices",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"[","]",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$tierPricesList",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$product",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getPriceInfo",233],"(",")",["T_OBJECT_OPERATOR","->",233],["T_STRING","getPrice",233],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",233],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","getTierPriceList",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$tierPricesList",234],["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$tierPrice",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$tierPrices",235],"[","]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$tierPrice",235],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",235],"]",["T_OBJECT_OPERATOR","->",235],["T_STRING","getValue",235],"(",")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$config",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],"[",["T_WHITESPACE","\n            ",237],["T_CONSTANT_ENCAPSED_STRING","'productId'",238],["T_WHITESPACE","   ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$product",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getId",238],"(",")",",",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'priceFormat'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_localeFormat",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getPriceFormat",239],"(",")",",",["T_WHITESPACE","\n            ",239],["T_CONSTANT_ENCAPSED_STRING","'prices'",240],["T_WHITESPACE","      ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],"[",["T_WHITESPACE","\n                ",240],["T_CONSTANT_ENCAPSED_STRING","'oldPrice'",241],["T_WHITESPACE","   ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n                    ",241],["T_CONSTANT_ENCAPSED_STRING","'amount'",242],["T_WHITESPACE","      ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$product",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getPriceInfo",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getPrice",242],"(",["T_CONSTANT_ENCAPSED_STRING","'regular_price'",242],")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getAmount",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getValue",242],"(",")",",",["T_WHITESPACE","\n                    ",242],["T_CONSTANT_ENCAPSED_STRING","'adjustments'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],"[","]",["T_WHITESPACE","\n                ",243],"]",",",["T_WHITESPACE","\n                ",244],["T_CONSTANT_ENCAPSED_STRING","'basePrice'",245],["T_WHITESPACE","  ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],"[",["T_WHITESPACE","\n                    ",245],["T_CONSTANT_ENCAPSED_STRING","'amount'",246],["T_WHITESPACE","      ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$product",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getPriceInfo",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getPrice",246],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getAmount",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getBaseAmount",246],"(",")",",",["T_WHITESPACE","\n                    ",246],["T_CONSTANT_ENCAPSED_STRING","'adjustments'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],"[","]",["T_WHITESPACE","\n                ",247],"]",",",["T_WHITESPACE","\n                ",248],["T_CONSTANT_ENCAPSED_STRING","'finalPrice'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],"[",["T_WHITESPACE","\n                    ",249],["T_CONSTANT_ENCAPSED_STRING","'amount'",250],["T_WHITESPACE","      ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$product",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getPriceInfo",250],"(",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","getPrice",250],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","getAmount",250],"(",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","getValue",250],"(",")",",",["T_WHITESPACE","\n                    ",250],["T_CONSTANT_ENCAPSED_STRING","'adjustments'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],"[","]",["T_WHITESPACE","\n                ",251],"]",["T_WHITESPACE","\n            ",252],"]",",",["T_WHITESPACE","\n            ",253],["T_CONSTANT_ENCAPSED_STRING","'idSuffix'",254],["T_WHITESPACE","    ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'_clone'",254],",",["T_WHITESPACE","\n            ",254],["T_CONSTANT_ENCAPSED_STRING","'tierPrices'",255],["T_WHITESPACE","  ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$tierPrices",255],["T_WHITESPACE","\n        ",255],"]",";",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$responseObject",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_NEW","new",258],["T_WHITESPACE"," ",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Magento",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Framework",258],["T_NS_SEPARATOR","\\",258],["T_STRING","DataObject",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_eventManager",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","dispatch",259],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_view_config'",259],",",["T_WHITESPACE"," ",259],"[",["T_CONSTANT_ENCAPSED_STRING","'response_object'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$responseObject",259],"]",")",";",["T_WHITESPACE","\n        ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_STRING","is_array",260],"(",["T_VARIABLE","$responseObject",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getAdditionalOptions",260],"(",")",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_FOREACH","foreach",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$responseObject",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getAdditionalOptions",261],"(",")",["T_WHITESPACE"," ",261],["T_AS","as",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$option",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$value",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$config",262],"[",["T_VARIABLE","$option",262],"]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$value",262],";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_jsonEncoder",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","encode",266],"(",["T_VARIABLE","$config",266],")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Return true if product has options\n     *\n     * @return bool\n     *\/",269],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","hasOptions",274],"(",")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getProduct",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","getTypeInstance",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","hasOptions",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getProduct",276],"(",")",")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_STRING","true",277],";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_STRING","false",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Check if product has required options\n     *\n     * @return bool\n     *\/",282],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","hasRequiredOptions",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getProduct",289],"(",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","getTypeInstance",289],"(",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","hasRequiredOptions",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getProduct",289],"(",")",")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Define if setting of product options must be shown instantly.\n     * Used in case when options are usually hidden and shown only when user\n     * presses some button or link. In editing mode we better show these options\n     * instantly.\n     *\n     * @return bool\n     *\/",292],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","isStartCustomization",300],"(",")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getProduct",302],"(",")",["T_OBJECT_OPERATOR","->",302],["T_STRING","getConfigureMode",302],"(",")",["T_WHITESPACE"," ",302],["T_BOOLEAN_OR","||",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_request",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getParam",302],"(",["T_CONSTANT_ENCAPSED_STRING","'startcustomization'",302],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Get default qty - either as preconfigured, or as 1.\n     * Also restricts it by minimal qty.\n     *\n     * @param null|\\Magento\\Catalog\\Model\\Product $product\n     * @return int|float\n     *\/",305],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","getProductDefaultQty",312],"(",["T_VARIABLE","$product",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","null",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(","!",["T_VARIABLE","$product",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$product",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getProduct",315],"(",")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n\n        ",316],["T_VARIABLE","$qty",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getMinimalQty",318],"(",["T_VARIABLE","$product",318],")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$config",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$product",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getPreconfiguredValues",319],"(",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$configQty",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$config",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getQty",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$configQty",321],["T_WHITESPACE"," ",321],">",["T_WHITESPACE"," ",321],["T_VARIABLE","$qty",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$qty",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$configQty",322],";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n\n        ",323],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$qty",325],";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Get container name, where product options should be displayed\n     *\n     * @return string\n     *\/",328],["T_WHITESPACE","\n    ",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","getOptionsContainer",333],"(",")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getProduct",335],"(",")",["T_OBJECT_OPERATOR","->",335],["T_STRING","getOptionsContainer",335],"(",")",["T_WHITESPACE"," ",335],["T_IS_EQUAL","==",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'container1'",335],["T_WHITESPACE"," ",335],"?",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'container1'",335],["T_WHITESPACE"," ",335],":",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'container2'",335],";",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n\n    ",336],["T_DOC_COMMENT","\/**\n     * Check whether quantity field should be rendered\n     *\n     * @return bool\n     *\/",338],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","shouldRenderQuantity",343],"(",")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],"!",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","productTypeConfig",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","isProductSet",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getProduct",345],"(",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","getTypeId",345],"(",")",")",";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Get Validation Rules for Quantity field\n     *\n     * @return array\n     *\/",348],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","getQuantityValidators",353],"(",")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$validators",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],"[","]",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$validators",356],"[",["T_CONSTANT_ENCAPSED_STRING","'required-number'",356],"]",["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","true",356],";",["T_WHITESPACE","\n        ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$validators",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Return identifiers for produced content\n     *\n     * @return array\n     *\/",360],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","getIdentities",365],"(",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$identities",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getProduct",367],"(",")",["T_OBJECT_OPERATOR","->",367],["T_STRING","getIdentities",367],"(",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$category",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_coreRegistry",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","registry",368],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",368],")",";",["T_WHITESPACE","\n        ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$category",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$identities",370],"[","]",["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","Category",370],["T_DOUBLE_COLON","::",370],["T_STRING","CACHE_TAG",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'_'",370],["T_WHITESPACE"," ",370],".",["T_WHITESPACE"," ",370],["T_VARIABLE","$category",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getId",370],"(",")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$identities",372],";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Retrieve customer data object\n     *\n     * @return int\n     *\/",375],["T_WHITESPACE","\n    ",379],["T_PROTECTED","protected",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","getCustomerId",380],"(",")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","customerSession",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getCustomerId",382],"(",")",";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n",383],"}",["T_WHITESPACE","\n",384]]