[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * JSON products custom options\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Block",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Options",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Store",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Store",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Ajax",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Backend",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Block",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractBlock",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_coreRegistry",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","null",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_productFactory",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\EncoderInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_jsonEncoder",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Context $context\n     * @param \\Magento\\Framework\\Json\\EncoderInterface $jsonEncoder\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param array $data\n     *\/",35],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",["T_WHITESPACE","\n        ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Backend",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Block",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Context",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$context",43],",",["T_WHITESPACE","\n        ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Json",44],["T_NS_SEPARATOR","\\",44],["T_STRING","EncoderInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$jsonEncoder",44],",",["T_WHITESPACE","\n        ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Catalog",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ProductFactory",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$productFactory",45],",",["T_WHITESPACE","\n        ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Framework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Registry",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$registry",46],",",["T_WHITESPACE","\n        ",46],["T_ARRAY","array",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$data",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",["T_WHITESPACE","\n    ",47],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_jsonEncoder",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$jsonEncoder",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_coreRegistry",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$registry",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_productFactory",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$productFactory",51],";",["T_WHITESPACE","\n        ",51],["T_STRING","parent",52],["T_DOUBLE_COLON","::",52],["T_STRING","__construct",52],"(",["T_VARIABLE","$context",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$data",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Return product custom options in JSON format\n     *\n     * @return string\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","_toHtml",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$results",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[","]",";",["T_WHITESPACE","\n        ",62],["T_DOC_COMMENT","\/** @var $optionsBlock \\Magento\\Catalog\\Block\\Adminhtml\\Product\\Edit\\Tab\\Options\\Option *\/",63],["T_WHITESPACE","\n        ",63],["T_VARIABLE","$optionsBlock",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getLayout",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","createBlock",64],"(",["T_WHITESPACE","\n            ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Catalog",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Block",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Adminhtml",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Product",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Edit",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Tab",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Options",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Option",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],["T_WHITESPACE","\n        ",65],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","setIgnoreCaching",66],"(",["T_WHITESPACE","\n            ",66],["T_STRING","true",67],["T_WHITESPACE","\n        ",67],")",";",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$products",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_coreRegistry",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","registry",70],"(",["T_CONSTANT_ENCAPSED_STRING","'import_option_products'",70],")",";",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_STRING","is_array",71],"(",["T_VARIABLE","$products",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_FOREACH","foreach",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$products",72],["T_WHITESPACE"," ",72],["T_AS","as",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$productId",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$product",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_productFactory",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","create",73],"(",")",";",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$product",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setStoreId",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getRequest",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getParam",74],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",74],",",["T_WHITESPACE"," ",74],["T_STRING","Store",74],["T_DOUBLE_COLON","::",74],["T_STRING","DEFAULT_STORE_ID",74],")",")",";",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$product",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","load",75],"(",["T_INT_CAST","(int)",75],["T_VARIABLE","$productId",75],")",";",["T_WHITESPACE","\n                ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_VARIABLE","$product",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getId",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                    ",76],["T_CONTINUE","continue",77],";",["T_WHITESPACE","\n                ",77],"}",["T_WHITESPACE","\n\n                ",78],["T_VARIABLE","$optionsBlock",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setProduct",80],"(",["T_VARIABLE","$product",80],")",";",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$results",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","array_merge",81],"(",["T_VARIABLE","$results",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$optionsBlock",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getOptionValues",81],"(",")",")",";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$output",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[","]",";",["T_WHITESPACE","\n        ",85],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$results",86],["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$resultObject",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$output",87],"[","]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$resultObject",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getData",87],"(",")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_jsonEncoder",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","encode",90],"(",["T_VARIABLE","$output",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n",91],"}",["T_WHITESPACE","\n",92]]