[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Categories tree with checkboxes\n *\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Block",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Category",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Checkboxes",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Tree",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Node",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Tree",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Catalog",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Block",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Adminhtml",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Category",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Tree",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var int[]\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_selectedIds",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[","]",";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_expandedPath",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[","]",";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","_prepareLayout",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setTemplate",33],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category\/checkboxes\/tree.phtml'",33],")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @return int[]\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","getCategoryIds",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_selectedIds",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @param mixed $ids\n     * @return $this\n     *\/",44],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","setCategoryIds",48],"(",["T_VARIABLE","$ids",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_EMPTY","empty",50],"(",["T_VARIABLE","$ids",50],")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$ids",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE"," ",52],["T_ELSEIF","elseif",52],["T_WHITESPACE"," ",52],"(","!",["T_STRING","is_array",52],"(",["T_VARIABLE","$ids",52],")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$ids",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[",["T_INT_CAST","(int)",53],["T_VARIABLE","$ids",53],"]",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_selectedIds",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$ids",55],";",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","getExpandedPath",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_expandedPath",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @param string $path\n     * @return $this\n     *\/",67],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","setExpandedPath",71],"(",["T_VARIABLE","$path",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_expandedPath",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","array_merge",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_expandedPath",73],",",["T_WHITESPACE"," ",73],["T_STRING","explode",73],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$path",73],")",")",";",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @param array|Node $node\n     * @param int $level\n     * @return array\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","_getNodeJson",83],"(",["T_VARIABLE","$node",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$level",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_LNUMBER","1",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$item",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[","]",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$item",86],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","escapeHtml",86],"(",["T_VARIABLE","$node",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getName",86],"(",")",")",";",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_withProductCount",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$item",88],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",88],"]",["T_WHITESPACE"," ",88],["T_CONCAT_EQUAL",".=",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","' ('",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$node",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getProductCount",88],"(",")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","')'",88],";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$item",90],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$node",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getId",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$item",91],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$node",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getData",91],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$item",92],"[",["T_CONSTANT_ENCAPSED_STRING","'cls'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'folder '",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$node",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getIsActive",92],"(",")",["T_WHITESPACE"," ",92],"?",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'active-category'",92],["T_WHITESPACE"," ",92],":",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'no-active-category'",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$item",93],"[",["T_CONSTANT_ENCAPSED_STRING","'allowDrop'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","false",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$item",94],"[",["T_CONSTANT_ENCAPSED_STRING","'allowDrag'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","false",94],";",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","in_array",95],"(",["T_VARIABLE","$node",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getId",95],"(",")",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getCategoryIds",95],"(",")",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setExpandedPath",96],"(",["T_VARIABLE","$node",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getData",96],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",96],")",")",";",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$item",97],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","true",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$node",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getLevel",99],"(",")",["T_WHITESPACE"," ",99],"<",["T_WHITESPACE"," ",99],["T_LNUMBER","2",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setExpandedPath",100],"(",["T_VARIABLE","$node",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getData",100],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",100],")",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$node",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","hasChildren",102],"(",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$item",103],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[","]",";",["T_WHITESPACE","\n            ",103],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$node",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getChildren",104],"(",")",["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$child",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$item",105],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",105],"]","[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_getNodeJson",105],"(",["T_VARIABLE","$child",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$level",105],["T_WHITESPACE"," ",105],"+",["T_WHITESPACE"," ",105],["T_LNUMBER","1",105],")",";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_EMPTY","empty",108],"(",["T_VARIABLE","$item",108],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",108],"]",")",["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_INT_CAST","(int)",108],["T_VARIABLE","$node",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getChildrenCount",108],"(",")",["T_WHITESPACE"," ",108],">",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$item",109],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"[","]",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$item",111],"[",["T_CONSTANT_ENCAPSED_STRING","'expanded'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","in_array",111],"(",["T_VARIABLE","$node",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getId",111],"(",")",",",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getExpandedPath",111],"(",")",")",";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$item",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n",113],"}",["T_WHITESPACE","\n",114]]