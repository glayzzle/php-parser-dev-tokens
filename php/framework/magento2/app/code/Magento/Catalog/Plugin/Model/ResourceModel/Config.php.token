[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Serialize",9],["T_NS_SEPARATOR","\\",9],["T_STRING","SerializerInterface",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Config",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_COMMENT","\/**#@+\n     * Product listing attributes cache ids\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","PRODUCT_LISTING_ATTRIBUTES_CACHE_ID",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'PRODUCT_LISTING_ATTRIBUTES'",16],";",["T_WHITESPACE","\n    ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","PRODUCT_LISTING_SORT_BY_ATTRIBUTES_CACHE_ID",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'PRODUCT_LISTING_SORT_BY_ATTRIBUTES'",17],";",["T_WHITESPACE","\n    ",17],["T_COMMENT","\/**#@-*\/",18],["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\CacheInterface *\/",20],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$cache",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/** @var bool|null *\/",23],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$isCacheEnabled",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","null",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var SerializerInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$serializer",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\CacheInterface $cache\n     * @param \\Magento\\Framework\\App\\Cache\\StateInterface $cacheState\n     * @param SerializerInterface $serializer\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","App",37],["T_NS_SEPARATOR","\\",37],["T_STRING","CacheInterface",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$cache",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","App",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Cache",38],["T_NS_SEPARATOR","\\",38],["T_STRING","StateInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$cacheState",38],",",["T_WHITESPACE","\n        ",38],["T_STRING","SerializerInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$serializer",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","null",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","cache",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$cache",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","isCacheEnabled",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$cacheState",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","isEnabled",42],"(",["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Eav",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Cache",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Type",42],["T_DOUBLE_COLON","::",42],["T_STRING","TYPE_IDENTIFIER",42],")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","serializer",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$serializer",43],["T_WHITESPACE"," ",43],"?",":",["T_WHITESPACE"," ",43],["T_STRING","ObjectManager",43],["T_DOUBLE_COLON","::",43],["T_STRING","getInstance",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_STRING","SerializerInterface",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Config $config\n     * @param callable $proceed\n     * @return array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","aroundGetAttributesUsedInListing",51],"(",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Catalog",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ResourceModel",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Config",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$config",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Closure",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$proceed",53],["T_WHITESPACE","\n    ",53],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$cacheId",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","PRODUCT_LISTING_ATTRIBUTES_CACHE_ID",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$config",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getEntityTypeId",55],"(",")",["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'_'",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$config",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getStoreId",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","isCacheEnabled",56],["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$attributes",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","cache",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","load",56],"(",["T_VARIABLE","$cacheId",56],")",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","serializer",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","unserialize",57],"(",["T_VARIABLE","$attributes",57],")",";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$attributes",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$proceed",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","isCacheEnabled",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","cache",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","save",61],"(",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","serializer",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","serialize",62],"(",["T_VARIABLE","$attributes",62],")",",",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$cacheId",63],",",["T_WHITESPACE","\n                ",63],"[",["T_WHITESPACE","\n                    ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Eav",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Cache",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Type",65],["T_DOUBLE_COLON","::",65],["T_STRING","CACHE_TAG",65],",",["T_WHITESPACE","\n                    ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Eav",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Entity",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Attribute",66],["T_DOUBLE_COLON","::",66],["T_STRING","CACHE_TAG",66],["T_WHITESPACE","\n                ",66],"]",["T_WHITESPACE","\n            ",67],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$attributes",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Config $config\n     * @param callable $proceed\n     * @return array\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","aroundGetAttributesUsedForSortBy",78],"(",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Catalog",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","ResourceModel",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Config",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$config",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Closure",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$proceed",80],["T_WHITESPACE","\n    ",80],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$cacheId",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","PRODUCT_LISTING_SORT_BY_ATTRIBUTES_CACHE_ID",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$config",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getEntityTypeId",82],"(",")",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'_'",82],["T_WHITESPACE","\n            ",82],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$config",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getStoreId",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","isCacheEnabled",84],["T_WHITESPACE"," ",84],["T_BOOLEAN_AND","&&",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$attributes",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","cache",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","load",84],"(",["T_VARIABLE","$cacheId",84],")",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","serializer",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","unserialize",85],"(",["T_VARIABLE","$attributes",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$attributes",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$proceed",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","isCacheEnabled",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","cache",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","save",89],"(",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","serializer",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","serialize",90],"(",["T_VARIABLE","$attributes",90],")",",",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$cacheId",91],",",["T_WHITESPACE","\n                ",91],"[",["T_WHITESPACE","\n                    ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Eav",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Model",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Cache",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Type",93],["T_DOUBLE_COLON","::",93],["T_STRING","CACHE_TAG",93],",",["T_WHITESPACE","\n                    ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Eav",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Entity",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Attribute",94],["T_DOUBLE_COLON","::",94],["T_STRING","CACHE_TAG",94],["T_WHITESPACE","\n                ",94],"]",["T_WHITESPACE","\n            ",95],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$attributes",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n",99],"}",["T_WHITESPACE","\n",100]]