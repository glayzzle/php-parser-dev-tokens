[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Category",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Store",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","StoreManagerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CategoryAttributeInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class Save\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Save",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Catalog",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Controller",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Adminhtml",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Category",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\RawFactory\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$resultRawFactory",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\JsonFactory\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$resultJsonFactory",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\LayoutFactory\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$layoutFactory",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * The list of inputs that need to convert from string to boolean\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$stringToBoolInputs",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'custom_use_parent_settings'",38],",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'custom_apply_to_products'",39],",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'is_active'",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'include_in_menu'",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'is_anchor'",42],",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'use_default'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'url_key'",43],"]",",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'use_config'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[",["T_CONSTANT_ENCAPSED_STRING","'available_sort_by'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'filter_price_range'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'default_sort_by'",44],"]",["T_WHITESPACE","\n    ",44],"]",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var StoreManagerInterface\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$storeManager",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$eavConfig",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\Controller\\Result\\RawFactory $resultRawFactory\n     * @param \\Magento\\Framework\\Controller\\Result\\JsonFactory $resultJsonFactory\n     * @param \\Magento\\Framework\\View\\LayoutFactory $layoutFactory\n     * @param StoreManagerInterface $storeManager\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     *\/",57],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","__construct",67],"(",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Backend",68],["T_NS_SEPARATOR","\\",68],["T_STRING","App",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Action",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Context",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$context",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Controller",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Result",69],["T_NS_SEPARATOR","\\",69],["T_STRING","RawFactory",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$resultRawFactory",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Controller",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Result",70],["T_NS_SEPARATOR","\\",70],["T_STRING","JsonFactory",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$resultJsonFactory",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","View",71],["T_NS_SEPARATOR","\\",71],["T_STRING","LayoutFactory",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$layoutFactory",71],",",["T_WHITESPACE","\n        ",71],["T_STRING","StoreManagerInterface",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$storeManager",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Eav",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Model",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Config",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$eavConfig",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],["T_WHITESPACE","\n    ",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_STRING","parent",75],["T_DOUBLE_COLON","::",75],["T_STRING","__construct",75],"(",["T_VARIABLE","$context",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","resultRawFactory",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$resultRawFactory",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","resultJsonFactory",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$resultJsonFactory",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","layoutFactory",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$layoutFactory",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","storeManager",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$storeManager",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","eavConfig",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$eavConfig",80],["T_WHITESPACE","\n            ",80],"?",":",["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ObjectManager",81],["T_DOUBLE_COLON","::",81],["T_STRING","getInstance",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Eav",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Model",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Config",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Filter category data\n     *\n     * @deprecated\n     * @param array $rawData\n     * @return array\n     *\/",84],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","_filterCategoryPostData",91],"(",["T_ARRAY","array",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$rawData",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$data",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$rawData",93],";",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",94],"]",")",["T_WHITESPACE"," ",94],["T_BOOLEAN_AND","&&",94],["T_WHITESPACE"," ",94],["T_STRING","is_array",94],"(",["T_VARIABLE","$data",94],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_EMPTY","empty",95],"(",["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'delete'",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","null",96],";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE"," ",97],["T_ELSE","else",97],["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_ISSET","isset",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",98],"]","[",["T_LNUMBER","0",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",98],"]",")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_ISSET","isset",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",98],"]","[",["T_LNUMBER","0",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",98],"]",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                    ",98],["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",99],"]","[",["T_LNUMBER","0",99],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",99],"]",";",["T_WHITESPACE","\n                ",99],"}",["T_WHITESPACE"," ",100],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                    ",100],["T_UNSET","unset",101],"(",["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",101],"]",")",";",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$data",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Category save\n     *\n     * @return \\Magento\\Framework\\Controller\\ResultInterface\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",108],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","execute",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_DOC_COMMENT","\/** @var \\Magento\\Backend\\Model\\View\\Result\\Redirect $resultRedirect *\/",118],["T_WHITESPACE","\n        ",118],["T_VARIABLE","$resultRedirect",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","resultRedirectFactory",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","create",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$category",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_initCategory",121],"(",")",";",["T_WHITESPACE","\n\n        ",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_VARIABLE","$category",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$resultRedirect",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","setPath",124],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",124],",",["T_WHITESPACE"," ",124],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","true",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'id'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","null",124],"]",")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$data",127],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getRequest",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getPostValue",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$categoryPostData",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$data",128],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",128],"]",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$isNewCategory",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],"!",["T_ISSET","isset",130],"(",["T_VARIABLE","$categoryPostData",130],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",130],"]",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$categoryPostData",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","stringToBoolConverting",131],"(",["T_VARIABLE","$categoryPostData",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$categoryPostData",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","imagePreprocessing",132],"(",["T_VARIABLE","$categoryPostData",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$categoryPostData",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","dateTimePreprocessing",133],"(",["T_VARIABLE","$category",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$categoryPostData",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$storeId",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ISSET","isset",134],"(",["T_VARIABLE","$categoryPostData",134],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",134],"]",")",["T_WHITESPACE"," ",134],"?",["T_WHITESPACE"," ",134],["T_VARIABLE","$categoryPostData",134],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",134],"]",["T_WHITESPACE"," ",134],":",["T_WHITESPACE"," ",134],["T_STRING","null",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$store",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","storeManager",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getStore",135],"(",["T_VARIABLE","$storeId",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","storeManager",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setCurrentStore",136],"(",["T_VARIABLE","$store",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getCode",136],"(",")",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$parentId",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_ISSET","isset",137],"(",["T_VARIABLE","$categoryPostData",137],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",137],"]",")",["T_WHITESPACE"," ",137],"?",["T_WHITESPACE"," ",137],["T_VARIABLE","$categoryPostData",137],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",137],"]",["T_WHITESPACE"," ",137],":",["T_WHITESPACE"," ",137],["T_STRING","null",137],";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$categoryPostData",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$category",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","addData",139],"(",["T_VARIABLE","$categoryPostData",139],")",";",["T_WHITESPACE","\n            ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$isNewCategory",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$parentCategory",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getParentCategory",141],"(",["T_VARIABLE","$parentId",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$storeId",141],")",";",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$category",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","setPath",142],"(",["T_VARIABLE","$parentCategory",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getPath",142],"(",")",")",";",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$category",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setParentId",143],"(",["T_VARIABLE","$parentCategory",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getId",143],"(",")",")",";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE","\n\n            ",144],["T_DOC_COMMENT","\/**\n             * Process \"Use Config Settings\" checkboxes\n             *\/",146],["T_WHITESPACE","\n\n            ",148],["T_VARIABLE","$useConfig",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"[","]",";",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_ISSET","isset",151],"(",["T_VARIABLE","$categoryPostData",151],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config'",151],"]",")",["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],"!",["T_EMPTY","empty",151],"(",["T_VARIABLE","$categoryPostData",151],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config'",151],"]",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$categoryPostData",152],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config'",152],"]",["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$attributeCode",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$attributeValue",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                    ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$attributeValue",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                        ",153],["T_VARIABLE","$useConfig",154],"[","]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$attributeCode",154],";",["T_WHITESPACE","\n                        ",154],["T_VARIABLE","$category",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setData",155],"(",["T_VARIABLE","$attributeCode",155],",",["T_WHITESPACE"," ",155],["T_STRING","null",155],")",";",["T_WHITESPACE","\n                    ",155],"}",["T_WHITESPACE","\n                ",156],"}",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n\n            ",158],["T_VARIABLE","$category",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setAttributeSetId",160],"(",["T_VARIABLE","$category",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getDefaultAttributeSetId",160],"(",")",")",";",["T_WHITESPACE","\n\n            ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_ISSET","isset",162],"(",["T_VARIABLE","$categoryPostData",162],"[",["T_CONSTANT_ENCAPSED_STRING","'category_products'",162],"]",")",["T_WHITESPACE","\n                ",162],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE"," ",163],["T_STRING","is_string",163],"(",["T_VARIABLE","$categoryPostData",163],"[",["T_CONSTANT_ENCAPSED_STRING","'category_products'",163],"]",")",["T_WHITESPACE","\n                ",163],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],"!",["T_VARIABLE","$category",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getProductsReadonly",164],"(",")",["T_WHITESPACE","\n            ",164],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$products",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","json_decode",166],"(",["T_VARIABLE","$categoryPostData",166],"[",["T_CONSTANT_ENCAPSED_STRING","'category_products'",166],"]",",",["T_WHITESPACE"," ",166],["T_STRING","true",166],")",";",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$category",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setPostedProducts",167],"(",["T_VARIABLE","$products",167],")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_eventManager",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","dispatch",169],"(",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'catalog_category_prepare_save'",170],",",["T_WHITESPACE","\n                ",170],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$category",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'request'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getRequest",171],"(",")","]",["T_WHITESPACE","\n            ",171],")",";",["T_WHITESPACE","\n\n            ",172],["T_DOC_COMMENT","\/**\n             * Check \"Use Default Value\" checkboxes values\n             *\/",174],["T_WHITESPACE","\n            ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_ISSET","isset",177],"(",["T_VARIABLE","$categoryPostData",177],"[",["T_CONSTANT_ENCAPSED_STRING","'use_default'",177],"]",")",["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],"!",["T_EMPTY","empty",177],"(",["T_VARIABLE","$categoryPostData",177],"[",["T_CONSTANT_ENCAPSED_STRING","'use_default'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$categoryPostData",178],"[",["T_CONSTANT_ENCAPSED_STRING","'use_default'",178],"]",["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attributeCode",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attributeValue",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                    ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$attributeValue",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                        ",179],["T_VARIABLE","$category",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setData",180],"(",["T_VARIABLE","$attributeCode",180],",",["T_WHITESPACE"," ",180],["T_STRING","null",180],")",";",["T_WHITESPACE","\n                    ",180],"}",["T_WHITESPACE","\n                ",181],"}",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n\n            ",183],["T_DOC_COMMENT","\/**\n             * Proceed with $_POST['use_config']\n             * set into category model for processing through validation\n             *\/",185],["T_WHITESPACE","\n            ",188],["T_VARIABLE","$category",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setData",189],"(",["T_CONSTANT_ENCAPSED_STRING","'use_post_data_config'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$useConfig",189],")",";",["T_WHITESPACE","\n\n            ",189],["T_TRY","try",191],["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$categoryResource",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$category",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getResource",192],"(",")",";",["T_WHITESPACE","\n                ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$category",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","hasCustomDesignTo",193],"(",")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                    ",193],["T_VARIABLE","$categoryResource",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getAttribute",194],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_design_from'",194],")",["T_OBJECT_OPERATOR","->",194],["T_STRING","setMaxValue",194],"(",["T_VARIABLE","$category",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getCustomDesignTo",194],"(",")",")",";",["T_WHITESPACE","\n                ",194],"}",["T_WHITESPACE","\n\n                ",195],["T_VARIABLE","$validate",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$category",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","validate",197],"(",")",";",["T_WHITESPACE","\n                ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$validate",198],["T_WHITESPACE"," ",198],["T_IS_NOT_IDENTICAL","!==",198],["T_WHITESPACE"," ",198],["T_STRING","true",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                    ",198],["T_FOREACH","foreach",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$validate",199],["T_WHITESPACE"," ",199],["T_AS","as",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$code",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$error",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$error",200],["T_WHITESPACE"," ",200],["T_IS_IDENTICAL","===",200],["T_WHITESPACE"," ",200],["T_STRING","true",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                            ",200],["T_VARIABLE","$attribute",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$categoryResource",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getAttribute",201],"(",["T_VARIABLE","$code",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","getFrontend",201],"(",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","getLabel",201],"(",")",";",["T_WHITESPACE","\n                            ",201],["T_THROW","throw",202],["T_WHITESPACE"," ",202],["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Magento",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Framework",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Exception",202],["T_NS_SEPARATOR","\\",202],["T_STRING","LocalizedException",202],"(",["T_WHITESPACE","\n                                ",202],["T_STRING","__",203],"(",["T_CONSTANT_ENCAPSED_STRING","'Attribute \"%1\" is required.'",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$attribute",203],")",["T_WHITESPACE","\n                            ",203],")",";",["T_WHITESPACE","\n                        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                            ",205],["T_THROW","throw",206],["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Exception",206],"(",["T_VARIABLE","$error",206],")",";",["T_WHITESPACE","\n                        ",206],"}",["T_WHITESPACE","\n                    ",207],"}",["T_WHITESPACE","\n                ",208],"}",["T_WHITESPACE","\n\n                ",209],["T_VARIABLE","$category",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","unsetData",211],"(",["T_CONSTANT_ENCAPSED_STRING","'use_post_data_config'",211],")",";",["T_WHITESPACE","\n\n                ",211],["T_VARIABLE","$category",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","save",213],"(",")",";",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","messageManager",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","addSuccess",214],"(",["T_STRING","__",214],"(",["T_CONSTANT_ENCAPSED_STRING","'You saved the category.'",214],")",")",";",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE"," ",215],["T_CATCH","catch",215],["T_WHITESPACE"," ",215],"(",["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Framework",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Exception",215],["T_NS_SEPARATOR","\\",215],["T_STRING","AlreadyExistsException",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$e",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","messageManager",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","addError",216],"(",["T_VARIABLE","$e",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getMessage",216],"(",")",")",";",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_objectManager",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","get",217],"(",["T_NS_SEPARATOR","\\",217],["T_STRING","Psr",217],["T_NS_SEPARATOR","\\",217],["T_STRING","Log",217],["T_NS_SEPARATOR","\\",217],["T_STRING","LoggerInterface",217],["T_DOUBLE_COLON","::",217],["T_CLASS","class",217],")",["T_OBJECT_OPERATOR","->",217],["T_STRING","critical",217],"(",["T_VARIABLE","$e",217],")",";",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_getSession",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","setCategoryData",218],"(",["T_VARIABLE","$categoryPostData",218],")",";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE"," ",219],["T_CATCH","catch",219],["T_WHITESPACE"," ",219],"(",["T_NS_SEPARATOR","\\",219],["T_STRING","Magento",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Framework",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Exception",219],["T_NS_SEPARATOR","\\",219],["T_STRING","LocalizedException",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$e",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","messageManager",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","addError",220],"(",["T_VARIABLE","$e",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getMessage",220],"(",")",")",";",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_objectManager",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","get",221],"(",["T_NS_SEPARATOR","\\",221],["T_STRING","Psr",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Log",221],["T_NS_SEPARATOR","\\",221],["T_STRING","LoggerInterface",221],["T_DOUBLE_COLON","::",221],["T_CLASS","class",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","critical",221],"(",["T_VARIABLE","$e",221],")",";",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_getSession",222],"(",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","setCategoryData",222],"(",["T_VARIABLE","$categoryPostData",222],")",";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE"," ",223],["T_CATCH","catch",223],["T_WHITESPACE"," ",223],"(",["T_NS_SEPARATOR","\\",223],["T_STRING","Exception",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$e",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","messageManager",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","addError",224],"(",["T_STRING","__",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while saving the category.'",224],")",")",";",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_objectManager",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","get",225],"(",["T_NS_SEPARATOR","\\",225],["T_STRING","Psr",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Log",225],["T_NS_SEPARATOR","\\",225],["T_STRING","LoggerInterface",225],["T_DOUBLE_COLON","::",225],["T_CLASS","class",225],")",["T_OBJECT_OPERATOR","->",225],["T_STRING","critical",225],"(",["T_VARIABLE","$e",225],")",";",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_getSession",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","setCategoryData",226],"(",["T_VARIABLE","$categoryPostData",226],")",";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$hasError",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_BOOL_CAST","(bool)",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","messageManager",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getMessages",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","getCountByType",230],"(",["T_WHITESPACE","\n            ",230],["T_NS_SEPARATOR","\\",231],["T_STRING","Magento",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Framework",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Message",231],["T_NS_SEPARATOR","\\",231],["T_STRING","MessageInterface",231],["T_DOUBLE_COLON","::",231],["T_STRING","TYPE_ERROR",231],["T_WHITESPACE","\n        ",231],")",";",["T_WHITESPACE","\n\n        ",232],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getRequest",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getPost",234],"(",["T_CONSTANT_ENCAPSED_STRING","'return_session_messages_only'",234],")",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$category",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","load",235],"(",["T_VARIABLE","$category",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getId",235],"(",")",")",";",["T_WHITESPACE","\n            ",235],["T_COMMENT","\/\/ to obtain truncated category name\n",236],["T_WHITESPACE","            ",237],["T_DOC_COMMENT","\/** @var $block \\Magento\\Framework\\View\\Element\\Messages *\/",237],["T_WHITESPACE","\n            ",237],["T_VARIABLE","$block",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","layoutFactory",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","create",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getMessagesBlock",238],"(",")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$block",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setMessages",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","messageManager",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getMessages",239],"(",["T_STRING","true",239],")",")",";",["T_WHITESPACE","\n\n            ",239],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Json $resultJson *\/",241],["T_WHITESPACE","\n            ",241],["T_VARIABLE","$resultJson",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","resultJsonFactory",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","create",242],"(",")",";",["T_WHITESPACE","\n            ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$resultJson",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setData",243],"(",["T_WHITESPACE","\n                ",243],"[",["T_WHITESPACE","\n                    ",244],["T_CONSTANT_ENCAPSED_STRING","'messages'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$block",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getGroupedHtml",245],"(",")",",",["T_WHITESPACE","\n                    ",245],["T_CONSTANT_ENCAPSED_STRING","'error'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$hasError",246],",",["T_WHITESPACE","\n                    ",246],["T_CONSTANT_ENCAPSED_STRING","'category'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$category",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","toArray",247],"(",")",",",["T_WHITESPACE","\n                ",247],"]",["T_WHITESPACE","\n            ",248],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$redirectParams",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getRedirectParams",252],"(",["T_VARIABLE","$isNewCategory",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$hasError",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$category",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getId",252],"(",")",",",["T_WHITESPACE"," ",252],["T_VARIABLE","$parentId",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$storeId",252],")",";",["T_WHITESPACE","\n\n        ",252],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$resultRedirect",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setPath",254],"(",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$redirectParams",255],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",255],"]",",",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$redirectParams",256],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",256],"]",["T_WHITESPACE","\n        ",256],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Sets image attribute data to false if image was removed\n     *\n     * @param array $data\n     * @return array\n     *\/",260],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","imagePreprocessing",266],"(",["T_VARIABLE","$data",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$entityType",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","eavConfig",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getEntityType",268],"(",["T_STRING","CategoryAttributeInterface",268],["T_DOUBLE_COLON","::",268],["T_STRING","ENTITY_TYPE_CODE",268],")",";",["T_WHITESPACE","\n\n        ",268],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$entityType",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getAttributeCollection",270],"(",")",["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$attributeModel",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$attributeCode",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$attributeModel",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getAttributeCode",271],"(",")",";",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$backendModel",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$attributeModel",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getBackend",272],"(",")",";",["T_WHITESPACE","\n\n            ",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_ISSET","isset",274],"(",["T_VARIABLE","$data",274],"[",["T_VARIABLE","$attributeCode",274],"]",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_CONTINUE","continue",275],";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n\n            ",276],["T_IF","if",278],["T_WHITESPACE"," ",278],"(","!",["T_VARIABLE","$backendModel",278],["T_WHITESPACE"," ",278],["T_INSTANCEOF","instanceof",278],["T_WHITESPACE"," ",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Magento",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Catalog",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Model",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Category",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Attribute",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Backend",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Image",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                ",278],["T_CONTINUE","continue",279],";",["T_WHITESPACE","\n            ",279],"}",["T_WHITESPACE","\n\n            ",280],["T_VARIABLE","$data",282],"[",["T_VARIABLE","$attributeCode",282],"]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","false",282],";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n\n        ",283],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$data",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Converting inputs from string to boolean\n     *\n     * @param array $data\n     * @param array $stringToBoolInputs\n     *\n     * @return array\n     *\/",288],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","stringToBoolConverting",296],"(",["T_VARIABLE","$data",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$stringToBoolInputs",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","null",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_STRING","null",298],["T_WHITESPACE"," ",298],["T_IS_IDENTICAL","===",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$stringToBoolInputs",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$stringToBoolInputs",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","stringToBoolInputs",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n        ",300],["T_FOREACH","foreach",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$stringToBoolInputs",301],["T_WHITESPACE"," ",301],["T_AS","as",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$key",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$value",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_STRING","is_array",302],"(",["T_VARIABLE","$value",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_ISSET","isset",303],"(",["T_VARIABLE","$data",303],"[",["T_VARIABLE","$key",303],"]",")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                    ",303],["T_VARIABLE","$data",304],"[",["T_VARIABLE","$key",304],"]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","stringToBoolConverting",304],"(",["T_VARIABLE","$data",304],"[",["T_VARIABLE","$key",304],"]",",",["T_WHITESPACE"," ",304],["T_VARIABLE","$value",304],")",";",["T_WHITESPACE","\n                ",304],"}",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE"," ",306],["T_ELSE","else",306],["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_ISSET","isset",307],"(",["T_VARIABLE","$data",307],"[",["T_VARIABLE","$value",307],"]",")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                    ",307],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$data",308],"[",["T_VARIABLE","$value",308],"]",["T_WHITESPACE"," ",308],["T_IS_IDENTICAL","===",308],["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'true'",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                        ",308],["T_VARIABLE","$data",309],"[",["T_VARIABLE","$value",309],"]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","true",309],";",["T_WHITESPACE","\n                    ",309],"}",["T_WHITESPACE","\n                    ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$data",311],"[",["T_VARIABLE","$value",311],"]",["T_WHITESPACE"," ",311],["T_IS_IDENTICAL","===",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'false'",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                        ",311],["T_VARIABLE","$data",312],"[",["T_VARIABLE","$value",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","false",312],";",["T_WHITESPACE","\n                    ",312],"}",["T_WHITESPACE","\n                ",313],"}",["T_WHITESPACE","\n            ",314],"}",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$data",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Get parent category\n     *\n     * @param int $parentId\n     * @param int $storeId\n     *\n     * @return \\Magento\\Catalog\\Model\\Category\n     *\/",320],["T_WHITESPACE","\n    ",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getParentCategory",328],"(",["T_VARIABLE","$parentId",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$storeId",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(","!",["T_VARIABLE","$parentId",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$storeId",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                ",331],["T_VARIABLE","$parentId",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_objectManager",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","get",332],"(",["T_WHITESPACE","\n                    ",332],["T_NS_SEPARATOR","\\",333],["T_STRING","Magento",333],["T_NS_SEPARATOR","\\",333],["T_STRING","Store",333],["T_NS_SEPARATOR","\\",333],["T_STRING","Model",333],["T_NS_SEPARATOR","\\",333],["T_STRING","StoreManagerInterface",333],["T_DOUBLE_COLON","::",333],["T_CLASS","class",333],["T_WHITESPACE","\n                ",333],")",["T_OBJECT_OPERATOR","->",334],["T_STRING","getStore",334],"(",["T_WHITESPACE","\n                    ",334],["T_VARIABLE","$storeId",335],["T_WHITESPACE","\n                ",335],")",["T_OBJECT_OPERATOR","->",336],["T_STRING","getRootCategoryId",336],"(",")",";",["T_WHITESPACE","\n            ",336],"}",["T_WHITESPACE"," ",337],["T_ELSE","else",337],["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                ",337],["T_VARIABLE","$parentId",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Magento",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Catalog",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Model",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Category",338],["T_DOUBLE_COLON","::",338],["T_STRING","TREE_ROOT_ID",338],";",["T_WHITESPACE","\n            ",338],"}",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n        ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_objectManager",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","create",341],"(",["T_NS_SEPARATOR","\\",341],["T_STRING","Magento",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Catalog",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Model",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Category",341],["T_DOUBLE_COLON","::",341],["T_CLASS","class",341],")",["T_OBJECT_OPERATOR","->",341],["T_STRING","load",341],"(",["T_VARIABLE","$parentId",341],")",";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Get category redirect path\n     *\n     * @param bool $isNewCategory\n     * @param bool $hasError\n     * @param int $categoryId\n     * @param int $parentId\n     * @param int $storeId\n     *\n     * @return array\n     *\/",344],["T_WHITESPACE","\n    ",354],["T_PROTECTED","protected",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","getRedirectParams",355],"(",["T_VARIABLE","$isNewCategory",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$hasError",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$categoryId",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$parentId",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$storeId",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$params",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_STRING","true",357],"]",";",["T_WHITESPACE","\n        ",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$storeId",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$params",359],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",359],"]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$storeId",359],";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n        ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$isNewCategory",361],["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$hasError",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_VARIABLE","$path",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/add'",362],";",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$params",363],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",363],"]",["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$parentId",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE"," ",364],["T_ELSE","else",364],["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$path",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",365],";",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$params",366],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$categoryId",366],";",["T_WHITESPACE","\n\n        ",366],"}",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$path",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'params'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$params",369],"]",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n",370],"}",["T_WHITESPACE","\n",371]]