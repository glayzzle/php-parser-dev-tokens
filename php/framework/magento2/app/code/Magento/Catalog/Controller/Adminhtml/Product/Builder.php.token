[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ProductFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cms",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Wysiwyg",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","WysiwygModel",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RequestInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Store",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","StoreFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Psr",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Log",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LoggerInterface",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","Logger",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Registry",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Builder",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$productFactory",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$logger",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Registry\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$registry",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Cms\\Model\\Wysiwyg\\Config\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$wysiwygConfig",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var StoreFactory\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$storeFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @param ProductFactory $productFactory\n     * @param Logger $logger\n     * @param Registry $registry\n     * @param WysiwygModel\\Config $wysiwygConfig\n     *\/",43],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_STRING","ProductFactory",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$productFactory",50],",",["T_WHITESPACE","\n        ",50],["T_STRING","Logger",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$logger",51],",",["T_WHITESPACE","\n        ",51],["T_STRING","Registry",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$registry",52],",",["T_WHITESPACE","\n        ",52],["T_STRING","WysiwygModel",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Config",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$wysiwygConfig",53],["T_WHITESPACE","\n    ",53],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","productFactory",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$productFactory",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","logger",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$logger",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","registry",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$registry",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","wysiwygConfig",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$wysiwygConfig",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Build product based on user request\n     *\n     * @param RequestInterface $request\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",61],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","build",67],"(",["T_STRING","RequestInterface",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$request",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$productId",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_INT_CAST","(int)",69],["T_VARIABLE","$request",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getParam",69],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",69],")",";",["T_WHITESPACE","\n        ",69],["T_DOC_COMMENT","\/** @var $product \\Magento\\Catalog\\Model\\Product *\/",70],["T_WHITESPACE","\n        ",70],["T_VARIABLE","$product",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","productFactory",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","create",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$product",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setStoreId",72],"(",["T_VARIABLE","$request",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getParam",72],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",72],",",["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],")",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$store",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getStoreFactory",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","create",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$store",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","load",74],"(",["T_VARIABLE","$request",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getParam",74],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",74],",",["T_WHITESPACE"," ",74],["T_LNUMBER","0",74],")",")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$typeId",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$request",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getParam",76],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",76],")",";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$productId",77],["T_WHITESPACE"," ",77],["T_BOOLEAN_AND","&&",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$typeId",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$product",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setTypeId",78],"(",["T_VARIABLE","$typeId",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$product",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setData",81],"(",["T_CONSTANT_ENCAPSED_STRING","'_edit_mode'",81],",",["T_WHITESPACE"," ",81],["T_STRING","true",81],")",";",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$productId",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_TRY","try",83],["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$product",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","load",84],"(",["T_VARIABLE","$productId",84],")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE"," ",85],["T_CATCH","catch",85],["T_WHITESPACE"," ",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","Exception",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$e",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$product",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setTypeId",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Catalog",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Product",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Type",86],["T_DOUBLE_COLON","::",86],["T_STRING","DEFAULT_TYPE",86],")",";",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","logger",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","critical",87],"(",["T_VARIABLE","$e",87],")",";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$setId",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_INT_CAST","(int)",91],["T_VARIABLE","$request",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getParam",91],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",91],")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$setId",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$product",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setAttributeSetId",93],"(",["T_VARIABLE","$setId",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","registry",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","register",96],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$product",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","registry",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","register",97],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$product",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","registry",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","register",98],"(",["T_CONSTANT_ENCAPSED_STRING","'current_store'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$store",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","wysiwygConfig",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setStoreId",99],"(",["T_VARIABLE","$request",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getParam",99],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",99],")",")",";",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$product",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @return StoreFactory\n     *\/",103],["T_WHITESPACE","\n    ",105],["T_PRIVATE","private",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","getStoreFactory",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","null",108],["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","storeFactory",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","storeFactory",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Framework",109],["T_NS_SEPARATOR","\\",109],["T_STRING","App",109],["T_NS_SEPARATOR","\\",109],["T_STRING","ObjectManager",109],["T_DOUBLE_COLON","::",109],["T_STRING","getInstance",109],"(",")",["T_WHITESPACE","\n                ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Store",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","StoreFactory",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","storeFactory",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n",113],"}",["T_WHITESPACE","\n",114]]