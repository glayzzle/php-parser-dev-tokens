[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",8],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Attribute",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AlreadyExistsException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Controller",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResultFactory",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Save",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Catalog",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Controller",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Adminhtml",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Product",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Attribute",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\AttributeSet\\BuildFactory\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$buildFactory",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filter\\FilterManager\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$filterManager",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Helper\\Product\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$productHelper",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\AttributeFactory\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$attributeFactory",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Adminhtml\\System\\Config\\Source\\Inputtype\\ValidatorFactory\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$validatorFactory",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Group\\CollectionFactory\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$groupCollectionFactory",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\LayoutFactory\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$layoutFactory",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\Cache\\FrontendInterface $attributeLabelCache\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @param \\Magento\\Catalog\\Model\\Product\\AttributeSet\\BuildFactory $buildFactory\n     * @param \\Magento\\Framework\\View\\Result\\PageFactory $resultPageFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\AttributeFactory $attributeFactory\n     * @param \\Magento\\Eav\\Model\\Adminhtml\\System\\Config\\Source\\Inputtype\\ValidatorFactory $validatorFactory\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Group\\CollectionFactory $groupCollectionFactory\n     * @param \\Magento\\Framework\\Filter\\FilterManager $filterManager\n     * @param \\Magento\\Catalog\\Helper\\Product $productHelper\n     * @param \\Magento\\Framework\\View\\LayoutFactory $layoutFactory\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",55],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Backend",70],["T_NS_SEPARATOR","\\",70],["T_STRING","App",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Action",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Context",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$context",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Cache",71],["T_NS_SEPARATOR","\\",71],["T_STRING","FrontendInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$attributeLabelCache",71],",",["T_WHITESPACE","\n        ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Registry",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$coreRegistry",72],",",["T_WHITESPACE","\n        ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","View",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Result",73],["T_NS_SEPARATOR","\\",73],["T_STRING","PageFactory",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$resultPageFactory",73],",",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Catalog",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Product",74],["T_NS_SEPARATOR","\\",74],["T_STRING","AttributeSet",74],["T_NS_SEPARATOR","\\",74],["T_STRING","BuildFactory",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$buildFactory",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Catalog",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","ResourceModel",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Eav",75],["T_NS_SEPARATOR","\\",75],["T_STRING","AttributeFactory",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$attributeFactory",75],",",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Eav",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Adminhtml",76],["T_NS_SEPARATOR","\\",76],["T_STRING","System",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Config",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Source",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Inputtype",76],["T_NS_SEPARATOR","\\",76],["T_STRING","ValidatorFactory",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$validatorFactory",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Eav",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","ResourceModel",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Entity",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Attribute",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Group",77],["T_NS_SEPARATOR","\\",77],["T_STRING","CollectionFactory",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$groupCollectionFactory",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Filter",78],["T_NS_SEPARATOR","\\",78],["T_STRING","FilterManager",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$filterManager",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Catalog",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Helper",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Product",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$productHelper",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","View",80],["T_NS_SEPARATOR","\\",80],["T_STRING","LayoutFactory",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$layoutFactory",80],["T_WHITESPACE","\n    ",80],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_STRING","parent",82],["T_DOUBLE_COLON","::",82],["T_STRING","__construct",82],"(",["T_VARIABLE","$context",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$attributeLabelCache",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$coreRegistry",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$resultPageFactory",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","buildFactory",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$buildFactory",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","filterManager",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$filterManager",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","productHelper",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$productHelper",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","attributeFactory",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$attributeFactory",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","validatorFactory",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$validatorFactory",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","groupCollectionFactory",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$groupCollectionFactory",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","layoutFactory",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$layoutFactory",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Backend\\Model\\View\\Result\\Redirect\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","execute",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getRequest",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","getPostValue",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$data",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$setId",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getRequest",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getParam",102],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",102],")",";",["T_WHITESPACE","\n\n            ",102],["T_VARIABLE","$attributeSet",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","null",104],";",["T_WHITESPACE","\n            ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_EMPTY","empty",105],"(",["T_VARIABLE","$data",105],"[",["T_CONSTANT_ENCAPSED_STRING","'new_attribute_set_name'",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$name",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","filterManager",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","stripTags",106],"(",["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'new_attribute_set_name'",106],"]",")",";",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$name",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","trim",107],"(",["T_VARIABLE","$name",107],")",";",["T_WHITESPACE","\n\n                ",107],["T_TRY","try",109],["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                    ",109],["T_DOC_COMMENT","\/** @var $attributeSet \\Magento\\Eav\\Model\\Entity\\Attribute\\Set *\/",110],["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$attributeSet",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","buildFactory",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","create",111],"(",")",["T_WHITESPACE","\n                        ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","setEntityTypeId",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_entityTypeId",112],")",["T_WHITESPACE","\n                        ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","setSkeletonId",113],"(",["T_VARIABLE","$setId",113],")",["T_WHITESPACE","\n                        ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","setName",114],"(",["T_VARIABLE","$name",114],")",["T_WHITESPACE","\n                        ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getAttributeSet",115],"(",")",";",["T_WHITESPACE","\n\n                ",115],"}",["T_WHITESPACE"," ",117],["T_CATCH","catch",117],["T_WHITESPACE"," ",117],"(",["T_STRING","AlreadyExistsException",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$alreadyExists",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","messageManager",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addError",118],"(",["T_STRING","__",118],"(",["T_CONSTANT_ENCAPSED_STRING","'An attribute set named \\'%1\\' already exists.'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$name",118],")",")",";",["T_WHITESPACE","\n                    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_session",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setAttributeData",119],"(",["T_VARIABLE","$data",119],")",";",["T_WHITESPACE","\n                    ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","returnResult",120],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",120],",",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_STRING","true",120],"]",",",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_STRING","true",120],"]",")",";",["T_WHITESPACE","\n                ",120],"}",["T_WHITESPACE"," ",121],["T_CATCH","catch",121],["T_WHITESPACE"," ",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Exception",121],["T_NS_SEPARATOR","\\",121],["T_STRING","LocalizedException",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$e",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","messageManager",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addError",122],"(",["T_VARIABLE","$e",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getMessage",122],"(",")",")",";",["T_WHITESPACE","\n                ",122],"}",["T_WHITESPACE"," ",123],["T_CATCH","catch",123],["T_WHITESPACE"," ",123],"(",["T_NS_SEPARATOR","\\",123],["T_STRING","Exception",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$e",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","messageManager",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","addException",124],"(",["T_VARIABLE","$e",124],",",["T_WHITESPACE"," ",124],["T_STRING","__",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while saving the attribute.'",124],")",")",";",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n\n            ",126],["T_VARIABLE","$attributeId",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getRequest",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getParam",128],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",128],")",";",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$attributeCode",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getRequest",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getParam",129],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",129],")",["T_WHITESPACE","\n                ",129],"?",":",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","generateCode",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getRequest",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getParam",130],"(",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",130],")","[",["T_LNUMBER","0",130],"]",")",";",["T_WHITESPACE","\n            ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_STRING","strlen",131],"(",["T_VARIABLE","$attributeCode",131],")",["T_WHITESPACE"," ",131],">",["T_WHITESPACE"," ",131],["T_LNUMBER","0",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$validatorAttrCode",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Zend_Validate_Regex",132],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pattern'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'\/^[a-z][a-z_0-9]{0,30}$\/'",132],"]",")",";",["T_WHITESPACE","\n                ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_VARIABLE","$validatorAttrCode",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","isValid",133],"(",["T_VARIABLE","$attributeCode",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","messageManager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","addError",134],"(",["T_WHITESPACE","\n                        ",134],["T_STRING","__",135],"(",["T_WHITESPACE","\n                            ",135],["T_CONSTANT_ENCAPSED_STRING","'Attribute code \"%1\" is invalid. Please use only letters (a-z), '",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE","\n                            ",136],["T_CONSTANT_ENCAPSED_STRING","'numbers (0-9) or underscore(_) in this field, first character should be a letter.'",137],",",["T_WHITESPACE","\n                            ",137],["T_VARIABLE","$attributeCode",138],["T_WHITESPACE","\n                        ",138],")",["T_WHITESPACE","\n                    ",139],")",";",["T_WHITESPACE","\n                    ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","returnResult",141],"(",["T_WHITESPACE","\n                        ",141],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",142],",",["T_WHITESPACE","\n                        ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$attributeId",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'_current'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","true",143],"]",",",["T_WHITESPACE","\n                        ",143],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","true",144],"]",["T_WHITESPACE","\n                    ",144],")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$data",148],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$attributeCode",148],";",["T_WHITESPACE","\n\n            ",148],["T_COMMENT","\/\/validate frontend_input\n",150],["T_WHITESPACE","            ",151],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_ISSET","isset",151],"(",["T_VARIABLE","$data",151],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",151],"]",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_DOC_COMMENT","\/** @var $inputType \\Magento\\Eav\\Model\\Adminhtml\\System\\Config\\Source\\Inputtype\\Validator *\/",152],["T_WHITESPACE","\n                ",152],["T_VARIABLE","$inputType",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","validatorFactory",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","create",153],"(",")",";",["T_WHITESPACE","\n                ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(","!",["T_VARIABLE","$inputType",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","isValid",154],"(",["T_VARIABLE","$data",154],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",154],"]",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$inputType",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getMessages",155],"(",")",["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$message",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","messageManager",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","addError",156],"(",["T_VARIABLE","$message",156],")",";",["T_WHITESPACE","\n                    ",156],"}",["T_WHITESPACE","\n                    ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","returnResult",158],"(",["T_WHITESPACE","\n                        ",158],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",159],",",["T_WHITESPACE","\n                        ",159],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$attributeId",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'_current'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_STRING","true",160],"]",",",["T_WHITESPACE","\n                        ",160],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_STRING","true",161],"]",["T_WHITESPACE","\n                    ",161],")",";",["T_WHITESPACE","\n                ",162],"}",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n\n            ",164],["T_COMMENT","\/* @var $model \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute *\/",166],["T_WHITESPACE","\n            ",166],["T_VARIABLE","$model",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","attributeFactory",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","create",167],"(",")",";",["T_WHITESPACE","\n\n            ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$attributeId",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$model",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","load",170],"(",["T_VARIABLE","$attributeId",170],")",";",["T_WHITESPACE","\n                ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_VARIABLE","$model",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getId",171],"(",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","messageManager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","addError",172],"(",["T_STRING","__",172],"(",["T_CONSTANT_ENCAPSED_STRING","'This attribute no longer exists.'",172],")",")",";",["T_WHITESPACE","\n                    ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","returnResult",173],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",173],",",["T_WHITESPACE"," ",173],"[","]",",",["T_WHITESPACE"," ",173],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_STRING","true",173],"]",")",";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n                ",174],["T_COMMENT","\/\/ entity type check\n",175],["T_WHITESPACE","                ",176],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$model",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getEntityTypeId",176],"(",")",["T_WHITESPACE"," ",176],["T_IS_NOT_EQUAL","!=",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_entityTypeId",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","messageManager",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","addError",177],"(",["T_STRING","__",177],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t update the attribute.'",177],")",")",";",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_session",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setAttributeData",178],"(",["T_VARIABLE","$data",178],")",";",["T_WHITESPACE","\n                    ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","returnResult",179],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",179],",",["T_WHITESPACE"," ",179],"[","]",",",["T_WHITESPACE"," ",179],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_STRING","true",179],"]",")",";",["T_WHITESPACE","\n                ",179],"}",["T_WHITESPACE","\n\n                ",180],["T_VARIABLE","$data",182],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$model",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getAttributeCode",182],"(",")",";",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$data",183],"[",["T_CONSTANT_ENCAPSED_STRING","'is_user_defined'",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$model",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getIsUserDefined",183],"(",")",";",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$data",184],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$model",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getFrontendInput",184],"(",")",";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_DOC_COMMENT","\/**\n                 * @todo add to helper and specify all relations for properties\n                 *\/",186],["T_WHITESPACE","\n                ",188],["T_VARIABLE","$data",189],"[",["T_CONSTANT_ENCAPSED_STRING","'source_model'",189],"]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","productHelper",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getAttributeSourceModelByInputType",189],"(",["T_WHITESPACE","\n                    ",189],["T_VARIABLE","$data",190],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",190],"]",["T_WHITESPACE","\n                ",190],")",";",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$data",192],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_model'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","productHelper",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getAttributeBackendModelByInputType",192],"(",["T_WHITESPACE","\n                    ",192],["T_VARIABLE","$data",193],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",193],"]",["T_WHITESPACE","\n                ",193],")",";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n\n            ",195],["T_VARIABLE","$data",197],["T_WHITESPACE"," ",197],["T_PLUS_EQUAL","+=",197],["T_WHITESPACE"," ",197],"[",["T_CONSTANT_ENCAPSED_STRING","'is_filterable'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'is_filterable_in_search'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'apply_to'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],"[","]","]",";",["T_WHITESPACE","\n\n            ",197],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_STRING","is_null",199],"(",["T_VARIABLE","$model",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getIsUserDefined",199],"(",")",")",["T_WHITESPACE"," ",199],["T_BOOLEAN_OR","||",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$model",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getIsUserDefined",199],"(",")",["T_WHITESPACE"," ",199],["T_IS_NOT_EQUAL","!=",199],["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$model",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getBackendTypeByInput",200],"(",["T_VARIABLE","$data",200],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",200],"]",")",";",["T_WHITESPACE","\n            ",200],"}",["T_WHITESPACE","\n\n            ",201],["T_VARIABLE","$defaultValueField",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$model",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getDefaultValueByInput",203],"(",["T_VARIABLE","$data",203],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",203],"]",")",";",["T_WHITESPACE","\n            ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$defaultValueField",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$data",205],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getRequest",205],"(",")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getParam",205],"(",["T_VARIABLE","$defaultValueField",205],")",";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n\n            ",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(","!",["T_VARIABLE","$model",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getIsUserDefined",208],"(",")",["T_WHITESPACE"," ",208],["T_BOOLEAN_AND","&&",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$model",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getId",208],"(",")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                ",208],["T_COMMENT","\/\/ Unset attribute field for system attributes\n",209],["T_WHITESPACE","                ",210],["T_UNSET","unset",210],"(",["T_VARIABLE","$data",210],"[",["T_CONSTANT_ENCAPSED_STRING","'apply_to'",210],"]",")",";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n\n            ",211],["T_VARIABLE","$model",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","addData",213],"(",["T_VARIABLE","$data",213],")",";",["T_WHITESPACE","\n\n            ",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(","!",["T_VARIABLE","$attributeId",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$model",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","setEntityTypeId",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_entityTypeId",216],")",";",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$model",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setIsUserDefined",217],"(",["T_LNUMBER","1",217],")",";",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE","\n\n            ",218],["T_VARIABLE","$groupCode",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getRequest",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getParam",220],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",220],")",";",["T_WHITESPACE","\n            ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$setId",221],["T_WHITESPACE"," ",221],["T_BOOLEAN_AND","&&",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$groupCode",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_COMMENT","\/\/ For creating product attribute on product page we need specify attribute set and group\n",222],["T_WHITESPACE","                ",223],["T_VARIABLE","$attributeSetId",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$attributeSet",223],["T_WHITESPACE"," ",223],"?",["T_WHITESPACE"," ",223],["T_VARIABLE","$attributeSet",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getId",223],"(",")",["T_WHITESPACE"," ",223],":",["T_WHITESPACE"," ",223],["T_VARIABLE","$setId",223],";",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$groupCollection",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","groupCollectionFactory",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","create",224],"(",")",["T_WHITESPACE","\n                    ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","setAttributeSetFilter",225],"(",["T_VARIABLE","$attributeSetId",225],")",["T_WHITESPACE","\n                    ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","addFieldToFilter",226],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_group_code'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$groupCode",226],")",["T_WHITESPACE","\n                    ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","setPageSize",227],"(",["T_LNUMBER","1",227],")",["T_WHITESPACE","\n                    ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","load",228],"(",")",";",["T_WHITESPACE","\n\n                ",228],["T_VARIABLE","$group",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$groupCollection",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getFirstItem",230],"(",")",";",["T_WHITESPACE","\n                ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(","!",["T_VARIABLE","$group",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getId",231],"(",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$group",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setAttributeGroupCode",232],"(",["T_VARIABLE","$groupCode",232],")",";",["T_WHITESPACE","\n                    ",232],["T_VARIABLE","$group",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","setSortOrder",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getRequest",233],"(",")",["T_OBJECT_OPERATOR","->",233],["T_STRING","getParam",233],"(",["T_CONSTANT_ENCAPSED_STRING","'groupSortOrder'",233],")",")",";",["T_WHITESPACE","\n                    ",233],["T_VARIABLE","$group",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","setAttributeGroupName",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getRequest",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getParam",234],"(",["T_CONSTANT_ENCAPSED_STRING","'groupName'",234],")",")",";",["T_WHITESPACE","\n                    ",234],["T_VARIABLE","$group",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","setAttributeSetId",235],"(",["T_VARIABLE","$attributeSetId",235],")",";",["T_WHITESPACE","\n                    ",235],["T_VARIABLE","$group",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","save",236],"(",")",";",["T_WHITESPACE","\n                ",236],"}",["T_WHITESPACE","\n\n                ",237],["T_VARIABLE","$model",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setAttributeSetId",239],"(",["T_VARIABLE","$attributeSetId",239],")",";",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$model",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","setAttributeGroupId",240],"(",["T_VARIABLE","$group",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getId",240],"(",")",")",";",["T_WHITESPACE","\n            ",240],"}",["T_WHITESPACE","\n\n            ",241],["T_TRY","try",243],["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$model",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","save",244],"(",")",";",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","messageManager",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","addSuccess",245],"(",["T_STRING","__",245],"(",["T_CONSTANT_ENCAPSED_STRING","'You saved the product attribute.'",245],")",")",";",["T_WHITESPACE","\n\n                ",245],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_attributeLabelCache",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","clean",247],"(",")",";",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_session",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","setAttributeData",248],"(",["T_STRING","false",248],")",";",["T_WHITESPACE","\n                ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getRequest",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","getParam",249],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",249],")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                    ",249],["T_VARIABLE","$requestParams",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],"[",["T_WHITESPACE","\n                        ",250],["T_CONSTANT_ENCAPSED_STRING","'attributeId'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getRequest",251],"(",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","getParam",251],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",251],")",",",["T_WHITESPACE","\n                        ",251],["T_CONSTANT_ENCAPSED_STRING","'attribute'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$model",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getId",252],"(",")",",",["T_WHITESPACE","\n                        ",252],["T_CONSTANT_ENCAPSED_STRING","'_current'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_STRING","true",253],",",["T_WHITESPACE","\n                        ",253],["T_CONSTANT_ENCAPSED_STRING","'product_tab'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getRequest",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getParam",254],"(",["T_CONSTANT_ENCAPSED_STRING","'product_tab'",254],")",",",["T_WHITESPACE","\n                    ",254],"]",";",["T_WHITESPACE","\n                    ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_STRING","is_null",256],"(",["T_VARIABLE","$attributeSet",256],")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                        ",256],["T_VARIABLE","$requestParams",257],"[",["T_CONSTANT_ENCAPSED_STRING","'new_attribute_set_id'",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$attributeSet",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getId",257],"(",")",";",["T_WHITESPACE","\n                    ",257],"}",["T_WHITESPACE","\n                    ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","returnResult",259],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/addAttribute'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$requestParams",259],",",["T_WHITESPACE"," ",259],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_STRING","false",259],"]",")",";",["T_WHITESPACE","\n                ",259],"}",["T_WHITESPACE"," ",260],["T_ELSEIF","elseif",260],["T_WHITESPACE"," ",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getRequest",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getParam",260],"(",["T_CONSTANT_ENCAPSED_STRING","'back'",260],",",["T_WHITESPACE"," ",260],["T_STRING","false",260],")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                    ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","returnResult",261],"(",["T_WHITESPACE","\n                        ",261],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",262],",",["T_WHITESPACE","\n                        ",262],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$model",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getId",263],"(",")",",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'_current'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_STRING","true",263],"]",",",["T_WHITESPACE","\n                        ",263],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_STRING","false",264],"]",["T_WHITESPACE","\n                    ",264],")",";",["T_WHITESPACE","\n                ",265],"}",["T_WHITESPACE","\n                ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","returnResult",267],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",267],",",["T_WHITESPACE"," ",267],"[","]",",",["T_WHITESPACE"," ",267],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_STRING","false",267],"]",")",";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE"," ",268],["T_CATCH","catch",268],["T_WHITESPACE"," ",268],"(",["T_NS_SEPARATOR","\\",268],["T_STRING","Exception",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$e",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","messageManager",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","addError",269],"(",["T_VARIABLE","$e",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getMessage",269],"(",")",")",";",["T_WHITESPACE","\n                ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_session",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setAttributeData",270],"(",["T_VARIABLE","$data",270],")",";",["T_WHITESPACE","\n                ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","returnResult",271],"(",["T_WHITESPACE","\n                    ",271],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",272],",",["T_WHITESPACE","\n                    ",272],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$attributeId",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'_current'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_STRING","true",273],"]",",",["T_WHITESPACE","\n                    ",273],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_STRING","true",274],"]",["T_WHITESPACE","\n                ",274],")",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","returnResult",278],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",278],",",["T_WHITESPACE"," ",278],"[","]",",",["T_WHITESPACE"," ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","true",278],"]",")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * @param string $path\n     * @param array $params\n     * @param array $response\n     * @return \\Magento\\Framework\\Controller\\Result\\Json|\\Magento\\Backend\\Model\\View\\Result\\Redirect\n     *\/",281],["T_WHITESPACE","\n    ",286],["T_PRIVATE","private",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","returnResult",287],"(",["T_VARIABLE","$path",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","''",287],",",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$params",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[","]",",",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$response",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[","]",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","isAjax",289],"(",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$layout",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","layoutFactory",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","create",290],"(",")",";",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$layout",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","initMessages",291],"(",")",";",["T_WHITESPACE","\n\n            ",291],["T_VARIABLE","$response",293],"[",["T_CONSTANT_ENCAPSED_STRING","'messages'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],"[",["T_VARIABLE","$layout",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getMessagesBlock",293],"(",")",["T_OBJECT_OPERATOR","->",293],["T_STRING","getGroupedHtml",293],"(",")","]",";",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$response",294],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$params",294],";",["T_WHITESPACE","\n            ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","resultFactory",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","create",295],"(",["T_STRING","ResultFactory",295],["T_DOUBLE_COLON","::",295],["T_STRING","TYPE_JSON",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","setData",295],"(",["T_VARIABLE","$response",295],")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","resultFactory",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","create",297],"(",["T_STRING","ResultFactory",297],["T_DOUBLE_COLON","::",297],["T_STRING","TYPE_REDIRECT",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","setPath",297],"(",["T_VARIABLE","$path",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$params",297],")",";",["T_WHITESPACE","\n\n    ",297],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Define whether request is Ajax\n     *\n     * @return boolean\n     *\/",301],["T_WHITESPACE","\n    ",305],["T_PRIVATE","private",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","isAjax",306],"(",")",["T_WHITESPACE","\n    ",306],"{",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getRequest",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getParam",308],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",308],")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n",309],"}",["T_WHITESPACE","\n",310]]