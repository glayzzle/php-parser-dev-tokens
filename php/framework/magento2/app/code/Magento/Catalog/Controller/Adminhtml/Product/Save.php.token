[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Store",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StoreManagerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Request",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DataPersistorInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class Save\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Save",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Catalog",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Controller",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Adminhtml",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Product",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var Initialization\\Helper\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$initializationHelper",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Copier\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$productCopier",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\TypeTransitionManager\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$productTypeManager",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\CategoryLinkManagementInterface\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$categoryLinkManagement",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$productRepository",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var DataPersistorInterface\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$dataPersistor",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var StoreManagerInterface\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$storeManager",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Save constructor.\n     *\n     * @param Action\\Context $context\n     * @param Builder $productBuilder\n     * @param Initialization\\Helper $initializationHelper\n     * @param \\Magento\\Catalog\\Model\\Product\\Copier $productCopier\n     * @param \\Magento\\Catalog\\Model\\Product\\TypeTransitionManager $productTypeManager\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     *\/",55],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Backend",66],["T_NS_SEPARATOR","\\",66],["T_STRING","App",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Action",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Context",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$context",66],",",["T_WHITESPACE","\n        ",66],["T_STRING","Product",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Builder",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$productBuilder",67],",",["T_WHITESPACE","\n        ",67],["T_STRING","Initialization",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Helper",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$initializationHelper",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Catalog",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Product",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Copier",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$productCopier",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Catalog",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Product",70],["T_NS_SEPARATOR","\\",70],["T_STRING","TypeTransitionManager",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$productTypeManager",70],",",["T_WHITESPACE","\n        ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Catalog",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Api",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ProductRepositoryInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$productRepository",71],["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","initializationHelper",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$initializationHelper",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","productCopier",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$productCopier",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","productTypeManager",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$productTypeManager",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","productRepository",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$productRepository",76],";",["T_WHITESPACE","\n        ",76],["T_STRING","parent",77],["T_DOUBLE_COLON","::",77],["T_STRING","__construct",77],"(",["T_VARIABLE","$context",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$productBuilder",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Save product action\n     *\n     * @return \\Magento\\Backend\\Model\\View\\Result\\Redirect\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",80],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","execute",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$storeId",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getRequest",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getParam",89],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",89],",",["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$store",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getStoreManager",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getStore",90],"(",["T_VARIABLE","$storeId",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getStoreManager",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","setCurrentStore",91],"(",["T_VARIABLE","$store",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCode",91],"(",")",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$redirectBack",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getRequest",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getParam",92],"(",["T_CONSTANT_ENCAPSED_STRING","'back'",92],",",["T_WHITESPACE"," ",92],["T_STRING","false",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$productId",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getRequest",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getParam",93],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",93],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$resultRedirect",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","resultRedirectFactory",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","create",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$data",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getRequest",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getPostValue",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$productAttributeSetId",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getRequest",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getParam",96],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$productTypeId",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRequest",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getParam",97],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",97],")",";",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$data",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_TRY","try",99],["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","unserializeProductData",100],"(",["T_VARIABLE","$data",100],")",";",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$product",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","initializationHelper",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","initialize",101],"(",["T_WHITESPACE","\n                    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","productBuilder",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","build",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getRequest",102],"(",")",")",["T_WHITESPACE","\n                ",102],")",";",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","productTypeManager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","processProduct",104],"(",["T_VARIABLE","$product",104],")",";",["T_WHITESPACE","\n\n                ",104],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_ISSET","isset",106],"(",["T_VARIABLE","$data",106],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",106],"]","[",["T_VARIABLE","$product",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getIdFieldName",106],"(",")","]",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                    ",106],["T_THROW","throw",107],["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Exception",107],["T_NS_SEPARATOR","\\",107],["T_STRING","LocalizedException",107],"(",["T_STRING","__",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to save product'",107],")",")",";",["T_WHITESPACE","\n                ",107],"}",["T_WHITESPACE","\n\n                ",108],["T_VARIABLE","$originalSku",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$product",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getSku",110],"(",")",";",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$product",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","save",111],"(",")",";",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","handleImageRemoveError",112],"(",["T_VARIABLE","$data",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$product",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getId",112],"(",")",")",";",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getCategoryLinkManagement",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","assignProductToCategories",113],"(",["T_WHITESPACE","\n                    ",113],["T_VARIABLE","$product",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getSku",114],"(",")",",",["T_WHITESPACE","\n                    ",114],["T_VARIABLE","$product",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getCategoryIds",115],"(",")",["T_WHITESPACE","\n                ",115],")",";",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$productId",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$product",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getEntityId",117],"(",")",";",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$productAttributeSetId",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$product",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getAttributeSetId",118],"(",")",";",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$productTypeId",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$product",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getTypeId",119],"(",")",";",["T_WHITESPACE","\n\n                ",119],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","copyToStores",121],"(",["T_VARIABLE","$data",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$productId",121],")",";",["T_WHITESPACE","\n\n                ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","messageManager",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","addSuccess",123],"(",["T_STRING","__",123],"(",["T_CONSTANT_ENCAPSED_STRING","'You saved the product.'",123],")",")",";",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getDataPersistor",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","clear",124],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",124],")",";",["T_WHITESPACE","\n                ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$product",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getSku",125],"(",")",["T_WHITESPACE"," ",125],["T_IS_NOT_EQUAL","!=",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$originalSku",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","messageManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","addNotice",126],"(",["T_WHITESPACE","\n                        ",126],["T_STRING","__",127],"(",["T_WHITESPACE","\n                            ",127],["T_CONSTANT_ENCAPSED_STRING","'SKU for product %1 has been changed to %2.'",128],",",["T_WHITESPACE","\n                            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_objectManager",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_WHITESPACE","\n                                ",129],["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Framework",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Escaper",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],["T_WHITESPACE","\n                            ",130],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","escapeHtml",131],"(",["T_VARIABLE","$product",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getName",131],"(",")",")",",",["T_WHITESPACE","\n                            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_objectManager",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_WHITESPACE","\n                                ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Escaper",133],["T_DOUBLE_COLON","::",133],["T_CLASS","class",133],["T_WHITESPACE","\n                            ",133],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","escapeHtml",134],"(",["T_VARIABLE","$product",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getSku",134],"(",")",")",["T_WHITESPACE","\n                        ",134],")",["T_WHITESPACE","\n                    ",135],")",";",["T_WHITESPACE","\n                ",136],"}",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_eventManager",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","dispatch",138],"(",["T_WHITESPACE","\n                    ",138],["T_CONSTANT_ENCAPSED_STRING","'controller_action_catalog_product_save_entity_after'",139],",",["T_WHITESPACE","\n                    ",139],"[",["T_CONSTANT_ENCAPSED_STRING","'controller'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'product'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$product",140],"]",["T_WHITESPACE","\n                ",140],")",";",["T_WHITESPACE","\n\n                ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$redirectBack",143],["T_WHITESPACE"," ",143],["T_IS_IDENTICAL","===",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'duplicate'",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$newProduct",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","productCopier",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","copy",144],"(",["T_VARIABLE","$product",144],")",";",["T_WHITESPACE","\n                    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","messageManager",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","addSuccess",145],"(",["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'You duplicated the product.'",145],")",")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE"," ",147],["T_CATCH","catch",147],["T_WHITESPACE"," ",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Framework",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Exception",147],["T_NS_SEPARATOR","\\",147],["T_STRING","LocalizedException",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$e",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","messageManager",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","addError",148],"(",["T_VARIABLE","$e",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getMessage",148],"(",")",")",";",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getDataPersistor",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","set",149],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$data",149],")",";",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$redirectBack",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$productId",150],["T_WHITESPACE"," ",150],"?",["T_WHITESPACE"," ",150],["T_STRING","true",150],["T_WHITESPACE"," ",150],":",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'new'",150],";",["T_WHITESPACE","\n            ",150],"}",["T_WHITESPACE"," ",151],["T_CATCH","catch",151],["T_WHITESPACE"," ",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","Exception",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$e",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_objectManager",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","get",152],"(",["T_NS_SEPARATOR","\\",152],["T_STRING","Psr",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Log",152],["T_NS_SEPARATOR","\\",152],["T_STRING","LoggerInterface",152],["T_DOUBLE_COLON","::",152],["T_CLASS","class",152],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","critical",152],"(",["T_VARIABLE","$e",152],")",";",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","messageManager",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","addError",153],"(",["T_VARIABLE","$e",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMessage",153],"(",")",")",";",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getDataPersistor",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","set",154],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$data",154],")",";",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$redirectBack",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$productId",155],["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_STRING","true",155],["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'new'",155],";",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$resultRedirect",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","setPath",158],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",158],",",["T_WHITESPACE"," ",158],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$storeId",158],"]",")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","messageManager",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","addError",159],"(",["T_CONSTANT_ENCAPSED_STRING","'No data to save'",159],")",";",["T_WHITESPACE","\n            ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$resultRedirect",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$redirectBack",163],["T_WHITESPACE"," ",163],["T_IS_IDENTICAL","===",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'new'",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$resultRedirect",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setPath",164],"(",["T_WHITESPACE","\n                ",164],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/new'",165],",",["T_WHITESPACE","\n                ",165],"[",["T_CONSTANT_ENCAPSED_STRING","'set'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$productAttributeSetId",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'type'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$productTypeId",166],"]",["T_WHITESPACE","\n            ",166],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE"," ",168],["T_ELSEIF","elseif",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$redirectBack",168],["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'duplicate'",168],["T_WHITESPACE"," ",168],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],["T_ISSET","isset",168],"(",["T_VARIABLE","$newProduct",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$resultRedirect",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setPath",169],"(",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",170],",",["T_WHITESPACE","\n                ",170],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$newProduct",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getEntityId",171],"(",")",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'back'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","null",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'_current'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","true",171],"]",["T_WHITESPACE","\n            ",171],")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE"," ",173],["T_ELSEIF","elseif",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$redirectBack",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$resultRedirect",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setPath",174],"(",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/edit'",175],",",["T_WHITESPACE","\n                ",175],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$productId",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'_current'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_STRING","true",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'set'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$productAttributeSetId",176],"]",["T_WHITESPACE","\n            ",176],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE"," ",178],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$resultRedirect",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setPath",179],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/*\/'",179],",",["T_WHITESPACE"," ",179],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$storeId",179],"]",")",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$resultRedirect",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Unserialize product data for configurable products\n     *\n     * @param array $postData\n     * @return void\n     *\/",184],["T_WHITESPACE","\n    ",189],["T_PRIVATE","private",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","unserializeProductData",190],"(",["T_VARIABLE","$postData",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_ISSET","isset",192],"(",["T_VARIABLE","$postData",192],"[",["T_CONSTANT_ENCAPSED_STRING","\"configurable-matrix-serialized\"",192],"]",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$configurableMatrixSerialized",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$postData",193],"[",["T_CONSTANT_ENCAPSED_STRING","\"configurable-matrix-serialized\"",193],"]",";",["T_WHITESPACE","\n            ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$configurableMatrixSerialized",194],["T_WHITESPACE"," ",194],["T_IS_NOT_EQUAL","!=",194],["T_WHITESPACE"," ",194],["T_STRING","null",194],["T_WHITESPACE"," ",194],["T_BOOLEAN_AND","&&",194],["T_WHITESPACE"," ",194],"!",["T_EMPTY","empty",194],"(",["T_VARIABLE","$configurableMatrixSerialized",194],")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$postData",195],"[",["T_CONSTANT_ENCAPSED_STRING","\"configurable-matrix\"",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","json_decode",195],"(",["T_VARIABLE","$configurableMatrixSerialized",195],",",["T_WHITESPACE"," ",195],["T_STRING","true",195],")",";",["T_WHITESPACE","\n                ",195],["T_UNSET","unset",196],"(",["T_VARIABLE","$postData",196],"[",["T_CONSTANT_ENCAPSED_STRING","\"configurable-matrix-serialized\"",196],"]",")",";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_ISSET","isset",199],"(",["T_VARIABLE","$postData",199],"[",["T_CONSTANT_ENCAPSED_STRING","\"associated_product_ids_serialized\"",199],"]",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$associatedProductIdsSerialized",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$postData",200],"[",["T_CONSTANT_ENCAPSED_STRING","\"associated_product_ids_serialized\"",200],"]",";",["T_WHITESPACE","\n            ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$associatedProductIdsSerialized",201],["T_WHITESPACE"," ",201],["T_IS_NOT_EQUAL","!=",201],["T_WHITESPACE"," ",201],["T_STRING","null",201],["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],"!",["T_EMPTY","empty",201],"(",["T_VARIABLE","$associatedProductIdsSerialized",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$postData",202],"[",["T_CONSTANT_ENCAPSED_STRING","\"associated_product_ids\"",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","json_decode",202],"(",["T_VARIABLE","$associatedProductIdsSerialized",202],",",["T_WHITESPACE"," ",202],["T_STRING","true",202],")",";",["T_WHITESPACE","\n                ",202],["T_UNSET","unset",203],"(",["T_VARIABLE","$postData",203],"[",["T_CONSTANT_ENCAPSED_STRING","\"associated_product_ids_serialized\"",203],"]",")",";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Notify customer when image was not deleted in specific case.\n     * TODO: temporary workaround must be eliminated in MAGETWO-45306\n     *\n     * @param array $postData\n     * @param int $productId\n     * @return void\n     *\/",208],["T_WHITESPACE","\n    ",215],["T_PRIVATE","private",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","handleImageRemoveError",216],"(",["T_VARIABLE","$postData",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$productId",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_ISSET","isset",218],"(",["T_VARIABLE","$postData",218],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",218],"]",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$removedImagesAmount",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_LNUMBER","0",219],";",["T_WHITESPACE","\n            ",219],["T_FOREACH","foreach",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$postData",220],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",220],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",220],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",220],"]",["T_WHITESPACE"," ",220],["T_AS","as",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$image",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(","!",["T_EMPTY","empty",221],"(",["T_VARIABLE","$image",221],"[",["T_CONSTANT_ENCAPSED_STRING","'removed'",221],"]",")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                    ",221],["T_VARIABLE","$removedImagesAmount",222],["T_INC","++",222],";",["T_WHITESPACE","\n                ",222],"}",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE","\n            ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$removedImagesAmount",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$expectedImagesAmount",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","count",226],"(",["T_VARIABLE","$postData",226],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",226],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",226],"]","[",["T_CONSTANT_ENCAPSED_STRING","'images'",226],"]",")",["T_WHITESPACE"," ",226],"-",["T_WHITESPACE"," ",226],["T_VARIABLE","$removedImagesAmount",226],";",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$product",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","productRepository",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getById",227],"(",["T_VARIABLE","$productId",227],")",";",["T_WHITESPACE","\n                ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$expectedImagesAmount",228],["T_WHITESPACE"," ",228],["T_IS_NOT_EQUAL","!=",228],["T_WHITESPACE"," ",228],["T_STRING","count",228],"(",["T_VARIABLE","$product",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getMediaGallery",228],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",228],")",")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","messageManager",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","addNotice",229],"(",["T_WHITESPACE","\n                        ",229],["T_STRING","__",230],"(",["T_CONSTANT_ENCAPSED_STRING","'The image cannot be removed as it has been assigned to the other image role'",230],")",["T_WHITESPACE","\n                    ",230],")",";",["T_WHITESPACE","\n                ",231],"}",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Do copying data to stores\n     *\n     * @param array $data\n     * @param int $productId\n     * @return void\n     *\/",237],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","copyToStores",244],"(",["T_VARIABLE","$data",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$productId",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!",["T_EMPTY","empty",246],"(",["T_VARIABLE","$data",246],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",246],"]","[",["T_CONSTANT_ENCAPSED_STRING","'copy_to_stores'",246],"]",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_FOREACH","foreach",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$data",247],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",247],"]","[",["T_CONSTANT_ENCAPSED_STRING","'copy_to_stores'",247],"]",["T_WHITESPACE"," ",247],["T_AS","as",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$websiteId",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$group",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_ISSET","isset",248],"(",["T_VARIABLE","$data",248],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",248],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",248],"]","[",["T_VARIABLE","$websiteId",248],"]",")",["T_WHITESPACE","\n                    ",248],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_BOOL_CAST","(bool)",249],["T_VARIABLE","$data",249],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",249],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",249],"]","[",["T_VARIABLE","$websiteId",249],"]",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                    ",249],["T_FOREACH","foreach",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$group",250],["T_WHITESPACE"," ",250],["T_AS","as",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$store",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                        ",250],["T_VARIABLE","$copyFrom",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],"(",["T_ISSET","isset",251],"(",["T_VARIABLE","$store",251],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_from'",251],"]",")",")",["T_WHITESPACE"," ",251],"?",["T_WHITESPACE"," ",251],["T_VARIABLE","$store",251],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_from'",251],"]",["T_WHITESPACE"," ",251],":",["T_WHITESPACE"," ",251],["T_LNUMBER","0",251],";",["T_WHITESPACE","\n                        ",251],["T_VARIABLE","$copyTo",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],"(",["T_ISSET","isset",252],"(",["T_VARIABLE","$store",252],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_to'",252],"]",")",")",["T_WHITESPACE"," ",252],"?",["T_WHITESPACE"," ",252],["T_VARIABLE","$store",252],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_to'",252],"]",["T_WHITESPACE"," ",252],":",["T_WHITESPACE"," ",252],["T_LNUMBER","0",252],";",["T_WHITESPACE","\n                        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$copyTo",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_objectManager",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","create",254],"(",["T_NS_SEPARATOR","\\",254],["T_STRING","Magento",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Catalog",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Model",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Product",254],["T_DOUBLE_COLON","::",254],["T_CLASS","class",254],")",["T_WHITESPACE","\n                                ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","setStoreId",255],"(",["T_VARIABLE","$copyFrom",255],")",["T_WHITESPACE","\n                                ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","load",256],"(",["T_VARIABLE","$productId",256],")",["T_WHITESPACE","\n                                ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","setStoreId",257],"(",["T_VARIABLE","$copyTo",257],")",["T_WHITESPACE","\n                                ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","setCopyFromView",258],"(",["T_STRING","true",258],")",["T_WHITESPACE","\n                                ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","save",259],"(",")",";",["T_WHITESPACE","\n                        ",259],"}",["T_WHITESPACE","\n                    ",260],"}",["T_WHITESPACE","\n                ",261],"}",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Catalog\\Api\\CategoryLinkManagementInterface\n     *\/",267],["T_WHITESPACE","\n    ",269],["T_PRIVATE","private",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","getCategoryLinkManagement",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","null",272],["T_WHITESPACE"," ",272],["T_IS_IDENTICAL","===",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","categoryLinkManagement",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","categoryLinkManagement",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Magento",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Framework",273],["T_NS_SEPARATOR","\\",273],["T_STRING","App",273],["T_NS_SEPARATOR","\\",273],["T_STRING","ObjectManager",273],["T_DOUBLE_COLON","::",273],["T_STRING","getInstance",273],"(",")",["T_WHITESPACE","\n                ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","get",274],"(",["T_NS_SEPARATOR","\\",274],["T_STRING","Magento",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Catalog",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Api",274],["T_NS_SEPARATOR","\\",274],["T_STRING","CategoryLinkManagementInterface",274],["T_DOUBLE_COLON","::",274],["T_CLASS","class",274],")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","categoryLinkManagement",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * @return StoreManagerInterface\n     * @deprecated\n     *\/",279],["T_WHITESPACE","\n    ",282],["T_PRIVATE","private",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","getStoreManager",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_STRING","null",285],["T_WHITESPACE"," ",285],["T_IS_IDENTICAL","===",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","storeManager",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","storeManager",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Magento",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Framework",286],["T_NS_SEPARATOR","\\",286],["T_STRING","App",286],["T_NS_SEPARATOR","\\",286],["T_STRING","ObjectManager",286],["T_DOUBLE_COLON","::",286],["T_STRING","getInstance",286],"(",")",["T_WHITESPACE","\n                ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","get",287],"(",["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Store",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Model",287],["T_NS_SEPARATOR","\\",287],["T_STRING","StoreManagerInterface",287],["T_DOUBLE_COLON","::",287],["T_CLASS","class",287],")",";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","storeManager",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Retrieve data persistor\n     *\n     * @return DataPersistorInterface|mixed\n     * @deprecated\n     *\/",292],["T_WHITESPACE","\n    ",297],["T_PROTECTED","protected",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","getDataPersistor",298],"(",")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_IF","if",300],["T_WHITESPACE"," ",300],"(",["T_STRING","null",300],["T_WHITESPACE"," ",300],["T_IS_IDENTICAL","===",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","dataPersistor",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","dataPersistor",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_objectManager",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","get",301],"(",["T_STRING","DataPersistorInterface",301],["T_DOUBLE_COLON","::",301],["T_CLASS","class",301],")",";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n\n        ",302],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","dataPersistor",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n",305],"}",["T_WHITESPACE","\n",306]]