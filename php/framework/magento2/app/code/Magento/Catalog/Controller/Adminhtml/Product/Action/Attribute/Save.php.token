[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Action",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Attribute",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class Save\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Save",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Catalog",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Controller",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Adminhtml",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Product",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Action",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Attribute",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Indexer\\Product\\Flat\\Processor\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_productFlatIndexerProcessor",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Indexer\\Product\\Price\\Processor\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_productPriceIndexerProcessor",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Catalog product\n     *\n     * @var \\Magento\\Catalog\\Helper\\Product\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_catalogProduct",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\Data\\StockItemInterfaceFactory\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$stockItemFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Stock Indexer\n     *\n     * @var \\Magento\\CatalogInventory\\Model\\Indexer\\Stock\\Processor\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_stockIndexerProcessor",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\DataObjectHelper\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$dataObjectHelper",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @param Action\\Context $context\n     * @param \\Magento\\Catalog\\Helper\\Product\\Edit\\Action\\Attribute $attributeHelper\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Flat\\Processor $productFlatIndexerProcessor\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Price\\Processor $productPriceIndexerProcessor\n     * @param \\Magento\\CatalogInventory\\Model\\Indexer\\Stock\\Processor $stockIndexerProcessor\n     * @param \\Magento\\Catalog\\Helper\\Product $catalogProduct\n     * @param \\Magento\\CatalogInventory\\Api\\Data\\StockItemInterfaceFactory $stockItemFactory\n     * @param \\Magento\\Framework\\Api\\DataObjectHelper $dataObjectHelper\n     *\/",51],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","__construct",61],"(",["T_WHITESPACE","\n        ",61],["T_STRING","Action",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Context",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$context",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Catalog",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Helper",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Product",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Edit",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Action",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Attribute",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$attributeHelper",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Catalog",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Indexer",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Product",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Flat",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Processor",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$productFlatIndexerProcessor",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Catalog",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Indexer",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Product",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Price",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Processor",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$productPriceIndexerProcessor",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","CatalogInventory",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Indexer",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Stock",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Processor",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$stockIndexerProcessor",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Catalog",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Helper",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Product",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$catalogProduct",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","CatalogInventory",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Api",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Data",68],["T_NS_SEPARATOR","\\",68],["T_STRING","StockItemInterfaceFactory",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$stockItemFactory",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Api",69],["T_NS_SEPARATOR","\\",69],["T_STRING","DataObjectHelper",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$dataObjectHelper",69],["T_WHITESPACE","\n    ",69],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_productFlatIndexerProcessor",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$productFlatIndexerProcessor",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_productPriceIndexerProcessor",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$productPriceIndexerProcessor",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_stockIndexerProcessor",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$stockIndexerProcessor",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_catalogProduct",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$catalogProduct",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","stockItemFactory",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$stockItemFactory",75],";",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","__construct",76],"(",["T_VARIABLE","$context",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$attributeHelper",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","dataObjectHelper",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$dataObjectHelper",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Update product attributes\n     *\n     * @return \\Magento\\Backend\\Model\\View\\Result\\Redirect\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",80],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","execute",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_validateProducts",90],"(",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","resultRedirectFactory",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","create",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","setPath",91],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/'",91],",",["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","true",91],"]",")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n\n        ",92],["T_COMMENT","\/* Collect Data *\/",94],["T_WHITESPACE","\n        ",94],["T_VARIABLE","$inventoryData",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getRequest",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getParam",95],"(",["T_CONSTANT_ENCAPSED_STRING","'inventory'",95],",",["T_WHITESPACE"," ",95],"[","]",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$attributesData",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getRequest",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getParam",96],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",96],",",["T_WHITESPACE"," ",96],"[","]",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$websiteRemoveData",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRequest",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getParam",97],"(",["T_CONSTANT_ENCAPSED_STRING","'remove_website_ids'",97],",",["T_WHITESPACE"," ",97],"[","]",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$websiteAddData",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getRequest",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getParam",98],"(",["T_CONSTANT_ENCAPSED_STRING","'add_website_ids'",98],",",["T_WHITESPACE"," ",98],"[","]",")",";",["T_WHITESPACE","\n\n        ",98],["T_COMMENT","\/* Prepare inventory data item options (use config settings) *\/",100],["T_WHITESPACE","\n        ",100],["T_VARIABLE","$options",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_objectManager",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","CatalogInventory",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Api",101],["T_NS_SEPARATOR","\\",101],["T_STRING","StockConfigurationInterface",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getConfigItemOptions",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$options",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$option",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_ISSET","isset",104],"(",["T_VARIABLE","$inventoryData",104],"[",["T_VARIABLE","$option",104],"]",")",["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],"!",["T_ISSET","isset",104],"(",["T_VARIABLE","$inventoryData",104],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_'",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$option",104],"]",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$inventoryData",105],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$option",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_LNUMBER","0",105],";",["T_WHITESPACE","\n            ",105],"}",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_TRY","try",109],["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$storeId",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","attributeHelper",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getSelectedStoreId",110],"(",")",";",["T_WHITESPACE","\n            ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$attributesData",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$dateFormat",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_objectManager",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Framework",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Stdlib",112],["T_NS_SEPARATOR","\\",112],["T_STRING","DateTime",112],["T_NS_SEPARATOR","\\",112],["T_STRING","TimezoneInterface",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",["T_WHITESPACE","\n                    ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","getDateFormat",113],"(",["T_NS_SEPARATOR","\\",113],["T_STRING","IntlDateFormatter",113],["T_DOUBLE_COLON","::",113],["T_STRING","SHORT",113],")",";",["T_WHITESPACE","\n\n                ",113],["T_FOREACH","foreach",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$attributesData",115],["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$attributeCode",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$value",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                    ",115],["T_VARIABLE","$attribute",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_objectManager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Eav",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Config",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_WHITESPACE","\n                        ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","getAttribute",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Catalog",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Product",117],["T_DOUBLE_COLON","::",117],["T_STRING","ENTITY",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$attributeCode",117],")",";",["T_WHITESPACE","\n                    ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$attribute",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getAttributeId",118],"(",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                        ",118],["T_UNSET","unset",119],"(",["T_VARIABLE","$attributesData",119],"[",["T_VARIABLE","$attributeCode",119],"]",")",";",["T_WHITESPACE","\n                        ",119],["T_CONTINUE","continue",120],";",["T_WHITESPACE","\n                    ",120],"}",["T_WHITESPACE","\n                    ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$attribute",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getBackendType",122],"(",")",["T_WHITESPACE"," ",122],["T_IS_EQUAL","==",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'datetime'",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_EMPTY","empty",123],"(",["T_VARIABLE","$value",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                            ",123],["T_VARIABLE","$filterInput",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Zend_Filter_LocalizedToNormalized",124],"(","[",["T_CONSTANT_ENCAPSED_STRING","'date_format'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$dateFormat",124],"]",")",";",["T_WHITESPACE","\n                            ",124],["T_VARIABLE","$filterInternal",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Zend_Filter_NormalizedToLocalized",125],"(",["T_WHITESPACE","\n                                ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'date_format'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Stdlib",126],["T_NS_SEPARATOR","\\",126],["T_STRING","DateTime",126],["T_DOUBLE_COLON","::",126],["T_STRING","DATE_INTERNAL_FORMAT",126],"]",["T_WHITESPACE","\n                            ",126],")",";",["T_WHITESPACE","\n                            ",127],["T_VARIABLE","$value",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$filterInternal",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","filter",128],"(",["T_VARIABLE","$filterInput",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","filter",128],"(",["T_VARIABLE","$value",128],")",")",";",["T_WHITESPACE","\n                        ",128],"}",["T_WHITESPACE"," ",129],["T_ELSE","else",129],["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                            ",129],["T_VARIABLE","$value",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","null",130],";",["T_WHITESPACE","\n                        ",130],"}",["T_WHITESPACE","\n                        ",131],["T_VARIABLE","$attributesData",132],"[",["T_VARIABLE","$attributeCode",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$value",132],";",["T_WHITESPACE","\n                    ",132],"}",["T_WHITESPACE"," ",133],["T_ELSEIF","elseif",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$attribute",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getFrontendInput",133],"(",")",["T_WHITESPACE"," ",133],["T_IS_EQUAL","==",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                        ",133],["T_COMMENT","\/\/ Check if 'Change' checkbox has been checked by admin for this attribute\n",134],["T_WHITESPACE","                        ",135],["T_VARIABLE","$isChanged",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_BOOL_CAST","(bool)",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getRequest",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","getPost",135],"(",["T_CONSTANT_ENCAPSED_STRING","'toggle_'",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_VARIABLE","$attributeCode",135],")",";",["T_WHITESPACE","\n                        ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!",["T_VARIABLE","$isChanged",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                            ",136],["T_UNSET","unset",137],"(",["T_VARIABLE","$attributesData",137],"[",["T_VARIABLE","$attributeCode",137],"]",")",";",["T_WHITESPACE","\n                            ",137],["T_CONTINUE","continue",138],";",["T_WHITESPACE","\n                        ",138],"}",["T_WHITESPACE","\n                        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_STRING","is_array",140],"(",["T_VARIABLE","$value",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                            ",140],["T_VARIABLE","$value",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","implode",141],"(",["T_CONSTANT_ENCAPSED_STRING","','",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$value",141],")",";",["T_WHITESPACE","\n                        ",141],"}",["T_WHITESPACE","\n                        ",142],["T_VARIABLE","$attributesData",143],"[",["T_VARIABLE","$attributeCode",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$value",143],";",["T_WHITESPACE","\n                    ",143],"}",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE","\n\n                ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_objectManager",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","get",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Catalog",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Product",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Action",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],")",["T_WHITESPACE","\n                    ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","updateAttributes",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","attributeHelper",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getProductIds",148],"(",")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$attributesData",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$storeId",148],")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n\n            ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$inventoryData",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_COMMENT","\/\/ TODO why use ObjectManager?\n",152],["T_WHITESPACE","                ",153],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry *\/",153],["T_WHITESPACE","\n                ",153],["T_VARIABLE","$stockRegistry",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_objectManager",154],["T_WHITESPACE","\n                    ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","create",155],"(",["T_NS_SEPARATOR","\\",155],["T_STRING","Magento",155],["T_NS_SEPARATOR","\\",155],["T_STRING","CatalogInventory",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Api",155],["T_NS_SEPARATOR","\\",155],["T_STRING","StockRegistryInterface",155],["T_DOUBLE_COLON","::",155],["T_CLASS","class",155],")",";",["T_WHITESPACE","\n                ",155],["T_DOC_COMMENT","\/** @var \\Magento\\CatalogInventory\\Api\\StockItemRepositoryInterface $stockItemRepository *\/",156],["T_WHITESPACE","\n                ",156],["T_VARIABLE","$stockItemRepository",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_objectManager",157],["T_WHITESPACE","\n                    ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","create",158],"(",["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","CatalogInventory",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Api",158],["T_NS_SEPARATOR","\\",158],["T_STRING","StockItemRepositoryInterface",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],")",";",["T_WHITESPACE","\n                ",158],["T_FOREACH","foreach",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","attributeHelper",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getProductIds",159],"(",")",["T_WHITESPACE"," ",159],["T_AS","as",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$productId",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                    ",159],["T_VARIABLE","$stockItemDo",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$stockRegistry",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getStockItem",160],"(",["T_WHITESPACE","\n                        ",160],["T_VARIABLE","$productId",161],",",["T_WHITESPACE","\n                        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","attributeHelper",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getStoreWebsiteId",162],"(",["T_VARIABLE","$storeId",162],")",["T_WHITESPACE","\n                    ",162],")",";",["T_WHITESPACE","\n                    ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_VARIABLE","$stockItemDo",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getProductId",164],"(",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                        ",164],["T_VARIABLE","$inventoryData",165],"[","]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$productId",165],";",["T_WHITESPACE","\n                    ",165],"}",["T_WHITESPACE","\n\n                    ",166],["T_VARIABLE","$stockItemId",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$stockItemDo",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getId",168],"(",")",";",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","dataObjectHelper",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","populateWithArray",169],"(",["T_WHITESPACE","\n                        ",169],["T_VARIABLE","$stockItemDo",170],",",["T_WHITESPACE","\n                        ",170],["T_VARIABLE","$inventoryData",171],",",["T_WHITESPACE","\n                        ",171],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","CatalogInventory",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Api",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Data",172],["T_NS_SEPARATOR","\\",172],["T_STRING","StockItemInterface",172],["T_DOUBLE_COLON","::",172],["T_CLASS","class",172],["T_WHITESPACE","\n                    ",172],")",";",["T_WHITESPACE","\n                    ",173],["T_VARIABLE","$stockItemDo",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setItemId",174],"(",["T_VARIABLE","$stockItemId",174],")",";",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$stockItemRepository",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","save",175],"(",["T_VARIABLE","$stockItemDo",175],")",";",["T_WHITESPACE","\n                ",175],"}",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_stockIndexerProcessor",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","reindexList",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","attributeHelper",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getProductIds",177],"(",")",")",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n\n            ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$websiteAddData",180],["T_WHITESPACE"," ",180],["T_BOOLEAN_OR","||",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$websiteRemoveData",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_COMMENT","\/* @var $actionModel \\Magento\\Catalog\\Model\\Product\\Action *\/",181],["T_WHITESPACE","\n                ",181],["T_VARIABLE","$actionModel",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_objectManager",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","get",182],"(",["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Catalog",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Model",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Product",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Action",182],["T_DOUBLE_COLON","::",182],["T_CLASS","class",182],")",";",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$productIds",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","attributeHelper",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getProductIds",183],"(",")",";",["T_WHITESPACE","\n\n                ",183],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$websiteRemoveData",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                    ",185],["T_VARIABLE","$actionModel",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","updateWebsites",186],"(",["T_VARIABLE","$productIds",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$websiteRemoveData",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'remove'",186],")",";",["T_WHITESPACE","\n                ",186],"}",["T_WHITESPACE","\n                ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$websiteAddData",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                    ",188],["T_VARIABLE","$actionModel",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","updateWebsites",189],"(",["T_VARIABLE","$productIds",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$websiteAddData",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'add'",189],")",";",["T_WHITESPACE","\n                ",189],"}",["T_WHITESPACE","\n\n                ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_eventManager",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","dispatch",192],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_to_website_change'",192],",",["T_WHITESPACE"," ",192],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$productIds",192],"]",")",";",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n\n            ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","messageManager",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","addSuccess",195],"(",["T_WHITESPACE","\n                ",195],["T_STRING","__",196],"(",["T_CONSTANT_ENCAPSED_STRING","'A total of %1 record(s) were updated.'",196],",",["T_WHITESPACE"," ",196],["T_STRING","count",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","attributeHelper",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getProductIds",196],"(",")",")",")",["T_WHITESPACE","\n            ",196],")",";",["T_WHITESPACE","\n\n            ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_productFlatIndexerProcessor",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","reindexList",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","attributeHelper",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getProductIds",199],"(",")",")",";",["T_WHITESPACE","\n\n            ",199],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_catalogProduct",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","isDataForPriceIndexerWasChanged",201],"(",["T_VARIABLE","$attributesData",201],")",["T_WHITESPACE","\n                ",201],["T_BOOLEAN_OR","||",202],["T_WHITESPACE"," ",202],"!",["T_EMPTY","empty",202],"(",["T_VARIABLE","$websiteRemoveData",202],")",["T_WHITESPACE","\n                ",202],["T_BOOLEAN_OR","||",203],["T_WHITESPACE"," ",203],"!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$websiteAddData",203],")",["T_WHITESPACE","\n            ",203],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_productPriceIndexerProcessor",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","reindexList",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","attributeHelper",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getProductIds",205],"(",")",")",";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE"," ",207],["T_CATCH","catch",207],["T_WHITESPACE"," ",207],"(",["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Exception",207],["T_NS_SEPARATOR","\\",207],["T_STRING","LocalizedException",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$e",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","messageManager",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","addError",208],"(",["T_VARIABLE","$e",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getMessage",208],"(",")",")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE"," ",209],["T_CATCH","catch",209],["T_WHITESPACE"," ",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","Exception",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$e",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","messageManager",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","addException",210],"(",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$e",211],",",["T_WHITESPACE","\n                ",211],["T_STRING","__",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while updating the product(s) attributes.'",212],")",["T_WHITESPACE","\n            ",212],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n\n        ",214],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","resultRedirectFactory",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","create",216],"(",")",["T_WHITESPACE","\n            ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","setPath",217],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/'",217],",",["T_WHITESPACE"," ",217],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","attributeHelper",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getSelectedStoreId",217],"(",")","]",")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n",218],"}",["T_WHITESPACE","\n",219]]