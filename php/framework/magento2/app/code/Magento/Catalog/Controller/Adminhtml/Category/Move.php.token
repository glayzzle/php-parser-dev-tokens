[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Category",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","Move",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Adminhtml",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Category",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\JsonFactory\n     *\/",11],["T_WHITESPACE","\n    ",13],["T_PROTECTED","protected",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$resultJsonFactory",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\LayoutFactory\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$layoutFactory",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface $logger\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$logger",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\Controller\\Result\\JsonFactory $resultJsonFactory\n     * @param \\Magento\\Framework\\View\\LayoutFactory $layoutFactory,\n     * @param \\Psr\\Log\\LoggerInterface $logger,\n     *\/",26],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_WHITESPACE","\n        ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Backend",33],["T_NS_SEPARATOR","\\",33],["T_STRING","App",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Action",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Context",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$context",33],",",["T_WHITESPACE","\n        ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Controller",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Result",34],["T_NS_SEPARATOR","\\",34],["T_STRING","JsonFactory",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$resultJsonFactory",34],",",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","View",35],["T_NS_SEPARATOR","\\",35],["T_STRING","LayoutFactory",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$layoutFactory",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Psr",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Log",36],["T_NS_SEPARATOR","\\",36],["T_STRING","LoggerInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$logger",36],["T_WHITESPACE","\n    ",36],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_STRING","parent",38],["T_DOUBLE_COLON","::",38],["T_STRING","__construct",38],"(",["T_VARIABLE","$context",38],")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","resultJsonFactory",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$resultJsonFactory",39],";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","layoutFactory",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$layoutFactory",40],";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","logger",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$logger",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Move category action\n     *\n     * @return \\Magento\\Framework\\Controller\\Result\\Raw\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","execute",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_DOC_COMMENT","\/**\n         * New parent category identifier\n         *\/",51],["T_WHITESPACE","\n        ",53],["T_VARIABLE","$parentNodeId",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getRequest",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getPost",54],"(",["T_CONSTANT_ENCAPSED_STRING","'pid'",54],",",["T_WHITESPACE"," ",54],["T_STRING","false",54],")",";",["T_WHITESPACE","\n        ",54],["T_DOC_COMMENT","\/**\n         * Category id after which we have put our category\n         *\/",55],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$prevNodeId",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getPost",58],"(",["T_CONSTANT_ENCAPSED_STRING","'aid'",58],",",["T_WHITESPACE"," ",58],["T_STRING","false",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_DOC_COMMENT","\/** @var $block \\Magento\\Framework\\View\\Element\\Messages *\/",60],["T_WHITESPACE","\n        ",60],["T_VARIABLE","$block",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","layoutFactory",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getMessagesBlock",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$error",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","false",62],";",["T_WHITESPACE","\n\n        ",62],["T_TRY","try",64],["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$category",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_initCategory",65],"(",")",";",["T_WHITESPACE","\n            ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$category",66],["T_WHITESPACE"," ",66],["T_IS_IDENTICAL","===",66],["T_WHITESPACE"," ",66],["T_STRING","false",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Exception",67],"(",["T_STRING","__",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Category is not available for requested store.'",67],")",")",";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$category",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","move",69],"(",["T_VARIABLE","$parentNodeId",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$prevNodeId",69],")",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE"," ",70],["T_CATCH","catch",70],["T_WHITESPACE"," ",70],"(",["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Exception",70],["T_NS_SEPARATOR","\\",70],["T_STRING","AlreadyExistsException",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$e",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$error",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","true",71],";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","messageManager",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addError",72],"(",["T_STRING","__",72],"(",["T_CONSTANT_ENCAPSED_STRING","'There was a category move error. %1'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$e",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMessage",72],"(",")",")",")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_CATCH","catch",73],["T_WHITESPACE"," ",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Exception",73],["T_NS_SEPARATOR","\\",73],["T_STRING","LocalizedException",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$e",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$error",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","true",74],";",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","messageManager",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","addError",75],"(",["T_VARIABLE","$e",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMessage",75],"(",")",")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_CATCH","catch",76],["T_WHITESPACE"," ",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Exception",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$e",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$error",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","true",77],";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","messageManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","addError",78],"(",["T_STRING","__",78],"(",["T_CONSTANT_ENCAPSED_STRING","'There was a category move error.'",78],")",")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","logger",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","critical",79],"(",["T_VARIABLE","$e",79],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_VARIABLE","$error",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","messageManager",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addSuccess",83],"(",["T_STRING","__",83],"(",["T_CONSTANT_ENCAPSED_STRING","'You moved the category.'",83],")",")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$block",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setMessages",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","messageManager",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMessages",86],"(",["T_STRING","true",86],")",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$resultJson",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","resultJsonFactory",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","create",87],"(",")",";",["T_WHITESPACE","\n\n        ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$resultJson",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setData",89],"(","[",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'messages'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$block",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getGroupedHtml",90],"(",")",",",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","'error'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$error",91],["T_WHITESPACE","\n        ",91],"]",")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n",93],"}",["T_WHITESPACE","\n",94]]