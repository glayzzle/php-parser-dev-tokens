[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cron",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceConnection",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Eav",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AttributeRepositoryInterface",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","AttributeRepository",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MutableScopeConfigInterface",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ScopeConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ProductAttributeInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Store",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Store",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Cron operation is responsible for deleting all product prices on WEBSITE level\n * in case 'Catalog Price Scope' configuratoin parameter is set to GLOBAL.\n *\/",14],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","DeleteOutdatedPriceValues",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var ResourceConnection\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$resource",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var AttributeRepository\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$attributeRepository",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var ScopeConfig\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$scopeConfig",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param ResourceConnection $resource\n     * @param AttributeRepository $attributeRepository\n     * @param ScopeConfig $scopeConfig\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_WHITESPACE","\n        ",40],["T_STRING","ResourceConnection",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$resource",41],",",["T_WHITESPACE","\n        ",41],["T_STRING","AttributeRepository",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$attributeRepository",42],",",["T_WHITESPACE","\n        ",42],["T_STRING","ScopeConfig",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$scopeConfig",43],["T_WHITESPACE","\n    ",43],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","resource",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$resource",45],";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","attributeRepository",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$attributeRepository",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","scopeConfig",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$scopeConfig",47],";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Delete all price values for non-admin stores if PRICE_SCOPE is global\n     *\n     * @return void\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","execute",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$priceScope",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","scopeConfig",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getValue",57],"(",["T_STRING","Store",57],["T_DOUBLE_COLON","::",57],["T_STRING","XML_PATH_PRICE_SCOPE",57],")",";",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$priceScope",58],["T_WHITESPACE"," ",58],["T_IS_EQUAL","==",58],["T_WHITESPACE"," ",58],["T_STRING","Store",58],["T_DOUBLE_COLON","::",58],["T_STRING","PRICE_SCOPE_GLOBAL",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute $priceAttribute *\/",59],["T_WHITESPACE","\n            ",59],["T_VARIABLE","$priceAttribute",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","attributeRepository",60],["T_WHITESPACE","\n                ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_STRING","ProductAttributeInterface",61],["T_DOUBLE_COLON","::",61],["T_STRING","ENTITY_TYPE_CODE",61],",",["T_WHITESPACE"," ",61],["T_STRING","ProductAttributeInterface",61],["T_DOUBLE_COLON","::",61],["T_STRING","CODE_PRICE",61],")",";",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$connection",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","resource",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getConnection",62],"(",")",";",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$conditions",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$connection",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","quoteInto",64],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id = ?'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$priceAttribute",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")",")",",",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$connection",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","quoteInto",65],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id != ?'",65],",",["T_WHITESPACE"," ",65],["T_STRING","Store",65],["T_DOUBLE_COLON","::",65],["T_STRING","DEFAULT_STORE_ID",65],")",",",["T_WHITESPACE","\n            ",65],"]",";",["T_WHITESPACE","\n\n            ",66],["T_VARIABLE","$connection",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","delete",68],"(",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$priceAttribute",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getBackend",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getTable",69],"(",")",",",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$conditions",70],["T_WHITESPACE","\n            ",70],")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n",73],"}",["T_WHITESPACE","\n",74]]