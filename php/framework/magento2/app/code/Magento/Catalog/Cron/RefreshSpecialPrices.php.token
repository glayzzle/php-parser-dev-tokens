[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cron",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceConnection",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CategoryInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityManager",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MetadataPool",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ObjectManager",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","RefreshSpecialPrices",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_storeManager",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var Resource\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_resource",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_dateTime",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_localeDate",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_eavConfig",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Indexer\\Product\\Price\\Processor\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_processor",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_connection",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var MetadataPool\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$metadataPool",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param ResourceConnection $resource\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Eav\\Model\\Config $eavConfig\n     * @param \\Magento\\Catalog\\Model\\Indexer\\Product\\Price\\Processor $processor\n     *\/",55],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","__construct",63],"(",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Store",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Model",64],["T_NS_SEPARATOR","\\",64],["T_STRING","StoreManagerInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$storeManager",64],",",["T_WHITESPACE","\n        ",64],["T_STRING","ResourceConnection",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$resource",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Stdlib",66],["T_NS_SEPARATOR","\\",66],["T_STRING","DateTime",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$dateTime",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Stdlib",67],["T_NS_SEPARATOR","\\",67],["T_STRING","DateTime",67],["T_NS_SEPARATOR","\\",67],["T_STRING","TimezoneInterface",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$localeDate",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Eav",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Config",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$eavConfig",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Catalog",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Indexer",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Product",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Price",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Processor",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$processor",69],["T_WHITESPACE","\n    ",69],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_storeManager",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$storeManager",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_resource",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$resource",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_dateTime",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$dateTime",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_localeDate",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$localeDate",74],";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_eavConfig",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$eavConfig",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_processor",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$processor",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Retrieve write connection instance\n     *\n     * @return bool|\\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","_getConnection",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","null",86],["T_WHITESPACE"," ",86],["T_IS_IDENTICAL","===",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_connection",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_connection",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_resource",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getConnection",87],"(",")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_connection",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Add products to changes list with price which depends on date\n     *\n     * @return void\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","execute",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$connection",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_getConnection",99],"(",")",";",["T_WHITESPACE","\n\n        ",99],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_storeManager",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getStores",101],"(",["T_STRING","true",101],")",["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$store",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$timestamp",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_localeDate",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","scopeTimeStamp",102],"(",["T_VARIABLE","$store",102],")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$currDate",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_dateTime",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","formatDate",103],"(",["T_VARIABLE","$timestamp",103],",",["T_WHITESPACE"," ",103],["T_STRING","false",103],")",";",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$currDateExpr",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$connection",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","quote",104],"(",["T_VARIABLE","$currDate",104],")",";",["T_WHITESPACE","\n\n            ",104],["T_COMMENT","\/\/ timestamp is locale based\n",106],["T_WHITESPACE","            ",107],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_STRING","date",107],"(",["T_CONSTANT_ENCAPSED_STRING","'H'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$timestamp",107],")",["T_WHITESPACE"," ",107],["T_IS_EQUAL","==",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'00'",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$format",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d %H:%i:%s'",108],";",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_refreshSpecialPriceByStore",109],"(",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$store",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getId",110],"(",")",",",["T_WHITESPACE","\n                    ",110],["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",111],",",["T_WHITESPACE","\n                    ",111],["T_VARIABLE","$connection",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getDateFormatSql",112],"(",["T_VARIABLE","$currDateExpr",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$format",112],")",["T_WHITESPACE","\n                ",112],")",";",["T_WHITESPACE","\n\n                ",113],["T_VARIABLE","$dateTo",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$connection",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getDateAddSql",115],"(",["T_WHITESPACE","\n                    ",115],["T_VARIABLE","$currDateExpr",116],",",["T_WHITESPACE","\n                    ",116],"-",["T_LNUMBER","1",117],",",["T_WHITESPACE","\n                    ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","DB",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Adapter",118],["T_NS_SEPARATOR","\\",118],["T_STRING","AdapterInterface",118],["T_DOUBLE_COLON","::",118],["T_STRING","INTERVAL_DAY",118],["T_WHITESPACE","\n                ",118],")",";",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_refreshSpecialPriceByStore",120],"(",["T_WHITESPACE","\n                    ",120],["T_VARIABLE","$store",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getId",121],"(",")",",",["T_WHITESPACE","\n                    ",121],["T_CONSTANT_ENCAPSED_STRING","'special_to_date'",122],",",["T_WHITESPACE","\n                    ",122],["T_VARIABLE","$connection",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getDateFormatSql",123],"(",["T_VARIABLE","$dateTo",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$format",123],")",["T_WHITESPACE","\n                ",123],")",";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Reindex affected products\n     *\n     * @param int $storeId\n     * @param string $attrCode\n     * @param \\Zend_Db_Expr $attrConditionValue\n     * @return void\n     *\/",129],["T_WHITESPACE","\n    ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","_refreshSpecialPriceByStore",137],"(",["T_VARIABLE","$storeId",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$attrCode",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$attrConditionValue",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$attribute",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_eavConfig",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getAttribute",139],"(",["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Catalog",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Model",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Product",139],["T_DOUBLE_COLON","::",139],["T_STRING","ENTITY",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$attrCode",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$attributeId",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$attribute",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getAttributeId",140],"(",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$linkField",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMetadataPool",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getMetadata",142],"(",["T_STRING","CategoryInterface",142],["T_DOUBLE_COLON","::",142],["T_CLASS","class",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getLinkField",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$identifierField",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMetadataPool",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getMetadata",143],"(",["T_STRING","CategoryInterface",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getIdentifierField",143],"(",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$connection",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_getConnection",145],"(",")",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$select",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$connection",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","select",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","from",147],"(",["T_WHITESPACE","\n            ",147],"[",["T_CONSTANT_ENCAPSED_STRING","'attr'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_resource",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getTableName",148],"(","[",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'datetime'",148],"]",")","]",",",["T_WHITESPACE","\n            ",148],"[",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$identifierField",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'cat.'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$identifierField",150],",",["T_WHITESPACE","\n            ",150],"]",["T_WHITESPACE","\n        ",151],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","joinLeft",152],"(",["T_WHITESPACE","\n            ",152],"[",["T_CONSTANT_ENCAPSED_STRING","'cat'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_resource",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getTableName",153],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",153],")","]",",",["T_WHITESPACE","\n            ",153],["T_CONSTANT_ENCAPSED_STRING","'cat.'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$linkField",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'= attr.'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$linkField",154],",",["T_WHITESPACE","\n            ",154],["T_CONSTANT_ENCAPSED_STRING","''",155],["T_WHITESPACE","\n        ",155],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","where",156],"(",["T_WHITESPACE","\n            ",156],["T_CONSTANT_ENCAPSED_STRING","'attr.attribute_id = ?'",157],",",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$attributeId",158],["T_WHITESPACE","\n        ",158],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","where",159],"(",["T_WHITESPACE","\n            ",159],["T_CONSTANT_ENCAPSED_STRING","'attr.store_id = ?'",160],",",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$storeId",161],["T_WHITESPACE","\n        ",161],")",["T_OBJECT_OPERATOR","->",162],["T_STRING","where",162],"(",["T_WHITESPACE","\n            ",162],["T_CONSTANT_ENCAPSED_STRING","'attr.value = ?'",163],",",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$attrConditionValue",164],["T_WHITESPACE","\n        ",164],")",";",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$selectData",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$connection",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","fetchCol",167],"(",["T_VARIABLE","$select",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$identifierField",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_EMPTY","empty",169],"(",["T_VARIABLE","$selectData",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_processor",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getIndexer",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","reindexList",170],"(",["T_VARIABLE","$selectData",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n    ",171],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Get MetadataPool instance\n     * @return MetadataPool\n     *\n     * @deprecated\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PRIVATE","private",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getMetadataPool",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_STRING","null",183],["T_WHITESPACE"," ",183],["T_IS_IDENTICAL","===",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","metadataPool",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","metadataPool",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","ObjectManager",184],["T_DOUBLE_COLON","::",184],["T_STRING","getInstance",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_STRING","MetadataPool",184],["T_DOUBLE_COLON","::",184],["T_CLASS","class",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","metadataPool",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n",187],"}",["T_WHITESPACE","\n",188]]