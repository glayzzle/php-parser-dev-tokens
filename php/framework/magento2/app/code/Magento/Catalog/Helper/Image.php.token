[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Area",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AbstractHelper",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Catalog image helper\n * @SuppressWarnings(PHPMD.TooManyFields)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Image",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","AbstractHelper",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Media config node\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","MEDIA_TYPE_CONFIG_NODE",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'images'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * Current model\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\Image\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_model",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Scheduled for resize image\n     *\n     * @var bool\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_scheduleResize",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","true",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Scheduled for rotate image\n     *\n     * @var bool\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_scheduleRotate",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","false",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Angle\n     *\n     * @var int\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_angle",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Watermark file name\n     *\n     * @var string\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_watermark",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Watermark Position\n     *\n     * @var string\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_watermarkPosition",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Watermark Size\n     *\n     * @var string\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_watermarkSize",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Watermark Image opacity\n     *\n     * @var int\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_watermarkImageOpacity",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Current Product\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_product",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Image File\n     *\n     * @var string\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_imageFile",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Image Placeholder\n     *\n     * @var string\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_placeholder",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\Repository\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_assetRepo",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Product image factory\n     *\n     * @var \\Magento\\Catalog\\Model\\Product\\ImageFactory\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_productImageFactory",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\ConfigInterface\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$viewConfig",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Config\\View\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$configView",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Image configuration attributes\n     *\n     * @var array\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attributes",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[","]",";",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Catalog\\Model\\Product\\ImageFactory $productImageFactory\n     * @param \\Magento\\Framework\\View\\Asset\\Repository $assetRepo\n     * @param \\Magento\\Framework\\View\\ConfigInterface $viewConfig\n     *\/",128],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","__construct",134],"(",["T_WHITESPACE","\n        ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Framework",135],["T_NS_SEPARATOR","\\",135],["T_STRING","App",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Helper",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Context",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$context",135],",",["T_WHITESPACE","\n        ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Catalog",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Model",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Product",136],["T_NS_SEPARATOR","\\",136],["T_STRING","ImageFactory",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$productImageFactory",136],",",["T_WHITESPACE","\n        ",136],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Framework",137],["T_NS_SEPARATOR","\\",137],["T_STRING","View",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Asset",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Repository",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$assetRepo",137],",",["T_WHITESPACE","\n        ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Framework",138],["T_NS_SEPARATOR","\\",138],["T_STRING","View",138],["T_NS_SEPARATOR","\\",138],["T_STRING","ConfigInterface",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$viewConfig",138],["T_WHITESPACE","\n    ",138],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_productImageFactory",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$productImageFactory",140],";",["T_WHITESPACE","\n        ",140],["T_STRING","parent",141],["T_DOUBLE_COLON","::",141],["T_STRING","__construct",141],"(",["T_VARIABLE","$context",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_assetRepo",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$assetRepo",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","viewConfig",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$viewConfig",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Reset all previous data\n     *\n     * @return $this\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_reset",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_model",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","null",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_scheduleRotate",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","false",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_angle",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","null",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_watermark",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","null",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_watermarkPosition",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","null",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_watermarkSize",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","null",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_watermarkImageOpacity",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","null",159],";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_product",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_imageFile",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","null",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","attributes",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[","]",";",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Initialize Helper to work with Image\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param string $imageId\n     * @param array $attributes\n     * @return $this\n     *\/",166],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","init",174],"(",["T_VARIABLE","$product",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$imageId",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$attributes",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[","]",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_reset",176],"(",")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","attributes",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","array_merge",178],"(",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getConfigView",179],"(",")",["T_OBJECT_OPERATOR","->",179],["T_STRING","getMediaAttributes",179],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog'",179],",",["T_WHITESPACE"," ",179],["T_STRING","self",179],["T_DOUBLE_COLON","::",179],["T_STRING","MEDIA_TYPE_CONFIG_NODE",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$imageId",179],")",",",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$attributes",180],["T_WHITESPACE","\n        ",180],")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","setProduct",183],"(",["T_VARIABLE","$product",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setImageProperties",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setWatermarkProperties",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Set image properties\n     *\n     * @return $this\n     *\/",190],["T_WHITESPACE","\n    ",194],["T_PROTECTED","protected",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","setImageProperties",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_getModel",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","setDestinationSubdir",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getType",197],"(",")",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_getModel",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","setWidth",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getWidth",198],"(",")",")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_getModel",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","setHeight",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getHeight",199],"(",")",")",";",["T_WHITESPACE","\n\n        ",199],["T_COMMENT","\/\/ Set 'keep frame' flag\n",201],["T_WHITESPACE","        ",202],["T_VARIABLE","$frame",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getFrame",202],"(",")",";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$frame",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_getModel",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","setKeepFrame",204],"(",["T_VARIABLE","$frame",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_COMMENT","\/\/ Set 'constrain only' flag\n",207],["T_WHITESPACE","        ",208],["T_VARIABLE","$constrain",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getAttribute",208],"(",["T_CONSTANT_ENCAPSED_STRING","'constrain'",208],")",";",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_EMPTY","empty",209],"(",["T_VARIABLE","$constrain",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_getModel",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","setConstrainOnly",210],"(",["T_VARIABLE","$constrain",210],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n\n        ",211],["T_COMMENT","\/\/ Set 'keep aspect ratio' flag\n",213],["T_WHITESPACE","        ",214],["T_VARIABLE","$aspectRatio",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getAttribute",214],"(",["T_CONSTANT_ENCAPSED_STRING","'aspect_ratio'",214],")",";",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(","!",["T_EMPTY","empty",215],"(",["T_VARIABLE","$aspectRatio",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_getModel",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","setKeepAspectRatio",216],"(",["T_VARIABLE","$aspectRatio",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_COMMENT","\/\/ Set 'transparency' flag\n",219],["T_WHITESPACE","        ",220],["T_VARIABLE","$transparency",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getAttribute",220],"(",["T_CONSTANT_ENCAPSED_STRING","'transparency'",220],")",";",["T_WHITESPACE","\n        ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(","!",["T_EMPTY","empty",221],"(",["T_VARIABLE","$transparency",221],")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_getModel",222],"(",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","setKeepTransparency",222],"(",["T_VARIABLE","$transparency",222],")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_COMMENT","\/\/ Set background color\n",225],["T_WHITESPACE","        ",226],["T_VARIABLE","$background",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getAttribute",226],"(",["T_CONSTANT_ENCAPSED_STRING","'background'",226],")",";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_EMPTY","empty",227],"(",["T_VARIABLE","$background",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_getModel",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","setBackgroundColor",228],"(",["T_VARIABLE","$background",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Set watermark properties\n     *\n     * @return $this\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","setWatermarkProperties",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setWatermark",241],"(",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","scopeConfig",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getValue",242],"(",["T_WHITESPACE","\n                ",242],"\"",["T_ENCAPSED_AND_WHITESPACE","design\/watermark\/",243],["T_CURLY_OPEN","{",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getType",243],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","_image",243],"\"",",",["T_WHITESPACE","\n                ",243],["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Store",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Model",244],["T_NS_SEPARATOR","\\",244],["T_STRING","ScopeInterface",244],["T_DOUBLE_COLON","::",244],["T_STRING","SCOPE_STORE",244],["T_WHITESPACE","\n            ",244],")",["T_WHITESPACE","\n        ",245],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setWatermarkImageOpacity",247],"(",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","scopeConfig",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getValue",248],"(",["T_WHITESPACE","\n                ",248],"\"",["T_ENCAPSED_AND_WHITESPACE","design\/watermark\/",249],["T_CURLY_OPEN","{",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getType",249],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","_imageOpacity",249],"\"",",",["T_WHITESPACE","\n                ",249],["T_NS_SEPARATOR","\\",250],["T_STRING","Magento",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Store",250],["T_NS_SEPARATOR","\\",250],["T_STRING","Model",250],["T_NS_SEPARATOR","\\",250],["T_STRING","ScopeInterface",250],["T_DOUBLE_COLON","::",250],["T_STRING","SCOPE_STORE",250],["T_WHITESPACE","\n            ",250],")",["T_WHITESPACE","\n        ",251],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","setWatermarkPosition",253],"(",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","scopeConfig",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getValue",254],"(",["T_WHITESPACE","\n                ",254],"\"",["T_ENCAPSED_AND_WHITESPACE","design\/watermark\/",255],["T_CURLY_OPEN","{",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getType",255],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","_position",255],"\"",",",["T_WHITESPACE","\n                ",255],["T_NS_SEPARATOR","\\",256],["T_STRING","Magento",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Store",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Model",256],["T_NS_SEPARATOR","\\",256],["T_STRING","ScopeInterface",256],["T_DOUBLE_COLON","::",256],["T_STRING","SCOPE_STORE",256],["T_WHITESPACE","\n            ",256],")",["T_WHITESPACE","\n        ",257],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","setWatermarkSize",259],"(",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","scopeConfig",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getValue",260],"(",["T_WHITESPACE","\n                ",260],"\"",["T_ENCAPSED_AND_WHITESPACE","design\/watermark\/",261],["T_CURLY_OPEN","{",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getType",261],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","_size",261],"\"",",",["T_WHITESPACE","\n                ",261],["T_NS_SEPARATOR","\\",262],["T_STRING","Magento",262],["T_NS_SEPARATOR","\\",262],["T_STRING","Store",262],["T_NS_SEPARATOR","\\",262],["T_STRING","Model",262],["T_NS_SEPARATOR","\\",262],["T_STRING","ScopeInterface",262],["T_DOUBLE_COLON","::",262],["T_STRING","SCOPE_STORE",262],["T_WHITESPACE","\n            ",262],")",["T_WHITESPACE","\n        ",263],")",";",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Schedule resize of the image\n     * $width *or* $height can be null - in this case, lacking dimension will be calculated.\n     *\n     * @see \\Magento\\Catalog\\Model\\Product\\Image\n     * @param int $width\n     * @param int $height\n     * @return $this\n     *\/",268],["T_WHITESPACE","\n    ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","resize",277],"(",["T_VARIABLE","$width",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$height",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","null",277],")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_getModel",279],"(",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","setWidth",279],"(",["T_VARIABLE","$width",279],")",["T_OBJECT_OPERATOR","->",279],["T_STRING","setHeight",279],"(",["T_VARIABLE","$height",279],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_scheduleResize",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","true",280],";",["T_WHITESPACE","\n        ",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Set image quality, values in percentage from 0 to 100\n     *\n     * @param int $quality\n     * @return $this\n     *\/",284],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","setQuality",290],"(",["T_VARIABLE","$quality",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","_getModel",292],"(",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","setQuality",292],"(",["T_VARIABLE","$quality",292],")",";",["T_WHITESPACE","\n        ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Guarantee, that image picture width\/height will not be distorted.\n     * Applicable before calling resize()\n     * It is true by default.\n     *\n     * @see \\Magento\\Catalog\\Model\\Product\\Image\n     * @param bool $flag\n     * @return $this\n     *\/",296],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","keepAspectRatio",305],"(",["T_VARIABLE","$flag",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_getModel",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","setKeepAspectRatio",307],"(",["T_VARIABLE","$flag",307],")",";",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Guarantee, that image will have dimensions, set in $width\/$height\n     * Applicable before calling resize()\n     * Not applicable, if keepAspectRatio(false)\n     *\n     * $position - TODO, not used for now - picture position inside the frame.\n     *\n     * @see \\Magento\\Catalog\\Model\\Product\\Image\n     * @param bool $flag\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",311],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","keepFrame",323],"(",["T_VARIABLE","$flag",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_getModel",325],"(",")",["T_OBJECT_OPERATOR","->",325],["T_STRING","setKeepFrame",325],"(",["T_VARIABLE","$flag",325],")",";",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Guarantee, that image will not lose transparency if any.\n     * Applicable before calling resize()\n     * It is true by default.\n     *\n     * $alphaOpacity - TODO, not used for now\n     *\n     * @see \\Magento\\Catalog\\Model\\Product\\Image\n     * @param bool $flag\n     * @return $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",329],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","keepTransparency",341],"(",["T_VARIABLE","$flag",341],")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_getModel",343],"(",")",["T_OBJECT_OPERATOR","->",343],["T_STRING","setKeepTransparency",343],"(",["T_VARIABLE","$flag",343],")",";",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Guarantee, that image picture will not be bigger, than it was.\n     * Applicable before calling resize()\n     * It is false by default\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",347],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","constrainOnly",355],"(",["T_VARIABLE","$flag",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_getModel",357],"(",")",["T_OBJECT_OPERATOR","->",357],["T_STRING","setConstrainOnly",357],"(",["T_VARIABLE","$flag",357],")",";",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Set color to fill image frame with.\n     * Applicable before calling resize()\n     * The keepTransparency(true) overrides this (if image has transparent color)\n     * It is white by default.\n     *\n     * @see \\Magento\\Catalog\\Model\\Product\\Image\n     * @param array $colorRGB\n     * @return $this\n     *\/",361],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","backgroundColor",371],"(",["T_VARIABLE","$colorRGB",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_COMMENT","\/\/ assume that 3 params were given instead of array\n",373],["T_WHITESPACE","        ",374],["T_IF","if",374],["T_WHITESPACE"," ",374],"(","!",["T_STRING","is_array",374],"(",["T_VARIABLE","$colorRGB",374],")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$colorRGB",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","func_get_args",375],"(",")",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_getModel",377],"(",")",["T_OBJECT_OPERATOR","->",377],["T_STRING","setBackgroundColor",377],"(",["T_VARIABLE","$colorRGB",377],")",";",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Rotate image into specified angle\n     *\n     * @param int $angle\n     * @return $this\n     *\/",381],["T_WHITESPACE","\n    ",386],["T_PUBLIC","public",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","rotate",387],"(",["T_VARIABLE","$angle",387],")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","setAngle",389],"(",["T_VARIABLE","$angle",389],")",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_getModel",390],"(",")",["T_OBJECT_OPERATOR","->",390],["T_STRING","setAngle",390],"(",["T_VARIABLE","$angle",390],")",";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_scheduleRotate",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","true",391],";",["T_WHITESPACE","\n        ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Add watermark to image\n     * size param in format 100x200\n     *\n     * @param string $fileName\n     * @param string $position\n     * @param string $size\n     * @param int $imageOpacity\n     * @return $this\n     *\/",395],["T_WHITESPACE","\n    ",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","watermark",405],"(",["T_VARIABLE","$fileName",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$position",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$size",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","null",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$imageOpacity",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","null",405],")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","setWatermark",407],"(",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$fileName",408],["T_WHITESPACE","\n        ",408],")",["T_OBJECT_OPERATOR","->",409],["T_STRING","setWatermarkPosition",409],"(",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$position",410],["T_WHITESPACE","\n        ",410],")",["T_OBJECT_OPERATOR","->",411],["T_STRING","setWatermarkSize",411],"(",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$size",412],["T_WHITESPACE","\n        ",412],")",["T_OBJECT_OPERATOR","->",413],["T_STRING","setWatermarkImageOpacity",413],"(",["T_WHITESPACE","\n            ",413],["T_VARIABLE","$imageOpacity",414],["T_WHITESPACE","\n        ",414],")",";",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Set placeholder\n     *\n     * @param string $fileName\n     * @return void\n     *\/",419],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","placeholder",425],"(",["T_VARIABLE","$fileName",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_placeholder",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$fileName",427],";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Get Placeholder\n     *\n     * @param null|string $placeholder\n     * @return string\n     * \n     * @deprecated Returns only default placeholder.\n     * Does not take into account custom placeholders set in Configuration.\n     *\/",430],["T_WHITESPACE","\n    ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","getPlaceholder",439],"(",["T_VARIABLE","$placeholder",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","null",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$placeholder",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$placeholderFullPath",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::images\/product\/placeholder\/'",442],["T_WHITESPACE"," ",442],".",["T_WHITESPACE"," ",442],["T_VARIABLE","$placeholder",442],["T_WHITESPACE"," ",442],".",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",442],";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE"," ",443],["T_ELSE","else",443],["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$placeholderFullPath",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_placeholder",444],["T_WHITESPACE","\n                ",444],"?",":",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::images\/product\/placeholder\/'",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getModel",445],"(",")",["T_OBJECT_OPERATOR","->",445],["T_STRING","getDestinationSubdir",445],"(",")",["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'.jpg'",445],";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n        ",446],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$placeholderFullPath",447],";",["T_WHITESPACE","\n    ",447],"}",["T_WHITESPACE","\n\n    ",448],["T_DOC_COMMENT","\/**\n     * Apply scheduled actions\n     *\n     * @return $this\n     * @throws \\Exception\n     *\/",450],["T_WHITESPACE","\n    ",455],["T_PROTECTED","protected",456],["T_WHITESPACE"," ",456],["T_FUNCTION","function",456],["T_WHITESPACE"," ",456],["T_STRING","applyScheduledActions",456],"(",")",["T_WHITESPACE","\n    ",456],"{",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","initBaseFile",458],"(",")",";",["T_WHITESPACE","\n        ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","isScheduledActionsAllowed",459],"(",")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$model",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_getModel",460],"(",")",";",["T_WHITESPACE","\n            ",460],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_scheduleRotate",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                ",461],["T_VARIABLE","$model",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","rotate",462],"(",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getAngle",462],"(",")",")",";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n            ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_scheduleResize",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_VARIABLE","$model",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","resize",465],"(",")",";",["T_WHITESPACE","\n            ",465],"}",["T_WHITESPACE","\n            ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getWatermark",467],"(",")",")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                ",467],["T_VARIABLE","$model",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setWatermark",468],"(",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getWatermark",468],"(",")",")",";",["T_WHITESPACE","\n            ",468],"}",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$model",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","saveFile",470],"(",")",";",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Initialize base image file\n     *\n     * @return $this\n     *\/",475],["T_WHITESPACE","\n    ",479],["T_PROTECTED","protected",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","initBaseFile",480],"(",")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$model",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_getModel",482],"(",")",";",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$baseFile",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$model",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getBaseFile",483],"(",")",";",["T_WHITESPACE","\n        ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(","!",["T_VARIABLE","$baseFile",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getImageFile",485],"(",")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n                ",485],["T_VARIABLE","$model",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","setBaseFile",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getImageFile",486],"(",")",")",";",["T_WHITESPACE","\n            ",486],"}",["T_WHITESPACE"," ",487],["T_ELSE","else",487],["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n                ",487],["T_VARIABLE","$model",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setBaseFile",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getProduct",488],"(",")",["T_OBJECT_OPERATOR","->",488],["T_STRING","getData",488],"(",["T_VARIABLE","$model",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getDestinationSubdir",488],"(",")",")",")",";",["T_WHITESPACE","\n            ",488],"}",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE","\n        ",490],["T_RETURN","return",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],";",["T_WHITESPACE","\n    ",491],"}",["T_WHITESPACE","\n\n    ",492],["T_DOC_COMMENT","\/**\n     * Check if scheduled actions is allowed\n     *\n     * @return bool\n     *\/",494],["T_WHITESPACE","\n    ",498],["T_PROTECTED","protected",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","isScheduledActionsAllowed",499],"(",")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$model",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_getModel",501],"(",")",";",["T_WHITESPACE","\n        ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$model",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","isBaseFilePlaceholder",502],"(",")",["T_WHITESPACE"," ",502],["T_BOOLEAN_OR","||",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$model",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","isCached",502],"(",")",")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n            ",502],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_STRING","false",503],";",["T_WHITESPACE","\n        ",503],"}",["T_WHITESPACE","\n        ",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_STRING","true",505],";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * Retrieve image URL\n     *\n     * @return string\n     *\/",508],["T_WHITESPACE","\n    ",512],["T_PUBLIC","public",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","getUrl",513],"(",")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_TRY","try",515],["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","applyScheduledActions",516],"(",")",";",["T_WHITESPACE","\n            ",516],["T_RETURN","return",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_getModel",517],"(",")",["T_OBJECT_OPERATOR","->",517],["T_STRING","getUrl",517],"(",")",";",["T_WHITESPACE","\n        ",517],"}",["T_WHITESPACE"," ",518],["T_CATCH","catch",518],["T_WHITESPACE"," ",518],"(",["T_NS_SEPARATOR","\\",518],["T_STRING","Exception",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$e",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getDefaultPlaceholderUrl",519],"(",")",";",["T_WHITESPACE","\n        ",519],"}",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n\n    ",521],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",523],["T_WHITESPACE","\n    ",525],["T_PUBLIC","public",526],["T_WHITESPACE"," ",526],["T_FUNCTION","function",526],["T_WHITESPACE"," ",526],["T_STRING","save",526],"(",")",["T_WHITESPACE","\n    ",526],"{",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","applyScheduledActions",528],"(",")",";",["T_WHITESPACE","\n        ",528],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$this",529],";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_DOC_COMMENT","\/**\n     * Return resized product image information\n     *\n     * @return array\n     *\/",532],["T_WHITESPACE","\n    ",536],["T_PUBLIC","public",537],["T_WHITESPACE"," ",537],["T_FUNCTION","function",537],["T_WHITESPACE"," ",537],["T_STRING","getResizedImageInfo",537],"(",")",["T_WHITESPACE","\n    ",537],"{",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","applyScheduledActions",539],"(",")",";",["T_WHITESPACE","\n        ",539],["T_RETURN","return",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_getModel",540],"(",")",["T_OBJECT_OPERATOR","->",540],["T_STRING","getResizedImageInfo",540],"(",")",";",["T_WHITESPACE","\n    ",540],"}",["T_WHITESPACE","\n\n    ",541],["T_DOC_COMMENT","\/**\n     * @param null|string $placeholder\n     * @return string\n     * \n     * @deprecated Returns only default placeholder.\n     * Does not take into account custom placeholders set in Configuration.\n     *\/",543],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","getDefaultPlaceholderUrl",550],"(",["T_VARIABLE","$placeholder",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_STRING","null",550],")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_TRY","try",552],["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n            ",552],["T_VARIABLE","$url",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","_assetRepo",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getUrl",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getPlaceholder",553],"(",["T_VARIABLE","$placeholder",553],")",")",";",["T_WHITESPACE","\n        ",553],"}",["T_WHITESPACE"," ",554],["T_CATCH","catch",554],["T_WHITESPACE"," ",554],"(",["T_NS_SEPARATOR","\\",554],["T_STRING","Exception",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$e",554],")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_logger",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","critical",555],"(",["T_VARIABLE","$e",555],")",";",["T_WHITESPACE","\n            ",555],["T_VARIABLE","$url",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","_urlBuilder",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getUrl",556],"(",["T_CONSTANT_ENCAPSED_STRING","''",556],",",["T_WHITESPACE"," ",556],"[",["T_CONSTANT_ENCAPSED_STRING","'_direct'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","'core\/index\/notFound'",556],"]",")",";",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n        ",557],["T_RETURN","return",558],["T_WHITESPACE"," ",558],["T_VARIABLE","$url",558],";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n\n    ",559],["T_DOC_COMMENT","\/**\n     * Get current Image model\n     *\n     * @return \\Magento\\Catalog\\Model\\Product\\Image\n     *\/",561],["T_WHITESPACE","\n    ",565],["T_PROTECTED","protected",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","_getModel",566],"(",")",["T_WHITESPACE","\n    ",566],"{",["T_WHITESPACE","\n        ",567],["T_IF","if",568],["T_WHITESPACE"," ",568],"(","!",["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_model",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_model",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_productImageFactory",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","create",569],"(",")",";",["T_WHITESPACE","\n        ",569],"}",["T_WHITESPACE","\n        ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","_model",571],";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Set Rotation Angle\n     *\n     * @param int $angle\n     * @return $this\n     *\/",574],["T_WHITESPACE","\n    ",579],["T_PROTECTED","protected",580],["T_WHITESPACE"," ",580],["T_FUNCTION","function",580],["T_WHITESPACE"," ",580],["T_STRING","setAngle",580],"(",["T_VARIABLE","$angle",580],")",["T_WHITESPACE","\n    ",580],"{",["T_WHITESPACE","\n        ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","_angle",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$angle",582],";",["T_WHITESPACE","\n        ",582],["T_RETURN","return",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$this",583],";",["T_WHITESPACE","\n    ",583],"}",["T_WHITESPACE","\n\n    ",584],["T_DOC_COMMENT","\/**\n     * Get Rotation Angle\n     *\n     * @return int\n     *\/",586],["T_WHITESPACE","\n    ",590],["T_PROTECTED","protected",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","getAngle",591],"(",")",["T_WHITESPACE","\n    ",591],"{",["T_WHITESPACE","\n        ",592],["T_RETURN","return",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_angle",593],";",["T_WHITESPACE","\n    ",593],"}",["T_WHITESPACE","\n\n    ",594],["T_DOC_COMMENT","\/**\n     * Set watermark file name\n     *\n     * @param string $watermark\n     * @return $this\n     *\/",596],["T_WHITESPACE","\n    ",601],["T_PROTECTED","protected",602],["T_WHITESPACE"," ",602],["T_FUNCTION","function",602],["T_WHITESPACE"," ",602],["T_STRING","setWatermark",602],"(",["T_VARIABLE","$watermark",602],")",["T_WHITESPACE","\n    ",602],"{",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_watermark",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$watermark",604],";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","_getModel",605],"(",")",["T_OBJECT_OPERATOR","->",605],["T_STRING","setWatermarkFile",605],"(",["T_VARIABLE","$watermark",605],")",";",["T_WHITESPACE","\n        ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_DOC_COMMENT","\/**\n     * Get watermark file name\n     *\n     * @return string\n     *\/",609],["T_WHITESPACE","\n    ",613],["T_PROTECTED","protected",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","getWatermark",614],"(",")",["T_WHITESPACE","\n    ",614],"{",["T_WHITESPACE","\n        ",615],["T_RETURN","return",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_watermark",616],";",["T_WHITESPACE","\n    ",616],"}",["T_WHITESPACE","\n\n    ",617],["T_DOC_COMMENT","\/**\n     * Set watermark position\n     *\n     * @param string $position\n     * @return $this\n     *\/",619],["T_WHITESPACE","\n    ",624],["T_PROTECTED","protected",625],["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],["T_STRING","setWatermarkPosition",625],"(",["T_VARIABLE","$position",625],")",["T_WHITESPACE","\n    ",625],"{",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","_watermarkPosition",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_VARIABLE","$position",627],";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","_getModel",628],"(",")",["T_OBJECT_OPERATOR","->",628],["T_STRING","setWatermarkPosition",628],"(",["T_VARIABLE","$position",628],")",";",["T_WHITESPACE","\n        ",628],["T_RETURN","return",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],";",["T_WHITESPACE","\n    ",629],"}",["T_WHITESPACE","\n\n    ",630],["T_DOC_COMMENT","\/**\n     * Get watermark position\n     *\n     * @return string\n     *\/",632],["T_WHITESPACE","\n    ",636],["T_PROTECTED","protected",637],["T_WHITESPACE"," ",637],["T_FUNCTION","function",637],["T_WHITESPACE"," ",637],["T_STRING","getWatermarkPosition",637],"(",")",["T_WHITESPACE","\n    ",637],"{",["T_WHITESPACE","\n        ",638],["T_RETURN","return",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","_watermarkPosition",639],";",["T_WHITESPACE","\n    ",639],"}",["T_WHITESPACE","\n\n    ",640],["T_DOC_COMMENT","\/**\n     * Set watermark size\n     * param size in format 100x200\n     *\n     * @param string $size\n     * @return $this\n     *\/",642],["T_WHITESPACE","\n    ",648],["T_PUBLIC","public",649],["T_WHITESPACE"," ",649],["T_FUNCTION","function",649],["T_WHITESPACE"," ",649],["T_STRING","setWatermarkSize",649],"(",["T_VARIABLE","$size",649],")",["T_WHITESPACE","\n    ",649],"{",["T_WHITESPACE","\n        ",650],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","_watermarkSize",651],["T_WHITESPACE"," ",651],"=",["T_WHITESPACE"," ",651],["T_VARIABLE","$size",651],";",["T_WHITESPACE","\n        ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_getModel",652],"(",")",["T_OBJECT_OPERATOR","->",652],["T_STRING","setWatermarkSize",652],"(",["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","parseSize",652],"(",["T_VARIABLE","$size",652],")",")",";",["T_WHITESPACE","\n        ",652],["T_RETURN","return",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],";",["T_WHITESPACE","\n    ",653],"}",["T_WHITESPACE","\n\n    ",654],["T_DOC_COMMENT","\/**\n     * Get watermark size\n     *\n     * @return string\n     *\/",656],["T_WHITESPACE","\n    ",660],["T_PROTECTED","protected",661],["T_WHITESPACE"," ",661],["T_FUNCTION","function",661],["T_WHITESPACE"," ",661],["T_STRING","getWatermarkSize",661],"(",")",["T_WHITESPACE","\n    ",661],"{",["T_WHITESPACE","\n        ",662],["T_RETURN","return",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_watermarkSize",663],";",["T_WHITESPACE","\n    ",663],"}",["T_WHITESPACE","\n\n    ",664],["T_DOC_COMMENT","\/**\n     * Set watermark image opacity\n     *\n     * @param int $imageOpacity\n     * @return $this\n     *\/",666],["T_WHITESPACE","\n    ",671],["T_PUBLIC","public",672],["T_WHITESPACE"," ",672],["T_FUNCTION","function",672],["T_WHITESPACE"," ",672],["T_STRING","setWatermarkImageOpacity",672],"(",["T_VARIABLE","$imageOpacity",672],")",["T_WHITESPACE","\n    ",672],"{",["T_WHITESPACE","\n        ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_watermarkImageOpacity",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$imageOpacity",674],";",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","_getModel",675],"(",")",["T_OBJECT_OPERATOR","->",675],["T_STRING","setWatermarkImageOpacity",675],"(",["T_VARIABLE","$imageOpacity",675],")",";",["T_WHITESPACE","\n        ",675],["T_RETURN","return",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],";",["T_WHITESPACE","\n    ",676],"}",["T_WHITESPACE","\n\n    ",677],["T_DOC_COMMENT","\/**\n     * Get watermark image opacity\n     *\n     * @return int\n     *\/",679],["T_WHITESPACE","\n    ",683],["T_PROTECTED","protected",684],["T_WHITESPACE"," ",684],["T_FUNCTION","function",684],["T_WHITESPACE"," ",684],["T_STRING","getWatermarkImageOpacity",684],"(",")",["T_WHITESPACE","\n    ",684],"{",["T_WHITESPACE","\n        ",685],["T_IF","if",686],["T_WHITESPACE"," ",686],"(",["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","_watermarkImageOpacity",686],")",["T_WHITESPACE"," ",686],"{",["T_WHITESPACE","\n            ",686],["T_RETURN","return",687],["T_WHITESPACE"," ",687],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","_watermarkImageOpacity",687],";",["T_WHITESPACE","\n        ",687],"}",["T_WHITESPACE","\n\n        ",688],["T_RETURN","return",690],["T_WHITESPACE"," ",690],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","_getModel",690],"(",")",["T_OBJECT_OPERATOR","->",690],["T_STRING","getWatermarkImageOpacity",690],"(",")",";",["T_WHITESPACE","\n    ",690],"}",["T_WHITESPACE","\n\n    ",691],["T_DOC_COMMENT","\/**\n     * Set current Product\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return $this\n     *\/",693],["T_WHITESPACE","\n    ",698],["T_PROTECTED","protected",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","setProduct",699],"(",["T_VARIABLE","$product",699],")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","_product",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_VARIABLE","$product",701],";",["T_WHITESPACE","\n        ",701],["T_RETURN","return",702],["T_WHITESPACE"," ",702],["T_VARIABLE","$this",702],";",["T_WHITESPACE","\n    ",702],"}",["T_WHITESPACE","\n\n    ",703],["T_DOC_COMMENT","\/**\n     * Get current Product\n     *\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",705],["T_WHITESPACE","\n    ",709],["T_PROTECTED","protected",710],["T_WHITESPACE"," ",710],["T_FUNCTION","function",710],["T_WHITESPACE"," ",710],["T_STRING","getProduct",710],"(",")",["T_WHITESPACE","\n    ",710],"{",["T_WHITESPACE","\n        ",711],["T_RETURN","return",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","_product",712],";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n\n    ",713],["T_DOC_COMMENT","\/**\n     * Set Image file\n     *\n     * @param string $file\n     * @return $this\n     *\/",715],["T_WHITESPACE","\n    ",720],["T_PUBLIC","public",721],["T_WHITESPACE"," ",721],["T_FUNCTION","function",721],["T_WHITESPACE"," ",721],["T_STRING","setImageFile",721],"(",["T_VARIABLE","$file",721],")",["T_WHITESPACE","\n    ",721],"{",["T_WHITESPACE","\n        ",722],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","_imageFile",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_VARIABLE","$file",723],";",["T_WHITESPACE","\n        ",723],["T_RETURN","return",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$this",724],";",["T_WHITESPACE","\n    ",724],"}",["T_WHITESPACE","\n\n    ",725],["T_DOC_COMMENT","\/**\n     * Get Image file\n     *\n     * @return string\n     *\/",727],["T_WHITESPACE","\n    ",731],["T_PROTECTED","protected",732],["T_WHITESPACE"," ",732],["T_FUNCTION","function",732],["T_WHITESPACE"," ",732],["T_STRING","getImageFile",732],"(",")",["T_WHITESPACE","\n    ",732],"{",["T_WHITESPACE","\n        ",733],["T_RETURN","return",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","_imageFile",734],";",["T_WHITESPACE","\n    ",734],"}",["T_WHITESPACE","\n\n    ",735],["T_DOC_COMMENT","\/**\n     * Retrieve size from string\n     *\n     * @param string $string\n     * @return array|bool\n     *\/",737],["T_WHITESPACE","\n    ",742],["T_PROTECTED","protected",743],["T_WHITESPACE"," ",743],["T_FUNCTION","function",743],["T_WHITESPACE"," ",743],["T_STRING","parseSize",743],"(",["T_VARIABLE","$string",743],")",["T_WHITESPACE","\n    ",743],"{",["T_WHITESPACE","\n        ",744],["T_VARIABLE","$size",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_STRING","explode",745],"(",["T_CONSTANT_ENCAPSED_STRING","'x'",745],",",["T_WHITESPACE"," ",745],["T_STRING","strtolower",745],"(",["T_VARIABLE","$string",745],")",")",";",["T_WHITESPACE","\n        ",745],["T_IF","if",746],["T_WHITESPACE"," ",746],"(",["T_STRING","sizeof",746],"(",["T_VARIABLE","$size",746],")",["T_WHITESPACE"," ",746],["T_IS_EQUAL","==",746],["T_WHITESPACE"," ",746],["T_LNUMBER","2",746],")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n            ",746],["T_RETURN","return",747],["T_WHITESPACE"," ",747],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",747],["T_WHITESPACE"," ",747],["T_DOUBLE_ARROW","=>",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$size",747],"[",["T_LNUMBER","0",747],"]",["T_WHITESPACE"," ",747],">",["T_WHITESPACE"," ",747],["T_LNUMBER","0",747],["T_WHITESPACE"," ",747],"?",["T_WHITESPACE"," ",747],["T_VARIABLE","$size",747],"[",["T_LNUMBER","0",747],"]",["T_WHITESPACE"," ",747],":",["T_WHITESPACE"," ",747],["T_STRING","null",747],",",["T_WHITESPACE"," ",747],["T_CONSTANT_ENCAPSED_STRING","'height'",747],["T_WHITESPACE"," ",747],["T_DOUBLE_ARROW","=>",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$size",747],"[",["T_LNUMBER","1",747],"]",["T_WHITESPACE"," ",747],">",["T_WHITESPACE"," ",747],["T_LNUMBER","0",747],["T_WHITESPACE"," ",747],"?",["T_WHITESPACE"," ",747],["T_VARIABLE","$size",747],"[",["T_LNUMBER","1",747],"]",["T_WHITESPACE"," ",747],":",["T_WHITESPACE"," ",747],["T_STRING","null",747],"]",";",["T_WHITESPACE","\n        ",747],"}",["T_WHITESPACE","\n        ",748],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_STRING","false",749],";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n    ",750],["T_DOC_COMMENT","\/**\n     * Retrieve original image width\n     *\n     * @return int|null\n     *\/",752],["T_WHITESPACE","\n    ",756],["T_PUBLIC","public",757],["T_WHITESPACE"," ",757],["T_FUNCTION","function",757],["T_WHITESPACE"," ",757],["T_STRING","getOriginalWidth",757],"(",")",["T_WHITESPACE","\n    ",757],"{",["T_WHITESPACE","\n        ",758],["T_RETURN","return",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","_getModel",759],"(",")",["T_OBJECT_OPERATOR","->",759],["T_STRING","getImageProcessor",759],"(",")",["T_OBJECT_OPERATOR","->",759],["T_STRING","getOriginalWidth",759],"(",")",";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n\n    ",760],["T_DOC_COMMENT","\/**\n     * Retrieve original image height\n     *\n     * @return int|null\n     *\/",762],["T_WHITESPACE","\n    ",766],["T_PUBLIC","public",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","getOriginalHeight",767],"(",")",["T_WHITESPACE","\n    ",767],"{",["T_WHITESPACE","\n        ",768],["T_RETURN","return",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","_getModel",769],"(",")",["T_OBJECT_OPERATOR","->",769],["T_STRING","getImageProcessor",769],"(",")",["T_OBJECT_OPERATOR","->",769],["T_STRING","getOriginalHeight",769],"(",")",";",["T_WHITESPACE","\n    ",769],"}",["T_WHITESPACE","\n\n    ",770],["T_DOC_COMMENT","\/**\n     * Retrieve Original image size as array\n     * 0 - width, 1 - height\n     *\n     * @return int[]\n     *\/",772],["T_WHITESPACE","\n    ",777],["T_PUBLIC","public",778],["T_WHITESPACE"," ",778],["T_FUNCTION","function",778],["T_WHITESPACE"," ",778],["T_STRING","getOriginalSizeArray",778],"(",")",["T_WHITESPACE","\n    ",778],"{",["T_WHITESPACE","\n        ",779],["T_RETURN","return",780],["T_WHITESPACE"," ",780],"[",["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","getOriginalWidth",780],"(",")",",",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","getOriginalHeight",780],"(",")","]",";",["T_WHITESPACE","\n    ",780],"}",["T_WHITESPACE","\n\n    ",781],["T_DOC_COMMENT","\/**\n     * Retrieve config view\n     *\n     * @return \\Magento\\Framework\\Config\\View\n     *\/",783],["T_WHITESPACE","\n    ",787],["T_PROTECTED","protected",788],["T_WHITESPACE"," ",788],["T_FUNCTION","function",788],["T_WHITESPACE"," ",788],["T_STRING","getConfigView",788],"(",")",["T_WHITESPACE","\n    ",788],"{",["T_WHITESPACE","\n        ",789],["T_IF","if",790],["T_WHITESPACE"," ",790],"(","!",["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","configView",790],")",["T_WHITESPACE"," ",790],"{",["T_WHITESPACE","\n            ",790],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","configView",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","viewConfig",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","getViewConfig",791],"(",")",";",["T_WHITESPACE","\n        ",791],"}",["T_WHITESPACE","\n        ",792],["T_RETURN","return",793],["T_WHITESPACE"," ",793],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","configView",793],";",["T_WHITESPACE","\n    ",793],"}",["T_WHITESPACE","\n\n    ",794],["T_DOC_COMMENT","\/**\n     * Retrieve image type\n     *\n     * @return string\n     *\/",796],["T_WHITESPACE","\n    ",800],["T_PUBLIC","public",801],["T_WHITESPACE"," ",801],["T_FUNCTION","function",801],["T_WHITESPACE"," ",801],["T_STRING","getType",801],"(",")",["T_WHITESPACE","\n    ",801],"{",["T_WHITESPACE","\n        ",802],["T_RETURN","return",803],["T_WHITESPACE"," ",803],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","getAttribute",803],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",803],")",";",["T_WHITESPACE","\n    ",803],"}",["T_WHITESPACE","\n\n    ",804],["T_DOC_COMMENT","\/**\n     * Retrieve image width\n     *\n     * @return string\n     *\/",806],["T_WHITESPACE","\n    ",810],["T_PUBLIC","public",811],["T_WHITESPACE"," ",811],["T_FUNCTION","function",811],["T_WHITESPACE"," ",811],["T_STRING","getWidth",811],"(",")",["T_WHITESPACE","\n    ",811],"{",["T_WHITESPACE","\n        ",812],["T_RETURN","return",813],["T_WHITESPACE"," ",813],["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","getAttribute",813],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",813],")",";",["T_WHITESPACE","\n    ",813],"}",["T_WHITESPACE","\n\n    ",814],["T_DOC_COMMENT","\/**\n     * Retrieve image height\n     *\n     * @return string\n     *\/",816],["T_WHITESPACE","\n    ",820],["T_PUBLIC","public",821],["T_WHITESPACE"," ",821],["T_FUNCTION","function",821],["T_WHITESPACE"," ",821],["T_STRING","getHeight",821],"(",")",["T_WHITESPACE","\n    ",821],"{",["T_WHITESPACE","\n        ",822],["T_RETURN","return",823],["T_WHITESPACE"," ",823],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","getAttribute",823],"(",["T_CONSTANT_ENCAPSED_STRING","'height'",823],")",["T_WHITESPACE"," ",823],"?",":",["T_WHITESPACE"," ",823],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","getAttribute",823],"(",["T_CONSTANT_ENCAPSED_STRING","'width'",823],")",";",["T_WHITESPACE","\n    ",823],"}",["T_WHITESPACE","\n\n    ",824],["T_DOC_COMMENT","\/**\n     * Retrieve image frame flag\n     *\n     * @return false|string\n     *\/",826],["T_WHITESPACE","\n    ",830],["T_PUBLIC","public",831],["T_WHITESPACE"," ",831],["T_FUNCTION","function",831],["T_WHITESPACE"," ",831],["T_STRING","getFrame",831],"(",")",["T_WHITESPACE","\n    ",831],"{",["T_WHITESPACE","\n        ",832],["T_VARIABLE","$frame",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","getAttribute",833],"(",["T_CONSTANT_ENCAPSED_STRING","'frame'",833],")",";",["T_WHITESPACE","\n        ",833],["T_IF","if",834],["T_WHITESPACE"," ",834],"(",["T_EMPTY","empty",834],"(",["T_VARIABLE","$frame",834],")",")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n            ",834],["T_VARIABLE","$frame",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","getConfigView",835],"(",")",["T_OBJECT_OPERATOR","->",835],["T_STRING","getVarValue",835],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog'",835],",",["T_WHITESPACE"," ",835],["T_CONSTANT_ENCAPSED_STRING","'product_image_white_borders'",835],")",";",["T_WHITESPACE","\n        ",835],"}",["T_WHITESPACE","\n        ",836],["T_RETURN","return",837],["T_WHITESPACE"," ",837],["T_VARIABLE","$frame",837],";",["T_WHITESPACE","\n    ",837],"}",["T_WHITESPACE","\n\n    ",838],["T_DOC_COMMENT","\/**\n     * Retrieve image attribute\n     *\n     * @param string $name\n     * @return string\n     *\/",840],["T_WHITESPACE","\n    ",845],["T_PROTECTED","protected",846],["T_WHITESPACE"," ",846],["T_FUNCTION","function",846],["T_WHITESPACE"," ",846],["T_STRING","getAttribute",846],"(",["T_VARIABLE","$name",846],")",["T_WHITESPACE","\n    ",846],"{",["T_WHITESPACE","\n        ",847],["T_RETURN","return",848],["T_WHITESPACE"," ",848],["T_ISSET","isset",848],"(",["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","attributes",848],"[",["T_VARIABLE","$name",848],"]",")",["T_WHITESPACE"," ",848],"?",["T_WHITESPACE"," ",848],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","attributes",848],"[",["T_VARIABLE","$name",848],"]",["T_WHITESPACE"," ",848],":",["T_WHITESPACE"," ",848],["T_STRING","null",848],";",["T_WHITESPACE","\n    ",848],"}",["T_WHITESPACE","\n\n    ",849],["T_DOC_COMMENT","\/**\n     * Return image label\n     *\n     * @return string\n     *\/",851],["T_WHITESPACE","\n    ",855],["T_PUBLIC","public",856],["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],["T_STRING","getLabel",856],"(",")",["T_WHITESPACE","\n    ",856],"{",["T_WHITESPACE","\n        ",857],["T_VARIABLE","$label",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","_product",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getData",858],"(",["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getType",858],"(",")",["T_WHITESPACE"," ",858],".",["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'_'",858],["T_WHITESPACE"," ",858],".",["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'label'",858],")",";",["T_WHITESPACE","\n        ",858],["T_IF","if",859],["T_WHITESPACE"," ",859],"(",["T_EMPTY","empty",859],"(",["T_VARIABLE","$label",859],")",")",["T_WHITESPACE"," ",859],"{",["T_WHITESPACE","\n            ",859],["T_VARIABLE","$label",860],["T_WHITESPACE"," ",860],"=",["T_WHITESPACE"," ",860],["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","_product",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","getName",860],"(",")",";",["T_WHITESPACE","\n        ",860],"}",["T_WHITESPACE","\n        ",861],["T_RETURN","return",862],["T_WHITESPACE"," ",862],["T_VARIABLE","$label",862],";",["T_WHITESPACE","\n    ",862],"}",["T_WHITESPACE","\n",863],"}",["T_WHITESPACE","\n",864]]