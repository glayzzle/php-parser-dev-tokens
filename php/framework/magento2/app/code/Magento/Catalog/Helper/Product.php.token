[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CategoryRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ProductRepositoryInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ModelProduct",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NoSuchEntityException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Store",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Store",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Catalog category helper\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Product",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Url",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Helper",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","XML_PATH_PRODUCT_URL_USE_CATEGORY",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'catalog\/seo\/product_use_categories'",20],";",["T_WHITESPACE","\n\n    ",20],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","XML_PATH_USE_PRODUCT_CANONICAL_TAG",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'catalog\/seo\/product_canonical_tag'",22],";",["T_WHITESPACE","\n\n    ",22],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","XML_PATH_AUTO_GENERATE_MASK",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'catalog\/fields_masks'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Flag that shows if Magento has to check product to be saleable (enabled and\/or inStock)\n     *\n     * @var boolean\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_skipSaleableCheck",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","false",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_statuses",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var mixed\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_priceBlock",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Asset\\Repository\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_assetRepo",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_coreRegistry",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Attribute\\Config\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_attributeConfig",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Catalog session\n     *\n     * @var \\Magento\\Catalog\\Model\\Session\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_catalogSession",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Invalidate product category indexer params\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_reindexProductCategoryIndexerData",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Invalidate price indexer params\n     *\n     * @var array\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_reindexPriceIndexerData",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @var ProductRepositoryInterface\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$productRepository",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * @var CategoryRepositoryInterface\n     *\/",86],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$categoryRepository",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface *\/",91],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_storeManager",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Catalog\\Model\\Session $catalogSession\n     * @param \\Magento\\Framework\\View\\Asset\\Repository $assetRepo\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @param \\Magento\\Catalog\\Model\\Attribute\\Config $attributeConfig\n     * @param array $reindexPriceIndexerData\n     * @param array $reindexProductCategoryIndexerData\n     * @param ProductRepositoryInterface $productRepository\n     * @param CategoryRepositoryInterface $categoryRepository\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",94],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","__construct",107],"(",["T_WHITESPACE","\n        ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Framework",108],["T_NS_SEPARATOR","\\",108],["T_STRING","App",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Helper",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Context",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$context",108],",",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Store",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","StoreManagerInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$storeManager",109],",",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Catalog",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Session",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$catalogSession",110],",",["T_WHITESPACE","\n        ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Framework",111],["T_NS_SEPARATOR","\\",111],["T_STRING","View",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Asset",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Repository",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$assetRepo",111],",",["T_WHITESPACE","\n        ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Framework",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Registry",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$coreRegistry",112],",",["T_WHITESPACE","\n        ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Catalog",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Attribute",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Config",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$attributeConfig",113],",",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$reindexPriceIndexerData",114],",",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$reindexProductCategoryIndexerData",115],",",["T_WHITESPACE","\n        ",115],["T_STRING","ProductRepositoryInterface",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$productRepository",116],",",["T_WHITESPACE","\n        ",116],["T_STRING","CategoryRepositoryInterface",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$categoryRepository",117],["T_WHITESPACE","\n    ",117],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_catalogSession",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$catalogSession",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_attributeConfig",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$attributeConfig",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_coreRegistry",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$coreRegistry",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_assetRepo",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$assetRepo",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_reindexPriceIndexerData",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$reindexPriceIndexerData",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","productRepository",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$productRepository",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","categoryRepository",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$categoryRepository",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_reindexProductCategoryIndexerData",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$reindexProductCategoryIndexerData",126],";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_storeManager",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$storeManager",127],";",["T_WHITESPACE","\n        ",127],["T_STRING","parent",128],["T_DOUBLE_COLON","::",128],["T_STRING","__construct",128],"(",["T_VARIABLE","$context",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Retrieve data for price indexer update\n     *\n     * @param \\Magento\\Catalog\\Model\\Product|array $data\n     * @return bool\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","isDataForPriceIndexerWasChanged",137],"(",["T_VARIABLE","$data",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$data",139],["T_WHITESPACE"," ",139],["T_INSTANCEOF","instanceof",139],["T_WHITESPACE"," ",139],["T_STRING","ModelProduct",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_reindexPriceIndexerData",140],"[",["T_CONSTANT_ENCAPSED_STRING","'byDataResult'",140],"]",["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$param",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$data",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getData",141],"(",["T_VARIABLE","$param",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                    ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","true",142],";",["T_WHITESPACE","\n                ",142],"}",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE","\n            ",144],["T_FOREACH","foreach",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_reindexPriceIndexerData",145],"[",["T_CONSTANT_ENCAPSED_STRING","'byDataChange'",145],"]",["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$param",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$data",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","dataHasChangedFor",146],"(",["T_VARIABLE","$param",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                    ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_STRING","true",147],";",["T_WHITESPACE","\n                ",147],"}",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE"," ",150],["T_ELSEIF","elseif",150],["T_WHITESPACE"," ",150],"(",["T_STRING","is_array",150],"(",["T_VARIABLE","$data",150],")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_reindexPriceIndexerData",151],"[",["T_CONSTANT_ENCAPSED_STRING","'byDataChange'",151],"]",["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$param",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_ISSET","isset",152],"(",["T_VARIABLE","$data",152],"[",["T_VARIABLE","$param",152],"]",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                    ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","true",153],";",["T_WHITESPACE","\n                ",153],"}",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_STRING","false",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Retrieve data for product category indexer update\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $data\n     * @return bool\n     *\/",160],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","isDataForProductCategoryIndexerWasChanged",166],"(",["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Catalog",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Model",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Product",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$data",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_reindexProductCategoryIndexerData",168],"[",["T_CONSTANT_ENCAPSED_STRING","'byDataChange'",168],"]",["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$param",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$data",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","dataHasChangedFor",169],"(",["T_VARIABLE","$param",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","true",170],";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_STRING","false",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Retrieve product view page url\n     *\n     * @param int|ModelProduct $product\n     * @return string|bool\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","getProductUrl",182],"(",["T_VARIABLE","$product",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$product",184],["T_WHITESPACE"," ",184],["T_INSTANCEOF","instanceof",184],["T_WHITESPACE"," ",184],["T_STRING","ModelProduct",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$product",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getProductUrl",185],"(",")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE"," ",186],["T_ELSEIF","elseif",186],["T_WHITESPACE"," ",186],"(",["T_STRING","is_numeric",186],"(",["T_VARIABLE","$product",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","productRepository",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getById",187],"(",["T_VARIABLE","$product",187],")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getProductUrl",187],"(",")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_STRING","false",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Retrieve product price\n     *\n     * @param ModelProduct $product\n     * @return float\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getPrice",198],"(",["T_VARIABLE","$product",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$product",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getPrice",200],"(",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Retrieve product final price\n     *\n     * @param ModelProduct $product\n     * @return float\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getFinalPrice",209],"(",["T_VARIABLE","$product",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$product",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getFinalPrice",211],"(",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Retrieve base image url\n     *\n     * @param ModelProduct|\\Magento\\Framework\\DataObject $product\n     * @return string|bool\n     *\/",214],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","getImageUrl",220],"(",["T_VARIABLE","$product",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$url",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","false",222],";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$attribute",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$product",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getResource",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getAttribute",223],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",223],")",";",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_VARIABLE","$product",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getImage",224],"(",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$url",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_assetRepo",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getUrl",225],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::images\/product\/placeholder\/image.jpg'",225],")",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE"," ",226],["T_ELSEIF","elseif",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$attribute",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$url",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$attribute",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getFrontend",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","getUrl",227],"(",["T_VARIABLE","$product",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$url",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Retrieve small image url\n     *\n     * @param ModelProduct|\\Magento\\Framework\\DataObject $product\n     * @return string|bool\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","getSmallImageUrl",238],"(",["T_VARIABLE","$product",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$url",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","false",240],";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$attribute",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$product",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getResource",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","getAttribute",241],"(",["T_CONSTANT_ENCAPSED_STRING","'small_image'",241],")",";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(","!",["T_VARIABLE","$product",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getSmallImage",242],"(",")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$url",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_assetRepo",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getUrl",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Catalog::images\/product\/placeholder\/small_image.jpg'",243],")",";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE"," ",244],["T_ELSEIF","elseif",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$attribute",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$url",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$attribute",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getFrontend",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getUrl",245],"(",["T_VARIABLE","$product",245],")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n        ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$url",247],";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Retrieve thumbnail image url\n     *\n     * @param ModelProduct|\\Magento\\Framework\\DataObject $product\n     * @return string\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",250],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","getThumbnailUrl",257],"(",["T_VARIABLE","$product",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","''",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * @param ModelProduct $product\n     * @return string\n     *\/",262],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getEmailToFriendUrl",266],"(",["T_VARIABLE","$product",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$categoryId",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","null",268],";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$category",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_coreRegistry",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","registry",269],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",269],")",";",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$category",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$categoryId",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$category",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getId",271],"(",")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_getUrl",273],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend\/product\/send'",273],",",["T_WHITESPACE"," ",273],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$product",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getId",273],"(",")",",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'cat_id'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$categoryId",273],"]",")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",276],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","getStatuses",279],"(",")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_STRING","null",281],["T_WHITESPACE"," ",281],["T_IS_IDENTICAL","===",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_statuses",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_statuses",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"[","]",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n\n        ",283],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_statuses",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Check if a product can be shown\n     *\n     * @param ModelProduct|int $product\n     * @param string $where\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",288],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","canShow",296],"(",["T_VARIABLE","$product",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$where",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'catalog'",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_STRING","is_int",298],"(",["T_VARIABLE","$product",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_TRY","try",299],["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$product",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","productRepository",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getById",300],"(",["T_VARIABLE","$product",300],")",";",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE"," ",301],["T_CATCH","catch",301],["T_WHITESPACE"," ",301],"(",["T_STRING","NoSuchEntityException",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$e",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_STRING","false",302],";",["T_WHITESPACE","\n            ",302],"}",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE"," ",304],["T_ELSE","else",304],["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(","!",["T_VARIABLE","$product",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getId",305],"(",")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_STRING","false",306],";",["T_WHITESPACE","\n            ",306],"}",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n        ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$product",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","isVisibleInCatalog",309],"(",")",["T_WHITESPACE"," ",309],["T_BOOLEAN_AND","&&",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$product",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","isVisibleInSiteVisibility",309],"(",")",";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Check if <link rel=\"canonical\"> can be used for product\n     *\n     * @param null|string|bool|int|Store $store\n     * @return bool\n     *\/",312],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","canUseCanonicalTag",318],"(",["T_VARIABLE","$store",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","null",318],")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","scopeConfig",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getValue",320],"(",["T_WHITESPACE","\n            ",320],["T_STRING","self",321],["T_DOUBLE_COLON","::",321],["T_STRING","XML_PATH_USE_PRODUCT_CANONICAL_TAG",321],",",["T_WHITESPACE","\n            ",321],["T_NS_SEPARATOR","\\",322],["T_STRING","Magento",322],["T_NS_SEPARATOR","\\",322],["T_STRING","Store",322],["T_NS_SEPARATOR","\\",322],["T_STRING","Model",322],["T_NS_SEPARATOR","\\",322],["T_STRING","ScopeInterface",322],["T_DOUBLE_COLON","::",322],["T_STRING","SCOPE_STORE",322],",",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$store",323],["T_WHITESPACE","\n        ",323],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Return information array of product attribute input types\n     * Only a small number of settings returned, so we won't break anything in current data flow\n     * As soon as development process goes on we need to add there all possible settings\n     *\n     * @param string $inputType\n     * @return array\n     *\/",327],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","getAttributeInputTypes",335],"(",["T_VARIABLE","$inputType",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","null",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_DOC_COMMENT","\/**\n         * @todo specify there all relations for properties depending on input type\n         *\/",337],["T_WHITESPACE","\n        ",339],["T_VARIABLE","$inputTypes",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],"[",["T_WHITESPACE","\n            ",340],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_model'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Magento",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Eav",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Model",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Entity",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Attribute",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Backend",341],["T_NS_SEPARATOR","\\",341],["T_STRING","ArrayBackend",341],["T_DOUBLE_COLON","::",341],["T_CLASS","class",341],"]",",",["T_WHITESPACE","\n            ",341],["T_CONSTANT_ENCAPSED_STRING","'boolean'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],"[",["T_CONSTANT_ENCAPSED_STRING","'source_model'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Magento",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Eav",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Model",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Entity",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Attribute",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Source",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Boolean",342],["T_DOUBLE_COLON","::",342],["T_CLASS","class",342],"]",",",["T_WHITESPACE","\n        ",342],"]",";",["T_WHITESPACE","\n\n        ",343],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$inputType",345],["T_WHITESPACE"," ",345],["T_IS_IDENTICAL","===",345],["T_WHITESPACE"," ",345],["T_STRING","null",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$inputTypes",346],";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE"," ",347],["T_ELSE","else",347],["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_ISSET","isset",348],"(",["T_VARIABLE","$inputTypes",348],"[",["T_VARIABLE","$inputType",348],"]",")",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$inputTypes",349],"[",["T_VARIABLE","$inputType",349],"]",";",["T_WHITESPACE","\n            ",349],"}",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],"[","]",";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Return default attribute backend model by input type\n     *\n     * @param string $inputType\n     * @return string|null\n     *\/",355],["T_WHITESPACE","\n    ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","getAttributeBackendModelByInputType",361],"(",["T_VARIABLE","$inputType",361],")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$inputTypes",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getAttributeInputTypes",363],"(",")",";",["T_WHITESPACE","\n        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(","!",["T_EMPTY","empty",364],"(",["T_VARIABLE","$inputTypes",364],"[",["T_VARIABLE","$inputType",364],"]","[",["T_CONSTANT_ENCAPSED_STRING","'backend_model'",364],"]",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_RETURN","return",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$inputTypes",365],"[",["T_VARIABLE","$inputType",365],"]","[",["T_CONSTANT_ENCAPSED_STRING","'backend_model'",365],"]",";",["T_WHITESPACE","\n        ",365],"}",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_STRING","null",367],";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Return default attribute source model by input type\n     *\n     * @param string $inputType\n     * @return string|null\n     *\/",370],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","getAttributeSourceModelByInputType",376],"(",["T_VARIABLE","$inputType",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$inputTypes",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getAttributeInputTypes",378],"(",")",";",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_EMPTY","empty",379],"(",["T_VARIABLE","$inputTypes",379],"[",["T_VARIABLE","$inputType",379],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_model'",379],"]",")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$inputTypes",380],"[",["T_VARIABLE","$inputType",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_model'",380],"]",";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_STRING","null",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Inits product to be used for product controller actions and layouts\n     * $params can have following data:\n     *   'category_id' - id of category to check and append to product as current.\n     *     If empty (except FALSE) - will be guessed (e.g. from last visited) to load as current.\n     *\n     * @param int $productId\n     * @param \\Magento\\Framework\\App\\Action\\Action $controller\n     * @param \\Magento\\Framework\\DataObject $params\n     *\n     * @return bool|ModelProduct\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",385],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","initProduct",399],"(",["T_VARIABLE","$productId",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$controller",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$params",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_STRING","null",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_COMMENT","\/\/ Prepare data for routine\n",401],["T_WHITESPACE","        ",402],["T_IF","if",402],["T_WHITESPACE"," ",402],"(","!",["T_VARIABLE","$params",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_VARIABLE","$params",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_NEW","new",403],["T_WHITESPACE"," ",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Magento",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Framework",403],["T_NS_SEPARATOR","\\",403],["T_STRING","DataObject",403],"(",")",";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n\n        ",404],["T_COMMENT","\/\/ Init and load product\n",406],["T_WHITESPACE","        ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_eventManager",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","dispatch",407],"(",["T_WHITESPACE","\n            ",407],["T_CONSTANT_ENCAPSED_STRING","'catalog_controller_product_init_before'",408],",",["T_WHITESPACE","\n            ",408],"[",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$controller",409],",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'params'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$params",409],"]",["T_WHITESPACE","\n        ",409],")",";",["T_WHITESPACE","\n\n        ",410],["T_IF","if",412],["T_WHITESPACE"," ",412],"(","!",["T_VARIABLE","$productId",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_STRING","false",413],";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n\n        ",414],["T_TRY","try",416],["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$product",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","productRepository",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getById",417],"(",["T_VARIABLE","$productId",417],",",["T_WHITESPACE"," ",417],["T_STRING","false",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_storeManager",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getStore",417],"(",")",["T_OBJECT_OPERATOR","->",417],["T_STRING","getId",417],"(",")",")",";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE"," ",418],["T_CATCH","catch",418],["T_WHITESPACE"," ",418],"(",["T_STRING","NoSuchEntityException",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$e",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_STRING","false",419],";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n\n        ",420],["T_IF","if",422],["T_WHITESPACE"," ",422],"(","!",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","canShow",422],"(",["T_VARIABLE","$product",422],")",")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n            ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_STRING","false",423],";",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n        ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(","!",["T_STRING","in_array",425],"(",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_storeManager",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getStore",425],"(",")",["T_OBJECT_OPERATOR","->",425],["T_STRING","getWebsiteId",425],"(",")",",",["T_WHITESPACE"," ",425],["T_VARIABLE","$product",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getWebsiteIds",425],"(",")",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_STRING","false",426],";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n\n        ",427],["T_COMMENT","\/\/ Load product current category\n",429],["T_WHITESPACE","        ",430],["T_VARIABLE","$categoryId",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$params",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getCategoryId",430],"(",")",";",["T_WHITESPACE","\n        ",430],["T_IF","if",431],["T_WHITESPACE"," ",431],"(","!",["T_VARIABLE","$categoryId",431],["T_WHITESPACE"," ",431],["T_BOOLEAN_AND","&&",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$categoryId",431],["T_WHITESPACE"," ",431],["T_IS_NOT_IDENTICAL","!==",431],["T_WHITESPACE"," ",431],["T_STRING","false",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$lastId",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_catalogSession",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getLastVisitedCategoryId",432],"(",")",";",["T_WHITESPACE","\n            ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$product",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","canBeShowInCategory",433],"(",["T_VARIABLE","$lastId",433],")",")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                ",433],["T_VARIABLE","$categoryId",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$lastId",434],";",["T_WHITESPACE","\n            ",434],"}",["T_WHITESPACE","\n        ",435],"}",["T_WHITESPACE"," ",436],["T_ELSEIF","elseif",436],["T_WHITESPACE"," ",436],"(","!",["T_VARIABLE","$product",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","canBeShowInCategory",436],"(",["T_VARIABLE","$categoryId",436],")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$categoryId",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","null",437],";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n\n        ",438],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$categoryId",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_TRY","try",441],["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n                ",441],["T_VARIABLE","$category",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","categoryRepository",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","get",442],"(",["T_VARIABLE","$categoryId",442],")",";",["T_WHITESPACE","\n            ",442],"}",["T_WHITESPACE"," ",443],["T_CATCH","catch",443],["T_WHITESPACE"," ",443],"(",["T_STRING","NoSuchEntityException",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$e",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n                ",443],["T_VARIABLE","$category",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","null",444],";",["T_WHITESPACE","\n            ",444],"}",["T_WHITESPACE","\n            ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$category",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                ",446],["T_VARIABLE","$product",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","setCategory",447],"(",["T_VARIABLE","$category",447],")",";",["T_WHITESPACE","\n                ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_coreRegistry",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","register",448],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$category",448],")",";",["T_WHITESPACE","\n            ",448],"}",["T_WHITESPACE","\n        ",449],"}",["T_WHITESPACE","\n\n        ",450],["T_COMMENT","\/\/ Register current data and dispatch final events\n",452],["T_WHITESPACE","        ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_coreRegistry",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","register",453],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$product",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","_coreRegistry",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","register",454],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$product",454],")",";",["T_WHITESPACE","\n\n        ",454],["T_TRY","try",456],["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_eventManager",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","dispatch",457],"(",["T_WHITESPACE","\n                ",457],["T_CONSTANT_ENCAPSED_STRING","'catalog_controller_product_init_after'",458],",",["T_WHITESPACE","\n                ",458],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$product",459],",",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'controller_action'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$controller",459],"]",["T_WHITESPACE","\n            ",459],")",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE"," ",461],["T_CATCH","catch",461],["T_WHITESPACE"," ",461],"(",["T_NS_SEPARATOR","\\",461],["T_STRING","Magento",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Framework",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Exception",461],["T_NS_SEPARATOR","\\",461],["T_STRING","LocalizedException",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$e",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n            ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_logger",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","critical",462],"(",["T_VARIABLE","$e",462],")",";",["T_WHITESPACE","\n            ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_STRING","false",463],";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$product",466],";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * Prepares product options by buyRequest: retrieves values and assigns them as default.\n     * Also parses and adds product management related values - e.g. qty\n     *\n     * @param ModelProduct $product\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @return Product\n     *\/",469],["T_WHITESPACE","\n    ",476],["T_PUBLIC","public",477],["T_WHITESPACE"," ",477],["T_FUNCTION","function",477],["T_WHITESPACE"," ",477],["T_STRING","prepareProductOptions",477],"(",["T_VARIABLE","$product",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$buyRequest",477],")",["T_WHITESPACE","\n    ",477],"{",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$optionValues",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$product",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","processBuyRequest",479],"(",["T_VARIABLE","$buyRequest",479],")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$optionValues",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","setQty",480],"(",["T_VARIABLE","$buyRequest",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getQty",480],"(",")",")",";",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$product",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","setPreconfiguredValues",481],"(",["T_VARIABLE","$optionValues",481],")",";",["T_WHITESPACE","\n\n        ",481],["T_RETURN","return",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * Process $buyRequest and sets its options before saving configuration to some product item.\n     * This method is used to attach additional parameters to processed buyRequest.\n     *\n     * $params holds parameters of what operation must be performed:\n     * - 'current_config', \\Magento\\Framework\\DataObject or array - current buyRequest\n     *   that configures product in this item, used to restore currently attached files\n     * - 'files_prefix': string[a-z0-9_] - prefix that was added at frontend to names of file inputs,\n     *   so they won't intersect with other submitted options\n     *\n     * @param \\Magento\\Framework\\DataObject|array $buyRequest\n     * @param \\Magento\\Framework\\DataObject|array $params\n     * @return \\Magento\\Framework\\DataObject\n     *\/",486],["T_WHITESPACE","\n    ",499],["T_PUBLIC","public",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","addParamsToBuyRequest",500],"(",["T_VARIABLE","$buyRequest",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$params",500],")",["T_WHITESPACE","\n    ",500],"{",["T_WHITESPACE","\n        ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(",["T_STRING","is_array",502],"(",["T_VARIABLE","$buyRequest",502],")",")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n            ",502],["T_VARIABLE","$buyRequest",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_NEW","new",503],["T_WHITESPACE"," ",503],["T_NS_SEPARATOR","\\",503],["T_STRING","Magento",503],["T_NS_SEPARATOR","\\",503],["T_STRING","Framework",503],["T_NS_SEPARATOR","\\",503],["T_STRING","DataObject",503],"(",["T_VARIABLE","$buyRequest",503],")",";",["T_WHITESPACE","\n        ",503],"}",["T_WHITESPACE","\n        ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_STRING","is_array",505],"(",["T_VARIABLE","$params",505],")",")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$params",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_NEW","new",506],["T_WHITESPACE"," ",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Magento",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Framework",506],["T_NS_SEPARATOR","\\",506],["T_STRING","DataObject",506],"(",["T_VARIABLE","$params",506],")",";",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n\n        ",507],["T_COMMENT","\/\/ Ensure that currentConfig goes as \\Magento\\Framework\\DataObject - for easier work with it later\n",509],["T_WHITESPACE","        ",510],["T_VARIABLE","$currentConfig",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$params",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getCurrentConfig",510],"(",")",";",["T_WHITESPACE","\n        ",510],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$currentConfig",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n            ",511],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_STRING","is_array",512],"(",["T_VARIABLE","$currentConfig",512],")",")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n                ",512],["T_VARIABLE","$params",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","setCurrentConfig",513],"(",["T_NEW","new",513],["T_WHITESPACE"," ",513],["T_NS_SEPARATOR","\\",513],["T_STRING","Magento",513],["T_NS_SEPARATOR","\\",513],["T_STRING","Framework",513],["T_NS_SEPARATOR","\\",513],["T_STRING","DataObject",513],"(",["T_VARIABLE","$currentConfig",513],")",")",";",["T_WHITESPACE","\n            ",513],"}",["T_WHITESPACE"," ",514],["T_ELSEIF","elseif",514],["T_WHITESPACE"," ",514],"(","!",["T_VARIABLE","$currentConfig",514],["T_WHITESPACE"," ",514],["T_INSTANCEOF","instanceof",514],["T_WHITESPACE"," ",514],["T_NS_SEPARATOR","\\",514],["T_STRING","Magento",514],["T_NS_SEPARATOR","\\",514],["T_STRING","Framework",514],["T_NS_SEPARATOR","\\",514],["T_STRING","DataObject",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                ",514],["T_VARIABLE","$params",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","unsCurrentConfig",515],"(",")",";",["T_WHITESPACE","\n            ",515],"}",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n\n        ",517],["T_COMMENT","\/*\n         * Notice that '_processing_params' must always be object to protect processing forged requests\n         * where '_processing_params' comes in $buyRequest as array from user input\n         *\/",519],["T_WHITESPACE","\n        ",522],["T_VARIABLE","$processingParams",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$buyRequest",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getData",523],"(",["T_CONSTANT_ENCAPSED_STRING","'_processing_params'",523],")",";",["T_WHITESPACE","\n        ",523],["T_IF","if",524],["T_WHITESPACE"," ",524],"(","!",["T_VARIABLE","$processingParams",524],["T_WHITESPACE"," ",524],["T_BOOLEAN_OR","||",524],["T_WHITESPACE"," ",524],"!",["T_VARIABLE","$processingParams",524],["T_WHITESPACE"," ",524],["T_INSTANCEOF","instanceof",524],["T_WHITESPACE"," ",524],["T_NS_SEPARATOR","\\",524],["T_STRING","Magento",524],["T_NS_SEPARATOR","\\",524],["T_STRING","Framework",524],["T_NS_SEPARATOR","\\",524],["T_STRING","DataObject",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_VARIABLE","$processingParams",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_NEW","new",525],["T_WHITESPACE"," ",525],["T_NS_SEPARATOR","\\",525],["T_STRING","Magento",525],["T_NS_SEPARATOR","\\",525],["T_STRING","Framework",525],["T_NS_SEPARATOR","\\",525],["T_STRING","DataObject",525],"(",")",";",["T_WHITESPACE","\n            ",525],["T_VARIABLE","$buyRequest",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","setData",526],"(",["T_CONSTANT_ENCAPSED_STRING","'_processing_params'",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$processingParams",526],")",";",["T_WHITESPACE","\n        ",526],"}",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$processingParams",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","addData",528],"(",["T_VARIABLE","$params",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getData",528],"(",")",")",";",["T_WHITESPACE","\n\n        ",528],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$buyRequest",530],";",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n\n    ",531],["T_DOC_COMMENT","\/**\n     * Set flag that shows if Magento has to check product to be saleable (enabled and\/or inStock)\n     *\n     * For instance, during order creation in the backend admin has ability to add any products to order\n     *\n     * @param bool $skipSaleableCheck\n     * @return Product\n     *\/",533],["T_WHITESPACE","\n    ",540],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","setSkipSaleableCheck",541],"(",["T_VARIABLE","$skipSaleableCheck",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","false",541],")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","_skipSaleableCheck",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$skipSaleableCheck",543],";",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Get flag that shows if Magento has to check product to be saleable (enabled and\/or inStock)\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",547],["T_WHITESPACE","\n    ",552],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","getSkipSaleableCheck",553],"(",")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_skipSaleableCheck",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Get masks for auto generation of fields\n     *\n     * @return mixed\n     *\/",558],["T_WHITESPACE","\n    ",562],["T_PUBLIC","public",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","getFieldsAutogenerationMasks",563],"(",")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","scopeConfig",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getValue",565],"(",["T_STRING","Product",565],["T_DOUBLE_COLON","::",565],["T_STRING","XML_PATH_AUTO_GENERATE_MASK",565],",",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'default'",565],")",";",["T_WHITESPACE","\n    ",565],"}",["T_WHITESPACE","\n\n    ",566],["T_DOC_COMMENT","\/**\n     * Retrieve list of attributes that allowed for autogeneration\n     *\n     * @return array\n     *\/",568],["T_WHITESPACE","\n    ",572],["T_PUBLIC","public",573],["T_WHITESPACE"," ",573],["T_FUNCTION","function",573],["T_WHITESPACE"," ",573],["T_STRING","getAttributesAllowedForAutogeneration",573],"(",")",["T_WHITESPACE","\n    ",573],"{",["T_WHITESPACE","\n        ",574],["T_RETURN","return",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_attributeConfig",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","getAttributeNames",575],"(",["T_CONSTANT_ENCAPSED_STRING","'used_in_autogeneration'",575],")",";",["T_WHITESPACE","\n    ",575],"}",["T_WHITESPACE","\n",576],"}",["T_WHITESPACE","\n",577]]