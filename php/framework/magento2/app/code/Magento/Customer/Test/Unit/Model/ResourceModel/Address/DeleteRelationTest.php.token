[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Address",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AbstractModel",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","ObjectManagerHelper",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class AddressTest\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","DeleteRelationTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/** @var  \\Magento\\Customer\\Model\\ResourceModel\\Address\\DeleteRelation *\/",16],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$relation",17],";",["T_WHITESPACE","\n\n    ",17],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","customerFactoryMock",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getMock",21],"(",["T_WHITESPACE","\n            ",21],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Customer",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CustomerFactory",22],["T_DOUBLE_COLON","::",22],["T_CLASS","class",22],",",["T_WHITESPACE","\n            ",22],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",23],"]",",",["T_WHITESPACE","\n            ",23],"[","]",",",["T_WHITESPACE","\n            ",24],["T_CONSTANT_ENCAPSED_STRING","''",25],",",["T_WHITESPACE","\n            ",25],["T_STRING","false",26],["T_WHITESPACE","\n        ",26],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","relation",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"(",["T_NEW","new",28],["T_WHITESPACE"," ",28],["T_STRING","ObjectManagerHelper",28],"(",["T_VARIABLE","$this",28],")",")",["T_OBJECT_OPERATOR","->",28],["T_STRING","getObject",28],"(",["T_WHITESPACE","\n            ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Customer",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Model",29],["T_NS_SEPARATOR","\\",29],["T_STRING","ResourceModel",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Address",29],["T_NS_SEPARATOR","\\",29],["T_STRING","DeleteRelation",29],["T_DOUBLE_COLON","::",29],["T_CLASS","class",29],["T_WHITESPACE","\n        ",29],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @param $addressId\n     * @param $isDefaultBilling\n     * @param $isDefaultShipping\n     * @dataProvider getRelationDataProvider\n     *\/",33],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testDeleteRelation",39],"(",["T_VARIABLE","$addressId",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$isDefaultBilling",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$isDefaultShipping",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_DOC_COMMENT","\/** @var AbstractModel | \\PHPUnit_Framework_MockObject_MockObject $addressModel  *\/",41],["T_WHITESPACE","\n        ",41],["T_VARIABLE","$addressModel",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMockBuilder",42],"(",["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Model",42],["T_NS_SEPARATOR","\\",42],["T_STRING","AbstractModel",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","disableOriginalConstructor",43],"(",")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer | \\PHPUnit_Framework_MockObject_MockObject $customerModel *\/",45],["T_WHITESPACE","\n        ",45],["T_VARIABLE","$customerModel",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMockBuilder",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Customer",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Customer",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","disableOriginalConstructor",47],"(",")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","setMethods",48],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getDefaultBilling'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'getDefaultShipping'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'getId'",48],"]",")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$addressResource",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMockForAbstractClass",51],"(",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ResourceModel",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Db",52],["T_NS_SEPARATOR","\\",52],["T_STRING","AbstractDb",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],",",["T_WHITESPACE","\n            ",52],"[","]",",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","''",54],",",["T_WHITESPACE","\n            ",54],["T_STRING","false",55],",",["T_WHITESPACE","\n            ",55],["T_STRING","false",56],",",["T_WHITESPACE","\n            ",56],["T_STRING","true",57],",",["T_WHITESPACE","\n            ",57],"[",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'getTable'",58],"]",["T_WHITESPACE","\n        ",58],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$connectionMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMockForAbstractClass",60],"(",["T_WHITESPACE","\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","DB",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Adapter",61],["T_NS_SEPARATOR","\\",61],["T_STRING","AdapterInterface",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],",",["T_WHITESPACE","\n            ",61],"[","]",",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","''",63],",",["T_WHITESPACE","\n            ",63],["T_STRING","false",64],",",["T_WHITESPACE","\n            ",64],["T_STRING","false",65],",",["T_WHITESPACE","\n            ",65],["T_STRING","true",66],",",["T_WHITESPACE","\n            ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'quoteInto'",67],"]",["T_WHITESPACE","\n        ",67],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$addressModel",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","expects",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","any",69],"(",")",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'getResource'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","willReturn",69],"(",["T_VARIABLE","$addressResource",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$addressModel",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","any",70],"(",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","method",70],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","willReturn",70],"(",["T_VARIABLE","$addressId",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$addressModel",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","expects",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","any",71],"(",")",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'getIsCustomerSaveTransaction'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","willReturn",71],"(",["T_STRING","false",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$customerModel",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","any",73],"(",")",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","\"getDefaultBilling\"",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","willReturn",73],"(",["T_VARIABLE","$isDefaultBilling",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$customerModel",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","expects",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","any",74],"(",")",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","\"getDefaultShipping\"",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(",["T_VARIABLE","$isDefaultShipping",74],")",";",["T_WHITESPACE","\n\n        ",74],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$addressId",76],["T_WHITESPACE"," ",76],["T_BOOLEAN_AND","&&",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$isDefaultBilling",76],["T_WHITESPACE"," ",76],["T_BOOLEAN_OR","||",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$isDefaultShipping",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$customerId",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$addressResource",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","expects",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","exactly",78],"(",["T_LNUMBER","2",78],")",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","method",78],"(",["T_CONSTANT_ENCAPSED_STRING","'getConnection'",78],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","willReturn",78],"(",["T_VARIABLE","$connectionMock",78],")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$customerModel",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","any",79],"(",")",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","method",79],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","willReturn",79],"(",["T_LNUMBER","1",79],")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$conditionSql",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"\"",["T_ENCAPSED_AND_WHITESPACE","entity_id = ",80],["T_VARIABLE","$customerId",80],"\"",";",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$connectionMock",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","expects",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","once",81],"(",")",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","method",81],"(",["T_CONSTANT_ENCAPSED_STRING","'quoteInto'",81],")",["T_WHITESPACE","\n                ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","with",82],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id = ?'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$customerId",82],")",["T_WHITESPACE","\n                ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","willReturn",83],"(",["T_VARIABLE","$conditionSql",83],")",";",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$addressResource",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","once",84],"(",")",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","method",84],"(",["T_CONSTANT_ENCAPSED_STRING","'getTable'",84],")",["T_WHITESPACE","\n                ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","with",85],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",85],")",["T_WHITESPACE","\n                ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","willReturn",86],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",86],")",";",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$toUpdate",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],"[","]",";",["T_WHITESPACE","\n            ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$isDefaultBilling",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$toUpdate",89],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","null",89],";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n            ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$isDefaultShipping",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$toUpdate",92],"[",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","null",92],";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$connectionMock",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","expects",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","once",94],"(",")",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","method",94],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","with",94],"(",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",95],",",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$toUpdate",96],",",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$conditionSql",97],["T_WHITESPACE","\n            ",97],")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","relation",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","deleteRelation",100],"(",["T_VARIABLE","$addressModel",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$customerModel",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Data provider for processRelation method\n     *\n     * @return array\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","getRelationDataProvider",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],"[",["T_WHITESPACE","\n            ",110],"[",["T_STRING","null",111],",",["T_WHITESPACE"," ",111],["T_STRING","true",111],",",["T_WHITESPACE"," ",111],["T_STRING","true",111],"]",",",["T_WHITESPACE","\n            ",111],"[",["T_LNUMBER","1",112],",",["T_WHITESPACE"," ",112],["T_STRING","true",112],",",["T_WHITESPACE"," ",112],["T_STRING","true",112],"]",",",["T_WHITESPACE","\n            ",112],"[",["T_LNUMBER","1",113],",",["T_WHITESPACE"," ",113],["T_STRING","true",113],",",["T_WHITESPACE"," ",113],["T_STRING","false",113],"]",",",["T_WHITESPACE","\n            ",113],"[",["T_LNUMBER","1",114],",",["T_WHITESPACE"," ",114],["T_STRING","false",114],",",["T_WHITESPACE"," ",114],["T_STRING","true",114],"]",",",["T_WHITESPACE","\n            ",114],"[",["T_LNUMBER","1",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],"]",",",["T_WHITESPACE","\n        ",115],"]",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]