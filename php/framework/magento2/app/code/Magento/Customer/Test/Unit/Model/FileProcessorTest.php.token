[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AddressMetadataInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CustomerMetadataInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FileProcessor",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FileProcessorTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PRIVATE","private",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$filesystem",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\UploaderFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$uploaderFactory",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\UrlInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$urlBuilder",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Url\\EncoderInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$urlEncoder",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Filesystem\\Directory\\WriteInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$mediaDirectory",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\File\\Mime|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$mime",43],";",["T_WHITESPACE","\n\n    ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","mediaDirectory",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMockBuilder",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Filesystem",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Directory",47],["T_NS_SEPARATOR","\\",47],["T_STRING","WriteInterface",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMockForAbstractClass",48],"(",")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","filesystem",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMockBuilder",50],"(",["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Filesystem",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","disableOriginalConstructor",51],"(",")",["T_WHITESPACE","\n            ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMock",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","filesystem",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","expects",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","any",53],"(",")",")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'getDirectoryWrite'",54],")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","with",55],"(",["T_STRING","DirectoryList",55],["T_DOUBLE_COLON","::",55],["T_STRING","MEDIA",55],")",["T_WHITESPACE","\n            ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","willReturn",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","mediaDirectory",56],")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","uploaderFactory",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMockBuilder",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","MediaStorage",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","File",58],["T_NS_SEPARATOR","\\",58],["T_STRING","UploaderFactory",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",["T_WHITESPACE","\n            ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","setMethods",59],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",59],"]",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","disableOriginalConstructor",60],"(",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMock",61],"(",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","urlBuilder",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMockBuilder",63],"(",["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","UrlInterface",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMockForAbstractClass",64],"(",")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","urlEncoder",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMockBuilder",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Url",66],["T_NS_SEPARATOR","\\",66],["T_STRING","EncoderInterface",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockForAbstractClass",67],"(",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","mime",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMockBuilder",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","File",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Mime",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","disableOriginalConstructor",70],"(",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getModel",74],"(",["T_VARIABLE","$entityTypeCode",74],",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$allowedExtensions",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[","]",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$model",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","FileProcessor",76],"(",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","filesystem",77],",",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","uploaderFactory",78],",",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","urlBuilder",79],",",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","urlEncoder",80],",",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$entityTypeCode",81],",",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","mime",82],",",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$allowedExtensions",83],["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$model",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testGetStat",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$fileName",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",90],";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","mediaDirectory",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","once",92],"(",")",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'stat'",93],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","with",94],"(",["T_STRING","CustomerMetadataInterface",94],["T_DOUBLE_COLON","::",94],["T_STRING","ENTITY_TYPE_CUSTOMER",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$fileName",94],")",["T_WHITESPACE","\n            ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","willReturn",95],"(","[",["T_CONSTANT_ENCAPSED_STRING","'size'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_LNUMBER","1",95],"]",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$model",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getModel",97],"(",["T_STRING","CustomerMetadataInterface",97],["T_DOUBLE_COLON","::",97],["T_STRING","ENTITY_TYPE_CUSTOMER",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$result",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$model",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getStat",98],"(",["T_VARIABLE","$fileName",98],")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertTrue",100],"(",["T_STRING","is_array",100],"(",["T_VARIABLE","$result",100],")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertArrayHasKey",101],"(",["T_CONSTANT_ENCAPSED_STRING","'size'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$result",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEquals",102],"(",["T_LNUMBER","1",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$result",102],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",102],"]",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","testIsExist",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$fileName",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",107],";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","mediaDirectory",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'isExist'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","with",111],"(",["T_STRING","CustomerMetadataInterface",111],["T_DOUBLE_COLON","::",111],["T_STRING","ENTITY_TYPE_CUSTOMER",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$fileName",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","willReturn",112],"(",["T_STRING","true",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$model",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getModel",114],"(",["T_STRING","CustomerMetadataInterface",114],["T_DOUBLE_COLON","::",114],["T_STRING","ENTITY_TYPE_CUSTOMER",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertTrue",115],"(",["T_VARIABLE","$model",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","isExist",115],"(",["T_VARIABLE","$fileName",115],")",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testGetViewUrlCustomer",118],"(",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$filePath",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'filename.ext1'",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$encodedFilePath",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'encodedfilenameext1'",121],";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$fileUrl",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'fileUrl'",123],";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","urlEncoder",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","expects",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","once",125],"(",")",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","method",126],"(",["T_CONSTANT_ENCAPSED_STRING","'encode'",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","with",127],"(",["T_VARIABLE","$filePath",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willReturn",128],"(",["T_VARIABLE","$encodedFilePath",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","urlBuilder",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","expects",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","once",130],"(",")",")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","method",131],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",131],")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","with",132],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/index\/viewfile'",132],",",["T_WHITESPACE"," ",132],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$encodedFilePath",132],"]",")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","willReturn",133],"(",["T_VARIABLE","$fileUrl",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$model",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getModel",135],"(",["T_STRING","CustomerMetadataInterface",135],["T_DOUBLE_COLON","::",135],["T_STRING","ENTITY_TYPE_CUSTOMER",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEquals",136],"(",["T_VARIABLE","$fileUrl",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$model",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getViewUrl",136],"(",["T_VARIABLE","$filePath",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'image'",136],")",")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testGetViewUrlCustomerAddress",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$filePath",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'filename.ext1'",141],";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$baseUrl",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'baseUrl'",143],";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$relativeUrl",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'relativeUrl'",144],";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","urlBuilder",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","once",146],"(",")",")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","method",147],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseUrl'",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","with",148],"(","[",["T_CONSTANT_ENCAPSED_STRING","'_type'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Framework",148],["T_NS_SEPARATOR","\\",148],["T_STRING","UrlInterface",148],["T_DOUBLE_COLON","::",148],["T_STRING","URL_TYPE_MEDIA",148],"]",")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","willReturn",149],"(",["T_VARIABLE","$baseUrl",149],")",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","mediaDirectory",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","expects",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","once",151],"(",")",")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","method",152],"(",["T_CONSTANT_ENCAPSED_STRING","'getRelativePath'",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","with",153],"(",["T_STRING","AddressMetadataInterface",153],["T_DOUBLE_COLON","::",153],["T_STRING","ENTITY_TYPE_ADDRESS",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'\/'",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$filePath",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","willReturn",154],"(",["T_VARIABLE","$relativeUrl",154],")",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$model",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getModel",156],"(",["T_STRING","AddressMetadataInterface",156],["T_DOUBLE_COLON","::",156],["T_STRING","ENTITY_TYPE_ADDRESS",156],")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEquals",157],"(",["T_VARIABLE","$baseUrl",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$relativeUrl",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$model",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getViewUrl",157],"(",["T_VARIABLE","$filePath",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'image'",157],")",")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testRemoveUploadedFile",160],"(",")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$fileName",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",162],";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","mediaDirectory",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","expects",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","once",164],"(",")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","method",165],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",165],")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","with",166],"(",["T_STRING","CustomerMetadataInterface",166],["T_DOUBLE_COLON","::",166],["T_STRING","ENTITY_TYPE_CUSTOMER",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$fileName",166],")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","willReturn",167],"(",["T_STRING","true",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$model",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getModel",169],"(",["T_STRING","CustomerMetadataInterface",169],["T_DOUBLE_COLON","::",169],["T_STRING","ENTITY_TYPE_CUSTOMER",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertTrue",170],"(",["T_VARIABLE","$model",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","removeUploadedFile",170],"(",["T_VARIABLE","$fileName",170],")",")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","testSaveTemporaryFile",173],"(",")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$attributeCode",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'img1'",175],";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$allowedExtensions",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"[",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'ext1'",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'ext2'",179],",",["T_WHITESPACE","\n        ",179],"]",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$absolutePath",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'\/absolute\/filepath'",182],";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$expectedResult",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],"[",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'file'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'filename.ext1'",185],",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'path'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'filepath'",186],",",["T_WHITESPACE","\n        ",186],"]",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$uploaderMock",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getMockBuilder",189],"(",["T_NS_SEPARATOR","\\",189],["T_STRING","Magento",189],["T_NS_SEPARATOR","\\",189],["T_STRING","MediaStorage",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Model",189],["T_NS_SEPARATOR","\\",189],["T_STRING","File",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Uploader",189],["T_DOUBLE_COLON","::",189],["T_CLASS","class",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","disableOriginalConstructor",190],"(",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","getMock",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$uploaderMock",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","once",192],"(",")",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'setFilesDispersion'",193],")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","with",194],"(",["T_STRING","false",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","willReturnSelf",195],"(",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$uploaderMock",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","expects",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","once",196],"(",")",")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","method",197],"(",["T_CONSTANT_ENCAPSED_STRING","'setFilenamesCaseSensitivity'",197],")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","with",198],"(",["T_STRING","false",198],")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","willReturnSelf",199],"(",")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$uploaderMock",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","expects",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","once",200],"(",")",")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'setAllowRenameFiles'",201],")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","with",202],"(",["T_STRING","true",202],")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","willReturnSelf",203],"(",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$uploaderMock",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","once",204],"(",")",")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'setAllowedExtensions'",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","with",206],"(",["T_VARIABLE","$allowedExtensions",206],")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","willReturnSelf",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$uploaderMock",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","expects",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","once",208],"(",")",")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","method",209],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",209],")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","with",210],"(",["T_VARIABLE","$absolutePath",210],")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","willReturn",211],"(",["T_VARIABLE","$expectedResult",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","uploaderFactory",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","expects",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","once",213],"(",")",")",["T_WHITESPACE","\n            ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","method",214],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",214],")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","with",215],"(","[",["T_CONSTANT_ENCAPSED_STRING","'fileId'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'customer['",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_VARIABLE","$attributeCode",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","']'",215],"]",")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","willReturn",216],"(",["T_VARIABLE","$uploaderMock",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","mediaDirectory",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'getAbsolutePath'",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","with",220],"(",["T_STRING","CustomerMetadataInterface",220],["T_DOUBLE_COLON","::",220],["T_STRING","ENTITY_TYPE_CUSTOMER",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'\/'",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_STRING","FileProcessor",220],["T_DOUBLE_COLON","::",220],["T_STRING","TMP_DIR",220],")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","willReturn",221],"(",["T_VARIABLE","$absolutePath",221],")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$model",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getModel",223],"(",["T_STRING","CustomerMetadataInterface",223],["T_DOUBLE_COLON","::",223],["T_STRING","ENTITY_TYPE_CUSTOMER",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$allowedExtensions",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$result",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$model",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","saveTemporaryFile",224],"(",["T_CONSTANT_ENCAPSED_STRING","'customer['",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_VARIABLE","$attributeCode",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","']'",224],")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertEquals",226],"(",["T_VARIABLE","$expectedResult",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$result",226],")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage File can not be saved to the destination folder.\n     *\/",229],["T_WHITESPACE","\n    ",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","testSaveTemporaryFileWithError",233],"(",")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$attributeCode",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'img1'",235],";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$allowedExtensions",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],"[",["T_WHITESPACE","\n            ",237],["T_CONSTANT_ENCAPSED_STRING","'ext1'",238],",",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'ext2'",239],",",["T_WHITESPACE","\n        ",239],"]",";",["T_WHITESPACE","\n\n        ",240],["T_VARIABLE","$absolutePath",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'\/absolute\/filepath'",242],";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$uploaderMock",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMockBuilder",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","MediaStorage",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Model",244],["T_NS_SEPARATOR","\\",244],["T_STRING","File",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Uploader",244],["T_DOUBLE_COLON","::",244],["T_CLASS","class",244],")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","disableOriginalConstructor",245],"(",")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","getMock",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$uploaderMock",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","expects",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","once",247],"(",")",")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","method",248],"(",["T_CONSTANT_ENCAPSED_STRING","'setFilesDispersion'",248],")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","with",249],"(",["T_STRING","false",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","willReturnSelf",250],"(",")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$uploaderMock",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","expects",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","once",251],"(",")",")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'setFilenamesCaseSensitivity'",252],")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","with",253],"(",["T_STRING","false",253],")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","willReturnSelf",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$uploaderMock",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","expects",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","once",255],"(",")",")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","method",256],"(",["T_CONSTANT_ENCAPSED_STRING","'setAllowRenameFiles'",256],")",["T_WHITESPACE","\n            ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","with",257],"(",["T_STRING","true",257],")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","willReturnSelf",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$uploaderMock",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","expects",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","once",259],"(",")",")",["T_WHITESPACE","\n            ",259],["T_OBJECT_OPERATOR","->",260],["T_STRING","method",260],"(",["T_CONSTANT_ENCAPSED_STRING","'setAllowedExtensions'",260],")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","with",261],"(",["T_VARIABLE","$allowedExtensions",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","willReturnSelf",262],"(",")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$uploaderMock",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","expects",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","once",263],"(",")",")",["T_WHITESPACE","\n            ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","method",264],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",264],")",["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","with",265],"(",["T_VARIABLE","$absolutePath",265],")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","willReturn",266],"(",["T_STRING","false",266],")",";",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","uploaderFactory",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","expects",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","once",268],"(",")",")",["T_WHITESPACE","\n            ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","method",269],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",269],")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","with",270],"(","[",["T_CONSTANT_ENCAPSED_STRING","'fileId'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'customer['",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$attributeCode",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","']'",270],"]",")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","willReturn",271],"(",["T_VARIABLE","$uploaderMock",271],")",";",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","mediaDirectory",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","expects",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","once",273],"(",")",")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","method",274],"(",["T_CONSTANT_ENCAPSED_STRING","'getAbsolutePath'",274],")",["T_WHITESPACE","\n            ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","with",275],"(",["T_STRING","CustomerMetadataInterface",275],["T_DOUBLE_COLON","::",275],["T_STRING","ENTITY_TYPE_CUSTOMER",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'\/'",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_STRING","FileProcessor",275],["T_DOUBLE_COLON","::",275],["T_STRING","TMP_DIR",275],")",["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","willReturn",276],"(",["T_VARIABLE","$absolutePath",276],")",";",["T_WHITESPACE","\n\n        ",276],["T_VARIABLE","$model",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getModel",278],"(",["T_STRING","CustomerMetadataInterface",278],["T_DOUBLE_COLON","::",278],["T_STRING","ENTITY_TYPE_CUSTOMER",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$allowedExtensions",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$model",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","saveTemporaryFile",279],"(",["T_CONSTANT_ENCAPSED_STRING","'customer['",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_VARIABLE","$attributeCode",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","']'",279],")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Unable to create directory customer\/f\/i\n     *\/",282],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","testMoveTemporaryFileUnableToCreateDirectory",286],"(",")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$filePath",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",288],";",["T_WHITESPACE","\n\n        ",288],["T_VARIABLE","$destinationPath",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'customer\/f\/i'",290],";",["T_WHITESPACE","\n\n        ",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","mediaDirectory",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","expects",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","once",292],"(",")",")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","method",293],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",293],")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","with",294],"(",["T_VARIABLE","$destinationPath",294],")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","willReturn",295],"(",["T_STRING","false",295],")",";",["T_WHITESPACE","\n\n        ",295],["T_VARIABLE","$model",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getModel",297],"(",["T_STRING","CustomerMetadataInterface",297],["T_DOUBLE_COLON","::",297],["T_STRING","ENTITY_TYPE_CUSTOMER",297],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$model",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","moveTemporaryFile",298],"(",["T_VARIABLE","$filePath",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Destination folder is not writable or does not exists\n     *\/",301],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","testMoveTemporaryFileDestinationFolderDoesNotExists",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$filePath",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",307],";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$destinationPath",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'customer\/f\/i'",309],";",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","mediaDirectory",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","expects",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","once",311],"(",")",")",["T_WHITESPACE","\n            ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","method",312],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",312],")",["T_WHITESPACE","\n            ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","with",313],"(",["T_VARIABLE","$destinationPath",313],")",["T_WHITESPACE","\n            ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","willReturn",314],"(",["T_STRING","true",314],")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","mediaDirectory",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","expects",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","once",315],"(",")",")",["T_WHITESPACE","\n            ",315],["T_OBJECT_OPERATOR","->",316],["T_STRING","method",316],"(",["T_CONSTANT_ENCAPSED_STRING","'isWritable'",316],")",["T_WHITESPACE","\n            ",316],["T_OBJECT_OPERATOR","->",317],["T_STRING","with",317],"(",["T_VARIABLE","$destinationPath",317],")",["T_WHITESPACE","\n            ",317],["T_OBJECT_OPERATOR","->",318],["T_STRING","willReturn",318],"(",["T_STRING","false",318],")",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$model",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getModel",320],"(",["T_STRING","CustomerMetadataInterface",320],["T_DOUBLE_COLON","::",320],["T_STRING","ENTITY_TYPE_CUSTOMER",320],")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$model",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","moveTemporaryFile",321],"(",["T_VARIABLE","$filePath",321],")",";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","testMoveTemporaryFile",324],"(",")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$filePath",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",326],";",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$destinationPath",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'customer\/f\/i'",328],";",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","mediaDirectory",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","expects",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","once",330],"(",")",")",["T_WHITESPACE","\n            ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","method",331],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",331],")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","with",332],"(",["T_VARIABLE","$destinationPath",332],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","willReturn",333],"(",["T_STRING","true",333],")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","mediaDirectory",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","expects",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","once",334],"(",")",")",["T_WHITESPACE","\n            ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","method",335],"(",["T_CONSTANT_ENCAPSED_STRING","'isWritable'",335],")",["T_WHITESPACE","\n            ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","with",336],"(",["T_VARIABLE","$destinationPath",336],")",["T_WHITESPACE","\n            ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","willReturn",337],"(",["T_STRING","true",337],")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","mediaDirectory",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","expects",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","once",338],"(",")",")",["T_WHITESPACE","\n            ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","method",339],"(",["T_CONSTANT_ENCAPSED_STRING","'getAbsolutePath'",339],")",["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","with",340],"(",["T_VARIABLE","$destinationPath",340],")",["T_WHITESPACE","\n            ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","willReturn",341],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_VARIABLE","$destinationPath",341],")",";",["T_WHITESPACE","\n\n        ",341],["T_VARIABLE","$path",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","CustomerMetadataInterface",343],["T_DOUBLE_COLON","::",343],["T_STRING","ENTITY_TYPE_CUSTOMER",343],["T_WHITESPACE"," ",343],".",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'\/'",343],["T_WHITESPACE"," ",343],".",["T_WHITESPACE"," ",343],["T_STRING","FileProcessor",343],["T_DOUBLE_COLON","::",343],["T_STRING","TMP_DIR",343],["T_WHITESPACE"," ",343],".",["T_WHITESPACE"," ",343],["T_VARIABLE","$filePath",343],";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$newPath",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$destinationPath",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_VARIABLE","$filePath",344],";",["T_WHITESPACE","\n\n        ",344],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","mediaDirectory",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","expects",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","once",346],"(",")",")",["T_WHITESPACE","\n            ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","method",347],"(",["T_CONSTANT_ENCAPSED_STRING","'renameFile'",347],")",["T_WHITESPACE","\n            ",347],["T_OBJECT_OPERATOR","->",348],["T_STRING","with",348],"(",["T_VARIABLE","$path",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$newPath",348],")",["T_WHITESPACE","\n            ",348],["T_OBJECT_OPERATOR","->",349],["T_STRING","willReturn",349],"(",["T_STRING","true",349],")",";",["T_WHITESPACE","\n\n        ",349],["T_VARIABLE","$model",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getModel",351],"(",["T_STRING","CustomerMetadataInterface",351],["T_DOUBLE_COLON","::",351],["T_STRING","ENTITY_TYPE_CUSTOMER",351],")",";",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","assertEquals",352],"(",["T_CONSTANT_ENCAPSED_STRING","'\/f\/i'",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$filePath",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$model",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","moveTemporaryFile",352],"(",["T_VARIABLE","$filePath",352],")",")",";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Something went wrong while saving the file\n     *\/",355],["T_WHITESPACE","\n    ",358],["T_PUBLIC","public",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","testMoveTemporaryFileWithException",359],"(",")",["T_WHITESPACE","\n    ",359],"{",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$filePath",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",361],";",["T_WHITESPACE","\n\n        ",361],["T_VARIABLE","$destinationPath",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'customer\/f\/i'",363],";",["T_WHITESPACE","\n\n        ",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","mediaDirectory",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","expects",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","once",365],"(",")",")",["T_WHITESPACE","\n            ",365],["T_OBJECT_OPERATOR","->",366],["T_STRING","method",366],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",366],")",["T_WHITESPACE","\n            ",366],["T_OBJECT_OPERATOR","->",367],["T_STRING","with",367],"(",["T_VARIABLE","$destinationPath",367],")",["T_WHITESPACE","\n            ",367],["T_OBJECT_OPERATOR","->",368],["T_STRING","willReturn",368],"(",["T_STRING","true",368],")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","mediaDirectory",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","expects",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","once",369],"(",")",")",["T_WHITESPACE","\n            ",369],["T_OBJECT_OPERATOR","->",370],["T_STRING","method",370],"(",["T_CONSTANT_ENCAPSED_STRING","'isWritable'",370],")",["T_WHITESPACE","\n            ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","with",371],"(",["T_VARIABLE","$destinationPath",371],")",["T_WHITESPACE","\n            ",371],["T_OBJECT_OPERATOR","->",372],["T_STRING","willReturn",372],"(",["T_STRING","true",372],")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","mediaDirectory",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","expects",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","once",373],"(",")",")",["T_WHITESPACE","\n            ",373],["T_OBJECT_OPERATOR","->",374],["T_STRING","method",374],"(",["T_CONSTANT_ENCAPSED_STRING","'getAbsolutePath'",374],")",["T_WHITESPACE","\n            ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","with",375],"(",["T_VARIABLE","$destinationPath",375],")",["T_WHITESPACE","\n            ",375],["T_OBJECT_OPERATOR","->",376],["T_STRING","willReturn",376],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_VARIABLE","$destinationPath",376],")",";",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$path",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_STRING","CustomerMetadataInterface",378],["T_DOUBLE_COLON","::",378],["T_STRING","ENTITY_TYPE_CUSTOMER",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'\/'",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_STRING","FileProcessor",378],["T_DOUBLE_COLON","::",378],["T_STRING","TMP_DIR",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_VARIABLE","$filePath",378],";",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$newPath",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$destinationPath",379],["T_WHITESPACE"," ",379],".",["T_WHITESPACE"," ",379],["T_VARIABLE","$filePath",379],";",["T_WHITESPACE","\n\n        ",379],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","mediaDirectory",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","expects",381],"(",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","once",381],"(",")",")",["T_WHITESPACE","\n            ",381],["T_OBJECT_OPERATOR","->",382],["T_STRING","method",382],"(",["T_CONSTANT_ENCAPSED_STRING","'renameFile'",382],")",["T_WHITESPACE","\n            ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","with",383],"(",["T_VARIABLE","$path",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$newPath",383],")",["T_WHITESPACE","\n            ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","willThrowException",384],"(",["T_NEW","new",384],["T_WHITESPACE"," ",384],["T_NS_SEPARATOR","\\",384],["T_STRING","Exception",384],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception.'",384],")",")",";",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$model",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getModel",386],"(",["T_STRING","CustomerMetadataInterface",386],["T_DOUBLE_COLON","::",386],["T_STRING","ENTITY_TYPE_CUSTOMER",386],")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$model",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","moveTemporaryFile",387],"(",["T_VARIABLE","$filePath",387],")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","testGetMimeType",390],"(",")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$fileName",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'\/filename.ext1'",392],";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$absoluteFilePath",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'\/absolute_path\/customer\/filename.ext1'",393],";",["T_WHITESPACE","\n\n        ",393],["T_VARIABLE","$expected",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'ext1'",395],";",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","mediaDirectory",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","expects",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","once",397],"(",")",")",["T_WHITESPACE","\n            ",397],["T_OBJECT_OPERATOR","->",398],["T_STRING","method",398],"(",["T_CONSTANT_ENCAPSED_STRING","'getAbsolutePath'",398],")",["T_WHITESPACE","\n            ",398],["T_OBJECT_OPERATOR","->",399],["T_STRING","with",399],"(",["T_STRING","CustomerMetadataInterface",399],["T_DOUBLE_COLON","::",399],["T_STRING","ENTITY_TYPE_CUSTOMER",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'\/'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_STRING","ltrim",399],"(",["T_VARIABLE","$fileName",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'\/'",399],")",")",["T_WHITESPACE","\n            ",399],["T_OBJECT_OPERATOR","->",400],["T_STRING","willReturn",400],"(",["T_VARIABLE","$absoluteFilePath",400],")",";",["T_WHITESPACE","\n\n        ",400],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","mime",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","expects",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","once",402],"(",")",")",["T_WHITESPACE","\n            ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","method",403],"(",["T_CONSTANT_ENCAPSED_STRING","'getMimeType'",403],")",["T_WHITESPACE","\n            ",403],["T_OBJECT_OPERATOR","->",404],["T_STRING","with",404],"(",["T_VARIABLE","$absoluteFilePath",404],")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","willReturn",405],"(",["T_VARIABLE","$expected",405],")",";",["T_WHITESPACE","\n\n        ",405],["T_VARIABLE","$model",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getModel",407],"(",["T_STRING","CustomerMetadataInterface",407],["T_DOUBLE_COLON","::",407],["T_STRING","ENTITY_TYPE_CUSTOMER",407],")",";",["T_WHITESPACE","\n\n        ",407],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertEquals",409],"(",["T_VARIABLE","$expected",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$model",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getMimeType",409],"(",["T_VARIABLE","$fileName",409],")",")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n",410],"}",["T_WHITESPACE","\n",411]]