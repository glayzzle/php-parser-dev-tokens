[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_DOC_COMMENT","\/**\n * Test customer ajax login controller\n *\/",9],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Unit",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Controller",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Ajax",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InvalidEmailOrPasswordException",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","LoginTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Controller\\Ajax\\Login\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$object",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Request\\Http|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$request",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResponseInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$response",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$customerSession",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$objectManager",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\AccountManagementInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$customerAccountManagementMock",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Json\\Helper\\Data|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$jsonHelperMock",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\Json|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$resultJson",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\JsonFactory| \\PHPUnit_Framework_MockObject_MockObject\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$resultJsonFactory",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Controller\\Result\\Raw| \\PHPUnit_Framework_MockObject_MockObject\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$resultRaw",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$redirectMock",74],";",["T_WHITESPACE","\n\n    ",74],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","setUp",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","request",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMockBuilder",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","App",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Request",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Http",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","disableOriginalConstructor",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getMock",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","response",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",["T_WHITESPACE","\r\n            ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ResponseInterface",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],",",["T_WHITESPACE","\n            ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'setRedirect'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'sendResponse'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'representJson'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'setHttpResponseCode'",82],"]",",",["T_WHITESPACE","\n            ",82],"[","]",",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","''",84],",",["T_WHITESPACE","\n            ",84],["T_STRING","false",85],["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","customerSession",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",["T_WHITESPACE","\r\n            ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Customer",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Session",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],",",["T_WHITESPACE","\n            ",88],"[",["T_WHITESPACE","\n                ",89],["T_CONSTANT_ENCAPSED_STRING","'isLoggedIn'",90],",",["T_WHITESPACE","\n                ",90],["T_CONSTANT_ENCAPSED_STRING","'getLastCustomerId'",91],",",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'getBeforeAuthUrl'",92],",",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'setBeforeAuthUrl'",93],",",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'setCustomerDataAsLoggedIn'",94],",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'regenerateId'",95],["T_WHITESPACE","\n            ",95],"]",",",["T_WHITESPACE","\n            ",96],"[","]",",",["T_WHITESPACE","\n            ",97],["T_CONSTANT_ENCAPSED_STRING","''",98],",",["T_WHITESPACE","\n            ",98],["T_STRING","false",99],["T_WHITESPACE","\n        ",99],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","objectManager",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMock",101],"(",["T_WHITESPACE","\r\n            ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","ObjectManager",102],["T_NS_SEPARATOR","\\",102],["T_STRING","ObjectManager",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],",",["T_WHITESPACE","\n            ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'get'",103],"]",",",["T_WHITESPACE","\n            ",103],"[","]",",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","''",105],",",["T_WHITESPACE","\n            ",105],["T_STRING","false",106],["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","customerAccountManagementMock",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMock",109],"(",["T_WHITESPACE","\r\n                ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Customer",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","AccountManagement",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],",",["T_WHITESPACE","\n                ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'authenticate'",111],"]",",",["T_WHITESPACE","\n                ",111],"[","]",",",["T_WHITESPACE","\n                ",112],["T_CONSTANT_ENCAPSED_STRING","''",113],",",["T_WHITESPACE","\n                ",113],["T_STRING","false",114],["T_WHITESPACE","\n            ",114],")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","jsonHelperMock",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMock",117],"(",["T_WHITESPACE","\r\n            ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Json",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Helper",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Data",118],["T_DOUBLE_COLON","::",118],["T_CLASS","class",118],",",["T_WHITESPACE","\n            ",118],"[",["T_CONSTANT_ENCAPSED_STRING","'jsonDecode'",119],"]",",",["T_WHITESPACE","\n            ",119],"[","]",",",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","''",121],",",["T_WHITESPACE","\n            ",121],["T_STRING","false",122],["T_WHITESPACE","\n        ",122],")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","resultJson",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMockBuilder",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Framework",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Controller",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Result",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Json",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","disableOriginalConstructor",126],"(",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMock",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","resultJsonFactory",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMockBuilder",128],"(",["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Framework",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Controller",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Result",128],["T_NS_SEPARATOR","\\",128],["T_STRING","JsonFactory",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","disableOriginalConstructor",129],"(",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","setMethods",130],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",130],"]",")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","getMock",131],"(",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","resultRaw",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMockBuilder",133],"(",["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Controller",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Result",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Raw",133],["T_DOUBLE_COLON","::",133],["T_CLASS","class",133],")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","disableOriginalConstructor",134],"(",")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMock",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$resultRawFactory",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getMockBuilder",136],"(",["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Framework",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Controller",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Result",136],["T_NS_SEPARATOR","\\",136],["T_STRING","RawFactory",136],["T_DOUBLE_COLON","::",136],["T_CLASS","class",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","disableOriginalConstructor",137],"(",")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","setMethods",138],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",138],"]",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMock",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$resultRawFactory",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","atLeastOnce",140],"(",")",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",141],")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","resultRaw",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$contextMock",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMock",144],"(",["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Framework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","App",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Action",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Context",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],",",["T_WHITESPACE"," ",144],"[","]",",",["T_WHITESPACE"," ",144],"[","]",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","''",144],",",["T_WHITESPACE"," ",144],["T_STRING","false",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","redirectMock",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMock",145],"(",["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Framework",145],["T_NS_SEPARATOR","\\",145],["T_STRING","App",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Response",145],["T_NS_SEPARATOR","\\",145],["T_STRING","RedirectInterface",145],["T_DOUBLE_COLON","::",145],["T_CLASS","class",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$contextMock",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","atLeastOnce",146],"(",")",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'getRedirect'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","willReturn",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","redirectMock",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$contextMock",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","expects",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","atLeastOnce",147],"(",")",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","method",147],"(",["T_CONSTANT_ENCAPSED_STRING","'getRequest'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","willReturn",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","request",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$objectManager",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Framework",149],["T_NS_SEPARATOR","\\",149],["T_STRING","TestFramework",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Unit",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Helper",149],["T_NS_SEPARATOR","\\",149],["T_STRING","ObjectManager",149],"(",["T_VARIABLE","$this",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","object",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$objectManager",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getObject",150],"(",["T_WHITESPACE","\r\n            ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Customer",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Controller",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Ajax",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Login",151],["T_DOUBLE_COLON","::",151],["T_CLASS","class",151],",",["T_WHITESPACE","\n            ",151],"[",["T_WHITESPACE","\n                ",152],["T_CONSTANT_ENCAPSED_STRING","'context'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$contextMock",153],",",["T_WHITESPACE","\n                ",153],["T_CONSTANT_ENCAPSED_STRING","'customerSession'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","customerSession",154],",",["T_WHITESPACE","\n                ",154],["T_CONSTANT_ENCAPSED_STRING","'helper'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","jsonHelperMock",155],",",["T_WHITESPACE","\n                ",155],["T_CONSTANT_ENCAPSED_STRING","'response'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","response",156],",",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'resultRawFactory'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$resultRawFactory",157],",",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'resultJsonFactory'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","resultJsonFactory",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'objectManager'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","objectManager",159],",",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'customerAccountManagement'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","customerAccountManagementMock",160],",",["T_WHITESPACE","\n            ",160],"]",["T_WHITESPACE","\n        ",161],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","testLogin",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$jsonRequest",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'{\"username\":\"customer@example.com\", \"password\":\"password\"}'",167],";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$loginSuccessResponse",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'{\"errors\": false, \"message\":\"Login successful.\"}'",168],";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","request",170],["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","expects",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","any",171],"(",")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'getContent'",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(",["T_VARIABLE","$jsonRequest",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","request",175],["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","expects",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","any",176],"(",")",")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","method",177],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",177],")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","willReturn",178],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",178],")",";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","request",180],["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","expects",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","any",181],"(",")",")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","method",182],"(",["T_CONSTANT_ENCAPSED_STRING","'isXmlHttpRequest'",182],")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","willReturn",183],"(",["T_STRING","true",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","resultJsonFactory",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","atLeastOnce",185],"(",")",")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",186],")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","willReturn",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","resultJson",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","jsonHelperMock",189],["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","any",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'jsonDecode'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","with",192],"(",["T_VARIABLE","$jsonRequest",192],")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","willReturn",193],"(","[",["T_CONSTANT_ENCAPSED_STRING","'username'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'password'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'password'",193],"]",")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$customerMock",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getMockForAbstractClass",195],"(",["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Customer",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Api",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Data",195],["T_NS_SEPARATOR","\\",195],["T_STRING","CustomerInterface",195],["T_DOUBLE_COLON","::",195],["T_CLASS","class",195],")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","customerAccountManagementMock",196],["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","expects",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","any",197],"(",")",")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","method",198],"(",["T_CONSTANT_ENCAPSED_STRING","'authenticate'",198],")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","with",199],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'password'",199],")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","willReturn",200],"(",["T_VARIABLE","$customerMock",200],")",";",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","customerSession",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","expects",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","once",202],"(",")",")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","method",203],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerDataAsLoggedIn'",203],")",["T_WHITESPACE","\n            ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","with",204],"(",["T_VARIABLE","$customerMock",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","customerSession",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","expects",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","once",206],"(",")",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'regenerateId'",206],")",";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$redirectMock",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getMock",208],"(",["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Customer",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Model",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Account",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Redirect",208],["T_DOUBLE_COLON","::",208],["T_CLASS","class",208],",",["T_WHITESPACE"," ",208],"[","]",",",["T_WHITESPACE"," ",208],"[","]",",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","''",208],",",["T_WHITESPACE"," ",208],["T_STRING","false",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","object",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","setAccountRedirect",209],"(",["T_VARIABLE","$redirectMock",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$redirectMock",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","once",210],"(",")",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","method",210],"(",["T_CONSTANT_ENCAPSED_STRING","'getRedirectCookie'",210],")",["T_OBJECT_OPERATOR","->",210],["T_STRING","willReturn",210],"(",["T_CONSTANT_ENCAPSED_STRING","'some_url1'",210],")",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$scopeConfigMock",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMock",212],"(",["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Framework",212],["T_NS_SEPARATOR","\\",212],["T_STRING","App",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Config",212],["T_NS_SEPARATOR","\\",212],["T_STRING","ScopeConfigInterface",212],["T_DOUBLE_COLON","::",212],["T_CLASS","class",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","object",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setScopeConfig",213],"(",["T_VARIABLE","$scopeConfigMock",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$scopeConfigMock",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","expects",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","once",214],"(",")",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","method",214],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",214],")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","with",215],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/startup\/redirect_dashboard'",215],")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","willReturn",216],"(",["T_LNUMBER","0",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","redirectMock",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","method",218],"(",["T_CONSTANT_ENCAPSED_STRING","'success'",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","willReturn",218],"(",["T_CONSTANT_ENCAPSED_STRING","'some_url2'",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","resultRaw",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","expects",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","never",219],"(",")",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'setHttpResponseCode'",219],")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$result",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],"[",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'errors'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_STRING","false",222],",",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'message'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_STRING","__",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Login successful.'",223],")",",",["T_WHITESPACE","\n            ",223],["T_CONSTANT_ENCAPSED_STRING","'redirectUrl'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'some_url2'",224],",",["T_WHITESPACE","\n        ",224],"]",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","resultJson",227],["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","once",228],"(",")",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","with",230],"(",["T_VARIABLE","$result",230],")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","willReturn",231],"(",["T_VARIABLE","$loginSuccessResponse",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertEquals",232],"(",["T_VARIABLE","$loginSuccessResponse",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","object",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","execute",232],"(",")",")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","testLoginFailure",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$jsonRequest",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'{\"username\":\"invalid@example.com\", \"password\":\"invalid\"}'",237],";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$loginFailureResponse",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'{\"message\":\"Invalid login or password.\"}'",238],";",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","request",240],["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","expects",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","any",241],"(",")",")",["T_WHITESPACE","\n            ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","method",242],"(",["T_CONSTANT_ENCAPSED_STRING","'getContent'",242],")",["T_WHITESPACE","\n            ",242],["T_OBJECT_OPERATOR","->",243],["T_STRING","willReturn",243],"(",["T_VARIABLE","$jsonRequest",243],")",";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","request",245],["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","expects",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","any",246],"(",")",")",["T_WHITESPACE","\n            ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","method",247],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethod'",247],")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","willReturn",248],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",248],")",";",["T_WHITESPACE","\n\n        ",248],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","request",250],["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","expects",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","any",251],"(",")",")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'isXmlHttpRequest'",252],")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","willReturn",253],"(",["T_STRING","true",253],")",";",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","resultJsonFactory",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","expects",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","once",255],"(",")",")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","method",256],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",256],")",["T_WHITESPACE","\n            ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","willReturn",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","resultJson",257],")",";",["T_WHITESPACE","\n\n        ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","jsonHelperMock",259],["T_WHITESPACE","\n            ",259],["T_OBJECT_OPERATOR","->",260],["T_STRING","expects",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","any",260],"(",")",")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],"(",["T_CONSTANT_ENCAPSED_STRING","'jsonDecode'",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","with",262],"(",["T_VARIABLE","$jsonRequest",262],")",["T_WHITESPACE","\n            ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","willReturn",263],"(","[",["T_CONSTANT_ENCAPSED_STRING","'username'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'invalid@example.com'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'password'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'invalid'",263],"]",")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$customerMock",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getMockForAbstractClass",265],"(",["T_NS_SEPARATOR","\\",265],["T_STRING","Magento",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Customer",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Api",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Data",265],["T_NS_SEPARATOR","\\",265],["T_STRING","CustomerInterface",265],["T_DOUBLE_COLON","::",265],["T_CLASS","class",265],")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","customerAccountManagementMock",266],["T_WHITESPACE","\n            ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","expects",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","any",267],"(",")",")",["T_WHITESPACE","\n            ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","method",268],"(",["T_CONSTANT_ENCAPSED_STRING","'authenticate'",268],")",["T_WHITESPACE","\n            ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","with",269],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid@example.com'",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'invalid'",269],")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","willThrowException",270],"(",["T_NEW","new",270],["T_WHITESPACE"," ",270],["T_STRING","InvalidEmailOrPasswordException",270],"(",["T_STRING","__",270],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid login or password.'",270],")",")",")",";",["T_WHITESPACE","\n\n        ",270],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","customerSession",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","expects",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","never",272],"(",")",")",["T_WHITESPACE","\n            ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","method",273],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerDataAsLoggedIn'",273],")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","with",274],"(",["T_VARIABLE","$customerMock",274],")",";",["T_WHITESPACE","\n\n        ",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","customerSession",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","expects",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","never",276],"(",")",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","method",276],"(",["T_CONSTANT_ENCAPSED_STRING","'regenerateId'",276],")",";",["T_WHITESPACE","\n\n        ",276],["T_VARIABLE","$result",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],"[",["T_WHITESPACE","\n            ",278],["T_CONSTANT_ENCAPSED_STRING","'errors'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING","true",279],",",["T_WHITESPACE","\n            ",279],["T_CONSTANT_ENCAPSED_STRING","'message'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","__",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid login or password.'",280],")",["T_WHITESPACE","\n        ",280],"]",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","resultJson",282],["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","expects",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","once",283],"(",")",")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","method",284],"(",["T_CONSTANT_ENCAPSED_STRING","'setData'",284],")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","with",285],"(",["T_VARIABLE","$result",285],")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","willReturn",286],"(",["T_VARIABLE","$loginFailureResponse",286],")",";",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertEquals",288],"(",["T_VARIABLE","$loginFailureResponse",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","object",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","execute",288],"(",")",")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n",289],"}",["T_WHITESPACE","\n",290]]