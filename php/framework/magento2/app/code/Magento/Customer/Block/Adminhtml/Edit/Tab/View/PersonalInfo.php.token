[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Edit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tab",6],["T_NS_SEPARATOR","\\",6],["T_STRING","View",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AccountManagementInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RegistryConstants",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Address",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mapper",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NoSuchEntityException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Adminhtml customer view personal information sales block.\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","PersonalInfo",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Backend",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Block",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Template",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Interval in minutes that shows how long customer will be marked 'Online'\n     * since his last activity. Used only if it's impossible to get such setting\n     * from configuration.\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","DEFAULT_ONLINE_MINUTES_INTERVAL",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_LNUMBER","15",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Customer\n     *\n     * @var \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$customer",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Customer log\n     *\n     * @var \\Magento\\Customer\\Model\\Log\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$customerLog",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Customer logger\n     *\n     * @var \\Magento\\Customer\\Model\\Logger\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$customerLogger",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Customer registry\n     *\n     * @var \\Magento\\Customer\\Model\\CustomerRegistry\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$customerRegistry",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Account management\n     *\n     * @var AccountManagementInterface\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$accountManagement",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Customer group repository\n     *\n     * @var \\Magento\\Customer\\Api\\GroupRepositoryInterface\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$groupRepository",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Customer data factory\n     *\n     * @var \\Magento\\Customer\\Api\\Data\\CustomerInterfaceFactory\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$customerDataFactory",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Address helper\n     *\n     * @var \\Magento\\Customer\\Helper\\Address\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$addressHelper",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Date time\n     *\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$dateTime",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$coreRegistry",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Address mapper\n     *\n     * @var Mapper\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$addressMapper",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Data object helper\n     *\n     * @var \\Magento\\Framework\\Api\\DataObjectHelper\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$dataObjectHelper",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\Block\\Template\\Context $context\n     * @param AccountManagementInterface $accountManagement\n     * @param \\Magento\\Customer\\Api\\GroupRepositoryInterface $groupRepository\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterfaceFactory $customerDataFactory\n     * @param \\Magento\\Customer\\Helper\\Address $addressHelper\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param Mapper $addressMapper\n     * @param \\Magento\\Framework\\Api\\DataObjectHelper $dataObjectHelper\n     * @param \\Magento\\Customer\\Model\\Logger $customerLogger\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",112],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","__construct",126],"(",["T_WHITESPACE","\n        ",126],["T_NS_SEPARATOR","\\",127],["T_STRING","Magento",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Backend",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Block",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Template",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Context",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$context",127],",",["T_WHITESPACE","\n        ",127],["T_STRING","AccountManagementInterface",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$accountManagement",128],",",["T_WHITESPACE","\n        ",128],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Customer",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Api",129],["T_NS_SEPARATOR","\\",129],["T_STRING","GroupRepositoryInterface",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$groupRepository",129],",",["T_WHITESPACE","\n        ",129],["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Customer",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Api",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Data",130],["T_NS_SEPARATOR","\\",130],["T_STRING","CustomerInterfaceFactory",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$customerDataFactory",130],",",["T_WHITESPACE","\n        ",130],["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Customer",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Helper",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Address",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$addressHelper",131],",",["T_WHITESPACE","\n        ",131],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Framework",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Stdlib",132],["T_NS_SEPARATOR","\\",132],["T_STRING","DateTime",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$dateTime",132],",",["T_WHITESPACE","\n        ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Registry",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$registry",133],",",["T_WHITESPACE","\n        ",133],["T_STRING","Mapper",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$addressMapper",134],",",["T_WHITESPACE","\n        ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Framework",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Api",135],["T_NS_SEPARATOR","\\",135],["T_STRING","DataObjectHelper",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$dataObjectHelper",135],",",["T_WHITESPACE","\n        ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Customer",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Model",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Logger",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$customerLogger",136],",",["T_WHITESPACE","\n        ",136],["T_ARRAY","array",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[","]",["T_WHITESPACE","\n    ",137],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","coreRegistry",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$registry",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","accountManagement",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$accountManagement",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","groupRepository",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$groupRepository",141],";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","customerDataFactory",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$customerDataFactory",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","addressHelper",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$addressHelper",143],";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","dateTime",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$dateTime",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","addressMapper",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$addressMapper",145],";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","dataObjectHelper",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$dataObjectHelper",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","customerLogger",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$customerLogger",147],";",["T_WHITESPACE","\n\n        ",147],["T_STRING","parent",149],["T_DOUBLE_COLON","::",149],["T_STRING","__construct",149],"(",["T_VARIABLE","$context",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$data",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Set customer registry\n     *\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @return void\n     * @deprecated\n     *\/",152],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","setCustomerRegistry",159],"(",["T_NS_SEPARATOR","\\",159],["T_STRING","Magento",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Customer",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Model",159],["T_NS_SEPARATOR","\\",159],["T_STRING","CustomerRegistry",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$customerRegistry",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","customerRegistry",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$customerRegistry",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Get customer registry\n     *\n     * @return \\Magento\\Customer\\Model\\CustomerRegistry\n     * @deprecated\n     *\/",165],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getCustomerRegistry",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n\n        ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!","(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","customerRegistry",174],["T_WHITESPACE"," ",174],["T_INSTANCEOF","instanceof",174],["T_WHITESPACE"," ",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Customer",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Model",174],["T_NS_SEPARATOR","\\",174],["T_STRING","CustomerRegistry",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Framework",175],["T_NS_SEPARATOR","\\",175],["T_STRING","App",175],["T_NS_SEPARATOR","\\",175],["T_STRING","ObjectManager",175],["T_DOUBLE_COLON","::",175],["T_STRING","getInstance",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","get",175],"(",["T_WHITESPACE","\n                ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Customer",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","CustomerRegistry",176],["T_DOUBLE_COLON","::",176],["T_CLASS","class",176],["T_WHITESPACE","\n            ",176],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE"," ",178],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","customerRegistry",179],";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Retrieve customer object\n     *\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     *\/",183],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","getCustomer",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","!",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","customer",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","customer",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","customerDataFactory",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","create",191],"(",")",";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","dataObjectHelper",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","populateWithArray",192],"(",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","customer",193],",",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_backendSession",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getCustomerData",194],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'account'",194],"]",",",["T_WHITESPACE","\n                ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Customer",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Api",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Data",195],["T_NS_SEPARATOR","\\",195],["T_STRING","CustomerInterface",195],["T_DOUBLE_COLON","::",195],["T_CLASS","class",195],["T_WHITESPACE","\n            ",195],")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","customer",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Retrieve customer id\n     *\n     * @return string|null\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getCustomerId",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","coreRegistry",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","registry",208],"(",["T_STRING","RegistryConstants",208],["T_DOUBLE_COLON","::",208],["T_STRING","CURRENT_CUSTOMER_ID",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Retrieves customer log model\n     *\n     * @return \\Magento\\Customer\\Model\\Log\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PROTECTED","protected",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getCustomerLog",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","customerLog",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","customerLog",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","customerLogger",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","get",219],"(",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getCustomer",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getId",220],"(",")",["T_WHITESPACE","\n            ",220],")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","customerLog",224],";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Returns customer's created date in the assigned store\n     *\n     * @return string\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","getStoreCreateDate",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$createdAt",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getCustomer",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getCreatedAt",234],"(",")",";",["T_WHITESPACE","\n        ",234],["T_TRY","try",235],["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","formatDate",236],"(",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$createdAt",237],",",["T_WHITESPACE","\n                ",237],["T_NS_SEPARATOR","\\",238],["T_STRING","IntlDateFormatter",238],["T_DOUBLE_COLON","::",238],["T_STRING","MEDIUM",238],",",["T_WHITESPACE","\n                ",238],["T_STRING","true",239],",",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getStoreCreateDateTimezone",240],"(",")",["T_WHITESPACE","\n            ",240],")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE"," ",242],["T_CATCH","catch",242],["T_WHITESPACE"," ",242],"(",["T_NS_SEPARATOR","\\",242],["T_STRING","Exception",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$e",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_logger",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","critical",243],"(",["T_VARIABLE","$e",243],")",";",["T_WHITESPACE","\n            ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","''",244],";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Retrieve store default timezone from configuration\n     *\n     * @return string\n     *\/",248],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","getStoreCreateDateTimezone",253],"(",")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_scopeConfig",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getValue",255],"(",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_localeDate",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getDefaultTimezonePath",256],"(",")",",",["T_WHITESPACE","\n            ",256],["T_NS_SEPARATOR","\\",257],["T_STRING","Magento",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Store",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Model",257],["T_NS_SEPARATOR","\\",257],["T_STRING","ScopeInterface",257],["T_DOUBLE_COLON","::",257],["T_STRING","SCOPE_STORE",257],",",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getCustomer",258],"(",")",["T_OBJECT_OPERATOR","->",258],["T_STRING","getStoreId",258],"(",")",["T_WHITESPACE","\n        ",258],")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Get customer creation date\n     *\n     * @return string\n     *\/",262],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getCreateDate",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","formatDate",269],"(",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getCustomer",270],"(",")",["T_OBJECT_OPERATOR","->",270],["T_STRING","getCreatedAt",270],"(",")",",",["T_WHITESPACE","\n            ",270],["T_NS_SEPARATOR","\\",271],["T_STRING","IntlDateFormatter",271],["T_DOUBLE_COLON","::",271],["T_STRING","MEDIUM",271],",",["T_WHITESPACE","\n            ",271],["T_STRING","true",272],["T_WHITESPACE","\n        ",272],")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Check if account is confirmed\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",276],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","getIsConfirmedStatus",281],"(",")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$id",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getCustomerId",283],"(",")",";",["T_WHITESPACE","\n        ",283],["T_SWITCH","switch",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","accountManagement",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getConfirmationStatus",284],"(",["T_VARIABLE","$id",284],")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_CASE","case",285],["T_WHITESPACE"," ",285],["T_STRING","AccountManagementInterface",285],["T_DOUBLE_COLON","::",285],["T_STRING","ACCOUNT_CONFIRMED",285],":",["T_WHITESPACE","\n                ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","__",286],"(",["T_CONSTANT_ENCAPSED_STRING","'Confirmed'",286],")",";",["T_WHITESPACE","\n            ",286],["T_CASE","case",287],["T_WHITESPACE"," ",287],["T_STRING","AccountManagementInterface",287],["T_DOUBLE_COLON","::",287],["T_STRING","ACCOUNT_CONFIRMATION_REQUIRED",287],":",["T_WHITESPACE","\n                ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_STRING","__",288],"(",["T_CONSTANT_ENCAPSED_STRING","'Confirmation Required'",288],")",";",["T_WHITESPACE","\n            ",288],["T_CASE","case",289],["T_WHITESPACE"," ",289],["T_STRING","AccountManagementInterface",289],["T_DOUBLE_COLON","::",289],["T_STRING","ACCOUNT_CONFIRMATION_NOT_REQUIRED",289],":",["T_WHITESPACE","\n                ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_STRING","__",290],"(",["T_CONSTANT_ENCAPSED_STRING","'Confirmation Not Required'",290],")",";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_STRING","__",292],"(",["T_CONSTANT_ENCAPSED_STRING","'Indeterminate'",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Retrieve store\n     *\n     * @return null|string\n     *\/",295],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","getCreatedInStore",300],"(",")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_storeManager",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getStore",302],"(",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getCustomer",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","getStoreId",303],"(",")",["T_WHITESPACE","\n        ",303],")",["T_OBJECT_OPERATOR","->",304],["T_STRING","getName",304],"(",")",";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Retrieve billing address html\n     *\n     * @return \\Magento\\Framework\\Phrase|string\n     *\/",307],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","getBillingAddressHtml",312],"(",")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_TRY","try",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$address",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","accountManagement",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getDefaultBillingAddress",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getCustomer",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","getId",315],"(",")",")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE"," ",316],["T_CATCH","catch",316],["T_WHITESPACE"," ",316],"(",["T_STRING","NoSuchEntityException",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$e",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_STRING","__",317],"(",["T_CONSTANT_ENCAPSED_STRING","'The customer does not have default billing address.'",317],")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n\n        ",318],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$address",320],["T_WHITESPACE"," ",320],["T_IS_IDENTICAL","===",320],["T_WHITESPACE"," ",320],["T_STRING","null",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_STRING","__",321],"(",["T_CONSTANT_ENCAPSED_STRING","'The customer does not have default billing address.'",321],")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","addressHelper",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getFormatTypeRenderer",324],"(",["T_WHITESPACE","\n            ",324],["T_CONSTANT_ENCAPSED_STRING","'html'",325],["T_WHITESPACE","\n        ",325],")",["T_OBJECT_OPERATOR","->",326],["T_STRING","renderArray",326],"(",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","addressMapper",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","toFlatArray",327],"(",["T_VARIABLE","$address",327],")",["T_WHITESPACE","\n        ",327],")",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Retrieve group name\n     *\n     * @return string|null\n     *\/",331],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getGroupName",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$customer",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getCustomer",338],"(",")",";",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$groupId",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$customer",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getId",339],"(",")",["T_WHITESPACE"," ",339],"?",["T_WHITESPACE"," ",339],["T_VARIABLE","$customer",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getGroupId",339],"(",")",["T_WHITESPACE"," ",339],":",["T_WHITESPACE"," ",339],["T_STRING","null",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$group",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getGroup",340],"(",["T_VARIABLE","$groupId",340],")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$group",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getCode",341],"(",")",";",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n\n        ",343],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_STRING","null",345],";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Retrieve customer group by id\n     *\n     * @param int $groupId\n     * @return \\Magento\\Customer\\Api\\Data\\GroupInterface|null\n     *\/",348],["T_WHITESPACE","\n    ",353],["T_PRIVATE","private",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","getGroup",354],"(",["T_VARIABLE","$groupId",354],")",["T_WHITESPACE","\n    ",354],"{",["T_WHITESPACE","\n        ",355],["T_TRY","try",356],["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$group",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","groupRepository",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getById",357],"(",["T_VARIABLE","$groupId",357],")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE"," ",358],["T_CATCH","catch",358],["T_WHITESPACE"," ",358],"(",["T_STRING","NoSuchEntityException",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$e",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$group",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","null",359],";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$group",361],";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Returns timezone of the store to which customer assigned.\n     *\n     * @return string\n     *\/",364],["T_WHITESPACE","\n    ",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","getStoreLastLoginDateTimezone",369],"(",")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_scopeConfig",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getValue",371],"(",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_localeDate",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getDefaultTimezonePath",372],"(",")",",",["T_WHITESPACE","\n            ",372],["T_NS_SEPARATOR","\\",373],["T_STRING","Magento",373],["T_NS_SEPARATOR","\\",373],["T_STRING","Store",373],["T_NS_SEPARATOR","\\",373],["T_STRING","Model",373],["T_NS_SEPARATOR","\\",373],["T_STRING","ScopeInterface",373],["T_DOUBLE_COLON","::",373],["T_STRING","SCOPE_STORE",373],",",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getCustomer",374],"(",")",["T_OBJECT_OPERATOR","->",374],["T_STRING","getStoreId",374],"(",")",["T_WHITESPACE","\n        ",374],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Get customer's current status.\n     *\n     * Customer considered 'Offline' in the next cases:\n     *\n     * - customer has never been logged in;\n     * - customer clicked 'Log Out' link\\button;\n     * - predefined interval has passed since customer's last activity.\n     *\n     * In all other cases customer considered 'Online'.\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",378],["T_WHITESPACE","\n    ",390],["T_PUBLIC","public",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","getCurrentStatus",391],"(",")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$lastLoginTime",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getCustomerLog",393],"(",")",["T_OBJECT_OPERATOR","->",393],["T_STRING","getLastLoginAt",393],"(",")",";",["T_WHITESPACE","\n\n        ",393],["T_COMMENT","\/\/ Customer has never been logged in.\n",395],["T_WHITESPACE","        ",396],["T_IF","if",396],["T_WHITESPACE"," ",396],"(","!",["T_VARIABLE","$lastLoginTime",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_STRING","__",397],"(",["T_CONSTANT_ENCAPSED_STRING","'Offline'",397],")",";",["T_WHITESPACE","\n        ",397],"}",["T_WHITESPACE","\n\n        ",398],["T_VARIABLE","$lastLogoutTime",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","getCustomerLog",400],"(",")",["T_OBJECT_OPERATOR","->",400],["T_STRING","getLastLogoutAt",400],"(",")",";",["T_WHITESPACE","\n\n        ",400],["T_COMMENT","\/\/ Customer clicked 'Log Out' link\\button.\n",402],["T_WHITESPACE","        ",403],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$lastLogoutTime",403],["T_WHITESPACE"," ",403],["T_BOOLEAN_AND","&&",403],["T_WHITESPACE"," ",403],["T_STRING","strtotime",403],"(",["T_VARIABLE","$lastLogoutTime",403],")",["T_WHITESPACE"," ",403],">",["T_WHITESPACE"," ",403],["T_STRING","strtotime",403],"(",["T_VARIABLE","$lastLoginTime",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_STRING","__",404],"(",["T_CONSTANT_ENCAPSED_STRING","'Offline'",404],")",";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n\n        ",405],["T_COMMENT","\/\/ Predefined interval has passed since customer's last activity.\n",407],["T_WHITESPACE","        ",408],["T_VARIABLE","$interval",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getOnlineMinutesInterval",408],"(",")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$currentTimestamp",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],"(",["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_NS_SEPARATOR","\\",409],["T_STRING","DateTime",409],"(",")",")",["T_OBJECT_OPERATOR","->",409],["T_STRING","getTimestamp",409],"(",")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$lastVisitTime",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getCustomerLog",410],"(",")",["T_OBJECT_OPERATOR","->",410],["T_STRING","getLastVisitAt",410],"(",")",";",["T_WHITESPACE","\n\n        ",410],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$lastVisitTime",412],["T_WHITESPACE"," ",412],["T_BOOLEAN_AND","&&",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$currentTimestamp",412],["T_WHITESPACE"," ",412],"-",["T_WHITESPACE"," ",412],["T_STRING","strtotime",412],"(",["T_VARIABLE","$lastVisitTime",412],")",["T_WHITESPACE"," ",412],">",["T_WHITESPACE"," ",412],["T_VARIABLE","$interval",412],["T_WHITESPACE"," ",412],"*",["T_WHITESPACE"," ",412],["T_LNUMBER","60",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_STRING","__",413],"(",["T_CONSTANT_ENCAPSED_STRING","'Offline'",413],")",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n\n        ",414],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_STRING","__",416],"(",["T_CONSTANT_ENCAPSED_STRING","'Online'",416],")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Get customer last login date.\n     *\n     * @return \\Magento\\Framework\\Phrase|string\n     *\/",419],["T_WHITESPACE","\n    ",423],["T_PUBLIC","public",424],["T_WHITESPACE"," ",424],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","getLastLoginDate",424],"(",")",["T_WHITESPACE","\n    ",424],"{",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$date",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getCustomerLog",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","getLastLoginAt",426],"(",")",";",["T_WHITESPACE","\n\n        ",426],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$date",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","formatDate",429],"(",["T_VARIABLE","$date",429],",",["T_WHITESPACE"," ",429],["T_NS_SEPARATOR","\\",429],["T_STRING","IntlDateFormatter",429],["T_DOUBLE_COLON","::",429],["T_STRING","MEDIUM",429],",",["T_WHITESPACE"," ",429],["T_STRING","true",429],")",";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n\n        ",430],["T_RETURN","return",432],["T_WHITESPACE"," ",432],["T_STRING","__",432],"(",["T_CONSTANT_ENCAPSED_STRING","'Never'",432],")",";",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n\n    ",433],["T_DOC_COMMENT","\/**\n     * Returns customer last login date in store's timezone.\n     *\n     * @return \\Magento\\Framework\\Phrase|string\n     *\/",435],["T_WHITESPACE","\n    ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","getStoreLastLoginDate",440],"(",")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$date",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","strtotime",442],"(",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getCustomerLog",442],"(",")",["T_OBJECT_OPERATOR","->",442],["T_STRING","getLastLoginAt",442],"(",")",")",";",["T_WHITESPACE","\n\n        ",442],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$date",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$date",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_localeDate",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","scopeDate",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getCustomer",445],"(",")",["T_OBJECT_OPERATOR","->",445],["T_STRING","getStoreId",445],"(",")",",",["T_WHITESPACE"," ",445],["T_VARIABLE","$date",445],",",["T_WHITESPACE"," ",445],["T_STRING","true",445],")",";",["T_WHITESPACE","\n            ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","formatDate",446],"(",["T_VARIABLE","$date",446],",",["T_WHITESPACE"," ",446],["T_NS_SEPARATOR","\\",446],["T_STRING","IntlDateFormatter",446],["T_DOUBLE_COLON","::",446],["T_STRING","MEDIUM",446],",",["T_WHITESPACE"," ",446],["T_STRING","true",446],")",";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE","\n\n        ",447],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_STRING","__",449],"(",["T_CONSTANT_ENCAPSED_STRING","'Never'",449],")",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_DOC_COMMENT","\/**\n     * Returns interval that shows how long customer will be considered 'Online'.\n     *\n     * @return int Interval in minutes\n     *\/",452],["T_WHITESPACE","\n    ",456],["T_PROTECTED","protected",457],["T_WHITESPACE"," ",457],["T_FUNCTION","function",457],["T_WHITESPACE"," ",457],["T_STRING","getOnlineMinutesInterval",457],"(",")",["T_WHITESPACE","\n    ",457],"{",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$configValue",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_scopeConfig",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getValue",459],"(",["T_WHITESPACE","\n            ",459],["T_CONSTANT_ENCAPSED_STRING","'customer\/online_customers\/online_minutes_interval'",460],",",["T_WHITESPACE","\n            ",460],["T_NS_SEPARATOR","\\",461],["T_STRING","Magento",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Store",461],["T_NS_SEPARATOR","\\",461],["T_STRING","Model",461],["T_NS_SEPARATOR","\\",461],["T_STRING","ScopeInterface",461],["T_DOUBLE_COLON","::",461],["T_STRING","SCOPE_STORE",461],["T_WHITESPACE","\n        ",461],")",";",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_STRING","intval",463],"(",["T_VARIABLE","$configValue",463],")",["T_WHITESPACE"," ",463],">",["T_WHITESPACE"," ",463],["T_LNUMBER","0",463],["T_WHITESPACE"," ",463],"?",["T_WHITESPACE"," ",463],["T_STRING","intval",463],"(",["T_VARIABLE","$configValue",463],")",["T_WHITESPACE"," ",463],":",["T_WHITESPACE"," ",463],["T_STRING","self",463],["T_DOUBLE_COLON","::",463],["T_STRING","DEFAULT_ONLINE_MINUTES_INTERVAL",463],";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Get customer account lock status\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",466],["T_WHITESPACE","\n    ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","getAccountLock",471],"(",")",["T_WHITESPACE","\n    ",471],"{",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$customerModel",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getCustomerRegistry",473],"(",")",["T_OBJECT_OPERATOR","->",473],["T_STRING","retrieve",473],"(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getCustomerId",473],"(",")",")",";",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$customerStatus",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_STRING","__",474],"(",["T_CONSTANT_ENCAPSED_STRING","'Unlocked'",474],")",";",["T_WHITESPACE","\n        ",474],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$customerModel",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","isCustomerLocked",475],"(",")",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$customerStatus",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","__",476],"(",["T_CONSTANT_ENCAPSED_STRING","'Locked'",476],")",";",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n        ",477],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$customerStatus",478],";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n",479],"}",["T_WHITESPACE","\n",480]]