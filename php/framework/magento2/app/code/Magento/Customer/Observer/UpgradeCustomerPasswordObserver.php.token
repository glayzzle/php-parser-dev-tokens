[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Encryption",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EncryptorInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ObserverInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CustomerRepositoryInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CustomerRegistry",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","UpgradeCustomerPasswordObserver",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","ObserverInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Encryption model\n     *\n     * @var EncryptorInterface\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$encryptor",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var CustomerRegistry\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$customerRegistry",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var CustomerRepositoryInterface\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$customerRepository",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @param EncryptorInterface $encryptor\n     * @param CustomerRegistry $customerRegistry\n     * @param CustomerRepositoryInterface $customerRepository\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","__construct",38],"(",["T_WHITESPACE","\n        ",38],["T_STRING","EncryptorInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$encryptor",39],",",["T_WHITESPACE","\n        ",39],["T_STRING","CustomerRegistry",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$customerRegistry",40],",",["T_WHITESPACE","\n        ",40],["T_STRING","CustomerRepositoryInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$customerRepository",41],["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","encryptor",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$encryptor",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","customerRegistry",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$customerRegistry",44],";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","customerRepository",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$customerRepository",45],";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Upgrade customer password hash when customer has logged in\n     *\n     * @param \\Magento\\Framework\\Event\\Observer $observer\n     * @return void\n     *\/",48],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","execute",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Event",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Observer",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$observer",54],")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$password",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$observer",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getEvent",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","getData",56],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",56],")",";",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $model *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$model",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$observer",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getEvent",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getData",58],"(",["T_CONSTANT_ENCAPSED_STRING","'model'",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$customer",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","customerRepository",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getById",59],"(",["T_VARIABLE","$model",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getId",59],"(",")",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$customerSecure",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","customerRegistry",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","retrieveSecureData",60],"(",["T_VARIABLE","$model",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getId",60],"(",")",")",";",["T_WHITESPACE","\n\n        ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","encryptor",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","validateHashVersion",62],"(",["T_VARIABLE","$customerSecure",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getPasswordHash",62],"(",")",",",["T_WHITESPACE"," ",62],["T_STRING","true",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$customerSecure",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setPasswordHash",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","encryptor",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getHash",63],"(",["T_VARIABLE","$password",63],",",["T_WHITESPACE"," ",63],["T_STRING","true",63],")",")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","customerRepository",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",["T_VARIABLE","$customer",64],")",";",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n",66],"}",["T_WHITESPACE","\n",67]]