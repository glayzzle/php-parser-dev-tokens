[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","GroupManagementInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Address",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","HelperAddress",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Address",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractAddress",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","CustomerSession",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Area",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ScopeConfigInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","App",15],["T_NS_SEPARATOR","\\",15],["T_STRING","State",15],["T_WHITESPACE"," ",15],["T_AS","as",15],["T_WHITESPACE"," ",15],["T_STRING","AppState",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DataObject",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Escaper",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Message",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ManagerInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Framework",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Registry",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Store",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ScopeInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Framework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Event",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ObserverInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Customer",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Address",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Customer",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Vat",23],";",["T_WHITESPACE","\n\n",23],["T_DOC_COMMENT","\/**\n * Customer Observer Model\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",25],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","AfterAddressSaveObserver",29],["T_WHITESPACE"," ",29],["T_IMPLEMENTS","implements",29],["T_WHITESPACE"," ",29],["T_STRING","ObserverInterface",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_DOC_COMMENT","\/**\n     * VAT ID validation processed flag code\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","VIV_PROCESSED_FLAG",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'viv_after_address_save_processed'",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var HelperAddress\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_customerAddress",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var Registry\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_coreRegistry",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var Vat\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_customerVat",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var GroupManagementInterface\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_groupManagement",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var AppState\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$appState",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var ScopeConfigInterface\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$scopeConfig",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var ManagerInterface\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$messageManager",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var Escaper\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$escaper",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @var CustomerSession\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PRIVATE","private",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$customerSession",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @param Vat $customerVat\n     * @param HelperAddress $customerAddress\n     * @param Registry $coreRegistry\n     * @param GroupManagementInterface $groupManagement\n     * @param ScopeConfigInterface $scopeConfig\n     * @param ManagerInterface $messageManager\n     * @param Escaper $escaper\n     * @param AppState $appState\n     * @param CustomerSession $customerSession\n     *\/",81],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",["T_WHITESPACE","\n        ",92],["T_STRING","Vat",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$customerVat",93],",",["T_WHITESPACE","\n        ",93],["T_STRING","HelperAddress",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$customerAddress",94],",",["T_WHITESPACE","\n        ",94],["T_STRING","Registry",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$coreRegistry",95],",",["T_WHITESPACE","\n        ",95],["T_STRING","GroupManagementInterface",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$groupManagement",96],",",["T_WHITESPACE","\n        ",96],["T_STRING","ScopeConfigInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$scopeConfig",97],",",["T_WHITESPACE","\n        ",97],["T_STRING","ManagerInterface",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$messageManager",98],",",["T_WHITESPACE","\n        ",98],["T_STRING","Escaper",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$escaper",99],",",["T_WHITESPACE","\n        ",99],["T_STRING","AppState",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$appState",100],",",["T_WHITESPACE","\n        ",100],["T_STRING","CustomerSession",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$customerSession",101],["T_WHITESPACE","\n    ",101],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_customerVat",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$customerVat",103],";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_customerAddress",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$customerAddress",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_coreRegistry",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$coreRegistry",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_groupManagement",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$groupManagement",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","scopeConfig",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$scopeConfig",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","messageManager",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$messageManager",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","escaper",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$escaper",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","appState",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$appState",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","customerSession",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$customerSession",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Address after save event handler\n     *\n     * @param \\Magento\\Framework\\Event\\Observer $observer\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",114],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","execute",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Event",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Observer",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$observer",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_DOC_COMMENT","\/** @var $customerAddress Address *\/",123],["T_WHITESPACE","\n        ",123],["T_VARIABLE","$customerAddress",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$observer",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getCustomerAddress",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$customer",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$customerAddress",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getCustomer",125],"(",")",";",["T_WHITESPACE","\n\n        ",125],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_customerAddress",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isVatValidationEnabled",127],"(",["T_VARIABLE","$customer",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getStore",127],"(",")",")",["T_WHITESPACE","\n            ",127],["T_BOOLEAN_OR","||",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_coreRegistry",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","registry",128],"(",["T_STRING","self",128],["T_DOUBLE_COLON","::",128],["T_STRING","VIV_PROCESSED_FLAG",128],")",["T_WHITESPACE","\n            ",128],["T_BOOLEAN_OR","||",129],["T_WHITESPACE"," ",129],"!",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_canProcessAddress",129],"(",["T_VARIABLE","$customerAddress",129],")",["T_WHITESPACE","\n        ",129],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_RETURN","return",131],";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_TRY","try",134],["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_coreRegistry",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","register",135],"(",["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","VIV_PROCESSED_FLAG",135],",",["T_WHITESPACE"," ",135],["T_STRING","true",135],")",";",["T_WHITESPACE","\n\n            ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$customerAddress",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getVatId",137],"(",")",["T_WHITESPACE"," ",137],["T_IS_EQUAL","==",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","''",137],["T_WHITESPACE","\n                ",137],["T_BOOLEAN_OR","||",138],["T_WHITESPACE"," ",138],"!",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_customerVat",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isCountryInEU",138],"(",["T_VARIABLE","$customerAddress",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getCountry",138],"(",")",")",["T_WHITESPACE","\n            ",138],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$defaultGroupId",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_groupManagement",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getDefaultGroup",140],"(",["T_VARIABLE","$customer",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getStore",140],"(",")",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getId",140],"(",")",";",["T_WHITESPACE","\n                ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_VARIABLE","$customer",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getDisableAutoGroupChange",141],"(",")",["T_WHITESPACE"," ",141],["T_BOOLEAN_AND","&&",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$customer",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getGroupId",141],"(",")",["T_WHITESPACE"," ",141],["T_IS_NOT_EQUAL","!=",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$defaultGroupId",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                    ",141],["T_VARIABLE","$customer",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","setGroupId",142],"(",["T_VARIABLE","$defaultGroupId",142],")",";",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$customer",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","save",143],"(",")",";",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","customerSession",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setCustomerGroupId",144],"(",["T_VARIABLE","$defaultGroupId",144],")",";",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE"," ",146],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$result",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_customerVat",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","checkVatNumber",147],"(",["T_WHITESPACE","\n                    ",147],["T_VARIABLE","$customerAddress",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getCountryId",148],"(",")",",",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$customerAddress",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getVatId",149],"(",")",["T_WHITESPACE","\n                ",149],")",";",["T_WHITESPACE","\n\n                ",150],["T_VARIABLE","$newGroupId",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_customerVat",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getCustomerGroupIdBasedOnVatNumber",152],"(",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$customerAddress",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getCountryId",153],"(",")",",",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$result",154],",",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$customer",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getStore",155],"(",")",["T_WHITESPACE","\n                ",155],")",";",["T_WHITESPACE","\n\n                ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_VARIABLE","$customer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getDisableAutoGroupChange",158],"(",")",["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$customer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getGroupId",158],"(",")",["T_WHITESPACE"," ",158],["T_IS_NOT_EQUAL","!=",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$newGroupId",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                    ",158],["T_VARIABLE","$customer",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setGroupId",159],"(",["T_VARIABLE","$newGroupId",159],")",";",["T_WHITESPACE","\n                    ",159],["T_VARIABLE","$customer",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","save",160],"(",")",";",["T_WHITESPACE","\n                    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","customerSession",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setCustomerGroupId",161],"(",["T_VARIABLE","$newGroupId",161],")",";",["T_WHITESPACE","\n                ",161],"}",["T_WHITESPACE","\n\n                ",162],["T_VARIABLE","$customerAddress",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setVatValidationResult",164],"(",["T_VARIABLE","$result",164],")",";",["T_WHITESPACE","\n\n                ",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","appState",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getAreaCode",166],"(",")",["T_WHITESPACE"," ",166],["T_IS_EQUAL","==",166],["T_WHITESPACE"," ",166],["T_STRING","Area",166],["T_DOUBLE_COLON","::",166],["T_STRING","AREA_FRONTEND",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                    ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$result",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getIsValid",167],"(",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","addValidMessage",168],"(",["T_VARIABLE","$customerAddress",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$result",168],")",";",["T_WHITESPACE","\n                    ",168],"}",["T_WHITESPACE"," ",169],["T_ELSEIF","elseif",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$result",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getRequestSuccess",169],"(",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","addInvalidMessage",170],"(",["T_VARIABLE","$customerAddress",170],")",";",["T_WHITESPACE","\n                    ",170],"}",["T_WHITESPACE"," ",171],["T_ELSE","else",171],["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","addErrorMessage",172],"(",["T_VARIABLE","$customerAddress",172],")",";",["T_WHITESPACE","\n                    ",172],"}",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE"," ",176],["T_CATCH","catch",176],["T_WHITESPACE"," ",176],"(",["T_NS_SEPARATOR","\\",176],["T_STRING","Exception",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$e",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_coreRegistry",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","register",177],"(",["T_STRING","self",177],["T_DOUBLE_COLON","::",177],["T_STRING","VIV_PROCESSED_FLAG",177],",",["T_WHITESPACE"," ",177],["T_STRING","false",177],",",["T_WHITESPACE"," ",177],["T_STRING","true",177],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Check whether specified address should be processed in after_save event handler\n     *\n     * @param Address $address\n     * @return bool\n     *\/",181],["T_WHITESPACE","\n    ",186],["T_PROTECTED","protected",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","_canProcessAddress",187],"(",["T_VARIABLE","$address",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$address",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getForceProcess",189],"(",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","true",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_coreRegistry",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","registry",194],"(",["T_STRING","BeforeAddressSaveObserver",194],["T_DOUBLE_COLON","::",194],["T_STRING","VIV_CURRENTLY_SAVED_ADDRESS",194],")",["T_WHITESPACE"," ",194],["T_IS_NOT_EQUAL","!=",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$address",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getId",194],"(",")",["T_WHITESPACE","\n        ",194],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","false",196],";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$configAddressType",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_customerAddress",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getTaxCalculationAddressType",199],"(",")",";",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$configAddressType",200],["T_WHITESPACE"," ",200],["T_IS_EQUAL","==",200],["T_WHITESPACE"," ",200],["T_STRING","AbstractAddress",200],["T_DOUBLE_COLON","::",200],["T_STRING","TYPE_SHIPPING",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_isDefaultShipping",201],"(",["T_VARIABLE","$address",201],")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n\n        ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_isDefaultBilling",204],"(",["T_VARIABLE","$address",204],")",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Check whether specified billing address is default for its customer\n     *\n     * @param Address $address\n     * @return bool\n     *\/",207],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_isDefaultBilling",213],"(",["T_VARIABLE","$address",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$address",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getId",215],"(",")",["T_WHITESPACE"," ",215],["T_BOOLEAN_AND","&&",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$address",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getId",215],"(",")",["T_WHITESPACE"," ",215],["T_IS_EQUAL","==",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$address",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getCustomer",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getDefaultBilling",215],"(",")",["T_WHITESPACE","\n        ",215],["T_BOOLEAN_OR","||",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$address",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getIsPrimaryBilling",216],"(",")",["T_WHITESPACE","\n        ",216],["T_BOOLEAN_OR","||",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$address",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getIsDefaultBilling",217],"(",")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Check whether specified shipping address is default for its customer\n     *\n     * @param Address $address\n     * @return bool\n     *\/",220],["T_WHITESPACE","\n    ",225],["T_PROTECTED","protected",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","_isDefaultShipping",226],"(",["T_VARIABLE","$address",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$address",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getId",228],"(",")",["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$address",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getId",228],"(",")",["T_WHITESPACE"," ",228],["T_IS_EQUAL","==",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$address",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getCustomer",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","getDefaultShipping",228],"(",")",["T_WHITESPACE","\n        ",228],["T_BOOLEAN_OR","||",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$address",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getIsPrimaryShipping",229],"(",")",["T_WHITESPACE","\n        ",229],["T_BOOLEAN_OR","||",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$address",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getIsDefaultShipping",230],"(",")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Add success message for valid VAT ID\n     *\n     * @param Address $customerAddress\n     * @param DataObject $validationResult\n     * @return $this\n     *\/",233],["T_WHITESPACE","\n    ",239],["T_PROTECTED","protected",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","addValidMessage",240],"(",["T_VARIABLE","$customerAddress",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$validationResult",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$message",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],"[",["T_WHITESPACE","\n            ",242],["T_STRING_CAST","(string)",243],["T_STRING","__",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Your VAT ID was successfully validated.'",243],")",",",["T_WHITESPACE","\n        ",243],"]",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$customer",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$customerAddress",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getCustomer",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(","!",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","scopeConfig",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","isSetFlag",247],"(",["T_STRING","HelperAddress",247],["T_DOUBLE_COLON","::",247],["T_STRING","XML_PATH_VIV_DISABLE_AUTO_ASSIGN_DEFAULT",247],")",["T_WHITESPACE","\n            ",247],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE"," ",248],"!",["T_VARIABLE","$customer",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getDisableAutoGroupChange",248],"(",")",["T_WHITESPACE","\n        ",248],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$customerVatClass",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_customerVat",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getCustomerVatClass",250],"(",["T_WHITESPACE","\n                ",250],["T_VARIABLE","$customerAddress",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getCountryId",251],"(",")",",",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$validationResult",252],["T_WHITESPACE","\n            ",252],")",";",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$message",254],"[","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$customerVatClass",254],["T_WHITESPACE"," ",254],["T_IS_EQUAL","==",254],["T_WHITESPACE"," ",254],["T_STRING","Vat",254],["T_DOUBLE_COLON","::",254],["T_STRING","VAT_CLASS_DOMESTIC",254],["T_WHITESPACE","\n                ",254],"?",["T_WHITESPACE"," ",255],["T_STRING_CAST","(string)",255],["T_STRING","__",255],"(",["T_CONSTANT_ENCAPSED_STRING","'You will be charged tax.'",255],")",["T_WHITESPACE","\n                ",255],":",["T_WHITESPACE"," ",256],["T_STRING_CAST","(string)",256],["T_STRING","__",256],"(",["T_CONSTANT_ENCAPSED_STRING","'You will not be charged tax.'",256],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n\n        ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","messageManager",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","addSuccess",259],"(",["T_STRING","implode",259],"(",["T_CONSTANT_ENCAPSED_STRING","' '",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$message",259],")",")",";",["T_WHITESPACE","\n\n        ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Add error message for invalid VAT ID\n     *\n     * @param Address $customerAddress\n     * @return $this\n     *\/",264],["T_WHITESPACE","\n    ",269],["T_PROTECTED","protected",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","addInvalidMessage",270],"(",["T_VARIABLE","$customerAddress",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$vatId",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","escaper",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","escapeHtml",272],"(",["T_VARIABLE","$customerAddress",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getVatId",272],"(",")",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$message",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],"[",["T_WHITESPACE","\n            ",273],["T_STRING_CAST","(string)",274],["T_STRING","__",274],"(",["T_CONSTANT_ENCAPSED_STRING","'The VAT ID entered (%1) is not a valid VAT ID.'",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$vatId",274],")",",",["T_WHITESPACE","\n        ",274],"]",";",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$customer",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$customerAddress",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getCustomer",277],"(",")",";",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(","!",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","scopeConfig",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","isSetFlag",278],"(",["T_STRING","HelperAddress",278],["T_DOUBLE_COLON","::",278],["T_STRING","XML_PATH_VIV_DISABLE_AUTO_ASSIGN_DEFAULT",278],")",["T_WHITESPACE","\n            ",278],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],"!",["T_VARIABLE","$customer",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getDisableAutoGroupChange",279],"(",")",["T_WHITESPACE","\n        ",279],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$message",281],"[","]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING_CAST","(string)",281],["T_STRING","__",281],"(",["T_CONSTANT_ENCAPSED_STRING","'You will be charged tax.'",281],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","messageManager",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","addError",284],"(",["T_STRING","implode",284],"(",["T_CONSTANT_ENCAPSED_STRING","' '",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$message",284],")",")",";",["T_WHITESPACE","\n\n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Add error message\n     *\n     * @param Address $customerAddress\n     * @return $this\n     *\/",289],["T_WHITESPACE","\n    ",294],["T_PROTECTED","protected",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","addErrorMessage",295],"(",["T_VARIABLE","$customerAddress",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$message",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],"[",["T_WHITESPACE","\n            ",297],["T_STRING_CAST","(string)",298],["T_STRING","__",298],"(",["T_CONSTANT_ENCAPSED_STRING","'Your Tax ID cannot be validated.'",298],")",",",["T_WHITESPACE","\n        ",298],"]",";",["T_WHITESPACE","\n\n        ",299],["T_VARIABLE","$customer",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$customerAddress",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getCustomer",301],"(",")",";",["T_WHITESPACE","\n        ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","scopeConfig",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","isSetFlag",302],"(",["T_STRING","HelperAddress",302],["T_DOUBLE_COLON","::",302],["T_STRING","XML_PATH_VIV_DISABLE_AUTO_ASSIGN_DEFAULT",302],")",["T_WHITESPACE","\n            ",302],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],"!",["T_VARIABLE","$customer",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getDisableAutoGroupChange",303],"(",")",["T_WHITESPACE","\n        ",303],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$message",305],"[","]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING_CAST","(string)",305],["T_STRING","__",305],"(",["T_CONSTANT_ENCAPSED_STRING","'You will be charged tax.'",305],")",";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$email",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","scopeConfig",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getValue",308],"(",["T_CONSTANT_ENCAPSED_STRING","'trans_email\/ident_support\/email'",308],",",["T_WHITESPACE"," ",308],["T_STRING","ScopeInterface",308],["T_DOUBLE_COLON","::",308],["T_STRING","SCOPE_STORE",308],")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$message",309],"[","]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING_CAST","(string)",309],["T_STRING","__",309],"(",["T_CONSTANT_ENCAPSED_STRING","'If you believe this is an error, please contact us at %1'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$email",309],")",";",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","messageManager",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","addError",311],"(",["T_STRING","implode",311],"(",["T_CONSTANT_ENCAPSED_STRING","' '",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$message",311],")",")",";",["T_WHITESPACE","\n\n        ",311],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],";",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n",314],"}",["T_WHITESPACE","\n",315]]