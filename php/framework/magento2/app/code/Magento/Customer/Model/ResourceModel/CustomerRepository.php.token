[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ResourceModel",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CustomerMetadataInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DataObjectHelper",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ImageProcessorInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SearchCriteria",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CollectionProcessorInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","SearchCriteriaInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Customer repository.\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",15],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","CustomerRepository",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Customer",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","CustomerRepositoryInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\CustomerFactory\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$customerFactory",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Data\\CustomerSecureFactory\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$customerSecureFactory",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\CustomerRegistry\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$customerRegistry",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\ResourceModel\\AddressRepository\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$addressRepository",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\ResourceModel\\Customer\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$customerResourceModel",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerMetadataInterface\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$customerMetadata",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\Data\\CustomerSearchResultsInterfaceFactory\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$searchResultsFactory",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Event\\ManagerInterface\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$eventManager",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$storeManager",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$extensibleDataObjectConverter",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var DataObjectHelper\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$dataObjectHelper",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @var ImageProcessorInterface\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$imageProcessor",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$extensionAttributesJoinProcessor",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * @var CollectionProcessorInterface\n     *\/",86],["T_WHITESPACE","\n    ",88],["T_PRIVATE","private",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$collectionProcessor",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Customer\\Model\\CustomerFactory $customerFactory\n     * @param \\Magento\\Customer\\Model\\Data\\CustomerSecureFactory $customerSecureFactory\n     * @param \\Magento\\Customer\\Model\\CustomerRegistry $customerRegistry\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\AddressRepository $addressRepository\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\Customer $customerResourceModel\n     * @param \\Magento\\Customer\\Api\\CustomerMetadataInterface $customerMetadata\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerSearchResultsInterfaceFactory $searchResultsFactory\n     * @param \\Magento\\Framework\\Event\\ManagerInterface $eventManager\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter $extensibleDataObjectConverter\n     * @param DataObjectHelper $dataObjectHelper\n     * @param ImageProcessorInterface $imageProcessor\n     * @param \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface $extensionAttributesJoinProcessor\n     * @param CollectionProcessorInterface $collectionProcessor\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",91],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","__construct",108],"(",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Customer",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","CustomerFactory",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$customerFactory",109],",",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Customer",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Data",110],["T_NS_SEPARATOR","\\",110],["T_STRING","CustomerSecureFactory",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$customerSecureFactory",110],",",["T_WHITESPACE","\n        ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Customer",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","CustomerRegistry",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$customerRegistry",111],",",["T_WHITESPACE","\n        ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Customer",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","ResourceModel",112],["T_NS_SEPARATOR","\\",112],["T_STRING","AddressRepository",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$addressRepository",112],",",["T_WHITESPACE","\n        ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Customer",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","ResourceModel",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Customer",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$customerResourceModel",113],",",["T_WHITESPACE","\n        ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Customer",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Api",114],["T_NS_SEPARATOR","\\",114],["T_STRING","CustomerMetadataInterface",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$customerMetadata",114],",",["T_WHITESPACE","\n        ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Customer",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Api",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Data",115],["T_NS_SEPARATOR","\\",115],["T_STRING","CustomerSearchResultsInterfaceFactory",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$searchResultsFactory",115],",",["T_WHITESPACE","\n        ",115],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Framework",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Event",116],["T_NS_SEPARATOR","\\",116],["T_STRING","ManagerInterface",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$eventManager",116],",",["T_WHITESPACE","\n        ",116],["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Store",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","StoreManagerInterface",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$storeManager",117],",",["T_WHITESPACE","\n        ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Framework",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Api",118],["T_NS_SEPARATOR","\\",118],["T_STRING","ExtensibleDataObjectConverter",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$extensibleDataObjectConverter",118],",",["T_WHITESPACE","\n        ",118],["T_STRING","DataObjectHelper",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$dataObjectHelper",119],",",["T_WHITESPACE","\n        ",119],["T_STRING","ImageProcessorInterface",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$imageProcessor",120],",",["T_WHITESPACE","\n        ",120],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Api",121],["T_NS_SEPARATOR","\\",121],["T_STRING","ExtensionAttribute",121],["T_NS_SEPARATOR","\\",121],["T_STRING","JoinProcessorInterface",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$extensionAttributesJoinProcessor",121],",",["T_WHITESPACE","\n        ",121],["T_STRING","CollectionProcessorInterface",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$collectionProcessor",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","null",122],["T_WHITESPACE","\n    ",122],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","customerFactory",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$customerFactory",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","customerSecureFactory",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$customerSecureFactory",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","customerRegistry",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$customerRegistry",126],";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","addressRepository",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$addressRepository",127],";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","customerResourceModel",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$customerResourceModel",128],";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","customerMetadata",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$customerMetadata",129],";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","searchResultsFactory",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$searchResultsFactory",130],";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","eventManager",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$eventManager",131],";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","storeManager",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$storeManager",132],";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","extensibleDataObjectConverter",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$extensibleDataObjectConverter",133],";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","dataObjectHelper",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$dataObjectHelper",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","imageProcessor",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$imageProcessor",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","extensionAttributesJoinProcessor",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$extensionAttributesJoinProcessor",136],";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","collectionProcessor",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$collectionProcessor",137],["T_WHITESPACE"," ",137],"?",":",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getCollectionProcessor",137],"(",")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",140],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","save",145],"(",["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Customer",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Api",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Data",145],["T_NS_SEPARATOR","\\",145],["T_STRING","CustomerInterface",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$customer",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$passwordHash",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","null",145],")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$prevCustomerData",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","null",147],";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$prevCustomerDataArr",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","null",148],";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$customer",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getId",149],"(",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$prevCustomerData",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getById",150],"(",["T_VARIABLE","$customer",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getId",150],"(",")",")",";",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$prevCustomerDataArr",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$prevCustomerData",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","__toArray",151],"(",")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Data\\Customer *\/",153],["T_WHITESPACE","\n        ",153],["T_VARIABLE","$customerArr",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$customer",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","__toArray",154],"(",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$customer",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","imageProcessor",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","save",155],"(",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$customer",156],",",["T_WHITESPACE","\n            ",156],["T_STRING","CustomerMetadataInterface",157],["T_DOUBLE_COLON","::",157],["T_STRING","ENTITY_TYPE_CUSTOMER",157],",",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$prevCustomerData",158],["T_WHITESPACE","\n        ",158],")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$origAddresses",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$customer",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getAddresses",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$customer",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setAddresses",162],"(","[","]",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$customerData",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","extensibleDataObjectConverter",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","toNestedArray",163],"(",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$customer",164],",",["T_WHITESPACE","\n            ",164],"[","]",",",["T_WHITESPACE","\n            ",165],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Customer",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Api",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Data",166],["T_NS_SEPARATOR","\\",166],["T_STRING","CustomerInterface",166],["T_DOUBLE_COLON","::",166],["T_CLASS","class",166],["T_WHITESPACE","\n        ",166],")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$customer",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setAddresses",169],"(",["T_VARIABLE","$origAddresses",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$customerModel",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","customerFactory",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","create",170],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$customerData",170],"]",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$storeId",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$customerModel",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getStoreId",171],"(",")",";",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$storeId",172],["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_STRING","null",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$customerModel",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setStoreId",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","storeManager",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getStore",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","getId",173],"(",")",")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$customerModel",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setId",175],"(",["T_VARIABLE","$customer",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getId",175],"(",")",")",";",["T_WHITESPACE","\n\n        ",175],["T_COMMENT","\/\/ Need to use attribute set or future updates can cause data loss\n",177],["T_WHITESPACE","        ",178],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_VARIABLE","$customerModel",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getAttributeSetId",178],"(",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$customerModel",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setAttributeSetId",179],"(",["T_WHITESPACE","\n                ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Customer",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Api",180],["T_NS_SEPARATOR","\\",180],["T_STRING","CustomerMetadataInterface",180],["T_DOUBLE_COLON","::",180],["T_STRING","ATTRIBUTE_SET_ID_CUSTOMER",180],["T_WHITESPACE","\n            ",180],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","populateCustomerWithSecureData",183],"(",["T_VARIABLE","$customerModel",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$passwordHash",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_COMMENT","\/\/ If customer email was changed, reset RpToken info\n",185],["T_WHITESPACE","        ",186],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$prevCustomerData",186],["T_WHITESPACE","\n            ",186],["T_BOOLEAN_AND","&&",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$prevCustomerData",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getEmail",187],"(",")",["T_WHITESPACE"," ",187],["T_IS_NOT_IDENTICAL","!==",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$customerModel",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getEmail",187],"(",")",["T_WHITESPACE","\n        ",187],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$customerModel",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setRpToken",189],"(",["T_STRING","null",189],")",";",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$customerModel",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setRpTokenCreatedAt",190],"(",["T_STRING","null",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_STRING","array_key_exists",192],"(",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$customerArr",192],")",["T_WHITESPACE"," ",192],["T_BOOLEAN_AND","&&",192],["T_WHITESPACE","\n            ",192],["T_STRING","null",193],["T_WHITESPACE"," ",193],["T_IS_NOT_IDENTICAL","!==",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$prevCustomerDataArr",193],["T_WHITESPACE"," ",193],["T_BOOLEAN_AND","&&",193],["T_WHITESPACE","\n            ",193],["T_STRING","array_key_exists",194],"(",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$prevCustomerDataArr",194],")",["T_WHITESPACE","\n        ",194],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$customerModel",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setDefaultBilling",196],"(",["T_VARIABLE","$prevCustomerDataArr",196],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",196],"]",")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n\n        ",197],["T_IF","if",199],["T_WHITESPACE"," ",199],"(","!",["T_STRING","array_key_exists",199],"(",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$customerArr",199],")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE","\n            ",199],["T_STRING","null",200],["T_WHITESPACE"," ",200],["T_IS_NOT_IDENTICAL","!==",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$prevCustomerDataArr",200],["T_WHITESPACE"," ",200],["T_BOOLEAN_AND","&&",200],["T_WHITESPACE","\n            ",200],["T_STRING","array_key_exists",201],"(",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$prevCustomerDataArr",201],")",["T_WHITESPACE","\n        ",201],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$customerModel",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","setDefaultShipping",203],"(",["T_VARIABLE","$prevCustomerDataArr",203],"[",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",203],"]",")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$customerModel",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","save",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","customerRegistry",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","push",207],"(",["T_VARIABLE","$customerModel",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$customerId",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$customerModel",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getId",208],"(",")",";",["T_WHITESPACE","\n\n        ",208],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$customer",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getAddresses",210],"(",")",["T_WHITESPACE"," ",210],["T_IS_NOT_IDENTICAL","!==",210],["T_WHITESPACE"," ",210],["T_STRING","null",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$customer",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getId",211],"(",")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$existingAddresses",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getById",212],"(",["T_VARIABLE","$customer",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getId",212],"(",")",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getAddresses",212],"(",")",";",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$getIdFunc",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$address",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                    ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$address",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getId",214],"(",")",";",["T_WHITESPACE","\n                ",214],"}",";",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$existingAddressIds",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","array_map",216],"(",["T_VARIABLE","$getIdFunc",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$existingAddresses",216],")",";",["T_WHITESPACE","\n            ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$existingAddressIds",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[","]",";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE","\n\n            ",219],["T_VARIABLE","$savedAddressIds",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],"[","]",";",["T_WHITESPACE","\n            ",221],["T_FOREACH","foreach",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$customer",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getAddresses",222],"(",")",["T_WHITESPACE"," ",222],["T_AS","as",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$address",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$address",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","setCustomerId",223],"(",["T_VARIABLE","$customerId",223],")",["T_WHITESPACE","\n                    ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","setRegion",224],"(",["T_VARIABLE","$address",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getRegion",224],"(",")",")",";",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","addressRepository",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","save",225],"(",["T_VARIABLE","$address",225],")",";",["T_WHITESPACE","\n                ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$address",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getId",226],"(",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                    ",226],["T_VARIABLE","$savedAddressIds",227],"[","]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$address",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getId",227],"(",")",";",["T_WHITESPACE","\n                ",227],"}",["T_WHITESPACE","\n            ",228],"}",["T_WHITESPACE","\n\n            ",229],["T_VARIABLE","$addressIdsToDelete",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","array_diff",231],"(",["T_VARIABLE","$existingAddressIds",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$savedAddressIds",231],")",";",["T_WHITESPACE","\n            ",231],["T_FOREACH","foreach",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$addressIdsToDelete",232],["T_WHITESPACE"," ",232],["T_AS","as",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$addressId",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","addressRepository",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","deleteById",233],"(",["T_VARIABLE","$addressId",233],")",";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","customerRegistry",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","remove",236],"(",["T_VARIABLE","$customerId",236],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$savedCustomer",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","get",237],"(",["T_VARIABLE","$customer",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getEmail",237],"(",")",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$customer",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getWebsiteId",237],"(",")",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","eventManager",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","dispatch",238],"(",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'customer_save_after_data_object'",239],",",["T_WHITESPACE","\n            ",239],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_data_object'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$savedCustomer",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'orig_customer_data_object'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$customer",240],"]",["T_WHITESPACE","\n        ",240],")",";",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$savedCustomer",242],";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Set secure data to customer model\n     *\n     * @param \\Magento\\Customer\\Model\\Customer $customerModel\n     * @param string|null $passwordHash\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @return void\n     *\/",245],["T_WHITESPACE","\n    ",252],["T_PRIVATE","private",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","populateCustomerWithSecureData",253],"(",["T_VARIABLE","$customerModel",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$passwordHash",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","null",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$customerModel",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getId",255],"(",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$customerSecure",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","customerRegistry",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","retrieveSecureData",256],"(",["T_VARIABLE","$customerModel",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getId",256],"(",")",")",";",["T_WHITESPACE","\n\n            ",256],["T_VARIABLE","$customerModel",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setRpToken",258],"(",["T_VARIABLE","$passwordHash",258],["T_WHITESPACE"," ",258],"?",["T_WHITESPACE"," ",258],["T_STRING","null",258],["T_WHITESPACE"," ",258],":",["T_WHITESPACE"," ",258],["T_VARIABLE","$customerSecure",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getRpToken",258],"(",")",")",";",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$customerModel",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","setRpTokenCreatedAt",259],"(",["T_VARIABLE","$passwordHash",259],["T_WHITESPACE"," ",259],"?",["T_WHITESPACE"," ",259],["T_STRING","null",259],["T_WHITESPACE"," ",259],":",["T_WHITESPACE"," ",259],["T_VARIABLE","$customerSecure",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getRpTokenCreatedAt",259],"(",")",")",";",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$customerModel",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","setPasswordHash",260],"(",["T_VARIABLE","$passwordHash",260],["T_WHITESPACE"," ",260],"?",":",["T_WHITESPACE"," ",260],["T_VARIABLE","$customerSecure",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getPasswordHash",260],"(",")",")",";",["T_WHITESPACE","\n\n            ",260],["T_VARIABLE","$customerModel",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","setFailuresNum",262],"(",["T_VARIABLE","$customerSecure",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getFailuresNum",262],"(",")",")",";",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$customerModel",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setFirstFailure",263],"(",["T_VARIABLE","$customerSecure",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getFirstFailure",263],"(",")",")",";",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$customerModel",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","setLockExpires",264],"(",["T_VARIABLE","$customerSecure",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getLockExpires",264],"(",")",")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE"," ",265],["T_ELSEIF","elseif",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$passwordHash",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$customerModel",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","setPasswordHash",266],"(",["T_VARIABLE","$passwordHash",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$passwordHash",269],["T_WHITESPACE"," ",269],["T_BOOLEAN_AND","&&",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$customerModel",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getId",269],"(",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","customerRegistry",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","remove",270],"(",["T_VARIABLE","$customerModel",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getId",270],"(",")",")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",274],["T_WHITESPACE","\n    ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","get",277],"(",["T_VARIABLE","$email",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$websiteId",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","null",277],")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$customerModel",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","customerRegistry",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","retrieveByEmail",279],"(",["T_VARIABLE","$email",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$websiteId",279],")",";",["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$customerModel",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getDataModel",280],"(",")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",283],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","getById",286],"(",["T_VARIABLE","$customerId",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$customerModel",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","customerRegistry",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","retrieve",288],"(",["T_VARIABLE","$customerId",288],")",";",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$customerModel",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getDataModel",289],"(",")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",292],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","getList",295],"(",["T_STRING","SearchCriteriaInterface",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$searchCriteria",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$searchResults",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","searchResultsFactory",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","create",297],"(",")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$searchResults",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","setSearchCriteria",298],"(",["T_VARIABLE","$searchCriteria",298],")",";",["T_WHITESPACE","\n        ",298],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection $collection *\/",299],["T_WHITESPACE","\n        ",299],["T_VARIABLE","$collection",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","customerFactory",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","create",300],"(",")",["T_OBJECT_OPERATOR","->",300],["T_STRING","getCollection",300],"(",")",";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","extensionAttributesJoinProcessor",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","process",301],"(",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$collection",302],",",["T_WHITESPACE","\n            ",302],["T_NS_SEPARATOR","\\",303],["T_STRING","Magento",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Customer",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Api",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Data",303],["T_NS_SEPARATOR","\\",303],["T_STRING","CustomerInterface",303],["T_DOUBLE_COLON","::",303],["T_CLASS","class",303],["T_WHITESPACE","\n        ",303],")",";",["T_WHITESPACE","\n        ",304],["T_COMMENT","\/\/ This is needed to make sure all the attributes are properly loaded\n",305],["T_WHITESPACE","        ",306],["T_FOREACH","foreach",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","customerMetadata",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getAllAttributesMetadata",306],"(",")",["T_WHITESPACE"," ",306],["T_AS","as",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$metadata",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$collection",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","addAttributeToSelect",307],"(",["T_VARIABLE","$metadata",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getAttributeCode",307],"(",")",")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n        ",308],["T_COMMENT","\/\/ Needed to enable filtering on name as a whole\n",309],["T_WHITESPACE","        ",310],["T_VARIABLE","$collection",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","addNameToSelect",310],"(",")",";",["T_WHITESPACE","\n        ",310],["T_COMMENT","\/\/ Needed to enable filtering based on billing address attributes\n",311],["T_WHITESPACE","        ",312],["T_VARIABLE","$collection",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","joinAttribute",312],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_postcode'",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/postcode'",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",312],",",["T_WHITESPACE"," ",312],["T_STRING","null",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'left'",312],")",["T_WHITESPACE","\n            ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","joinAttribute",313],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_city'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/city'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",313],",",["T_WHITESPACE"," ",313],["T_STRING","null",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'left'",313],")",["T_WHITESPACE","\n            ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","joinAttribute",314],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_telephone'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/telephone'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",314],",",["T_WHITESPACE"," ",314],["T_STRING","null",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'left'",314],")",["T_WHITESPACE","\n            ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","joinAttribute",315],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_region'",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/region'",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",315],",",["T_WHITESPACE"," ",315],["T_STRING","null",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'left'",315],")",["T_WHITESPACE","\n            ",315],["T_OBJECT_OPERATOR","->",316],["T_STRING","joinAttribute",316],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_country_id'",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/country_id'",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",316],",",["T_WHITESPACE"," ",316],["T_STRING","null",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'left'",316],")",["T_WHITESPACE","\n            ",316],["T_OBJECT_OPERATOR","->",317],["T_STRING","joinAttribute",317],"(",["T_CONSTANT_ENCAPSED_STRING","'company'",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/company'",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",317],",",["T_WHITESPACE"," ",317],["T_STRING","null",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'left'",317],")",";",["T_WHITESPACE","\n\n        ",317],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","collectionProcessor",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","process",319],"(",["T_VARIABLE","$searchCriteria",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$collection",319],")",";",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$searchResults",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","setTotalCount",321],"(",["T_VARIABLE","$collection",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getSize",321],"(",")",")",";",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$customers",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],"[","]",";",["T_WHITESPACE","\n        ",323],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customerModel *\/",324],["T_WHITESPACE","\n        ",324],["T_FOREACH","foreach",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$collection",325],["T_WHITESPACE"," ",325],["T_AS","as",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$customerModel",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$customers",326],"[","]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$customerModel",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getDataModel",326],"(",")",";",["T_WHITESPACE","\n        ",326],"}",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$searchResults",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setItems",328],"(",["T_VARIABLE","$customers",328],")",";",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$searchResults",329],";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n\n    ",330],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",332],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","delete",335],"(",["T_NS_SEPARATOR","\\",335],["T_STRING","Magento",335],["T_NS_SEPARATOR","\\",335],["T_STRING","Customer",335],["T_NS_SEPARATOR","\\",335],["T_STRING","Api",335],["T_NS_SEPARATOR","\\",335],["T_STRING","Data",335],["T_NS_SEPARATOR","\\",335],["T_STRING","CustomerInterface",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$customer",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","deleteById",337],"(",["T_VARIABLE","$customer",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getId",337],"(",")",")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n    ",338],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",340],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","deleteById",343],"(",["T_VARIABLE","$customerId",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$customerModel",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","customerRegistry",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","retrieve",345],"(",["T_VARIABLE","$customerId",345],")",";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$customerModel",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","delete",346],"(",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","customerRegistry",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","remove",347],"(",["T_VARIABLE","$customerId",347],")",";",["T_WHITESPACE","\n        ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_STRING","true",348],";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/**\n     * Helper function that adds a FilterGroup to the collection.\n     *\n     * @deprecated\n     * @param \\Magento\\Framework\\Api\\Search\\FilterGroup $filterGroup\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection $collection\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",351],["T_WHITESPACE","\n    ",359],["T_PROTECTED","protected",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","addFilterGroupToCollection",360],"(",["T_WHITESPACE","\n        ",360],["T_NS_SEPARATOR","\\",361],["T_STRING","Magento",361],["T_NS_SEPARATOR","\\",361],["T_STRING","Framework",361],["T_NS_SEPARATOR","\\",361],["T_STRING","Api",361],["T_NS_SEPARATOR","\\",361],["T_STRING","Search",361],["T_NS_SEPARATOR","\\",361],["T_STRING","FilterGroup",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$filterGroup",361],",",["T_WHITESPACE","\n        ",361],["T_NS_SEPARATOR","\\",362],["T_STRING","Magento",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Customer",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Model",362],["T_NS_SEPARATOR","\\",362],["T_STRING","ResourceModel",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Customer",362],["T_NS_SEPARATOR","\\",362],["T_STRING","Collection",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$collection",362],["T_WHITESPACE","\n    ",362],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$fields",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],"[","]",";",["T_WHITESPACE","\n        ",364],["T_FOREACH","foreach",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$filterGroup",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getFilters",365],"(",")",["T_WHITESPACE"," ",365],["T_AS","as",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$filter",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$condition",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$filter",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getConditionType",366],"(",")",["T_WHITESPACE"," ",366],"?",["T_WHITESPACE"," ",366],["T_VARIABLE","$filter",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getConditionType",366],"(",")",["T_WHITESPACE"," ",366],":",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'eq'",366],";",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$fields",367],"[","]",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$filter",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getField",367],"(",")",",",["T_WHITESPACE"," ",367],["T_VARIABLE","$condition",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$filter",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getValue",367],"(",")","]",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$fields",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$collection",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","addFieldToFilter",370],"(",["T_VARIABLE","$fields",370],")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Retrieve collection processor\n     *\n     * @deprecated\n     * @return CollectionProcessorInterface\n     *\/",374],["T_WHITESPACE","\n    ",379],["T_PRIVATE","private",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","getCollectionProcessor",380],"(",")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(","!",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","collectionProcessor",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","collectionProcessor",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Magento",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Framework",383],["T_NS_SEPARATOR","\\",383],["T_STRING","App",383],["T_NS_SEPARATOR","\\",383],["T_STRING","ObjectManager",383],["T_DOUBLE_COLON","::",383],["T_STRING","getInstance",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","get",383],"(",["T_WHITESPACE","\n                ",383],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Eav\\Model\\Api\\SearchCriteria\\CollectionProcessor'",384],["T_WHITESPACE","\n            ",384],")",";",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE","\n        ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","collectionProcessor",387],";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n",388],"}",["T_WHITESPACE","\n",389]]