[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ScopeConfigInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","StoreManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mail",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Template",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TransportBuilder",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","View",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","CustomerViewHelper",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CustomerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Reflection",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DataObjectProcessor",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LocalizedException",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","EmailNotification",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","EmailNotificationInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_COMMENT","\/**#@+\n     * Configuration paths for email templates and identities\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","XML_PATH_FORGOT_EMAIL_IDENTITY",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'customer\/password\/forgot_email_identity'",24],";",["T_WHITESPACE","\n\n    ",24],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","XML_PATH_RESET_PASSWORD_TEMPLATE",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'customer\/password\/reset_password_template'",26],";",["T_WHITESPACE","\n\n    ",26],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","XML_PATH_CHANGE_EMAIL_TEMPLATE",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'customer\/account_information\/change_email_template'",28],";",["T_WHITESPACE","\n\n    ",28],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","XML_PATH_CHANGE_EMAIL_AND_PASSWORD_TEMPLATE",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'customer\/account_information\/change_email_and_password_template'",31],";",["T_WHITESPACE","\n\n    ",31],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","XML_PATH_FORGOT_EMAIL_TEMPLATE",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'customer\/password\/forgot_email_template'",33],";",["T_WHITESPACE","\n\n    ",33],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","XML_PATH_REMIND_EMAIL_TEMPLATE",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'customer\/password\/remind_email_template'",35],";",["T_WHITESPACE","\n\n    ",35],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","XML_PATH_REGISTER_EMAIL_IDENTITY",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'customer\/create_account\/email_identity'",37],";",["T_WHITESPACE","\n\n    ",37],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","XML_PATH_REGISTER_EMAIL_TEMPLATE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'customer\/create_account\/email_template'",39],";",["T_WHITESPACE","\n\n    ",39],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XML_PATH_REGISTER_NO_PASSWORD_EMAIL_TEMPLATE",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'customer\/create_account\/email_no_password_template'",41],";",["T_WHITESPACE","\n\n    ",41],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","XML_PATH_CONFIRM_EMAIL_TEMPLATE",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'customer\/create_account\/email_confirmation_template'",43],";",["T_WHITESPACE","\n\n    ",43],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","XML_PATH_CONFIRMED_EMAIL_TEMPLATE",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'customer\/create_account\/email_confirmed_template'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * self::NEW_ACCOUNT_EMAIL_REGISTERED               welcome email, when confirmation is disabled\n     *                                                  and password is set\n     * self::NEW_ACCOUNT_EMAIL_REGISTERED_NO_PASSWORD   welcome email, when confirmation is disabled\n     *                                                  and password is not set\n     * self::NEW_ACCOUNT_EMAIL_CONFIRMED                welcome email, when confirmation is enabled\n     *                                                  and password is set\n     * self::NEW_ACCOUNT_EMAIL_CONFIRMATION             email with confirmation link\n     *\/",47],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","TEMPLATE_TYPES",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[",["T_WHITESPACE","\n        ",56],["T_STRING","self",57],["T_DOUBLE_COLON","::",57],["T_STRING","NEW_ACCOUNT_EMAIL_REGISTERED",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","self",57],["T_DOUBLE_COLON","::",57],["T_STRING","XML_PATH_REGISTER_EMAIL_TEMPLATE",57],",",["T_WHITESPACE","\n        ",57],["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","NEW_ACCOUNT_EMAIL_REGISTERED_NO_PASSWORD",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_STRING","XML_PATH_REGISTER_NO_PASSWORD_EMAIL_TEMPLATE",58],",",["T_WHITESPACE","\n        ",58],["T_STRING","self",59],["T_DOUBLE_COLON","::",59],["T_STRING","NEW_ACCOUNT_EMAIL_CONFIRMED",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_STRING","self",59],["T_DOUBLE_COLON","::",59],["T_STRING","XML_PATH_CONFIRMED_EMAIL_TEMPLATE",59],",",["T_WHITESPACE","\n        ",59],["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","NEW_ACCOUNT_EMAIL_CONFIRMATION",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","XML_PATH_CONFIRM_EMAIL_TEMPLATE",60],",",["T_WHITESPACE","\n    ",60],"]",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/**#@-*\/",63],["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var CustomerRegistry\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$customerRegistry",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @var StoreManagerInterface\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PRIVATE","private",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$storeManager",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var TransportBuilder\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PRIVATE","private",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$transportBuilder",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var CustomerViewHelper\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$customerViewHelper",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var DataObjectProcessor\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$dataProcessor",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var ScopeConfigInterface\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PRIVATE","private",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$scopeConfig",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @param CustomerRegistry $customerRegistry\n     * @param StoreManagerInterface $storeManager\n     * @param TransportBuilder $transportBuilder\n     * @param CustomerViewHelper $customerViewHelper\n     * @param DataObjectProcessor $dataProcessor\n     * @param ScopeConfigInterface $scopeConfig\n     *\/",95],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","__construct",103],"(",["T_WHITESPACE","\n        ",103],["T_STRING","CustomerRegistry",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$customerRegistry",104],",",["T_WHITESPACE","\n        ",104],["T_STRING","StoreManagerInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$storeManager",105],",",["T_WHITESPACE","\n        ",105],["T_STRING","TransportBuilder",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$transportBuilder",106],",",["T_WHITESPACE","\n        ",106],["T_STRING","CustomerViewHelper",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$customerViewHelper",107],",",["T_WHITESPACE","\n        ",107],["T_STRING","DataObjectProcessor",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$dataProcessor",108],",",["T_WHITESPACE","\n        ",108],["T_STRING","ScopeConfigInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$scopeConfig",109],["T_WHITESPACE","\n    ",109],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","customerRegistry",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$customerRegistry",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","storeManager",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$storeManager",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","transportBuilder",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$transportBuilder",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","customerViewHelper",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$customerViewHelper",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","dataProcessor",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$dataProcessor",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","scopeConfig",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$scopeConfig",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Send notification to customer when email or\/and password changed\n     *\n     * @param CustomerInterface $savedCustomer\n     * @param string $origCustomerEmail\n     * @param bool $isPasswordChanged\n     * @return void\n     *\/",119],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","credentialsChanged",127],"(",["T_WHITESPACE","\n        ",127],["T_STRING","CustomerInterface",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$savedCustomer",128],",",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$origCustomerEmail",129],",",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$isPasswordChanged",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","false",130],["T_WHITESPACE","\n    ",130],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$origCustomerEmail",132],["T_WHITESPACE"," ",132],["T_IS_NOT_EQUAL","!=",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$savedCustomer",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getEmail",132],"(",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$isPasswordChanged",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","emailAndPasswordChanged",134],"(",["T_VARIABLE","$savedCustomer",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$origCustomerEmail",134],")",";",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","emailAndPasswordChanged",135],"(",["T_VARIABLE","$savedCustomer",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$savedCustomer",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getEmail",135],"(",")",")",";",["T_WHITESPACE","\n                ",135],["T_RETURN","return",136],";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE","\n\n            ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","emailChanged",139],"(",["T_VARIABLE","$savedCustomer",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$origCustomerEmail",139],")",";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","emailChanged",140],"(",["T_VARIABLE","$savedCustomer",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$savedCustomer",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getEmail",140],"(",")",")",";",["T_WHITESPACE","\n            ",140],["T_RETURN","return",141],";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$isPasswordChanged",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","passwordReset",145],"(",["T_VARIABLE","$savedCustomer",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Send email to customer when his email and password is changed\n     *\n     * @param CustomerInterface $customer\n     * @param string $email\n     * @return void\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PRIVATE","private",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","emailAndPasswordChanged",156],"(",["T_STRING","CustomerInterface",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$customer",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$email",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$storeId",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$customer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getStoreId",158],"(",")",";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(","!",["T_VARIABLE","$storeId",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$storeId",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getWebsiteStoreId",160],"(",["T_VARIABLE","$customer",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$customerEmailData",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getFullCustomerObject",163],"(",["T_VARIABLE","$customer",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","sendEmailTemplate",165],"(",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$customer",166],",",["T_WHITESPACE","\n            ",166],["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","XML_PATH_CHANGE_EMAIL_AND_PASSWORD_TEMPLATE",167],",",["T_WHITESPACE","\n            ",167],["T_STRING","self",168],["T_DOUBLE_COLON","::",168],["T_STRING","XML_PATH_FORGOT_EMAIL_IDENTITY",168],",",["T_WHITESPACE","\n            ",168],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$customerEmailData",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'store'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","storeManager",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getStore",169],"(",["T_VARIABLE","$storeId",169],")","]",",",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$storeId",170],",",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$email",171],["T_WHITESPACE","\n        ",171],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Send email to customer when his email is changed\n     *\n     * @param CustomerInterface $customer\n     * @param string $email\n     * @return void\n     *\/",175],["T_WHITESPACE","\n    ",181],["T_PRIVATE","private",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","emailChanged",182],"(",["T_STRING","CustomerInterface",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$customer",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$email",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$storeId",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$customer",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getStoreId",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(","!",["T_VARIABLE","$storeId",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$storeId",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getWebsiteStoreId",186],"(",["T_VARIABLE","$customer",186],")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$customerEmailData",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getFullCustomerObject",189],"(",["T_VARIABLE","$customer",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","sendEmailTemplate",191],"(",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$customer",192],",",["T_WHITESPACE","\n            ",192],["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","XML_PATH_CHANGE_EMAIL_TEMPLATE",193],",",["T_WHITESPACE","\n            ",193],["T_STRING","self",194],["T_DOUBLE_COLON","::",194],["T_STRING","XML_PATH_FORGOT_EMAIL_IDENTITY",194],",",["T_WHITESPACE","\n            ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$customerEmailData",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'store'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","storeManager",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getStore",195],"(",["T_VARIABLE","$storeId",195],")","]",",",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$storeId",196],",",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$email",197],["T_WHITESPACE","\n        ",197],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Send email to customer when his password is reset\n     *\n     * @param CustomerInterface $customer\n     * @return void\n     *\/",201],["T_WHITESPACE","\n    ",206],["T_PRIVATE","private",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","passwordReset",207],"(",["T_STRING","CustomerInterface",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$customer",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$storeId",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$customer",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getStoreId",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!",["T_VARIABLE","$storeId",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$storeId",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getWebsiteStoreId",211],"(",["T_VARIABLE","$customer",211],")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$customerEmailData",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getFullCustomerObject",214],"(",["T_VARIABLE","$customer",214],")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","sendEmailTemplate",216],"(",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$customer",217],",",["T_WHITESPACE","\n            ",217],["T_STRING","self",218],["T_DOUBLE_COLON","::",218],["T_STRING","XML_PATH_RESET_PASSWORD_TEMPLATE",218],",",["T_WHITESPACE","\n            ",218],["T_STRING","self",219],["T_DOUBLE_COLON","::",219],["T_STRING","XML_PATH_FORGOT_EMAIL_IDENTITY",219],",",["T_WHITESPACE","\n            ",219],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$customerEmailData",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'store'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","storeManager",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getStore",220],"(",["T_VARIABLE","$storeId",220],")","]",",",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$storeId",221],["T_WHITESPACE","\n        ",221],")",";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Send corresponding email template\n     *\n     * @param CustomerInterface $customer\n     * @param string $template configuration path of email template\n     * @param string $sender configuration path of email identity\n     * @param array $templateParams\n     * @param int|null $storeId\n     * @param string $email\n     * @return void\n     *\/",225],["T_WHITESPACE","\n    ",235],["T_PRIVATE","private",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","sendEmailTemplate",236],"(",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$customer",237],",",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$template",238],",",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$sender",239],",",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$templateParams",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[","]",",",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$storeId",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","null",241],",",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$email",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","null",242],["T_WHITESPACE","\n    ",242],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$templateId",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","scopeConfig",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getValue",244],"(",["T_VARIABLE","$template",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'store'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$storeId",244],")",";",["T_WHITESPACE","\n        ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$email",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_STRING","null",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$email",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$customer",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getEmail",246],"(",")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$transport",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","transportBuilder",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","setTemplateIdentifier",249],"(",["T_VARIABLE","$templateId",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","setTemplateOptions",250],"(","[",["T_CONSTANT_ENCAPSED_STRING","'area'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'frontend'",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'store'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$storeId",250],"]",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","setTemplateVars",251],"(",["T_VARIABLE","$templateParams",251],")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","setFrom",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","scopeConfig",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getValue",252],"(",["T_VARIABLE","$sender",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'store'",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$storeId",252],")",")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","addTo",253],"(",["T_VARIABLE","$email",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","customerViewHelper",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getCustomerName",253],"(",["T_VARIABLE","$customer",253],")",")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","getTransport",254],"(",")",";",["T_WHITESPACE","\n\n        ",254],["T_VARIABLE","$transport",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","sendMessage",256],"(",")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Create an object with data merged from Customer and CustomerSecure\n     *\n     * @param CustomerInterface $customer\n     * @return \\Magento\\Customer\\Model\\Data\\CustomerSecure\n     *\/",259],["T_WHITESPACE","\n    ",264],["T_PRIVATE","private",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","getFullCustomerObject",265],"(",["T_VARIABLE","$customer",265],")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_COMMENT","\/\/ No need to flatten the custom attributes or nested objects since the only usage is for email templates and\n",267],["T_WHITESPACE","        ",268],["T_COMMENT","\/\/ object passed for events\n",268],["T_WHITESPACE","        ",269],["T_VARIABLE","$mergedCustomerData",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","customerRegistry",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","retrieveSecureData",269],"(",["T_VARIABLE","$customer",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getId",269],"(",")",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$customerData",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","dataProcessor",270],["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","buildOutputDataArray",271],"(",["T_VARIABLE","$customer",271],",",["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Customer",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Api",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Data",271],["T_NS_SEPARATOR","\\",271],["T_STRING","CustomerInterface",271],["T_DOUBLE_COLON","::",271],["T_CLASS","class",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$mergedCustomerData",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","addData",272],"(",["T_VARIABLE","$customerData",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$mergedCustomerData",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","setData",273],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","customerViewHelper",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getCustomerName",273],"(",["T_VARIABLE","$customer",273],")",")",";",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$mergedCustomerData",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Get either first store ID from a set website or the provided as default\n     *\n     * @param CustomerInterface $customer\n     * @param int|string|null $defaultStoreId\n     * @return int\n     *\/",277],["T_WHITESPACE","\n    ",283],["T_PRIVATE","private",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getWebsiteStoreId",284],"(",["T_VARIABLE","$customer",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$defaultStoreId",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","null",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$customer",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getWebsiteId",286],"(",")",["T_WHITESPACE"," ",286],["T_IS_NOT_EQUAL","!=",286],["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_EMPTY","empty",286],"(",["T_VARIABLE","$defaultStoreId",286],")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$storeIds",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","storeManager",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getWebsite",287],"(",["T_VARIABLE","$customer",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getWebsiteId",287],"(",")",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","getStoreIds",287],"(",")",";",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$defaultStoreId",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","reset",288],"(",["T_VARIABLE","$storeIds",288],")",";",["T_WHITESPACE","\n        ",288],"}",["T_WHITESPACE","\n        ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$defaultStoreId",290],";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Send email with new customer password\n     *\n     * @param CustomerInterface $customer\n     * @return void\n     *\/",293],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","passwordReminder",299],"(",["T_STRING","CustomerInterface",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$customer",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$storeId",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getWebsiteStoreId",301],"(",["T_VARIABLE","$customer",301],")",";",["T_WHITESPACE","\n        ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!",["T_VARIABLE","$storeId",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$storeId",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","storeManager",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getStore",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","getId",303],"(",")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_VARIABLE","$customerEmailData",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getFullCustomerObject",306],"(",["T_VARIABLE","$customer",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","sendEmailTemplate",308],"(",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$customer",309],",",["T_WHITESPACE","\n            ",309],["T_STRING","self",310],["T_DOUBLE_COLON","::",310],["T_STRING","XML_PATH_REMIND_EMAIL_TEMPLATE",310],",",["T_WHITESPACE","\n            ",310],["T_STRING","self",311],["T_DOUBLE_COLON","::",311],["T_STRING","XML_PATH_FORGOT_EMAIL_IDENTITY",311],",",["T_WHITESPACE","\n            ",311],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$customerEmailData",312],",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'store'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","storeManager",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getStore",312],"(",["T_VARIABLE","$storeId",312],")","]",",",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$storeId",313],["T_WHITESPACE","\n        ",313],")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Send email with reset password confirmation link\n     *\n     * @param CustomerInterface $customer\n     * @return void\n     *\/",317],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","passwordResetConfirmation",323],"(",["T_STRING","CustomerInterface",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$customer",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$storeId",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","storeManager",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getStore",325],"(",")",["T_OBJECT_OPERATOR","->",325],["T_STRING","getId",325],"(",")",";",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","!",["T_VARIABLE","$storeId",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$storeId",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getWebsiteStoreId",327],"(",["T_VARIABLE","$customer",327],")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$customerEmailData",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getFullCustomerObject",330],"(",["T_VARIABLE","$customer",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","sendEmailTemplate",332],"(",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$customer",333],",",["T_WHITESPACE","\n            ",333],["T_STRING","self",334],["T_DOUBLE_COLON","::",334],["T_STRING","XML_PATH_FORGOT_EMAIL_TEMPLATE",334],",",["T_WHITESPACE","\n            ",334],["T_STRING","self",335],["T_DOUBLE_COLON","::",335],["T_STRING","XML_PATH_FORGOT_EMAIL_IDENTITY",335],",",["T_WHITESPACE","\n            ",335],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$customerEmailData",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'store'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","storeManager",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getStore",336],"(",["T_VARIABLE","$storeId",336],")","]",",",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$storeId",337],["T_WHITESPACE","\n        ",337],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Send email with new account related information\n     *\n     * @param CustomerInterface $customer\n     * @param string $type\n     * @param string $backUrl\n     * @param string $storeId\n     * @param string $sendemailStoreId\n     * @return void\n     * @throws LocalizedException\n     *\/",341],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","newAccount",352],"(",["T_WHITESPACE","\n        ",352],["T_STRING","CustomerInterface",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$customer",353],",",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$type",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","self",354],["T_DOUBLE_COLON","::",354],["T_STRING","NEW_ACCOUNT_EMAIL_REGISTERED",354],",",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$backUrl",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","''",355],",",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$storeId",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],",",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$sendemailStoreId",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","null",357],["T_WHITESPACE","\n    ",357],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$types",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","self",359],["T_DOUBLE_COLON","::",359],["T_STRING","TEMPLATE_TYPES",359],";",["T_WHITESPACE","\n\n        ",359],["T_IF","if",361],["T_WHITESPACE"," ",361],"(","!",["T_ISSET","isset",361],"(",["T_VARIABLE","$types",361],"[",["T_VARIABLE","$type",361],"]",")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_THROW","throw",362],["T_WHITESPACE"," ",362],["T_NEW","new",362],["T_WHITESPACE"," ",362],["T_STRING","LocalizedException",362],"(",["T_STRING","__",362],"(",["T_CONSTANT_ENCAPSED_STRING","'Please correct the transactional account email type.'",362],")",")",";",["T_WHITESPACE","\n        ",362],"}",["T_WHITESPACE","\n\n        ",363],["T_IF","if",365],["T_WHITESPACE"," ",365],"(","!",["T_VARIABLE","$storeId",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$storeId",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getWebsiteStoreId",366],"(",["T_VARIABLE","$customer",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$sendemailStoreId",366],")",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n\n        ",367],["T_VARIABLE","$store",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","storeManager",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getStore",369],"(",["T_VARIABLE","$customer",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getStoreId",369],"(",")",")",";",["T_WHITESPACE","\n\n        ",369],["T_VARIABLE","$customerEmailData",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getFullCustomerObject",371],"(",["T_VARIABLE","$customer",371],")",";",["T_WHITESPACE","\n\n        ",371],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","sendEmailTemplate",373],"(",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$customer",374],",",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$types",375],"[",["T_VARIABLE","$type",375],"]",",",["T_WHITESPACE","\n            ",375],["T_STRING","self",376],["T_DOUBLE_COLON","::",376],["T_STRING","XML_PATH_REGISTER_EMAIL_IDENTITY",376],",",["T_WHITESPACE","\n            ",376],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$customerEmailData",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'back_url'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$backUrl",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'store'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$store",377],"]",",",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$storeId",378],["T_WHITESPACE","\n        ",378],")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n",380],"}",["T_WHITESPACE","\n",381]]