[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Form Element File Data Model\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Metadata",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Form",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FileProcessor",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FileProcessorFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ImageContentInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ObjectManager",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UploaderFactory",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Filesystem",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","App",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Filesystem",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DirectoryList",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Api",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ArrayObjectSearch",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","File",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","AbstractData",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * Validator for check not protected extensions\n     *\n     * @var \\Magento\\MediaStorage\\Model\\File\\Validator\\NotProtectedExtension\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_validatorNotProtectedExtensions",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Core data\n     *\n     * @var \\Magento\\Framework\\Url\\EncoderInterface\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$urlEncoder",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\MediaStorage\\Model\\File\\Validator\\NotProtectedExtension\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_fileValidator",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var Filesystem\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_fileSystem",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var UploaderFactory\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$uploaderFactory",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var FileProcessor\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$fileProcessor",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var FileProcessorFactory\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$fileProcessorFactory",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Customer\\Api\\Data\\AttributeMetadataInterface $attribute\n     * @param \\Magento\\Framework\\Locale\\ResolverInterface $localeResolver\n     * @param null $value\n     * @param string $entityTypeCode\n     * @param bool $isAjax\n     * @param \\Magento\\Framework\\Url\\EncoderInterface $urlEncoder\n     * @param \\Magento\\MediaStorage\\Model\\File\\Validator\\NotProtectedExtension $fileValidator\n     * @param Filesystem $fileSystem\n     * @param UploaderFactory $uploaderFactory\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",63],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","__construct",77],"(",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Stdlib",78],["T_NS_SEPARATOR","\\",78],["T_STRING","DateTime",78],["T_NS_SEPARATOR","\\",78],["T_STRING","TimezoneInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$localeDate",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Psr",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Log",79],["T_NS_SEPARATOR","\\",79],["T_STRING","LoggerInterface",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$logger",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Customer",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Api",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Data",80],["T_NS_SEPARATOR","\\",80],["T_STRING","AttributeMetadataInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$attribute",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Locale",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ResolverInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$localeResolver",81],",",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$value",82],",",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$entityTypeCode",83],",",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$isAjax",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Framework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Url",85],["T_NS_SEPARATOR","\\",85],["T_STRING","EncoderInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$urlEncoder",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","MediaStorage",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","File",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Validator",86],["T_NS_SEPARATOR","\\",86],["T_STRING","NotProtectedExtension",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$fileValidator",86],",",["T_WHITESPACE","\n        ",86],["T_STRING","Filesystem",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$fileSystem",87],",",["T_WHITESPACE","\n        ",87],["T_STRING","UploaderFactory",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$uploaderFactory",88],["T_WHITESPACE","\n    ",88],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n        ",89],["T_STRING","parent",90],["T_DOUBLE_COLON","::",90],["T_STRING","__construct",90],"(",["T_VARIABLE","$localeDate",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$logger",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$attribute",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$localeResolver",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$entityTypeCode",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$isAjax",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","urlEncoder",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$urlEncoder",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_fileValidator",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$fileValidator",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_fileSystem",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$fileSystem",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","uploaderFactory",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$uploaderFactory",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",97],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","extractValue",101],"(",["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Framework",101],["T_NS_SEPARATOR","\\",101],["T_STRING","App",101],["T_NS_SEPARATOR","\\",101],["T_STRING","RequestInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$request",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$extend",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_getRequestValue",103],"(",["T_VARIABLE","$request",103],")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$attrCode",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getAttribute",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getAttributeCode",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_requestScope",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$value",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"[","]",";",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","strpos",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_requestScope",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'\/'",108],")",["T_WHITESPACE"," ",108],["T_IS_NOT_IDENTICAL","!==",108],["T_WHITESPACE"," ",108],["T_STRING","false",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$scopes",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","explode",109],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_requestScope",109],")",";",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$mainScope",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","array_shift",110],"(",["T_VARIABLE","$scopes",110],")",";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE"," ",111],["T_ELSE","else",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$mainScope",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_requestScope",112],";",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$scopes",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[","]",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_EMPTY","empty",116],"(",["T_VARIABLE","$_FILES",116],"[",["T_VARIABLE","$mainScope",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$_FILES",117],"[",["T_VARIABLE","$mainScope",117],"]",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$fileKey",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$scopeData",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$scopes",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$scopeName",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_ISSET","isset",119],"(",["T_VARIABLE","$scopeData",119],"[",["T_VARIABLE","$scopeName",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                            ",119],["T_VARIABLE","$scopeData",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$scopeData",120],"[",["T_VARIABLE","$scopeName",120],"]",";",["T_WHITESPACE","\n                        ",120],"}",["T_WHITESPACE"," ",121],["T_ELSE","else",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                            ",121],["T_VARIABLE","$scopeData",122],"[",["T_VARIABLE","$scopeName",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n                        ",122],"}",["T_WHITESPACE","\n                    ",123],"}",["T_WHITESPACE","\n\n                    ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$scopeData",126],"[",["T_VARIABLE","$attrCode",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                        ",126],["T_VARIABLE","$value",127],"[",["T_VARIABLE","$fileKey",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$scopeData",127],"[",["T_VARIABLE","$attrCode",127],"]",";",["T_WHITESPACE","\n                    ",127],"}",["T_WHITESPACE","\n                ",128],"}",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_ISSET","isset",130],"(",["T_VARIABLE","$extend",130],"[",["T_LNUMBER","0",130],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",130],"]",")",["T_WHITESPACE"," ",130],["T_BOOLEAN_AND","&&",130],["T_WHITESPACE"," ",130],"!",["T_EMPTY","empty",130],"(",["T_VARIABLE","$extend",130],"[",["T_LNUMBER","0",130],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",130],"]",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_DOC_COMMENT","\/**\n                 * This case is required by file uploader UI component\n                 *\n                 * $extend[0]['file'] - uses for AJAX validation\n                 * $extend[0] - uses for POST request\n                 *\/",131],["T_WHITESPACE","\n                ",136],["T_VARIABLE","$value",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getIsAjaxRequest",137],"(",")",["T_WHITESPACE"," ",137],"?",["T_WHITESPACE"," ",137],["T_VARIABLE","$extend",137],"[",["T_LNUMBER","0",137],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",137],"]",["T_WHITESPACE"," ",137],":",["T_WHITESPACE"," ",137],["T_VARIABLE","$extend",137],"[",["T_LNUMBER","0",137],"]",";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE"," ",138],["T_ELSE","else",138],["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$value",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"[","]",";",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE"," ",141],["T_ELSE","else",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_ISSET","isset",142],"(",["T_VARIABLE","$_FILES",142],"[",["T_VARIABLE","$attrCode",142],"]",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$value",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$_FILES",143],"[",["T_VARIABLE","$attrCode",143],"]",";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE"," ",144],["T_ELSE","else",144],["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$value",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],"[","]",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_IF","if",149],["T_WHITESPACE"," ",149],"(","!",["T_EMPTY","empty",149],"(",["T_VARIABLE","$extend",149],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",149],"]",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$value",150],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","true",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$value",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Validate file by attribute validate rules\n     * Return array of errors\n     *\n     * @param array $value\n     * @return string[]\n     *\/",156],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_validateByRules",163],"(",["T_VARIABLE","$value",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$label",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$value",165],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",165],"]",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$rules",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getAttribute",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getValidationRules",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$extension",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","pathinfo",167],"(",["T_VARIABLE","$value",167],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",167],"]",",",["T_WHITESPACE"," ",167],["T_STRING","PATHINFO_EXTENSION",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$fileExtensions",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","ArrayObjectSearch",168],["T_DOUBLE_COLON","::",168],["T_STRING","getArrayElementByName",168],"(",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$rules",169],",",["T_WHITESPACE","\n            ",169],["T_CONSTANT_ENCAPSED_STRING","'file_extensions'",170],["T_WHITESPACE","\n        ",170],")",";",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$fileExtensions",172],["T_WHITESPACE"," ",172],["T_IS_NOT_IDENTICAL","!==",172],["T_WHITESPACE"," ",172],["T_STRING","null",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$extensions",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","explode",173],"(",["T_CONSTANT_ENCAPSED_STRING","','",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$fileExtensions",173],")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$extensions",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","array_map",174],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$extensions",174],")",";",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(","!",["T_STRING","in_array",175],"(",["T_VARIABLE","$extension",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$extensions",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],"[",["T_STRING","__",176],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" is not a valid file extension.'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$extension",176],")","]",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_DOC_COMMENT","\/**\n         * Check protected file extension\n         *\/",180],["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_fileValidator",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","isValid",183],"(",["T_VARIABLE","$extension",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_fileValidator",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getMessages",184],"(",")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_IF","if",187],["T_WHITESPACE"," ",187],"(","!",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_isUploadedFile",187],"(",["T_VARIABLE","$value",187],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",187],"]",")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],"[",["T_STRING","__",188],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" is not a valid file.'",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$label",188],")","]",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$maxFileSize",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","ArrayObjectSearch",191],["T_DOUBLE_COLON","::",191],["T_STRING","getArrayElementByName",191],"(",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$rules",192],",",["T_WHITESPACE","\n            ",192],["T_CONSTANT_ENCAPSED_STRING","'max_file_size'",193],["T_WHITESPACE","\n        ",193],")",";",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$maxFileSize",195],["T_WHITESPACE"," ",195],["T_IS_NOT_IDENTICAL","!==",195],["T_WHITESPACE"," ",195],["T_STRING","null",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$size",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$value",196],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",196],"]",";",["T_WHITESPACE","\n            ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$maxFileSize",197],["T_WHITESPACE"," ",197],"<",["T_WHITESPACE"," ",197],["T_VARIABLE","$size",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],"[",["T_STRING","__",198],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" exceeds the allowed file size.'",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$label",198],")","]",";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_RETURN","return",202],["T_WHITESPACE"," ",202],"[","]",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Helper function that checks if the file was uploaded.\n     *\n     * This helper function is needed for testing.\n     *\n     * @param string $filename\n     * @return bool\n     *\/",205],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_isUploadedFile",213],"(",["T_VARIABLE","$filename",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_STRING","is_uploaded_file",215],"(",["T_VARIABLE","$filename",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_STRING","true",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_COMMENT","\/\/ This case is required for file uploader UI component\n",219],["T_WHITESPACE","        ",220],["T_VARIABLE","$temporaryFile",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","FileProcessor",220],["T_DOUBLE_COLON","::",220],["T_STRING","TMP_DIR",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'\/'",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_STRING","pathinfo",220],"(",["T_VARIABLE","$filename",220],")","[",["T_CONSTANT_ENCAPSED_STRING","'basename'",220],"]",";",["T_WHITESPACE","\n        ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getFileProcessor",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","isExist",221],"(",["T_VARIABLE","$temporaryFile",221],")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_STRING","true",222],";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_STRING","false",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",228],["T_WHITESPACE","\n    ",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","validateValue",233],"(",["T_VARIABLE","$value",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getIsAjaxRequest",235],"(",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_STRING","true",236],";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$errors",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],"[","]",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$attribute",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getAttribute",240],"(",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$label",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$attribute",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getStoreLabel",241],"(",")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$toDelete",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"!",["T_EMPTY","empty",243],"(",["T_VARIABLE","$value",243],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",243],"]",")",["T_WHITESPACE"," ",243],"?",["T_WHITESPACE"," ",243],["T_STRING","true",243],["T_WHITESPACE"," ",243],":",["T_WHITESPACE"," ",243],["T_STRING","false",243],";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$toUpload",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],"!",["T_EMPTY","empty",244],"(",["T_VARIABLE","$value",244],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",244],"]",")",["T_WHITESPACE"," ",244],"?",["T_WHITESPACE"," ",244],["T_STRING","true",244],["T_WHITESPACE"," ",244],":",["T_WHITESPACE"," ",244],["T_STRING","false",244],";",["T_WHITESPACE","\n\n        ",244],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!",["T_VARIABLE","$toUpload",246],["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],"!",["T_VARIABLE","$toDelete",246],["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_value",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_STRING","true",247],";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_VARIABLE","$attribute",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isRequired",250],"(",")",["T_WHITESPACE"," ",250],["T_BOOLEAN_AND","&&",250],["T_WHITESPACE"," ",250],"!",["T_VARIABLE","$toUpload",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_STRING","true",251],";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$attribute",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","isRequired",254],"(",")",["T_WHITESPACE"," ",254],["T_BOOLEAN_AND","&&",254],["T_WHITESPACE"," ",254],"!",["T_VARIABLE","$toUpload",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$errors",255],"[","]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","__",255],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%1\" is a required value.'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$label",255],")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$toUpload",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$errors",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","array_merge",259],"(",["T_VARIABLE","$errors",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_validateByRules",259],"(",["T_VARIABLE","$value",259],")",")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_STRING","count",262],"(",["T_VARIABLE","$errors",262],")",["T_WHITESPACE"," ",262],["T_IS_EQUAL","==",262],["T_WHITESPACE"," ",262],["T_LNUMBER","0",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_STRING","true",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$errors",266],";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return ImageContentInterface|array|string|null\n     *\/",269],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","compactValue",274],"(",["T_VARIABLE","$value",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getIsAjaxRequest",276],"(",")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n\n        ",278],["T_COMMENT","\/\/ Remove outdated file (in the case of file uploader UI component)\n",280],["T_WHITESPACE","        ",281],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_EMPTY","empty",281],"(",["T_VARIABLE","$value",281],")",["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],"!",["T_EMPTY","empty",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_value",281],")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getFileProcessor",282],"(",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","removeUploadedFile",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_value",282],")",";",["T_WHITESPACE","\n            ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$value",283],";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_ISSET","isset",286],"(",["T_VARIABLE","$value",286],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",286],"]",")",["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],"!",["T_EMPTY","empty",286],"(",["T_VARIABLE","$value",286],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",286],"]",")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$value",287],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",287],"]",["T_WHITESPACE"," ",287],["T_IS_EQUAL","==",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_value",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_value",288],";",["T_WHITESPACE","\n            ",288],"}",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$result",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","processUiComponentValue",290],"(",["T_VARIABLE","$value",290],")",";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE"," ",291],["T_ELSE","else",291],["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_VARIABLE","$result",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","processInputFieldValue",292],"(",["T_VARIABLE","$value",292],")",";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n        ",293],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$result",295],";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Process file uploader UI component data\n     *\n     * @param array $value\n     * @return string|null\n     *\/",298],["T_WHITESPACE","\n    ",303],["T_PROTECTED","protected",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","processUiComponentValue",304],"(",["T_ARRAY","array",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$value",304],")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$result",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getFileProcessor",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","moveTemporaryFile",306],"(",["T_VARIABLE","$value",306],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",306],"]",")",";",["T_WHITESPACE","\n        ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$result",307],";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_DOC_COMMENT","\/**\n     * Process input type=file component data\n     *\n     * @param string $value\n     * @return bool|int|string\n     *\/",310],["T_WHITESPACE","\n    ",315],["T_PROTECTED","protected",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","processInputFieldValue",316],"(",["T_VARIABLE","$value",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$toDelete",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","false",318],";",["T_WHITESPACE","\n        ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_value",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(","!",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getAttribute",320],"(",")",["T_OBJECT_OPERATOR","->",320],["T_STRING","isRequired",320],"(",")",["T_WHITESPACE","\n                ",320],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE"," ",321],"!",["T_EMPTY","empty",321],"(",["T_VARIABLE","$value",321],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",321],"]",")",["T_WHITESPACE","\n            ",321],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_VARIABLE","$toDelete",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","true",323],";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n            ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(","!",["T_EMPTY","empty",325],"(",["T_VARIABLE","$value",325],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",325],"]",")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$toDelete",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","true",326],";",["T_WHITESPACE","\n            ",326],"}",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$mediaDir",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_fileSystem",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getDirectoryWrite",330],"(",["T_STRING","DirectoryList",330],["T_DOUBLE_COLON","::",330],["T_STRING","MEDIA",330],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$result",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_value",331],";",["T_WHITESPACE","\n\n        ",331],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_VARIABLE","$toDelete",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$mediaDir",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","delete",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_entityTypeCode",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'\/'",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_STRING","ltrim",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_value",334],",",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'\/'",334],")",")",";",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$result",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","''",335],";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n\n        ",336],["T_IF","if",338],["T_WHITESPACE"," ",338],"(","!",["T_EMPTY","empty",338],"(",["T_VARIABLE","$value",338],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",338],"]",")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_TRY","try",339],["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                ",339],["T_VARIABLE","$uploader",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","uploaderFactory",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","create",340],"(","[",["T_CONSTANT_ENCAPSED_STRING","'fileId'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$value",340],"]",")",";",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$uploader",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setFilesDispersion",341],"(",["T_STRING","true",341],")",";",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$uploader",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","setFilenamesCaseSensitivity",342],"(",["T_STRING","false",342],")",";",["T_WHITESPACE","\n                ",342],["T_VARIABLE","$uploader",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","setAllowRenameFiles",343],"(",["T_STRING","true",343],")",";",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$uploader",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","save",344],"(",["T_VARIABLE","$mediaDir",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getAbsolutePath",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_entityTypeCode",344],")",",",["T_WHITESPACE"," ",344],["T_VARIABLE","$value",344],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",344],"]",")",";",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$result",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$uploader",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getUploadedFileName",345],"(",")",";",["T_WHITESPACE","\n            ",345],"}",["T_WHITESPACE"," ",346],["T_CATCH","catch",346],["T_WHITESPACE"," ",346],"(",["T_NS_SEPARATOR","\\",346],["T_STRING","Exception",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$e",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_logger",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","critical",347],"(",["T_VARIABLE","$e",347],")",";",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$result",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",354],["T_WHITESPACE","\n    ",356],["T_PUBLIC","public",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","restoreValue",357],"(",["T_VARIABLE","$value",357],")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_value",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",362],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","outputValue",365],"(",["T_VARIABLE","$format",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_NS_SEPARATOR","\\",365],["T_STRING","Magento",365],["T_NS_SEPARATOR","\\",365],["T_STRING","Customer",365],["T_NS_SEPARATOR","\\",365],["T_STRING","Model",365],["T_NS_SEPARATOR","\\",365],["T_STRING","Metadata",365],["T_NS_SEPARATOR","\\",365],["T_STRING","ElementFactory",365],["T_DOUBLE_COLON","::",365],["T_STRING","OUTPUT_FORMAT_TEXT",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$output",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","''",367],";",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_value",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_SWITCH","switch",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$format",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                ",369],["T_CASE","case",370],["T_WHITESPACE"," ",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Magento",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Customer",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Model",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Metadata",370],["T_NS_SEPARATOR","\\",370],["T_STRING","ElementFactory",370],["T_DOUBLE_COLON","::",370],["T_STRING","OUTPUT_FORMAT_JSON",370],":",["T_WHITESPACE","\n                    ",370],["T_VARIABLE","$output",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_value",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'url_key'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","urlEncoder",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","encode",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_value",371],")","]",";",["T_WHITESPACE","\n                    ",371],["T_BREAK","break",372],";",["T_WHITESPACE","\n            ",372],"}",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n\n        ",374],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$output",376],";",["T_WHITESPACE","\n    ",376],"}",["T_WHITESPACE","\n\n    ",377],["T_DOC_COMMENT","\/**\n     * Get FileProcessor instance\n     *\n     * @return FileProcessor\n     *\n     * @deprecated\n     *\/",379],["T_WHITESPACE","\n    ",385],["T_PROTECTED","protected",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","getFileProcessor",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","fileProcessor",388],["T_WHITESPACE"," ",388],["T_IS_IDENTICAL","===",388],["T_WHITESPACE"," ",388],["T_STRING","null",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","fileProcessor",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getFileProcessorFactory",389],"(",")",["T_OBJECT_OPERATOR","->",389],["T_STRING","create",389],"(","[",["T_WHITESPACE","\n                ",389],["T_CONSTANT_ENCAPSED_STRING","'entityTypeCode'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_entityTypeCode",390],",",["T_WHITESPACE","\n            ",390],"]",")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n        ",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","fileProcessor",393],";",["T_WHITESPACE","\n    ",393],"}",["T_WHITESPACE","\n\n    ",394],["T_DOC_COMMENT","\/**\n     * Get FileProcessorFactory instance\n     *\n     * @return FileProcessorFactory\n     *\n     * @deprecated\n     *\/",396],["T_WHITESPACE","\n    ",402],["T_PROTECTED","protected",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","getFileProcessorFactory",403],"(",")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","fileProcessorFactory",405],["T_WHITESPACE"," ",405],["T_IS_IDENTICAL","===",405],["T_WHITESPACE"," ",405],["T_STRING","null",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","fileProcessorFactory",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STRING","ObjectManager",406],["T_DOUBLE_COLON","::",406],["T_STRING","getInstance",406],"(",")",["T_WHITESPACE","\n                ",406],["T_OBJECT_OPERATOR","->",407],["T_STRING","get",407],"(",["T_NS_SEPARATOR","\\",407],["T_STRING","Magento",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Customer",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Model",407],["T_NS_SEPARATOR","\\",407],["T_STRING","FileProcessorFactory",407],["T_DOUBLE_COLON","::",407],["T_CLASS","class",407],")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n        ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","fileProcessorFactory",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n",410],"}",["T_WHITESPACE","\n",411]]