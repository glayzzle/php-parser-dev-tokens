[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Customer address entity resource model\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceModel",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Address",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","CustomerAddressModel",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","CustomerModel",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceModel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Address",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Collection",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Search",13],["T_NS_SEPARATOR","\\",13],["T_STRING","FilterGroup",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Api",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SearchCriteria",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CollectionProcessorInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SearchCriteriaInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","InputException",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",18],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","AddressRepository",21],["T_WHITESPACE"," ",21],["T_IMPLEMENTS","implements",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Customer",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Api",21],["T_NS_SEPARATOR","\\",21],["T_STRING","AddressRepositoryInterface",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * Directory data\n     *\n     * @var \\Magento\\Directory\\Helper\\Data\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$directoryData",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\AddressFactory\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$addressFactory",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\AddressRegistry\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$addressRegistry",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\CustomerRegistry\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$customerRegistry",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\ResourceModel\\Address\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$addressResourceModel",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\Data\\AddressSearchResultsInterfaceFactory\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$addressSearchResultsFactory",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\ResourceModel\\Address\\CollectionFactory\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$addressCollectionFactory",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$extensionAttributesJoinProcessor",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @var CollectionProcessorInterface\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$collectionProcessor",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Customer\\Model\\AddressFactory $addressFactory\n     * @param \\Magento\\Customer\\Model\\AddressRegistry $addressRegistry\n     * @param \\Magento\\Customer\\Model\\CustomerRegistry $customerRegistry\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\Address $addressResourceModel\n     * @param \\Magento\\Directory\\Helper\\Data $directoryData\n     * @param \\Magento\\Customer\\Api\\Data\\AddressSearchResultsInterfaceFactory $addressSearchResultsFactory\n     * @param \\Magento\\Customer\\Model\\ResourceModel\\Address\\CollectionFactory $addressCollectionFactory\n     * @param \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface $extensionAttributesJoinProcessor\n     * @param CollectionProcessorInterface $collectionProcessor\n     *\/",70],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Customer",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","AddressFactory",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$addressFactory",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Customer",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","AddressRegistry",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$addressRegistry",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Customer",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","CustomerRegistry",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$customerRegistry",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Customer",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","ResourceModel",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Address",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$addressResourceModel",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Directory",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Helper",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Data",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$directoryData",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Customer",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Api",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Data",87],["T_NS_SEPARATOR","\\",87],["T_STRING","AddressSearchResultsInterfaceFactory",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$addressSearchResultsFactory",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Customer",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","ResourceModel",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Address",88],["T_NS_SEPARATOR","\\",88],["T_STRING","CollectionFactory",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$addressCollectionFactory",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Api",89],["T_NS_SEPARATOR","\\",89],["T_STRING","ExtensionAttribute",89],["T_NS_SEPARATOR","\\",89],["T_STRING","JoinProcessorInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$extensionAttributesJoinProcessor",89],",",["T_WHITESPACE","\n        ",89],["T_STRING","CollectionProcessorInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$collectionProcessor",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","null",90],["T_WHITESPACE","\n    ",90],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","addressFactory",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$addressFactory",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","addressRegistry",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$addressRegistry",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","customerRegistry",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$customerRegistry",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addressResource",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$addressResourceModel",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","directoryData",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$directoryData",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","addressSearchResultsFactory",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$addressSearchResultsFactory",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addressCollectionFactory",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$addressCollectionFactory",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","extensionAttributesJoinProcessor",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$extensionAttributesJoinProcessor",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","collectionProcessor",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$collectionProcessor",100],["T_WHITESPACE"," ",100],"?",":",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getCollectionProcessor",100],"(",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Save customer address.\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\AddressInterface $address\n     * @return \\Magento\\Customer\\Api\\Data\\AddressInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",103],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","save",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Customer",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Api",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Data",110],["T_NS_SEPARATOR","\\",110],["T_STRING","AddressInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$address",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$addressModel",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","null",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$customerModel",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","customerRegistry",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","retrieve",113],"(",["T_VARIABLE","$address",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getCustomerId",113],"(",")",")",";",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$address",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getId",114],"(",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$addressModel",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","addressRegistry",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","retrieve",115],"(",["T_VARIABLE","$address",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getId",115],"(",")",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$addressModel",118],["T_WHITESPACE"," ",118],["T_IS_IDENTICAL","===",118],["T_WHITESPACE"," ",118],["T_STRING","null",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Address $addressModel *\/",119],["T_WHITESPACE","\n            ",119],["T_VARIABLE","$addressModel",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","addressFactory",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","create",120],"(",")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$addressModel",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","updateData",121],"(",["T_VARIABLE","$address",121],")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$addressModel",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setCustomer",122],"(",["T_VARIABLE","$customerModel",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE"," ",123],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$addressModel",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","updateData",124],"(",["T_VARIABLE","$address",124],")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$errors",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$addressModel",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","validate",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$errors",128],["T_WHITESPACE"," ",128],["T_IS_NOT_IDENTICAL","!==",128],["T_WHITESPACE"," ",128],["T_STRING","true",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$inputException",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","InputException",129],"(",")",";",["T_WHITESPACE","\n            ",129],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$errors",130],["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$error",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$inputException",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","addError",131],"(",["T_VARIABLE","$error",131],")",";",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n            ",132],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$inputException",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$addressModel",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","save",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$address",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setId",136],"(",["T_VARIABLE","$addressModel",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getId",136],"(",")",")",";",["T_WHITESPACE","\n        ",136],["T_COMMENT","\/\/ Clean up the customer registry since the Address save has a\n",137],["T_WHITESPACE","        ",138],["T_COMMENT","\/\/ side effect on customer : \\Magento\\Customer\\Model\\ResourceModel\\Address::_afterSave\n",138],["T_WHITESPACE","        ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","addressRegistry",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","push",139],"(",["T_VARIABLE","$addressModel",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","updateAddressCollection",140],"(",["T_VARIABLE","$customerModel",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$addressModel",140],")",";",["T_WHITESPACE","\n\n        ",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$addressModel",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getDataModel",142],"(",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * @param Customer $customer\n     * @param Address $address\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PRIVATE","private",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","updateAddressCollection",151],"(",["T_STRING","CustomerModel",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$customer",151],",",["T_WHITESPACE"," ",151],["T_STRING","CustomerAddressModel",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$address",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$customer",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getAddressesCollection",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","removeItemByKey",153],"(",["T_VARIABLE","$address",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getId",153],"(",")",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$customer",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getAddressesCollection",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","addItem",154],"(",["T_VARIABLE","$address",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Retrieve customer address.\n     *\n     * @param int $addressId\n     * @return \\Magento\\Customer\\Api\\Data\\AddressInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",157],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","getById",164],"(",["T_VARIABLE","$addressId",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$address",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","addressRegistry",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","retrieve",166],"(",["T_VARIABLE","$addressId",166],")",";",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$address",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getDataModel",167],"(",")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Retrieve customers addresses matching the specified criteria.\n     *\n     * @param SearchCriteriaInterface $searchCriteria\n     * @return \\Magento\\Customer\\Api\\Data\\AddressSearchResultsInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",170],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","getList",177],"(",["T_STRING","SearchCriteriaInterface",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$searchCriteria",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_DOC_COMMENT","\/** @var Collection $collection *\/",179],["T_WHITESPACE","\n        ",179],["T_VARIABLE","$collection",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","addressCollectionFactory",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","create",180],"(",")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","extensionAttributesJoinProcessor",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","process",181],"(",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$collection",182],",",["T_WHITESPACE","\n            ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Customer",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Api",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Data",183],["T_NS_SEPARATOR","\\",183],["T_STRING","AddressInterface",183],["T_DOUBLE_COLON","::",183],["T_CLASS","class",183],["T_WHITESPACE","\n        ",183],")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","collectionProcessor",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","process",186],"(",["T_VARIABLE","$searchCriteria",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$collection",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\AddressInterface[] $addresses *\/",188],["T_WHITESPACE","\n        ",188],["T_VARIABLE","$addresses",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],"[","]",";",["T_WHITESPACE","\n        ",189],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Address $address *\/",190],["T_WHITESPACE","\n        ",190],["T_FOREACH","foreach",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$collection",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getItems",191],"(",")",["T_WHITESPACE"," ",191],["T_AS","as",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$address",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$addresses",192],"[","]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getById",192],"(",["T_VARIABLE","$address",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getId",192],"(",")",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\AddressSearchResultsInterface $searchResults *\/",195],["T_WHITESPACE","\n        ",195],["T_VARIABLE","$searchResults",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","addressSearchResultsFactory",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","create",196],"(",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$searchResults",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setItems",197],"(",["T_VARIABLE","$addresses",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$searchResults",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setSearchCriteria",198],"(",["T_VARIABLE","$searchCriteria",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$searchResults",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","setTotalCount",199],"(",["T_VARIABLE","$collection",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getSize",199],"(",")",")",";",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$searchResults",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Helper function that adds a FilterGroup to the collection.\n     *\n     * @deprecated\n     * @param FilterGroup $filterGroup\n     * @param Collection $collection\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",203],["T_WHITESPACE","\n    ",211],["T_PROTECTED","protected",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","addFilterGroupToCollection",212],"(",["T_STRING","FilterGroup",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$filterGroup",212],",",["T_WHITESPACE"," ",212],["T_STRING","Collection",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$collection",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$fields",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"[","]",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$conditions",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],"[","]",";",["T_WHITESPACE","\n        ",215],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$filterGroup",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getFilters",216],"(",")",["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$filter",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$condition",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$filter",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getConditionType",217],"(",")",["T_WHITESPACE"," ",217],"?",["T_WHITESPACE"," ",217],["T_VARIABLE","$filter",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getConditionType",217],"(",")",["T_WHITESPACE"," ",217],":",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'eq'",217],";",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$fields",218],"[","]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$filter",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getField",218],"(",")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$condition",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$filter",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getValue",218],"(",")","]",";",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$conditions",219],"[","]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],"[",["T_VARIABLE","$condition",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$filter",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getValue",219],"(",")","]",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$fields",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$collection",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","addFieldToFilter",222],"(",["T_VARIABLE","$fields",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$conditions",222],")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Delete customer address.\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\AddressInterface $address\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",226],["T_WHITESPACE","\n    ",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","delete",233],"(",["T_NS_SEPARATOR","\\",233],["T_STRING","Magento",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Customer",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Api",233],["T_NS_SEPARATOR","\\",233],["T_STRING","Data",233],["T_NS_SEPARATOR","\\",233],["T_STRING","AddressInterface",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$address",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$addressId",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$address",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getId",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$address",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","addressRegistry",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","retrieve",236],"(",["T_VARIABLE","$addressId",236],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$customerModel",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","customerRegistry",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","retrieve",237],"(",["T_VARIABLE","$address",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getCustomerId",237],"(",")",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$customerModel",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getAddressesCollection",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","clear",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","addressResource",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","delete",239],"(",["T_VARIABLE","$address",239],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","addressRegistry",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","remove",240],"(",["T_VARIABLE","$addressId",240],")",";",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_STRING","true",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Delete customer address by ID.\n     *\n     * @param int $addressId\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",244],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","deleteById",252],"(",["T_VARIABLE","$addressId",252],")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$address",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","addressRegistry",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","retrieve",254],"(",["T_VARIABLE","$addressId",254],")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$customerModel",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","customerRegistry",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","retrieve",255],"(",["T_VARIABLE","$address",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getCustomerId",255],"(",")",")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$customerModel",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getAddressesCollection",256],"(",")",["T_OBJECT_OPERATOR","->",256],["T_STRING","removeItemByKey",256],"(",["T_VARIABLE","$addressId",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","addressResource",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","delete",257],"(",["T_VARIABLE","$address",257],")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","addressRegistry",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","remove",258],"(",["T_VARIABLE","$addressId",258],")",";",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_STRING","true",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Retrieve collection processor\n     *\n     * @deprecated\n     * @return CollectionProcessorInterface\n     *\/",262],["T_WHITESPACE","\n    ",267],["T_PRIVATE","private",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getCollectionProcessor",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","collectionProcessor",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","collectionProcessor",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","App",271],["T_NS_SEPARATOR","\\",271],["T_STRING","ObjectManager",271],["T_DOUBLE_COLON","::",271],["T_STRING","getInstance",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","get",271],"(",["T_WHITESPACE","\n                ",271],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Eav\\Model\\Api\\SearchCriteria\\CollectionProcessor'",272],["T_WHITESPACE","\n            ",272],")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","collectionProcessor",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n",276],"}",["T_WHITESPACE","\n",277]]