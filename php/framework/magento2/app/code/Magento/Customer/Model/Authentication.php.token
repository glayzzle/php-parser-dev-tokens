[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CustomerRepositoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceModel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CustomerRepository",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CustomerAuthUpdate",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Backend",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConfigInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Encryption",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EncryptorInterface",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","Encryptor",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InvalidEmailOrPasswordException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","State",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UserLockedException",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Class Authentication\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Authentication",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","AuthenticationInterface",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Configuration path to customer lockout threshold\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","LOCKOUT_THRESHOLD_PATH",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'customer\/password\/lockout_threshold'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Configuration path to customer max login failures number\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","MAX_FAILURES_PATH",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'customer\/password\/lockout_failures'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var CustomerRegistry\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$customerRegistry",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Backend configuration interface\n     *\n     * @var \\Magento\\Backend\\App\\ConfigInterface\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$backendConfig",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$dateTime",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var Encryptor\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$encryptor",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var CustomerRepositoryInterface\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$customerRepository",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var CustomerAuthUpdate\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$customerAuthUpdate",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @param CustomerRepositoryInterface $customerRepository\n     * @param CustomerRegistry $customerRegistry\n     * @param ConfigInterface $backendConfig\n     * @param \\Magento\\Framework\\Stdlib\\DateTime $dateTime\n     * @param Encryptor $encryptor\n     *\/",64],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","__construct",71],"(",["T_WHITESPACE","\n        ",71],["T_STRING","CustomerRepositoryInterface",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$customerRepository",72],",",["T_WHITESPACE","\n        ",72],["T_STRING","CustomerRegistry",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$customerRegistry",73],",",["T_WHITESPACE","\n        ",73],["T_STRING","ConfigInterface",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$backendConfig",74],",",["T_WHITESPACE","\n        ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Framework",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Stdlib",75],["T_NS_SEPARATOR","\\",75],["T_STRING","DateTime",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$dateTime",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","Encryptor",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$encryptor",76],["T_WHITESPACE","\n    ",76],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","customerRepository",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$customerRepository",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","customerRegistry",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$customerRegistry",79],";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","backendConfig",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$backendConfig",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","dateTime",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$dateTime",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","encryptor",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$encryptor",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","processAuthenticationFailure",88],"(",["T_VARIABLE","$customerId",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$now",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","DateTime",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$lockThreshold",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getLockThreshold",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$maxFailures",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE","  ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMaxFailures",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$customerSecure",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","customerRegistry",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","retrieveSecureData",93],"(",["T_VARIABLE","$customerId",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!","(",["T_VARIABLE","$lockThreshold",95],["T_WHITESPACE"," ",95],["T_BOOLEAN_AND","&&",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$maxFailures",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_RETURN","return",96],";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$failuresNum",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_INT_CAST","(int)",98],["T_VARIABLE","$customerSecure",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getFailuresNum",98],"(",")",["T_WHITESPACE"," ",98],"+",["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$firstFailureDate",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$customerSecure",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getFirstFailure",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$firstFailureDate",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$firstFailureDate",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","DateTime",102],"(",["T_VARIABLE","$firstFailureDate",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$lockThreshInterval",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","DateInterval",105],"(",["T_CONSTANT_ENCAPSED_STRING","'PT'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$lockThreshold",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'S'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$lockExpires",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$customerSecure",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getLockExpires",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$lockExpired",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$lockExpires",107],["T_WHITESPACE"," ",107],["T_IS_NOT_IDENTICAL","!==",107],["T_WHITESPACE"," ",107],["T_STRING","null",107],")",["T_WHITESPACE"," ",107],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$now",107],["T_WHITESPACE"," ",107],">",["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_NS_SEPARATOR","\\",107],["T_STRING","DateTime",107],"(",["T_VARIABLE","$lockExpires",107],")",")",";",["T_WHITESPACE","\n        ",107],["T_COMMENT","\/\/ set first failure date when this is the first failure or the lock is expired\n",108],["T_WHITESPACE","        ",109],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_LNUMBER","1",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$failuresNum",109],["T_WHITESPACE"," ",109],["T_BOOLEAN_OR","||",109],["T_WHITESPACE"," ",109],"!",["T_VARIABLE","$firstFailureDate",109],["T_WHITESPACE"," ",109],["T_BOOLEAN_OR","||",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$lockExpired",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$customerSecure",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setFirstFailure",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","dateTime",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","formatDate",110],"(",["T_VARIABLE","$now",110],")",")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$failuresNum",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_LNUMBER","1",111],";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$customerSecure",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setLockExpires",112],"(",["T_STRING","null",112],")",";",["T_WHITESPACE","\n            ",112],["T_COMMENT","\/\/ otherwise lock customer\n",113],["T_WHITESPACE","        ",114],"}",["T_WHITESPACE"," ",114],["T_ELSEIF","elseif",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$failuresNum",114],["T_WHITESPACE"," ",114],["T_IS_GREATER_OR_EQUAL",">=",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$maxFailures",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$customerSecure",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setLockExpires",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","dateTime",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","formatDate",115],"(",["T_VARIABLE","$now",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","add",115],"(",["T_VARIABLE","$lockThreshInterval",115],")",")",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$customerSecure",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setFailuresNum",118],"(",["T_VARIABLE","$failuresNum",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getCustomerAuthUpdate",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","saveAuth",119],"(",["T_VARIABLE","$customerId",119],")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","unlock",125],"(",["T_VARIABLE","$customerId",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$customerSecure",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","customerRegistry",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","retrieveSecureData",127],"(",["T_VARIABLE","$customerId",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$customerSecure",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setFailuresNum",128],"(",["T_LNUMBER","0",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$customerSecure",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setFirstFailure",129],"(",["T_STRING","null",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$customerSecure",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setLockExpires",130],"(",["T_STRING","null",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getCustomerAuthUpdate",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","saveAuth",131],"(",["T_VARIABLE","$customerId",131],")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Get lock threshold\n     *\n     * @return int\n     *\/",134],["T_WHITESPACE","\n    ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getLockThreshold",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","backendConfig",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getValue",141],"(",["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","LOCKOUT_THRESHOLD_PATH",141],")",["T_WHITESPACE"," ",141],"*",["T_WHITESPACE"," ",141],["T_LNUMBER","60",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Get max failures\n     *\n     * @return int\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PROTECTED","protected",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","getMaxFailures",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","backendConfig",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getValue",151],"(",["T_STRING","self",151],["T_DOUBLE_COLON","::",151],["T_STRING","MAX_FAILURES_PATH",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",154],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","isLocked",157],"(",["T_VARIABLE","$customerId",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$currentCustomer",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","customerRegistry",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","retrieve",159],"(",["T_VARIABLE","$customerId",159],")",";",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$currentCustomer",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","isCustomerLocked",160],"(",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",163],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","authenticate",166],"(",["T_VARIABLE","$customerId",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$password",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$customerSecure",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","customerRegistry",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","retrieveSecureData",168],"(",["T_VARIABLE","$customerId",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$hash",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$customerSecure",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getPasswordHash",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(","!",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","encryptor",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","validateHash",170],"(",["T_VARIABLE","$password",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$hash",170],")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","processAuthenticationFailure",171],"(",["T_VARIABLE","$customerId",171],")",";",["T_WHITESPACE","\n            ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","isLocked",172],"(",["T_VARIABLE","$customerId",172],")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","UserLockedException",173],"(",["T_STRING","__",173],"(",["T_CONSTANT_ENCAPSED_STRING","'The account is locked.'",173],")",")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n            ",174],["T_THROW","throw",175],["T_WHITESPACE"," ",175],["T_NEW","new",175],["T_WHITESPACE"," ",175],["T_STRING","InvalidEmailOrPasswordException",175],"(",["T_STRING","__",175],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid login or password.'",175],")",")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_STRING","true",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Get customer authentication update model\n     *\n     * @return \\Magento\\Customer\\Model\\CustomerAuthUpdate\n     * @deprecated\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PRIVATE","private",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getCustomerAuthUpdate",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","customerAuthUpdate",188],["T_WHITESPACE"," ",188],["T_IS_IDENTICAL","===",188],["T_WHITESPACE"," ",188],["T_STRING","null",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","customerAuthUpdate",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE","\n                ",189],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Framework",190],["T_NS_SEPARATOR","\\",190],["T_STRING","App",190],["T_NS_SEPARATOR","\\",190],["T_STRING","ObjectManager",190],["T_DOUBLE_COLON","::",190],["T_STRING","getInstance",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","get",190],"(",["T_STRING","CustomerAuthUpdate",190],["T_DOUBLE_COLON","::",190],["T_CLASS","class",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","customerAuthUpdate",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n",193],"}",["T_WHITESPACE","\n",194]]