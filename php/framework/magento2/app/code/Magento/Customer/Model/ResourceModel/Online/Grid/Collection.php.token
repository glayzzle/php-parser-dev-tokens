[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Online",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Grid",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","View",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Element",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UiComponent",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataProvider",8],["T_NS_SEPARATOR","\\",8],["T_STRING","SearchResult",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Visitor",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ManagerInterface",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","EventManager",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Collection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Db",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FetchStrategyInterface",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","FetchStrategy",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Data",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Collection",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityFactoryInterface",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","EntityFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Psr",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Log",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LoggerInterface",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","Logger",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Flat customer online grid collection\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",16],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","Collection",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","SearchResult",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_DOC_COMMENT","\/**\n     * Value of seconds in one minute\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","SECONDS_IN_MINUTE",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_LNUMBER","60",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$date",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var Visitor\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$visitorModel",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @param EntityFactory $entityFactory\n     * @param Logger $logger\n     * @param FetchStrategy $fetchStrategy\n     * @param EventManager $eventManager\n     * @param string $mainTable\n     * @param string $resourceModel\n     * @param Visitor $visitorModel\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\DateTime $date\n     *\/",38],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",["T_WHITESPACE","\n        ",48],["T_STRING","EntityFactory",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$entityFactory",49],",",["T_WHITESPACE","\n        ",49],["T_STRING","Logger",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$logger",50],",",["T_WHITESPACE","\n        ",50],["T_STRING","FetchStrategy",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$fetchStrategy",51],",",["T_WHITESPACE","\n        ",51],["T_STRING","EventManager",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$eventManager",52],",",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$mainTable",53],",",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$resourceModel",54],",",["T_WHITESPACE","\n        ",54],["T_STRING","Visitor",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$visitorModel",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Framework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Stdlib",56],["T_NS_SEPARATOR","\\",56],["T_STRING","DateTime",56],["T_NS_SEPARATOR","\\",56],["T_STRING","DateTime",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$date",56],["T_WHITESPACE","\n    ",56],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","date",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$date",58],";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","visitorModel",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$visitorModel",59],";",["T_WHITESPACE","\n        ",59],["T_STRING","parent",60],["T_DOUBLE_COLON","::",60],["T_STRING","__construct",60],"(",["T_VARIABLE","$entityFactory",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$logger",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$fetchStrategy",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$eventManager",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$mainTable",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$resourceModel",60],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Init collection select\n     *\n     * @return $this\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","_initSelect",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_STRING","parent",70],["T_DOUBLE_COLON","::",70],["T_STRING","_initSelect",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$connection",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getConnection",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$lastDate",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","date",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","gmtTimestamp",72],"(",")",["T_WHITESPACE"," ",72],"-",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","visitorModel",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getOnlineInterval",72],"(",")",["T_WHITESPACE"," ",72],"*",["T_WHITESPACE"," ",72],["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","SECONDS_IN_MINUTE",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getSelect",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","joinLeft",73],"(",["T_WHITESPACE","\n            ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTable",74],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",74],")","]",",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'customer.entity_id = main_table.customer_id'",75],",",["T_WHITESPACE","\n            ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'firstname'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'lastname'",76],"]",["T_WHITESPACE","\n        ",76],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","where",77],"(",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'main_table.last_visit_at >= ?'",78],",",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$connection",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","formatDate",79],"(",["T_VARIABLE","$lastDate",79],")",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$expression",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$connection",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getCheckSql",81],"(",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'main_table.customer_id IS NOT NULL AND main_table.customer_id != 0'",82],",",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$connection",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","quote",83],"(",["T_STRING","Visitor",83],["T_DOUBLE_COLON","::",83],["T_STRING","VISITOR_TYPE_CUSTOMER",83],")",",",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$connection",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","quote",84],"(",["T_STRING","Visitor",84],["T_DOUBLE_COLON","::",84],["T_STRING","VISITOR_TYPE_VISITOR",84],")",["T_WHITESPACE","\n        ",84],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getSelect",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","columns",86],"(","[",["T_CONSTANT_ENCAPSED_STRING","'visitor_type'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$expression",86],"]",")",";",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Add field filter to collection\n     *\n     * @param string|array $field\n     * @param string|int|array|null $condition\n     * @return \\Magento\\Cms\\Model\\ResourceModel\\Block\\Collection\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","addFieldToFilter",97],"(",["T_VARIABLE","$field",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$condition",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","null",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$field",99],["T_WHITESPACE"," ",99],["T_IS_EQUAL","==",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'visitor_type'",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$field",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",100],";",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_STRING","is_array",101],"(",["T_VARIABLE","$condition",101],")",["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_ISSET","isset",101],"(",["T_VARIABLE","$condition",101],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$condition",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$condition",102],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",102],"]",["T_WHITESPACE"," ",102],["T_IS_EQUAL","==",102],["T_WHITESPACE"," ",102],["T_STRING","Visitor",102],["T_DOUBLE_COLON","::",102],["T_STRING","VISITOR_TYPE_CUSTOMER",102],["T_WHITESPACE"," ",102],"?",["T_WHITESPACE"," ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'gt'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","0",102],"]",["T_WHITESPACE"," ",102],":",["T_WHITESPACE"," ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'null'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","true",102],"]",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_STRING","parent",105],["T_DOUBLE_COLON","::",105],["T_STRING","addFieldToFilter",105],"(",["T_VARIABLE","$field",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$condition",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n",106],"}",["T_WHITESPACE","\n",107]]