[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Setup",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UpgradeSchemaInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Setup",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ModuleContextInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Setup",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SchemaSetupInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * @codeCoverageIgnore\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","UpgradeSchema",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","UpgradeSchemaInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","upgrade",21],"(",["T_STRING","SchemaSetupInterface",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$setup",21],",",["T_WHITESPACE"," ",21],["T_STRING","ModuleContextInterface",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$context",21],")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$setup",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","startSetup",23],"(",")",";",["T_WHITESPACE","\n\n        ",23],["T_IF","if",25],["T_WHITESPACE"," ",25],"(",["T_STRING","version_compare",25],"(",["T_VARIABLE","$context",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getVersion",25],"(",")",",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'2.0.0.1'",25],")",["T_WHITESPACE"," ",25],"<",["T_WHITESPACE"," ",25],["T_LNUMBER","0",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n            ",25],["T_VARIABLE","$connection",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$setup",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getConnection",26],"(",")",";",["T_WHITESPACE","\n\n            ",26],["T_VARIABLE","$connection",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","addIndex",28],"(",["T_WHITESPACE","\n                ",28],["T_VARIABLE","$setup",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getTable",29],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_visitor'",29],")",",",["T_WHITESPACE","\n                ",29],["T_VARIABLE","$setup",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getIdxName",30],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_visitor'",30],",",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'last_visit_at'",30],"]",")",",",["T_WHITESPACE","\n                ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'last_visit_at'",31],"]",["T_WHITESPACE","\n            ",31],")",";",["T_WHITESPACE","\n        ",32],"}",["T_WHITESPACE","\n\n        ",33],["T_IF","if",35],["T_WHITESPACE"," ",35],"(",["T_STRING","version_compare",35],"(",["T_VARIABLE","$context",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getVersion",35],"(",")",",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'2.0.1'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'<'",35],")",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n            ",35],["T_VARIABLE","$setup",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getConnection",36],"(",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","addColumn",36],"(",["T_WHITESPACE","\n                ",36],["T_VARIABLE","$setup",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getTable",37],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_eav_attribute'",37],")",",",["T_WHITESPACE","\n                ",37],["T_CONSTANT_ENCAPSED_STRING","'is_used_in_grid'",38],",",["T_WHITESPACE","\n                ",38],"[",["T_WHITESPACE","\n                    ",39],["T_CONSTANT_ENCAPSED_STRING","'type'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Framework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","DB",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Ddl",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Table",40],["T_DOUBLE_COLON","::",40],["T_STRING","TYPE_SMALLINT",40],",",["T_WHITESPACE","\n                    ",40],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","true",41],",",["T_WHITESPACE","\n                    ",41],["T_CONSTANT_ENCAPSED_STRING","'nullable'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","false",42],",",["T_WHITESPACE","\n                    ",42],["T_CONSTANT_ENCAPSED_STRING","'default'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'0'",43],",",["T_WHITESPACE","\n                    ",43],["T_CONSTANT_ENCAPSED_STRING","'comment'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'Is Used in Grid'",44],["T_WHITESPACE","\n                ",44],"]",["T_WHITESPACE","\n            ",45],")",";",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$setup",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getConnection",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","addColumn",47],"(",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$setup",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getTable",48],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_eav_attribute'",48],")",",",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'is_visible_in_grid'",49],",",["T_WHITESPACE","\n                ",49],"[",["T_WHITESPACE","\n                    ",50],["T_CONSTANT_ENCAPSED_STRING","'type'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Framework",51],["T_NS_SEPARATOR","\\",51],["T_STRING","DB",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Ddl",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Table",51],["T_DOUBLE_COLON","::",51],["T_STRING","TYPE_SMALLINT",51],",",["T_WHITESPACE","\n                    ",51],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","true",52],",",["T_WHITESPACE","\n                    ",52],["T_CONSTANT_ENCAPSED_STRING","'nullable'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","false",53],",",["T_WHITESPACE","\n                    ",53],["T_CONSTANT_ENCAPSED_STRING","'default'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'0'",54],",",["T_WHITESPACE","\n                    ",54],["T_CONSTANT_ENCAPSED_STRING","'comment'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Is Visible in Grid'",55],["T_WHITESPACE","\n                ",55],"]",["T_WHITESPACE","\n            ",56],")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$setup",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getConnection",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","addColumn",58],"(",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$setup",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getTable",59],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_eav_attribute'",59],")",",",["T_WHITESPACE","\n                ",59],["T_CONSTANT_ENCAPSED_STRING","'is_filterable_in_grid'",60],",",["T_WHITESPACE","\n                ",60],"[",["T_WHITESPACE","\n                    ",61],["T_CONSTANT_ENCAPSED_STRING","'type'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","DB",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Ddl",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Table",62],["T_DOUBLE_COLON","::",62],["T_STRING","TYPE_SMALLINT",62],",",["T_WHITESPACE","\n                    ",62],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","true",63],",",["T_WHITESPACE","\n                    ",63],["T_CONSTANT_ENCAPSED_STRING","'nullable'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","false",64],",",["T_WHITESPACE","\n                    ",64],["T_CONSTANT_ENCAPSED_STRING","'default'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'0'",65],",",["T_WHITESPACE","\n                    ",65],["T_CONSTANT_ENCAPSED_STRING","'comment'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Is Filterable in Grid'",66],["T_WHITESPACE","\n                ",66],"]",["T_WHITESPACE","\n            ",67],")",";",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$setup",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getConnection",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","addColumn",69],"(",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$setup",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getTable",70],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_eav_attribute'",70],")",",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'is_searchable_in_grid'",71],",",["T_WHITESPACE","\n                ",71],"[",["T_WHITESPACE","\n                    ",72],["T_CONSTANT_ENCAPSED_STRING","'type'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","DB",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Ddl",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Table",73],["T_DOUBLE_COLON","::",73],["T_STRING","TYPE_SMALLINT",73],",",["T_WHITESPACE","\n                    ",73],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","true",74],",",["T_WHITESPACE","\n                    ",74],["T_CONSTANT_ENCAPSED_STRING","'nullable'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","false",75],",",["T_WHITESPACE","\n                    ",75],["T_CONSTANT_ENCAPSED_STRING","'default'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'0'",76],",",["T_WHITESPACE","\n                    ",76],["T_CONSTANT_ENCAPSED_STRING","'comment'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Is Searchable in Grid'",77],["T_WHITESPACE","\n                ",77],"]",["T_WHITESPACE","\n            ",78],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_STRING","version_compare",82],"(",["T_VARIABLE","$context",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getVersion",82],"(",")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'2.0.7'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'<'",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$setup",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getConnection",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","addColumn",83],"(",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$setup",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getTable",84],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",84],")",",",["T_WHITESPACE","\n                ",84],["T_CONSTANT_ENCAPSED_STRING","'failures_num'",85],",",["T_WHITESPACE","\n                ",85],"[",["T_WHITESPACE","\n                    ",86],["T_CONSTANT_ENCAPSED_STRING","'type'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","DB",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Ddl",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Table",87],["T_DOUBLE_COLON","::",87],["T_STRING","TYPE_SMALLINT",87],",",["T_WHITESPACE","\n                    ",87],["T_CONSTANT_ENCAPSED_STRING","'nullable'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","true",88],",",["T_WHITESPACE","\n                    ",88],["T_CONSTANT_ENCAPSED_STRING","'default'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'0'",89],",",["T_WHITESPACE","\n                    ",89],["T_CONSTANT_ENCAPSED_STRING","'comment'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Failure Number'",90],["T_WHITESPACE","\n                ",90],"]",["T_WHITESPACE","\n            ",91],")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$setup",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getConnection",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","addColumn",93],"(",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$setup",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getTable",94],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",94],")",",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'first_failure'",95],",",["T_WHITESPACE","\n                ",95],"[",["T_WHITESPACE","\n                    ",96],["T_CONSTANT_ENCAPSED_STRING","'type'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","DB",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Ddl",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Table",97],["T_DOUBLE_COLON","::",97],["T_STRING","TYPE_TIMESTAMP",97],",",["T_WHITESPACE","\n                    ",97],["T_CONSTANT_ENCAPSED_STRING","'comment'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'First Failure'",98],["T_WHITESPACE","\n                ",98],"]",["T_WHITESPACE","\n            ",99],")",";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$setup",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getConnection",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","addColumn",101],"(",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$setup",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTable",102],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_entity'",102],")",",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'lock_expires'",103],",",["T_WHITESPACE","\n                ",103],"[",["T_WHITESPACE","\n                    ",104],["T_CONSTANT_ENCAPSED_STRING","'type'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Framework",105],["T_NS_SEPARATOR","\\",105],["T_STRING","DB",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Ddl",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Table",105],["T_DOUBLE_COLON","::",105],["T_STRING","TYPE_TIMESTAMP",105],",",["T_WHITESPACE","\n                    ",105],["T_CONSTANT_ENCAPSED_STRING","'comment'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Lock Expiration Date'",106],["T_WHITESPACE","\n                ",106],"]",["T_WHITESPACE","\n            ",107],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","version_compare",111],"(",["T_VARIABLE","$context",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getVersion",111],"(",")",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'2.0.10'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'<'",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$foreignKeys",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getForeignKeys",112],"(",["T_VARIABLE","$setup",112],")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","dropForeignKeys",113],"(",["T_VARIABLE","$setup",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$foreignKeys",113],")",";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","alterTables",114],"(",["T_VARIABLE","$setup",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$foreignKeys",114],")",";",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","createForeignKeys",115],"(",["T_VARIABLE","$setup",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$foreignKeys",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$setup",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","endSetup",118],"(",")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * @param SchemaSetupInterface $setup\n     * @param array $keys\n     * @return void\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PRIVATE","private",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","alterTables",126],"(",["T_STRING","SchemaSetupInterface",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$setup",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$keys",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$setup",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getConnection",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","modifyColumn",128],"(",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$setup",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getTable",129],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group'",129],")",",",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",130],",",["T_WHITESPACE","\n            ",130],"[",["T_WHITESPACE","\n                ",131],["T_CONSTANT_ENCAPSED_STRING","'type'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'integer'",132],",",["T_WHITESPACE","\n                ",132],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","true",133],",",["T_WHITESPACE","\n                ",133],["T_CONSTANT_ENCAPSED_STRING","'identity'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","true",134],",",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'nullable'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_STRING","false",135],["T_WHITESPACE","\n            ",135],"]",["T_WHITESPACE","\n        ",136],")",";",["T_WHITESPACE","\n        ",137],["T_FOREACH","foreach",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$keys",138],["T_WHITESPACE"," ",138],["T_AS","as",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$key",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$description",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$setup",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getConnection",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","describeTable",139],"(",["T_VARIABLE","$key",139],"[",["T_CONSTANT_ENCAPSED_STRING","'TABLE_NAME'",139],"]",")","[",["T_VARIABLE","$key",139],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",139],"]","]",";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$description",140],"[",["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'int'",140],";",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$setup",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getConnection",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","modifyColumnByDdl",141],"(",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$key",142],"[",["T_CONSTANT_ENCAPSED_STRING","'TABLE_NAME'",142],"]",",",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$key",143],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",143],"]",",",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$description",144],["T_WHITESPACE","\n            ",144],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * @param SchemaSetupInterface $setup\n     * @param array $keys\n     * @return void\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PRIVATE","private",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","dropForeignKeys",154],"(",["T_STRING","SchemaSetupInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$setup",154],",",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$keys",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$keys",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$key",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$setup",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getConnection",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","dropForeignKey",157],"(",["T_VARIABLE","$key",157],"[",["T_CONSTANT_ENCAPSED_STRING","'TABLE_NAME'",157],"]",",",["T_WHITESPACE"," ",157],["T_VARIABLE","$key",157],"[",["T_CONSTANT_ENCAPSED_STRING","'FK_NAME'",157],"]",")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * @param SchemaSetupInterface $setup\n     * @param array $keys\n     * @return void\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PRIVATE","private",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","createForeignKeys",166],"(",["T_STRING","SchemaSetupInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$setup",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$keys",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$keys",168],["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$key",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$setup",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getConnection",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","addForeignKey",169],"(",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$key",170],"[",["T_CONSTANT_ENCAPSED_STRING","'FK_NAME'",170],"]",",",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$key",171],"[",["T_CONSTANT_ENCAPSED_STRING","'TABLE_NAME'",171],"]",",",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$key",172],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",172],"]",",",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$key",173],"[",["T_CONSTANT_ENCAPSED_STRING","'REF_TABLE_NAME'",173],"]",",",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$key",174],"[",["T_CONSTANT_ENCAPSED_STRING","'REF_COLUMN_NAME'",174],"]",",",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$key",175],"[",["T_CONSTANT_ENCAPSED_STRING","'ON_DELETE'",175],"]",["T_WHITESPACE","\n            ",175],")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * @param SchemaSetupInterface $setup\n     * @return array\n     *\/",180],["T_WHITESPACE","\n    ",183],["T_PRIVATE","private",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getForeignKeys",184],"(",["T_STRING","SchemaSetupInterface",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$setup",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$foreignKeys",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"[","]",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$keysTree",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$setup",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getConnection",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getForeignKeysTree",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$keysTree",188],["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$indexes",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$indexes",189],["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$index",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$index",191],"[",["T_CONSTANT_ENCAPSED_STRING","'REF_TABLE_NAME'",191],"]",["T_WHITESPACE"," ",191],["T_IS_EQUAL","==",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$setup",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getTable",191],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group'",191],")",["T_WHITESPACE","\n                    ",191],["T_BOOLEAN_AND","&&",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$index",192],"[",["T_CONSTANT_ENCAPSED_STRING","'REF_COLUMN_NAME'",192],"]",["T_WHITESPACE"," ",192],["T_IS_EQUAL","==",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",192],["T_WHITESPACE","\n                ",192],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                    ",193],["T_VARIABLE","$foreignKeys",194],"[","]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$index",194],";",["T_WHITESPACE","\n                ",194],"}",["T_WHITESPACE","\n\n            ",195],"}",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$foreignKeys",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n",200],"}",["T_WHITESPACE","\n",201]]