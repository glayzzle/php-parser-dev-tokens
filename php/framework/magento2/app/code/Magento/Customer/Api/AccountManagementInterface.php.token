[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Interface for managing customers accounts.\n * @api\n *\/",10],["T_WHITESPACE","\n",13],["T_INTERFACE","interface",14],["T_WHITESPACE"," ",14],["T_STRING","AccountManagementInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_COMMENT","\/**#@+\n     * Constant for confirmation status\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","ACCOUNT_CONFIRMED",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'account_confirmed'",19],";",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","ACCOUNT_CONFIRMATION_REQUIRED",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'account_confirmation_required'",20],";",["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","ACCOUNT_CONFIRMATION_NOT_REQUIRED",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'account_confirmation_not_required'",21],";",["T_WHITESPACE","\n    ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","MAX_PASSWORD_LENGTH",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_LNUMBER","256",22],";",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/**#@-*\/",23],["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Create customer account. Perform necessary business operations like sending email.\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @param string $password\n     * @param string $redirectUrl\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",25],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","createAccount",34],"(",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Customer",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Api",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Data",35],["T_NS_SEPARATOR","\\",35],["T_STRING","CustomerInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$customer",35],",",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$password",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","null",36],",",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$redirectUrl",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","''",37],["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Create customer account using provided hashed password. Should not be exposed as a webapi.\n     *\n     * @api\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @param string $hash Password hash that we can save directly\n     * @param string $redirectUrl URL fed to welcome email templates. Can be used by templates to, for example, direct\n     *                            the customer to a product they were looking at after pressing confirmation link.\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     * @throws \\Magento\\Framework\\Exception\\InputException If bad input is provided\n     * @throws \\Magento\\Framework\\Exception\\State\\InputMismatchException If the provided email is already used\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",40],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","createAccountWithPasswordHash",53],"(",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Customer",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Api",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Data",54],["T_NS_SEPARATOR","\\",54],["T_STRING","CustomerInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$customer",54],",",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$hash",55],",",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$redirectUrl",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],["T_WHITESPACE","\n    ",56],")",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Validate customer data.\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @return \\Magento\\Customer\\Api\\Data\\ValidationResultsInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",59],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","validate",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Customer",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Api",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Data",66],["T_NS_SEPARATOR","\\",66],["T_STRING","CustomerInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$customer",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Check if customer can be deleted.\n     *\n     * @api\n     * @param int $customerId\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException If group is not found\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",68],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","isReadonly",77],"(",["T_VARIABLE","$customerId",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Activate a customer account using a key that was sent in a confirmation email.\n     *\n     * @param string $email\n     * @param string $confirmationKey\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",79],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","activate",87],"(",["T_VARIABLE","$email",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$confirmationKey",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Activate a customer account using a key that was sent in a confirmation email.\n     *\n     * @api\n     * @param int $customerId\n     * @param string $confirmationKey\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",89],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","activateById",98],"(",["T_VARIABLE","$customerId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$confirmationKey",98],")",";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Authenticate a customer by username and password\n     *\n     * @param string $email\n     * @param string $password\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",100],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","authenticate",108],"(",["T_VARIABLE","$email",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$password",108],")",";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Change customer password.\n     *\n     * @param string $email\n     * @param string $currentPassword\n     * @param string $newPassword\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",110],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","changePassword",119],"(",["T_VARIABLE","$email",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$currentPassword",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$newPassword",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Change customer password.\n     *\n     * @param int $customerId\n     * @param string $currentPassword\n     * @param string $newPassword\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",121],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","changePasswordById",130],"(",["T_VARIABLE","$customerId",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$currentPassword",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$newPassword",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Send an email to the customer with a password reset link.\n     *\n     * @param string $email\n     * @param string $template\n     * @param int $websiteId\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",132],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","initiatePasswordReset",141],"(",["T_VARIABLE","$email",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$template",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$websiteId",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","null",141],")",";",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Reset customer password.\n     *\n     * @param string $email\n     * @param string $resetToken\n     * @param string $newPassword\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",143],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","resetPassword",152],"(",["T_VARIABLE","$email",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$resetToken",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$newPassword",152],")",";",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Check if password reset token is valid.\n     *\n     * @param int $customerId\n     * @param string $resetPasswordLinkToken\n     * @return bool True if the token is valid\n     * @throws \\Magento\\Framework\\Exception\\State\\InputMismatchException If token is mismatched\n     * @throws \\Magento\\Framework\\Exception\\State\\ExpiredException If token is expired\n     * @throws \\Magento\\Framework\\Exception\\InputException If token or customer id is invalid\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException If customer doesn't exist\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",154],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","validateResetPasswordLinkToken",166],"(",["T_VARIABLE","$customerId",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$resetPasswordLinkToken",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Gets the account confirmation status.\n     *\n     * @param int $customerId\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",168],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","getConfirmationStatus",175],"(",["T_VARIABLE","$customerId",175],")",";",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Resend confirmation email.\n     *\n     * @param string $email\n     * @param int $websiteId\n     * @param string $redirectUrl\n     * @return bool true on success\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",177],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","resendConfirmation",186],"(",["T_VARIABLE","$email",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$websiteId",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$redirectUrl",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","''",186],")",";",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Check if given email is associated with a customer account in given website.\n     *\n     * @param string $customerEmail\n     * @param int $websiteId If not set, will use the current websiteId\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",188],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","isEmailAvailable",196],"(",["T_VARIABLE","$customerEmail",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$websiteId",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","null",196],")",";",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Check store availability for customer given the customerId.\n     *\n     * @param int $customerWebsiteId\n     * @param int $storeId\n     * @return bool\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",198],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","isCustomerInStore",206],"(",["T_VARIABLE","$customerWebsiteId",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$storeId",206],")",";",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Retrieve default billing address for the given customerId.\n     *\n     * @param int $customerId\n     * @return \\Magento\\Customer\\Api\\Data\\AddressInterface\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException If the customer Id is invalid\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",208],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getDefaultBillingAddress",216],"(",["T_VARIABLE","$customerId",216],")",";",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Retrieve default shipping address for the given customerId.\n     *\n     * @param int $customerId\n     * @return \\Magento\\Customer\\Api\\Data\\AddressInterface\n     * @throws \\Magento\\Framework\\Exception\\NoSuchEntityException If the customer Id is invalid\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",218],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","getDefaultShippingAddress",226],"(",["T_VARIABLE","$customerId",226],")",";",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Return hashed password, which can be directly saved to database.\n     *\n     * @param string $password\n     * @return string\n     *\/",228],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getPasswordHash",234],"(",["T_VARIABLE","$password",234],")",";",["T_WHITESPACE","\n",234],"}",["T_WHITESPACE","\n",235]]