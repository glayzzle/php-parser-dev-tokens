[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Index",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Backend",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Action",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EmailNotificationInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Block",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Login",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Ui",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Listing",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AttributeRepository",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Api",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CustomerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Customer",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CustomerRepositoryInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","InlineEdit",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Backend",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Action",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Authorization level of a basic admin session\n     *\n     * @see _isAllowed()\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","ADMIN_RESOURCE",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Magento_Customer::manage'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/** @var CustomerInterface *\/",27],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$customer",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/** @var CustomerRepositoryInterface *\/",30],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$customerRepository",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\JsonFactory  *\/",33],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$resultJsonFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer\\Mapper  *\/",36],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$customerMapper",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Api\\DataObjectHelper  *\/",39],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$dataObjectHelper",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/** @var \\Psr\\Log\\LoggerInterface *\/",42],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$logger",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/** @var EmailNotificationInterface *\/",45],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$emailNotification",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @param Action\\Context $context\n     * @param CustomerRepositoryInterface $customerRepository\n     * @param \\Magento\\Framework\\Controller\\Result\\JsonFactory $resultJsonFactory\n     * @param \\Magento\\Customer\\Model\\Customer\\Mapper $customerMapper\n     * @param \\Magento\\Framework\\Api\\DataObjectHelper $dataObjectHelper\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     *\/",48],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","__construct",56],"(",["T_WHITESPACE","\n        ",56],["T_STRING","Action",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Context",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$context",57],",",["T_WHITESPACE","\n        ",57],["T_STRING","CustomerRepositoryInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$customerRepository",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Controller",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Result",59],["T_NS_SEPARATOR","\\",59],["T_STRING","JsonFactory",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$resultJsonFactory",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Customer",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Customer",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Mapper",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$customerMapper",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Api",61],["T_NS_SEPARATOR","\\",61],["T_STRING","DataObjectHelper",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$dataObjectHelper",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Psr",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Log",62],["T_NS_SEPARATOR","\\",62],["T_STRING","LoggerInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$logger",62],["T_WHITESPACE","\n    ",62],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","customerRepository",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$customerRepository",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","resultJsonFactory",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$resultJsonFactory",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","customerMapper",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$customerMapper",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","dataObjectHelper",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$dataObjectHelper",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","logger",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$logger",68],";",["T_WHITESPACE","\n        ",68],["T_STRING","parent",69],["T_DOUBLE_COLON","::",69],["T_STRING","__construct",69],"(",["T_VARIABLE","$context",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Get email notification\n     *\n     * @return EmailNotificationInterface\n     * @deprecated\n     *\/",72],["T_WHITESPACE","\n    ",77],["T_PRIVATE","private",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getEmailNotification",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!","(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","emailNotification",80],["T_WHITESPACE"," ",80],["T_INSTANCEOF","instanceof",80],["T_WHITESPACE"," ",80],["T_STRING","EmailNotificationInterface",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ObjectManager",81],["T_DOUBLE_COLON","::",81],["T_STRING","getInstance",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_WHITESPACE","\n                ",81],["T_STRING","EmailNotificationInterface",82],["T_DOUBLE_COLON","::",82],["T_CLASS","class",82],["T_WHITESPACE","\n            ",82],")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE"," ",84],["T_ELSE","else",84],["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","emailNotification",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\Controller\\Result\\Json\n     *\/",89],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","execute",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Json $resultJson *\/",94],["T_WHITESPACE","\n        ",94],["T_VARIABLE","$resultJson",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","resultJsonFactory",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","create",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$postItems",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRequest",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getParam",97],"(",["T_CONSTANT_ENCAPSED_STRING","'items'",97],",",["T_WHITESPACE"," ",97],"[","]",")",";",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!","(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getRequest",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getParam",98],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",98],")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_STRING","count",98],"(",["T_VARIABLE","$postItems",98],")",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$resultJson",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setData",99],"(","[",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'messages'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],"[",["T_STRING","__",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Please correct the data sent.'",100],")","]",",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'error'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_STRING","true",101],",",["T_WHITESPACE","\n            ",101],"]",")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_STRING","array_keys",105],"(",["T_VARIABLE","$postItems",105],")",["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$customerId",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setCustomer",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","customerRepository",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getById",106],"(",["T_VARIABLE","$customerId",106],")",")",";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$currentCustomer",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CLONE","clone",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getCustomer",107],"(",")",";",["T_WHITESPACE","\n\n            ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCustomer",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getDefaultBilling",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","updateDefaultBilling",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getData",110],"(",["T_VARIABLE","$postItems",110],"[",["T_VARIABLE","$customerId",110],"]",")",")",";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","updateCustomer",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getData",112],"(",["T_VARIABLE","$postItems",112],"[",["T_VARIABLE","$customerId",112],"]",",",["T_WHITESPACE"," ",112],["T_STRING","true",112],")",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","saveCustomer",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getCustomer",113],"(",")",")",";",["T_WHITESPACE","\n\n            ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getEmailNotification",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","credentialsChanged",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getCustomer",115],"(",")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$currentCustomer",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getEmail",115],"(",")",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$resultJson",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setData",118],"(","[",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'messages'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getErrorMessages",119],"(",")",",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'error'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","isErrorExists",120],"(",")",["T_WHITESPACE","\n        ",120],"]",")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Receive entity(customer|customer_address) data from request\n     *\n     * @param array $data\n     * @param null $isCustomerData\n     * @return array\n     *\/",124],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getData",131],"(",["T_ARRAY","array",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$data",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$isCustomerData",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","null",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$addressKeys",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","preg_grep",133],"(",["T_WHITESPACE","\n            ",133],["T_CONSTANT_ENCAPSED_STRING","'\/^('",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_STRING","AttributeRepository",134],["T_DOUBLE_COLON","::",134],["T_STRING","BILLING_ADDRESS_PREFIX",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'\\w+)\/'",134],",",["T_WHITESPACE","\n            ",134],["T_STRING","array_keys",135],"(",["T_VARIABLE","$data",135],")",",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$isCustomerData",136],["T_WHITESPACE","\n        ",136],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$result",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","array_intersect_key",138],"(",["T_VARIABLE","$data",138],",",["T_WHITESPACE"," ",138],["T_STRING","array_flip",138],"(",["T_VARIABLE","$addressKeys",138],")",")",";",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$isCustomerData",139],["T_WHITESPACE"," ",139],["T_IS_IDENTICAL","===",139],["T_WHITESPACE"," ",139],["T_STRING","null",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$result",140],["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$key",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$value",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_STRING","strpos",141],"(",["T_VARIABLE","$key",141],",",["T_WHITESPACE"," ",141],["T_STRING","AttributeRepository",141],["T_DOUBLE_COLON","::",141],["T_STRING","BILLING_ADDRESS_PREFIX",141],")",["T_WHITESPACE"," ",141],["T_IS_NOT_IDENTICAL","!==",141],["T_WHITESPACE"," ",141],["T_STRING","false",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                    ",141],["T_UNSET","unset",142],"(",["T_VARIABLE","$result",142],"[",["T_VARIABLE","$key",142],"]",")",";",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$result",143],"[",["T_STRING","str_replace",143],"(",["T_STRING","AttributeRepository",143],["T_DOUBLE_COLON","::",143],["T_STRING","BILLING_ADDRESS_PREFIX",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","''",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$key",143],")","]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$value",143],";",["T_WHITESPACE","\n                ",143],"}",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n        ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$result",147],";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Update customer data\n     *\n     * @param array $data\n     * @return void\n     *\/",150],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","updateCustomer",156],"(",["T_ARRAY","array",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$data",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$customer",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getCustomer",158],"(",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$customerData",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","array_merge",159],"(",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","customerMapper",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","toFlatArray",160],"(",["T_VARIABLE","$customer",160],")",",",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$data",161],["T_WHITESPACE","\n        ",161],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","dataObjectHelper",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","populateWithArray",163],"(",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$customer",164],",",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$customerData",165],",",["T_WHITESPACE","\n            ",165],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Customer",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Api",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Data",166],["T_NS_SEPARATOR","\\",166],["T_STRING","CustomerInterface",166],["T_DOUBLE_COLON","::",166],["T_CLASS","class",166],["T_WHITESPACE","\n        ",166],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Update customer address data\n     *\n     * @param array $data\n     * @return void\n     *\/",170],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","updateDefaultBilling",176],"(",["T_ARRAY","array",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$data",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$addresses",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getCustomer",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","getAddresses",178],"(",")",";",["T_WHITESPACE","\n        ",178],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\AddressInterface $address *\/",179],["T_WHITESPACE","\n        ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$addresses",180],["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$address",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$address",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","isDefaultBilling",181],"(",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","dataObjectHelper",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","populateWithArray",182],"(",["T_WHITESPACE","\n                    ",182],["T_VARIABLE","$address",183],",",["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","processAddressData",184],"(",["T_VARIABLE","$data",184],")",",",["T_WHITESPACE","\n                    ",184],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Customer",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Api",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Data",185],["T_NS_SEPARATOR","\\",185],["T_STRING","AddressInterface",185],["T_DOUBLE_COLON","::",185],["T_CLASS","class",185],["T_WHITESPACE","\n                ",185],")",";",["T_WHITESPACE","\n                ",186],["T_BREAK","break",187],";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Save customer with error catching\n     *\n     * @param CustomerInterface $customer\n     * @return void\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","saveCustomer",198],"(",["T_STRING","CustomerInterface",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$customer",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_TRY","try",200],["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","customerRepository",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","save",201],"(",["T_VARIABLE","$customer",201],")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE"," ",202],["T_CATCH","catch",202],["T_WHITESPACE"," ",202],"(",["T_NS_SEPARATOR","\\",202],["T_STRING","Magento",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Framework",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Exception",202],["T_NS_SEPARATOR","\\",202],["T_STRING","InputException",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$e",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getMessageManager",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","addError",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getErrorWithCustomerId",203],"(",["T_VARIABLE","$e",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getMessage",203],"(",")",")",")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","logger",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","critical",204],"(",["T_VARIABLE","$e",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_CATCH","catch",205],["T_WHITESPACE"," ",205],"(",["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Framework",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Exception",205],["T_NS_SEPARATOR","\\",205],["T_STRING","LocalizedException",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$e",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getMessageManager",206],"(",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","addError",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getErrorWithCustomerId",206],"(",["T_VARIABLE","$e",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getMessage",206],"(",")",")",")",";",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","logger",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","critical",207],"(",["T_VARIABLE","$e",207],")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE"," ",208],["T_CATCH","catch",208],["T_WHITESPACE"," ",208],"(",["T_NS_SEPARATOR","\\",208],["T_STRING","Exception",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$e",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getMessageManager",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","addError",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getErrorWithCustomerId",209],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t save the customer.'",209],")",")",";",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","logger",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","critical",210],"(",["T_VARIABLE","$e",210],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Parse street field\n     *\n     * @param array $data\n     * @return array\n     *\/",214],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","processAddressData",220],"(",["T_ARRAY","array",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$data",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_FOREACH","foreach",222],["T_WHITESPACE"," ",222],"(","[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'lastname'",222],"]",["T_WHITESPACE"," ",222],["T_AS","as",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$requiredField",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_EMPTY","empty",223],"(",["T_VARIABLE","$data",223],"[",["T_VARIABLE","$requiredField",223],"]",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$data",224],"[",["T_VARIABLE","$requiredField",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE","  ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getCustomer",224],"(",")",["T_OBJECT_OPERATOR","->",224],"{",["T_CONSTANT_ENCAPSED_STRING","'get'",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_STRING","ucfirst",224],"(",["T_VARIABLE","$requiredField",224],")","}","(",")",";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$data",227],";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Get array with errors\n     *\n     * @return array\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","getErrorMessages",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$messages",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],"[","]",";",["T_WHITESPACE","\n        ",237],["T_FOREACH","foreach",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getMessageManager",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getMessages",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getItems",238],"(",")",["T_WHITESPACE"," ",238],["T_AS","as",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$error",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$messages",239],"[","]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$error",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getText",239],"(",")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$messages",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Check if errors exists\n     *\n     * @return bool\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","isErrorExists",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_BOOL_CAST","(bool)",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getMessageManager",251],"(",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","getMessages",251],"(",["T_STRING","true",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","getCount",251],"(",")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Set customer\n     *\n     * @param CustomerInterface $customer\n     * @return $this\n     *\/",254],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","setCustomer",260],"(",["T_STRING","CustomerInterface",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$customer",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","customer",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$customer",262],";",["T_WHITESPACE","\n        ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],";",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_DOC_COMMENT","\/**\n     * Receive customer\n     *\n     * @return CustomerInterface\n     *\/",266],["T_WHITESPACE","\n    ",270],["T_PROTECTED","protected",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","getCustomer",271],"(",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","customer",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Add page title to error message\n     *\n     * @param string $errorText\n     * @return string\n     *\/",276],["T_WHITESPACE","\n    ",281],["T_PROTECTED","protected",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getErrorWithCustomerId",282],"(",["T_VARIABLE","$errorText",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'[Customer ID: '",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getCustomer",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getId",284],"(",")",["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'] '",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_STRING","__",284],"(",["T_VARIABLE","$errorText",284],")",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n",285],"}",["T_WHITESPACE","\n",286]]