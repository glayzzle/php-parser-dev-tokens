[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Customer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Account",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Account",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Redirect",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","AccountRedirect",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AddressInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DataObjectHelper",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Context",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Customer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Session",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Config",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ScopeConfigInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LocalizedException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Store",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","StoreManagerInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Customer",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AccountManagementInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Customer",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Helper",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Address",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","UrlFactory",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Customer",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Metadata",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FormFactory",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Newsletter",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","SubscriberFactory",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Customer",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Api",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Data",21],["T_NS_SEPARATOR","\\",21],["T_STRING","RegionInterfaceFactory",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Customer",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Api",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Data",22],["T_NS_SEPARATOR","\\",22],["T_STRING","AddressInterfaceFactory",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Customer",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Api",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Data",23],["T_NS_SEPARATOR","\\",23],["T_STRING","CustomerInterfaceFactory",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Customer",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Url",24],["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_STRING","CustomerUrl",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Customer",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Registration",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Framework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Escaper",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Customer",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Model",27],["T_NS_SEPARATOR","\\",27],["T_STRING","CustomerExtractor",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Exception",28],["T_NS_SEPARATOR","\\",28],["T_STRING","StateException",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Framework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Exception",29],["T_NS_SEPARATOR","\\",29],["T_STRING","InputException",29],";",["T_WHITESPACE","\n\n",29],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",31],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","CreatePost",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Customer",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Controller",34],["T_NS_SEPARATOR","\\",34],["T_STRING","AbstractAccount",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/** @var AccountManagementInterface *\/",36],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$accountManagement",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/** @var Address *\/",39],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$addressHelper",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/** @var FormFactory *\/",42],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$formFactory",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/** @var SubscriberFactory *\/",45],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$subscriberFactory",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/** @var RegionInterfaceFactory *\/",48],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$regionDataFactory",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/** @var AddressInterfaceFactory *\/",51],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$addressDataFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/** @var Registration *\/",54],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$registration",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/** @var CustomerInterfaceFactory *\/",57],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$customerDataFactory",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/** @var CustomerUrl *\/",60],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$customerUrl",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/** @var Escaper *\/",63],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$escaper",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/** @var CustomerExtractor *\/",66],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$customerExtractor",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\UrlInterface *\/",69],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$urlModel",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/** @var DataObjectHelper  *\/",72],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$dataObjectHelper",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @var Session\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$session",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @var AccountRedirect\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PRIVATE","private",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$accountRedirect",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\Cookie\\CookieMetadataFactory\n     *\/",85],["T_WHITESPACE","\n    ",87],["T_PRIVATE","private",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$cookieMetadataFactory",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\Cookie\\PhpCookieManager\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_PRIVATE","private",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$cookieMetadataManager",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * @param Context $context\n     * @param Session $customerSession\n     * @param ScopeConfigInterface $scopeConfig\n     * @param StoreManagerInterface $storeManager\n     * @param AccountManagementInterface $accountManagement\n     * @param Address $addressHelper\n     * @param UrlFactory $urlFactory\n     * @param FormFactory $formFactory\n     * @param SubscriberFactory $subscriberFactory\n     * @param RegionInterfaceFactory $regionDataFactory\n     * @param AddressInterfaceFactory $addressDataFactory\n     * @param CustomerInterfaceFactory $customerDataFactory\n     * @param CustomerUrl $customerUrl\n     * @param Registration $registration\n     * @param Escaper $escaper\n     * @param CustomerExtractor $customerExtractor\n     * @param DataObjectHelper $dataObjectHelper\n     * @param AccountRedirect $accountRedirect\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",95],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","__construct",117],"(",["T_WHITESPACE","\n        ",117],["T_STRING","Context",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$context",118],",",["T_WHITESPACE","\n        ",118],["T_STRING","Session",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$customerSession",119],",",["T_WHITESPACE","\n        ",119],["T_STRING","ScopeConfigInterface",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$scopeConfig",120],",",["T_WHITESPACE","\n        ",120],["T_STRING","StoreManagerInterface",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$storeManager",121],",",["T_WHITESPACE","\n        ",121],["T_STRING","AccountManagementInterface",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$accountManagement",122],",",["T_WHITESPACE","\n        ",122],["T_STRING","Address",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$addressHelper",123],",",["T_WHITESPACE","\n        ",123],["T_STRING","UrlFactory",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$urlFactory",124],",",["T_WHITESPACE","\n        ",124],["T_STRING","FormFactory",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$formFactory",125],",",["T_WHITESPACE","\n        ",125],["T_STRING","SubscriberFactory",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$subscriberFactory",126],",",["T_WHITESPACE","\n        ",126],["T_STRING","RegionInterfaceFactory",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$regionDataFactory",127],",",["T_WHITESPACE","\n        ",127],["T_STRING","AddressInterfaceFactory",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$addressDataFactory",128],",",["T_WHITESPACE","\n        ",128],["T_STRING","CustomerInterfaceFactory",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$customerDataFactory",129],",",["T_WHITESPACE","\n        ",129],["T_STRING","CustomerUrl",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$customerUrl",130],",",["T_WHITESPACE","\n        ",130],["T_STRING","Registration",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$registration",131],",",["T_WHITESPACE","\n        ",131],["T_STRING","Escaper",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$escaper",132],",",["T_WHITESPACE","\n        ",132],["T_STRING","CustomerExtractor",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$customerExtractor",133],",",["T_WHITESPACE","\n        ",133],["T_STRING","DataObjectHelper",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$dataObjectHelper",134],",",["T_WHITESPACE","\n        ",134],["T_STRING","AccountRedirect",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$accountRedirect",135],["T_WHITESPACE","\n    ",135],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","session",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$customerSession",137],";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","scopeConfig",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$scopeConfig",138],";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","storeManager",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$storeManager",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","accountManagement",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$accountManagement",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","addressHelper",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$addressHelper",141],";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","formFactory",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$formFactory",142],";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","subscriberFactory",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$subscriberFactory",143],";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","regionDataFactory",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$regionDataFactory",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","addressDataFactory",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$addressDataFactory",145],";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","customerDataFactory",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$customerDataFactory",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","customerUrl",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$customerUrl",147],";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","registration",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$registration",148],";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","escaper",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$escaper",149],";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","customerExtractor",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$customerExtractor",150],";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","urlModel",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$urlFactory",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","create",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","dataObjectHelper",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$dataObjectHelper",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","accountRedirect",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$accountRedirect",153],";",["T_WHITESPACE","\n        ",153],["T_STRING","parent",154],["T_DOUBLE_COLON","::",154],["T_STRING","__construct",154],"(",["T_VARIABLE","$context",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Retrieve cookie manager\n     *\n     * @deprecated\n     * @return \\Magento\\Framework\\Stdlib\\Cookie\\PhpCookieManager\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PRIVATE","private",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getCookieManager",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(","!",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","cookieMetadataManager",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","cookieMetadataManager",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Framework",166],["T_NS_SEPARATOR","\\",166],["T_STRING","App",166],["T_NS_SEPARATOR","\\",166],["T_STRING","ObjectManager",166],["T_DOUBLE_COLON","::",166],["T_STRING","getInstance",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_WHITESPACE","\n                ",166],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Framework",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Stdlib",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Cookie",167],["T_NS_SEPARATOR","\\",167],["T_STRING","PhpCookieManager",167],["T_DOUBLE_COLON","::",167],["T_CLASS","class",167],["T_WHITESPACE","\n            ",167],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","cookieMetadataManager",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Retrieve cookie metadata factory\n     *\n     * @deprecated\n     * @return \\Magento\\Framework\\Stdlib\\Cookie\\CookieMetadataFactory\n     *\/",173],["T_WHITESPACE","\n    ",178],["T_PRIVATE","private",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","getCookieMetadataFactory",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","cookieMetadataFactory",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","cookieMetadataFactory",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Framework",182],["T_NS_SEPARATOR","\\",182],["T_STRING","App",182],["T_NS_SEPARATOR","\\",182],["T_STRING","ObjectManager",182],["T_DOUBLE_COLON","::",182],["T_STRING","getInstance",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","get",182],"(",["T_WHITESPACE","\n                ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Framework",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Stdlib",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Cookie",183],["T_NS_SEPARATOR","\\",183],["T_STRING","CookieMetadataFactory",183],["T_DOUBLE_COLON","::",183],["T_CLASS","class",183],["T_WHITESPACE","\n            ",183],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","cookieMetadataFactory",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Add address to customer during create account\n     *\n     * @return AddressInterface|null\n     *\/",189],["T_WHITESPACE","\n    ",193],["T_PROTECTED","protected",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","extractAddress",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getRequest",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getPost",196],"(",["T_CONSTANT_ENCAPSED_STRING","'create_address'",196],")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_STRING","null",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$addressForm",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","formFactory",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","create",200],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'customer_register_address'",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$allowedAttributes",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$addressForm",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getAllowedAttributes",201],"(",")",";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$addressData",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],"[","]",";",["T_WHITESPACE","\n\n        ",203],["T_VARIABLE","$regionDataObject",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","regionDataFactory",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","create",205],"(",")",";",["T_WHITESPACE","\n        ",205],["T_FOREACH","foreach",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$allowedAttributes",206],["T_WHITESPACE"," ",206],["T_AS","as",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$attribute",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$attributeCode",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$attribute",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getAttributeCode",207],"(",")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$value",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getRequest",208],"(",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","getParam",208],"(",["T_VARIABLE","$attributeCode",208],")",";",["T_WHITESPACE","\n            ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$value",209],["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_STRING","null",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_CONTINUE","continue",210],";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n            ",211],["T_SWITCH","switch",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$attributeCode",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_CASE","case",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'region_id'",213],":",["T_WHITESPACE","\n                    ",213],["T_VARIABLE","$regionDataObject",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setRegionId",214],"(",["T_VARIABLE","$value",214],")",";",["T_WHITESPACE","\n                    ",214],["T_BREAK","break",215],";",["T_WHITESPACE","\n                ",215],["T_CASE","case",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'region'",216],":",["T_WHITESPACE","\n                    ",216],["T_VARIABLE","$regionDataObject",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setRegion",217],"(",["T_VARIABLE","$value",217],")",";",["T_WHITESPACE","\n                    ",217],["T_BREAK","break",218],";",["T_WHITESPACE","\n                ",218],["T_DEFAULT","default",219],":",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$addressData",220],"[",["T_VARIABLE","$attributeCode",220],"]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$value",220],";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$addressDataObject",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","addressDataFactory",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","create",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","dataObjectHelper",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","populateWithArray",224],"(",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$addressDataObject",225],",",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$addressData",226],",",["T_WHITESPACE","\n            ",226],["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Customer",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Api",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Data",227],["T_NS_SEPARATOR","\\",227],["T_STRING","AddressInterface",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],["T_WHITESPACE","\n        ",227],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$addressDataObject",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setRegion",229],"(",["T_VARIABLE","$regionDataObject",229],")",";",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$addressDataObject",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setIsDefaultBilling",231],"(",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getRequest",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","getParam",232],"(",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",232],",",["T_WHITESPACE"," ",232],["T_STRING","false",232],")",["T_WHITESPACE","\n        ",232],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","setIsDefaultShipping",233],"(",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getRequest",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getParam",234],"(",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",234],",",["T_WHITESPACE"," ",234],["T_STRING","false",234],")",["T_WHITESPACE","\n        ",234],")",";",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$addressDataObject",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Create customer account action\n     *\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",239],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","execute",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect $resultRedirect *\/",248],["T_WHITESPACE","\n        ",248],["T_VARIABLE","$resultRedirect",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","resultRedirectFactory",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","create",249],"(",")",";",["T_WHITESPACE","\n        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","session",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isLoggedIn",250],"(",")",["T_WHITESPACE"," ",250],["T_BOOLEAN_OR","||",250],["T_WHITESPACE"," ",250],"!",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","registration",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isAllowed",250],"(",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$resultRedirect",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setPath",251],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",251],")",";",["T_WHITESPACE","\n            ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$resultRedirect",252],";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n\n        ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(","!",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getRequest",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","isPost",255],"(",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$url",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","urlModel",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getUrl",256],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/create'",256],",",["T_WHITESPACE"," ",256],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_STRING","true",256],"]",")",";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$resultRedirect",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setUrl",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_redirect",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","error",257],"(",["T_VARIABLE","$url",257],")",")",";",["T_WHITESPACE","\n            ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$resultRedirect",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","session",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","regenerateId",261],"(",")",";",["T_WHITESPACE","\n\n        ",261],["T_TRY","try",263],["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$address",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","extractAddress",264],"(",")",";",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$addresses",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$address",265],["T_WHITESPACE"," ",265],["T_IS_IDENTICAL","===",265],["T_WHITESPACE"," ",265],["T_STRING","null",265],["T_WHITESPACE"," ",265],"?",["T_WHITESPACE"," ",265],"[","]",["T_WHITESPACE"," ",265],":",["T_WHITESPACE"," ",265],"[",["T_VARIABLE","$address",265],"]",";",["T_WHITESPACE","\n\n            ",265],["T_VARIABLE","$customer",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","customerExtractor",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","extract",267],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_account_create'",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_request",267],")",";",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$customer",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","setAddresses",268],"(",["T_VARIABLE","$addresses",268],")",";",["T_WHITESPACE","\n\n            ",268],["T_VARIABLE","$password",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getRequest",270],"(",")",["T_OBJECT_OPERATOR","->",270],["T_STRING","getParam",270],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",270],")",";",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$confirmation",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getRequest",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getParam",271],"(",["T_CONSTANT_ENCAPSED_STRING","'password_confirmation'",271],")",";",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$redirectUrl",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","session",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getBeforeAuthUrl",272],"(",")",";",["T_WHITESPACE","\n\n            ",272],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","checkPasswordConfirmation",274],"(",["T_VARIABLE","$password",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$confirmation",274],")",";",["T_WHITESPACE","\n\n            ",274],["T_VARIABLE","$customer",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","accountManagement",276],["T_WHITESPACE","\n                ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","createAccount",277],"(",["T_VARIABLE","$customer",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$password",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$redirectUrl",277],")",";",["T_WHITESPACE","\n\n            ",277],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getRequest",279],"(",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","getParam",279],"(",["T_CONSTANT_ENCAPSED_STRING","'is_subscribed'",279],",",["T_WHITESPACE"," ",279],["T_STRING","false",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","subscriberFactory",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","create",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","subscribeCustomerById",280],"(",["T_VARIABLE","$customer",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getId",280],"(",")",")",";",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE","\n\n            ",281],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_eventManager",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","dispatch",283],"(",["T_WHITESPACE","\n                ",283],["T_CONSTANT_ENCAPSED_STRING","'customer_register_success'",284],",",["T_WHITESPACE","\n                ",284],"[",["T_CONSTANT_ENCAPSED_STRING","'account_controller'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'customer'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$customer",285],"]",["T_WHITESPACE","\n            ",285],")",";",["T_WHITESPACE","\n\n            ",286],["T_VARIABLE","$confirmationStatus",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","accountManagement",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getConfirmationStatus",288],"(",["T_VARIABLE","$customer",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getId",288],"(",")",")",";",["T_WHITESPACE","\n            ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$confirmationStatus",289],["T_WHITESPACE"," ",289],["T_IS_IDENTICAL","===",289],["T_WHITESPACE"," ",289],["T_STRING","AccountManagementInterface",289],["T_DOUBLE_COLON","::",289],["T_STRING","ACCOUNT_CONFIRMATION_REQUIRED",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                ",289],["T_VARIABLE","$email",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","customerUrl",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getEmailConfirmationUrl",290],"(",["T_VARIABLE","$customer",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getEmail",290],"(",")",")",";",["T_WHITESPACE","\n                ",290],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",291],["T_WHITESPACE","                ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","messageManager",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","addSuccess",292],"(",["T_WHITESPACE","\n                    ",292],["T_STRING","__",293],"(",["T_WHITESPACE","\n                        ",293],["T_CONSTANT_ENCAPSED_STRING","'You must confirm your account. Please check your email for the confirmation link or <a href=\"%1\">click here<\/a> for a new link.'",294],",",["T_WHITESPACE","\n                        ",294],["T_VARIABLE","$email",295],["T_WHITESPACE","\n                    ",295],")",["T_WHITESPACE","\n                ",296],")",";",["T_WHITESPACE","\n                ",297],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",298],["T_WHITESPACE","                ",299],["T_VARIABLE","$url",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","urlModel",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getUrl",299],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/index'",299],",",["T_WHITESPACE"," ",299],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_STRING","true",299],"]",")",";",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$resultRedirect",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","setUrl",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_redirect",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","success",300],"(",["T_VARIABLE","$url",300],")",")",";",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE"," ",301],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","session",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","setCustomerDataAsLoggedIn",302],"(",["T_VARIABLE","$customer",302],")",";",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","messageManager",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","addSuccess",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getSuccessMessage",303],"(",")",")",";",["T_WHITESPACE","\n                ",303],["T_VARIABLE","$requestedRedirect",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","accountRedirect",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getRedirectCookie",304],"(",")",";",["T_WHITESPACE","\n                ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(","!",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","scopeConfig",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getValue",305],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/startup\/redirect_dashboard'",305],")",["T_WHITESPACE"," ",305],["T_BOOLEAN_AND","&&",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$requestedRedirect",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                    ",305],["T_VARIABLE","$resultRedirect",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","setUrl",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_redirect",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","success",306],"(",["T_VARIABLE","$requestedRedirect",306],")",")",";",["T_WHITESPACE","\n                    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","accountRedirect",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","clearRedirectCookie",307],"(",")",";",["T_WHITESPACE","\n                    ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$resultRedirect",308],";",["T_WHITESPACE","\n                ",308],"}",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$resultRedirect",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","accountRedirect",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getRedirect",310],"(",")",";",["T_WHITESPACE","\n            ",310],"}",["T_WHITESPACE","\n            ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getCookieManager",312],"(",")",["T_OBJECT_OPERATOR","->",312],["T_STRING","getCookie",312],"(",["T_CONSTANT_ENCAPSED_STRING","'mage-cache-sessid'",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                ",312],["T_VARIABLE","$metadata",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getCookieMetadataFactory",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","createCookieMetadata",313],"(",")",";",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$metadata",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","setPath",314],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",314],")",";",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getCookieManager",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","deleteCookie",315],"(",["T_CONSTANT_ENCAPSED_STRING","'mage-cache-sessid'",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$metadata",315],")",";",["T_WHITESPACE","\n            ",315],"}",["T_WHITESPACE","\n\n            ",316],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$resultRedirect",318],";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE"," ",319],["T_CATCH","catch",319],["T_WHITESPACE"," ",319],"(",["T_STRING","StateException",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$e",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$url",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","urlModel",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getUrl",320],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/account\/forgotpassword'",320],")",";",["T_WHITESPACE","\n            ",320],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",321],["T_WHITESPACE","            ",322],["T_VARIABLE","$message",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","__",322],"(",["T_WHITESPACE","\n                ",322],["T_CONSTANT_ENCAPSED_STRING","'There is already an account with this email address. If you are sure that it is your email address, <a href=\"%1\">click here<\/a> to get your password and access your account.'",323],",",["T_WHITESPACE","\n                ",323],["T_VARIABLE","$url",324],["T_WHITESPACE","\n            ",324],")",";",["T_WHITESPACE","\n            ",325],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",326],["T_WHITESPACE","            ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","messageManager",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","addError",327],"(",["T_VARIABLE","$message",327],")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE"," ",328],["T_CATCH","catch",328],["T_WHITESPACE"," ",328],"(",["T_STRING","InputException",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$e",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","messageManager",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","addError",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","escaper",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","escapeHtml",329],"(",["T_VARIABLE","$e",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getMessage",329],"(",")",")",")",";",["T_WHITESPACE","\n            ",329],["T_FOREACH","foreach",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$e",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getErrors",330],"(",")",["T_WHITESPACE"," ",330],["T_AS","as",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$error",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","messageManager",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","addError",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","escaper",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","escapeHtml",331],"(",["T_VARIABLE","$error",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getMessage",331],"(",")",")",")",";",["T_WHITESPACE","\n            ",331],"}",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE"," ",333],["T_CATCH","catch",333],["T_WHITESPACE"," ",333],"(",["T_STRING","LocalizedException",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$e",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","messageManager",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","addError",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escaper",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","escapeHtml",334],"(",["T_VARIABLE","$e",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getMessage",334],"(",")",")",")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE"," ",335],["T_CATCH","catch",335],["T_WHITESPACE"," ",335],"(",["T_NS_SEPARATOR","\\",335],["T_STRING","Exception",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$e",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","messageManager",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","addException",336],"(",["T_VARIABLE","$e",336],",",["T_WHITESPACE"," ",336],["T_STRING","__",336],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t save the customer.'",336],")",")",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n\n        ",337],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","session",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","setCustomerFormData",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getRequest",339],"(",")",["T_OBJECT_OPERATOR","->",339],["T_STRING","getPostValue",339],"(",")",")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$defaultUrl",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","urlModel",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getUrl",340],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/create'",340],",",["T_WHITESPACE"," ",340],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_STRING","true",340],"]",")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$resultRedirect",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setUrl",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_redirect",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","error",341],"(",["T_VARIABLE","$defaultUrl",341],")",")",";",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$resultRedirect",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Make sure that password and password confirmation matched\n     *\n     * @param string $password\n     * @param string $confirmation\n     * @return void\n     * @throws InputException\n     *\/",345],["T_WHITESPACE","\n    ",352],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","checkPasswordConfirmation",353],"(",["T_VARIABLE","$password",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$confirmation",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$password",355],["T_WHITESPACE"," ",355],["T_IS_NOT_EQUAL","!=",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$confirmation",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_THROW","throw",356],["T_WHITESPACE"," ",356],["T_NEW","new",356],["T_WHITESPACE"," ",356],["T_STRING","InputException",356],"(",["T_STRING","__",356],"(",["T_CONSTANT_ENCAPSED_STRING","'Please make sure your passwords match.'",356],")",")",";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Retrieve success message\n     *\n     * @return string\n     *\/",360],["T_WHITESPACE","\n    ",364],["T_PROTECTED","protected",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","getSuccessMessage",365],"(",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","addressHelper",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","isVatValidationEnabled",367],"(",")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","addressHelper",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getTaxCalculationAddressType",368],"(",")",["T_WHITESPACE"," ",368],["T_IS_EQUAL","==",368],["T_WHITESPACE"," ",368],["T_STRING","Address",368],["T_DOUBLE_COLON","::",368],["T_STRING","TYPE_SHIPPING",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",369],["T_WHITESPACE","                ",370],["T_VARIABLE","$message",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","__",370],"(",["T_WHITESPACE","\n                    ",370],["T_CONSTANT_ENCAPSED_STRING","'If you are a registered VAT customer, please <a href=\"%1\">click here<\/a> to enter your shipping address for proper VAT calculation.'",371],",",["T_WHITESPACE","\n                    ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","urlModel",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getUrl",372],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address\/edit'",372],")",["T_WHITESPACE","\n                ",372],")",";",["T_WHITESPACE","\n                ",373],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",374],["T_WHITESPACE","            ",375],"}",["T_WHITESPACE"," ",375],["T_ELSE","else",375],["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                ",375],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",376],["T_WHITESPACE","                ",377],["T_VARIABLE","$message",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","__",377],"(",["T_WHITESPACE","\n                    ",377],["T_CONSTANT_ENCAPSED_STRING","'If you are a registered VAT customer, please <a href=\"%1\">click here<\/a> to enter your billing address for proper VAT calculation.'",378],",",["T_WHITESPACE","\n                    ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","urlModel",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getUrl",379],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address\/edit'",379],")",["T_WHITESPACE","\n                ",379],")",";",["T_WHITESPACE","\n                ",380],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",381],["T_WHITESPACE","            ",382],"}",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE"," ",383],["T_ELSE","else",383],["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$message",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","__",384],"(",["T_CONSTANT_ENCAPSED_STRING","'Thank you for registering with %1.'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","storeManager",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getStore",384],"(",")",["T_OBJECT_OPERATOR","->",384],["T_STRING","getFrontendName",384],"(",")",")",";",["T_WHITESPACE","\n        ",384],"}",["T_WHITESPACE","\n        ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$message",386],";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n",387],"}",["T_WHITESPACE","\n",388]]