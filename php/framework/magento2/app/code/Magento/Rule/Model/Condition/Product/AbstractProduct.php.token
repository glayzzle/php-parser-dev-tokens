[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Abstract Rule product condition data model\n *\n * @author Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Rule",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Condition",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",17],["T_ABSTRACT","abstract",18],["T_WHITESPACE"," ",18],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractProduct",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Rule",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Condition",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AbstractCondition",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * All attribute values as array in form:\n     * array(\n     *   [entity_id_1] => array(\n     *          [store_id_1] => store_value_1,\n     *          [store_id_2] => store_value_2,\n     *          ...\n     *          [store_id_n] => store_value_n\n     *   ),\n     *   ...\n     * )\n     *\n     * Will be set only for not global scope attribute\n     *\n     * @var array\n     *\/",20],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_entityAttributeValues",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","null",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Attribute data key that indicates whether it should be used for rules\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_isUsedForRuleProperty",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'is_used_for_promo_rules'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Adminhtml data\n     *\n     * @var \\Magento\\Backend\\Helper\\Data\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_backendData",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\Config\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_config",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_productFactory",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$productRepository",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_productResource",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\Collection\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_attrSetCollection",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\FormatInterface\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$_localeFormat",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Rule\\Model\\Condition\\Context $context\n     * @param \\Magento\\Backend\\Helper\\Data $backendData\n     * @param \\Magento\\Eav\\Model\\Config $config\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product $productResource\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\Collection $attrSetCollection\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param array $data\n     *\/",82],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Rule",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Condition",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Context",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$context",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Backend",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Helper",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Data",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$backendData",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Eav",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Model",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Config",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$config",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Catalog",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ProductFactory",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$productFactory",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Catalog",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Api",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ProductRepositoryInterface",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$productRepository",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Catalog",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ResourceModel",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Product",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$productResource",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Eav",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Model",100],["T_NS_SEPARATOR","\\",100],["T_STRING","ResourceModel",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Entity",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Attribute",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Set",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Collection",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$attrSetCollection",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Framework",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Locale",101],["T_NS_SEPARATOR","\\",101],["T_STRING","FormatInterface",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$localeFormat",101],",",["T_WHITESPACE","\n        ",101],["T_ARRAY","array",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$data",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[","]",["T_WHITESPACE","\n    ",102],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_backendData",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$backendData",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_config",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$config",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_productFactory",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$productFactory",106],";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","productRepository",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$productRepository",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_productResource",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$productResource",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_attrSetCollection",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$attrSetCollection",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_localeFormat",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$localeFormat",110],";",["T_WHITESPACE","\n        ",110],["T_STRING","parent",111],["T_DOUBLE_COLON","::",111],["T_STRING","__construct",111],"(",["T_VARIABLE","$context",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$data",111],")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Customize default operator input by type mapper for some types\n     *\n     * @return array\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getDefaultOperatorInputByType",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_STRING","null",121],["T_WHITESPACE"," ",121],["T_IS_IDENTICAL","===",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_defaultOperatorInputByType",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_STRING","parent",122],["T_DOUBLE_COLON","::",122],["T_STRING","getDefaultOperatorInputByType",122],"(",")",";",["T_WHITESPACE","\n            ",122],["T_COMMENT","\/*\n             * '{}' and '!{}' are left for back-compatibility and equal to '==' and '!='\n             *\/",123],["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_defaultOperatorInputByType",126],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[",["T_CONSTANT_ENCAPSED_STRING","'=='",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'!='",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'{}'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'!{}'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'()'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'!()'",126],"]",";",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_arrayInputTypes",127],"[","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'category'",127],";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_defaultOperatorInputByType",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Retrieve attribute object\n     *\n     * @return \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getAttributeObject",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_TRY","try",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$obj",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_config",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getAttribute",140],"(",["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Catalog",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Product",140],["T_DOUBLE_COLON","::",140],["T_STRING","ENTITY",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getAttribute",140],"(",")",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE"," ",141],["T_CATCH","catch",141],["T_WHITESPACE"," ",141],"(",["T_NS_SEPARATOR","\\",141],["T_STRING","Exception",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$e",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$obj",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","DataObject",142],"(",")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$obj",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setEntity",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_productFactory",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","create",143],"(",")",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","setFrontendInput",143],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",143],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$obj",145],";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Add special attributes\n     *\n     * @param array &$attributes\n     * @return void\n     *\/",148],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","_addSpecialAttributes",154],"(",["T_ARRAY","array",154],["T_WHITESPACE"," ",154],"&",["T_VARIABLE","$attributes",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$attributes",156],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",156],"]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","__",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Attribute Set'",156],")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$attributes",157],"[",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","__",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Category'",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Load attribute options\n     *\n     * @return $this\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","loadAttributeOptions",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$productAttributes",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_productResource",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","loadAllAttributes",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getAttributesByCode",167],"(",")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$attributes",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n        ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$productAttributes",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$attribute",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_COMMENT","\/* @var $attribute \\Magento\\Catalog\\Model\\ResourceModel\\Eav\\Attribute *\/",171],["T_WHITESPACE","\n            ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_VARIABLE","$attribute",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","isAllowedForRuleCondition",172],"(",")",["T_WHITESPACE"," ",172],["T_BOOLEAN_OR","||",172],["T_WHITESPACE"," ",172],"!",["T_VARIABLE","$attribute",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getDataUsingMethod",172],"(",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_isUsedForRuleProperty",173],["T_WHITESPACE","\n            ",173],")",["T_WHITESPACE","\n            ",174],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_CONTINUE","continue",176],";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$attributes",178],"[",["T_VARIABLE","$attribute",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getAttributeCode",178],"(",")","]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$attribute",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getFrontendLabel",178],"(",")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_addSpecialAttributes",181],"(",["T_VARIABLE","$attributes",181],")",";",["T_WHITESPACE","\n\n        ",181],["T_STRING","asort",183],"(",["T_VARIABLE","$attributes",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setAttributeOption",184],"(",["T_VARIABLE","$attributes",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Prepares values options to be used as select options or hashed array\n     * Result is stored in following keys:\n     *  'value_select_options' - normal select array: array(array('value' => $value, 'label' => $label), ...)\n     *  'value_option' - hashed array: array($value => $label, ...),\n     *\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",189],["T_WHITESPACE","\n    ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","_prepareValueOptions",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_COMMENT","\/\/ Check that both keys exist. Maybe somehow only one was set not in this routine, but externally.\n",200],["T_WHITESPACE","        ",201],["T_VARIABLE","$selectReady",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getData",201],"(",["T_CONSTANT_ENCAPSED_STRING","'value_select_options'",201],")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$hashedReady",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getData",202],"(",["T_CONSTANT_ENCAPSED_STRING","'value_option'",202],")",";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$selectReady",203],["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$hashedReady",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_COMMENT","\/\/ Get array of select options. It will be used as source for hashed options\n",207],["T_WHITESPACE","        ",208],["T_VARIABLE","$selectOptions",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","null",208],";",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getAttribute",209],"(",")",["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$entityTypeId",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_config",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getEntityType",210],"(",["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Catalog",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Model",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Product",210],["T_DOUBLE_COLON","::",210],["T_STRING","ENTITY",210],")",["T_OBJECT_OPERATOR","->",210],["T_STRING","getId",210],"(",")",";",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$selectOptions",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_attrSetCollection",211],["T_WHITESPACE","\n                ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","setEntityTypeFilter",212],"(",["T_VARIABLE","$entityTypeId",212],")",["T_WHITESPACE","\n                ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","load",213],"(",")",["T_WHITESPACE","\n                ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","toOptionArray",214],"(",")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE"," ",215],["T_ELSEIF","elseif",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getAttribute",215],"(",")",["T_WHITESPACE"," ",215],["T_IS_IDENTICAL","===",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'type_id'",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$selectReady",216],["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$value",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$label",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_STRING","is_array",217],"(",["T_VARIABLE","$label",217],")",["T_WHITESPACE"," ",217],["T_BOOLEAN_AND","&&",217],["T_WHITESPACE"," ",217],["T_ISSET","isset",217],"(",["T_VARIABLE","$label",217],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",217],"]",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                    ",217],["T_VARIABLE","$selectOptions",218],"[","]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$label",218],";",["T_WHITESPACE","\n                ",218],"}",["T_WHITESPACE"," ",219],["T_ELSE","else",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$selectOptions",220],"[","]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$value",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'label'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$label",220],"]",";",["T_WHITESPACE","\n                ",220],"}",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$selectReady",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE"," ",224],["T_ELSEIF","elseif",224],["T_WHITESPACE"," ",224],"(",["T_STRING","is_object",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getAttributeObject",224],"(",")",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$attributeObject",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getAttributeObject",225],"(",")",";",["T_WHITESPACE","\n            ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$attributeObject",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","usesSource",226],"(",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$attributeObject",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getFrontendInput",227],"(",")",["T_WHITESPACE"," ",227],["T_IS_EQUAL","==",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                    ",227],["T_VARIABLE","$addEmptyOption",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","false",228],";",["T_WHITESPACE","\n                ",228],"}",["T_WHITESPACE"," ",229],["T_ELSE","else",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$addEmptyOption",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","true",230],";",["T_WHITESPACE","\n                ",230],"}",["T_WHITESPACE","\n                ",231],["T_VARIABLE","$selectOptions",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$attributeObject",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getSource",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","getAllOptions",232],"(",["T_VARIABLE","$addEmptyOption",232],")",";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_setSelectOptions",236],"(",["T_VARIABLE","$selectOptions",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$selectReady",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$hashedReady",236],")",";",["T_WHITESPACE","\n\n        ",236],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Set new values only if we really got them\n     *\n     * @param array $selectOptions\n     * @param array $selectReady\n     * @param array $hashedReady\n     * @return $this\n     *\/",241],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","_setSelectOptions",249],"(",["T_VARIABLE","$selectOptions",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$selectReady",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$hashedReady",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$selectOptions",251],["T_WHITESPACE"," ",251],["T_IS_NOT_IDENTICAL","!==",251],["T_WHITESPACE"," ",251],["T_STRING","null",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_COMMENT","\/\/ Overwrite only not already existing values\n",252],["T_WHITESPACE","            ",253],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$selectReady",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setData",254],"(",["T_CONSTANT_ENCAPSED_STRING","'value_select_options'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$selectOptions",254],")",";",["T_WHITESPACE","\n            ",254],"}",["T_WHITESPACE","\n            ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_VARIABLE","$hashedReady",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$hashedOptions",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],"[","]",";",["T_WHITESPACE","\n                ",257],["T_FOREACH","foreach",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$selectOptions",258],["T_WHITESPACE"," ",258],["T_AS","as",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$option",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                    ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_STRING","is_array",259],"(",["T_VARIABLE","$option",259],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",259],"]",")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                        ",259],["T_CONTINUE","continue",260],";",["T_WHITESPACE"," ",260],["T_COMMENT","\/\/ We cannot use array as index\n",260],["T_WHITESPACE","                    ",261],"}",["T_WHITESPACE","\n                    ",261],["T_VARIABLE","$hashedOptions",262],"[",["T_VARIABLE","$option",262],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",262],"]","]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$option",262],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",262],"]",";",["T_WHITESPACE","\n                ",262],"}",["T_WHITESPACE","\n                ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","setData",264],"(",["T_CONSTANT_ENCAPSED_STRING","'value_option'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$hashedOptions",264],")",";",["T_WHITESPACE","\n            ",264],"}",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n        ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Retrieve value by option\n     *\n     * @param string|null $option\n     * @return string\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","getValueOption",276],"(",["T_VARIABLE","$option",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","null",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_prepareValueOptions",278],"(",")",";",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getData",279],"(",["T_CONSTANT_ENCAPSED_STRING","'value_option'",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$option",279],["T_WHITESPACE"," ",279],["T_IS_NOT_IDENTICAL","!==",279],["T_WHITESPACE"," ",279],["T_STRING","null",279],["T_WHITESPACE"," ",279],"?",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'\/'",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_VARIABLE","$option",279],["T_WHITESPACE"," ",279],":",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","''",279],")",")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Retrieve select option values\n     *\n     * @return array\n     *\/",282],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","getValueSelectOptions",287],"(",")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_prepareValueOptions",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getData",290],"(",["T_CONSTANT_ENCAPSED_STRING","'value_select_options'",290],")",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Retrieve after element HTML\n     *\n     * @return string\n     *\/",293],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","getValueAfterElementHtml",298],"(",")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$html",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","''",300],";",["T_WHITESPACE","\n\n        ",300],["T_SWITCH","switch",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getAttribute",302],"(",")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_CASE","case",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'sku'",303],":",["T_WHITESPACE","\n            ",303],["T_CASE","case",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",304],":",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$image",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_assetRepo",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getUrl",305],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_chooser_trigger.gif'",305],")",";",["T_WHITESPACE","\n                ",305],["T_BREAK","break",306],";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n\n        ",307],["T_IF","if",309],["T_WHITESPACE"," ",309],"(","!",["T_EMPTY","empty",309],"(",["T_VARIABLE","$image",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$html",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'<a href=\"javascript:void(0)\" class=\"rule-chooser-trigger\"><img src=\"'",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$image",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE","\n                ",311],["T_CONSTANT_ENCAPSED_STRING","'\" alt=\"\" class=\"v-middle rule-chooser-trigger\" title=\"'",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE","\n                ",312],["T_STRING","__",313],"(",["T_WHITESPACE","\n                    ",313],["T_CONSTANT_ENCAPSED_STRING","'Open Chooser'",314],["T_WHITESPACE","\n                ",314],")",["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\" \/><\/a>'",315],";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$html",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Retrieve attribute element\n     *\n     * @return \\Magento\\Framework\\Data\\Form\\Element\\AbstractElement\n     *\/",320],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getAttributeElement",325],"(",")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$element",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","parent",327],["T_DOUBLE_COLON","::",327],["T_STRING","getAttributeElement",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$element",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setShowAsText",328],"(",["T_STRING","true",328],")",";",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$element",329],";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n\n    ",330],["T_DOC_COMMENT","\/**\n     * Collect validated attributes\n     *\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Collection $productCollection\n     * @return $this\n     *\/",332],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","collectValidatedAttributes",338],"(",["T_VARIABLE","$productCollection",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$attribute",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getAttribute",340],"(",")",";",["T_WHITESPACE","\n        ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",341],["T_WHITESPACE"," ",341],["T_IS_NOT_EQUAL","!=",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$attribute",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$productCollection",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","addAttributeToSelect",342],"(",["T_VARIABLE","$attribute",342],",",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'left'",342],")",";",["T_WHITESPACE","\n            ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getAttributeObject",343],"(",")",["T_OBJECT_OPERATOR","->",343],["T_STRING","isScopeGlobal",343],"(",")",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$attributes",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getRule",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","getCollectedAttributes",344],"(",")",";",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$attributes",345],"[",["T_VARIABLE","$attribute",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","true",345],";",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getRule",346],"(",")",["T_OBJECT_OPERATOR","->",346],["T_STRING","setCollectedAttributes",346],"(",["T_VARIABLE","$attributes",346],")",";",["T_WHITESPACE","\n            ",346],"}",["T_WHITESPACE"," ",347],["T_ELSE","else",347],["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n                ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_entityAttributeValues",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$productCollection",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getAllAttributeValues",348],"(",["T_VARIABLE","$attribute",348],")",";",["T_WHITESPACE","\n            ",348],"}",["T_WHITESPACE","\n        ",349],"}",["T_WHITESPACE","\n\n        ",350],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Retrieve input type\n     *\n     * @return string\n     *\/",355],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","getInputType",360],"(",")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getAttribute",362],"(",")",["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'select'",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(","!",["T_STRING","is_object",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getAttributeObject",365],"(",")",")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'string'",366],";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getAttributeObject",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","getAttributeCode",368],"(",")",["T_WHITESPACE"," ",368],["T_IS_EQUAL","==",368],["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'category'",369],";",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE","\n        ",370],["T_SWITCH","switch",371],["T_WHITESPACE"," ",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getAttributeObject",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getFrontendInput",371],"(",")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_CASE","case",372],["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'select'",372],":",["T_WHITESPACE","\n                ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'select'",373],";",["T_WHITESPACE","\n\n            ",373],["T_CASE","case",375],["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",375],":",["T_WHITESPACE","\n                ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",376],";",["T_WHITESPACE","\n\n            ",376],["T_CASE","case",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'date'",378],":",["T_WHITESPACE","\n                ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'date'",379],";",["T_WHITESPACE","\n\n            ",379],["T_CASE","case",381],["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'boolean'",381],":",["T_WHITESPACE","\n                ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'boolean'",382],";",["T_WHITESPACE","\n\n            ",382],["T_DEFAULT","default",384],":",["T_WHITESPACE","\n                ",384],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'string'",385],";",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n\n    ",387],["T_DOC_COMMENT","\/**\n     * Retrieve value element type\n     *\n     * @return string\n     *\/",389],["T_WHITESPACE","\n    ",393],["T_PUBLIC","public",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","getValueElementType",394],"(",")",["T_WHITESPACE","\n    ",394],"{",["T_WHITESPACE","\n        ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getAttribute",396],"(",")",["T_WHITESPACE"," ",396],["T_IS_IDENTICAL","===",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'select'",397],";",["T_WHITESPACE","\n        ",397],"}",["T_WHITESPACE","\n        ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(","!",["T_STRING","is_object",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getAttributeObject",399],"(",")",")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n            ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'text'",400],";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n        ",401],["T_SWITCH","switch",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getAttributeObject",402],"(",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","getFrontendInput",402],"(",")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_CASE","case",403],["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'select'",403],":",["T_WHITESPACE","\n            ",403],["T_CASE","case",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'boolean'",404],":",["T_WHITESPACE","\n                ",404],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'select'",405],";",["T_WHITESPACE","\n\n            ",405],["T_CASE","case",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",407],":",["T_WHITESPACE","\n                ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",408],";",["T_WHITESPACE","\n\n            ",408],["T_CASE","case",410],["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'date'",410],":",["T_WHITESPACE","\n                ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'date'",411],";",["T_WHITESPACE","\n\n            ",411],["T_DEFAULT","default",413],":",["T_WHITESPACE","\n                ",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'text'",414],";",["T_WHITESPACE","\n        ",414],"}",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * Retrieve value element chooser URL\n     *\n     * @return string\n     *\/",418],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","getValueElementChooserUrl",423],"(",")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$url",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","false",425],";",["T_WHITESPACE","\n        ",425],["T_SWITCH","switch",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getAttribute",426],"(",")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_CASE","case",427],["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'sku'",427],":",["T_WHITESPACE","\n            ",427],["T_CASE","case",428],["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",428],":",["T_WHITESPACE","\n                ",428],["T_VARIABLE","$url",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'catalog_rule\/promo_widget\/chooser\/attribute\/'",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getAttribute",429],"(",")",";",["T_WHITESPACE","\n                ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getJsFormObject",430],"(",")",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                    ",430],["T_VARIABLE","$url",431],["T_WHITESPACE"," ",431],["T_CONCAT_EQUAL",".=",431],["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'\/form\/'",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getJsFormObject",431],"(",")",";",["T_WHITESPACE","\n                ",431],"}",["T_WHITESPACE","\n                ",432],["T_BREAK","break",433],";",["T_WHITESPACE","\n            ",433],["T_DEFAULT","default",434],":",["T_WHITESPACE","\n                ",434],["T_BREAK","break",435],";",["T_WHITESPACE","\n        ",435],"}",["T_WHITESPACE","\n        ",436],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$url",437],["T_WHITESPACE"," ",437],["T_IS_NOT_IDENTICAL","!==",437],["T_WHITESPACE"," ",437],["T_STRING","false",437],["T_WHITESPACE"," ",437],"?",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_backendData",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getUrl",437],"(",["T_VARIABLE","$url",437],")",["T_WHITESPACE"," ",437],":",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","''",437],";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * Retrieve Explicit Apply\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",440],["T_WHITESPACE","\n    ",445],["T_PUBLIC","public",446],["T_WHITESPACE"," ",446],["T_FUNCTION","function",446],["T_WHITESPACE"," ",446],["T_STRING","getExplicitApply",446],"(",")",["T_WHITESPACE","\n    ",446],"{",["T_WHITESPACE","\n        ",447],["T_SWITCH","switch",448],["T_WHITESPACE"," ",448],"(",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getAttribute",448],"(",")",")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n            ",448],["T_CASE","case",449],["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'sku'",449],":",["T_WHITESPACE","\n            ",449],["T_CASE","case",450],["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",450],":",["T_WHITESPACE","\n                ",450],["T_RETURN","return",451],["T_WHITESPACE"," ",451],["T_STRING","true",451],";",["T_WHITESPACE","\n            ",451],["T_DEFAULT","default",452],":",["T_WHITESPACE","\n                ",452],["T_BREAK","break",453],";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_STRING","is_object",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getAttributeObject",455],"(",")",")",")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_SWITCH","switch",456],["T_WHITESPACE"," ",456],"(",["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getAttributeObject",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","getFrontendInput",456],"(",")",")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n                ",456],["T_CASE","case",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'date'",457],":",["T_WHITESPACE","\n                    ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_STRING","true",458],";",["T_WHITESPACE","\n                ",458],["T_DEFAULT","default",459],":",["T_WHITESPACE","\n                    ",459],["T_BREAK","break",460],";",["T_WHITESPACE","\n            ",460],"}",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_STRING","false",463],";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Load array\n     *\n     * @param array $arr\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",466],["T_WHITESPACE","\n    ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","loadArray",473],"(",["T_VARIABLE","$arr",473],")",["T_WHITESPACE","\n    ",473],"{",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","setAttribute",475],"(",["T_ISSET","isset",475],"(",["T_VARIABLE","$arr",475],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",475],"]",")",["T_WHITESPACE"," ",475],"?",["T_WHITESPACE"," ",475],["T_VARIABLE","$arr",475],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",475],"]",["T_WHITESPACE"," ",475],":",["T_WHITESPACE"," ",475],["T_STRING","false",475],")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$attribute",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getAttributeObject",476],"(",")",";",["T_WHITESPACE","\n\n        ",476],["T_VARIABLE","$isContainsOperator",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],"!",["T_EMPTY","empty",478],"(",["T_VARIABLE","$arr",478],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",478],"]",")",["T_WHITESPACE"," ",478],["T_BOOLEAN_AND","&&",478],["T_WHITESPACE"," ",478],["T_STRING","in_array",478],"(",["T_VARIABLE","$arr",478],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",478],"]",",",["T_WHITESPACE"," ",478],"[",["T_CONSTANT_ENCAPSED_STRING","'{}'",478],",",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'!{}'",478],"]",")",";",["T_WHITESPACE","\n        ",478],["T_IF","if",479],["T_WHITESPACE"," ",479],"(",["T_VARIABLE","$attribute",479],["T_WHITESPACE"," ",479],["T_BOOLEAN_AND","&&",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$attribute",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getBackendType",479],"(",")",["T_WHITESPACE"," ",479],["T_IS_EQUAL","==",479],["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'decimal'",479],["T_WHITESPACE"," ",479],["T_BOOLEAN_AND","&&",479],["T_WHITESPACE"," ",479],"!",["T_VARIABLE","$isContainsOperator",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n            ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_ISSET","isset",480],"(",["T_VARIABLE","$arr",480],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",480],"]",")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n                ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(","!",["T_EMPTY","empty",481],"(",["T_VARIABLE","$arr",481],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",481],"]",")",["T_WHITESPACE"," ",481],["T_BOOLEAN_AND","&&",481],["T_WHITESPACE"," ",481],["T_STRING","in_array",481],"(",["T_WHITESPACE","\n                    ",481],["T_VARIABLE","$arr",482],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",482],"]",",",["T_WHITESPACE","\n                    ",482],"[",["T_CONSTANT_ENCAPSED_STRING","'!()'",483],",",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'()'",483],"]",["T_WHITESPACE","\n                ",483],")",["T_WHITESPACE"," ",484],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],["T_STRING","false",484],["T_WHITESPACE"," ",484],["T_IS_NOT_IDENTICAL","!==",484],["T_WHITESPACE"," ",484],["T_STRING","strpos",484],"(",["T_WHITESPACE","\n                    ",484],["T_VARIABLE","$arr",485],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",485],"]",",",["T_WHITESPACE","\n                    ",485],["T_CONSTANT_ENCAPSED_STRING","','",486],["T_WHITESPACE","\n                ",486],")",["T_WHITESPACE","\n                ",487],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n                    ",488],["T_VARIABLE","$tmp",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],"[","]",";",["T_WHITESPACE","\n                    ",489],["T_FOREACH","foreach",490],["T_WHITESPACE"," ",490],"(",["T_STRING","explode",490],"(",["T_CONSTANT_ENCAPSED_STRING","','",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$arr",490],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",490],"]",")",["T_WHITESPACE"," ",490],["T_AS","as",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$value",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                        ",490],["T_VARIABLE","$tmp",491],"[","]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_localeFormat",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getNumber",491],"(",["T_VARIABLE","$value",491],")",";",["T_WHITESPACE","\n                    ",491],"}",["T_WHITESPACE","\n                    ",492],["T_VARIABLE","$arr",493],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",493],"]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","implode",493],"(",["T_CONSTANT_ENCAPSED_STRING","','",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$tmp",493],")",";",["T_WHITESPACE","\n                ",493],"}",["T_WHITESPACE"," ",494],["T_ELSE","else",494],["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n                    ",494],["T_VARIABLE","$arr",495],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",495],"]",["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_localeFormat",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getNumber",495],"(",["T_VARIABLE","$arr",495],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",495],"]",")",";",["T_WHITESPACE","\n                ",495],"}",["T_WHITESPACE","\n            ",496],"}",["T_WHITESPACE"," ",497],["T_ELSE","else",497],["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n                ",497],["T_VARIABLE","$arr",498],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",498],"]",["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","false",498],";",["T_WHITESPACE","\n            ",498],"}",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$arr",500],"[",["T_CONSTANT_ENCAPSED_STRING","'is_value_parsed'",500],"]",["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ISSET","isset",500],"(",["T_WHITESPACE","\n                ",500],["T_VARIABLE","$arr",501],"[",["T_CONSTANT_ENCAPSED_STRING","'is_value_parsed'",501],"]",["T_WHITESPACE","\n            ",501],")",["T_WHITESPACE"," ",502],"?",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_localeFormat",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getNumber",502],"(",["T_WHITESPACE","\n                ",502],["T_VARIABLE","$arr",503],"[",["T_CONSTANT_ENCAPSED_STRING","'is_value_parsed'",503],"]",["T_WHITESPACE","\n            ",503],")",["T_WHITESPACE"," ",504],":",["T_WHITESPACE"," ",504],["T_STRING","false",504],";",["T_WHITESPACE","\n        ",504],"}",["T_WHITESPACE","\n\n        ",505],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_STRING","parent",507],["T_DOUBLE_COLON","::",507],["T_STRING","loadArray",507],"(",["T_VARIABLE","$arr",507],")",";",["T_WHITESPACE","\n    ",507],"}",["T_WHITESPACE","\n\n    ",508],["T_DOC_COMMENT","\/**\n     * Validate product attribute value for condition\n     *\n     * @param \\Magento\\Framework\\Model\\AbstractModel $model\n     * @return bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",510],["T_WHITESPACE","\n    ",517],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","validate",518],"(",["T_NS_SEPARATOR","\\",518],["T_STRING","Magento",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Framework",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Model",518],["T_NS_SEPARATOR","\\",518],["T_STRING","AbstractModel",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$model",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$attrCode",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getAttribute",520],"(",")",";",["T_WHITESPACE","\n\n        ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",522],["T_WHITESPACE"," ",522],["T_IS_EQUAL","==",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$attrCode",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","validateAttribute",523],"(",["T_VARIABLE","$model",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getAvailableInCategories",523],"(",")",")",";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE"," ",524],["T_ELSEIF","elseif",524],["T_WHITESPACE"," ",524],"(","!",["T_ISSET","isset",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_entityAttributeValues",524],"[",["T_VARIABLE","$model",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getId",524],"(",")","]",")",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_IF","if",525],["T_WHITESPACE"," ",525],"(","!",["T_VARIABLE","$model",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getResource",525],"(",")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n                ",525],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_STRING","false",526],";",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n            ",527],["T_VARIABLE","$attr",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$model",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getResource",528],"(",")",["T_OBJECT_OPERATOR","->",528],["T_STRING","getAttribute",528],"(",["T_VARIABLE","$attrCode",528],")",";",["T_WHITESPACE","\n\n            ",528],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_VARIABLE","$attr",530],["T_WHITESPACE"," ",530],["T_BOOLEAN_AND","&&",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$attr",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getBackendType",530],"(",")",["T_WHITESPACE"," ",530],["T_IS_EQUAL","==",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'datetime'",530],["T_WHITESPACE"," ",530],["T_BOOLEAN_AND","&&",530],["T_WHITESPACE"," ",530],"!",["T_STRING","is_int",530],"(",["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getValue",530],"(",")",")",")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","setValue",531],"(",["T_STRING","strtotime",531],"(",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getValue",531],"(",")",")",")",";",["T_WHITESPACE","\n                ",531],["T_VARIABLE","$value",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","strtotime",532],"(",["T_VARIABLE","$model",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getData",532],"(",["T_VARIABLE","$attrCode",532],")",")",";",["T_WHITESPACE","\n                ",532],["T_RETURN","return",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","validateAttribute",533],"(",["T_VARIABLE","$value",533],")",";",["T_WHITESPACE","\n            ",533],"}",["T_WHITESPACE","\n\n            ",534],["T_IF","if",536],["T_WHITESPACE"," ",536],"(",["T_VARIABLE","$attr",536],["T_WHITESPACE"," ",536],["T_BOOLEAN_AND","&&",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$attr",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getFrontendInput",536],"(",")",["T_WHITESPACE"," ",536],["T_IS_EQUAL","==",536],["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",536],")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n                ",536],["T_VARIABLE","$value",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$model",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getData",537],"(",["T_VARIABLE","$attrCode",537],")",";",["T_WHITESPACE","\n                ",537],["T_VARIABLE","$value",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","strlen",538],"(",["T_VARIABLE","$value",538],")",["T_WHITESPACE"," ",538],"?",["T_WHITESPACE"," ",538],["T_STRING","explode",538],"(",["T_CONSTANT_ENCAPSED_STRING","','",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$value",538],")",["T_WHITESPACE"," ",538],":",["T_WHITESPACE"," ",538],"[","]",";",["T_WHITESPACE","\n                ",538],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","validateAttribute",539],"(",["T_VARIABLE","$value",539],")",";",["T_WHITESPACE","\n            ",539],"}",["T_WHITESPACE","\n\n            ",540],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_STRING","parent",542],["T_DOUBLE_COLON","::",542],["T_STRING","validate",542],"(",["T_VARIABLE","$model",542],")",";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE"," ",543],["T_ELSE","else",543],["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_VARIABLE","$result",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_STRING","false",544],";",["T_WHITESPACE","\n            ",544],["T_COMMENT","\/\/ any valid value will set it to TRUE\n",545],["T_WHITESPACE","            ",546],["T_COMMENT","\/\/ remember old attribute state\n",546],["T_WHITESPACE","            ",547],["T_VARIABLE","$oldAttrValue",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$model",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","hasData",547],"(",["T_VARIABLE","$attrCode",547],")",["T_WHITESPACE"," ",547],"?",["T_WHITESPACE"," ",547],["T_VARIABLE","$model",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getData",547],"(",["T_VARIABLE","$attrCode",547],")",["T_WHITESPACE"," ",547],":",["T_WHITESPACE"," ",547],["T_STRING","null",547],";",["T_WHITESPACE","\n\n            ",547],["T_FOREACH","foreach",549],["T_WHITESPACE"," ",549],"(",["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","_entityAttributeValues",549],"[",["T_VARIABLE","$model",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getId",549],"(",")","]",["T_WHITESPACE"," ",549],["T_AS","as",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$value",549],")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n                ",549],["T_VARIABLE","$attr",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$model",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getResource",550],"(",")",["T_OBJECT_OPERATOR","->",550],["T_STRING","getAttribute",550],"(",["T_VARIABLE","$attrCode",550],")",";",["T_WHITESPACE","\n                ",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_VARIABLE","$attr",551],["T_WHITESPACE"," ",551],["T_BOOLEAN_AND","&&",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$attr",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getBackendType",551],"(",")",["T_WHITESPACE"," ",551],["T_IS_EQUAL","==",551],["T_WHITESPACE"," ",551],["T_CONSTANT_ENCAPSED_STRING","'datetime'",551],")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n                    ",551],["T_VARIABLE","$value",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_STRING","strtotime",552],"(",["T_VARIABLE","$value",552],")",";",["T_WHITESPACE","\n                ",552],"}",["T_WHITESPACE"," ",553],["T_ELSEIF","elseif",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$attr",553],["T_WHITESPACE"," ",553],["T_BOOLEAN_AND","&&",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$attr",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getFrontendInput",553],"(",")",["T_WHITESPACE"," ",553],["T_IS_EQUAL","==",553],["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n                    ",553],["T_VARIABLE","$value",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","strlen",554],"(",["T_VARIABLE","$value",554],")",["T_WHITESPACE"," ",554],"?",["T_WHITESPACE"," ",554],["T_STRING","explode",554],"(",["T_CONSTANT_ENCAPSED_STRING","','",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$value",554],")",["T_WHITESPACE"," ",554],":",["T_WHITESPACE"," ",554],"[","]",";",["T_WHITESPACE","\n                ",554],"}",["T_WHITESPACE","\n\n                ",555],["T_VARIABLE","$model",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","setData",557],"(",["T_VARIABLE","$attrCode",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$value",557],")",";",["T_WHITESPACE","\n                ",557],["T_VARIABLE","$result",558],["T_WHITESPACE"," ",558],["T_OR_EQUAL","|=",558],["T_WHITESPACE"," ",558],["T_STRING","parent",558],["T_DOUBLE_COLON","::",558],["T_STRING","validate",558],"(",["T_VARIABLE","$model",558],")",";",["T_WHITESPACE","\n\n                ",558],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_VARIABLE","$result",560],")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n                    ",560],["T_BREAK","break",561],";",["T_WHITESPACE","\n                ",561],"}",["T_WHITESPACE","\n            ",562],"}",["T_WHITESPACE","\n\n            ",563],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_VARIABLE","$oldAttrValue",565],["T_WHITESPACE"," ",565],["T_IS_IDENTICAL","===",565],["T_WHITESPACE"," ",565],["T_STRING","null",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n                ",565],["T_VARIABLE","$model",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","unsetData",566],"(",["T_VARIABLE","$attrCode",566],")",";",["T_WHITESPACE","\n            ",566],"}",["T_WHITESPACE"," ",567],["T_ELSE","else",567],["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n                ",567],["T_VARIABLE","$model",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","setData",568],"(",["T_VARIABLE","$attrCode",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$oldAttrValue",568],")",";",["T_WHITESPACE","\n            ",568],"}",["T_WHITESPACE","\n\n            ",569],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_BOOL_CAST","(bool)",571],["T_VARIABLE","$result",571],";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n    ",572],"}",["T_WHITESPACE","\n\n    ",573],["T_DOC_COMMENT","\/**\n     * Get argument value to bind\n     *\n     * @return array|float|int|mixed|string|\\Zend_Db_Expr\n     *\/",575],["T_WHITESPACE","\n    ",579],["T_PUBLIC","public",580],["T_WHITESPACE"," ",580],["T_FUNCTION","function",580],["T_WHITESPACE"," ",580],["T_STRING","getBindArgumentValue",580],"(",")",["T_WHITESPACE","\n    ",580],"{",["T_WHITESPACE","\n        ",581],["T_IF","if",582],["T_WHITESPACE"," ",582],"(",["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getAttribute",582],"(",")",["T_WHITESPACE"," ",582],["T_IS_EQUAL","==",582],["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",582],")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n            ",582],["T_RETURN","return",583],["T_WHITESPACE"," ",583],["T_NEW","new",583],["T_WHITESPACE"," ",583],["T_NS_SEPARATOR","\\",583],["T_STRING","Zend_Db_Expr",583],"(",["T_WHITESPACE","\n                ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","_productResource",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","getConnection",584],"(",")",["T_WHITESPACE","\n                ",584],["T_OBJECT_OPERATOR","->",585],["T_STRING","select",585],"(",")",["T_WHITESPACE","\n                ",585],["T_OBJECT_OPERATOR","->",586],["T_STRING","from",586],"(",["T_WHITESPACE","\n                    ",586],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","_productResource",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getTable",587],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product'",587],")",",",["T_WHITESPACE","\n                    ",587],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",588],"]",["T_WHITESPACE","\n                ",588],")",["T_OBJECT_OPERATOR","->",589],["T_STRING","where",589],"(",["T_WHITESPACE","\n                    ",589],["T_CONSTANT_ENCAPSED_STRING","'category_id IN (?)'",590],",",["T_WHITESPACE","\n                    ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","getValueParsed",591],"(",")",["T_WHITESPACE","\n                ",591],")",["T_OBJECT_OPERATOR","->",592],["T_STRING","__toString",592],"(",")",["T_WHITESPACE","\n            ",592],")",";",["T_WHITESPACE","\n        ",593],"}",["T_WHITESPACE","\n        ",594],["T_RETURN","return",595],["T_WHITESPACE"," ",595],["T_STRING","parent",595],["T_DOUBLE_COLON","::",595],["T_STRING","getBindArgumentValue",595],"(",")",";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n\n    ",596],["T_DOC_COMMENT","\/**\n     * Get mapped sql field\n     *\n     * @return string\n     *\/",598],["T_WHITESPACE","\n    ",602],["T_PUBLIC","public",603],["T_WHITESPACE"," ",603],["T_FUNCTION","function",603],["T_WHITESPACE"," ",603],["T_STRING","getMappedSqlField",603],"(",")",["T_WHITESPACE","\n    ",603],"{",["T_WHITESPACE","\n        ",604],["T_IF","if",605],["T_WHITESPACE"," ",605],"(",["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getAttribute",605],"(",")",["T_WHITESPACE"," ",605],["T_IS_EQUAL","==",605],["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'sku'",605],")",["T_WHITESPACE"," ",605],"{",["T_WHITESPACE","\n            ",605],["T_VARIABLE","$mappedSqlField",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_CONSTANT_ENCAPSED_STRING","'e.sku'",606],";",["T_WHITESPACE","\n        ",606],"}",["T_WHITESPACE"," ",607],["T_ELSEIF","elseif",607],["T_WHITESPACE"," ",607],"(","!",["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","isAttributeSetOrCategory",607],"(",")",")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n            ",607],["T_VARIABLE","$mappedSqlField",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getEavAttributeTableAlias",608],"(",")",["T_WHITESPACE"," ",608],".",["T_WHITESPACE"," ",608],["T_CONSTANT_ENCAPSED_STRING","'.value'",608],";",["T_WHITESPACE","\n        ",608],"}",["T_WHITESPACE"," ",609],["T_ELSEIF","elseif",609],["T_WHITESPACE"," ",609],"(",["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getAttribute",609],"(",")",["T_WHITESPACE"," ",609],["T_IS_EQUAL","==",609],["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",609],")",["T_WHITESPACE"," ",609],"{",["T_WHITESPACE","\n            ",609],["T_VARIABLE","$mappedSqlField",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'e.entity_id'",610],";",["T_WHITESPACE","\n        ",610],"}",["T_WHITESPACE"," ",611],["T_ELSE","else",611],["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n            ",611],["T_VARIABLE","$mappedSqlField",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_STRING","parent",612],["T_DOUBLE_COLON","::",612],["T_STRING","getMappedSqlField",612],"(",")",";",["T_WHITESPACE","\n        ",612],"}",["T_WHITESPACE","\n        ",613],["T_RETURN","return",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$mappedSqlField",614],";",["T_WHITESPACE","\n    ",614],"}",["T_WHITESPACE","\n\n    ",615],["T_DOC_COMMENT","\/**\n     * Validate product by entity ID\n     *\n     * @param int $productId\n     * @return bool\n     *\/",617],["T_WHITESPACE","\n    ",622],["T_PUBLIC","public",623],["T_WHITESPACE"," ",623],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","validateByEntityId",623],"(",["T_VARIABLE","$productId",623],")",["T_WHITESPACE","\n    ",623],"{",["T_WHITESPACE","\n        ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",625],["T_WHITESPACE"," ",625],["T_IS_EQUAL","==",625],["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getAttribute",625],"(",")",")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n            ",625],["T_VARIABLE","$result",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","validateAttribute",626],"(",["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","_getAvailableInCategories",626],"(",["T_VARIABLE","$productId",626],")",")",";",["T_WHITESPACE","\n        ",626],"}",["T_WHITESPACE"," ",627],["T_ELSEIF","elseif",627],["T_WHITESPACE"," ",627],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",627],["T_WHITESPACE"," ",627],["T_IS_EQUAL","==",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","getAttribute",627],"(",")",")",["T_WHITESPACE"," ",627],"{",["T_WHITESPACE","\n            ",627],["T_VARIABLE","$result",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","validateAttribute",628],"(",["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","_getAttributeSetId",628],"(",["T_VARIABLE","$productId",628],")",")",";",["T_WHITESPACE","\n        ",628],"}",["T_WHITESPACE"," ",629],["T_ELSE","else",629],["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n            ",629],["T_VARIABLE","$product",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","productRepository",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getById",630],"(",["T_VARIABLE","$productId",630],")",";",["T_WHITESPACE","\n            ",630],["T_VARIABLE","$result",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","validate",631],"(",["T_VARIABLE","$product",631],")",";",["T_WHITESPACE","\n            ",631],["T_UNSET","unset",632],"(",["T_VARIABLE","$product",632],")",";",["T_WHITESPACE","\n        ",632],"}",["T_WHITESPACE","\n        ",633],["T_RETURN","return",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$result",634],";",["T_WHITESPACE","\n    ",634],"}",["T_WHITESPACE","\n\n    ",635],["T_DOC_COMMENT","\/**\n     * Retrieve category ids where product is available\n     *\n     * @param int $productId\n     * @return array\n     *\/",637],["T_WHITESPACE","\n    ",642],["T_PROTECTED","protected",643],["T_WHITESPACE"," ",643],["T_FUNCTION","function",643],["T_WHITESPACE"," ",643],["T_STRING","_getAvailableInCategories",643],"(",["T_VARIABLE","$productId",643],")",["T_WHITESPACE","\n    ",643],"{",["T_WHITESPACE","\n        ",644],["T_RETURN","return",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_productResource",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getConnection",645],"(",")",["T_WHITESPACE","\n            ",645],["T_OBJECT_OPERATOR","->",646],["T_STRING","fetchCol",646],"(",["T_WHITESPACE","\n                ",646],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","_productResource",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","getConnection",647],"(",")",["T_WHITESPACE","\n                    ",647],["T_OBJECT_OPERATOR","->",648],["T_STRING","select",648],"(",")",["T_WHITESPACE","\n                    ",648],["T_OBJECT_OPERATOR","->",649],["T_STRING","distinct",649],"(",")",["T_WHITESPACE","\n                    ",649],["T_OBJECT_OPERATOR","->",650],["T_STRING","from",650],"(",["T_WHITESPACE","\n                        ",650],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","_productResource",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","getTable",651],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product'",651],")",",",["T_WHITESPACE","\n                        ",651],"[",["T_CONSTANT_ENCAPSED_STRING","'category_id'",652],"]",["T_WHITESPACE","\n                    ",652],")",["T_OBJECT_OPERATOR","->",653],["T_STRING","where",653],"(",["T_WHITESPACE","\n                        ",653],["T_CONSTANT_ENCAPSED_STRING","'product_id = ?'",654],",",["T_WHITESPACE","\n                        ",654],["T_VARIABLE","$productId",655],["T_WHITESPACE","\n                    ",655],")",["T_WHITESPACE","\n            ",656],")",";",["T_WHITESPACE","\n    ",657],"}",["T_WHITESPACE","\n\n    ",658],["T_DOC_COMMENT","\/**\n     * Get attribute set id for product\n     *\n     * @param int $productId\n     * @return string\n     *\/",660],["T_WHITESPACE","\n    ",665],["T_PROTECTED","protected",666],["T_WHITESPACE"," ",666],["T_FUNCTION","function",666],["T_WHITESPACE"," ",666],["T_STRING","_getAttributeSetId",666],"(",["T_VARIABLE","$productId",666],")",["T_WHITESPACE","\n    ",666],"{",["T_WHITESPACE","\n        ",667],["T_RETURN","return",668],["T_WHITESPACE"," ",668],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","_productResource",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","getConnection",668],"(",")",["T_WHITESPACE","\n            ",668],["T_OBJECT_OPERATOR","->",669],["T_STRING","fetchOne",669],"(",["T_WHITESPACE","\n                ",669],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","_productResource",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","getConnection",670],"(",")",["T_WHITESPACE","\n                    ",670],["T_OBJECT_OPERATOR","->",671],["T_STRING","select",671],"(",")",["T_WHITESPACE","\n                    ",671],["T_OBJECT_OPERATOR","->",672],["T_STRING","distinct",672],"(",")",["T_WHITESPACE","\n                    ",672],["T_OBJECT_OPERATOR","->",673],["T_STRING","from",673],"(",["T_WHITESPACE","\n                        ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_productResource",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getTable",674],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",674],")",",",["T_WHITESPACE","\n                        ",674],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",675],"]",["T_WHITESPACE","\n                    ",675],")",["T_OBJECT_OPERATOR","->",676],["T_STRING","where",676],"(",["T_WHITESPACE","\n                        ",676],["T_CONSTANT_ENCAPSED_STRING","'entity_id = ?'",677],",",["T_WHITESPACE","\n                        ",677],["T_VARIABLE","$productId",678],["T_WHITESPACE","\n                    ",678],")",["T_WHITESPACE","\n            ",679],")",";",["T_WHITESPACE","\n    ",680],"}",["T_WHITESPACE","\n\n    ",681],["T_DOC_COMMENT","\/**\n     * Correct '==' and '!=' operators\n     * Categories can't be equal because product is included categories selected by administrator and in their parents\n     *\n     * @return string\n     *\/",683],["T_WHITESPACE","\n    ",688],["T_PUBLIC","public",689],["T_WHITESPACE"," ",689],["T_FUNCTION","function",689],["T_WHITESPACE"," ",689],["T_STRING","getOperatorForValidate",689],"(",")",["T_WHITESPACE","\n    ",689],"{",["T_WHITESPACE","\n        ",690],["T_VARIABLE","$operator",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","getOperator",691],"(",")",";",["T_WHITESPACE","\n        ",691],["T_IF","if",692],["T_WHITESPACE"," ",692],"(",["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","getInputType",692],"(",")",["T_WHITESPACE"," ",692],["T_IS_EQUAL","==",692],["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'category'",692],")",["T_WHITESPACE"," ",692],"{",["T_WHITESPACE","\n            ",692],["T_IF","if",693],["T_WHITESPACE"," ",693],"(",["T_VARIABLE","$operator",693],["T_WHITESPACE"," ",693],["T_IS_EQUAL","==",693],["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","'=='",693],")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n                ",693],["T_VARIABLE","$operator",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_CONSTANT_ENCAPSED_STRING","'{}'",694],";",["T_WHITESPACE","\n            ",694],"}",["T_WHITESPACE"," ",695],["T_ELSEIF","elseif",695],["T_WHITESPACE"," ",695],"(",["T_VARIABLE","$operator",695],["T_WHITESPACE"," ",695],["T_IS_EQUAL","==",695],["T_WHITESPACE"," ",695],["T_CONSTANT_ENCAPSED_STRING","'!='",695],")",["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n                ",695],["T_VARIABLE","$operator",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_CONSTANT_ENCAPSED_STRING","'!{}'",696],";",["T_WHITESPACE","\n            ",696],"}",["T_WHITESPACE","\n        ",697],"}",["T_WHITESPACE","\n\n        ",698],["T_RETURN","return",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$operator",700],";",["T_WHITESPACE","\n    ",700],"}",["T_WHITESPACE","\n\n    ",701],["T_DOC_COMMENT","\/**\n     * Check is attribute set or category\n     *\n     * @return bool\n     *\/",703],["T_WHITESPACE","\n    ",707],["T_PROTECTED","protected",708],["T_WHITESPACE"," ",708],["T_FUNCTION","function",708],["T_WHITESPACE"," ",708],["T_STRING","isAttributeSetOrCategory",708],"(",")",["T_WHITESPACE","\n    ",708],"{",["T_WHITESPACE","\n        ",709],["T_RETURN","return",710],["T_WHITESPACE"," ",710],["T_STRING","in_array",710],"(",["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","getAttribute",710],"(",")",",",["T_WHITESPACE"," ",710],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",710],",",["T_WHITESPACE"," ",710],["T_CONSTANT_ENCAPSED_STRING","'category_ids'",710],"]",")",";",["T_WHITESPACE","\n    ",710],"}",["T_WHITESPACE","\n\n    ",711],["T_DOC_COMMENT","\/**\n     * Get eav attribute alias\n     *\n     * @return string\n     *\/",713],["T_WHITESPACE","\n    ",717],["T_PROTECTED","protected",718],["T_WHITESPACE"," ",718],["T_FUNCTION","function",718],["T_WHITESPACE"," ",718],["T_STRING","getEavAttributeTableAlias",718],"(",")",["T_WHITESPACE","\n    ",718],"{",["T_WHITESPACE","\n        ",719],["T_VARIABLE","$attribute",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getAttributeObject",720],"(",")",";",["T_WHITESPACE","\n\n        ",720],["T_RETURN","return",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'at_'",722],["T_WHITESPACE"," ",722],".",["T_WHITESPACE"," ",722],["T_VARIABLE","$attribute",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getAttributeCode",722],"(",")",";",["T_WHITESPACE","\n    ",722],"}",["T_WHITESPACE","\n",723],"}",["T_WHITESPACE","\n",724]]