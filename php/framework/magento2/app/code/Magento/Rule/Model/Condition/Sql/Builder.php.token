[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Rule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Condition",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sql",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DB",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Select",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Rule",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Condition",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AbstractCondition",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Rule",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Condition",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Combine",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Class SQL Builder\n *\n * @package Magento\\Rule\\Model\\Condition\\Sql\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Builder",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DB\\Adapter\\AdapterInterface\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_connection",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_conditionOperatorMap",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'=='",29],["T_WHITESPACE","    ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","':field = ?'",29],",",["T_WHITESPACE","\n        ",29],["T_CONSTANT_ENCAPSED_STRING","'!='",30],["T_WHITESPACE","    ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","':field <> ?'",30],",",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'>='",31],["T_WHITESPACE","    ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","':field >= ?'",31],",",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'>'",32],["T_WHITESPACE","     ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","':field > ?'",32],",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'<='",33],["T_WHITESPACE","    ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","':field <= ?'",33],",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'<'",34],["T_WHITESPACE","     ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","':field < ?'",34],",",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'{}'",35],["T_WHITESPACE","    ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","':field IN (?)'",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'!{}'",36],["T_WHITESPACE","   ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","':field NOT IN (?)'",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'()'",37],["T_WHITESPACE","    ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","':field IN (?)'",37],",",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'!()'",38],["T_WHITESPACE","   ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","':field NOT IN (?)'",38],",",["T_WHITESPACE","\n    ",38],"]",";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Rule\\Model\\Condition\\Sql\\ExpressionFactory\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_expressionFactory",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @param ExpressionFactory $expressionFactory\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_STRING","ExpressionFactory",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$expressionFactory",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_expressionFactory",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$expressionFactory",51],";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Get tables to join for given conditions combination\n     *\n     * @param Combine $combine\n     * @return array\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","_getCombineTablesToJoin",60],"(",["T_STRING","Combine",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$combine",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$tables",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_getChildCombineTablesToJoin",62],"(",["T_VARIABLE","$combine",62],")",";",["T_WHITESPACE","\n        ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$tables",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Get child for given conditions combination\n     *\n     * @param Combine $combine\n     * @param array $tables\n     * @return array\n     *\/",66],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","_getChildCombineTablesToJoin",73],"(",["T_STRING","Combine",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$combine",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$tables",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[","]",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$combine",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getConditions",75],"(",")",["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$condition",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$condition",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getConditions",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$tables",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_getChildCombineTablesToJoin",77],"(",["T_VARIABLE","$condition",77],")",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE"," ",78],["T_ELSE","else",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_DOC_COMMENT","\/** @var $condition AbstractCondition *\/",79],["T_WHITESPACE","\n                ",79],["T_FOREACH","foreach",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$condition",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getTablesToJoin",80],"(",")",["T_WHITESPACE"," ",80],["T_AS","as",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$alias",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$table",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                    ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_ISSET","isset",81],"(",["T_VARIABLE","$tables",81],"[",["T_VARIABLE","$alias",81],"]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                        ",81],["T_VARIABLE","$tables",82],"[",["T_VARIABLE","$alias",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$table",82],";",["T_WHITESPACE","\n                    ",82],"}",["T_WHITESPACE","\n                ",83],"}",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$tables",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Join tables from conditions combination to collection\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection $collection\n     * @param Combine $combine\n     * @return $this\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","_joinTablesToCollection",97],"(",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Eav",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Entity",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Collection",98],["T_NS_SEPARATOR","\\",98],["T_STRING","AbstractCollection",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$collection",98],",",["T_WHITESPACE","\n        ",98],["T_STRING","Combine",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$combine",99],["T_WHITESPACE","\n    ",99],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_getCombineTablesToJoin",101],"(",["T_VARIABLE","$combine",101],")",["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$alias",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$joinTable",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_DOC_COMMENT","\/** @var $condition AbstractCondition *\/",102],["T_WHITESPACE","\n            ",102],["T_VARIABLE","$collection",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getSelect",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","joinLeft",103],"(",["T_WHITESPACE","\n                ",103],"[",["T_VARIABLE","$alias",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$collection",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getResource",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getTable",104],"(",["T_VARIABLE","$joinTable",104],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",104],"]",")","]",",",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$joinTable",105],"[",["T_CONSTANT_ENCAPSED_STRING","'condition'",105],"]",",",["T_WHITESPACE","\n                ",105],["T_ISSET","isset",106],"(",["T_VARIABLE","$joinTable",106],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",106],"]",")",["T_WHITESPACE"," ",106],"?",["T_WHITESPACE"," ",106],["T_VARIABLE","$joinTable",106],"[",["T_CONSTANT_ENCAPSED_STRING","'columns'",106],"]",["T_WHITESPACE"," ",106],":",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'*'",106],["T_WHITESPACE","\n            ",106],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * @param AbstractCondition $condition\n     * @param string $value\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",112],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","_getMappedSqlCondition",118],"(",["T_STRING","AbstractCondition",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$condition",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$value",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","''",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$argument",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$condition",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMappedSqlField",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$argument",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$conditionOperator",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$condition",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getOperatorForValidate",122],"(",")",";",["T_WHITESPACE","\n\n            ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_ISSET","isset",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_conditionOperatorMap",124],"[",["T_VARIABLE","$conditionOperator",124],"]",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_THROW","throw",125],["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Framework",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Exception",125],["T_NS_SEPARATOR","\\",125],["T_STRING","LocalizedException",125],"(",["T_STRING","__",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown condition operator'",125],")",")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n\n            ",126],["T_VARIABLE","$sql",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","str_replace",128],"(",["T_WHITESPACE","\n                ",128],["T_CONSTANT_ENCAPSED_STRING","':field'",129],",",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_connection",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getIfNullSql",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_connection",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","quoteIdentifier",130],"(",["T_VARIABLE","$argument",130],")",",",["T_WHITESPACE"," ",130],["T_LNUMBER","0",130],")",",",["T_WHITESPACE","\n                ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_conditionOperatorMap",131],"[",["T_VARIABLE","$conditionOperator",131],"]",["T_WHITESPACE","\n            ",131],")",";",["T_WHITESPACE","\n\n            ",132],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_expressionFactory",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","create",134],"(",["T_WHITESPACE","\n                ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'expression'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_connection",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","quoteInto",135],"(",["T_VARIABLE","$sql",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$condition",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getBindArgumentValue",135],"(",")",")","]",["T_WHITESPACE","\n            ",135],")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","''",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * @param Combine $combine\n     * @param string $value\n     * @return string\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",141],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","_getMappedSqlCombination",147],"(",["T_STRING","Combine",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$combine",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$value",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$out",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"(","!",["T_EMPTY","empty",149],"(",["T_VARIABLE","$value",149],")",["T_WHITESPACE"," ",149],"?",["T_WHITESPACE"," ",149],["T_VARIABLE","$value",149],["T_WHITESPACE"," ",149],":",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$value",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$combine",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getValue",150],"(",")",["T_WHITESPACE"," ",150],"?",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],["T_WHITESPACE"," ",150],":",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","' NOT '",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$getAggregator",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$combine",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getAggregator",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$conditions",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$combine",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getConditions",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$conditions",153],["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$key",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$condition",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_DOC_COMMENT","\/** @var $condition AbstractCondition|Combine *\/",154],["T_WHITESPACE","\n            ",154],["T_VARIABLE","$con",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$getAggregator",155],["T_WHITESPACE"," ",155],["T_IS_EQUAL","==",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'any'",155],["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_STRING","Select",155],["T_DOUBLE_COLON","::",155],["T_STRING","SQL_OR",155],["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_STRING","Select",155],["T_DOUBLE_COLON","::",155],["T_STRING","SQL_AND",155],")",";",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$con",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"(",["T_ISSET","isset",156],"(",["T_VARIABLE","$conditions",156],"[",["T_VARIABLE","$key",156],"+",["T_LNUMBER","1",156],"]",")",["T_WHITESPACE"," ",156],"?",["T_WHITESPACE"," ",156],["T_VARIABLE","$con",156],["T_WHITESPACE"," ",156],":",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],")",";",["T_WHITESPACE","\n            ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$condition",157],["T_WHITESPACE"," ",157],["T_INSTANCEOF","instanceof",157],["T_WHITESPACE"," ",157],["T_STRING","Combine",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$out",158],["T_WHITESPACE"," ",158],["T_CONCAT_EQUAL",".=",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_getMappedSqlCombination",158],"(",["T_VARIABLE","$condition",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$value",158],")",";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$out",160],["T_WHITESPACE"," ",160],["T_CONCAT_EQUAL",".=",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_getMappedSqlCondition",160],"(",["T_VARIABLE","$condition",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$value",160],")",";",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$out",162],["T_WHITESPACE"," ",162],["T_CONCAT_EQUAL",".=",162],["T_WHITESPACE","  ",162],["T_VARIABLE","$out",162],["T_WHITESPACE"," ",162],"?",["T_WHITESPACE"," ",162],"(",["T_CONSTANT_ENCAPSED_STRING","' '",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_VARIABLE","$con",162],")",["T_WHITESPACE"," ",162],":",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","''",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_expressionFactory",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","create",164],"(","[",["T_CONSTANT_ENCAPSED_STRING","'expression'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$out",164],"]",")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Attach conditions filter to collection\n     *\n     * @param \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection $collection\n     * @param Combine $combine\n     *\n     * @return void\n     *\/",167],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","attachConditionToCollection",175],"(",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Eav",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Entity",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Collection",176],["T_NS_SEPARATOR","\\",176],["T_STRING","AbstractCollection",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$collection",176],",",["T_WHITESPACE","\n        ",176],["T_STRING","Combine",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$combine",177],["T_WHITESPACE","\n    ",177],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_connection",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$collection",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getResource",179],"(",")",["T_OBJECT_OPERATOR","->",179],["T_STRING","getConnection",179],"(",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_joinTablesToCollection",180],"(",["T_VARIABLE","$collection",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$combine",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$whereExpression",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING_CAST","(string)",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_getMappedSqlCombination",181],"(",["T_VARIABLE","$combine",181],")",";",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(","!",["T_EMPTY","empty",182],"(",["T_VARIABLE","$whereExpression",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_COMMENT","\/\/ Select ::where method adds braces even on empty expression\n",183],["T_WHITESPACE","            ",184],["T_VARIABLE","$collection",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getSelect",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","where",184],"(",["T_VARIABLE","$whereExpression",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n",186],"}",["T_WHITESPACE","\n",187]]