[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Rule",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AttributeValueFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ExtensionAttributesFactory",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Abstract Rule entity data model\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_ABSTRACT","abstract",15],["T_WHITESPACE"," ",15],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","AbstractModel",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractExtensibleModel",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Store rule combine conditions model\n     *\n     * @var \\Magento\\Rule\\Model\\Condition\\Combine\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_conditions",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Store rule actions model\n     *\n     * @var \\Magento\\Rule\\Model\\Action\\Collection\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$_actions",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Store rule form instance\n     *\n     * @var \\Magento\\Framework\\Data\\Form\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_form",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Is model can be deleted flag\n     *\n     * @var bool\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_isDeleteable",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","true",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Is model readonly\n     *\n     * @var bool\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_isReadonly",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","false",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Getter for rule combine conditions instance\n     *\n     * @return \\Magento\\Rule\\Model\\Condition\\Combine\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_ABSTRACT","abstract",57],["T_WHITESPACE"," ",57],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","getConditionsInstance",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Getter for rule actions collection instance\n     *\n     * @return \\Magento\\Rule\\Model\\Action\\Collection\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_ABSTRACT","abstract",64],["T_WHITESPACE"," ",64],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getActionsInstance",64],"(",")",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Form factory\n     *\n     * @var \\Magento\\Framework\\Data\\FormFactory\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_formFactory",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Timezone instance\n     *\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_localeDate",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * AbstractModel constructor\n     *\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Data\\FormFactory $formFactory\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|null $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb|null $resourceCollection\n     * @param array $data\n     * @param ExtensionAttributesFactory|null $extensionFactory\n     * @param AttributeValueFactory|null $customAttributeFactory\n     *\/",80],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Context",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$context",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Registry",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$registry",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Data",96],["T_NS_SEPARATOR","\\",96],["T_STRING","FormFactory",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$formFactory",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Stdlib",97],["T_NS_SEPARATOR","\\",97],["T_STRING","DateTime",97],["T_NS_SEPARATOR","\\",97],["T_STRING","TimezoneInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$localeDate",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ResourceModel",98],["T_NS_SEPARATOR","\\",98],["T_STRING","AbstractResource",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$resource",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","null",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Data",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Collection",99],["T_NS_SEPARATOR","\\",99],["T_STRING","AbstractDb",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$resourceCollection",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","null",99],",",["T_WHITESPACE","\n        ",99],["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[","]",",",["T_WHITESPACE","\n        ",100],["T_STRING","ExtensionAttributesFactory",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$extensionFactory",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","null",101],",",["T_WHITESPACE","\n        ",101],["T_STRING","AttributeValueFactory",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$customAttributeFactory",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],["T_WHITESPACE","\n    ",102],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_formFactory",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$formFactory",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_localeDate",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$localeDate",105],";",["T_WHITESPACE","\n        ",105],["T_STRING","parent",106],["T_DOUBLE_COLON","::",106],["T_STRING","__construct",106],"(",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$context",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$registry",108],",",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$extensionFactory",109],["T_WHITESPACE"," ",109],"?",":",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getExtensionFactory",109],"(",")",",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$customAttributeFactory",110],["T_WHITESPACE"," ",110],"?",":",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getCustomAttributeFactory",110],"(",")",",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$resource",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$resourceCollection",112],",",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$data",113],["T_WHITESPACE","\n        ",113],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Prepare data before saving\n     *\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",117],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","beforeSave",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_COMMENT","\/\/ Check if discount amount not negative\n",126],["T_WHITESPACE","        ",127],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","hasDiscountAmount",127],"(",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_INT_CAST","(int)",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getDiscountAmount",128],"(",")",["T_WHITESPACE"," ",128],"<",["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Framework",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Exception",129],["T_NS_SEPARATOR","\\",129],["T_STRING","LocalizedException",129],"(",["T_STRING","__",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Please choose a valid discount amount.'",129],")",")",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_COMMENT","\/\/ Serialize conditions\n",133],["T_WHITESPACE","        ",134],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getConditions",134],"(",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setConditionsSerialized",135],"(",["T_STRING","serialize",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getConditions",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","asArray",135],"(",")",")",")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_conditions",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","null",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_COMMENT","\/\/ Serialize actions\n",139],["T_WHITESPACE","        ",140],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getActions",140],"(",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setActionsSerialized",141],"(",["T_STRING","serialize",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getActions",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","asArray",141],"(",")",")",")",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_actions",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","null",142],";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_DOC_COMMENT","\/**\n         * Prepare website Ids if applicable and if they were set as string in comma separated format.\n         * Backwards compatibility.\n         *\/",145],["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","hasWebsiteIds",149],"(",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$websiteIds",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getWebsiteIds",150],"(",")",";",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_STRING","is_string",151],"(",["T_VARIABLE","$websiteIds",151],")",["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],"!",["T_EMPTY","empty",151],"(",["T_VARIABLE","$websiteIds",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setWebsiteIds",152],"(",["T_STRING","explode",152],"(",["T_CONSTANT_ENCAPSED_STRING","','",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$websiteIds",152],")",")",";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_DOC_COMMENT","\/**\n         * Prepare customer group Ids if applicable and if they were set as string in comma separated format.\n         * Backwards compatibility.\n         *\/",156],["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","hasCustomerGroupIds",160],"(",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$groupIds",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getCustomerGroupIds",161],"(",")",";",["T_WHITESPACE","\n            ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_STRING","is_string",162],"(",["T_VARIABLE","$groupIds",162],")",["T_WHITESPACE"," ",162],["T_BOOLEAN_AND","&&",162],["T_WHITESPACE"," ",162],"!",["T_EMPTY","empty",162],"(",["T_VARIABLE","$groupIds",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","setCustomerGroupIds",163],"(",["T_STRING","explode",163],"(",["T_CONSTANT_ENCAPSED_STRING","','",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$groupIds",163],")",")",";",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_STRING","parent",167],["T_DOUBLE_COLON","::",167],["T_STRING","beforeSave",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Set rule combine conditions model\n     *\n     * @param \\Magento\\Rule\\Model\\Condition\\Combine $conditions\n     * @return $this\n     *\/",171],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","setConditions",177],"(",["T_VARIABLE","$conditions",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_conditions",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$conditions",179],";",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Retrieve rule combine conditions model\n     *\n     * @return \\Magento\\Rule\\Model\\Condition\\Combine\n     *\/",183],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","getConditions",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_EMPTY","empty",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_conditions",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_resetConditions",191],"(",")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_COMMENT","\/\/ Load rule conditions if it is applicable\n",194],["T_WHITESPACE","        ",195],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","hasConditionsSerialized",195],"(",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$conditions",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getConditionsSerialized",196],"(",")",";",["T_WHITESPACE","\n            ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(","!",["T_EMPTY","empty",197],"(",["T_VARIABLE","$conditions",197],")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$conditions",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","unserialize",198],"(",["T_VARIABLE","$conditions",198],")",";",["T_WHITESPACE","\n                ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_STRING","is_array",199],"(",["T_VARIABLE","$conditions",199],")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],"!",["T_EMPTY","empty",199],"(",["T_VARIABLE","$conditions",199],")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_conditions",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","loadArray",200],"(",["T_VARIABLE","$conditions",200],")",";",["T_WHITESPACE","\n                ",200],"}",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","unsConditionsSerialized",203],"(",")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n\n        ",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_conditions",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Set rule actions model\n     *\n     * @param \\Magento\\Rule\\Model\\Action\\Collection $actions\n     * @return $this\n     *\/",209],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","setActions",215],"(",["T_VARIABLE","$actions",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_actions",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$actions",217],";",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Retrieve rule actions model\n     *\n     * @return \\Magento\\Rule\\Model\\Action\\Collection\n     *\/",221],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","getActions",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(","!",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_actions",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_resetActions",229],"(",")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n\n        ",230],["T_COMMENT","\/\/ Load rule actions if it is applicable\n",232],["T_WHITESPACE","        ",233],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","hasActionsSerialized",233],"(",")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$actions",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getActionsSerialized",234],"(",")",";",["T_WHITESPACE","\n            ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_EMPTY","empty",235],"(",["T_VARIABLE","$actions",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_VARIABLE","$actions",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","unserialize",236],"(",["T_VARIABLE","$actions",236],")",";",["T_WHITESPACE","\n                ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_STRING","is_array",237],"(",["T_VARIABLE","$actions",237],")",["T_WHITESPACE"," ",237],["T_BOOLEAN_AND","&&",237],["T_WHITESPACE"," ",237],"!",["T_EMPTY","empty",237],"(",["T_VARIABLE","$actions",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_actions",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","loadArray",238],"(",["T_VARIABLE","$actions",238],")",";",["T_WHITESPACE","\n                ",238],"}",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","unsActionsSerialized",241],"(",")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n\n        ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_actions",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Reset rule combine conditions\n     *\n     * @param null|\\Magento\\Rule\\Model\\Condition\\Combine $conditions\n     * @return $this\n     *\/",247],["T_WHITESPACE","\n    ",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","_resetConditions",253],"(",["T_VARIABLE","$conditions",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","null",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","null",255],["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$conditions",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$conditions",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getConditionsInstance",256],"(",")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$conditions",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setRule",258],"(",["T_VARIABLE","$this",258],")",["T_OBJECT_OPERATOR","->",258],["T_STRING","setId",258],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",258],")",["T_OBJECT_OPERATOR","->",258],["T_STRING","setPrefix",258],"(",["T_CONSTANT_ENCAPSED_STRING","'conditions'",258],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","setConditions",259],"(",["T_VARIABLE","$conditions",259],")",";",["T_WHITESPACE","\n\n        ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Reset rule actions\n     *\n     * @param null|\\Magento\\Rule\\Model\\Action\\Collection $actions\n     * @return $this\n     *\/",264],["T_WHITESPACE","\n    ",269],["T_PROTECTED","protected",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","_resetActions",270],"(",["T_VARIABLE","$actions",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","null",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","null",272],["T_WHITESPACE"," ",272],["T_IS_IDENTICAL","===",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$actions",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$actions",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getActionsInstance",273],"(",")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$actions",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","setRule",275],"(",["T_VARIABLE","$this",275],")",["T_OBJECT_OPERATOR","->",275],["T_STRING","setId",275],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",275],")",["T_OBJECT_OPERATOR","->",275],["T_STRING","setPrefix",275],"(",["T_CONSTANT_ENCAPSED_STRING","'actions'",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","setActions",276],"(",["T_VARIABLE","$actions",276],")",";",["T_WHITESPACE","\n\n        ",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Rule form getter\n     *\n     * @return \\Magento\\Framework\\Data\\Form\n     *\/",281],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","getForm",286],"(",")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(","!",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_form",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_form",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_formFactory",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","create",289],"(",")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_form",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Initialize rule model data from array\n     *\n     * @param array $data\n     * @return $this\n     *\/",294],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","loadPost",300],"(",["T_ARRAY","array",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$data",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$arr",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_convertFlatToRecursive",302],"(",["T_VARIABLE","$data",302],")",";",["T_WHITESPACE","\n        ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_ISSET","isset",303],"(",["T_VARIABLE","$arr",303],"[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",303],"]",")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getConditions",304],"(",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","setConditions",304],"(","[","]",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","loadArray",304],"(",["T_VARIABLE","$arr",304],"[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",304],"]","[",["T_LNUMBER","1",304],"]",")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_ISSET","isset",306],"(",["T_VARIABLE","$arr",306],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",306],"]",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getActions",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","setActions",307],"(","[","]",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","loadArray",307],"(",["T_VARIABLE","$arr",307],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",307],"]","[",["T_LNUMBER","1",307],"]",",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'actions'",307],")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n\n        ",308],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Set specified data to current rule.\n     * Set conditions and actions recursively.\n     * Convert dates into \\DateTime.\n     *\n     * @param array $data\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",313],["T_WHITESPACE","\n    ",321],["T_PROTECTED","protected",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","_convertFlatToRecursive",322],"(",["T_ARRAY","array",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$data",322],")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$arr",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],"[","]",";",["T_WHITESPACE","\n        ",324],["T_FOREACH","foreach",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$data",325],["T_WHITESPACE"," ",325],["T_AS","as",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$key",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$value",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","(",["T_VARIABLE","$key",326],["T_WHITESPACE"," ",326],["T_IS_IDENTICAL","===",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'conditions'",326],["T_WHITESPACE"," ",326],["T_BOOLEAN_OR","||",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$key",326],["T_WHITESPACE"," ",326],["T_IS_IDENTICAL","===",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'actions'",326],")",["T_WHITESPACE"," ",326],["T_BOOLEAN_AND","&&",326],["T_WHITESPACE"," ",326],["T_STRING","is_array",326],"(",["T_VARIABLE","$value",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n                ",326],["T_FOREACH","foreach",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$value",327],["T_WHITESPACE"," ",327],["T_AS","as",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$id",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$data",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                    ",327],["T_VARIABLE","$path",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","explode",328],"(",["T_CONSTANT_ENCAPSED_STRING","'--'",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$id",328],")",";",["T_WHITESPACE","\n                    ",328],["T_VARIABLE","$node",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],"&",["T_WHITESPACE"," ",329],["T_VARIABLE","$arr",329],";",["T_WHITESPACE","\n                    ",329],["T_FOR","for",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$i",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_LNUMBER","0",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$l",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","sizeof",330],"(",["T_VARIABLE","$path",330],")",";",["T_WHITESPACE"," ",330],["T_VARIABLE","$i",330],["T_WHITESPACE"," ",330],"<",["T_WHITESPACE"," ",330],["T_VARIABLE","$l",330],";",["T_WHITESPACE"," ",330],["T_VARIABLE","$i",330],["T_INC","++",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                        ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(","!",["T_ISSET","isset",331],"(",["T_VARIABLE","$node",331],"[",["T_VARIABLE","$key",331],"]","[",["T_VARIABLE","$path",331],"[",["T_VARIABLE","$i",331],"]","]",")",")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                            ",331],["T_VARIABLE","$node",332],"[",["T_VARIABLE","$key",332],"]","[",["T_VARIABLE","$path",332],"[",["T_VARIABLE","$i",332],"]","]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],"[","]",";",["T_WHITESPACE","\n                        ",332],"}",["T_WHITESPACE","\n                        ",333],["T_VARIABLE","$node",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],"&",["T_WHITESPACE"," ",334],["T_VARIABLE","$node",334],"[",["T_VARIABLE","$key",334],"]","[",["T_VARIABLE","$path",334],"[",["T_VARIABLE","$i",334],"]","]",";",["T_WHITESPACE","\n                    ",334],"}",["T_WHITESPACE","\n                    ",335],["T_FOREACH","foreach",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$data",336],["T_WHITESPACE"," ",336],["T_AS","as",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$k",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$v",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                        ",336],["T_VARIABLE","$node",337],"[",["T_VARIABLE","$k",337],"]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$v",337],";",["T_WHITESPACE","\n                    ",337],"}",["T_WHITESPACE","\n                ",338],"}",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE"," ",340],["T_ELSE","else",340],["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_DOC_COMMENT","\/**\n                 * Convert dates into \\DateTime\n                 *\/",341],["T_WHITESPACE","\n                ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_STRING","in_array",344],"(",["T_VARIABLE","$key",344],",",["T_WHITESPACE"," ",344],"[",["T_CONSTANT_ENCAPSED_STRING","'from_date'",344],",",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'to_date'",344],"]",")",["T_WHITESPACE"," ",344],["T_BOOLEAN_AND","&&",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$value",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                    ",344],["T_VARIABLE","$value",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_NEW","new",345],["T_WHITESPACE"," ",345],["T_NS_SEPARATOR","\\",345],["T_STRING","DateTime",345],"(",["T_VARIABLE","$value",345],")",";",["T_WHITESPACE","\n                ",345],"}",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","setData",347],"(",["T_VARIABLE","$key",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$value",347],")",";",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$arr",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Validate rule conditions to determine if rule can run\n     *\n     * @param \\Magento\\Framework\\DataObject $object\n     * @return bool\n     *\/",354],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","validate",360],"(",["T_NS_SEPARATOR","\\",360],["T_STRING","Magento",360],["T_NS_SEPARATOR","\\",360],["T_STRING","Framework",360],["T_NS_SEPARATOR","\\",360],["T_STRING","DataObject",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$object",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getConditions",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","validate",362],"(",["T_VARIABLE","$object",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Validate rule data\n     *\n     * @param \\Magento\\Framework\\DataObject $dataObject\n     * @return bool|string[] - return true if validation passed successfully. Array with errors description otherwise\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",365],["T_WHITESPACE","\n    ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","validateData",373],"(",["T_NS_SEPARATOR","\\",373],["T_STRING","Magento",373],["T_NS_SEPARATOR","\\",373],["T_STRING","Framework",373],["T_NS_SEPARATOR","\\",373],["T_STRING","DataObject",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$dataObject",373],")",["T_WHITESPACE","\n    ",373],"{",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$result",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],"[","]",";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$fromDate",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$toDate",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","null",376],";",["T_WHITESPACE","\n\n        ",376],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$dataObject",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","hasFromDate",378],"(",")",["T_WHITESPACE"," ",378],["T_BOOLEAN_AND","&&",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$dataObject",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","hasToDate",378],"(",")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_VARIABLE","$fromDate",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$dataObject",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getFromDate",379],"(",")",";",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$toDate",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$dataObject",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","getToDate",380],"(",")",";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n\n        ",381],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$fromDate",383],["T_WHITESPACE"," ",383],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$toDate",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$fromDate",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_NEW","new",384],["T_WHITESPACE"," ",384],["T_NS_SEPARATOR","\\",384],["T_STRING","DateTime",384],"(",["T_VARIABLE","$fromDate",384],")",";",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$toDate",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_NS_SEPARATOR","\\",385],["T_STRING","DateTime",385],"(",["T_VARIABLE","$toDate",385],")",";",["T_WHITESPACE","\n\n            ",385],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$fromDate",387],["T_WHITESPACE"," ",387],">",["T_WHITESPACE"," ",387],["T_VARIABLE","$toDate",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$result",388],"[","]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","__",388],"(",["T_CONSTANT_ENCAPSED_STRING","'End Date must follow Start Date.'",388],")",";",["T_WHITESPACE","\n            ",388],"}",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n\n        ",390],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$dataObject",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","hasWebsiteIds",392],"(",")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$websiteIds",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$dataObject",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getWebsiteIds",393],"(",")",";",["T_WHITESPACE","\n            ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_EMPTY","empty",394],"(",["T_VARIABLE","$websiteIds",394],")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n                ",394],["T_VARIABLE","$result",395],"[","]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","__",395],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify a website.'",395],")",";",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n        ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$dataObject",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","hasCustomerGroupIds",398],"(",")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$customerGroupIds",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$dataObject",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getCustomerGroupIds",399],"(",")",";",["T_WHITESPACE","\n            ",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(",["T_EMPTY","empty",400],"(",["T_VARIABLE","$customerGroupIds",400],")",")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$result",401],"[","]",["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","__",401],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify Customer Groups.'",401],")",";",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_RETURN","return",405],["T_WHITESPACE"," ",405],"!",["T_EMPTY","empty",405],"(",["T_VARIABLE","$result",405],")",["T_WHITESPACE"," ",405],"?",["T_WHITESPACE"," ",405],["T_VARIABLE","$result",405],["T_WHITESPACE"," ",405],":",["T_WHITESPACE"," ",405],["T_STRING","true",405],";",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n    ",406],["T_DOC_COMMENT","\/**\n     * Check availability to delete rule\n     *\n     * @return bool\n     * @codeCoverageIgnore\n     *\/",408],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","isDeleteable",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_isDeleteable",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Set is rule can be deleted flag\n     *\n     * @param bool $value\n     * @return $this\n     * @codeCoverageIgnore\n     *\/",419],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","setIsDeleteable",426],"(",["T_VARIABLE","$value",426],")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_isDeleteable",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_BOOL_CAST","(bool)",428],["T_VARIABLE","$value",428],";",["T_WHITESPACE","\n        ",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * Check if rule is readonly\n     *\n     * @return bool\n     * @codeCoverageIgnore\n     *\/",432],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","isReadonly",438],"(",")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_isReadonly",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_DOC_COMMENT","\/**\n     * Set is readonly flag to rule\n     *\n     * @param bool $value\n     * @return $this\n     * @codeCoverageIgnore\n     *\/",443],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","setIsReadonly",450],"(",["T_VARIABLE","$value",450],")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_isReadonly",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_BOOL_CAST","(bool)",452],["T_VARIABLE","$value",452],";",["T_WHITESPACE","\n        ",452],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],";",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * Get rule associated website Ids\n     *\n     * @return array\n     *\/",456],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","getWebsiteIds",461],"(",")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_IF","if",463],["T_WHITESPACE"," ",463],"(","!",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","hasWebsiteIds",463],"(",")",")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n            ",463],["T_VARIABLE","$websiteIds",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_getResource",464],"(",")",["T_OBJECT_OPERATOR","->",464],["T_STRING","getWebsiteIds",464],"(",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getId",464],"(",")",")",";",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","setData",465],"(",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",465],",",["T_WHITESPACE"," ",465],["T_ARRAY_CAST","(array)",465],["T_VARIABLE","$websiteIds",465],")",";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n        ",466],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_getData",467],"(",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",467],")",";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\Api\\ExtensionAttributesFactory\n     * @deprecated\n     *\/",470],["T_WHITESPACE","\n    ",473],["T_PRIVATE","private",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","getExtensionFactory",474],"(",")",["T_WHITESPACE","\n    ",474],"{",["T_WHITESPACE","\n        ",475],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_NS_SEPARATOR","\\",476],["T_STRING","Magento",476],["T_NS_SEPARATOR","\\",476],["T_STRING","Framework",476],["T_NS_SEPARATOR","\\",476],["T_STRING","App",476],["T_NS_SEPARATOR","\\",476],["T_STRING","ObjectManager",476],["T_DOUBLE_COLON","::",476],["T_STRING","getInstance",476],"(",")",["T_WHITESPACE","\n            ",476],["T_OBJECT_OPERATOR","->",477],["T_STRING","get",477],"(",["T_NS_SEPARATOR","\\",477],["T_STRING","Magento",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Framework",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Api",477],["T_NS_SEPARATOR","\\",477],["T_STRING","ExtensionAttributesFactory",477],["T_DOUBLE_COLON","::",477],["T_CLASS","class",477],")",";",["T_WHITESPACE","\n    ",477],"}",["T_WHITESPACE","\n\n    ",478],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Framework\\Api\\AttributeValueFactory\n     * @deprecated\n     *\/",480],["T_WHITESPACE","\n    ",483],["T_PRIVATE","private",484],["T_WHITESPACE"," ",484],["T_FUNCTION","function",484],["T_WHITESPACE"," ",484],["T_STRING","getCustomAttributeFactory",484],"(",")",["T_WHITESPACE","\n    ",484],"{",["T_WHITESPACE","\n        ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_NS_SEPARATOR","\\",486],["T_STRING","Magento",486],["T_NS_SEPARATOR","\\",486],["T_STRING","Framework",486],["T_NS_SEPARATOR","\\",486],["T_STRING","App",486],["T_NS_SEPARATOR","\\",486],["T_STRING","ObjectManager",486],["T_DOUBLE_COLON","::",486],["T_STRING","getInstance",486],"(",")",["T_WHITESPACE","\n            ",486],["T_OBJECT_OPERATOR","->",487],["T_STRING","get",487],"(",["T_NS_SEPARATOR","\\",487],["T_STRING","Magento",487],["T_NS_SEPARATOR","\\",487],["T_STRING","Framework",487],["T_NS_SEPARATOR","\\",487],["T_STRING","Api",487],["T_NS_SEPARATOR","\\",487],["T_STRING","AttributeValueFactory",487],["T_DOUBLE_COLON","::",487],["T_CLASS","class",487],")",";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n",488],"}",["T_WHITESPACE","\n",489]]