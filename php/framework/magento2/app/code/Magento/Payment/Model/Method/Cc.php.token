[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Method",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataObject",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PaymentInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @method \\Magento\\Quote\\Api\\Data\\PaymentMethodExtensionInterface getExtensionAttributes()\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @deprecated\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Cc",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Payment",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Method",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractMethod",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_formBlockType",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Payment",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Block",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Form",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Cc",22],["T_DOUBLE_COLON","::",22],["T_CLASS","class",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_infoBlockType",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Payment",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Block",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Info",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Cc",27],["T_DOUBLE_COLON","::",27],["T_CLASS","class",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_canSaveCc",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","false",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Module\\ModuleListInterface\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_moduleList",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_localeDate",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param \\Magento\\Framework\\Api\\AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param Logger $logger\n     * @param \\Magento\\Framework\\Module\\ModuleListInterface $moduleList\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",44],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","__construct",59],"(",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Framework",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Context",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$context",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Registry",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$registry",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Api",62],["T_NS_SEPARATOR","\\",62],["T_STRING","ExtensionAttributesFactory",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$extensionFactory",62],",",["T_WHITESPACE","\n        ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Framework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Api",63],["T_NS_SEPARATOR","\\",63],["T_STRING","AttributeValueFactory",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$customAttributeFactory",63],",",["T_WHITESPACE","\n        ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Payment",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Helper",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Data",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$paymentData",64],",",["T_WHITESPACE","\n        ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","App",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Config",65],["T_NS_SEPARATOR","\\",65],["T_STRING","ScopeConfigInterface",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$scopeConfig",65],",",["T_WHITESPACE","\n        ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Payment",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Method",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Logger",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$logger",66],",",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Module",67],["T_NS_SEPARATOR","\\",67],["T_STRING","ModuleListInterface",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$moduleList",67],",",["T_WHITESPACE","\n        ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Stdlib",68],["T_NS_SEPARATOR","\\",68],["T_STRING","DateTime",68],["T_NS_SEPARATOR","\\",68],["T_STRING","TimezoneInterface",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$localeDate",68],",",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Model",69],["T_NS_SEPARATOR","\\",69],["T_STRING","ResourceModel",69],["T_NS_SEPARATOR","\\",69],["T_STRING","AbstractResource",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$resource",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","null",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Data",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Collection",70],["T_NS_SEPARATOR","\\",70],["T_STRING","AbstractDb",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$resourceCollection",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","null",70],",",["T_WHITESPACE","\n        ",70],["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$data",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[","]",["T_WHITESPACE","\n    ",71],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","__construct",73],"(",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$context",74],",",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$registry",75],",",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$extensionFactory",76],",",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$customAttributeFactory",77],",",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$paymentData",78],",",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$scopeConfig",79],",",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$logger",80],",",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$resource",81],",",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$resourceCollection",82],",",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$data",83],["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_moduleList",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$moduleList",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_localeDate",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$localeDate",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Validate payment method information object\n     *\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",89],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","validate",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_COMMENT","\/*\n         * calling parent validate function\n         *\/",99],["T_WHITESPACE","\n        ",101],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","validate",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$info",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getInfoInstance",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$errorMsg",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","false",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$availableTypes",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","explode",106],"(",["T_CONSTANT_ENCAPSED_STRING","','",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getConfigData",106],"(",["T_CONSTANT_ENCAPSED_STRING","'cctypes'",106],")",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$ccNumber",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$info",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getCcNumber",108],"(",")",";",["T_WHITESPACE","\n\n        ",108],["T_COMMENT","\/\/ remove credit card number delimiters such as \"-\" and space\n",110],["T_WHITESPACE","        ",111],["T_VARIABLE","$ccNumber",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","preg_replace",111],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[\\-\\s]+\/'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$ccNumber",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$info",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setCcNumber",112],"(",["T_VARIABLE","$ccNumber",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$ccType",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","''",114],";",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_STRING","in_array",116],"(",["T_VARIABLE","$info",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getCcType",116],"(",")",",",["T_WHITESPACE"," ",116],["T_VARIABLE","$availableTypes",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","validateCcNum",117],"(",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$ccNumber",118],["T_WHITESPACE","\n            ",118],")",["T_WHITESPACE"," ",119],["T_BOOLEAN_OR","||",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","otherCcType",119],"(",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$info",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getCcType",120],"(",")",["T_WHITESPACE","\n            ",120],")",["T_WHITESPACE"," ",121],["T_BOOLEAN_AND","&&",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","validateCcNumOther",121],"(",["T_WHITESPACE","\n                ",121],["T_COMMENT","\/\/ Other credit card type number validation\n",122],["T_WHITESPACE","                ",123],["T_VARIABLE","$ccNumber",123],["T_WHITESPACE","\n            ",123],")",["T_WHITESPACE","\n            ",124],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$ccTypeRegExpList",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[",["T_WHITESPACE","\n                    ",126],["T_COMMENT","\/\/Solo, Switch or Maestro. International safe\n",127],["T_WHITESPACE","                    ",128],["T_CONSTANT_ENCAPSED_STRING","'SO'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'\/(^(6334)[5-9](\\d{11}$|\\d{13,14}$))|(^(6767)(\\d{12}$|\\d{14,15}$))\/'",128],",",["T_WHITESPACE","\n                    ",128],["T_CONSTANT_ENCAPSED_STRING","'SM'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'\/(^(5[0678])\\d{11,18}$)|(^(6[^05])\\d{11,18}$)|(^(601)[^1]\\d{9,16}$)|(^(6011)\\d{9,11}$)'",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE","\n                        ",129],["T_CONSTANT_ENCAPSED_STRING","'|(^(6011)\\d{13,16}$)|(^(65)\\d{11,13}$)|(^(65)\\d{15,18}$)'",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE","\n                        ",130],["T_CONSTANT_ENCAPSED_STRING","'|(^(49030)[2-9](\\d{10}$|\\d{12,13}$))|(^(49033)[5-9](\\d{10}$|\\d{12,13}$))'",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE","\n                        ",131],["T_CONSTANT_ENCAPSED_STRING","'|(^(49110)[1-2](\\d{10}$|\\d{12,13}$))|(^(49117)[4-9](\\d{10}$|\\d{12,13}$))'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE","\n                        ",132],["T_CONSTANT_ENCAPSED_STRING","'|(^(49118)[0-2](\\d{10}$|\\d{12,13}$))|(^(4936)(\\d{12}$|\\d{14,15}$))\/'",133],",",["T_WHITESPACE","\n                    ",133],["T_COMMENT","\/\/ Visa\n",134],["T_WHITESPACE","                    ",135],["T_CONSTANT_ENCAPSED_STRING","'VI'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'\/^4[0-9]{12}([0-9]{3})?$\/'",135],",",["T_WHITESPACE","\n                    ",135],["T_COMMENT","\/\/ Master Card\n",136],["T_WHITESPACE","                    ",137],["T_CONSTANT_ENCAPSED_STRING","'MC'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'\/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$\/'",137],",",["T_WHITESPACE","\n                    ",137],["T_COMMENT","\/\/ American Express\n",138],["T_WHITESPACE","                    ",139],["T_CONSTANT_ENCAPSED_STRING","'AE'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'\/^3[47][0-9]{13}$\/'",139],",",["T_WHITESPACE","\n                    ",139],["T_COMMENT","\/\/ Discover\n",140],["T_WHITESPACE","                    ",141],["T_CONSTANT_ENCAPSED_STRING","'DI'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\/^(6011((0|9|[2-4])[0-9]{11,14}|(74|7[7-9]|8[6-9])[0-9]{10,13})|6(4[4-9][0-9]{13,16}|'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE","\n                        ",141],["T_CONSTANT_ENCAPSED_STRING","'5[0-9]{14,17}))\/'",142],",",["T_WHITESPACE","\n                    ",142],["T_CONSTANT_ENCAPSED_STRING","'DN'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'\/^3(0[0-5][0-9]{13,16}|095[0-9]{12,15}|(6|[8-9])[0-9]{14,17})\/'",143],",",["T_WHITESPACE","\n                    ",143],["T_COMMENT","\/\/ UnionPay\n",144],["T_WHITESPACE","                    ",145],["T_CONSTANT_ENCAPSED_STRING","'UN'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'\/^622(1(2[6-9][0-9]{10,13}|[3-9][0-9]{11,14})|[3-8][0-9]{12,15}|9([[0-1][0-9]{11,14}|'",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE","\n                        ",145],["T_CONSTANT_ENCAPSED_STRING","'2[0-5][0-9]{10,13}))|62[4-6][0-9]{13,16}|628[2-8][0-9]{12,15}\/'",146],",",["T_WHITESPACE","\n                    ",146],["T_COMMENT","\/\/ JCB\n",147],["T_WHITESPACE","                    ",148],["T_CONSTANT_ENCAPSED_STRING","'JCB'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\/^35(2[8-9][0-9]{12,15}|[3-8][0-9]{13,16})\/'",148],",",["T_WHITESPACE","\n                    ",148],["T_CONSTANT_ENCAPSED_STRING","'MI'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\/^(5(0|[6-9])|63|67(?!59|6770|6774))\\d*$\/'",149],",",["T_WHITESPACE","\n                    ",149],["T_CONSTANT_ENCAPSED_STRING","'MD'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\/^(6759(?!24|38|40|6[3-9]|70|76)|676770|676774)\\d*$\/'",150],",",["T_WHITESPACE","\n                ",150],"]",";",["T_WHITESPACE","\n\n                ",151],["T_VARIABLE","$ccNumAndTypeMatches",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ISSET","isset",153],"(",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$ccTypeRegExpList",154],"[",["T_VARIABLE","$info",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getCcType",154],"(",")","]",["T_WHITESPACE","\n                ",154],")",["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_STRING","preg_match",155],"(",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$ccTypeRegExpList",156],"[",["T_VARIABLE","$info",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getCcType",156],"(",")","]",",",["T_WHITESPACE","\n                    ",156],["T_VARIABLE","$ccNumber",157],["T_WHITESPACE","\n                ",157],")",";",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$ccType",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$ccNumAndTypeMatches",159],["T_WHITESPACE"," ",159],"?",["T_WHITESPACE"," ",159],["T_VARIABLE","$info",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getCcType",159],"(",")",["T_WHITESPACE"," ",159],":",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'OT'",159],";",["T_WHITESPACE","\n\n                ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_VARIABLE","$ccNumAndTypeMatches",161],["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],"!",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","otherCcType",161],"(",["T_VARIABLE","$info",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getCcType",161],"(",")",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                    ",161],["T_VARIABLE","$errorMsg",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","__",162],"(",["T_CONSTANT_ENCAPSED_STRING","'The credit card number doesn\\'t match the credit card type.'",162],")",";",["T_WHITESPACE","\n                ",162],"}",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE"," ",164],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$errorMsg",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","__",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Credit Card Number'",165],")",";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE"," ",167],["T_ELSE","else",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$errorMsg",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","__",168],"(",["T_CONSTANT_ENCAPSED_STRING","'This credit card type is not allowed for this payment method.'",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_COMMENT","\/\/validate credit card verification number\n",171],["T_WHITESPACE","        ",172],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$errorMsg",172],["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_STRING","false",172],["T_WHITESPACE"," ",172],["T_BOOLEAN_AND","&&",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","hasVerification",172],"(",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$verifcationRegEx",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getVerificationRegEx",173],"(",")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$regExp",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ISSET","isset",174],"(",["T_VARIABLE","$verifcationRegEx",174],"[",["T_VARIABLE","$info",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getCcType",174],"(",")","]",")",["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_VARIABLE","$verifcationRegEx",174],"[",["T_VARIABLE","$info",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getCcType",174],"(",")","]",["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","''",174],";",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(","!",["T_VARIABLE","$info",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getCcCid",175],"(",")",["T_WHITESPACE"," ",175],["T_BOOLEAN_OR","||",175],["T_WHITESPACE"," ",175],"!",["T_VARIABLE","$regExp",175],["T_WHITESPACE"," ",175],["T_BOOLEAN_OR","||",175],["T_WHITESPACE"," ",175],"!",["T_STRING","preg_match",175],"(",["T_VARIABLE","$regExp",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$info",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getCcCid",175],"(",")",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$errorMsg",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","__",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a valid credit card verification number.'",176],")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$ccType",180],["T_WHITESPACE"," ",180],["T_IS_NOT_EQUAL","!=",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'SS'",180],["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],"!",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_validateExpDate",180],"(",["T_VARIABLE","$info",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getCcExpYear",180],"(",")",",",["T_WHITESPACE"," ",180],["T_VARIABLE","$info",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getCcExpMonth",180],"(",")",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$errorMsg",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","__",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a valid credit card expiration date.'",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$errorMsg",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_THROW","throw",185],["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Framework",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Exception",185],["T_NS_SEPARATOR","\\",185],["T_STRING","LocalizedException",185],"(",["T_VARIABLE","$errorMsg",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * @return bool\n     * @api\n     *\/",191],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","hasVerification",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$configData",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getConfigData",197],"(",["T_CONSTANT_ENCAPSED_STRING","'useccv'",197],")",";",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$configData",198],["T_WHITESPACE"," ",198],["T_IS_IDENTICAL","===",198],["T_WHITESPACE"," ",198],["T_STRING","null",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","true",199],";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_BOOL_CAST","(bool)",201],["T_VARIABLE","$configData",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * @return array\n     * @api\n     *\/",204],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getVerificationRegEx",208],"(",")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$verificationExpList",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'VI'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",211],",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'MC'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",212],",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'AE'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{4}$\/'",213],",",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'DI'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",214],",",["T_WHITESPACE","\n            ",214],["T_CONSTANT_ENCAPSED_STRING","'DN'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",215],",",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","'UN'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",216],",",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","'SS'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3,4}$\/'",217],",",["T_WHITESPACE","\n            ",217],["T_CONSTANT_ENCAPSED_STRING","'SM'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3,4}$\/'",218],",",["T_WHITESPACE","\n            ",218],["T_CONSTANT_ENCAPSED_STRING","'SO'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3,4}$\/'",219],",",["T_WHITESPACE","\n            ",219],["T_CONSTANT_ENCAPSED_STRING","'OT'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3,4}$\/'",220],",",["T_WHITESPACE","\n            ",220],["T_CONSTANT_ENCAPSED_STRING","'JCB'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3,4}$\/'",221],",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'MI'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",222],",",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'MD'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'\/^[0-9]{3}$\/'",223],",",["T_WHITESPACE","\n        ",223],"]",";",["T_WHITESPACE","\n        ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$verificationExpList",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * @param string $expYear\n     * @param string $expMonth\n     * @return bool\n     *\/",228],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_validateExpDate",233],"(",["T_VARIABLE","$expYear",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$expMonth",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$date",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_NS_SEPARATOR","\\",235],["T_STRING","DateTime",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(","!",["T_VARIABLE","$expYear",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_OR","||",236],["T_WHITESPACE"," ",236],"!",["T_VARIABLE","$expMonth",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_OR","||",236],["T_WHITESPACE"," ",236],["T_INT_CAST","(int)",236],["T_VARIABLE","$date",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","format",236],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",236],")",["T_WHITESPACE"," ",236],">",["T_WHITESPACE"," ",236],["T_VARIABLE","$expYear",236],["T_WHITESPACE","\n            ",236],["T_BOOLEAN_OR","||",237],["T_WHITESPACE"," ",237],["T_INT_CAST","(int)",237],["T_VARIABLE","$date",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","format",237],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",237],")",["T_WHITESPACE"," ",237],["T_IS_EQUAL","==",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$expYear",237],["T_WHITESPACE"," ",237],["T_BOOLEAN_AND","&&",237],["T_WHITESPACE"," ",237],["T_INT_CAST","(int)",237],["T_VARIABLE","$date",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","format",237],"(",["T_CONSTANT_ENCAPSED_STRING","'m'",237],")",["T_WHITESPACE"," ",237],">",["T_WHITESPACE"," ",237],["T_VARIABLE","$expMonth",237],["T_WHITESPACE","\n        ",237],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_STRING","false",239],";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_STRING","true",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Assign data to info model instance\n     *\n     * @param \\Magento\\Framework\\DataObject|mixed $data\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",244],["T_WHITESPACE","\n    ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","assignData",251],"(",["T_NS_SEPARATOR","\\",251],["T_STRING","Magento",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Framework",251],["T_NS_SEPARATOR","\\",251],["T_STRING","DataObject",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$data",251],")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$additionalData",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$data",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getData",253],"(",["T_STRING","PaymentInterface",253],["T_DOUBLE_COLON","::",253],["T_STRING","KEY_ADDITIONAL_DATA",253],")",";",["T_WHITESPACE","\n        ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(","!",["T_STRING","is_object",254],"(",["T_VARIABLE","$additionalData",254],")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$additionalData",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","DataObject",255],"(",["T_VARIABLE","$additionalData",255],["T_WHITESPACE"," ",255],"?",":",["T_WHITESPACE"," ",255],"[","]",")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_DOC_COMMENT","\/** @var DataObject $info *\/",258],["T_WHITESPACE","\n        ",258],["T_VARIABLE","$info",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getInfoInstance",259],"(",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$info",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","addData",260],"(",["T_WHITESPACE","\n            ",260],"[",["T_WHITESPACE","\n                ",261],["T_CONSTANT_ENCAPSED_STRING","'cc_type'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$additionalData",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getCcType",262],"(",")",",",["T_WHITESPACE","\n                ",262],["T_CONSTANT_ENCAPSED_STRING","'cc_owner'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$additionalData",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getCcOwner",263],"(",")",",",["T_WHITESPACE","\n                ",263],["T_CONSTANT_ENCAPSED_STRING","'cc_last_4'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_STRING","substr",264],"(",["T_VARIABLE","$additionalData",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getCcNumber",264],"(",")",",",["T_WHITESPACE"," ",264],"-",["T_LNUMBER","4",264],")",",",["T_WHITESPACE","\n                ",264],["T_CONSTANT_ENCAPSED_STRING","'cc_number'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$additionalData",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getCcNumber",265],"(",")",",",["T_WHITESPACE","\n                ",265],["T_CONSTANT_ENCAPSED_STRING","'cc_cid'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$additionalData",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getCcCid",266],"(",")",",",["T_WHITESPACE","\n                ",266],["T_CONSTANT_ENCAPSED_STRING","'cc_exp_month'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$additionalData",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getCcExpMonth",267],"(",")",",",["T_WHITESPACE","\n                ",267],["T_CONSTANT_ENCAPSED_STRING","'cc_exp_year'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$additionalData",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getCcExpYear",268],"(",")",",",["T_WHITESPACE","\n                ",268],["T_CONSTANT_ENCAPSED_STRING","'cc_ss_issue'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$additionalData",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getCcSsIssue",269],"(",")",",",["T_WHITESPACE","\n                ",269],["T_CONSTANT_ENCAPSED_STRING","'cc_ss_start_month'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$additionalData",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getCcSsStartMonth",270],"(",")",",",["T_WHITESPACE","\n                ",270],["T_CONSTANT_ENCAPSED_STRING","'cc_ss_start_year'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$additionalData",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getCcSsStartYear",271],"(",")",["T_WHITESPACE","\n            ",271],"]",["T_WHITESPACE","\n        ",272],")",";",["T_WHITESPACE","\n\n        ",273],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * @param string $type\n     * @return bool\n     * @api\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","otherCcType",283],"(",["T_VARIABLE","$type",283],")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$type",285],["T_WHITESPACE"," ",285],["T_IS_EQUAL","==",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'OT'",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Validate credit card number\n     *\n     * @param   string $ccNumber\n     * @return  bool\n     * @api\n     *\/",288],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","validateCcNum",295],"(",["T_VARIABLE","$ccNumber",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$cardNumber",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","strrev",297],"(",["T_VARIABLE","$ccNumber",297],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$numSum",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],";",["T_WHITESPACE","\n\n        ",298],["T_FOR","for",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$i",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_LNUMBER","0",300],";",["T_WHITESPACE"," ",300],["T_VARIABLE","$i",300],["T_WHITESPACE"," ",300],"<",["T_WHITESPACE"," ",300],["T_STRING","strlen",300],"(",["T_VARIABLE","$cardNumber",300],")",";",["T_WHITESPACE"," ",300],["T_VARIABLE","$i",300],["T_INC","++",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$currentNum",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","substr",301],"(",["T_VARIABLE","$cardNumber",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$i",301],",",["T_WHITESPACE"," ",301],["T_LNUMBER","1",301],")",";",["T_WHITESPACE","\n\n            ",301],["T_DOC_COMMENT","\/**\n             * Double every second digit\n             *\/",303],["T_WHITESPACE","\n            ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$i",306],["T_WHITESPACE"," ",306],"%",["T_WHITESPACE"," ",306],["T_LNUMBER","2",306],["T_WHITESPACE"," ",306],["T_IS_EQUAL","==",306],["T_WHITESPACE"," ",306],["T_LNUMBER","1",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$currentNum",307],["T_WHITESPACE"," ",307],["T_MUL_EQUAL","*=",307],["T_WHITESPACE"," ",307],["T_LNUMBER","2",307],";",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE","\n\n            ",308],["T_DOC_COMMENT","\/**\n             * Add digits of 2-digit numbers together\n             *\/",310],["T_WHITESPACE","\n            ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$currentNum",313],["T_WHITESPACE"," ",313],">",["T_WHITESPACE"," ",313],["T_LNUMBER","9",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$firstNum",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$currentNum",314],["T_WHITESPACE"," ",314],"%",["T_WHITESPACE"," ",314],["T_LNUMBER","10",314],";",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$secondNum",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$currentNum",315],["T_WHITESPACE"," ",315],"-",["T_WHITESPACE"," ",315],["T_VARIABLE","$firstNum",315],")",["T_WHITESPACE"," ",315],"\/",["T_WHITESPACE"," ",315],["T_LNUMBER","10",315],";",["T_WHITESPACE","\n                ",315],["T_VARIABLE","$currentNum",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$firstNum",316],["T_WHITESPACE"," ",316],"+",["T_WHITESPACE"," ",316],["T_VARIABLE","$secondNum",316],";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n\n            ",317],["T_VARIABLE","$numSum",319],["T_WHITESPACE"," ",319],["T_PLUS_EQUAL","+=",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$currentNum",319],";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_DOC_COMMENT","\/**\n         * If the total has no remainder it's OK\n         *\/",322],["T_WHITESPACE","\n        ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$numSum",325],["T_WHITESPACE"," ",325],"%",["T_WHITESPACE"," ",325],["T_LNUMBER","10",325],["T_WHITESPACE"," ",325],["T_IS_EQUAL","==",325],["T_WHITESPACE"," ",325],["T_LNUMBER","0",325],";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Other credit cart type number validation\n     *\n     * @param string $ccNumber\n     * @return bool\n     * @api\n     *\/",328],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","validateCcNumOther",335],"(",["T_VARIABLE","$ccNumber",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_STRING","preg_match",337],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\\\d+$\/'",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$ccNumber",337],")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n    ",338],["T_DOC_COMMENT","\/**\n     * Check whether there are CC types set in configuration\n     *\n     * @param \\Magento\\Quote\\Api\\Data\\CartInterface|null $quote\n     * @return bool\n     *\/",340],["T_WHITESPACE","\n    ",345],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","isAvailable",346],"(",["T_NS_SEPARATOR","\\",346],["T_STRING","Magento",346],["T_NS_SEPARATOR","\\",346],["T_STRING","Quote",346],["T_NS_SEPARATOR","\\",346],["T_STRING","Api",346],["T_NS_SEPARATOR","\\",346],["T_STRING","Data",346],["T_NS_SEPARATOR","\\",346],["T_STRING","CartInterface",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$quote",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","null",346],")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getConfigData",348],"(",["T_CONSTANT_ENCAPSED_STRING","'cctypes'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$quote",348],["T_WHITESPACE"," ",348],"?",["T_WHITESPACE"," ",348],["T_VARIABLE","$quote",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getStoreId",348],"(",")",["T_WHITESPACE"," ",348],":",["T_WHITESPACE"," ",348],["T_STRING","null",348],")",["T_WHITESPACE"," ",348],["T_BOOLEAN_AND","&&",348],["T_WHITESPACE"," ",348],["T_STRING","parent",348],["T_DOUBLE_COLON","::",348],["T_STRING","isAvailable",348],"(",["T_VARIABLE","$quote",348],")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n",349],"}",["T_WHITESPACE","\n",350]]