[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Payment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Command",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Payment",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Gateway",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Command",8],["T_NS_SEPARATOR","\\",8],["T_STRING","GatewayCommand",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Payment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Gateway",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Http",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ClientInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Http",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TransferFactoryInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Request",11],["T_NS_SEPARATOR","\\",11],["T_STRING","BuilderInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Gateway",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Response",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HandlerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Payment",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Gateway",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Validator",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ValidatorInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Psr",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Log",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LoggerInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","GatewayCommandTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/** @var GatewayCommand *\/",21],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$command",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var BuilderInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$requestBuilderMock",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var TransferFactoryInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$transferFactoryMock",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var ClientInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$clientMock",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var HandlerInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$responseHandlerMock",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var ValidatorInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$validatorMock",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var LoggerInterface |\\PHPUnit_Framework_MockObject_MockObject\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PRIVATE","private",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$logger",52],";",["T_WHITESPACE","\n\n    ",52],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","setUp",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","requestBuilderMock",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMock",56],"(",["T_WHITESPACE","\n            ",56],["T_STRING","BuilderInterface",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],["T_WHITESPACE","\n        ",57],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","transferFactoryMock",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMock",59],"(",["T_WHITESPACE","\n            ",59],["T_STRING","TransferFactoryInterface",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],["T_WHITESPACE","\n        ",60],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","clientMock",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMock",62],"(",["T_WHITESPACE","\n            ",62],["T_STRING","ClientInterface",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],["T_WHITESPACE","\n        ",63],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","responseHandlerMock",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMock",65],"(",["T_WHITESPACE","\n            ",65],["T_STRING","HandlerInterface",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],["T_WHITESPACE","\n        ",66],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","validatorMock",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMock",68],"(",["T_WHITESPACE","\n            ",68],["T_STRING","ValidatorInterface",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],["T_WHITESPACE","\n        ",69],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","logger",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",["T_STRING","LoggerInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","command",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_STRING","GatewayCommand",73],"(",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","requestBuilderMock",74],",",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","transferFactoryMock",75],",",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","clientMock",76],",",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","logger",77],",",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","responseHandlerMock",78],",",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","validatorMock",79],["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testExecute",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$commandSubject",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize'",85],"]",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$request",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n            ",86],["T_CONSTANT_ENCAPSED_STRING","'request_field1'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'request_value1'",87],",",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'request_field2'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'request_value2'",88],["T_WHITESPACE","\n        ",88],"]",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$response",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'response_field1'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'response_value1'",90],"]",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$validationResult",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMockBuilder",91],"(",["T_WHITESPACE","\n            ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Payment",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Gateway",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Validator",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ResultInterface",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],["T_WHITESPACE","\n        ",92],")",["T_WHITESPACE","\n            ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMockForAbstractClass",94],"(",")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$transferO",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMockBuilder",96],"(",["T_WHITESPACE","\n            ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Payment",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Gateway",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Http",97],["T_NS_SEPARATOR","\\",97],["T_STRING","TransferInterface",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],["T_WHITESPACE","\n        ",97],")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMockForAbstractClass",99],"(",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","requestBuilderMock",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","expects",101],"(",["T_STATIC","static",101],["T_DOUBLE_COLON","::",101],["T_STRING","once",101],"(",")",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","method",102],"(",["T_CONSTANT_ENCAPSED_STRING","'build'",102],")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","with",103],"(",["T_VARIABLE","$commandSubject",103],")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","willReturn",104],"(",["T_VARIABLE","$request",104],")",";",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","transferFactoryMock",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_STATIC","static",106],["T_DOUBLE_COLON","::",106],["T_STRING","once",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","with",108],"(",["T_VARIABLE","$request",108],")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","willReturn",109],"(",["T_VARIABLE","$transferO",109],")",";",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","clientMock",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","expects",111],"(",["T_STATIC","static",111],["T_DOUBLE_COLON","::",111],["T_STRING","once",111],"(",")",")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","method",112],"(",["T_CONSTANT_ENCAPSED_STRING","'placeRequest'",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","with",113],"(",["T_VARIABLE","$transferO",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","willReturn",114],"(",["T_VARIABLE","$response",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","validatorMock",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_STATIC","static",115],["T_DOUBLE_COLON","::",115],["T_STRING","once",115],"(",")",")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","with",117],"(",["T_STRING","array_merge",117],"(",["T_VARIABLE","$commandSubject",117],",",["T_WHITESPACE"," ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_VARIABLE","$response",117],"]",")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","willReturn",118],"(",["T_VARIABLE","$validationResult",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$validationResult",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","expects",119],"(",["T_STATIC","static",119],["T_DOUBLE_COLON","::",119],["T_STRING","once",119],"(",")",")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_CONSTANT_ENCAPSED_STRING","'isValid'",120],")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","willReturn",121],"(",["T_STRING","true",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","responseHandlerMock",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","expects",123],"(",["T_STATIC","static",123],["T_DOUBLE_COLON","::",123],["T_STRING","once",123],"(",")",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","method",124],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","with",125],"(",["T_VARIABLE","$commandSubject",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$response",125],")",";",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","command",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","execute",127],"(",["T_VARIABLE","$commandSubject",127],")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","testExecuteValidationFail",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setExpectedException",132],"(",["T_WHITESPACE","\n            ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Payment",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Gateway",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Command",133],["T_NS_SEPARATOR","\\",133],["T_STRING","CommandException",133],["T_DOUBLE_COLON","::",133],["T_CLASS","class",133],["T_WHITESPACE","\n        ",133],")",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$commandSubject",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize'",136],"]",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$request",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[",["T_WHITESPACE","\n            ",137],["T_CONSTANT_ENCAPSED_STRING","'request_field1'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'request_value1'",138],",",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'request_field2'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'request_value2'",139],["T_WHITESPACE","\n        ",139],"]",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$response",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'response_field1'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'response_value1'",141],"]",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$validationFailures",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[",["T_WHITESPACE","\n            ",142],["T_STRING","__",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Failure #1'",143],")",",",["T_WHITESPACE","\n            ",143],["T_STRING","__",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Failure #2'",144],")",",",["T_WHITESPACE","\n        ",144],"]",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$validationResult",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getMockBuilder",146],"(",["T_WHITESPACE","\n            ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Payment",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Gateway",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Validator",147],["T_NS_SEPARATOR","\\",147],["T_STRING","ResultInterface",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],["T_WHITESPACE","\n        ",147],")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMockForAbstractClass",149],"(",")",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$transferO",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getMockBuilder",151],"(",["T_WHITESPACE","\n            ",151],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Payment",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Gateway",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Http",152],["T_NS_SEPARATOR","\\",152],["T_STRING","TransferInterface",152],["T_DOUBLE_COLON","::",152],["T_CLASS","class",152],["T_WHITESPACE","\n        ",152],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","getMockForAbstractClass",154],"(",")",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","requestBuilderMock",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","expects",156],"(",["T_STATIC","static",156],["T_DOUBLE_COLON","::",156],["T_STRING","once",156],"(",")",")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","method",157],"(",["T_CONSTANT_ENCAPSED_STRING","'build'",157],")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","with",158],"(",["T_VARIABLE","$commandSubject",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","willReturn",159],"(",["T_VARIABLE","$request",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","transferFactoryMock",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","expects",161],"(",["T_STATIC","static",161],["T_DOUBLE_COLON","::",161],["T_STRING","once",161],"(",")",")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","method",162],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","with",163],"(",["T_VARIABLE","$request",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","willReturn",164],"(",["T_VARIABLE","$transferO",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","clientMock",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_STATIC","static",166],["T_DOUBLE_COLON","::",166],["T_STRING","once",166],"(",")",")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","method",167],"(",["T_CONSTANT_ENCAPSED_STRING","'placeRequest'",167],")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","with",168],"(",["T_VARIABLE","$transferO",168],")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","willReturn",169],"(",["T_VARIABLE","$response",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","validatorMock",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","expects",170],"(",["T_STATIC","static",170],["T_DOUBLE_COLON","::",170],["T_STRING","once",170],"(",")",")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","method",171],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",171],")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","with",172],"(",["T_STRING","array_merge",172],"(",["T_VARIABLE","$commandSubject",172],",",["T_WHITESPACE"," ",172],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_VARIABLE","$response",172],"]",")",")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(",["T_VARIABLE","$validationResult",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$validationResult",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","expects",174],"(",["T_STATIC","static",174],["T_DOUBLE_COLON","::",174],["T_STRING","once",174],"(",")",")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'isValid'",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","willReturn",176],"(",["T_STRING","false",176],")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$validationResult",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","expects",177],"(",["T_STATIC","static",177],["T_DOUBLE_COLON","::",177],["T_STRING","once",177],"(",")",")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","method",178],"(",["T_CONSTANT_ENCAPSED_STRING","'getFailsDescription'",178],")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","willReturn",179],"(",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$validationFailures",180],["T_WHITESPACE","\n            ",180],")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","logger",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","expects",183],"(",["T_STATIC","static",183],["T_DOUBLE_COLON","::",183],["T_STRING","exactly",183],"(",["T_STRING","count",183],"(",["T_VARIABLE","$validationFailures",183],")",")",")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","method",184],"(",["T_CONSTANT_ENCAPSED_STRING","'critical'",184],")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","withConsecutive",185],"(",["T_WHITESPACE","\n                ",185],"[",["T_VARIABLE","$validationFailures",186],"[",["T_LNUMBER","0",186],"]","]",",",["T_WHITESPACE","\n                ",186],"[",["T_VARIABLE","$validationFailures",187],"[",["T_LNUMBER","1",187],"]","]",["T_WHITESPACE","\n            ",187],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","command",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","execute",190],"(",["T_VARIABLE","$commandSubject",190],")",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n",191],"}",["T_WHITESPACE","\n",192]]