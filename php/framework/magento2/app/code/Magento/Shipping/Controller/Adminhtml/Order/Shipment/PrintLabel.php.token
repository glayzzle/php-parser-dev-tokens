[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Shipping",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Order",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Shipment",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResponseInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DirectoryList",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","PrintLabel",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Backend",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Action",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Authorization level of a basic admin session\n     *\n     * @see _isAllowed()\n     *\/",15],["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","ADMIN_RESOURCE",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::shipment'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Controller\\Adminhtml\\Order\\ShipmentLoader\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$shipmentLoader",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Shipping\\LabelGenerator\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$labelGenerator",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Response\\Http\\FileFactory\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_fileFactory",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @param Action\\Context $context\n     * @param \\Magento\\Shipping\\Controller\\Adminhtml\\Order\\ShipmentLoader $shipmentLoader\n     * @param \\Magento\\Shipping\\Model\\Shipping\\LabelGenerator $labelGenerator\n     * @param \\Magento\\Framework\\App\\Response\\Http\\FileFactory $fileFactory\n     *\/",37],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","__construct",43],"(",["T_WHITESPACE","\n        ",43],["T_STRING","Action",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Context",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$context",44],",",["T_WHITESPACE","\n        ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Shipping",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Controller",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Adminhtml",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Order",45],["T_NS_SEPARATOR","\\",45],["T_STRING","ShipmentLoader",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$shipmentLoader",45],",",["T_WHITESPACE","\n        ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Shipping",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Shipping",46],["T_NS_SEPARATOR","\\",46],["T_STRING","LabelGenerator",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$labelGenerator",46],",",["T_WHITESPACE","\n        ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","App",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Response",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Http",47],["T_NS_SEPARATOR","\\",47],["T_STRING","FileFactory",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$fileFactory",47],["T_WHITESPACE","\n    ",47],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","shipmentLoader",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$shipmentLoader",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","labelGenerator",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$labelGenerator",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_fileFactory",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$fileFactory",51],";",["T_WHITESPACE","\n        ",51],["T_STRING","parent",52],["T_DOUBLE_COLON","::",52],["T_STRING","__construct",52],"(",["T_VARIABLE","$context",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Print label for one specific shipment\n     *\n     * @return ResponseInterface|void\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","execute",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_TRY","try",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","shipmentLoader",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setOrderId",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getRequest",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getParam",63],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",63],")",")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","shipmentLoader",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setShipmentId",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getRequest",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getParam",64],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment_id'",64],")",")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","shipmentLoader",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setShipment",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getRequest",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getParam",65],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment'",65],")",")",";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","shipmentLoader",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setTracking",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getRequest",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getParam",66],"(",["T_CONSTANT_ENCAPSED_STRING","'tracking'",66],")",")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$shipment",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","shipmentLoader",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","load",67],"(",")",";",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$labelContent",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$shipment",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getShippingLabel",68],"(",")",";",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$labelContent",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$pdfContent",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","null",70],";",["T_WHITESPACE","\n                ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_STRING","stripos",71],"(",["T_VARIABLE","$labelContent",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'%PDF-'",71],")",["T_WHITESPACE"," ",71],["T_IS_NOT_IDENTICAL","!==",71],["T_WHITESPACE"," ",71],["T_STRING","false",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                    ",71],["T_VARIABLE","$pdfContent",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$labelContent",72],";",["T_WHITESPACE","\n                ",72],"}",["T_WHITESPACE"," ",73],["T_ELSE","else",73],["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                    ",73],["T_VARIABLE","$pdf",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Zend_Pdf",74],"(",")",";",["T_WHITESPACE","\n                    ",74],["T_VARIABLE","$page",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","labelGenerator",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","createPdfPageFromImageString",75],"(",["T_VARIABLE","$labelContent",75],")",";",["T_WHITESPACE","\n                    ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_VARIABLE","$page",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","messageManager",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","addError",77],"(",["T_WHITESPACE","\n                            ",77],["T_STRING","__",78],"(",["T_WHITESPACE","\n                                ",78],["T_CONSTANT_ENCAPSED_STRING","'We don\\'t recognize or support the file extension in this shipment: %1.'",79],",",["T_WHITESPACE","\n                                ",79],["T_VARIABLE","$shipment",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getIncrementId",80],"(",")",["T_WHITESPACE","\n                            ",80],")",["T_WHITESPACE","\n                        ",81],")",";",["T_WHITESPACE","\n                    ",82],"}",["T_WHITESPACE","\n                    ",83],["T_VARIABLE","$pdf",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","pages",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$page",84],";",["T_WHITESPACE","\n                    ",84],["T_VARIABLE","$pdfContent",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$pdf",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","render",85],"(",")",";",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE","\n\n                ",86],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_fileFactory",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","create",88],"(",["T_WHITESPACE","\n                    ",88],["T_CONSTANT_ENCAPSED_STRING","'ShippingLabel('",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$shipment",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getIncrementId",89],"(",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","').pdf'",89],",",["T_WHITESPACE","\n                    ",89],["T_VARIABLE","$pdfContent",90],",",["T_WHITESPACE","\n                    ",90],["T_STRING","DirectoryList",91],["T_DOUBLE_COLON","::",91],["T_STRING","VAR_DIR",91],",",["T_WHITESPACE","\n                    ",91],["T_CONSTANT_ENCAPSED_STRING","'application\/pdf'",92],["T_WHITESPACE","\n                ",92],")",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE"," ",95],["T_CATCH","catch",95],["T_WHITESPACE"," ",95],"(",["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Exception",95],["T_NS_SEPARATOR","\\",95],["T_STRING","LocalizedException",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$e",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","messageManager",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addError",96],"(",["T_VARIABLE","$e",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMessage",96],"(",")",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE"," ",97],["T_CATCH","catch",97],["T_WHITESPACE"," ",97],"(",["T_NS_SEPARATOR","\\",97],["T_STRING","Exception",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$e",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_objectManager",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","get",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Psr",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Log",98],["T_NS_SEPARATOR","\\",98],["T_STRING","LoggerInterface",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","critical",98],"(",["T_VARIABLE","$e",98],")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","messageManager",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addError",99],"(",["T_STRING","__",99],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while creating shipping label.'",99],")",")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_redirect",101],"(",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/order_shipment\/view'",102],",",["T_WHITESPACE","\n            ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'shipment_id'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getRequest",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getParam",103],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment_id'",103],")","]",["T_WHITESPACE","\n        ",103],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n",105],"}",["T_WHITESPACE","\n",106]]