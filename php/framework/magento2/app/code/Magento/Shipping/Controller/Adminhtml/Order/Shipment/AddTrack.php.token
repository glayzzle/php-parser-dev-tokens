[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Shipping",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Order",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Shipment",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","AddTrack",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Backend",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Action",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Authorization level of a basic admin session\n     *\n     * @see _isAllowed()\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","ADMIN_RESOURCE",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'Magento_Sales::shipment'",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Controller\\Adminhtml\\Order\\ShipmentLoader\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$shipmentLoader",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @param Action\\Context $context\n     * @param \\Magento\\Shipping\\Controller\\Adminhtml\\Order\\ShipmentLoader $shipmentLoader\n     *\/",25],["T_WHITESPACE","\n    ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","__construct",29],"(",["T_WHITESPACE","\n        ",29],["T_STRING","Action",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Context",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$context",30],",",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Shipping",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Controller",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Adminhtml",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Order",31],["T_NS_SEPARATOR","\\",31],["T_STRING","ShipmentLoader",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$shipmentLoader",31],["T_WHITESPACE","\n    ",31],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","shipmentLoader",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$shipmentLoader",33],";",["T_WHITESPACE","\n        ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","__construct",34],"(",["T_VARIABLE","$context",34],")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Add new tracking number action\n     *\n     * @return void\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",37],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","execute",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_TRY","try",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$carrier",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getRequest",46],"(",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","getPost",46],"(",["T_CONSTANT_ENCAPSED_STRING","'carrier'",46],")",";",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$number",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getRequest",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","getPost",47],"(",["T_CONSTANT_ENCAPSED_STRING","'number'",47],")",";",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$title",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getRequest",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getPost",48],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",48],")",";",["T_WHITESPACE","\n            ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_EMPTY","empty",49],"(",["T_VARIABLE","$carrier",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n                ",49],["T_THROW","throw",50],["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Exception",50],["T_NS_SEPARATOR","\\",50],["T_STRING","LocalizedException",50],"(",["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify a carrier.'",50],")",")",";",["T_WHITESPACE","\n            ",50],"}",["T_WHITESPACE","\n            ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_EMPTY","empty",52],"(",["T_VARIABLE","$number",52],")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_THROW","throw",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Exception",53],["T_NS_SEPARATOR","\\",53],["T_STRING","LocalizedException",53],"(",["T_STRING","__",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a tracking number.'",53],")",")",";",["T_WHITESPACE","\n            ",53],"}",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","shipmentLoader",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","setOrderId",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getRequest",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getParam",55],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",55],")",")",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","shipmentLoader",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setShipmentId",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getRequest",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","getParam",56],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment_id'",56],")",")",";",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","shipmentLoader",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","setShipment",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getRequest",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","getParam",57],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment'",57],")",")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","shipmentLoader",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setTracking",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getParam",58],"(",["T_CONSTANT_ENCAPSED_STRING","'tracking'",58],")",")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$shipment",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","shipmentLoader",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","load",59],"(",")",";",["T_WHITESPACE","\n            ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$shipment",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$track",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_objectManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",["T_WHITESPACE","\n                    ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Sales",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Order",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Shipment",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Track",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],["T_WHITESPACE","\n                ",62],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","setNumber",63],"(",["T_WHITESPACE","\n                    ",63],["T_VARIABLE","$number",64],["T_WHITESPACE","\n                ",64],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","setCarrierCode",65],"(",["T_WHITESPACE","\n                    ",65],["T_VARIABLE","$carrier",66],["T_WHITESPACE","\n                ",66],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","setTitle",67],"(",["T_WHITESPACE","\n                    ",67],["T_VARIABLE","$title",68],["T_WHITESPACE","\n                ",68],")",";",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$shipment",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addTrack",70],"(",["T_VARIABLE","$track",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n                ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_view",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","loadLayout",72],"(",")",";",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_view",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getPage",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getConfig",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getTitle",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","prepend",73],"(",["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipments'",73],")",")",";",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$response",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_view",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getLayout",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getBlock",74],"(",["T_CONSTANT_ENCAPSED_STRING","'shipment_tracking'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","toHtml",74],"(",")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE"," ",75],["T_ELSE","else",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$response",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[",["T_WHITESPACE","\n                    ",76],["T_CONSTANT_ENCAPSED_STRING","'error'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_STRING","true",77],",",["T_WHITESPACE","\n                    ",77],["T_CONSTANT_ENCAPSED_STRING","'message'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","__",78],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t initialize shipment for adding tracking number.'",78],")",",",["T_WHITESPACE","\n                ",78],"]",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE"," ",81],["T_CATCH","catch",81],["T_WHITESPACE"," ",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Exception",81],["T_NS_SEPARATOR","\\",81],["T_STRING","LocalizedException",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$e",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$response",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","true",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'message'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$e",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMessage",82],"(",")","]",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE"," ",83],["T_CATCH","catch",83],["T_WHITESPACE"," ",83],"(",["T_NS_SEPARATOR","\\",83],["T_STRING","Exception",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$e",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$response",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'message'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot add tracking number.'",84],")","]",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","is_array",86],"(",["T_VARIABLE","$response",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$response",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_objectManager",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Json",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Helper",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Data",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","jsonEncode",87],"(",["T_VARIABLE","$response",87],")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getResponse",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","representJson",88],"(",["T_VARIABLE","$response",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getResponse",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","setBody",90],"(",["T_VARIABLE","$response",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n",92],"}",["T_WHITESPACE","\n",93]]