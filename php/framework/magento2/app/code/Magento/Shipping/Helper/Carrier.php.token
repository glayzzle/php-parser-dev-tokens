[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Shipping",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Carrier helper\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Carrier",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractHelper",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Carriers root xml path\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","XML_PATH_CARRIERS_ROOT",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'carriers'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * Config path to UE country list\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","XML_PATH_EU_COUNTRIES_LIST",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'general\/country\/eu_countries'",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Locale interface\n     *\n     * @var \\Magento\\Framework\\Locale\\ResolverInterface $localeResolver\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$localeResolver",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Helper\\Context $context\n     * @param \\Magento\\Framework\\Locale\\ResolverInterface $localeResolver\n     *\/",30],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_WHITESPACE","\n        ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","App",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Helper",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Context",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$context",35],",",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Locale",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ResolverInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$localeResolver",36],["T_WHITESPACE","\n    ",36],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","localeResolver",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$localeResolver",38],";",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",["T_VARIABLE","$context",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Get online shipping carrier codes\n     *\n     * @param int|\\Magento\\Store\\Model\\Store|null $store\n     * @return array\n     *\/",42],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getOnlineCarrierCodes",48],"(",["T_VARIABLE","$store",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$carriersCodes",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[","]",";",["T_WHITESPACE","\n        ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","scopeConfig",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getValue",51],"(",["T_WHITESPACE","\n            ",51],["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_STRING","XML_PATH_CARRIERS_ROOT",52],",",["T_WHITESPACE","\n            ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Store",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","ScopeInterface",53],["T_DOUBLE_COLON","::",53],["T_STRING","SCOPE_STORE",53],",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$store",54],["T_WHITESPACE","\n        ",54],")",["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$carrierCode",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$carrier",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_ISSET","isset",56],"(",["T_VARIABLE","$carrier",56],"[",["T_CONSTANT_ENCAPSED_STRING","'is_online'",56],"]",")",["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$carrier",56],"[",["T_CONSTANT_ENCAPSED_STRING","'is_online'",56],"]",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$carriersCodes",57],"[","]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$carrierCode",57],";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$carriersCodes",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Get shipping carrier config value\n     *\n     * @param string $carrierCode\n     * @param string $configPath\n     * @param null $store\n     * @return string\n     *\/",63],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","getCarrierConfigValue",71],"(",["T_VARIABLE","$carrierCode",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$configPath",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$store",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","scopeConfig",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getValue",73],"(",["T_WHITESPACE","\n            ",73],["T_STRING","sprintf",74],"(",["T_CONSTANT_ENCAPSED_STRING","'%s\/%s\/%s'",74],",",["T_WHITESPACE"," ",74],["T_STRING","self",74],["T_DOUBLE_COLON","::",74],["T_STRING","XML_PATH_CARRIERS_ROOT",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$carrierCode",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$configPath",74],")",",",["T_WHITESPACE","\n            ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Store",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","ScopeInterface",75],["T_DOUBLE_COLON","::",75],["T_STRING","SCOPE_STORE",75],",",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$store",76],["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Convert weight in different measure types\n     *\n     * @param int|float $value\n     * @param string $sourceWeightMeasure\n     * @param string $toWeightMeasure\n     * @return int|null|string\n     *\/",80],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","convertMeasureWeight",88],"(",["T_VARIABLE","$value",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$sourceWeightMeasure",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$toWeightMeasure",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$value",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$locale",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","localeResolver",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getLocale",91],"(",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$unitWeight",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Zend_Measure_Weight",92],"(",["T_VARIABLE","$value",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$sourceWeightMeasure",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$locale",92],")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$unitWeight",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setType",93],"(",["T_VARIABLE","$toWeightMeasure",93],")",";",["T_WHITESPACE","\n            ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$unitWeight",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getValue",94],"(",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","null",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Convert dimensions in different measure types\n     *\n     * @param  int|float $value\n     * @param  string $sourceDimensionMeasure\n     * @param  string $toDimensionMeasure\n     * @return int|null|string\n     *\/",99],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","convertMeasureDimension",107],"(",["T_VARIABLE","$value",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$sourceDimensionMeasure",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$toDimensionMeasure",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$value",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$locale",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","localeResolver",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getLocale",110],"(",")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$unitDimension",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Zend_Measure_Length",111],"(",["T_VARIABLE","$value",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$sourceDimensionMeasure",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$locale",111],")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$unitDimension",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setType",112],"(",["T_VARIABLE","$toDimensionMeasure",112],")",";",["T_WHITESPACE","\n            ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$unitDimension",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getValue",113],"(",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","null",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Get name of measure by its type\n     *\n     * @param string $key\n     * @return string\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getMeasureWeightName",124],"(",["T_VARIABLE","$key",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$weight",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Zend_Measure_Weight",126],"(",["T_LNUMBER","0",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$conversionList",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$weight",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getConversionList",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_EMPTY","empty",128],"(",["T_VARIABLE","$conversionList",128],"[",["T_VARIABLE","$key",128],"]",")",["T_WHITESPACE"," ",128],["T_BOOLEAN_AND","&&",128],["T_WHITESPACE"," ",128],"!",["T_EMPTY","empty",128],"(",["T_VARIABLE","$conversionList",128],"[",["T_VARIABLE","$key",128],"]","[",["T_LNUMBER","1",128],"]",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$conversionList",129],"[",["T_VARIABLE","$key",129],"]","[",["T_LNUMBER","1",129],"]",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","''",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Get name of measure by its type\n     *\n     * @param string $key\n     * @return string\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getMeasureDimensionName",140],"(",["T_VARIABLE","$key",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$weight",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Zend_Measure_Length",142],"(",["T_LNUMBER","0",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$conversionList",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$weight",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getConversionList",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_EMPTY","empty",144],"(",["T_VARIABLE","$conversionList",144],"[",["T_VARIABLE","$key",144],"]",")",["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],"!",["T_EMPTY","empty",144],"(",["T_VARIABLE","$conversionList",144],"[",["T_VARIABLE","$key",144],"]","[",["T_LNUMBER","1",144],"]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$conversionList",145],"[",["T_VARIABLE","$key",145],"]","[",["T_LNUMBER","1",145],"]",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n        ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Check whether specified country is in EU countries list\n     *\n     * @param string $countryCode\n     * @param null|int $storeId\n     * @return bool\n     *\/",150],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","isCountryInEU",157],"(",["T_VARIABLE","$countryCode",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$storeId",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","null",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$euCountries",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","explode",159],"(",["T_WHITESPACE","\n            ",159],["T_CONSTANT_ENCAPSED_STRING","','",160],",",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","scopeConfig",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getValue",161],"(",["T_WHITESPACE","\n                ",161],["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","XML_PATH_EU_COUNTRIES_LIST",162],",",["T_WHITESPACE","\n                ",162],["T_NS_SEPARATOR","\\",163],["T_STRING","Magento",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Store",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Model",163],["T_NS_SEPARATOR","\\",163],["T_STRING","ScopeInterface",163],["T_DOUBLE_COLON","::",163],["T_STRING","SCOPE_STORE",163],",",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$storeId",164],["T_WHITESPACE","\n            ",164],")",["T_WHITESPACE","\n        ",165],")",";",["T_WHITESPACE","\n\n        ",166],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","in_array",168],"(",["T_VARIABLE","$countryCode",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$euCountries",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n",169],"}",["T_WHITESPACE","\n",170]]