[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Shipping",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Carrier",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Address",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RateResult",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Error",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Shipping",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Shipment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Request",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class AbstractCarrier\n *\/",14],["T_WHITESPACE","\n",16],["T_ABSTRACT","abstract",17],["T_WHITESPACE"," ",17],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","AbstractCarrier",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DataObject",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","AbstractCarrierInterface",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","DEBUG_KEYS_MASK",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'****'",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Carrier's code\n     *\n     * @var string\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_code",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Rates result\n     *\n     * @var array|null\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_rates",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Number of boxes in package\n     *\n     * @var int\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_numBoxes",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","1",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Free Method config path\n     *\n     * @var string\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_freeMethod",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'free_method'",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Whether this carrier has fixed rates calculation\n     *\n     * @var bool\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_isFixed",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","false",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Container types that could be customized\n     *\n     * @var string[]\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_customizableContainerTypes",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[","]",";",["T_WHITESPACE","\n\n    ",61],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","USA_COUNTRY_ID",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'US'",63],";",["T_WHITESPACE","\n\n    ",63],["T_CONST","const",65],["T_WHITESPACE"," ",65],["T_STRING","CANADA_COUNTRY_ID",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'CA'",65],";",["T_WHITESPACE","\n\n    ",65],["T_CONST","const",67],["T_WHITESPACE"," ",67],["T_STRING","MEXICO_COUNTRY_ID",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'MX'",67],";",["T_WHITESPACE","\n\n    ",67],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","HANDLING_TYPE_PERCENT",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'P'",69],";",["T_WHITESPACE","\n\n    ",69],["T_CONST","const",71],["T_WHITESPACE"," ",71],["T_STRING","HANDLING_TYPE_FIXED",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'F'",71],";",["T_WHITESPACE","\n\n    ",71],["T_CONST","const",73],["T_WHITESPACE"," ",73],["T_STRING","HANDLING_ACTION_PERPACKAGE",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'P'",73],";",["T_WHITESPACE","\n\n    ",73],["T_CONST","const",75],["T_WHITESPACE"," ",75],["T_STRING","HANDLING_ACTION_PERORDER",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'O'",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Fields that should be replaced in debug with '***'\n     *\n     * @var array\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_debugReplacePrivateDataKeys",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$_scopeConfig",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\ErrorFactory\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_rateErrorFactory",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",96],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_logger",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\ErrorFactory $rateErrorFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param array $data\n     *\/",101],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","__construct",107],"(",["T_WHITESPACE","\n        ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Framework",108],["T_NS_SEPARATOR","\\",108],["T_STRING","App",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Config",108],["T_NS_SEPARATOR","\\",108],["T_STRING","ScopeConfigInterface",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$scopeConfig",108],",",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Quote",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Quote",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Address",109],["T_NS_SEPARATOR","\\",109],["T_STRING","RateResult",109],["T_NS_SEPARATOR","\\",109],["T_STRING","ErrorFactory",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$rateErrorFactory",109],",",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Psr",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Log",110],["T_NS_SEPARATOR","\\",110],["T_STRING","LoggerInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$logger",110],",",["T_WHITESPACE","\n        ",110],["T_ARRAY","array",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$data",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"[","]",["T_WHITESPACE","\n    ",111],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n        ",112],["T_STRING","parent",113],["T_DOUBLE_COLON","::",113],["T_STRING","__construct",113],"(",["T_VARIABLE","$data",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_scopeConfig",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$scopeConfig",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_rateErrorFactory",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$rateErrorFactory",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_logger",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$logger",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Retrieve information from carrier configuration\n     *\n     * @param   string $field\n     * @return  void|false|string\n     *\/",119],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getConfigData",125],"(",["T_VARIABLE","$field",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_EMPTY","empty",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_code",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_STRING","false",128],";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$path",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'carriers\/'",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_code",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\/'",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$field",130],";",["T_WHITESPACE","\n\n        ",130],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_scopeConfig",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getValue",132],"(",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$path",133],",",["T_WHITESPACE","\n            ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Store",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","ScopeInterface",134],["T_DOUBLE_COLON","::",134],["T_STRING","SCOPE_STORE",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getStore",135],"(",")",["T_WHITESPACE","\n        ",135],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Retrieve config flag for store by field\n     *\n     * @param string $field\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     * @api\n     *\/",139],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getConfigFlag",147],"(",["T_VARIABLE","$field",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_EMPTY","empty",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_code",149],")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_STRING","false",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$path",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'carriers\/'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_code",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$field",152],";",["T_WHITESPACE","\n\n        ",152],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_scopeConfig",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","isSetFlag",154],"(",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$path",155],",",["T_WHITESPACE","\n            ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Store",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Model",156],["T_NS_SEPARATOR","\\",156],["T_STRING","ScopeInterface",156],["T_DOUBLE_COLON","::",156],["T_STRING","SCOPE_STORE",156],",",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getStore",157],"(",")",["T_WHITESPACE","\n        ",157],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Do request to shipment\n     * Implementation must be in overridden method\n     *\n     * @param Request $request\n     * @return \\Magento\\Framework\\DataObject\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",161],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","requestToShipment",169],"(",["T_VARIABLE","$request",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Framework",171],["T_NS_SEPARATOR","\\",171],["T_STRING","DataObject",171],"(",")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Do return of shipment\n     * Implementation must be in overridden method\n     *\n     * @param Request $request\n     * @return \\Magento\\Framework\\DataObject\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",174],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","returnOfShipment",182],"(",["T_VARIABLE","$request",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","DataObject",184],"(",")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Return container types of carrier\n     *\n     * @param \\Magento\\Framework\\DataObject|null $params\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",187],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","getContainerTypes",194],"(",["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Framework",194],["T_NS_SEPARATOR","\\",194],["T_STRING","DataObject",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$params",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","null",194],")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],"[","]",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Get allowed containers of carrier\n     *\n     * @param \\Magento\\Framework\\DataObject|null $params\n     * @return array|bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",199],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","_getAllowedContainers",207],"(",["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Framework",207],["T_NS_SEPARATOR","\\",207],["T_STRING","DataObject",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$params",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","null",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$containersAll",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getContainerTypesAll",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_EMPTY","empty",210],"(",["T_VARIABLE","$containersAll",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],"[","]",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_EMPTY","empty",213],"(",["T_VARIABLE","$params",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$containersAll",214],";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$containersFilter",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getContainerTypesFilter",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$containersFiltered",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],"[","]",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$method",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$params",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getMethod",218],"(",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$countryShipper",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$params",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getCountryShipper",219],"(",")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$countryRecipient",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$params",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getCountryRecipient",220],"(",")",";",["T_WHITESPACE","\n\n        ",220],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_EMPTY","empty",222],"(",["T_VARIABLE","$containersFilter",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$containersAll",223],";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","!",["T_VARIABLE","$params",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_OR","||",225],["T_WHITESPACE"," ",225],"!",["T_VARIABLE","$method",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_OR","||",225],["T_WHITESPACE"," ",225],"!",["T_VARIABLE","$countryShipper",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_OR","||",225],["T_WHITESPACE"," ",225],"!",["T_VARIABLE","$countryRecipient",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$containersAll",226],";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$countryShipper",229],["T_WHITESPACE"," ",229],["T_IS_EQUAL","==",229],["T_WHITESPACE"," ",229],["T_STRING","self",229],["T_DOUBLE_COLON","::",229],["T_STRING","USA_COUNTRY_ID",229],["T_WHITESPACE"," ",229],["T_BOOLEAN_AND","&&",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$countryRecipient",229],["T_WHITESPACE"," ",229],["T_IS_EQUAL","==",229],["T_WHITESPACE"," ",229],["T_STRING","self",229],["T_DOUBLE_COLON","::",229],["T_STRING","USA_COUNTRY_ID",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$direction",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'within_us'",230],";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE"," ",231],["T_ELSE","else",231],["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$countryShipper",232],["T_WHITESPACE"," ",232],["T_IS_EQUAL","==",232],["T_WHITESPACE"," ",232],["T_STRING","self",232],["T_DOUBLE_COLON","::",232],["T_STRING","USA_COUNTRY_ID",232],["T_WHITESPACE"," ",232],["T_BOOLEAN_AND","&&",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$countryRecipient",232],["T_WHITESPACE"," ",232],["T_IS_NOT_EQUAL","!=",232],["T_WHITESPACE"," ",232],["T_STRING","self",232],["T_DOUBLE_COLON","::",232],["T_STRING","USA_COUNTRY_ID",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$direction",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'from_us'",233],";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE"," ",234],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$containersAll",235],";",["T_WHITESPACE","\n            ",235],"}",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n\n        ",237],["T_FOREACH","foreach",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$containersFilter",239],["T_WHITESPACE"," ",239],["T_AS","as",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$dataItem",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$containers",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$dataItem",240],"[",["T_CONSTANT_ENCAPSED_STRING","'containers'",240],"]",";",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$filters",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$dataItem",241],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",241],"]",";",["T_WHITESPACE","\n            ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(","!",["T_EMPTY","empty",242],"(",["T_VARIABLE","$filters",242],"[",["T_VARIABLE","$direction",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'method'",242],"]",")",["T_WHITESPACE"," ",242],["T_BOOLEAN_AND","&&",242],["T_WHITESPACE"," ",242],["T_STRING","in_array",242],"(",["T_VARIABLE","$method",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$filters",242],"[",["T_VARIABLE","$direction",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'method'",242],"]",")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                ",242],["T_FOREACH","foreach",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$containers",243],["T_WHITESPACE"," ",243],["T_AS","as",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$container",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                    ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(","!",["T_EMPTY","empty",244],"(",["T_VARIABLE","$containersAll",244],"[",["T_VARIABLE","$container",244],"]",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                        ",244],["T_VARIABLE","$containersFiltered",245],"[",["T_VARIABLE","$container",245],"]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$containersAll",245],"[",["T_VARIABLE","$container",245],"]",";",["T_WHITESPACE","\n                    ",245],"}",["T_WHITESPACE","\n                ",246],"}",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_RETURN","return",251],["T_WHITESPACE"," ",251],"!",["T_EMPTY","empty",251],"(",["T_VARIABLE","$containersFiltered",251],")",["T_WHITESPACE"," ",251],"?",["T_WHITESPACE"," ",251],["T_VARIABLE","$containersFiltered",251],["T_WHITESPACE"," ",251],":",["T_WHITESPACE"," ",251],["T_VARIABLE","$containersAll",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Get Container Types, that could be customized\n     *\n     * @return string[]\n     *\/",254],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getCustomizableContainerTypes",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_customizableContainerTypes",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Return delivery confirmation types of carrier\n     *\n     * @param \\Magento\\Framework\\DataObject|null $params\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",264],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","getDeliveryConfirmationTypes",271],"(",["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","DataObject",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$params",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","null",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],"[","]",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return $this|bool|false|\\Magento\\Framework\\Model\\AbstractModel\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",276],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","checkAvailableShipCountries",281],"(",["T_NS_SEPARATOR","\\",281],["T_STRING","Magento",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Framework",281],["T_NS_SEPARATOR","\\",281],["T_STRING","DataObject",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$request",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$speCountriesAllow",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getConfigData",283],"(",["T_CONSTANT_ENCAPSED_STRING","'sallowspecific'",283],")",";",["T_WHITESPACE","\n        ",283],["T_COMMENT","\/*\n         * for specific countries, the flag will be 1\n         *\/",284],["T_WHITESPACE","\n        ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$speCountriesAllow",287],["T_WHITESPACE"," ",287],["T_BOOLEAN_AND","&&",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$speCountriesAllow",287],["T_WHITESPACE"," ",287],["T_IS_EQUAL","==",287],["T_WHITESPACE"," ",287],["T_LNUMBER","1",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$showMethod",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getConfigData",288],"(",["T_CONSTANT_ENCAPSED_STRING","'showmethod'",288],")",";",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$availableCountries",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"[","]",";",["T_WHITESPACE","\n            ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getConfigData",290],"(",["T_CONSTANT_ENCAPSED_STRING","'specificcountry'",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$availableCountries",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","explode",291],"(",["T_CONSTANT_ENCAPSED_STRING","','",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getConfigData",291],"(",["T_CONSTANT_ENCAPSED_STRING","'specificcountry'",291],")",")",";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE","\n            ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$availableCountries",293],["T_WHITESPACE"," ",293],["T_BOOLEAN_AND","&&",293],["T_WHITESPACE"," ",293],["T_STRING","in_array",293],"(",["T_VARIABLE","$request",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getDestCountryId",293],"(",")",",",["T_WHITESPACE"," ",293],["T_VARIABLE","$availableCountries",293],")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE"," ",295],["T_ELSEIF","elseif",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$showMethod",295],["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],"(","!",["T_VARIABLE","$availableCountries",295],["T_WHITESPACE"," ",295],["T_BOOLEAN_OR","||",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$availableCountries",295],["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],"!",["T_STRING","in_array",295],"(",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$request",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getDestCountryId",296],"(",")",",",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$availableCountries",297],["T_WHITESPACE","\n            ",297],")",")",["T_WHITESPACE","\n            ",298],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_DOC_COMMENT","\/** @var Error $error *\/",300],["T_WHITESPACE","\n                ",300],["T_VARIABLE","$error",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_rateErrorFactory",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","create",301],"(",")",";",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$error",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","setCarrier",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_code",302],")",";",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$error",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","setCarrierTitle",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getConfigData",303],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",303],")",")",";",["T_WHITESPACE","\n                ",303],["T_VARIABLE","$errorMsg",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getConfigData",304],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",304],")",";",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$error",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","setErrorMessage",305],"(",["T_WHITESPACE","\n                    ",305],["T_VARIABLE","$errorMsg",306],["T_WHITESPACE"," ",306],"?",["T_WHITESPACE"," ",306],["T_VARIABLE","$errorMsg",306],["T_WHITESPACE"," ",306],":",["T_WHITESPACE"," ",306],["T_STRING","__",306],"(",["T_WHITESPACE","\n                        ",306],["T_CONSTANT_ENCAPSED_STRING","'Sorry, but we can\\'t deliver to the destination country with this shipping module.'",307],["T_WHITESPACE","\n                    ",307],")",["T_WHITESPACE","\n                ",308],")",";",["T_WHITESPACE","\n\n                ",309],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$error",311],";",["T_WHITESPACE","\n            ",311],"}",["T_WHITESPACE"," ",312],["T_ELSE","else",312],["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                ",312],["T_COMMENT","\/*\n                 * The admin set not to show the shipping module if the delivery country is not within specific countries\n                 *\/",313],["T_WHITESPACE","\n                ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_STRING","false",316],";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n\n        ",318],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Processing additional validation to check is carrier applicable.\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return $this|bool|\\Magento\\Framework\\DataObject\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",323],["T_WHITESPACE","\n    ",329],["T_PUBLIC","public",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","proccessAdditionalValidation",330],"(",["T_NS_SEPARATOR","\\",330],["T_STRING","Magento",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Framework",330],["T_NS_SEPARATOR","\\",330],["T_STRING","DataObject",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$request",330],")",["T_WHITESPACE","\n    ",330],"{",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Determine whether current carrier enabled for activity\n     *\n     * @return bool\n     *\/",335],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","isActive",340],"(",")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$active",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getConfigData",342],"(",["T_CONSTANT_ENCAPSED_STRING","'active'",342],")",";",["T_WHITESPACE","\n\n        ",342],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$active",344],["T_WHITESPACE"," ",344],["T_IS_EQUAL","==",344],["T_WHITESPACE"," ",344],["T_LNUMBER","1",344],["T_WHITESPACE"," ",344],["T_BOOLEAN_OR","||",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$active",344],["T_WHITESPACE"," ",344],["T_IS_EQUAL","==",344],["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'true'",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Whether this carrier has fixed rates calculation\n     *\n     * @return bool\n     *\/",347],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","isFixed",352],"(",")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_isFixed",354],";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Check if carrier has shipping tracking option available\n     *\n     * @return bool\n     *\/",357],["T_WHITESPACE","\n    ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","isTrackingAvailable",362],"(",")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_STRING","false",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Check if carrier has shipping label option available\n     *\n     * @return bool\n     *\/",367],["T_WHITESPACE","\n    ",371],["T_PUBLIC","public",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","isShippingLabelsAvailable",372],"(",")",["T_WHITESPACE","\n    ",372],"{",["T_WHITESPACE","\n        ",373],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_STRING","false",374],";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_DOC_COMMENT","\/**\n     *  Retrieve sort order of current carrier\n     *\n     * @return string|null\n     *\/",377],["T_WHITESPACE","\n    ",381],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","getSortOrder",382],"(",")",["T_WHITESPACE","\n    ",382],"{",["T_WHITESPACE","\n        ",383],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getConfigData",384],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",384],")",";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateRequest $request\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",387],["T_WHITESPACE","\n    ",392],["T_PROTECTED","protected",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","_updateFreeMethodQuote",393],"(",["T_VARIABLE","$request",393],")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$request",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getFreeMethodWeight",395],"(",")",["T_WHITESPACE"," ",395],["T_IS_EQUAL","==",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$request",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getPackageWeight",395],"(",")",["T_WHITESPACE"," ",395],["T_BOOLEAN_OR","||",395],["T_WHITESPACE"," ",395],"!",["T_VARIABLE","$request",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","hasFreeMethodWeight",395],"(",")",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_RETURN","return",396],";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n        ",397],["T_VARIABLE","$freeMethod",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getConfigData",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_freeMethod",399],")",";",["T_WHITESPACE","\n        ",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(","!",["T_VARIABLE","$freeMethod",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_RETURN","return",401],";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$freeRateId",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_STRING","false",403],";",["T_WHITESPACE","\n\n        ",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_STRING","is_object",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_result",405],")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_FOREACH","foreach",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_result",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getAllRates",406],"(",")",["T_WHITESPACE"," ",406],["T_AS","as",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$i",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$item",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n                ",406],["T_IF","if",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$item",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getMethod",407],"(",")",["T_WHITESPACE"," ",407],["T_IS_EQUAL","==",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$freeMethod",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n                    ",407],["T_VARIABLE","$freeRateId",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$i",408],";",["T_WHITESPACE","\n                    ",408],["T_BREAK","break",409],";",["T_WHITESPACE","\n                ",409],"}",["T_WHITESPACE","\n            ",410],"}",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n\n        ",412],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$freeRateId",414],["T_WHITESPACE"," ",414],["T_IS_IDENTICAL","===",414],["T_WHITESPACE"," ",414],["T_STRING","false",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_RETURN","return",415],";",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$price",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","null",417],";",["T_WHITESPACE","\n        ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$request",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getFreeMethodWeight",418],"(",")",["T_WHITESPACE"," ",418],">",["T_WHITESPACE"," ",418],["T_LNUMBER","0",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_setFreeMethodRequest",419],"(",["T_VARIABLE","$freeMethod",419],")",";",["T_WHITESPACE","\n\n            ",419],["T_VARIABLE","$result",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_getQuotes",421],"(",")",";",["T_WHITESPACE","\n            ",421],["T_IF","if",422],["T_WHITESPACE"," ",422],"(",["T_VARIABLE","$result",422],["T_WHITESPACE"," ",422],["T_BOOLEAN_AND","&&",422],["T_WHITESPACE"," ",422],"(",["T_VARIABLE","$rates",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$result",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getAllRates",422],"(",")",")",["T_WHITESPACE"," ",422],["T_BOOLEAN_AND","&&",422],["T_WHITESPACE"," ",422],["T_STRING","count",422],"(",["T_VARIABLE","$rates",422],")",["T_WHITESPACE"," ",422],">",["T_WHITESPACE"," ",422],["T_LNUMBER","0",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n                ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_STRING","count",423],"(",["T_VARIABLE","$rates",423],")",["T_WHITESPACE"," ",423],["T_IS_EQUAL","==",423],["T_WHITESPACE"," ",423],["T_LNUMBER","1",423],["T_WHITESPACE"," ",423],["T_BOOLEAN_AND","&&",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$rates",423],"[",["T_LNUMBER","0",423],"]",["T_WHITESPACE"," ",423],["T_INSTANCEOF","instanceof",423],["T_WHITESPACE"," ",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Magento",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Quote",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Model",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Quote",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Address",423],["T_NS_SEPARATOR","\\",423],["T_STRING","RateResult",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Method",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n                    ",423],["T_VARIABLE","$price",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$rates",424],"[",["T_LNUMBER","0",424],"]",["T_OBJECT_OPERATOR","->",424],["T_STRING","getPrice",424],"(",")",";",["T_WHITESPACE","\n                ",424],"}",["T_WHITESPACE","\n                ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_STRING","count",426],"(",["T_VARIABLE","$rates",426],")",["T_WHITESPACE"," ",426],">",["T_WHITESPACE"," ",426],["T_LNUMBER","1",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                    ",426],["T_FOREACH","foreach",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$rates",427],["T_WHITESPACE"," ",427],["T_AS","as",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$rate",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n                        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$rate",428],["T_WHITESPACE"," ",428],["T_INSTANCEOF","instanceof",428],["T_WHITESPACE"," ",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Magento",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Quote",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Model",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Quote",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Address",428],["T_NS_SEPARATOR","\\",428],["T_STRING","RateResult",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Method",428],["T_WHITESPACE"," ",428],["T_BOOLEAN_AND","&&",428],["T_WHITESPACE","\n                            ",428],["T_VARIABLE","$rate",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getMethod",429],"(",")",["T_WHITESPACE"," ",429],["T_IS_EQUAL","==",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$freeMethod",429],["T_WHITESPACE","\n                        ",429],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                            ",430],["T_VARIABLE","$price",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$rate",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getPrice",431],"(",")",";",["T_WHITESPACE","\n                        ",431],"}",["T_WHITESPACE","\n                    ",432],"}",["T_WHITESPACE","\n                ",433],"}",["T_WHITESPACE","\n            ",434],"}",["T_WHITESPACE","\n        ",435],"}",["T_WHITESPACE"," ",436],["T_ELSE","else",436],["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_DOC_COMMENT","\/**\n             * if we can apply free shipping for all order we should force price\n             * to $0.00 for shipping with out sending second request to carrier\n             *\/",437],["T_WHITESPACE","\n            ",440],["T_VARIABLE","$price",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_LNUMBER","0",441],";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_DOC_COMMENT","\/**\n         * if we did not get our free shipping method in response we must use its old price\n         *\/",444],["T_WHITESPACE","\n        ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(","!",["T_STRING","is_null",447],"(",["T_VARIABLE","$price",447],")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_result",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getRateById",448],"(",["T_VARIABLE","$freeRateId",448],")",["T_OBJECT_OPERATOR","->",448],["T_STRING","setPrice",448],"(",["T_VARIABLE","$price",448],")",";",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_DOC_COMMENT","\/**\n     * Get the handling fee for the shipping + cost\n     *\n     * @param float $cost\n     * @return float final price for shipping method\n     *\/",452],["T_WHITESPACE","\n    ",457],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","getFinalPriceWithHandlingFee",458],"(",["T_VARIABLE","$cost",458],")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$handlingFee",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getConfigData",460],"(",["T_CONSTANT_ENCAPSED_STRING","'handling_fee'",460],")",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$handlingType",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","getConfigData",461],"(",["T_CONSTANT_ENCAPSED_STRING","'handling_type'",461],")",";",["T_WHITESPACE","\n        ",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(","!",["T_VARIABLE","$handlingType",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$handlingType",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","self",463],["T_DOUBLE_COLON","::",463],["T_STRING","HANDLING_TYPE_FIXED",463],";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$handlingAction",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getConfigData",465],"(",["T_CONSTANT_ENCAPSED_STRING","'handling_action'",465],")",";",["T_WHITESPACE","\n        ",465],["T_IF","if",466],["T_WHITESPACE"," ",466],"(","!",["T_VARIABLE","$handlingAction",466],")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$handlingAction",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","self",467],["T_DOUBLE_COLON","::",467],["T_STRING","HANDLING_ACTION_PERORDER",467],";",["T_WHITESPACE","\n        ",467],"}",["T_WHITESPACE","\n\n        ",468],["T_RETURN","return",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$handlingAction",470],["T_WHITESPACE"," ",470],["T_IS_EQUAL","==",470],["T_WHITESPACE"," ",470],["T_STRING","self",470],["T_DOUBLE_COLON","::",470],["T_STRING","HANDLING_ACTION_PERPACKAGE",470],["T_WHITESPACE"," ",470],"?",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_getPerpackagePrice",470],"(",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$cost",471],",",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$handlingType",472],",",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$handlingFee",473],["T_WHITESPACE","\n        ",473],")",["T_WHITESPACE"," ",474],":",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_getPerorderPrice",474],"(",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$cost",475],",",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$handlingType",476],",",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$handlingFee",477],["T_WHITESPACE","\n        ",477],")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Get final price for shipping method with handling fee per package\n     *\n     * @param float $cost\n     * @param string $handlingType\n     * @param float $handlingFee\n     * @return float\n     *\/",481],["T_WHITESPACE","\n    ",488],["T_PROTECTED","protected",489],["T_WHITESPACE"," ",489],["T_FUNCTION","function",489],["T_WHITESPACE"," ",489],["T_STRING","_getPerpackagePrice",489],"(",["T_VARIABLE","$cost",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$handlingType",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$handlingFee",489],")",["T_WHITESPACE","\n    ",489],"{",["T_WHITESPACE","\n        ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$handlingType",491],["T_WHITESPACE"," ",491],["T_IS_EQUAL","==",491],["T_WHITESPACE"," ",491],["T_STRING","self",491],["T_DOUBLE_COLON","::",491],["T_STRING","HANDLING_TYPE_PERCENT",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n            ",491],["T_RETURN","return",492],["T_WHITESPACE"," ",492],"(",["T_VARIABLE","$cost",492],["T_WHITESPACE"," ",492],"+",["T_WHITESPACE"," ",492],["T_VARIABLE","$cost",492],["T_WHITESPACE"," ",492],"*",["T_WHITESPACE"," ",492],["T_VARIABLE","$handlingFee",492],["T_WHITESPACE"," ",492],"\/",["T_WHITESPACE"," ",492],["T_LNUMBER","100",492],")",["T_WHITESPACE"," ",492],"*",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_numBoxes",492],";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n\n        ",493],["T_RETURN","return",495],["T_WHITESPACE"," ",495],"(",["T_VARIABLE","$cost",495],["T_WHITESPACE"," ",495],"+",["T_WHITESPACE"," ",495],["T_VARIABLE","$handlingFee",495],")",["T_WHITESPACE"," ",495],"*",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_numBoxes",495],";",["T_WHITESPACE","\n    ",495],"}",["T_WHITESPACE","\n\n    ",496],["T_DOC_COMMENT","\/**\n     * Get final price for shipping method with handling fee per order\n     *\n     * @param float $cost\n     * @param string $handlingType\n     * @param float $handlingFee\n     * @return float\n     *\/",498],["T_WHITESPACE","\n    ",505],["T_PROTECTED","protected",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","_getPerorderPrice",506],"(",["T_VARIABLE","$cost",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$handlingType",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$handlingFee",506],")",["T_WHITESPACE","\n    ",506],"{",["T_WHITESPACE","\n        ",507],["T_IF","if",508],["T_WHITESPACE"," ",508],"(",["T_VARIABLE","$handlingType",508],["T_WHITESPACE"," ",508],["T_IS_EQUAL","==",508],["T_WHITESPACE"," ",508],["T_STRING","self",508],["T_DOUBLE_COLON","::",508],["T_STRING","HANDLING_TYPE_PERCENT",508],")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n            ",508],["T_RETURN","return",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$cost",509],["T_WHITESPACE"," ",509],"*",["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_numBoxes",509],["T_WHITESPACE"," ",509],"+",["T_WHITESPACE"," ",509],["T_VARIABLE","$cost",509],["T_WHITESPACE"," ",509],"*",["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_numBoxes",509],["T_WHITESPACE"," ",509],"*",["T_WHITESPACE"," ",509],["T_VARIABLE","$handlingFee",509],["T_WHITESPACE"," ",509],"\/",["T_WHITESPACE"," ",509],["T_LNUMBER","100",509],";",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE","\n\n        ",510],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$cost",512],["T_WHITESPACE"," ",512],"*",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","_numBoxes",512],["T_WHITESPACE"," ",512],"+",["T_WHITESPACE"," ",512],["T_VARIABLE","$handlingFee",512],";",["T_WHITESPACE","\n    ",512],"}",["T_WHITESPACE","\n\n    ",513],["T_DOC_COMMENT","\/**\n     * Sets the number of boxes for shipping\n     *\n     * @param int $weight in some measure\n     * @return int\n     *\/",515],["T_WHITESPACE","\n    ",520],["T_PUBLIC","public",521],["T_WHITESPACE"," ",521],["T_FUNCTION","function",521],["T_WHITESPACE"," ",521],["T_STRING","getTotalNumOfBoxes",521],"(",["T_VARIABLE","$weight",521],")",["T_WHITESPACE","\n    ",521],"{",["T_WHITESPACE","\n        ",522],["T_COMMENT","\/*\n        reset num box first before retrieve again\n        *\/",523],["T_WHITESPACE","\n        ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","_numBoxes",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_LNUMBER","1",526],";",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$maxPackageWeight",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getConfigData",527],"(",["T_CONSTANT_ENCAPSED_STRING","'max_package_weight'",527],")",";",["T_WHITESPACE","\n        ",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(",["T_VARIABLE","$weight",528],["T_WHITESPACE"," ",528],">",["T_WHITESPACE"," ",528],["T_VARIABLE","$maxPackageWeight",528],["T_WHITESPACE"," ",528],["T_BOOLEAN_AND","&&",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$maxPackageWeight",528],["T_WHITESPACE"," ",528],["T_IS_NOT_EQUAL","!=",528],["T_WHITESPACE"," ",528],["T_LNUMBER","0",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n            ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_numBoxes",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_STRING","ceil",529],"(",["T_VARIABLE","$weight",529],["T_WHITESPACE"," ",529],"\/",["T_WHITESPACE"," ",529],["T_VARIABLE","$maxPackageWeight",529],")",";",["T_WHITESPACE","\n            ",529],["T_VARIABLE","$weight",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$weight",530],["T_WHITESPACE"," ",530],"\/",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_numBoxes",530],";",["T_WHITESPACE","\n        ",530],"}",["T_WHITESPACE","\n\n        ",531],["T_RETURN","return",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$weight",533],";",["T_WHITESPACE","\n    ",533],"}",["T_WHITESPACE","\n\n    ",534],["T_DOC_COMMENT","\/**\n     * Is state province required\n     *\n     * @return bool\n     *\/",536],["T_WHITESPACE","\n    ",540],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","isStateProvinceRequired",541],"(",")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n        ",542],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_STRING","false",543],";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_DOC_COMMENT","\/**\n     * Check if city option required\n     *\n     * @return bool\n     *\/",546],["T_WHITESPACE","\n    ",550],["T_PUBLIC","public",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","isCityRequired",551],"(",")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_STRING","false",553],";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n\n    ",554],["T_DOC_COMMENT","\/**\n     * Determine whether zip-code is required for the country of destination\n     *\n     * @param string|null $countryId\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",556],["T_WHITESPACE","\n    ",562],["T_PUBLIC","public",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","isZipCodeRequired",563],"(",["T_VARIABLE","$countryId",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_STRING","null",563],")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_STRING","false",565],";",["T_WHITESPACE","\n    ",565],"}",["T_WHITESPACE","\n\n    ",566],["T_DOC_COMMENT","\/**\n     * Log debug data to file\n     *\n     * @param mixed $debugData\n     * @return void\n     *\/",568],["T_WHITESPACE","\n    ",573],["T_PROTECTED","protected",574],["T_WHITESPACE"," ",574],["T_FUNCTION","function",574],["T_WHITESPACE"," ",574],["T_STRING","_debug",574],"(",["T_VARIABLE","$debugData",574],")",["T_WHITESPACE","\n    ",574],"{",["T_WHITESPACE","\n        ",575],["T_IF","if",576],["T_WHITESPACE"," ",576],"(",["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getDebugFlag",576],"(",")",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n            ",576],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","_logger",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","debug",577],"(",["T_STRING","var_export",577],"(",["T_VARIABLE","$debugData",577],",",["T_WHITESPACE"," ",577],["T_STRING","true",577],")",")",";",["T_WHITESPACE","\n        ",577],"}",["T_WHITESPACE","\n    ",578],"}",["T_WHITESPACE","\n\n    ",579],["T_DOC_COMMENT","\/**\n     * Define if debugging is enabled\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     * @api\n     *\/",581],["T_WHITESPACE","\n    ",587],["T_PUBLIC","public",588],["T_WHITESPACE"," ",588],["T_FUNCTION","function",588],["T_WHITESPACE"," ",588],["T_STRING","getDebugFlag",588],"(",")",["T_WHITESPACE","\n    ",588],"{",["T_WHITESPACE","\n        ",589],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","getConfigData",590],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",590],")",";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * Used to call debug method from not Payment Method context\n     *\n     * @param mixed $debugData\n     * @return void\n     *\/",593],["T_WHITESPACE","\n    ",598],["T_PUBLIC","public",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","debugData",599],"(",["T_VARIABLE","$debugData",599],")",["T_WHITESPACE","\n    ",599],"{",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","_debug",601],"(",["T_VARIABLE","$debugData",601],")",";",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n\n    ",602],["T_DOC_COMMENT","\/**\n     * Getter for carrier code\n     *\n     * @return string\n     *\/",604],["T_WHITESPACE","\n    ",608],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","getCarrierCode",609],"(",")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","_code",611],";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n\n    ",612],["T_DOC_COMMENT","\/**\n     * Return content types of package\n     *\n     * @param \\Magento\\Framework\\DataObject $params\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",614],["T_WHITESPACE","\n    ",620],["T_PUBLIC","public",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","getContentTypes",621],"(",["T_NS_SEPARATOR","\\",621],["T_STRING","Magento",621],["T_NS_SEPARATOR","\\",621],["T_STRING","Framework",621],["T_NS_SEPARATOR","\\",621],["T_STRING","DataObject",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$params",621],")",["T_WHITESPACE","\n    ",621],"{",["T_WHITESPACE","\n        ",622],["T_RETURN","return",623],["T_WHITESPACE"," ",623],"[","]",";",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n    ",624],["T_DOC_COMMENT","\/**\n     * Recursive replace sensitive fields of XML document.\n     *\n     * For example if xml document has the following structure:\n     * ```xml\n     * <Request>\n     *     <LicenseNumber>E437FJFD<\/LicenseNumber>\n     *     <UserId>testUser1<\/UserId>\n     *     <Password>userPassword<\/Password>\n     * <\/Request>\n     * ```\n     * and sensitive fields are specified as `['UserId', 'Password']`, then sensitive fields\n     * will be replaced by the mask(by default it is '****')\n     *\n     * @param string $data\n     * @return string\n     *\/",626],["T_WHITESPACE","\n    ",642],["T_PROTECTED","protected",643],["T_WHITESPACE"," ",643],["T_FUNCTION","function",643],["T_WHITESPACE"," ",643],["T_STRING","filterDebugData",643],"(",["T_VARIABLE","$data",643],")",["T_WHITESPACE","\n    ",643],"{",["T_WHITESPACE","\n        ",644],["T_TRY","try",645],["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n            ",645],["T_VARIABLE","$xml",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_NEW","new",646],["T_WHITESPACE"," ",646],["T_NS_SEPARATOR","\\",646],["T_STRING","SimpleXMLElement",646],"(",["T_VARIABLE","$data",646],")",";",["T_WHITESPACE","\n            ",646],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","filterXmlData",647],"(",["T_VARIABLE","$xml",647],")",";",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$data",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$xml",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","asXML",648],"(",")",";",["T_WHITESPACE","\n        ",648],"}",["T_WHITESPACE"," ",649],["T_CATCH","catch",649],["T_WHITESPACE"," ",649],"(",["T_NS_SEPARATOR","\\",649],["T_STRING","Exception",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$e",649],")",["T_WHITESPACE"," ",649],"{","}",["T_WHITESPACE","\n        ",649],["T_RETURN","return",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$data",650],";",["T_WHITESPACE","\n    ",650],"}",["T_WHITESPACE","\n\n    ",651],["T_DOC_COMMENT","\/**\n     * Recursive replace sensitive xml nodes values by specified mask\n     * @param \\SimpleXMLElement $xml\n     * @return void\n     *\/",653],["T_WHITESPACE","\n    ",657],["T_PRIVATE","private",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","filterXmlData",658],"(",["T_NS_SEPARATOR","\\",658],["T_STRING","SimpleXMLElement",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$xml",658],")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_DOC_COMMENT","\/** @var \\SimpleXMLElement $child *\/",660],["T_WHITESPACE","\n        ",660],["T_FOREACH","foreach",661],["T_WHITESPACE"," ",661],"(",["T_VARIABLE","$xml",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","children",661],"(",")",["T_WHITESPACE"," ",661],["T_AS","as",661],["T_WHITESPACE"," ",661],["T_VARIABLE","$child",661],")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n            ",661],["T_IF","if",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$child",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","count",662],"(",")",")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n                ",662],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","filterXmlData",663],"(",["T_VARIABLE","$child",663],")",";",["T_WHITESPACE","\n            ",663],"}",["T_WHITESPACE"," ",664],["T_ELSE","else",664],["T_WHITESPACE"," ",664],["T_IF","if",664],["T_WHITESPACE"," ",664],"(",["T_STRING","in_array",664],"(",["T_STRING_CAST","(string)",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$child",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","getName",664],"(",")",",",["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","_debugReplacePrivateDataKeys",664],")",")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n                ",664],["T_VARIABLE","$child",665],"[",["T_LNUMBER","0",665],"]",["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_STRING","self",665],["T_DOUBLE_COLON","::",665],["T_STRING","DEBUG_KEYS_MASK",665],";",["T_WHITESPACE","\n            ",665],"}",["T_WHITESPACE","\n        ",666],"}",["T_WHITESPACE","\n    ",667],"}",["T_WHITESPACE","\n",668],"}",["T_WHITESPACE","\n",669]]