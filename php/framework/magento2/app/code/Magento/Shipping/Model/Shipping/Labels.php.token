[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Shipping",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Shipping",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DataObject",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LocalizedException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Order",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Shipment",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Order",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Address",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Shipping",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Shipment",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Store",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ScopeInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","User",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","User",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Shipping labels model\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",19],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","Labels",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Shipping",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Shipping",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Auth\\Session\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_authSession",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Shipment\\Request\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_request",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Shipping\\Model\\Config $shippingConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Shipping\\Model\\CarrierFactory $carrierFactory\n     * @param \\Magento\\Shipping\\Model\\Rate\\ResultFactory $rateResultFactory\n     * @param \\Magento\\Shipping\\Model\\Shipment\\RequestFactory $shipmentRequestFactory\n     * @param \\Magento\\Directory\\Model\\RegionFactory $regionFactory\n     * @param \\Magento\\Framework\\Math\\Division $mathDivision\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\Backend\\Model\\Auth\\Session $authSession\n     * @param \\Magento\\Shipping\\Model\\Shipment\\Request $request\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",35],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","App",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Config",50],["T_NS_SEPARATOR","\\",50],["T_STRING","ScopeConfigInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$scopeConfig",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Shipping",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Config",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$shippingConfig",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Store",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","StoreManagerInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$storeManager",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Shipping",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","CarrierFactory",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$carrierFactory",53],",",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Shipping",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Rate",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResultFactory",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$rateResultFactory",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Shipping",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Shipment",55],["T_NS_SEPARATOR","\\",55],["T_STRING","RequestFactory",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$shipmentRequestFactory",55],",",["T_WHITESPACE","\n        ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Directory",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","RegionFactory",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$regionFactory",56],",",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Math",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Division",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$mathDivision",57],",",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","CatalogInventory",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Api",58],["T_NS_SEPARATOR","\\",58],["T_STRING","StockRegistryInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$stockRegistry",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Backend",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Auth",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Session",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$authSession",59],",",["T_WHITESPACE","\n        ",59],["T_STRING","Request",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$request",60],["T_WHITESPACE","\n    ",60],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_authSession",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$authSession",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_request",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$request",63],";",["T_WHITESPACE","\n        ",63],["T_STRING","parent",64],["T_DOUBLE_COLON","::",64],["T_STRING","__construct",64],"(",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$scopeConfig",65],",",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$shippingConfig",66],",",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$storeManager",67],",",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$carrierFactory",68],",",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$rateResultFactory",69],",",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$shipmentRequestFactory",70],",",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$regionFactory",71],",",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$mathDivision",72],",",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$stockRegistry",73],["T_WHITESPACE","\n        ",73],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Prepare and do request to shipment\n     *\n     * @param Shipment $orderShipment\n     * @return \\Magento\\Framework\\DataObject\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",77],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","requestToShipment",86],"(",["T_STRING","Shipment",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$orderShipment",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$admin",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_authSession",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getUser",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$order",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$orderShipment",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getOrder",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$shippingMethod",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$order",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getShippingMethod",91],"(",["T_STRING","true",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$shipmentStoreId",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$orderShipment",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getStoreId",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$shipmentCarrier",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_carrierFactory",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","create",93],"(",["T_VARIABLE","$order",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getShippingMethod",93],"(",["T_STRING","true",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getCarrierCode",93],"(",")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$baseCurrencyCode",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_storeManager",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getStore",94],"(",["T_VARIABLE","$shipmentStoreId",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getBaseCurrencyCode",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_VARIABLE","$shipmentCarrier",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_THROW","throw",96],["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","LocalizedException",96],"(",["T_STRING","__",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid carrier: %1'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$shippingMethod",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCarrierCode",96],"(",")",")",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$shipperRegionCode",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_scopeConfig",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getValue",98],"(",["T_WHITESPACE","\n            ",98],["T_STRING","Shipment",99],["T_DOUBLE_COLON","::",99],["T_STRING","XML_PATH_STORE_REGION_ID",99],",",["T_WHITESPACE","\n            ",99],["T_STRING","ScopeInterface",100],["T_DOUBLE_COLON","::",100],["T_STRING","SCOPE_STORE",100],",",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$shipmentStoreId",101],["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_STRING","is_numeric",103],"(",["T_VARIABLE","$shipperRegionCode",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$shipperRegionCode",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_regionFactory",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","create",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","load",104],"(",["T_VARIABLE","$shipperRegionCode",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getCode",104],"(",")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$originStreet1",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_scopeConfig",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getValue",107],"(",["T_WHITESPACE","\n            ",107],["T_STRING","Shipment",108],["T_DOUBLE_COLON","::",108],["T_STRING","XML_PATH_STORE_ADDRESS1",108],",",["T_WHITESPACE","\n            ",108],["T_STRING","ScopeInterface",109],["T_DOUBLE_COLON","::",109],["T_STRING","SCOPE_STORE",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$shipmentStoreId",110],["T_WHITESPACE","\n        ",110],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$storeInfo",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","DataObject",112],"(",["T_WHITESPACE","\n            ",112],["T_ARRAY_CAST","(array)",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_scopeConfig",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getValue",113],"(",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","'general\/store_information'",114],",",["T_WHITESPACE","\n                ",114],["T_STRING","ScopeInterface",115],["T_DOUBLE_COLON","::",115],["T_STRING","SCOPE_STORE",115],",",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$shipmentStoreId",116],["T_WHITESPACE","\n            ",116],")",["T_WHITESPACE","\n        ",117],")",";",["T_WHITESPACE","\n\n        ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$admin",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getFirstname",120],"(",")",["T_WHITESPACE","\n            ",120],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],"!",["T_VARIABLE","$admin",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getLastname",121],"(",")",["T_WHITESPACE","\n            ",121],["T_BOOLEAN_OR","||",122],["T_WHITESPACE"," ",122],"!",["T_VARIABLE","$storeInfo",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getName",122],"(",")",["T_WHITESPACE","\n            ",122],["T_BOOLEAN_OR","||",123],["T_WHITESPACE"," ",123],"!",["T_VARIABLE","$storeInfo",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getPhone",123],"(",")",["T_WHITESPACE","\n            ",123],["T_BOOLEAN_OR","||",124],["T_WHITESPACE"," ",124],"!",["T_VARIABLE","$originStreet1",124],["T_WHITESPACE","\n            ",124],["T_BOOLEAN_OR","||",125],["T_WHITESPACE"," ",125],"!",["T_VARIABLE","$shipperRegionCode",125],["T_WHITESPACE","\n            ",125],["T_BOOLEAN_OR","||",126],["T_WHITESPACE"," ",126],"!",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_scopeConfig",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getValue",126],"(",["T_WHITESPACE","\n                ",126],["T_STRING","Shipment",127],["T_DOUBLE_COLON","::",127],["T_STRING","XML_PATH_STORE_CITY",127],",",["T_WHITESPACE","\n                ",127],["T_STRING","ScopeInterface",128],["T_DOUBLE_COLON","::",128],["T_STRING","SCOPE_STORE",128],",",["T_WHITESPACE","\n                ",128],["T_VARIABLE","$shipmentStoreId",129],["T_WHITESPACE","\n            ",129],")",["T_WHITESPACE","\n            ",130],["T_BOOLEAN_OR","||",131],["T_WHITESPACE"," ",131],"!",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_scopeConfig",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getValue",131],"(",["T_WHITESPACE","\n                ",131],["T_STRING","Shipment",132],["T_DOUBLE_COLON","::",132],["T_STRING","XML_PATH_STORE_ZIP",132],",",["T_WHITESPACE","\n                ",132],["T_STRING","ScopeInterface",133],["T_DOUBLE_COLON","::",133],["T_STRING","SCOPE_STORE",133],",",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$shipmentStoreId",134],["T_WHITESPACE","\n            ",134],")",["T_WHITESPACE","\n            ",135],["T_BOOLEAN_OR","||",136],["T_WHITESPACE"," ",136],"!",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_scopeConfig",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getValue",136],"(",["T_WHITESPACE","\n                ",136],["T_STRING","Shipment",137],["T_DOUBLE_COLON","::",137],["T_STRING","XML_PATH_STORE_COUNTRY_ID",137],",",["T_WHITESPACE","\n                ",137],["T_STRING","ScopeInterface",138],["T_DOUBLE_COLON","::",138],["T_STRING","SCOPE_STORE",138],",",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$shipmentStoreId",139],["T_WHITESPACE","\n            ",139],")",["T_WHITESPACE","\n        ",140],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_THROW","throw",142],["T_WHITESPACE"," ",142],["T_NEW","new",142],["T_WHITESPACE"," ",142],["T_STRING","LocalizedException",142],"(",["T_WHITESPACE","\n                ",142],["T_STRING","__",143],"(",["T_WHITESPACE","\n                    ",143],["T_CONSTANT_ENCAPSED_STRING","'We don\\'t have enough information to create shipping labels. Please make sure your store information and settings are complete.'",144],["T_WHITESPACE","\n                ",144],")",["T_WHITESPACE","\n            ",145],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_DOC_COMMENT","\/** @var $request \\Magento\\Shipping\\Model\\Shipment\\Request *\/",149],["T_WHITESPACE","\n        ",149],["T_VARIABLE","$request",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_shipmentRequestFactory",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","create",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$request",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setOrderShipment",151],"(",["T_VARIABLE","$orderShipment",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$address",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$order",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getShippingAddress",152],"(",")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","setShipperDetails",154],"(",["T_VARIABLE","$request",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$admin",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$storeInfo",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$shipmentStoreId",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$shipperRegionCode",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$originStreet1",154],")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setRecipientDetails",155],"(",["T_VARIABLE","$request",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$address",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$request",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setShippingMethod",157],"(",["T_VARIABLE","$shippingMethod",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getMethod",157],"(",")",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$request",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","setPackageWeight",158],"(",["T_VARIABLE","$order",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getWeight",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$request",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setPackages",159],"(",["T_VARIABLE","$orderShipment",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getPackages",159],"(",")",")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$request",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setBaseCurrencyCode",160],"(",["T_VARIABLE","$baseCurrencyCode",160],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$request",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setStoreId",161],"(",["T_VARIABLE","$shipmentStoreId",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$shipmentCarrier",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","requestToShipment",163],"(",["T_VARIABLE","$request",163],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Set shipper details into request\n     * @param \\Magento\\Shipping\\Model\\Shipment\\Request $request\n     * @param \\Magento\\User\\Model\\User $storeAdmin\n     * @param \\Magento\\Framework\\DataObject $store\n     * @param $shipmentStoreId\n     * @param $regionCode\n     * @param $originStreet\n     * @return void\n     *\/",166],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","setShipperDetails",176],"(",["T_WHITESPACE","\n        ",176],["T_STRING","Request",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$request",177],",",["T_WHITESPACE","\n        ",177],["T_STRING","User",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$storeAdmin",178],",",["T_WHITESPACE","\n        ",178],["T_STRING","DataObject",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$store",179],",",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$shipmentStoreId",180],",",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$regionCode",181],",",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$originStreet",182],["T_WHITESPACE","\n    ",182],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$originStreet2",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_scopeConfig",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getValue",184],"(",["T_WHITESPACE","\n            ",184],["T_STRING","Shipment",185],["T_DOUBLE_COLON","::",185],["T_STRING","XML_PATH_STORE_ADDRESS2",185],",",["T_WHITESPACE","\n            ",185],["T_STRING","ScopeInterface",186],["T_DOUBLE_COLON","::",186],["T_STRING","SCOPE_STORE",186],",",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$shipmentStoreId",187],["T_WHITESPACE","\n        ",187],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$request",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setShipperContactPersonName",190],"(",["T_VARIABLE","$storeAdmin",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getName",190],"(",")",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$request",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setShipperContactPersonFirstName",191],"(",["T_VARIABLE","$storeAdmin",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getFirstname",191],"(",")",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$request",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","setShipperContactPersonLastName",192],"(",["T_VARIABLE","$storeAdmin",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getLastname",192],"(",")",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$request",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setShipperContactCompanyName",193],"(",["T_VARIABLE","$store",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getName",193],"(",")",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$request",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setShipperContactPhoneNumber",194],"(",["T_VARIABLE","$store",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getPhone",194],"(",")",")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$request",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","setShipperEmail",195],"(",["T_VARIABLE","$storeAdmin",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getEmail",195],"(",")",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$request",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setShipperAddressStreet",196],"(",["T_STRING","trim",196],"(",["T_VARIABLE","$originStreet",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","' '",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$originStreet2",196],")",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$request",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setShipperAddressStreet1",197],"(",["T_VARIABLE","$originStreet",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$request",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setShipperAddressStreet2",198],"(",["T_VARIABLE","$originStreet2",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$request",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","setShipperAddressCity",199],"(",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_scopeConfig",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getValue",200],"(",["T_WHITESPACE","\n                ",200],["T_STRING","Shipment",201],["T_DOUBLE_COLON","::",201],["T_STRING","XML_PATH_STORE_CITY",201],",",["T_WHITESPACE","\n                ",201],["T_STRING","ScopeInterface",202],["T_DOUBLE_COLON","::",202],["T_STRING","SCOPE_STORE",202],",",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$shipmentStoreId",203],["T_WHITESPACE","\n            ",203],")",["T_WHITESPACE","\n        ",204],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$request",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setShipperAddressStateOrProvinceCode",206],"(",["T_VARIABLE","$regionCode",206],")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$request",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","setShipperAddressPostalCode",207],"(",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_scopeConfig",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getValue",208],"(",["T_WHITESPACE","\n                ",208],["T_STRING","Shipment",209],["T_DOUBLE_COLON","::",209],["T_STRING","XML_PATH_STORE_ZIP",209],",",["T_WHITESPACE","\n                ",209],["T_STRING","ScopeInterface",210],["T_DOUBLE_COLON","::",210],["T_STRING","SCOPE_STORE",210],",",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$shipmentStoreId",211],["T_WHITESPACE","\n            ",211],")",["T_WHITESPACE","\n        ",212],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$request",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setShipperAddressCountryCode",214],"(",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_scopeConfig",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getValue",215],"(",["T_WHITESPACE","\n                ",215],["T_STRING","Shipment",216],["T_DOUBLE_COLON","::",216],["T_STRING","XML_PATH_STORE_COUNTRY_ID",216],",",["T_WHITESPACE","\n                ",216],["T_STRING","ScopeInterface",217],["T_DOUBLE_COLON","::",217],["T_STRING","SCOPE_STORE",217],",",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$shipmentStoreId",218],["T_WHITESPACE","\n            ",218],")",["T_WHITESPACE","\n        ",219],")",";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Set recipient details into request\n     * @param \\Magento\\Shipping\\Model\\Shipment\\Request $request\n     * @param \\Magento\\Sales\\Model\\Order\\Address $address\n     * @return void\n     *\/",223],["T_WHITESPACE","\n    ",228],["T_PROTECTED","protected",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","setRecipientDetails",229],"(",["T_STRING","Request",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$request",229],",",["T_WHITESPACE"," ",229],["T_STRING","Address",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$address",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$request",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setRecipientContactPersonName",231],"(",["T_STRING","trim",231],"(",["T_VARIABLE","$address",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getFirstname",231],"(",")",["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","' '",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$address",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getLastname",231],"(",")",")",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$request",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setRecipientContactPersonFirstName",232],"(",["T_VARIABLE","$address",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getFirstname",232],"(",")",")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$request",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","setRecipientContactPersonLastName",233],"(",["T_VARIABLE","$address",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getLastname",233],"(",")",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$request",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","setRecipientContactCompanyName",234],"(",["T_VARIABLE","$address",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getCompany",234],"(",")",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$request",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","setRecipientContactPhoneNumber",235],"(",["T_VARIABLE","$address",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getTelephone",235],"(",")",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$request",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","setRecipientEmail",236],"(",["T_VARIABLE","$address",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getEmail",236],"(",")",")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$request",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","setRecipientAddressStreet",237],"(",["T_STRING","trim",237],"(",["T_VARIABLE","$address",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getStreetLine",237],"(",["T_LNUMBER","1",237],")",["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","' '",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_VARIABLE","$address",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getStreetLine",237],"(",["T_LNUMBER","2",237],")",")",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$request",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setRecipientAddressStreet1",238],"(",["T_VARIABLE","$address",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getStreetLine",238],"(",["T_LNUMBER","1",238],")",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$request",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setRecipientAddressStreet2",239],"(",["T_VARIABLE","$address",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getStreetLine",239],"(",["T_LNUMBER","2",239],")",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$request",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","setRecipientAddressCity",240],"(",["T_VARIABLE","$address",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getCity",240],"(",")",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$request",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setRecipientAddressStateOrProvinceCode",241],"(",["T_VARIABLE","$address",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getRegionCode",241],"(",")",["T_WHITESPACE"," ",241],"?",":",["T_WHITESPACE"," ",241],["T_VARIABLE","$address",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getRegion",241],"(",")",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$request",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","setRecipientAddressRegionCode",242],"(",["T_VARIABLE","$address",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getRegionCode",242],"(",")",")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$request",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setRecipientAddressPostalCode",243],"(",["T_VARIABLE","$address",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getPostcode",243],"(",")",")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$request",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","setRecipientAddressCountryCode",244],"(",["T_VARIABLE","$address",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getCountryId",244],"(",")",")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n",245],"}",["T_WHITESPACE","\n",246]]