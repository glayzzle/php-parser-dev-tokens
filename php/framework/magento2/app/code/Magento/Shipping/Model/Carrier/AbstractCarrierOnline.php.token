[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Shipping",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Carrier",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LocalizedException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Address",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RateRequest",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Address",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RateResult",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Error",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Shipping",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Shipment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Request",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Xml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Security",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Abstract online shipping carrier model\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",14],["T_WHITESPACE","\n",17],["T_ABSTRACT","abstract",18],["T_WHITESPACE"," ",18],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractCarrierOnline",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractCarrier",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_CONST","const",20],["T_WHITESPACE"," ",20],["T_STRING","USA_COUNTRY_ID",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'US'",20],";",["T_WHITESPACE","\n\n    ",20],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","PUERTORICO_COUNTRY_ID",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'PR'",22],";",["T_WHITESPACE","\n\n    ",22],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","GUAM_COUNTRY_ID",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'GU'",24],";",["T_WHITESPACE","\n\n    ",24],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","GUAM_REGION_CODE",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'GU'",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Array of quotes\n     *\n     * @var array\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_quotesCache",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Flag for check carriers for activity\n     *\n     * @var string\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_activeFlag",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'active'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Directory data\n     *\n     * @var \\Magento\\Directory\\Helper\\Data\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_directoryData",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","null",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Simplexml\\ElementFactory\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_xmlElFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Rate\\ResultFactory\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_rateFactory",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\MethodFactory\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_rateMethodFactory",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Tracking\\ResultFactory\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_trackFactory",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Tracking\\Result\\ErrorFactory\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_trackErrorFactory",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Shipping\\Model\\Tracking\\Result\\StatusFactory\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_trackStatusFactory",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\RegionFactory\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_regionFactory",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\CountryFactory\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$_countryFactory",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\CurrencyFactory\n     *\/",89],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_currencyFactory",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockRegistryInterface\n     *\/",94],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$stockRegistry",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Raw rate request data\n     *\n     * @var \\Magento\\Framework\\DataObject|null\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$_rawRequest",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","null",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * The security scanner XML document\n     *\n     * @var Security\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$xmlSecurity",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\ErrorFactory $rateErrorFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param Security $xmlSecurity\n     * @param \\Magento\\Shipping\\Model\\Simplexml\\ElementFactory $xmlElFactory\n     * @param \\Magento\\Shipping\\Model\\Rate\\ResultFactory $rateFactory\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\MethodFactory $rateMethodFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\ResultFactory $trackFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\Result\\ErrorFactory $trackErrorFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\Result\\StatusFactory $trackStatusFactory\n     * @param \\Magento\\Directory\\Model\\RegionFactory $regionFactory\n     * @param \\Magento\\Directory\\Model\\CountryFactory $countryFactory\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Directory\\Helper\\Data $directoryData\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param array $data\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",113],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","__construct",133],"(",["T_WHITESPACE","\n        ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Framework",134],["T_NS_SEPARATOR","\\",134],["T_STRING","App",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Config",134],["T_NS_SEPARATOR","\\",134],["T_STRING","ScopeConfigInterface",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$scopeConfig",134],",",["T_WHITESPACE","\n        ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Quote",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Model",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Quote",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Address",135],["T_NS_SEPARATOR","\\",135],["T_STRING","RateResult",135],["T_NS_SEPARATOR","\\",135],["T_STRING","ErrorFactory",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$rateErrorFactory",135],",",["T_WHITESPACE","\n        ",135],["T_NS_SEPARATOR","\\",136],["T_STRING","Psr",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Log",136],["T_NS_SEPARATOR","\\",136],["T_STRING","LoggerInterface",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$logger",136],",",["T_WHITESPACE","\n        ",136],["T_STRING","Security",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$xmlSecurity",137],",",["T_WHITESPACE","\n        ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Shipping",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Model",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Simplexml",138],["T_NS_SEPARATOR","\\",138],["T_STRING","ElementFactory",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$xmlElFactory",138],",",["T_WHITESPACE","\n        ",138],["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Shipping",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Model",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Rate",139],["T_NS_SEPARATOR","\\",139],["T_STRING","ResultFactory",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$rateFactory",139],",",["T_WHITESPACE","\n        ",139],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Quote",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Quote",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Address",140],["T_NS_SEPARATOR","\\",140],["T_STRING","RateResult",140],["T_NS_SEPARATOR","\\",140],["T_STRING","MethodFactory",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$rateMethodFactory",140],",",["T_WHITESPACE","\n        ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Shipping",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Model",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Tracking",141],["T_NS_SEPARATOR","\\",141],["T_STRING","ResultFactory",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$trackFactory",141],",",["T_WHITESPACE","\n        ",141],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Shipping",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Model",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Tracking",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Result",142],["T_NS_SEPARATOR","\\",142],["T_STRING","ErrorFactory",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$trackErrorFactory",142],",",["T_WHITESPACE","\n        ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Shipping",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Tracking",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Result",143],["T_NS_SEPARATOR","\\",143],["T_STRING","StatusFactory",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$trackStatusFactory",143],",",["T_WHITESPACE","\n        ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Directory",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","RegionFactory",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$regionFactory",144],",",["T_WHITESPACE","\n        ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Directory",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Model",145],["T_NS_SEPARATOR","\\",145],["T_STRING","CountryFactory",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$countryFactory",145],",",["T_WHITESPACE","\n        ",145],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Directory",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Model",146],["T_NS_SEPARATOR","\\",146],["T_STRING","CurrencyFactory",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$currencyFactory",146],",",["T_WHITESPACE","\n        ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Directory",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Helper",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Data",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$directoryData",147],",",["T_WHITESPACE","\n        ",147],["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","CatalogInventory",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Api",148],["T_NS_SEPARATOR","\\",148],["T_STRING","StockRegistryInterface",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$stockRegistry",148],",",["T_WHITESPACE","\n        ",148],["T_ARRAY","array",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$data",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[","]",["T_WHITESPACE","\n    ",149],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_xmlElFactory",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$xmlElFactory",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_rateFactory",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$rateFactory",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_rateMethodFactory",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$rateMethodFactory",153],";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_trackFactory",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$trackFactory",154],";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_trackErrorFactory",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$trackErrorFactory",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_trackStatusFactory",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$trackStatusFactory",156],";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_regionFactory",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$regionFactory",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_countryFactory",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$countryFactory",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_currencyFactory",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$currencyFactory",159],";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_directoryData",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$directoryData",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","stockRegistry",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$stockRegistry",161],";",["T_WHITESPACE","\n        ",161],["T_STRING","parent",162],["T_DOUBLE_COLON","::",162],["T_STRING","__construct",162],"(",["T_VARIABLE","$scopeConfig",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$rateErrorFactory",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$logger",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$data",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","xmlSecurity",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$xmlSecurity",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Set flag for check carriers for activity\n     *\n     * @param string $code\n     * @return $this\n     * @api\n     *\/",166],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","setActiveFlag",173],"(",["T_VARIABLE","$code",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'active'",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_activeFlag",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$code",175],";",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Return code of carrier\n     *\n     * @return string\n     *\/",180],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","getCarrierCode",185],"(",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_ISSET","isset",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_code",187],")",["T_WHITESPACE"," ",187],"?",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_code",187],["T_WHITESPACE"," ",187],":",["T_WHITESPACE"," ",187],["T_STRING","null",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get tracking information\n     *\n     * @param string $tracking\n     * @return string|false\n     * @api\n     *\/",190],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getTrackingInfo",197],"(",["T_VARIABLE","$tracking",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$result",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getTracking",199],"(",["T_VARIABLE","$tracking",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$result",201],["T_WHITESPACE"," ",201],["T_INSTANCEOF","instanceof",201],["T_WHITESPACE"," ",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Magento",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Shipping",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Model",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Tracking",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Result",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$trackings",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$result",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getAllTrackings",202],"(",")",";",["T_WHITESPACE","\n            ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$trackings",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$trackings",204],"[",["T_LNUMBER","0",204],"]",";",["T_WHITESPACE","\n            ",204],"}",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE"," ",206],["T_ELSEIF","elseif",206],["T_WHITESPACE"," ",206],"(",["T_STRING","is_string",206],"(",["T_VARIABLE","$result",206],")",["T_WHITESPACE"," ",206],["T_BOOLEAN_AND","&&",206],["T_WHITESPACE"," ",206],"!",["T_EMPTY","empty",206],"(",["T_VARIABLE","$result",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$result",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_STRING","false",210],";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Check if carrier has shipping tracking option available\n     * All \\Magento\\Usa carriers have shipping tracking option available\n     *\n     * @return boolean\n     *\/",213],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","isTrackingAvailable",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_STRING","true",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Check if city option required\n     *\n     * @return boolean\n     *\/",224],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","isCityRequired",229],"(",")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_STRING","true",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Determine whether zip-code is required for the country of destination\n     *\n     * @param string|null $countryId\n     * @return bool\n     *\/",234],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","isZipCodeRequired",240],"(",["T_VARIABLE","$countryId",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","null",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$countryId",242],["T_WHITESPACE"," ",242],["T_IS_NOT_EQUAL","!=",242],["T_WHITESPACE"," ",242],["T_STRING","null",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],"!",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_directoryData",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","isZipCodeOptional",243],"(",["T_VARIABLE","$countryId",243],")",";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n\n        ",244],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_STRING","true",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Check if carrier has shipping label option available\n     *\n     * @return boolean\n     *\/",249],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","isShippingLabelsAvailable",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_STRING","true",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Return items for further shipment rate evaluation. We need to pass children of a bundle instead passing the\n     * bundle itself, otherwise we may not get a rate at all (e.g. when total weight of a bundle exceeds max weight\n     * despite each item by itself is not)\n     *\n     * @param RateRequest $request\n     * @return array\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @api\n     *\/",259],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getAllItems",269],"(",["T_STRING","RateRequest",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$request",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$items",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"[","]",";",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$request",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getAllItems",272],"(",")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$request",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getAllItems",273],"(",")",["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$item",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_COMMENT","\/* @var $item \\Magento\\Quote\\Model\\Quote\\Item *\/",274],["T_WHITESPACE","\n                ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$item",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getProduct",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","isVirtual",275],"(",")",["T_WHITESPACE"," ",275],["T_BOOLEAN_OR","||",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$item",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getParentItem",275],"(",")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                    ",275],["T_COMMENT","\/\/ Don't process children here - we will process (or already have processed) them below\n",276],["T_WHITESPACE","                    ",277],["T_CONTINUE","continue",277],";",["T_WHITESPACE","\n                ",277],"}",["T_WHITESPACE","\n\n                ",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$item",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getHasChildren",280],"(",")",["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$item",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","isShipSeparately",280],"(",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                    ",280],["T_FOREACH","foreach",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$item",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getChildren",281],"(",")",["T_WHITESPACE"," ",281],["T_AS","as",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$child",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                        ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$child",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getFreeShipping",282],"(",")",["T_WHITESPACE"," ",282],["T_BOOLEAN_AND","&&",282],["T_WHITESPACE"," ",282],"!",["T_VARIABLE","$child",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getProduct",282],"(",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","isVirtual",282],"(",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                            ",282],["T_VARIABLE","$items",283],"[","]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$child",283],";",["T_WHITESPACE","\n                        ",283],"}",["T_WHITESPACE","\n                    ",284],"}",["T_WHITESPACE","\n                ",285],"}",["T_WHITESPACE"," ",286],["T_ELSE","else",286],["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                    ",286],["T_COMMENT","\/\/ Ship together - count compound item as one solid\n",287],["T_WHITESPACE","                    ",288],["T_VARIABLE","$items",288],"[","]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$item",288],";",["T_WHITESPACE","\n                ",288],"}",["T_WHITESPACE","\n            ",289],"}",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n\n        ",291],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$items",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Processing additional validation to check if carrier applicable.\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return $this|bool|\\Magento\\Framework\\DataObject\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",296],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","proccessAdditionalValidation",304],"(",["T_NS_SEPARATOR","\\",304],["T_STRING","Magento",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Framework",304],["T_NS_SEPARATOR","\\",304],["T_STRING","DataObject",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$request",304],")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_COMMENT","\/\/Skip by item validation if there is no items in request\n",306],["T_WHITESPACE","        ",307],["T_IF","if",307],["T_WHITESPACE"," ",307],"(","!",["T_STRING","count",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getAllItems",307],"(",["T_VARIABLE","$request",307],")",")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$maxAllowedWeight",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_DOUBLE_CAST","(double)",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getConfigData",311],"(",["T_CONSTANT_ENCAPSED_STRING","'max_package_weight'",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$errorMsg",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","''",312],";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$configErrorMsg",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getConfigData",313],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$defaultErrorMsg",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","__",314],"(",["T_CONSTANT_ENCAPSED_STRING","'The shipping module is not available.'",314],")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$showMethod",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getConfigData",315],"(",["T_CONSTANT_ENCAPSED_STRING","'showmethod'",315],")",";",["T_WHITESPACE","\n\n        ",315],["T_DOC_COMMENT","\/** @var $item \\Magento\\Quote\\Model\\Quote\\Item *\/",317],["T_WHITESPACE","\n        ",317],["T_FOREACH","foreach",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getAllItems",318],"(",["T_VARIABLE","$request",318],")",["T_WHITESPACE"," ",318],["T_AS","as",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$item",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$product",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$item",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getProduct",319],"(",")",";",["T_WHITESPACE","\n            ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$product",320],["T_WHITESPACE"," ",320],["T_BOOLEAN_AND","&&",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$product",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getId",320],"(",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$weight",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$product",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getWeight",321],"(",")",";",["T_WHITESPACE","\n                ",321],["T_VARIABLE","$stockItemData",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","stockRegistry",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getStockItem",322],"(",["T_WHITESPACE","\n                    ",322],["T_VARIABLE","$product",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getId",323],"(",")",",",["T_WHITESPACE","\n                    ",323],["T_VARIABLE","$item",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getStore",324],"(",")",["T_OBJECT_OPERATOR","->",324],["T_STRING","getWebsiteId",324],"(",")",["T_WHITESPACE","\n                ",324],")",";",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$doValidation",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","true",326],";",["T_WHITESPACE","\n\n                ",326],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$stockItemData",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getIsQtyDecimal",328],"(",")",["T_WHITESPACE"," ",328],["T_BOOLEAN_AND","&&",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$stockItemData",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getIsDecimalDivided",328],"(",")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n                    ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$stockItemData",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getEnableQtyIncrements",329],"(",")",["T_WHITESPACE"," ",329],["T_BOOLEAN_AND","&&",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$stockItemData",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getQtyIncrements",329],"(",")",["T_WHITESPACE","\n                    ",329],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                        ",330],["T_VARIABLE","$weight",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$weight",331],["T_WHITESPACE"," ",331],"*",["T_WHITESPACE"," ",331],["T_VARIABLE","$stockItemData",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getQtyIncrements",331],"(",")",";",["T_WHITESPACE","\n                    ",331],"}",["T_WHITESPACE"," ",332],["T_ELSE","else",332],["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n                        ",332],["T_VARIABLE","$doValidation",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","false",333],";",["T_WHITESPACE","\n                    ",333],"}",["T_WHITESPACE","\n                ",334],"}",["T_WHITESPACE"," ",335],["T_ELSEIF","elseif",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$stockItemData",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getIsQtyDecimal",335],"(",")",["T_WHITESPACE"," ",335],["T_BOOLEAN_AND","&&",335],["T_WHITESPACE"," ",335],"!",["T_VARIABLE","$stockItemData",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getIsDecimalDivided",335],"(",")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n                    ",335],["T_VARIABLE","$weight",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$weight",336],["T_WHITESPACE"," ",336],"*",["T_WHITESPACE"," ",336],["T_VARIABLE","$item",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getQty",336],"(",")",";",["T_WHITESPACE","\n                ",336],"}",["T_WHITESPACE","\n\n                ",337],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$doValidation",339],["T_WHITESPACE"," ",339],["T_BOOLEAN_AND","&&",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$weight",339],["T_WHITESPACE"," ",339],">",["T_WHITESPACE"," ",339],["T_VARIABLE","$maxAllowedWeight",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                    ",339],["T_VARIABLE","$errorMsg",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$configErrorMsg",340],["T_WHITESPACE"," ",340],"?",["T_WHITESPACE"," ",340],["T_VARIABLE","$configErrorMsg",340],["T_WHITESPACE"," ",340],":",["T_WHITESPACE"," ",340],["T_VARIABLE","$defaultErrorMsg",340],";",["T_WHITESPACE","\n                    ",340],["T_BREAK","break",341],";",["T_WHITESPACE","\n                ",341],"}",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n\n        ",344],["T_IF","if",346],["T_WHITESPACE"," ",346],"(","!",["T_VARIABLE","$errorMsg",346],["T_WHITESPACE"," ",346],["T_BOOLEAN_AND","&&",346],["T_WHITESPACE"," ",346],"!",["T_VARIABLE","$request",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getDestPostcode",346],"(",")",["T_WHITESPACE"," ",346],["T_BOOLEAN_AND","&&",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","isZipCodeRequired",346],"(",["T_VARIABLE","$request",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getDestCountryId",346],"(",")",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$errorMsg",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","__",347],"(",["T_CONSTANT_ENCAPSED_STRING","'This shipping method is not available. Please specify the zip code.'",347],")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n\n        ",348],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$errorMsg",350],["T_WHITESPACE"," ",350],["T_BOOLEAN_AND","&&",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$showMethod",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$error",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_rateErrorFactory",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","create",351],"(",")",";",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$error",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","setCarrier",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_code",352],")",";",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$error",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","setCarrierTitle",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getConfigData",353],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",353],")",")",";",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$error",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","setErrorMessage",354],"(",["T_VARIABLE","$errorMsg",354],")",";",["T_WHITESPACE","\n\n            ",354],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$error",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE"," ",357],["T_ELSEIF","elseif",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$errorMsg",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n            ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_STRING","false",358],";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n\n        ",359],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Returns cache key for some request to carrier quotes service\n     *\n     * @param string|array $requestParams\n     * @return string\n     *\/",364],["T_WHITESPACE","\n    ",369],["T_PROTECTED","protected",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","_getQuotesCacheKey",370],"(",["T_VARIABLE","$requestParams",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_STRING","is_array",372],"(",["T_VARIABLE","$requestParams",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$requestParams",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","implode",373],"(",["T_WHITESPACE","\n                ",373],["T_CONSTANT_ENCAPSED_STRING","','",374],",",["T_WHITESPACE","\n                ",374],["T_STRING","array_merge",375],"(","[",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getCarrierCode",375],"(",")","]",",",["T_WHITESPACE"," ",375],["T_STRING","array_keys",375],"(",["T_VARIABLE","$requestParams",375],")",",",["T_WHITESPACE"," ",375],["T_VARIABLE","$requestParams",375],")",["T_WHITESPACE","\n            ",375],")",";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n\n        ",377],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_STRING","crc32",379],"(",["T_VARIABLE","$requestParams",379],")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * Checks whether some request to rates have already been done, so we have cache for it\n     * Used to reduce number of same requests done to carrier service during one session\n     *\n     * Returns cached response or null\n     *\n     * @param string|array $requestParams\n     * @return null|string\n     *\/",382],["T_WHITESPACE","\n    ",390],["T_PROTECTED","protected",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","_getCachedQuotes",391],"(",["T_VARIABLE","$requestParams",391],")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$key",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_getQuotesCacheKey",393],"(",["T_VARIABLE","$requestParams",393],")",";",["T_WHITESPACE","\n\n        ",393],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_ISSET","isset",395],"(",["T_STRING","self",395],["T_DOUBLE_COLON","::",395],["T_VARIABLE","$_quotesCache",395],"[",["T_VARIABLE","$key",395],"]",")",["T_WHITESPACE"," ",395],"?",["T_WHITESPACE"," ",395],["T_STRING","self",395],["T_DOUBLE_COLON","::",395],["T_VARIABLE","$_quotesCache",395],"[",["T_VARIABLE","$key",395],"]",["T_WHITESPACE"," ",395],":",["T_WHITESPACE"," ",395],["T_STRING","null",395],";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_DOC_COMMENT","\/**\n     * Sets received carrier quotes to cache\n     *\n     * @param string|array $requestParams\n     * @param string $response\n     * @return $this\n     *\/",398],["T_WHITESPACE","\n    ",404],["T_PROTECTED","protected",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","_setCachedQuotes",405],"(",["T_VARIABLE","$requestParams",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$response",405],")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$key",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_getQuotesCacheKey",407],"(",["T_VARIABLE","$requestParams",407],")",";",["T_WHITESPACE","\n        ",407],["T_STRING","self",408],["T_DOUBLE_COLON","::",408],["T_VARIABLE","$_quotesCache",408],"[",["T_VARIABLE","$key",408],"]",["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$response",408],";",["T_WHITESPACE","\n\n        ",408],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * Prepare service name. Strip tags and entities from name\n     *\n     * @param string|object $name service name or object with implemented __toString() method\n     * @return string              prepared service name\n     *\/",413],["T_WHITESPACE","\n    ",418],["T_PROTECTED","protected",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","_prepareServiceName",419],"(",["T_VARIABLE","$name",419],")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$name",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","html_entity_decode",421],"(",["T_STRING_CAST","(string)",421],["T_VARIABLE","$name",421],")",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$name",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","strip_tags",422],"(",["T_STRING","preg_replace",422],"(",["T_CONSTANT_ENCAPSED_STRING","'#&\\w+;#'",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","''",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$name",422],")",")",";",["T_WHITESPACE","\n\n        ",422],["T_RETURN","return",424],["T_WHITESPACE"," ",424],["T_STRING","trim",424],"(",["T_VARIABLE","$name",424],")",";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n\n    ",425],["T_DOC_COMMENT","\/**\n     * Prepare shipment request.\n     * Validate and correct request information\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return void\n     *\/",427],["T_WHITESPACE","\n    ",433],["T_PROTECTED","protected",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","_prepareShipmentRequest",434],"(",["T_NS_SEPARATOR","\\",434],["T_STRING","Magento",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Framework",434],["T_NS_SEPARATOR","\\",434],["T_STRING","DataObject",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$request",434],")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$phonePattern",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'\/[\\s\\_\\-\\(\\)]+\/'",436],";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$phoneNumber",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$request",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getShipperContactPhoneNumber",437],"(",")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$phoneNumber",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_STRING","preg_replace",438],"(",["T_VARIABLE","$phonePattern",438],",",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","''",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$phoneNumber",438],")",";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$request",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","setShipperContactPhoneNumber",439],"(",["T_VARIABLE","$phoneNumber",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$phoneNumber",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$request",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getRecipientContactPhoneNumber",440],"(",")",";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$phoneNumber",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","preg_replace",441],"(",["T_VARIABLE","$phonePattern",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","''",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$phoneNumber",441],")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$request",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","setRecipientContactPhoneNumber",442],"(",["T_VARIABLE","$phoneNumber",442],")",";",["T_WHITESPACE","\n    ",442],"}",["T_WHITESPACE","\n\n    ",443],["T_DOC_COMMENT","\/**\n     * Do request to shipment\n     *\n     * @param Request $request\n     * @return \\Magento\\Framework\\DataObject\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",445],["T_WHITESPACE","\n    ",451],["T_PUBLIC","public",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","requestToShipment",452],"(",["T_VARIABLE","$request",452],")",["T_WHITESPACE","\n    ",452],"{",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$packages",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$request",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getPackages",454],"(",")",";",["T_WHITESPACE","\n        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(","!",["T_STRING","is_array",455],"(",["T_VARIABLE","$packages",455],")",["T_WHITESPACE"," ",455],["T_BOOLEAN_OR","||",455],["T_WHITESPACE"," ",455],"!",["T_VARIABLE","$packages",455],")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n            ",455],["T_THROW","throw",456],["T_WHITESPACE"," ",456],["T_NEW","new",456],["T_WHITESPACE"," ",456],["T_STRING","LocalizedException",456],"(",["T_STRING","__",456],"(",["T_CONSTANT_ENCAPSED_STRING","'No packages for request'",456],")",")",";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n        ",457],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$request",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getStoreId",458],"(",")",["T_WHITESPACE"," ",458],["T_IS_NOT_EQUAL","!=",458],["T_WHITESPACE"," ",458],["T_STRING","null",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","setStore",459],"(",["T_VARIABLE","$request",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getStoreId",459],"(",")",")",";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$data",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],"[","]",";",["T_WHITESPACE","\n        ",461],["T_FOREACH","foreach",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$packages",462],["T_WHITESPACE"," ",462],["T_AS","as",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$packageId",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$package",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$request",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","setPackageId",463],"(",["T_VARIABLE","$packageId",463],")",";",["T_WHITESPACE","\n            ",463],["T_VARIABLE","$request",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","setPackagingType",464],"(",["T_VARIABLE","$package",464],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",464],"]","[",["T_CONSTANT_ENCAPSED_STRING","'container'",464],"]",")",";",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$request",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","setPackageWeight",465],"(",["T_VARIABLE","$package",465],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",465],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",465],"]",")",";",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$request",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","setPackageParams",466],"(",["T_NEW","new",466],["T_WHITESPACE"," ",466],["T_NS_SEPARATOR","\\",466],["T_STRING","Magento",466],["T_NS_SEPARATOR","\\",466],["T_STRING","Framework",466],["T_NS_SEPARATOR","\\",466],["T_STRING","DataObject",466],"(",["T_VARIABLE","$package",466],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",466],"]",")",")",";",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$request",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","setPackageItems",467],"(",["T_VARIABLE","$package",467],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",467],"]",")",";",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$result",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_doShipmentRequest",468],"(",["T_VARIABLE","$request",468],")",";",["T_WHITESPACE","\n\n            ",468],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$result",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","hasErrors",470],"(",")",")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n                ",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","rollBack",471],"(",["T_VARIABLE","$data",471],")",";",["T_WHITESPACE","\n                ",471],["T_BREAK","break",472],";",["T_WHITESPACE","\n            ",472],"}",["T_WHITESPACE"," ",473],["T_ELSE","else",473],["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$data",474],"[","]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],"[",["T_WHITESPACE","\n                    ",474],["T_CONSTANT_ENCAPSED_STRING","'tracking_number'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$result",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getTrackingNumber",475],"(",")",",",["T_WHITESPACE","\n                    ",475],["T_CONSTANT_ENCAPSED_STRING","'label_content'",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$result",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getShippingLabelContent",476],"(",")",",",["T_WHITESPACE","\n                ",476],"]",";",["T_WHITESPACE","\n            ",477],"}",["T_WHITESPACE","\n            ",478],["T_IF","if",479],["T_WHITESPACE"," ",479],"(","!",["T_ISSET","isset",479],"(",["T_VARIABLE","$isFirstRequest",479],")",")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n                ",479],["T_VARIABLE","$request",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","setMasterTrackingId",480],"(",["T_VARIABLE","$result",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getTrackingNumber",480],"(",")",")",";",["T_WHITESPACE","\n                ",480],["T_VARIABLE","$isFirstRequest",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","false",481],";",["T_WHITESPACE","\n            ",481],"}",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n\n        ",483],["T_VARIABLE","$response",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_NEW","new",485],["T_WHITESPACE"," ",485],["T_NS_SEPARATOR","\\",485],["T_STRING","Magento",485],["T_NS_SEPARATOR","\\",485],["T_STRING","Framework",485],["T_NS_SEPARATOR","\\",485],["T_STRING","DataObject",485],"(","[",["T_CONSTANT_ENCAPSED_STRING","'info'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$data",485],"]",")",";",["T_WHITESPACE","\n        ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$result",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getErrors",486],"(",")",")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$response",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","setErrors",487],"(",["T_VARIABLE","$result",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getErrors",487],"(",")",")",";",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE","\n\n        ",488],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$response",490],";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Do request to RMA shipment\n     *\n     * @param Request $request\n     * @return \\Magento\\Framework\\DataObject\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",493],["T_WHITESPACE","\n    ",499],["T_PUBLIC","public",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","returnOfShipment",500],"(",["T_VARIABLE","$request",500],")",["T_WHITESPACE","\n    ",500],"{",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$request",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","setIsReturn",502],"(",["T_STRING","true",502],")",";",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$packages",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$request",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","getPackages",503],"(",")",";",["T_WHITESPACE","\n        ",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(","!",["T_STRING","is_array",504],"(",["T_VARIABLE","$packages",504],")",["T_WHITESPACE"," ",504],["T_BOOLEAN_OR","||",504],["T_WHITESPACE"," ",504],"!",["T_VARIABLE","$packages",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n            ",504],["T_THROW","throw",505],["T_WHITESPACE"," ",505],["T_NEW","new",505],["T_WHITESPACE"," ",505],["T_STRING","LocalizedException",505],"(",["T_STRING","__",505],"(",["T_CONSTANT_ENCAPSED_STRING","'No packages for request'",505],")",")",";",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE","\n        ",506],["T_IF","if",507],["T_WHITESPACE"," ",507],"(",["T_VARIABLE","$request",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getStoreId",507],"(",")",["T_WHITESPACE"," ",507],["T_IS_NOT_EQUAL","!=",507],["T_WHITESPACE"," ",507],["T_STRING","null",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n            ",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","setStore",508],"(",["T_VARIABLE","$request",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getStoreId",508],"(",")",")",";",["T_WHITESPACE","\n        ",508],"}",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$data",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],"[","]",";",["T_WHITESPACE","\n        ",510],["T_FOREACH","foreach",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$packages",511],["T_WHITESPACE"," ",511],["T_AS","as",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$packageId",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$package",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n            ",511],["T_VARIABLE","$request",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","setPackageId",512],"(",["T_VARIABLE","$packageId",512],")",";",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$request",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","setPackagingType",513],"(",["T_VARIABLE","$package",513],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",513],"]","[",["T_CONSTANT_ENCAPSED_STRING","'container'",513],"]",")",";",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$request",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","setPackageWeight",514],"(",["T_VARIABLE","$package",514],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",514],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",514],"]",")",";",["T_WHITESPACE","\n            ",514],["T_VARIABLE","$request",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","setPackageParams",515],"(",["T_NEW","new",515],["T_WHITESPACE"," ",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Magento",515],["T_NS_SEPARATOR","\\",515],["T_STRING","Framework",515],["T_NS_SEPARATOR","\\",515],["T_STRING","DataObject",515],"(",["T_VARIABLE","$package",515],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",515],"]",")",")",";",["T_WHITESPACE","\n            ",515],["T_VARIABLE","$request",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","setPackageItems",516],"(",["T_VARIABLE","$package",516],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",516],"]",")",";",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$result",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_doShipmentRequest",517],"(",["T_VARIABLE","$request",517],")",";",["T_WHITESPACE","\n\n            ",517],["T_IF","if",519],["T_WHITESPACE"," ",519],"(",["T_VARIABLE","$result",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","hasErrors",519],"(",")",")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n                ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","rollBack",520],"(",["T_VARIABLE","$data",520],")",";",["T_WHITESPACE","\n                ",520],["T_BREAK","break",521],";",["T_WHITESPACE","\n            ",521],"}",["T_WHITESPACE"," ",522],["T_ELSE","else",522],["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n                ",522],["T_VARIABLE","$data",523],"[","]",["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],"[",["T_WHITESPACE","\n                    ",523],["T_CONSTANT_ENCAPSED_STRING","'tracking_number'",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$result",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getTrackingNumber",524],"(",")",",",["T_WHITESPACE","\n                    ",524],["T_CONSTANT_ENCAPSED_STRING","'label_content'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$result",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getShippingLabelContent",525],"(",")",",",["T_WHITESPACE","\n                ",525],"]",";",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n            ",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(","!",["T_ISSET","isset",528],"(",["T_VARIABLE","$isFirstRequest",528],")",")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n                ",528],["T_VARIABLE","$request",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","setMasterTrackingId",529],"(",["T_VARIABLE","$result",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getTrackingNumber",529],"(",")",")",";",["T_WHITESPACE","\n                ",529],["T_VARIABLE","$isFirstRequest",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_STRING","false",530],";",["T_WHITESPACE","\n            ",530],"}",["T_WHITESPACE","\n        ",531],"}",["T_WHITESPACE","\n\n        ",532],["T_VARIABLE","$response",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Magento",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Framework",534],["T_NS_SEPARATOR","\\",534],["T_STRING","DataObject",534],"(","[",["T_CONSTANT_ENCAPSED_STRING","'info'",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$data",534],"]",")",";",["T_WHITESPACE","\n        ",534],["T_IF","if",535],["T_WHITESPACE"," ",535],"(",["T_VARIABLE","$result",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getErrors",535],"(",")",")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$response",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","setErrors",536],"(",["T_VARIABLE","$result",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getErrors",536],"(",")",")",";",["T_WHITESPACE","\n        ",536],"}",["T_WHITESPACE","\n\n        ",537],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$response",539],";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * For multi package shipments. Delete requested shipments if the current shipment\n     * request is failed\n     *\n     * @param array $data\n     * @return bool\n     *\n     * @todo implement rollback logic\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @api\n     *\/",542],["T_WHITESPACE","\n    ",552],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","rollBack",553],"(",["T_VARIABLE","$data",553],")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_STRING","true",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Do shipment request to carrier web service, obtain Print Shipping Labels and process errors in response\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return \\Magento\\Framework\\DataObject\n     *\/",558],["T_WHITESPACE","\n    ",563],["T_ABSTRACT","abstract",564],["T_WHITESPACE"," ",564],["T_PROTECTED","protected",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","_doShipmentRequest",564],"(",["T_NS_SEPARATOR","\\",564],["T_STRING","Magento",564],["T_NS_SEPARATOR","\\",564],["T_STRING","Framework",564],["T_NS_SEPARATOR","\\",564],["T_STRING","DataObject",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$request",564],")",";",["T_WHITESPACE","\n\n    ",564],["T_DOC_COMMENT","\/**\n     * Check is Country U.S. Possessions and Trust Territories\n     *\n     * @param string $countyId\n     * @return boolean\n     *\/",566],["T_WHITESPACE","\n    ",571],["T_PROTECTED","protected",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","_isUSCountry",572],"(",["T_VARIABLE","$countyId",572],")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_SWITCH","switch",574],["T_WHITESPACE"," ",574],"(",["T_VARIABLE","$countyId",574],")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n            ",574],["T_CASE","case",575],["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'AS'",575],":",["T_WHITESPACE","\n                ",575],["T_COMMENT","\/\/ Samoa American\n",576],["T_WHITESPACE","            ",577],["T_CASE","case",577],["T_WHITESPACE"," ",577],["T_CONSTANT_ENCAPSED_STRING","'GU'",577],":",["T_WHITESPACE","\n                ",577],["T_COMMENT","\/\/ Guam\n",578],["T_WHITESPACE","            ",579],["T_CASE","case",579],["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","'MP'",579],":",["T_WHITESPACE","\n                ",579],["T_COMMENT","\/\/ Northern Mariana Islands\n",580],["T_WHITESPACE","            ",581],["T_CASE","case",581],["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'PW'",581],":",["T_WHITESPACE","\n                ",581],["T_COMMENT","\/\/ Palau\n",582],["T_WHITESPACE","            ",583],["T_CASE","case",583],["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'PR'",583],":",["T_WHITESPACE","\n                ",583],["T_COMMENT","\/\/ Puerto Rico\n",584],["T_WHITESPACE","            ",585],["T_CASE","case",585],["T_WHITESPACE"," ",585],["T_CONSTANT_ENCAPSED_STRING","'VI'",585],":",["T_WHITESPACE","\n                ",585],["T_COMMENT","\/\/ Virgin Islands US\n",586],["T_WHITESPACE","            ",587],["T_CASE","case",587],["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'US'",587],":",["T_WHITESPACE","\n                ",587],["T_COMMENT","\/\/ United States\n",588],["T_WHITESPACE","                ",589],["T_RETURN","return",589],["T_WHITESPACE"," ",589],["T_STRING","true",589],";",["T_WHITESPACE","\n        ",589],"}",["T_WHITESPACE","\n\n        ",590],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_STRING","false",592],";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n\n    ",593],["T_DOC_COMMENT","\/**\n     * Check whether girth is allowed for the carrier\n     *\n     * @param null|string $countyDest\n     * @param null|string $carrierMethodCode\n     * @return bool\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     * @api\n     *\/",595],["T_WHITESPACE","\n    ",603],["T_PUBLIC","public",604],["T_WHITESPACE"," ",604],["T_FUNCTION","function",604],["T_WHITESPACE"," ",604],["T_STRING","isGirthAllowed",604],"(",["T_VARIABLE","$countyDest",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_STRING","null",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$carrierMethodCode",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_STRING","null",604],")",["T_WHITESPACE","\n    ",604],"{",["T_WHITESPACE","\n        ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_STRING","false",606],";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\DataObject|null $request\n     * @return $this\n     * @api\n     *\/",609],["T_WHITESPACE","\n    ",613],["T_PUBLIC","public",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","setRawRequest",614],"(",["T_VARIABLE","$request",614],")",["T_WHITESPACE","\n    ",614],"{",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_rawRequest",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$request",616],";",["T_WHITESPACE","\n\n        ",616],["T_RETURN","return",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_DOC_COMMENT","\/**\n     * Calculate price considering free shipping and handling fee\n     *\n     * @param string $cost\n     * @param string $method\n     * @return float|string\n     * @api\n     *\/",621],["T_WHITESPACE","\n    ",628],["T_PUBLIC","public",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","getMethodPrice",629],"(",["T_VARIABLE","$cost",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$method",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","''",629],")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],["T_RETURN","return",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$method",631],["T_WHITESPACE"," ",631],["T_IS_EQUAL","==",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","getConfigData",631],"(",["T_WHITESPACE","\n            ",631],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","_freeMethod",632],["T_WHITESPACE","\n        ",632],")",["T_WHITESPACE"," ",633],["T_BOOLEAN_AND","&&",633],["T_WHITESPACE"," ",633],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getConfigFlag",633],"(",["T_WHITESPACE","\n            ",633],["T_CONSTANT_ENCAPSED_STRING","'free_shipping_enable'",634],["T_WHITESPACE","\n        ",634],")",["T_WHITESPACE"," ",635],["T_BOOLEAN_AND","&&",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","getConfigData",635],"(",["T_WHITESPACE","\n            ",635],["T_CONSTANT_ENCAPSED_STRING","'free_shipping_subtotal'",636],["T_WHITESPACE","\n        ",636],")",["T_WHITESPACE"," ",637],["T_IS_SMALLER_OR_EQUAL","<=",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","_rawRequest",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getBaseSubtotalInclTax",637],"(",")",["T_WHITESPACE"," ",637],"?",["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'0.00'",637],["T_WHITESPACE"," ",637],":",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getFinalPriceWithHandlingFee",637],"(",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$cost",638],["T_WHITESPACE","\n        ",638],")",";",["T_WHITESPACE","\n    ",639],"}",["T_WHITESPACE","\n\n    ",640],["T_DOC_COMMENT","\/**\n     * Parse XML string and return XML document object or false\n     *\n     * @param string $xmlContent\n     * @param string $customSimplexml\n     * @return \\SimpleXMLElement|bool\n     * @throws LocalizedException\n     *\n     * @api\n     *\/",642],["T_WHITESPACE","\n    ",651],["T_PUBLIC","public",652],["T_WHITESPACE"," ",652],["T_FUNCTION","function",652],["T_WHITESPACE"," ",652],["T_STRING","parseXml",652],"(",["T_VARIABLE","$xmlContent",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$customSimplexml",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'SimpleXMLElement'",652],")",["T_WHITESPACE","\n    ",652],"{",["T_WHITESPACE","\n        ",653],["T_IF","if",654],["T_WHITESPACE"," ",654],"(","!",["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","xmlSecurity",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","scan",654],"(",["T_VARIABLE","$xmlContent",654],")",")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n            ",654],["T_THROW","throw",655],["T_WHITESPACE"," ",655],["T_NEW","new",655],["T_WHITESPACE"," ",655],["T_STRING","LocalizedException",655],"(",["T_STRING","__",655],"(",["T_CONSTANT_ENCAPSED_STRING","'Security validation of XML document has been failed.'",655],")",")",";",["T_WHITESPACE","\n        ",655],"}",["T_WHITESPACE","\n\n        ",656],["T_VARIABLE","$xmlElement",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_STRING","simplexml_load_string",658],"(",["T_VARIABLE","$xmlContent",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$customSimplexml",658],")",";",["T_WHITESPACE","\n\n        ",658],["T_RETURN","return",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$xmlElement",660],";",["T_WHITESPACE","\n    ",660],"}",["T_WHITESPACE","\n\n    ",661],["T_DOC_COMMENT","\/**\n     * Checks if shipping method can collect rates\n     * @return bool\n     *\/",663],["T_WHITESPACE","\n    ",666],["T_PUBLIC","public",667],["T_WHITESPACE"," ",667],["T_FUNCTION","function",667],["T_WHITESPACE"," ",667],["T_STRING","canCollectRates",667],"(",")",["T_WHITESPACE","\n    ",667],"{",["T_WHITESPACE","\n        ",668],["T_RETURN","return",669],["T_WHITESPACE"," ",669],["T_BOOL_CAST","(bool)",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getConfigFlag",669],"(",["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","_activeFlag",669],")",";",["T_WHITESPACE","\n    ",669],"}",["T_WHITESPACE","\n\n    ",670],["T_DOC_COMMENT","\/**\n     * Debug errors if showmethod is unset\n     * @param Error $errors\n     *\n     * @return void\n     *\/",672],["T_WHITESPACE","\n    ",677],["T_PROTECTED","protected",678],["T_WHITESPACE"," ",678],["T_FUNCTION","function",678],["T_WHITESPACE"," ",678],["T_STRING","debugErrors",678],"(",["T_VARIABLE","$errors",678],")",["T_WHITESPACE","\n    ",678],"{",["T_WHITESPACE","\n        ",679],["T_IF","if",680],["T_WHITESPACE"," ",680],"(",["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","getConfigData",680],"(",["T_CONSTANT_ENCAPSED_STRING","'showmethod'",680],")",")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n            ",680],["T_COMMENT","\/* @var $error Error *\/",681],["T_WHITESPACE","\n            ",681],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","_debug",682],"(",["T_VARIABLE","$errors",682],")",";",["T_WHITESPACE","\n        ",682],"}",["T_WHITESPACE","\n    ",683],"}",["T_WHITESPACE","\n\n    ",684],["T_DOC_COMMENT","\/**\n     * Get error messages\n     *\n     * @return bool|Error\n     *\/",686],["T_WHITESPACE","\n    ",690],["T_PROTECTED","protected",691],["T_WHITESPACE"," ",691],["T_FUNCTION","function",691],["T_WHITESPACE"," ",691],["T_STRING","getErrorMessage",691],"(",")",["T_WHITESPACE","\n    ",691],"{",["T_WHITESPACE","\n        ",692],["T_IF","if",693],["T_WHITESPACE"," ",693],"(",["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","getConfigData",693],"(",["T_CONSTANT_ENCAPSED_STRING","'showmethod'",693],")",")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n            ",693],["T_COMMENT","\/* @var $error Error *\/",694],["T_WHITESPACE","\n            ",694],["T_VARIABLE","$error",695],["T_WHITESPACE"," ",695],"=",["T_WHITESPACE"," ",695],["T_VARIABLE","$this",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","_rateErrorFactory",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","create",695],"(",")",";",["T_WHITESPACE","\n            ",695],["T_VARIABLE","$error",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","setCarrier",696],"(",["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","getCarrierCode",696],"(",")",")",";",["T_WHITESPACE","\n            ",696],["T_VARIABLE","$error",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","setCarrierTitle",697],"(",["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","getConfigData",697],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",697],")",")",";",["T_WHITESPACE","\n            ",697],["T_VARIABLE","$error",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","setErrorMessage",698],"(",["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","getConfigData",698],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",698],")",")",";",["T_WHITESPACE","\n            ",698],["T_RETURN","return",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$error",699],";",["T_WHITESPACE","\n        ",699],"}",["T_WHITESPACE"," ",700],["T_ELSE","else",700],["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n            ",700],["T_RETURN","return",701],["T_WHITESPACE"," ",701],["T_STRING","false",701],";",["T_WHITESPACE","\n        ",701],"}",["T_WHITESPACE","\n    ",702],"}",["T_WHITESPACE","\n",703],"}",["T_WHITESPACE","\n",704]]