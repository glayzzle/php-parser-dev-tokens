[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Directory",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Currency",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Import",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","FixerIoTest",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PHPUnit_Framework_TestCase",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\Currency\\Import\\FixerIo\n     *\/",11],["T_WHITESPACE","\n    ",13],["T_PRIVATE","private",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$model",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\CurrencyFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$currencyFactoryMock",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\HTTP\\ZendClientFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$httpClientFactoryMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$objectManagerHelper",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_NEW","new",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFramework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Unit",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Helper",28],["T_NS_SEPARATOR","\\",28],["T_STRING","ObjectManager",28],"(",["T_VARIABLE","$this",28],")",";",["T_WHITESPACE","\n\n        ",28],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","currencyFactoryMock",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getMockBuilder",30],"(",["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Directory",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Model",30],["T_NS_SEPARATOR","\\",30],["T_STRING","CurrencyFactory",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],")",["T_WHITESPACE","\n            ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","disableOriginalConstructor",31],"(",")",["T_WHITESPACE","\n            ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","setMethods",32],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",32],"]",")",["T_WHITESPACE","\n            ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMock",33],"(",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","httpClientFactoryMock",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMockBuilder",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","HTTP",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ZendClientFactory",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","disableOriginalConstructor",35],"(",")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","setMethods",36],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",36],"]",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","getMock",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$scopeMock",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMockBuilder",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Framework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","App",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Config",38],["T_NS_SEPARATOR","\\",38],["T_STRING","ScopeConfigInterface",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","disableOriginalConstructor",39],"(",")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","setMethods",40],"(","[","]",")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMock",41],"(",")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","model",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$objectManagerHelper",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getObject",43],"(",["T_WHITESPACE","\n            ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Directory",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Model",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Currency",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Import",44],["T_NS_SEPARATOR","\\",44],["T_STRING","FixerIo",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],",",["T_WHITESPACE","\n            ",44],"[",["T_WHITESPACE","\n                ",45],["T_CONSTANT_ENCAPSED_STRING","'currencyFactory'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","currencyFactoryMock",46],",",["T_WHITESPACE","\n                ",46],["T_CONSTANT_ENCAPSED_STRING","'scopeConfig'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$scopeMock",47],",",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'httpClientFactory'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","httpClientFactoryMock",48],["T_WHITESPACE","\n            ",48],"]",["T_WHITESPACE","\n        ",49],")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testFetchRates",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$currencyFromList",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'USD'",55],"]",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$currencyToList",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'EUR'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'UAH'",56],"]",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$responseBody",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'{\"base\":\"USD\",\"date\":\"2015-10-07\",\"rates\":{\"EUR\":0.9022}}'",57],";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$expectedCurrencyRateList",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'USD'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'EUR'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_DNUMBER","0.9022",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'UAH'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","null",58],"]","]",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$message",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","\"We can't retrieve a rate from http:\/\/api.fixer.io\/latest?base=USD&symbols=EUR,UAH for UAH.\"",59],";",["T_WHITESPACE","\n\n        ",59],["T_DOC_COMMENT","\/** @var \\Magento\\Directory\\Model\\Currency|\\PHPUnit_Framework_MockObject_MockObject $currencyMock *\/",61],["T_WHITESPACE","\n        ",61],["T_VARIABLE","$currencyMock",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMockBuilder",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Directory",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Model",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Currency",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","disableOriginalConstructor",63],"(",")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","setMethods",64],"(","[","]",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMock",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\HTTP\\ZendClient|\\PHPUnit_Framework_MockObject_MockObject $currencyMock *\/",66],["T_WHITESPACE","\n        ",66],["T_VARIABLE","$httpClientMock",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockBuilder",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","HTTP",67],["T_NS_SEPARATOR","\\",67],["T_STRING","ZendClient",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",["T_WHITESPACE","\n            ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","disableOriginalConstructor",68],"(",")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","setMethods",69],"(","[","]",")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMock",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_DOC_COMMENT","\/** @var \\Zend_Http_Response|\\PHPUnit_Framework_MockObject_MockObject $currencyMock *\/",71],["T_WHITESPACE","\n        ",71],["T_VARIABLE","$httpResponseMock",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMockBuilder",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Zend_Http_Response",72],["T_DOUBLE_COLON","::",72],["T_CLASS","class",72],")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","disableOriginalConstructor",73],"(",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","setMethods",74],"(","[","]",")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMock",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","currencyFactoryMock",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","any",76],"(",")",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","method",76],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","willReturn",76],"(",["T_VARIABLE","$currencyMock",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$currencyMock",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","expects",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","once",77],"(",")",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfigBaseCurrencies'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","willReturn",77],"(",["T_VARIABLE","$currencyFromList",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$currencyMock",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","expects",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","once",78],"(",")",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","method",78],"(",["T_CONSTANT_ENCAPSED_STRING","'getConfigAllowCurrencies'",78],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","willReturn",78],"(",["T_VARIABLE","$currencyToList",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","httpClientFactoryMock",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","any",79],"(",")",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","method",79],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","willReturn",79],"(",["T_VARIABLE","$httpClientMock",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$httpClientMock",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","expects",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","atLeastOnce",80],"(",")",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'setUri'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","willReturnSelf",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$httpClientMock",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","expects",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","atLeastOnce",81],"(",")",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","method",81],"(",["T_CONSTANT_ENCAPSED_STRING","'setConfig'",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","willReturnSelf",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$httpClientMock",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","atLeastOnce",82],"(",")",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","method",82],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","willReturn",82],"(",["T_VARIABLE","$httpResponseMock",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$httpResponseMock",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","expects",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","any",83],"(",")",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getBody'",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","willReturn",83],"(",["T_VARIABLE","$responseBody",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEquals",85],"(",["T_VARIABLE","$expectedCurrencyRateList",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","model",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","fetchRates",85],"(",")",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$messages",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","model",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMessages",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertNotEmpty",87],"(",["T_VARIABLE","$messages",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertTrue",88],"(",["T_STRING","is_array",88],"(",["T_VARIABLE","$messages",88],")",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEquals",89],"(",["T_VARIABLE","$message",89],",",["T_WHITESPACE"," ",89],["T_STRING_CAST","(string)",89],["T_VARIABLE","$messages",89],"[",["T_LNUMBER","0",89],"]",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n",90],"}",["T_WHITESPACE","\n",91]]