[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Currency model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Directory",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","InputException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Directory",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Currency",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Filter",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Currency",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","AbstractModel",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * CONFIG path constants\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","XML_PATH_CURRENCY_ALLOW",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'currency\/options\/allow'",25],";",["T_WHITESPACE","\n\n    ",25],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","XML_PATH_CURRENCY_DEFAULT",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'currency\/options\/default'",27],";",["T_WHITESPACE","\n\n    ",27],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","XML_PATH_CURRENCY_BASE",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'currency\/options\/base'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var Filter\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_filter",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Currency Rates\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_rates",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\FormatInterface\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_localeFormat",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_storeManager",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Helper\\Data\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_directoryHelper",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Directory\\Model\\Currency\\FilterFactory\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_currencyFilterFactory",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\CurrencyInterface\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_localeCurrency",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Directory\\Helper\\Data $directoryHelper\n     * @param Currency\\FilterFactory $currencyFilterFactory\n     * @param \\Magento\\Framework\\Locale\\CurrencyInterface $localeCurrency\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",68],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Context",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$context",82],",",["T_WHITESPACE","\n        ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Registry",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$registry",83],",",["T_WHITESPACE","\n        ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Locale",84],["T_NS_SEPARATOR","\\",84],["T_STRING","FormatInterface",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$localeFormat",84],",",["T_WHITESPACE","\n        ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Store",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","StoreManagerInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$storeManager",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Directory",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Helper",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Data",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$directoryHelper",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Directory",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Model",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Currency",87],["T_NS_SEPARATOR","\\",87],["T_STRING","FilterFactory",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$currencyFilterFactory",87],",",["T_WHITESPACE","\n        ",87],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Locale",88],["T_NS_SEPARATOR","\\",88],["T_STRING","CurrencyInterface",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$localeCurrency",88],",",["T_WHITESPACE","\n        ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Model",89],["T_NS_SEPARATOR","\\",89],["T_STRING","ResourceModel",89],["T_NS_SEPARATOR","\\",89],["T_STRING","AbstractResource",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$resource",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","null",89],",",["T_WHITESPACE","\n        ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Data",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Collection",90],["T_NS_SEPARATOR","\\",90],["T_STRING","AbstractDb",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$resourceCollection",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","null",90],",",["T_WHITESPACE","\n        ",90],["T_ARRAY","array",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$data",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"[","]",["T_WHITESPACE","\n    ",91],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_STRING","parent",93],["T_DOUBLE_COLON","::",93],["T_STRING","__construct",93],"(",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$context",94],",",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$registry",95],",",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$resource",96],",",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$resourceCollection",97],",",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$data",98],["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_localeFormat",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$localeFormat",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_storeManager",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$storeManager",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_directoryHelper",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$directoryHelper",102],";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_currencyFilterFactory",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$currencyFilterFactory",103],";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_localeCurrency",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$localeCurrency",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","_construct",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_init",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Directory",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","ResourceModel",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Currency",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Get currency code\n     *\n     * @return string\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getCode",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_getData",122],"(",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Get currency code\n     *\n     * @return string\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getCurrencyCode",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_getData",132],"(",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",132],")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Currency Rates getter\n     *\n     * @return array\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getRates",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_rates",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Currency Rates setter\n     *\n     * @param array $rates Currency Rates\n     * @return $this\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","setRates",151],"(",["T_ARRAY","array",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$rates",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_rates",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$rates",153],";",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Loading currency data\n     *\n     * @param   string $id\n     * @param   string $field\n     * @return  $this\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",157],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","load",165],"(",["T_VARIABLE","$id",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$field",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","null",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","unsRate",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setData",168],"(",["T_CONSTANT_ENCAPSED_STRING","'currency_code'",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$id",168],")",";",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Get currency rate (only base => allowed)\n     *\n     * @param mixed $toCurrency\n     * @return float\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","getRate",178],"(",["T_VARIABLE","$toCurrency",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$code",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getCurrencyCodeFromToCurrency",180],"(",["T_VARIABLE","$toCurrency",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$rates",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getRates",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(","!",["T_ISSET","isset",182],"(",["T_VARIABLE","$rates",182],"[",["T_VARIABLE","$code",182],"]",")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$rates",183],"[",["T_VARIABLE","$code",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_getResource",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getRate",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getCode",183],"(",")",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$toCurrency",183],")",";",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setRates",184],"(",["T_VARIABLE","$rates",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$rates",186],"[",["T_VARIABLE","$code",186],"]",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Get currency rate (base=>allowed or allowed=>base)\n     *\n     * @param mixed $toCurrency\n     * @return float\n     *\/",189],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getAnyRate",195],"(",["T_VARIABLE","$toCurrency",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$code",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getCurrencyCodeFromToCurrency",197],"(",["T_VARIABLE","$toCurrency",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$rates",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getRates",198],"(",")",";",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(","!",["T_ISSET","isset",199],"(",["T_VARIABLE","$rates",199],"[",["T_VARIABLE","$code",199],"]",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$rates",200],"[",["T_VARIABLE","$code",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_getResource",200],"(",")",["T_OBJECT_OPERATOR","->",200],["T_STRING","getAnyRate",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getCode",200],"(",")",",",["T_WHITESPACE"," ",200],["T_VARIABLE","$toCurrency",200],")",";",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","setRates",201],"(",["T_VARIABLE","$rates",201],")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$rates",203],"[",["T_VARIABLE","$code",203],"]",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Convert price to currency format\n     *\n     * @param   float $price\n     * @param   mixed $toCurrency\n     * @return  float\n     * @throws \\Exception\n     *\/",206],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","convert",214],"(",["T_VARIABLE","$price",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$toCurrency",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$toCurrency",216],["T_WHITESPACE"," ",216],["T_IS_IDENTICAL","===",216],["T_WHITESPACE"," ",216],["T_STRING","null",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$price",217],";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE"," ",218],["T_ELSEIF","elseif",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$rate",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getRate",218],"(",["T_VARIABLE","$toCurrency",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$price",219],["T_WHITESPACE"," ",219],"*",["T_WHITESPACE"," ",219],["T_VARIABLE","$rate",219],";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_THROW","throw",222],["T_WHITESPACE"," ",222],["T_NEW","new",222],["T_WHITESPACE"," ",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Exception",222],"(",["T_STRING","__",222],"(",["T_WHITESPACE","\n            ",222],["T_CONSTANT_ENCAPSED_STRING","'Undefined rate from \"%1-%2\".'",223],",",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getCode",224],"(",")",",",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getCurrencyCodeFromToCurrency",225],"(",["T_VARIABLE","$toCurrency",225],")",["T_WHITESPACE","\n        ",225],")",")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * @param mixed $toCurrency\n     * @return string\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PRIVATE","private",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getCurrencyCodeFromToCurrency",234],"(",["T_VARIABLE","$toCurrency",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_STRING","is_string",236],"(",["T_VARIABLE","$toCurrency",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$code",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$toCurrency",237],";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE"," ",238],["T_ELSEIF","elseif",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$toCurrency",238],["T_WHITESPACE"," ",238],["T_INSTANCEOF","instanceof",238],["T_WHITESPACE"," ",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Magento",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Directory",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Model",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Currency",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$code",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$toCurrency",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getCurrencyCode",239],"(",")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE"," ",240],["T_ELSE","else",240],["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_THROW","throw",241],["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_STRING","InputException",241],"(",["T_STRING","__",241],"(",["T_CONSTANT_ENCAPSED_STRING","'Please correct the target currency.'",241],")",")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n        ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$code",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Get currency filter\n     *\n     * @return Filter\n     *\/",246],["T_WHITESPACE","\n    ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","getFilter",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_filter",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_filter",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_currencyFilterFactory",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","create",254],"(","[",["T_CONSTANT_ENCAPSED_STRING","'code'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getCode",254],"(",")","]",")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n\n        ",255],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_filter",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Format price to currency format\n     *\n     * @param float $price\n     * @param array $options\n     * @param bool $includeContainer\n     * @param bool $addBrackets\n     * @return string\n     *\/",260],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","format",269],"(",["T_VARIABLE","$price",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$options",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],"[","]",",",["T_WHITESPACE"," ",269],["T_VARIABLE","$includeContainer",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","true",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$addBrackets",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","false",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","formatPrecision",271],"(",["T_VARIABLE","$price",271],",",["T_WHITESPACE"," ",271],["T_LNUMBER","2",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$options",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$includeContainer",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$addBrackets",271],")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Apply currency format to number with specific rounding precision\n     *\n     * @param   float $price\n     * @param   int $precision\n     * @param   array $options\n     * @param   bool $includeContainer\n     * @param   bool $addBrackets\n     * @return  string\n     *\/",274],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","formatPrecision",284],"(",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$price",285],",",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$precision",286],",",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$options",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[","]",",",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$includeContainer",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","true",288],",",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$addBrackets",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","false",289],["T_WHITESPACE","\n    ",289],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n        ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_ISSET","isset",291],"(",["T_VARIABLE","$options",291],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_VARIABLE","$options",292],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$precision",292],";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n        ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$includeContainer",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'<span class=\"price\">'",295],["T_WHITESPACE"," ",295],".",["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$addBrackets",295],["T_WHITESPACE"," ",295],"?",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'['",295],["T_WHITESPACE"," ",295],":",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","''",295],")",["T_WHITESPACE"," ",295],".",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","formatTxt",295],"(",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$price",296],",",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$options",297],["T_WHITESPACE","\n            ",297],")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$addBrackets",298],["T_WHITESPACE"," ",298],"?",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","']'",298],["T_WHITESPACE"," ",298],":",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","''",298],")",["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'<\/span>'",298],";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","formatTxt",300],"(",["T_VARIABLE","$price",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$options",300],")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * @param float $price\n     * @param array $options\n     * @return string\n     *\/",303],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","formatTxt",308],"(",["T_VARIABLE","$price",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$options",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],"[","]",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(","!",["T_STRING","is_numeric",310],"(",["T_VARIABLE","$price",310],")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$price",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_localeFormat",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getNumber",311],"(",["T_VARIABLE","$price",311],")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n        ",312],["T_DOC_COMMENT","\/**\n         * Fix problem with 12 000 000, 1 200 000\n         *\n         * %f - the argument is treated as a float, and presented as a floating-point number (locale aware).\n         * %F - the argument is treated as a float, and presented as a floating-point number (non-locale aware).\n         *\/",313],["T_WHITESPACE","\n        ",318],["T_VARIABLE","$price",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","sprintf",319],"(",["T_CONSTANT_ENCAPSED_STRING","\"%F\"",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$price",319],")",";",["T_WHITESPACE","\n        ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_localeCurrency",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getCurrency",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getCode",320],"(",")",")",["T_OBJECT_OPERATOR","->",320],["T_STRING","toCurrency",320],"(",["T_VARIABLE","$price",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$options",320],")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Return currency symbol for current locale and currency code\n     *\n     * @return string\n     *\/",323],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getCurrencySymbol",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_localeCurrency",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getCurrency",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getCode",330],"(",")",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","getSymbol",330],"(",")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",333],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getOutputFormat",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$formatted",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","formatTxt",338],"(",["T_LNUMBER","0",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$number",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","formatTxt",339],"(",["T_LNUMBER","0",339],",",["T_WHITESPACE"," ",339],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Magento",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Framework",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Currency",339],["T_DOUBLE_COLON","::",339],["T_STRING","NO_SYMBOL",339],"]",")",";",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","str_replace",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","trimUnicodeDirectionMark",340],"(",["T_VARIABLE","$number",340],")",",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'%s'",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$formatted",340],")",";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Retrieve allowed currencies according to config\n     *\n     * @return array\n     *\/",343],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","getConfigAllowCurrencies",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$allowedCurrencies",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_getResource",350],"(",")",["T_OBJECT_OPERATOR","->",350],["T_STRING","getConfigCurrencies",350],"(",["T_VARIABLE","$this",350],",",["T_WHITESPACE"," ",350],["T_STRING","self",350],["T_DOUBLE_COLON","::",350],["T_STRING","XML_PATH_CURRENCY_ALLOW",350],")",";",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$appBaseCurrencyCode",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_directoryHelper",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getBaseCurrencyCode",351],"(",")",";",["T_WHITESPACE","\n        ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(","!",["T_STRING","in_array",352],"(",["T_VARIABLE","$appBaseCurrencyCode",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$allowedCurrencies",352],")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$allowedCurrencies",353],"[","]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$appBaseCurrencyCode",353],";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n        ",354],["T_FOREACH","foreach",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_storeManager",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getStores",355],"(",")",["T_WHITESPACE"," ",355],["T_AS","as",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$store",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$code",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$store",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getBaseCurrencyCode",356],"(",")",";",["T_WHITESPACE","\n            ",356],["T_IF","if",357],["T_WHITESPACE"," ",357],"(","!",["T_STRING","in_array",357],"(",["T_VARIABLE","$code",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$allowedCurrencies",357],")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$allowedCurrencies",358],"[","]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$code",358],";",["T_WHITESPACE","\n            ",358],"}",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$allowedCurrencies",362],";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Retrieve default currencies according to config\n     *\n     * @return array\n     *\/",365],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","getConfigDefaultCurrencies",370],"(",")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$defaultCurrencies",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_getResource",372],"(",")",["T_OBJECT_OPERATOR","->",372],["T_STRING","getConfigCurrencies",372],"(",["T_VARIABLE","$this",372],",",["T_WHITESPACE"," ",372],["T_STRING","self",372],["T_DOUBLE_COLON","::",372],["T_STRING","XML_PATH_CURRENCY_DEFAULT",372],")",";",["T_WHITESPACE","\n        ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$defaultCurrencies",373],";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n\n    ",374],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",376],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","getConfigBaseCurrencies",379],"(",")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$defaultCurrencies",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_getResource",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","getConfigCurrencies",381],"(",["T_VARIABLE","$this",381],",",["T_WHITESPACE"," ",381],["T_STRING","self",381],["T_DOUBLE_COLON","::",381],["T_STRING","XML_PATH_CURRENCY_BASE",381],")",";",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$defaultCurrencies",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Retrieve currency rates to other currencies\n     *\n     * @param string $currency\n     * @param array|null $toCurrencies\n     * @return array\n     *\/",385],["T_WHITESPACE","\n    ",391],["T_PUBLIC","public",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","getCurrencyRates",392],"(",["T_VARIABLE","$currency",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$toCurrencies",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","null",392],")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$currency",394],["T_WHITESPACE"," ",394],["T_INSTANCEOF","instanceof",394],["T_WHITESPACE"," ",394],["T_NS_SEPARATOR","\\",394],["T_STRING","Magento",394],["T_NS_SEPARATOR","\\",394],["T_STRING","Directory",394],["T_NS_SEPARATOR","\\",394],["T_STRING","Model",394],["T_NS_SEPARATOR","\\",394],["T_STRING","Currency",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$currency",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$currency",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getCode",395],"(",")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$data",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_getResource",397],"(",")",["T_OBJECT_OPERATOR","->",397],["T_STRING","getCurrencyRates",397],"(",["T_VARIABLE","$currency",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$toCurrencies",397],")",";",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$data",398],";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Save currency rates\n     *\n     * @param array $rates\n     * @return $this\n     *\/",401],["T_WHITESPACE","\n    ",406],["T_PUBLIC","public",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","saveRates",407],"(",["T_VARIABLE","$rates",407],")",["T_WHITESPACE","\n    ",407],"{",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_getResource",409],"(",")",["T_OBJECT_OPERATOR","->",409],["T_STRING","saveRates",409],"(",["T_VARIABLE","$rates",409],")",";",["T_WHITESPACE","\n        ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * This method removes LRM and RLM marks from string\n     *\n     * @param string $string\n     * @return $this\n     *\/",413],["T_WHITESPACE","\n    ",418],["T_PRIVATE","private",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","trimUnicodeDirectionMark",419],"(",["T_VARIABLE","$string",419],")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_STRING","preg_match",421],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(\\x{200E}|\\x{200F})\/u'",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$string",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$match",421],")",")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$string",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","preg_replace",422],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",422],".",["T_VARIABLE","$match",422],"[",["T_LNUMBER","1",422],"]",".",["T_CONSTANT_ENCAPSED_STRING","'\/u'",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","''",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$string",422],")",";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n        ",423],["T_RETURN","return",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$string",424],";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n",425],"}",["T_WHITESPACE","\n",426]]