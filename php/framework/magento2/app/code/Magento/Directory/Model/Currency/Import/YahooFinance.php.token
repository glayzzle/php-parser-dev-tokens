[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Directory",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Currency",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Import",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Currency rate import model (From http:\/\/query.yahooapis.com\/)\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","YahooFinance",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Directory",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Currency",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Import",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractImport",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Currency converter url string\n     *\n     * @var string\n     *\/",13],["T_WHITESPACE","\n    ",17],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",18],["T_WHITESPACE","    ",19],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$currencyConverterUrl",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/query.yahooapis.com\/v1\/public\/yql?format=json&q={{YQL_STRING}}&env=store:\/\/datatables.org\/alltableswithkeys'",19],";",["T_WHITESPACE","\n    ",19],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",20],["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Config path for service timeout\n     *\n     * @var string\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$timeoutConfigPath",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'currency\/yahoofinance\/timeout'",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Http Client Factory\n     *\n     * @var \\Magento\\Framework\\HTTP\\ZendClientFactory\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$httpClientFactory",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Core scope config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$scopeConfig",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Initialize dependencies\n     *\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Framework\\HTTP\\ZendClientFactory $httpClientFactory\n     *\/",43],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","__construct",50],"(",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Directory",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","CurrencyFactory",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$currencyFactory",51],",",["T_WHITESPACE","\n        ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Framework",52],["T_NS_SEPARATOR","\\",52],["T_STRING","App",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Config",52],["T_NS_SEPARATOR","\\",52],["T_STRING","ScopeConfigInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$scopeConfig",52],",",["T_WHITESPACE","\n        ",52],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","HTTP",53],["T_NS_SEPARATOR","\\",53],["T_STRING","ZendClientFactory",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$httpClientFactory",53],["T_WHITESPACE","\n    ",53],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_STRING","parent",55],["T_DOUBLE_COLON","::",55],["T_STRING","__construct",55],"(",["T_VARIABLE","$currencyFactory",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","scopeConfig",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$scopeConfig",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","httpClientFactory",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$httpClientFactory",57],";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","fetchRates",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$currencies",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_getCurrencyCodes",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$defaultCurrencies",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_getDefaultCurrencyCodes",67],"(",")",";",["T_WHITESPACE","\n\n        ",67],["T_FOREACH","foreach",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$defaultCurrencies",69],["T_WHITESPACE"," ",69],["T_AS","as",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$currencyFrom",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_ISSET","isset",70],"(",["T_VARIABLE","$data",70],"[",["T_VARIABLE","$currencyFrom",70],"]",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$data",71],"[",["T_VARIABLE","$currencyFrom",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[","]",";",["T_WHITESPACE","\n            ",71],"}",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$data",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","convertBatch",73],"(",["T_VARIABLE","$data",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$currencyFrom",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$currencies",73],")",";",["T_WHITESPACE","\n            ",73],["T_STRING","ksort",74],"(",["T_VARIABLE","$data",74],"[",["T_VARIABLE","$currencyFrom",74],"]",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$data",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Return currencies convert rates in batch mode\n     *\n     * @param array $data\n     * @param string $currencyFrom\n     * @param array $currenciesTo\n     * @return array\n     *\/",79],["T_WHITESPACE","\n    ",86],["T_PRIVATE","private",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","convertBatch",87],"(",["T_VARIABLE","$data",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$currencyFrom",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$currenciesTo",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$url",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","buildUrl",89],"(",["T_VARIABLE","$currencyFrom",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$currenciesTo",89],")",";",["T_WHITESPACE","\n        ",89],["T_STRING","set_time_limit",90],"(",["T_LNUMBER","0",90],")",";",["T_WHITESPACE","\n        ",90],["T_TRY","try",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$response",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getServiceResponse",92],"(",["T_VARIABLE","$url",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE"," ",93],["T_FINALLY","finally",93],["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_STRING","ini_restore",94],"(",["T_CONSTANT_ENCAPSED_STRING","'max_execution_time'",94],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$currenciesTo",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$currencyTo",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$currencyFrom",98],["T_WHITESPACE"," ",98],["T_IS_EQUAL","==",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$currencyTo",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$data",99],"[",["T_VARIABLE","$currencyFrom",99],"]","[",["T_VARIABLE","$currencyTo",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_numberFormat",99],"(",["T_LNUMBER","1",99],")",";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE"," ",100],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_EMPTY","empty",101],"(",["T_VARIABLE","$response",101],"[",["T_VARIABLE","$currencyFrom",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$currencyTo",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_messages",102],"[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","__",102],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t retrieve a rate from %1 for %2.'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$url",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$currencyTo",102],")",";",["T_WHITESPACE","\n                    ",102],["T_VARIABLE","$data",103],"[",["T_VARIABLE","$currencyFrom",103],"]","[",["T_VARIABLE","$currencyTo",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],";",["T_WHITESPACE","\n                ",103],"}",["T_WHITESPACE"," ",104],["T_ELSE","else",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                    ",104],["T_VARIABLE","$data",105],"[",["T_VARIABLE","$currencyFrom",105],"]","[",["T_VARIABLE","$currencyTo",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_numberFormat",105],"(",["T_WHITESPACE","\n                        ",105],["T_DOUBLE_CAST","(double)",106],["T_VARIABLE","$response",106],"[",["T_VARIABLE","$currencyFrom",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$currencyTo",106],"]",["T_WHITESPACE","\n                    ",106],")",";",["T_WHITESPACE","\n                ",107],"}",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$data",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Get Fixer.io service response\n     *\n     * @param string $url\n     * @param int $retry\n     * @return array\n     *\/",114],["T_WHITESPACE","\n    ",120],["T_PRIVATE","private",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","getServiceResponse",121],"(",["T_VARIABLE","$url",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$retry",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_LNUMBER","0",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\HTTP\\ZendClient $httpClient *\/",123],["T_WHITESPACE","\n        ",123],["T_VARIABLE","$httpClient",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","httpClientFactory",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","create",124],"(",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$response",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[","]",";",["T_WHITESPACE","\n        ",125],["T_TRY","try",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$jsonResponse",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$httpClient",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setUri",127],"(",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$url",128],["T_WHITESPACE","\n            ",128],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","setConfig",129],"(",["T_WHITESPACE","\n                ",129],"[",["T_WHITESPACE","\n                    ",130],["T_CONSTANT_ENCAPSED_STRING","'timeout'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","scopeConfig",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getValue",131],"(",["T_WHITESPACE","\n                        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","timeoutConfigPath",132],",",["T_WHITESPACE","\n                        ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Store",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Model",133],["T_NS_SEPARATOR","\\",133],["T_STRING","ScopeInterface",133],["T_DOUBLE_COLON","::",133],["T_STRING","SCOPE_STORE",133],["T_WHITESPACE","\n                    ",133],")",",",["T_WHITESPACE","\n                ",134],"]",["T_WHITESPACE","\n            ",135],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","request",136],"(",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'GET'",137],["T_WHITESPACE","\n            ",137],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","getBody",138],"(",")",";",["T_WHITESPACE","\n\n            ",138],["T_VARIABLE","$jsonResponse",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","json_decode",140],"(",["T_VARIABLE","$jsonResponse",140],",",["T_WHITESPACE"," ",140],["T_STRING","true",140],")",";",["T_WHITESPACE","\n            ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_EMPTY","empty",141],"(",["T_VARIABLE","$jsonResponse",141],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'results'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rate'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$response",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","array_column",142],"(",["T_VARIABLE","$jsonResponse",142],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",142],"]","[",["T_CONSTANT_ENCAPSED_STRING","'results'",142],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rate'",142],"]",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Rate'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'id'",142],")",";",["T_WHITESPACE","\n            ",142],"}",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE"," ",144],["T_CATCH","catch",144],["T_WHITESPACE"," ",144],"(",["T_NS_SEPARATOR","\\",144],["T_STRING","Exception",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$e",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$retry",145],["T_WHITESPACE"," ",145],["T_IS_EQUAL","==",145],["T_WHITESPACE"," ",145],["T_LNUMBER","0",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$response",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getServiceResponse",146],"(",["T_VARIABLE","$url",146],",",["T_WHITESPACE"," ",146],["T_LNUMBER","1",146],")",";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$response",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",152],["T_WHITESPACE","\n    ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","_convert",155],"(",["T_VARIABLE","$currencyFrom",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$currencyTo",155],")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Build url for Currency Service\n     *\n     * @param string $currencyFrom\n     * @param string[] $currenciesTo\n     * @return string\n     *\/",159],["T_WHITESPACE","\n    ",165],["T_PRIVATE","private",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","buildUrl",166],"(",["T_VARIABLE","$currencyFrom",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$currenciesTo",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$query",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","urlencode",168],"(",["T_CONSTANT_ENCAPSED_STRING","'select '",168],")",["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'*'",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_STRING","urlencode",168],"(",["T_CONSTANT_ENCAPSED_STRING","' from yahoo.finance.xchange where pair in ('",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$query",169],["T_WHITESPACE"," ",169],["T_CONCAT_EQUAL",".=",169],["T_WHITESPACE","\n            ",169],["T_STRING","urlencode",170],"(",["T_WHITESPACE","\n                ",170],["T_STRING","implode",171],"(",["T_WHITESPACE","\n                    ",171],["T_CONSTANT_ENCAPSED_STRING","','",172],",",["T_WHITESPACE","\n                    ",172],["T_STRING","array_map",173],"(",["T_WHITESPACE","\n                        ",173],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$currencyTo",174],")",["T_WHITESPACE"," ",174],["T_USE","use",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$currencyFrom",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                            ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'\"'",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$currencyFrom",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$currencyTo",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'\"'",175],";",["T_WHITESPACE","\n                        ",175],"}",",",["T_WHITESPACE","\n                        ",176],["T_VARIABLE","$currenciesTo",177],["T_WHITESPACE","\n                    ",177],")",["T_WHITESPACE","\n                ",178],")",["T_WHITESPACE","\n            ",179],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$query",181],["T_WHITESPACE"," ",181],["T_CONCAT_EQUAL",".=",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","')'",181],";",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_STRING","str_replace",182],"(",["T_CONSTANT_ENCAPSED_STRING","'{{YQL_STRING}}'",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$query",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","currencyConverterUrl",182],")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n",183],"}",["T_WHITESPACE","\n",184]]