[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Directory",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Currency",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Import",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Currency rate import model (From www.webservicex.net)\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Webservicex",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Directory",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Currency",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Import",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractImport",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Currency converter url\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",17],["T_WHITESPACE","    ",18],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","CURRENCY_CONVERTER_URL",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.webservicex.net\/CurrencyConvertor.asmx\/ConversionRate?FromCurrency={{CURRENCY_FROM}}&ToCurrency={{CURRENCY_TO}}'",18],";",["T_WHITESPACE","\n    ",18],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",19],["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Http Client Factory\n     *\n     * @var \\Magento\\Framework\\HTTP\\ZendClientFactory\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$httpClientFactory",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Core scope config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$scopeConfig",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     *\/",35],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Directory",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","CurrencyFactory",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$currencyFactory",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","App",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Config",41],["T_NS_SEPARATOR","\\",41],["T_STRING","ScopeConfigInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$scopeConfig",41],["T_WHITESPACE","\n    ",41],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","__construct",43],"(",["T_VARIABLE","$currencyFactory",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","scopeConfig",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$scopeConfig",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @param string $currencyFrom\n     * @param string $currencyTo\n     * @param int $retry\n     * @return float|null\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","_convert",53],"(",["T_VARIABLE","$currencyFrom",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$currencyTo",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$retry",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_LNUMBER","0",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$url",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","str_replace",55],"(",["T_CONSTANT_ENCAPSED_STRING","'{{CURRENCY_FROM}}'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$currencyFrom",55],",",["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","CURRENCY_CONVERTER_URL",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$url",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","str_replace",56],"(",["T_CONSTANT_ENCAPSED_STRING","'{{CURRENCY_TO}}'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$currencyTo",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$url",56],")",";",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\HTTP\\ZendClient $httpClient *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$httpClient",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getHttpClientFactory",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","create",58],"(",")",";",["T_WHITESPACE","\n\n        ",58],["T_TRY","try",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$response",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$httpClient",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setUri",61],"(",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$url",62],["T_WHITESPACE","\n            ",62],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","setConfig",63],"(",["T_WHITESPACE","\n                ",63],"[",["T_WHITESPACE","\n                    ",64],["T_CONSTANT_ENCAPSED_STRING","'timeout'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","scopeConfig",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getValue",65],"(",["T_WHITESPACE","\n                        ",65],["T_CONSTANT_ENCAPSED_STRING","'currency\/webservicex\/timeout'",66],",",["T_WHITESPACE","\n                        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Store",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Model",67],["T_NS_SEPARATOR","\\",67],["T_STRING","ScopeInterface",67],["T_DOUBLE_COLON","::",67],["T_STRING","SCOPE_STORE",67],["T_WHITESPACE","\n                    ",67],")",",",["T_WHITESPACE","\n                ",68],"]",["T_WHITESPACE","\n            ",69],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","request",70],"(",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'GET'",71],["T_WHITESPACE","\n            ",71],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getBody",72],"(",")",";",["T_WHITESPACE","\n\n            ",72],["T_VARIABLE","$xml",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","simplexml_load_string",74],"(",["T_VARIABLE","$response",74],",",["T_WHITESPACE"," ",74],["T_STRING","null",74],",",["T_WHITESPACE"," ",74],["T_STRING","LIBXML_NOERROR",74],")",";",["T_WHITESPACE","\n            ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(","!",["T_VARIABLE","$xml",75],["T_WHITESPACE"," ",75],["T_BOOLEAN_OR","||",75],["T_WHITESPACE"," ",75],"(",["T_ISSET","isset",75],"(",["T_VARIABLE","$xml",75],"[",["T_LNUMBER","0",75],"]",")",["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$xml",75],"[",["T_LNUMBER","0",75],"]",["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],"-",["T_LNUMBER","1",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_messages",76],"[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","__",76],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t retrieve a rate from %1.'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$url",76],")",";",["T_WHITESPACE","\n                ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","null",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n            ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_DOUBLE_CAST","(double)",79],["T_VARIABLE","$xml",79],";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE"," ",80],["T_CATCH","catch",80],["T_WHITESPACE"," ",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Exception",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$e",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$retry",81],["T_WHITESPACE"," ",81],["T_IS_EQUAL","==",81],["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_convert",82],"(",["T_VARIABLE","$currencyFrom",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$currencyTo",82],",",["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],")",";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE"," ",83],["T_ELSE","else",83],["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_messages",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t retrieve a rate from %1.'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$url",84],")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Get HttpClientFactory dependency\n     *\n     * @return \\Magento\\Framework\\HTTP\\ZendClientFactory\n     *\n     * @deprecated\n     *\/",89],["T_WHITESPACE","\n    ",95],["T_PRIVATE","private",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getHttpClientFactory",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","httpClientFactory",98],["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_STRING","null",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","httpClientFactory",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","App",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ObjectManager",99],["T_DOUBLE_COLON","::",99],["T_STRING","getInstance",99],"(",")",["T_WHITESPACE","\n                ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","get",100],"(",["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","HTTP",100],["T_NS_SEPARATOR","\\",100],["T_STRING","ZendClientFactory",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","httpClientFactory",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n",103],"}",["T_WHITESPACE","\n",104]]