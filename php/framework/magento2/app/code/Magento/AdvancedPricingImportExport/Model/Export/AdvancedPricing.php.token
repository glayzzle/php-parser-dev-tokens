[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AdvancedPricingImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Export",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Store",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Store",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogImportExport",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Import",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","ImportProduct",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AdvancedPricingImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Import",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AdvancedPricing",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ImportAdvancedPricing",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Product",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","CatalogProduct",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Export Advanced Pricing\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","AdvancedPricing",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","CatalogImportExport",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Export",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Product",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","ENTITY_ADVANCED_PRICING",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'advanced_pricing'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogImportExport\\Model\\Import\\Product\\StoreResolver\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_storeResolver",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\GroupRepositoryInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_groupRepository",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_entityTypeCode",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\ResourceConnection\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_resource",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_passTierPrice",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * List of items websites\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_priceWebsite",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[",["T_WHITESPACE","\n        ",55],["T_STRING","ImportAdvancedPricing",56],["T_DOUBLE_COLON","::",56],["T_STRING","COL_TIER_PRICE_WEBSITE",56],",",["T_WHITESPACE","\n    ",56],"]",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * List of items customer groups\n     *\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_priceCustomerGroup",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[",["T_WHITESPACE","\n        ",64],["T_STRING","ImportAdvancedPricing",65],["T_DOUBLE_COLON","::",65],["T_STRING","COL_TIER_PRICE_CUSTOMER_GROUP",65],",",["T_WHITESPACE","\n    ",65],"]",";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Export template\n     *\n     * @var array\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$templateExportData",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[",["T_WHITESPACE","\n        ",73],["T_STRING","ImportAdvancedPricing",74],["T_DOUBLE_COLON","::",74],["T_STRING","COL_SKU",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],",",["T_WHITESPACE","\n        ",74],["T_STRING","ImportAdvancedPricing",75],["T_DOUBLE_COLON","::",75],["T_STRING","COL_TIER_PRICE_WEBSITE",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","ImportAdvancedPricing",76],["T_DOUBLE_COLON","::",76],["T_STRING","COL_TIER_PRICE_CUSTOMER_GROUP",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","ImportAdvancedPricing",77],["T_DOUBLE_COLON","::",77],["T_STRING","COL_TIER_PRICE_QTY",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","ImportAdvancedPricing",78],["T_DOUBLE_COLON","::",78],["T_STRING","COL_TIER_PRICE",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","''",78],",",["T_WHITESPACE","\n        ",78],["T_STRING","ImportAdvancedPricing",79],["T_DOUBLE_COLON","::",79],["T_STRING","COL_TIER_PRICE_TYPE",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],["T_WHITESPACE","\n    ",79],"]",";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Stdlib\\DateTime\\TimezoneInterface $localeDate\n     * @param \\Magento\\Eav\\Model\\Config $config\n     * @param \\Magento\\Framework\\App\\ResourceConnection $resource\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\CollectionFactory $collectionFactory\n     * @param \\Magento\\ImportExport\\Model\\Export\\ConfigInterface $exportConfig\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\ProductFactory $productFactory\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Set\\CollectionFactory $attrSetColFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Category\\CollectionFactory $categoryColFactory\n     * @param \\Magento\\CatalogInventory\\Model\\ResourceModel\\Stock\\ItemFactory $itemFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Option\\CollectionFactory $optionColFactory\n     * @param \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Attribute\\CollectionFactory $attributeColFactory\n     * @param \\Magento\\CatalogImportExport\\Model\\Export\\Product\\Type\\Factory $_typeFactory\n     * @param \\Magento\\Catalog\\Model\\Product\\LinkTypeProvider $linkTypeProvider\n     * @param \\Magento\\CatalogImportExport\\Model\\Export\\RowCustomizerInterface $rowCustomizer\n     * @param ImportProduct\\StoreResolver $storeResolver\n     * @param \\Magento\\Customer\\Api\\GroupRepositoryInterface $groupRepository\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",82],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","__construct",104],"(",["T_WHITESPACE","\n        ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Framework",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Stdlib",105],["T_NS_SEPARATOR","\\",105],["T_STRING","DateTime",105],["T_NS_SEPARATOR","\\",105],["T_STRING","TimezoneInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$localeDate",105],",",["T_WHITESPACE","\n        ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Eav",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Model",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Config",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$config",106],",",["T_WHITESPACE","\n        ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","App",107],["T_NS_SEPARATOR","\\",107],["T_STRING","ResourceConnection",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$resource",107],",",["T_WHITESPACE","\n        ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Store",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Model",108],["T_NS_SEPARATOR","\\",108],["T_STRING","StoreManagerInterface",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$storeManager",108],",",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Psr",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Log",109],["T_NS_SEPARATOR","\\",109],["T_STRING","LoggerInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$logger",109],",",["T_WHITESPACE","\n        ",109],["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Catalog",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","ResourceModel",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Product",110],["T_NS_SEPARATOR","\\",110],["T_STRING","CollectionFactory",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$collectionFactory",110],",",["T_WHITESPACE","\n        ",110],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","ImportExport",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Export",111],["T_NS_SEPARATOR","\\",111],["T_STRING","ConfigInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$exportConfig",111],",",["T_WHITESPACE","\n        ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Catalog",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","ResourceModel",112],["T_NS_SEPARATOR","\\",112],["T_STRING","ProductFactory",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$productFactory",112],",",["T_WHITESPACE","\n        ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Eav",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","ResourceModel",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Entity",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Attribute",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Set",113],["T_NS_SEPARATOR","\\",113],["T_STRING","CollectionFactory",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$attrSetColFactory",113],",",["T_WHITESPACE","\n        ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Catalog",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Model",114],["T_NS_SEPARATOR","\\",114],["T_STRING","ResourceModel",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Category",114],["T_NS_SEPARATOR","\\",114],["T_STRING","CollectionFactory",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$categoryColFactory",114],",",["T_WHITESPACE","\n        ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","CatalogInventory",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Model",115],["T_NS_SEPARATOR","\\",115],["T_STRING","ResourceModel",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Stock",115],["T_NS_SEPARATOR","\\",115],["T_STRING","ItemFactory",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$itemFactory",115],",",["T_WHITESPACE","\n        ",115],["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Catalog",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","ResourceModel",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Product",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Option",116],["T_NS_SEPARATOR","\\",116],["T_STRING","CollectionFactory",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$optionColFactory",116],",",["T_WHITESPACE","\n        ",116],["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Catalog",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","ResourceModel",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Product",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Attribute",117],["T_NS_SEPARATOR","\\",117],["T_STRING","CollectionFactory",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$attributeColFactory",117],",",["T_WHITESPACE","\n        ",117],["T_NS_SEPARATOR","\\",118],["T_STRING","Magento",118],["T_NS_SEPARATOR","\\",118],["T_STRING","CatalogImportExport",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Model",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Export",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Product",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Type",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Factory",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$_typeFactory",118],",",["T_WHITESPACE","\n        ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Catalog",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Model",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Product",119],["T_NS_SEPARATOR","\\",119],["T_STRING","LinkTypeProvider",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$linkTypeProvider",119],",",["T_WHITESPACE","\n        ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","CatalogImportExport",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Model",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Export",120],["T_NS_SEPARATOR","\\",120],["T_STRING","RowCustomizerInterface",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$rowCustomizer",120],",",["T_WHITESPACE","\n        ",120],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","CatalogImportExport",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Model",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Import",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Product",121],["T_NS_SEPARATOR","\\",121],["T_STRING","StoreResolver",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$storeResolver",121],",",["T_WHITESPACE","\n        ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Customer",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Api",122],["T_NS_SEPARATOR","\\",122],["T_STRING","GroupRepositoryInterface",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$groupRepository",122],["T_WHITESPACE","\n    ",122],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_storeResolver",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$storeResolver",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_groupRepository",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$groupRepository",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_resource",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$resource",126],";",["T_WHITESPACE","\n        ",126],["T_STRING","parent",127],["T_DOUBLE_COLON","::",127],["T_STRING","__construct",127],"(",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$localeDate",128],",",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$config",129],",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$resource",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$storeManager",131],",",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$logger",132],",",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$collectionFactory",133],",",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$exportConfig",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$productFactory",135],",",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$attrSetColFactory",136],",",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$categoryColFactory",137],",",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$itemFactory",138],",",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$optionColFactory",139],",",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$attributeColFactory",140],",",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$_typeFactory",141],",",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$linkTypeProvider",142],",",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$rowCustomizer",143],["T_WHITESPACE","\n        ",143],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",147],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","initTypeModels",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$productTypes",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_exportConfig",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getEntityTypes",153],"(",["T_STRING","CatalogProduct",153],["T_DOUBLE_COLON","::",153],["T_STRING","ENTITY",153],")",";",["T_WHITESPACE","\n        ",153],["T_FOREACH","foreach",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$productTypes",154],["T_WHITESPACE"," ",154],["T_AS","as",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$productTypeName",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$productTypeConfig",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","!","(",["T_VARIABLE","$model",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_typeFactory",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","create",155],"(",["T_VARIABLE","$productTypeConfig",155],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",155],"]",")",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Exception",156],["T_NS_SEPARATOR","\\",156],["T_STRING","LocalizedException",156],"(",["T_WHITESPACE","\n                    ",156],["T_STRING","__",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity type model \\'%1\\' is not found'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$productTypeConfig",157],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",157],"]",")",["T_WHITESPACE","\n                ",157],")",";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n            ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_VARIABLE","$model",160],["T_WHITESPACE"," ",160],["T_INSTANCEOF","instanceof",160],["T_WHITESPACE"," ",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Magento",160],["T_NS_SEPARATOR","\\",160],["T_STRING","CatalogImportExport",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Model",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Export",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Product",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Type",160],["T_NS_SEPARATOR","\\",160],["T_STRING","AbstractType",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_THROW","throw",161],["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Framework",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Exception",161],["T_NS_SEPARATOR","\\",161],["T_STRING","LocalizedException",161],"(",["T_WHITESPACE","\n                    ",161],["T_STRING","__",162],"(",["T_WHITESPACE","\n                        ",162],["T_CONSTANT_ENCAPSED_STRING","'Entity type model must be an instance of'",163],["T_WHITESPACE","\n                        ",163],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","' \\Magento\\CatalogImportExport\\Model\\Export\\Product\\Type\\AbstractType'",164],["T_WHITESPACE","\n                    ",164],")",["T_WHITESPACE","\n                ",165],")",";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$model",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","isSuitable",168],"(",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_productTypeModels",169],"[",["T_VARIABLE","$productTypeName",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$model",169],";",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_disabledAttrs",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","array_merge",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_disabledAttrs",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$model",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getDisabledAttrs",170],"(",")",")",";",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_indexValueAttributes",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","array_merge",171],"(",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_indexValueAttributes",172],",",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$model",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getIndexValueAttributes",173],"(",")",["T_WHITESPACE","\n                ",173],")",";",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_productTypeModels",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_THROW","throw",178],["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Framework",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Exception",178],["T_NS_SEPARATOR","\\",178],["T_STRING","LocalizedException",178],"(",["T_WHITESPACE","\n                ",178],["T_STRING","__",179],"(",["T_CONSTANT_ENCAPSED_STRING","'There are no product types available for export'",179],")",["T_WHITESPACE","\n            ",179],")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_disabledAttrs",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","array_unique",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_disabledAttrs",182],")",";",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Export process\n     *\n     * @return string\n     *\/",186],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","export",191],"(",")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_COMMENT","\/\/Execution time may be very long\n",193],["T_WHITESPACE","        ",194],["T_STRING","set_time_limit",194],"(",["T_LNUMBER","0",194],")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$writer",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getWriter",196],"(",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$page",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],";",["T_WHITESPACE","\n        ",197],["T_WHILE","while",198],["T_WHITESPACE"," ",198],"(",["T_STRING","true",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_INC","++",199],["T_VARIABLE","$page",199],";",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$entityCollection",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_getEntityCollection",200],"(",["T_STRING","true",200],")",";",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$entityCollection",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","setOrder",201],"(",["T_CONSTANT_ENCAPSED_STRING","'has_options'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'asc'",201],")",";",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$entityCollection",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","setStoreId",202],"(",["T_STRING","Store",202],["T_DOUBLE_COLON","::",202],["T_STRING","DEFAULT_STORE_ID",202],")",";",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_prepareEntityCollection",203],"(",["T_VARIABLE","$entityCollection",203],")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","paginateCollection",204],"(",["T_VARIABLE","$page",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getItemsPerPage",204],"(",")",")",";",["T_WHITESPACE","\n            ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$entityCollection",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","count",205],"(",")",["T_WHITESPACE"," ",205],["T_IS_EQUAL","==",205],["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_BREAK","break",206],";",["T_WHITESPACE","\n            ",206],"}",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$exportData",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getExportData",208],"(",")",";",["T_WHITESPACE","\n            ",208],["T_FOREACH","foreach",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$exportData",209],["T_WHITESPACE"," ",209],["T_AS","as",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$dataRow",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$writer",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","writeRow",210],"(",["T_VARIABLE","$dataRow",210],")",";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$entityCollection",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getCurPage",212],"(",")",["T_WHITESPACE"," ",212],["T_IS_GREATER_OR_EQUAL",">=",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$entityCollection",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getLastPageNumber",212],"(",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_BREAK","break",213],";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$writer",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getContents",216],"(",")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Clean up attribute collection.\n     *\n     * @param \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Collection $collection\n     * @return \\Magento\\Eav\\Model\\ResourceModel\\Entity\\Attribute\\Collection\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","filterAttributeCollection",225],"(",["T_NS_SEPARATOR","\\",225],["T_STRING","Magento",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Eav",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Model",225],["T_NS_SEPARATOR","\\",225],["T_STRING","ResourceModel",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Entity",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Attribute",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Collection",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$collection",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$collection",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","load",227],"(",")",";",["T_WHITESPACE","\n\n        ",227],["T_FOREACH","foreach",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$collection",229],["T_WHITESPACE"," ",229],["T_AS","as",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$attribute",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_STRING","in_array",230],"(",["T_VARIABLE","$attribute",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getAttributeCode",230],"(",")",",",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_disabledAttrs",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_ISSET","isset",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_parameters",231],"[",["T_NS_SEPARATOR","\\",231],["T_STRING","Magento",231],["T_NS_SEPARATOR","\\",231],["T_STRING","ImportExport",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Model",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Export",231],["T_DOUBLE_COLON","::",231],["T_STRING","FILTER_ELEMENT_SKIP",231],"]",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$attribute",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getAttributeCode",232],"(",")",["T_WHITESPACE"," ",232],["T_IS_EQUAL","==",232],["T_WHITESPACE"," ",232],["T_STRING","ImportAdvancedPricing",232],["T_DOUBLE_COLON","::",232],["T_STRING","COL_TIER_PRICE",232],["T_WHITESPACE","\n                        ",232],["T_BOOLEAN_AND","&&",233],["T_WHITESPACE"," ",233],["T_STRING","in_array",233],"(",["T_WHITESPACE","\n                            ",233],["T_VARIABLE","$attribute",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getId",234],"(",")",",",["T_WHITESPACE","\n                            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_parameters",235],"[",["T_NS_SEPARATOR","\\",235],["T_STRING","Magento",235],["T_NS_SEPARATOR","\\",235],["T_STRING","ImportExport",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Model",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Export",235],["T_DOUBLE_COLON","::",235],["T_STRING","FILTER_ELEMENT_SKIP",235],"]",["T_WHITESPACE","\n                        ",235],")",["T_WHITESPACE","\n                    ",236],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_passTierPrice",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_LNUMBER","1",238],";",["T_WHITESPACE","\n                    ",238],"}",["T_WHITESPACE","\n                ",239],"}",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$collection",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","removeItemByKey",241],"(",["T_VARIABLE","$attribute",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getId",241],"(",")",")",";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$collection",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Get export data for collection\n     *\n     * @return array|mixed\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",247],["T_WHITESPACE","\n    ",255],["T_PROTECTED","protected",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","getExportData",256],"(",")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$exportData",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],"[","]",";",["T_WHITESPACE","\n        ",258],["T_TRY","try",259],["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$rawData",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","collectRawData",260],"(",")",";",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$productIds",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","array_keys",261],"(",["T_VARIABLE","$rawData",261],")",";",["T_WHITESPACE","\n            ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_ISSET","isset",262],"(",["T_VARIABLE","$productIds",262],")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n                ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_passTierPrice",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                    ",263],["T_VARIABLE","$exportData",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","array_merge",264],"(",["T_WHITESPACE","\n                        ",264],["T_VARIABLE","$exportData",265],",",["T_WHITESPACE","\n                        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getTierPrices",266],"(",["T_VARIABLE","$productIds",266],",",["T_WHITESPACE"," ",266],["T_STRING","ImportAdvancedPricing",266],["T_DOUBLE_COLON","::",266],["T_STRING","TABLE_TIER_PRICE",266],")",["T_WHITESPACE","\n                    ",266],")",";",["T_WHITESPACE","\n                ",267],"}",["T_WHITESPACE","\n            ",268],"}",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$exportData",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_VARIABLE","$exportData",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","correctExportData",271],"(",["T_VARIABLE","$exportData",271],")",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_ISSET","isset",273],"(",["T_VARIABLE","$exportData",273],")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_STRING","asort",274],"(",["T_VARIABLE","$exportData",274],")",";",["T_WHITESPACE","\n            ",274],"}",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE"," ",276],["T_CATCH","catch",276],["T_WHITESPACE"," ",276],"(",["T_NS_SEPARATOR","\\",276],["T_STRING","Exception",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$e",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_logger",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","critical",277],"(",["T_VARIABLE","$e",277],")",";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$exportData",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Correct export data.\n     *\n     * @param array $exportData\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",282],["T_WHITESPACE","\n    ",288],["T_PROTECTED","protected",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","correctExportData",289],"(",["T_VARIABLE","$exportData",289],")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$customExportData",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],"[","]",";",["T_WHITESPACE","\n        ",291],["T_FOREACH","foreach",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$exportData",292],["T_WHITESPACE"," ",292],["T_AS","as",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$key",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$row",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$exportRow",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","templateExportData",293],";",["T_WHITESPACE","\n            ",293],["T_FOREACH","foreach",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$exportRow",294],["T_WHITESPACE"," ",294],["T_AS","as",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$keyTemplate",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$valueTemplate",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_ISSET","isset",295],"(",["T_VARIABLE","$row",295],"[",["T_VARIABLE","$keyTemplate",295],"]",")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                    ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_STRING","in_array",296],"(",["T_VARIABLE","$keyTemplate",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_priceWebsite",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                        ",296],["T_VARIABLE","$exportRow",297],"[",["T_VARIABLE","$keyTemplate",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_getWebsiteCode",297],"(",["T_WHITESPACE","\n                            ",297],["T_VARIABLE","$row",298],"[",["T_VARIABLE","$keyTemplate",298],"]",["T_WHITESPACE","\n                        ",298],")",";",["T_WHITESPACE","\n                    ",299],"}",["T_WHITESPACE"," ",300],["T_ELSEIF","elseif",300],["T_WHITESPACE"," ",300],"(",["T_STRING","in_array",300],"(",["T_VARIABLE","$keyTemplate",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_priceCustomerGroup",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n                        ",300],["T_VARIABLE","$exportRow",301],"[",["T_VARIABLE","$keyTemplate",301],"]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_getCustomerGroupById",301],"(",["T_WHITESPACE","\n                            ",301],["T_VARIABLE","$row",302],"[",["T_VARIABLE","$keyTemplate",302],"]",",",["T_WHITESPACE","\n                            ",302],["T_ISSET","isset",303],"(",["T_VARIABLE","$row",303],"[",["T_STRING","ImportAdvancedPricing",303],["T_DOUBLE_COLON","::",303],["T_STRING","VALUE_ALL_GROUPS",303],"]",")",["T_WHITESPACE","\n                            ",303],"?",["T_WHITESPACE"," ",304],["T_VARIABLE","$row",304],"[",["T_STRING","ImportAdvancedPricing",304],["T_DOUBLE_COLON","::",304],["T_STRING","VALUE_ALL_GROUPS",304],"]",["T_WHITESPACE","\n                            ",304],":",["T_WHITESPACE"," ",305],["T_STRING","null",305],["T_WHITESPACE","\n                        ",305],")",";",["T_WHITESPACE","\n                        ",306],["T_UNSET","unset",307],"(",["T_VARIABLE","$exportRow",307],"[",["T_STRING","ImportAdvancedPricing",307],["T_DOUBLE_COLON","::",307],["T_STRING","VALUE_ALL_GROUPS",307],"]",")",";",["T_WHITESPACE","\n                    ",307],"}",["T_WHITESPACE"," ",308],["T_ELSEIF","elseif",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$keyTemplate",308],["T_WHITESPACE"," ",308],["T_IS_IDENTICAL","===",308],["T_WHITESPACE"," ",308],["T_STRING","ImportAdvancedPricing",308],["T_DOUBLE_COLON","::",308],["T_STRING","COL_TIER_PRICE",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                        ",308],["T_VARIABLE","$exportRow",309],"[",["T_VARIABLE","$keyTemplate",309],"]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$row",309],"[",["T_STRING","ImportAdvancedPricing",309],["T_DOUBLE_COLON","::",309],["T_STRING","COL_TIER_PRICE_PERCENTAGE_VALUE",309],"]",["T_WHITESPACE","\n                            ",309],"?",["T_WHITESPACE"," ",310],["T_VARIABLE","$row",310],"[",["T_STRING","ImportAdvancedPricing",310],["T_DOUBLE_COLON","::",310],["T_STRING","COL_TIER_PRICE_PERCENTAGE_VALUE",310],"]",["T_WHITESPACE","\n                            ",310],":",["T_WHITESPACE"," ",311],["T_VARIABLE","$row",311],"[",["T_STRING","ImportAdvancedPricing",311],["T_DOUBLE_COLON","::",311],["T_STRING","COL_TIER_PRICE",311],"]",";",["T_WHITESPACE","\n                        ",311],["T_VARIABLE","$exportRow",312],"[",["T_STRING","ImportAdvancedPricing",312],["T_DOUBLE_COLON","::",312],["T_STRING","COL_TIER_PRICE_TYPE",312],"]",["T_WHITESPACE","\n                            ",312],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","tierPriceTypeValue",313],"(",["T_VARIABLE","$row",313],"[",["T_STRING","ImportAdvancedPricing",313],["T_DOUBLE_COLON","::",313],["T_STRING","COL_TIER_PRICE_PERCENTAGE_VALUE",313],"]",")",";",["T_WHITESPACE","\n                    ",313],"}",["T_WHITESPACE"," ",314],["T_ELSE","else",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                        ",314],["T_VARIABLE","$exportRow",315],"[",["T_VARIABLE","$keyTemplate",315],"]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$row",315],"[",["T_VARIABLE","$keyTemplate",315],"]",";",["T_WHITESPACE","\n                    ",315],"}",["T_WHITESPACE","\n                ",316],"}",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n\n            ",318],["T_VARIABLE","$customExportData",320],"[",["T_VARIABLE","$key",320],"]",["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$exportRow",320],";",["T_WHITESPACE","\n            ",320],["T_UNSET","unset",321],"(",["T_VARIABLE","$exportRow",321],")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$customExportData",324],";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Check type for tier price.\n     *\n     * @param string $tierPricePercentage\n     * @return string\n     *\/",327],["T_WHITESPACE","\n    ",332],["T_PRIVATE","private",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","tierPriceTypeValue",333],"(",["T_VARIABLE","$tierPricePercentage",333],")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$tierPricePercentage",335],["T_WHITESPACE","\n            ",335],"?",["T_WHITESPACE"," ",336],["T_STRING","ImportAdvancedPricing",336],["T_DOUBLE_COLON","::",336],["T_STRING","TIER_PRICE_TYPE_PERCENT",336],["T_WHITESPACE","\n            ",336],":",["T_WHITESPACE"," ",337],["T_STRING","ImportAdvancedPricing",337],["T_DOUBLE_COLON","::",337],["T_STRING","TIER_PRICE_TYPE_FIXED",337],";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n    ",338],["T_DOC_COMMENT","\/**\n     * Get tier prices.\n     *\n     * @param array $listSku\n     * @param string $table\n     * @return array|bool\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",340],["T_WHITESPACE","\n    ",348],["T_PROTECTED","protected",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","getTierPrices",349],"(",["T_ARRAY","array",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$listSku",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$table",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_ISSET","isset",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_parameters",351],"[",["T_NS_SEPARATOR","\\",351],["T_STRING","Magento",351],["T_NS_SEPARATOR","\\",351],["T_STRING","ImportExport",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Model",351],["T_NS_SEPARATOR","\\",351],["T_STRING","Export",351],["T_DOUBLE_COLON","::",351],["T_STRING","FILTER_ELEMENT_GROUP",351],"]",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$exportFilter",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_parameters",352],"[",["T_NS_SEPARATOR","\\",352],["T_STRING","Magento",352],["T_NS_SEPARATOR","\\",352],["T_STRING","ImportExport",352],["T_NS_SEPARATOR","\\",352],["T_STRING","Model",352],["T_NS_SEPARATOR","\\",352],["T_STRING","Export",352],["T_DOUBLE_COLON","::",352],["T_STRING","FILTER_ELEMENT_GROUP",352],"]",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$table",354],["T_WHITESPACE"," ",354],["T_IS_EQUAL","==",354],["T_WHITESPACE"," ",354],["T_STRING","ImportAdvancedPricing",354],["T_DOUBLE_COLON","::",354],["T_STRING","TABLE_TIER_PRICE",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$selectFields",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],"[",["T_WHITESPACE","\n                ",355],["T_STRING","ImportAdvancedPricing",356],["T_DOUBLE_COLON","::",356],["T_STRING","COL_SKU",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'cpe.sku'",356],",",["T_WHITESPACE","\n                ",356],["T_STRING","ImportAdvancedPricing",357],["T_DOUBLE_COLON","::",357],["T_STRING","COL_TIER_PRICE_WEBSITE",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'ap.website_id'",357],",",["T_WHITESPACE","\n                ",357],["T_STRING","ImportAdvancedPricing",358],["T_DOUBLE_COLON","::",358],["T_STRING","VALUE_ALL_GROUPS",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'ap.all_groups'",358],",",["T_WHITESPACE","\n                ",358],["T_STRING","ImportAdvancedPricing",359],["T_DOUBLE_COLON","::",359],["T_STRING","COL_TIER_PRICE_CUSTOMER_GROUP",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'ap.customer_group_id'",359],",",["T_WHITESPACE","\n                ",359],["T_STRING","ImportAdvancedPricing",360],["T_DOUBLE_COLON","::",360],["T_STRING","COL_TIER_PRICE_QTY",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'ap.qty'",360],",",["T_WHITESPACE","\n                ",360],["T_STRING","ImportAdvancedPricing",361],["T_DOUBLE_COLON","::",361],["T_STRING","COL_TIER_PRICE",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'ap.value'",361],",",["T_WHITESPACE","\n                ",361],["T_STRING","ImportAdvancedPricing",362],["T_DOUBLE_COLON","::",362],["T_STRING","COL_TIER_PRICE_PERCENTAGE_VALUE",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'ap.percentage_value'",362],",",["T_WHITESPACE","\n            ",362],"]",";",["T_WHITESPACE","\n            ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_ISSET","isset",364],"(",["T_VARIABLE","$exportFilter",364],")",["T_WHITESPACE"," ",364],["T_BOOLEAN_AND","&&",364],["T_WHITESPACE"," ",364],"!",["T_EMPTY","empty",364],"(",["T_VARIABLE","$exportFilter",364],")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                ",364],["T_VARIABLE","$price",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$exportFilter",365],"[",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",365],"]",";",["T_WHITESPACE","\n            ",365],"}",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$listSku",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_ISSET","isset",369],"(",["T_VARIABLE","$exportFilter",369],")",["T_WHITESPACE"," ",369],["T_BOOLEAN_AND","&&",369],["T_WHITESPACE"," ",369],"!",["T_EMPTY","empty",369],"(",["T_VARIABLE","$exportFilter",369],")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                ",369],["T_VARIABLE","$date",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$exportFilter",370],"[",["T_NS_SEPARATOR","\\",370],["T_STRING","Magento",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Catalog",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Model",370],["T_NS_SEPARATOR","\\",370],["T_STRING","Category",370],["T_DOUBLE_COLON","::",370],["T_STRING","KEY_UPDATED_AT",370],"]",";",["T_WHITESPACE","\n                ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_ISSET","isset",371],"(",["T_VARIABLE","$date",371],"[",["T_LNUMBER","0",371],"]",")",["T_WHITESPACE"," ",371],["T_BOOLEAN_AND","&&",371],["T_WHITESPACE"," ",371],"!",["T_EMPTY","empty",371],"(",["T_VARIABLE","$date",371],"[",["T_LNUMBER","0",371],"]",")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n                    ",371],["T_VARIABLE","$updatedAtFrom",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_localeDate",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","date",372],"(",["T_VARIABLE","$date",372],"[",["T_LNUMBER","0",372],"]",",",["T_WHITESPACE"," ",372],["T_STRING","null",372],",",["T_WHITESPACE"," ",372],["T_STRING","false",372],")",["T_OBJECT_OPERATOR","->",372],["T_STRING","format",372],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",372],")",";",["T_WHITESPACE","\n                ",372],"}",["T_WHITESPACE","\n                ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_ISSET","isset",374],"(",["T_VARIABLE","$date",374],"[",["T_LNUMBER","1",374],"]",")",["T_WHITESPACE"," ",374],["T_BOOLEAN_AND","&&",374],["T_WHITESPACE"," ",374],"!",["T_EMPTY","empty",374],"(",["T_VARIABLE","$date",374],"[",["T_LNUMBER","1",374],"]",")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                    ",374],["T_VARIABLE","$updatedAtTo",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_localeDate",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","date",375],"(",["T_VARIABLE","$date",375],"[",["T_LNUMBER","1",375],"]",",",["T_WHITESPACE"," ",375],["T_STRING","null",375],",",["T_WHITESPACE"," ",375],["T_STRING","false",375],")",["T_OBJECT_OPERATOR","->",375],["T_STRING","format",375],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",375],")",";",["T_WHITESPACE","\n                ",375],"}",["T_WHITESPACE","\n            ",376],"}",["T_WHITESPACE","\n            ",377],["T_TRY","try",378],["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                ",378],["T_VARIABLE","$productEntityLinkField",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getProductEntityLinkField",379],"(",")",";",["T_WHITESPACE","\n                ",379],["T_VARIABLE","$select",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_connection",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","select",380],"(",")",["T_WHITESPACE","\n                    ",380],["T_OBJECT_OPERATOR","->",381],["T_STRING","from",381],"(",["T_WHITESPACE","\n                        ",381],"[",["T_CONSTANT_ENCAPSED_STRING","'cpe'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_resource",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getTableName",382],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",382],")","]",",",["T_WHITESPACE","\n                        ",382],["T_VARIABLE","$selectFields",383],["T_WHITESPACE","\n                    ",383],")",["T_WHITESPACE","\n                    ",384],["T_OBJECT_OPERATOR","->",385],["T_STRING","joinInner",385],"(",["T_WHITESPACE","\n                        ",385],"[",["T_CONSTANT_ENCAPSED_STRING","'ap'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_resource",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getTableName",386],"(",["T_VARIABLE","$table",386],")","]",",",["T_WHITESPACE","\n                        ",386],["T_CONSTANT_ENCAPSED_STRING","'ap.'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$productEntityLinkField",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","' = cpe.'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$productEntityLinkField",387],",",["T_WHITESPACE","\n                        ",387],"[","]",["T_WHITESPACE","\n                    ",388],")",["T_WHITESPACE","\n                    ",389],["T_OBJECT_OPERATOR","->",390],["T_STRING","where",390],"(",["T_CONSTANT_ENCAPSED_STRING","'cpe.entity_id IN (?)'",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$listSku",390],")",";",["T_WHITESPACE","\n\n                ",390],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_ISSET","isset",392],"(",["T_VARIABLE","$price",392],"[",["T_LNUMBER","0",392],"]",")",["T_WHITESPACE"," ",392],["T_BOOLEAN_AND","&&",392],["T_WHITESPACE"," ",392],"!",["T_EMPTY","empty",392],"(",["T_VARIABLE","$price",392],"[",["T_LNUMBER","0",392],"]",")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                    ",392],["T_VARIABLE","$select",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","where",393],"(",["T_CONSTANT_ENCAPSED_STRING","'ap.value >= ?'",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$price",393],"[",["T_LNUMBER","0",393],"]",")",";",["T_WHITESPACE","\n                ",393],"}",["T_WHITESPACE","\n                ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_ISSET","isset",395],"(",["T_VARIABLE","$price",395],"[",["T_LNUMBER","1",395],"]",")",["T_WHITESPACE"," ",395],["T_BOOLEAN_AND","&&",395],["T_WHITESPACE"," ",395],"!",["T_EMPTY","empty",395],"(",["T_VARIABLE","$price",395],"[",["T_LNUMBER","1",395],"]",")",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n                    ",395],["T_VARIABLE","$select",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","where",396],"(",["T_CONSTANT_ENCAPSED_STRING","'ap.value <= ?'",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$price",396],"[",["T_LNUMBER","1",396],"]",")",";",["T_WHITESPACE","\n                ",396],"}",["T_WHITESPACE","\n                ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_ISSET","isset",398],"(",["T_VARIABLE","$price",398],"[",["T_LNUMBER","0",398],"]",")",["T_WHITESPACE"," ",398],["T_BOOLEAN_AND","&&",398],["T_WHITESPACE"," ",398],"!",["T_EMPTY","empty",398],"(",["T_VARIABLE","$price",398],"[",["T_LNUMBER","0",398],"]",")",["T_WHITESPACE"," ",398],["T_BOOLEAN_OR","||",398],["T_WHITESPACE"," ",398],["T_ISSET","isset",398],"(",["T_VARIABLE","$price",398],"[",["T_LNUMBER","1",398],"]",")",["T_WHITESPACE"," ",398],["T_BOOLEAN_AND","&&",398],["T_WHITESPACE"," ",398],"!",["T_EMPTY","empty",398],"(",["T_VARIABLE","$price",398],"[",["T_LNUMBER","1",398],"]",")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                    ",398],["T_VARIABLE","$select",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","orWhere",399],"(",["T_CONSTANT_ENCAPSED_STRING","'ap.percentage_value IS NOT NULL'",399],")",";",["T_WHITESPACE","\n                ",399],"}",["T_WHITESPACE","\n                ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_ISSET","isset",401],"(",["T_VARIABLE","$updatedAtFrom",401],")",["T_WHITESPACE"," ",401],["T_BOOLEAN_AND","&&",401],["T_WHITESPACE"," ",401],"!",["T_EMPTY","empty",401],"(",["T_VARIABLE","$updatedAtFrom",401],")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                    ",401],["T_VARIABLE","$select",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","where",402],"(",["T_CONSTANT_ENCAPSED_STRING","'cpe.updated_at >= ?'",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$updatedAtFrom",402],")",";",["T_WHITESPACE","\n                ",402],"}",["T_WHITESPACE","\n                ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_ISSET","isset",404],"(",["T_VARIABLE","$updatedAtTo",404],")",["T_WHITESPACE"," ",404],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],"!",["T_EMPTY","empty",404],"(",["T_VARIABLE","$updatedAtTo",404],")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                    ",404],["T_VARIABLE","$select",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","where",405],"(",["T_CONSTANT_ENCAPSED_STRING","'cpe.updated_at <= ?'",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$updatedAtTo",405],")",";",["T_WHITESPACE","\n                ",405],"}",["T_WHITESPACE","\n                ",406],["T_VARIABLE","$exportData",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_connection",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","fetchAll",407],"(",["T_VARIABLE","$select",407],")",";",["T_WHITESPACE","\n            ",407],"}",["T_WHITESPACE"," ",408],["T_CATCH","catch",408],["T_WHITESPACE"," ",408],"(",["T_NS_SEPARATOR","\\",408],["T_STRING","Exception",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$e",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_STRING","false",409],";",["T_WHITESPACE","\n            ",409],"}",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n        ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$exportData",412],";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * Get Website code\n     *\n     * @param int $websiteId\n     * @return string\n     *\/",415],["T_WHITESPACE","\n    ",420],["T_PROTECTED","protected",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","_getWebsiteCode",421],"(",["T_VARIABLE","$websiteId",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$storeName",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$websiteId",423],["T_WHITESPACE"," ",423],["T_IS_EQUAL","==",423],["T_WHITESPACE"," ",423],["T_LNUMBER","0",423],")",["T_WHITESPACE","\n            ",423],"?",["T_WHITESPACE"," ",424],["T_STRING","ImportAdvancedPricing",424],["T_DOUBLE_COLON","::",424],["T_STRING","VALUE_ALL_WEBSITES",424],["T_WHITESPACE","\n            ",424],":",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_storeManager",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getWebsite",425],"(",["T_VARIABLE","$websiteId",425],")",["T_OBJECT_OPERATOR","->",425],["T_STRING","getCode",425],"(",")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$currencyCode",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","''",426],";",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$websiteId",427],["T_WHITESPACE"," ",427],["T_IS_EQUAL","==",427],["T_WHITESPACE"," ",427],["T_LNUMBER","0",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$currencyCode",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_storeManager",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getWebsite",428],"(",["T_VARIABLE","$websiteId",428],")",["T_OBJECT_OPERATOR","->",428],["T_STRING","getBaseCurrencyCode",428],"(",")",";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n        ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$storeName",430],["T_WHITESPACE"," ",430],["T_BOOLEAN_AND","&&",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$currencyCode",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$storeName",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","' ['",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_VARIABLE","$currencyCode",431],["T_WHITESPACE"," ",431],".",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","']'",431],";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE"," ",432],["T_ELSE","else",432],["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$storeName",433],";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Get Customer Group By Id\n     *\n     * @param int $customerGroupId\n     * @param null $allGroups\n     * @return string\n     *\/",437],["T_WHITESPACE","\n    ",443],["T_PROTECTED","protected",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","_getCustomerGroupById",444],"(",["T_VARIABLE","$customerGroupId",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$allGroups",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","null",444],")",["T_WHITESPACE","\n    ",444],"{",["T_WHITESPACE","\n        ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$allGroups",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_STRING","ImportAdvancedPricing",447],["T_DOUBLE_COLON","::",447],["T_STRING","VALUE_ALL_GROUPS",447],";",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE"," ",448],["T_ELSE","else",448],["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n            ",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_groupRepository",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getById",449],"(",["T_VARIABLE","$customerGroupId",449],")",["T_OBJECT_OPERATOR","->",449],["T_STRING","getCode",449],"(",")",";",["T_WHITESPACE","\n        ",449],"}",["T_WHITESPACE","\n    ",450],"}",["T_WHITESPACE","\n\n    ",451],["T_DOC_COMMENT","\/**\n     * Get Entity type code\n     *\n     * @return string\n     *\/",453],["T_WHITESPACE","\n    ",457],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","getEntityTypeCode",458],"(",")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_IF","if",460],["T_WHITESPACE"," ",460],"(","!",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_entityTypeCode",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_entityTypeCode",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","CatalogProduct",461],["T_DOUBLE_COLON","::",461],["T_STRING","ENTITY",461],";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE"," ",462],["T_ELSE","else",462],["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_entityTypeCode",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","self",463],["T_DOUBLE_COLON","::",463],["T_STRING","ENTITY_ADVANCED_PRICING",463],";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n        ",464],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","_entityTypeCode",465],";",["T_WHITESPACE","\n    ",465],"}",["T_WHITESPACE","\n",466],"}",["T_WHITESPACE","\n",467]]