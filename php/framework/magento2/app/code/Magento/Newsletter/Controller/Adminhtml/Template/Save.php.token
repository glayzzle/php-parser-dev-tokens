[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Newsletter",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Template",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TemplateTypesInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LocalizedException",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Save",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Newsletter",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Controller",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Template",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Save Newsletter Template\n     *\n     * @return void\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","execute",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$request",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getRequest",21],"(",")",";",["T_WHITESPACE","\n        ",21],["T_IF","if",22],["T_WHITESPACE"," ",22],"(","!",["T_VARIABLE","$request",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","isPost",22],"(",")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n            ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getResponse",23],"(",")",["T_OBJECT_OPERATOR","->",23],["T_STRING","setRedirect",23],"(",["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getUrl",23],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/template'",23],")",")",";",["T_WHITESPACE","\n        ",23],"}",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$template",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","_objectManager",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","create",25],"(",["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Newsletter",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Template",25],["T_DOUBLE_COLON","::",25],["T_CLASS","class",25],")",";",["T_WHITESPACE","\n\n        ",25],["T_VARIABLE","$id",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_INT_CAST","(int)",27],["T_VARIABLE","$request",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getParam",27],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",27],")",";",["T_WHITESPACE","\n        ",27],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_VARIABLE","$id",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_VARIABLE","$template",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","load",29],"(",["T_VARIABLE","$id",29],")",";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE","\n\n        ",30],["T_TRY","try",32],["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n            ",32],["T_VARIABLE","$template",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","addData",33],"(",["T_WHITESPACE","\n                ",33],["T_VARIABLE","$request",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getParams",34],"(",")",["T_WHITESPACE","\n            ",34],")",["T_OBJECT_OPERATOR","->",35],["T_STRING","setTemplateSubject",35],"(",["T_WHITESPACE","\n                ",35],["T_VARIABLE","$request",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getParam",36],"(",["T_CONSTANT_ENCAPSED_STRING","'subject'",36],")",["T_WHITESPACE","\n            ",36],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","setTemplateCode",37],"(",["T_WHITESPACE","\n                ",37],["T_VARIABLE","$request",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getParam",38],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",38],")",["T_WHITESPACE","\n            ",38],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","setTemplateSenderEmail",39],"(",["T_WHITESPACE","\n                ",39],["T_VARIABLE","$request",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getParam",40],"(",["T_CONSTANT_ENCAPSED_STRING","'sender_email'",40],")",["T_WHITESPACE","\n            ",40],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","setTemplateSenderName",41],"(",["T_WHITESPACE","\n                ",41],["T_VARIABLE","$request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getParam",42],"(",["T_CONSTANT_ENCAPSED_STRING","'sender_name'",42],")",["T_WHITESPACE","\n            ",42],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","setTemplateText",43],"(",["T_WHITESPACE","\n                ",43],["T_VARIABLE","$request",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getParam",44],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",44],")",["T_WHITESPACE","\n            ",44],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","setTemplateStyles",45],"(",["T_WHITESPACE","\n                ",45],["T_VARIABLE","$request",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getParam",46],"(",["T_CONSTANT_ENCAPSED_STRING","'styles'",46],")",["T_WHITESPACE","\n            ",46],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","setModifiedAt",47],"(",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_objectManager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Framework",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Stdlib",48],["T_NS_SEPARATOR","\\",48],["T_STRING","DateTime",48],["T_NS_SEPARATOR","\\",48],["T_STRING","DateTime",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","gmtDate",48],"(",")",["T_WHITESPACE","\n            ",48],")",";",["T_WHITESPACE","\n\n            ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_VARIABLE","$template",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getId",51],"(",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$template",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setTemplateType",52],"(",["T_STRING","TemplateTypesInterface",52],["T_DOUBLE_COLON","::",52],["T_STRING","TYPE_HTML",52],")",";",["T_WHITESPACE","\n            ",52],"}",["T_WHITESPACE","\n            ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getRequest",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getParam",54],"(",["T_CONSTANT_ENCAPSED_STRING","'_change_type_flag'",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$template",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","setTemplateType",55],"(",["T_STRING","TemplateTypesInterface",55],["T_DOUBLE_COLON","::",55],["T_STRING","TYPE_TEXT",55],")",";",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$template",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setTemplateStyles",56],"(",["T_CONSTANT_ENCAPSED_STRING","''",56],")",";",["T_WHITESPACE","\n            ",56],"}",["T_WHITESPACE","\n            ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getParam",58],"(",["T_CONSTANT_ENCAPSED_STRING","'_save_as_flag'",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$template",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setId",59],"(",["T_STRING","null",59],")",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE","\n\n            ",60],["T_VARIABLE","$template",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","save",62],"(",")",";",["T_WHITESPACE","\n\n            ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","messageManager",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","addSuccess",64],"(",["T_STRING","__",64],"(",["T_CONSTANT_ENCAPSED_STRING","'The newsletter template has been saved.'",64],")",")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_getSession",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","setFormData",65],"(",["T_STRING","false",65],")",";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_getSession",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","unsPreviewData",66],"(",")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_redirect",67],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/template'",67],")",";",["T_WHITESPACE","\n            ",67],["T_RETURN","return",68],";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE"," ",69],["T_CATCH","catch",69],["T_WHITESPACE"," ",69],"(",["T_STRING","LocalizedException",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$e",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","messageManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addError",70],"(",["T_STRING","nl2br",70],"(",["T_VARIABLE","$e",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMessage",70],"(",")",")",")",";",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_getSession",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","setData",71],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_template_form_data'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getRequest",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getParams",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE"," ",72],["T_CATCH","catch",72],["T_WHITESPACE"," ",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Exception",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$e",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","messageManager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addException",73],"(",["T_VARIABLE","$e",73],",",["T_WHITESPACE"," ",73],["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while saving this template.'",73],")",")",";",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_getSession",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","setData",74],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_template_form_data'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getRequest",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getParams",74],"(",")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_forward",77],"(",["T_CONSTANT_ENCAPSED_STRING","'new'",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n",78],"}",["T_WHITESPACE","\n",79]]