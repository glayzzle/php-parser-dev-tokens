[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Newsletter",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Subscriber",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AccountManagementInterface",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","CustomerAccountManagement",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Url",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","CustomerUrl",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Action",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Context",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Store",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","StoreManagerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Newsletter",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SubscriberFactory",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","NewAction",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Newsletter",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Controller",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Subscriber",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * @var CustomerAccountManagement\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$customerAccountManagement",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Initialize dependencies.\n     *\n     * @param Context $context\n     * @param SubscriberFactory $subscriberFactory\n     * @param Session $customerSession\n     * @param StoreManagerInterface $storeManager\n     * @param CustomerUrl $customerUrl\n     * @param CustomerAccountManagement $customerAccountManagement\n     *\/",26],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_STRING","Context",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$context",37],",",["T_WHITESPACE","\n        ",37],["T_STRING","SubscriberFactory",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$subscriberFactory",38],",",["T_WHITESPACE","\n        ",38],["T_STRING","Session",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$customerSession",39],",",["T_WHITESPACE","\n        ",39],["T_STRING","StoreManagerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$storeManager",40],",",["T_WHITESPACE","\n        ",40],["T_STRING","CustomerUrl",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$customerUrl",41],",",["T_WHITESPACE","\n        ",41],["T_STRING","CustomerAccountManagement",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$customerAccountManagement",42],["T_WHITESPACE","\n    ",42],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","customerAccountManagement",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$customerAccountManagement",44],";",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$context",46],",",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$subscriberFactory",47],",",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$customerSession",48],",",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$storeManager",49],",",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$customerUrl",50],["T_WHITESPACE","\n        ",50],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Validates that the email address isn't being used by a different account.\n     *\n     * @param string $email\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",54],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","validateEmailAvailable",61],"(",["T_VARIABLE","$email",61],")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$websiteId",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_storeManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getStore",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getWebsiteId",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_customerSession",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getCustomerDataObject",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getEmail",64],"(",")",["T_WHITESPACE"," ",64],["T_IS_NOT_IDENTICAL","!==",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$email",64],["T_WHITESPACE","\n            ",64],["T_BOOLEAN_AND","&&",65],["T_WHITESPACE"," ",65],"!",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","customerAccountManagement",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","isEmailAvailable",65],"(",["T_VARIABLE","$email",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$websiteId",65],")",["T_WHITESPACE","\n        ",65],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Exception",67],["T_NS_SEPARATOR","\\",67],["T_STRING","LocalizedException",67],"(",["T_WHITESPACE","\n                ",67],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'This email address is already assigned to another user.'",68],")",["T_WHITESPACE","\n            ",68],")",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Validates that if the current user is a guest, that they can subscribe to a newsletter.\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","validateGuestSubscription",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_objectManager",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Config",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ScopeConfigInterface",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],")",["T_WHITESPACE","\n                ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","getValue",82],"(",["T_WHITESPACE","\n                    ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Newsletter",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Subscriber",83],["T_DOUBLE_COLON","::",83],["T_STRING","XML_PATH_ALLOW_GUEST_SUBSCRIBE_FLAG",83],",",["T_WHITESPACE","\n                    ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Store",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ScopeInterface",84],["T_DOUBLE_COLON","::",84],["T_STRING","SCOPE_STORE",84],["T_WHITESPACE","\n                ",84],")",["T_WHITESPACE"," ",85],["T_IS_NOT_EQUAL","!=",85],["T_WHITESPACE"," ",85],["T_LNUMBER","1",85],["T_WHITESPACE","\n            ",85],["T_BOOLEAN_AND","&&",86],["T_WHITESPACE"," ",86],"!",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_customerSession",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","isLoggedIn",86],"(",")",["T_WHITESPACE","\n        ",86],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_THROW","throw",88],["T_WHITESPACE"," ",88],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Exception",88],["T_NS_SEPARATOR","\\",88],["T_STRING","LocalizedException",88],"(",["T_WHITESPACE","\n                ",88],["T_STRING","__",89],"(",["T_WHITESPACE","\n                    ",89],["T_CONSTANT_ENCAPSED_STRING","'Sorry, but the administrator denied subscription for guests. Please <a href=\"%1\">register<\/a>.'",90],",",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_customerUrl",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getRegisterUrl",91],"(",")",["T_WHITESPACE","\n                ",91],")",["T_WHITESPACE","\n            ",92],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Validates the format of the email address\n     *\n     * @param string $email\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","validateEmailFormat",104],"(",["T_VARIABLE","$email",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_NS_SEPARATOR","\\",106],["T_STRING","Zend_Validate",106],["T_DOUBLE_COLON","::",106],["T_STRING","is",106],"(",["T_VARIABLE","$email",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'EmailAddress'",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_THROW","throw",107],["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Exception",107],["T_NS_SEPARATOR","\\",107],["T_STRING","LocalizedException",107],"(",["T_STRING","__",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a valid email address.'",107],")",")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * New subscription action\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @return void\n     *\/",111],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","execute",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getRequest",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","isPost",119],"(",")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getRequest",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getPost",119],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$email",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING_CAST","(string)",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getRequest",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getPost",120],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",120],")",";",["T_WHITESPACE","\n\n            ",120],["T_TRY","try",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","validateEmailFormat",123],"(",["T_VARIABLE","$email",123],")",";",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","validateGuestSubscription",124],"(",")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","validateEmailAvailable",125],"(",["T_VARIABLE","$email",125],")",";",["T_WHITESPACE","\n\n                ",125],["T_VARIABLE","$subscriber",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_subscriberFactory",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","create",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","loadByEmail",127],"(",["T_VARIABLE","$email",127],")",";",["T_WHITESPACE","\n                ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$subscriber",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getId",128],"(",")",["T_WHITESPACE","\n                    ",128],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$subscriber",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getSubscriberStatus",129],"(",")",["T_WHITESPACE"," ",129],["T_IS_EQUAL","==",129],["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Newsletter",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Model",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Subscriber",129],["T_DOUBLE_COLON","::",129],["T_STRING","STATUS_SUBSCRIBED",129],["T_WHITESPACE","\n                ",129],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                    ",130],["T_THROW","throw",131],["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Framework",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Exception",131],["T_NS_SEPARATOR","\\",131],["T_STRING","LocalizedException",131],"(",["T_WHITESPACE","\n                        ",131],["T_STRING","__",132],"(",["T_CONSTANT_ENCAPSED_STRING","'This email address is already subscribed.'",132],")",["T_WHITESPACE","\n                    ",132],")",";",["T_WHITESPACE","\n                ",133],"}",["T_WHITESPACE","\n\n                ",134],["T_VARIABLE","$status",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_subscriberFactory",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","create",136],"(",")",["T_OBJECT_OPERATOR","->",136],["T_STRING","subscribe",136],"(",["T_VARIABLE","$email",136],")",";",["T_WHITESPACE","\n                ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$status",137],["T_WHITESPACE"," ",137],["T_IS_EQUAL","==",137],["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Newsletter",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Subscriber",137],["T_DOUBLE_COLON","::",137],["T_STRING","STATUS_NOT_ACTIVE",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","messageManager",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","addSuccess",138],"(",["T_STRING","__",138],"(",["T_CONSTANT_ENCAPSED_STRING","'The confirmation request has been sent.'",138],")",")",";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","messageManager",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","addSuccess",140],"(",["T_STRING","__",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Thank you for your subscription.'",140],")",")",";",["T_WHITESPACE","\n                ",140],"}",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE"," ",142],["T_CATCH","catch",142],["T_WHITESPACE"," ",142],"(",["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Exception",142],["T_NS_SEPARATOR","\\",142],["T_STRING","LocalizedException",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$e",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","messageManager",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","addException",143],"(",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$e",144],",",["T_WHITESPACE","\n                    ",144],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'There was a problem with the subscription: %1'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$e",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMessage",145],"(",")",")",["T_WHITESPACE","\n                ",145],")",";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE"," ",147],["T_CATCH","catch",147],["T_WHITESPACE"," ",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Exception",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$e",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","messageManager",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","addException",148],"(",["T_VARIABLE","$e",148],",",["T_WHITESPACE"," ",148],["T_STRING","__",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong with the subscription.'",148],")",")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getResponse",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","setRedirect",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_redirect",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getRedirectUrl",151],"(",")",")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n",152],"}",["T_WHITESPACE","\n",153]]