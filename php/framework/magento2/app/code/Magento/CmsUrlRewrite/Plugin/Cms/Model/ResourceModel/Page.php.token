[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CmsUrlRewrite",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cms",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ResourceModel",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UrlRewrite",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UrlPersistInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CmsUrlRewrite",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CmsPageUrlPathGenerator",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CmsUrlRewrite",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CmsPageUrlRewriteGenerator",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","UrlRewrite",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Service",11],["T_NS_SEPARATOR","\\",11],["T_STRING","V1",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","UrlRewrite",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractModel",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Db",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractDb",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Before save and around delete plugin for \\Magento\\Cms\\Model\\ResourceModel\\Page:\n * - autogenerates url_key if the merchant didn't fill this field\n * - remove all url rewrites for cms page on delete\n *\/",15],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Page",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CmsUrlRewrite\\Model\\CmsPageUrlPathGenerator\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$cmsPageUrlPathGenerator",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var UrlPersistInterface\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$urlPersist",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @param CmsPageUrlPathGenerator $cmsPageUrlPathGenerator\n     * @param UrlPersistInterface $urlPersist\n     *\/",32],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_STRING","CmsPageUrlPathGenerator",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$cmsPageUrlPathGenerator",37],",",["T_WHITESPACE","\n        ",37],["T_STRING","UrlPersistInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$urlPersist",38],["T_WHITESPACE","\n    ",38],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","cmsPageUrlPathGenerator",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$cmsPageUrlPathGenerator",40],";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","urlPersist",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$urlPersist",41],";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Before save handler\n     *\n     * @param \\Magento\\Cms\\Model\\ResourceModel\\Page $subject\n     * @param \\Magento\\Framework\\Model\\AbstractModel $object\n     *\n     * @return void\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",44],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","beforeSave",53],"(",["T_WHITESPACE","\n        ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Cms",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ResourceModel",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Page",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$subject",54],",",["T_WHITESPACE","\n        ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Framework",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","AbstractModel",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$object",55],["T_WHITESPACE","\n    ",55],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var $object \\Magento\\Cms\\Model\\Page *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$urlKey",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$object",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getData",58],"(",["T_CONSTANT_ENCAPSED_STRING","'identifier'",58],")",";",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$urlKey",59],["T_WHITESPACE"," ",59],["T_IS_IDENTICAL","===",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","''",59],["T_WHITESPACE"," ",59],["T_BOOLEAN_OR","||",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$urlKey",59],["T_WHITESPACE"," ",59],["T_IS_IDENTICAL","===",59],["T_WHITESPACE"," ",59],["T_STRING","null",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$object",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","setData",60],"(",["T_CONSTANT_ENCAPSED_STRING","'identifier'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","cmsPageUrlPathGenerator",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","generateUrlKey",60],"(",["T_VARIABLE","$object",60],")",")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * On delete handler to remove related url rewrites\n     *\n     * @param \\Magento\\Cms\\Model\\ResourceModel\\Page $subject\n     * @param AbstractDb $result\n     * @param AbstractModel $page\n     * @return AbstractDb\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",64],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","afterDelete",73],"(",["T_WHITESPACE","\n        ",73],["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Cms",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","ResourceModel",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Page",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$subject",74],",",["T_WHITESPACE","\n        ",74],["T_STRING","AbstractDb",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$result",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","AbstractModel",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$page",76],["T_WHITESPACE","\n    ",76],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$page",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","isDeleted",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","urlPersist",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","deleteByData",79],"(",["T_WHITESPACE","\n                ",79],"[",["T_WHITESPACE","\n                    ",80],["T_STRING","UrlRewrite",81],["T_DOUBLE_COLON","::",81],["T_STRING","ENTITY_ID",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$page",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getId",81],"(",")",",",["T_WHITESPACE","\n                    ",81],["T_STRING","UrlRewrite",82],["T_DOUBLE_COLON","::",82],["T_STRING","ENTITY_TYPE",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","CmsPageUrlRewriteGenerator",82],["T_DOUBLE_COLON","::",82],["T_STRING","ENTITY_TYPE",82],",",["T_WHITESPACE","\n                ",82],"]",["T_WHITESPACE","\n            ",83],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$result",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n",88],"}",["T_WHITESPACE","\n",89]]