[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_CLOSE_TAG","?>\n",9],["T_INLINE_HTML","\n",10],["T_OPEN_TAG","<?php\n",11],["T_DOC_COMMENT","\/**\n * @var $block \\Magento\\Downloadable\\Block\\Adminhtml\\Catalog\\Product\\Edit\\Tab\\Downloadable\n *\/",12],["T_WHITESPACE","\n",14],["T_CLOSE_TAG","?>\n",15],["T_INLINE_HTML","<script>\nrequire([\n    'jquery',\n    'uiRegistry',\n    'mage\/template',\n    'Magento_Ui\/js\/modal\/alert',\n    'mage\/mage',\n    'prototype'\n], function (jQuery, registry, mageTemplate, alert) {\n\n\/\/<![CDATA[>\nvar uploaderTemplate = '<div class=\"no-display\" id=\"[[idName]]-template\">' +\n                            '<\/div>' +\n                                '<div class=\"no-display\" id=\"[[idName]]-template-progress\">' +\n                                '<%- data.percent %>% <%- data.uploaded %> \/ <%- data.total %>' +\n                                '<\/div>',\n    \n    fileListTemplate = '<span class=\"file-info\">' +\n                                '<span class=\"file-info-name\"><%= data.name %><\/span>' +\n                                ' ' +\n                                '<span class=\"file-info-size\">(<%- data.size %>)<\/span>' +\n                            '<\/span>';\n    window.Downloadable = {\n        uploaderObj : $H({}),\n        objCount : 0,\n        setUploaderObj : function(type, key, obj){\n            if (!this.uploaderObj.get(type)) {\n                this.uploaderObj.set(type, $H({}));\n            }\n            this.uploaderObj.get(type).set(key, obj);\n        },\n        getUploaderObj : function(type, key){\n            try {\n                return this.uploaderObj.get(type).get(key);\n            } catch (e) {\n                try {\n                    console.log(e);\n                } catch (e2) {\n                    alert({\n                        content: e.name + '\\n' + e.message\n                    });\n                }\n            }\n        },\n        unsetUploaderObj : function(type, key){\n            try {\n                this.uploaderObj.get(type).unset(key);\n            } catch (e) {\n                try {\n                    console.log(e);\n                } catch (e2) {\n                    alert({\n                        content: e.name + '\\n' + e.message\n                    });\n                }\n            }\n        },\n        massUploadByType : function(type){\n            try {\n                this.uploaderObj.get(type).each(function(item){\n                    container = item.value.container.up('tr');\n                    if (container.visible() && !container.hasClassName('no-display')) {\n                        item.value.upload();\n                    } else {\n                        Downloadable.unsetUploaderObj(type, item.key);\n                    }\n                });\n            } catch (e) {\n                try {\n                    console.log(e);\n                } catch (e2) {\n                    alert({\n                        content: e.name + '\\n' + e.message\n                    });\n                }\n            }\n        }\n    };\n\n    Downloadable.FileUploader = Class.create();\n    Downloadable.FileUploader.prototype = {\n        type : null,\n        key : null, \/\/key, identifier of uploader obj\n        elmContainer : null, \/\/insert Flex object and templates to elmContainer\n        fileValueName : null, \/\/name of field of JSON data of saved file\n        fileValue : null,\n        idName : null, \/\/id name of elements for unique uploader\n        uploaderText: uploaderTemplate,\n        uploaderSyntax : \/(^|.|\\r|\\n)(\\[\\[(\\w+)\\]\\])\/,\n        uploaderObj : $H({}),\n        config : null,\n        initialize: function (type, key, elmContainer, fileValueName, fileValue ,idName, config) {\n            this.type = type;\n            this.key = key;\n            this.elmContainer = elmContainer;\n            this.fileValueName = fileValueName;\n            this.fileValue = fileValue;\n            this.idName = idName;\n            this.config = config;\n            uploaderTemplate = new Template(this.uploaderText, this.uploaderSyntax);\n            ",16],["T_OPEN_TAG","<?php ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_VARIABLE","$block",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","isReadonly",116],"(",")",")",":",["T_CLOSE_TAG","?>\n",116],["T_INLINE_HTML","            Element.insert(\n                elmContainer,\n                {'top' : uploaderTemplate.evaluate({\n                        'idName' : this.idName,\n                        'fileValueName' : this.fileValueName,\n                        'uploaderObj' : 'Downloadable.getUploaderObj(\\''+this.type+'\\', \\''+this.key+'\\')'\n                    })\n                }\n            );\n            var elementSave = $(this.idName+'_save');\n            if (elementSave) {\n                elementSave.value = this.fileValue.toJSON\n                   ? this.fileValue.toJSON()\n                   : Object.toJSON(this.fileValue);\n            }\n            Downloadable.setUploaderObj(\n                this.type,\n                this.key,\n                null\n            );\n            new Downloadable.FileList(this.idName, null);\n            ",117],["T_OPEN_TAG","<?php ",138],["T_ENDIF","endif",138],";",["T_CLOSE_TAG","?>\n",138],["T_INLINE_HTML","        }\n    };\n\n    Downloadable.FileList = Class.create();\n    Downloadable.FileList.prototype = {\n        file: [],\n        containerId: '',\n        container: null,\n        uploader: null,\n        fileListTemplate: fileListTemplate,\n        listTemplate : null,\n        initialize: function (containerId, uploader) {\n            this.containerId  = containerId,\n            this.container = $(this.containerId);\n            this.uploader = uploader;\n            this.file = this.getElement('save').value.evalJSON();\n            this.listTemplate = mageTemplate(this.fileListTemplate);\n            this.updateFiles();\n        },\n        handleFileRemoveAll: function(fileId) {\n            $(this.containerId+'-new').hide();\n            $(this.containerId+'-old').show();\n        },\n        handleFileSelect: function() {\n            $(this.containerId+'_type').checked = true;\n        },\n        getElement: function (name) {\n            return $(this.containerId + '_' + name);\n        },\n        handleUploadComplete: function (file) {\n            if (file.error) {\n                return;\n            }\n\n            var newFile = {};\n            newFile.file = file.file;\n            newFile.name = file.name;\n            newFile.size = file.size;\n            newFile.status = 'new';\n            this.file[0] = newFile;\n            this.updateFiles();\n        },\n        updateFiles: function() {\n            this.getElement('save').value = this.file.toJSON\n                ? this.file.toJSON()\n                : Object.toJSON(this.file);\n            this.file.each(function(row){\n                row.size = byteConvert(row.size);\n                $(this.containerId + '-old').innerHTML = this.listTemplate({data: row});\n                $(this.containerId + '-new').hide();\n                $(this.containerId + '-old').show();\n            }.bind(this));\n        }\n    };\n\n    var alertAlreadyDisplayed = false;\n\n    window.uploaderTemplate = uploaderTemplate;\n\n    window.alertAlreadyDisplayed = alertAlreadyDisplayed;\n\n    registry.set('downloadable', Downloadable);\n\/\/]]>\n\n});\n<\/script>\n\n<div data-tab-type=\"tab_content_downloadableInfo\" id=\"",139],["T_OPEN_TAG","<?php ",206],["T_COMMENT","\/* @escapeNotVerified *\/",206],["T_WHITESPACE"," ",206],["T_ECHO","echo",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$block",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getId",206],"(",")",["T_WHITESPACE"," ",206],["T_CLOSE_TAG","?>",206],["T_INLINE_HTML","_content\"\n    ",206],["T_OPEN_TAG","<?php ",207],["T_COMMENT","\/* @escapeNotVerified *\/",207],["T_WHITESPACE"," ",207],["T_ECHO","echo",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$block",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getUiId",207],"(",["T_CONSTANT_ENCAPSED_STRING","'tab'",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'content'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$block",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getId",207],"(",")",")",["T_WHITESPACE"," ",207],["T_CLOSE_TAG","?>\n",207],["T_INLINE_HTML",">\n<div id=\"alert_messages_block\">",208],["T_OPEN_TAG","<?php ",209],["T_ECHO","echo",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$block",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getMessageHtml",209],"(",")",["T_WHITESPACE"," ",209],["T_CLOSE_TAG","?>",209],["T_INLINE_HTML","<\/div>\n<div class=\"admin__field admin__field-option admin__field-is-downloaodable\">\n    <input type=\"checkbox\" data-action=\"change-type-product-downloadable\"  class=\"admin__control-checkbox\"\n           name=\"is_downloadable\" id=\"is-downloaodable\" ",209],["T_OPEN_TAG_WITH_ECHO","<?=",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$block",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","isDownloadable",212],"(",")",["T_WHITESPACE"," ",212],"?",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'checked=\"checked\"'",212],["T_WHITESPACE"," ",212],":",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","''",212],["T_CLOSE_TAG","?>",212],["T_INLINE_HTML"," \/>\n    <label class=\"admin__field-label\" for=\"is-downloaodable\">\n        <span>",212],["T_OPEN_TAG_WITH_ECHO","<?=",214],["T_WHITESPACE"," ",214],["T_COMMENT","\/* @noEscape *\/",214],["T_WHITESPACE"," ",214],["T_STRING","__",214],"(",["T_CONSTANT_ENCAPSED_STRING","'Is this downloadable Product?'",214],")",";",["T_WHITESPACE"," ",214],["T_CLOSE_TAG","?>",214],["T_INLINE_HTML","<\/span>\n    <\/label>\n<\/div>\n<div class=\"entry-edit\" id=\"product_info_tabs_downloadable_items\">\n    ",214],["T_OPEN_TAG","<?php ",218],["T_ECHO","echo",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$block",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getChildHtml",218],"(",")",["T_WHITESPACE"," ",218],["T_CLOSE_TAG","?>\n",218],["T_INLINE_HTML","<\/div>\n<div style=\"display:none\">\n    <div id=\"custom-advice-container\"><\/div>\n<\/div>\n",219],["T_OPEN_TAG","<?php ",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$block",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","isReadonly",223],"(",")",")",":",["T_WHITESPACE"," ",223],["T_CLOSE_TAG","?>\n",223],["T_INLINE_HTML","    <script>\n        require(['prototype'], function(){\n\n        $(",224],["T_OPEN_TAG_WITH_ECHO","<?=",227],["T_WHITESPACE"," ",227],["T_COMMENT","\/* @escapeNotVerified *\/",227],["T_WHITESPACE","  ",227],["T_VARIABLE","$block",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getContentTabId",227],"(",")",";",["T_WHITESPACE"," ",227],["T_CLOSE_TAG","?>",227],["T_INLINE_HTML",").select('input', 'select', 'textarea', 'button').each(function (item){\n            item.disabled = true;\n            if (item.tagName.toLowerCase() == 'button') {\n                item.addClassName('disabled');\n            }\n        });\n\n        });\n    <\/script>\n",227],["T_OPEN_TAG","<?php ",236],["T_ENDIF","endif",236],";",["T_WHITESPACE"," ",236],["T_CLOSE_TAG","?>\n",236],["T_INLINE_HTML","<\/div>\n<script type=\"text\/x-magento-init\">\n    {\n        \"*\": {\n            \"Magento_Downloadable\/downloadable-type-handler\": {\n                \"isDownloadable\": \"",237],["T_OPEN_TAG_WITH_ECHO","<?=",242],["T_WHITESPACE"," ",242],["T_COMMENT","\/* @noEscape *\/",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$block",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","isDownloadable",242],"(",")",["T_WHITESPACE"," ",242],"?",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'true'",242],["T_WHITESPACE"," ",242],":",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'false'",242],["T_WHITESPACE"," ",242],["T_CLOSE_TAG","?>",242],["T_INLINE_HTML","\",\n                \"tabId\": \"",242],["T_OPEN_TAG_WITH_ECHO","<?=",243],["T_WHITESPACE"," ",243],["T_COMMENT","\/* @noEscape *\/",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$block",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getTabId",243],"(",")",["T_CLOSE_TAG","?>",243],["T_INLINE_HTML","\"\n            }\n        }\n    }\n<\/script>\n\n<script>\n    \/**\n     * @todo get rid of this after automatic binding of js that comes from config for UI component will be implemented\n     *\/\n    require([\n        'jquery',\n        'Magento_Catalog\/catalog\/type-events',\n        'Magento_Downloadable\/downloadable-type-handler',\n        'Magento_Ui\/js\/lib\/view\/utils\/async'\n    ], function ($, typeProducts) {\n\n        $('body').trigger('changeTypeProduct');\n        $('body').trigger('contentUpdated');\n        $.async('[name=type]', function() {\n            typeProducts.init();\n        });\n\n    });\n<\/script>\n",243]]