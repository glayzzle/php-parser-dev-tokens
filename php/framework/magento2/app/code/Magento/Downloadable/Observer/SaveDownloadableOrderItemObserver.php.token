[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Downloadable",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Observer",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Event",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObserverInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Store",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ScopeInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","SaveDownloadableOrderItemObserver",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","ObserverInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_scopeConfig",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Downloadable\\Model\\Link\\PurchasedFactory\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_purchasedFactory",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductFactory\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_productFactory",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Downloadable\\Model\\Link\\Purchased\\ItemFactory\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_itemFactory",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DataObject\\Copy\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_objectCopyService",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Downloadable\\Model\\ResourceModel\\Link\\Purchased\\Item\\CollectionFactory\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_itemsFactory",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Downloadable\\Model\\Link\\PurchasedFactory $purchasedFactory\n     * @param \\Magento\\Catalog\\Model\\ProductFactory $productFactory\n     * @param \\Magento\\Downloadable\\Model\\Link\\Purchased\\ItemFactory $itemFactory\n     * @param \\Magento\\Downloadable\\Model\\ResourceModel\\Link\\Purchased\\Item\\CollectionFactory $itemsFactory\n     * @param \\Magento\\Framework\\DataObject\\Copy $objectCopyService\n     *\/",48],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","__construct",56],"(",["T_WHITESPACE","\n        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","App",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Config",57],["T_NS_SEPARATOR","\\",57],["T_STRING","ScopeConfigInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$scopeConfig",57],",",["T_WHITESPACE","\n        ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Downloadable",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Link",58],["T_NS_SEPARATOR","\\",58],["T_STRING","PurchasedFactory",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$purchasedFactory",58],",",["T_WHITESPACE","\n        ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Catalog",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","ProductFactory",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$productFactory",59],",",["T_WHITESPACE","\n        ",59],["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Downloadable",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Link",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Purchased",60],["T_NS_SEPARATOR","\\",60],["T_STRING","ItemFactory",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$itemFactory",60],",",["T_WHITESPACE","\n        ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Downloadable",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ResourceModel",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Link",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Purchased",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Item",61],["T_NS_SEPARATOR","\\",61],["T_STRING","CollectionFactory",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$itemsFactory",61],",",["T_WHITESPACE","\n        ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","DataObject",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Copy",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$objectCopyService",62],["T_WHITESPACE","\n    ",62],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_scopeConfig",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$scopeConfig",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_purchasedFactory",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$purchasedFactory",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_productFactory",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$productFactory",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_itemFactory",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$itemFactory",67],";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_itemsFactory",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$itemsFactory",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_objectCopyService",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$objectCopyService",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Save data from order to purchased links\n     *\n     * @param \\Magento\\Framework\\DataObject $observer\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",72],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","execute",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Event",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Observer",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$observer",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$orderItem",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$observer",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getEvent",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getItem",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_VARIABLE","$orderItem",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getId",83],"(",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_COMMENT","\/\/order not saved in the database\n",84],["T_WHITESPACE","            ",85],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$orderItem",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getProductType",87],"(",")",["T_WHITESPACE"," ",87],["T_IS_NOT_EQUAL","!=",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Downloadable",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Model",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Product",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Type",87],["T_DOUBLE_COLON","::",87],["T_STRING","TYPE_DOWNLOADABLE",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$product",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$orderItem",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getProduct",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$purchasedLink",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_createPurchasedModel",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","load",91],"(",["T_VARIABLE","$orderItem",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getId",91],"(",")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'order_item_id'",91],")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$purchasedLink",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getId",92],"(",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_VARIABLE","$product",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$product",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_createProductModel",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","setStoreId",96],"(",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$orderItem",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getOrder",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getStoreId",97],"(",")",["T_WHITESPACE","\n            ",97],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","load",98],"(",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$orderItem",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getProductId",99],"(",")",["T_WHITESPACE","\n            ",99],")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$product",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTypeId",102],"(",")",["T_WHITESPACE"," ",102],["T_IS_EQUAL","==",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Downloadable",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Model",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Product",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Type",102],["T_DOUBLE_COLON","::",102],["T_STRING","TYPE_DOWNLOADABLE",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$links",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$product",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTypeInstance",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getLinks",103],"(",["T_VARIABLE","$product",103],")",";",["T_WHITESPACE","\n            ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$linkIds",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$orderItem",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getProductOptionByCode",104],"(",["T_CONSTANT_ENCAPSED_STRING","'links'",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$linkPurchased",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_createPurchasedModel",105],"(",")",";",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_objectCopyService",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","copyFieldsetToTarget",106],"(",["T_WHITESPACE","\n                    ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","downloadable_sales_copy_order",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],",",["T_WHITESPACE","\n                    ",107],["T_CONSTANT_ENCAPSED_STRING","'to_downloadable'",108],",",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$orderItem",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getOrder",109],"(",")",",",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$linkPurchased",110],["T_WHITESPACE","\n                ",110],")",";",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_objectCopyService",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","copyFieldsetToTarget",112],"(",["T_WHITESPACE","\n                    ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","downloadable_sales_copy_order_item",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],",",["T_WHITESPACE","\n                    ",113],["T_CONSTANT_ENCAPSED_STRING","'to_downloadable'",114],",",["T_WHITESPACE","\n                    ",114],["T_VARIABLE","$orderItem",115],",",["T_WHITESPACE","\n                    ",115],["T_VARIABLE","$linkPurchased",116],["T_WHITESPACE","\n                ",116],")",";",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$linkSectionTitle",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$product",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getLinksTitle",118],"(",")",["T_WHITESPACE"," ",118],"?",["T_WHITESPACE"," ",118],["T_VARIABLE","$product",118],["T_WHITESPACE","\n                    ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getLinksTitle",119],"(",")",["T_WHITESPACE"," ",119],":",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_WHITESPACE","\n                    ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","_scopeConfig",120],["T_WHITESPACE","\n                    ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","getValue",121],"(",["T_WHITESPACE","\n                        ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Downloadable",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Model",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Link",122],["T_DOUBLE_COLON","::",122],["T_STRING","XML_PATH_LINKS_TITLE",122],",",["T_WHITESPACE","\n                        ",122],["T_STRING","ScopeInterface",123],["T_DOUBLE_COLON","::",123],["T_STRING","SCOPE_STORE",123],["T_WHITESPACE","\n                    ",123],")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$linkPurchased",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setLinkSectionTitle",125],"(",["T_VARIABLE","$linkSectionTitle",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","save",125],"(",")",";",["T_WHITESPACE","\n                ",125],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$linkIds",126],["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$linkId",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                    ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_ISSET","isset",127],"(",["T_VARIABLE","$links",127],"[",["T_VARIABLE","$linkId",127],"]",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                        ",127],["T_VARIABLE","$linkPurchasedItem",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_createPurchasedItemModel",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","setPurchasedId",128],"(",["T_WHITESPACE","\n                            ",128],["T_VARIABLE","$linkPurchased",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getId",129],"(",")",["T_WHITESPACE","\n                        ",129],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","setOrderItemId",130],"(",["T_WHITESPACE","\n                            ",130],["T_VARIABLE","$orderItem",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getId",131],"(",")",["T_WHITESPACE","\n                        ",131],")",";",["T_WHITESPACE","\n\n                        ",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_objectCopyService",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","copyFieldsetToTarget",134],"(",["T_WHITESPACE","\n                            ",134],["T_NS_SEPARATOR","\\",135],["T_STRING","downloadable_sales_copy_link",135],["T_DOUBLE_COLON","::",135],["T_CLASS","class",135],",",["T_WHITESPACE","\n                            ",135],["T_CONSTANT_ENCAPSED_STRING","'to_purchased'",136],",",["T_WHITESPACE","\n                            ",136],["T_VARIABLE","$links",137],"[",["T_VARIABLE","$linkId",137],"]",",",["T_WHITESPACE","\n                            ",137],["T_VARIABLE","$linkPurchasedItem",138],["T_WHITESPACE","\n                        ",138],")",";",["T_WHITESPACE","\n                        ",139],["T_VARIABLE","$linkHash",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","strtr",140],"(",["T_WHITESPACE","\n                            ",140],["T_STRING","base64_encode",141],"(",["T_WHITESPACE","\n                                ",141],["T_STRING","microtime",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$linkPurchased",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$orderItem",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$product",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",["T_WHITESPACE","\n                            ",142],")",",",["T_WHITESPACE","\n                            ",143],["T_CONSTANT_ENCAPSED_STRING","'+\/='",144],",",["T_WHITESPACE","\n                            ",144],["T_CONSTANT_ENCAPSED_STRING","'-_,'",145],["T_WHITESPACE","\n                        ",145],")",";",["T_WHITESPACE","\n                        ",146],["T_VARIABLE","$numberOfDownloads",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$links",147],"[",["T_VARIABLE","$linkId",147],"]",["T_OBJECT_OPERATOR","->",147],["T_STRING","getNumberOfDownloads",147],"(",")",["T_WHITESPACE"," ",147],"*",["T_WHITESPACE"," ",147],["T_VARIABLE","$orderItem",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getQtyOrdered",147],"(",")",";",["T_WHITESPACE","\n                        ",147],["T_VARIABLE","$linkPurchasedItem",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setLinkHash",148],"(",["T_WHITESPACE","\n                            ",148],["T_VARIABLE","$linkHash",149],["T_WHITESPACE","\n                        ",149],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","setNumberOfDownloadsBought",150],"(",["T_WHITESPACE","\n                            ",150],["T_VARIABLE","$numberOfDownloads",151],["T_WHITESPACE","\n                        ",151],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","setStatus",152],"(",["T_WHITESPACE","\n                            ",152],["T_NS_SEPARATOR","\\",153],["T_STRING","Magento",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Downloadable",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Model",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Link",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Purchased",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Item",153],["T_DOUBLE_COLON","::",153],["T_STRING","LINK_STATUS_PENDING",153],["T_WHITESPACE","\n                        ",153],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","setCreatedAt",154],"(",["T_WHITESPACE","\n                            ",154],["T_VARIABLE","$orderItem",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getCreatedAt",155],"(",")",["T_WHITESPACE","\n                        ",155],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","setUpdatedAt",156],"(",["T_WHITESPACE","\n                            ",156],["T_VARIABLE","$orderItem",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getUpdatedAt",157],"(",")",["T_WHITESPACE","\n                        ",157],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","save",158],"(",")",";",["T_WHITESPACE","\n                    ",158],"}",["T_WHITESPACE","\n                ",159],"}",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Downloadable\\Model\\Link\\Purchased\n     *\/",167],["T_WHITESPACE","\n    ",169],["T_PROTECTED","protected",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","_createPurchasedModel",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_purchasedFactory",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","create",172],"(",")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",175],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","_createProductModel",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_productFactory",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","create",180],"(",")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Downloadable\\Model\\Link\\Purchased\\Item\n     *\/",183],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","_createPurchasedItemModel",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_itemFactory",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","create",188],"(",")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Downloadable\\Model\\ResourceModel\\Link\\Purchased\\Item\\Collection\n     *\/",191],["T_WHITESPACE","\n    ",193],["T_PROTECTED","protected",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","_createItemsCollection",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_itemsFactory",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","create",196],"(",")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n",197],"}",["T_WHITESPACE","\n",198]]