[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Downloadable",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TypeTransitionManager",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Closure",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RequestInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Edit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WeightResolver",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Plugin for product type transition manager\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Downloadable",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Request instance\n     *\n     * @var \\Magento\\Framework\\App\\RequestInterface\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$request",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Edit\\WeightResolver\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$weightResolver",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @param RequestInterface $request\n     * @param WeightResolver $weightResolver\n     *\/",29],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_STRING","RequestInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$request",33],",",["T_WHITESPACE"," ",33],["T_STRING","WeightResolver",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$weightResolver",33],")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","request",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$request",35],";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","weightResolver",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$weightResolver",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Change product type to downloadable if needed\n     *\n     * @param \\Magento\\Catalog\\Model\\Product\\TypeTransitionManager $subject\n     * @param Closure $proceed\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @return void\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",39],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","aroundProcessProduct",48],"(",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Catalog",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Product",49],["T_NS_SEPARATOR","\\",49],["T_STRING","TypeTransitionManager",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$subject",49],",",["T_WHITESPACE","\n        ",49],["T_STRING","Closure",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$proceed",50],",",["T_WHITESPACE","\n        ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Catalog",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Product",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$product",51],["T_WHITESPACE","\n    ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$isTypeCompatible",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","in_array",53],"(",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$product",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getTypeId",54],"(",")",",",["T_WHITESPACE","\n            ",54],"[",["T_WHITESPACE","\n                ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Catalog",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Product",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Type",56],["T_DOUBLE_COLON","::",56],["T_STRING","TYPE_SIMPLE",56],",",["T_WHITESPACE","\n                ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Catalog",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Product",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Type",57],["T_DOUBLE_COLON","::",57],["T_STRING","TYPE_VIRTUAL",57],",",["T_WHITESPACE","\n                ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Downloadable",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Model",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Product",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Type",58],["T_DOUBLE_COLON","::",58],["T_STRING","TYPE_DOWNLOADABLE",58],["T_WHITESPACE","\n            ",58],"]",["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$downloadableData",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","request",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getPost",61],"(",["T_CONSTANT_ENCAPSED_STRING","'downloadable'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$hasDownloadableData",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","false",62],";",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_ISSET","isset",63],"(",["T_VARIABLE","$downloadableData",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$downloadableData",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$data",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$rowData",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                    ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_EMPTY","empty",66],"(",["T_VARIABLE","$rowData",66],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",66],"]",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                        ",66],["T_VARIABLE","$hasDownloadableData",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","true",67],";",["T_WHITESPACE","\n                        ",67],["T_BREAK","break",68],["T_WHITESPACE"," ",68],["T_LNUMBER","2",68],";",["T_WHITESPACE","\n                    ",68],"}",["T_WHITESPACE","\n                ",69],"}",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$isTypeCompatible",73],["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$hasDownloadableData",73],["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],"!",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","weightResolver",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","resolveProductHasWeight",73],"(",["T_VARIABLE","$product",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$product",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setTypeId",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Downloadable",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Product",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Type",74],["T_DOUBLE_COLON","::",74],["T_STRING","TYPE_DOWNLOADABLE",74],")",";",["T_WHITESPACE","\n            ",74],["T_RETURN","return",75],";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$proceed",77],"(",["T_VARIABLE","$product",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n",78],"}",["T_WHITESPACE","\n",79]]