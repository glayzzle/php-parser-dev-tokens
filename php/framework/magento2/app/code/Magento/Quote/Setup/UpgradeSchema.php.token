[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Setup",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Setup",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UpgradeSchemaInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Setup",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModuleContextInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Setup",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SchemaSetupInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Upgrade the Catalog module DB scheme\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","UpgradeSchema",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","UpgradeSchemaInterface",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$connectionName",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'checkout'",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","upgrade",25],"(",["T_STRING","SchemaSetupInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$setup",25],",",["T_WHITESPACE"," ",25],["T_STRING","ModuleContextInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$context",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$setup",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","startSetup",27],"(",")",";",["T_WHITESPACE","\n\n        ",27],["T_IF","if",29],["T_WHITESPACE"," ",29],"(",["T_STRING","version_compare",29],"(",["T_VARIABLE","$context",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getVersion",29],"(",")",",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'2.0.1'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'<'",29],")",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n            ",29],["T_VARIABLE","$setup",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getConnection",30],"(",["T_STRING","self",30],["T_DOUBLE_COLON","::",30],["T_VARIABLE","$connectionName",30],")",["T_OBJECT_OPERATOR","->",30],["T_STRING","addIndex",30],"(",["T_WHITESPACE","\n                ",30],["T_VARIABLE","$setup",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getTable",31],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_id_mask'",31],",",["T_WHITESPACE"," ",31],["T_STRING","self",31],["T_DOUBLE_COLON","::",31],["T_VARIABLE","$connectionName",31],")",",",["T_WHITESPACE","\n                ",31],["T_VARIABLE","$setup",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getIdxName",32],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_id_mask'",32],",",["T_WHITESPACE"," ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'masked_id'",32],"]",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","''",32],",",["T_WHITESPACE"," ",32],["T_STRING","self",32],["T_DOUBLE_COLON","::",32],["T_VARIABLE","$connectionName",32],")",",",["T_WHITESPACE","\n                ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'masked_id'",33],"]",["T_WHITESPACE","\n            ",33],")",";",["T_WHITESPACE","\n        ",34],"}",["T_WHITESPACE","\n\n        ",35],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_STRING","version_compare",37],"(",["T_VARIABLE","$context",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getVersion",37],"(",")",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'2.0.2'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'<'",37],")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n            ",37],["T_VARIABLE","$setup",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getConnection",38],"(",["T_STRING","self",38],["T_DOUBLE_COLON","::",38],["T_VARIABLE","$connectionName",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","changeColumn",38],"(",["T_WHITESPACE","\n                ",38],["T_VARIABLE","$setup",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getTable",39],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_address'",39],",",["T_WHITESPACE"," ",39],["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_VARIABLE","$connectionName",39],")",",",["T_WHITESPACE","\n                ",39],["T_CONSTANT_ENCAPSED_STRING","'street'",40],",",["T_WHITESPACE","\n                ",40],["T_CONSTANT_ENCAPSED_STRING","'street'",41],",",["T_WHITESPACE","\n                ",41],"[",["T_WHITESPACE","\n                    ",42],["T_CONSTANT_ENCAPSED_STRING","'type'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","DB",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Ddl",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Table",43],["T_DOUBLE_COLON","::",43],["T_STRING","TYPE_TEXT",43],",",["T_WHITESPACE","\n                    ",43],["T_CONSTANT_ENCAPSED_STRING","'length'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_LNUMBER","255",44],",",["T_WHITESPACE","\n                    ",44],["T_CONSTANT_ENCAPSED_STRING","'comment'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Street'",45],["T_WHITESPACE","\n                ",45],"]",["T_WHITESPACE","\n            ",46],")",";",["T_WHITESPACE","\n        ",47],"}",["T_WHITESPACE","\n        ",48],["T_COMMENT","\/\/drop foreign key for single DB case\n",49],["T_WHITESPACE","        ",50],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_STRING","version_compare",50],"(",["T_VARIABLE","$context",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getVersion",50],"(",")",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'2.0.3'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'<'",50],")",["T_WHITESPACE","\n            ",50],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$setup",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","tableExists",51],"(",["T_VARIABLE","$setup",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getTable",51],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",51],")",")",["T_WHITESPACE","\n        ",51],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$setup",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getConnection",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","dropForeignKey",53],"(",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$setup",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getTable",54],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",54],")",",",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$setup",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getFkName",55],"(",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'product_id'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_entity'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",55],")",["T_WHITESPACE","\n            ",55],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$setup",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","endSetup",58],"(",")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n",59],"}",["T_WHITESPACE","\n",60]]