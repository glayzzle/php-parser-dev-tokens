[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Address",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Total",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Class SubtotalTest\n * @package Magento\\Quote\\Model\\Quote\\Address\\Total\n * TODO refactor me\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",8],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","SubtotalTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$objectManager",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Address\\Total\\Subtotal\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$subtotalModel",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject *\/",27],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$stockItemMock",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$stockRegistry",33],";",["T_WHITESPACE","\n\n    ",33],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setUp",35],"(",")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","objectManager",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Framework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","TestFramework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Unit",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","ObjectManager",37],"(",["T_VARIABLE","$this",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","subtotalModel",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","objectManager",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getObject",38],"(",["T_WHITESPACE","\n            ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Quote",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Quote",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Address",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Total",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Subtotal",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],["T_WHITESPACE","\n        ",39],")",";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","stockRegistry",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMock",42],"(",["T_WHITESPACE","\n            ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","CatalogInventory",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Model",43],["T_NS_SEPARATOR","\\",43],["T_STRING","StockRegistry",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],",",["T_WHITESPACE","\n            ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'getStockItem'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",44],"]",",",["T_WHITESPACE","\n            ",44],"[","]",",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","''",46],",",["T_WHITESPACE","\n            ",46],["T_STRING","false",47],["T_WHITESPACE","\n        ",47],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","stockItemMock",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",["T_WHITESPACE","\n            ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","CatalogInventory",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Stock",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Item",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],",",["T_WHITESPACE","\n            ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'getIsInStock'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",51],"]",",",["T_WHITESPACE","\n            ",51],"[","]",",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","''",53],",",["T_WHITESPACE","\n            ",53],["T_STRING","false",54],["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","collectDataProvider",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],"[",["T_WHITESPACE","\n            ",60],"[",["T_LNUMBER","12",61],",",["T_WHITESPACE"," ",61],["T_LNUMBER","10",61],",",["T_WHITESPACE"," ",61],["T_STRING","false",61],",",["T_WHITESPACE"," ",61],["T_LNUMBER","12",61],",",["T_WHITESPACE"," ",61],["T_LNUMBER","10",61],"]",",",["T_WHITESPACE","\n            ",61],"[",["T_LNUMBER","12",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],",",["T_WHITESPACE"," ",62],["T_STRING","false",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","12",62],",",["T_WHITESPACE"," ",62],["T_LNUMBER","12",62],"]",",",["T_WHITESPACE","\n            ",62],"[",["T_LNUMBER","0",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","10",63],",",["T_WHITESPACE"," ",63],["T_STRING","false",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","0",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","10",63],"]",",",["T_WHITESPACE","\n            ",63],"[",["T_LNUMBER","12",64],",",["T_WHITESPACE"," ",64],["T_LNUMBER","10",64],",",["T_WHITESPACE"," ",64],["T_STRING","true",64],",",["T_WHITESPACE"," ",64],["T_STRING","null",64],",",["T_WHITESPACE"," ",64],["T_STRING","null",64],"]",",",["T_WHITESPACE","\n            ",64],"[",["T_LNUMBER","12",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","10",65],",",["T_WHITESPACE"," ",65],["T_STRING","false",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","12",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","10",65],"]",["T_WHITESPACE","\n        ",65],"]",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @dataProvider collectDataProvider\n     *\n     * @param int $price\n     * @param int $originalPrice\n     * @param bool $itemHasParent\n     * @param int $expectedPrice\n     * @param int $expectedOriginalPrice\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",69],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","testCollect",80],"(",["T_VARIABLE","$price",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$originalPrice",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$itemHasParent",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$expectedPrice",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$expectedOriginalPrice",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","stockRegistry",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","any",82],"(",")",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","method",82],"(",["T_CONSTANT_ENCAPSED_STRING","'getStockItem'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","willReturn",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","stockItemMock",82],")",";",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$priceCurrency",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMockBuilder",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Pricing",84],["T_NS_SEPARATOR","\\",84],["T_STRING","PriceCurrencyInterface",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","getMock",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$convertedPrice",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_LNUMBER","1231313",85],";",["T_WHITESPACE","\n        ",85],["T_COMMENT","\/\/ @TODO this is a wrong test and it does not check methods. Any digital value will be correct\n",86],["T_WHITESPACE","        ",87],["T_VARIABLE","$priceCurrency",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","expects",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","any",87],"(",")",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","method",87],"(",["T_CONSTANT_ENCAPSED_STRING","'convert'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","willReturn",87],"(",["T_LNUMBER","1231313",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Item|\\PHPUnit_Framework_MockObject_MockObject $quoteItem *\/",89],["T_WHITESPACE","\n        ",89],["T_VARIABLE","$quoteItem",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","objectManager",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getObject",90],"(",["T_WHITESPACE","\n            ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Quote",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Model",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Quote",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Item",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],",",["T_WHITESPACE","\n            ",91],"[",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'stockRegistry'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","stockRegistry",93],",",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'priceCurrency'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$priceCurrency",94],",",["T_WHITESPACE","\n            ",94],"]",["T_WHITESPACE","\n        ",95],")",";",["T_WHITESPACE","\n        ",96],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address|\\PHPUnit_Framework_MockObject_MockObject $address *\/",97],["T_WHITESPACE","\n        ",97],["T_VARIABLE","$address",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",["T_WHITESPACE","\n            ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Quote",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Quote",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Address",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],",",["T_WHITESPACE","\n            ",99],"[",["T_CONSTANT_ENCAPSED_STRING","'setTotalQty'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'getTotalQty'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'removeItem'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'getQuote'",100],"]",",",["T_WHITESPACE","\n            ",100],"[","]",",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE","\n            ",102],["T_STRING","false",103],["T_WHITESPACE","\n        ",103],")",";",["T_WHITESPACE","\n\n        ",104],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product|\\PHPUnit_Framework_MockObject_MockObject $product *\/",106],["T_WHITESPACE","\n        ",106],["T_VARIABLE","$product",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Catalog",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Model",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Product",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],",",["T_WHITESPACE"," ",107],"[","]",",",["T_WHITESPACE"," ",107],"[","]",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","''",107],",",["T_WHITESPACE"," ",107],["T_STRING","false",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$product",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","expects",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","any",108],"(",")",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","method",108],"(",["T_CONSTANT_ENCAPSED_STRING","'getPrice'",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","will",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","returnValue",108],"(",["T_VARIABLE","$originalPrice",108],")",")",";",["T_WHITESPACE","\n\n        ",108],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote|\\PHPUnit_Framework_MockObject_MockObject $quote *\/",110],["T_WHITESPACE","\n        ",110],["T_VARIABLE","$quote",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMock",111],"(",["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Quote",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Model",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Quote",111],["T_DOUBLE_COLON","::",111],["T_CLASS","class",111],",",["T_WHITESPACE"," ",111],"[","]",",",["T_WHITESPACE"," ",111],"[","]",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],",",["T_WHITESPACE"," ",111],["T_STRING","false",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$store",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","objectManager",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getObject",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Store",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Store",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$store",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setCurrentCurrency",113],"(",["T_CONSTANT_ENCAPSED_STRING","''",113],")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$store",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMock",115],"(",["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Store",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Model",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Store",115],["T_DOUBLE_COLON","::",115],["T_CLASS","class",115],",",["T_WHITESPACE"," ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'getWebsiteId'",115],"]",",",["T_WHITESPACE"," ",115],"[","]",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$store",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","any",116],"(",")",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getWebsiteId'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","willReturn",116],"(",["T_LNUMBER","10",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$product",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","any",117],"(",")",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","willReturn",117],"(",["T_VARIABLE","$store",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$product",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","expects",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","any",118],"(",")",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",118],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","will",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","returnValue",118],"(",["T_STRING","true",118],")",")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$quote",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","any",120],"(",")",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","will",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","returnValue",120],"(",["T_VARIABLE","$store",120],")",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$quoteItem",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setProduct",121],"(",["T_VARIABLE","$product",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","setQuote",121],"(",["T_VARIABLE","$quote",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$parentQuoteItem",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","false",123],";",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$itemHasParent",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$parentQuoteItem",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMock",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Quote",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Quote",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Item",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],",",["T_WHITESPACE"," ",125],"[","]",",",["T_WHITESPACE"," ",125],"[","]",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","''",125],",",["T_WHITESPACE"," ",125],["T_STRING","false",125],")",";",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$parentQuoteItem",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","expects",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","any",126],"(",")",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","method",126],"(",["T_CONSTANT_ENCAPSED_STRING","'getProduct'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","will",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","returnValue",126],"(",["T_VARIABLE","$product",126],")",")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$quoteItem",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setParentItem",128],"(",["T_VARIABLE","$parentQuoteItem",128],")",";",["T_WHITESPACE","\n        ",128],["T_COMMENT","\/\/This value will be overwritten\n",129],["T_WHITESPACE","        ",130],["T_VARIABLE","$quoteItem",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setConvertedPrice",130],"(",["T_LNUMBER","10",130],")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$priceModel",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMock",132],"(",["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Catalog",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Model",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Product",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Type",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Price",132],["T_DOUBLE_COLON","::",132],["T_CLASS","class",132],",",["T_WHITESPACE"," ",132],"[","]",",",["T_WHITESPACE"," ",132],"[","]",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],",",["T_WHITESPACE"," ",132],["T_STRING","false",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$priceModel",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","any",133],"(",")",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","method",133],"(",["T_CONSTANT_ENCAPSED_STRING","'getChildFinalPrice'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","willReturn",133],"(",["T_VARIABLE","$price",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$product",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","any",134],"(",")",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceModel'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","willReturn",134],"(",["T_VARIABLE","$priceModel",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$product",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","any",135],"(",")",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'getFinalPrice'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","willReturn",135],"(",["T_VARIABLE","$price",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$shipping",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMock",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Quote",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Api",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Data",137],["T_NS_SEPARATOR","\\",137],["T_STRING","ShippingInterface",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$shipping",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","exactly",138],"(",["T_LNUMBER","2",138],")",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","method",138],"(",["T_CONSTANT_ENCAPSED_STRING","'getAddress'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","willReturn",138],"(",["T_VARIABLE","$address",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$address",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","expects",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","at",139],"(",["T_LNUMBER","0",139],")",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'setTotalQty'",139],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","with",139],"(",["T_LNUMBER","0",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$address",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","any",140],"(",")",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","method",140],"(",["T_CONSTANT_ENCAPSED_STRING","'getTotalQty'",140],")",["T_OBJECT_OPERATOR","->",140],["T_STRING","willReturn",140],"(",["T_LNUMBER","0",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$shippingAssignmentMock",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getMock",141],"(",["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Quote",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Api",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Data",141],["T_NS_SEPARATOR","\\",141],["T_STRING","ShippingAssignmentInterface",141],["T_DOUBLE_COLON","::",141],["T_CLASS","class",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$shippingAssignmentMock",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","exactly",142],"(",["T_LNUMBER","2",142],")",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'getShipping'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_VARIABLE","$shipping",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$shippingAssignmentMock",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","once",143],"(",")",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","willReturn",143],"(","[",["T_VARIABLE","$quoteItem",143],"]",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$total",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMock",145],"(",["T_WHITESPACE","\n            ",145],["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Quote",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Model",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Quote",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Address",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Total",146],["T_DOUBLE_COLON","::",146],["T_CLASS","class",146],",",["T_WHITESPACE","\n            ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'setBaseVirtualAmount'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'setVirtualAmount'",147],"]",",",["T_WHITESPACE","\n            ",147],"[","]",",",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","''",149],",",["T_WHITESPACE","\n            ",149],["T_STRING","false",150],["T_WHITESPACE","\n        ",150],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$total",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","expects",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","once",152],"(",")",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","method",152],"(",["T_CONSTANT_ENCAPSED_STRING","'setBaseVirtualAmount'",152],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","willReturnSelf",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$total",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","once",153],"(",")",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'setVirtualAmount'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","willReturnSelf",153],"(",")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","subtotalModel",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","collect",155],"(",["T_VARIABLE","$quote",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$shippingAssignmentMock",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$total",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEquals",157],"(",["T_VARIABLE","$expectedPrice",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$quoteItem",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getPrice",157],"(",")",")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_VARIABLE","$expectedOriginalPrice",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$quoteItem",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getBaseOriginalPrice",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEquals",159],"(",["T_VARIABLE","$convertedPrice",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$quoteItem",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getCalculationPrice",159],"(",")",")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEquals",160],"(",["T_VARIABLE","$convertedPrice",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$quoteItem",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getConvertedPrice",160],"(",")",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testFetch",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$expectedResult",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"[",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","'code'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING","null",166],",",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'title'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_STRING","__",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Subtotal'",167],")",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'value'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_LNUMBER","100",168],["T_WHITESPACE","\n        ",168],"]",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$quoteMock",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getMock",171],"(",["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Quote",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Model",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Quote",171],["T_DOUBLE_COLON","::",171],["T_CLASS","class",171],",",["T_WHITESPACE"," ",171],"[","]",",",["T_WHITESPACE"," ",171],"[","]",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],",",["T_WHITESPACE"," ",171],["T_STRING","false",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$totalMock",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Quote",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Model",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Quote",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Address",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Total",172],["T_DOUBLE_COLON","::",172],["T_CLASS","class",172],",",["T_WHITESPACE"," ",172],"[",["T_CONSTANT_ENCAPSED_STRING","'getSubtotal'",172],"]",",",["T_WHITESPACE"," ",172],"[","]",",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],",",["T_WHITESPACE"," ",172],["T_STRING","false",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$totalMock",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","expects",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","once",173],"(",")",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","method",173],"(",["T_CONSTANT_ENCAPSED_STRING","'getSubtotal'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(",["T_LNUMBER","100",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEquals",175],"(",["T_VARIABLE","$expectedResult",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","subtotalModel",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","fetch",175],"(",["T_VARIABLE","$quoteMock",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$totalMock",175],")",")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n",176],"}",["T_WHITESPACE","\n",177]]