[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Unit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ObjectManager",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ShippingMethodInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cart",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ShippingMethodConverter",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Quote",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Quote",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Address",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Quote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Quote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Address",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Rate",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Quote",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Quote",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TotalsCollector",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Quote",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","QuoteRepository",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Quote",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ShippingMethodManagement",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","PHPUnit_Framework_MockObject_MockObject",19],["T_WHITESPACE"," ",19],["T_AS","as",19],["T_WHITESPACE"," ",19],["T_STRING","MockObject",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",21],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","ShippingMethodManagementTest",24],["T_WHITESPACE"," ",24],["T_EXTENDS","extends",24],["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","PHPUnit_Framework_TestCase",24],["T_WHITESPACE","\n",24],"{",["T_WHITESPACE","\n    ",25],["T_DOC_COMMENT","\/**\n     * @var ShippingMethodManagement\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$model",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$shippingMethodMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$methodDataFactoryMock",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var ShippingMethodConverter|MockObject\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$converter",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$objectManager",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var QuoteRepository|MockObject\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$quoteRepository",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var Quote|MockObject\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$quote",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var Address|MockObject\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PRIVATE","private",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$shippingAddress",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Reflection\\DataObjectProcessor|MockObject\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PRIVATE","private",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$dataProcessor",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\Data\\AddressInterfaceFactory|MockObject\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PRIVATE","private",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$addressFactory",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\AddressRepositoryInterface|MockObject\n     *\/",76],["T_WHITESPACE","\n    ",78],["T_PRIVATE","private",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$addressRepository",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * @var TotalsCollector|MockObject\n     *\/",81],["T_WHITESPACE","\n    ",83],["T_PRIVATE","private",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$totalsCollector",84],";",["T_WHITESPACE","\n\n    ",84],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","setUp",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","objectManager",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_STRING","ObjectManager",88],"(",["T_VARIABLE","$this",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","quoteRepository",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Quote",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Api",89],["T_NS_SEPARATOR","\\",89],["T_STRING","CartRepositoryInterface",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","addressRepository",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMock",90],"(",["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Customer",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Api",90],["T_NS_SEPARATOR","\\",90],["T_STRING","AddressRepositoryInterface",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$className",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Quote",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Api",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Data",92],["T_NS_SEPARATOR","\\",92],["T_STRING","ShippingMethodInterfaceFactory",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","methodDataFactoryMock",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMock",93],"(",["T_VARIABLE","$className",93],",",["T_WHITESPACE"," ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",93],"]",",",["T_WHITESPACE"," ",93],"[","]",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE"," ",93],["T_STRING","false",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$className",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Customer",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Api",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Data",95],["T_NS_SEPARATOR","\\",95],["T_STRING","AddressInterfaceFactory",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addressFactory",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMock",96],"(",["T_VARIABLE","$className",96],",",["T_WHITESPACE"," ",96],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",96],"]",",",["T_WHITESPACE"," ",96],"[","]",",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","''",96],",",["T_WHITESPACE"," ",96],["T_STRING","false",96],")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$className",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Reflection",98],["T_NS_SEPARATOR","\\",98],["T_STRING","DataObjectProcessor",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","dataProcessor",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMock",99],"(",["T_VARIABLE","$className",99],",",["T_WHITESPACE"," ",99],"[","]",",",["T_WHITESPACE"," ",99],"[","]",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","''",99],",",["T_WHITESPACE"," ",99],["T_STRING","false",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","storeMock",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMock",101],"(",["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Store",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Store",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],",",["T_WHITESPACE"," ",101],"[","]",",",["T_WHITESPACE"," ",101],"[","]",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","''",101],",",["T_WHITESPACE"," ",101],["T_STRING","false",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","quote",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMockBuilder",102],"(",["T_STRING","Quote",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","disableOriginalConstructor",103],"(",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","setMethods",104],"(","[",["T_WHITESPACE","\n                ",104],["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",105],",",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",106],",",["T_WHITESPACE","\n                ",106],["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",107],",",["T_WHITESPACE","\n                ",107],["T_CONSTANT_ENCAPSED_STRING","'getQuoteCurrencyCode'",108],",",["T_WHITESPACE","\n                ",108],["T_CONSTANT_ENCAPSED_STRING","'getBillingAddress'",109],",",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",110],",",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'save'",111],",",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",112],",",["T_WHITESPACE","\n            ",112],"]",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMock",114],"(",")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","shippingAddress",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMockBuilder",116],"(",["T_STRING","Address",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","disableOriginalConstructor",117],"(",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","setMethods",118],"(","[",["T_WHITESPACE","\n                ",118],["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",119],",",["T_WHITESPACE","\n                ",119],["T_CONSTANT_ENCAPSED_STRING","'getShippingMethod'",120],",",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'getShippingDescription'",121],",",["T_WHITESPACE","\n                ",121],["T_CONSTANT_ENCAPSED_STRING","'getShippingAmount'",122],",",["T_WHITESPACE","\n                ",122],["T_CONSTANT_ENCAPSED_STRING","'getBaseShippingAmount'",123],",",["T_WHITESPACE","\n                ",123],["T_CONSTANT_ENCAPSED_STRING","'getGroupedAllShippingRates'",124],",",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'collectShippingRates'",125],",",["T_WHITESPACE","\n                ",125],["T_CONSTANT_ENCAPSED_STRING","'requestShippingRates'",126],",",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'setShippingMethod'",127],",",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","'getShippingRateByCode'",128],",",["T_WHITESPACE","\n                ",128],["T_CONSTANT_ENCAPSED_STRING","'addData'",129],",",["T_WHITESPACE","\n                ",129],["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",130],",",["T_WHITESPACE","\n                ",130],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",131],",",["T_WHITESPACE","\n            ",131],"]",")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMock",133],"(",")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","converter",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMockBuilder",135],"(",["T_STRING","ShippingMethodConverter",135],["T_DOUBLE_COLON","::",135],["T_CLASS","class",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","disableOriginalConstructor",136],"(",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","setMethods",137],"(","[",["T_CONSTANT_ENCAPSED_STRING","'modelToDataObject'",137],"]",")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","getMock",138],"(",")",";",["T_WHITESPACE","\n\n        ",138],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","totalsCollector",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getMockBuilder",140],"(",["T_STRING","TotalsCollector",140],["T_DOUBLE_COLON","::",140],["T_CLASS","class",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","disableOriginalConstructor",141],"(",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","setMethods",142],"(","[",["T_CONSTANT_ENCAPSED_STRING","'collectAddressTotals'",142],"]",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMock",143],"(",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","model",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","objectManager",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getObject",145],"(",["T_WHITESPACE","\n            ",145],["T_STRING","ShippingMethodManagement",146],["T_DOUBLE_COLON","::",146],["T_CLASS","class",146],",",["T_WHITESPACE","\n            ",146],"[",["T_WHITESPACE","\n                ",147],["T_CONSTANT_ENCAPSED_STRING","'quoteRepository'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","quoteRepository",148],",",["T_WHITESPACE","\n                ",148],["T_CONSTANT_ENCAPSED_STRING","'methodDataFactory'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","methodDataFactoryMock",149],",",["T_WHITESPACE","\n                ",149],["T_CONSTANT_ENCAPSED_STRING","'converter'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","converter",150],",",["T_WHITESPACE","\n                ",150],["T_CONSTANT_ENCAPSED_STRING","'totalsCollector'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","totalsCollector",151],",",["T_WHITESPACE","\n                ",151],["T_CONSTANT_ENCAPSED_STRING","'addressRepository'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","addressRepository",152],",",["T_WHITESPACE","\n            ",152],"]",["T_WHITESPACE","\n        ",153],")",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","objectManager",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","setBackwardCompatibleProperty",156],"(",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","model",157],",",["T_WHITESPACE","\n            ",157],["T_CONSTANT_ENCAPSED_STRING","'addressFactory'",158],",",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","addressFactory",159],["T_WHITESPACE","\n        ",159],")",";",["T_WHITESPACE","\n\n        ",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","objectManager",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setBackwardCompatibleProperty",162],"(",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","model",163],",",["T_WHITESPACE","\n            ",163],["T_CONSTANT_ENCAPSED_STRING","'dataProcessor'",164],",",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","dataProcessor",165],["T_WHITESPACE","\n        ",165],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\StateException\n     * @expectedExceptionMessage Shipping address not set.\n     *\/",169],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","testGetMethodWhenShippingAddressIsNotSet",173],"(",")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$cartId",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_LNUMBER","666",175],";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","quoteRepository",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","expects",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","once",176],"(",")",")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","method",177],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","with",177],"(",["T_VARIABLE","$cartId",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","will",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","returnValue",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","quote",177],")",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","quote",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","once",178],"(",")",")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","method",179],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","will",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","returnValue",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","shippingAddress",179],")",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","shippingAddress",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expects",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","once",180],"(",")",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","method",180],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",180],")",["T_OBJECT_OPERATOR","->",180],["T_STRING","will",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","returnValue",180],"(",["T_STRING","null",180],")",")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertNull",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","model",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","get",182],"(",["T_VARIABLE","$cartId",182],")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","testGetMethod",185],"(",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$cartId",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_LNUMBER","666",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$countryId",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","1",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$currencyCode",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'US_dollar'",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","quoteRepository",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","once",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","with",191],"(",["T_VARIABLE","$cartId",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","will",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","returnValue",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","quote",191],")",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","quote",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","once",192],"(",")",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","will",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","returnValue",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","shippingAddress",193],")",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","quote",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","expects",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","once",194],"(",")",")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","method",195],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuoteCurrencyCode'",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","willReturn",195],"(",["T_VARIABLE","$currencyCode",195],")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","shippingAddress",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","expects",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","any",196],"(",")",")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","method",197],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","will",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","returnValue",197],"(",["T_VARIABLE","$countryId",197],")",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","shippingAddress",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","expects",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","any",198],"(",")",")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","method",199],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingMethod'",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","will",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","returnValue",199],"(",["T_CONSTANT_ENCAPSED_STRING","'one_two'",199],")",")",";",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","shippingAddress",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","expects",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","once",201],"(",")",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'collectShippingRates'",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","willReturnSelf",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$shippingRateMock",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getMock",202],"(",["T_NS_SEPARATOR","\\",202],["T_STRING","Magento",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Quote",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Model",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Quote",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Address",202],["T_NS_SEPARATOR","\\",202],["T_STRING","Rate",202],["T_DOUBLE_COLON","::",202],["T_CLASS","class",202],",",["T_WHITESPACE"," ",202],"[","]",",",["T_WHITESPACE"," ",202],"[","]",",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","''",202],",",["T_WHITESPACE"," ",202],["T_STRING","false",202],")",";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","shippingAddress",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","once",204],"(",")",")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingRateByCode'",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","with",206],"(",["T_CONSTANT_ENCAPSED_STRING","'one_two'",206],")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","willReturn",207],"(",["T_VARIABLE","$shippingRateMock",207],")",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","shippingMethodMock",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getMock",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Quote",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Api",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Data",209],["T_NS_SEPARATOR","\\",209],["T_STRING","ShippingMethodInterface",209],["T_DOUBLE_COLON","::",209],["T_CLASS","class",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","converter",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","once",210],"(",")",")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","method",211],"(",["T_CONSTANT_ENCAPSED_STRING","'modelToDataObject'",211],")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","with",212],"(",["T_VARIABLE","$shippingRateMock",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$currencyCode",212],")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","willReturn",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","shippingMethodMock",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","model",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","get",214],"(",["T_VARIABLE","$cartId",214],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","testGetMethodIfMethodIsNotSet",217],"(",")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$cartId",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_LNUMBER","666",219],";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$countryId",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_LNUMBER","1",220],";",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","quoteRepository",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","expects",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","once",222],"(",")",")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","method",223],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","with",223],"(",["T_VARIABLE","$cartId",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","will",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","returnValue",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","quote",223],")",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","quote",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","expects",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","once",224],"(",")",")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","method",225],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",225],")",["T_OBJECT_OPERATOR","->",225],["T_STRING","will",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","returnValue",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","shippingAddress",225],")",")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","shippingAddress",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","expects",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","any",226],"(",")",")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","method",227],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",227],")",["T_OBJECT_OPERATOR","->",227],["T_STRING","will",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","returnValue",227],"(",["T_VARIABLE","$countryId",227],")",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","shippingAddress",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","any",228],"(",")",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingMethod'",229],")",["T_OBJECT_OPERATOR","->",229],["T_STRING","will",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","returnValue",229],"(",["T_STRING","null",229],")",")",";",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertNull",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","model",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","get",231],"(",["T_VARIABLE","$cartId",231],")",")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","testGetListForVirtualCart",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$cartId",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_LNUMBER","834",236],";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","quoteRepository",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","expects",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","once",237],"(",")",")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","with",238],"(",["T_VARIABLE","$cartId",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","will",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","returnValue",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","quote",238],")",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","quote",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","expects",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","once",239],"(",")",")",["T_WHITESPACE","\n            ",239],["T_OBJECT_OPERATOR","->",240],["T_STRING","method",240],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",240],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","will",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","returnValue",240],"(",["T_STRING","true",240],")",")",";",["T_WHITESPACE","\n\n        ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEquals",242],"(","[","]",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","model",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getList",242],"(",["T_VARIABLE","$cartId",242],")",")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","testGetListForEmptyCart",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$cartId",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_LNUMBER","834",247],";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","quoteRepository",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","expects",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","once",248],"(",")",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","method",249],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",249],")",["T_OBJECT_OPERATOR","->",249],["T_STRING","with",249],"(",["T_VARIABLE","$cartId",249],")",["T_OBJECT_OPERATOR","->",249],["T_STRING","will",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","returnValue",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","quote",249],")",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","quote",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","once",250],"(",")",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","will",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","returnValue",251],"(",["T_STRING","false",251],")",")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","quote",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","once",252],"(",")",")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","method",253],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",253],")",["T_OBJECT_OPERATOR","->",253],["T_STRING","will",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","returnValue",253],"(",["T_LNUMBER","0",253],")",")",";",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertEquals",255],"(","[","]",",",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","model",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getList",255],"(",["T_VARIABLE","$cartId",255],")",")",";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\StateException\n     * @expectedExceptionMessage Shipping address not set.\n     *\/",258],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","testGetListWhenShippingAddressIsNotSet",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$cartId",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_LNUMBER","834",264],";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","quoteRepository",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","expects",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","once",265],"(",")",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","method",266],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",266],")",["T_OBJECT_OPERATOR","->",266],["T_STRING","with",266],"(",["T_VARIABLE","$cartId",266],")",["T_OBJECT_OPERATOR","->",266],["T_STRING","will",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","returnValue",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","quote",266],")",")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","quote",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","expects",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","once",267],"(",")",")",["T_WHITESPACE","\n            ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","method",268],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",268],")",["T_OBJECT_OPERATOR","->",268],["T_STRING","will",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","returnValue",268],"(",["T_STRING","false",268],")",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","quote",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","expects",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","once",269],"(",")",")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","method",270],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",270],")",["T_OBJECT_OPERATOR","->",270],["T_STRING","will",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","returnValue",270],"(",["T_LNUMBER","3",270],")",")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","quote",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","expects",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","once",271],"(",")",")",["T_WHITESPACE","\n            ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","method",272],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",272],")",["T_OBJECT_OPERATOR","->",272],["T_STRING","will",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","returnValue",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","shippingAddress",272],")",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","shippingAddress",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","expects",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","once",273],"(",")",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","method",273],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",273],")",["T_OBJECT_OPERATOR","->",273],["T_STRING","will",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","returnValue",273],"(",["T_STRING","null",273],")",")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","model",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getList",275],"(",["T_VARIABLE","$cartId",275],")",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","testGetList",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$cartId",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_LNUMBER","834",280],";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","quoteRepository",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","expects",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","once",281],"(",")",")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","method",282],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","with",282],"(",["T_VARIABLE","$cartId",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","will",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","returnValue",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","quote",282],")",")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","quote",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","expects",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","once",283],"(",")",")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","method",284],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","will",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","returnValue",284],"(",["T_STRING","false",284],")",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","quote",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","once",285],"(",")",")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",286],")",["T_OBJECT_OPERATOR","->",286],["T_STRING","will",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","returnValue",286],"(",["T_LNUMBER","3",286],")",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","quote",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","expects",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","once",287],"(",")",")",["T_WHITESPACE","\n            ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","method",288],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",288],")",["T_OBJECT_OPERATOR","->",288],["T_STRING","will",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","returnValue",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","shippingAddress",288],")",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","shippingAddress",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","expects",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","once",289],"(",")",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","method",289],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","will",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","returnValue",289],"(",["T_LNUMBER","345",289],")",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","shippingAddress",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","expects",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","once",290],"(",")",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","method",290],"(",["T_CONSTANT_ENCAPSED_STRING","'collectShippingRates'",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$shippingRateMock",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getMock",291],"(",["T_NS_SEPARATOR","\\",291],["T_STRING","Magento",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Quote",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Model",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Quote",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Address",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Rate",291],["T_DOUBLE_COLON","::",291],["T_CLASS","class",291],",",["T_WHITESPACE"," ",291],"[","]",",",["T_WHITESPACE"," ",291],"[","]",",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","''",291],",",["T_WHITESPACE"," ",291],["T_STRING","false",291],")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","shippingAddress",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","expects",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","once",292],"(",")",")",["T_WHITESPACE","\n            ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","method",293],"(",["T_CONSTANT_ENCAPSED_STRING","'getGroupedAllShippingRates'",293],")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","will",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","returnValue",294],"(","[","[",["T_VARIABLE","$shippingRateMock",294],"]","]",")",")",";",["T_WHITESPACE","\n\n        ",294],["T_VARIABLE","$currencyCode",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'EUR'",296],";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","quote",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","expects",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","once",297],"(",")",")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","method",298],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuoteCurrencyCode'",298],")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","will",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","returnValue",299],"(",["T_VARIABLE","$currencyCode",299],")",")",";",["T_WHITESPACE","\n\n        ",299],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","converter",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","expects",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","once",301],"(",")",")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","method",302],"(",["T_CONSTANT_ENCAPSED_STRING","'modelToDataObject'",302],")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","with",303],"(",["T_VARIABLE","$shippingRateMock",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$currencyCode",303],")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","will",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","returnValue",304],"(",["T_CONSTANT_ENCAPSED_STRING","'RateValue'",304],")",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertEquals",305],"(","[",["T_CONSTANT_ENCAPSED_STRING","'RateValue'",305],"]",",",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","model",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getList",305],"(",["T_VARIABLE","$cartId",305],")",")",";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\InputException\n     * @expectedExceptionMessage Shipping method is not applicable for empty cart\n     *\/",308],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","testSetMethodWithInputException",312],"(",")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$cartId",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_LNUMBER","12",314],";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$carrierCode",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_LNUMBER","34",315],";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$methodCode",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_LNUMBER","56",316],";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","quoteRepository",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","expects",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","exactly",317],"(",["T_LNUMBER","2",317],")",")",["T_WHITESPACE","\n            ",317],["T_OBJECT_OPERATOR","->",318],["T_STRING","method",318],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",318],")",["T_WHITESPACE","\n            ",318],["T_OBJECT_OPERATOR","->",319],["T_STRING","with",319],"(",["T_VARIABLE","$cartId",319],")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","willReturn",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","quote",320],")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","quote",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","expects",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","once",321],"(",")",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","method",321],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",321],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","will",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","returnValue",321],"(",["T_LNUMBER","0",321],")",")",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","quote",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","expects",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","never",322],"(",")",")",["T_OBJECT_OPERATOR","->",322],["T_STRING","method",322],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",322],")",";",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","model",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","set",324],"(",["T_VARIABLE","$cartId",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$carrierCode",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$methodCode",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @expectedExceptionMessage Cart contains virtual product(s) only. Shipping method is not applicable.\n     *\/",327],["T_WHITESPACE","\n    ",330],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","testSetMethodWithVirtualProduct",331],"(",")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$cartId",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_LNUMBER","12",333],";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$carrierCode",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_LNUMBER","34",334],";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$methodCode",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_LNUMBER","56",335],";",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","quoteRepository",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","expects",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","exactly",337],"(",["T_LNUMBER","2",337],")",")",["T_WHITESPACE","\n            ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","method",338],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",338],")",["T_WHITESPACE","\n            ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","with",339],"(",["T_VARIABLE","$cartId",339],")",["T_WHITESPACE","\n            ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","willReturn",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","quote",340],")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","quote",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","expects",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","once",341],"(",")",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","method",341],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",341],")",["T_OBJECT_OPERATOR","->",341],["T_STRING","will",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","returnValue",341],"(",["T_LNUMBER","1",341],")",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","quote",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","expects",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","once",342],"(",")",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","method",342],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",342],")",["T_OBJECT_OPERATOR","->",342],["T_STRING","will",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","returnValue",342],"(",["T_STRING","true",342],")",")",";",["T_WHITESPACE","\n\n        ",342],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","model",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","set",344],"(",["T_VARIABLE","$cartId",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$carrierCode",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$methodCode",344],")",";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\StateException\n     * @expectedExceptionMessage Shipping address is not set\n     *\/",347],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","testSetMethodWithoutShippingAddress",351],"(",")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$cartId",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_LNUMBER","12",353],";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$carrierCode",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_LNUMBER","34",354],";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$methodCode",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_LNUMBER","56",355],";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","quoteRepository",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","expects",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","exactly",356],"(",["T_LNUMBER","2",356],")",")",["T_WHITESPACE","\n            ",356],["T_OBJECT_OPERATOR","->",357],["T_STRING","method",357],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",357],")",["T_WHITESPACE","\n            ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","with",358],"(",["T_VARIABLE","$cartId",358],")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","willReturn",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","quote",359],")",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","quote",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","expects",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","once",360],"(",")",")",["T_OBJECT_OPERATOR","->",360],["T_STRING","method",360],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",360],")",["T_OBJECT_OPERATOR","->",360],["T_STRING","will",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","returnValue",360],"(",["T_LNUMBER","1",360],")",")",";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","quote",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","expects",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","once",361],"(",")",")",["T_OBJECT_OPERATOR","->",361],["T_STRING","method",361],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",361],")",["T_OBJECT_OPERATOR","->",361],["T_STRING","will",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","returnValue",361],"(",["T_STRING","false",361],")",")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","quote",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","expects",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","once",362],"(",")",")",["T_WHITESPACE","\n            ",362],["T_OBJECT_OPERATOR","->",363],["T_STRING","method",363],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",363],")",["T_OBJECT_OPERATOR","->",363],["T_STRING","will",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","returnValue",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","shippingAddress",363],")",")",";",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","shippingAddress",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","expects",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","once",364],"(",")",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","method",364],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",364],")",["T_OBJECT_OPERATOR","->",364],["T_STRING","will",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","returnValue",364],"(",["T_STRING","null",364],")",")",";",["T_WHITESPACE","\n\n        ",364],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","model",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","set",366],"(",["T_VARIABLE","$cartId",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$carrierCode",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$methodCode",366],")",";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\CouldNotSaveException\n     * @expectedExceptionMessage Cannot set shipping method. Custom Error\n     *\/",369],["T_WHITESPACE","\n    ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","testSetMethodWithCouldNotSaveException",373],"(",")",["T_WHITESPACE","\n    ",373],"{",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$cartId",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_LNUMBER","12",375],";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$carrierCode",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_LNUMBER","34",376],";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$methodCode",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_LNUMBER","56",377],";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$countryId",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_LNUMBER","1",378],";",["T_WHITESPACE","\n\n        ",378],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","quoteRepository",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","expects",380],"(",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","exactly",380],"(",["T_LNUMBER","2",380],")",")",["T_WHITESPACE","\n            ",380],["T_OBJECT_OPERATOR","->",381],["T_STRING","method",381],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",381],")",["T_WHITESPACE","\n            ",381],["T_OBJECT_OPERATOR","->",382],["T_STRING","with",382],"(",["T_VARIABLE","$cartId",382],")",["T_WHITESPACE","\n            ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","willReturn",383],"(",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","quote",383],")",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","quote",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","expects",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","once",384],"(",")",")",["T_OBJECT_OPERATOR","->",384],["T_STRING","method",384],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",384],")",["T_OBJECT_OPERATOR","->",384],["T_STRING","will",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","returnValue",384],"(",["T_LNUMBER","1",384],")",")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","quote",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","expects",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","once",385],"(",")",")",["T_OBJECT_OPERATOR","->",385],["T_STRING","method",385],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",385],")",["T_OBJECT_OPERATOR","->",385],["T_STRING","will",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","returnValue",385],"(",["T_STRING","false",385],")",")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","quote",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","expects",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","once",386],"(",")",")",["T_WHITESPACE","\n            ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","method",387],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",387],")",["T_WHITESPACE","\n            ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","willReturn",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","shippingAddress",388],")",";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","shippingAddress",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","expects",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","once",389],"(",")",")",["T_WHITESPACE","\n            ",389],["T_OBJECT_OPERATOR","->",390],["T_STRING","method",390],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",390],")",["T_WHITESPACE","\n            ",390],["T_OBJECT_OPERATOR","->",391],["T_STRING","willReturn",391],"(",["T_VARIABLE","$countryId",391],")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","shippingAddress",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","expects",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","once",392],"(",")",")",["T_WHITESPACE","\n            ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","method",393],"(",["T_CONSTANT_ENCAPSED_STRING","'setShippingMethod'",393],")",["T_WHITESPACE","\n            ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","with",394],"(",["T_VARIABLE","$carrierCode",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'_'",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$methodCode",394],")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$exception",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_NEW","new",395],["T_WHITESPACE"," ",395],["T_NS_SEPARATOR","\\",395],["T_STRING","Exception",395],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom Error'",395],")",";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","quote",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","expects",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","once",396],"(",")",")",["T_OBJECT_OPERATOR","->",396],["T_STRING","method",396],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",396],")",["T_OBJECT_OPERATOR","->",396],["T_STRING","willReturnSelf",396],"(",")",";",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","quoteRepository",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","expects",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","once",397],"(",")",")",["T_WHITESPACE","\n            ",397],["T_OBJECT_OPERATOR","->",398],["T_STRING","method",398],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",398],")",["T_WHITESPACE","\n            ",398],["T_OBJECT_OPERATOR","->",399],["T_STRING","with",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","quote",399],")",["T_WHITESPACE","\n            ",399],["T_OBJECT_OPERATOR","->",400],["T_STRING","willThrowException",400],"(",["T_VARIABLE","$exception",400],")",";",["T_WHITESPACE","\n\n        ",400],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","model",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","set",402],"(",["T_VARIABLE","$cartId",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$carrierCode",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$methodCode",402],")",";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\StateException\n     * @expectedExceptionMessage Shipping address is not set\n     *\/",405],["T_WHITESPACE","\n    ",408],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","testSetMethodWithoutAddress",409],"(",")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$cartId",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_LNUMBER","12",411],";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$carrierCode",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_LNUMBER","34",412],";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$methodCode",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_LNUMBER","56",413],";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","quoteRepository",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","expects",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","exactly",414],"(",["T_LNUMBER","2",414],")",")",["T_WHITESPACE","\n            ",414],["T_OBJECT_OPERATOR","->",415],["T_STRING","method",415],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",415],")",["T_WHITESPACE","\n            ",415],["T_OBJECT_OPERATOR","->",416],["T_STRING","with",416],"(",["T_VARIABLE","$cartId",416],")",["T_WHITESPACE","\n            ",416],["T_OBJECT_OPERATOR","->",417],["T_STRING","willReturn",417],"(",["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","quote",417],")",";",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","quote",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","expects",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","once",418],"(",")",")",["T_OBJECT_OPERATOR","->",418],["T_STRING","method",418],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",418],")",["T_OBJECT_OPERATOR","->",418],["T_STRING","will",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","returnValue",418],"(",["T_LNUMBER","1",418],")",")",";",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","quote",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","expects",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","once",419],"(",")",")",["T_OBJECT_OPERATOR","->",419],["T_STRING","method",419],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",419],")",["T_OBJECT_OPERATOR","->",419],["T_STRING","will",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","returnValue",419],"(",["T_STRING","false",419],")",")",";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","quote",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","expects",420],"(",["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","once",420],"(",")",")",["T_WHITESPACE","\n            ",420],["T_OBJECT_OPERATOR","->",421],["T_STRING","method",421],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",421],")",["T_WHITESPACE","\n            ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","willReturn",422],"(",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","shippingAddress",422],")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","shippingAddress",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","expects",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","once",423],"(",")",")",["T_OBJECT_OPERATOR","->",423],["T_STRING","method",423],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",423],")",";",["T_WHITESPACE","\n\n        ",423],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","model",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","set",425],"(",["T_VARIABLE","$cartId",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$carrierCode",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$methodCode",425],")",";",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_PUBLIC","public",428],["T_WHITESPACE"," ",428],["T_FUNCTION","function",428],["T_WHITESPACE"," ",428],["T_STRING","testSetMethod",428],"(",")",["T_WHITESPACE","\n    ",428],"{",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$cartId",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_LNUMBER","12",430],";",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$carrierCode",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_LNUMBER","34",431],";",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$methodCode",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_LNUMBER","56",432],";",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$countryId",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_LNUMBER","1",433],";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","quoteRepository",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","expects",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","exactly",434],"(",["T_LNUMBER","2",434],")",")",["T_WHITESPACE","\n            ",434],["T_OBJECT_OPERATOR","->",435],["T_STRING","method",435],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",435],")",["T_WHITESPACE","\n            ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","with",436],"(",["T_VARIABLE","$cartId",436],")",["T_WHITESPACE","\n            ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","willReturn",437],"(",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","quote",437],")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","quote",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","expects",438],"(",["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","once",438],"(",")",")",["T_OBJECT_OPERATOR","->",438],["T_STRING","method",438],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",438],")",["T_OBJECT_OPERATOR","->",438],["T_STRING","will",438],"(",["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","returnValue",438],"(",["T_LNUMBER","1",438],")",")",";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","quote",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","expects",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","once",439],"(",")",")",["T_OBJECT_OPERATOR","->",439],["T_STRING","method",439],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",439],")",["T_OBJECT_OPERATOR","->",439],["T_STRING","will",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","returnValue",439],"(",["T_STRING","false",439],")",")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","quote",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","expects",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","once",440],"(",")",")",["T_WHITESPACE","\n            ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","method",441],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",441],")",["T_OBJECT_OPERATOR","->",441],["T_STRING","will",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","returnValue",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","shippingAddress",441],")",")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","shippingAddress",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","expects",442],"(",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","once",442],"(",")",")",["T_WHITESPACE","\n            ",442],["T_OBJECT_OPERATOR","->",443],["T_STRING","method",443],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",443],")",["T_OBJECT_OPERATOR","->",443],["T_STRING","will",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","returnValue",443],"(",["T_VARIABLE","$countryId",443],")",")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","shippingAddress",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","expects",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","once",444],"(",")",")",["T_WHITESPACE","\n            ",444],["T_OBJECT_OPERATOR","->",445],["T_STRING","method",445],"(",["T_CONSTANT_ENCAPSED_STRING","'setShippingMethod'",445],")",["T_OBJECT_OPERATOR","->",445],["T_STRING","with",445],"(",["T_VARIABLE","$carrierCode",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'_'",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$methodCode",445],")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","quote",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","expects",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","once",446],"(",")",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","method",446],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",446],")",["T_OBJECT_OPERATOR","->",446],["T_STRING","will",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","returnSelf",446],"(",")",")",";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","quoteRepository",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","expects",447],"(",["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","once",447],"(",")",")",["T_OBJECT_OPERATOR","->",447],["T_STRING","method",447],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",447],")",["T_OBJECT_OPERATOR","->",447],["T_STRING","with",447],"(",["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","quote",447],")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","assertTrue",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","model",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","set",449],"(",["T_VARIABLE","$cartId",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$carrierCode",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$methodCode",449],")",")",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Quote\\Model\\ShippingMethodManagement::estimateByExtendedAddress\n     *\/",452],["T_WHITESPACE","\n    ",454],["T_PUBLIC","public",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","testEstimateByExtendedAddress",455],"(",")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$cartId",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_LNUMBER","1",457],";",["T_WHITESPACE","\n\n        ",457],["T_VARIABLE","$addressData",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],"[",["T_WHITESPACE","\n            ",459],["T_CONSTANT_ENCAPSED_STRING","'region'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'California'",460],",",["T_WHITESPACE","\n            ",460],["T_CONSTANT_ENCAPSED_STRING","'region_id'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","23",461],",",["T_WHITESPACE","\n            ",461],["T_CONSTANT_ENCAPSED_STRING","'country_id'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_LNUMBER","1",462],",",["T_WHITESPACE","\n            ",462],["T_CONSTANT_ENCAPSED_STRING","'postcode'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_LNUMBER","90200",463],",",["T_WHITESPACE","\n        ",463],"]",";",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$currencyCode",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'UAH'",465],";",["T_WHITESPACE","\n\n        ",465],["T_DOC_COMMENT","\/**\n         * @var \\Magento\\Quote\\Api\\Data\\AddressInterface|MockObject $address\n         *\/",467],["T_WHITESPACE","\n        ",469],["T_VARIABLE","$address",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getMockBuilder",470],"(",["T_STRING","Address",470],["T_DOUBLE_COLON","::",470],["T_CLASS","class",470],")",["T_WHITESPACE","\n            ",470],["T_OBJECT_OPERATOR","->",471],["T_STRING","disableOriginalConstructor",471],"(",")",["T_WHITESPACE","\n            ",471],["T_OBJECT_OPERATOR","->",472],["T_STRING","getMock",472],"(",")",";",["T_WHITESPACE","\n\n        ",472],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","addressFactory",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","expects",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","any",474],"(",")",")",["T_WHITESPACE","\n            ",474],["T_OBJECT_OPERATOR","->",475],["T_STRING","method",475],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",475],")",["T_WHITESPACE","\n            ",475],["T_OBJECT_OPERATOR","->",476],["T_STRING","will",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","returnValue",476],"(",["T_VARIABLE","$address",476],")",")",";",["T_WHITESPACE","\n\n        ",476],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","quoteRepository",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","expects",478],"(",["T_STATIC","static",478],["T_DOUBLE_COLON","::",478],["T_STRING","once",478],"(",")",")",["T_WHITESPACE","\n            ",478],["T_OBJECT_OPERATOR","->",479],["T_STRING","method",479],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",479],")",["T_WHITESPACE","\n            ",479],["T_OBJECT_OPERATOR","->",480],["T_STRING","with",480],"(",["T_VARIABLE","$cartId",480],")",["T_WHITESPACE","\n            ",480],["T_OBJECT_OPERATOR","->",481],["T_STRING","willReturn",481],"(",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","quote",481],")",";",["T_WHITESPACE","\n\n        ",481],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","quote",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","expects",483],"(",["T_STATIC","static",483],["T_DOUBLE_COLON","::",483],["T_STRING","once",483],"(",")",")",["T_WHITESPACE","\n            ",483],["T_OBJECT_OPERATOR","->",484],["T_STRING","method",484],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",484],")",["T_WHITESPACE","\n            ",484],["T_OBJECT_OPERATOR","->",485],["T_STRING","willReturn",485],"(",["T_STRING","false",485],")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","quote",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","expects",486],"(",["T_STATIC","static",486],["T_DOUBLE_COLON","::",486],["T_STRING","once",486],"(",")",")",["T_WHITESPACE","\n            ",486],["T_OBJECT_OPERATOR","->",487],["T_STRING","method",487],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",487],")",["T_WHITESPACE","\n            ",487],["T_OBJECT_OPERATOR","->",488],["T_STRING","willReturn",488],"(",["T_LNUMBER","1",488],")",";",["T_WHITESPACE","\n\n        ",488],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","quote",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","expects",490],"(",["T_STATIC","static",490],["T_DOUBLE_COLON","::",490],["T_STRING","once",490],"(",")",")",["T_WHITESPACE","\n            ",490],["T_OBJECT_OPERATOR","->",491],["T_STRING","method",491],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",491],")",["T_WHITESPACE","\n            ",491],["T_OBJECT_OPERATOR","->",492],["T_STRING","willReturn",492],"(",["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","shippingAddress",492],")",";",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","dataProcessor",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","expects",494],"(",["T_STATIC","static",494],["T_DOUBLE_COLON","::",494],["T_STRING","any",494],"(",")",")",["T_WHITESPACE","\n            ",494],["T_OBJECT_OPERATOR","->",495],["T_STRING","method",495],"(",["T_CONSTANT_ENCAPSED_STRING","'buildOutputDataArray'",495],")",["T_WHITESPACE","\n            ",495],["T_OBJECT_OPERATOR","->",496],["T_STRING","willReturn",496],"(",["T_VARIABLE","$addressData",496],")",";",["T_WHITESPACE","\n\n        ",496],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","shippingAddress",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","expects",498],"(",["T_STATIC","static",498],["T_DOUBLE_COLON","::",498],["T_STRING","once",498],"(",")",")",["T_WHITESPACE","\n            ",498],["T_OBJECT_OPERATOR","->",499],["T_STRING","method",499],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",499],")",["T_WHITESPACE","\n            ",499],["T_OBJECT_OPERATOR","->",500],["T_STRING","with",500],"(",["T_STRING","true",500],")",["T_WHITESPACE","\n            ",500],["T_OBJECT_OPERATOR","->",501],["T_STRING","willReturnSelf",501],"(",")",";",["T_WHITESPACE","\n\n        ",501],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","totalsCollector",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","expects",503],"(",["T_STATIC","static",503],["T_DOUBLE_COLON","::",503],["T_STRING","once",503],"(",")",")",["T_WHITESPACE","\n            ",503],["T_OBJECT_OPERATOR","->",504],["T_STRING","method",504],"(",["T_CONSTANT_ENCAPSED_STRING","'collectAddressTotals'",504],")",["T_WHITESPACE","\n            ",504],["T_OBJECT_OPERATOR","->",505],["T_STRING","with",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","quote",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","shippingAddress",505],")",["T_WHITESPACE","\n            ",505],["T_OBJECT_OPERATOR","->",506],["T_STRING","willReturnSelf",506],"(",")",";",["T_WHITESPACE","\n\n        ",506],["T_VARIABLE","$rate",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getMockBuilder",508],"(",["T_STRING","Rate",508],["T_DOUBLE_COLON","::",508],["T_CLASS","class",508],")",["T_WHITESPACE","\n            ",508],["T_OBJECT_OPERATOR","->",509],["T_STRING","disableOriginalConstructor",509],"(",")",["T_WHITESPACE","\n            ",509],["T_OBJECT_OPERATOR","->",510],["T_STRING","setMethods",510],"(","[","]",")",["T_WHITESPACE","\n            ",510],["T_OBJECT_OPERATOR","->",511],["T_STRING","getMock",511],"(",")",";",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$methodObject",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getMockForAbstractClass",512],"(",["T_STRING","ShippingMethodInterface",512],["T_DOUBLE_COLON","::",512],["T_CLASS","class",512],")",";",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$expectedRates",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],"[",["T_VARIABLE","$methodObject",513],"]",";",["T_WHITESPACE","\n\n        ",513],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","shippingAddress",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","expects",515],"(",["T_STATIC","static",515],["T_DOUBLE_COLON","::",515],["T_STRING","once",515],"(",")",")",["T_WHITESPACE","\n            ",515],["T_OBJECT_OPERATOR","->",516],["T_STRING","method",516],"(",["T_CONSTANT_ENCAPSED_STRING","'getGroupedAllShippingRates'",516],")",["T_WHITESPACE","\n            ",516],["T_OBJECT_OPERATOR","->",517],["T_STRING","willReturn",517],"(","[","[",["T_VARIABLE","$rate",517],"]","]",")",";",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","quote",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","expects",519],"(",["T_STATIC","static",519],["T_DOUBLE_COLON","::",519],["T_STRING","once",519],"(",")",")",["T_WHITESPACE","\n            ",519],["T_OBJECT_OPERATOR","->",520],["T_STRING","method",520],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuoteCurrencyCode'",520],")",["T_WHITESPACE","\n            ",520],["T_OBJECT_OPERATOR","->",521],["T_STRING","willReturn",521],"(",["T_VARIABLE","$currencyCode",521],")",";",["T_WHITESPACE","\n\n        ",521],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","converter",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","expects",523],"(",["T_STATIC","static",523],["T_DOUBLE_COLON","::",523],["T_STRING","once",523],"(",")",")",["T_WHITESPACE","\n            ",523],["T_OBJECT_OPERATOR","->",524],["T_STRING","method",524],"(",["T_CONSTANT_ENCAPSED_STRING","'modelToDataObject'",524],")",["T_WHITESPACE","\n            ",524],["T_OBJECT_OPERATOR","->",525],["T_STRING","with",525],"(",["T_VARIABLE","$rate",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$currencyCode",525],")",["T_WHITESPACE","\n            ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","willReturn",526],"(",["T_VARIABLE","$methodObject",526],")",";",["T_WHITESPACE","\n\n        ",526],["T_VARIABLE","$carriersRates",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","model",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","estimateByExtendedAddress",528],"(",["T_VARIABLE","$cartId",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$address",528],")",";",["T_WHITESPACE","\n        ",528],["T_STATIC","static",529],["T_DOUBLE_COLON","::",529],["T_STRING","assertEquals",529],"(",["T_VARIABLE","$expectedRates",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$carriersRates",529],")",";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Quote\\Model\\ShippingMethodManagement::estimateByAddressId\n     *\/",532],["T_WHITESPACE","\n    ",534],["T_PUBLIC","public",535],["T_WHITESPACE"," ",535],["T_FUNCTION","function",535],["T_WHITESPACE"," ",535],["T_STRING","testEstimateByAddressId",535],"(",")",["T_WHITESPACE","\n    ",535],"{",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$cartId",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_LNUMBER","1",537],";",["T_WHITESPACE","\n\n        ",537],["T_VARIABLE","$addressData",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],"[",["T_WHITESPACE","\n            ",539],["T_CONSTANT_ENCAPSED_STRING","'region'",540],["T_WHITESPACE"," ",540],["T_DOUBLE_ARROW","=>",540],["T_WHITESPACE"," ",540],["T_CONSTANT_ENCAPSED_STRING","'California'",540],",",["T_WHITESPACE","\n            ",540],["T_CONSTANT_ENCAPSED_STRING","'region_id'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_LNUMBER","23",541],",",["T_WHITESPACE","\n            ",541],["T_CONSTANT_ENCAPSED_STRING","'country_id'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_LNUMBER","1",542],",",["T_WHITESPACE","\n            ",542],["T_CONSTANT_ENCAPSED_STRING","'postcode'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_LNUMBER","90200",543],",",["T_WHITESPACE","\n        ",543],"]",";",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$currencyCode",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_CONSTANT_ENCAPSED_STRING","'UAH'",545],";",["T_WHITESPACE","\n\n        ",545],["T_DOC_COMMENT","\/**\n         * @var \\Magento\\Customer\\Api\\Data\\AddressInterface|MockObject $address\n         *\/",547],["T_WHITESPACE","\n        ",549],["T_VARIABLE","$address",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getMockBuilder",550],"(",["T_NS_SEPARATOR","\\",550],["T_STRING","Magento",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Customer",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Api",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Data",550],["T_NS_SEPARATOR","\\",550],["T_STRING","AddressInterface",550],["T_DOUBLE_COLON","::",550],["T_CLASS","class",550],")",["T_WHITESPACE","\n            ",550],["T_OBJECT_OPERATOR","->",551],["T_STRING","disableOriginalConstructor",551],"(",")",["T_WHITESPACE","\n            ",551],["T_OBJECT_OPERATOR","->",552],["T_STRING","getMock",552],"(",")",";",["T_WHITESPACE","\n\n        ",552],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","addressRepository",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","expects",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","any",554],"(",")",")",["T_WHITESPACE","\n            ",554],["T_OBJECT_OPERATOR","->",555],["T_STRING","method",555],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",555],")",["T_WHITESPACE","\n            ",555],["T_OBJECT_OPERATOR","->",556],["T_STRING","will",556],"(",["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","returnValue",556],"(",["T_VARIABLE","$address",556],")",")",";",["T_WHITESPACE","\n\n        ",556],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","addressFactory",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","expects",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","any",558],"(",")",")",["T_WHITESPACE","\n            ",558],["T_OBJECT_OPERATOR","->",559],["T_STRING","method",559],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",559],")",["T_WHITESPACE","\n            ",559],["T_OBJECT_OPERATOR","->",560],["T_STRING","will",560],"(",["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","returnValue",560],"(",["T_VARIABLE","$address",560],")",")",";",["T_WHITESPACE","\n\n        ",560],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","quoteRepository",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","expects",562],"(",["T_STATIC","static",562],["T_DOUBLE_COLON","::",562],["T_STRING","once",562],"(",")",")",["T_WHITESPACE","\n            ",562],["T_OBJECT_OPERATOR","->",563],["T_STRING","method",563],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",563],")",["T_WHITESPACE","\n            ",563],["T_OBJECT_OPERATOR","->",564],["T_STRING","with",564],"(",["T_VARIABLE","$cartId",564],")",["T_WHITESPACE","\n            ",564],["T_OBJECT_OPERATOR","->",565],["T_STRING","willReturn",565],"(",["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","quote",565],")",";",["T_WHITESPACE","\n\n        ",565],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","quote",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","expects",567],"(",["T_STATIC","static",567],["T_DOUBLE_COLON","::",567],["T_STRING","once",567],"(",")",")",["T_WHITESPACE","\n            ",567],["T_OBJECT_OPERATOR","->",568],["T_STRING","method",568],"(",["T_CONSTANT_ENCAPSED_STRING","'isVirtual'",568],")",["T_WHITESPACE","\n            ",568],["T_OBJECT_OPERATOR","->",569],["T_STRING","willReturn",569],"(",["T_STRING","false",569],")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","quote",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","expects",570],"(",["T_STATIC","static",570],["T_DOUBLE_COLON","::",570],["T_STRING","once",570],"(",")",")",["T_WHITESPACE","\n            ",570],["T_OBJECT_OPERATOR","->",571],["T_STRING","method",571],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",571],")",["T_WHITESPACE","\n            ",571],["T_OBJECT_OPERATOR","->",572],["T_STRING","willReturn",572],"(",["T_LNUMBER","1",572],")",";",["T_WHITESPACE","\n\n        ",572],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","quote",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","expects",574],"(",["T_STATIC","static",574],["T_DOUBLE_COLON","::",574],["T_STRING","once",574],"(",")",")",["T_WHITESPACE","\n            ",574],["T_OBJECT_OPERATOR","->",575],["T_STRING","method",575],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",575],")",["T_WHITESPACE","\n            ",575],["T_OBJECT_OPERATOR","->",576],["T_STRING","willReturn",576],"(",["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","shippingAddress",576],")",";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","dataProcessor",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","expects",578],"(",["T_STATIC","static",578],["T_DOUBLE_COLON","::",578],["T_STRING","any",578],"(",")",")",["T_WHITESPACE","\n            ",578],["T_OBJECT_OPERATOR","->",579],["T_STRING","method",579],"(",["T_CONSTANT_ENCAPSED_STRING","'buildOutputDataArray'",579],")",["T_WHITESPACE","\n            ",579],["T_OBJECT_OPERATOR","->",580],["T_STRING","willReturn",580],"(",["T_VARIABLE","$addressData",580],")",";",["T_WHITESPACE","\n\n        ",580],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","shippingAddress",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","expects",582],"(",["T_STATIC","static",582],["T_DOUBLE_COLON","::",582],["T_STRING","once",582],"(",")",")",["T_WHITESPACE","\n            ",582],["T_OBJECT_OPERATOR","->",583],["T_STRING","method",583],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",583],")",["T_WHITESPACE","\n            ",583],["T_OBJECT_OPERATOR","->",584],["T_STRING","with",584],"(",["T_STRING","true",584],")",["T_WHITESPACE","\n            ",584],["T_OBJECT_OPERATOR","->",585],["T_STRING","willReturnSelf",585],"(",")",";",["T_WHITESPACE","\n\n        ",585],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","totalsCollector",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","expects",587],"(",["T_STATIC","static",587],["T_DOUBLE_COLON","::",587],["T_STRING","once",587],"(",")",")",["T_WHITESPACE","\n            ",587],["T_OBJECT_OPERATOR","->",588],["T_STRING","method",588],"(",["T_CONSTANT_ENCAPSED_STRING","'collectAddressTotals'",588],")",["T_WHITESPACE","\n            ",588],["T_OBJECT_OPERATOR","->",589],["T_STRING","with",589],"(",["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","quote",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","shippingAddress",589],")",["T_WHITESPACE","\n            ",589],["T_OBJECT_OPERATOR","->",590],["T_STRING","willReturnSelf",590],"(",")",";",["T_WHITESPACE","\n\n        ",590],["T_VARIABLE","$rate",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","getMockBuilder",592],"(",["T_STRING","Rate",592],["T_DOUBLE_COLON","::",592],["T_CLASS","class",592],")",["T_WHITESPACE","\n            ",592],["T_OBJECT_OPERATOR","->",593],["T_STRING","disableOriginalConstructor",593],"(",")",["T_WHITESPACE","\n            ",593],["T_OBJECT_OPERATOR","->",594],["T_STRING","setMethods",594],"(","[","]",")",["T_WHITESPACE","\n            ",594],["T_OBJECT_OPERATOR","->",595],["T_STRING","getMock",595],"(",")",";",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$methodObject",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","getMockForAbstractClass",596],"(",["T_STRING","ShippingMethodInterface",596],["T_DOUBLE_COLON","::",596],["T_CLASS","class",596],")",";",["T_WHITESPACE","\n        ",596],["T_VARIABLE","$expectedRates",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],"[",["T_VARIABLE","$methodObject",597],"]",";",["T_WHITESPACE","\n\n        ",597],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","shippingAddress",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","expects",599],"(",["T_STATIC","static",599],["T_DOUBLE_COLON","::",599],["T_STRING","once",599],"(",")",")",["T_WHITESPACE","\n            ",599],["T_OBJECT_OPERATOR","->",600],["T_STRING","method",600],"(",["T_CONSTANT_ENCAPSED_STRING","'getGroupedAllShippingRates'",600],")",["T_WHITESPACE","\n            ",600],["T_OBJECT_OPERATOR","->",601],["T_STRING","willReturn",601],"(","[","[",["T_VARIABLE","$rate",601],"]","]",")",";",["T_WHITESPACE","\n\n        ",601],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","quote",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","expects",603],"(",["T_STATIC","static",603],["T_DOUBLE_COLON","::",603],["T_STRING","once",603],"(",")",")",["T_WHITESPACE","\n            ",603],["T_OBJECT_OPERATOR","->",604],["T_STRING","method",604],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuoteCurrencyCode'",604],")",["T_WHITESPACE","\n            ",604],["T_OBJECT_OPERATOR","->",605],["T_STRING","willReturn",605],"(",["T_VARIABLE","$currencyCode",605],")",";",["T_WHITESPACE","\n\n        ",605],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","converter",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","expects",607],"(",["T_STATIC","static",607],["T_DOUBLE_COLON","::",607],["T_STRING","once",607],"(",")",")",["T_WHITESPACE","\n            ",607],["T_OBJECT_OPERATOR","->",608],["T_STRING","method",608],"(",["T_CONSTANT_ENCAPSED_STRING","'modelToDataObject'",608],")",["T_WHITESPACE","\n            ",608],["T_OBJECT_OPERATOR","->",609],["T_STRING","with",609],"(",["T_VARIABLE","$rate",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$currencyCode",609],")",["T_WHITESPACE","\n            ",609],["T_OBJECT_OPERATOR","->",610],["T_STRING","willReturn",610],"(",["T_VARIABLE","$methodObject",610],")",";",["T_WHITESPACE","\n\n        ",610],["T_VARIABLE","$carriersRates",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","model",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","estimateByAddressId",612],"(",["T_VARIABLE","$cartId",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$address",612],")",";",["T_WHITESPACE","\n        ",612],["T_STATIC","static",613],["T_DOUBLE_COLON","::",613],["T_STRING","assertEquals",613],"(",["T_VARIABLE","$expectedRates",613],",",["T_WHITESPACE"," ",613],["T_VARIABLE","$carriersRates",613],")",";",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n",614],"}",["T_WHITESPACE","\n",615]]