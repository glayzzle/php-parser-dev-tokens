[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Observer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Frontend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Address",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Class CollectTotalsTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","CollectTotalsObserverTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Observer\\Frontend\\Quote\\Address\\CollectTotalsObserver\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$model",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$customerAddressMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$customerSession",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$customerVatMock",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$addressRepository",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$quoteAddressMock",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$quoteMock",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$storeId",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$customerMock",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$vatValidatorMock",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$observerMock",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$customerDataFactoryMock",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$objectManager",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$groupManagementMock",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$groupInterfaceMock",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","setUp",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","objectManager",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","TestFramework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Unit",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Helper",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ObjectManager",98],"(",["T_VARIABLE","$this",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","storeId",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_LNUMBER","1",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","customerMock",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMockForAbstractClass",100],"(",["T_WHITESPACE","\n            ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Customer",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Api",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Data",101],["T_NS_SEPARATOR","\\",101],["T_STRING","CustomerInterface",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],",",["T_WHITESPACE","\n            ",101],"[","]",",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","''",103],",",["T_WHITESPACE","\n            ",103],["T_STRING","false",104],",",["T_WHITESPACE","\n            ",104],["T_STRING","true",105],",",["T_WHITESPACE","\n            ",105],["T_STRING","true",106],",",["T_WHITESPACE","\n            ",106],"[",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'getCustomAttribute'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'getId'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",107],"]",["T_WHITESPACE","\n        ",107],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","customerAddressMock",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMock",109],"(",["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Customer",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Helper",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Address",109],["T_DOUBLE_COLON","::",109],["T_CLASS","class",109],",",["T_WHITESPACE"," ",109],"[","]",",",["T_WHITESPACE"," ",109],"[","]",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],",",["T_WHITESPACE"," ",109],["T_STRING","false",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","customerVatMock",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Customer",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Model",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Vat",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],",",["T_WHITESPACE"," ",110],"[","]",",",["T_WHITESPACE"," ",110],"[","]",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],",",["T_WHITESPACE"," ",110],["T_STRING","false",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","customerDataFactoryMock",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMock",111],"(",["T_WHITESPACE","\n            ",111],["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Customer",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Api",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Data",112],["T_NS_SEPARATOR","\\",112],["T_STRING","CustomerInterfaceFactory",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],",",["T_WHITESPACE","\n            ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'mergeDataObjectWithArray'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'create'",113],"]",",",["T_WHITESPACE","\n            ",113],"[","]",",",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE","\n            ",115],["T_STRING","false",116],["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","vatValidatorMock",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getMock",118],"(",["T_WHITESPACE","\n            ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Quote",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Observer",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Frontend",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Quote",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Address",119],["T_NS_SEPARATOR","\\",119],["T_STRING","VatValidator",119],["T_DOUBLE_COLON","::",119],["T_CLASS","class",119],",",["T_WHITESPACE","\n            ",119],"[","]",",",["T_WHITESPACE","\n            ",120],"[","]",",",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","''",122],",",["T_WHITESPACE","\n            ",122],["T_STRING","false",123],["T_WHITESPACE","\n        ",123],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","observerMock",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getMock",125],"(",["T_WHITESPACE","\n            ",125],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Event",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Observer",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],",",["T_WHITESPACE","\n            ",126],"[",["T_CONSTANT_ENCAPSED_STRING","'getShippingAssignment'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'getQuote'",127],"]",",",["T_WHITESPACE","\n            ",127],"[","]",",",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","''",129],",",["T_WHITESPACE","\n            ",129],["T_STRING","false",130],["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","quoteAddressMock",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMock",133],"(",["T_WHITESPACE","\n            ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Quote",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Quote",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Address",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],",",["T_WHITESPACE","\n            ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'getVatId'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'getQuote'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'setPrevQuoteCustomerGroupId'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",135],"]",",",["T_WHITESPACE","\n            ",135],"[","]",",",["T_WHITESPACE","\n            ",136],["T_CONSTANT_ENCAPSED_STRING","''",137],",",["T_WHITESPACE","\n            ",137],["T_STRING","false",138],",",["T_WHITESPACE","\n            ",138],["T_STRING","false",139],["T_WHITESPACE","\n        ",139],")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","quoteMock",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getMock",142],"(",["T_WHITESPACE","\n            ",142],["T_NS_SEPARATOR","\\",143],["T_STRING","Magento",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Quote",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Model",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Quote",143],["T_DOUBLE_COLON","::",143],["T_CLASS","class",143],",",["T_WHITESPACE","\n            ",143],"[",["T_CONSTANT_ENCAPSED_STRING","'setCustomerGroupId'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'getCustomerGroupId'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'getCustomer'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'setCustomer'",144],"]",",",["T_WHITESPACE","\n            ",144],"[","]",",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","''",146],",",["T_WHITESPACE","\n            ",146],["T_STRING","false",147],["T_WHITESPACE","\n        ",147],")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","groupManagementMock",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMockForAbstractClass",150],"(",["T_WHITESPACE","\n            ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Customer",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Api",151],["T_NS_SEPARATOR","\\",151],["T_STRING","GroupManagementInterface",151],["T_DOUBLE_COLON","::",151],["T_CLASS","class",151],",",["T_WHITESPACE","\n            ",151],"[","]",",",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","''",153],",",["T_WHITESPACE","\n            ",153],["T_STRING","false",154],",",["T_WHITESPACE","\n            ",154],["T_STRING","true",155],",",["T_WHITESPACE","\n            ",155],["T_STRING","true",156],",",["T_WHITESPACE","\n            ",156],"[",["T_WHITESPACE","\n                ",157],["T_CONSTANT_ENCAPSED_STRING","'getDefaultGroup'",158],",",["T_WHITESPACE","\n                ",158],["T_CONSTANT_ENCAPSED_STRING","'getNotLoggedInGroup'",159],["T_WHITESPACE","\n            ",159],"]",["T_WHITESPACE","\n        ",160],")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","groupInterfaceMock",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getMockForAbstractClass",163],"(",["T_WHITESPACE","\n            ",163],["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Customer",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Api",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Data",164],["T_NS_SEPARATOR","\\",164],["T_STRING","GroupInterface",164],["T_DOUBLE_COLON","::",164],["T_CLASS","class",164],",",["T_WHITESPACE","\n            ",164],"[","]",",",["T_WHITESPACE","\n            ",165],["T_CONSTANT_ENCAPSED_STRING","''",166],",",["T_WHITESPACE","\n            ",166],["T_STRING","false",167],",",["T_WHITESPACE","\n            ",167],["T_STRING","true",168],",",["T_WHITESPACE","\n            ",168],["T_STRING","true",169],",",["T_WHITESPACE","\n            ",169],"[",["T_CONSTANT_ENCAPSED_STRING","'getId'",170],"]",["T_WHITESPACE","\n        ",170],")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$shippingAssignmentMock",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getMock",173],"(",["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Quote",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Api",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Data",173],["T_NS_SEPARATOR","\\",173],["T_STRING","ShippingAssignmentInterface",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$shippingMock",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMock",174],"(",["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Quote",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Api",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Data",174],["T_NS_SEPARATOR","\\",174],["T_STRING","ShippingInterface",174],["T_DOUBLE_COLON","::",174],["T_CLASS","class",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$shippingAssignmentMock",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","expects",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","once",175],"(",")",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'getShipping'",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","willReturn",175],"(",["T_VARIABLE","$shippingMock",175],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$shippingMock",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","expects",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","once",176],"(",")",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","method",176],"(",["T_CONSTANT_ENCAPSED_STRING","'getAddress'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","willReturn",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","quoteAddressMock",176],")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","observerMock",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","once",178],"(",")",")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","method",179],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAssignment'",179],")",["T_WHITESPACE","\n            ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","willReturn",180],"(",["T_VARIABLE","$shippingAssignmentMock",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","observerMock",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","expects",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","once",182],"(",")",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","method",182],"(",["T_CONSTANT_ENCAPSED_STRING","'getQuote'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","willReturn",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","quoteMock",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","quoteMock",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","expects",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","any",183],"(",")",")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","method",184],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomer'",184],")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","will",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","returnValue",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","customerMock",185],")",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","addressRepository",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getMock",187],"(",["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Customer",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Api",187],["T_NS_SEPARATOR","\\",187],["T_STRING","AddressRepositoryInterface",187],["T_DOUBLE_COLON","::",187],["T_CLASS","class",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","customerSession",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getMockBuilder",188],"(",["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Customer",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Session",188],["T_DOUBLE_COLON","::",188],["T_CLASS","class",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","disableOriginalConstructor",189],"(",")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","getMock",190],"(",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","customerMock",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","any",192],"(",")",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","method",192],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",192],")",["T_OBJECT_OPERATOR","->",192],["T_STRING","will",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","returnValue",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","storeId",192],")",")",";",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","model",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Quote",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Observer",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Frontend",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Quote",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Address",194],["T_NS_SEPARATOR","\\",194],["T_STRING","CollectTotalsObserver",194],"(",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","customerAddressMock",195],",",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","customerVatMock",196],",",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","vatValidatorMock",197],",",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","customerDataFactoryMock",198],",",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","groupManagementMock",199],",",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","addressRepository",200],",",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","customerSession",201],["T_WHITESPACE","\n        ",201],")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","testDispatchWithDisableVatValidator",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","vatValidatorMock",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","expects",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","once",207],"(",")",")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","method",208],"(",["T_CONSTANT_ENCAPSED_STRING","'isEnabled'",208],")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","with",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","quoteAddressMock",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","storeId",209],")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","will",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","returnValue",210],"(",["T_STRING","false",210],")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","model",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","execute",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","observerMock",211],")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",214],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","testDispatchWithCustomerCountryNotInEUAndNotLoggedCustomerInGroup",217],"(",")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","groupManagementMock",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","expects",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","once",219],"(",")",")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","method",220],"(",["T_CONSTANT_ENCAPSED_STRING","'getNotLoggedInGroup'",220],")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","will",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","returnValue",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","groupInterfaceMock",221],")",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","groupInterfaceMock",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","expects",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","once",222],"(",")",")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","method",223],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","will",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","returnValue",223],"(",["T_LNUMBER","0",223],")",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","vatValidatorMock",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","expects",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","once",224],"(",")",")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","method",225],"(",["T_CONSTANT_ENCAPSED_STRING","'isEnabled'",225],")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","with",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","quoteAddressMock",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","storeId",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","will",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","returnValue",227],"(",["T_STRING","true",227],")",")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","quoteAddressMock",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","expects",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","once",229],"(",")",")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","method",230],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",230],")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","will",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","returnValue",231],"(",["T_CONSTANT_ENCAPSED_STRING","'customerCountryCode'",231],")",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","quoteAddressMock",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","expects",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","once",232],"(",")",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","method",232],"(",["T_CONSTANT_ENCAPSED_STRING","'getVatId'",232],")",["T_OBJECT_OPERATOR","->",232],["T_STRING","will",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","returnValue",232],"(",["T_CONSTANT_ENCAPSED_STRING","'vatId'",232],")",")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","customerVatMock",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","expects",234],"(",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","once",235],"(",")",["T_WHITESPACE","\n        ",235],")",["T_OBJECT_OPERATOR","->",236],["T_STRING","method",236],"(",["T_WHITESPACE","\n            ",236],["T_CONSTANT_ENCAPSED_STRING","'isCountryInEU'",237],["T_WHITESPACE","\n        ",237],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","with",238],"(",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'customerCountryCode'",239],["T_WHITESPACE","\n        ",239],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","will",240],"(",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","returnValue",241],"(",["T_STRING","false",241],")",["T_WHITESPACE","\n        ",241],")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$groupMock",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMockBuilder",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Customer",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Api",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Data",244],["T_NS_SEPARATOR","\\",244],["T_STRING","GroupInterface",244],["T_DOUBLE_COLON","::",244],["T_CLASS","class",244],")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","disableOriginalConstructor",245],"(",")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","getMock",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","customerMock",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","expects",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","once",247],"(",")",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","method",247],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",247],")",["T_OBJECT_OPERATOR","->",247],["T_STRING","will",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","returnValue",247],"(",["T_STRING","null",247],")",")",";",["T_WHITESPACE","\n\n        ",247],["T_DOC_COMMENT","\/** Assertions *\/",249],["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","quoteAddressMock",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","never",250],"(",")",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","method",250],"(",["T_CONSTANT_ENCAPSED_STRING","'setPrevQuoteCustomerGroupId'",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","customerDataFactoryMock",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","expects",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","never",251],"(",")",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'mergeDataObjectWithArray'",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","quoteMock",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","never",252],"(",")",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerGroupId'",252],")",";",["T_WHITESPACE","\n\n        ",252],["T_DOC_COMMENT","\/** SUT execution *\/",254],["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","model",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","execute",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","observerMock",255],")",";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testDispatchWithDefaultCustomerGroupId",258],"(",")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","vatValidatorMock",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","expects",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","once",260],"(",")",")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],"(",["T_CONSTANT_ENCAPSED_STRING","'isEnabled'",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","with",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","quoteAddressMock",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","storeId",262],")",["T_WHITESPACE","\n            ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","will",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","returnValue",263],"(",["T_STRING","true",263],")",")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","quoteAddressMock",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","expects",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","once",265],"(",")",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","method",266],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",266],")",["T_WHITESPACE","\n            ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","will",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","returnValue",267],"(",["T_CONSTANT_ENCAPSED_STRING","'customerCountryCode'",267],")",")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","quoteAddressMock",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","expects",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","once",268],"(",")",")",["T_OBJECT_OPERATOR","->",268],["T_STRING","method",268],"(",["T_CONSTANT_ENCAPSED_STRING","'getVatId'",268],")",["T_OBJECT_OPERATOR","->",268],["T_STRING","will",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","returnValue",268],"(",["T_STRING","null",268],")",")",";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","quoteMock",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","expects",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","once",270],"(",")",")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","method",271],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerGroupId'",271],")",["T_WHITESPACE","\n            ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","will",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","returnValue",272],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",272],")",["T_WHITESPACE","\n        ",272],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","customerMock",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","expects",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","once",274],"(",")",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","method",274],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",274],")",["T_OBJECT_OPERATOR","->",274],["T_STRING","will",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","returnValue",274],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",274],")",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","groupManagementMock",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","expects",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","once",275],"(",")",")",["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","method",276],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultGroup'",276],")",["T_WHITESPACE","\n            ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","will",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","returnValue",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","groupInterfaceMock",277],")",")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","groupInterfaceMock",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","expects",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","once",278],"(",")",")",["T_WHITESPACE","\n            ",278],["T_OBJECT_OPERATOR","->",279],["T_STRING","method",279],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",279],")",["T_OBJECT_OPERATOR","->",279],["T_STRING","will",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","returnValue",279],"(",["T_CONSTANT_ENCAPSED_STRING","'defaultCustomerGroupId'",279],")",")",";",["T_WHITESPACE","\n        ",279],["T_DOC_COMMENT","\/** Assertions *\/",280],["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","quoteAddressMock",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","expects",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","once",281],"(",")",")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","method",282],"(",["T_CONSTANT_ENCAPSED_STRING","'setPrevQuoteCustomerGroupId'",282],")",["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","with",283],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",283],")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","quoteMock",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","expects",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","once",284],"(",")",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","method",284],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerGroupId'",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","with",284],"(",["T_CONSTANT_ENCAPSED_STRING","'defaultCustomerGroupId'",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","customerDataFactoryMock",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","any",285],"(",")",")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",286],")",["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","willReturn",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","customerMock",287],")",";",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","quoteMock",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","expects",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","once",289],"(",")",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","method",289],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomer'",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","with",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","customerMock",289],")",";",["T_WHITESPACE","\n\n        ",289],["T_DOC_COMMENT","\/** SUT execution *\/",291],["T_WHITESPACE","\n        ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","model",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","execute",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","observerMock",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","testDispatchWithCustomerCountryInEU",295],"(",")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","vatValidatorMock",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","expects",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","once",297],"(",")",")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","method",298],"(",["T_CONSTANT_ENCAPSED_STRING","'isEnabled'",298],")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","with",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","quoteAddressMock",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","storeId",299],")",["T_WHITESPACE","\n            ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","will",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","returnValue",300],"(",["T_STRING","true",300],")",")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","quoteAddressMock",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","expects",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","once",302],"(",")",")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","method",303],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",303],")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","will",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","returnValue",304],"(",["T_CONSTANT_ENCAPSED_STRING","'customerCountryCode'",304],")",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","quoteAddressMock",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","expects",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","once",305],"(",")",")",["T_WHITESPACE","\n            ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","method",306],"(",["T_CONSTANT_ENCAPSED_STRING","'getVatId'",306],")",["T_WHITESPACE","\n            ",306],["T_OBJECT_OPERATOR","->",307],["T_STRING","will",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","returnValue",307],"(",["T_CONSTANT_ENCAPSED_STRING","'vatID'",307],")",")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","customerVatMock",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","expects",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","once",309],"(",")",")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","method",310],"(",["T_CONSTANT_ENCAPSED_STRING","'isCountryInEU'",310],")",["T_WHITESPACE","\n            ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","with",311],"(",["T_CONSTANT_ENCAPSED_STRING","'customerCountryCode'",311],")",["T_WHITESPACE","\n            ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","willReturn",312],"(",["T_STRING","true",312],")",";",["T_WHITESPACE","\n\n        ",312],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","quoteMock",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","expects",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","once",314],"(",")",")",["T_WHITESPACE","\n            ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","method",315],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerGroupId'",315],")",["T_WHITESPACE","\n            ",315],["T_OBJECT_OPERATOR","->",316],["T_STRING","will",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","returnValue",316],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",316],")",")",";",["T_WHITESPACE","\n\n        ",316],["T_VARIABLE","$validationResult",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],"[",["T_CONSTANT_ENCAPSED_STRING","'some'",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'result'",318],"]",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","vatValidatorMock",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","expects",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","once",319],"(",")",")",["T_WHITESPACE","\n            ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","method",320],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",320],")",["T_WHITESPACE","\n            ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","with",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","quoteAddressMock",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","storeId",321],")",["T_WHITESPACE","\n            ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","will",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","returnValue",322],"(",["T_VARIABLE","$validationResult",322],")",")",";",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","customerVatMock",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","expects",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","once",324],"(",")",")",["T_WHITESPACE","\n            ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","method",325],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerGroupIdBasedOnVatNumber'",325],")",["T_WHITESPACE","\n            ",325],["T_OBJECT_OPERATOR","->",326],["T_STRING","with",326],"(",["T_CONSTANT_ENCAPSED_STRING","'customerCountryCode'",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$validationResult",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","storeId",326],")",["T_WHITESPACE","\n            ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","will",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","returnValue",327],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",327],")",")",";",["T_WHITESPACE","\n\n        ",327],["T_DOC_COMMENT","\/** Assertions *\/",329],["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","quoteAddressMock",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","expects",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","once",330],"(",")",")",["T_WHITESPACE","\n            ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","method",331],"(",["T_CONSTANT_ENCAPSED_STRING","'setPrevQuoteCustomerGroupId'",331],")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","with",332],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",332],")",";",["T_WHITESPACE","\n\n        ",332],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","quoteMock",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","expects",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","once",334],"(",")",")",["T_OBJECT_OPERATOR","->",334],["T_STRING","method",334],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerGroupId'",334],")",["T_OBJECT_OPERATOR","->",334],["T_STRING","with",334],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",334],")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","quoteMock",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","expects",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","once",335],"(",")",")",["T_OBJECT_OPERATOR","->",335],["T_STRING","method",335],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomer'",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","with",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","customerMock",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","customerDataFactoryMock",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","expects",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","any",336],"(",")",")",["T_WHITESPACE","\n            ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","method",337],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",337],")",["T_WHITESPACE","\n            ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","willReturn",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","customerMock",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","model",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","execute",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","observerMock",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","testDispatchWithEmptyShippingAddress",342],"(",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$customerCountryCode",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","\"DE\"",344],";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$customerVat",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","\"123123123\"",345],";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$defaultShipping",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_LNUMBER","1",346],";",["T_WHITESPACE","\n\n        ",346],["T_VARIABLE","$customerAddress",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getMock",348],"(",["T_NS_SEPARATOR","\\",348],["T_STRING","Magento",348],["T_NS_SEPARATOR","\\",348],["T_STRING","Customer",348],["T_NS_SEPARATOR","\\",348],["T_STRING","Api",348],["T_NS_SEPARATOR","\\",348],["T_STRING","Data",348],["T_NS_SEPARATOR","\\",348],["T_STRING","AddressInterface",348],["T_DOUBLE_COLON","::",348],["T_CLASS","class",348],")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$customerAddress",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","expects",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","once",349],"(",")",")",["T_WHITESPACE","\n            ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","method",350],"(",["T_CONSTANT_ENCAPSED_STRING","\"getCountryId\"",350],")",["T_WHITESPACE","\n            ",350],["T_OBJECT_OPERATOR","->",351],["T_STRING","willReturn",351],"(",["T_VARIABLE","$customerCountryCode",351],")",";",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$customerAddress",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","expects",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","once",353],"(",")",")",["T_WHITESPACE","\n            ",353],["T_OBJECT_OPERATOR","->",354],["T_STRING","method",354],"(",["T_CONSTANT_ENCAPSED_STRING","\"getVatId\"",354],")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","willReturn",355],"(",["T_VARIABLE","$customerVat",355],")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","addressRepository",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","expects",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","once",356],"(",")",")",["T_WHITESPACE","\n            ",356],["T_OBJECT_OPERATOR","->",357],["T_STRING","method",357],"(",["T_CONSTANT_ENCAPSED_STRING","\"getById\"",357],")",["T_WHITESPACE","\n            ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","with",358],"(",["T_VARIABLE","$defaultShipping",358],")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","willReturn",359],"(",["T_VARIABLE","$customerAddress",359],")",";",["T_WHITESPACE","\n\n        ",359],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","customerMock",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","expects",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","atLeastOnce",361],"(",")",")",["T_WHITESPACE","\n            ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","method",362],"(",["T_CONSTANT_ENCAPSED_STRING","\"getDefaultShipping\"",362],")",["T_WHITESPACE","\n            ",362],["T_OBJECT_OPERATOR","->",363],["T_STRING","willReturn",363],"(",["T_VARIABLE","$defaultShipping",363],")",";",["T_WHITESPACE","\n\n        ",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","vatValidatorMock",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","expects",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","once",365],"(",")",")",["T_WHITESPACE","\n            ",365],["T_OBJECT_OPERATOR","->",366],["T_STRING","method",366],"(",["T_CONSTANT_ENCAPSED_STRING","'isEnabled'",366],")",["T_WHITESPACE","\n            ",366],["T_OBJECT_OPERATOR","->",367],["T_STRING","with",367],"(",["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","quoteAddressMock",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","storeId",367],")",["T_WHITESPACE","\n            ",367],["T_OBJECT_OPERATOR","->",368],["T_STRING","will",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","returnValue",368],"(",["T_STRING","true",368],")",")",";",["T_WHITESPACE","\n\n        ",368],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","quoteAddressMock",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","expects",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","once",370],"(",")",")",["T_WHITESPACE","\n            ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","method",371],"(",["T_CONSTANT_ENCAPSED_STRING","'getCountryId'",371],")",["T_WHITESPACE","\n            ",371],["T_OBJECT_OPERATOR","->",372],["T_STRING","will",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","returnValue",372],"(",["T_STRING","null",372],")",")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","quoteAddressMock",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","expects",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","once",373],"(",")",")",["T_WHITESPACE","\n            ",373],["T_OBJECT_OPERATOR","->",374],["T_STRING","method",374],"(",["T_CONSTANT_ENCAPSED_STRING","'getVatId'",374],")",["T_WHITESPACE","\n            ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","will",375],"(",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","returnValue",375],"(",["T_STRING","null",375],")",")",";",["T_WHITESPACE","\n\n        ",375],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","customerVatMock",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","expects",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","once",377],"(",")",")",["T_WHITESPACE","\n            ",377],["T_OBJECT_OPERATOR","->",378],["T_STRING","method",378],"(",["T_CONSTANT_ENCAPSED_STRING","'isCountryInEU'",378],")",["T_WHITESPACE","\n            ",378],["T_OBJECT_OPERATOR","->",379],["T_STRING","with",379],"(",["T_VARIABLE","$customerCountryCode",379],")",["T_WHITESPACE","\n            ",379],["T_OBJECT_OPERATOR","->",380],["T_STRING","willReturn",380],"(",["T_STRING","true",380],")",";",["T_WHITESPACE","\n\n        ",380],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","quoteMock",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","expects",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","once",382],"(",")",")",["T_WHITESPACE","\n            ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","method",383],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerGroupId'",383],")",["T_WHITESPACE","\n            ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","will",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","returnValue",384],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",384],")",")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$validationResult",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],"[",["T_CONSTANT_ENCAPSED_STRING","'some'",385],["T_WHITESPACE"," ",385],["T_DOUBLE_ARROW","=>",385],["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'result'",385],"]",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","customerVatMock",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","expects",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","once",386],"(",")",")",["T_WHITESPACE","\n            ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","method",387],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerGroupIdBasedOnVatNumber'",387],")",["T_WHITESPACE","\n            ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","with",388],"(",["T_VARIABLE","$customerCountryCode",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$validationResult",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","storeId",388],")",["T_WHITESPACE","\n            ",388],["T_OBJECT_OPERATOR","->",389],["T_STRING","will",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","returnValue",389],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",389],")",")",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","customerSession",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","expects",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","once",390],"(",")",")",["T_WHITESPACE","\n            ",390],["T_OBJECT_OPERATOR","->",391],["T_STRING","method",391],"(",["T_CONSTANT_ENCAPSED_STRING","\"setCustomerGroupId\"",391],")",["T_WHITESPACE","\n            ",391],["T_OBJECT_OPERATOR","->",392],["T_STRING","with",392],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",392],")",";",["T_WHITESPACE","\n\n        ",392],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","vatValidatorMock",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","expects",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","once",394],"(",")",")",["T_WHITESPACE","\n            ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","method",395],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",395],")",["T_WHITESPACE","\n            ",395],["T_OBJECT_OPERATOR","->",396],["T_STRING","with",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","quoteAddressMock",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","storeId",396],")",["T_WHITESPACE","\n            ",396],["T_OBJECT_OPERATOR","->",397],["T_STRING","will",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","returnValue",397],"(",["T_VARIABLE","$validationResult",397],")",")",";",["T_WHITESPACE","\n\n        ",397],["T_DOC_COMMENT","\/** Assertions *\/",399],["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","quoteAddressMock",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","expects",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","once",400],"(",")",")",["T_WHITESPACE","\n            ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","method",401],"(",["T_CONSTANT_ENCAPSED_STRING","'setPrevQuoteCustomerGroupId'",401],")",["T_WHITESPACE","\n            ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","with",402],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",402],")",";",["T_WHITESPACE","\n\n        ",402],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","quoteMock",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","expects",404],"(",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","once",404],"(",")",")",["T_OBJECT_OPERATOR","->",404],["T_STRING","method",404],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerGroupId'",404],")",["T_OBJECT_OPERATOR","->",404],["T_STRING","with",404],"(",["T_CONSTANT_ENCAPSED_STRING","'customerGroupId'",404],")",";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","quoteMock",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","expects",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","once",405],"(",")",")",["T_OBJECT_OPERATOR","->",405],["T_STRING","method",405],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomer'",405],")",["T_OBJECT_OPERATOR","->",405],["T_STRING","with",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","customerMock",405],")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","customerDataFactoryMock",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","expects",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","any",406],"(",")",")",["T_WHITESPACE","\n            ",406],["T_OBJECT_OPERATOR","->",407],["T_STRING","method",407],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",407],")",["T_WHITESPACE","\n            ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","willReturn",408],"(",["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","customerMock",408],")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","model",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","execute",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","observerMock",409],")",";",["T_WHITESPACE","\n\n    ",409],"}",["T_WHITESPACE","\n",411],"}",["T_WHITESPACE","\n",412]]