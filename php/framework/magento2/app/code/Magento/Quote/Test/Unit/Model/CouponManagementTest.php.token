[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",8],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Unit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CouponManagement",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","CouponManagementTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var CouponManagement\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$couponManagement",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$quoteRepositoryMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$quoteMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$storeMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$quoteAddressMock",39],";",["T_WHITESPACE","\n\n    ",39],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","setUp",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","quoteRepositoryMock",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMock",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Quote",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Api",43],["T_NS_SEPARATOR","\\",43],["T_STRING","CartRepositoryInterface",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","storeMock",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Store",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Model",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Store",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],",",["T_WHITESPACE"," ",44],"[","]",",",["T_WHITESPACE"," ",44],"[","]",",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","''",44],",",["T_WHITESPACE"," ",44],["T_STRING","false",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","quoteMock",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMock",45],"(",["T_WHITESPACE","\r\n            ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Quote",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Quote",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],",",["T_WHITESPACE","\n            ",46],"[",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",48],",",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",49],",",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",50],",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'save'",51],",",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",52],",",["T_WHITESPACE","\n                ",52],["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",53],",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",54],["T_WHITESPACE","\n            ",54],"]",",",["T_WHITESPACE","\n            ",55],"[","]",",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","''",57],",",["T_WHITESPACE","\n            ",57],["T_STRING","false",58],["T_WHITESPACE","\n        ",58],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","quoteAddressMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",["T_WHITESPACE","\r\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Quote",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Quote",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Address",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],",",["T_WHITESPACE","\n            ",61],"[",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",63],",",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",64],["T_WHITESPACE","\n            ",64],"]",",",["T_WHITESPACE","\n            ",65],"[","]",",",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","''",67],",",["T_WHITESPACE","\n            ",67],["T_STRING","false",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","couponManagement",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","CouponManagement",69],"(",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","quoteRepositoryMock",70],["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testGetCoupon",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$cartId",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_LNUMBER","11",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$couponCode",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'test_coupon_code'",77],";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$quoteMock",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMock",79],"(",["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Quote",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Quote",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],",",["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",79],"]",",",["T_WHITESPACE"," ",79],"[","]",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","''",79],",",["T_WHITESPACE"," ",79],["T_STRING","false",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$quoteMock",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","expects",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","any",80],"(",")",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","will",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","returnValue",80],"(",["T_VARIABLE","$couponCode",80],")",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","quoteRepositoryMock",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","once",82],"(",")",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","with",84],"(",["T_VARIABLE","$cartId",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","will",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","returnValue",85],"(",["T_VARIABLE","$quoteMock",85],")",")",";",["T_WHITESPACE","\n\n\n        ",85],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEquals",88],"(",["T_VARIABLE","$couponCode",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","couponManagement",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_VARIABLE","$cartId",88],")",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @expectedExceptionMessage Cart 33 doesn't contain products\n     *\/",91],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testSetWhenCartDoesNotContainsProducts",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$cartId",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_LNUMBER","33",97],";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","quoteRepositoryMock",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","expects",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","once",99],"(",")",")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","method",100],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","with",100],"(",["T_VARIABLE","$cartId",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","will",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","returnValue",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","quoteMock",100],")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","quoteMock",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","expects",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","once",101],"(",")",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","will",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","returnValue",101],"(",["T_LNUMBER","0",101],")",")",";",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","couponManagement",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","set",103],"(",["T_VARIABLE","$cartId",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'coupon_code'",103],")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\CouldNotSaveException\n     * @expectedExceptionMessage Could not apply coupon code\n     *\/",106],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","testSetWhenCouldNotApplyCoupon",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$cartId",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","33",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$couponCode",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'153a-ABC'",113],";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","quoteRepositoryMock",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","expects",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","once",115],"(",")",")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","with",116],"(",["T_VARIABLE","$cartId",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","will",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","returnValue",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","quoteMock",116],")",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","quoteMock",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","once",117],"(",")",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","will",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","returnValue",117],"(",["T_LNUMBER","12",117],")",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","quoteMock",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","expects",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","once",118],"(",")",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","method",119],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","will",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","returnValue",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","quoteAddressMock",119],")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","quoteAddressMock",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","once",120],"(",")",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","method",120],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","with",120],"(",["T_STRING","true",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","quoteMock",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","once",121],"(",")",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","method",121],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","with",121],"(",["T_VARIABLE","$couponCode",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$exceptionMessage",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Could not apply coupon code'",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$exception",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Framework",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Exception",123],["T_NS_SEPARATOR","\\",123],["T_STRING","CouldNotDeleteException",123],"(",["T_STRING","__",123],"(",["T_VARIABLE","$exceptionMessage",123],")",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","quoteMock",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","once",124],"(",")",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","method",124],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","will",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","returnValue",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","quoteMock",124],")",")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","quoteRepositoryMock",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","expects",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","once",125],"(",")",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","method",126],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","with",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","quoteMock",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willThrowException",128],"(",["T_VARIABLE","$exception",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","couponManagement",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","set",130],"(",["T_VARIABLE","$cartId",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$couponCode",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @expectedExceptionMessage Coupon code is not valid\n     *\/",133],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testSetWhenCouponCodeIsInvalid",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$cartId",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_LNUMBER","33",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$couponCode",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'153a-ABC'",140],";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","quoteRepositoryMock",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","once",142],"(",")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","with",143],"(",["T_VARIABLE","$cartId",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","will",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","returnValue",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","quoteMock",143],")",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","quoteMock",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","expects",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","once",144],"(",")",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","will",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","returnValue",144],"(",["T_LNUMBER","12",144],")",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","quoteMock",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","expects",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","once",145],"(",")",")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","will",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","returnValue",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","quoteAddressMock",146],")",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","quoteAddressMock",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","expects",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","once",147],"(",")",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","method",147],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","with",147],"(",["T_STRING","true",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","quoteMock",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","expects",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","once",148],"(",")",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","method",148],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","with",148],"(",["T_VARIABLE","$couponCode",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","quoteMock",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","expects",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","once",149],"(",")",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","method",149],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",149],")",["T_OBJECT_OPERATOR","->",149],["T_STRING","will",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","returnValue",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","quoteMock",149],")",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","quoteRepositoryMock",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","once",150],"(",")",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","method",150],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","with",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","quoteMock",150],")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","quoteMock",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","expects",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","once",151],"(",")",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",151],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","will",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","returnValue",151],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidCoupon'",151],")",")",";",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","couponManagement",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","set",153],"(",["T_VARIABLE","$cartId",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$couponCode",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","testSet",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$cartId",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_LNUMBER","33",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$couponCode",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'153a-ABC'",159],";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","quoteRepositoryMock",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","expects",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","once",161],"(",")",")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","method",162],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",162],")",["T_OBJECT_OPERATOR","->",162],["T_STRING","with",162],"(",["T_VARIABLE","$cartId",162],")",["T_OBJECT_OPERATOR","->",162],["T_STRING","will",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","returnValue",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","quoteMock",162],")",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","quoteMock",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","expects",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","once",163],"(",")",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",163],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","will",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","returnValue",163],"(",["T_LNUMBER","12",163],")",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","quoteMock",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","expects",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","once",164],"(",")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","method",165],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","will",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","returnValue",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","quoteAddressMock",165],")",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","quoteAddressMock",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","once",166],"(",")",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",166],")",["T_OBJECT_OPERATOR","->",166],["T_STRING","with",166],"(",["T_STRING","true",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","quoteMock",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","expects",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","once",167],"(",")",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","method",167],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","with",167],"(",["T_VARIABLE","$couponCode",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","quoteMock",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expects",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","once",168],"(",")",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","method",168],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",168],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","will",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","returnValue",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","quoteMock",168],")",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","quoteRepositoryMock",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","expects",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","once",169],"(",")",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","method",169],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","with",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","quoteMock",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","quoteMock",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","expects",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","once",170],"(",")",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","method",170],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","will",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","returnValue",170],"(",["T_VARIABLE","$couponCode",170],")",")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertTrue",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","couponManagement",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","set",172],"(",["T_VARIABLE","$cartId",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$couponCode",172],")",")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @expectedExceptionMessage Cart 65 doesn't contain products\n     *\/",175],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","testDeleteWhenCartDoesNotContainsProducts",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$cartId",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_LNUMBER","65",181],";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","quoteRepositoryMock",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","expects",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","once",183],"(",")",")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","method",184],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",184],")",["T_OBJECT_OPERATOR","->",184],["T_STRING","with",184],"(",["T_VARIABLE","$cartId",184],")",["T_OBJECT_OPERATOR","->",184],["T_STRING","will",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","returnValue",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","quoteMock",184],")",")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","quoteMock",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","once",185],"(",")",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","method",185],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",185],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","will",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","returnValue",185],"(",["T_LNUMBER","0",185],")",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","quoteMock",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","expects",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","never",186],"(",")",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","couponManagement",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","remove",188],"(",["T_VARIABLE","$cartId",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\CouldNotDeleteException\n     * @expectedExceptionMessage Could not delete coupon code\n     *\/",191],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testDeleteWhenCouldNotDeleteCoupon",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$cartId",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_LNUMBER","65",197],";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","quoteRepositoryMock",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","once",199],"(",")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",200],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","with",200],"(",["T_VARIABLE","$cartId",200],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","will",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","returnValue",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","quoteMock",200],")",")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","quoteMock",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","expects",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","once",201],"(",")",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","will",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","returnValue",201],"(",["T_LNUMBER","12",201],")",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","quoteMock",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","expects",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","once",202],"(",")",")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","method",203],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",203],")",["T_OBJECT_OPERATOR","->",203],["T_STRING","will",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","returnValue",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","quoteAddressMock",203],")",")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","quoteAddressMock",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","once",204],"(",")",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","method",204],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",204],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","with",204],"(",["T_STRING","true",204],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","quoteMock",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","expects",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","once",205],"(",")",")",["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","with",205],"(",["T_CONSTANT_ENCAPSED_STRING","''",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","quoteMock",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","expects",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","once",206],"(",")",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",206],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","will",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","returnValue",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","quoteMock",206],")",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$exceptionMessage",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Could not delete coupon code'",207],";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$exception",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Framework",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Exception",208],["T_NS_SEPARATOR","\\",208],["T_STRING","CouldNotSaveException",208],"(",["T_STRING","__",208],"(",["T_VARIABLE","$exceptionMessage",208],")",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","quoteMock",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","expects",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","once",209],"(",")",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","method",209],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",209],")",["T_OBJECT_OPERATOR","->",209],["T_STRING","will",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","returnValue",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","quoteMock",209],")",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","quoteRepositoryMock",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","once",210],"(",")",")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","method",211],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",211],")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","with",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","quoteMock",212],")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","willThrowException",213],"(",["T_VARIABLE","$exception",213],")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","couponManagement",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","remove",215],"(",["T_VARIABLE","$cartId",215],")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\CouldNotDeleteException\n     * @expectedExceptionMessage Could not delete coupon code\n     *\/",218],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","testDeleteWhenCouponIsNotEmpty",222],"(",")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$cartId",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_LNUMBER","65",224],";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","quoteRepositoryMock",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","expects",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","once",226],"(",")",")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","method",227],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",227],")",["T_OBJECT_OPERATOR","->",227],["T_STRING","with",227],"(",["T_VARIABLE","$cartId",227],")",["T_OBJECT_OPERATOR","->",227],["T_STRING","will",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","returnValue",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","quoteMock",227],")",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","quoteMock",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","once",228],"(",")",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","method",228],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",228],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","will",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","returnValue",228],"(",["T_LNUMBER","12",228],")",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","quoteMock",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","expects",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","once",229],"(",")",")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","method",230],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",230],")",["T_OBJECT_OPERATOR","->",230],["T_STRING","will",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","returnValue",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","quoteAddressMock",230],")",")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","quoteAddressMock",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","expects",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","once",231],"(",")",")",["T_OBJECT_OPERATOR","->",231],["T_STRING","method",231],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",231],")",["T_OBJECT_OPERATOR","->",231],["T_STRING","with",231],"(",["T_STRING","true",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","quoteMock",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","expects",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","once",232],"(",")",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","method",232],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",232],")",["T_OBJECT_OPERATOR","->",232],["T_STRING","with",232],"(",["T_CONSTANT_ENCAPSED_STRING","''",232],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","quoteMock",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","expects",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","once",233],"(",")",")",["T_OBJECT_OPERATOR","->",233],["T_STRING","method",233],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",233],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","will",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","returnValue",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","quoteMock",233],")",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","quoteMock",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","expects",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","once",234],"(",")",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","method",234],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",234],")",["T_OBJECT_OPERATOR","->",234],["T_STRING","will",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","returnValue",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","quoteMock",234],")",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","quoteRepositoryMock",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","expects",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","once",235],"(",")",")",["T_OBJECT_OPERATOR","->",235],["T_STRING","method",235],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",235],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","with",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","quoteMock",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","quoteMock",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","expects",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","once",236],"(",")",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","method",236],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",236],")",["T_OBJECT_OPERATOR","->",236],["T_STRING","will",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","returnValue",236],"(",["T_CONSTANT_ENCAPSED_STRING","'123_ABC'",236],")",")",";",["T_WHITESPACE","\n\n        ",236],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","couponManagement",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","remove",238],"(",["T_VARIABLE","$cartId",238],")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","testDelete",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$cartId",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_LNUMBER","65",243],";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","quoteRepositoryMock",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","expects",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","once",245],"(",")",")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","method",246],"(",["T_CONSTANT_ENCAPSED_STRING","'getActive'",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","with",246],"(",["T_VARIABLE","$cartId",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","will",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","returnValue",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","quoteMock",246],")",")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","quoteMock",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","expects",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","once",247],"(",")",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","method",247],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemsCount'",247],")",["T_OBJECT_OPERATOR","->",247],["T_STRING","will",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","returnValue",247],"(",["T_LNUMBER","12",247],")",")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","quoteMock",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","expects",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","once",248],"(",")",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","method",249],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",249],")",["T_OBJECT_OPERATOR","->",249],["T_STRING","will",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","returnValue",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","quoteAddressMock",249],")",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","quoteAddressMock",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","once",250],"(",")",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","method",250],"(",["T_CONSTANT_ENCAPSED_STRING","'setCollectShippingRates'",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","with",250],"(",["T_STRING","true",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","quoteMock",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","expects",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","once",251],"(",")",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'setCouponCode'",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","with",251],"(",["T_CONSTANT_ENCAPSED_STRING","''",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","quoteMock",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","once",252],"(",")",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","will",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","returnValue",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","quoteMock",252],")",")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","quoteMock",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","expects",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","once",253],"(",")",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","method",253],"(",["T_CONSTANT_ENCAPSED_STRING","'collectTotals'",253],")",["T_OBJECT_OPERATOR","->",253],["T_STRING","will",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","returnValue",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","quoteMock",253],")",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","quoteRepositoryMock",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","once",254],"(",")",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","method",254],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","with",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","quoteMock",254],")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","quoteMock",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","expects",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","once",255],"(",")",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","method",255],"(",["T_CONSTANT_ENCAPSED_STRING","'getCouponCode'",255],")",["T_OBJECT_OPERATOR","->",255],["T_STRING","will",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","returnValue",255],"(",["T_CONSTANT_ENCAPSED_STRING","''",255],")",")",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertTrue",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","couponManagement",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","remove",257],"(",["T_VARIABLE","$cartId",257],")",")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n",258],"}",["T_WHITESPACE","\n",259]]