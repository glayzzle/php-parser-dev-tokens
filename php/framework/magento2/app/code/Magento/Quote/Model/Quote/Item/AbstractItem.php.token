[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Item",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Item",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AttributeValueFactory",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Quote item abstract model\n *\n * Price attributes:\n *  - price - initial item price, declared during product association\n *  - original_price - product price before any calculations\n *  - calculation_price - prices for item totals calculation\n *  - custom_price - new price that can be declared by user and recalculated during calculation process\n *  - original_custom_price - original defined value of custom price without any convertion\n *\n * @method float getDiscountAmount()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setDiscountAmount(float $amount)\n * @method float getBaseDiscountAmount()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setBaseDiscountAmount(float $amount)\n * @method float getDiscountPercent()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setDiscountPercent()\n * @method float getOriginalDiscountAmount()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setOriginalDiscountAmount()\n * @method float getBaseOriginalDiscountAmount()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setBaseOriginalDiscountAmount()\n * @method float getDiscountCalculationPrice()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setDiscountCalculationPrice()\n * @method float getBaseDiscountCalculationPrice()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setBaseDiscountCalculationPrice($price)\n * @method int[] getAppliedRuleIds()\n * @method \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem setAppliedRuleIds(array $ruleIds)\n * @method float getBaseTaxAmount()\n * @method float getBaseDiscountTaxCompensation()\n * @method float getBaseRowTotal()\n * @method float getQtyOrdered()\n * @method float getRowTotalInclTax()\n * @method float getTaxAmount()\n * @method float getDiscountTaxCompensation()\n * @method float getRowTotal()\n * @method float getPriceInclTax()\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",47],["T_ABSTRACT","abstract",48],["T_WHITESPACE"," ",48],["T_CLASS","class",48],["T_WHITESPACE"," ",48],["T_STRING","AbstractItem",48],["T_WHITESPACE"," ",48],["T_EXTENDS","extends",48],["T_WHITESPACE"," ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Framework",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","AbstractExtensibleModel",48],["T_WHITESPACE"," ",48],["T_IMPLEMENTS","implements",48],["T_WHITESPACE","\n    ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Catalog",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Product",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Configuration",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Item",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ItemInterface",49],["T_WHITESPACE","\n",49],"{",["T_WHITESPACE","\n    ",50],["T_DOC_COMMENT","\/**\n     * @var Item|null\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_parentItem",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","null",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem[]\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_children",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[","]",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_messages",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[","]",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * List of custom options\n     *\n     * @var array\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_optionsByCode",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$productRepository",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Pricing\\PriceCurrencyInterface\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$priceCurrency",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Framework\\Pricing\\PriceCurrencyInterface $priceCurrency\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     *\/",83],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","__construct",94],"(",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Context",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$context",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Registry",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$registry",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Api",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ExtensionAttributesFactory",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$extensionFactory",97],",",["T_WHITESPACE","\n        ",97],["T_STRING","AttributeValueFactory",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$customAttributeFactory",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Catalog",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Api",99],["T_NS_SEPARATOR","\\",99],["T_STRING","ProductRepositoryInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$productRepository",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Pricing",100],["T_NS_SEPARATOR","\\",100],["T_STRING","PriceCurrencyInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$priceCurrency",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Framework",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","ResourceModel",101],["T_NS_SEPARATOR","\\",101],["T_STRING","AbstractResource",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$resource",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","null",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Data",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Collection",102],["T_NS_SEPARATOR","\\",102],["T_STRING","AbstractDb",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$resourceCollection",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],",",["T_WHITESPACE","\n        ",102],["T_ARRAY","array",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$data",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[","]",["T_WHITESPACE","\n    ",103],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n        ",104],["T_STRING","parent",105],["T_DOUBLE_COLON","::",105],["T_STRING","__construct",105],"(",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$context",106],",",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$registry",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$extensionFactory",108],",",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$customAttributeFactory",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$resource",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$resourceCollection",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$data",112],["T_WHITESPACE","\n        ",112],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","productRepository",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$productRepository",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","priceCurrency",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$priceCurrency",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Retrieve Quote instance\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\n     *\/",118],["T_WHITESPACE","\n    ",122],["T_ABSTRACT","abstract",123],["T_WHITESPACE"," ",123],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getQuote",123],"(",")",";",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Retrieve address model\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\\Address\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_ABSTRACT","abstract",130],["T_WHITESPACE"," ",130],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getAddress",130],"(",")",";",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Retrieve product model object associated with item\n     *\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getProduct",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$product",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_getData",139],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",139],")",";",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$product",140],["T_WHITESPACE"," ",140],["T_IS_IDENTICAL","===",140],["T_WHITESPACE"," ",140],["T_STRING","null",140],["T_WHITESPACE"," ",140],["T_BOOLEAN_AND","&&",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getProductId",140],"(",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$product",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CLONE","clone",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","productRepository",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getById",141],"(",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getProductId",142],"(",")",",",["T_WHITESPACE","\n                ",142],["T_STRING","false",143],",",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getQuote",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getStoreId",144],"(",")",["T_WHITESPACE","\n            ",144],")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","setProduct",146],"(",["T_VARIABLE","$product",146],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_DOC_COMMENT","\/**\n         * Reset product final price because it related to custom options\n         *\/",149],["T_WHITESPACE","\n        ",151],["T_VARIABLE","$product",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setFinalPrice",152],"(",["T_STRING","null",152],")",";",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","is_array",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_optionsByCode",153],")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$product",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","setCustomOptions",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_optionsByCode",154],")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$product",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Returns special download params (if needed) for custom option with type = 'file'\n     * Needed to implement \\Magento\\Catalog\\Model\\Product\\Configuration\\Item\\Interface.\n     * Return null, as quote item needs no additional configuration.\n     *\n     * @return null|\\Magento\\Framework\\DataObject\n     *\/",159],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","getFileDownloadParams",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","null",168],";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Specify parent item id before saving data\n     *\n     * @return $this\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","beforeSave",176],"(",")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_STRING","parent",178],["T_DOUBLE_COLON","::",178],["T_STRING","beforeSave",178],"(",")",";",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getParentItem",179],"(",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setParentItemId",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getParentItem",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","getId",180],"(",")",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Set parent item\n     *\n     * @param  Item $parentItem\n     * @return $this\n     *\/",185],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","setParentItem",191],"(",["T_VARIABLE","$parentItem",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$parentItem",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_parentItem",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$parentItem",194],";",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$parentItem",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","addChild",195],"(",["T_VARIABLE","$this",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Get parent item\n     *\n     * @return Item\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getParentItem",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_parentItem",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Get child items\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem[]\n     *\/",210],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","getChildren",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_children",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Add child item\n     *\n     * @param  \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem $child\n     * @return $this\n     *\/",220],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","addChild",226],"(",["T_VARIABLE","$child",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setHasChildren",228],"(",["T_STRING","true",228],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_children",229],"[","]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$child",229],";",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Adds message(s) for quote item. Duplicated messages are not added.\n     *\n     * @param  mixed $messages\n     * @return $this\n     *\/",233],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","setMessage",239],"(",["T_VARIABLE","$messages",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$messagesExists",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getMessage",241],"(",["T_STRING","false",241],")",";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(","!",["T_STRING","is_array",242],"(",["T_VARIABLE","$messages",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$messages",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"[",["T_VARIABLE","$messages",243],"]",";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n        ",244],["T_FOREACH","foreach",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$messages",245],["T_WHITESPACE"," ",245],["T_AS","as",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$message",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!",["T_STRING","in_array",246],"(",["T_VARIABLE","$message",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$messagesExists",246],")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","addMessage",247],"(",["T_VARIABLE","$message",247],")",";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Add message of quote item to array of messages\n     *\n     * @param   string $message\n     * @return $this\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","addMessage",259],"(",["T_VARIABLE","$message",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_messages",261],"[","]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$message",261],";",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Get messages array of quote item\n     *\n     * @param   bool $string flag for converting messages to string\n     * @return  array|string\n     *\/",265],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","getMessage",271],"(",["T_VARIABLE","$string",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","true",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$string",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_STRING","join",274],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_messages",274],")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_messages",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Removes message by text\n     *\n     * @param string $text\n     * @return $this\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","removeMessageByText",285],"(",["T_VARIABLE","$text",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_messages",287],["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$key",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$message",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$message",288],["T_WHITESPACE"," ",288],["T_IS_EQUAL","==",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$text",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n                ",288],["T_UNSET","unset",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_messages",289],"[",["T_VARIABLE","$key",289],"]",")",";",["T_WHITESPACE","\n            ",289],"}",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Clears all messages\n     *\n     * @return $this\n     *\/",295],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","clearMessage",300],"(",")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","unsMessage",302],"(",")",";",["T_WHITESPACE","\n        ",302],["T_COMMENT","\/\/ For older compatibility, when we kept message inside data array\n",303],["T_WHITESPACE","        ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_messages",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],"[","]",";",["T_WHITESPACE","\n        ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Retrieve store model object\n     *\n     * @return \\Magento\\Store\\Model\\Store\n     *\/",308],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getStore",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getQuote",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","getStore",315],"(",")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Checking item data\n     *\n     * @return $this\n     *\/",318],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","checkData",323],"(",")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","setHasError",325],"(",["T_STRING","false",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","clearMessage",326],"(",")",";",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$qty",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_getData",328],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",328],")",";",["T_WHITESPACE","\n\n        ",328],["T_TRY","try",330],["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setQty",331],"(",["T_VARIABLE","$qty",331],")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE"," ",332],["T_CATCH","catch",332],["T_WHITESPACE"," ",332],"(",["T_NS_SEPARATOR","\\",332],["T_STRING","Magento",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Framework",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Exception",332],["T_NS_SEPARATOR","\\",332],["T_STRING","LocalizedException",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$e",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","setHasError",333],"(",["T_STRING","true",333],")",";",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","setMessage",334],"(",["T_VARIABLE","$e",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getMessage",334],"(",")",")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE"," ",335],["T_CATCH","catch",335],["T_WHITESPACE"," ",335],"(",["T_NS_SEPARATOR","\\",335],["T_STRING","Exception",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$e",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","setHasError",336],"(",["T_STRING","true",336],")",";",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","setMessage",337],"(",["T_STRING","__",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Item qty declaration error'",337],")",")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n\n        ",338],["T_TRY","try",340],["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getProduct",341],"(",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","getTypeInstance",341],"(",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","checkProductBuyState",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getProduct",341],"(",")",")",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE"," ",342],["T_CATCH","catch",342],["T_WHITESPACE"," ",342],"(",["T_NS_SEPARATOR","\\",342],["T_STRING","Magento",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Framework",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Exception",342],["T_NS_SEPARATOR","\\",342],["T_STRING","LocalizedException",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$e",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","setHasError",343],"(",["T_STRING","true",343],")",["T_OBJECT_OPERATOR","->",343],["T_STRING","setMessage",343],"(",["T_VARIABLE","$e",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getMessage",343],"(",")",")",";",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getQuote",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","setHasError",344],"(",["T_WHITESPACE","\n                ",344],["T_STRING","true",345],["T_WHITESPACE","\n            ",345],")",["T_OBJECT_OPERATOR","->",346],["T_STRING","addMessage",346],"(",["T_WHITESPACE","\n                ",346],["T_STRING","__",347],"(",["T_CONSTANT_ENCAPSED_STRING","'Some of the products below do not have all the required options.'",347],")",["T_WHITESPACE","\n            ",347],")",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE"," ",349],["T_CATCH","catch",349],["T_WHITESPACE"," ",349],"(",["T_NS_SEPARATOR","\\",349],["T_STRING","Exception",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$e",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","setHasError",350],"(",["T_STRING","true",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","setMessage",350],"(",["T_STRING","__",350],"(",["T_CONSTANT_ENCAPSED_STRING","'Something went wrong during the item options declaration.'",350],")",")",";",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getQuote",351],"(",")",["T_OBJECT_OPERATOR","->",351],["T_STRING","setHasError",351],"(",["T_STRING","true",351],")",["T_OBJECT_OPERATOR","->",351],["T_STRING","addMessage",351],"(",["T_STRING","__",351],"(",["T_CONSTANT_ENCAPSED_STRING","'We found an item options declaration error.'",351],")",")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getProduct",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","getHasError",354],"(",")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","setHasError",355],"(",["T_STRING","true",355],")",["T_OBJECT_OPERATOR","->",355],["T_STRING","setMessage",355],"(",["T_STRING","__",355],"(",["T_CONSTANT_ENCAPSED_STRING","'Some of the selected options are not currently available.'",355],")",")",";",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getQuote",356],"(",")",["T_OBJECT_OPERATOR","->",356],["T_STRING","setHasError",356],"(",["T_STRING","true",356],")",["T_OBJECT_OPERATOR","->",356],["T_STRING","addMessage",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getProduct",356],"(",")",["T_OBJECT_OPERATOR","->",356],["T_STRING","getMessage",356],"(",")",",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'options'",356],")",";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n\n        ",357],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getHasConfigurationUnavailableError",359],"(",")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","setHasError",360],"(",["T_WHITESPACE","\n                ",360],["T_STRING","true",361],["T_WHITESPACE","\n            ",361],")",["T_OBJECT_OPERATOR","->",362],["T_STRING","setMessage",362],"(",["T_WHITESPACE","\n                ",362],["T_STRING","__",363],"(",["T_CONSTANT_ENCAPSED_STRING","'Selected option(s) or their combination is not currently available.'",363],")",["T_WHITESPACE","\n            ",363],")",";",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getQuote",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","setHasError",365],"(",["T_WHITESPACE","\n                ",365],["T_STRING","true",366],["T_WHITESPACE","\n            ",366],")",["T_OBJECT_OPERATOR","->",367],["T_STRING","addMessage",367],"(",["T_WHITESPACE","\n                ",367],["T_STRING","__",368],"(",["T_CONSTANT_ENCAPSED_STRING","'Some item options or their combination are not currently available.'",368],")",",",["T_WHITESPACE","\n                ",368],["T_CONSTANT_ENCAPSED_STRING","'unavailable-configuration'",369],["T_WHITESPACE","\n            ",369],")",";",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","unsHasConfigurationUnavailableError",371],"(",")",";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n\n        ",372],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_DOC_COMMENT","\/**\n     * Get original (not related with parent item) item quantity\n     *\n     * @return  int|float\n     *\/",377],["T_WHITESPACE","\n    ",381],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","getQty",382],"(",")",["T_WHITESPACE","\n    ",382],"{",["T_WHITESPACE","\n        ",383],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_getData",384],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",384],")",";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * Get total item quantity (include parent item relation)\n     *\n     * @return  int|float\n     *\/",387],["T_WHITESPACE","\n    ",391],["T_PUBLIC","public",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","getTotalQty",392],"(",")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","getParentItem",394],"(",")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getQty",395],"(",")",["T_WHITESPACE"," ",395],"*",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getParentItem",395],"(",")",["T_OBJECT_OPERATOR","->",395],["T_STRING","getQty",395],"(",")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n        ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getQty",397],"(",")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * Calculate item row total price\n     *\n     * @return $this\n     *\/",400],["T_WHITESPACE","\n    ",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","calcRowTotal",405],"(",")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$qty",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getTotalQty",407],"(",")",";",["T_WHITESPACE","\n        ",407],["T_COMMENT","\/\/ Round unit price before multiplying to prevent losing 1 cent on subtotal\n",408],["T_WHITESPACE","        ",409],["T_VARIABLE","$total",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","priceCurrency",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","round",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getCalculationPriceOriginal",409],"(",")",")",["T_WHITESPACE"," ",409],"*",["T_WHITESPACE"," ",409],["T_VARIABLE","$qty",409],";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$baseTotal",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","priceCurrency",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","round",410],"(",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getBaseCalculationPriceOriginal",410],"(",")",")",["T_WHITESPACE"," ",410],"*",["T_WHITESPACE"," ",410],["T_VARIABLE","$qty",410],";",["T_WHITESPACE","\n\n        ",410],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","setRowTotal",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","priceCurrency",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","round",412],"(",["T_VARIABLE","$total",412],")",")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","setBaseRowTotal",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","priceCurrency",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","round",413],"(",["T_VARIABLE","$baseTotal",413],")",")",";",["T_WHITESPACE","\n        ",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],";",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * Get item price used for quote calculation process.\n     * This method get custom price (if it is defined) or original product final price\n     *\n     * @return float\n     *\/",417],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","getCalculationPrice",423],"(",")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$price",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_getData",425],"(",["T_CONSTANT_ENCAPSED_STRING","'calculation_price'",425],")",";",["T_WHITESPACE","\n        ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$price",426],["T_WHITESPACE"," ",426],["T_IS_IDENTICAL","===",426],["T_WHITESPACE"," ",426],["T_STRING","null",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","hasCustomPrice",427],"(",")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n                ",427],["T_VARIABLE","$price",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getCustomPrice",428],"(",")",";",["T_WHITESPACE","\n            ",428],"}",["T_WHITESPACE"," ",429],["T_ELSE","else",429],["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_VARIABLE","$price",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getConvertedPrice",430],"(",")",";",["T_WHITESPACE","\n            ",430],"}",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","setData",432],"(",["T_CONSTANT_ENCAPSED_STRING","'calculation_price'",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$price",432],")",";",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n        ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$price",434],";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Get item price used for quote calculation process.\n     * This method get original custom price applied before tax calculation\n     *\n     * @return float\n     *\/",437],["T_WHITESPACE","\n    ",442],["T_PUBLIC","public",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","getCalculationPriceOriginal",443],"(",")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$price",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getData",445],"(",["T_CONSTANT_ENCAPSED_STRING","'calculation_price'",445],")",";",["T_WHITESPACE","\n        ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$price",446],["T_WHITESPACE"," ",446],["T_IS_IDENTICAL","===",446],["T_WHITESPACE"," ",446],["T_STRING","null",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","hasOriginalCustomPrice",447],"(",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                ",447],["T_VARIABLE","$price",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getOriginalCustomPrice",448],"(",")",";",["T_WHITESPACE","\n            ",448],"}",["T_WHITESPACE"," ",449],["T_ELSE","else",449],["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                ",449],["T_VARIABLE","$price",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getConvertedPrice",450],"(",")",";",["T_WHITESPACE","\n            ",450],"}",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","setData",452],"(",["T_CONSTANT_ENCAPSED_STRING","'calculation_price'",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$price",452],")",";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n        ",453],["T_RETURN","return",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$price",454],";",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n\n    ",455],["T_DOC_COMMENT","\/**\n     * Get calculation price used for quote calculation in base currency.\n     *\n     * @return float\n     *\/",457],["T_WHITESPACE","\n    ",461],["T_PUBLIC","public",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","getBaseCalculationPrice",462],"(",")",["T_WHITESPACE","\n    ",462],"{",["T_WHITESPACE","\n        ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(","!",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","hasBaseCalculationPrice",464],"(",")",")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","hasCustomPrice",465],"(",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n                ",465],["T_VARIABLE","$price",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_DOUBLE_CAST","(double)",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getCustomPrice",466],"(",")",";",["T_WHITESPACE","\n                ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$price",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                    ",467],["T_VARIABLE","$rate",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","priceCurrency",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","convert",468],"(",["T_VARIABLE","$price",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getStore",468],"(",")",")",["T_WHITESPACE"," ",468],"\/",["T_WHITESPACE"," ",468],["T_VARIABLE","$price",468],";",["T_WHITESPACE","\n                    ",468],["T_VARIABLE","$price",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$price",469],["T_WHITESPACE"," ",469],"\/",["T_WHITESPACE"," ",469],["T_VARIABLE","$rate",469],";",["T_WHITESPACE","\n                ",469],"}",["T_WHITESPACE","\n            ",470],"}",["T_WHITESPACE"," ",471],["T_ELSE","else",471],["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n                ",471],["T_VARIABLE","$price",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getPrice",472],"(",")",";",["T_WHITESPACE","\n            ",472],"}",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","setBaseCalculationPrice",474],"(",["T_VARIABLE","$price",474],")",";",["T_WHITESPACE","\n        ",474],"}",["T_WHITESPACE","\n        ",475],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_getData",476],"(",["T_CONSTANT_ENCAPSED_STRING","'base_calculation_price'",476],")",";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n\n    ",477],["T_DOC_COMMENT","\/**\n     * Get original calculation price used for quote calculation in base currency.\n     *\n     * @return float\n     *\/",479],["T_WHITESPACE","\n    ",483],["T_PUBLIC","public",484],["T_WHITESPACE"," ",484],["T_FUNCTION","function",484],["T_WHITESPACE"," ",484],["T_STRING","getBaseCalculationPriceOriginal",484],"(",")",["T_WHITESPACE","\n    ",484],"{",["T_WHITESPACE","\n        ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(","!",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","hasBaseCalculationPrice",486],"(",")",")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n            ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","hasOriginalCustomPrice",487],"(",")",")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n                ",487],["T_VARIABLE","$price",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_DOUBLE_CAST","(double)",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getOriginalCustomPrice",488],"(",")",";",["T_WHITESPACE","\n                ",488],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$price",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n                    ",489],["T_VARIABLE","$rate",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","priceCurrency",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","convert",490],"(",["T_VARIABLE","$price",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getStore",490],"(",")",")",["T_WHITESPACE"," ",490],"\/",["T_WHITESPACE"," ",490],["T_VARIABLE","$price",490],";",["T_WHITESPACE","\n                    ",490],["T_VARIABLE","$price",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$price",491],["T_WHITESPACE"," ",491],"\/",["T_WHITESPACE"," ",491],["T_VARIABLE","$rate",491],";",["T_WHITESPACE","\n                ",491],"}",["T_WHITESPACE","\n            ",492],"}",["T_WHITESPACE"," ",493],["T_ELSE","else",493],["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n                ",493],["T_VARIABLE","$price",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getPrice",494],"(",")",";",["T_WHITESPACE","\n            ",494],"}",["T_WHITESPACE","\n            ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","setBaseCalculationPrice",496],"(",["T_VARIABLE","$price",496],")",";",["T_WHITESPACE","\n        ",496],"}",["T_WHITESPACE","\n        ",497],["T_RETURN","return",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_getData",498],"(",["T_CONSTANT_ENCAPSED_STRING","'base_calculation_price'",498],")",";",["T_WHITESPACE","\n    ",498],"}",["T_WHITESPACE","\n\n    ",499],["T_DOC_COMMENT","\/**\n     * Get original price (retrieved from product) for item.\n     * Original price value is in quote selected currency\n     *\n     * @return float\n     *\/",501],["T_WHITESPACE","\n    ",506],["T_PUBLIC","public",507],["T_WHITESPACE"," ",507],["T_FUNCTION","function",507],["T_WHITESPACE"," ",507],["T_STRING","getOriginalPrice",507],"(",")",["T_WHITESPACE","\n    ",507],"{",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$price",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_getData",509],"(",["T_CONSTANT_ENCAPSED_STRING","'original_price'",509],")",";",["T_WHITESPACE","\n        ",509],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$price",510],["T_WHITESPACE"," ",510],["T_IS_IDENTICAL","===",510],["T_WHITESPACE"," ",510],["T_STRING","null",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_VARIABLE","$price",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","priceCurrency",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","convert",511],"(",["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","getBaseOriginalPrice",511],"(",")",",",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","getStore",511],"(",")",")",";",["T_WHITESPACE","\n            ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","setData",512],"(",["T_CONSTANT_ENCAPSED_STRING","'original_price'",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$price",512],")",";",["T_WHITESPACE","\n        ",512],"}",["T_WHITESPACE","\n        ",513],["T_RETURN","return",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$price",514],";",["T_WHITESPACE","\n    ",514],"}",["T_WHITESPACE","\n\n    ",515],["T_DOC_COMMENT","\/**\n     * Set original price to item (calculation price will be refreshed too)\n     *\n     * @param   float $price\n     * @return  \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem\n     *\/",517],["T_WHITESPACE","\n    ",522],["T_PUBLIC","public",523],["T_WHITESPACE"," ",523],["T_FUNCTION","function",523],["T_WHITESPACE"," ",523],["T_STRING","setOriginalPrice",523],"(",["T_VARIABLE","$price",523],")",["T_WHITESPACE","\n    ",523],"{",["T_WHITESPACE","\n        ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","setData",525],"(",["T_CONSTANT_ENCAPSED_STRING","'original_price'",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$price",525],")",";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Get Original item price (got from product) in base website currency\n     *\n     * @return float\n     *\/",528],["T_WHITESPACE","\n    ",532],["T_PUBLIC","public",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","getBaseOriginalPrice",533],"(",")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","_getData",535],"(",["T_CONSTANT_ENCAPSED_STRING","'base_original_price'",535],")",";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * Specify custom item price (used in case whe we have apply not product price to item)\n     *\n     * @param   float $value\n     * @return  \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem\n     *\/",538],["T_WHITESPACE","\n    ",543],["T_PUBLIC","public",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","setCustomPrice",544],"(",["T_VARIABLE","$value",544],")",["T_WHITESPACE","\n    ",544],"{",["T_WHITESPACE","\n        ",545],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","setCalculationPrice",546],"(",["T_VARIABLE","$value",546],")",";",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","setBaseCalculationPrice",547],"(",["T_STRING","null",547],")",";",["T_WHITESPACE","\n        ",547],["T_RETURN","return",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","setData",548],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_price'",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$value",548],")",";",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_DOC_COMMENT","\/**\n     * Get item price. Item price currency is website base currency.\n     *\n     * @return float\n     *\/",551],["T_WHITESPACE","\n    ",555],["T_PUBLIC","public",556],["T_WHITESPACE"," ",556],["T_FUNCTION","function",556],["T_WHITESPACE"," ",556],["T_STRING","getPrice",556],"(",")",["T_WHITESPACE","\n    ",556],"{",["T_WHITESPACE","\n        ",557],["T_RETURN","return",558],["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","_getData",558],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",558],")",";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n\n    ",559],["T_DOC_COMMENT","\/**\n     * Specify item price (base calculation price and converted price will be refreshed too)\n     *\n     * @param   float $value\n     * @return  $this\n     *\/",561],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","setPrice",567],"(",["T_VARIABLE","$value",567],")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","setBaseCalculationPrice",569],"(",["T_STRING","null",569],")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","setConvertedPrice",570],"(",["T_STRING","null",570],")",";",["T_WHITESPACE","\n        ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","setData",571],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$value",571],")",";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Get item price converted to quote currency\n     * @return float\n     *\/",574],["T_WHITESPACE","\n    ",577],["T_PUBLIC","public",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","getConvertedPrice",578],"(",")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$price",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","_getData",580],"(",["T_CONSTANT_ENCAPSED_STRING","'converted_price'",580],")",";",["T_WHITESPACE","\n        ",580],["T_IF","if",581],["T_WHITESPACE"," ",581],"(",["T_VARIABLE","$price",581],["T_WHITESPACE"," ",581],["T_IS_IDENTICAL","===",581],["T_WHITESPACE"," ",581],["T_STRING","null",581],")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_VARIABLE","$price",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","priceCurrency",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","convert",582],"(",["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getPrice",582],"(",")",",",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getStore",582],"(",")",")",";",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","setData",583],"(",["T_CONSTANT_ENCAPSED_STRING","'converted_price'",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$price",583],")",";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE","\n        ",584],["T_RETURN","return",585],["T_WHITESPACE"," ",585],["T_VARIABLE","$price",585],";",["T_WHITESPACE","\n    ",585],"}",["T_WHITESPACE","\n\n    ",586],["T_DOC_COMMENT","\/**\n     * Set new value for converted price\n     * @param float $value\n     * @return $this\n     *\/",588],["T_WHITESPACE","\n    ",592],["T_PUBLIC","public",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","setConvertedPrice",593],"(",["T_VARIABLE","$value",593],")",["T_WHITESPACE","\n    ",593],"{",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","setCalculationPrice",595],"(",["T_STRING","null",595],")",";",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","setData",596],"(",["T_CONSTANT_ENCAPSED_STRING","'converted_price'",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$value",596],")",";",["T_WHITESPACE","\n        ",596],["T_RETURN","return",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$this",597],";",["T_WHITESPACE","\n    ",597],"}",["T_WHITESPACE","\n\n    ",598],["T_DOC_COMMENT","\/**\n     * Clone quote item\n     *\n     * @return $this\n     *\/",600],["T_WHITESPACE","\n    ",604],["T_PUBLIC","public",605],["T_WHITESPACE"," ",605],["T_FUNCTION","function",605],["T_WHITESPACE"," ",605],["T_STRING","__clone",605],"(",")",["T_WHITESPACE","\n    ",605],"{",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","setId",607],"(",["T_STRING","null",607],")",";",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","_parentItem",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_STRING","null",608],";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","_children",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],"[","]",";",["T_WHITESPACE","\n        ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_messages",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],"[","]",";",["T_WHITESPACE","\n        ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n\n    ",612],["T_DOC_COMMENT","\/**\n     * Checking if there children calculated or parent item\n     * when we have parent quote item and its children\n     *\n     * @return bool\n     *\/",614],["T_WHITESPACE","\n    ",619],["T_PUBLIC","public",620],["T_WHITESPACE"," ",620],["T_FUNCTION","function",620],["T_WHITESPACE"," ",620],["T_STRING","isChildrenCalculated",620],"(",")",["T_WHITESPACE","\n    ",620],"{",["T_WHITESPACE","\n        ",621],["T_IF","if",622],["T_WHITESPACE"," ",622],"(",["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getParentItem",622],"(",")",")",["T_WHITESPACE"," ",622],"{",["T_WHITESPACE","\n            ",622],["T_VARIABLE","$calculate",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getParentItem",623],"(",")",["T_OBJECT_OPERATOR","->",623],["T_STRING","getProduct",623],"(",")",["T_OBJECT_OPERATOR","->",623],["T_STRING","getPriceType",623],"(",")",";",["T_WHITESPACE","\n        ",623],"}",["T_WHITESPACE"," ",624],["T_ELSE","else",624],["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n            ",624],["T_VARIABLE","$calculate",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getProduct",625],"(",")",["T_OBJECT_OPERATOR","->",625],["T_STRING","getPriceType",625],"(",")",";",["T_WHITESPACE","\n        ",625],"}",["T_WHITESPACE","\n\n        ",626],["T_IF","if",628],["T_WHITESPACE"," ",628],"(",["T_STRING","null",628],["T_WHITESPACE"," ",628],["T_IS_NOT_IDENTICAL","!==",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$calculate",628],["T_WHITESPACE"," ",628],["T_BOOLEAN_AND","&&",628],["T_WHITESPACE","\n            ",628],["T_INT_CAST","(int)",629],["T_VARIABLE","$calculate",629],["T_WHITESPACE"," ",629],["T_IS_IDENTICAL","===",629],["T_WHITESPACE"," ",629],["T_NS_SEPARATOR","\\",629],["T_STRING","Magento",629],["T_NS_SEPARATOR","\\",629],["T_STRING","Catalog",629],["T_NS_SEPARATOR","\\",629],["T_STRING","Model",629],["T_NS_SEPARATOR","\\",629],["T_STRING","Product",629],["T_NS_SEPARATOR","\\",629],["T_STRING","Type",629],["T_NS_SEPARATOR","\\",629],["T_STRING","AbstractType",629],["T_DOUBLE_COLON","::",629],["T_STRING","CALCULATE_CHILD",629],["T_WHITESPACE","\n        ",629],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n            ",630],["T_RETURN","return",631],["T_WHITESPACE"," ",631],["T_STRING","true",631],";",["T_WHITESPACE","\n        ",631],"}",["T_WHITESPACE","\n        ",632],["T_RETURN","return",633],["T_WHITESPACE"," ",633],["T_STRING","false",633],";",["T_WHITESPACE","\n    ",633],"}",["T_WHITESPACE","\n\n    ",634],["T_DOC_COMMENT","\/**\n     * Checking can we ship product separately (each child separately)\n     * or each parent product item can be shipped only like one item\n     *\n     * @return bool\n     *\/",636],["T_WHITESPACE","\n    ",641],["T_PUBLIC","public",642],["T_WHITESPACE"," ",642],["T_FUNCTION","function",642],["T_WHITESPACE"," ",642],["T_STRING","isShipSeparately",642],"(",")",["T_WHITESPACE","\n    ",642],"{",["T_WHITESPACE","\n        ",643],["T_IF","if",644],["T_WHITESPACE"," ",644],"(",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getParentItem",644],"(",")",")",["T_WHITESPACE"," ",644],"{",["T_WHITESPACE","\n            ",644],["T_VARIABLE","$shipmentType",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getParentItem",645],"(",")",["T_OBJECT_OPERATOR","->",645],["T_STRING","getProduct",645],"(",")",["T_OBJECT_OPERATOR","->",645],["T_STRING","getShipmentType",645],"(",")",";",["T_WHITESPACE","\n        ",645],"}",["T_WHITESPACE"," ",646],["T_ELSE","else",646],["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n            ",646],["T_VARIABLE","$shipmentType",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","getProduct",647],"(",")",["T_OBJECT_OPERATOR","->",647],["T_STRING","getShipmentType",647],"(",")",";",["T_WHITESPACE","\n        ",647],"}",["T_WHITESPACE","\n\n        ",648],["T_IF","if",650],["T_WHITESPACE"," ",650],"(",["T_STRING","null",650],["T_WHITESPACE"," ",650],["T_IS_NOT_IDENTICAL","!==",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$shipmentType",650],["T_WHITESPACE"," ",650],["T_BOOLEAN_AND","&&",650],["T_WHITESPACE","\n            ",650],["T_INT_CAST","(int)",651],["T_VARIABLE","$shipmentType",651],["T_WHITESPACE"," ",651],["T_IS_IDENTICAL","===",651],["T_WHITESPACE"," ",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Magento",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Catalog",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Model",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Product",651],["T_NS_SEPARATOR","\\",651],["T_STRING","Type",651],["T_NS_SEPARATOR","\\",651],["T_STRING","AbstractType",651],["T_DOUBLE_COLON","::",651],["T_STRING","SHIPMENT_SEPARATELY",651],["T_WHITESPACE","\n        ",651],")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n            ",652],["T_RETURN","return",653],["T_WHITESPACE"," ",653],["T_STRING","true",653],";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE","\n        ",654],["T_RETURN","return",655],["T_WHITESPACE"," ",655],["T_STRING","false",655],";",["T_WHITESPACE","\n    ",655],"}",["T_WHITESPACE","\n\n    ",656],["T_DOC_COMMENT","\/**\n     * Returns the total discount amounts of all the child items.  If there are no children, returns the discount\n     * amount of this item.\n     *\n     * @return float\n     *\/",658],["T_WHITESPACE","\n    ",663],["T_PUBLIC","public",664],["T_WHITESPACE"," ",664],["T_FUNCTION","function",664],["T_WHITESPACE"," ",664],["T_STRING","getTotalDiscountAmount",664],"(",")",["T_WHITESPACE","\n    ",664],"{",["T_WHITESPACE","\n        ",665],["T_VARIABLE","$totalDiscountAmount",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_LNUMBER","0",666],";",["T_WHITESPACE","\n        ",666],["T_COMMENT","\/* \\Magento\\Quote\\Model\\Quote\\Item\\AbstractItem[] *\/",667],["T_WHITESPACE","\n        ",667],["T_VARIABLE","$children",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","getChildren",668],"(",")",";",["T_WHITESPACE","\n        ",668],["T_IF","if",669],["T_WHITESPACE"," ",669],"(","!",["T_EMPTY","empty",669],"(",["T_VARIABLE","$children",669],")",["T_WHITESPACE"," ",669],["T_BOOLEAN_AND","&&",669],["T_WHITESPACE"," ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","isChildrenCalculated",669],"(",")",")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n            ",669],["T_FOREACH","foreach",670],["T_WHITESPACE"," ",670],"(",["T_VARIABLE","$children",670],["T_WHITESPACE"," ",670],["T_AS","as",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$child",670],")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n                ",670],["T_VARIABLE","$totalDiscountAmount",671],["T_WHITESPACE"," ",671],["T_PLUS_EQUAL","+=",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$child",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getDiscountAmount",671],"(",")",";",["T_WHITESPACE","\n            ",671],"}",["T_WHITESPACE","\n        ",672],"}",["T_WHITESPACE"," ",673],["T_ELSE","else",673],["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n            ",673],["T_VARIABLE","$totalDiscountAmount",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getDiscountAmount",674],"(",")",";",["T_WHITESPACE","\n        ",674],"}",["T_WHITESPACE","\n        ",675],["T_RETURN","return",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$totalDiscountAmount",676],";",["T_WHITESPACE","\n    ",676],"}",["T_WHITESPACE","\n",677],"}",["T_WHITESPACE","\n",678]]