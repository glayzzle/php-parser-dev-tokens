[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Address",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","InputException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CartInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AddressInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NoSuchEntityException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","QuoteAddressValidator",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Customer",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AddressRepositoryInterface",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","BillingAddressPersister",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var QuoteAddressValidator\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$addressValidator",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var AddressRepositoryInterface\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PRIVATE","private",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$addressRepository",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @param QuoteAddressValidator $addressValidator\n     * @param AddressRepositoryInterface $addressRepository\n     *\/",27],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","__construct",31],"(",["T_WHITESPACE","\n        ",31],["T_STRING","QuoteAddressValidator",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$addressValidator",32],",",["T_WHITESPACE","\n        ",32],["T_STRING","AddressRepositoryInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$addressRepository",33],["T_WHITESPACE","\n    ",33],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","addressValidator",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$addressValidator",35],";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","addressRepository",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$addressRepository",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @param CartInterface $quote\n     * @param AddressInterface $address\n     * @param bool $useForShipping\n     * @return void\n     * @throws NoSuchEntityException\n     * @throws InputException\n     *\/",39],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","save",47],"(",["T_STRING","CartInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$quote",47],",",["T_WHITESPACE"," ",47],["T_STRING","AddressInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$address",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$useForShipping",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","false",47],")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",49],["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","addressValidator",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","validate",50],"(",["T_VARIABLE","$address",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$customerAddressId",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$address",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getCustomerAddressId",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$shippingAddress",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$addressData",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[","]",";",["T_WHITESPACE","\n\n        ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$useForShipping",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$shippingAddress",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$address",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$saveInAddressBook",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$address",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getSaveInAddressBook",58],"(",")",["T_WHITESPACE"," ",58],"?",["T_WHITESPACE"," ",58],["T_LNUMBER","1",58],["T_WHITESPACE"," ",58],":",["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],";",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$customerAddressId",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_TRY","try",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$addressData",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","addressRepository",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getById",61],"(",["T_VARIABLE","$customerAddressId",61],")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE"," ",62],["T_CATCH","catch",62],["T_WHITESPACE"," ",62],"(",["T_STRING","NoSuchEntityException",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$e",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_COMMENT","\/\/ do nothing if customer is not found by id\n",63],["T_WHITESPACE","            ",64],"}",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$address",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$quote",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getBillingAddress",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","importCustomerAddressData",65],"(",["T_VARIABLE","$addressData",65],")",";",["T_WHITESPACE","\n            ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$useForShipping",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$shippingAddress",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$quote",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getShippingAddress",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","importCustomerAddressData",67],"(",["T_VARIABLE","$addressData",67],")",";",["T_WHITESPACE","\n                ",67],["T_VARIABLE","$shippingAddress",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setSaveInAddressBook",68],"(",["T_VARIABLE","$saveInAddressBook",68],")",";",["T_WHITESPACE","\n            ",68],"}",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE"," ",70],["T_ELSEIF","elseif",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$quote",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getCustomerId",70],"(",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$address",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setEmail",71],"(",["T_VARIABLE","$quote",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getCustomerEmail",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$address",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setSaveInAddressBook",73],"(",["T_VARIABLE","$saveInAddressBook",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$quote",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setBillingAddress",74],"(",["T_VARIABLE","$address",74],")",";",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$useForShipping",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$shippingAddress",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setSameAsBilling",76],"(",["T_LNUMBER","1",76],")",";",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$shippingAddress",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setCollectShippingRates",77],"(",["T_STRING","true",77],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$quote",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setShippingAddress",78],"(",["T_VARIABLE","$shippingAddress",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n",80],"}",["T_WHITESPACE","\n",81]]