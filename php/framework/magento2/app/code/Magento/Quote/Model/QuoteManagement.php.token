[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Quote",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Authorization",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UserContextInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ManagerInterface",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","EventManager",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CouldNotSaveException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LocalizedException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","StateException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Quote",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","QuoteEntity",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Quote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Quote",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Address",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ToOrder",15],["T_WHITESPACE"," ",15],["T_AS","as",15],["T_WHITESPACE"," ",15],["T_STRING","ToOrderConverter",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Quote",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Quote",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Address",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ToOrderAddress",16],["T_WHITESPACE"," ",16],["T_AS","as",16],["T_WHITESPACE"," ",16],["T_STRING","ToOrderAddressConverter",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Quote",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Quote",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Item",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ToOrderItem",17],["T_WHITESPACE"," ",17],["T_AS","as",17],["T_WHITESPACE"," ",17],["T_STRING","ToOrderItemConverter",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Quote",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Quote",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Payment",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ToOrderPayment",18],["T_WHITESPACE"," ",18],["T_AS","as",18],["T_WHITESPACE"," ",18],["T_STRING","ToOrderPaymentConverter",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Quote",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Data",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PaymentInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Sales",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Api",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Data",20],["T_NS_SEPARATOR","\\",20],["T_STRING","OrderInterfaceFactory",20],["T_WHITESPACE"," ",20],["T_AS","as",20],["T_WHITESPACE"," ",20],["T_STRING","OrderFactory",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Sales",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Api",21],["T_NS_SEPARATOR","\\",21],["T_STRING","OrderManagementInterface",21],["T_WHITESPACE"," ",21],["T_AS","as",21],["T_WHITESPACE"," ",21],["T_STRING","OrderManagement",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Store",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","StoreManagerInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Quote",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Quote",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Address",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Framework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","App",24],["T_NS_SEPARATOR","\\",24],["T_STRING","ObjectManager",24],";",["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/**\n * Class QuoteManagement\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n * @SuppressWarnings(PHPMD.TooManyFields)\n *\/",26],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","QuoteManagement",32],["T_WHITESPACE"," ",32],["T_IMPLEMENTS","implements",32],["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Quote",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Api",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CartManagementInterface",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * @var EventManager\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$eventManager",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var QuoteValidator\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$quoteValidator",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var OrderFactory\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$orderFactory",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var OrderManagement\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$orderManagement",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var CustomerManagement\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$customerManagement",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var ToOrderConverter\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$quoteAddressToOrder",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var ToOrderAddressConverter\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$quoteAddressToOrderAddress",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var ToOrderItemConverter\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$quoteItemToOrderItem",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var ToOrderPaymentConverter\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$quotePaymentToOrderPayment",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @var UserContextInterface\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$userContext",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\CartRepositoryInterface\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$quoteRepository",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",89],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$customerRepository",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\CustomerFactory\n     *\/",94],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$customerModelFactory",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\AddressFactory\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$quoteAddressFactory",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\DataObjectHelper\n     *\/",104],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$dataObjectHelper",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @var StoreManagerInterface\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$storeManager",112],";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Model\\Session\n     *\/",114],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$checkoutSession",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",119],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$customerSession",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\AccountManagementInterface\n     *\/",124],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$accountManagement",127],";",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * @var QuoteFactory\n     *\/",129],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$quoteFactory",132],";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\QuoteIdMaskFactory\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PRIVATE","private",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$quoteIdMaskFactory",137],";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * @param EventManager $eventManager\n     * @param QuoteValidator $quoteValidator\n     * @param OrderFactory $orderFactory\n     * @param OrderManagement $orderManagement\n     * @param CustomerManagement $customerManagement\n     * @param ToOrderConverter $quoteAddressToOrder\n     * @param ToOrderAddressConverter $quoteAddressToOrderAddress\n     * @param ToOrderItemConverter $quoteItemToOrderItem\n     * @param ToOrderPaymentConverter $quotePaymentToOrderPayment\n     * @param UserContextInterface $userContext\n     * @param \\Magento\\Quote\\Api\\CartRepositoryInterface $quoteRepository\n     * @param \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerRepository\n     * @param \\Magento\\Customer\\Model\\CustomerFactory $customerModelFactory\n     * @param \\Magento\\Quote\\Model\\Quote\\AddressFactory $quoteAddressFactory,\n     * @param \\Magento\\Framework\\Api\\DataObjectHelper $dataObjectHelper\n     * @param StoreManagerInterface $storeManager\n     * @param \\Magento\\Checkout\\Model\\Session $checkoutSession\n     * @param \\Magento\\Customer\\Model\\Session $customerSession\n     * @param \\Magento\\Customer\\Api\\AccountManagementInterface $accountManagement\n     * @param QuoteFactory $quoteFactory\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",139],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","__construct",162],"(",["T_WHITESPACE","\n        ",162],["T_STRING","EventManager",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$eventManager",163],",",["T_WHITESPACE","\n        ",163],["T_STRING","QuoteValidator",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$quoteValidator",164],",",["T_WHITESPACE","\n        ",164],["T_STRING","OrderFactory",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$orderFactory",165],",",["T_WHITESPACE","\n        ",165],["T_STRING","OrderManagement",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$orderManagement",166],",",["T_WHITESPACE","\n        ",166],["T_STRING","CustomerManagement",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$customerManagement",167],",",["T_WHITESPACE","\n        ",167],["T_STRING","ToOrderConverter",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$quoteAddressToOrder",168],",",["T_WHITESPACE","\n        ",168],["T_STRING","ToOrderAddressConverter",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$quoteAddressToOrderAddress",169],",",["T_WHITESPACE","\n        ",169],["T_STRING","ToOrderItemConverter",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$quoteItemToOrderItem",170],",",["T_WHITESPACE","\n        ",170],["T_STRING","ToOrderPaymentConverter",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$quotePaymentToOrderPayment",171],",",["T_WHITESPACE","\n        ",171],["T_STRING","UserContextInterface",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$userContext",172],",",["T_WHITESPACE","\n        ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Quote",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Api",173],["T_NS_SEPARATOR","\\",173],["T_STRING","CartRepositoryInterface",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$quoteRepository",173],",",["T_WHITESPACE","\n        ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Customer",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Api",174],["T_NS_SEPARATOR","\\",174],["T_STRING","CustomerRepositoryInterface",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$customerRepository",174],",",["T_WHITESPACE","\n        ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Customer",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","CustomerFactory",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$customerModelFactory",175],",",["T_WHITESPACE","\n        ",175],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Quote",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Model",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Quote",176],["T_NS_SEPARATOR","\\",176],["T_STRING","AddressFactory",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$quoteAddressFactory",176],",",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Framework",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Api",177],["T_NS_SEPARATOR","\\",177],["T_STRING","DataObjectHelper",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$dataObjectHelper",177],",",["T_WHITESPACE","\n        ",177],["T_STRING","StoreManagerInterface",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$storeManager",178],",",["T_WHITESPACE","\n        ",178],["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Checkout",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Model",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Session",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$checkoutSession",179],",",["T_WHITESPACE","\n        ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Customer",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Session",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$customerSession",180],",",["T_WHITESPACE","\n        ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Customer",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Api",181],["T_NS_SEPARATOR","\\",181],["T_STRING","AccountManagementInterface",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$accountManagement",181],",",["T_WHITESPACE","\n        ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Magento",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Quote",182],["T_NS_SEPARATOR","\\",182],["T_STRING","Model",182],["T_NS_SEPARATOR","\\",182],["T_STRING","QuoteFactory",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$quoteFactory",182],["T_WHITESPACE","\n    ",182],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","eventManager",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$eventManager",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","quoteValidator",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$quoteValidator",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","orderFactory",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$orderFactory",186],";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","orderManagement",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$orderManagement",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","customerManagement",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$customerManagement",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","quoteAddressToOrder",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$quoteAddressToOrder",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","quoteAddressToOrderAddress",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$quoteAddressToOrderAddress",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","quoteItemToOrderItem",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$quoteItemToOrderItem",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","quotePaymentToOrderPayment",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$quotePaymentToOrderPayment",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","userContext",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$userContext",193],";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","quoteRepository",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$quoteRepository",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","customerRepository",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$customerRepository",195],";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","customerModelFactory",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$customerModelFactory",196],";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","quoteAddressFactory",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$quoteAddressFactory",197],";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","dataObjectHelper",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$dataObjectHelper",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","storeManager",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$storeManager",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","checkoutSession",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$checkoutSession",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","accountManagement",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$accountManagement",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","customerSession",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$customerSession",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","quoteFactory",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$quoteFactory",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",206],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","createEmptyCart",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$storeId",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","storeManager",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getStore",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getStoreId",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$quote",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","createAnonymousCart",212],"(",["T_VARIABLE","$storeId",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$quote",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setBillingAddress",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","quoteAddressFactory",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","create",214],"(",")",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$quote",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setShippingAddress",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","quoteAddressFactory",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","create",215],"(",")",")",";",["T_WHITESPACE","\n\n        ",215],["T_TRY","try",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","quoteRepository",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","save",218],"(",["T_VARIABLE","$quote",218],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE"," ",219],["T_CATCH","catch",219],["T_WHITESPACE"," ",219],"(",["T_NS_SEPARATOR","\\",219],["T_STRING","Exception",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$e",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_THROW","throw",220],["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","CouldNotSaveException",220],"(",["T_STRING","__",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot create quote'",220],")",")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$quote",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getId",222],"(",")",";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",225],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","createEmptyCartForCustomer",228],"(",["T_VARIABLE","$customerId",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$storeId",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","storeManager",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getStore",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","getStoreId",230],"(",")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$quote",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","createCustomerCart",231],"(",["T_VARIABLE","$customerId",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$storeId",231],")",";",["T_WHITESPACE","\n\n        ",231],["T_TRY","try",233],["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","quoteRepository",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","save",234],"(",["T_VARIABLE","$quote",234],")",";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE"," ",235],["T_CATCH","catch",235],["T_WHITESPACE"," ",235],"(",["T_NS_SEPARATOR","\\",235],["T_STRING","Exception",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$e",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_THROW","throw",236],["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_STRING","CouldNotSaveException",236],"(",["T_STRING","__",236],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot create quote'",236],")",")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$quote",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getId",238],"(",")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",241],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","assignCustomer",244],"(",["T_VARIABLE","$cartId",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$customerId",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$storeId",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$quote",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","quoteRepository",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getActive",246],"(",["T_VARIABLE","$cartId",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$customer",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","customerRepository",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getById",247],"(",["T_VARIABLE","$customerId",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$customerModel",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","customerModelFactory",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","create",248],"(",")",";",["T_WHITESPACE","\n\n        ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_STRING","in_array",250],"(",["T_VARIABLE","$storeId",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$customerModel",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","load",250],"(",["T_VARIABLE","$customerId",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","getSharedStoreIds",250],"(",")",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_THROW","throw",251],["T_WHITESPACE"," ",251],["T_NEW","new",251],["T_WHITESPACE"," ",251],["T_STRING","StateException",251],"(",["T_WHITESPACE","\n                ",251],["T_STRING","__",252],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot assign customer to the given cart. The cart belongs to different store.'",252],")",["T_WHITESPACE","\n            ",252],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$quote",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getCustomerId",255],"(",")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_THROW","throw",256],["T_WHITESPACE"," ",256],["T_NEW","new",256],["T_WHITESPACE"," ",256],["T_STRING","StateException",256],"(",["T_WHITESPACE","\n                ",256],["T_STRING","__",257],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot assign customer to the given cart. The cart is not anonymous.'",257],")",["T_WHITESPACE","\n            ",257],")",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_TRY","try",260],["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","quoteRepository",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getForCustomer",261],"(",["T_VARIABLE","$customerId",261],")",";",["T_WHITESPACE","\n            ",261],["T_THROW","throw",262],["T_WHITESPACE"," ",262],["T_NEW","new",262],["T_WHITESPACE"," ",262],["T_STRING","StateException",262],"(",["T_WHITESPACE","\n                ",262],["T_STRING","__",263],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot assign customer to the given cart. Customer already has active cart.'",263],")",["T_WHITESPACE","\n            ",263],")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE"," ",265],["T_CATCH","catch",265],["T_WHITESPACE"," ",265],"(",["T_NS_SEPARATOR","\\",265],["T_STRING","Magento",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Framework",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Exception",265],["T_NS_SEPARATOR","\\",265],["T_STRING","NoSuchEntityException",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$e",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n\n        ",265],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$quote",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","setCustomer",269],"(",["T_VARIABLE","$customer",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$quote",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setCustomerIsGuest",270],"(",["T_LNUMBER","0",270],")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$quoteIdMaskFactory",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getQuoteIdMaskFactory",271],"(",")",";",["T_WHITESPACE","\n        ",271],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",272],["T_WHITESPACE","\n        ",272],["T_VARIABLE","$quoteIdMask",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$quoteIdMaskFactory",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","create",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","load",273],"(",["T_VARIABLE","$cartId",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",273],")",";",["T_WHITESPACE","\n        ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$quoteIdMask",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getId",274],"(",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$quoteIdMask",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","delete",275],"(",")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","quoteRepository",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","save",277],"(",["T_VARIABLE","$quote",277],")",";",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_STRING","true",278],";",["T_WHITESPACE","\n\n    ",278],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Creates an anonymous cart.\n     *\n     * @param int $storeId\n     * @return \\Magento\\Quote\\Model\\Quote Cart object.\n     *\/",282],["T_WHITESPACE","\n    ",287],["T_PROTECTED","protected",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","createAnonymousCart",288],"(",["T_VARIABLE","$storeId",288],")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",290],["T_WHITESPACE","\n        ",290],["T_VARIABLE","$quote",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","quoteFactory",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","create",291],"(",")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$quote",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","setStoreId",292],"(",["T_VARIABLE","$storeId",292],")",";",["T_WHITESPACE","\n        ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$quote",293],";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_DOC_COMMENT","\/**\n     * Creates a cart for the currently logged-in customer.\n     *\n     * @param int $customerId\n     * @param int $storeId\n     * @return \\Magento\\Quote\\Model\\Quote Cart object.\n     * @throws CouldNotSaveException The cart could not be created.\n     *\/",296],["T_WHITESPACE","\n    ",303],["T_PROTECTED","protected",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","createCustomerCart",304],"(",["T_VARIABLE","$customerId",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$storeId",304],")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$customer",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","customerRepository",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getById",306],"(",["T_VARIABLE","$customerId",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_TRY","try",308],["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$quote",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","quoteRepository",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getActiveForCustomer",309],"(",["T_VARIABLE","$customerId",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE"," ",310],["T_CATCH","catch",310],["T_WHITESPACE"," ",310],"(",["T_NS_SEPARATOR","\\",310],["T_STRING","Magento",310],["T_NS_SEPARATOR","\\",310],["T_STRING","Framework",310],["T_NS_SEPARATOR","\\",310],["T_STRING","Exception",310],["T_NS_SEPARATOR","\\",310],["T_STRING","NoSuchEntityException",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$e",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",311],["T_WHITESPACE","\n            ",311],["T_VARIABLE","$quote",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","quoteFactory",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","create",312],"(",")",";",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$quote",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","setStoreId",313],"(",["T_VARIABLE","$storeId",313],")",";",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$quote",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","setCustomer",314],"(",["T_VARIABLE","$customer",314],")",";",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$quote",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","setCustomerIsGuest",315],"(",["T_LNUMBER","0",315],")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$quote",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",320],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","placeOrder",323],"(",["T_VARIABLE","$cartId",323],",",["T_WHITESPACE"," ",323],["T_STRING","PaymentInterface",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$paymentMethod",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","null",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$quote",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","quoteRepository",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getActive",325],"(",["T_VARIABLE","$cartId",325],")",";",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$paymentMethod",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$paymentMethod",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","setChecks",327],"(","[",["T_WHITESPACE","\n                ",327],["T_NS_SEPARATOR","\\",328],["T_STRING","Magento",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Payment",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Model",328],["T_NS_SEPARATOR","\\",328],["T_STRING","Method",328],["T_NS_SEPARATOR","\\",328],["T_STRING","AbstractMethod",328],["T_DOUBLE_COLON","::",328],["T_STRING","CHECK_USE_CHECKOUT",328],",",["T_WHITESPACE","\n                ",328],["T_NS_SEPARATOR","\\",329],["T_STRING","Magento",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Payment",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Model",329],["T_NS_SEPARATOR","\\",329],["T_STRING","Method",329],["T_NS_SEPARATOR","\\",329],["T_STRING","AbstractMethod",329],["T_DOUBLE_COLON","::",329],["T_STRING","CHECK_USE_FOR_COUNTRY",329],",",["T_WHITESPACE","\n                ",329],["T_NS_SEPARATOR","\\",330],["T_STRING","Magento",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Payment",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Model",330],["T_NS_SEPARATOR","\\",330],["T_STRING","Method",330],["T_NS_SEPARATOR","\\",330],["T_STRING","AbstractMethod",330],["T_DOUBLE_COLON","::",330],["T_STRING","CHECK_USE_FOR_CURRENCY",330],",",["T_WHITESPACE","\n                ",330],["T_NS_SEPARATOR","\\",331],["T_STRING","Magento",331],["T_NS_SEPARATOR","\\",331],["T_STRING","Payment",331],["T_NS_SEPARATOR","\\",331],["T_STRING","Model",331],["T_NS_SEPARATOR","\\",331],["T_STRING","Method",331],["T_NS_SEPARATOR","\\",331],["T_STRING","AbstractMethod",331],["T_DOUBLE_COLON","::",331],["T_STRING","CHECK_ORDER_TOTAL_MIN_MAX",331],",",["T_WHITESPACE","\n                ",331],["T_NS_SEPARATOR","\\",332],["T_STRING","Magento",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Payment",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Model",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Method",332],["T_NS_SEPARATOR","\\",332],["T_STRING","AbstractMethod",332],["T_DOUBLE_COLON","::",332],["T_STRING","CHECK_ZERO_TOTAL",332],",",["T_WHITESPACE","\n            ",332],"]",")",";",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$quote",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getPayment",334],"(",")",["T_OBJECT_OPERATOR","->",334],["T_STRING","setQuote",334],"(",["T_VARIABLE","$quote",334],")",";",["T_WHITESPACE","\n\n            ",334],["T_VARIABLE","$data",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$paymentMethod",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getData",336],"(",")",";",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$quote",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getPayment",337],"(",")",["T_OBJECT_OPERATOR","->",337],["T_STRING","importData",337],"(",["T_VARIABLE","$data",337],")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n\n        ",338],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$quote",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getCheckoutMethod",340],"(",")",["T_WHITESPACE"," ",340],["T_IS_IDENTICAL","===",340],["T_WHITESPACE"," ",340],["T_STRING","self",340],["T_DOUBLE_COLON","::",340],["T_STRING","METHOD_GUEST",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$quote",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setCustomerId",341],"(",["T_STRING","null",341],")",";",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$quote",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","setCustomerEmail",342],"(",["T_VARIABLE","$quote",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getBillingAddress",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","getEmail",342],"(",")",")",";",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$quote",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","setCustomerIsGuest",343],"(",["T_STRING","true",343],")",";",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$quote",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","setCustomerGroupId",344],"(",["T_NS_SEPARATOR","\\",344],["T_STRING","Magento",344],["T_NS_SEPARATOR","\\",344],["T_STRING","Customer",344],["T_NS_SEPARATOR","\\",344],["T_STRING","Api",344],["T_NS_SEPARATOR","\\",344],["T_STRING","Data",344],["T_NS_SEPARATOR","\\",344],["T_STRING","GroupInterface",344],["T_DOUBLE_COLON","::",344],["T_STRING","NOT_LOGGED_IN_ID",344],")",";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n\n        ",345],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","eventManager",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","dispatch",347],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout_submit_before'",347],",",["T_WHITESPACE"," ",347],"[",["T_CONSTANT_ENCAPSED_STRING","'quote'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$quote",347],"]",")",";",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$order",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","submit",349],"(",["T_VARIABLE","$quote",349],")",";",["T_WHITESPACE","\n\n        ",349],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_STRING","null",351],["T_WHITESPACE"," ",351],["T_IS_EQUAL","==",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$order",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_THROW","throw",352],["T_WHITESPACE"," ",352],["T_NEW","new",352],["T_WHITESPACE"," ",352],["T_STRING","LocalizedException",352],"(",["T_WHITESPACE","\n                ",352],["T_STRING","__",353],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred on the server. Please try to place the order again.'",353],")",["T_WHITESPACE","\n            ",353],")",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n\n        ",355],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","checkoutSession",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","setLastQuoteId",357],"(",["T_VARIABLE","$quote",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getId",357],"(",")",")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","checkoutSession",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","setLastSuccessQuoteId",358],"(",["T_VARIABLE","$quote",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getId",358],"(",")",")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","checkoutSession",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","setLastOrderId",359],"(",["T_VARIABLE","$order",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getId",359],"(",")",")",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","checkoutSession",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","setLastRealOrderId",360],"(",["T_VARIABLE","$order",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getIncrementId",360],"(",")",")",";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","checkoutSession",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","setLastOrderStatus",361],"(",["T_VARIABLE","$order",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getStatus",361],"(",")",")",";",["T_WHITESPACE","\n\n        ",361],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","eventManager",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","dispatch",363],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout_submit_all_after'",363],",",["T_WHITESPACE"," ",363],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$order",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'quote'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$quote",363],"]",")",";",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$order",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getId",364],"(",")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",367],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","getCartForCustomer",370],"(",["T_VARIABLE","$customerId",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","quoteRepository",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getActiveForCustomer",372],"(",["T_VARIABLE","$customerId",372],")",";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Submit quote\n     *\n     * @param Quote $quote\n     * @param array $orderData\n     * @return \\Magento\\Framework\\Model\\AbstractExtensibleModel|\\Magento\\Sales\\Api\\Data\\OrderInterface|object|null\n     * @throws \\Exception\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",375],["T_WHITESPACE","\n    ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","submit",384],"(",["T_STRING","QuoteEntity",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$quote",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$orderData",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],"[","]",")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(","!",["T_VARIABLE","$quote",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getAllVisibleItems",386],"(",")",")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$quote",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","setIsActive",387],"(",["T_STRING","false",387],")",";",["T_WHITESPACE","\n            ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_STRING","null",388],";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","submitQuote",391],"(",["T_VARIABLE","$quote",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$orderData",391],")",";",["T_WHITESPACE","\n    ",391],"}",["T_WHITESPACE","\n\n    ",392],["T_DOC_COMMENT","\/**\n     * @param Quote $quote\n     * @return array\n     *\/",394],["T_WHITESPACE","\n    ",397],["T_PROTECTED","protected",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","resolveItems",398],"(",["T_STRING","QuoteEntity",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$quote",398],")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$quoteItems",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],"[","]",";",["T_WHITESPACE","\n        ",400],["T_FOREACH","foreach",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$quote",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getAllItems",401],"(",")",["T_WHITESPACE"," ",401],["T_AS","as",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$quoteItem",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Item $quoteItem *\/",402],["T_WHITESPACE","\n            ",402],["T_VARIABLE","$quoteItems",403],"[",["T_VARIABLE","$quoteItem",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getId",403],"(",")","]",["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$quoteItem",403],";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$orderItems",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],"[","]",";",["T_WHITESPACE","\n        ",405],["T_FOREACH","foreach",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$quoteItems",406],["T_WHITESPACE"," ",406],["T_AS","as",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$quoteItem",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$parentItem",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],"(",["T_ISSET","isset",407],"(",["T_VARIABLE","$orderItems",407],"[",["T_VARIABLE","$quoteItem",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getParentItemId",407],"(",")","]",")",")",["T_WHITESPACE"," ",407],"?",["T_WHITESPACE","\n                ",407],["T_VARIABLE","$orderItems",408],"[",["T_VARIABLE","$quoteItem",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getParentItemId",408],"(",")","]",["T_WHITESPACE"," ",408],":",["T_WHITESPACE"," ",408],["T_STRING","null",408],";",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$orderItems",409],"[",["T_VARIABLE","$quoteItem",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getId",409],"(",")","]",["T_WHITESPACE"," ",409],"=",["T_WHITESPACE","\n                ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","quoteItemToOrderItem",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","convert",410],"(",["T_VARIABLE","$quoteItem",410],",",["T_WHITESPACE"," ",410],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_item'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$parentItem",410],"]",")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n        ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_STRING","array_values",412],"(",["T_VARIABLE","$orderItems",412],")",";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * Submit quote\n     *\n     * @param Quote $quote\n     * @param array $orderData\n     * @return \\Magento\\Framework\\Model\\AbstractExtensibleModel|\\Magento\\Sales\\Api\\Data\\OrderInterface|object\n     * @throws \\Exception\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",415],["T_WHITESPACE","\n    ",423],["T_PROTECTED","protected",424],["T_WHITESPACE"," ",424],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","submitQuote",424],"(",["T_STRING","QuoteEntity",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$quote",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$orderData",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],"[","]",")",["T_WHITESPACE","\n    ",424],"{",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$order",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","orderFactory",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","create",426],"(",")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","quoteValidator",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","validateBeforeSubmit",427],"(",["T_VARIABLE","$quote",427],")",";",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(","!",["T_VARIABLE","$quote",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getCustomerIsGuest",428],"(",")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$quote",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getCustomerId",429],"(",")",")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_prepareCustomerQuote",430],"(",["T_VARIABLE","$quote",430],")",";",["T_WHITESPACE","\n            ",430],"}",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","customerManagement",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","populateCustomerInfo",432],"(",["T_VARIABLE","$quote",432],")",";",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$addresses",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],"[","]",";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$quote",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","reserveOrderId",435],"(",")",";",["T_WHITESPACE","\n        ",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_VARIABLE","$quote",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","isVirtual",436],"(",")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","dataObjectHelper",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","mergeDataObjects",437],"(",["T_WHITESPACE","\n                ",437],["T_NS_SEPARATOR","\\",438],["T_STRING","Magento",438],["T_NS_SEPARATOR","\\",438],["T_STRING","Sales",438],["T_NS_SEPARATOR","\\",438],["T_STRING","Api",438],["T_NS_SEPARATOR","\\",438],["T_STRING","Data",438],["T_NS_SEPARATOR","\\",438],["T_STRING","OrderInterface",438],["T_DOUBLE_COLON","::",438],["T_CLASS","class",438],",",["T_WHITESPACE","\n                ",438],["T_VARIABLE","$order",439],",",["T_WHITESPACE","\n                ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","quoteAddressToOrder",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","convert",440],"(",["T_VARIABLE","$quote",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getBillingAddress",440],"(",")",",",["T_WHITESPACE"," ",440],["T_VARIABLE","$orderData",440],")",["T_WHITESPACE","\n            ",440],")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE"," ",442],["T_ELSE","else",442],["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n            ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","dataObjectHelper",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","mergeDataObjects",443],"(",["T_WHITESPACE","\n                ",443],["T_NS_SEPARATOR","\\",444],["T_STRING","Magento",444],["T_NS_SEPARATOR","\\",444],["T_STRING","Sales",444],["T_NS_SEPARATOR","\\",444],["T_STRING","Api",444],["T_NS_SEPARATOR","\\",444],["T_STRING","Data",444],["T_NS_SEPARATOR","\\",444],["T_STRING","OrderInterface",444],["T_DOUBLE_COLON","::",444],["T_CLASS","class",444],",",["T_WHITESPACE","\n                ",444],["T_VARIABLE","$order",445],",",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","quoteAddressToOrder",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","convert",446],"(",["T_VARIABLE","$quote",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getShippingAddress",446],"(",")",",",["T_WHITESPACE"," ",446],["T_VARIABLE","$orderData",446],")",["T_WHITESPACE","\n            ",446],")",";",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$shippingAddress",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","quoteAddressToOrderAddress",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","convert",448],"(",["T_WHITESPACE","\n                ",448],["T_VARIABLE","$quote",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getShippingAddress",449],"(",")",",",["T_WHITESPACE","\n                ",449],"[",["T_WHITESPACE","\n                    ",450],["T_CONSTANT_ENCAPSED_STRING","'address_type'",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'shipping'",451],",",["T_WHITESPACE","\n                    ",451],["T_CONSTANT_ENCAPSED_STRING","'email'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$quote",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getCustomerEmail",452],"(",")",["T_WHITESPACE","\n                ",452],"]",["T_WHITESPACE","\n            ",453],")",";",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$addresses",455],"[","]",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$shippingAddress",455],";",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$order",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","setShippingAddress",456],"(",["T_VARIABLE","$shippingAddress",456],")",";",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$order",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","setShippingMethod",457],"(",["T_VARIABLE","$quote",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getShippingAddress",457],"(",")",["T_OBJECT_OPERATOR","->",457],["T_STRING","getShippingMethod",457],"(",")",")",";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$billingAddress",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","quoteAddressToOrderAddress",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","convert",459],"(",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$quote",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getBillingAddress",460],"(",")",",",["T_WHITESPACE","\n            ",460],"[",["T_WHITESPACE","\n                ",461],["T_CONSTANT_ENCAPSED_STRING","'address_type'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'billing'",462],",",["T_WHITESPACE","\n                ",462],["T_CONSTANT_ENCAPSED_STRING","'email'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$quote",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getCustomerEmail",463],"(",")",["T_WHITESPACE","\n            ",463],"]",["T_WHITESPACE","\n        ",464],")",";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$addresses",466],"[","]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$billingAddress",466],";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$order",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","setBillingAddress",467],"(",["T_VARIABLE","$billingAddress",467],")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$order",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setAddresses",468],"(",["T_VARIABLE","$addresses",468],")",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$order",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","setPayment",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","quotePaymentToOrderPayment",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","convert",469],"(",["T_VARIABLE","$quote",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getPayment",469],"(",")",")",")",";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$order",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","setItems",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","resolveItems",470],"(",["T_VARIABLE","$quote",470],")",")",";",["T_WHITESPACE","\n        ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(",["T_VARIABLE","$quote",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getCustomer",471],"(",")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$order",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","setCustomerId",472],"(",["T_VARIABLE","$quote",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getCustomer",472],"(",")",["T_OBJECT_OPERATOR","->",472],["T_STRING","getId",472],"(",")",")",";",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$order",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","setQuoteId",474],"(",["T_VARIABLE","$quote",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getId",474],"(",")",")",";",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$order",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","setCustomerEmail",475],"(",["T_VARIABLE","$quote",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getCustomerEmail",475],"(",")",")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$order",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","setCustomerFirstname",476],"(",["T_VARIABLE","$quote",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getCustomerFirstname",476],"(",")",")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$order",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","setCustomerMiddlename",477],"(",["T_VARIABLE","$quote",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getCustomerMiddlename",477],"(",")",")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$order",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","setCustomerLastname",478],"(",["T_VARIABLE","$quote",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getCustomerLastname",478],"(",")",")",";",["T_WHITESPACE","\n        \n        ",478],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","eventManager",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","dispatch",480],"(",["T_WHITESPACE","\n            ",480],["T_CONSTANT_ENCAPSED_STRING","'sales_model_service_quote_submit_before'",481],",",["T_WHITESPACE","\n            ",481],"[",["T_WHITESPACE","\n                ",482],["T_CONSTANT_ENCAPSED_STRING","'order'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$order",483],",",["T_WHITESPACE","\n                ",483],["T_CONSTANT_ENCAPSED_STRING","'quote'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$quote",484],["T_WHITESPACE","\n            ",484],"]",["T_WHITESPACE","\n        ",485],")",";",["T_WHITESPACE","\n        ",486],["T_TRY","try",487],["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$order",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","orderManagement",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","place",488],"(",["T_VARIABLE","$order",488],")",";",["T_WHITESPACE","\n            ",488],["T_VARIABLE","$quote",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","setIsActive",489],"(",["T_STRING","false",489],")",";",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","eventManager",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","dispatch",490],"(",["T_WHITESPACE","\n                ",490],["T_CONSTANT_ENCAPSED_STRING","'sales_model_service_quote_submit_success'",491],",",["T_WHITESPACE","\n                ",491],"[",["T_WHITESPACE","\n                    ",492],["T_CONSTANT_ENCAPSED_STRING","'order'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$order",493],",",["T_WHITESPACE","\n                    ",493],["T_CONSTANT_ENCAPSED_STRING","'quote'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$quote",494],["T_WHITESPACE","\n                ",494],"]",["T_WHITESPACE","\n            ",495],")",";",["T_WHITESPACE","\n            ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","quoteRepository",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","save",497],"(",["T_VARIABLE","$quote",497],")",";",["T_WHITESPACE","\n        ",497],"}",["T_WHITESPACE"," ",498],["T_CATCH","catch",498],["T_WHITESPACE"," ",498],"(",["T_NS_SEPARATOR","\\",498],["T_STRING","Exception",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$e",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","eventManager",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","dispatch",499],"(",["T_WHITESPACE","\n                ",499],["T_CONSTANT_ENCAPSED_STRING","'sales_model_service_quote_submit_failure'",500],",",["T_WHITESPACE","\n                ",500],"[",["T_WHITESPACE","\n                    ",501],["T_CONSTANT_ENCAPSED_STRING","'order'",502],["T_WHITESPACE","     ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$order",502],",",["T_WHITESPACE","\n                    ",502],["T_CONSTANT_ENCAPSED_STRING","'quote'",503],["T_WHITESPACE","     ",503],["T_DOUBLE_ARROW","=>",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$quote",503],",",["T_WHITESPACE","\n                    ",503],["T_CONSTANT_ENCAPSED_STRING","'exception'",504],["T_WHITESPACE"," ",504],["T_DOUBLE_ARROW","=>",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$e",504],["T_WHITESPACE","\n                ",504],"]",["T_WHITESPACE","\n            ",505],")",";",["T_WHITESPACE","\n            ",506],["T_THROW","throw",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$e",507],";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n        ",508],["T_RETURN","return",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$order",509],";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_DOC_COMMENT","\/**\n     * Prepare quote for customer order submit\n     *\n     * @param Quote $quote\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",512],["T_WHITESPACE","\n    ",519],["T_PROTECTED","protected",520],["T_WHITESPACE"," ",520],["T_FUNCTION","function",520],["T_WHITESPACE"," ",520],["T_STRING","_prepareCustomerQuote",520],"(",["T_VARIABLE","$quote",520],")",["T_WHITESPACE","\n    ",520],"{",["T_WHITESPACE","\n        ",521],["T_DOC_COMMENT","\/** @var Quote $quote *\/",522],["T_WHITESPACE","\n        ",522],["T_VARIABLE","$billing",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$quote",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getBillingAddress",523],"(",")",";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$shipping",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$quote",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","isVirtual",524],"(",")",["T_WHITESPACE"," ",524],"?",["T_WHITESPACE"," ",524],["T_STRING","null",524],["T_WHITESPACE"," ",524],":",["T_WHITESPACE"," ",524],["T_VARIABLE","$quote",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getShippingAddress",524],"(",")",";",["T_WHITESPACE","\n\n        ",524],["T_VARIABLE","$customer",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","customerRepository",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getById",526],"(",["T_VARIABLE","$quote",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getCustomerId",526],"(",")",")",";",["T_WHITESPACE","\n        ",526],["T_VARIABLE","$hasDefaultBilling",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_BOOL_CAST","(bool)",527],["T_VARIABLE","$customer",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getDefaultBilling",527],"(",")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$hasDefaultShipping",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_BOOL_CAST","(bool)",528],["T_VARIABLE","$customer",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getDefaultShipping",528],"(",")",";",["T_WHITESPACE","\n\n        ",528],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_VARIABLE","$shipping",530],["T_WHITESPACE"," ",530],["T_BOOLEAN_AND","&&",530],["T_WHITESPACE"," ",530],"!",["T_VARIABLE","$shipping",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getSameAsBilling",530],"(",")",["T_WHITESPACE","\n            ",530],["T_BOOLEAN_AND","&&",531],["T_WHITESPACE"," ",531],"(","!",["T_VARIABLE","$shipping",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getCustomerId",531],"(",")",["T_WHITESPACE"," ",531],["T_BOOLEAN_OR","||",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$shipping",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getSaveInAddressBook",531],"(",")",")",["T_WHITESPACE","\n        ",531],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n            ",532],["T_VARIABLE","$shippingAddress",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$shipping",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","exportCustomerAddress",533],"(",")",";",["T_WHITESPACE","\n            ",533],["T_IF","if",534],["T_WHITESPACE"," ",534],"(","!",["T_VARIABLE","$hasDefaultShipping",534],")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n                ",534],["T_COMMENT","\/\/Make provided address as default shipping address\n",535],["T_WHITESPACE","                ",536],["T_VARIABLE","$shippingAddress",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","setIsDefaultShipping",536],"(",["T_STRING","true",536],")",";",["T_WHITESPACE","\n                ",536],["T_VARIABLE","$hasDefaultShipping",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_STRING","true",537],";",["T_WHITESPACE","\n            ",537],"}",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$quote",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","addCustomerAddress",539],"(",["T_VARIABLE","$shippingAddress",539],")",";",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$shipping",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","setCustomerAddressData",540],"(",["T_VARIABLE","$shippingAddress",540],")",";",["T_WHITESPACE","\n            ",540],["T_VARIABLE","$shipping",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","setCustomerAddressId",541],"(",["T_VARIABLE","$shippingAddress",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getId",541],"(",")",")",";",["T_WHITESPACE","\n        ",541],"}",["T_WHITESPACE","\n\n        ",542],["T_IF","if",544],["T_WHITESPACE"," ",544],"(","!",["T_VARIABLE","$billing",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","getCustomerId",544],"(",")",["T_WHITESPACE"," ",544],["T_BOOLEAN_OR","||",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$billing",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","getSaveInAddressBook",544],"(",")",")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$billingAddress",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$billing",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","exportCustomerAddress",545],"(",")",";",["T_WHITESPACE","\n            ",545],["T_IF","if",546],["T_WHITESPACE"," ",546],"(","!",["T_VARIABLE","$hasDefaultBilling",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n                ",546],["T_COMMENT","\/\/Make provided address as default shipping address\n",547],["T_WHITESPACE","                ",548],["T_IF","if",548],["T_WHITESPACE"," ",548],"(","!",["T_VARIABLE","$hasDefaultShipping",548],")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n                    ",548],["T_COMMENT","\/\/Make provided address as default shipping address\n",549],["T_WHITESPACE","                    ",550],["T_VARIABLE","$billingAddress",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","setIsDefaultShipping",550],"(",["T_STRING","true",550],")",";",["T_WHITESPACE","\n                ",550],"}",["T_WHITESPACE","\n                ",551],["T_VARIABLE","$billingAddress",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","setIsDefaultBilling",552],"(",["T_STRING","true",552],")",";",["T_WHITESPACE","\n            ",552],"}",["T_WHITESPACE","\n            ",553],["T_VARIABLE","$quote",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","addCustomerAddress",554],"(",["T_VARIABLE","$billingAddress",554],")",";",["T_WHITESPACE","\n            ",554],["T_VARIABLE","$billing",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","setCustomerAddressData",555],"(",["T_VARIABLE","$billingAddress",555],")",";",["T_WHITESPACE","\n            ",555],["T_VARIABLE","$billing",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","setCustomerAddressId",556],"(",["T_VARIABLE","$billingAddress",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getId",556],"(",")",")",";",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n        ",557],["T_IF","if",558],["T_WHITESPACE"," ",558],"(",["T_VARIABLE","$shipping",558],["T_WHITESPACE"," ",558],["T_BOOLEAN_AND","&&",558],["T_WHITESPACE"," ",558],"!",["T_VARIABLE","$shipping",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","getCustomerId",558],"(",")",["T_WHITESPACE"," ",558],["T_BOOLEAN_AND","&&",558],["T_WHITESPACE"," ",558],"!",["T_VARIABLE","$hasDefaultBilling",558],")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n            ",558],["T_VARIABLE","$shipping",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","setIsDefaultBilling",559],"(",["T_STRING","true",559],")",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Quote\\Model\\QuoteIdMaskFactory\n     * @deprecated\n     *\/",563],["T_WHITESPACE","\n    ",566],["T_PRIVATE","private",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","getQuoteIdMaskFactory",567],"(",")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_IF","if",569],["T_WHITESPACE"," ",569],"(","!",["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","quoteIdMaskFactory",569],")",["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n            ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","quoteIdMaskFactory",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_STRING","ObjectManager",570],["T_DOUBLE_COLON","::",570],["T_STRING","getInstance",570],"(",")",["T_WHITESPACE","\n                ",570],["T_OBJECT_OPERATOR","->",571],["T_STRING","get",571],"(",["T_NS_SEPARATOR","\\",571],["T_STRING","Magento",571],["T_NS_SEPARATOR","\\",571],["T_STRING","Quote",571],["T_NS_SEPARATOR","\\",571],["T_STRING","Model",571],["T_NS_SEPARATOR","\\",571],["T_STRING","QuoteIdMaskFactory",571],["T_DOUBLE_COLON","::",571],["T_CLASS","class",571],")",";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n        ",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","quoteIdMaskFactory",573],";",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n",574],"}",["T_WHITESPACE","\n",575]]