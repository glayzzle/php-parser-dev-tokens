[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Address",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Total",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Address",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Address",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Item",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","AddressItem",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Quote",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Item",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","Subtotal",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Address",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Total",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractTotal",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Sales data\n     *\n     * @var \\Magento\\Quote\\Model\\QuoteValidator\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$quoteValidator",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","null",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Model\\QuoteValidator $quoteValidator\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","__construct",24],"(",["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Quote",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","QuoteValidator",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$quoteValidator",24],")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","quoteValidator",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$quoteValidator",26],";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Collect address subtotal\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param \\Magento\\Quote\\Api\\Data\\ShippingAssignmentInterface $shippingAssignment\n     * @param Address\\Total $total\n     * @return $this\n     *\/",29],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","collect",37],"(",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Quote",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Quote",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$quote",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Quote",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Api",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Data",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ShippingAssignmentInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$shippingAssignment",39],",",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Quote",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Quote",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Address",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Total",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$total",40],["T_WHITESPACE","\n    ",40],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n        ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","collect",42],"(",["T_VARIABLE","$quote",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$shippingAssignment",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$total",42],")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$baseVirtualAmount",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$virtualAmount",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$address",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$shippingAssignment",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getShipping",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","getAddress",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$address",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setTotalQty",46],"(",["T_LNUMBER","0",46],")",";",["T_WHITESPACE","\n        ",46],["T_DOC_COMMENT","\/**\n         * Process address items\n         *\/",47],["T_WHITESPACE","\n        ",49],["T_VARIABLE","$items",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$shippingAssignment",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getItems",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$items",51],["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$item",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_initItem",52],"(",["T_VARIABLE","$address",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$item",52],")",["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$item",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getQty",52],"(",")",["T_WHITESPACE"," ",52],">",["T_WHITESPACE"," ",52],["T_LNUMBER","0",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_DOC_COMMENT","\/**\n                 * Separately calculate subtotal only for virtual products\n                 *\/",53],["T_WHITESPACE","\n                ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$item",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getProduct",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","isVirtual",56],"(",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                    ",56],["T_VARIABLE","$virtualAmount",57],["T_WHITESPACE"," ",57],["T_PLUS_EQUAL","+=",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$item",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getRowTotal",57],"(",")",";",["T_WHITESPACE","\n                    ",57],["T_VARIABLE","$baseVirtualAmount",58],["T_WHITESPACE"," ",58],["T_PLUS_EQUAL","+=",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$item",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getBaseRowTotal",58],"(",")",";",["T_WHITESPACE","\n                ",58],"}",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_removeItem",61],"(",["T_VARIABLE","$address",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$item",61],")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$total",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setBaseVirtualAmount",65],"(",["T_VARIABLE","$baseVirtualAmount",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$total",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setVirtualAmount",66],"(",["T_VARIABLE","$virtualAmount",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_DOC_COMMENT","\/**\n         * Initialize grand totals\n         *\/",68],["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","quoteValidator",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","validateQuoteAmount",71],"(",["T_VARIABLE","$quote",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$total",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getSubtotal",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","quoteValidator",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","validateQuoteAmount",72],"(",["T_VARIABLE","$quote",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$total",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getBaseSubtotal",72],"(",")",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$address",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setSubtotal",73],"(",["T_VARIABLE","$total",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getSubtotal",73],"(",")",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$address",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setBaseSubtotal",74],"(",["T_VARIABLE","$total",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getBaseSubtotal",74],"(",")",")",";",["T_WHITESPACE","\n        ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Address item initialization\n     *\n     * @param Address $address\n     * @param AddressItem|Item $item\n     * @return bool\n     *\/",78],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","_initItem",85],"(",["T_VARIABLE","$address",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$item",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$item",87],["T_WHITESPACE"," ",87],["T_INSTANCEOF","instanceof",87],["T_WHITESPACE"," ",87],["T_STRING","AddressItem",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$quoteItem",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$item",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getAddress",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getQuote",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getItemById",88],"(",["T_VARIABLE","$item",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getQuoteItemId",88],"(",")",")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$quoteItem",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$item",90],";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$product",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$quoteItem",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getProduct",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$product",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setCustomerGroupId",93],"(",["T_VARIABLE","$quoteItem",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getQuote",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getCustomerGroupId",93],"(",")",")",";",["T_WHITESPACE","\n\n        ",93],["T_DOC_COMMENT","\/**\n         * Quote super mode flag mean what we work with quote without restriction\n         *\/",95],["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$item",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getQuote",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getIsSuperMode",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(","!",["T_VARIABLE","$product",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_STRING","false",100],";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE"," ",102],["T_ELSE","else",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_VARIABLE","$product",103],["T_WHITESPACE"," ",103],["T_BOOLEAN_OR","||",103],["T_WHITESPACE"," ",103],"!",["T_VARIABLE","$product",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isVisibleInCatalog",103],"(",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","false",104],";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$quoteItem",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setConvertedPrice",108],"(",["T_STRING","null",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$originalPrice",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$product",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getPrice",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$quoteItem",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getParentItem",110],"(",")",["T_WHITESPACE"," ",110],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$quoteItem",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","isChildrenCalculated",110],"(",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$finalPrice",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$quoteItem",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getParentItem",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getProduct",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getPriceModel",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getChildFinalPrice",111],"(",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$quoteItem",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getParentItem",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","getProduct",112],"(",")",",",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$quoteItem",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getParentItem",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getQty",113],"(",")",",",["T_WHITESPACE","\n                ",113],["T_VARIABLE","$product",114],",",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$quoteItem",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getQty",115],"(",")",["T_WHITESPACE","\n            ",115],")",";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_calculateRowTotal",117],"(",["T_VARIABLE","$item",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$finalPrice",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$originalPrice",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE"," ",118],["T_ELSEIF","elseif",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$quoteItem",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getParentItem",118],"(",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$finalPrice",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$product",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getFinalPrice",119],"(",["T_VARIABLE","$quoteItem",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getQty",119],"(",")",")",";",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_calculateRowTotal",120],"(",["T_VARIABLE","$item",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$finalPrice",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$originalPrice",120],")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_addAmount",121],"(",["T_VARIABLE","$item",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getRowTotal",121],"(",")",")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_addBaseAmount",122],"(",["T_VARIABLE","$item",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getBaseRowTotal",122],"(",")",")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$address",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setTotalQty",123],"(",["T_VARIABLE","$address",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getTotalQty",123],"(",")",["T_WHITESPACE"," ",123],"+",["T_WHITESPACE"," ",123],["T_VARIABLE","$item",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getQty",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_STRING","true",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Processing calculation of row price for address item\n     *\n     * @param AddressItem|Item $item\n     * @param int $finalPrice\n     * @param int $originalPrice\n     * @return $this\n     *\/",128],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","_calculateRowTotal",136],"(",["T_VARIABLE","$item",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$finalPrice",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$originalPrice",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_VARIABLE","$originalPrice",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$originalPrice",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$finalPrice",139],";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$item",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setPrice",141],"(",["T_VARIABLE","$finalPrice",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","setBaseOriginalPrice",141],"(",["T_VARIABLE","$originalPrice",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$item",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","calcRowTotal",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Remove item\n     *\n     * @param Address $address\n     * @param  AddressItem|Item $item\n     * @return $this\n     *\/",146],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","_removeItem",153],"(",["T_VARIABLE","$address",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$item",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$item",155],["T_WHITESPACE"," ",155],["T_INSTANCEOF","instanceof",155],["T_WHITESPACE"," ",155],["T_STRING","Item",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$address",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","removeItem",156],"(",["T_VARIABLE","$item",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getId",156],"(",")",")",";",["T_WHITESPACE","\n            ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$address",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getQuote",157],"(",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$address",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getQuote",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","removeItem",158],"(",["T_VARIABLE","$item",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getId",158],"(",")",")",";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSEIF","elseif",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$item",160],["T_WHITESPACE"," ",160],["T_INSTANCEOF","instanceof",160],["T_WHITESPACE"," ",160],["T_STRING","AddressItem",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$address",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","removeItem",161],"(",["T_VARIABLE","$item",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getId",161],"(",")",")",";",["T_WHITESPACE","\n            ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$address",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getQuote",162],"(",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$address",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getQuote",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","removeItem",163],"(",["T_VARIABLE","$item",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getQuoteItemId",163],"(",")",")",";",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Assign subtotal amount and label to address object\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param Address\\Total $total\n     * @return array\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",169],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","fetch",177],"(",["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Quote",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Quote",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$quote",177],",",["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Quote",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Quote",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Address",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Total",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$total",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],"[",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'code'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getCode",180],"(",")",",",["T_WHITESPACE","\n            ",180],["T_CONSTANT_ENCAPSED_STRING","'title'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getLabel",181],"(",")",",",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","'value'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$total",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getSubtotal",182],"(",")",["T_WHITESPACE","\n        ",182],"]",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Get Subtotal label\n     *\n     * @return \\Magento\\Framework\\Phrase\n     *\/",186],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","getLabel",191],"(",")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","__",193],"(",["T_CONSTANT_ENCAPSED_STRING","'Subtotal'",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n",194],"}",["T_WHITESPACE","\n",195]]