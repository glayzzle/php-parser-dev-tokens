[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Customer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CustomerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_NS_SEPARATOR","\\",9],["T_STRING","GroupInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AbstractExtensibleModel",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PaymentInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Address",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceModel",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Status",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AttributeValueFactory",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ExtensionAttribute",16],["T_NS_SEPARATOR","\\",16],["T_STRING","JoinProcessorInterface",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * Quote model\n *\n * Supported events:\n *  sales_quote_load_after\n *  sales_quote_save_before\n *  sales_quote_save_after\n *  sales_quote_delete_before\n *  sales_quote_delete_after\n *\n * @method int getIsMultiShipping()\n * @method Quote setIsMultiShipping(int $value)\n * @method float getStoreToBaseRate()\n * @method Quote setStoreToBaseRate(float $value)\n * @method float getStoreToQuoteRate()\n * @method Quote setStoreToQuoteRate(float $value)\n * @method string getBaseCurrencyCode()\n * @method Quote setBaseCurrencyCode(string $value)\n * @method string getStoreCurrencyCode()\n * @method Quote setStoreCurrencyCode(string $value)\n * @method string getQuoteCurrencyCode()\n * @method Quote setQuoteCurrencyCode(string $value)\n * @method float getGrandTotal()\n * @method Quote setGrandTotal(float $value)\n * @method float getBaseGrandTotal()\n * @method Quote setBaseGrandTotal(float $value)\n * @method int getCustomerId()\n * @method Quote setCustomerId(int $value)\n * @method Quote setCustomerGroupId(int $value)\n * @method string getCustomerEmail()\n * @method Quote setCustomerEmail(string $value)\n * @method string getCustomerPrefix()\n * @method Quote setCustomerPrefix(string $value)\n * @method string getCustomerFirstname()\n * @method Quote setCustomerFirstname(string $value)\n * @method string getCustomerMiddlename()\n * @method Quote setCustomerMiddlename(string $value)\n * @method string getCustomerLastname()\n * @method Quote setCustomerLastname(string $value)\n * @method string getCustomerSuffix()\n * @method Quote setCustomerSuffix(string $value)\n * @method string getCustomerDob()\n * @method Quote setCustomerDob(string $value)\n * @method string getRemoteIp()\n * @method Quote setRemoteIp(string $value)\n * @method string getAppliedRuleIds()\n * @method Quote setAppliedRuleIds(string $value)\n * @method string getPasswordHash()\n * @method Quote setPasswordHash(string $value)\n * @method string getCouponCode()\n * @method Quote setCouponCode(string $value)\n * @method string getGlobalCurrencyCode()\n * @method Quote setGlobalCurrencyCode(string $value)\n * @method float getBaseToGlobalRate()\n * @method Quote setBaseToGlobalRate(float $value)\n * @method float getBaseToQuoteRate()\n * @method Quote setBaseToQuoteRate(float $value)\n * @method string getCustomerTaxvat()\n * @method Quote setCustomerTaxvat(string $value)\n * @method string getCustomerGender()\n * @method Quote setCustomerGender(string $value)\n * @method float getSubtotal()\n * @method Quote setSubtotal(float $value)\n * @method float getBaseSubtotal()\n * @method Quote setBaseSubtotal(float $value)\n * @method float getSubtotalWithDiscount()\n * @method Quote setSubtotalWithDiscount(float $value)\n * @method float getBaseSubtotalWithDiscount()\n * @method Quote setBaseSubtotalWithDiscount(float $value)\n * @method int getIsChanged()\n * @method Quote setIsChanged(int $value)\n * @method int getTriggerRecollect()\n * @method Quote setTriggerRecollect(int $value)\n * @method string getExtShippingInfo()\n * @method Quote setExtShippingInfo(string $value)\n * @method int getGiftMessageId()\n * @method Quote setGiftMessageId(int $value)\n * @method bool|null getIsPersistent()\n * @method Quote setIsPersistent(bool $value)\n * @method Quote setSharedStoreIds(array $values)\n * @method Quote setWebsite($value)\n * @SuppressWarnings(PHPMD.ExcessivePublicCount)\n * @SuppressWarnings(PHPMD.TooManyFields)\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",18],["T_WHITESPACE","\n",103],["T_CLASS","class",104],["T_WHITESPACE"," ",104],["T_STRING","Quote",104],["T_WHITESPACE"," ",104],["T_EXTENDS","extends",104],["T_WHITESPACE"," ",104],["T_STRING","AbstractExtensibleModel",104],["T_WHITESPACE"," ",104],["T_IMPLEMENTS","implements",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Quote",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Api",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Data",104],["T_NS_SEPARATOR","\\",104],["T_STRING","CartInterface",104],["T_WHITESPACE","\n",104],"{",["T_WHITESPACE","\n    ",105],["T_DOC_COMMENT","\/**\n     * Checkout login method key\n     *\/",106],["T_WHITESPACE","\n    ",108],["T_CONST","const",109],["T_WHITESPACE"," ",109],["T_STRING","CHECKOUT_METHOD_LOGIN_IN",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'login_in'",109],";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_eventPrefix",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'sales_quote'",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$_eventObject",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'quote'",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Quote customer model object\n     *\n     * @var \\Magento\\Customer\\Model\\Customer\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$_customer",126],";",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Quote addresses collection\n     *\n     * @var \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",128],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_addresses",133],";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Quote items collection\n     *\n     * @var \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$_items",140],";",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Quote payments\n     *\n     * @var \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$_payments",147],";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Payment\n     *\/",149],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$_currentPayment",152],";",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Different groups of error infos\n     *\n     * @var array\n     *\/",154],["T_WHITESPACE","\n    ",158],["T_PROTECTED","protected",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$_errorInfoGroups",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],"[","]",";",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Whether quote should not be saved\n     *\n     * @var bool\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PROTECTED","protected",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$_preventSaving",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","false",166],";",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Catalog product\n     *\n     * @var \\Magento\\Catalog\\Helper\\Product\n     *\/",168],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$_catalogProduct",173],";",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Quote validator\n     *\n     * @var \\Magento\\Quote\\Model\\QuoteValidator\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PROTECTED","protected",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$quoteValidator",180],";",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",182],["T_WHITESPACE","\n    ",186],["T_PROTECTED","protected",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$_scopeConfig",187],";",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",189],["T_WHITESPACE","\n    ",191],["T_PROTECTED","protected",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$_storeManager",192],";",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\App\\Config\\ScopeConfigInterface\n     *\/",194],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$_config",197],";",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\AddressFactory\n     *\/",199],["T_WHITESPACE","\n    ",201],["T_PROTECTED","protected",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$_quoteAddressFactory",202],";",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\CustomerFactory\n     *\/",204],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$_customerFactory",207],";",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Group repository\n     *\n     * @var \\Magento\\Customer\\Api\\GroupRepositoryInterface\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$groupRepository",214],";",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Item\\CollectionFactory\n     *\/",216],["T_WHITESPACE","\n    ",218],["T_PROTECTED","protected",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$_quoteItemCollectionFactory",219],";",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\ItemFactory\n     *\/",221],["T_WHITESPACE","\n    ",223],["T_PROTECTED","protected",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$_quoteItemFactory",224],";",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Message\\Factory\n     *\/",226],["T_WHITESPACE","\n    ",228],["T_PROTECTED","protected",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$messageFactory",229],";",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Status\\ListFactory\n     *\/",231],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$_statusListFactory",234],";",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",236],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$productRepository",239],";",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\PaymentFactory\n     *\/",241],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$_quotePaymentFactory",244],";",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Payment\\CollectionFactory\n     *\/",246],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$_quotePaymentCollectionFactory",249],";",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DataObject\\Copy\n     *\/",251],["T_WHITESPACE","\n    ",253],["T_PROTECTED","protected",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$_objectCopyService",254],";",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Address repository\n     *\n     * @var \\Magento\\Customer\\Api\\AddressRepositoryInterface\n     *\/",256],["T_WHITESPACE","\n    ",260],["T_PROTECTED","protected",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$addressRepository",261],";",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Search criteria builder\n     *\n     * @var \\Magento\\Framework\\Api\\SearchCriteriaBuilder\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_PROTECTED","protected",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$searchCriteriaBuilder",268],";",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Filter builder\n     *\n     * @var \\Magento\\Framework\\Api\\FilterBuilder\n     *\/",270],["T_WHITESPACE","\n    ",274],["T_PROTECTED","protected",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$filterBuilder",275],";",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CatalogInventory\\Api\\StockRegistryInterface\n     *\/",277],["T_WHITESPACE","\n    ",279],["T_PROTECTED","protected",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$stockRegistry",280],";",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\Item\\Processor\n     *\/",282],["T_WHITESPACE","\n    ",284],["T_PROTECTED","protected",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$itemProcessor",285],";",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\DataObject\\Factory\n     *\/",287],["T_WHITESPACE","\n    ",289],["T_PROTECTED","protected",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$objectFactory",290],";",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter\n     *\/",292],["T_WHITESPACE","\n    ",294],["T_PROTECTED","protected",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$extensibleDataObjectConverter",295],";",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\Data\\AddressInterfaceFactory\n     *\/",297],["T_WHITESPACE","\n    ",299],["T_PROTECTED","protected",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$addressDataFactory",300],";",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\Data\\CustomerInterfaceFactory\n     *\/",302],["T_WHITESPACE","\n    ",304],["T_PROTECTED","protected",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$customerDataFactory",305],";",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",307],["T_WHITESPACE","\n    ",309],["T_PROTECTED","protected",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$customerRepository",310],";",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * @var Cart\\CurrencyFactory\n     *\/",312],["T_WHITESPACE","\n    ",314],["T_PROTECTED","protected",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$currencyFactory",315],";",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\DataObjectHelper\n     *\/",317],["T_WHITESPACE","\n    ",319],["T_PROTECTED","protected",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$dataObjectHelper",320],";",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * @var JoinProcessorInterface\n     *\/",322],["T_WHITESPACE","\n    ",324],["T_PROTECTED","protected",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$extensionAttributesJoinProcessor",325],";",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Quote\\TotalsCollector\n     *\/",327],["T_WHITESPACE","\n    ",329],["T_PROTECTED","protected",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$totalsCollector",330],";",["T_WHITESPACE","\n\n    ",330],["T_DOC_COMMENT","\/**\n     * @var \\\\Magento\\Quote\\Model\\Quote\\TotalsReader\n     *\/",332],["T_WHITESPACE","\n    ",334],["T_PROTECTED","protected",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$totalsReader",335],";",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\ShippingFactory\n     *\/",337],["T_WHITESPACE","\n    ",339],["T_PROTECTED","protected",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$shippingFactory",340],";",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\ShippingAssignmentFactory\n     *\/",342],["T_WHITESPACE","\n    ",344],["T_PROTECTED","protected",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$shippingAssignmentFactory",345],";",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Quote shipping addresses items cache\n     *\n     * @var array\n     *\/",347],["T_WHITESPACE","\n    ",351],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$shippingAddressesItems",352],";",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param AttributeValueFactory $customAttributeFactory\n     * @param QuoteValidator $quoteValidator\n     * @param \\Magento\\Catalog\\Helper\\Product $catalogProduct\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $config\n     * @param Quote\\AddressFactory $quoteAddressFactory\n     * @param \\Magento\\Customer\\Model\\CustomerFactory $customerFactory\n     * @param \\Magento\\Customer\\Api\\GroupRepositoryInterface $groupRepository\n     * @param \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Item\\CollectionFactory $quoteItemCollectionFactory\n     * @param Quote\\ItemFactory $quoteItemFactory\n     * @param \\Magento\\Framework\\Message\\Factory $messageFactory\n     * @param Status\\ListFactory $statusListFactory\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param Quote\\PaymentFactory $quotePaymentFactory\n     * @param \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Payment\\CollectionFactory $quotePaymentCollectionFactory\n     * @param \\Magento\\Framework\\DataObject\\Copy $objectCopyService\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param Quote\\Item\\Processor $itemProcessor\n     * @param \\Magento\\Framework\\DataObject\\Factory $objectFactory\n     * @param \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressRepository\n     * @param \\Magento\\Framework\\Api\\SearchCriteriaBuilder $criteriaBuilder\n     * @param \\Magento\\Framework\\Api\\FilterBuilder $filterBuilder\n     * @param \\Magento\\Customer\\Api\\Data\\AddressInterfaceFactory $addressDataFactory\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterfaceFactory $customerDataFactory\n     * @param \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerRepository\n     * @param \\Magento\\Framework\\Api\\DataObjectHelper $dataObjectHelper\n     * @param \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter $extensibleDataObjectConverter\n     * @param Cart\\CurrencyFactory $currencyFactory\n     * @param JoinProcessorInterface $extensionAttributesJoinProcessor\n     * @param Quote\\TotalsCollector $totalsCollector\n     * @param Quote\\TotalsReader $totalsReader\n     * @param ShippingFactory $shippingFactory\n     * @param ShippingAssignmentFactory $shippingAssignmentFactory\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|null $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb|null $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",354],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","__construct",397],"(",["T_WHITESPACE","\n        ",397],["T_NS_SEPARATOR","\\",398],["T_STRING","Magento",398],["T_NS_SEPARATOR","\\",398],["T_STRING","Framework",398],["T_NS_SEPARATOR","\\",398],["T_STRING","Model",398],["T_NS_SEPARATOR","\\",398],["T_STRING","Context",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$context",398],",",["T_WHITESPACE","\n        ",398],["T_NS_SEPARATOR","\\",399],["T_STRING","Magento",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Framework",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Registry",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$registry",399],",",["T_WHITESPACE","\n        ",399],["T_NS_SEPARATOR","\\",400],["T_STRING","Magento",400],["T_NS_SEPARATOR","\\",400],["T_STRING","Framework",400],["T_NS_SEPARATOR","\\",400],["T_STRING","Api",400],["T_NS_SEPARATOR","\\",400],["T_STRING","ExtensionAttributesFactory",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$extensionFactory",400],",",["T_WHITESPACE","\n        ",400],["T_STRING","AttributeValueFactory",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$customAttributeFactory",401],",",["T_WHITESPACE","\n        ",401],["T_NS_SEPARATOR","\\",402],["T_STRING","Magento",402],["T_NS_SEPARATOR","\\",402],["T_STRING","Quote",402],["T_NS_SEPARATOR","\\",402],["T_STRING","Model",402],["T_NS_SEPARATOR","\\",402],["T_STRING","QuoteValidator",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$quoteValidator",402],",",["T_WHITESPACE","\n        ",402],["T_NS_SEPARATOR","\\",403],["T_STRING","Magento",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Catalog",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Helper",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Product",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$catalogProduct",403],",",["T_WHITESPACE","\n        ",403],["T_NS_SEPARATOR","\\",404],["T_STRING","Magento",404],["T_NS_SEPARATOR","\\",404],["T_STRING","Framework",404],["T_NS_SEPARATOR","\\",404],["T_STRING","App",404],["T_NS_SEPARATOR","\\",404],["T_STRING","Config",404],["T_NS_SEPARATOR","\\",404],["T_STRING","ScopeConfigInterface",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$scopeConfig",404],",",["T_WHITESPACE","\n        ",404],["T_NS_SEPARATOR","\\",405],["T_STRING","Magento",405],["T_NS_SEPARATOR","\\",405],["T_STRING","Store",405],["T_NS_SEPARATOR","\\",405],["T_STRING","Model",405],["T_NS_SEPARATOR","\\",405],["T_STRING","StoreManagerInterface",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$storeManager",405],",",["T_WHITESPACE","\n        ",405],["T_NS_SEPARATOR","\\",406],["T_STRING","Magento",406],["T_NS_SEPARATOR","\\",406],["T_STRING","Framework",406],["T_NS_SEPARATOR","\\",406],["T_STRING","App",406],["T_NS_SEPARATOR","\\",406],["T_STRING","Config",406],["T_NS_SEPARATOR","\\",406],["T_STRING","ScopeConfigInterface",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$config",406],",",["T_WHITESPACE","\n        ",406],["T_NS_SEPARATOR","\\",407],["T_STRING","Magento",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Quote",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Model",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Quote",407],["T_NS_SEPARATOR","\\",407],["T_STRING","AddressFactory",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$quoteAddressFactory",407],",",["T_WHITESPACE","\n        ",407],["T_NS_SEPARATOR","\\",408],["T_STRING","Magento",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Customer",408],["T_NS_SEPARATOR","\\",408],["T_STRING","Model",408],["T_NS_SEPARATOR","\\",408],["T_STRING","CustomerFactory",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$customerFactory",408],",",["T_WHITESPACE","\n        ",408],["T_NS_SEPARATOR","\\",409],["T_STRING","Magento",409],["T_NS_SEPARATOR","\\",409],["T_STRING","Customer",409],["T_NS_SEPARATOR","\\",409],["T_STRING","Api",409],["T_NS_SEPARATOR","\\",409],["T_STRING","GroupRepositoryInterface",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$groupRepository",409],",",["T_WHITESPACE","\n        ",409],["T_NS_SEPARATOR","\\",410],["T_STRING","Magento",410],["T_NS_SEPARATOR","\\",410],["T_STRING","Quote",410],["T_NS_SEPARATOR","\\",410],["T_STRING","Model",410],["T_NS_SEPARATOR","\\",410],["T_STRING","ResourceModel",410],["T_NS_SEPARATOR","\\",410],["T_STRING","Quote",410],["T_NS_SEPARATOR","\\",410],["T_STRING","Item",410],["T_NS_SEPARATOR","\\",410],["T_STRING","CollectionFactory",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$quoteItemCollectionFactory",410],",",["T_WHITESPACE","\n        ",410],["T_NS_SEPARATOR","\\",411],["T_STRING","Magento",411],["T_NS_SEPARATOR","\\",411],["T_STRING","Quote",411],["T_NS_SEPARATOR","\\",411],["T_STRING","Model",411],["T_NS_SEPARATOR","\\",411],["T_STRING","Quote",411],["T_NS_SEPARATOR","\\",411],["T_STRING","ItemFactory",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$quoteItemFactory",411],",",["T_WHITESPACE","\n        ",411],["T_NS_SEPARATOR","\\",412],["T_STRING","Magento",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Framework",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Message",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Factory",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$messageFactory",412],",",["T_WHITESPACE","\n        ",412],["T_NS_SEPARATOR","\\",413],["T_STRING","Magento",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Sales",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Model",413],["T_NS_SEPARATOR","\\",413],["T_STRING","Status",413],["T_NS_SEPARATOR","\\",413],["T_STRING","ListFactory",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$statusListFactory",413],",",["T_WHITESPACE","\n        ",413],["T_NS_SEPARATOR","\\",414],["T_STRING","Magento",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Catalog",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Api",414],["T_NS_SEPARATOR","\\",414],["T_STRING","ProductRepositoryInterface",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$productRepository",414],",",["T_WHITESPACE","\n        ",414],["T_NS_SEPARATOR","\\",415],["T_STRING","Magento",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Quote",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Model",415],["T_NS_SEPARATOR","\\",415],["T_STRING","Quote",415],["T_NS_SEPARATOR","\\",415],["T_STRING","PaymentFactory",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$quotePaymentFactory",415],",",["T_WHITESPACE","\n        ",415],["T_NS_SEPARATOR","\\",416],["T_STRING","Magento",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Quote",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Model",416],["T_NS_SEPARATOR","\\",416],["T_STRING","ResourceModel",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Quote",416],["T_NS_SEPARATOR","\\",416],["T_STRING","Payment",416],["T_NS_SEPARATOR","\\",416],["T_STRING","CollectionFactory",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$quotePaymentCollectionFactory",416],",",["T_WHITESPACE","\n        ",416],["T_NS_SEPARATOR","\\",417],["T_STRING","Magento",417],["T_NS_SEPARATOR","\\",417],["T_STRING","Framework",417],["T_NS_SEPARATOR","\\",417],["T_STRING","DataObject",417],["T_NS_SEPARATOR","\\",417],["T_STRING","Copy",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$objectCopyService",417],",",["T_WHITESPACE","\n        ",417],["T_NS_SEPARATOR","\\",418],["T_STRING","Magento",418],["T_NS_SEPARATOR","\\",418],["T_STRING","CatalogInventory",418],["T_NS_SEPARATOR","\\",418],["T_STRING","Api",418],["T_NS_SEPARATOR","\\",418],["T_STRING","StockRegistryInterface",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$stockRegistry",418],",",["T_WHITESPACE","\n        ",418],["T_NS_SEPARATOR","\\",419],["T_STRING","Magento",419],["T_NS_SEPARATOR","\\",419],["T_STRING","Quote",419],["T_NS_SEPARATOR","\\",419],["T_STRING","Model",419],["T_NS_SEPARATOR","\\",419],["T_STRING","Quote",419],["T_NS_SEPARATOR","\\",419],["T_STRING","Item",419],["T_NS_SEPARATOR","\\",419],["T_STRING","Processor",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$itemProcessor",419],",",["T_WHITESPACE","\n        ",419],["T_NS_SEPARATOR","\\",420],["T_STRING","Magento",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Framework",420],["T_NS_SEPARATOR","\\",420],["T_STRING","DataObject",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Factory",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$objectFactory",420],",",["T_WHITESPACE","\n        ",420],["T_NS_SEPARATOR","\\",421],["T_STRING","Magento",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Customer",421],["T_NS_SEPARATOR","\\",421],["T_STRING","Api",421],["T_NS_SEPARATOR","\\",421],["T_STRING","AddressRepositoryInterface",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$addressRepository",421],",",["T_WHITESPACE","\n        ",421],["T_NS_SEPARATOR","\\",422],["T_STRING","Magento",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Framework",422],["T_NS_SEPARATOR","\\",422],["T_STRING","Api",422],["T_NS_SEPARATOR","\\",422],["T_STRING","SearchCriteriaBuilder",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$criteriaBuilder",422],",",["T_WHITESPACE","\n        ",422],["T_NS_SEPARATOR","\\",423],["T_STRING","Magento",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Framework",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Api",423],["T_NS_SEPARATOR","\\",423],["T_STRING","FilterBuilder",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$filterBuilder",423],",",["T_WHITESPACE","\n        ",423],["T_NS_SEPARATOR","\\",424],["T_STRING","Magento",424],["T_NS_SEPARATOR","\\",424],["T_STRING","Customer",424],["T_NS_SEPARATOR","\\",424],["T_STRING","Api",424],["T_NS_SEPARATOR","\\",424],["T_STRING","Data",424],["T_NS_SEPARATOR","\\",424],["T_STRING","AddressInterfaceFactory",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$addressDataFactory",424],",",["T_WHITESPACE","\n        ",424],["T_NS_SEPARATOR","\\",425],["T_STRING","Magento",425],["T_NS_SEPARATOR","\\",425],["T_STRING","Customer",425],["T_NS_SEPARATOR","\\",425],["T_STRING","Api",425],["T_NS_SEPARATOR","\\",425],["T_STRING","Data",425],["T_NS_SEPARATOR","\\",425],["T_STRING","CustomerInterfaceFactory",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$customerDataFactory",425],",",["T_WHITESPACE","\n        ",425],["T_NS_SEPARATOR","\\",426],["T_STRING","Magento",426],["T_NS_SEPARATOR","\\",426],["T_STRING","Customer",426],["T_NS_SEPARATOR","\\",426],["T_STRING","Api",426],["T_NS_SEPARATOR","\\",426],["T_STRING","CustomerRepositoryInterface",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$customerRepository",426],",",["T_WHITESPACE","\n        ",426],["T_NS_SEPARATOR","\\",427],["T_STRING","Magento",427],["T_NS_SEPARATOR","\\",427],["T_STRING","Framework",427],["T_NS_SEPARATOR","\\",427],["T_STRING","Api",427],["T_NS_SEPARATOR","\\",427],["T_STRING","DataObjectHelper",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$dataObjectHelper",427],",",["T_WHITESPACE","\n        ",427],["T_NS_SEPARATOR","\\",428],["T_STRING","Magento",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Framework",428],["T_NS_SEPARATOR","\\",428],["T_STRING","Api",428],["T_NS_SEPARATOR","\\",428],["T_STRING","ExtensibleDataObjectConverter",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$extensibleDataObjectConverter",428],",",["T_WHITESPACE","\n        ",428],["T_NS_SEPARATOR","\\",429],["T_STRING","Magento",429],["T_NS_SEPARATOR","\\",429],["T_STRING","Quote",429],["T_NS_SEPARATOR","\\",429],["T_STRING","Model",429],["T_NS_SEPARATOR","\\",429],["T_STRING","Cart",429],["T_NS_SEPARATOR","\\",429],["T_STRING","CurrencyFactory",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$currencyFactory",429],",",["T_WHITESPACE","\n        ",429],["T_STRING","JoinProcessorInterface",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$extensionAttributesJoinProcessor",430],",",["T_WHITESPACE","\n        ",430],["T_STRING","Quote",431],["T_NS_SEPARATOR","\\",431],["T_STRING","TotalsCollector",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$totalsCollector",431],",",["T_WHITESPACE","\n        ",431],["T_STRING","Quote",432],["T_NS_SEPARATOR","\\",432],["T_STRING","TotalsReader",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$totalsReader",432],",",["T_WHITESPACE","\n        ",432],["T_NS_SEPARATOR","\\",433],["T_STRING","Magento",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Quote",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Model",433],["T_NS_SEPARATOR","\\",433],["T_STRING","ShippingFactory",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$shippingFactory",433],",",["T_WHITESPACE","\n        ",433],["T_NS_SEPARATOR","\\",434],["T_STRING","Magento",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Quote",434],["T_NS_SEPARATOR","\\",434],["T_STRING","Model",434],["T_NS_SEPARATOR","\\",434],["T_STRING","ShippingAssignmentFactory",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$shippingAssignmentFactory",434],",",["T_WHITESPACE","\n        ",434],["T_NS_SEPARATOR","\\",435],["T_STRING","Magento",435],["T_NS_SEPARATOR","\\",435],["T_STRING","Framework",435],["T_NS_SEPARATOR","\\",435],["T_STRING","Model",435],["T_NS_SEPARATOR","\\",435],["T_STRING","ResourceModel",435],["T_NS_SEPARATOR","\\",435],["T_STRING","AbstractResource",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$resource",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_STRING","null",435],",",["T_WHITESPACE","\n        ",435],["T_NS_SEPARATOR","\\",436],["T_STRING","Magento",436],["T_NS_SEPARATOR","\\",436],["T_STRING","Framework",436],["T_NS_SEPARATOR","\\",436],["T_STRING","Data",436],["T_NS_SEPARATOR","\\",436],["T_STRING","Collection",436],["T_NS_SEPARATOR","\\",436],["T_STRING","AbstractDb",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$resourceCollection",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_STRING","null",436],",",["T_WHITESPACE","\n        ",436],["T_ARRAY","array",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$data",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],"[","]",["T_WHITESPACE","\n    ",437],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","quoteValidator",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$quoteValidator",439],";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_catalogProduct",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$catalogProduct",440],";",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_scopeConfig",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$scopeConfig",441],";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_storeManager",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$storeManager",442],";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_config",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$config",443],";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_quoteAddressFactory",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$quoteAddressFactory",444],";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_customerFactory",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$customerFactory",445],";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","groupRepository",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$groupRepository",446],";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_quoteItemCollectionFactory",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$quoteItemCollectionFactory",447],";",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_quoteItemFactory",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$quoteItemFactory",448],";",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","messageFactory",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$messageFactory",449],";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_statusListFactory",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$statusListFactory",450],";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","productRepository",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$productRepository",451],";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_quotePaymentFactory",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$quotePaymentFactory",452],";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_quotePaymentCollectionFactory",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$quotePaymentCollectionFactory",453],";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","_objectCopyService",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$objectCopyService",454],";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","addressRepository",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$addressRepository",455],";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","searchCriteriaBuilder",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$criteriaBuilder",456],";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","filterBuilder",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$filterBuilder",457],";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","stockRegistry",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$stockRegistry",458],";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","itemProcessor",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$itemProcessor",459],";",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","objectFactory",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$objectFactory",460],";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","addressDataFactory",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$addressDataFactory",461],";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","customerDataFactory",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$customerDataFactory",462],";",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","customerRepository",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$customerRepository",463],";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","dataObjectHelper",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$dataObjectHelper",464],";",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","extensibleDataObjectConverter",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$extensibleDataObjectConverter",465],";",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","currencyFactory",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$currencyFactory",466],";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","extensionAttributesJoinProcessor",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$extensionAttributesJoinProcessor",467],";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","totalsCollector",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$totalsCollector",468],";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","totalsReader",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$totalsReader",469],";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","shippingFactory",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$shippingFactory",470],";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","shippingAssignmentFactory",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$shippingAssignmentFactory",471],";",["T_WHITESPACE","\n        ",471],["T_STRING","parent",472],["T_DOUBLE_COLON","::",472],["T_STRING","__construct",472],"(",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$context",473],",",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$registry",474],",",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$extensionFactory",475],",",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$customAttributeFactory",476],",",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$resource",477],",",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$resourceCollection",478],",",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$data",479],["T_WHITESPACE","\n        ",479],")",";",["T_WHITESPACE","\n    ",480],"}",["T_WHITESPACE","\n\n    ",481],["T_DOC_COMMENT","\/**\n     * Init resource model\n     *\n     * @return void\n     *\/",483],["T_WHITESPACE","\n    ",487],["T_PROTECTED","protected",488],["T_WHITESPACE"," ",488],["T_FUNCTION","function",488],["T_WHITESPACE"," ",488],["T_STRING","_construct",488],"(",")",["T_WHITESPACE","\n    ",488],"{",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_init",490],"(",["T_NS_SEPARATOR","\\",490],["T_STRING","Magento",490],["T_NS_SEPARATOR","\\",490],["T_STRING","Quote",490],["T_NS_SEPARATOR","\\",490],["T_STRING","Model",490],["T_NS_SEPARATOR","\\",490],["T_STRING","ResourceModel",490],["T_NS_SEPARATOR","\\",490],["T_STRING","Quote",490],["T_DOUBLE_COLON","::",490],["T_CLASS","class",490],")",";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * @codeCoverageIgnoreStart\n     *\n     * {@inheritdoc}\n     *\/",493],["T_WHITESPACE","\n    ",497],["T_PUBLIC","public",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","getCurrency",498],"(",")",["T_WHITESPACE","\n    ",498],"{",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$currency",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getData",500],"(",["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_STRING","KEY_CURRENCY",500],")",";",["T_WHITESPACE","\n        ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(","!",["T_VARIABLE","$currency",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n            ",501],["T_VARIABLE","$currency",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","currencyFactory",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","create",502],"(",")",["T_WHITESPACE","\n                ",502],["T_OBJECT_OPERATOR","->",503],["T_STRING","setGlobalCurrencyCode",503],"(",["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","getGlobalCurrencyCode",503],"(",")",")",["T_WHITESPACE","\n                ",503],["T_OBJECT_OPERATOR","->",504],["T_STRING","setBaseCurrencyCode",504],"(",["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getBaseCurrencyCode",504],"(",")",")",["T_WHITESPACE","\n                ",504],["T_OBJECT_OPERATOR","->",505],["T_STRING","setStoreCurrencyCode",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getStoreCurrencyCode",505],"(",")",")",["T_WHITESPACE","\n                ",505],["T_OBJECT_OPERATOR","->",506],["T_STRING","setQuoteCurrencyCode",506],"(",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getQuoteCurrencyCode",506],"(",")",")",["T_WHITESPACE","\n                ",506],["T_OBJECT_OPERATOR","->",507],["T_STRING","setStoreToBaseRate",507],"(",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getStoreToBaseRate",507],"(",")",")",["T_WHITESPACE","\n                ",507],["T_OBJECT_OPERATOR","->",508],["T_STRING","setStoreToQuoteRate",508],"(",["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","getStoreToQuoteRate",508],"(",")",")",["T_WHITESPACE","\n                ",508],["T_OBJECT_OPERATOR","->",509],["T_STRING","setBaseToGlobalRate",509],"(",["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getBaseToGlobalRate",509],"(",")",")",["T_WHITESPACE","\n                ",509],["T_OBJECT_OPERATOR","->",510],["T_STRING","setBaseToQuoteRate",510],"(",["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getBaseToQuoteRate",510],"(",")",")",";",["T_WHITESPACE","\n        ",510],"}",["T_WHITESPACE","\n        ",511],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$currency",512],";",["T_WHITESPACE","\n    ",512],"}",["T_WHITESPACE","\n\n    ",513],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",515],["T_WHITESPACE","\n    ",517],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","setCurrency",518],"(",["T_NS_SEPARATOR","\\",518],["T_STRING","Magento",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Quote",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Api",518],["T_NS_SEPARATOR","\\",518],["T_STRING","Data",518],["T_NS_SEPARATOR","\\",518],["T_STRING","CurrencyInterface",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$currency",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","null",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","setData",520],"(",["T_STRING","self",520],["T_DOUBLE_COLON","::",520],["T_STRING","KEY_CURRENCY",520],",",["T_WHITESPACE"," ",520],["T_VARIABLE","$currency",520],")",";",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n\n    ",521],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",523],["T_WHITESPACE","\n    ",525],["T_PUBLIC","public",526],["T_WHITESPACE"," ",526],["T_FUNCTION","function",526],["T_WHITESPACE"," ",526],["T_STRING","getItems",526],"(",")",["T_WHITESPACE","\n    ",526],"{",["T_WHITESPACE","\n        ",527],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_getData",528],"(",["T_STRING","self",528],["T_DOUBLE_COLON","::",528],["T_STRING","KEY_ITEMS",528],")",";",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n\n    ",529],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",531],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","setItems",534],"(",["T_ARRAY","array",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$items",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","null",534],")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","setData",536],"(",["T_STRING","self",536],["T_DOUBLE_COLON","::",536],["T_STRING","KEY_ITEMS",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$items",536],")",";",["T_WHITESPACE","\n    ",536],"}",["T_WHITESPACE","\n\n    ",537],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",539],["T_WHITESPACE","\n    ",541],["T_PUBLIC","public",542],["T_WHITESPACE"," ",542],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","getCreatedAt",542],"(",")",["T_WHITESPACE","\n    ",542],"{",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_getData",544],"(",["T_STRING","self",544],["T_DOUBLE_COLON","::",544],["T_STRING","KEY_CREATED_AT",544],")",";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",547],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","setCreatedAt",550],"(",["T_VARIABLE","$createdAt",550],")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","setData",552],"(",["T_STRING","self",552],["T_DOUBLE_COLON","::",552],["T_STRING","KEY_CREATED_AT",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$createdAt",552],")",";",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",555],["T_WHITESPACE","\n    ",557],["T_PUBLIC","public",558],["T_WHITESPACE"," ",558],["T_FUNCTION","function",558],["T_WHITESPACE"," ",558],["T_STRING","getUpdatedAt",558],"(",")",["T_WHITESPACE","\n    ",558],"{",["T_WHITESPACE","\n        ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_getData",560],"(",["T_STRING","self",560],["T_DOUBLE_COLON","::",560],["T_STRING","KEY_UPDATED_AT",560],")",";",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",563],["T_WHITESPACE","\n    ",565],["T_PUBLIC","public",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","setUpdatedAt",566],"(",["T_VARIABLE","$updatedAt",566],")",["T_WHITESPACE","\n    ",566],"{",["T_WHITESPACE","\n        ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","setData",568],"(",["T_STRING","self",568],["T_DOUBLE_COLON","::",568],["T_STRING","KEY_UPDATED_AT",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$updatedAt",568],")",";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",571],["T_WHITESPACE","\n    ",573],["T_PUBLIC","public",574],["T_WHITESPACE"," ",574],["T_FUNCTION","function",574],["T_WHITESPACE"," ",574],["T_STRING","getConvertedAt",574],"(",")",["T_WHITESPACE","\n    ",574],"{",["T_WHITESPACE","\n        ",575],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","_getData",576],"(",["T_STRING","self",576],["T_DOUBLE_COLON","::",576],["T_STRING","KEY_CONVERTED_AT",576],")",";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",579],["T_WHITESPACE","\n    ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","setConvertedAt",582],"(",["T_VARIABLE","$convertedAt",582],")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","setData",584],"(",["T_STRING","self",584],["T_DOUBLE_COLON","::",584],["T_STRING","KEY_CONVERTED_AT",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$convertedAt",584],")",";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",587],["T_WHITESPACE","\n    ",589],["T_PUBLIC","public",590],["T_WHITESPACE"," ",590],["T_FUNCTION","function",590],["T_WHITESPACE"," ",590],["T_STRING","getIsActive",590],"(",")",["T_WHITESPACE","\n    ",590],"{",["T_WHITESPACE","\n        ",591],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_getData",592],"(",["T_STRING","self",592],["T_DOUBLE_COLON","::",592],["T_STRING","KEY_IS_ACTIVE",592],")",";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n\n    ",593],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",595],["T_WHITESPACE","\n    ",597],["T_PUBLIC","public",598],["T_WHITESPACE"," ",598],["T_FUNCTION","function",598],["T_WHITESPACE"," ",598],["T_STRING","setIsActive",598],"(",["T_VARIABLE","$isActive",598],")",["T_WHITESPACE","\n    ",598],"{",["T_WHITESPACE","\n        ",599],["T_RETURN","return",600],["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","setData",600],"(",["T_STRING","self",600],["T_DOUBLE_COLON","::",600],["T_STRING","KEY_IS_ACTIVE",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$isActive",600],")",";",["T_WHITESPACE","\n    ",600],"}",["T_WHITESPACE","\n\n    ",601],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",603],["T_WHITESPACE","\n    ",605],["T_PUBLIC","public",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","setIsVirtual",606],"(",["T_VARIABLE","$isVirtual",606],")",["T_WHITESPACE","\n    ",606],"{",["T_WHITESPACE","\n        ",607],["T_RETURN","return",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","setData",608],"(",["T_STRING","self",608],["T_DOUBLE_COLON","::",608],["T_STRING","KEY_IS_VIRTUAL",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$isVirtual",608],")",";",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n\n    ",609],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",611],["T_WHITESPACE","\n    ",613],["T_PUBLIC","public",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","getItemsCount",614],"(",")",["T_WHITESPACE","\n    ",614],"{",["T_WHITESPACE","\n        ",615],["T_RETURN","return",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_getData",616],"(",["T_STRING","self",616],["T_DOUBLE_COLON","::",616],["T_STRING","KEY_ITEMS_COUNT",616],")",";",["T_WHITESPACE","\n    ",616],"}",["T_WHITESPACE","\n\n    ",617],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",619],["T_WHITESPACE","\n    ",621],["T_PUBLIC","public",622],["T_WHITESPACE"," ",622],["T_FUNCTION","function",622],["T_WHITESPACE"," ",622],["T_STRING","setItemsCount",622],"(",["T_VARIABLE","$itemsCount",622],")",["T_WHITESPACE","\n    ",622],"{",["T_WHITESPACE","\n        ",623],["T_RETURN","return",624],["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","setData",624],"(",["T_STRING","self",624],["T_DOUBLE_COLON","::",624],["T_STRING","KEY_ITEMS_COUNT",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$itemsCount",624],")",";",["T_WHITESPACE","\n    ",624],"}",["T_WHITESPACE","\n\n    ",625],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",627],["T_WHITESPACE","\n    ",629],["T_PUBLIC","public",630],["T_WHITESPACE"," ",630],["T_FUNCTION","function",630],["T_WHITESPACE"," ",630],["T_STRING","getItemsQty",630],"(",")",["T_WHITESPACE","\n    ",630],"{",["T_WHITESPACE","\n        ",631],["T_RETURN","return",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","_getData",632],"(",["T_STRING","self",632],["T_DOUBLE_COLON","::",632],["T_STRING","KEY_ITEMS_QTY",632],")",";",["T_WHITESPACE","\n    ",632],"}",["T_WHITESPACE","\n\n    ",633],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",635],["T_WHITESPACE","\n    ",637],["T_PUBLIC","public",638],["T_WHITESPACE"," ",638],["T_FUNCTION","function",638],["T_WHITESPACE"," ",638],["T_STRING","setItemsQty",638],"(",["T_VARIABLE","$itemsQty",638],")",["T_WHITESPACE","\n    ",638],"{",["T_WHITESPACE","\n        ",639],["T_RETURN","return",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","setData",640],"(",["T_STRING","self",640],["T_DOUBLE_COLON","::",640],["T_STRING","KEY_ITEMS_QTY",640],",",["T_WHITESPACE"," ",640],["T_VARIABLE","$itemsQty",640],")",";",["T_WHITESPACE","\n    ",640],"}",["T_WHITESPACE","\n\n    ",641],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",643],["T_WHITESPACE","\n    ",645],["T_PUBLIC","public",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","getOrigOrderId",646],"(",")",["T_WHITESPACE","\n    ",646],"{",["T_WHITESPACE","\n        ",647],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_getData",648],"(",["T_STRING","self",648],["T_DOUBLE_COLON","::",648],["T_STRING","KEY_ORIG_ORDER_ID",648],")",";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",651],["T_WHITESPACE","\n    ",653],["T_PUBLIC","public",654],["T_WHITESPACE"," ",654],["T_FUNCTION","function",654],["T_WHITESPACE"," ",654],["T_STRING","setOrigOrderId",654],"(",["T_VARIABLE","$origOrderId",654],")",["T_WHITESPACE","\n    ",654],"{",["T_WHITESPACE","\n        ",655],["T_RETURN","return",656],["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","setData",656],"(",["T_STRING","self",656],["T_DOUBLE_COLON","::",656],["T_STRING","KEY_ORIG_ORDER_ID",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$origOrderId",656],")",";",["T_WHITESPACE","\n    ",656],"}",["T_WHITESPACE","\n\n    ",657],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",659],["T_WHITESPACE","\n    ",661],["T_PUBLIC","public",662],["T_WHITESPACE"," ",662],["T_FUNCTION","function",662],["T_WHITESPACE"," ",662],["T_STRING","getReservedOrderId",662],"(",")",["T_WHITESPACE","\n    ",662],"{",["T_WHITESPACE","\n        ",663],["T_RETURN","return",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","_getData",664],"(",["T_STRING","self",664],["T_DOUBLE_COLON","::",664],["T_STRING","KEY_RESERVED_ORDER_ID",664],")",";",["T_WHITESPACE","\n    ",664],"}",["T_WHITESPACE","\n\n    ",665],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",667],["T_WHITESPACE","\n    ",669],["T_PUBLIC","public",670],["T_WHITESPACE"," ",670],["T_FUNCTION","function",670],["T_WHITESPACE"," ",670],["T_STRING","setReservedOrderId",670],"(",["T_VARIABLE","$reservedOrderId",670],")",["T_WHITESPACE","\n    ",670],"{",["T_WHITESPACE","\n        ",671],["T_RETURN","return",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","setData",672],"(",["T_STRING","self",672],["T_DOUBLE_COLON","::",672],["T_STRING","KEY_RESERVED_ORDER_ID",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$reservedOrderId",672],")",";",["T_WHITESPACE","\n    ",672],"}",["T_WHITESPACE","\n\n    ",673],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",675],["T_WHITESPACE","\n    ",677],["T_PUBLIC","public",678],["T_WHITESPACE"," ",678],["T_FUNCTION","function",678],["T_WHITESPACE"," ",678],["T_STRING","getCustomerIsGuest",678],"(",")",["T_WHITESPACE","\n    ",678],"{",["T_WHITESPACE","\n        ",679],["T_RETURN","return",680],["T_WHITESPACE"," ",680],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","_getData",680],"(",["T_STRING","self",680],["T_DOUBLE_COLON","::",680],["T_STRING","KEY_CUSTOMER_IS_GUEST",680],")",";",["T_WHITESPACE","\n    ",680],"}",["T_WHITESPACE","\n\n    ",681],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",683],["T_WHITESPACE","\n    ",685],["T_PUBLIC","public",686],["T_WHITESPACE"," ",686],["T_FUNCTION","function",686],["T_WHITESPACE"," ",686],["T_STRING","setCustomerIsGuest",686],"(",["T_VARIABLE","$customerIsGuest",686],")",["T_WHITESPACE","\n    ",686],"{",["T_WHITESPACE","\n        ",687],["T_RETURN","return",688],["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","setData",688],"(",["T_STRING","self",688],["T_DOUBLE_COLON","::",688],["T_STRING","KEY_CUSTOMER_IS_GUEST",688],",",["T_WHITESPACE"," ",688],["T_VARIABLE","$customerIsGuest",688],")",";",["T_WHITESPACE","\n    ",688],"}",["T_WHITESPACE","\n\n    ",689],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",691],["T_WHITESPACE","\n    ",693],["T_PUBLIC","public",694],["T_WHITESPACE"," ",694],["T_FUNCTION","function",694],["T_WHITESPACE"," ",694],["T_STRING","getCustomerNote",694],"(",")",["T_WHITESPACE","\n    ",694],"{",["T_WHITESPACE","\n        ",695],["T_RETURN","return",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","_getData",696],"(",["T_STRING","self",696],["T_DOUBLE_COLON","::",696],["T_STRING","KEY_CUSTOMER_NOTE",696],")",";",["T_WHITESPACE","\n    ",696],"}",["T_WHITESPACE","\n\n    ",697],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",699],["T_WHITESPACE","\n    ",701],["T_PUBLIC","public",702],["T_WHITESPACE"," ",702],["T_FUNCTION","function",702],["T_WHITESPACE"," ",702],["T_STRING","setCustomerNote",702],"(",["T_VARIABLE","$customerNote",702],")",["T_WHITESPACE","\n    ",702],"{",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","setData",704],"(",["T_STRING","self",704],["T_DOUBLE_COLON","::",704],["T_STRING","KEY_CUSTOMER_NOTE",704],",",["T_WHITESPACE"," ",704],["T_VARIABLE","$customerNote",704],")",";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",707],["T_WHITESPACE","\n    ",709],["T_PUBLIC","public",710],["T_WHITESPACE"," ",710],["T_FUNCTION","function",710],["T_WHITESPACE"," ",710],["T_STRING","getCustomerNoteNotify",710],"(",")",["T_WHITESPACE","\n    ",710],"{",["T_WHITESPACE","\n        ",711],["T_RETURN","return",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","_getData",712],"(",["T_STRING","self",712],["T_DOUBLE_COLON","::",712],["T_STRING","KEY_CUSTOMER_NOTE_NOTIFY",712],")",";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n\n    ",713],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",715],["T_WHITESPACE","\n    ",717],["T_PUBLIC","public",718],["T_WHITESPACE"," ",718],["T_FUNCTION","function",718],["T_WHITESPACE"," ",718],["T_STRING","setCustomerNoteNotify",718],"(",["T_VARIABLE","$customerNoteNotify",718],")",["T_WHITESPACE","\n    ",718],"{",["T_WHITESPACE","\n        ",719],["T_RETURN","return",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","setData",720],"(",["T_STRING","self",720],["T_DOUBLE_COLON","::",720],["T_STRING","KEY_CUSTOMER_NOTE_NOTIFY",720],",",["T_WHITESPACE"," ",720],["T_VARIABLE","$customerNoteNotify",720],")",";",["T_WHITESPACE","\n    ",720],"}",["T_WHITESPACE","\n    ",721],["T_COMMENT","\/\/@codeCoverageIgnoreEnd\n",722],["T_WHITESPACE","\n    ",723],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",724],["T_WHITESPACE","\n    ",726],["T_PUBLIC","public",727],["T_WHITESPACE"," ",727],["T_FUNCTION","function",727],["T_WHITESPACE"," ",727],["T_STRING","getStoreId",727],"(",")",["T_WHITESPACE","\n    ",727],"{",["T_WHITESPACE","\n        ",728],["T_IF","if",729],["T_WHITESPACE"," ",729],"(","!",["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","hasStoreId",729],"(",")",")",["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n            ",729],["T_RETURN","return",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","_storeManager",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","getStore",730],"(",")",["T_OBJECT_OPERATOR","->",730],["T_STRING","getId",730],"(",")",";",["T_WHITESPACE","\n        ",730],"}",["T_WHITESPACE","\n        ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_INT_CAST","(int)",732],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","_getData",732],"(",["T_STRING","self",732],["T_DOUBLE_COLON","::",732],["T_STRING","KEY_STORE_ID",732],")",";",["T_WHITESPACE","\n    ",732],"}",["T_WHITESPACE","\n\n    ",733],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",735],["T_WHITESPACE","\n    ",737],["T_PUBLIC","public",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","setStoreId",738],"(",["T_VARIABLE","$storeId",738],")",["T_WHITESPACE","\n    ",738],"{",["T_WHITESPACE","\n        ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","setData",740],"(",["T_STRING","self",740],["T_DOUBLE_COLON","::",740],["T_STRING","KEY_STORE_ID",740],",",["T_WHITESPACE"," ",740],["T_INT_CAST","(int)",740],["T_VARIABLE","$storeId",740],")",";",["T_WHITESPACE","\n        ",740],["T_RETURN","return",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$this",741],";",["T_WHITESPACE","\n    ",741],"}",["T_WHITESPACE","\n\n    ",742],["T_DOC_COMMENT","\/**\n     * Get quote store model object\n     *\n     * @return  \\Magento\\Store\\Model\\Store\n     *\/",744],["T_WHITESPACE","\n    ",748],["T_PUBLIC","public",749],["T_WHITESPACE"," ",749],["T_FUNCTION","function",749],["T_WHITESPACE"," ",749],["T_STRING","getStore",749],"(",")",["T_WHITESPACE","\n    ",749],"{",["T_WHITESPACE","\n        ",750],["T_RETURN","return",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","_storeManager",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","getStore",751],"(",["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","getStoreId",751],"(",")",")",";",["T_WHITESPACE","\n    ",751],"}",["T_WHITESPACE","\n\n    ",752],["T_DOC_COMMENT","\/**\n     * Declare quote store model\n     *\n     * @param \\Magento\\Store\\Model\\Store $store\n     * @return $this\n     *\/",754],["T_WHITESPACE","\n    ",759],["T_PUBLIC","public",760],["T_WHITESPACE"," ",760],["T_FUNCTION","function",760],["T_WHITESPACE"," ",760],["T_STRING","setStore",760],"(",["T_NS_SEPARATOR","\\",760],["T_STRING","Magento",760],["T_NS_SEPARATOR","\\",760],["T_STRING","Store",760],["T_NS_SEPARATOR","\\",760],["T_STRING","Model",760],["T_NS_SEPARATOR","\\",760],["T_STRING","Store",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$store",760],")",["T_WHITESPACE","\n    ",760],"{",["T_WHITESPACE","\n        ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","setStoreId",762],"(",["T_VARIABLE","$store",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","getId",762],"(",")",")",";",["T_WHITESPACE","\n        ",762],["T_RETURN","return",763],["T_WHITESPACE"," ",763],["T_VARIABLE","$this",763],";",["T_WHITESPACE","\n    ",763],"}",["T_WHITESPACE","\n\n    ",764],["T_DOC_COMMENT","\/**\n     * Get all available store ids for quote\n     *\n     * @return array\n     *\/",766],["T_WHITESPACE","\n    ",770],["T_PUBLIC","public",771],["T_WHITESPACE"," ",771],["T_FUNCTION","function",771],["T_WHITESPACE"," ",771],["T_STRING","getSharedStoreIds",771],"(",")",["T_WHITESPACE","\n    ",771],"{",["T_WHITESPACE","\n        ",772],["T_VARIABLE","$ids",773],["T_WHITESPACE"," ",773],"=",["T_WHITESPACE"," ",773],["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","_getData",773],"(",["T_CONSTANT_ENCAPSED_STRING","'shared_store_ids'",773],")",";",["T_WHITESPACE","\n        ",773],["T_IF","if",774],["T_WHITESPACE"," ",774],"(",["T_VARIABLE","$ids",774],["T_WHITESPACE"," ",774],["T_IS_IDENTICAL","===",774],["T_WHITESPACE"," ",774],["T_STRING","null",774],["T_WHITESPACE"," ",774],["T_BOOLEAN_OR","||",774],["T_WHITESPACE"," ",774],"!",["T_STRING","is_array",774],"(",["T_VARIABLE","$ids",774],")",")",["T_WHITESPACE"," ",774],"{",["T_WHITESPACE","\n            ",774],["T_VARIABLE","$website",775],["T_WHITESPACE"," ",775],"=",["T_WHITESPACE"," ",775],["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","getWebsite",775],"(",")",";",["T_WHITESPACE","\n            ",775],["T_IF","if",776],["T_WHITESPACE"," ",776],"(",["T_VARIABLE","$website",776],")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n                ",776],["T_RETURN","return",777],["T_WHITESPACE"," ",777],["T_VARIABLE","$website",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","getStoreIds",777],"(",")",";",["T_WHITESPACE","\n            ",777],"}",["T_WHITESPACE","\n            ",778],["T_RETURN","return",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","getStore",779],"(",")",["T_OBJECT_OPERATOR","->",779],["T_STRING","getWebsite",779],"(",")",["T_OBJECT_OPERATOR","->",779],["T_STRING","getStoreIds",779],"(",")",";",["T_WHITESPACE","\n        ",779],"}",["T_WHITESPACE","\n        ",780],["T_RETURN","return",781],["T_WHITESPACE"," ",781],["T_VARIABLE","$ids",781],";",["T_WHITESPACE","\n    ",781],"}",["T_WHITESPACE","\n\n    ",782],["T_DOC_COMMENT","\/**\n     * Prepare data before save\n     *\n     * @return $this\n     *\/",784],["T_WHITESPACE","\n    ",788],["T_PUBLIC","public",789],["T_WHITESPACE"," ",789],["T_FUNCTION","function",789],["T_WHITESPACE"," ",789],["T_STRING","beforeSave",789],"(",")",["T_WHITESPACE","\n    ",789],"{",["T_WHITESPACE","\n        ",790],["T_DOC_COMMENT","\/**\n         * Currency logic\n         *\n         * global - currency which is set for default in backend\n         * base - currency which is set for current website. all attributes that\n         *      have 'base_' prefix saved in this currency\n         * quote\/order - currency which was selected by customer or configured by\n         *      admin for current store. currency in which customer sees\n         *      price thought all checkout.\n         *\n         * Rates:\n         *      base_to_global & base_to_quote\/base_to_order\n         *\/",791],["T_WHITESPACE","\n        ",803],["T_VARIABLE","$globalCurrencyCode",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","_config",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getValue",804],"(",["T_WHITESPACE","\n            ",804],["T_NS_SEPARATOR","\\",805],["T_STRING","Magento",805],["T_NS_SEPARATOR","\\",805],["T_STRING","Directory",805],["T_NS_SEPARATOR","\\",805],["T_STRING","Model",805],["T_NS_SEPARATOR","\\",805],["T_STRING","Currency",805],["T_DOUBLE_COLON","::",805],["T_STRING","XML_PATH_CURRENCY_BASE",805],",",["T_WHITESPACE","\n            ",805],["T_CONSTANT_ENCAPSED_STRING","'default'",806],["T_WHITESPACE","\n        ",806],")",";",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$baseCurrency",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","getStore",808],"(",")",["T_OBJECT_OPERATOR","->",808],["T_STRING","getBaseCurrency",808],"(",")",";",["T_WHITESPACE","\n\n        ",808],["T_IF","if",810],["T_WHITESPACE"," ",810],"(",["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","hasForcedCurrency",810],"(",")",")",["T_WHITESPACE"," ",810],"{",["T_WHITESPACE","\n            ",810],["T_VARIABLE","$quoteCurrency",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getForcedCurrency",811],"(",")",";",["T_WHITESPACE","\n        ",811],"}",["T_WHITESPACE"," ",812],["T_ELSE","else",812],["T_WHITESPACE"," ",812],"{",["T_WHITESPACE","\n            ",812],["T_VARIABLE","$quoteCurrency",813],["T_WHITESPACE"," ",813],"=",["T_WHITESPACE"," ",813],["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","getStore",813],"(",")",["T_OBJECT_OPERATOR","->",813],["T_STRING","getCurrentCurrency",813],"(",")",";",["T_WHITESPACE","\n        ",813],"}",["T_WHITESPACE","\n\n        ",814],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","setGlobalCurrencyCode",816],"(",["T_VARIABLE","$globalCurrencyCode",816],")",";",["T_WHITESPACE","\n        ",816],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","setBaseCurrencyCode",817],"(",["T_VARIABLE","$baseCurrency",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getCode",817],"(",")",")",";",["T_WHITESPACE","\n        ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","setStoreCurrencyCode",818],"(",["T_VARIABLE","$baseCurrency",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","getCode",818],"(",")",")",";",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","setQuoteCurrencyCode",819],"(",["T_VARIABLE","$quoteCurrency",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","getCode",819],"(",")",")",";",["T_WHITESPACE","\n\n        ",819],["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","setBaseToGlobalRate",821],"(",["T_VARIABLE","$baseCurrency",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","getRate",821],"(",["T_VARIABLE","$globalCurrencyCode",821],")",")",";",["T_WHITESPACE","\n        ",821],["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","setBaseToQuoteRate",822],"(",["T_VARIABLE","$baseCurrency",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","getRate",822],"(",["T_VARIABLE","$quoteCurrency",822],")",")",";",["T_WHITESPACE","\n\n        ",822],["T_IF","if",824],["T_WHITESPACE"," ",824],"(","!",["T_VARIABLE","$this",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","hasChangedFlag",824],"(",")",["T_WHITESPACE"," ",824],["T_BOOLEAN_OR","||",824],["T_WHITESPACE"," ",824],["T_VARIABLE","$this",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","getChangedFlag",824],"(",")",["T_WHITESPACE"," ",824],["T_IS_EQUAL","==",824],["T_WHITESPACE"," ",824],["T_STRING","true",824],")",["T_WHITESPACE"," ",824],"{",["T_WHITESPACE","\n            ",824],["T_VARIABLE","$this",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","setIsChanged",825],"(",["T_LNUMBER","1",825],")",";",["T_WHITESPACE","\n        ",825],"}",["T_WHITESPACE"," ",826],["T_ELSE","else",826],["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n            ",826],["T_VARIABLE","$this",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","setIsChanged",827],"(",["T_LNUMBER","0",827],")",";",["T_WHITESPACE","\n        ",827],"}",["T_WHITESPACE","\n\n        ",828],["T_IF","if",830],["T_WHITESPACE"," ",830],"(",["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","_customer",830],")",["T_WHITESPACE"," ",830],"{",["T_WHITESPACE","\n            ",830],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","setCustomerId",831],"(",["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","_customer",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getId",831],"(",")",")",";",["T_WHITESPACE","\n        ",831],"}",["T_WHITESPACE","\n\n        ",832],["T_COMMENT","\/\/mark quote if it has virtual products only\n",834],["T_WHITESPACE","        ",835],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","setIsVirtual",835],"(",["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","getIsVirtual",835],"(",")",")",";",["T_WHITESPACE","\n\n        ",835],["T_STRING","parent",837],["T_DOUBLE_COLON","::",837],["T_STRING","beforeSave",837],"(",")",";",["T_WHITESPACE","\n    ",837],"}",["T_WHITESPACE","\n\n    ",838],["T_DOC_COMMENT","\/**\n     * Loading quote data by customer\n     *\n     * @param \\Magento\\Customer\\Model\\Customer|int $customer\n     * @deprecated \n     * @return $this\n     *\/",840],["T_WHITESPACE","\n    ",846],["T_PUBLIC","public",847],["T_WHITESPACE"," ",847],["T_FUNCTION","function",847],["T_WHITESPACE"," ",847],["T_STRING","loadByCustomer",847],"(",["T_VARIABLE","$customer",847],")",["T_WHITESPACE","\n    ",847],"{",["T_WHITESPACE","\n        ",848],["T_COMMENT","\/* @TODO: remove this if after external usages of loadByCustomerId are refactored in MAGETWO-19935 *\/",849],["T_WHITESPACE","\n        ",849],["T_IF","if",850],["T_WHITESPACE"," ",850],"(",["T_VARIABLE","$customer",850],["T_WHITESPACE"," ",850],["T_INSTANCEOF","instanceof",850],["T_WHITESPACE"," ",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Magento",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Customer",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Model",850],["T_NS_SEPARATOR","\\",850],["T_STRING","Customer",850],["T_WHITESPACE"," ",850],["T_BOOLEAN_OR","||",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$customer",850],["T_WHITESPACE"," ",850],["T_INSTANCEOF","instanceof",850],["T_WHITESPACE"," ",850],["T_STRING","CustomerInterface",850],")",["T_WHITESPACE"," ",850],"{",["T_WHITESPACE","\n            ",850],["T_VARIABLE","$customerId",851],["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_VARIABLE","$customer",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","getId",851],"(",")",";",["T_WHITESPACE","\n        ",851],"}",["T_WHITESPACE"," ",852],["T_ELSE","else",852],["T_WHITESPACE"," ",852],"{",["T_WHITESPACE","\n            ",852],["T_VARIABLE","$customerId",853],["T_WHITESPACE"," ",853],"=",["T_WHITESPACE"," ",853],["T_INT_CAST","(int)",853],["T_VARIABLE","$customer",853],";",["T_WHITESPACE","\n        ",853],"}",["T_WHITESPACE","\n        ",854],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","_getResource",855],"(",")",["T_OBJECT_OPERATOR","->",855],["T_STRING","loadByCustomerId",855],"(",["T_VARIABLE","$this",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$customerId",855],")",";",["T_WHITESPACE","\n        ",855],["T_VARIABLE","$this",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","_afterLoad",856],"(",")",";",["T_WHITESPACE","\n        ",856],["T_RETURN","return",857],["T_WHITESPACE"," ",857],["T_VARIABLE","$this",857],";",["T_WHITESPACE","\n    ",857],"}",["T_WHITESPACE","\n\n    ",858],["T_DOC_COMMENT","\/**\n     * Loading only active quote\n     *\n     * @param int $quoteId\n     * @return $this\n     *\/",860],["T_WHITESPACE","\n    ",865],["T_PUBLIC","public",866],["T_WHITESPACE"," ",866],["T_FUNCTION","function",866],["T_WHITESPACE"," ",866],["T_STRING","loadActive",866],"(",["T_VARIABLE","$quoteId",866],")",["T_WHITESPACE","\n    ",866],"{",["T_WHITESPACE","\n        ",867],["T_VARIABLE","$this",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","_getResource",868],"(",")",["T_OBJECT_OPERATOR","->",868],["T_STRING","loadActive",868],"(",["T_VARIABLE","$this",868],",",["T_WHITESPACE"," ",868],["T_VARIABLE","$quoteId",868],")",";",["T_WHITESPACE","\n        ",868],["T_VARIABLE","$this",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","_afterLoad",869],"(",")",";",["T_WHITESPACE","\n        ",869],["T_RETURN","return",870],["T_WHITESPACE"," ",870],["T_VARIABLE","$this",870],";",["T_WHITESPACE","\n    ",870],"}",["T_WHITESPACE","\n\n    ",871],["T_DOC_COMMENT","\/**\n     * Loading quote by identifier\n     *\n     * @param int $quoteId\n     * @return $this\n     *\/",873],["T_WHITESPACE","\n    ",878],["T_PUBLIC","public",879],["T_WHITESPACE"," ",879],["T_FUNCTION","function",879],["T_WHITESPACE"," ",879],["T_STRING","loadByIdWithoutStore",879],"(",["T_VARIABLE","$quoteId",879],")",["T_WHITESPACE","\n    ",879],"{",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","_getResource",881],"(",")",["T_OBJECT_OPERATOR","->",881],["T_STRING","loadByIdWithoutStore",881],"(",["T_VARIABLE","$this",881],",",["T_WHITESPACE"," ",881],["T_VARIABLE","$quoteId",881],")",";",["T_WHITESPACE","\n        ",881],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","_afterLoad",882],"(",")",";",["T_WHITESPACE","\n        ",882],["T_RETURN","return",883],["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],";",["T_WHITESPACE","\n    ",883],"}",["T_WHITESPACE","\n\n    ",884],["T_DOC_COMMENT","\/**\n     * Assign customer model object data to quote\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @return $this\n     *\/",886],["T_WHITESPACE","\n    ",891],["T_PUBLIC","public",892],["T_WHITESPACE"," ",892],["T_FUNCTION","function",892],["T_WHITESPACE"," ",892],["T_STRING","assignCustomer",892],"(",["T_NS_SEPARATOR","\\",892],["T_STRING","Magento",892],["T_NS_SEPARATOR","\\",892],["T_STRING","Customer",892],["T_NS_SEPARATOR","\\",892],["T_STRING","Api",892],["T_NS_SEPARATOR","\\",892],["T_STRING","Data",892],["T_NS_SEPARATOR","\\",892],["T_STRING","CustomerInterface",892],["T_WHITESPACE"," ",892],["T_VARIABLE","$customer",892],")",["T_WHITESPACE","\n    ",892],"{",["T_WHITESPACE","\n        ",893],["T_RETURN","return",894],["T_WHITESPACE"," ",894],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","assignCustomerWithAddressChange",894],"(",["T_VARIABLE","$customer",894],")",";",["T_WHITESPACE","\n    ",894],"}",["T_WHITESPACE","\n\n    ",895],["T_DOC_COMMENT","\/**\n     * Assign customer model to quote with billing and shipping address change\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @param Address $billingAddress Quote billing address\n     * @param Address $shippingAddress Quote shipping address\n     * @return $this\n     *\/",897],["T_WHITESPACE","\n    ",904],["T_PUBLIC","public",905],["T_WHITESPACE"," ",905],["T_FUNCTION","function",905],["T_WHITESPACE"," ",905],["T_STRING","assignCustomerWithAddressChange",905],"(",["T_WHITESPACE","\n        ",905],["T_NS_SEPARATOR","\\",906],["T_STRING","Magento",906],["T_NS_SEPARATOR","\\",906],["T_STRING","Customer",906],["T_NS_SEPARATOR","\\",906],["T_STRING","Api",906],["T_NS_SEPARATOR","\\",906],["T_STRING","Data",906],["T_NS_SEPARATOR","\\",906],["T_STRING","CustomerInterface",906],["T_WHITESPACE"," ",906],["T_VARIABLE","$customer",906],",",["T_WHITESPACE","\n        ",906],["T_STRING","Address",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$billingAddress",907],["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],["T_STRING","null",907],",",["T_WHITESPACE","\n        ",907],["T_STRING","Address",908],["T_WHITESPACE"," ",908],["T_VARIABLE","$shippingAddress",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_STRING","null",908],["T_WHITESPACE","\n    ",908],")",["T_WHITESPACE"," ",909],"{",["T_WHITESPACE","\n        ",909],["T_IF","if",910],["T_WHITESPACE"," ",910],"(",["T_VARIABLE","$customer",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","getId",910],"(",")",")",["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n            ",910],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","setCustomer",911],"(",["T_VARIABLE","$customer",911],")",";",["T_WHITESPACE","\n\n            ",911],["T_IF","if",913],["T_WHITESPACE"," ",913],"(",["T_STRING","null",913],["T_WHITESPACE"," ",913],["T_IS_NOT_IDENTICAL","!==",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$billingAddress",913],")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n                ",913],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","setBillingAddress",914],"(",["T_VARIABLE","$billingAddress",914],")",";",["T_WHITESPACE","\n            ",914],"}",["T_WHITESPACE"," ",915],["T_ELSE","else",915],["T_WHITESPACE"," ",915],"{",["T_WHITESPACE","\n                ",915],["T_TRY","try",916],["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n                    ",916],["T_VARIABLE","$defaultBillingAddress",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_VARIABLE","$this",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","addressRepository",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","getById",917],"(",["T_VARIABLE","$customer",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","getDefaultBilling",917],"(",")",")",";",["T_WHITESPACE","\n                ",917],"}",["T_WHITESPACE"," ",918],["T_CATCH","catch",918],["T_WHITESPACE"," ",918],"(",["T_NS_SEPARATOR","\\",918],["T_STRING","Magento",918],["T_NS_SEPARATOR","\\",918],["T_STRING","Framework",918],["T_NS_SEPARATOR","\\",918],["T_STRING","Exception",918],["T_NS_SEPARATOR","\\",918],["T_STRING","NoSuchEntityException",918],["T_WHITESPACE"," ",918],["T_VARIABLE","$e",918],")",["T_WHITESPACE"," ",918],"{",["T_WHITESPACE","\n                    ",918],["T_COMMENT","\/\/\n",919],["T_WHITESPACE","                ",920],"}",["T_WHITESPACE","\n                ",920],["T_IF","if",921],["T_WHITESPACE"," ",921],"(",["T_ISSET","isset",921],"(",["T_VARIABLE","$defaultBillingAddress",921],")",")",["T_WHITESPACE"," ",921],"{",["T_WHITESPACE","\n                    ",921],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address $billingAddress *\/",922],["T_WHITESPACE","\n                    ",922],["T_VARIABLE","$billingAddress",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_quoteAddressFactory",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","create",923],"(",")",";",["T_WHITESPACE","\n                    ",923],["T_VARIABLE","$billingAddress",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","importCustomerAddressData",924],"(",["T_VARIABLE","$defaultBillingAddress",924],")",";",["T_WHITESPACE","\n                    ",924],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","setBillingAddress",925],"(",["T_VARIABLE","$billingAddress",925],")",";",["T_WHITESPACE","\n                ",925],"}",["T_WHITESPACE","\n            ",926],"}",["T_WHITESPACE","\n\n            ",927],["T_IF","if",929],["T_WHITESPACE"," ",929],"(",["T_STRING","null",929],["T_WHITESPACE"," ",929],["T_IS_IDENTICAL","===",929],["T_WHITESPACE"," ",929],["T_VARIABLE","$shippingAddress",929],")",["T_WHITESPACE"," ",929],"{",["T_WHITESPACE","\n                ",929],["T_TRY","try",930],["T_WHITESPACE"," ",930],"{",["T_WHITESPACE","\n                    ",930],["T_VARIABLE","$defaultShippingAddress",931],["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","addressRepository",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","getById",931],"(",["T_VARIABLE","$customer",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","getDefaultShipping",931],"(",")",")",";",["T_WHITESPACE","\n                ",931],"}",["T_WHITESPACE"," ",932],["T_CATCH","catch",932],["T_WHITESPACE"," ",932],"(",["T_NS_SEPARATOR","\\",932],["T_STRING","Magento",932],["T_NS_SEPARATOR","\\",932],["T_STRING","Framework",932],["T_NS_SEPARATOR","\\",932],["T_STRING","Exception",932],["T_NS_SEPARATOR","\\",932],["T_STRING","NoSuchEntityException",932],["T_WHITESPACE"," ",932],["T_VARIABLE","$e",932],")",["T_WHITESPACE"," ",932],"{",["T_WHITESPACE","\n                    ",932],["T_COMMENT","\/\/\n",933],["T_WHITESPACE","                ",934],"}",["T_WHITESPACE","\n                ",934],["T_IF","if",935],["T_WHITESPACE"," ",935],"(",["T_ISSET","isset",935],"(",["T_VARIABLE","$defaultShippingAddress",935],")",")",["T_WHITESPACE"," ",935],"{",["T_WHITESPACE","\n                    ",935],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address $shippingAddress *\/",936],["T_WHITESPACE","\n                    ",936],["T_VARIABLE","$shippingAddress",937],["T_WHITESPACE"," ",937],"=",["T_WHITESPACE"," ",937],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_quoteAddressFactory",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","create",937],"(",")",";",["T_WHITESPACE","\n                    ",937],["T_VARIABLE","$shippingAddress",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","importCustomerAddressData",938],"(",["T_VARIABLE","$defaultShippingAddress",938],")",";",["T_WHITESPACE","\n                ",938],"}",["T_WHITESPACE"," ",939],["T_ELSE","else",939],["T_WHITESPACE"," ",939],"{",["T_WHITESPACE","\n                    ",939],["T_VARIABLE","$shippingAddress",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_quoteAddressFactory",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","create",940],"(",")",";",["T_WHITESPACE","\n                ",940],"}",["T_WHITESPACE","\n            ",941],"}",["T_WHITESPACE","\n            ",942],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","setShippingAddress",943],"(",["T_VARIABLE","$shippingAddress",943],")",";",["T_WHITESPACE","\n        ",943],"}",["T_WHITESPACE","\n\n        ",944],["T_RETURN","return",946],["T_WHITESPACE"," ",946],["T_VARIABLE","$this",946],";",["T_WHITESPACE","\n    ",946],"}",["T_WHITESPACE","\n\n    ",947],["T_DOC_COMMENT","\/**\n     * Define customer object\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @return $this\n     *\/",949],["T_WHITESPACE","\n    ",954],["T_PUBLIC","public",955],["T_WHITESPACE"," ",955],["T_FUNCTION","function",955],["T_WHITESPACE"," ",955],["T_STRING","setCustomer",955],"(",["T_NS_SEPARATOR","\\",955],["T_STRING","Magento",955],["T_NS_SEPARATOR","\\",955],["T_STRING","Customer",955],["T_NS_SEPARATOR","\\",955],["T_STRING","Api",955],["T_NS_SEPARATOR","\\",955],["T_STRING","Data",955],["T_NS_SEPARATOR","\\",955],["T_STRING","CustomerInterface",955],["T_WHITESPACE"," ",955],["T_VARIABLE","$customer",955],["T_WHITESPACE"," ",955],"=",["T_WHITESPACE"," ",955],["T_STRING","null",955],")",["T_WHITESPACE","\n    ",955],"{",["T_WHITESPACE","\n        ",956],["T_COMMENT","\/* @TODO: Remove the method after all external usages are refactored in MAGETWO-19930 *\/",957],["T_WHITESPACE","\n        ",957],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","_customer",958],["T_WHITESPACE"," ",958],"=",["T_WHITESPACE"," ",958],["T_VARIABLE","$customer",958],";",["T_WHITESPACE","\n        ",958],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","setCustomerId",959],"(",["T_VARIABLE","$customer",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","getId",959],"(",")",")",";",["T_WHITESPACE","\n        ",959],["T_VARIABLE","$origAddresses",960],["T_WHITESPACE"," ",960],"=",["T_WHITESPACE"," ",960],["T_VARIABLE","$customer",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","getAddresses",960],"(",")",";",["T_WHITESPACE","\n        ",960],["T_VARIABLE","$customer",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","setAddresses",961],"(","[","]",")",";",["T_WHITESPACE","\n        ",961],["T_VARIABLE","$customerDataFlatArray",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","objectFactory",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","create",962],"(",["T_WHITESPACE","\n            ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","extensibleDataObjectConverter",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","toFlatArray",963],"(",["T_WHITESPACE","\n                ",963],["T_VARIABLE","$customer",964],",",["T_WHITESPACE","\n                ",964],"[","]",",",["T_WHITESPACE","\n                ",965],["T_NS_SEPARATOR","\\",966],["T_STRING","Magento",966],["T_NS_SEPARATOR","\\",966],["T_STRING","Customer",966],["T_NS_SEPARATOR","\\",966],["T_STRING","Api",966],["T_NS_SEPARATOR","\\",966],["T_STRING","Data",966],["T_NS_SEPARATOR","\\",966],["T_STRING","CustomerInterface",966],["T_DOUBLE_COLON","::",966],["T_CLASS","class",966],["T_WHITESPACE","\n            ",966],")",["T_WHITESPACE","\n        ",967],")",";",["T_WHITESPACE","\n        ",968],["T_VARIABLE","$customer",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","setAddresses",969],"(",["T_VARIABLE","$origAddresses",969],")",";",["T_WHITESPACE","\n        ",969],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","_objectCopyService",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","copyFieldsetToTarget",970],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_account'",970],",",["T_WHITESPACE"," ",970],["T_CONSTANT_ENCAPSED_STRING","'to_quote'",970],",",["T_WHITESPACE"," ",970],["T_VARIABLE","$customerDataFlatArray",970],",",["T_WHITESPACE"," ",970],["T_VARIABLE","$this",970],")",";",["T_WHITESPACE","\n\n        ",970],["T_RETURN","return",972],["T_WHITESPACE"," ",972],["T_VARIABLE","$this",972],";",["T_WHITESPACE","\n    ",972],"}",["T_WHITESPACE","\n\n    ",973],["T_DOC_COMMENT","\/**\n     * Retrieve customer model object\n     *\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface|\\Magento\\Framework\\Api\\ExtensibleDataInterface\n     *\/",975],["T_WHITESPACE","\n    ",979],["T_PUBLIC","public",980],["T_WHITESPACE"," ",980],["T_FUNCTION","function",980],["T_WHITESPACE"," ",980],["T_STRING","getCustomer",980],"(",")",["T_WHITESPACE","\n    ",980],"{",["T_WHITESPACE","\n        ",981],["T_DOC_COMMENT","\/**\n         * @TODO: Remove the method after all external usages are refactored in MAGETWO-19930\n         * _customer and _customerFactory variables should be eliminated as well\n         *\/",982],["T_WHITESPACE","\n        ",985],["T_IF","if",986],["T_WHITESPACE"," ",986],"(",["T_STRING","null",986],["T_WHITESPACE"," ",986],["T_IS_IDENTICAL","===",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","_customer",986],")",["T_WHITESPACE"," ",986],"{",["T_WHITESPACE","\n            ",986],["T_TRY","try",987],["T_WHITESPACE"," ",987],"{",["T_WHITESPACE","\n                ",987],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","_customer",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","customerRepository",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","getById",988],"(",["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","getCustomerId",988],"(",")",")",";",["T_WHITESPACE","\n            ",988],"}",["T_WHITESPACE"," ",989],["T_CATCH","catch",989],["T_WHITESPACE"," ",989],"(",["T_NS_SEPARATOR","\\",989],["T_STRING","Magento",989],["T_NS_SEPARATOR","\\",989],["T_STRING","Framework",989],["T_NS_SEPARATOR","\\",989],["T_STRING","Exception",989],["T_NS_SEPARATOR","\\",989],["T_STRING","NoSuchEntityException",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$e",989],")",["T_WHITESPACE"," ",989],"{",["T_WHITESPACE","\n                ",989],["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","_customer",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","customerDataFactory",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","create",990],"(",")",";",["T_WHITESPACE","\n                ",990],["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","_customer",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","setId",991],"(",["T_STRING","null",991],")",";",["T_WHITESPACE","\n            ",991],"}",["T_WHITESPACE","\n        ",992],"}",["T_WHITESPACE","\n\n        ",993],["T_RETURN","return",995],["T_WHITESPACE"," ",995],["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","_customer",995],";",["T_WHITESPACE","\n    ",995],"}",["T_WHITESPACE","\n\n    ",996],["T_DOC_COMMENT","\/**\n     * Substitute customer addresses\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\AddressInterface[] $addresses\n     * @return $this\n     *\/",998],["T_WHITESPACE","\n    ",1003],["T_PUBLIC","public",1004],["T_WHITESPACE"," ",1004],["T_FUNCTION","function",1004],["T_WHITESPACE"," ",1004],["T_STRING","setCustomerAddressData",1004],"(",["T_ARRAY","array",1004],["T_WHITESPACE"," ",1004],["T_VARIABLE","$addresses",1004],")",["T_WHITESPACE","\n    ",1004],"{",["T_WHITESPACE","\n        ",1005],["T_FOREACH","foreach",1006],["T_WHITESPACE"," ",1006],"(",["T_VARIABLE","$addresses",1006],["T_WHITESPACE"," ",1006],["T_AS","as",1006],["T_WHITESPACE"," ",1006],["T_VARIABLE","$address",1006],")",["T_WHITESPACE"," ",1006],"{",["T_WHITESPACE","\n            ",1006],["T_IF","if",1007],["T_WHITESPACE"," ",1007],"(","!",["T_VARIABLE","$address",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","getId",1007],"(",")",")",["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n                ",1007],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","addCustomerAddress",1008],"(",["T_VARIABLE","$address",1008],")",";",["T_WHITESPACE","\n            ",1008],"}",["T_WHITESPACE","\n        ",1009],"}",["T_WHITESPACE","\n\n        ",1010],["T_RETURN","return",1012],["T_WHITESPACE"," ",1012],["T_VARIABLE","$this",1012],";",["T_WHITESPACE","\n    ",1012],"}",["T_WHITESPACE","\n\n    ",1013],["T_DOC_COMMENT","\/**\n     * Add address to the customer, created out of a Data Object\n     *\n     * TODO refactor in scope of MAGETWO-19930\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\AddressInterface $address\n     * @return $this\n     *\/",1015],["T_WHITESPACE","\n    ",1022],["T_PUBLIC","public",1023],["T_WHITESPACE"," ",1023],["T_FUNCTION","function",1023],["T_WHITESPACE"," ",1023],["T_STRING","addCustomerAddress",1023],"(",["T_NS_SEPARATOR","\\",1023],["T_STRING","Magento",1023],["T_NS_SEPARATOR","\\",1023],["T_STRING","Customer",1023],["T_NS_SEPARATOR","\\",1023],["T_STRING","Api",1023],["T_NS_SEPARATOR","\\",1023],["T_STRING","Data",1023],["T_NS_SEPARATOR","\\",1023],["T_STRING","AddressInterface",1023],["T_WHITESPACE"," ",1023],["T_VARIABLE","$address",1023],")",["T_WHITESPACE","\n    ",1023],"{",["T_WHITESPACE","\n        ",1024],["T_VARIABLE","$addresses",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_ARRAY_CAST","(array)",1025],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","getCustomer",1025],"(",")",["T_OBJECT_OPERATOR","->",1025],["T_STRING","getAddresses",1025],"(",")",";",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$addresses",1026],"[","]",["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_VARIABLE","$address",1026],";",["T_WHITESPACE","\n        ",1026],["T_VARIABLE","$this",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","getCustomer",1027],"(",")",["T_OBJECT_OPERATOR","->",1027],["T_STRING","setAddresses",1027],"(",["T_VARIABLE","$addresses",1027],")",";",["T_WHITESPACE","\n        ",1027],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","updateCustomerData",1028],"(",["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","customerRepository",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","save",1028],"(",["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","getCustomer",1028],"(",")",")",")",";",["T_WHITESPACE","\n        ",1028],["T_RETURN","return",1029],["T_WHITESPACE"," ",1029],["T_VARIABLE","$this",1029],";",["T_WHITESPACE","\n    ",1029],"}",["T_WHITESPACE","\n\n    ",1030],["T_DOC_COMMENT","\/**\n     * Update customer data object\n     *\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @return $this\n     *\/",1032],["T_WHITESPACE","\n    ",1037],["T_PUBLIC","public",1038],["T_WHITESPACE"," ",1038],["T_FUNCTION","function",1038],["T_WHITESPACE"," ",1038],["T_STRING","updateCustomerData",1038],"(",["T_NS_SEPARATOR","\\",1038],["T_STRING","Magento",1038],["T_NS_SEPARATOR","\\",1038],["T_STRING","Customer",1038],["T_NS_SEPARATOR","\\",1038],["T_STRING","Api",1038],["T_NS_SEPARATOR","\\",1038],["T_STRING","Data",1038],["T_NS_SEPARATOR","\\",1038],["T_STRING","CustomerInterface",1038],["T_WHITESPACE"," ",1038],["T_VARIABLE","$customer",1038],")",["T_WHITESPACE","\n    ",1038],"{",["T_WHITESPACE","\n        ",1039],["T_VARIABLE","$quoteCustomer",1040],["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],["T_VARIABLE","$this",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","getCustomer",1040],"(",")",";",["T_WHITESPACE","\n        ",1040],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","dataObjectHelper",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","mergeDataObjects",1041],"(",["T_STRING","get_class",1041],"(",["T_VARIABLE","$quoteCustomer",1041],")",",",["T_WHITESPACE"," ",1041],["T_VARIABLE","$quoteCustomer",1041],",",["T_WHITESPACE"," ",1041],["T_VARIABLE","$customer",1041],")",";",["T_WHITESPACE","\n        ",1041],["T_VARIABLE","$this",1042],["T_OBJECT_OPERATOR","->",1042],["T_STRING","setCustomer",1042],"(",["T_VARIABLE","$quoteCustomer",1042],")",";",["T_WHITESPACE","\n        ",1042],["T_RETURN","return",1043],["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],";",["T_WHITESPACE","\n    ",1043],"}",["T_WHITESPACE","\n\n    ",1044],["T_DOC_COMMENT","\/**\n     * Retrieve customer group id\n     *\n     * @return int\n     *\/",1046],["T_WHITESPACE","\n    ",1050],["T_PUBLIC","public",1051],["T_WHITESPACE"," ",1051],["T_FUNCTION","function",1051],["T_WHITESPACE"," ",1051],["T_STRING","getCustomerGroupId",1051],"(",")",["T_WHITESPACE","\n    ",1051],"{",["T_WHITESPACE","\n        ",1052],["T_IF","if",1053],["T_WHITESPACE"," ",1053],"(",["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","hasData",1053],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",1053],")",")",["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n            ",1053],["T_RETURN","return",1054],["T_WHITESPACE"," ",1054],["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","getData",1054],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",1054],")",";",["T_WHITESPACE","\n        ",1054],"}",["T_WHITESPACE"," ",1055],["T_ELSEIF","elseif",1055],["T_WHITESPACE"," ",1055],"(",["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","getCustomerId",1055],"(",")",")",["T_WHITESPACE"," ",1055],"{",["T_WHITESPACE","\n            ",1055],["T_RETURN","return",1056],["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","getCustomer",1056],"(",")",["T_OBJECT_OPERATOR","->",1056],["T_STRING","getGroupId",1056],"(",")",";",["T_WHITESPACE","\n        ",1056],"}",["T_WHITESPACE"," ",1057],["T_ELSE","else",1057],["T_WHITESPACE"," ",1057],"{",["T_WHITESPACE","\n            ",1057],["T_RETURN","return",1058],["T_WHITESPACE"," ",1058],["T_STRING","GroupInterface",1058],["T_DOUBLE_COLON","::",1058],["T_STRING","NOT_LOGGED_IN_ID",1058],";",["T_WHITESPACE","\n        ",1058],"}",["T_WHITESPACE","\n    ",1059],"}",["T_WHITESPACE","\n\n    ",1060],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1062],["T_WHITESPACE","\n    ",1064],["T_PUBLIC","public",1065],["T_WHITESPACE"," ",1065],["T_FUNCTION","function",1065],["T_WHITESPACE"," ",1065],["T_STRING","getCustomerTaxClassId",1065],"(",")",["T_WHITESPACE","\n    ",1065],"{",["T_WHITESPACE","\n        ",1066],["T_DOC_COMMENT","\/**\n         * tax class can vary at any time. so instead of using the value from session,\n         * we need to retrieve from db every time to get the correct tax class\n         *\/",1067],["T_WHITESPACE","\n        ",1070],["T_COMMENT","\/\/if (!$this->getData('customer_group_id') && !$this->getData('customer_tax_class_id')) {\n",1071],["T_WHITESPACE","        ",1072],["T_VARIABLE","$groupId",1072],["T_WHITESPACE"," ",1072],"=",["T_WHITESPACE"," ",1072],["T_VARIABLE","$this",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","getCustomerGroupId",1072],"(",")",";",["T_WHITESPACE","\n        ",1072],["T_IF","if",1073],["T_WHITESPACE"," ",1073],"(",["T_VARIABLE","$groupId",1073],["T_WHITESPACE"," ",1073],["T_IS_NOT_IDENTICAL","!==",1073],["T_WHITESPACE"," ",1073],["T_STRING","null",1073],")",["T_WHITESPACE"," ",1073],"{",["T_WHITESPACE","\n            ",1073],["T_VARIABLE","$taxClassId",1074],["T_WHITESPACE"," ",1074],"=",["T_WHITESPACE"," ",1074],["T_VARIABLE","$this",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","groupRepository",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","getById",1074],"(",["T_VARIABLE","$this",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","getCustomerGroupId",1074],"(",")",")",["T_OBJECT_OPERATOR","->",1074],["T_STRING","getTaxClassId",1074],"(",")",";",["T_WHITESPACE","\n            ",1074],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","setCustomerTaxClassId",1075],"(",["T_VARIABLE","$taxClassId",1075],")",";",["T_WHITESPACE","\n        ",1075],"}",["T_WHITESPACE","\n\n        ",1076],["T_RETURN","return",1078],["T_WHITESPACE"," ",1078],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","getData",1078],"(",["T_STRING","self",1078],["T_DOUBLE_COLON","::",1078],["T_STRING","KEY_CUSTOMER_TAX_CLASS_ID",1078],")",";",["T_WHITESPACE","\n    ",1078],"}",["T_WHITESPACE","\n\n    ",1079],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",1081],["T_WHITESPACE","\n    ",1083],["T_PUBLIC","public",1084],["T_WHITESPACE"," ",1084],["T_FUNCTION","function",1084],["T_WHITESPACE"," ",1084],["T_STRING","setCustomerTaxClassId",1084],"(",["T_VARIABLE","$customerTaxClassId",1084],")",["T_WHITESPACE","\n    ",1084],"{",["T_WHITESPACE","\n        ",1085],["T_RETURN","return",1086],["T_WHITESPACE"," ",1086],["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","setData",1086],"(",["T_STRING","self",1086],["T_DOUBLE_COLON","::",1086],["T_STRING","KEY_CUSTOMER_TAX_CLASS_ID",1086],",",["T_WHITESPACE"," ",1086],["T_VARIABLE","$customerTaxClassId",1086],")",";",["T_WHITESPACE","\n    ",1086],"}",["T_WHITESPACE","\n\n    ",1087],["T_DOC_COMMENT","\/**\n     * Retrieve quote address collection\n     *\n     * @return \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",1089],["T_WHITESPACE","\n    ",1093],["T_PUBLIC","public",1094],["T_WHITESPACE"," ",1094],["T_FUNCTION","function",1094],["T_WHITESPACE"," ",1094],["T_STRING","getAddressesCollection",1094],"(",")",["T_WHITESPACE","\n    ",1094],"{",["T_WHITESPACE","\n        ",1095],["T_IF","if",1096],["T_WHITESPACE"," ",1096],"(",["T_STRING","null",1096],["T_WHITESPACE"," ",1096],["T_IS_IDENTICAL","===",1096],["T_WHITESPACE"," ",1096],["T_VARIABLE","$this",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","_addresses",1096],")",["T_WHITESPACE"," ",1096],"{",["T_WHITESPACE","\n            ",1096],["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","_addresses",1097],["T_WHITESPACE"," ",1097],"=",["T_WHITESPACE"," ",1097],["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","_quoteAddressFactory",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","create",1097],"(",")",["T_OBJECT_OPERATOR","->",1097],["T_STRING","getCollection",1097],"(",")",["T_OBJECT_OPERATOR","->",1097],["T_STRING","setQuoteFilter",1097],"(",["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","getId",1097],"(",")",")",";",["T_WHITESPACE","\n\n            ",1097],["T_IF","if",1099],["T_WHITESPACE"," ",1099],"(",["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getId",1099],"(",")",")",["T_WHITESPACE"," ",1099],"{",["T_WHITESPACE","\n                ",1099],["T_FOREACH","foreach",1100],["T_WHITESPACE"," ",1100],"(",["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","_addresses",1100],["T_WHITESPACE"," ",1100],["T_AS","as",1100],["T_WHITESPACE"," ",1100],["T_VARIABLE","$address",1100],")",["T_WHITESPACE"," ",1100],"{",["T_WHITESPACE","\n                    ",1100],["T_VARIABLE","$address",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","setQuote",1101],"(",["T_VARIABLE","$this",1101],")",";",["T_WHITESPACE","\n                ",1101],"}",["T_WHITESPACE","\n            ",1102],"}",["T_WHITESPACE","\n        ",1103],"}",["T_WHITESPACE","\n        ",1104],["T_RETURN","return",1105],["T_WHITESPACE"," ",1105],["T_VARIABLE","$this",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","_addresses",1105],";",["T_WHITESPACE","\n    ",1105],"}",["T_WHITESPACE","\n\n    ",1106],["T_DOC_COMMENT","\/**\n     * Retrieve quote address by type\n     *\n     * @param   string $type\n     * @return  Address\n     *\/",1108],["T_WHITESPACE","\n    ",1113],["T_PROTECTED","protected",1114],["T_WHITESPACE"," ",1114],["T_FUNCTION","function",1114],["T_WHITESPACE"," ",1114],["T_STRING","_getAddressByType",1114],"(",["T_VARIABLE","$type",1114],")",["T_WHITESPACE","\n    ",1114],"{",["T_WHITESPACE","\n        ",1115],["T_FOREACH","foreach",1116],["T_WHITESPACE"," ",1116],"(",["T_VARIABLE","$this",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","getAddressesCollection",1116],"(",")",["T_WHITESPACE"," ",1116],["T_AS","as",1116],["T_WHITESPACE"," ",1116],["T_VARIABLE","$address",1116],")",["T_WHITESPACE"," ",1116],"{",["T_WHITESPACE","\n            ",1116],["T_IF","if",1117],["T_WHITESPACE"," ",1117],"(",["T_VARIABLE","$address",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","getAddressType",1117],"(",")",["T_WHITESPACE"," ",1117],["T_IS_EQUAL","==",1117],["T_WHITESPACE"," ",1117],["T_VARIABLE","$type",1117],["T_WHITESPACE"," ",1117],["T_BOOLEAN_AND","&&",1117],["T_WHITESPACE"," ",1117],"!",["T_VARIABLE","$address",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","isDeleted",1117],"(",")",")",["T_WHITESPACE"," ",1117],"{",["T_WHITESPACE","\n                ",1117],["T_RETURN","return",1118],["T_WHITESPACE"," ",1118],["T_VARIABLE","$address",1118],";",["T_WHITESPACE","\n            ",1118],"}",["T_WHITESPACE","\n        ",1119],"}",["T_WHITESPACE","\n\n        ",1120],["T_VARIABLE","$address",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_VARIABLE","$this",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","_quoteAddressFactory",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","create",1122],"(",")",["T_OBJECT_OPERATOR","->",1122],["T_STRING","setAddressType",1122],"(",["T_VARIABLE","$type",1122],")",";",["T_WHITESPACE","\n        ",1122],["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","addAddress",1123],"(",["T_VARIABLE","$address",1123],")",";",["T_WHITESPACE","\n        ",1123],["T_RETURN","return",1124],["T_WHITESPACE"," ",1124],["T_VARIABLE","$address",1124],";",["T_WHITESPACE","\n    ",1124],"}",["T_WHITESPACE","\n\n    ",1125],["T_DOC_COMMENT","\/**\n     * Retrieve quote billing address\n     *\n     * @return Address\n     *\/",1127],["T_WHITESPACE","\n    ",1131],["T_PUBLIC","public",1132],["T_WHITESPACE"," ",1132],["T_FUNCTION","function",1132],["T_WHITESPACE"," ",1132],["T_STRING","getBillingAddress",1132],"(",")",["T_WHITESPACE","\n    ",1132],"{",["T_WHITESPACE","\n        ",1133],["T_RETURN","return",1134],["T_WHITESPACE"," ",1134],["T_VARIABLE","$this",1134],["T_OBJECT_OPERATOR","->",1134],["T_STRING","_getAddressByType",1134],"(",["T_STRING","Address",1134],["T_DOUBLE_COLON","::",1134],["T_STRING","TYPE_BILLING",1134],")",";",["T_WHITESPACE","\n    ",1134],"}",["T_WHITESPACE","\n\n    ",1135],["T_DOC_COMMENT","\/**\n     * Retrieve quote shipping address\n     *\n     * @return Address\n     *\/",1137],["T_WHITESPACE","\n    ",1141],["T_PUBLIC","public",1142],["T_WHITESPACE"," ",1142],["T_FUNCTION","function",1142],["T_WHITESPACE"," ",1142],["T_STRING","getShippingAddress",1142],"(",")",["T_WHITESPACE","\n    ",1142],"{",["T_WHITESPACE","\n        ",1143],["T_RETURN","return",1144],["T_WHITESPACE"," ",1144],["T_VARIABLE","$this",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","_getAddressByType",1144],"(",["T_STRING","Address",1144],["T_DOUBLE_COLON","::",1144],["T_STRING","TYPE_SHIPPING",1144],")",";",["T_WHITESPACE","\n    ",1144],"}",["T_WHITESPACE","\n\n    ",1145],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",1147],["T_WHITESPACE","\n    ",1149],["T_PUBLIC","public",1150],["T_WHITESPACE"," ",1150],["T_FUNCTION","function",1150],["T_WHITESPACE"," ",1150],["T_STRING","getAllShippingAddresses",1150],"(",")",["T_WHITESPACE","\n    ",1150],"{",["T_WHITESPACE","\n        ",1151],["T_VARIABLE","$addresses",1152],["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],"[","]",";",["T_WHITESPACE","\n        ",1152],["T_FOREACH","foreach",1153],["T_WHITESPACE"," ",1153],"(",["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","getAddressesCollection",1153],"(",")",["T_WHITESPACE"," ",1153],["T_AS","as",1153],["T_WHITESPACE"," ",1153],["T_VARIABLE","$address",1153],")",["T_WHITESPACE"," ",1153],"{",["T_WHITESPACE","\n            ",1153],["T_IF","if",1154],["T_WHITESPACE"," ",1154],"(",["T_VARIABLE","$address",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","getAddressType",1154],"(",")",["T_WHITESPACE"," ",1154],["T_IS_EQUAL","==",1154],["T_WHITESPACE"," ",1154],["T_STRING","Address",1154],["T_DOUBLE_COLON","::",1154],["T_STRING","TYPE_SHIPPING",1154],["T_WHITESPACE"," ",1154],["T_BOOLEAN_AND","&&",1154],["T_WHITESPACE"," ",1154],"!",["T_VARIABLE","$address",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","isDeleted",1154],"(",")",")",["T_WHITESPACE"," ",1154],"{",["T_WHITESPACE","\n                ",1154],["T_VARIABLE","$addresses",1155],"[","]",["T_WHITESPACE"," ",1155],"=",["T_WHITESPACE"," ",1155],["T_VARIABLE","$address",1155],";",["T_WHITESPACE","\n            ",1155],"}",["T_WHITESPACE","\n        ",1156],"}",["T_WHITESPACE","\n        ",1157],["T_RETURN","return",1158],["T_WHITESPACE"," ",1158],["T_VARIABLE","$addresses",1158],";",["T_WHITESPACE","\n    ",1158],"}",["T_WHITESPACE","\n\n    ",1159],["T_DOC_COMMENT","\/**\n     * Get all quote addresses\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\\Address[]\n     *\/",1161],["T_WHITESPACE","\n    ",1165],["T_PUBLIC","public",1166],["T_WHITESPACE"," ",1166],["T_FUNCTION","function",1166],["T_WHITESPACE"," ",1166],["T_STRING","getAllAddresses",1166],"(",")",["T_WHITESPACE","\n    ",1166],"{",["T_WHITESPACE","\n        ",1167],["T_VARIABLE","$addresses",1168],["T_WHITESPACE"," ",1168],"=",["T_WHITESPACE"," ",1168],"[","]",";",["T_WHITESPACE","\n        ",1168],["T_FOREACH","foreach",1169],["T_WHITESPACE"," ",1169],"(",["T_VARIABLE","$this",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","getAddressesCollection",1169],"(",")",["T_WHITESPACE"," ",1169],["T_AS","as",1169],["T_WHITESPACE"," ",1169],["T_VARIABLE","$address",1169],")",["T_WHITESPACE"," ",1169],"{",["T_WHITESPACE","\n            ",1169],["T_IF","if",1170],["T_WHITESPACE"," ",1170],"(","!",["T_VARIABLE","$address",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","isDeleted",1170],"(",")",")",["T_WHITESPACE"," ",1170],"{",["T_WHITESPACE","\n                ",1170],["T_VARIABLE","$addresses",1171],"[","]",["T_WHITESPACE"," ",1171],"=",["T_WHITESPACE"," ",1171],["T_VARIABLE","$address",1171],";",["T_WHITESPACE","\n            ",1171],"}",["T_WHITESPACE","\n        ",1172],"}",["T_WHITESPACE","\n        ",1173],["T_RETURN","return",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$addresses",1174],";",["T_WHITESPACE","\n    ",1174],"}",["T_WHITESPACE","\n\n    ",1175],["T_DOC_COMMENT","\/**\n     *\n     * @param int $addressId\n     * @return Address|false\n     *\/",1177],["T_WHITESPACE","\n    ",1181],["T_PUBLIC","public",1182],["T_WHITESPACE"," ",1182],["T_FUNCTION","function",1182],["T_WHITESPACE"," ",1182],["T_STRING","getAddressById",1182],"(",["T_VARIABLE","$addressId",1182],")",["T_WHITESPACE","\n    ",1182],"{",["T_WHITESPACE","\n        ",1183],["T_FOREACH","foreach",1184],["T_WHITESPACE"," ",1184],"(",["T_VARIABLE","$this",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","getAddressesCollection",1184],"(",")",["T_WHITESPACE"," ",1184],["T_AS","as",1184],["T_WHITESPACE"," ",1184],["T_VARIABLE","$address",1184],")",["T_WHITESPACE"," ",1184],"{",["T_WHITESPACE","\n            ",1184],["T_IF","if",1185],["T_WHITESPACE"," ",1185],"(",["T_VARIABLE","$address",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","getId",1185],"(",")",["T_WHITESPACE"," ",1185],["T_IS_EQUAL","==",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$addressId",1185],")",["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n                ",1185],["T_RETURN","return",1186],["T_WHITESPACE"," ",1186],["T_VARIABLE","$address",1186],";",["T_WHITESPACE","\n            ",1186],"}",["T_WHITESPACE","\n        ",1187],"}",["T_WHITESPACE","\n        ",1188],["T_RETURN","return",1189],["T_WHITESPACE"," ",1189],["T_STRING","false",1189],";",["T_WHITESPACE","\n    ",1189],"}",["T_WHITESPACE","\n\n    ",1190],["T_DOC_COMMENT","\/**\n     * @param int|string $addressId\n     * @return Address|false\n     *\/",1192],["T_WHITESPACE","\n    ",1195],["T_PUBLIC","public",1196],["T_WHITESPACE"," ",1196],["T_FUNCTION","function",1196],["T_WHITESPACE"," ",1196],["T_STRING","getAddressByCustomerAddressId",1196],"(",["T_VARIABLE","$addressId",1196],")",["T_WHITESPACE","\n    ",1196],"{",["T_WHITESPACE","\n        ",1197],["T_FOREACH","foreach",1198],["T_WHITESPACE"," ",1198],"(",["T_VARIABLE","$this",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","getAddressesCollection",1198],"(",")",["T_WHITESPACE"," ",1198],["T_AS","as",1198],["T_WHITESPACE"," ",1198],["T_VARIABLE","$address",1198],")",["T_WHITESPACE"," ",1198],"{",["T_WHITESPACE","\n            ",1198],["T_IF","if",1199],["T_WHITESPACE"," ",1199],"(","!",["T_VARIABLE","$address",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","isDeleted",1199],"(",")",["T_WHITESPACE"," ",1199],["T_BOOLEAN_AND","&&",1199],["T_WHITESPACE"," ",1199],["T_VARIABLE","$address",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","getCustomerAddressId",1199],"(",")",["T_WHITESPACE"," ",1199],["T_IS_EQUAL","==",1199],["T_WHITESPACE"," ",1199],["T_VARIABLE","$addressId",1199],")",["T_WHITESPACE"," ",1199],"{",["T_WHITESPACE","\n                ",1199],["T_RETURN","return",1200],["T_WHITESPACE"," ",1200],["T_VARIABLE","$address",1200],";",["T_WHITESPACE","\n            ",1200],"}",["T_WHITESPACE","\n        ",1201],"}",["T_WHITESPACE","\n        ",1202],["T_RETURN","return",1203],["T_WHITESPACE"," ",1203],["T_STRING","false",1203],";",["T_WHITESPACE","\n    ",1203],"}",["T_WHITESPACE","\n\n    ",1204],["T_DOC_COMMENT","\/**\n     * Get quote address by customer address ID.\n     *\n     * @param int|string $addressId\n     * @return Address|false\n     *\/",1206],["T_WHITESPACE","\n    ",1211],["T_PUBLIC","public",1212],["T_WHITESPACE"," ",1212],["T_FUNCTION","function",1212],["T_WHITESPACE"," ",1212],["T_STRING","getShippingAddressByCustomerAddressId",1212],"(",["T_VARIABLE","$addressId",1212],")",["T_WHITESPACE","\n    ",1212],"{",["T_WHITESPACE","\n        ",1213],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address $address *\/",1214],["T_WHITESPACE","\n        ",1214],["T_FOREACH","foreach",1215],["T_WHITESPACE"," ",1215],"(",["T_VARIABLE","$this",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","getAddressesCollection",1215],"(",")",["T_WHITESPACE"," ",1215],["T_AS","as",1215],["T_WHITESPACE"," ",1215],["T_VARIABLE","$address",1215],")",["T_WHITESPACE"," ",1215],"{",["T_WHITESPACE","\n            ",1215],["T_IF","if",1216],["T_WHITESPACE"," ",1216],"(","!",["T_VARIABLE","$address",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","isDeleted",1216],"(",")",["T_WHITESPACE"," ",1216],["T_BOOLEAN_AND","&&",1216],["T_WHITESPACE","\n                ",1216],["T_VARIABLE","$address",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","getAddressType",1217],"(",")",["T_WHITESPACE"," ",1217],["T_IS_EQUAL","==",1217],["T_WHITESPACE"," ",1217],["T_STRING","Address",1217],["T_DOUBLE_COLON","::",1217],["T_STRING","TYPE_SHIPPING",1217],["T_WHITESPACE"," ",1217],["T_BOOLEAN_AND","&&",1217],["T_WHITESPACE","\n                ",1217],["T_VARIABLE","$address",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","getCustomerAddressId",1218],"(",")",["T_WHITESPACE"," ",1218],["T_IS_EQUAL","==",1218],["T_WHITESPACE"," ",1218],["T_VARIABLE","$addressId",1218],["T_WHITESPACE","\n            ",1218],")",["T_WHITESPACE"," ",1219],"{",["T_WHITESPACE","\n                ",1219],["T_RETURN","return",1220],["T_WHITESPACE"," ",1220],["T_VARIABLE","$address",1220],";",["T_WHITESPACE","\n            ",1220],"}",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n        ",1222],["T_RETURN","return",1223],["T_WHITESPACE"," ",1223],["T_STRING","false",1223],";",["T_WHITESPACE","\n    ",1223],"}",["T_WHITESPACE","\n\n    ",1224],["T_DOC_COMMENT","\/**\n     * @param int|string $addressId\n     * @return $this\n     *\/",1226],["T_WHITESPACE","\n    ",1229],["T_PUBLIC","public",1230],["T_WHITESPACE"," ",1230],["T_FUNCTION","function",1230],["T_WHITESPACE"," ",1230],["T_STRING","removeAddress",1230],"(",["T_VARIABLE","$addressId",1230],")",["T_WHITESPACE","\n    ",1230],"{",["T_WHITESPACE","\n        ",1231],["T_FOREACH","foreach",1232],["T_WHITESPACE"," ",1232],"(",["T_VARIABLE","$this",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","getAddressesCollection",1232],"(",")",["T_WHITESPACE"," ",1232],["T_AS","as",1232],["T_WHITESPACE"," ",1232],["T_VARIABLE","$address",1232],")",["T_WHITESPACE"," ",1232],"{",["T_WHITESPACE","\n            ",1232],["T_IF","if",1233],["T_WHITESPACE"," ",1233],"(",["T_VARIABLE","$address",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","getId",1233],"(",")",["T_WHITESPACE"," ",1233],["T_IS_EQUAL","==",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$addressId",1233],")",["T_WHITESPACE"," ",1233],"{",["T_WHITESPACE","\n                ",1233],["T_VARIABLE","$address",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","isDeleted",1234],"(",["T_STRING","true",1234],")",";",["T_WHITESPACE","\n                ",1234],["T_BREAK","break",1235],";",["T_WHITESPACE","\n            ",1235],"}",["T_WHITESPACE","\n        ",1236],"}",["T_WHITESPACE","\n        ",1237],["T_RETURN","return",1238],["T_WHITESPACE"," ",1238],["T_VARIABLE","$this",1238],";",["T_WHITESPACE","\n    ",1238],"}",["T_WHITESPACE","\n\n    ",1239],["T_DOC_COMMENT","\/**\n     * Leave no more than one billing and one shipping address, fill them with default data\n     *\n     * @return $this\n     *\/",1241],["T_WHITESPACE","\n    ",1245],["T_PUBLIC","public",1246],["T_WHITESPACE"," ",1246],["T_FUNCTION","function",1246],["T_WHITESPACE"," ",1246],["T_STRING","removeAllAddresses",1246],"(",")",["T_WHITESPACE","\n    ",1246],"{",["T_WHITESPACE","\n        ",1247],["T_VARIABLE","$addressByType",1248],["T_WHITESPACE"," ",1248],"=",["T_WHITESPACE"," ",1248],"[","]",";",["T_WHITESPACE","\n        ",1248],["T_VARIABLE","$addressesCollection",1249],["T_WHITESPACE"," ",1249],"=",["T_WHITESPACE"," ",1249],["T_VARIABLE","$this",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","getAddressesCollection",1249],"(",")",";",["T_WHITESPACE","\n\n        ",1249],["T_COMMENT","\/\/ mark all addresses as deleted\n",1251],["T_WHITESPACE","        ",1252],["T_FOREACH","foreach",1252],["T_WHITESPACE"," ",1252],"(",["T_VARIABLE","$addressesCollection",1252],["T_WHITESPACE"," ",1252],["T_AS","as",1252],["T_WHITESPACE"," ",1252],["T_VARIABLE","$address",1252],")",["T_WHITESPACE"," ",1252],"{",["T_WHITESPACE","\n            ",1252],["T_VARIABLE","$type",1253],["T_WHITESPACE"," ",1253],"=",["T_WHITESPACE"," ",1253],["T_VARIABLE","$address",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","getAddressType",1253],"(",")",";",["T_WHITESPACE","\n            ",1253],["T_IF","if",1254],["T_WHITESPACE"," ",1254],"(","!",["T_ISSET","isset",1254],"(",["T_VARIABLE","$addressByType",1254],"[",["T_VARIABLE","$type",1254],"]",")",["T_WHITESPACE"," ",1254],["T_BOOLEAN_OR","||",1254],["T_WHITESPACE"," ",1254],["T_VARIABLE","$addressByType",1254],"[",["T_VARIABLE","$type",1254],"]",["T_OBJECT_OPERATOR","->",1254],["T_STRING","getId",1254],"(",")",["T_WHITESPACE"," ",1254],">",["T_WHITESPACE"," ",1254],["T_VARIABLE","$address",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","getId",1254],"(",")",")",["T_WHITESPACE"," ",1254],"{",["T_WHITESPACE","\n                ",1254],["T_VARIABLE","$addressByType",1255],"[",["T_VARIABLE","$type",1255],"]",["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_VARIABLE","$address",1255],";",["T_WHITESPACE","\n            ",1255],"}",["T_WHITESPACE","\n            ",1256],["T_VARIABLE","$address",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","isDeleted",1257],"(",["T_STRING","true",1257],")",";",["T_WHITESPACE","\n        ",1257],"}",["T_WHITESPACE","\n\n        ",1258],["T_COMMENT","\/\/ create new billing and shipping addresses filled with default values, set this data to existing records\n",1260],["T_WHITESPACE","        ",1261],["T_FOREACH","foreach",1261],["T_WHITESPACE"," ",1261],"(",["T_VARIABLE","$addressByType",1261],["T_WHITESPACE"," ",1261],["T_AS","as",1261],["T_WHITESPACE"," ",1261],["T_VARIABLE","$type",1261],["T_WHITESPACE"," ",1261],["T_DOUBLE_ARROW","=>",1261],["T_WHITESPACE"," ",1261],["T_VARIABLE","$address",1261],")",["T_WHITESPACE"," ",1261],"{",["T_WHITESPACE","\n            ",1261],["T_VARIABLE","$id",1262],["T_WHITESPACE"," ",1262],"=",["T_WHITESPACE"," ",1262],["T_VARIABLE","$address",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","getId",1262],"(",")",";",["T_WHITESPACE","\n            ",1262],["T_VARIABLE","$emptyAddress",1263],["T_WHITESPACE"," ",1263],"=",["T_WHITESPACE"," ",1263],["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","_getAddressByType",1263],"(",["T_VARIABLE","$type",1263],")",";",["T_WHITESPACE","\n            ",1263],["T_VARIABLE","$address",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","setData",1264],"(",["T_VARIABLE","$emptyAddress",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","getData",1264],"(",")",")",["T_OBJECT_OPERATOR","->",1264],["T_STRING","setId",1264],"(",["T_VARIABLE","$id",1264],")",["T_OBJECT_OPERATOR","->",1264],["T_STRING","isDeleted",1264],"(",["T_STRING","false",1264],")",";",["T_WHITESPACE","\n            ",1264],["T_VARIABLE","$emptyAddress",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","setDeleteImmediately",1265],"(",["T_STRING","true",1265],")",";",["T_WHITESPACE","\n        ",1265],"}",["T_WHITESPACE","\n\n        ",1266],["T_COMMENT","\/\/ remove newly created billing and shipping addresses from collection to avoid senseless delete queries\n",1268],["T_WHITESPACE","        ",1269],["T_FOREACH","foreach",1269],["T_WHITESPACE"," ",1269],"(",["T_VARIABLE","$addressesCollection",1269],["T_WHITESPACE"," ",1269],["T_AS","as",1269],["T_WHITESPACE"," ",1269],["T_VARIABLE","$key",1269],["T_WHITESPACE"," ",1269],["T_DOUBLE_ARROW","=>",1269],["T_WHITESPACE"," ",1269],["T_VARIABLE","$item",1269],")",["T_WHITESPACE"," ",1269],"{",["T_WHITESPACE","\n            ",1269],["T_IF","if",1270],["T_WHITESPACE"," ",1270],"(",["T_VARIABLE","$item",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","getDeleteImmediately",1270],"(",")",")",["T_WHITESPACE"," ",1270],"{",["T_WHITESPACE","\n                ",1270],["T_VARIABLE","$addressesCollection",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","removeItemByKey",1271],"(",["T_VARIABLE","$key",1271],")",";",["T_WHITESPACE","\n            ",1271],"}",["T_WHITESPACE","\n        ",1272],"}",["T_WHITESPACE","\n\n        ",1273],["T_RETURN","return",1275],["T_WHITESPACE"," ",1275],["T_VARIABLE","$this",1275],";",["T_WHITESPACE","\n    ",1275],"}",["T_WHITESPACE","\n\n    ",1276],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Api\\Data\\AddressInterface $address\n     * @return $this\n     *\/",1278],["T_WHITESPACE","\n    ",1281],["T_PUBLIC","public",1282],["T_WHITESPACE"," ",1282],["T_FUNCTION","function",1282],["T_WHITESPACE"," ",1282],["T_STRING","addAddress",1282],"(",["T_NS_SEPARATOR","\\",1282],["T_STRING","Magento",1282],["T_NS_SEPARATOR","\\",1282],["T_STRING","Quote",1282],["T_NS_SEPARATOR","\\",1282],["T_STRING","Api",1282],["T_NS_SEPARATOR","\\",1282],["T_STRING","Data",1282],["T_NS_SEPARATOR","\\",1282],["T_STRING","AddressInterface",1282],["T_WHITESPACE"," ",1282],["T_VARIABLE","$address",1282],")",["T_WHITESPACE","\n    ",1282],"{",["T_WHITESPACE","\n        ",1283],["T_VARIABLE","$address",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","setQuote",1284],"(",["T_VARIABLE","$this",1284],")",";",["T_WHITESPACE","\n        ",1284],["T_IF","if",1285],["T_WHITESPACE"," ",1285],"(","!",["T_VARIABLE","$address",1285],["T_OBJECT_OPERATOR","->",1285],["T_STRING","getId",1285],"(",")",")",["T_WHITESPACE"," ",1285],"{",["T_WHITESPACE","\n            ",1285],["T_VARIABLE","$this",1286],["T_OBJECT_OPERATOR","->",1286],["T_STRING","getAddressesCollection",1286],"(",")",["T_OBJECT_OPERATOR","->",1286],["T_STRING","addItem",1286],"(",["T_VARIABLE","$address",1286],")",";",["T_WHITESPACE","\n        ",1286],"}",["T_WHITESPACE","\n        ",1287],["T_RETURN","return",1288],["T_WHITESPACE"," ",1288],["T_VARIABLE","$this",1288],";",["T_WHITESPACE","\n    ",1288],"}",["T_WHITESPACE","\n\n    ",1289],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Api\\Data\\AddressInterface $address\n     * @return $this\n     *\/",1291],["T_WHITESPACE","\n    ",1294],["T_PUBLIC","public",1295],["T_WHITESPACE"," ",1295],["T_FUNCTION","function",1295],["T_WHITESPACE"," ",1295],["T_STRING","setBillingAddress",1295],"(",["T_NS_SEPARATOR","\\",1295],["T_STRING","Magento",1295],["T_NS_SEPARATOR","\\",1295],["T_STRING","Quote",1295],["T_NS_SEPARATOR","\\",1295],["T_STRING","Api",1295],["T_NS_SEPARATOR","\\",1295],["T_STRING","Data",1295],["T_NS_SEPARATOR","\\",1295],["T_STRING","AddressInterface",1295],["T_WHITESPACE"," ",1295],["T_VARIABLE","$address",1295],["T_WHITESPACE"," ",1295],"=",["T_WHITESPACE"," ",1295],["T_STRING","null",1295],")",["T_WHITESPACE","\n    ",1295],"{",["T_WHITESPACE","\n        ",1296],["T_VARIABLE","$old",1297],["T_WHITESPACE"," ",1297],"=",["T_WHITESPACE"," ",1297],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","getBillingAddress",1297],"(",")",";",["T_WHITESPACE","\n\n        ",1297],["T_IF","if",1299],["T_WHITESPACE"," ",1299],"(","!",["T_EMPTY","empty",1299],"(",["T_VARIABLE","$old",1299],")",")",["T_WHITESPACE"," ",1299],"{",["T_WHITESPACE","\n            ",1299],["T_VARIABLE","$old",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","addData",1300],"(",["T_VARIABLE","$address",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","getData",1300],"(",")",")",";",["T_WHITESPACE","\n        ",1300],"}",["T_WHITESPACE"," ",1301],["T_ELSE","else",1301],["T_WHITESPACE"," ",1301],"{",["T_WHITESPACE","\n            ",1301],["T_VARIABLE","$this",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","addAddress",1302],"(",["T_VARIABLE","$address",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","setAddressType",1302],"(",["T_STRING","Address",1302],["T_DOUBLE_COLON","::",1302],["T_STRING","TYPE_BILLING",1302],")",")",";",["T_WHITESPACE","\n        ",1302],"}",["T_WHITESPACE","\n        ",1303],["T_RETURN","return",1304],["T_WHITESPACE"," ",1304],["T_VARIABLE","$this",1304],";",["T_WHITESPACE","\n    ",1304],"}",["T_WHITESPACE","\n\n    ",1305],["T_DOC_COMMENT","\/**\n     * Set shipping address\n     *\n     * @param \\Magento\\Quote\\Api\\Data\\AddressInterface $address\n     * @return $this\n     *\/",1307],["T_WHITESPACE","\n    ",1312],["T_PUBLIC","public",1313],["T_WHITESPACE"," ",1313],["T_FUNCTION","function",1313],["T_WHITESPACE"," ",1313],["T_STRING","setShippingAddress",1313],"(",["T_NS_SEPARATOR","\\",1313],["T_STRING","Magento",1313],["T_NS_SEPARATOR","\\",1313],["T_STRING","Quote",1313],["T_NS_SEPARATOR","\\",1313],["T_STRING","Api",1313],["T_NS_SEPARATOR","\\",1313],["T_STRING","Data",1313],["T_NS_SEPARATOR","\\",1313],["T_STRING","AddressInterface",1313],["T_WHITESPACE"," ",1313],["T_VARIABLE","$address",1313],["T_WHITESPACE"," ",1313],"=",["T_WHITESPACE"," ",1313],["T_STRING","null",1313],")",["T_WHITESPACE","\n    ",1313],"{",["T_WHITESPACE","\n        ",1314],["T_IF","if",1315],["T_WHITESPACE"," ",1315],"(",["T_VARIABLE","$this",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","getIsMultiShipping",1315],"(",")",")",["T_WHITESPACE"," ",1315],"{",["T_WHITESPACE","\n            ",1315],["T_VARIABLE","$this",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","addAddress",1316],"(",["T_VARIABLE","$address",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","setAddressType",1316],"(",["T_STRING","Address",1316],["T_DOUBLE_COLON","::",1316],["T_STRING","TYPE_SHIPPING",1316],")",")",";",["T_WHITESPACE","\n        ",1316],"}",["T_WHITESPACE"," ",1317],["T_ELSE","else",1317],["T_WHITESPACE"," ",1317],"{",["T_WHITESPACE","\n            ",1317],["T_VARIABLE","$old",1318],["T_WHITESPACE"," ",1318],"=",["T_WHITESPACE"," ",1318],["T_VARIABLE","$this",1318],["T_OBJECT_OPERATOR","->",1318],["T_STRING","getShippingAddress",1318],"(",")",";",["T_WHITESPACE","\n            ",1318],["T_IF","if",1319],["T_WHITESPACE"," ",1319],"(","!",["T_EMPTY","empty",1319],"(",["T_VARIABLE","$old",1319],")",")",["T_WHITESPACE"," ",1319],"{",["T_WHITESPACE","\n                ",1319],["T_VARIABLE","$old",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","addData",1320],"(",["T_VARIABLE","$address",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","getData",1320],"(",")",")",";",["T_WHITESPACE","\n            ",1320],"}",["T_WHITESPACE"," ",1321],["T_ELSE","else",1321],["T_WHITESPACE"," ",1321],"{",["T_WHITESPACE","\n                ",1321],["T_VARIABLE","$this",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","addAddress",1322],"(",["T_VARIABLE","$address",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","setAddressType",1322],"(",["T_STRING","Address",1322],["T_DOUBLE_COLON","::",1322],["T_STRING","TYPE_SHIPPING",1322],")",")",";",["T_WHITESPACE","\n            ",1322],"}",["T_WHITESPACE","\n        ",1323],"}",["T_WHITESPACE","\n        ",1324],["T_RETURN","return",1325],["T_WHITESPACE"," ",1325],["T_VARIABLE","$this",1325],";",["T_WHITESPACE","\n    ",1325],"}",["T_WHITESPACE","\n\n    ",1326],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Quote\\Api\\Data\\AddressInterface $address\n     * @return $this\n     *\/",1328],["T_WHITESPACE","\n    ",1331],["T_PUBLIC","public",1332],["T_WHITESPACE"," ",1332],["T_FUNCTION","function",1332],["T_WHITESPACE"," ",1332],["T_STRING","addShippingAddress",1332],"(",["T_NS_SEPARATOR","\\",1332],["T_STRING","Magento",1332],["T_NS_SEPARATOR","\\",1332],["T_STRING","Quote",1332],["T_NS_SEPARATOR","\\",1332],["T_STRING","Api",1332],["T_NS_SEPARATOR","\\",1332],["T_STRING","Data",1332],["T_NS_SEPARATOR","\\",1332],["T_STRING","AddressInterface",1332],["T_WHITESPACE"," ",1332],["T_VARIABLE","$address",1332],")",["T_WHITESPACE","\n    ",1332],"{",["T_WHITESPACE","\n        ",1333],["T_VARIABLE","$this",1334],["T_OBJECT_OPERATOR","->",1334],["T_STRING","setShippingAddress",1334],"(",["T_VARIABLE","$address",1334],")",";",["T_WHITESPACE","\n        ",1334],["T_RETURN","return",1335],["T_WHITESPACE"," ",1335],["T_VARIABLE","$this",1335],";",["T_WHITESPACE","\n    ",1335],"}",["T_WHITESPACE","\n\n    ",1336],["T_DOC_COMMENT","\/**\n     * Retrieve quote items collection\n     *\n     * @param bool $useCache\n     * @return  \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1338],["T_WHITESPACE","\n    ",1344],["T_PUBLIC","public",1345],["T_WHITESPACE"," ",1345],["T_FUNCTION","function",1345],["T_WHITESPACE"," ",1345],["T_STRING","getItemsCollection",1345],"(",["T_VARIABLE","$useCache",1345],["T_WHITESPACE"," ",1345],"=",["T_WHITESPACE"," ",1345],["T_STRING","true",1345],")",["T_WHITESPACE","\n    ",1345],"{",["T_WHITESPACE","\n        ",1346],["T_IF","if",1347],["T_WHITESPACE"," ",1347],"(",["T_VARIABLE","$this",1347],["T_OBJECT_OPERATOR","->",1347],["T_STRING","hasItemsCollection",1347],"(",")",")",["T_WHITESPACE"," ",1347],"{",["T_WHITESPACE","\n            ",1347],["T_RETURN","return",1348],["T_WHITESPACE"," ",1348],["T_VARIABLE","$this",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","getData",1348],"(",["T_CONSTANT_ENCAPSED_STRING","'items_collection'",1348],")",";",["T_WHITESPACE","\n        ",1348],"}",["T_WHITESPACE","\n        ",1349],["T_IF","if",1350],["T_WHITESPACE"," ",1350],"(",["T_STRING","null",1350],["T_WHITESPACE"," ",1350],["T_IS_IDENTICAL","===",1350],["T_WHITESPACE"," ",1350],["T_VARIABLE","$this",1350],["T_OBJECT_OPERATOR","->",1350],["T_STRING","_items",1350],")",["T_WHITESPACE"," ",1350],"{",["T_WHITESPACE","\n            ",1350],["T_VARIABLE","$this",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","_items",1351],["T_WHITESPACE"," ",1351],"=",["T_WHITESPACE"," ",1351],["T_VARIABLE","$this",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","_quoteItemCollectionFactory",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","create",1351],"(",")",";",["T_WHITESPACE","\n            ",1351],["T_VARIABLE","$this",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","extensionAttributesJoinProcessor",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","process",1352],"(",["T_VARIABLE","$this",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","_items",1352],")",";",["T_WHITESPACE","\n            ",1352],["T_VARIABLE","$this",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","_items",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","setQuote",1353],"(",["T_VARIABLE","$this",1353],")",";",["T_WHITESPACE","\n        ",1353],"}",["T_WHITESPACE","\n        ",1354],["T_RETURN","return",1355],["T_WHITESPACE"," ",1355],["T_VARIABLE","$this",1355],["T_OBJECT_OPERATOR","->",1355],["T_STRING","_items",1355],";",["T_WHITESPACE","\n    ",1355],"}",["T_WHITESPACE","\n\n    ",1356],["T_DOC_COMMENT","\/**\n     * Retrieve quote items array\n     *\n     * @return array\n     *\/",1358],["T_WHITESPACE","\n    ",1362],["T_PUBLIC","public",1363],["T_WHITESPACE"," ",1363],["T_FUNCTION","function",1363],["T_WHITESPACE"," ",1363],["T_STRING","getAllItems",1363],"(",")",["T_WHITESPACE","\n    ",1363],"{",["T_WHITESPACE","\n        ",1364],["T_VARIABLE","$items",1365],["T_WHITESPACE"," ",1365],"=",["T_WHITESPACE"," ",1365],"[","]",";",["T_WHITESPACE","\n        ",1365],["T_FOREACH","foreach",1366],["T_WHITESPACE"," ",1366],"(",["T_VARIABLE","$this",1366],["T_OBJECT_OPERATOR","->",1366],["T_STRING","getItemsCollection",1366],"(",")",["T_WHITESPACE"," ",1366],["T_AS","as",1366],["T_WHITESPACE"," ",1366],["T_VARIABLE","$item",1366],")",["T_WHITESPACE"," ",1366],"{",["T_WHITESPACE","\n            ",1366],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Item $item *\/",1367],["T_WHITESPACE","\n            ",1367],["T_IF","if",1368],["T_WHITESPACE"," ",1368],"(","!",["T_VARIABLE","$item",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","isDeleted",1368],"(",")",")",["T_WHITESPACE"," ",1368],"{",["T_WHITESPACE","\n                ",1368],["T_VARIABLE","$items",1369],"[","]",["T_WHITESPACE"," ",1369],"=",["T_WHITESPACE"," ",1369],["T_VARIABLE","$item",1369],";",["T_WHITESPACE","\n            ",1369],"}",["T_WHITESPACE","\n        ",1370],"}",["T_WHITESPACE","\n        ",1371],["T_RETURN","return",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$items",1372],";",["T_WHITESPACE","\n    ",1372],"}",["T_WHITESPACE","\n\n    ",1373],["T_DOC_COMMENT","\/**\n     * Get array of all items what can be display directly\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\\Item[]\n     *\/",1375],["T_WHITESPACE","\n    ",1379],["T_PUBLIC","public",1380],["T_WHITESPACE"," ",1380],["T_FUNCTION","function",1380],["T_WHITESPACE"," ",1380],["T_STRING","getAllVisibleItems",1380],"(",")",["T_WHITESPACE","\n    ",1380],"{",["T_WHITESPACE","\n        ",1381],["T_VARIABLE","$items",1382],["T_WHITESPACE"," ",1382],"=",["T_WHITESPACE"," ",1382],"[","]",";",["T_WHITESPACE","\n        ",1382],["T_FOREACH","foreach",1383],["T_WHITESPACE"," ",1383],"(",["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","getItemsCollection",1383],"(",")",["T_WHITESPACE"," ",1383],["T_AS","as",1383],["T_WHITESPACE"," ",1383],["T_VARIABLE","$item",1383],")",["T_WHITESPACE"," ",1383],"{",["T_WHITESPACE","\n            ",1383],["T_IF","if",1384],["T_WHITESPACE"," ",1384],"(","!",["T_VARIABLE","$item",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","isDeleted",1384],"(",")",["T_WHITESPACE"," ",1384],["T_BOOLEAN_AND","&&",1384],["T_WHITESPACE"," ",1384],"!",["T_VARIABLE","$item",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","getParentItemId",1384],"(",")",")",["T_WHITESPACE"," ",1384],"{",["T_WHITESPACE","\n                ",1384],["T_VARIABLE","$items",1385],"[","]",["T_WHITESPACE"," ",1385],"=",["T_WHITESPACE"," ",1385],["T_VARIABLE","$item",1385],";",["T_WHITESPACE","\n            ",1385],"}",["T_WHITESPACE","\n        ",1386],"}",["T_WHITESPACE","\n        ",1387],["T_RETURN","return",1388],["T_WHITESPACE"," ",1388],["T_VARIABLE","$items",1388],";",["T_WHITESPACE","\n    ",1388],"}",["T_WHITESPACE","\n\n    ",1389],["T_DOC_COMMENT","\/**\n     * Checking items availability\n     *\n     * @return bool\n     *\/",1391],["T_WHITESPACE","\n    ",1395],["T_PUBLIC","public",1396],["T_WHITESPACE"," ",1396],["T_FUNCTION","function",1396],["T_WHITESPACE"," ",1396],["T_STRING","hasItems",1396],"(",")",["T_WHITESPACE","\n    ",1396],"{",["T_WHITESPACE","\n        ",1397],["T_RETURN","return",1398],["T_WHITESPACE"," ",1398],["T_STRING","sizeof",1398],"(",["T_VARIABLE","$this",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","getAllItems",1398],"(",")",")",["T_WHITESPACE"," ",1398],">",["T_WHITESPACE"," ",1398],["T_LNUMBER","0",1398],";",["T_WHITESPACE","\n    ",1398],"}",["T_WHITESPACE","\n\n    ",1399],["T_DOC_COMMENT","\/**\n     * Checking availability of items with decimal qty\n     *\n     * @return bool\n     *\/",1401],["T_WHITESPACE","\n    ",1405],["T_PUBLIC","public",1406],["T_WHITESPACE"," ",1406],["T_FUNCTION","function",1406],["T_WHITESPACE"," ",1406],["T_STRING","hasItemsWithDecimalQty",1406],"(",")",["T_WHITESPACE","\n    ",1406],"{",["T_WHITESPACE","\n        ",1407],["T_FOREACH","foreach",1408],["T_WHITESPACE"," ",1408],"(",["T_VARIABLE","$this",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","getAllItems",1408],"(",")",["T_WHITESPACE"," ",1408],["T_AS","as",1408],["T_WHITESPACE"," ",1408],["T_VARIABLE","$item",1408],")",["T_WHITESPACE"," ",1408],"{",["T_WHITESPACE","\n            ",1408],["T_VARIABLE","$stockItemDo",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_VARIABLE","$this",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","stockRegistry",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","getStockItem",1409],"(",["T_WHITESPACE","\n                ",1409],["T_VARIABLE","$item",1410],["T_OBJECT_OPERATOR","->",1410],["T_STRING","getProduct",1410],"(",")",["T_OBJECT_OPERATOR","->",1410],["T_STRING","getId",1410],"(",")",",",["T_WHITESPACE","\n                ",1410],["T_VARIABLE","$item",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","getStore",1411],"(",")",["T_OBJECT_OPERATOR","->",1411],["T_STRING","getWebsiteId",1411],"(",")",["T_WHITESPACE","\n            ",1411],")",";",["T_WHITESPACE","\n            ",1412],["T_IF","if",1413],["T_WHITESPACE"," ",1413],"(",["T_VARIABLE","$stockItemDo",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","getItemId",1413],"(",")",["T_WHITESPACE"," ",1413],["T_BOOLEAN_AND","&&",1413],["T_WHITESPACE"," ",1413],["T_VARIABLE","$stockItemDo",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","getIsQtyDecimal",1413],"(",")",")",["T_WHITESPACE"," ",1413],"{",["T_WHITESPACE","\n                ",1413],["T_RETURN","return",1414],["T_WHITESPACE"," ",1414],["T_STRING","true",1414],";",["T_WHITESPACE","\n            ",1414],"}",["T_WHITESPACE","\n        ",1415],"}",["T_WHITESPACE","\n        ",1416],["T_RETURN","return",1417],["T_WHITESPACE"," ",1417],["T_STRING","false",1417],";",["T_WHITESPACE","\n    ",1417],"}",["T_WHITESPACE","\n\n    ",1418],["T_DOC_COMMENT","\/**\n     * Checking product exist in Quote\n     *\n     * @param int $productId\n     * @return bool\n     *\/",1420],["T_WHITESPACE","\n    ",1425],["T_PUBLIC","public",1426],["T_WHITESPACE"," ",1426],["T_FUNCTION","function",1426],["T_WHITESPACE"," ",1426],["T_STRING","hasProductId",1426],"(",["T_VARIABLE","$productId",1426],")",["T_WHITESPACE","\n    ",1426],"{",["T_WHITESPACE","\n        ",1427],["T_FOREACH","foreach",1428],["T_WHITESPACE"," ",1428],"(",["T_VARIABLE","$this",1428],["T_OBJECT_OPERATOR","->",1428],["T_STRING","getAllItems",1428],"(",")",["T_WHITESPACE"," ",1428],["T_AS","as",1428],["T_WHITESPACE"," ",1428],["T_VARIABLE","$item",1428],")",["T_WHITESPACE"," ",1428],"{",["T_WHITESPACE","\n            ",1428],["T_IF","if",1429],["T_WHITESPACE"," ",1429],"(",["T_VARIABLE","$item",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","getProductId",1429],"(",")",["T_WHITESPACE"," ",1429],["T_IS_EQUAL","==",1429],["T_WHITESPACE"," ",1429],["T_VARIABLE","$productId",1429],")",["T_WHITESPACE"," ",1429],"{",["T_WHITESPACE","\n                ",1429],["T_RETURN","return",1430],["T_WHITESPACE"," ",1430],["T_STRING","true",1430],";",["T_WHITESPACE","\n            ",1430],"}",["T_WHITESPACE","\n        ",1431],"}",["T_WHITESPACE","\n\n        ",1432],["T_RETURN","return",1434],["T_WHITESPACE"," ",1434],["T_STRING","false",1434],";",["T_WHITESPACE","\n    ",1434],"}",["T_WHITESPACE","\n\n    ",1435],["T_DOC_COMMENT","\/**\n     * Retrieve item model object by item identifier\n     *\n     * @param   int $itemId\n     * @return  \\Magento\\Quote\\Model\\Quote\\Item\n     *\/",1437],["T_WHITESPACE","\n    ",1442],["T_PUBLIC","public",1443],["T_WHITESPACE"," ",1443],["T_FUNCTION","function",1443],["T_WHITESPACE"," ",1443],["T_STRING","getItemById",1443],"(",["T_VARIABLE","$itemId",1443],")",["T_WHITESPACE","\n    ",1443],"{",["T_WHITESPACE","\n        ",1444],["T_RETURN","return",1445],["T_WHITESPACE"," ",1445],["T_VARIABLE","$this",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","getItemsCollection",1445],"(",")",["T_OBJECT_OPERATOR","->",1445],["T_STRING","getItemById",1445],"(",["T_VARIABLE","$itemId",1445],")",";",["T_WHITESPACE","\n    ",1445],"}",["T_WHITESPACE","\n\n    ",1446],["T_DOC_COMMENT","\/**\n     * Delete quote item. If it does not have identifier then it will be only removed from collection\n     *\n     * @param   \\Magento\\Quote\\Model\\Quote\\Item $item\n     * @return $this\n     *\/",1448],["T_WHITESPACE","\n    ",1453],["T_PUBLIC","public",1454],["T_WHITESPACE"," ",1454],["T_FUNCTION","function",1454],["T_WHITESPACE"," ",1454],["T_STRING","deleteItem",1454],"(",["T_NS_SEPARATOR","\\",1454],["T_STRING","Magento",1454],["T_NS_SEPARATOR","\\",1454],["T_STRING","Quote",1454],["T_NS_SEPARATOR","\\",1454],["T_STRING","Model",1454],["T_NS_SEPARATOR","\\",1454],["T_STRING","Quote",1454],["T_NS_SEPARATOR","\\",1454],["T_STRING","Item",1454],["T_WHITESPACE"," ",1454],["T_VARIABLE","$item",1454],")",["T_WHITESPACE","\n    ",1454],"{",["T_WHITESPACE","\n        ",1455],["T_IF","if",1456],["T_WHITESPACE"," ",1456],"(",["T_VARIABLE","$item",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","getId",1456],"(",")",")",["T_WHITESPACE"," ",1456],"{",["T_WHITESPACE","\n            ",1456],["T_VARIABLE","$this",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","removeItem",1457],"(",["T_VARIABLE","$item",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","getId",1457],"(",")",")",";",["T_WHITESPACE","\n        ",1457],"}",["T_WHITESPACE"," ",1458],["T_ELSE","else",1458],["T_WHITESPACE"," ",1458],"{",["T_WHITESPACE","\n            ",1458],["T_VARIABLE","$quoteItems",1459],["T_WHITESPACE"," ",1459],"=",["T_WHITESPACE"," ",1459],["T_VARIABLE","$this",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","getItemsCollection",1459],"(",")",";",["T_WHITESPACE","\n            ",1459],["T_VARIABLE","$items",1460],["T_WHITESPACE"," ",1460],"=",["T_WHITESPACE"," ",1460],"[",["T_VARIABLE","$item",1460],"]",";",["T_WHITESPACE","\n            ",1460],["T_IF","if",1461],["T_WHITESPACE"," ",1461],"(",["T_VARIABLE","$item",1461],["T_OBJECT_OPERATOR","->",1461],["T_STRING","getHasChildren",1461],"(",")",")",["T_WHITESPACE"," ",1461],"{",["T_WHITESPACE","\n                ",1461],["T_FOREACH","foreach",1462],["T_WHITESPACE"," ",1462],"(",["T_VARIABLE","$item",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","getChildren",1462],"(",")",["T_WHITESPACE"," ",1462],["T_AS","as",1462],["T_WHITESPACE"," ",1462],["T_VARIABLE","$child",1462],")",["T_WHITESPACE"," ",1462],"{",["T_WHITESPACE","\n                    ",1462],["T_VARIABLE","$items",1463],"[","]",["T_WHITESPACE"," ",1463],"=",["T_WHITESPACE"," ",1463],["T_VARIABLE","$child",1463],";",["T_WHITESPACE","\n                ",1463],"}",["T_WHITESPACE","\n            ",1464],"}",["T_WHITESPACE","\n            ",1465],["T_FOREACH","foreach",1466],["T_WHITESPACE"," ",1466],"(",["T_VARIABLE","$quoteItems",1466],["T_WHITESPACE"," ",1466],["T_AS","as",1466],["T_WHITESPACE"," ",1466],["T_VARIABLE","$key",1466],["T_WHITESPACE"," ",1466],["T_DOUBLE_ARROW","=>",1466],["T_WHITESPACE"," ",1466],["T_VARIABLE","$quoteItem",1466],")",["T_WHITESPACE"," ",1466],"{",["T_WHITESPACE","\n                ",1466],["T_FOREACH","foreach",1467],["T_WHITESPACE"," ",1467],"(",["T_VARIABLE","$items",1467],["T_WHITESPACE"," ",1467],["T_AS","as",1467],["T_WHITESPACE"," ",1467],["T_VARIABLE","$item",1467],")",["T_WHITESPACE"," ",1467],"{",["T_WHITESPACE","\n                    ",1467],["T_IF","if",1468],["T_WHITESPACE"," ",1468],"(",["T_VARIABLE","$quoteItem",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","compare",1468],"(",["T_VARIABLE","$item",1468],")",")",["T_WHITESPACE"," ",1468],"{",["T_WHITESPACE","\n                        ",1468],["T_VARIABLE","$quoteItems",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","removeItemByKey",1469],"(",["T_VARIABLE","$key",1469],")",";",["T_WHITESPACE","\n                    ",1469],"}",["T_WHITESPACE","\n                ",1470],"}",["T_WHITESPACE","\n            ",1471],"}",["T_WHITESPACE","\n        ",1472],"}",["T_WHITESPACE","\n\n        ",1473],["T_RETURN","return",1475],["T_WHITESPACE"," ",1475],["T_VARIABLE","$this",1475],";",["T_WHITESPACE","\n    ",1475],"}",["T_WHITESPACE","\n\n    ",1476],["T_DOC_COMMENT","\/**\n     * Remove quote item by item identifier\n     *\n     * @param   int $itemId\n     * @return $this\n     *\/",1478],["T_WHITESPACE","\n    ",1483],["T_PUBLIC","public",1484],["T_WHITESPACE"," ",1484],["T_FUNCTION","function",1484],["T_WHITESPACE"," ",1484],["T_STRING","removeItem",1484],"(",["T_VARIABLE","$itemId",1484],")",["T_WHITESPACE","\n    ",1484],"{",["T_WHITESPACE","\n        ",1485],["T_VARIABLE","$item",1486],["T_WHITESPACE"," ",1486],"=",["T_WHITESPACE"," ",1486],["T_VARIABLE","$this",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","getItemById",1486],"(",["T_VARIABLE","$itemId",1486],")",";",["T_WHITESPACE","\n\n        ",1486],["T_IF","if",1488],["T_WHITESPACE"," ",1488],"(",["T_VARIABLE","$item",1488],")",["T_WHITESPACE"," ",1488],"{",["T_WHITESPACE","\n            ",1488],["T_VARIABLE","$item",1489],["T_OBJECT_OPERATOR","->",1489],["T_STRING","setQuote",1489],"(",["T_VARIABLE","$this",1489],")",";",["T_WHITESPACE","\n            ",1489],["T_DOC_COMMENT","\/**\n             * If we remove item from quote - we can't use multishipping mode\n             *\/",1490],["T_WHITESPACE","\n            ",1492],["T_VARIABLE","$this",1493],["T_OBJECT_OPERATOR","->",1493],["T_STRING","setIsMultiShipping",1493],"(",["T_STRING","false",1493],")",";",["T_WHITESPACE","\n            ",1493],["T_VARIABLE","$item",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","isDeleted",1494],"(",["T_STRING","true",1494],")",";",["T_WHITESPACE","\n            ",1494],["T_IF","if",1495],["T_WHITESPACE"," ",1495],"(",["T_VARIABLE","$item",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","getHasChildren",1495],"(",")",")",["T_WHITESPACE"," ",1495],"{",["T_WHITESPACE","\n                ",1495],["T_FOREACH","foreach",1496],["T_WHITESPACE"," ",1496],"(",["T_VARIABLE","$item",1496],["T_OBJECT_OPERATOR","->",1496],["T_STRING","getChildren",1496],"(",")",["T_WHITESPACE"," ",1496],["T_AS","as",1496],["T_WHITESPACE"," ",1496],["T_VARIABLE","$child",1496],")",["T_WHITESPACE"," ",1496],"{",["T_WHITESPACE","\n                    ",1496],["T_VARIABLE","$child",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","isDeleted",1497],"(",["T_STRING","true",1497],")",";",["T_WHITESPACE","\n                ",1497],"}",["T_WHITESPACE","\n            ",1498],"}",["T_WHITESPACE","\n\n            ",1499],["T_VARIABLE","$parent",1501],["T_WHITESPACE"," ",1501],"=",["T_WHITESPACE"," ",1501],["T_VARIABLE","$item",1501],["T_OBJECT_OPERATOR","->",1501],["T_STRING","getParentItem",1501],"(",")",";",["T_WHITESPACE","\n            ",1501],["T_IF","if",1502],["T_WHITESPACE"," ",1502],"(",["T_VARIABLE","$parent",1502],")",["T_WHITESPACE"," ",1502],"{",["T_WHITESPACE","\n                ",1502],["T_VARIABLE","$parent",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","isDeleted",1503],"(",["T_STRING","true",1503],")",";",["T_WHITESPACE","\n            ",1503],"}",["T_WHITESPACE","\n\n            ",1504],["T_VARIABLE","$this",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","_eventManager",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","dispatch",1506],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_quote_remove_item'",1506],",",["T_WHITESPACE"," ",1506],"[",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",1506],["T_WHITESPACE"," ",1506],["T_DOUBLE_ARROW","=>",1506],["T_WHITESPACE"," ",1506],["T_VARIABLE","$item",1506],"]",")",";",["T_WHITESPACE","\n        ",1506],"}",["T_WHITESPACE","\n\n        ",1507],["T_RETURN","return",1509],["T_WHITESPACE"," ",1509],["T_VARIABLE","$this",1509],";",["T_WHITESPACE","\n    ",1509],"}",["T_WHITESPACE","\n\n    ",1510],["T_DOC_COMMENT","\/**\n     * Mark all quote items as deleted (empty quote)\n     *\n     * @return $this\n     *\/",1512],["T_WHITESPACE","\n    ",1516],["T_PUBLIC","public",1517],["T_WHITESPACE"," ",1517],["T_FUNCTION","function",1517],["T_WHITESPACE"," ",1517],["T_STRING","removeAllItems",1517],"(",")",["T_WHITESPACE","\n    ",1517],"{",["T_WHITESPACE","\n        ",1518],["T_FOREACH","foreach",1519],["T_WHITESPACE"," ",1519],"(",["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","getItemsCollection",1519],"(",")",["T_WHITESPACE"," ",1519],["T_AS","as",1519],["T_WHITESPACE"," ",1519],["T_VARIABLE","$itemId",1519],["T_WHITESPACE"," ",1519],["T_DOUBLE_ARROW","=>",1519],["T_WHITESPACE"," ",1519],["T_VARIABLE","$item",1519],")",["T_WHITESPACE"," ",1519],"{",["T_WHITESPACE","\n            ",1519],["T_IF","if",1520],["T_WHITESPACE"," ",1520],"(",["T_VARIABLE","$item",1520],["T_OBJECT_OPERATOR","->",1520],["T_STRING","getId",1520],"(",")",["T_WHITESPACE"," ",1520],["T_IS_IDENTICAL","===",1520],["T_WHITESPACE"," ",1520],["T_STRING","null",1520],")",["T_WHITESPACE"," ",1520],"{",["T_WHITESPACE","\n                ",1520],["T_VARIABLE","$this",1521],["T_OBJECT_OPERATOR","->",1521],["T_STRING","getItemsCollection",1521],"(",")",["T_OBJECT_OPERATOR","->",1521],["T_STRING","removeItemByKey",1521],"(",["T_VARIABLE","$itemId",1521],")",";",["T_WHITESPACE","\n            ",1521],"}",["T_WHITESPACE"," ",1522],["T_ELSE","else",1522],["T_WHITESPACE"," ",1522],"{",["T_WHITESPACE","\n                ",1522],["T_VARIABLE","$item",1523],["T_OBJECT_OPERATOR","->",1523],["T_STRING","isDeleted",1523],"(",["T_STRING","true",1523],")",";",["T_WHITESPACE","\n            ",1523],"}",["T_WHITESPACE","\n        ",1524],"}",["T_WHITESPACE","\n        ",1525],["T_RETURN","return",1526],["T_WHITESPACE"," ",1526],["T_VARIABLE","$this",1526],";",["T_WHITESPACE","\n    ",1526],"}",["T_WHITESPACE","\n\n    ",1527],["T_DOC_COMMENT","\/**\n     * Adding new item to quote\n     *\n     * @param   \\Magento\\Quote\\Model\\Quote\\Item $item\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",1529],["T_WHITESPACE","\n    ",1535],["T_PUBLIC","public",1536],["T_WHITESPACE"," ",1536],["T_FUNCTION","function",1536],["T_WHITESPACE"," ",1536],["T_STRING","addItem",1536],"(",["T_NS_SEPARATOR","\\",1536],["T_STRING","Magento",1536],["T_NS_SEPARATOR","\\",1536],["T_STRING","Quote",1536],["T_NS_SEPARATOR","\\",1536],["T_STRING","Model",1536],["T_NS_SEPARATOR","\\",1536],["T_STRING","Quote",1536],["T_NS_SEPARATOR","\\",1536],["T_STRING","Item",1536],["T_WHITESPACE"," ",1536],["T_VARIABLE","$item",1536],")",["T_WHITESPACE","\n    ",1536],"{",["T_WHITESPACE","\n        ",1537],["T_VARIABLE","$item",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","setQuote",1538],"(",["T_VARIABLE","$this",1538],")",";",["T_WHITESPACE","\n        ",1538],["T_IF","if",1539],["T_WHITESPACE"," ",1539],"(","!",["T_VARIABLE","$item",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","getId",1539],"(",")",")",["T_WHITESPACE"," ",1539],"{",["T_WHITESPACE","\n            ",1539],["T_VARIABLE","$this",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","getItemsCollection",1540],"(",")",["T_OBJECT_OPERATOR","->",1540],["T_STRING","addItem",1540],"(",["T_VARIABLE","$item",1540],")",";",["T_WHITESPACE","\n            ",1540],["T_VARIABLE","$this",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","_eventManager",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","dispatch",1541],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_quote_add_item'",1541],",",["T_WHITESPACE"," ",1541],"[",["T_CONSTANT_ENCAPSED_STRING","'quote_item'",1541],["T_WHITESPACE"," ",1541],["T_DOUBLE_ARROW","=>",1541],["T_WHITESPACE"," ",1541],["T_VARIABLE","$item",1541],"]",")",";",["T_WHITESPACE","\n        ",1541],"}",["T_WHITESPACE","\n        ",1542],["T_RETURN","return",1543],["T_WHITESPACE"," ",1543],["T_VARIABLE","$this",1543],";",["T_WHITESPACE","\n    ",1543],"}",["T_WHITESPACE","\n\n    ",1544],["T_DOC_COMMENT","\/**\n     * Advanced func to add product to quote - processing mode can be specified there.\n     * Returns error message if product type instance can't prepare product.\n     *\n     * @param mixed $product\n     * @param null|float|\\Magento\\Framework\\DataObject $request\n     * @param null|string $processMode\n     * @return \\Magento\\Quote\\Model\\Quote\\Item|string\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",1546],["T_WHITESPACE","\n    ",1557],["T_PUBLIC","public",1558],["T_WHITESPACE"," ",1558],["T_FUNCTION","function",1558],["T_WHITESPACE"," ",1558],["T_STRING","addProduct",1558],"(",["T_WHITESPACE","\n        ",1558],["T_NS_SEPARATOR","\\",1559],["T_STRING","Magento",1559],["T_NS_SEPARATOR","\\",1559],["T_STRING","Catalog",1559],["T_NS_SEPARATOR","\\",1559],["T_STRING","Model",1559],["T_NS_SEPARATOR","\\",1559],["T_STRING","Product",1559],["T_WHITESPACE"," ",1559],["T_VARIABLE","$product",1559],",",["T_WHITESPACE","\n        ",1559],["T_VARIABLE","$request",1560],["T_WHITESPACE"," ",1560],"=",["T_WHITESPACE"," ",1560],["T_STRING","null",1560],",",["T_WHITESPACE","\n        ",1560],["T_VARIABLE","$processMode",1561],["T_WHITESPACE"," ",1561],"=",["T_WHITESPACE"," ",1561],["T_NS_SEPARATOR","\\",1561],["T_STRING","Magento",1561],["T_NS_SEPARATOR","\\",1561],["T_STRING","Catalog",1561],["T_NS_SEPARATOR","\\",1561],["T_STRING","Model",1561],["T_NS_SEPARATOR","\\",1561],["T_STRING","Product",1561],["T_NS_SEPARATOR","\\",1561],["T_STRING","Type",1561],["T_NS_SEPARATOR","\\",1561],["T_STRING","AbstractType",1561],["T_DOUBLE_COLON","::",1561],["T_STRING","PROCESS_MODE_FULL",1561],["T_WHITESPACE","\n    ",1561],")",["T_WHITESPACE"," ",1562],"{",["T_WHITESPACE","\n        ",1562],["T_IF","if",1563],["T_WHITESPACE"," ",1563],"(",["T_VARIABLE","$request",1563],["T_WHITESPACE"," ",1563],["T_IS_IDENTICAL","===",1563],["T_WHITESPACE"," ",1563],["T_STRING","null",1563],")",["T_WHITESPACE"," ",1563],"{",["T_WHITESPACE","\n            ",1563],["T_VARIABLE","$request",1564],["T_WHITESPACE"," ",1564],"=",["T_WHITESPACE"," ",1564],["T_LNUMBER","1",1564],";",["T_WHITESPACE","\n        ",1564],"}",["T_WHITESPACE","\n        ",1565],["T_IF","if",1566],["T_WHITESPACE"," ",1566],"(",["T_STRING","is_numeric",1566],"(",["T_VARIABLE","$request",1566],")",")",["T_WHITESPACE"," ",1566],"{",["T_WHITESPACE","\n            ",1566],["T_VARIABLE","$request",1567],["T_WHITESPACE"," ",1567],"=",["T_WHITESPACE"," ",1567],["T_VARIABLE","$this",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","objectFactory",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","create",1567],"(","[",["T_CONSTANT_ENCAPSED_STRING","'qty'",1567],["T_WHITESPACE"," ",1567],["T_DOUBLE_ARROW","=>",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$request",1567],"]",")",";",["T_WHITESPACE","\n        ",1567],"}",["T_WHITESPACE","\n        ",1568],["T_IF","if",1569],["T_WHITESPACE"," ",1569],"(","!",["T_VARIABLE","$request",1569],["T_WHITESPACE"," ",1569],["T_INSTANCEOF","instanceof",1569],["T_WHITESPACE"," ",1569],["T_NS_SEPARATOR","\\",1569],["T_STRING","Magento",1569],["T_NS_SEPARATOR","\\",1569],["T_STRING","Framework",1569],["T_NS_SEPARATOR","\\",1569],["T_STRING","DataObject",1569],")",["T_WHITESPACE"," ",1569],"{",["T_WHITESPACE","\n            ",1569],["T_THROW","throw",1570],["T_WHITESPACE"," ",1570],["T_NEW","new",1570],["T_WHITESPACE"," ",1570],["T_NS_SEPARATOR","\\",1570],["T_STRING","Magento",1570],["T_NS_SEPARATOR","\\",1570],["T_STRING","Framework",1570],["T_NS_SEPARATOR","\\",1570],["T_STRING","Exception",1570],["T_NS_SEPARATOR","\\",1570],["T_STRING","LocalizedException",1570],"(",["T_WHITESPACE","\n                ",1570],["T_STRING","__",1571],"(",["T_CONSTANT_ENCAPSED_STRING","'We found an invalid request for adding product to quote.'",1571],")",["T_WHITESPACE","\n            ",1571],")",";",["T_WHITESPACE","\n        ",1572],"}",["T_WHITESPACE","\n\n        ",1573],["T_VARIABLE","$cartCandidates",1575],["T_WHITESPACE"," ",1575],"=",["T_WHITESPACE"," ",1575],["T_VARIABLE","$product",1575],["T_OBJECT_OPERATOR","->",1575],["T_STRING","getTypeInstance",1575],"(",")",["T_OBJECT_OPERATOR","->",1575],["T_STRING","prepareForCartAdvanced",1575],"(",["T_VARIABLE","$request",1575],",",["T_WHITESPACE"," ",1575],["T_VARIABLE","$product",1575],",",["T_WHITESPACE"," ",1575],["T_VARIABLE","$processMode",1575],")",";",["T_WHITESPACE","\n\n        ",1575],["T_DOC_COMMENT","\/**\n         * Error message\n         *\/",1577],["T_WHITESPACE","\n        ",1579],["T_IF","if",1580],["T_WHITESPACE"," ",1580],"(",["T_STRING","is_string",1580],"(",["T_VARIABLE","$cartCandidates",1580],")",["T_WHITESPACE"," ",1580],["T_BOOLEAN_OR","||",1580],["T_WHITESPACE"," ",1580],["T_VARIABLE","$cartCandidates",1580],["T_WHITESPACE"," ",1580],["T_INSTANCEOF","instanceof",1580],["T_WHITESPACE"," ",1580],["T_NS_SEPARATOR","\\",1580],["T_STRING","Magento",1580],["T_NS_SEPARATOR","\\",1580],["T_STRING","Framework",1580],["T_NS_SEPARATOR","\\",1580],["T_STRING","Phrase",1580],")",["T_WHITESPACE"," ",1580],"{",["T_WHITESPACE","\n            ",1580],["T_RETURN","return",1581],["T_WHITESPACE"," ",1581],["T_STRING","strval",1581],"(",["T_VARIABLE","$cartCandidates",1581],")",";",["T_WHITESPACE","\n        ",1581],"}",["T_WHITESPACE","\n\n        ",1582],["T_DOC_COMMENT","\/**\n         * If prepare process return one object\n         *\/",1584],["T_WHITESPACE","\n        ",1586],["T_IF","if",1587],["T_WHITESPACE"," ",1587],"(","!",["T_STRING","is_array",1587],"(",["T_VARIABLE","$cartCandidates",1587],")",")",["T_WHITESPACE"," ",1587],"{",["T_WHITESPACE","\n            ",1587],["T_VARIABLE","$cartCandidates",1588],["T_WHITESPACE"," ",1588],"=",["T_WHITESPACE"," ",1588],"[",["T_VARIABLE","$cartCandidates",1588],"]",";",["T_WHITESPACE","\n        ",1588],"}",["T_WHITESPACE","\n\n        ",1589],["T_VARIABLE","$parentItem",1591],["T_WHITESPACE"," ",1591],"=",["T_WHITESPACE"," ",1591],["T_STRING","null",1591],";",["T_WHITESPACE","\n        ",1591],["T_VARIABLE","$errors",1592],["T_WHITESPACE"," ",1592],"=",["T_WHITESPACE"," ",1592],"[","]",";",["T_WHITESPACE","\n        ",1592],["T_VARIABLE","$item",1593],["T_WHITESPACE"," ",1593],"=",["T_WHITESPACE"," ",1593],["T_STRING","null",1593],";",["T_WHITESPACE","\n        ",1593],["T_VARIABLE","$items",1594],["T_WHITESPACE"," ",1594],"=",["T_WHITESPACE"," ",1594],"[","]",";",["T_WHITESPACE","\n        ",1594],["T_FOREACH","foreach",1595],["T_WHITESPACE"," ",1595],"(",["T_VARIABLE","$cartCandidates",1595],["T_WHITESPACE"," ",1595],["T_AS","as",1595],["T_WHITESPACE"," ",1595],["T_VARIABLE","$candidate",1595],")",["T_WHITESPACE"," ",1595],"{",["T_WHITESPACE","\n            ",1595],["T_COMMENT","\/\/ Child items can be sticked together only within their parent\n",1596],["T_WHITESPACE","            ",1597],["T_VARIABLE","$stickWithinParent",1597],["T_WHITESPACE"," ",1597],"=",["T_WHITESPACE"," ",1597],["T_VARIABLE","$candidate",1597],["T_OBJECT_OPERATOR","->",1597],["T_STRING","getParentProductId",1597],"(",")",["T_WHITESPACE"," ",1597],"?",["T_WHITESPACE"," ",1597],["T_VARIABLE","$parentItem",1597],["T_WHITESPACE"," ",1597],":",["T_WHITESPACE"," ",1597],["T_STRING","null",1597],";",["T_WHITESPACE","\n            ",1597],["T_VARIABLE","$candidate",1598],["T_OBJECT_OPERATOR","->",1598],["T_STRING","setStickWithinParent",1598],"(",["T_VARIABLE","$stickWithinParent",1598],")",";",["T_WHITESPACE","\n\n            ",1598],["T_VARIABLE","$item",1600],["T_WHITESPACE"," ",1600],"=",["T_WHITESPACE"," ",1600],["T_VARIABLE","$this",1600],["T_OBJECT_OPERATOR","->",1600],["T_STRING","getItemByProduct",1600],"(",["T_VARIABLE","$candidate",1600],")",";",["T_WHITESPACE","\n            ",1600],["T_IF","if",1601],["T_WHITESPACE"," ",1601],"(","!",["T_VARIABLE","$item",1601],")",["T_WHITESPACE"," ",1601],"{",["T_WHITESPACE","\n                ",1601],["T_VARIABLE","$item",1602],["T_WHITESPACE"," ",1602],"=",["T_WHITESPACE"," ",1602],["T_VARIABLE","$this",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","itemProcessor",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","init",1602],"(",["T_VARIABLE","$candidate",1602],",",["T_WHITESPACE"," ",1602],["T_VARIABLE","$request",1602],")",";",["T_WHITESPACE","\n                ",1602],["T_COMMENT","\/\/ Add only item that is not in quote already\n",1603],["T_WHITESPACE","                ",1604],["T_VARIABLE","$this",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","addItem",1604],"(",["T_VARIABLE","$item",1604],")",";",["T_WHITESPACE","\n            ",1604],"}",["T_WHITESPACE","\n            ",1605],["T_VARIABLE","$items",1606],"[","]",["T_WHITESPACE"," ",1606],"=",["T_WHITESPACE"," ",1606],["T_VARIABLE","$item",1606],";",["T_WHITESPACE","\n\n            ",1606],["T_DOC_COMMENT","\/**\n             * As parent item we should always use the item of first added product\n             *\/",1608],["T_WHITESPACE","\n            ",1610],["T_IF","if",1611],["T_WHITESPACE"," ",1611],"(","!",["T_VARIABLE","$parentItem",1611],")",["T_WHITESPACE"," ",1611],"{",["T_WHITESPACE","\n                ",1611],["T_VARIABLE","$parentItem",1612],["T_WHITESPACE"," ",1612],"=",["T_WHITESPACE"," ",1612],["T_VARIABLE","$item",1612],";",["T_WHITESPACE","\n            ",1612],"}",["T_WHITESPACE","\n            ",1613],["T_IF","if",1614],["T_WHITESPACE"," ",1614],"(",["T_VARIABLE","$parentItem",1614],["T_WHITESPACE"," ",1614],["T_BOOLEAN_AND","&&",1614],["T_WHITESPACE"," ",1614],["T_VARIABLE","$candidate",1614],["T_OBJECT_OPERATOR","->",1614],["T_STRING","getParentProductId",1614],"(",")",["T_WHITESPACE"," ",1614],["T_BOOLEAN_AND","&&",1614],["T_WHITESPACE"," ",1614],"!",["T_VARIABLE","$item",1614],["T_OBJECT_OPERATOR","->",1614],["T_STRING","getParentItem",1614],"(",")",")",["T_WHITESPACE"," ",1614],"{",["T_WHITESPACE","\n                ",1614],["T_VARIABLE","$item",1615],["T_OBJECT_OPERATOR","->",1615],["T_STRING","setParentItem",1615],"(",["T_VARIABLE","$parentItem",1615],")",";",["T_WHITESPACE","\n            ",1615],"}",["T_WHITESPACE","\n\n            ",1616],["T_VARIABLE","$this",1618],["T_OBJECT_OPERATOR","->",1618],["T_STRING","itemProcessor",1618],["T_OBJECT_OPERATOR","->",1618],["T_STRING","prepare",1618],"(",["T_VARIABLE","$item",1618],",",["T_WHITESPACE"," ",1618],["T_VARIABLE","$request",1618],",",["T_WHITESPACE"," ",1618],["T_VARIABLE","$candidate",1618],")",";",["T_WHITESPACE","\n\n            ",1618],["T_COMMENT","\/\/ collect errors instead of throwing first one\n",1620],["T_WHITESPACE","            ",1621],["T_IF","if",1621],["T_WHITESPACE"," ",1621],"(",["T_VARIABLE","$item",1621],["T_OBJECT_OPERATOR","->",1621],["T_STRING","getHasError",1621],"(",")",")",["T_WHITESPACE"," ",1621],"{",["T_WHITESPACE","\n                ",1621],["T_VARIABLE","$message",1622],["T_WHITESPACE"," ",1622],"=",["T_WHITESPACE"," ",1622],["T_VARIABLE","$item",1622],["T_OBJECT_OPERATOR","->",1622],["T_STRING","getMessage",1622],"(",")",";",["T_WHITESPACE","\n                ",1622],["T_IF","if",1623],["T_WHITESPACE"," ",1623],"(","!",["T_STRING","in_array",1623],"(",["T_VARIABLE","$message",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$errors",1623],")",")",["T_WHITESPACE"," ",1623],"{",["T_WHITESPACE","\n                    ",1623],["T_COMMENT","\/\/ filter duplicate messages\n",1624],["T_WHITESPACE","                    ",1625],["T_VARIABLE","$errors",1625],"[","]",["T_WHITESPACE"," ",1625],"=",["T_WHITESPACE"," ",1625],["T_VARIABLE","$message",1625],";",["T_WHITESPACE","\n                ",1625],"}",["T_WHITESPACE","\n            ",1626],"}",["T_WHITESPACE","\n        ",1627],"}",["T_WHITESPACE","\n        ",1628],["T_IF","if",1629],["T_WHITESPACE"," ",1629],"(","!",["T_EMPTY","empty",1629],"(",["T_VARIABLE","$errors",1629],")",")",["T_WHITESPACE"," ",1629],"{",["T_WHITESPACE","\n            ",1629],["T_THROW","throw",1630],["T_WHITESPACE"," ",1630],["T_NEW","new",1630],["T_WHITESPACE"," ",1630],["T_NS_SEPARATOR","\\",1630],["T_STRING","Magento",1630],["T_NS_SEPARATOR","\\",1630],["T_STRING","Framework",1630],["T_NS_SEPARATOR","\\",1630],["T_STRING","Exception",1630],["T_NS_SEPARATOR","\\",1630],["T_STRING","LocalizedException",1630],"(",["T_STRING","__",1630],"(",["T_STRING","implode",1630],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",1630],",",["T_WHITESPACE"," ",1630],["T_VARIABLE","$errors",1630],")",")",")",";",["T_WHITESPACE","\n        ",1630],"}",["T_WHITESPACE","\n\n        ",1631],["T_VARIABLE","$this",1633],["T_OBJECT_OPERATOR","->",1633],["T_STRING","_eventManager",1633],["T_OBJECT_OPERATOR","->",1633],["T_STRING","dispatch",1633],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_quote_product_add_after'",1633],",",["T_WHITESPACE"," ",1633],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",1633],["T_WHITESPACE"," ",1633],["T_DOUBLE_ARROW","=>",1633],["T_WHITESPACE"," ",1633],["T_VARIABLE","$items",1633],"]",")",";",["T_WHITESPACE","\n        ",1633],["T_RETURN","return",1634],["T_WHITESPACE"," ",1634],["T_VARIABLE","$parentItem",1634],";",["T_WHITESPACE","\n    ",1634],"}",["T_WHITESPACE","\n\n    ",1635],["T_DOC_COMMENT","\/**\n     * Adding catalog product object data to quote\n     *\n     * @param \\Magento\\Catalog\\Model\\Product $product\n     * @param int $qty\n     * @return \\Magento\\Quote\\Model\\Quote\\Item\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",1637],["T_WHITESPACE","\n    ",1644],["T_PROTECTED","protected",1645],["T_WHITESPACE"," ",1645],["T_FUNCTION","function",1645],["T_WHITESPACE"," ",1645],["T_STRING","_addCatalogProduct",1645],"(",["T_NS_SEPARATOR","\\",1645],["T_STRING","Magento",1645],["T_NS_SEPARATOR","\\",1645],["T_STRING","Catalog",1645],["T_NS_SEPARATOR","\\",1645],["T_STRING","Model",1645],["T_NS_SEPARATOR","\\",1645],["T_STRING","Product",1645],["T_WHITESPACE"," ",1645],["T_VARIABLE","$product",1645],",",["T_WHITESPACE"," ",1645],["T_VARIABLE","$qty",1645],["T_WHITESPACE"," ",1645],"=",["T_WHITESPACE"," ",1645],["T_LNUMBER","1",1645],")",["T_WHITESPACE","\n    ",1645],"{",["T_WHITESPACE","\n        ",1646],["T_VARIABLE","$newItem",1647],["T_WHITESPACE"," ",1647],"=",["T_WHITESPACE"," ",1647],["T_STRING","false",1647],";",["T_WHITESPACE","\n        ",1647],["T_VARIABLE","$item",1648],["T_WHITESPACE"," ",1648],"=",["T_WHITESPACE"," ",1648],["T_VARIABLE","$this",1648],["T_OBJECT_OPERATOR","->",1648],["T_STRING","getItemByProduct",1648],"(",["T_VARIABLE","$product",1648],")",";",["T_WHITESPACE","\n        ",1648],["T_IF","if",1649],["T_WHITESPACE"," ",1649],"(","!",["T_VARIABLE","$item",1649],")",["T_WHITESPACE"," ",1649],"{",["T_WHITESPACE","\n            ",1649],["T_VARIABLE","$item",1650],["T_WHITESPACE"," ",1650],"=",["T_WHITESPACE"," ",1650],["T_VARIABLE","$this",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","_quoteItemFactory",1650],["T_OBJECT_OPERATOR","->",1650],["T_STRING","create",1650],"(",")",";",["T_WHITESPACE","\n            ",1650],["T_VARIABLE","$item",1651],["T_OBJECT_OPERATOR","->",1651],["T_STRING","setQuote",1651],"(",["T_VARIABLE","$this",1651],")",";",["T_WHITESPACE","\n            ",1651],["T_IF","if",1652],["T_WHITESPACE"," ",1652],"(",["T_VARIABLE","$this",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","_appState",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","getAreaCode",1652],"(",")",["T_WHITESPACE"," ",1652],["T_IS_IDENTICAL","===",1652],["T_WHITESPACE"," ",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Magento",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Backend",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","App",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","Area",1652],["T_NS_SEPARATOR","\\",1652],["T_STRING","FrontNameResolver",1652],["T_DOUBLE_COLON","::",1652],["T_STRING","AREA_CODE",1652],")",["T_WHITESPACE"," ",1652],"{",["T_WHITESPACE","\n                ",1652],["T_VARIABLE","$item",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","setStoreId",1653],"(",["T_VARIABLE","$this",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","getStore",1653],"(",")",["T_OBJECT_OPERATOR","->",1653],["T_STRING","getId",1653],"(",")",")",";",["T_WHITESPACE","\n            ",1653],"}",["T_WHITESPACE"," ",1654],["T_ELSE","else",1654],["T_WHITESPACE"," ",1654],"{",["T_WHITESPACE","\n                ",1654],["T_VARIABLE","$item",1655],["T_OBJECT_OPERATOR","->",1655],["T_STRING","setStoreId",1655],"(",["T_VARIABLE","$this",1655],["T_OBJECT_OPERATOR","->",1655],["T_STRING","_storeManager",1655],["T_OBJECT_OPERATOR","->",1655],["T_STRING","getStore",1655],"(",")",["T_OBJECT_OPERATOR","->",1655],["T_STRING","getId",1655],"(",")",")",";",["T_WHITESPACE","\n            ",1655],"}",["T_WHITESPACE","\n            ",1656],["T_VARIABLE","$newItem",1657],["T_WHITESPACE"," ",1657],"=",["T_WHITESPACE"," ",1657],["T_STRING","true",1657],";",["T_WHITESPACE","\n        ",1657],"}",["T_WHITESPACE","\n\n        ",1658],["T_DOC_COMMENT","\/**\n         * We can't modify existing child items\n         *\/",1660],["T_WHITESPACE","\n        ",1662],["T_IF","if",1663],["T_WHITESPACE"," ",1663],"(",["T_VARIABLE","$item",1663],["T_OBJECT_OPERATOR","->",1663],["T_STRING","getId",1663],"(",")",["T_WHITESPACE"," ",1663],["T_BOOLEAN_AND","&&",1663],["T_WHITESPACE"," ",1663],["T_VARIABLE","$product",1663],["T_OBJECT_OPERATOR","->",1663],["T_STRING","getParentProductId",1663],"(",")",")",["T_WHITESPACE"," ",1663],"{",["T_WHITESPACE","\n            ",1663],["T_RETURN","return",1664],["T_WHITESPACE"," ",1664],["T_VARIABLE","$item",1664],";",["T_WHITESPACE","\n        ",1664],"}",["T_WHITESPACE","\n\n        ",1665],["T_VARIABLE","$item",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","setOptions",1667],"(",["T_VARIABLE","$product",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","getCustomOptions",1667],"(",")",")",["T_OBJECT_OPERATOR","->",1667],["T_STRING","setProduct",1667],"(",["T_VARIABLE","$product",1667],")",";",["T_WHITESPACE","\n\n        ",1667],["T_COMMENT","\/\/ Add only item that is not in quote already (there can be other new or already saved item\n",1669],["T_WHITESPACE","        ",1670],["T_IF","if",1670],["T_WHITESPACE"," ",1670],"(",["T_VARIABLE","$newItem",1670],")",["T_WHITESPACE"," ",1670],"{",["T_WHITESPACE","\n            ",1670],["T_VARIABLE","$this",1671],["T_OBJECT_OPERATOR","->",1671],["T_STRING","addItem",1671],"(",["T_VARIABLE","$item",1671],")",";",["T_WHITESPACE","\n        ",1671],"}",["T_WHITESPACE","\n\n        ",1672],["T_RETURN","return",1674],["T_WHITESPACE"," ",1674],["T_VARIABLE","$item",1674],";",["T_WHITESPACE","\n    ",1674],"}",["T_WHITESPACE","\n\n    ",1675],["T_DOC_COMMENT","\/**\n     * Updates quote item with new configuration\n     *\n     * $params sets how current item configuration must be taken into account and additional options.\n     * It's passed to \\Magento\\Catalog\\Helper\\Product->addParamsToBuyRequest() to compose resulting buyRequest.\n     *\n     * Basically it can hold\n     * - 'current_config', \\Magento\\Framework\\DataObject or array - current buyRequest that configures product in this\n     * item, used to restore currently attached files\n     * - 'files_prefix': string[a-z0-9_] - prefix that was added at frontend to names of file options (file inputs),\n     *   so they won't intersect with other submitted options\n     *\n     * For more options see \\Magento\\Catalog\\Helper\\Product->addParamsToBuyRequest()\n     *\n     * @param int $itemId\n     * @param \\Magento\\Framework\\DataObject $buyRequest\n     * @param null|array|\\Magento\\Framework\\DataObject $params\n     * @return \\Magento\\Quote\\Model\\Quote\\Item\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\n     * @see \\Magento\\Catalog\\Helper\\Product::addParamsToBuyRequest()\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",1677],["T_WHITESPACE","\n    ",1699],["T_PUBLIC","public",1700],["T_WHITESPACE"," ",1700],["T_FUNCTION","function",1700],["T_WHITESPACE"," ",1700],["T_STRING","updateItem",1700],"(",["T_VARIABLE","$itemId",1700],",",["T_WHITESPACE"," ",1700],["T_VARIABLE","$buyRequest",1700],",",["T_WHITESPACE"," ",1700],["T_VARIABLE","$params",1700],["T_WHITESPACE"," ",1700],"=",["T_WHITESPACE"," ",1700],["T_STRING","null",1700],")",["T_WHITESPACE","\n    ",1700],"{",["T_WHITESPACE","\n        ",1701],["T_VARIABLE","$item",1702],["T_WHITESPACE"," ",1702],"=",["T_WHITESPACE"," ",1702],["T_VARIABLE","$this",1702],["T_OBJECT_OPERATOR","->",1702],["T_STRING","getItemById",1702],"(",["T_VARIABLE","$itemId",1702],")",";",["T_WHITESPACE","\n        ",1702],["T_IF","if",1703],["T_WHITESPACE"," ",1703],"(","!",["T_VARIABLE","$item",1703],")",["T_WHITESPACE"," ",1703],"{",["T_WHITESPACE","\n            ",1703],["T_THROW","throw",1704],["T_WHITESPACE"," ",1704],["T_NEW","new",1704],["T_WHITESPACE"," ",1704],["T_NS_SEPARATOR","\\",1704],["T_STRING","Magento",1704],["T_NS_SEPARATOR","\\",1704],["T_STRING","Framework",1704],["T_NS_SEPARATOR","\\",1704],["T_STRING","Exception",1704],["T_NS_SEPARATOR","\\",1704],["T_STRING","LocalizedException",1704],"(",["T_WHITESPACE","\n                ",1704],["T_STRING","__",1705],"(",["T_CONSTANT_ENCAPSED_STRING","'This is the wrong quote item id to update configuration.'",1705],")",["T_WHITESPACE","\n            ",1705],")",";",["T_WHITESPACE","\n        ",1706],"}",["T_WHITESPACE","\n        ",1707],["T_VARIABLE","$productId",1708],["T_WHITESPACE"," ",1708],"=",["T_WHITESPACE"," ",1708],["T_VARIABLE","$item",1708],["T_OBJECT_OPERATOR","->",1708],["T_STRING","getProduct",1708],"(",")",["T_OBJECT_OPERATOR","->",1708],["T_STRING","getId",1708],"(",")",";",["T_WHITESPACE","\n\n        ",1708],["T_COMMENT","\/\/We need to create new clear product instance with same $productId\n",1710],["T_WHITESPACE","        ",1711],["T_COMMENT","\/\/to set new option values from $buyRequest\n",1711],["T_WHITESPACE","        ",1712],["T_VARIABLE","$product",1712],["T_WHITESPACE"," ",1712],"=",["T_WHITESPACE"," ",1712],["T_CLONE","clone",1712],["T_WHITESPACE"," ",1712],["T_VARIABLE","$this",1712],["T_OBJECT_OPERATOR","->",1712],["T_STRING","productRepository",1712],["T_OBJECT_OPERATOR","->",1712],["T_STRING","getById",1712],"(",["T_VARIABLE","$productId",1712],",",["T_WHITESPACE"," ",1712],["T_STRING","false",1712],",",["T_WHITESPACE"," ",1712],["T_VARIABLE","$this",1712],["T_OBJECT_OPERATOR","->",1712],["T_STRING","getStore",1712],"(",")",["T_OBJECT_OPERATOR","->",1712],["T_STRING","getId",1712],"(",")",")",";",["T_WHITESPACE","\n\n        ",1712],["T_IF","if",1714],["T_WHITESPACE"," ",1714],"(","!",["T_VARIABLE","$params",1714],")",["T_WHITESPACE"," ",1714],"{",["T_WHITESPACE","\n            ",1714],["T_VARIABLE","$params",1715],["T_WHITESPACE"," ",1715],"=",["T_WHITESPACE"," ",1715],["T_NEW","new",1715],["T_WHITESPACE"," ",1715],["T_NS_SEPARATOR","\\",1715],["T_STRING","Magento",1715],["T_NS_SEPARATOR","\\",1715],["T_STRING","Framework",1715],["T_NS_SEPARATOR","\\",1715],["T_STRING","DataObject",1715],"(",")",";",["T_WHITESPACE","\n        ",1715],"}",["T_WHITESPACE"," ",1716],["T_ELSEIF","elseif",1716],["T_WHITESPACE"," ",1716],"(",["T_STRING","is_array",1716],"(",["T_VARIABLE","$params",1716],")",")",["T_WHITESPACE"," ",1716],"{",["T_WHITESPACE","\n            ",1716],["T_VARIABLE","$params",1717],["T_WHITESPACE"," ",1717],"=",["T_WHITESPACE"," ",1717],["T_NEW","new",1717],["T_WHITESPACE"," ",1717],["T_NS_SEPARATOR","\\",1717],["T_STRING","Magento",1717],["T_NS_SEPARATOR","\\",1717],["T_STRING","Framework",1717],["T_NS_SEPARATOR","\\",1717],["T_STRING","DataObject",1717],"(",["T_VARIABLE","$params",1717],")",";",["T_WHITESPACE","\n        ",1717],"}",["T_WHITESPACE","\n        ",1718],["T_VARIABLE","$params",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","setCurrentConfig",1719],"(",["T_VARIABLE","$item",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","getBuyRequest",1719],"(",")",")",";",["T_WHITESPACE","\n        ",1719],["T_VARIABLE","$buyRequest",1720],["T_WHITESPACE"," ",1720],"=",["T_WHITESPACE"," ",1720],["T_VARIABLE","$this",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","_catalogProduct",1720],["T_OBJECT_OPERATOR","->",1720],["T_STRING","addParamsToBuyRequest",1720],"(",["T_VARIABLE","$buyRequest",1720],",",["T_WHITESPACE"," ",1720],["T_VARIABLE","$params",1720],")",";",["T_WHITESPACE","\n\n        ",1720],["T_VARIABLE","$buyRequest",1722],["T_OBJECT_OPERATOR","->",1722],["T_STRING","setResetCount",1722],"(",["T_STRING","true",1722],")",";",["T_WHITESPACE","\n        ",1722],["T_VARIABLE","$resultItem",1723],["T_WHITESPACE"," ",1723],"=",["T_WHITESPACE"," ",1723],["T_VARIABLE","$this",1723],["T_OBJECT_OPERATOR","->",1723],["T_STRING","addProduct",1723],"(",["T_VARIABLE","$product",1723],",",["T_WHITESPACE"," ",1723],["T_VARIABLE","$buyRequest",1723],")",";",["T_WHITESPACE","\n\n        ",1723],["T_IF","if",1725],["T_WHITESPACE"," ",1725],"(",["T_STRING","is_string",1725],"(",["T_VARIABLE","$resultItem",1725],")",")",["T_WHITESPACE"," ",1725],"{",["T_WHITESPACE","\n            ",1725],["T_THROW","throw",1726],["T_WHITESPACE"," ",1726],["T_NEW","new",1726],["T_WHITESPACE"," ",1726],["T_NS_SEPARATOR","\\",1726],["T_STRING","Magento",1726],["T_NS_SEPARATOR","\\",1726],["T_STRING","Framework",1726],["T_NS_SEPARATOR","\\",1726],["T_STRING","Exception",1726],["T_NS_SEPARATOR","\\",1726],["T_STRING","LocalizedException",1726],"(",["T_STRING","__",1726],"(",["T_VARIABLE","$resultItem",1726],")",")",";",["T_WHITESPACE","\n        ",1726],"}",["T_WHITESPACE","\n\n        ",1727],["T_IF","if",1729],["T_WHITESPACE"," ",1729],"(",["T_VARIABLE","$resultItem",1729],["T_OBJECT_OPERATOR","->",1729],["T_STRING","getParentItem",1729],"(",")",")",["T_WHITESPACE"," ",1729],"{",["T_WHITESPACE","\n            ",1729],["T_VARIABLE","$resultItem",1730],["T_WHITESPACE"," ",1730],"=",["T_WHITESPACE"," ",1730],["T_VARIABLE","$resultItem",1730],["T_OBJECT_OPERATOR","->",1730],["T_STRING","getParentItem",1730],"(",")",";",["T_WHITESPACE","\n        ",1730],"}",["T_WHITESPACE","\n\n        ",1731],["T_IF","if",1733],["T_WHITESPACE"," ",1733],"(",["T_VARIABLE","$resultItem",1733],["T_OBJECT_OPERATOR","->",1733],["T_STRING","getId",1733],"(",")",["T_WHITESPACE"," ",1733],["T_IS_NOT_EQUAL","!=",1733],["T_WHITESPACE"," ",1733],["T_VARIABLE","$itemId",1733],")",["T_WHITESPACE"," ",1733],"{",["T_WHITESPACE","\n            ",1733],["T_DOC_COMMENT","\/**\n             * Product configuration didn't stick to original quote item\n             * It either has same configuration as some other quote item's product or completely new configuration\n             *\/",1734],["T_WHITESPACE","\n            ",1737],["T_VARIABLE","$this",1738],["T_OBJECT_OPERATOR","->",1738],["T_STRING","removeItem",1738],"(",["T_VARIABLE","$itemId",1738],")",";",["T_WHITESPACE","\n            ",1738],["T_VARIABLE","$items",1739],["T_WHITESPACE"," ",1739],"=",["T_WHITESPACE"," ",1739],["T_VARIABLE","$this",1739],["T_OBJECT_OPERATOR","->",1739],["T_STRING","getAllItems",1739],"(",")",";",["T_WHITESPACE","\n            ",1739],["T_FOREACH","foreach",1740],["T_WHITESPACE"," ",1740],"(",["T_VARIABLE","$items",1740],["T_WHITESPACE"," ",1740],["T_AS","as",1740],["T_WHITESPACE"," ",1740],["T_VARIABLE","$item",1740],")",["T_WHITESPACE"," ",1740],"{",["T_WHITESPACE","\n                ",1740],["T_IF","if",1741],["T_WHITESPACE"," ",1741],"(",["T_VARIABLE","$item",1741],["T_OBJECT_OPERATOR","->",1741],["T_STRING","getProductId",1741],"(",")",["T_WHITESPACE"," ",1741],["T_IS_EQUAL","==",1741],["T_WHITESPACE"," ",1741],["T_VARIABLE","$productId",1741],["T_WHITESPACE"," ",1741],["T_BOOLEAN_AND","&&",1741],["T_WHITESPACE"," ",1741],["T_VARIABLE","$item",1741],["T_OBJECT_OPERATOR","->",1741],["T_STRING","getId",1741],"(",")",["T_WHITESPACE"," ",1741],["T_IS_NOT_EQUAL","!=",1741],["T_WHITESPACE"," ",1741],["T_VARIABLE","$resultItem",1741],["T_OBJECT_OPERATOR","->",1741],["T_STRING","getId",1741],"(",")",")",["T_WHITESPACE"," ",1741],"{",["T_WHITESPACE","\n                    ",1741],["T_IF","if",1742],["T_WHITESPACE"," ",1742],"(",["T_VARIABLE","$resultItem",1742],["T_OBJECT_OPERATOR","->",1742],["T_STRING","compare",1742],"(",["T_VARIABLE","$item",1742],")",")",["T_WHITESPACE"," ",1742],"{",["T_WHITESPACE","\n                        ",1742],["T_COMMENT","\/\/ Product configuration is same as in other quote item\n",1743],["T_WHITESPACE","                        ",1744],["T_VARIABLE","$resultItem",1744],["T_OBJECT_OPERATOR","->",1744],["T_STRING","setQty",1744],"(",["T_VARIABLE","$resultItem",1744],["T_OBJECT_OPERATOR","->",1744],["T_STRING","getQty",1744],"(",")",["T_WHITESPACE"," ",1744],"+",["T_WHITESPACE"," ",1744],["T_VARIABLE","$item",1744],["T_OBJECT_OPERATOR","->",1744],["T_STRING","getQty",1744],"(",")",")",";",["T_WHITESPACE","\n                        ",1744],["T_VARIABLE","$this",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","removeItem",1745],"(",["T_VARIABLE","$item",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","getId",1745],"(",")",")",";",["T_WHITESPACE","\n                        ",1745],["T_BREAK","break",1746],";",["T_WHITESPACE","\n                    ",1746],"}",["T_WHITESPACE","\n                ",1747],"}",["T_WHITESPACE","\n            ",1748],"}",["T_WHITESPACE","\n        ",1749],"}",["T_WHITESPACE"," ",1750],["T_ELSE","else",1750],["T_WHITESPACE"," ",1750],"{",["T_WHITESPACE","\n            ",1750],["T_VARIABLE","$resultItem",1751],["T_OBJECT_OPERATOR","->",1751],["T_STRING","setQty",1751],"(",["T_VARIABLE","$buyRequest",1751],["T_OBJECT_OPERATOR","->",1751],["T_STRING","getQty",1751],"(",")",")",";",["T_WHITESPACE","\n        ",1751],"}",["T_WHITESPACE","\n\n        ",1752],["T_RETURN","return",1754],["T_WHITESPACE"," ",1754],["T_VARIABLE","$resultItem",1754],";",["T_WHITESPACE","\n    ",1754],"}",["T_WHITESPACE","\n\n    ",1755],["T_DOC_COMMENT","\/**\n     * Retrieve quote item by product id\n     *\n     * @param   \\Magento\\Catalog\\Model\\Product $product\n     * @return  \\Magento\\Quote\\Model\\Quote\\Item|bool\n     *\/",1757],["T_WHITESPACE","\n    ",1762],["T_PUBLIC","public",1763],["T_WHITESPACE"," ",1763],["T_FUNCTION","function",1763],["T_WHITESPACE"," ",1763],["T_STRING","getItemByProduct",1763],"(",["T_VARIABLE","$product",1763],")",["T_WHITESPACE","\n    ",1763],"{",["T_WHITESPACE","\n        ",1764],["T_FOREACH","foreach",1765],["T_WHITESPACE"," ",1765],"(",["T_VARIABLE","$this",1765],["T_OBJECT_OPERATOR","->",1765],["T_STRING","getAllItems",1765],"(",")",["T_WHITESPACE"," ",1765],["T_AS","as",1765],["T_WHITESPACE"," ",1765],["T_VARIABLE","$item",1765],")",["T_WHITESPACE"," ",1765],"{",["T_WHITESPACE","\n            ",1765],["T_IF","if",1766],["T_WHITESPACE"," ",1766],"(",["T_VARIABLE","$item",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","representProduct",1766],"(",["T_VARIABLE","$product",1766],")",")",["T_WHITESPACE"," ",1766],"{",["T_WHITESPACE","\n                ",1766],["T_RETURN","return",1767],["T_WHITESPACE"," ",1767],["T_VARIABLE","$item",1767],";",["T_WHITESPACE","\n            ",1767],"}",["T_WHITESPACE","\n        ",1768],"}",["T_WHITESPACE","\n        ",1769],["T_RETURN","return",1770],["T_WHITESPACE"," ",1770],["T_STRING","false",1770],";",["T_WHITESPACE","\n    ",1770],"}",["T_WHITESPACE","\n\n    ",1771],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",1773],["T_WHITESPACE","\n    ",1775],["T_PUBLIC","public",1776],["T_WHITESPACE"," ",1776],["T_FUNCTION","function",1776],["T_WHITESPACE"," ",1776],["T_STRING","getItemsSummaryQty",1776],"(",")",["T_WHITESPACE","\n    ",1776],"{",["T_WHITESPACE","\n        ",1777],["T_VARIABLE","$qty",1778],["T_WHITESPACE"," ",1778],"=",["T_WHITESPACE"," ",1778],["T_VARIABLE","$this",1778],["T_OBJECT_OPERATOR","->",1778],["T_STRING","getData",1778],"(",["T_CONSTANT_ENCAPSED_STRING","'all_items_qty'",1778],")",";",["T_WHITESPACE","\n        ",1778],["T_IF","if",1779],["T_WHITESPACE"," ",1779],"(",["T_STRING","null",1779],["T_WHITESPACE"," ",1779],["T_IS_IDENTICAL","===",1779],["T_WHITESPACE"," ",1779],["T_VARIABLE","$qty",1779],")",["T_WHITESPACE"," ",1779],"{",["T_WHITESPACE","\n            ",1779],["T_VARIABLE","$qty",1780],["T_WHITESPACE"," ",1780],"=",["T_WHITESPACE"," ",1780],["T_LNUMBER","0",1780],";",["T_WHITESPACE","\n            ",1780],["T_FOREACH","foreach",1781],["T_WHITESPACE"," ",1781],"(",["T_VARIABLE","$this",1781],["T_OBJECT_OPERATOR","->",1781],["T_STRING","getAllItems",1781],"(",")",["T_WHITESPACE"," ",1781],["T_AS","as",1781],["T_WHITESPACE"," ",1781],["T_VARIABLE","$item",1781],")",["T_WHITESPACE"," ",1781],"{",["T_WHITESPACE","\n                ",1781],["T_IF","if",1782],["T_WHITESPACE"," ",1782],"(",["T_VARIABLE","$item",1782],["T_OBJECT_OPERATOR","->",1782],["T_STRING","getParentItem",1782],"(",")",")",["T_WHITESPACE"," ",1782],"{",["T_WHITESPACE","\n                    ",1782],["T_CONTINUE","continue",1783],";",["T_WHITESPACE","\n                ",1783],"}",["T_WHITESPACE","\n\n                ",1784],["T_VARIABLE","$children",1786],["T_WHITESPACE"," ",1786],"=",["T_WHITESPACE"," ",1786],["T_VARIABLE","$item",1786],["T_OBJECT_OPERATOR","->",1786],["T_STRING","getChildren",1786],"(",")",";",["T_WHITESPACE","\n                ",1786],["T_IF","if",1787],["T_WHITESPACE"," ",1787],"(",["T_VARIABLE","$children",1787],["T_WHITESPACE"," ",1787],["T_BOOLEAN_AND","&&",1787],["T_WHITESPACE"," ",1787],["T_VARIABLE","$item",1787],["T_OBJECT_OPERATOR","->",1787],["T_STRING","isShipSeparately",1787],"(",")",")",["T_WHITESPACE"," ",1787],"{",["T_WHITESPACE","\n                    ",1787],["T_FOREACH","foreach",1788],["T_WHITESPACE"," ",1788],"(",["T_VARIABLE","$children",1788],["T_WHITESPACE"," ",1788],["T_AS","as",1788],["T_WHITESPACE"," ",1788],["T_VARIABLE","$child",1788],")",["T_WHITESPACE"," ",1788],"{",["T_WHITESPACE","\n                        ",1788],["T_VARIABLE","$qty",1789],["T_WHITESPACE"," ",1789],["T_PLUS_EQUAL","+=",1789],["T_WHITESPACE"," ",1789],["T_VARIABLE","$child",1789],["T_OBJECT_OPERATOR","->",1789],["T_STRING","getQty",1789],"(",")",["T_WHITESPACE"," ",1789],"*",["T_WHITESPACE"," ",1789],["T_VARIABLE","$item",1789],["T_OBJECT_OPERATOR","->",1789],["T_STRING","getQty",1789],"(",")",";",["T_WHITESPACE","\n                    ",1789],"}",["T_WHITESPACE","\n                ",1790],"}",["T_WHITESPACE"," ",1791],["T_ELSE","else",1791],["T_WHITESPACE"," ",1791],"{",["T_WHITESPACE","\n                    ",1791],["T_VARIABLE","$qty",1792],["T_WHITESPACE"," ",1792],["T_PLUS_EQUAL","+=",1792],["T_WHITESPACE"," ",1792],["T_VARIABLE","$item",1792],["T_OBJECT_OPERATOR","->",1792],["T_STRING","getQty",1792],"(",")",";",["T_WHITESPACE","\n                ",1792],"}",["T_WHITESPACE","\n            ",1793],"}",["T_WHITESPACE","\n            ",1794],["T_VARIABLE","$this",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","setData",1795],"(",["T_CONSTANT_ENCAPSED_STRING","'all_items_qty'",1795],",",["T_WHITESPACE"," ",1795],["T_VARIABLE","$qty",1795],")",";",["T_WHITESPACE","\n        ",1795],"}",["T_WHITESPACE","\n        ",1796],["T_RETURN","return",1797],["T_WHITESPACE"," ",1797],["T_VARIABLE","$qty",1797],";",["T_WHITESPACE","\n    ",1797],"}",["T_WHITESPACE","\n\n    ",1798],["T_DOC_COMMENT","\/**\n     * @return int\n     *\/",1800],["T_WHITESPACE","\n    ",1802],["T_PUBLIC","public",1803],["T_WHITESPACE"," ",1803],["T_FUNCTION","function",1803],["T_WHITESPACE"," ",1803],["T_STRING","getItemVirtualQty",1803],"(",")",["T_WHITESPACE","\n    ",1803],"{",["T_WHITESPACE","\n        ",1804],["T_VARIABLE","$qty",1805],["T_WHITESPACE"," ",1805],"=",["T_WHITESPACE"," ",1805],["T_VARIABLE","$this",1805],["T_OBJECT_OPERATOR","->",1805],["T_STRING","getData",1805],"(",["T_CONSTANT_ENCAPSED_STRING","'virtual_items_qty'",1805],")",";",["T_WHITESPACE","\n        ",1805],["T_IF","if",1806],["T_WHITESPACE"," ",1806],"(",["T_STRING","null",1806],["T_WHITESPACE"," ",1806],["T_IS_IDENTICAL","===",1806],["T_WHITESPACE"," ",1806],["T_VARIABLE","$qty",1806],")",["T_WHITESPACE"," ",1806],"{",["T_WHITESPACE","\n            ",1806],["T_VARIABLE","$qty",1807],["T_WHITESPACE"," ",1807],"=",["T_WHITESPACE"," ",1807],["T_LNUMBER","0",1807],";",["T_WHITESPACE","\n            ",1807],["T_FOREACH","foreach",1808],["T_WHITESPACE"," ",1808],"(",["T_VARIABLE","$this",1808],["T_OBJECT_OPERATOR","->",1808],["T_STRING","getAllItems",1808],"(",")",["T_WHITESPACE"," ",1808],["T_AS","as",1808],["T_WHITESPACE"," ",1808],["T_VARIABLE","$item",1808],")",["T_WHITESPACE"," ",1808],"{",["T_WHITESPACE","\n                ",1808],["T_IF","if",1809],["T_WHITESPACE"," ",1809],"(",["T_VARIABLE","$item",1809],["T_OBJECT_OPERATOR","->",1809],["T_STRING","getParentItem",1809],"(",")",")",["T_WHITESPACE"," ",1809],"{",["T_WHITESPACE","\n                    ",1809],["T_CONTINUE","continue",1810],";",["T_WHITESPACE","\n                ",1810],"}",["T_WHITESPACE","\n\n                ",1811],["T_VARIABLE","$children",1813],["T_WHITESPACE"," ",1813],"=",["T_WHITESPACE"," ",1813],["T_VARIABLE","$item",1813],["T_OBJECT_OPERATOR","->",1813],["T_STRING","getChildren",1813],"(",")",";",["T_WHITESPACE","\n                ",1813],["T_IF","if",1814],["T_WHITESPACE"," ",1814],"(",["T_VARIABLE","$children",1814],["T_WHITESPACE"," ",1814],["T_BOOLEAN_AND","&&",1814],["T_WHITESPACE"," ",1814],["T_VARIABLE","$item",1814],["T_OBJECT_OPERATOR","->",1814],["T_STRING","isShipSeparately",1814],"(",")",")",["T_WHITESPACE"," ",1814],"{",["T_WHITESPACE","\n                    ",1814],["T_FOREACH","foreach",1815],["T_WHITESPACE"," ",1815],"(",["T_VARIABLE","$children",1815],["T_WHITESPACE"," ",1815],["T_AS","as",1815],["T_WHITESPACE"," ",1815],["T_VARIABLE","$child",1815],")",["T_WHITESPACE"," ",1815],"{",["T_WHITESPACE","\n                        ",1815],["T_IF","if",1816],["T_WHITESPACE"," ",1816],"(",["T_VARIABLE","$child",1816],["T_OBJECT_OPERATOR","->",1816],["T_STRING","getProduct",1816],"(",")",["T_OBJECT_OPERATOR","->",1816],["T_STRING","getIsVirtual",1816],"(",")",")",["T_WHITESPACE"," ",1816],"{",["T_WHITESPACE","\n                            ",1816],["T_VARIABLE","$qty",1817],["T_WHITESPACE"," ",1817],["T_PLUS_EQUAL","+=",1817],["T_WHITESPACE"," ",1817],["T_VARIABLE","$child",1817],["T_OBJECT_OPERATOR","->",1817],["T_STRING","getQty",1817],"(",")",";",["T_WHITESPACE","\n                        ",1817],"}",["T_WHITESPACE","\n                    ",1818],"}",["T_WHITESPACE","\n                ",1819],"}",["T_WHITESPACE"," ",1820],["T_ELSE","else",1820],["T_WHITESPACE"," ",1820],"{",["T_WHITESPACE","\n                    ",1820],["T_IF","if",1821],["T_WHITESPACE"," ",1821],"(",["T_VARIABLE","$item",1821],["T_OBJECT_OPERATOR","->",1821],["T_STRING","getProduct",1821],"(",")",["T_OBJECT_OPERATOR","->",1821],["T_STRING","getIsVirtual",1821],"(",")",")",["T_WHITESPACE"," ",1821],"{",["T_WHITESPACE","\n                        ",1821],["T_VARIABLE","$qty",1822],["T_WHITESPACE"," ",1822],["T_PLUS_EQUAL","+=",1822],["T_WHITESPACE"," ",1822],["T_VARIABLE","$item",1822],["T_OBJECT_OPERATOR","->",1822],["T_STRING","getQty",1822],"(",")",";",["T_WHITESPACE","\n                    ",1822],"}",["T_WHITESPACE","\n                ",1823],"}",["T_WHITESPACE","\n            ",1824],"}",["T_WHITESPACE","\n            ",1825],["T_VARIABLE","$this",1826],["T_OBJECT_OPERATOR","->",1826],["T_STRING","setData",1826],"(",["T_CONSTANT_ENCAPSED_STRING","'virtual_items_qty'",1826],",",["T_WHITESPACE"," ",1826],["T_VARIABLE","$qty",1826],")",";",["T_WHITESPACE","\n        ",1826],"}",["T_WHITESPACE","\n        ",1827],["T_RETURN","return",1828],["T_WHITESPACE"," ",1828],["T_VARIABLE","$qty",1828],";",["T_WHITESPACE","\n    ",1828],"}",["T_WHITESPACE","\n\n    ",1829],["T_COMMENT","\/*********************** PAYMENTS ***************************\/",1831],["T_WHITESPACE","\n\n    ",1831],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Eav\\Model\\Entity\\Collection\\AbstractCollection\n     *\/",1833],["T_WHITESPACE","\n    ",1835],["T_PUBLIC","public",1836],["T_WHITESPACE"," ",1836],["T_FUNCTION","function",1836],["T_WHITESPACE"," ",1836],["T_STRING","getPaymentsCollection",1836],"(",")",["T_WHITESPACE","\n    ",1836],"{",["T_WHITESPACE","\n        ",1837],["T_IF","if",1838],["T_WHITESPACE"," ",1838],"(",["T_STRING","null",1838],["T_WHITESPACE"," ",1838],["T_IS_IDENTICAL","===",1838],["T_WHITESPACE"," ",1838],["T_VARIABLE","$this",1838],["T_OBJECT_OPERATOR","->",1838],["T_STRING","_payments",1838],")",["T_WHITESPACE"," ",1838],"{",["T_WHITESPACE","\n            ",1838],["T_VARIABLE","$this",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","_payments",1839],["T_WHITESPACE"," ",1839],"=",["T_WHITESPACE"," ",1839],["T_VARIABLE","$this",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","_quotePaymentCollectionFactory",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","create",1839],"(",")",["T_OBJECT_OPERATOR","->",1839],["T_STRING","setQuoteFilter",1839],"(",["T_VARIABLE","$this",1839],["T_OBJECT_OPERATOR","->",1839],["T_STRING","getId",1839],"(",")",")",";",["T_WHITESPACE","\n\n            ",1839],["T_IF","if",1841],["T_WHITESPACE"," ",1841],"(",["T_VARIABLE","$this",1841],["T_OBJECT_OPERATOR","->",1841],["T_STRING","getId",1841],"(",")",")",["T_WHITESPACE"," ",1841],"{",["T_WHITESPACE","\n                ",1841],["T_FOREACH","foreach",1842],["T_WHITESPACE"," ",1842],"(",["T_VARIABLE","$this",1842],["T_OBJECT_OPERATOR","->",1842],["T_STRING","_payments",1842],["T_WHITESPACE"," ",1842],["T_AS","as",1842],["T_WHITESPACE"," ",1842],["T_VARIABLE","$payment",1842],")",["T_WHITESPACE"," ",1842],"{",["T_WHITESPACE","\n                    ",1842],["T_VARIABLE","$payment",1843],["T_OBJECT_OPERATOR","->",1843],["T_STRING","setQuote",1843],"(",["T_VARIABLE","$this",1843],")",";",["T_WHITESPACE","\n                ",1843],"}",["T_WHITESPACE","\n            ",1844],"}",["T_WHITESPACE","\n        ",1845],"}",["T_WHITESPACE","\n        ",1846],["T_RETURN","return",1847],["T_WHITESPACE"," ",1847],["T_VARIABLE","$this",1847],["T_OBJECT_OPERATOR","->",1847],["T_STRING","_payments",1847],";",["T_WHITESPACE","\n    ",1847],"}",["T_WHITESPACE","\n\n    ",1848],["T_DOC_COMMENT","\/**\n     * @return \\Magento\\Quote\\Model\\Quote\\Payment\n     *\/",1850],["T_WHITESPACE","\n    ",1852],["T_PUBLIC","public",1853],["T_WHITESPACE"," ",1853],["T_FUNCTION","function",1853],["T_WHITESPACE"," ",1853],["T_STRING","getPayment",1853],"(",")",["T_WHITESPACE","\n    ",1853],"{",["T_WHITESPACE","\n        ",1854],["T_IF","if",1855],["T_WHITESPACE"," ",1855],"(",["T_STRING","null",1855],["T_WHITESPACE"," ",1855],["T_IS_IDENTICAL","===",1855],["T_WHITESPACE"," ",1855],["T_VARIABLE","$this",1855],["T_OBJECT_OPERATOR","->",1855],["T_STRING","_currentPayment",1855],["T_WHITESPACE"," ",1855],["T_BOOLEAN_OR","||",1855],["T_WHITESPACE"," ",1855],"!",["T_VARIABLE","$this",1855],["T_OBJECT_OPERATOR","->",1855],["T_STRING","_currentPayment",1855],")",["T_WHITESPACE"," ",1855],"{",["T_WHITESPACE","\n            ",1855],["T_VARIABLE","$this",1856],["T_OBJECT_OPERATOR","->",1856],["T_STRING","_currentPayment",1856],["T_WHITESPACE"," ",1856],"=",["T_WHITESPACE"," ",1856],["T_VARIABLE","$this",1856],["T_OBJECT_OPERATOR","->",1856],["T_STRING","_quotePaymentCollectionFactory",1856],["T_OBJECT_OPERATOR","->",1856],["T_STRING","create",1856],"(",")",["T_WHITESPACE","\n                ",1856],["T_OBJECT_OPERATOR","->",1857],["T_STRING","setQuoteFilter",1857],"(",["T_VARIABLE","$this",1857],["T_OBJECT_OPERATOR","->",1857],["T_STRING","getId",1857],"(",")",")",["T_WHITESPACE","\n                ",1857],["T_OBJECT_OPERATOR","->",1858],["T_STRING","getFirstItem",1858],"(",")",";",["T_WHITESPACE","\n        ",1858],"}",["T_WHITESPACE","\n        ",1859],["T_IF","if",1860],["T_WHITESPACE"," ",1860],"(",["T_VARIABLE","$payment",1860],["T_WHITESPACE"," ",1860],"=",["T_WHITESPACE"," ",1860],["T_VARIABLE","$this",1860],["T_OBJECT_OPERATOR","->",1860],["T_STRING","_currentPayment",1860],")",["T_WHITESPACE"," ",1860],"{",["T_WHITESPACE","\n            ",1860],["T_IF","if",1861],["T_WHITESPACE"," ",1861],"(",["T_VARIABLE","$this",1861],["T_OBJECT_OPERATOR","->",1861],["T_STRING","getId",1861],"(",")",")",["T_WHITESPACE"," ",1861],"{",["T_WHITESPACE","\n                ",1861],["T_VARIABLE","$payment",1862],["T_OBJECT_OPERATOR","->",1862],["T_STRING","setQuote",1862],"(",["T_VARIABLE","$this",1862],")",";",["T_WHITESPACE","\n            ",1862],"}",["T_WHITESPACE","\n            ",1863],["T_IF","if",1864],["T_WHITESPACE"," ",1864],"(","!",["T_VARIABLE","$payment",1864],["T_OBJECT_OPERATOR","->",1864],["T_STRING","isDeleted",1864],"(",")",")",["T_WHITESPACE"," ",1864],"{",["T_WHITESPACE","\n                ",1864],["T_RETURN","return",1865],["T_WHITESPACE"," ",1865],["T_VARIABLE","$payment",1865],";",["T_WHITESPACE","\n            ",1865],"}",["T_WHITESPACE","\n        ",1866],"}",["T_WHITESPACE","\n        ",1867],["T_VARIABLE","$payment",1868],["T_WHITESPACE"," ",1868],"=",["T_WHITESPACE"," ",1868],["T_VARIABLE","$this",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","_quotePaymentFactory",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","create",1868],"(",")",";",["T_WHITESPACE","\n        ",1868],["T_VARIABLE","$this",1869],["T_OBJECT_OPERATOR","->",1869],["T_STRING","addPayment",1869],"(",["T_VARIABLE","$payment",1869],")",";",["T_WHITESPACE","\n        ",1869],["T_RETURN","return",1870],["T_WHITESPACE"," ",1870],["T_VARIABLE","$payment",1870],";",["T_WHITESPACE","\n    ",1870],"}",["T_WHITESPACE","\n\n    ",1871],["T_DOC_COMMENT","\/**\n     * Adds a payment to quote\n     *\n     * @param PaymentInterface $payment\n     * @return $this\n     *\/",1873],["T_WHITESPACE","\n    ",1878],["T_PROTECTED","protected",1879],["T_WHITESPACE"," ",1879],["T_FUNCTION","function",1879],["T_WHITESPACE"," ",1879],["T_STRING","addPayment",1879],"(",["T_STRING","PaymentInterface",1879],["T_WHITESPACE"," ",1879],["T_VARIABLE","$payment",1879],")",["T_WHITESPACE","\n    ",1879],"{",["T_WHITESPACE","\n        ",1880],["T_VARIABLE","$payment",1881],["T_OBJECT_OPERATOR","->",1881],["T_STRING","setQuote",1881],"(",["T_VARIABLE","$this",1881],")",";",["T_WHITESPACE","\n        ",1881],["T_IF","if",1882],["T_WHITESPACE"," ",1882],"(","!",["T_VARIABLE","$payment",1882],["T_OBJECT_OPERATOR","->",1882],["T_STRING","getId",1882],"(",")",")",["T_WHITESPACE"," ",1882],"{",["T_WHITESPACE","\n            ",1882],["T_VARIABLE","$this",1883],["T_OBJECT_OPERATOR","->",1883],["T_STRING","getPaymentsCollection",1883],"(",")",["T_OBJECT_OPERATOR","->",1883],["T_STRING","addItem",1883],"(",["T_VARIABLE","$payment",1883],")",";",["T_WHITESPACE","\n        ",1883],"}",["T_WHITESPACE","\n        ",1884],["T_RETURN","return",1885],["T_WHITESPACE"," ",1885],["T_VARIABLE","$this",1885],";",["T_WHITESPACE","\n    ",1885],"}",["T_WHITESPACE","\n\n    ",1886],["T_DOC_COMMENT","\/**\n     * Sets payment to current quote\n     *\n     * @param PaymentInterface $payment\n     * @return PaymentInterface\n     *\/",1888],["T_WHITESPACE","\n    ",1893],["T_PUBLIC","public",1894],["T_WHITESPACE"," ",1894],["T_FUNCTION","function",1894],["T_WHITESPACE"," ",1894],["T_STRING","setPayment",1894],"(",["T_STRING","PaymentInterface",1894],["T_WHITESPACE"," ",1894],["T_VARIABLE","$payment",1894],")",["T_WHITESPACE","\n    ",1894],"{",["T_WHITESPACE","\n        ",1895],["T_IF","if",1896],["T_WHITESPACE"," ",1896],"(","!",["T_VARIABLE","$this",1896],["T_OBJECT_OPERATOR","->",1896],["T_STRING","getIsMultiPayment",1896],"(",")",["T_WHITESPACE"," ",1896],["T_BOOLEAN_AND","&&",1896],["T_WHITESPACE"," ",1896],"(",["T_VARIABLE","$old",1896],["T_WHITESPACE"," ",1896],"=",["T_WHITESPACE"," ",1896],["T_VARIABLE","$this",1896],["T_OBJECT_OPERATOR","->",1896],["T_STRING","getPayment",1896],"(",")",")",")",["T_WHITESPACE"," ",1896],"{",["T_WHITESPACE","\n            ",1896],["T_VARIABLE","$payment",1897],["T_OBJECT_OPERATOR","->",1897],["T_STRING","setId",1897],"(",["T_VARIABLE","$old",1897],["T_OBJECT_OPERATOR","->",1897],["T_STRING","getId",1897],"(",")",")",";",["T_WHITESPACE","\n        ",1897],"}",["T_WHITESPACE","\n        ",1898],["T_VARIABLE","$this",1899],["T_OBJECT_OPERATOR","->",1899],["T_STRING","addPayment",1899],"(",["T_VARIABLE","$payment",1899],")",";",["T_WHITESPACE","\n\n        ",1899],["T_RETURN","return",1901],["T_WHITESPACE"," ",1901],["T_VARIABLE","$payment",1901],";",["T_WHITESPACE","\n    ",1901],"}",["T_WHITESPACE","\n\n    ",1902],["T_DOC_COMMENT","\/**\n     * @return $this\n     *\/",1904],["T_WHITESPACE","\n    ",1906],["T_PUBLIC","public",1907],["T_WHITESPACE"," ",1907],["T_FUNCTION","function",1907],["T_WHITESPACE"," ",1907],["T_STRING","removePayment",1907],"(",")",["T_WHITESPACE","\n    ",1907],"{",["T_WHITESPACE","\n        ",1908],["T_VARIABLE","$this",1909],["T_OBJECT_OPERATOR","->",1909],["T_STRING","getPayment",1909],"(",")",["T_OBJECT_OPERATOR","->",1909],["T_STRING","isDeleted",1909],"(",["T_STRING","true",1909],")",";",["T_WHITESPACE","\n        ",1909],["T_RETURN","return",1910],["T_WHITESPACE"," ",1910],["T_VARIABLE","$this",1910],";",["T_WHITESPACE","\n    ",1910],"}",["T_WHITESPACE","\n\n    ",1911],["T_DOC_COMMENT","\/**\n     * Collect totals\n     *\n     * @return $this\n     *\/",1913],["T_WHITESPACE","\n    ",1917],["T_PUBLIC","public",1918],["T_WHITESPACE"," ",1918],["T_FUNCTION","function",1918],["T_WHITESPACE"," ",1918],["T_STRING","collectTotals",1918],"(",")",["T_WHITESPACE","\n    ",1918],"{",["T_WHITESPACE","\n        ",1919],["T_IF","if",1920],["T_WHITESPACE"," ",1920],"(",["T_VARIABLE","$this",1920],["T_OBJECT_OPERATOR","->",1920],["T_STRING","getTotalsCollectedFlag",1920],"(",")",")",["T_WHITESPACE"," ",1920],"{",["T_WHITESPACE","\n            ",1920],["T_RETURN","return",1921],["T_WHITESPACE"," ",1921],["T_VARIABLE","$this",1921],";",["T_WHITESPACE","\n        ",1921],"}",["T_WHITESPACE","\n\n        ",1922],["T_VARIABLE","$total",1924],["T_WHITESPACE"," ",1924],"=",["T_WHITESPACE"," ",1924],["T_VARIABLE","$this",1924],["T_OBJECT_OPERATOR","->",1924],["T_STRING","totalsCollector",1924],["T_OBJECT_OPERATOR","->",1924],["T_STRING","collect",1924],"(",["T_VARIABLE","$this",1924],")",";",["T_WHITESPACE","\n        ",1924],["T_VARIABLE","$this",1925],["T_OBJECT_OPERATOR","->",1925],["T_STRING","addData",1925],"(",["T_VARIABLE","$total",1925],["T_OBJECT_OPERATOR","->",1925],["T_STRING","getData",1925],"(",")",")",";",["T_WHITESPACE","\n\n        ",1925],["T_VARIABLE","$this",1927],["T_OBJECT_OPERATOR","->",1927],["T_STRING","setTotalsCollectedFlag",1927],"(",["T_STRING","true",1927],")",";",["T_WHITESPACE","\n        ",1927],["T_RETURN","return",1928],["T_WHITESPACE"," ",1928],["T_VARIABLE","$this",1928],";",["T_WHITESPACE","\n    ",1928],"}",["T_WHITESPACE","\n\n    ",1929],["T_DOC_COMMENT","\/**\n     * Get all quote totals (sorted by priority)\n     *\n     * @return array\n     *\/",1931],["T_WHITESPACE","\n    ",1935],["T_PUBLIC","public",1936],["T_WHITESPACE"," ",1936],["T_FUNCTION","function",1936],["T_WHITESPACE"," ",1936],["T_STRING","getTotals",1936],"(",")",["T_WHITESPACE","\n    ",1936],"{",["T_WHITESPACE","\n        ",1937],["T_RETURN","return",1938],["T_WHITESPACE"," ",1938],["T_VARIABLE","$this",1938],["T_OBJECT_OPERATOR","->",1938],["T_STRING","totalsReader",1938],["T_OBJECT_OPERATOR","->",1938],["T_STRING","fetch",1938],"(",["T_VARIABLE","$this",1938],",",["T_WHITESPACE"," ",1938],["T_VARIABLE","$this",1938],["T_OBJECT_OPERATOR","->",1938],["T_STRING","getData",1938],"(",")",")",";",["T_WHITESPACE","\n    ",1938],"}",["T_WHITESPACE","\n\n    ",1939],["T_DOC_COMMENT","\/**\n     * @param string $message\n     * @param string $index\n     * @return $this\n     *\/",1941],["T_WHITESPACE","\n    ",1945],["T_PUBLIC","public",1946],["T_WHITESPACE"," ",1946],["T_FUNCTION","function",1946],["T_WHITESPACE"," ",1946],["T_STRING","addMessage",1946],"(",["T_VARIABLE","$message",1946],",",["T_WHITESPACE"," ",1946],["T_VARIABLE","$index",1946],["T_WHITESPACE"," ",1946],"=",["T_WHITESPACE"," ",1946],["T_CONSTANT_ENCAPSED_STRING","'error'",1946],")",["T_WHITESPACE","\n    ",1946],"{",["T_WHITESPACE","\n        ",1947],["T_VARIABLE","$messages",1948],["T_WHITESPACE"," ",1948],"=",["T_WHITESPACE"," ",1948],["T_VARIABLE","$this",1948],["T_OBJECT_OPERATOR","->",1948],["T_STRING","getData",1948],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",1948],")",";",["T_WHITESPACE","\n        ",1948],["T_IF","if",1949],["T_WHITESPACE"," ",1949],"(",["T_STRING","null",1949],["T_WHITESPACE"," ",1949],["T_IS_IDENTICAL","===",1949],["T_WHITESPACE"," ",1949],["T_VARIABLE","$messages",1949],")",["T_WHITESPACE"," ",1949],"{",["T_WHITESPACE","\n            ",1949],["T_VARIABLE","$messages",1950],["T_WHITESPACE"," ",1950],"=",["T_WHITESPACE"," ",1950],"[","]",";",["T_WHITESPACE","\n        ",1950],"}",["T_WHITESPACE","\n\n        ",1951],["T_IF","if",1953],["T_WHITESPACE"," ",1953],"(",["T_ISSET","isset",1953],"(",["T_VARIABLE","$messages",1953],"[",["T_VARIABLE","$index",1953],"]",")",")",["T_WHITESPACE"," ",1953],"{",["T_WHITESPACE","\n            ",1953],["T_RETURN","return",1954],["T_WHITESPACE"," ",1954],["T_VARIABLE","$this",1954],";",["T_WHITESPACE","\n        ",1954],"}",["T_WHITESPACE","\n\n        ",1955],["T_VARIABLE","$message",1957],["T_WHITESPACE"," ",1957],"=",["T_WHITESPACE"," ",1957],["T_VARIABLE","$this",1957],["T_OBJECT_OPERATOR","->",1957],["T_STRING","messageFactory",1957],["T_OBJECT_OPERATOR","->",1957],["T_STRING","create",1957],"(",["T_NS_SEPARATOR","\\",1957],["T_STRING","Magento",1957],["T_NS_SEPARATOR","\\",1957],["T_STRING","Framework",1957],["T_NS_SEPARATOR","\\",1957],["T_STRING","Message",1957],["T_NS_SEPARATOR","\\",1957],["T_STRING","MessageInterface",1957],["T_DOUBLE_COLON","::",1957],["T_STRING","TYPE_ERROR",1957],",",["T_WHITESPACE"," ",1957],["T_VARIABLE","$message",1957],")",";",["T_WHITESPACE","\n\n        ",1957],["T_VARIABLE","$messages",1959],"[",["T_VARIABLE","$index",1959],"]",["T_WHITESPACE"," ",1959],"=",["T_WHITESPACE"," ",1959],["T_VARIABLE","$message",1959],";",["T_WHITESPACE","\n        ",1959],["T_VARIABLE","$this",1960],["T_OBJECT_OPERATOR","->",1960],["T_STRING","setData",1960],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",1960],",",["T_WHITESPACE"," ",1960],["T_VARIABLE","$messages",1960],")",";",["T_WHITESPACE","\n        ",1960],["T_RETURN","return",1961],["T_WHITESPACE"," ",1961],["T_VARIABLE","$this",1961],";",["T_WHITESPACE","\n    ",1961],"}",["T_WHITESPACE","\n\n    ",1962],["T_DOC_COMMENT","\/**\n     * Retrieve current quote messages\n     *\n     * @return array\n     *\/",1964],["T_WHITESPACE","\n    ",1968],["T_PUBLIC","public",1969],["T_WHITESPACE"," ",1969],["T_FUNCTION","function",1969],["T_WHITESPACE"," ",1969],["T_STRING","getMessages",1969],"(",")",["T_WHITESPACE","\n    ",1969],"{",["T_WHITESPACE","\n        ",1970],["T_VARIABLE","$messages",1971],["T_WHITESPACE"," ",1971],"=",["T_WHITESPACE"," ",1971],["T_VARIABLE","$this",1971],["T_OBJECT_OPERATOR","->",1971],["T_STRING","getData",1971],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",1971],")",";",["T_WHITESPACE","\n        ",1971],["T_IF","if",1972],["T_WHITESPACE"," ",1972],"(",["T_STRING","null",1972],["T_WHITESPACE"," ",1972],["T_IS_IDENTICAL","===",1972],["T_WHITESPACE"," ",1972],["T_VARIABLE","$messages",1972],")",["T_WHITESPACE"," ",1972],"{",["T_WHITESPACE","\n            ",1972],["T_VARIABLE","$messages",1973],["T_WHITESPACE"," ",1973],"=",["T_WHITESPACE"," ",1973],"[","]",";",["T_WHITESPACE","\n            ",1973],["T_VARIABLE","$this",1974],["T_OBJECT_OPERATOR","->",1974],["T_STRING","setData",1974],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",1974],",",["T_WHITESPACE"," ",1974],["T_VARIABLE","$messages",1974],")",";",["T_WHITESPACE","\n        ",1974],"}",["T_WHITESPACE","\n        ",1975],["T_RETURN","return",1976],["T_WHITESPACE"," ",1976],["T_VARIABLE","$messages",1976],";",["T_WHITESPACE","\n    ",1976],"}",["T_WHITESPACE","\n\n    ",1977],["T_DOC_COMMENT","\/**\n     * Retrieve current quote errors\n     *\n     * @return array\n     *\/",1979],["T_WHITESPACE","\n    ",1983],["T_PUBLIC","public",1984],["T_WHITESPACE"," ",1984],["T_FUNCTION","function",1984],["T_WHITESPACE"," ",1984],["T_STRING","getErrors",1984],"(",")",["T_WHITESPACE","\n    ",1984],"{",["T_WHITESPACE","\n        ",1985],["T_VARIABLE","$errors",1986],["T_WHITESPACE"," ",1986],"=",["T_WHITESPACE"," ",1986],"[","]",";",["T_WHITESPACE","\n        ",1986],["T_FOREACH","foreach",1987],["T_WHITESPACE"," ",1987],"(",["T_VARIABLE","$this",1987],["T_OBJECT_OPERATOR","->",1987],["T_STRING","getMessages",1987],"(",")",["T_WHITESPACE"," ",1987],["T_AS","as",1987],["T_WHITESPACE"," ",1987],["T_VARIABLE","$message",1987],")",["T_WHITESPACE"," ",1987],"{",["T_WHITESPACE","\n            ",1987],["T_COMMENT","\/* @var $error \\Magento\\Framework\\Message\\AbstractMessage *\/",1988],["T_WHITESPACE","\n            ",1988],["T_IF","if",1989],["T_WHITESPACE"," ",1989],"(",["T_VARIABLE","$message",1989],["T_OBJECT_OPERATOR","->",1989],["T_STRING","getType",1989],"(",")",["T_WHITESPACE"," ",1989],["T_IS_EQUAL","==",1989],["T_WHITESPACE"," ",1989],["T_NS_SEPARATOR","\\",1989],["T_STRING","Magento",1989],["T_NS_SEPARATOR","\\",1989],["T_STRING","Framework",1989],["T_NS_SEPARATOR","\\",1989],["T_STRING","Message",1989],["T_NS_SEPARATOR","\\",1989],["T_STRING","MessageInterface",1989],["T_DOUBLE_COLON","::",1989],["T_STRING","TYPE_ERROR",1989],")",["T_WHITESPACE"," ",1989],"{",["T_WHITESPACE","\n                ",1989],["T_STRING","array_push",1990],"(",["T_VARIABLE","$errors",1990],",",["T_WHITESPACE"," ",1990],["T_VARIABLE","$message",1990],")",";",["T_WHITESPACE","\n            ",1990],"}",["T_WHITESPACE","\n        ",1991],"}",["T_WHITESPACE","\n        ",1992],["T_RETURN","return",1993],["T_WHITESPACE"," ",1993],["T_VARIABLE","$errors",1993],";",["T_WHITESPACE","\n    ",1993],"}",["T_WHITESPACE","\n\n    ",1994],["T_DOC_COMMENT","\/**\n     * Sets flag, whether this quote has some error associated with it.\n     *\n     * @codeCoverageIgnore\n     *\n     * @param bool $flag\n     * @return $this\n     *\/",1996],["T_WHITESPACE","\n    ",2003],["T_PROTECTED","protected",2004],["T_WHITESPACE"," ",2004],["T_FUNCTION","function",2004],["T_WHITESPACE"," ",2004],["T_STRING","_setHasError",2004],"(",["T_VARIABLE","$flag",2004],")",["T_WHITESPACE","\n    ",2004],"{",["T_WHITESPACE","\n        ",2005],["T_RETURN","return",2006],["T_WHITESPACE"," ",2006],["T_VARIABLE","$this",2006],["T_OBJECT_OPERATOR","->",2006],["T_STRING","setData",2006],"(",["T_CONSTANT_ENCAPSED_STRING","'has_error'",2006],",",["T_WHITESPACE"," ",2006],["T_VARIABLE","$flag",2006],")",";",["T_WHITESPACE","\n    ",2006],"}",["T_WHITESPACE","\n\n    ",2007],["T_DOC_COMMENT","\/**\n     * Sets flag, whether this quote has some error associated with it.\n     * When TRUE - also adds 'unknown' error information to list of quote errors.\n     * When FALSE - clears whole list of quote errors.\n     * It's recommended to use addErrorInfo() instead - to be able to remove error statuses later.\n     *\n     * @param bool $flag\n     * @return $this\n     * @see addErrorInfo()\n     *\/",2009],["T_WHITESPACE","\n    ",2018],["T_PUBLIC","public",2019],["T_WHITESPACE"," ",2019],["T_FUNCTION","function",2019],["T_WHITESPACE"," ",2019],["T_STRING","setHasError",2019],"(",["T_VARIABLE","$flag",2019],")",["T_WHITESPACE","\n    ",2019],"{",["T_WHITESPACE","\n        ",2020],["T_IF","if",2021],["T_WHITESPACE"," ",2021],"(",["T_VARIABLE","$flag",2021],")",["T_WHITESPACE"," ",2021],"{",["T_WHITESPACE","\n            ",2021],["T_VARIABLE","$this",2022],["T_OBJECT_OPERATOR","->",2022],["T_STRING","addErrorInfo",2022],"(",")",";",["T_WHITESPACE","\n        ",2022],"}",["T_WHITESPACE"," ",2023],["T_ELSE","else",2023],["T_WHITESPACE"," ",2023],"{",["T_WHITESPACE","\n            ",2023],["T_VARIABLE","$this",2024],["T_OBJECT_OPERATOR","->",2024],["T_STRING","_clearErrorInfo",2024],"(",")",";",["T_WHITESPACE","\n        ",2024],"}",["T_WHITESPACE","\n        ",2025],["T_RETURN","return",2026],["T_WHITESPACE"," ",2026],["T_VARIABLE","$this",2026],";",["T_WHITESPACE","\n    ",2026],"}",["T_WHITESPACE","\n\n    ",2027],["T_DOC_COMMENT","\/**\n     * Clears list of errors, associated with this quote.\n     * Also automatically removes error-flag from oneself.\n     *\n     * @return $this\n     *\/",2029],["T_WHITESPACE","\n    ",2034],["T_PROTECTED","protected",2035],["T_WHITESPACE"," ",2035],["T_FUNCTION","function",2035],["T_WHITESPACE"," ",2035],["T_STRING","_clearErrorInfo",2035],"(",")",["T_WHITESPACE","\n    ",2035],"{",["T_WHITESPACE","\n        ",2036],["T_VARIABLE","$this",2037],["T_OBJECT_OPERATOR","->",2037],["T_STRING","_errorInfoGroups",2037],["T_WHITESPACE"," ",2037],"=",["T_WHITESPACE"," ",2037],"[","]",";",["T_WHITESPACE","\n        ",2037],["T_VARIABLE","$this",2038],["T_OBJECT_OPERATOR","->",2038],["T_STRING","_setHasError",2038],"(",["T_STRING","false",2038],")",";",["T_WHITESPACE","\n        ",2038],["T_RETURN","return",2039],["T_WHITESPACE"," ",2039],["T_VARIABLE","$this",2039],";",["T_WHITESPACE","\n    ",2039],"}",["T_WHITESPACE","\n\n    ",2040],["T_DOC_COMMENT","\/**\n     * Adds error information to the quote.\n     * Automatically sets error flag.\n     *\n     * @param string $type An internal error type ('error', 'qty', etc.), passed then to adding messages routine\n     * @param string|null $origin Usually a name of module, that embeds error\n     * @param int|null $code Error code, unique for origin, that sets it\n     * @param string|null $message Error message\n     * @param \\Magento\\Framework\\DataObject|null $additionalData Any additional data, that caller would like to store\n     * @return $this\n     *\/",2042],["T_WHITESPACE","\n    ",2052],["T_PUBLIC","public",2053],["T_WHITESPACE"," ",2053],["T_FUNCTION","function",2053],["T_WHITESPACE"," ",2053],["T_STRING","addErrorInfo",2053],"(",["T_WHITESPACE","\n        ",2053],["T_VARIABLE","$type",2054],["T_WHITESPACE"," ",2054],"=",["T_WHITESPACE"," ",2054],["T_CONSTANT_ENCAPSED_STRING","'error'",2054],",",["T_WHITESPACE","\n        ",2054],["T_VARIABLE","$origin",2055],["T_WHITESPACE"," ",2055],"=",["T_WHITESPACE"," ",2055],["T_STRING","null",2055],",",["T_WHITESPACE","\n        ",2055],["T_VARIABLE","$code",2056],["T_WHITESPACE"," ",2056],"=",["T_WHITESPACE"," ",2056],["T_STRING","null",2056],",",["T_WHITESPACE","\n        ",2056],["T_VARIABLE","$message",2057],["T_WHITESPACE"," ",2057],"=",["T_WHITESPACE"," ",2057],["T_STRING","null",2057],",",["T_WHITESPACE","\n        ",2057],["T_VARIABLE","$additionalData",2058],["T_WHITESPACE"," ",2058],"=",["T_WHITESPACE"," ",2058],["T_STRING","null",2058],["T_WHITESPACE","\n    ",2058],")",["T_WHITESPACE"," ",2059],"{",["T_WHITESPACE","\n        ",2059],["T_IF","if",2060],["T_WHITESPACE"," ",2060],"(","!",["T_ISSET","isset",2060],"(",["T_VARIABLE","$this",2060],["T_OBJECT_OPERATOR","->",2060],["T_STRING","_errorInfoGroups",2060],"[",["T_VARIABLE","$type",2060],"]",")",")",["T_WHITESPACE"," ",2060],"{",["T_WHITESPACE","\n            ",2060],["T_VARIABLE","$this",2061],["T_OBJECT_OPERATOR","->",2061],["T_STRING","_errorInfoGroups",2061],"[",["T_VARIABLE","$type",2061],"]",["T_WHITESPACE"," ",2061],"=",["T_WHITESPACE"," ",2061],["T_VARIABLE","$this",2061],["T_OBJECT_OPERATOR","->",2061],["T_STRING","_statusListFactory",2061],["T_OBJECT_OPERATOR","->",2061],["T_STRING","create",2061],"(",")",";",["T_WHITESPACE","\n        ",2061],"}",["T_WHITESPACE","\n\n        ",2062],["T_VARIABLE","$this",2064],["T_OBJECT_OPERATOR","->",2064],["T_STRING","_errorInfoGroups",2064],"[",["T_VARIABLE","$type",2064],"]",["T_OBJECT_OPERATOR","->",2064],["T_STRING","addItem",2064],"(",["T_VARIABLE","$origin",2064],",",["T_WHITESPACE"," ",2064],["T_VARIABLE","$code",2064],",",["T_WHITESPACE"," ",2064],["T_VARIABLE","$message",2064],",",["T_WHITESPACE"," ",2064],["T_VARIABLE","$additionalData",2064],")",";",["T_WHITESPACE","\n\n        ",2064],["T_IF","if",2066],["T_WHITESPACE"," ",2066],"(",["T_VARIABLE","$message",2066],["T_WHITESPACE"," ",2066],["T_IS_NOT_IDENTICAL","!==",2066],["T_WHITESPACE"," ",2066],["T_STRING","null",2066],")",["T_WHITESPACE"," ",2066],"{",["T_WHITESPACE","\n            ",2066],["T_VARIABLE","$this",2067],["T_OBJECT_OPERATOR","->",2067],["T_STRING","addMessage",2067],"(",["T_VARIABLE","$message",2067],",",["T_WHITESPACE"," ",2067],["T_VARIABLE","$type",2067],")",";",["T_WHITESPACE","\n        ",2067],"}",["T_WHITESPACE","\n        ",2068],["T_VARIABLE","$this",2069],["T_OBJECT_OPERATOR","->",2069],["T_STRING","_setHasError",2069],"(",["T_STRING","true",2069],")",";",["T_WHITESPACE","\n\n        ",2069],["T_RETURN","return",2071],["T_WHITESPACE"," ",2071],["T_VARIABLE","$this",2071],";",["T_WHITESPACE","\n    ",2071],"}",["T_WHITESPACE","\n\n    ",2072],["T_DOC_COMMENT","\/**\n     * Removes error infos, that have parameters equal to passed in $params.\n     * $params can have following keys (if not set - then any item is good for this key):\n     *   'origin', 'code', 'message'\n     *\n     * @param string $type An internal error type ('error', 'qty', etc.), passed then to adding messages routine\n     * @param array $params\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",2074],["T_WHITESPACE","\n    ",2083],["T_PUBLIC","public",2084],["T_WHITESPACE"," ",2084],["T_FUNCTION","function",2084],["T_WHITESPACE"," ",2084],["T_STRING","removeErrorInfosByParams",2084],"(",["T_VARIABLE","$type",2084],",",["T_WHITESPACE"," ",2084],["T_VARIABLE","$params",2084],")",["T_WHITESPACE","\n    ",2084],"{",["T_WHITESPACE","\n        ",2085],["T_IF","if",2086],["T_WHITESPACE"," ",2086],"(",["T_VARIABLE","$type",2086],["T_WHITESPACE"," ",2086],["T_BOOLEAN_AND","&&",2086],["T_WHITESPACE"," ",2086],"!",["T_ISSET","isset",2086],"(",["T_VARIABLE","$this",2086],["T_OBJECT_OPERATOR","->",2086],["T_STRING","_errorInfoGroups",2086],"[",["T_VARIABLE","$type",2086],"]",")",")",["T_WHITESPACE"," ",2086],"{",["T_WHITESPACE","\n            ",2086],["T_RETURN","return",2087],["T_WHITESPACE"," ",2087],["T_VARIABLE","$this",2087],";",["T_WHITESPACE","\n        ",2087],"}",["T_WHITESPACE","\n\n        ",2088],["T_VARIABLE","$errorLists",2090],["T_WHITESPACE"," ",2090],"=",["T_WHITESPACE"," ",2090],"[","]",";",["T_WHITESPACE","\n        ",2090],["T_IF","if",2091],["T_WHITESPACE"," ",2091],"(",["T_VARIABLE","$type",2091],")",["T_WHITESPACE"," ",2091],"{",["T_WHITESPACE","\n            ",2091],["T_VARIABLE","$errorLists",2092],"[","]",["T_WHITESPACE"," ",2092],"=",["T_WHITESPACE"," ",2092],["T_VARIABLE","$this",2092],["T_OBJECT_OPERATOR","->",2092],["T_STRING","_errorInfoGroups",2092],"[",["T_VARIABLE","$type",2092],"]",";",["T_WHITESPACE","\n        ",2092],"}",["T_WHITESPACE"," ",2093],["T_ELSE","else",2093],["T_WHITESPACE"," ",2093],"{",["T_WHITESPACE","\n            ",2093],["T_VARIABLE","$errorLists",2094],["T_WHITESPACE"," ",2094],"=",["T_WHITESPACE"," ",2094],["T_VARIABLE","$this",2094],["T_OBJECT_OPERATOR","->",2094],["T_STRING","_errorInfoGroups",2094],";",["T_WHITESPACE","\n        ",2094],"}",["T_WHITESPACE","\n\n        ",2095],["T_FOREACH","foreach",2097],["T_WHITESPACE"," ",2097],"(",["T_VARIABLE","$errorLists",2097],["T_WHITESPACE"," ",2097],["T_AS","as",2097],["T_WHITESPACE"," ",2097],["T_VARIABLE","$type",2097],["T_WHITESPACE"," ",2097],["T_DOUBLE_ARROW","=>",2097],["T_WHITESPACE"," ",2097],["T_VARIABLE","$errorList",2097],")",["T_WHITESPACE"," ",2097],"{",["T_WHITESPACE","\n            ",2097],["T_VARIABLE","$removedItems",2098],["T_WHITESPACE"," ",2098],"=",["T_WHITESPACE"," ",2098],["T_VARIABLE","$errorList",2098],["T_OBJECT_OPERATOR","->",2098],["T_STRING","removeItemsByParams",2098],"(",["T_VARIABLE","$params",2098],")",";",["T_WHITESPACE","\n            ",2098],["T_FOREACH","foreach",2099],["T_WHITESPACE"," ",2099],"(",["T_VARIABLE","$removedItems",2099],["T_WHITESPACE"," ",2099],["T_AS","as",2099],["T_WHITESPACE"," ",2099],["T_VARIABLE","$item",2099],")",["T_WHITESPACE"," ",2099],"{",["T_WHITESPACE","\n                ",2099],["T_IF","if",2100],["T_WHITESPACE"," ",2100],"(",["T_VARIABLE","$item",2100],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",2100],"]",["T_WHITESPACE"," ",2100],["T_IS_NOT_IDENTICAL","!==",2100],["T_WHITESPACE"," ",2100],["T_STRING","null",2100],")",["T_WHITESPACE"," ",2100],"{",["T_WHITESPACE","\n                    ",2100],["T_VARIABLE","$this",2101],["T_OBJECT_OPERATOR","->",2101],["T_STRING","removeMessageByText",2101],"(",["T_VARIABLE","$type",2101],",",["T_WHITESPACE"," ",2101],["T_VARIABLE","$item",2101],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",2101],"]",")",";",["T_WHITESPACE","\n                ",2101],"}",["T_WHITESPACE","\n            ",2102],"}",["T_WHITESPACE","\n        ",2103],"}",["T_WHITESPACE","\n\n        ",2104],["T_VARIABLE","$errorsExist",2106],["T_WHITESPACE"," ",2106],"=",["T_WHITESPACE"," ",2106],["T_STRING","false",2106],";",["T_WHITESPACE","\n        ",2106],["T_FOREACH","foreach",2107],["T_WHITESPACE"," ",2107],"(",["T_VARIABLE","$this",2107],["T_OBJECT_OPERATOR","->",2107],["T_STRING","_errorInfoGroups",2107],["T_WHITESPACE"," ",2107],["T_AS","as",2107],["T_WHITESPACE"," ",2107],["T_VARIABLE","$errorListCheck",2107],")",["T_WHITESPACE"," ",2107],"{",["T_WHITESPACE","\n            ",2107],["T_IF","if",2108],["T_WHITESPACE"," ",2108],"(",["T_VARIABLE","$errorListCheck",2108],["T_OBJECT_OPERATOR","->",2108],["T_STRING","getItems",2108],"(",")",")",["T_WHITESPACE"," ",2108],"{",["T_WHITESPACE","\n                ",2108],["T_VARIABLE","$errorsExist",2109],["T_WHITESPACE"," ",2109],"=",["T_WHITESPACE"," ",2109],["T_STRING","true",2109],";",["T_WHITESPACE","\n                ",2109],["T_BREAK","break",2110],";",["T_WHITESPACE","\n            ",2110],"}",["T_WHITESPACE","\n        ",2111],"}",["T_WHITESPACE","\n        ",2112],["T_IF","if",2113],["T_WHITESPACE"," ",2113],"(","!",["T_VARIABLE","$errorsExist",2113],")",["T_WHITESPACE"," ",2113],"{",["T_WHITESPACE","\n            ",2113],["T_VARIABLE","$this",2114],["T_OBJECT_OPERATOR","->",2114],["T_STRING","_setHasError",2114],"(",["T_STRING","false",2114],")",";",["T_WHITESPACE","\n        ",2114],"}",["T_WHITESPACE","\n\n        ",2115],["T_RETURN","return",2117],["T_WHITESPACE"," ",2117],["T_VARIABLE","$this",2117],";",["T_WHITESPACE","\n    ",2117],"}",["T_WHITESPACE","\n\n    ",2118],["T_DOC_COMMENT","\/**\n     * Removes message by text\n     *\n     * @param string $type\n     * @param string $text\n     * @return $this\n     *\/",2120],["T_WHITESPACE","\n    ",2126],["T_PUBLIC","public",2127],["T_WHITESPACE"," ",2127],["T_FUNCTION","function",2127],["T_WHITESPACE"," ",2127],["T_STRING","removeMessageByText",2127],"(",["T_VARIABLE","$type",2127],",",["T_WHITESPACE"," ",2127],["T_VARIABLE","$text",2127],")",["T_WHITESPACE","\n    ",2127],"{",["T_WHITESPACE","\n        ",2128],["T_VARIABLE","$messages",2129],["T_WHITESPACE"," ",2129],"=",["T_WHITESPACE"," ",2129],["T_VARIABLE","$this",2129],["T_OBJECT_OPERATOR","->",2129],["T_STRING","getData",2129],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",2129],")",";",["T_WHITESPACE","\n        ",2129],["T_IF","if",2130],["T_WHITESPACE"," ",2130],"(",["T_STRING","null",2130],["T_WHITESPACE"," ",2130],["T_IS_IDENTICAL","===",2130],["T_WHITESPACE"," ",2130],["T_VARIABLE","$messages",2130],")",["T_WHITESPACE"," ",2130],"{",["T_WHITESPACE","\n            ",2130],["T_VARIABLE","$messages",2131],["T_WHITESPACE"," ",2131],"=",["T_WHITESPACE"," ",2131],"[","]",";",["T_WHITESPACE","\n        ",2131],"}",["T_WHITESPACE","\n\n        ",2132],["T_IF","if",2134],["T_WHITESPACE"," ",2134],"(","!",["T_ISSET","isset",2134],"(",["T_VARIABLE","$messages",2134],"[",["T_VARIABLE","$type",2134],"]",")",")",["T_WHITESPACE"," ",2134],"{",["T_WHITESPACE","\n            ",2134],["T_RETURN","return",2135],["T_WHITESPACE"," ",2135],["T_VARIABLE","$this",2135],";",["T_WHITESPACE","\n        ",2135],"}",["T_WHITESPACE","\n\n        ",2136],["T_VARIABLE","$message",2138],["T_WHITESPACE"," ",2138],"=",["T_WHITESPACE"," ",2138],["T_VARIABLE","$messages",2138],"[",["T_VARIABLE","$type",2138],"]",";",["T_WHITESPACE","\n        ",2138],["T_IF","if",2139],["T_WHITESPACE"," ",2139],"(",["T_VARIABLE","$message",2139],["T_WHITESPACE"," ",2139],["T_INSTANCEOF","instanceof",2139],["T_WHITESPACE"," ",2139],["T_NS_SEPARATOR","\\",2139],["T_STRING","Magento",2139],["T_NS_SEPARATOR","\\",2139],["T_STRING","Framework",2139],["T_NS_SEPARATOR","\\",2139],["T_STRING","Message",2139],["T_NS_SEPARATOR","\\",2139],["T_STRING","AbstractMessage",2139],")",["T_WHITESPACE"," ",2139],"{",["T_WHITESPACE","\n            ",2139],["T_VARIABLE","$message",2140],["T_WHITESPACE"," ",2140],"=",["T_WHITESPACE"," ",2140],["T_VARIABLE","$message",2140],["T_OBJECT_OPERATOR","->",2140],["T_STRING","getText",2140],"(",")",";",["T_WHITESPACE","\n        ",2140],"}",["T_WHITESPACE"," ",2141],["T_ELSEIF","elseif",2141],["T_WHITESPACE"," ",2141],"(","!",["T_STRING","is_string",2141],"(",["T_VARIABLE","$message",2141],")",")",["T_WHITESPACE"," ",2141],"{",["T_WHITESPACE","\n            ",2141],["T_RETURN","return",2142],["T_WHITESPACE"," ",2142],["T_VARIABLE","$this",2142],";",["T_WHITESPACE","\n        ",2142],"}",["T_WHITESPACE","\n        ",2143],["T_IF","if",2144],["T_WHITESPACE"," ",2144],"(",["T_VARIABLE","$message",2144],["T_WHITESPACE"," ",2144],["T_IS_EQUAL","==",2144],["T_WHITESPACE"," ",2144],["T_VARIABLE","$text",2144],")",["T_WHITESPACE"," ",2144],"{",["T_WHITESPACE","\n            ",2144],["T_UNSET","unset",2145],"(",["T_VARIABLE","$messages",2145],"[",["T_VARIABLE","$type",2145],"]",")",";",["T_WHITESPACE","\n            ",2145],["T_VARIABLE","$this",2146],["T_OBJECT_OPERATOR","->",2146],["T_STRING","setData",2146],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",2146],",",["T_WHITESPACE"," ",2146],["T_VARIABLE","$messages",2146],")",";",["T_WHITESPACE","\n        ",2146],"}",["T_WHITESPACE","\n        ",2147],["T_RETURN","return",2148],["T_WHITESPACE"," ",2148],["T_VARIABLE","$this",2148],";",["T_WHITESPACE","\n    ",2148],"}",["T_WHITESPACE","\n\n    ",2149],["T_DOC_COMMENT","\/**\n     * Generate new increment order id and associate it with current quote\n     *\n     * @return $this\n     *\/",2151],["T_WHITESPACE","\n    ",2155],["T_PUBLIC","public",2156],["T_WHITESPACE"," ",2156],["T_FUNCTION","function",2156],["T_WHITESPACE"," ",2156],["T_STRING","reserveOrderId",2156],"(",")",["T_WHITESPACE","\n    ",2156],"{",["T_WHITESPACE","\n        ",2157],["T_IF","if",2158],["T_WHITESPACE"," ",2158],"(","!",["T_VARIABLE","$this",2158],["T_OBJECT_OPERATOR","->",2158],["T_STRING","getReservedOrderId",2158],"(",")",")",["T_WHITESPACE"," ",2158],"{",["T_WHITESPACE","\n            ",2158],["T_VARIABLE","$this",2159],["T_OBJECT_OPERATOR","->",2159],["T_STRING","setReservedOrderId",2159],"(",["T_VARIABLE","$this",2159],["T_OBJECT_OPERATOR","->",2159],["T_STRING","_getResource",2159],"(",")",["T_OBJECT_OPERATOR","->",2159],["T_STRING","getReservedOrderId",2159],"(",["T_VARIABLE","$this",2159],")",")",";",["T_WHITESPACE","\n        ",2159],"}",["T_WHITESPACE"," ",2160],["T_ELSE","else",2160],["T_WHITESPACE"," ",2160],"{",["T_WHITESPACE","\n            ",2160],["T_COMMENT","\/\/checking if reserved order id was already used for some order\n",2161],["T_WHITESPACE","            ",2162],["T_COMMENT","\/\/if yes reserving new one if not using old one\n",2162],["T_WHITESPACE","            ",2163],["T_IF","if",2163],["T_WHITESPACE"," ",2163],"(",["T_VARIABLE","$this",2163],["T_OBJECT_OPERATOR","->",2163],["T_STRING","_getResource",2163],"(",")",["T_OBJECT_OPERATOR","->",2163],["T_STRING","isOrderIncrementIdUsed",2163],"(",["T_VARIABLE","$this",2163],["T_OBJECT_OPERATOR","->",2163],["T_STRING","getReservedOrderId",2163],"(",")",")",")",["T_WHITESPACE"," ",2163],"{",["T_WHITESPACE","\n                ",2163],["T_VARIABLE","$this",2164],["T_OBJECT_OPERATOR","->",2164],["T_STRING","setReservedOrderId",2164],"(",["T_VARIABLE","$this",2164],["T_OBJECT_OPERATOR","->",2164],["T_STRING","_getResource",2164],"(",")",["T_OBJECT_OPERATOR","->",2164],["T_STRING","getReservedOrderId",2164],"(",["T_VARIABLE","$this",2164],")",")",";",["T_WHITESPACE","\n            ",2164],"}",["T_WHITESPACE","\n        ",2165],"}",["T_WHITESPACE","\n        ",2166],["T_RETURN","return",2167],["T_WHITESPACE"," ",2167],["T_VARIABLE","$this",2167],";",["T_WHITESPACE","\n    ",2167],"}",["T_WHITESPACE","\n\n    ",2168],["T_DOC_COMMENT","\/**\n     * @param bool $multishipping\n     * @return bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",2170],["T_WHITESPACE","\n    ",2175],["T_PUBLIC","public",2176],["T_WHITESPACE"," ",2176],["T_FUNCTION","function",2176],["T_WHITESPACE"," ",2176],["T_STRING","validateMinimumAmount",2176],"(",["T_VARIABLE","$multishipping",2176],["T_WHITESPACE"," ",2176],"=",["T_WHITESPACE"," ",2176],["T_STRING","false",2176],")",["T_WHITESPACE","\n    ",2176],"{",["T_WHITESPACE","\n        ",2177],["T_VARIABLE","$storeId",2178],["T_WHITESPACE"," ",2178],"=",["T_WHITESPACE"," ",2178],["T_VARIABLE","$this",2178],["T_OBJECT_OPERATOR","->",2178],["T_STRING","getStoreId",2178],"(",")",";",["T_WHITESPACE","\n        ",2178],["T_VARIABLE","$minOrderActive",2179],["T_WHITESPACE"," ",2179],"=",["T_WHITESPACE"," ",2179],["T_VARIABLE","$this",2179],["T_OBJECT_OPERATOR","->",2179],["T_STRING","_scopeConfig",2179],["T_OBJECT_OPERATOR","->",2179],["T_STRING","isSetFlag",2179],"(",["T_WHITESPACE","\n            ",2179],["T_CONSTANT_ENCAPSED_STRING","'sales\/minimum_order\/active'",2180],",",["T_WHITESPACE","\n            ",2180],["T_NS_SEPARATOR","\\",2181],["T_STRING","Magento",2181],["T_NS_SEPARATOR","\\",2181],["T_STRING","Store",2181],["T_NS_SEPARATOR","\\",2181],["T_STRING","Model",2181],["T_NS_SEPARATOR","\\",2181],["T_STRING","ScopeInterface",2181],["T_DOUBLE_COLON","::",2181],["T_STRING","SCOPE_STORE",2181],",",["T_WHITESPACE","\n            ",2181],["T_VARIABLE","$storeId",2182],["T_WHITESPACE","\n        ",2182],")",";",["T_WHITESPACE","\n        ",2183],["T_IF","if",2184],["T_WHITESPACE"," ",2184],"(","!",["T_VARIABLE","$minOrderActive",2184],")",["T_WHITESPACE"," ",2184],"{",["T_WHITESPACE","\n            ",2184],["T_RETURN","return",2185],["T_WHITESPACE"," ",2185],["T_STRING","true",2185],";",["T_WHITESPACE","\n        ",2185],"}",["T_WHITESPACE","\n        ",2186],["T_VARIABLE","$minOrderMulti",2187],["T_WHITESPACE"," ",2187],"=",["T_WHITESPACE"," ",2187],["T_VARIABLE","$this",2187],["T_OBJECT_OPERATOR","->",2187],["T_STRING","_scopeConfig",2187],["T_OBJECT_OPERATOR","->",2187],["T_STRING","isSetFlag",2187],"(",["T_WHITESPACE","\n            ",2187],["T_CONSTANT_ENCAPSED_STRING","'sales\/minimum_order\/multi_address'",2188],",",["T_WHITESPACE","\n            ",2188],["T_NS_SEPARATOR","\\",2189],["T_STRING","Magento",2189],["T_NS_SEPARATOR","\\",2189],["T_STRING","Store",2189],["T_NS_SEPARATOR","\\",2189],["T_STRING","Model",2189],["T_NS_SEPARATOR","\\",2189],["T_STRING","ScopeInterface",2189],["T_DOUBLE_COLON","::",2189],["T_STRING","SCOPE_STORE",2189],",",["T_WHITESPACE","\n            ",2189],["T_VARIABLE","$storeId",2190],["T_WHITESPACE","\n        ",2190],")",";",["T_WHITESPACE","\n        ",2191],["T_VARIABLE","$minAmount",2192],["T_WHITESPACE"," ",2192],"=",["T_WHITESPACE"," ",2192],["T_VARIABLE","$this",2192],["T_OBJECT_OPERATOR","->",2192],["T_STRING","_scopeConfig",2192],["T_OBJECT_OPERATOR","->",2192],["T_STRING","getValue",2192],"(",["T_WHITESPACE","\n            ",2192],["T_CONSTANT_ENCAPSED_STRING","'sales\/minimum_order\/amount'",2193],",",["T_WHITESPACE","\n            ",2193],["T_NS_SEPARATOR","\\",2194],["T_STRING","Magento",2194],["T_NS_SEPARATOR","\\",2194],["T_STRING","Store",2194],["T_NS_SEPARATOR","\\",2194],["T_STRING","Model",2194],["T_NS_SEPARATOR","\\",2194],["T_STRING","ScopeInterface",2194],["T_DOUBLE_COLON","::",2194],["T_STRING","SCOPE_STORE",2194],",",["T_WHITESPACE","\n            ",2194],["T_VARIABLE","$storeId",2195],["T_WHITESPACE","\n        ",2195],")",";",["T_WHITESPACE","\n        ",2196],["T_VARIABLE","$taxInclude",2197],["T_WHITESPACE"," ",2197],"=",["T_WHITESPACE"," ",2197],["T_VARIABLE","$this",2197],["T_OBJECT_OPERATOR","->",2197],["T_STRING","_scopeConfig",2197],["T_OBJECT_OPERATOR","->",2197],["T_STRING","getValue",2197],"(",["T_WHITESPACE","\n            ",2197],["T_CONSTANT_ENCAPSED_STRING","'sales\/minimum_order\/tax_including'",2198],",",["T_WHITESPACE","\n            ",2198],["T_NS_SEPARATOR","\\",2199],["T_STRING","Magento",2199],["T_NS_SEPARATOR","\\",2199],["T_STRING","Store",2199],["T_NS_SEPARATOR","\\",2199],["T_STRING","Model",2199],["T_NS_SEPARATOR","\\",2199],["T_STRING","ScopeInterface",2199],["T_DOUBLE_COLON","::",2199],["T_STRING","SCOPE_STORE",2199],",",["T_WHITESPACE","\n            ",2199],["T_VARIABLE","$storeId",2200],["T_WHITESPACE","\n        ",2200],")",";",["T_WHITESPACE","\n\n        ",2201],["T_VARIABLE","$addresses",2203],["T_WHITESPACE"," ",2203],"=",["T_WHITESPACE"," ",2203],["T_VARIABLE","$this",2203],["T_OBJECT_OPERATOR","->",2203],["T_STRING","getAllAddresses",2203],"(",")",";",["T_WHITESPACE","\n\n        ",2203],["T_IF","if",2205],["T_WHITESPACE"," ",2205],"(","!",["T_VARIABLE","$multishipping",2205],")",["T_WHITESPACE"," ",2205],"{",["T_WHITESPACE","\n            ",2205],["T_FOREACH","foreach",2206],["T_WHITESPACE"," ",2206],"(",["T_VARIABLE","$addresses",2206],["T_WHITESPACE"," ",2206],["T_AS","as",2206],["T_WHITESPACE"," ",2206],["T_VARIABLE","$address",2206],")",["T_WHITESPACE"," ",2206],"{",["T_WHITESPACE","\n                ",2206],["T_COMMENT","\/* @var $address Address *\/",2207],["T_WHITESPACE","\n                ",2207],["T_IF","if",2208],["T_WHITESPACE"," ",2208],"(","!",["T_VARIABLE","$address",2208],["T_OBJECT_OPERATOR","->",2208],["T_STRING","validateMinimumAmount",2208],"(",")",")",["T_WHITESPACE"," ",2208],"{",["T_WHITESPACE","\n                    ",2208],["T_RETURN","return",2209],["T_WHITESPACE"," ",2209],["T_STRING","false",2209],";",["T_WHITESPACE","\n                ",2209],"}",["T_WHITESPACE","\n            ",2210],"}",["T_WHITESPACE","\n            ",2211],["T_RETURN","return",2212],["T_WHITESPACE"," ",2212],["T_STRING","true",2212],";",["T_WHITESPACE","\n        ",2212],"}",["T_WHITESPACE","\n\n        ",2213],["T_IF","if",2215],["T_WHITESPACE"," ",2215],"(","!",["T_VARIABLE","$minOrderMulti",2215],")",["T_WHITESPACE"," ",2215],"{",["T_WHITESPACE","\n            ",2215],["T_FOREACH","foreach",2216],["T_WHITESPACE"," ",2216],"(",["T_VARIABLE","$addresses",2216],["T_WHITESPACE"," ",2216],["T_AS","as",2216],["T_WHITESPACE"," ",2216],["T_VARIABLE","$address",2216],")",["T_WHITESPACE"," ",2216],"{",["T_WHITESPACE","\n                ",2216],["T_VARIABLE","$taxes",2217],["T_WHITESPACE"," ",2217],"=",["T_WHITESPACE"," ",2217],"(",["T_VARIABLE","$taxInclude",2217],")",["T_WHITESPACE"," ",2217],"?",["T_WHITESPACE"," ",2217],["T_VARIABLE","$address",2217],["T_OBJECT_OPERATOR","->",2217],["T_STRING","getBaseTaxAmount",2217],"(",")",["T_WHITESPACE"," ",2217],":",["T_WHITESPACE"," ",2217],["T_LNUMBER","0",2217],";",["T_WHITESPACE","\n                ",2217],["T_FOREACH","foreach",2218],["T_WHITESPACE"," ",2218],"(",["T_VARIABLE","$address",2218],["T_OBJECT_OPERATOR","->",2218],["T_STRING","getQuote",2218],"(",")",["T_OBJECT_OPERATOR","->",2218],["T_STRING","getItemsCollection",2218],"(",")",["T_WHITESPACE"," ",2218],["T_AS","as",2218],["T_WHITESPACE"," ",2218],["T_VARIABLE","$item",2218],")",["T_WHITESPACE"," ",2218],"{",["T_WHITESPACE","\n                    ",2218],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Item $item *\/",2219],["T_WHITESPACE","\n                    ",2219],["T_VARIABLE","$amount",2220],["T_WHITESPACE"," ",2220],"=",["T_WHITESPACE"," ",2220],["T_VARIABLE","$item",2220],["T_OBJECT_OPERATOR","->",2220],["T_STRING","getBaseRowTotal",2220],"(",")",["T_WHITESPACE"," ",2220],"-",["T_WHITESPACE"," ",2220],["T_VARIABLE","$item",2220],["T_OBJECT_OPERATOR","->",2220],["T_STRING","getBaseDiscountAmount",2220],"(",")",["T_WHITESPACE"," ",2220],"+",["T_WHITESPACE"," ",2220],["T_VARIABLE","$taxes",2220],";",["T_WHITESPACE","\n                    ",2220],["T_IF","if",2221],["T_WHITESPACE"," ",2221],"(",["T_VARIABLE","$amount",2221],["T_WHITESPACE"," ",2221],"<",["T_WHITESPACE"," ",2221],["T_VARIABLE","$minAmount",2221],")",["T_WHITESPACE"," ",2221],"{",["T_WHITESPACE","\n                        ",2221],["T_RETURN","return",2222],["T_WHITESPACE"," ",2222],["T_STRING","false",2222],";",["T_WHITESPACE","\n                    ",2222],"}",["T_WHITESPACE","\n                ",2223],"}",["T_WHITESPACE","\n            ",2224],"}",["T_WHITESPACE","\n        ",2225],"}",["T_WHITESPACE"," ",2226],["T_ELSE","else",2226],["T_WHITESPACE"," ",2226],"{",["T_WHITESPACE","\n            ",2226],["T_VARIABLE","$baseTotal",2227],["T_WHITESPACE"," ",2227],"=",["T_WHITESPACE"," ",2227],["T_LNUMBER","0",2227],";",["T_WHITESPACE","\n            ",2227],["T_FOREACH","foreach",2228],["T_WHITESPACE"," ",2228],"(",["T_VARIABLE","$addresses",2228],["T_WHITESPACE"," ",2228],["T_AS","as",2228],["T_WHITESPACE"," ",2228],["T_VARIABLE","$address",2228],")",["T_WHITESPACE"," ",2228],"{",["T_WHITESPACE","\n                ",2228],["T_VARIABLE","$taxes",2229],["T_WHITESPACE"," ",2229],"=",["T_WHITESPACE"," ",2229],"(",["T_VARIABLE","$taxInclude",2229],")",["T_WHITESPACE"," ",2229],"?",["T_WHITESPACE"," ",2229],["T_VARIABLE","$address",2229],["T_OBJECT_OPERATOR","->",2229],["T_STRING","getBaseTaxAmount",2229],"(",")",["T_WHITESPACE"," ",2229],":",["T_WHITESPACE"," ",2229],["T_LNUMBER","0",2229],";",["T_WHITESPACE","\n                ",2229],["T_VARIABLE","$baseTotal",2230],["T_WHITESPACE"," ",2230],["T_PLUS_EQUAL","+=",2230],["T_WHITESPACE"," ",2230],["T_VARIABLE","$address",2230],["T_OBJECT_OPERATOR","->",2230],["T_STRING","getBaseSubtotalWithDiscount",2230],"(",")",["T_WHITESPACE"," ",2230],"+",["T_WHITESPACE"," ",2230],["T_VARIABLE","$taxes",2230],";",["T_WHITESPACE","\n            ",2230],"}",["T_WHITESPACE","\n            ",2231],["T_IF","if",2232],["T_WHITESPACE"," ",2232],"(",["T_VARIABLE","$baseTotal",2232],["T_WHITESPACE"," ",2232],"<",["T_WHITESPACE"," ",2232],["T_VARIABLE","$minAmount",2232],")",["T_WHITESPACE"," ",2232],"{",["T_WHITESPACE","\n                ",2232],["T_RETURN","return",2233],["T_WHITESPACE"," ",2233],["T_STRING","false",2233],";",["T_WHITESPACE","\n            ",2233],"}",["T_WHITESPACE","\n        ",2234],"}",["T_WHITESPACE","\n        ",2235],["T_RETURN","return",2236],["T_WHITESPACE"," ",2236],["T_STRING","true",2236],";",["T_WHITESPACE","\n    ",2236],"}",["T_WHITESPACE","\n\n    ",2237],["T_DOC_COMMENT","\/**\n     * Check quote for virtual product only\n     *\n     * @return bool\n     *\/",2239],["T_WHITESPACE","\n    ",2243],["T_PUBLIC","public",2244],["T_WHITESPACE"," ",2244],["T_FUNCTION","function",2244],["T_WHITESPACE"," ",2244],["T_STRING","isVirtual",2244],"(",")",["T_WHITESPACE","\n    ",2244],"{",["T_WHITESPACE","\n        ",2245],["T_VARIABLE","$isVirtual",2246],["T_WHITESPACE"," ",2246],"=",["T_WHITESPACE"," ",2246],["T_STRING","true",2246],";",["T_WHITESPACE","\n        ",2246],["T_VARIABLE","$countItems",2247],["T_WHITESPACE"," ",2247],"=",["T_WHITESPACE"," ",2247],["T_LNUMBER","0",2247],";",["T_WHITESPACE","\n        ",2247],["T_FOREACH","foreach",2248],["T_WHITESPACE"," ",2248],"(",["T_VARIABLE","$this",2248],["T_OBJECT_OPERATOR","->",2248],["T_STRING","getItemsCollection",2248],"(",")",["T_WHITESPACE"," ",2248],["T_AS","as",2248],["T_WHITESPACE"," ",2248],["T_VARIABLE","$_item",2248],")",["T_WHITESPACE"," ",2248],"{",["T_WHITESPACE","\n            ",2248],["T_COMMENT","\/* @var $_item \\Magento\\Quote\\Model\\Quote\\Item *\/",2249],["T_WHITESPACE","\n            ",2249],["T_IF","if",2250],["T_WHITESPACE"," ",2250],"(",["T_VARIABLE","$_item",2250],["T_OBJECT_OPERATOR","->",2250],["T_STRING","isDeleted",2250],"(",")",["T_WHITESPACE"," ",2250],["T_BOOLEAN_OR","||",2250],["T_WHITESPACE"," ",2250],["T_VARIABLE","$_item",2250],["T_OBJECT_OPERATOR","->",2250],["T_STRING","getParentItemId",2250],"(",")",")",["T_WHITESPACE"," ",2250],"{",["T_WHITESPACE","\n                ",2250],["T_CONTINUE","continue",2251],";",["T_WHITESPACE","\n            ",2251],"}",["T_WHITESPACE","\n            ",2252],["T_VARIABLE","$countItems",2253],["T_INC","++",2253],";",["T_WHITESPACE","\n            ",2253],["T_IF","if",2254],["T_WHITESPACE"," ",2254],"(","!",["T_VARIABLE","$_item",2254],["T_OBJECT_OPERATOR","->",2254],["T_STRING","getProduct",2254],"(",")",["T_OBJECT_OPERATOR","->",2254],["T_STRING","getIsVirtual",2254],"(",")",")",["T_WHITESPACE"," ",2254],"{",["T_WHITESPACE","\n                ",2254],["T_VARIABLE","$isVirtual",2255],["T_WHITESPACE"," ",2255],"=",["T_WHITESPACE"," ",2255],["T_STRING","false",2255],";",["T_WHITESPACE","\n                ",2255],["T_BREAK","break",2256],";",["T_WHITESPACE","\n            ",2256],"}",["T_WHITESPACE","\n        ",2257],"}",["T_WHITESPACE","\n        ",2258],["T_RETURN","return",2259],["T_WHITESPACE"," ",2259],["T_VARIABLE","$countItems",2259],["T_WHITESPACE"," ",2259],["T_IS_EQUAL","==",2259],["T_WHITESPACE"," ",2259],["T_LNUMBER","0",2259],["T_WHITESPACE"," ",2259],"?",["T_WHITESPACE"," ",2259],["T_STRING","false",2259],["T_WHITESPACE"," ",2259],":",["T_WHITESPACE"," ",2259],["T_VARIABLE","$isVirtual",2259],";",["T_WHITESPACE","\n    ",2259],"}",["T_WHITESPACE","\n\n    ",2260],["T_DOC_COMMENT","\/**\n     * Check quote for virtual product only\n     *\n     * @return bool\n     * @SuppressWarnings(PHPMD.BooleanGetMethodName)\n     *\/",2262],["T_WHITESPACE","\n    ",2267],["T_PUBLIC","public",2268],["T_WHITESPACE"," ",2268],["T_FUNCTION","function",2268],["T_WHITESPACE"," ",2268],["T_STRING","getIsVirtual",2268],"(",")",["T_WHITESPACE","\n    ",2268],"{",["T_WHITESPACE","\n        ",2269],["T_RETURN","return",2270],["T_WHITESPACE"," ",2270],["T_STRING","intval",2270],"(",["T_VARIABLE","$this",2270],["T_OBJECT_OPERATOR","->",2270],["T_STRING","isVirtual",2270],"(",")",")",";",["T_WHITESPACE","\n    ",2270],"}",["T_WHITESPACE","\n\n    ",2271],["T_DOC_COMMENT","\/**\n     * Has a virtual products on quote\n     *\n     * @return bool\n     *\/",2273],["T_WHITESPACE","\n    ",2277],["T_PUBLIC","public",2278],["T_WHITESPACE"," ",2278],["T_FUNCTION","function",2278],["T_WHITESPACE"," ",2278],["T_STRING","hasVirtualItems",2278],"(",")",["T_WHITESPACE","\n    ",2278],"{",["T_WHITESPACE","\n        ",2279],["T_VARIABLE","$hasVirtual",2280],["T_WHITESPACE"," ",2280],"=",["T_WHITESPACE"," ",2280],["T_STRING","false",2280],";",["T_WHITESPACE","\n        ",2280],["T_FOREACH","foreach",2281],["T_WHITESPACE"," ",2281],"(",["T_VARIABLE","$this",2281],["T_OBJECT_OPERATOR","->",2281],["T_STRING","getItemsCollection",2281],"(",")",["T_WHITESPACE"," ",2281],["T_AS","as",2281],["T_WHITESPACE"," ",2281],["T_VARIABLE","$item",2281],")",["T_WHITESPACE"," ",2281],"{",["T_WHITESPACE","\n            ",2281],["T_IF","if",2282],["T_WHITESPACE"," ",2282],"(",["T_VARIABLE","$item",2282],["T_OBJECT_OPERATOR","->",2282],["T_STRING","getParentItemId",2282],"(",")",")",["T_WHITESPACE"," ",2282],"{",["T_WHITESPACE","\n                ",2282],["T_CONTINUE","continue",2283],";",["T_WHITESPACE","\n            ",2283],"}",["T_WHITESPACE","\n            ",2284],["T_IF","if",2285],["T_WHITESPACE"," ",2285],"(",["T_VARIABLE","$item",2285],["T_OBJECT_OPERATOR","->",2285],["T_STRING","getProduct",2285],"(",")",["T_OBJECT_OPERATOR","->",2285],["T_STRING","isVirtual",2285],"(",")",")",["T_WHITESPACE"," ",2285],"{",["T_WHITESPACE","\n                ",2285],["T_VARIABLE","$hasVirtual",2286],["T_WHITESPACE"," ",2286],"=",["T_WHITESPACE"," ",2286],["T_STRING","true",2286],";",["T_WHITESPACE","\n            ",2286],"}",["T_WHITESPACE","\n        ",2287],"}",["T_WHITESPACE","\n        ",2288],["T_RETURN","return",2289],["T_WHITESPACE"," ",2289],["T_VARIABLE","$hasVirtual",2289],";",["T_WHITESPACE","\n    ",2289],"}",["T_WHITESPACE","\n\n    ",2290],["T_DOC_COMMENT","\/**\n     * Merge quotes\n     *\n     * @param   Quote $quote\n     * @return $this\n     *\/",2292],["T_WHITESPACE","\n    ",2297],["T_PUBLIC","public",2298],["T_WHITESPACE"," ",2298],["T_FUNCTION","function",2298],["T_WHITESPACE"," ",2298],["T_STRING","merge",2298],"(",["T_STRING","Quote",2298],["T_WHITESPACE"," ",2298],["T_VARIABLE","$quote",2298],")",["T_WHITESPACE","\n    ",2298],"{",["T_WHITESPACE","\n        ",2299],["T_VARIABLE","$this",2300],["T_OBJECT_OPERATOR","->",2300],["T_STRING","_eventManager",2300],["T_OBJECT_OPERATOR","->",2300],["T_STRING","dispatch",2300],"(",["T_WHITESPACE","\n            ",2300],["T_VARIABLE","$this",2301],["T_OBJECT_OPERATOR","->",2301],["T_STRING","_eventPrefix",2301],["T_WHITESPACE"," ",2301],".",["T_WHITESPACE"," ",2301],["T_CONSTANT_ENCAPSED_STRING","'_merge_before'",2301],",",["T_WHITESPACE","\n            ",2301],"[",["T_VARIABLE","$this",2302],["T_OBJECT_OPERATOR","->",2302],["T_STRING","_eventObject",2302],["T_WHITESPACE"," ",2302],["T_DOUBLE_ARROW","=>",2302],["T_WHITESPACE"," ",2302],["T_VARIABLE","$this",2302],",",["T_WHITESPACE"," ",2302],["T_CONSTANT_ENCAPSED_STRING","'source'",2302],["T_WHITESPACE"," ",2302],["T_DOUBLE_ARROW","=>",2302],["T_WHITESPACE"," ",2302],["T_VARIABLE","$quote",2302],"]",["T_WHITESPACE","\n        ",2302],")",";",["T_WHITESPACE","\n\n        ",2303],["T_FOREACH","foreach",2305],["T_WHITESPACE"," ",2305],"(",["T_VARIABLE","$quote",2305],["T_OBJECT_OPERATOR","->",2305],["T_STRING","getAllVisibleItems",2305],"(",")",["T_WHITESPACE"," ",2305],["T_AS","as",2305],["T_WHITESPACE"," ",2305],["T_VARIABLE","$item",2305],")",["T_WHITESPACE"," ",2305],"{",["T_WHITESPACE","\n            ",2305],["T_VARIABLE","$found",2306],["T_WHITESPACE"," ",2306],"=",["T_WHITESPACE"," ",2306],["T_STRING","false",2306],";",["T_WHITESPACE","\n            ",2306],["T_FOREACH","foreach",2307],["T_WHITESPACE"," ",2307],"(",["T_VARIABLE","$this",2307],["T_OBJECT_OPERATOR","->",2307],["T_STRING","getAllItems",2307],"(",")",["T_WHITESPACE"," ",2307],["T_AS","as",2307],["T_WHITESPACE"," ",2307],["T_VARIABLE","$quoteItem",2307],")",["T_WHITESPACE"," ",2307],"{",["T_WHITESPACE","\n                ",2307],["T_IF","if",2308],["T_WHITESPACE"," ",2308],"(",["T_VARIABLE","$quoteItem",2308],["T_OBJECT_OPERATOR","->",2308],["T_STRING","compare",2308],"(",["T_VARIABLE","$item",2308],")",")",["T_WHITESPACE"," ",2308],"{",["T_WHITESPACE","\n                    ",2308],["T_VARIABLE","$quoteItem",2309],["T_OBJECT_OPERATOR","->",2309],["T_STRING","setQty",2309],"(",["T_VARIABLE","$quoteItem",2309],["T_OBJECT_OPERATOR","->",2309],["T_STRING","getQty",2309],"(",")",["T_WHITESPACE"," ",2309],"+",["T_WHITESPACE"," ",2309],["T_VARIABLE","$item",2309],["T_OBJECT_OPERATOR","->",2309],["T_STRING","getQty",2309],"(",")",")",";",["T_WHITESPACE","\n                    ",2309],["T_VARIABLE","$found",2310],["T_WHITESPACE"," ",2310],"=",["T_WHITESPACE"," ",2310],["T_STRING","true",2310],";",["T_WHITESPACE","\n                    ",2310],["T_BREAK","break",2311],";",["T_WHITESPACE","\n                ",2311],"}",["T_WHITESPACE","\n            ",2312],"}",["T_WHITESPACE","\n\n            ",2313],["T_IF","if",2315],["T_WHITESPACE"," ",2315],"(","!",["T_VARIABLE","$found",2315],")",["T_WHITESPACE"," ",2315],"{",["T_WHITESPACE","\n                ",2315],["T_VARIABLE","$newItem",2316],["T_WHITESPACE"," ",2316],"=",["T_WHITESPACE"," ",2316],["T_CLONE","clone",2316],["T_WHITESPACE"," ",2316],["T_VARIABLE","$item",2316],";",["T_WHITESPACE","\n                ",2316],["T_VARIABLE","$this",2317],["T_OBJECT_OPERATOR","->",2317],["T_STRING","addItem",2317],"(",["T_VARIABLE","$newItem",2317],")",";",["T_WHITESPACE","\n                ",2317],["T_IF","if",2318],["T_WHITESPACE"," ",2318],"(",["T_VARIABLE","$item",2318],["T_OBJECT_OPERATOR","->",2318],["T_STRING","getHasChildren",2318],"(",")",")",["T_WHITESPACE"," ",2318],"{",["T_WHITESPACE","\n                    ",2318],["T_FOREACH","foreach",2319],["T_WHITESPACE"," ",2319],"(",["T_VARIABLE","$item",2319],["T_OBJECT_OPERATOR","->",2319],["T_STRING","getChildren",2319],"(",")",["T_WHITESPACE"," ",2319],["T_AS","as",2319],["T_WHITESPACE"," ",2319],["T_VARIABLE","$child",2319],")",["T_WHITESPACE"," ",2319],"{",["T_WHITESPACE","\n                        ",2319],["T_VARIABLE","$newChild",2320],["T_WHITESPACE"," ",2320],"=",["T_WHITESPACE"," ",2320],["T_CLONE","clone",2320],["T_WHITESPACE"," ",2320],["T_VARIABLE","$child",2320],";",["T_WHITESPACE","\n                        ",2320],["T_VARIABLE","$newChild",2321],["T_OBJECT_OPERATOR","->",2321],["T_STRING","setParentItem",2321],"(",["T_VARIABLE","$newItem",2321],")",";",["T_WHITESPACE","\n                        ",2321],["T_VARIABLE","$this",2322],["T_OBJECT_OPERATOR","->",2322],["T_STRING","addItem",2322],"(",["T_VARIABLE","$newChild",2322],")",";",["T_WHITESPACE","\n                    ",2322],"}",["T_WHITESPACE","\n                ",2323],"}",["T_WHITESPACE","\n            ",2324],"}",["T_WHITESPACE","\n        ",2325],"}",["T_WHITESPACE","\n\n        ",2326],["T_DOC_COMMENT","\/**\n         * Init shipping and billing address if quote is new\n         *\/",2328],["T_WHITESPACE","\n        ",2330],["T_IF","if",2331],["T_WHITESPACE"," ",2331],"(","!",["T_VARIABLE","$this",2331],["T_OBJECT_OPERATOR","->",2331],["T_STRING","getId",2331],"(",")",")",["T_WHITESPACE"," ",2331],"{",["T_WHITESPACE","\n            ",2331],["T_VARIABLE","$this",2332],["T_OBJECT_OPERATOR","->",2332],["T_STRING","getShippingAddress",2332],"(",")",";",["T_WHITESPACE","\n            ",2332],["T_VARIABLE","$this",2333],["T_OBJECT_OPERATOR","->",2333],["T_STRING","getBillingAddress",2333],"(",")",";",["T_WHITESPACE","\n        ",2333],"}",["T_WHITESPACE","\n\n        ",2334],["T_IF","if",2336],["T_WHITESPACE"," ",2336],"(",["T_VARIABLE","$quote",2336],["T_OBJECT_OPERATOR","->",2336],["T_STRING","getCouponCode",2336],"(",")",")",["T_WHITESPACE"," ",2336],"{",["T_WHITESPACE","\n            ",2336],["T_VARIABLE","$this",2337],["T_OBJECT_OPERATOR","->",2337],["T_STRING","setCouponCode",2337],"(",["T_VARIABLE","$quote",2337],["T_OBJECT_OPERATOR","->",2337],["T_STRING","getCouponCode",2337],"(",")",")",";",["T_WHITESPACE","\n        ",2337],"}",["T_WHITESPACE","\n\n        ",2338],["T_VARIABLE","$this",2340],["T_OBJECT_OPERATOR","->",2340],["T_STRING","_eventManager",2340],["T_OBJECT_OPERATOR","->",2340],["T_STRING","dispatch",2340],"(",["T_WHITESPACE","\n            ",2340],["T_VARIABLE","$this",2341],["T_OBJECT_OPERATOR","->",2341],["T_STRING","_eventPrefix",2341],["T_WHITESPACE"," ",2341],".",["T_WHITESPACE"," ",2341],["T_CONSTANT_ENCAPSED_STRING","'_merge_after'",2341],",",["T_WHITESPACE","\n            ",2341],"[",["T_VARIABLE","$this",2342],["T_OBJECT_OPERATOR","->",2342],["T_STRING","_eventObject",2342],["T_WHITESPACE"," ",2342],["T_DOUBLE_ARROW","=>",2342],["T_WHITESPACE"," ",2342],["T_VARIABLE","$this",2342],",",["T_WHITESPACE"," ",2342],["T_CONSTANT_ENCAPSED_STRING","'source'",2342],["T_WHITESPACE"," ",2342],["T_DOUBLE_ARROW","=>",2342],["T_WHITESPACE"," ",2342],["T_VARIABLE","$quote",2342],"]",["T_WHITESPACE","\n        ",2342],")",";",["T_WHITESPACE","\n\n        ",2343],["T_RETURN","return",2345],["T_WHITESPACE"," ",2345],["T_VARIABLE","$this",2345],";",["T_WHITESPACE","\n    ",2345],"}",["T_WHITESPACE","\n\n    ",2346],["T_DOC_COMMENT","\/**\n     * Trigger collect totals after loading, if required\n     *\n     * @return $this\n     *\/",2348],["T_WHITESPACE","\n    ",2352],["T_PROTECTED","protected",2353],["T_WHITESPACE"," ",2353],["T_FUNCTION","function",2353],["T_WHITESPACE"," ",2353],["T_STRING","_afterLoad",2353],"(",")",["T_WHITESPACE","\n    ",2353],"{",["T_WHITESPACE","\n        ",2354],["T_COMMENT","\/\/ collect totals and save me, if required\n",2355],["T_WHITESPACE","        ",2356],["T_IF","if",2356],["T_WHITESPACE"," ",2356],"(",["T_LNUMBER","1",2356],["T_WHITESPACE"," ",2356],["T_IS_EQUAL","==",2356],["T_WHITESPACE"," ",2356],["T_VARIABLE","$this",2356],["T_OBJECT_OPERATOR","->",2356],["T_STRING","getData",2356],"(",["T_CONSTANT_ENCAPSED_STRING","'trigger_recollect'",2356],")",")",["T_WHITESPACE"," ",2356],"{",["T_WHITESPACE","\n            ",2356],["T_VARIABLE","$this",2357],["T_OBJECT_OPERATOR","->",2357],["T_STRING","collectTotals",2357],"(",")",["T_OBJECT_OPERATOR","->",2357],["T_STRING","save",2357],"(",")",";",["T_WHITESPACE","\n        ",2357],"}",["T_WHITESPACE","\n        ",2358],["T_RETURN","return",2359],["T_WHITESPACE"," ",2359],["T_STRING","parent",2359],["T_DOUBLE_COLON","::",2359],["T_STRING","_afterLoad",2359],"(",")",";",["T_WHITESPACE","\n    ",2359],"}",["T_WHITESPACE","\n\n    ",2360],["T_DOC_COMMENT","\/**\n     * Checks if it was set\n     *\n     * @return bool\n     *\/",2362],["T_WHITESPACE","\n    ",2366],["T_PUBLIC","public",2367],["T_WHITESPACE"," ",2367],["T_FUNCTION","function",2367],["T_WHITESPACE"," ",2367],["T_STRING","addressCollectionWasSet",2367],"(",")",["T_WHITESPACE","\n    ",2367],"{",["T_WHITESPACE","\n        ",2368],["T_RETURN","return",2369],["T_WHITESPACE"," ",2369],["T_STRING","null",2369],["T_WHITESPACE"," ",2369],["T_IS_NOT_IDENTICAL","!==",2369],["T_WHITESPACE"," ",2369],["T_VARIABLE","$this",2369],["T_OBJECT_OPERATOR","->",2369],["T_STRING","_addresses",2369],";",["T_WHITESPACE","\n    ",2369],"}",["T_WHITESPACE","\n\n    ",2370],["T_DOC_COMMENT","\/**\n     * Checks if it was set\n     *\n     * @return bool\n     *\/",2372],["T_WHITESPACE","\n    ",2376],["T_PUBLIC","public",2377],["T_WHITESPACE"," ",2377],["T_FUNCTION","function",2377],["T_WHITESPACE"," ",2377],["T_STRING","itemsCollectionWasSet",2377],"(",")",["T_WHITESPACE","\n    ",2377],"{",["T_WHITESPACE","\n        ",2378],["T_RETURN","return",2379],["T_WHITESPACE"," ",2379],["T_STRING","null",2379],["T_WHITESPACE"," ",2379],["T_IS_NOT_IDENTICAL","!==",2379],["T_WHITESPACE"," ",2379],["T_VARIABLE","$this",2379],["T_OBJECT_OPERATOR","->",2379],["T_STRING","_items",2379],";",["T_WHITESPACE","\n    ",2379],"}",["T_WHITESPACE","\n\n    ",2380],["T_DOC_COMMENT","\/**\n     * Checks if it was set\n     *\n     * @return bool\n     *\/",2382],["T_WHITESPACE","\n    ",2386],["T_PUBLIC","public",2387],["T_WHITESPACE"," ",2387],["T_FUNCTION","function",2387],["T_WHITESPACE"," ",2387],["T_STRING","paymentsCollectionWasSet",2387],"(",")",["T_WHITESPACE","\n    ",2387],"{",["T_WHITESPACE","\n        ",2388],["T_RETURN","return",2389],["T_WHITESPACE"," ",2389],["T_STRING","null",2389],["T_WHITESPACE"," ",2389],["T_IS_NOT_IDENTICAL","!==",2389],["T_WHITESPACE"," ",2389],["T_VARIABLE","$this",2389],["T_OBJECT_OPERATOR","->",2389],["T_STRING","_payments",2389],";",["T_WHITESPACE","\n    ",2389],"}",["T_WHITESPACE","\n\n    ",2390],["T_DOC_COMMENT","\/**\n     * Checks if it was set\n     *\n     * @return bool\n     *\/",2392],["T_WHITESPACE","\n    ",2396],["T_PUBLIC","public",2397],["T_WHITESPACE"," ",2397],["T_FUNCTION","function",2397],["T_WHITESPACE"," ",2397],["T_STRING","currentPaymentWasSet",2397],"(",")",["T_WHITESPACE","\n    ",2397],"{",["T_WHITESPACE","\n        ",2398],["T_RETURN","return",2399],["T_WHITESPACE"," ",2399],["T_STRING","null",2399],["T_WHITESPACE"," ",2399],["T_IS_NOT_IDENTICAL","!==",2399],["T_WHITESPACE"," ",2399],["T_VARIABLE","$this",2399],["T_OBJECT_OPERATOR","->",2399],["T_STRING","_currentPayment",2399],";",["T_WHITESPACE","\n    ",2399],"}",["T_WHITESPACE","\n\n    ",2400],["T_DOC_COMMENT","\/**\n     * Return checkout method code\n     *\n     * @param boolean $originalMethod if true return defined method from beginning\n     * @return string\n     *\/",2402],["T_WHITESPACE","\n    ",2407],["T_PUBLIC","public",2408],["T_WHITESPACE"," ",2408],["T_FUNCTION","function",2408],["T_WHITESPACE"," ",2408],["T_STRING","getCheckoutMethod",2408],"(",["T_VARIABLE","$originalMethod",2408],["T_WHITESPACE"," ",2408],"=",["T_WHITESPACE"," ",2408],["T_STRING","false",2408],")",["T_WHITESPACE","\n    ",2408],"{",["T_WHITESPACE","\n        ",2409],["T_IF","if",2410],["T_WHITESPACE"," ",2410],"(",["T_VARIABLE","$this",2410],["T_OBJECT_OPERATOR","->",2410],["T_STRING","getCustomerId",2410],"(",")",["T_WHITESPACE"," ",2410],["T_BOOLEAN_AND","&&",2410],["T_WHITESPACE"," ",2410],"!",["T_VARIABLE","$originalMethod",2410],")",["T_WHITESPACE"," ",2410],"{",["T_WHITESPACE","\n            ",2410],["T_RETURN","return",2411],["T_WHITESPACE"," ",2411],["T_STRING","self",2411],["T_DOUBLE_COLON","::",2411],["T_STRING","CHECKOUT_METHOD_LOGIN_IN",2411],";",["T_WHITESPACE","\n        ",2411],"}",["T_WHITESPACE","\n        ",2412],["T_RETURN","return",2413],["T_WHITESPACE"," ",2413],["T_VARIABLE","$this",2413],["T_OBJECT_OPERATOR","->",2413],["T_STRING","_getData",2413],"(",["T_STRING","self",2413],["T_DOUBLE_COLON","::",2413],["T_STRING","KEY_CHECKOUT_METHOD",2413],")",";",["T_WHITESPACE","\n    ",2413],"}",["T_WHITESPACE","\n\n    ",2414],["T_DOC_COMMENT","\/**\n     * Get quote items assigned to different quote addresses populated per item qty.\n     * Based on result array we can display each item separately\n     *\n     * @return array\n     *\/",2416],["T_WHITESPACE","\n    ",2421],["T_PUBLIC","public",2422],["T_WHITESPACE"," ",2422],["T_FUNCTION","function",2422],["T_WHITESPACE"," ",2422],["T_STRING","getShippingAddressesItems",2422],"(",")",["T_WHITESPACE","\n    ",2422],"{",["T_WHITESPACE","\n        ",2423],["T_IF","if",2424],["T_WHITESPACE"," ",2424],"(",["T_VARIABLE","$this",2424],["T_OBJECT_OPERATOR","->",2424],["T_STRING","shippingAddressesItems",2424],["T_WHITESPACE"," ",2424],["T_IS_NOT_IDENTICAL","!==",2424],["T_WHITESPACE"," ",2424],["T_STRING","null",2424],")",["T_WHITESPACE"," ",2424],"{",["T_WHITESPACE","\n            ",2424],["T_RETURN","return",2425],["T_WHITESPACE"," ",2425],["T_VARIABLE","$this",2425],["T_OBJECT_OPERATOR","->",2425],["T_STRING","shippingAddressesItems",2425],";",["T_WHITESPACE","\n        ",2425],"}",["T_WHITESPACE","\n        ",2426],["T_VARIABLE","$items",2427],["T_WHITESPACE"," ",2427],"=",["T_WHITESPACE"," ",2427],"[","]",";",["T_WHITESPACE","\n        ",2427],["T_VARIABLE","$addresses",2428],["T_WHITESPACE"," ",2428],"=",["T_WHITESPACE"," ",2428],["T_VARIABLE","$this",2428],["T_OBJECT_OPERATOR","->",2428],["T_STRING","getAllAddresses",2428],"(",")",";",["T_WHITESPACE","\n        ",2428],["T_FOREACH","foreach",2429],["T_WHITESPACE"," ",2429],"(",["T_VARIABLE","$addresses",2429],["T_WHITESPACE"," ",2429],["T_AS","as",2429],["T_WHITESPACE"," ",2429],["T_VARIABLE","$address",2429],")",["T_WHITESPACE"," ",2429],"{",["T_WHITESPACE","\n            ",2429],["T_FOREACH","foreach",2430],["T_WHITESPACE"," ",2430],"(",["T_VARIABLE","$address",2430],["T_OBJECT_OPERATOR","->",2430],["T_STRING","getAllItems",2430],"(",")",["T_WHITESPACE"," ",2430],["T_AS","as",2430],["T_WHITESPACE"," ",2430],["T_VARIABLE","$item",2430],")",["T_WHITESPACE"," ",2430],"{",["T_WHITESPACE","\n                ",2430],["T_IF","if",2431],["T_WHITESPACE"," ",2431],"(",["T_VARIABLE","$item",2431],["T_OBJECT_OPERATOR","->",2431],["T_STRING","getParentItemId",2431],"(",")",")",["T_WHITESPACE"," ",2431],"{",["T_WHITESPACE","\n                    ",2431],["T_CONTINUE","continue",2432],";",["T_WHITESPACE","\n                ",2432],"}",["T_WHITESPACE","\n                ",2433],["T_IF","if",2434],["T_WHITESPACE"," ",2434],"(",["T_VARIABLE","$item",2434],["T_OBJECT_OPERATOR","->",2434],["T_STRING","getProduct",2434],"(",")",["T_OBJECT_OPERATOR","->",2434],["T_STRING","getIsVirtual",2434],"(",")",")",["T_WHITESPACE"," ",2434],"{",["T_WHITESPACE","\n                    ",2434],["T_VARIABLE","$items",2435],"[","]",["T_WHITESPACE"," ",2435],"=",["T_WHITESPACE"," ",2435],["T_VARIABLE","$item",2435],";",["T_WHITESPACE","\n                    ",2435],["T_CONTINUE","continue",2436],";",["T_WHITESPACE","\n                ",2436],"}",["T_WHITESPACE","\n                ",2437],["T_IF","if",2438],["T_WHITESPACE"," ",2438],"(",["T_VARIABLE","$item",2438],["T_OBJECT_OPERATOR","->",2438],["T_STRING","getQty",2438],"(",")",["T_WHITESPACE"," ",2438],">",["T_WHITESPACE"," ",2438],["T_LNUMBER","1",2438],")",["T_WHITESPACE"," ",2438],"{",["T_WHITESPACE","\n                    ",2438],["T_FOR","for",2439],["T_WHITESPACE"," ",2439],"(",["T_VARIABLE","$itemIndex",2439],["T_WHITESPACE"," ",2439],"=",["T_WHITESPACE"," ",2439],["T_LNUMBER","0",2439],",",["T_WHITESPACE"," ",2439],["T_VARIABLE","$itemQty",2439],["T_WHITESPACE"," ",2439],"=",["T_WHITESPACE"," ",2439],["T_VARIABLE","$item",2439],["T_OBJECT_OPERATOR","->",2439],["T_STRING","getQty",2439],"(",")",";",["T_WHITESPACE"," ",2439],["T_VARIABLE","$itemIndex",2439],["T_WHITESPACE"," ",2439],"<",["T_WHITESPACE"," ",2439],["T_VARIABLE","$itemQty",2439],";",["T_WHITESPACE"," ",2439],["T_VARIABLE","$itemIndex",2439],["T_INC","++",2439],")",["T_WHITESPACE"," ",2439],"{",["T_WHITESPACE","\n                        ",2439],["T_IF","if",2440],["T_WHITESPACE"," ",2440],"(",["T_VARIABLE","$itemIndex",2440],["T_WHITESPACE"," ",2440],["T_IS_EQUAL","==",2440],["T_WHITESPACE"," ",2440],["T_LNUMBER","0",2440],")",["T_WHITESPACE"," ",2440],"{",["T_WHITESPACE","\n                            ",2440],["T_VARIABLE","$addressItem",2441],["T_WHITESPACE"," ",2441],"=",["T_WHITESPACE"," ",2441],["T_VARIABLE","$item",2441],";",["T_WHITESPACE","\n                        ",2441],"}",["T_WHITESPACE"," ",2442],["T_ELSE","else",2442],["T_WHITESPACE"," ",2442],"{",["T_WHITESPACE","\n                            ",2442],["T_VARIABLE","$addressItem",2443],["T_WHITESPACE"," ",2443],"=",["T_WHITESPACE"," ",2443],["T_CLONE","clone",2443],["T_WHITESPACE"," ",2443],["T_VARIABLE","$item",2443],";",["T_WHITESPACE","\n                        ",2443],"}",["T_WHITESPACE","\n                        ",2444],["T_VARIABLE","$addressItem",2445],["T_OBJECT_OPERATOR","->",2445],["T_STRING","setQty",2445],"(",["T_LNUMBER","1",2445],")",["T_OBJECT_OPERATOR","->",2445],["T_STRING","setCustomerAddressId",2445],"(",["T_VARIABLE","$address",2445],["T_OBJECT_OPERATOR","->",2445],["T_STRING","getCustomerAddressId",2445],"(",")",")",["T_OBJECT_OPERATOR","->",2445],["T_STRING","save",2445],"(",")",";",["T_WHITESPACE","\n                        ",2445],["T_VARIABLE","$items",2446],"[","]",["T_WHITESPACE"," ",2446],"=",["T_WHITESPACE"," ",2446],["T_VARIABLE","$addressItem",2446],";",["T_WHITESPACE","\n                    ",2446],"}",["T_WHITESPACE","\n                ",2447],"}",["T_WHITESPACE"," ",2448],["T_ELSE","else",2448],["T_WHITESPACE"," ",2448],"{",["T_WHITESPACE","\n                    ",2448],["T_VARIABLE","$item",2449],["T_OBJECT_OPERATOR","->",2449],["T_STRING","setCustomerAddressId",2449],"(",["T_VARIABLE","$address",2449],["T_OBJECT_OPERATOR","->",2449],["T_STRING","getCustomerAddressId",2449],"(",")",")",";",["T_WHITESPACE","\n                    ",2449],["T_VARIABLE","$items",2450],"[","]",["T_WHITESPACE"," ",2450],"=",["T_WHITESPACE"," ",2450],["T_VARIABLE","$item",2450],";",["T_WHITESPACE","\n                ",2450],"}",["T_WHITESPACE","\n            ",2451],"}",["T_WHITESPACE","\n        ",2452],"}",["T_WHITESPACE","\n        ",2453],["T_VARIABLE","$this",2454],["T_OBJECT_OPERATOR","->",2454],["T_STRING","shippingAddressesItems",2454],["T_WHITESPACE"," ",2454],"=",["T_WHITESPACE"," ",2454],["T_VARIABLE","$items",2454],";",["T_WHITESPACE","\n        ",2454],["T_RETURN","return",2455],["T_WHITESPACE"," ",2455],["T_VARIABLE","$items",2455],";",["T_WHITESPACE","\n    ",2455],"}",["T_WHITESPACE","\n\n    ",2456],["T_DOC_COMMENT","\/**\n     * Sets the payment method that is used to process the cart.\n     *\n     * @codeCoverageIgnore\n     *\n     * @param string $checkoutMethod\n     * @return $this\n     *\/",2458],["T_WHITESPACE","\n    ",2465],["T_PUBLIC","public",2466],["T_WHITESPACE"," ",2466],["T_FUNCTION","function",2466],["T_WHITESPACE"," ",2466],["T_STRING","setCheckoutMethod",2466],"(",["T_VARIABLE","$checkoutMethod",2466],")",["T_WHITESPACE","\n    ",2466],"{",["T_WHITESPACE","\n        ",2467],["T_RETURN","return",2468],["T_WHITESPACE"," ",2468],["T_VARIABLE","$this",2468],["T_OBJECT_OPERATOR","->",2468],["T_STRING","setData",2468],"(",["T_STRING","self",2468],["T_DOUBLE_COLON","::",2468],["T_STRING","KEY_CHECKOUT_METHOD",2468],",",["T_WHITESPACE"," ",2468],["T_VARIABLE","$checkoutMethod",2468],")",";",["T_WHITESPACE","\n    ",2468],"}",["T_WHITESPACE","\n\n    ",2469],["T_DOC_COMMENT","\/**\n     * Prevent quote from saving\n     *\n     * @codeCoverageIgnore\n     *\n     * @return $this\n     *\/",2471],["T_WHITESPACE","\n    ",2477],["T_PUBLIC","public",2478],["T_WHITESPACE"," ",2478],["T_FUNCTION","function",2478],["T_WHITESPACE"," ",2478],["T_STRING","preventSaving",2478],"(",")",["T_WHITESPACE","\n    ",2478],"{",["T_WHITESPACE","\n        ",2479],["T_VARIABLE","$this",2480],["T_OBJECT_OPERATOR","->",2480],["T_STRING","_preventSaving",2480],["T_WHITESPACE"," ",2480],"=",["T_WHITESPACE"," ",2480],["T_STRING","true",2480],";",["T_WHITESPACE","\n        ",2480],["T_RETURN","return",2481],["T_WHITESPACE"," ",2481],["T_VARIABLE","$this",2481],";",["T_WHITESPACE","\n    ",2481],"}",["T_WHITESPACE","\n\n    ",2482],["T_DOC_COMMENT","\/**\n     * Check if model can be saved\n     *\n     * @codeCoverageIgnore\n     *\n     * @return bool\n     *\/",2484],["T_WHITESPACE","\n    ",2490],["T_PUBLIC","public",2491],["T_WHITESPACE"," ",2491],["T_FUNCTION","function",2491],["T_WHITESPACE"," ",2491],["T_STRING","isPreventSaving",2491],"(",")",["T_WHITESPACE","\n    ",2491],"{",["T_WHITESPACE","\n        ",2492],["T_RETURN","return",2493],["T_WHITESPACE"," ",2493],["T_VARIABLE","$this",2493],["T_OBJECT_OPERATOR","->",2493],["T_STRING","_preventSaving",2493],";",["T_WHITESPACE","\n    ",2493],"}",["T_WHITESPACE","\n\n    ",2494],["T_DOC_COMMENT","\/**\n     * Check if there are more than one shipping address\n     *\n     * @return bool\n     *\/",2496],["T_WHITESPACE","\n    ",2500],["T_PUBLIC","public",2501],["T_WHITESPACE"," ",2501],["T_FUNCTION","function",2501],["T_WHITESPACE"," ",2501],["T_STRING","isMultipleShippingAddresses",2501],"(",")",["T_WHITESPACE","\n    ",2501],"{",["T_WHITESPACE","\n        ",2502],["T_RETURN","return",2503],["T_WHITESPACE"," ",2503],["T_NS_SEPARATOR","\\",2503],["T_STRING","count",2503],"(",["T_VARIABLE","$this",2503],["T_OBJECT_OPERATOR","->",2503],["T_STRING","getAllShippingAddresses",2503],"(",")",")",["T_WHITESPACE"," ",2503],">",["T_WHITESPACE"," ",2503],["T_LNUMBER","1",2503],";",["T_WHITESPACE","\n    ",2503],"}",["T_WHITESPACE","\n\n    ",2504],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return \\Magento\\Quote\\Api\\Data\\CartExtensionInterface|null\n     *\/",2506],["T_WHITESPACE","\n    ",2510],["T_PUBLIC","public",2511],["T_WHITESPACE"," ",2511],["T_FUNCTION","function",2511],["T_WHITESPACE"," ",2511],["T_STRING","getExtensionAttributes",2511],"(",")",["T_WHITESPACE","\n    ",2511],"{",["T_WHITESPACE","\n        ",2512],["T_RETURN","return",2513],["T_WHITESPACE"," ",2513],["T_VARIABLE","$this",2513],["T_OBJECT_OPERATOR","->",2513],["T_STRING","_getExtensionAttributes",2513],"(",")",";",["T_WHITESPACE","\n    ",2513],"}",["T_WHITESPACE","\n\n    ",2514],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @param \\Magento\\Quote\\Api\\Data\\CartExtensionInterface $extensionAttributes\n     * @return $this\n     *\/",2516],["T_WHITESPACE","\n    ",2521],["T_PUBLIC","public",2522],["T_WHITESPACE"," ",2522],["T_FUNCTION","function",2522],["T_WHITESPACE"," ",2522],["T_STRING","setExtensionAttributes",2522],"(",["T_NS_SEPARATOR","\\",2522],["T_STRING","Magento",2522],["T_NS_SEPARATOR","\\",2522],["T_STRING","Quote",2522],["T_NS_SEPARATOR","\\",2522],["T_STRING","Api",2522],["T_NS_SEPARATOR","\\",2522],["T_STRING","Data",2522],["T_NS_SEPARATOR","\\",2522],["T_STRING","CartExtensionInterface",2522],["T_WHITESPACE"," ",2522],["T_VARIABLE","$extensionAttributes",2522],")",["T_WHITESPACE","\n    ",2522],"{",["T_WHITESPACE","\n        ",2523],["T_RETURN","return",2524],["T_WHITESPACE"," ",2524],["T_VARIABLE","$this",2524],["T_OBJECT_OPERATOR","->",2524],["T_STRING","_setExtensionAttributes",2524],"(",["T_VARIABLE","$extensionAttributes",2524],")",";",["T_WHITESPACE","\n    ",2524],"}",["T_WHITESPACE","\n",2525],"}",["T_WHITESPACE","\n",2526]]