[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Data",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PaymentInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Quote payment information\n *\n * @method \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Payment _getResource()\n * @method \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Payment getResource()\n * @method int getQuoteId()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setQuoteId(int $value)\n * @method string getCreatedAt()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCreatedAt(string $value)\n * @method string getUpdatedAt()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setUpdatedAt(string $value)\n * @method string getCcNumberEnc()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcNumberEnc(string $value)\n * @method string getCcLast4()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcLast4(string $value)\n * @method string getCcCidEnc()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcCidEnc(string $value)\n * @method string getCcSsOwner()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcSsOwner(string $value)\n * @method int getCcSsStartMonth()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcSsStartMonth(int $value)\n * @method int getCcSsStartYear()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcSsStartYear(int $value)\n * @method string getCcSsIssue()\n * @method \\Magento\\Quote\\Model\\Quote\\Payment setCcSsIssue(string $value)\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Payment",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Payment",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Info",39],["T_WHITESPACE"," ",39],["T_IMPLEMENTS","implements",39],["T_WHITESPACE"," ",39],["T_STRING","PaymentInterface",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n    ",40],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_eventPrefix",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'sales_quote_payment'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_eventObject",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'payment'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Quote model object\n     *\n     * @var \\Magento\\Quote\\Model\\Quote\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_quote",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Payment\\Model\\Checks\\SpecificationFactory\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$methodSpecificationFactory",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$additionalChecks",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Serializer interface instance.\n     *\n     * @var \\Magento\\Framework\\Serialize\\Serializer\\Json\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PRIVATE","private",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$serializer",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Framework\\Api\\ExtensionAttributesFactory $extensionFactory\n     * @param \\Magento\\Framework\\Api\\AttributeValueFactory $customAttributeFactory\n     * @param \\Magento\\Payment\\Helper\\Data $paymentData\n     * @param \\Magento\\Framework\\Encryption\\EncryptorInterface $encryptor\n     * @param \\Magento\\Payment\\Model\\Checks\\SpecificationFactory $methodSpecificationFactory\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @param array $additionalChecks\n     * @param \\Magento\\Framework\\Serialize\\Serializer\\Json|null $serializer\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",75],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","__construct",90],"(",["T_WHITESPACE","\n        ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Model",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Context",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$context",91],",",["T_WHITESPACE","\n        ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Registry",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$registry",92],",",["T_WHITESPACE","\n        ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Api",93],["T_NS_SEPARATOR","\\",93],["T_STRING","ExtensionAttributesFactory",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$extensionFactory",93],",",["T_WHITESPACE","\n        ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Api",94],["T_NS_SEPARATOR","\\",94],["T_STRING","AttributeValueFactory",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$customAttributeFactory",94],",",["T_WHITESPACE","\n        ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Payment",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Helper",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Data",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$paymentData",95],",",["T_WHITESPACE","\n        ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Framework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Encryption",96],["T_NS_SEPARATOR","\\",96],["T_STRING","EncryptorInterface",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$encryptor",96],",",["T_WHITESPACE","\n        ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Payment",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Checks",97],["T_NS_SEPARATOR","\\",97],["T_STRING","SpecificationFactory",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$methodSpecificationFactory",97],",",["T_WHITESPACE","\n        ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Framework",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ResourceModel",98],["T_NS_SEPARATOR","\\",98],["T_STRING","AbstractResource",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$resource",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","null",98],",",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Data",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Collection",99],["T_NS_SEPARATOR","\\",99],["T_STRING","AbstractDb",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$resourceCollection",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","null",99],",",["T_WHITESPACE","\n        ",99],["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[","]",",",["T_WHITESPACE","\n        ",100],["T_ARRAY","array",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$additionalChecks",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[","]",",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Serialize",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Serializer",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Json",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$serializer",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","null",102],["T_WHITESPACE","\n    ",102],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","methodSpecificationFactory",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$methodSpecificationFactory",104],";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","additionalChecks",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$additionalChecks",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","serializer",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$serializer",106],["T_WHITESPACE"," ",106],"?",":",["T_WHITESPACE"," ",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","App",106],["T_NS_SEPARATOR","\\",106],["T_STRING","ObjectManager",106],["T_DOUBLE_COLON","::",106],["T_STRING","getInstance",106],"(",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Serialize",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Serializer",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Json",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n        ",107],["T_STRING","parent",108],["T_DOUBLE_COLON","::",108],["T_STRING","__construct",108],"(",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$context",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$registry",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$extensionFactory",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$customAttributeFactory",112],",",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$paymentData",113],",",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$encryptor",114],",",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$resource",115],",",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$resourceCollection",116],",",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$data",117],["T_WHITESPACE","\n        ",117],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","_construct",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_init",128],"(",["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Quote",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Model",128],["T_NS_SEPARATOR","\\",128],["T_STRING","ResourceModel",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Quote",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Payment",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Declare quote model instance\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @return $this\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","setQuote",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Quote",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Quote",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$quote",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_quote",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$quote",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setQuoteId",140],"(",["T_VARIABLE","$quote",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getId",140],"(",")",")",";",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Retrieve quote model instance\n     *\n     * @codeCoverageIgnore\n     *\n     * @return \\Magento\\Quote\\Model\\Quote\n     *\/",144],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getQuote",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_quote",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Import data array to payment method object,\n     * Method calls quote totals collect because payment method availability\n     * can be related to quote totals\n     *\n     * @param array $data\n     * @return $this\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",156],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","importData",165],"(",["T_ARRAY","array",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$data",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$data",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","convertPaymentData",167],"(",["T_VARIABLE","$data",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$data",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Framework",168],["T_NS_SEPARATOR","\\",168],["T_STRING","DataObject",168],"(",["T_VARIABLE","$data",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_eventManager",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","dispatch",169],"(",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_eventPrefix",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'_import_data_before'",170],",",["T_WHITESPACE","\n            ",170],"[",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_eventObject",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'input'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$data",171],"]",["T_WHITESPACE","\n        ",171],")",";",["T_WHITESPACE","\n\n        ",172],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setMethod",174],"(",["T_VARIABLE","$data",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMethod",174],"(",")",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$method",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getMethodInstance",175],"(",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$quote",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getQuote",176],"(",")",";",["T_WHITESPACE","\n\n        ",176],["T_DOC_COMMENT","\/**\n         * Payment availability related with quote totals.\n         * We have to recollect quote totals before checking\n         *\/",178],["T_WHITESPACE","\n        ",181],["T_VARIABLE","$quote",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","collectTotals",182],"(",")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$checks",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","array_merge",184],"(",["T_VARIABLE","$data",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getChecks",184],"(",")",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","additionalChecks",184],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$methodSpecification",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","methodSpecificationFactory",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","create",185],"(",["T_VARIABLE","$checks",185],")",";",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_VARIABLE","$method",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","isAvailable",186],"(",["T_VARIABLE","$quote",186],")",["T_WHITESPACE"," ",186],["T_BOOLEAN_OR","||",186],["T_WHITESPACE"," ",186],"!",["T_VARIABLE","$methodSpecification",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","isApplicable",186],"(",["T_VARIABLE","$method",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$quote",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_THROW","throw",187],["T_WHITESPACE"," ",187],["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Framework",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Exception",187],["T_NS_SEPARATOR","\\",187],["T_STRING","LocalizedException",187],"(",["T_WHITESPACE","\n                ",187],["T_STRING","__",188],"(",["T_CONSTANT_ENCAPSED_STRING","'The requested Payment Method is not available.'",188],")",["T_WHITESPACE","\n            ",188],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$method",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assignData",192],"(",["T_VARIABLE","$data",192],")",";",["T_WHITESPACE","\n\n        ",192],["T_COMMENT","\/*\n         * validating the payment data\n         *\/",194],["T_WHITESPACE","\n        ",196],["T_VARIABLE","$method",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","validate",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Converts request to payment data\n     *\n     * @param array $rawData\n     * @return array\n     *\/",201],["T_WHITESPACE","\n    ",206],["T_PRIVATE","private",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","convertPaymentData",207],"(",["T_ARRAY","array",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$rawData",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$paymentData",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],"[",["T_WHITESPACE","\n            ",209],["T_STRING","PaymentInterface",210],["T_DOUBLE_COLON","::",210],["T_STRING","KEY_METHOD",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_STRING","null",210],",",["T_WHITESPACE","\n            ",210],["T_STRING","PaymentInterface",211],["T_DOUBLE_COLON","::",211],["T_STRING","KEY_PO_NUMBER",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_STRING","null",211],",",["T_WHITESPACE","\n            ",211],["T_STRING","PaymentInterface",212],["T_DOUBLE_COLON","::",212],["T_STRING","KEY_ADDITIONAL_DATA",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],"[","]",",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'checks'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],"[","]",["T_WHITESPACE","\n        ",213],"]",";",["T_WHITESPACE","\n\n        ",214],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_STRING","array_keys",216],"(",["T_VARIABLE","$rawData",216],")",["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$requestKey",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(","!",["T_STRING","array_key_exists",217],"(",["T_VARIABLE","$requestKey",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$paymentData",217],")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$paymentData",218],"[",["T_STRING","PaymentInterface",218],["T_DOUBLE_COLON","::",218],["T_STRING","KEY_ADDITIONAL_DATA",218],"]","[",["T_VARIABLE","$requestKey",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$rawData",218],"[",["T_VARIABLE","$requestKey",218],"]",";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE"," ",219],["T_ELSEIF","elseif",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$requestKey",219],["T_WHITESPACE"," ",219],["T_IS_IDENTICAL","===",219],["T_WHITESPACE"," ",219],["T_STRING","PaymentInterface",219],["T_DOUBLE_COLON","::",219],["T_STRING","KEY_ADDITIONAL_DATA",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$paymentData",220],"[",["T_STRING","PaymentInterface",220],["T_DOUBLE_COLON","::",220],["T_STRING","KEY_ADDITIONAL_DATA",220],"]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","array_merge",220],"(",["T_WHITESPACE","\n                    ",220],["T_VARIABLE","$paymentData",221],"[",["T_STRING","PaymentInterface",221],["T_DOUBLE_COLON","::",221],["T_STRING","KEY_ADDITIONAL_DATA",221],"]",",",["T_WHITESPACE","\n                    ",221],["T_ARRAY_CAST","(array)",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$rawData",222],"[",["T_VARIABLE","$requestKey",222],"]",["T_WHITESPACE","\n                ",222],")",";",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$paymentData",225],"[",["T_VARIABLE","$requestKey",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$rawData",225],"[",["T_VARIABLE","$requestKey",225],"]",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$paymentData",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Prepare object for save\n     *\n     * @return $this\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","beforeSave",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getQuote",239],"(",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","setQuoteId",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getQuote",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getId",240],"(",")",")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_STRING","parent",242],["T_DOUBLE_COLON","::",242],["T_STRING","beforeSave",242],"(",")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Checkout redirect URL getter\n     *\n     * @return string\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","getCheckoutRedirectUrl",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$method",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getMethodInstance",252],"(",")",";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$method",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$method",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getCheckoutRedirectUrl",254],"(",")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","''",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Checkout order place redirect URL getter\n     *\n     * @return string\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","getOrderPlaceRedirectUrl",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$method",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getMethodInstance",266],"(",")",";",["T_WHITESPACE","\n        ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$method",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$method",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getConfigData",268],"(",["T_CONSTANT_ENCAPSED_STRING","'order_place_redirect_url'",268],")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","''",270],";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * Retrieve payment method model object\n     *\n     * @return \\Magento\\Payment\\Model\\MethodInterface\n     *\/",273],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","getMethodInstance",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$method",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","parent",280],["T_DOUBLE_COLON","::",280],["T_STRING","getMethodInstance",280],"(",")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$method",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","setStore",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getQuote",281],"(",")",["T_OBJECT_OPERATOR","->",281],["T_STRING","getStoreId",281],"(",")",")",";",["T_WHITESPACE","\n        ",281],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$method",282],";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * @codeCoverageIgnoreStart\n     *\/",285],["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Get purchase order number\n     *\n     * @return string|null\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","getPoNumber",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getData",296],"(",["T_STRING","self",296],["T_DOUBLE_COLON","::",296],["T_STRING","KEY_PO_NUMBER",296],")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Set purchase order number\n     *\n     * @param string $poNumber\n     * @return $this\n     *\/",299],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","setPoNumber",305],"(",["T_VARIABLE","$poNumber",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","setData",307],"(",["T_STRING","self",307],["T_DOUBLE_COLON","::",307],["T_STRING","KEY_PO_NUMBER",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$poNumber",307],")",";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_DOC_COMMENT","\/**\n     * Get payment method code\n     *\n     * @return string\n     *\/",310],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","getMethod",315],"(",")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getData",317],"(",["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_STRING","KEY_METHOD",317],")",";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Set payment method code\n     *\n     * @param string $method\n     * @return $this\n     *\/",320],["T_WHITESPACE","\n    ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","setMethod",326],"(",["T_VARIABLE","$method",326],")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setData",328],"(",["T_STRING","self",328],["T_DOUBLE_COLON","::",328],["T_STRING","KEY_METHOD",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$method",328],")",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Get payment additional details\n     *\n     * @return string[]|null\n     *\/",331],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getAdditionalData",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$additionalDataValue",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getData",338],"(",["T_STRING","self",338],["T_DOUBLE_COLON","::",338],["T_STRING","KEY_ADDITIONAL_DATA",338],")",";",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_STRING","is_string",339],"(",["T_VARIABLE","$additionalDataValue",339],")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$additionalData",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","serializer",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","unserialize",340],"(",["T_VARIABLE","$additionalDataValue",340],")",";",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_STRING","is_array",341],"(",["T_VARIABLE","$additionalData",341],")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$additionalData",342],";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE"," ",344],["T_ELSEIF","elseif",344],["T_WHITESPACE"," ",344],"(",["T_STRING","is_array",344],"(",["T_VARIABLE","$additionalDataValue",344],")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$additionalDataValue",345],";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n        ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_STRING","null",347],";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_DOC_COMMENT","\/**\n     * Set payment additional details\n     *\n     * @param string $additionalData\n     * @return $this\n     *\/",350],["T_WHITESPACE","\n    ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","setAdditionalData",356],"(",["T_VARIABLE","$additionalData",356],")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","setData",358],"(",["T_STRING","self",358],["T_DOUBLE_COLON","::",358],["T_STRING","KEY_ADDITIONAL_DATA",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$additionalData",358],")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n    ",359],["T_COMMENT","\/\/@codeCoverageIgnoreEnd\n",360],["T_WHITESPACE","\n    ",361],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @return \\Magento\\Quote\\Api\\Data\\PaymentExtensionInterface|null\n     *\/",362],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","getExtensionAttributes",367],"(",")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_getExtensionAttributes",369],"(",")",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\n     * @param \\Magento\\Quote\\Api\\Data\\PaymentExtensionInterface $extensionAttributes\n     * @return $this\n     *\/",372],["T_WHITESPACE","\n    ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","setExtensionAttributes",378],"(",["T_NS_SEPARATOR","\\",378],["T_STRING","Magento",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Quote",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Api",378],["T_NS_SEPARATOR","\\",378],["T_STRING","Data",378],["T_NS_SEPARATOR","\\",378],["T_STRING","PaymentExtensionInterface",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$extensionAttributes",378],")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_setExtensionAttributes",380],"(",["T_VARIABLE","$extensionAttributes",380],")",";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n",381],"}",["T_WHITESPACE","\n",382]]