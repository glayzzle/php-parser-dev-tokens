[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Response",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Braintree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Transaction",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Braintree",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Transaction",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CreditCardDetails",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Braintree",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Braintree",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SubjectReader",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Braintree",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Gateway",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Response",12],["T_NS_SEPARATOR","\\",12],["T_STRING","VaultDetailsHandler",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DataObject",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Gateway",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PaymentDataObject",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Sales",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OrderPaymentExtensionInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Sales",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Data",16],["T_NS_SEPARATOR","\\",16],["T_STRING","OrderPaymentExtensionInterfaceFactory",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Sales",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Order",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Sales",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Order",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Payment",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Vault",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Data",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PaymentTokenInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Vault",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","CreditCardTokenFactory",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","PHPUnit_Framework_MockObject_MockObject",21],["T_WHITESPACE"," ",21],["T_AS","as",21],["T_WHITESPACE"," ",21],["T_STRING","MockObject",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * VaultDetailsHandler Test\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",23],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","VaultDetailsHandlerTest",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","PHPUnit_Framework_TestCase",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","TRANSACTION_ID",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'432erwwe'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Braintree\\Gateway\\Response\\PaymentDetailsHandler\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$paymentHandler",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Model\\Order\\Payment|MockObject\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$payment",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var CreditCardTokenFactory|MockObject\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$paymentTokenFactory",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenInterface|MockObject\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$paymentToken",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\Data\\OrderPaymentExtension|MockObject\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$paymentExtension",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Sales\\Api\\Data\\OrderPaymentExtensionInterfaceFactory|MockObject\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$paymentExtensionFactory",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var SubjectReader|MockObject\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$subjectReader",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var Config|MockObject\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PRIVATE","private",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$config",70],";",["T_WHITESPACE","\n\n    ",70],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","setUp",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","paymentToken",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMock",74],"(",["T_STRING","PaymentTokenInterface",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","paymentTokenFactory",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMockBuilder",75],"(",["T_STRING","CreditCardTokenFactory",75],["T_DOUBLE_COLON","::",75],["T_CLASS","class",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","setMethods",76],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",76],"]",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","disableOriginalConstructor",77],"(",")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMock",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","paymentTokenFactory",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_STRING","self",79],["T_DOUBLE_COLON","::",79],["T_STRING","once",79],"(",")",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",80],")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","willReturn",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","paymentToken",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","paymentExtension",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMockBuilder",83],"(",["T_STRING","OrderPaymentExtensionInterface",83],["T_DOUBLE_COLON","::",83],["T_CLASS","class",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","setMethods",84],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'getVaultPaymentToken'",84],"]",")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","disableOriginalConstructor",85],"(",")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMock",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","paymentExtensionFactory",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMockBuilder",87],"(",["T_STRING","OrderPaymentExtensionInterfaceFactory",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],")",["T_WHITESPACE","\n            ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","disableOriginalConstructor",88],"(",")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","setMethods",89],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",89],"]",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMock",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","paymentExtensionFactory",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","expects",91],"(",["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","once",91],"(",")",")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","method",92],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","willReturn",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","paymentExtension",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","payment",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMockBuilder",95],"(",["T_STRING","Payment",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","disableOriginalConstructor",96],"(",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","setMethods",97],"(","[",["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",97],"]",")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","subjectReader",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMockBuilder",100],"(",["T_STRING","SubjectReader",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","disableOriginalConstructor",101],"(",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMock",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$mapperArray",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],"[",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","\"american-express\"",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"AE\"",105],",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","\"discover\"",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","\"DI\"",106],",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","\"jcb\"",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","\"JCB\"",107],",",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","\"mastercard\"",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"MC\"",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","\"master-card\"",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"MC\"",109],",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","\"visa\"",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"VI\"",110],",",["T_WHITESPACE","\n            ",110],["T_CONSTANT_ENCAPSED_STRING","\"maestro\"",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","\"MI\"",111],",",["T_WHITESPACE","\n            ",111],["T_CONSTANT_ENCAPSED_STRING","\"diners-club\"",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"DN\"",112],",",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","\"unionpay\"",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"CUP\"",113],["T_WHITESPACE","\n        ",113],"]",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","config",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMockBuilder",116],"(",["T_STRING","Config",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","setMethods",117],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getCctypesMapper'",117],"]",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","disableOriginalConstructor",118],"(",")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMock",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","config",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","expects",121],"(",["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","once",121],"(",")",")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'getCctypesMapper'",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_VARIABLE","$mapperArray",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","paymentHandler",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","VaultDetailsHandler",125],"(",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","paymentTokenFactory",126],",",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","paymentExtensionFactory",127],",",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","config",128],",",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","subjectReader",129],["T_WHITESPACE","\n        ",129],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Response\\VaultDetailsHandler::handle\n     *\/",133],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testHandle",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","paymentExtension",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","once",138],"(",")",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","with",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","paymentToken",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","paymentExtension",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","once",141],"(",")",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'getVaultPaymentToken'",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","willReturn",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","paymentToken",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$paymentData",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getPaymentDataObjectMock",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$transaction",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getBraintreeTransaction",146],"(",")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$subject",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$paymentData",148],"]",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$response",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$transaction",149],"]",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","subjectReader",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","expects",151],"(",["T_STRING","self",151],["T_DOUBLE_COLON","::",151],["T_STRING","once",151],"(",")",")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","method",152],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","with",153],"(",["T_VARIABLE","$subject",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","willReturn",154],"(",["T_VARIABLE","$paymentData",154],")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","subjectReader",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","expects",155],"(",["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_STRING","once",155],"(",")",")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","method",156],"(",["T_CONSTANT_ENCAPSED_STRING","'readTransaction'",156],")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","with",157],"(",["T_VARIABLE","$response",157],")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","willReturn",158],"(",["T_VARIABLE","$transaction",158],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","paymentToken",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","expects",159],"(",["T_STATIC","static",159],["T_DOUBLE_COLON","::",159],["T_STRING","once",159],"(",")",")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","method",160],"(",["T_CONSTANT_ENCAPSED_STRING","'setGatewayToken'",160],")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","with",161],"(",["T_CONSTANT_ENCAPSED_STRING","'rh3gd4'",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","paymentToken",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_STATIC","static",162],["T_DOUBLE_COLON","::",162],["T_STRING","once",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'setExpiresAt'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","with",164],"(",["T_CONSTANT_ENCAPSED_STRING","'2022-01-01 00:00:00'",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","paymentHandler",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","handle",166],"(",["T_VARIABLE","$subject",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$response",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertSame",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","paymentToken",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","payment",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getExtensionAttributes",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getVaultPaymentToken",167],"(",")",")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Create mock for payment data object and order payment\n     * @return MockObject\n     *\/",170],["T_WHITESPACE","\n    ",173],["T_PRIVATE","private",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getPaymentDataObjectMock",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$mock",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getMockBuilder",176],"(",["T_STRING","PaymentDataObject",176],["T_DOUBLE_COLON","::",176],["T_CLASS","class",176],")",["T_WHITESPACE","\n            ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","setMethods",177],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",177],"]",")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","disableOriginalConstructor",178],"(",")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","getMock",179],"(",")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$mock",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","expects",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","once",181],"(",")",")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","method",182],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",182],")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","willReturn",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","payment",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$mock",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Create Braintree transaction\n     * @return MockObject\n     *\/",188],["T_WHITESPACE","\n    ",191],["T_PRIVATE","private",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","getBraintreeTransaction",192],"(",")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$attributes",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"[",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'id'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_STRING","TRANSACTION_ID",195],",",["T_WHITESPACE","\n            ",195],["T_CONSTANT_ENCAPSED_STRING","'creditCardDetails'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getCreditCardDetails",196],"(",")",["T_WHITESPACE","\n        ",196],"]",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$transaction",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","Transaction",199],["T_DOUBLE_COLON","::",199],["T_STRING","factory",199],"(",["T_VARIABLE","$attributes",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$transaction",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Create Braintree transaction\n     * @return \\Braintree\\Transaction\\CreditCardDetails\n     *\/",204],["T_WHITESPACE","\n    ",207],["T_PRIVATE","private",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getCreditCardDetails",208],"(",")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$attributes",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],"[",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'token'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'rh3gd4'",211],",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'bin'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'5421'",212],",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'cardType'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'American Express'",213],",",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'expirationMonth'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_LNUMBER","12",214],",",["T_WHITESPACE","\n            ",214],["T_CONSTANT_ENCAPSED_STRING","'expirationYear'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_LNUMBER","2021",215],",",["T_WHITESPACE","\n            ",215],["T_CONSTANT_ENCAPSED_STRING","'last4'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_LNUMBER","1231",216],["T_WHITESPACE","\n        ",216],"]",";",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$creditCardDetails",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_NEW","new",219],["T_WHITESPACE"," ",219],["T_STRING","CreditCardDetails",219],"(",["T_VARIABLE","$attributes",219],")",";",["T_WHITESPACE","\n\n        ",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$creditCardDetails",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n",222],"}",["T_WHITESPACE","\n",223]]