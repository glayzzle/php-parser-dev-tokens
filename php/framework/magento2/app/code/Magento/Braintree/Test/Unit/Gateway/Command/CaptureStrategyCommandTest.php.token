[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Command",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Braintree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","IsNode",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Braintree",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MultipleValueNode",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Braintree",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TextNode",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Braintree",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Command",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CaptureStrategyCommand",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Braintree",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Gateway",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SubjectReader",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Api",13],["T_NS_SEPARATOR","\\",13],["T_STRING","FilterBuilder",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Api",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Search",14],["T_NS_SEPARATOR","\\",14],["T_STRING","SearchCriteria",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SearchCriteriaBuilder",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Payment",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Gateway",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Command",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Payment",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Gateway",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Command",17],["T_NS_SEPARATOR","\\",17],["T_STRING","CommandPoolInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Payment",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Gateway",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Command",18],["T_NS_SEPARATOR","\\",18],["T_STRING","GatewayCommand",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Payment",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Gateway",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Data",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PaymentDataObject",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Sales",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Api",20],["T_NS_SEPARATOR","\\",20],["T_STRING","TransactionRepositoryInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Sales",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Order",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Payment",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Sales",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Order",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Payment",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Transaction",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Sales",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Model",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ResourceModel",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Order",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Payment",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Transaction",23],["T_NS_SEPARATOR","\\",23],["T_STRING","CollectionFactory",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Braintree",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Model",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Adapter",24],["T_NS_SEPARATOR","\\",24],["T_STRING","BraintreeAdapter",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Braintree",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Adapter",25],["T_NS_SEPARATOR","\\",25],["T_STRING","BraintreeSearchAdapter",25],";",["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class CaptureStrategyCommandTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",27],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","CaptureStrategyCommandTest",32],["T_WHITESPACE"," ",32],["T_EXTENDS","extends",32],["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","PHPUnit_Framework_TestCase",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * @var CaptureStrategyCommand\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$strategyCommand",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var CommandPoolInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$commandPool",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var TransactionRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$transactionRepository",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var FilterBuilder|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PRIVATE","private",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$filterBuilder",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var SearchCriteriaBuilder|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$searchCriteriaBuilder",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var Payment|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$payment",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var GatewayCommand|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PRIVATE","private",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$command",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var SubjectReader|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PRIVATE","private",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$subjectReaderMock",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var BraintreeAdapter|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PRIVATE","private",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$braintreeAdapter",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @var BraintreeSearchAdapter\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PRIVATE","private",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$braintreeSearchAdapter",82],";",["T_WHITESPACE","\n\n    ",82],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","setUp",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","commandPool",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockBuilder",86],"(",["T_STRING","CommandPoolInterface",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","disableOriginalConstructor",87],"(",")",["T_WHITESPACE","\n            ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","setMethods",88],"(","[",["T_CONSTANT_ENCAPSED_STRING","'get'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",88],"]",")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","subjectReaderMock",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMockBuilder",91],"(",["T_STRING","SubjectReader",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","disableOriginalConstructor",92],"(",")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMock",93],"(",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","initCommandMock",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","initTransactionRepositoryMock",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","initFilterBuilderMock",97],"(",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","initSearchCriteriaBuilderMock",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","braintreeAdapter",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMockBuilder",100],"(",["T_STRING","BraintreeAdapter",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","disableOriginalConstructor",101],"(",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMock",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","braintreeSearchAdapter",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","BraintreeSearchAdapter",103],"(",")",";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","strategyCommand",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","CaptureStrategyCommand",105],"(",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","commandPool",106],",",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","transactionRepository",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","filterBuilder",108],",",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","searchCriteriaBuilder",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","subjectReaderMock",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","braintreeAdapter",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","braintreeSearchAdapter",112],["T_WHITESPACE","\n        ",112],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Command\\CaptureStrategyCommand::execute\n     *\/",116],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testSaleExecute",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$paymentData",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getPaymentDataObjectMock",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$subject",122],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$paymentData",122],";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","subjectReaderMock",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","once",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","with",126],"(",["T_VARIABLE","$subject",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","willReturn",127],"(",["T_VARIABLE","$paymentData",127],")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","payment",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_STATIC","static",129],["T_DOUBLE_COLON","::",129],["T_STRING","once",129],"(",")",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'getAuthorizationTransaction'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","willReturn",131],"(",["T_STRING","false",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","payment",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_STATIC","static",133],["T_DOUBLE_COLON","::",133],["T_STRING","once",133],"(",")",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","willReturn",135],"(",["T_LNUMBER","1",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","buildSearchCriteria",137],"(",")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","transactionRepository",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","expects",139],"(",["T_STATIC","static",139],["T_DOUBLE_COLON","::",139],["T_STRING","once",139],"(",")",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","method",140],"(",["T_CONSTANT_ENCAPSED_STRING","'getTotalCount'",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","willReturn",141],"(",["T_LNUMBER","0",141],")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","commandPool",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_STATIC","static",143],["T_DOUBLE_COLON","::",143],["T_STRING","once",143],"(",")",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",144],")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","with",145],"(",["T_STRING","CaptureStrategyCommand",145],["T_DOUBLE_COLON","::",145],["T_STRING","SALE",145],")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","willReturn",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","command",146],")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","strategyCommand",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","execute",148],"(",["T_VARIABLE","$subject",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Command\\CaptureStrategyCommand::execute\n     *\/",151],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","testCaptureExecute",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$paymentData",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getPaymentDataObjectMock",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$subject",157],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$paymentData",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$lastTransId",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'txnds'",158],";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","subjectReaderMock",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","expects",160],"(",["T_STRING","self",160],["T_DOUBLE_COLON","::",160],["T_STRING","once",160],"(",")",")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","method",161],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",161],")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","with",162],"(",["T_VARIABLE","$subject",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","willReturn",163],"(",["T_VARIABLE","$paymentData",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","payment",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","expects",165],"(",["T_STATIC","static",165],["T_DOUBLE_COLON","::",165],["T_STRING","once",165],"(",")",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'getAuthorizationTransaction'",166],")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","willReturn",167],"(",["T_STRING","true",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","payment",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expects",168],"(",["T_STATIC","static",168],["T_DOUBLE_COLON","::",168],["T_STRING","once",168],"(",")",")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","method",169],"(",["T_CONSTANT_ENCAPSED_STRING","'getLastTransId'",169],")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","willReturn",170],"(",["T_VARIABLE","$lastTransId",170],")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","payment",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","expects",172],"(",["T_STATIC","static",172],["T_DOUBLE_COLON","::",172],["T_STRING","once",172],"(",")",")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","method",173],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",173],")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","willReturn",174],"(",["T_LNUMBER","1",174],")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","buildSearchCriteria",176],"(",")",";",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","transactionRepository",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_STATIC","static",178],["T_DOUBLE_COLON","::",178],["T_STRING","once",178],"(",")",")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","method",179],"(",["T_CONSTANT_ENCAPSED_STRING","'getTotalCount'",179],")",["T_WHITESPACE","\n            ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","willReturn",180],"(",["T_LNUMBER","0",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_COMMENT","\/\/ authorization transaction was not expired\n",182],["T_WHITESPACE","        ",183],["T_VARIABLE","$collection",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getNotExpiredExpectedCollection",183],"(",["T_VARIABLE","$lastTransId",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$collection",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","expects",184],"(",["T_STATIC","static",184],["T_DOUBLE_COLON","::",184],["T_STRING","once",184],"(",")",")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","method",185],"(",["T_CONSTANT_ENCAPSED_STRING","'maximumCount'",185],")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","willReturn",186],"(",["T_LNUMBER","0",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","commandPool",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_STATIC","static",188],["T_DOUBLE_COLON","::",188],["T_STRING","once",188],"(",")",")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","method",189],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",189],")",["T_WHITESPACE","\n            ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","with",190],"(",["T_STRING","CaptureStrategyCommand",190],["T_DOUBLE_COLON","::",190],["T_STRING","CAPTURE",190],")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","willReturn",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","command",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","strategyCommand",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","execute",193],"(",["T_VARIABLE","$subject",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * @param string $lastTransactionId\n     * @return \\Braintree\\ResourceCollection|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",196],["T_WHITESPACE","\n    ",199],["T_PRIVATE","private",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","getNotExpiredExpectedCollection",200],"(",["T_VARIABLE","$lastTransactionId",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$isExpectations",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"[",["T_WHITESPACE","\n            ",202],["T_CONSTANT_ENCAPSED_STRING","'id'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],"[",["T_CONSTANT_ENCAPSED_STRING","'is'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$lastTransactionId",203],"]",",",["T_WHITESPACE","\n            ",203],["T_CONSTANT_ENCAPSED_STRING","'status'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],"[",["T_NS_SEPARATOR","\\",204],["T_STRING","Braintree",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Transaction",204],["T_DOUBLE_COLON","::",204],["T_STRING","AUTHORIZATION_EXPIRED",204],"]",["T_WHITESPACE","\n        ",204],"]",";",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$collection",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getMockBuilder",207],"(",["T_NS_SEPARATOR","\\",207],["T_STRING","Braintree",207],["T_NS_SEPARATOR","\\",207],["T_STRING","ResourceCollection",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","disableOriginalConstructor",208],"(",")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","getMock",209],"(",")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","braintreeAdapter",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","expects",211],"(",["T_STATIC","static",211],["T_DOUBLE_COLON","::",211],["T_STRING","once",211],"(",")",")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","method",212],"(",["T_CONSTANT_ENCAPSED_STRING","'search'",212],")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","with",213],"(",["T_WHITESPACE","\n                ",213],["T_STATIC","static",214],["T_DOUBLE_COLON","::",214],["T_STRING","callback",214],"(",["T_WHITESPACE","\n                    ",214],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],"(",["T_ARRAY","array",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$filters",215],")",["T_WHITESPACE"," ",215],["T_USE","use",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$isExpectations",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                        ",215],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$filters",216],["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$filter",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                            ",216],["T_DOC_COMMENT","\/** @var IsNode $filter *\/",217],["T_WHITESPACE","\n                            ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_ISSET","isset",218],"(",["T_VARIABLE","$isExpectations",218],"[",["T_VARIABLE","$filter",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","name",218],"]",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                                ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_STRING","false",219],";",["T_WHITESPACE","\n                            ",219],"}",["T_WHITESPACE","\n\n                            ",220],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$isExpectations",222],"[",["T_VARIABLE","$filter",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","name",222],"]",["T_WHITESPACE"," ",222],["T_IS_NOT_IDENTICAL","!==",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$filter",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","toParam",222],"(",")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                                ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","false",223],";",["T_WHITESPACE","\n                            ",223],"}",["T_WHITESPACE","\n                        ",224],"}",["T_WHITESPACE","\n\n                        ",225],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_STRING","true",227],";",["T_WHITESPACE","\n                    ",227],"}",["T_WHITESPACE","\n                ",228],")",["T_WHITESPACE","\n            ",229],")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","willReturn",231],"(",["T_VARIABLE","$collection",231],")",";",["T_WHITESPACE","\n\n        ",231],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$collection",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Command\\CaptureStrategyCommand::execute\n     *\/",236],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","testExpiredAuthorizationPerformVaultCaptureExecute",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$paymentData",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getPaymentDataObjectMock",241],"(",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$subject",242],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$paymentData",242],";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$lastTransId",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'txnds'",243],";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","subjectReaderMock",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","expects",245],"(",["T_STRING","self",245],["T_DOUBLE_COLON","::",245],["T_STRING","once",245],"(",")",")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","method",246],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",246],")",["T_WHITESPACE","\n            ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","with",247],"(",["T_VARIABLE","$subject",247],")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","willReturn",248],"(",["T_VARIABLE","$paymentData",248],")",";",["T_WHITESPACE","\n\n        ",248],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","payment",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_STATIC","static",250],["T_DOUBLE_COLON","::",250],["T_STRING","once",250],"(",")",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'getAuthorizationTransaction'",251],")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","willReturn",252],"(",["T_STRING","true",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","payment",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","expects",253],"(",["T_STATIC","static",253],["T_DOUBLE_COLON","::",253],["T_STRING","once",253],"(",")",")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","method",254],"(",["T_CONSTANT_ENCAPSED_STRING","'getLastTransId'",254],")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","willReturn",255],"(",["T_VARIABLE","$lastTransId",255],")",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","payment",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_STATIC","static",257],["T_DOUBLE_COLON","::",257],["T_STRING","once",257],"(",")",")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","method",258],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",258],")",["T_WHITESPACE","\n            ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","willReturn",259],"(",["T_LNUMBER","1",259],")",";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","buildSearchCriteria",261],"(",")",";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","transactionRepository",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","expects",263],"(",["T_STATIC","static",263],["T_DOUBLE_COLON","::",263],["T_STRING","once",263],"(",")",")",["T_WHITESPACE","\n            ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","method",264],"(",["T_CONSTANT_ENCAPSED_STRING","'getTotalCount'",264],")",["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","willReturn",265],"(",["T_LNUMBER","0",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_COMMENT","\/\/ authorization transaction was expired\n",267],["T_WHITESPACE","        ",268],["T_VARIABLE","$collection",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getNotExpiredExpectedCollection",268],"(",["T_VARIABLE","$lastTransId",268],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$collection",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","expects",269],"(",["T_STATIC","static",269],["T_DOUBLE_COLON","::",269],["T_STRING","once",269],"(",")",")",["T_WHITESPACE","\n            ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","method",270],"(",["T_CONSTANT_ENCAPSED_STRING","'maximumCount'",270],")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","willReturn",271],"(",["T_LNUMBER","1",271],")",";",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","commandPool",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","expects",273],"(",["T_STATIC","static",273],["T_DOUBLE_COLON","::",273],["T_STRING","once",273],"(",")",")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","method",274],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",274],")",["T_WHITESPACE","\n            ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","with",275],"(",["T_STRING","CaptureStrategyCommand",275],["T_DOUBLE_COLON","::",275],["T_STRING","VAULT_CAPTURE",275],")",["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","willReturn",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","command",276],")",";",["T_WHITESPACE","\n\n        ",276],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","strategyCommand",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","execute",278],"(",["T_VARIABLE","$subject",278],")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Command\\CaptureStrategyCommand::execute\n     *\/",281],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","testVaultCaptureExecute",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$paymentData",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getPaymentDataObjectMock",286],"(",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$subject",287],"[",["T_CONSTANT_ENCAPSED_STRING","'payment'",287],"]",["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$paymentData",287],";",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","subjectReaderMock",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","expects",289],"(",["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","once",289],"(",")",")",["T_WHITESPACE","\n            ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","method",290],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",290],")",["T_WHITESPACE","\n            ",290],["T_OBJECT_OPERATOR","->",291],["T_STRING","with",291],"(",["T_VARIABLE","$subject",291],")",["T_WHITESPACE","\n            ",291],["T_OBJECT_OPERATOR","->",292],["T_STRING","willReturn",292],"(",["T_VARIABLE","$paymentData",292],")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","payment",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","expects",294],"(",["T_STATIC","static",294],["T_DOUBLE_COLON","::",294],["T_STRING","once",294],"(",")",")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","method",295],"(",["T_CONSTANT_ENCAPSED_STRING","'getAuthorizationTransaction'",295],")",["T_WHITESPACE","\n            ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","willReturn",296],"(",["T_STRING","true",296],")",";",["T_WHITESPACE","\n\n        ",296],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","payment",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","expects",298],"(",["T_STATIC","static",298],["T_DOUBLE_COLON","::",298],["T_STRING","once",298],"(",")",")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","method",299],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",299],")",["T_WHITESPACE","\n            ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","willReturn",300],"(",["T_LNUMBER","1",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","buildSearchCriteria",302],"(",")",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","transactionRepository",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","expects",304],"(",["T_STATIC","static",304],["T_DOUBLE_COLON","::",304],["T_STRING","once",304],"(",")",")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","method",305],"(",["T_CONSTANT_ENCAPSED_STRING","'getTotalCount'",305],")",["T_WHITESPACE","\n            ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","willReturn",306],"(",["T_LNUMBER","1",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","commandPool",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","expects",308],"(",["T_STATIC","static",308],["T_DOUBLE_COLON","::",308],["T_STRING","once",308],"(",")",")",["T_WHITESPACE","\n            ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","method",309],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",309],")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","with",310],"(",["T_STRING","CaptureStrategyCommand",310],["T_DOUBLE_COLON","::",310],["T_STRING","VAULT_CAPTURE",310],")",["T_WHITESPACE","\n            ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","willReturn",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","command",311],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","strategyCommand",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","execute",313],"(",["T_VARIABLE","$subject",313],")",";",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n\n    ",314],["T_DOC_COMMENT","\/**\n     * Create mock for payment data object and order payment\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",316],["T_WHITESPACE","\n    ",319],["T_PRIVATE","private",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","getPaymentDataObjectMock",320],"(",")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","payment",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getMockBuilder",322],"(",["T_STRING","Payment",322],["T_DOUBLE_COLON","::",322],["T_CLASS","class",322],")",["T_WHITESPACE","\n            ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","disableOriginalConstructor",323],"(",")",["T_WHITESPACE","\n            ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","getMock",324],"(",")",";",["T_WHITESPACE","\n\n        ",324],["T_VARIABLE","$mock",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getMockBuilder",326],"(",["T_STRING","PaymentDataObject",326],["T_DOUBLE_COLON","::",326],["T_CLASS","class",326],")",["T_WHITESPACE","\n            ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","setMethods",327],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",327],"]",")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","disableOriginalConstructor",328],"(",")",["T_WHITESPACE","\n            ",328],["T_OBJECT_OPERATOR","->",329],["T_STRING","getMock",329],"(",")",";",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$mock",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","expects",331],"(",["T_STATIC","static",331],["T_DOUBLE_COLON","::",331],["T_STRING","once",331],"(",")",")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","method",332],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",332],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","willReturn",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","payment",333],")",";",["T_WHITESPACE","\n\n        ",333],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$mock",335],";",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n\n    ",336],["T_DOC_COMMENT","\/**\n     * Create mock for gateway command object\n     *\/",338],["T_WHITESPACE","\n    ",340],["T_PRIVATE","private",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","initCommandMock",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","command",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getMockBuilder",343],"(",["T_STRING","GatewayCommand",343],["T_DOUBLE_COLON","::",343],["T_CLASS","class",343],")",["T_WHITESPACE","\n            ",343],["T_OBJECT_OPERATOR","->",344],["T_STRING","disableOriginalConstructor",344],"(",")",["T_WHITESPACE","\n            ",344],["T_OBJECT_OPERATOR","->",345],["T_STRING","setMethods",345],"(","[",["T_CONSTANT_ENCAPSED_STRING","'execute'",345],"]",")",["T_WHITESPACE","\n            ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","getMock",346],"(",")",";",["T_WHITESPACE","\n\n        ",346],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","command",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","expects",348],"(",["T_STATIC","static",348],["T_DOUBLE_COLON","::",348],["T_STRING","once",348],"(",")",")",["T_WHITESPACE","\n            ",348],["T_OBJECT_OPERATOR","->",349],["T_STRING","method",349],"(",["T_CONSTANT_ENCAPSED_STRING","'execute'",349],")",["T_WHITESPACE","\n            ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","willReturn",350],"(","[","]",")",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * Create mock for filter object\n     *\/",353],["T_WHITESPACE","\n    ",355],["T_PRIVATE","private",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","initFilterBuilderMock",356],"(",")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","filterBuilder",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getMockBuilder",358],"(",["T_STRING","FilterBuilder",358],["T_DOUBLE_COLON","::",358],["T_CLASS","class",358],")",["T_WHITESPACE","\n            ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","disableOriginalConstructor",359],"(",")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","setMethods",360],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setField'",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'setValue'",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'create'",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",360],"]",")",["T_WHITESPACE","\n            ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","getMock",361],"(",")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Build search criteria\n     *\/",364],["T_WHITESPACE","\n    ",366],["T_PRIVATE","private",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","buildSearchCriteria",367],"(",")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","filterBuilder",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","expects",369],"(",["T_STATIC","static",369],["T_DOUBLE_COLON","::",369],["T_STRING","exactly",369],"(",["T_LNUMBER","2",369],")",")",["T_WHITESPACE","\n            ",369],["T_OBJECT_OPERATOR","->",370],["T_STRING","method",370],"(",["T_CONSTANT_ENCAPSED_STRING","'setField'",370],")",["T_WHITESPACE","\n            ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","willReturnSelf",371],"(",")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","filterBuilder",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","expects",372],"(",["T_STATIC","static",372],["T_DOUBLE_COLON","::",372],["T_STRING","exactly",372],"(",["T_LNUMBER","2",372],")",")",["T_WHITESPACE","\n            ",372],["T_OBJECT_OPERATOR","->",373],["T_STRING","method",373],"(",["T_CONSTANT_ENCAPSED_STRING","'setValue'",373],")",["T_WHITESPACE","\n            ",373],["T_OBJECT_OPERATOR","->",374],["T_STRING","willReturnSelf",374],"(",")",";",["T_WHITESPACE","\n\n        ",374],["T_VARIABLE","$searchCriteria",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_NEW","new",376],["T_WHITESPACE"," ",376],["T_STRING","SearchCriteria",376],"(",")",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","searchCriteriaBuilder",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","expects",377],"(",["T_STATIC","static",377],["T_DOUBLE_COLON","::",377],["T_STRING","exactly",377],"(",["T_LNUMBER","2",377],")",")",["T_WHITESPACE","\n            ",377],["T_OBJECT_OPERATOR","->",378],["T_STRING","method",378],"(",["T_CONSTANT_ENCAPSED_STRING","'addFilters'",378],")",["T_WHITESPACE","\n            ",378],["T_OBJECT_OPERATOR","->",379],["T_STRING","willReturnSelf",379],"(",")",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","searchCriteriaBuilder",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","expects",380],"(",["T_STATIC","static",380],["T_DOUBLE_COLON","::",380],["T_STRING","once",380],"(",")",")",["T_WHITESPACE","\n            ",380],["T_OBJECT_OPERATOR","->",381],["T_STRING","method",381],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",381],")",["T_WHITESPACE","\n            ",381],["T_OBJECT_OPERATOR","->",382],["T_STRING","willReturn",382],"(",["T_VARIABLE","$searchCriteria",382],")",";",["T_WHITESPACE","\n\n        ",382],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","transactionRepository",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","expects",384],"(",["T_STATIC","static",384],["T_DOUBLE_COLON","::",384],["T_STRING","once",384],"(",")",")",["T_WHITESPACE","\n            ",384],["T_OBJECT_OPERATOR","->",385],["T_STRING","method",385],"(",["T_CONSTANT_ENCAPSED_STRING","'getList'",385],")",["T_WHITESPACE","\n            ",385],["T_OBJECT_OPERATOR","->",386],["T_STRING","with",386],"(",["T_VARIABLE","$searchCriteria",386],")",["T_WHITESPACE","\n            ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","willReturnSelf",387],"(",")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Create mock for search criteria object\n     *\/",390],["T_WHITESPACE","\n    ",392],["T_PRIVATE","private",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","initSearchCriteriaBuilderMock",393],"(",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","searchCriteriaBuilder",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getMockBuilder",395],"(",["T_STRING","SearchCriteriaBuilder",395],["T_DOUBLE_COLON","::",395],["T_CLASS","class",395],")",["T_WHITESPACE","\n            ",395],["T_OBJECT_OPERATOR","->",396],["T_STRING","disableOriginalConstructor",396],"(",")",["T_WHITESPACE","\n            ",396],["T_OBJECT_OPERATOR","->",397],["T_STRING","setMethods",397],"(","[",["T_CONSTANT_ENCAPSED_STRING","'addFilters'",397],",",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'create'",397],",",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",397],"]",")",["T_WHITESPACE","\n            ",397],["T_OBJECT_OPERATOR","->",398],["T_STRING","getMock",398],"(",")",";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Create mock for transaction repository\n     *\/",401],["T_WHITESPACE","\n    ",403],["T_PRIVATE","private",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","initTransactionRepositoryMock",404],"(",")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","transactionRepository",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getMockBuilder",406],"(",["T_STRING","TransactionRepositoryInterface",406],["T_DOUBLE_COLON","::",406],["T_CLASS","class",406],")",["T_WHITESPACE","\n            ",406],["T_OBJECT_OPERATOR","->",407],["T_STRING","disableOriginalConstructor",407],"(",")",["T_WHITESPACE","\n            ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","setMethods",408],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getList'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'getTotalCount'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'delete'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'get'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'save'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'create'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",408],"]",")",["T_WHITESPACE","\n            ",408],["T_OBJECT_OPERATOR","->",409],["T_STRING","getMock",409],"(",")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n",410],"}",["T_WHITESPACE","\n",411]]