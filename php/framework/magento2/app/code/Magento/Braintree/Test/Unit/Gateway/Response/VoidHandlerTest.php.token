[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Response",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Braintree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Gateway",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","SubjectReader",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Braintree",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Gateway",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Response",9],["T_NS_SEPARATOR","\\",9],["T_STRING","VoidHandler",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PaymentDataObjectInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Order",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","VoidHandlerTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testHandle",15],"(",")",["T_WHITESPACE","\n    ",15],"{",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$paymentDO",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","getMock",17],"(",["T_STRING","PaymentDataObjectInterface",17],["T_DOUBLE_COLON","::",17],["T_CLASS","class",17],")",";",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$paymentInfo",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","getMockBuilder",18],"(",["T_STRING","Payment",18],["T_DOUBLE_COLON","::",18],["T_CLASS","class",18],")",["T_WHITESPACE","\n            ",18],["T_OBJECT_OPERATOR","->",19],["T_STRING","disableOriginalConstructor",19],"(",")",["T_WHITESPACE","\n            ",19],["T_OBJECT_OPERATOR","->",20],["T_STRING","getMock",20],"(",")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$handlingSubject",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[",["T_WHITESPACE","\n            ",21],["T_CONSTANT_ENCAPSED_STRING","'payment'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$paymentDO",22],["T_WHITESPACE","\n        ",22],"]",";",["T_WHITESPACE","\n\n        ",23],["T_VARIABLE","$transaction",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Braintree",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Transaction",25],["T_DOUBLE_COLON","::",25],["T_STRING","factory",25],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_LNUMBER","1",25],"]",")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$response",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n            ",26],["T_CONSTANT_ENCAPSED_STRING","'object'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Braintree",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Result",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Successful",27],"(",["T_VARIABLE","$transaction",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'transaction'",27],")",["T_WHITESPACE","\n        ",27],"]",";",["T_WHITESPACE","\n\n        ",28],["T_VARIABLE","$subjectReader",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getMockBuilder",30],"(",["T_STRING","SubjectReader",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],")",["T_WHITESPACE","\n            ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","disableOriginalConstructor",31],"(",")",["T_WHITESPACE","\n            ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMock",32],"(",")",";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$subjectReader",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","expects",34],"(",["T_STATIC","static",34],["T_DOUBLE_COLON","::",34],["T_STRING","once",34],"(",")",")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","method",35],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",35],")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","with",36],"(",["T_VARIABLE","$handlingSubject",36],")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","willReturn",37],"(",["T_VARIABLE","$paymentDO",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$paymentDO",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","expects",38],"(",["T_STATIC","static",38],["T_DOUBLE_COLON","::",38],["T_STRING","atLeastOnce",38],"(",")",")",["T_WHITESPACE","\n            ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","method",39],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",39],")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","willReturn",40],"(",["T_VARIABLE","$paymentInfo",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$subjectReader",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","expects",41],"(",["T_STATIC","static",41],["T_DOUBLE_COLON","::",41],["T_STRING","once",41],"(",")",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","method",42],"(",["T_CONSTANT_ENCAPSED_STRING","'readTransaction'",42],")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","with",43],"(",["T_VARIABLE","$response",43],")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","willReturn",44],"(",["T_VARIABLE","$transaction",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$paymentInfo",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","expects",46],"(",["T_STATIC","static",46],["T_DOUBLE_COLON","::",46],["T_STRING","never",46],"(",")",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","method",47],"(",["T_CONSTANT_ENCAPSED_STRING","'setTransactionId'",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$paymentInfo",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","expects",49],"(",["T_STATIC","static",49],["T_DOUBLE_COLON","::",49],["T_STRING","once",49],"(",")",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],"(",["T_CONSTANT_ENCAPSED_STRING","'setIsTransactionClosed'",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","with",51],"(",["T_STRING","true",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$paymentInfo",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","expects",52],"(",["T_STATIC","static",52],["T_DOUBLE_COLON","::",52],["T_STRING","once",52],"(",")",")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","method",53],"(",["T_CONSTANT_ENCAPSED_STRING","'setShouldCloseParentTransaction'",53],")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","with",54],"(",["T_STRING","true",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$handler",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","VoidHandler",56],"(",["T_VARIABLE","$subjectReader",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$handler",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","handle",57],"(",["T_VARIABLE","$handlingSubject",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$response",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n",58],"}",["T_WHITESPACE","\n",59]]