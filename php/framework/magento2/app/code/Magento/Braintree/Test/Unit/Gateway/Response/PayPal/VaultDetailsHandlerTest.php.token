[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Response",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PayPal",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Braintree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Transaction",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Braintree",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Transaction",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PayPalDetails",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Braintree",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SubjectReader",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Braintree",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Response",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PayPal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","VaultDetailsHandler",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Intl",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DateTimeFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestFramework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Unit",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Helper",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ObjectManager",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Gateway",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PaymentDataObjectInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Sales",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","OrderPaymentExtensionInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Sales",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Data",16],["T_NS_SEPARATOR","\\",16],["T_STRING","OrderPaymentExtensionInterfaceFactory",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Sales",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Model",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Order",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Payment",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Vault",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Api",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Data",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PaymentTokenInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Vault",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Api",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Data",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PaymentTokenInterfaceFactory",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Vault",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","AccountPaymentTokenFactory",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Vault",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","PaymentToken",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","PHPUnit_Framework_MockObject_MockObject",22],["T_WHITESPACE"," ",22],["T_AS","as",22],["T_WHITESPACE"," ",22],["T_STRING","MockObject",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Class VaultDetailsHandlerTest\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",24],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","VaultDetailsHandlerTest",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","PHPUnit_Framework_TestCase",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$transactionId",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'1n2suy'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var SubjectReader|MockObject\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$subjectReader",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var PaymentDataObjectInterface|MockObject\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$paymentDataObject",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var Payment|MockObject\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$paymentInfo",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var AccountPaymentTokenFactory|MockObject\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$paymentTokenFactory",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var PaymentTokenInterface|MockObject\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$paymentToken",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var OrderPaymentExtension|MockObject\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$paymentExtension",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var OrderPaymentExtensionInterfaceFactory|MockObject\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$paymentExtensionFactory",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var VaultDetailsHandler\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PRIVATE","private",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$handler",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @var DateTimeFactory|MockObject\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$dateTimeFactory",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$subject",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",";",["T_WHITESPACE","\n\n    ",80],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","setUp",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$objectManager",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","ObjectManager",84],"(",["T_VARIABLE","$this",84],")",";",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","paymentDataObject",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockForAbstractClass",86],"(",["T_STRING","PaymentDataObjectInterface",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","paymentInfo",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMockBuilder",88],"(",["T_STRING","Payment",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","disableOriginalConstructor",89],"(",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","setMethods",90],"(","[",["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",90],"]",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMock",91],"(",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","paymentToken",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$objectManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getObject",93],"(",["T_STRING","PaymentToken",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","paymentTokenFactory",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMockBuilder",95],"(",["T_STRING","AccountPaymentTokenFactory",95],["T_DOUBLE_COLON","::",95],["T_CLASS","class",95],")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","setMethods",96],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",96],"]",")",["T_WHITESPACE","\n            ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","disableOriginalConstructor",97],"(",")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","paymentExtension",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMockBuilder",100],"(",["T_STRING","OrderPaymentExtensionInterface",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","setMethods",101],"(","[",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'getVaultPaymentToken'",101],"]",")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","disableOriginalConstructor",102],"(",")",["T_WHITESPACE","\n            ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","getMock",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","paymentExtensionFactory",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMockBuilder",104],"(",["T_STRING","OrderPaymentExtensionInterfaceFactory",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","disableOriginalConstructor",105],"(",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","setMethods",106],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",106],"]",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",")",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","subject",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"[",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'payment'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","paymentDataObject",110],",",["T_WHITESPACE","\n        ",110],"]",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","subjectReader",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMockBuilder",112],"(",["T_STRING","SubjectReader",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","disableOriginalConstructor",113],"(",")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","setMethods",114],"(","[",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'readTransaction'",114],"]",")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMock",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","subjectReader",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_STATIC","static",116],["T_DOUBLE_COLON","::",116],["T_STRING","once",116],"(",")",")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'readPayment'",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","with",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","subject",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturn",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","paymentDataObject",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","dateTimeFactory",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMockBuilder",121],"(",["T_STRING","DateTimeFactory",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","disableOriginalConstructor",122],"(",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setMethods",123],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",123],"]",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMock",124],"(",")",";",["T_WHITESPACE","\n        \n        ",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","handler",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","VaultDetailsHandler",126],"(",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","paymentTokenFactory",127],",",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","paymentExtensionFactory",128],",",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","subjectReader",129],",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","dateTimeFactory",130],["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Response\\PayPal\\VaultDetailsHandler::handle\n     *\/",134],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testHandle",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_DOC_COMMENT","\/** @var Transaction $transaction *\/",139],["T_WHITESPACE","\n        ",139],["T_VARIABLE","$transaction",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getTransaction",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$response",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'object'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$transaction",142],["T_WHITESPACE","\n        ",142],"]",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","paymentExtension",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","expects",145],"(",["T_STATIC","static",145],["T_DOUBLE_COLON","::",145],["T_STRING","once",145],"(",")",")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'setVaultPaymentToken'",146],")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","with",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","paymentToken",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","paymentExtension",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","expects",148],"(",["T_STATIC","static",148],["T_DOUBLE_COLON","::",148],["T_STRING","once",148],"(",")",")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","method",149],"(",["T_CONSTANT_ENCAPSED_STRING","'getVaultPaymentToken'",149],")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","willReturn",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","paymentToken",150],")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","subjectReader",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","expects",152],"(",["T_STATIC","static",152],["T_DOUBLE_COLON","::",152],["T_STRING","once",152],"(",")",")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'readTransaction'",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","with",154],"(",["T_VARIABLE","$response",154],")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","willReturn",155],"(",["T_VARIABLE","$transaction",155],")",";",["T_WHITESPACE","\n        \n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","paymentDataObject",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","expects",157],"(",["T_STATIC","static",157],["T_DOUBLE_COLON","::",157],["T_STRING","once",157],"(",")",")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","method",158],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","willReturn",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","paymentInfo",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","paymentTokenFactory",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","expects",161],"(",["T_STATIC","static",161],["T_DOUBLE_COLON","::",161],["T_STRING","once",161],"(",")",")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","method",162],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","willReturn",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","paymentToken",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","paymentExtensionFactory",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","expects",165],"(",["T_STATIC","static",165],["T_DOUBLE_COLON","::",165],["T_STRING","once",165],"(",")",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",166],")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","willReturn",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","paymentExtension",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$dateTime",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","DateTime",169],"(",["T_CONSTANT_ENCAPSED_STRING","'2016-07-05 00:00:00'",169],",",["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","DateTimeZone",169],"(",["T_CONSTANT_ENCAPSED_STRING","'UTC'",169],")",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$expirationDate",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'2017-07-05 00:00:00'",170],";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","dateTimeFactory",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","expects",171],"(",["T_STATIC","static",171],["T_DOUBLE_COLON","::",171],["T_STRING","once",171],"(",")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",172],")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(",["T_VARIABLE","$dateTime",173],")",";",["T_WHITESPACE","\n        \n        ",173],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","handler",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","handle",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","subject",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$response",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$extensionAttributes",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","paymentInfo",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getExtensionAttributes",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_DOC_COMMENT","\/** @var PaymentTokenInterface $paymentToken *\/",178],["T_WHITESPACE","\n        ",178],["T_VARIABLE","$paymentToken",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$extensionAttributes",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getVaultPaymentToken",179],"(",")",";",["T_WHITESPACE","\n        ",179],["T_STATIC","static",180],["T_DOUBLE_COLON","::",180],["T_STRING","assertNotNull",180],"(",["T_VARIABLE","$paymentToken",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$tokenDetails",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","json_decode",182],"(",["T_VARIABLE","$paymentToken",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getTokenDetails",182],"(",")",",",["T_WHITESPACE"," ",182],["T_STRING","true",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_STATIC","static",184],["T_DOUBLE_COLON","::",184],["T_STRING","assertSame",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","paymentToken",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$paymentToken",184],")",";",["T_WHITESPACE","\n        ",184],["T_STATIC","static",185],["T_DOUBLE_COLON","::",185],["T_STRING","assertEquals",185],"(",["T_VARIABLE","$transaction",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","paypalDetails",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","token",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$paymentToken",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getGatewayToken",185],"(",")",")",";",["T_WHITESPACE","\n        ",185],["T_STATIC","static",186],["T_DOUBLE_COLON","::",186],["T_STRING","assertEquals",186],"(",["T_VARIABLE","$transaction",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","paypalDetails",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","payerEmail",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$tokenDetails",186],"[",["T_CONSTANT_ENCAPSED_STRING","'payerEmail'",186],"]",")",";",["T_WHITESPACE","\n        ",186],["T_STATIC","static",187],["T_DOUBLE_COLON","::",187],["T_STRING","assertEquals",187],"(",["T_VARIABLE","$expirationDate",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$paymentToken",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getExpiresAt",187],"(",")",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\Braintree\\Gateway\\Response\\PayPal\\VaultDetailsHandler::handle\n     *\/",190],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","testHandleWithoutToken",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$transaction",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getTransaction",195],"(",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$transaction",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","paypalDetails",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","token",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","null",196],";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$response",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'object'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$transaction",199],["T_WHITESPACE","\n        ",199],"]",";",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","subjectReader",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","expects",202],"(",["T_STATIC","static",202],["T_DOUBLE_COLON","::",202],["T_STRING","once",202],"(",")",")",["T_WHITESPACE","\n            ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","method",203],"(",["T_CONSTANT_ENCAPSED_STRING","'readTransaction'",203],")",["T_WHITESPACE","\n            ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","with",204],"(",["T_VARIABLE","$response",204],")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","willReturn",205],"(",["T_VARIABLE","$transaction",205],")",";",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","paymentDataObject",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","expects",207],"(",["T_STATIC","static",207],["T_DOUBLE_COLON","::",207],["T_STRING","once",207],"(",")",")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","method",208],"(",["T_CONSTANT_ENCAPSED_STRING","'getPayment'",208],")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","willReturn",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","paymentInfo",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","paymentTokenFactory",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","expects",211],"(",["T_STATIC","static",211],["T_DOUBLE_COLON","::",211],["T_STRING","never",211],"(",")",")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","method",212],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","dateTimeFactory",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","expects",214],"(",["T_STATIC","static",214],["T_DOUBLE_COLON","::",214],["T_STRING","never",214],"(",")",")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","method",215],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","handler",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","handle",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","subject",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$response",217],")",";",["T_WHITESPACE","\n        ",217],["T_STATIC","static",218],["T_DOUBLE_COLON","::",218],["T_STRING","assertNull",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","paymentInfo",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getExtensionAttributes",218],"(",")",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Create Braintree transaction\n     * @return Transaction\n     *\/",221],["T_WHITESPACE","\n    ",224],["T_PRIVATE","private",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","getTransaction",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$attributes",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n            ",227],["T_CONSTANT_ENCAPSED_STRING","'id'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_STRING","self",228],["T_DOUBLE_COLON","::",228],["T_VARIABLE","$transactionId",228],",",["T_WHITESPACE","\n            ",228],["T_CONSTANT_ENCAPSED_STRING","'paypalDetails'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getPayPalDetails",229],"(",")",["T_WHITESPACE","\n        ",229],"]",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$transaction",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","Transaction",232],["T_DOUBLE_COLON","::",232],["T_STRING","factory",232],"(",["T_VARIABLE","$attributes",232],")",";",["T_WHITESPACE","\n\n        ",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$transaction",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Get PayPal transaction details\n     * @return PayPalDetails\n     *\/",237],["T_WHITESPACE","\n    ",240],["T_PRIVATE","private",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getPayPalDetails",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$attributes",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"[",["T_WHITESPACE","\n            ",243],["T_CONSTANT_ENCAPSED_STRING","'token'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'rc39al'",244],",",["T_WHITESPACE","\n            ",244],["T_CONSTANT_ENCAPSED_STRING","'payerEmail'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'john.doe@example.com'",245],["T_WHITESPACE","\n        ",245],"]",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$details",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","PayPalDetails",248],"(",["T_VARIABLE","$attributes",248],")",";",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$details",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n",251],"}",["T_WHITESPACE","\n",252]]