[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Checkout",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Session",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Action",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Context",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResultFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Braintree",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PayPal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Braintree",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Paypal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","QuoteUpdater",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LocalizedException",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class Review\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Review",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractAction",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var QuoteUpdater\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$quoteUpdater",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PRIVATE","private",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$paymentMethodNonce",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'payment_method_nonce'",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param Context $context\n     * @param Config $config\n     * @param Session $checkoutSession\n     * @param QuoteUpdater $quoteUpdater\n     *\/",30],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","__construct",38],"(",["T_WHITESPACE","\n        ",38],["T_STRING","Context",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$context",39],",",["T_WHITESPACE","\n        ",39],["T_STRING","Config",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$config",40],",",["T_WHITESPACE","\n        ",40],["T_STRING","Session",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$checkoutSession",41],",",["T_WHITESPACE","\n        ",41],["T_STRING","QuoteUpdater",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$quoteUpdater",42],["T_WHITESPACE","\n    ",42],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","__construct",44],"(",["T_VARIABLE","$context",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$config",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$checkoutSession",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","quoteUpdater",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$quoteUpdater",45],";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","execute",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$requestData",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","json_decode",53],"(",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getRequest",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getPostValue",54],"(",["T_CONSTANT_ENCAPSED_STRING","'result'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'{}'",54],")",",",["T_WHITESPACE","\n            ",54],["T_STRING","true",55],["T_WHITESPACE","\n        ",55],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$quote",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","checkoutSession",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getQuote",57],"(",")",";",["T_WHITESPACE","\n\n        ",57],["T_TRY","try",59],["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","validateQuote",60],"(",["T_VARIABLE","$quote",60],")",";",["T_WHITESPACE","\n\n            ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","validateRequestData",62],"(",["T_VARIABLE","$requestData",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","quoteUpdater",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","execute",63],"(",["T_WHITESPACE","\n                    ",63],["T_VARIABLE","$requestData",64],"[",["T_CONSTANT_ENCAPSED_STRING","'nonce'",64],"]",",",["T_WHITESPACE","\n                    ",64],["T_VARIABLE","$requestData",65],"[",["T_CONSTANT_ENCAPSED_STRING","'details'",65],"]",",",["T_WHITESPACE","\n                    ",65],["T_VARIABLE","$quote",66],["T_WHITESPACE","\n                ",66],")",";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE"," ",68],["T_ELSEIF","elseif",68],["T_WHITESPACE"," ",68],"(","!",["T_VARIABLE","$quote",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getPayment",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getAdditionalInformation",68],"(",["T_STRING","self",68],["T_DOUBLE_COLON","::",68],["T_VARIABLE","$paymentMethodNonce",68],")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                ",68],["T_THROW","throw",69],["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_STRING","LocalizedException",69],"(",["T_STRING","__",69],"(",["T_CONSTANT_ENCAPSED_STRING","'We can\\'t initialize checkout.'",69],")",")",";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n\n            ",70],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\View\\Result\\Page $resultPage *\/",72],["T_WHITESPACE","\n            ",72],["T_VARIABLE","$resultPage",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","resultFactory",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","create",73],"(",["T_STRING","ResultFactory",73],["T_DOUBLE_COLON","::",73],["T_STRING","TYPE_PAGE",73],")",";",["T_WHITESPACE","\n\n            ",73],["T_DOC_COMMENT","\/** @var \\Magento\\Braintree\\Block\\Paypal\\Checkout\\Review $reviewBlock *\/",75],["T_WHITESPACE","\n            ",75],["T_VARIABLE","$reviewBlock",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$resultPage",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getLayout",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getBlock",76],"(",["T_CONSTANT_ENCAPSED_STRING","'braintree.paypal.review'",76],")",";",["T_WHITESPACE","\n\n            ",76],["T_VARIABLE","$reviewBlock",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setQuote",78],"(",["T_VARIABLE","$quote",78],")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$reviewBlock",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getChildBlock",79],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","setData",79],"(",["T_CONSTANT_ENCAPSED_STRING","'quote'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$quote",79],")",";",["T_WHITESPACE","\n\n            ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$resultPage",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE"," ",82],["T_CATCH","catch",82],["T_WHITESPACE"," ",82],"(",["T_NS_SEPARATOR","\\",82],["T_STRING","Exception",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$e",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","messageManager",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addExceptionMessage",83],"(",["T_VARIABLE","$e",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$e",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMessage",83],"(",")",")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect $resultRedirect *\/",86],["T_WHITESPACE","\n        ",86],["T_VARIABLE","$resultRedirect",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","resultFactory",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","create",87],"(",["T_STRING","ResultFactory",87],["T_DOUBLE_COLON","::",87],["T_STRING","TYPE_REDIRECT",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$resultRedirect",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setPath",89],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",89],",",["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","true",89],"]",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * @param array $requestData\n     * @return boolean\n     *\/",92],["T_WHITESPACE","\n    ",95],["T_PRIVATE","private",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","validateRequestData",96],"(",["T_ARRAY","array",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$requestData",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],"!",["T_EMPTY","empty",98],"(",["T_VARIABLE","$requestData",98],"[",["T_CONSTANT_ENCAPSED_STRING","'nonce'",98],"]",")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],"!",["T_EMPTY","empty",98],"(",["T_VARIABLE","$requestData",98],"[",["T_CONSTANT_ENCAPSED_STRING","'details'",98],"]",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n",99],"}",["T_WHITESPACE","\n",100]]