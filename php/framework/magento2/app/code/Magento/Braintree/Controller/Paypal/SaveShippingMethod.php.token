[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Checkout",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Session",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","View",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Result",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Page",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Action",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Context",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Controller",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResultFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Braintree",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Gateway",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PayPal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Braintree",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Paypal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Helper",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ShippingMethodUpdater",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Class SaveShippingMethod\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","SaveShippingMethod",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractAction",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var ShippingMethodUpdater\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$shippingMethodUpdater",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param Context $context\n     * @param Config $config\n     * @param Session $checkoutSession\n     * @param ShippingMethodUpdater $shippingMethodUpdater\n     *\/",25],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_WHITESPACE","\n        ",33],["T_STRING","Context",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$context",34],",",["T_WHITESPACE","\n        ",34],["T_STRING","Config",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$config",35],",",["T_WHITESPACE","\n        ",35],["T_STRING","Session",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$checkoutSession",36],",",["T_WHITESPACE","\n        ",36],["T_STRING","ShippingMethodUpdater",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$shippingMethodUpdater",37],["T_WHITESPACE","\n    ",37],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",["T_VARIABLE","$context",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$config",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$checkoutSession",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","shippingMethodUpdater",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$shippingMethodUpdater",40],";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","execute",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$isAjax",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getRequest",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getParam",48],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$quote",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","checkoutSession",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getQuote",49],"(",")",";",["T_WHITESPACE","\n\n        ",49],["T_TRY","try",51],["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","validateQuote",52],"(",["T_VARIABLE","$quote",52],")",";",["T_WHITESPACE","\n\n            ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","shippingMethodUpdater",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","execute",54],"(",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getRequest",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getParam",55],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",55],")",",",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$quote",56],["T_WHITESPACE","\n            ",56],")",";",["T_WHITESPACE","\n\n            ",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$isAjax",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_DOC_COMMENT","\/** @var Page $response *\/",60],["T_WHITESPACE","\n                ",60],["T_VARIABLE","$response",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","resultFactory",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",["T_STRING","ResultFactory",61],["T_DOUBLE_COLON","::",61],["T_STRING","TYPE_PAGE",61],")",";",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$layout",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$response",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","addHandle",62],"(",["T_CONSTANT_ENCAPSED_STRING","'paypal_express_review_details'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getLayout",62],"(",")",";",["T_WHITESPACE","\n\n                ",62],["T_VARIABLE","$response",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$layout",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getBlock",64],"(",["T_CONSTANT_ENCAPSED_STRING","'page.block'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","toHtml",64],"(",")",";",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getResponse",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","setBody",65],"(",["T_VARIABLE","$response",65],")",";",["T_WHITESPACE","\n\n                ",65],["T_RETURN","return",67],";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE"," ",69],["T_CATCH","catch",69],["T_WHITESPACE"," ",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Exception",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$e",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","messageManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addExceptionMessage",70],"(",["T_VARIABLE","$e",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$e",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMessage",70],"(",")",")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$path",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_url",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getUrl",73],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/review'",73],",",["T_WHITESPACE"," ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'_secure'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","true",73],"]",")",";",["T_WHITESPACE","\n\n        ",73],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$isAjax",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getResponse",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","setBody",76],"(",["T_STRING","sprintf",76],"(",["T_CONSTANT_ENCAPSED_STRING","'<script>window.location.href = \"%s\";<\/script>'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$path",76],")",")",";",["T_WHITESPACE","\n\n            ",76],["T_RETURN","return",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_redirect",81],"(",["T_VARIABLE","$path",81],")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n",82],"}",["T_WHITESPACE","\n",83]]