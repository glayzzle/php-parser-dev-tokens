[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Request",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Braintree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Gateway",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Braintree",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Observer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DataAssignObserver",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Braintree",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SubjectReader",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Gateway",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Request",11],["T_NS_SEPARATOR","\\",11],["T_STRING","BuilderInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Formatter",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Payment Data Builder\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","PaymentDataBuilder",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","BuilderInterface",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Formatter",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * The billing amount of the request. This value must be greater than 0,\n     * and must match the currency format of the merchant account.\n     *\/",21],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","AMOUNT",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'amount'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * One-time-use token that references a payment method provided by your customer,\n     * such as a credit card or PayPal account.\n     *\n     * The nonce serves as proof that the user has authorized payment (e.g. credit card number or PayPal details).\n     * This should be sent to your server and used with any of Braintree's server-side client libraries\n     * that accept new or saved payment details.\n     * This can be passed instead of a payment_method_token parameter.\n     *\/",27],["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","PAYMENT_METHOD_NONCE",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'paymentMethodNonce'",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * The merchant account ID used to create a transaction.\n     * Currency is also determined by merchant account ID.\n     * If no merchant account ID is specified, Braintree will use your default merchant account.\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","MERCHANT_ACCOUNT_ID",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'merchantAccountId'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Order ID\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","ORDER_ID",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'orderId'",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @var Config\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$config",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * @var SubjectReader\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$subjectReader",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param Config $config\n     * @param SubjectReader $subjectReader\n     *\/",60],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",["T_STRING","Config",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$config",66],",",["T_WHITESPACE"," ",66],["T_STRING","SubjectReader",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$subjectReader",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","config",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$config",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","subjectReader",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$subjectReader",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","build",75],"(",["T_ARRAY","array",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$buildSubject",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$paymentDO",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","subjectReader",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","readPayment",77],"(",["T_VARIABLE","$buildSubject",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$payment",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$paymentDO",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getPayment",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$order",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$paymentDO",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getOrder",80],"(",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$result",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[",["T_WHITESPACE","\n            ",82],["T_STRING","self",83],["T_DOUBLE_COLON","::",83],["T_STRING","AMOUNT",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","formatPrice",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","subjectReader",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","readAmount",83],"(",["T_VARIABLE","$buildSubject",83],")",")",",",["T_WHITESPACE","\n            ",83],["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_STRING","PAYMENT_METHOD_NONCE",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$payment",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getAdditionalInformation",84],"(",["T_WHITESPACE","\n                ",84],["T_STRING","DataAssignObserver",85],["T_DOUBLE_COLON","::",85],["T_STRING","PAYMENT_METHOD_NONCE",85],["T_WHITESPACE","\n            ",85],")",",",["T_WHITESPACE","\n            ",86],["T_STRING","self",87],["T_DOUBLE_COLON","::",87],["T_STRING","ORDER_ID",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$order",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getOrderIncrementId",87],"(",")",["T_WHITESPACE","\n        ",87],"]",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$merchantAccountId",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","config",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMerchantAccountId",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","!",["T_EMPTY","empty",91],"(",["T_VARIABLE","$merchantAccountId",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$result",92],"[",["T_STRING","self",92],["T_DOUBLE_COLON","::",92],["T_STRING","MERCHANT_ACCOUNT_ID",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$merchantAccountId",92],";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$result",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n",96],"}",["T_WHITESPACE","\n",97]]