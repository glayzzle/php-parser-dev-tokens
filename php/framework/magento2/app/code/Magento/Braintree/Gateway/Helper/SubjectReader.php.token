[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Braintree",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gateway",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Helper",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Braintree",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Transaction",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Gateway",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Vault",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Api",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Data",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PaymentTokenInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Gateway",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Data",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PaymentDataObjectInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class SubjectReader\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","SubjectReader",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Reads response object from subject\n     *\n     * @param array $subject\n     * @return object\n     *\/",19],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","readResponseObject",25],"(",["T_ARRAY","array",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$subject",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$response",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","Helper",27],["T_NS_SEPARATOR","\\",27],["T_STRING","SubjectReader",27],["T_DOUBLE_COLON","::",27],["T_STRING","readResponse",27],"(",["T_VARIABLE","$subject",27],")",";",["T_WHITESPACE","\n        ",27],["T_IF","if",28],["T_WHITESPACE"," ",28],"(","!",["T_ISSET","isset",28],"(",["T_VARIABLE","$response",28],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",28],"]",")",["T_WHITESPACE"," ",28],["T_BOOLEAN_OR","||",28],["T_WHITESPACE"," ",28],"!",["T_STRING","is_object",28],"(",["T_VARIABLE","$response",28],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",28],"]",")",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n            ",28],["T_THROW","throw",29],["T_WHITESPACE"," ",29],["T_NEW","new",29],["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","InvalidArgumentException",29],"(",["T_CONSTANT_ENCAPSED_STRING","'Response object does not exist'",29],")",";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE","\n\n        ",30],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$response",32],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",32],"]",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Reads payment from subject\n     *\n     * @param array $subject\n     * @return PaymentDataObjectInterface\n     *\/",35],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","readPayment",41],"(",["T_ARRAY","array",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$subject",41],")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_STRING","Helper",43],["T_NS_SEPARATOR","\\",43],["T_STRING","SubjectReader",43],["T_DOUBLE_COLON","::",43],["T_STRING","readPayment",43],"(",["T_VARIABLE","$subject",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Reads transaction from subject\n     *\n     * @param array $subject\n     * @return \\Braintree\\Transaction\n     *\/",46],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","readTransaction",52],"(",["T_ARRAY","array",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$subject",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_ISSET","isset",54],"(",["T_VARIABLE","$subject",54],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",54],"]",")",["T_WHITESPACE"," ",54],["T_BOOLEAN_OR","||",54],["T_WHITESPACE"," ",54],"!",["T_STRING","is_object",54],"(",["T_VARIABLE","$subject",54],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",54],"]",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_THROW","throw",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","InvalidArgumentException",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Response object does not exist'",55],")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_ISSET","isset",58],"(",["T_VARIABLE","$subject",58],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",58],"]",["T_OBJECT_OPERATOR","->",58],["T_STRING","transaction",58],")",["T_WHITESPACE","\n            ",58],["T_BOOLEAN_AND","&&",59],["T_WHITESPACE"," ",59],"!",["T_VARIABLE","$subject",59],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",59],"]",["T_OBJECT_OPERATOR","->",59],["T_STRING","transaction",59],["T_WHITESPACE"," ",59],["T_INSTANCEOF","instanceof",59],["T_WHITESPACE"," ",59],["T_STRING","Transaction",59],["T_WHITESPACE","\n        ",59],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_THROW","throw",61],["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","InvalidArgumentException",61],"(",["T_CONSTANT_ENCAPSED_STRING","'The object is not a class \\Braintree\\Transaction.'",61],")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n\n        ",62],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$subject",64],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",64],"]",["T_OBJECT_OPERATOR","->",64],["T_STRING","transaction",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Reads amount from subject\n     *\n     * @param array $subject\n     * @return mixed\n     *\/",67],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","readAmount",73],"(",["T_ARRAY","array",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$subject",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_STRING","Helper",75],["T_NS_SEPARATOR","\\",75],["T_STRING","SubjectReader",75],["T_DOUBLE_COLON","::",75],["T_STRING","readAmount",75],"(",["T_VARIABLE","$subject",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Reads customer id from subject\n     *\n     * @param array $subject\n     * @return int\n     *\/",78],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","readCustomerId",84],"(",["T_ARRAY","array",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$subject",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(","!",["T_ISSET","isset",86],"(",["T_VARIABLE","$subject",86],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",86],"]",")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_THROW","throw",87],["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","InvalidArgumentException",87],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"customerId\" field does not exists'",87],")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_INT_CAST","(int)",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$subject",90],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",90],"]",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Reads public hash from subject\n     *\n     * @param array $subject\n     * @return string\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","readPublicHash",99],"(",["T_ARRAY","array",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$subject",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_EMPTY","empty",101],"(",["T_VARIABLE","$subject",101],"[",["T_STRING","PaymentTokenInterface",101],["T_DOUBLE_COLON","::",101],["T_STRING","PUBLIC_HASH",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","InvalidArgumentException",102],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"public_hash\" field does not exists'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$subject",105],"[",["T_STRING","PaymentTokenInterface",105],["T_DOUBLE_COLON","::",105],["T_STRING","PUBLIC_HASH",105],"]",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Reads PayPal details from transaction object\n     *\n     * @param Transaction $transaction\n     * @return array\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","readPayPal",114],"(",["T_STRING","Transaction",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$transaction",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_ISSET","isset",116],"(",["T_VARIABLE","$transaction",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","paypal",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_NS_SEPARATOR","\\",117],["T_STRING","InvalidArgumentException",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Transaction has\\'t paypal attribute'",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$transaction",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","paypal",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n",122]]