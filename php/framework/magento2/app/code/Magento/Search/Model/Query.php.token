[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Search",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResourceConnection",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Search",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceModel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Query",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Collection",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","QueryCollection",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Search",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Query",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CollectionFactory",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","QueryCollectionFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Search",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SearchCollectionInterface",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","Collection",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Search",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SearchCollectionFactory",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","CollectionFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Config",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ScopeConfigInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Data",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Collection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractDb",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","DbCollection",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","AbstractModel",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ResourceModel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractResource",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Registry",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Store",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","StoreManagerInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Search query model\n *\n * @method \\Magento\\Search\\Model\\ResourceModel\\Query _getResource()\n * @method \\Magento\\Search\\Model\\ResourceModel\\Query getResource()\n * @method \\Magento\\Search\\Model\\Query setQueryText(string $value)\n * @method int getNumResults()\n * @method \\Magento\\Search\\Model\\Query setNumResults(int $value)\n * @method int getPopularity()\n * @method \\Magento\\Search\\Model\\Query setPopularity(int $value)\n * @method string getRedirect()\n * @method \\Magento\\Search\\Model\\Query setRedirect(string $value)\n * @method int getDisplayInTerms()\n * @method \\Magento\\Search\\Model\\Query setDisplayInTerms(int $value)\n * @method \\Magento\\Search\\Model\\Query setQueryNameExceeded(bool $value)\n * @method int getIsActive()\n * @method \\Magento\\Search\\Model\\Query setIsActive(int $value)\n * @method int getIsProcessed()\n * @method \\Magento\\Search\\Model\\Query setIsProcessed(int $value)\n * @method string getUpdatedAt()\n * @method \\Magento\\Search\\Model\\Query setUpdatedAt(string $value)\n * @method \\Magento\\Search\\Model\\Query setIsQueryTextExceeded(bool $value)\n * @method \\Magento\\Search\\Model\\Query setIsQueryTextShort(bool $value)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",44],["T_CLASS","class",45],["T_WHITESPACE"," ",45],["T_STRING","Query",45],["T_WHITESPACE"," ",45],["T_EXTENDS","extends",45],["T_WHITESPACE"," ",45],["T_STRING","AbstractModel",45],["T_WHITESPACE"," ",45],["T_IMPLEMENTS","implements",45],["T_WHITESPACE"," ",45],["T_STRING","QueryInterface",45],["T_WHITESPACE","\n",45],"{",["T_WHITESPACE","\n    ",46],["T_DOC_COMMENT","\/**\n     * Event prefix\n     *\n     * @var string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_eventPrefix",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'search_query'",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Event object key name\n     *\n     * @var string\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_eventObject",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'search_query'",59],";",["T_WHITESPACE","\n\n    ",59],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","CACHE_TAG",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'SEARCH_QUERY'",61],";",["T_WHITESPACE","\n\n    ",61],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","XML_PATH_MIN_QUERY_LENGTH",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'catalog\/search\/min_query_length'",63],";",["T_WHITESPACE","\n\n    ",63],["T_CONST","const",65],["T_WHITESPACE"," ",65],["T_STRING","XML_PATH_MAX_QUERY_LENGTH",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'catalog\/search\/max_query_length'",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Core store config\n     *\n     * @var ScopeConfigInterface\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_scopeConfig",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Store manager\n     *\n     * @var StoreManagerInterface\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_storeManager",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Search collection factory\n     *\n     * @var CollectionFactory\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_searchCollectionFactory",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Query collection factory\n     *\n     * @var QueryCollectionFactory\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_queryCollectionFactory",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Construct\n     *\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param Registry $registry\n     * @param QueryCollectionFactory $queryCollectionFactory\n     * @param CollectionFactory $searchCollectionFactory\n     * @param StoreManagerInterface $storeManager\n     * @param ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param DbCollection $resourceCollection\n     * @param array $data\n     *\/",95],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","__construct",108],"(",["T_WHITESPACE","\n        ",108],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Framework",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Model",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Context",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$context",109],",",["T_WHITESPACE","\n        ",109],["T_STRING","Registry",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$registry",110],",",["T_WHITESPACE","\n        ",110],["T_STRING","QueryCollectionFactory",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$queryCollectionFactory",111],",",["T_WHITESPACE","\n        ",111],["T_STRING","CollectionFactory",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$searchCollectionFactory",112],",",["T_WHITESPACE","\n        ",112],["T_STRING","StoreManagerInterface",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$storeManager",113],",",["T_WHITESPACE","\n        ",113],["T_STRING","ScopeConfigInterface",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$scopeConfig",114],",",["T_WHITESPACE","\n        ",114],["T_STRING","AbstractResource",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$resource",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","null",115],",",["T_WHITESPACE","\n        ",115],["T_STRING","DbCollection",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$resourceCollection",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","null",116],",",["T_WHITESPACE","\n        ",116],["T_ARRAY","array",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$data",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[","]",["T_WHITESPACE","\n    ",117],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_queryCollectionFactory",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$queryCollectionFactory",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_searchCollectionFactory",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$searchCollectionFactory",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_storeManager",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$storeManager",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_scopeConfig",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$scopeConfig",122],";",["T_WHITESPACE","\n        ",122],["T_STRING","parent",123],["T_DOUBLE_COLON","::",123],["T_STRING","__construct",123],"(",["T_VARIABLE","$context",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$registry",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$resource",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$resourceCollection",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$data",123],")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Init resource model\n     *\n     * @return void\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","_construct",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_init",133],"(",["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Search",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Model",133],["T_NS_SEPARATOR","\\",133],["T_STRING","ResourceModel",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Query",133],["T_DOUBLE_COLON","::",133],["T_CLASS","class",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Retrieve search collection\n     *\n     * @return Collection\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getSearchCollection",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_searchCollectionFactory",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","create",143],"(",")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Retrieve collection of suggest queries\n     *\n     * @return QueryCollection\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getSuggestCollection",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$collection",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getData",153],"(",["T_CONSTANT_ENCAPSED_STRING","'suggest_collection'",153],")",";",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$collection",154],["T_WHITESPACE"," ",154],["T_IS_IDENTICAL","===",154],["T_WHITESPACE"," ",154],["T_STRING","null",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$collection",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_queryCollectionFactory",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","create",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","setStoreId",155],"(",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getStoreId",156],"(",")",["T_WHITESPACE","\n            ",156],")",["T_OBJECT_OPERATOR","->",157],["T_STRING","setQueryFilter",157],"(",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getQueryText",158],"(",")",["T_WHITESPACE","\n            ",158],")",";",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setData",160],"(",["T_CONSTANT_ENCAPSED_STRING","'suggest_collection'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$collection",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$collection",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Load Query object by query string\n     *\n     * @param string $text\n     * @return $this\n     * @deprecated \"synonym for\" feature has been removed\n     *\/",165],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","loadByQuery",172],"(",["T_VARIABLE","$text",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","loadByQueryText",174],"(",["T_VARIABLE","$text",174],")",";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Load Query object only by query text\n     *\n     * @param string $text\n     * @return $this\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","loadByQueryText",184],"(",["T_VARIABLE","$text",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getResource",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","loadByQueryText",186],"(",["T_VARIABLE","$this",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$text",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_afterLoad",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setOrigData",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Set Store Id\n     *\n     * @param int $storeId\n     * @return void\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","setStoreId",198],"(",["T_VARIABLE","$storeId",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","setData",200],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$storeId",200],")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Retrieve store Id\n     *\n     * @return int\n     *\/",203],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","getStoreId",208],"(",")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!","(",["T_VARIABLE","$storeId",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getData",210],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",210],")",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$storeId",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_storeManager",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getStore",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getId",211],"(",")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$storeId",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Prepare save query for result\n     *\n     * @return $this\n     *\/",216],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","prepare",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(","!",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getId",223],"(",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","setIsActive",224],"(",["T_LNUMBER","0",224],")",";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","setIsProcessed",225],"(",["T_LNUMBER","0",225],")",";",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","save",226],"(",")",";",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setIsActive",227],"(",["T_LNUMBER","1",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Save query with incremental popularity\n     *\n     * @return $this\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",233],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","saveIncrementalPopularity",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getResource",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","saveIncrementalPopularity",242],"(",["T_VARIABLE","$this",242],")",";",["T_WHITESPACE","\n\n        ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Save query with number of results\n     *\n     * @param int $numResults\n     * @return $this\n     *\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",247],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","saveNumResults",255],"(",["T_VARIABLE","$numResults",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setNumResults",257],"(",["T_VARIABLE","$numResults",257],")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getResource",258],"(",")",["T_OBJECT_OPERATOR","->",258],["T_STRING","saveNumResults",258],"(",["T_VARIABLE","$this",258],")",";",["T_WHITESPACE","\n\n        ",258],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Retrieve minimum query length\n     *\n     * @return int\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getMinQueryLength",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_scopeConfig",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getValue",270],"(",["T_WHITESPACE","\n            ",270],["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","XML_PATH_MIN_QUERY_LENGTH",271],",",["T_WHITESPACE","\n            ",271],["T_NS_SEPARATOR","\\",272],["T_STRING","Magento",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Store",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Model",272],["T_NS_SEPARATOR","\\",272],["T_STRING","ScopeInterface",272],["T_DOUBLE_COLON","::",272],["T_STRING","SCOPE_STORE",272],",",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getStoreId",273],"(",")",["T_WHITESPACE","\n        ",273],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Retrieve maximum query length\n     *\n     * @return int\n     *\/",277],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getMaxQueryLength",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_scopeConfig",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getValue",284],"(",["T_WHITESPACE","\n            ",284],["T_STRING","self",285],["T_DOUBLE_COLON","::",285],["T_STRING","XML_PATH_MAX_QUERY_LENGTH",285],",",["T_WHITESPACE","\n            ",285],["T_NS_SEPARATOR","\\",286],["T_STRING","Magento",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Store",286],["T_NS_SEPARATOR","\\",286],["T_STRING","Model",286],["T_NS_SEPARATOR","\\",286],["T_STRING","ScopeInterface",286],["T_DOUBLE_COLON","::",286],["T_STRING","SCOPE_STORE",286],",",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getStoreId",287],"(",")",["T_WHITESPACE","\n        ",287],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * @return string\n     * @codeCoverageIgnore\n     *\/",291],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","getQueryText",295],"(",")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getDataByKey",297],"(",["T_CONSTANT_ENCAPSED_STRING","'query_text'",297],")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * @return bool\n     * @codeCoverageIgnore\n     *\/",300],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","isQueryTextExceeded",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getData",306],"(",["T_CONSTANT_ENCAPSED_STRING","'is_query_text_exceeded'",306],")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * @return bool\n     * @codeCoverageIgnore\n     *\/",309],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","isQueryTextShort",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getData",315],"(",["T_CONSTANT_ENCAPSED_STRING","'is_query_text_short'",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n",316],"}",["T_WHITESPACE","\n",317]]