[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","User",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Backend",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Event",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Observer",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","EventObserver",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ObserverInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * User backend observer model for passwords\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ForceAdminPasswordChangeObserver",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","ObserverInterface",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Backend configuration interface\n     *\n     * @var \\Magento\\User\\Model\\Backend\\Config\\ObserverConfig\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$observerConfig",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Authorization interface\n     *\n     * @var \\Magento\\Framework\\AuthorizationInterface\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$authorization",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Backend url interface\n     *\n     * @var \\Magento\\Backend\\Model\\UrlInterface\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$url",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Backend session\n     *\n     * @var \\Magento\\Backend\\Model\\Session\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$session",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Backend authorization session\n     *\n     * @var \\Magento\\Backend\\Model\\Auth\\Session\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$authSession",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Action flag\n     *\n     * @var \\Magento\\Framework\\App\\ActionFlag\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$actionFlag",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Message manager interface\n     *\n     * @var \\Magento\\Framework\\Message\\ManagerInterface\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$messageManager",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\AuthorizationInterface $authorization\n     * @param \\Magento\\User\\Model\\Backend\\Config\\ObserverConfig $observerConfig\n     * @param \\Magento\\Backend\\Model\\UrlInterface $url\n     * @param \\Magento\\Backend\\Model\\Session $session\n     * @param \\Magento\\Backend\\Model\\Auth\\Session $authSession\n     * @param \\Magento\\Framework\\App\\ActionFlag $actionFlag\n     * @param \\Magento\\Framework\\Message\\ManagerInterface $messageManager\n     *\/",66],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_WHITESPACE","\n        ",75],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Framework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","AuthorizationInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$authorization",76],",",["T_WHITESPACE","\n        ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","User",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Backend",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Config",77],["T_NS_SEPARATOR","\\",77],["T_STRING","ObserverConfig",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$observerConfig",77],",",["T_WHITESPACE","\n        ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Backend",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","UrlInterface",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$url",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Backend",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Model",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Session",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$session",79],",",["T_WHITESPACE","\n        ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Backend",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Auth",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Session",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$authSession",80],",",["T_WHITESPACE","\n        ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ActionFlag",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$actionFlag",81],",",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Framework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Message",82],["T_NS_SEPARATOR","\\",82],["T_STRING","ManagerInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$messageManager",82],["T_WHITESPACE","\n    ",82],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","authorization",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$authorization",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","observerConfig",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$observerConfig",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","url",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$url",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","session",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$session",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","authSession",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$authSession",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","actionFlag",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$actionFlag",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","messageManager",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$messageManager",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Force admin to change password\n     *\n     * @param EventObserver $observer\n     * @return void\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","execute",99],"(",["T_STRING","EventObserver",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$observer",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","observerConfig",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","isPasswordChangeForced",101],"(",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","authSession",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isLoggedIn",104],"(",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_RETURN","return",105],";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$actionList",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"[",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_system_account_index'",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_system_account_save'",109],",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_auth_logout'",110],",",["T_WHITESPACE","\n        ",110],"]",";",["T_WHITESPACE","\n        ",111],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Action\\Action $controller *\/",112],["T_WHITESPACE","\n        ",112],["T_VARIABLE","$controller",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$observer",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getEvent",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getControllerAction",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\RequestInterface $request *\/",114],["T_WHITESPACE","\n        ",114],["T_VARIABLE","$request",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$observer",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getEvent",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getRequest",115],"(",")",";",["T_WHITESPACE","\n\n        ",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","authSession",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getPciAdminUserIsPasswordExpired",117],"(",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_STRING","in_array",118],"(",["T_VARIABLE","$request",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getFullActionName",118],"(",")",",",["T_WHITESPACE"," ",118],["T_VARIABLE","$actionList",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","authorization",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isAllowed",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Backend::myaccount'",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                    ",119],["T_VARIABLE","$controller",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getResponse",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","setRedirect",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","url",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getUrl",120],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/system_account\/'",120],")",")",";",["T_WHITESPACE","\n                    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","actionFlag",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","set",121],"(",["T_CONSTANT_ENCAPSED_STRING","''",121],",",["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","App",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Action",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Action",121],["T_DOUBLE_COLON","::",121],["T_STRING","FLAG_NO_DISPATCH",121],",",["T_WHITESPACE"," ",121],["T_STRING","true",121],")",";",["T_WHITESPACE","\n                    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","actionFlag",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","set",122],"(",["T_CONSTANT_ENCAPSED_STRING","''",122],",",["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","App",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Action",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Action",122],["T_DOUBLE_COLON","::",122],["T_STRING","FLAG_NO_POST_DISPATCH",122],",",["T_WHITESPACE"," ",122],["T_STRING","true",122],")",";",["T_WHITESPACE","\n                ",122],"}",["T_WHITESPACE"," ",123],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                    ",123],["T_COMMENT","\/*\n                     * if admin password is expired and access to 'My Account' page is denied\n                     * than we need to do force logout with error message\n                     *\/",124],["T_WHITESPACE","\n                    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","authSession",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","clearStorage",128],"(",")",";",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","session",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","clearStorage",129],"(",")",";",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","messageManager",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","addErrorMessage",130],"(",["T_WHITESPACE","\n                        ",130],["T_STRING","__",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Your password has expired; please contact your administrator.'",131],")",["T_WHITESPACE","\n                    ",131],")",";",["T_WHITESPACE","\n                    ",132],["T_VARIABLE","$controller",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getRequest",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","setDispatched",133],"(",["T_STRING","false",133],")",";",["T_WHITESPACE","\n                ",133],"}",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n",137],"}",["T_WHITESPACE","\n",138]]