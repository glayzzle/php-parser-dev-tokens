[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","User",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Auth",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Security",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","SecurityManager",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","Forgotpassword",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","User",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Controller",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Adminhtml",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Auth",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var SecurityManager\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$securityManager",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\User\\Model\\UserFactory $userFactory\n     * @param \\Magento\\Security\\Model\\SecurityManager $securityManager\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","__construct",23],"(",["T_WHITESPACE","\n        ",23],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Backend",24],["T_NS_SEPARATOR","\\",24],["T_STRING","App",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Action",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Context",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$context",24],",",["T_WHITESPACE","\n        ",24],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","User",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Model",25],["T_NS_SEPARATOR","\\",25],["T_STRING","UserFactory",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$userFactory",25],",",["T_WHITESPACE","\n        ",25],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Security",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Model",26],["T_NS_SEPARATOR","\\",26],["T_STRING","SecurityManager",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$securityManager",26],["T_WHITESPACE","\n    ",26],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n        ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","__construct",28],"(",["T_VARIABLE","$context",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$userFactory",28],")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","securityManager",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$securityManager",29],";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Forgot administrator password action\n     *\n     * @return void\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",32],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","execute",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$email",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING_CAST","(string)",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getRequest",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","getParam",40],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$params",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getRequest",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getParams",41],"(",")",";",["T_WHITESPACE","\n\n        ",41],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect $resultRedirect *\/",43],["T_WHITESPACE","\n        ",43],["T_VARIABLE","$resultRedirect",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","resultRedirectFactory",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","create",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(","!",["T_EMPTY","empty",45],"(",["T_VARIABLE","$email",45],")",["T_WHITESPACE"," ",45],["T_BOOLEAN_AND","&&",45],["T_WHITESPACE"," ",45],"!",["T_EMPTY","empty",45],"(",["T_VARIABLE","$params",45],")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_COMMENT","\/\/ Validate received data to be an email address\n",46],["T_WHITESPACE","            ",47],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Zend_Validate",47],["T_DOUBLE_COLON","::",47],["T_STRING","is",47],"(",["T_VARIABLE","$email",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'EmailAddress'",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                ",47],["T_TRY","try",48],["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","securityManager",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","performSecurityCheck",49],"(",["T_WHITESPACE","\n                        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Security",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","PasswordResetRequestEvent",50],["T_DOUBLE_COLON","::",50],["T_STRING","ADMIN_PASSWORD_RESET_REQUEST",50],",",["T_WHITESPACE","\n                        ",50],["T_VARIABLE","$email",51],["T_WHITESPACE","\n                    ",51],")",";",["T_WHITESPACE","\n                ",52],"}",["T_WHITESPACE"," ",53],["T_CATCH","catch",53],["T_WHITESPACE"," ",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Exception",53],["T_NS_SEPARATOR","\\",53],["T_STRING","SecurityViolationException",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$exception",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n                    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","messageManager",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","addErrorMessage",54],"(",["T_VARIABLE","$exception",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMessage",54],"(",")",")",";",["T_WHITESPACE","\n                    ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$resultRedirect",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","setPath",55],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",55],")",";",["T_WHITESPACE","\n                ",55],"}",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$collection",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","User",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","ResourceModel",57],["T_NS_SEPARATOR","\\",57],["T_STRING","User",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Collection",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n                ",57],["T_DOC_COMMENT","\/** @var $collection \\Magento\\User\\Model\\ResourceModel\\User\\Collection *\/",58],["T_WHITESPACE","\n                ",58],["T_VARIABLE","$collection",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addFieldToFilter",59],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$email",59],")",";",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$collection",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","load",60],"(",["T_STRING","false",60],")",";",["T_WHITESPACE","\n\n                ",60],["T_TRY","try",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                    ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$collection",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getSize",63],"(",")",["T_WHITESPACE"," ",63],">",["T_WHITESPACE"," ",63],["T_LNUMBER","0",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                        ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$collection",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$item",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                            ",64],["T_DOC_COMMENT","\/** @var \\Magento\\User\\Model\\User $user *\/",65],["T_WHITESPACE","\n                            ",65],["T_VARIABLE","$user",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_userFactory",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","create",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","load",66],"(",["T_VARIABLE","$item",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getId",66],"(",")",")",";",["T_WHITESPACE","\n                            ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$user",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getId",67],"(",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                                ",67],["T_VARIABLE","$newPassResetToken",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_objectManager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_WHITESPACE","\n                                    ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","User",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Helper",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Data",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],["T_WHITESPACE","\n                                ",69],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","generateResetPasswordLinkToken",70],"(",")",";",["T_WHITESPACE","\n                                ",70],["T_VARIABLE","$user",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","changeResetPasswordLinkToken",71],"(",["T_VARIABLE","$newPassResetToken",71],")",";",["T_WHITESPACE","\n                                ",71],["T_VARIABLE","$user",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","save",72],"(",")",";",["T_WHITESPACE","\n                                ",72],["T_VARIABLE","$user",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","sendPasswordResetConfirmationEmail",73],"(",")",";",["T_WHITESPACE","\n                            ",73],"}",["T_WHITESPACE","\n                            ",74],["T_BREAK","break",75],";",["T_WHITESPACE","\n                        ",75],"}",["T_WHITESPACE","\n                    ",76],"}",["T_WHITESPACE","\n                ",77],"}",["T_WHITESPACE"," ",78],["T_CATCH","catch",78],["T_WHITESPACE"," ",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Exception",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$exception",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","messageManager",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","addExceptionMessage",79],"(",["T_WHITESPACE","\n                        ",79],["T_VARIABLE","$exception",80],",",["T_WHITESPACE","\n                        ",80],["T_STRING","__",81],"(",["T_CONSTANT_ENCAPSED_STRING","'We\\'re unable to send the password reset email.'",81],")",["T_WHITESPACE","\n                    ",81],")",";",["T_WHITESPACE","\n                    ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$resultRedirect",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setPath",83],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",83],")",";",["T_WHITESPACE","\n                ",83],"}",["T_WHITESPACE","\n                ",84],["T_COMMENT","\/\/ @codingStandardsIgnoreStart\n",85],["T_WHITESPACE","                ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","messageManager",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","addSuccess",86],"(",["T_STRING","__",86],"(",["T_CONSTANT_ENCAPSED_STRING","'We\\'ll email you a link to reset your password.'",86],")",")",";",["T_WHITESPACE","\n                ",86],["T_COMMENT","\/\/ @codingStandardsIgnoreEnd\n",87],["T_WHITESPACE","                ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getResponse",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","setRedirect",88],"(",["T_WHITESPACE","\n                    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_objectManager",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Backend",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Helper",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Data",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getHomePageUrl",89],"(",")",["T_WHITESPACE","\n                ",89],")",";",["T_WHITESPACE","\n                ",90],["T_RETURN","return",91],";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE"," ",92],["T_ELSE","else",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","messageManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","addError",93],"(",["T_STRING","__",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Please correct this email address:'",93],")",")",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE"," ",95],["T_ELSEIF","elseif",95],["T_WHITESPACE"," ",95],"(","!",["T_EMPTY","empty",95],"(",["T_VARIABLE","$params",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","messageManager",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addError",96],"(",["T_STRING","__",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter an email address.'",96],")",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_view",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","loadLayout",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_view",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","renderLayout",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n",100],"}",["T_WHITESPACE","\n",101]]