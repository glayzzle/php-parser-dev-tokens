[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integration",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Oauth",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Authorization",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UserContextInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Oauth",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","OauthException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Oauth",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Oauth",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","OauthHelper",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Integration",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ResourceModel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Oauth",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Token",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Collection",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","TokenCollection",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * oAuth token model\n *\n * @method string getName() Consumer name (joined from consumer table)\n * @method TokenCollection getCollection()\n * @method TokenCollection getResourceCollection()\n * @method \\Magento\\Integration\\Model\\ResourceModel\\Oauth\\Token getResource()\n * @method \\Magento\\Integration\\Model\\ResourceModel\\Oauth\\Token _getResource()\n * @method int getConsumerId()\n * @method Token setConsumerId() setConsumerId(int $consumerId)\n * @method int getAdminId()\n * @method Token setAdminId() setAdminId(int $adminId)\n * @method int getCustomerId()\n * @method Token setCustomerId() setCustomerId(int $customerId)\n * @method int getUserType()\n * @method Token setUserType() setUserType(int $userType)\n * @method string getType()\n * @method Token setType() setType(string $type)\n * @method string getCallbackUrl()\n * @method Token setCallbackUrl() setCallbackUrl(string $callbackUrl)\n * @method string getCreatedAt()\n * @method Token setCreatedAt() setCreatedAt(string $createdAt)\n * @method string getToken()\n * @method Token setToken() setToken(string $token)\n * @method string getSecret()\n * @method Token setSecret() setSecret(string $tokenSecret)\n * @method int getRevoked()\n * @method Token setRevoked() setRevoked(int $revoked)\n * @method int getAuthorized()\n * @method Token setAuthorized() setAuthorized(int $authorized)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",44],["T_CLASS","class",45],["T_WHITESPACE"," ",45],["T_STRING","Token",45],["T_WHITESPACE"," ",45],["T_EXTENDS","extends",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","AbstractModel",45],["T_WHITESPACE","\n",45],"{",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/**#@+\n     * Token types\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","TYPE_REQUEST",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'request'",50],";",["T_WHITESPACE","\n\n    ",50],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","TYPE_ACCESS",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'access'",52],";",["T_WHITESPACE","\n\n    ",52],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","TYPE_VERIFIER",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'verifier'",54],";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/**#@- *\/",56],["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var OauthHelper\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_oauthHelper",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Helper\\Oauth\\Data\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_oauthData",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\Oauth\\ConsumerFactory\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_consumerFactory",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Url\\Validator\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_urlValidator",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * @var Consumer\\Validator\\KeyLengthFactory\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_keyLengthFactory",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Initialize dependencies.\n     *\n     * @param \\Magento\\Framework\\Model\\Context $context\n     * @param \\Magento\\Framework\\Registry $registry\n     * @param \\Magento\\Integration\\Model\\Oauth\\Consumer\\Validator\\KeyLengthFactory $keyLengthFactory\n     * @param \\Magento\\Framework\\Url\\Validator $urlValidator\n     * @param \\Magento\\Integration\\Model\\Oauth\\ConsumerFactory $consumerFactory\n     * @param \\Magento\\Integration\\Helper\\Oauth\\Data $oauthData\n     * @param OauthHelper $oauthHelper\n     * @param \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource $resource\n     * @param \\Magento\\Framework\\Data\\Collection\\AbstractDb $resourceCollection\n     * @param array $data\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",83],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","__construct",98],"(",["T_WHITESPACE","\n        ",98],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Framework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Model",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Context",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$context",99],",",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Registry",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$registry",100],",",["T_WHITESPACE","\n        ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Integration",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Model",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Oauth",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Consumer",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Validator",101],["T_NS_SEPARATOR","\\",101],["T_STRING","KeyLengthFactory",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$keyLengthFactory",101],",",["T_WHITESPACE","\n        ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Url",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Validator",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$urlValidator",102],",",["T_WHITESPACE","\n        ",102],["T_NS_SEPARATOR","\\",103],["T_STRING","Magento",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Integration",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Model",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Oauth",103],["T_NS_SEPARATOR","\\",103],["T_STRING","ConsumerFactory",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$consumerFactory",103],",",["T_WHITESPACE","\n        ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Integration",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Helper",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Oauth",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Data",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$oauthData",104],",",["T_WHITESPACE","\n        ",104],["T_STRING","OauthHelper",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$oauthHelper",105],",",["T_WHITESPACE","\n        ",105],["T_NS_SEPARATOR","\\",106],["T_STRING","Magento",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Framework",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Model",106],["T_NS_SEPARATOR","\\",106],["T_STRING","ResourceModel",106],["T_NS_SEPARATOR","\\",106],["T_STRING","AbstractResource",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$resource",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","null",106],",",["T_WHITESPACE","\n        ",106],["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Data",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Collection",107],["T_NS_SEPARATOR","\\",107],["T_STRING","AbstractDb",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$resourceCollection",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","null",107],",",["T_WHITESPACE","\n        ",107],["T_ARRAY","array",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$data",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[","]",["T_WHITESPACE","\n    ",108],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n        ",109],["T_STRING","parent",110],["T_DOUBLE_COLON","::",110],["T_STRING","__construct",110],"(",["T_VARIABLE","$context",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$registry",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$resource",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$resourceCollection",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$data",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_keyLengthFactory",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$keyLengthFactory",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_urlValidator",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$urlValidator",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_consumerFactory",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$consumerFactory",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_oauthData",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$oauthData",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_oauthHelper",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$oauthHelper",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     * @return void\n     *\/",118],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","_construct",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_init",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Integration",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","ResourceModel",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Oauth",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Token",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * The \"After save\" actions\n     *\n     * @return $this\n     *\/",128],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","afterSave",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_STRING","parent",135],["T_DOUBLE_COLON","::",135],["T_STRING","afterSave",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],["T_COMMENT","\/\/ Cleanup old entries\n",137],["T_WHITESPACE","        ",138],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_oauthData",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isCleanupProbability",138],"(",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_getResource",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","deleteOldEntries",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_oauthData",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getCleanupExpirationPeriod",139],"(",")",")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Generate an oauth_verifier for a consumer, if the consumer doesn't already have one.\n     *\n     * @param int $consumerId - The id of the consumer associated with the verifier to be generated.\n     * @return $this\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","createVerifierToken",150],"(",["T_VARIABLE","$consumerId",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$tokenData",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getResource",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","selectTokenByType",152],"(",["T_VARIABLE","$consumerId",152],",",["T_WHITESPACE"," ",152],["T_STRING","self",152],["T_DOUBLE_COLON","::",152],["T_STRING","TYPE_VERIFIER",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setData",153],"(",["T_VARIABLE","$tokenData",153],["T_WHITESPACE"," ",153],"?",["T_WHITESPACE"," ",153],["T_VARIABLE","$tokenData",153],["T_WHITESPACE"," ",153],":",["T_WHITESPACE"," ",153],"[","]",")",";",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(","!",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getId",154],"(",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setData",155],"(",["T_WHITESPACE","\n                ",155],"[",["T_WHITESPACE","\n                    ",156],["T_CONSTANT_ENCAPSED_STRING","'consumer_id'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$consumerId",157],",",["T_WHITESPACE","\n                    ",157],["T_CONSTANT_ENCAPSED_STRING","'type'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_STRING","self",158],["T_DOUBLE_COLON","::",158],["T_STRING","TYPE_VERIFIER",158],",",["T_WHITESPACE","\n                    ",158],["T_CONSTANT_ENCAPSED_STRING","'token'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_oauthHelper",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","generateToken",159],"(",")",",",["T_WHITESPACE","\n                    ",159],["T_CONSTANT_ENCAPSED_STRING","'secret'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_oauthHelper",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","generateTokenSecret",160],"(",")",",",["T_WHITESPACE","\n                    ",160],["T_CONSTANT_ENCAPSED_STRING","'verifier'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_oauthHelper",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","generateVerifier",161],"(",")",",",["T_WHITESPACE","\n                    ",161],["T_CONSTANT_ENCAPSED_STRING","'callback_url'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_STRING","OauthHelper",162],["T_DOUBLE_COLON","::",162],["T_STRING","CALLBACK_ESTABLISHED",162],",",["T_WHITESPACE","\n                    ",162],["T_CONSTANT_ENCAPSED_STRING","'user_type'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","UserContextInterface",163],["T_DOUBLE_COLON","::",163],["T_STRING","USER_TYPE_INTEGRATION",163],",",["T_WHITESPACE"," ",163],["T_COMMENT","\/\/As of now only integrations use Oauth\n",163],["T_WHITESPACE","                ",164],"]",["T_WHITESPACE","\n            ",164],")",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","validate",166],"(",")",";",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","save",167],"(",")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Convert token to access type\n     *\n     * @return $this\n     * @throws OauthException\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","convertToAccess",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_STRING","self",180],["T_DOUBLE_COLON","::",180],["T_STRING","TYPE_REQUEST",180],["T_WHITESPACE"," ",180],["T_IS_NOT_EQUAL","!=",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getType",180],"(",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_THROW","throw",181],["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","OauthException",181],"(",["T_STRING","__",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot convert to access token due to token is not request type'",181],")",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","saveAccessToken",183],"(",["T_STRING","UserContextInterface",183],["T_DOUBLE_COLON","::",183],["T_STRING","USER_TYPE_INTEGRATION",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Create access token for a admin\n     *\n     * @param int $userId\n     * @return $this\n     *\/",186],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","createAdminToken",192],"(",["T_VARIABLE","$userId",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setAdminId",194],"(",["T_VARIABLE","$userId",194],")",";",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","saveAccessToken",195],"(",["T_STRING","UserContextInterface",195],["T_DOUBLE_COLON","::",195],["T_STRING","USER_TYPE_ADMIN",195],")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Create access token for a customer\n     *\n     * @param int $userId\n     * @return $this\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","createCustomerToken",204],"(",["T_VARIABLE","$userId",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setCustomerId",206],"(",["T_VARIABLE","$userId",206],")",";",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","saveAccessToken",207],"(",["T_STRING","UserContextInterface",207],["T_DOUBLE_COLON","::",207],["T_STRING","USER_TYPE_CUSTOMER",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$userId",207],")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Generate and save request token\n     *\n     * @param int $entityId Token identifier\n     * @param string $callbackUrl Callback URL\n     * @return $this\n     *\/",210],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","createRequestToken",217],"(",["T_VARIABLE","$entityId",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$callbackUrl",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$callbackUrl",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],"!",["T_EMPTY","empty",219],"(",["T_VARIABLE","$callbackUrl",219],")",["T_WHITESPACE"," ",219],"?",["T_WHITESPACE"," ",219],["T_VARIABLE","$callbackUrl",219],["T_WHITESPACE"," ",219],":",["T_WHITESPACE"," ",219],["T_STRING","OauthHelper",219],["T_DOUBLE_COLON","::",219],["T_STRING","CALLBACK_ESTABLISHED",219],";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setData",220],"(",["T_WHITESPACE","\n            ",220],"[",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$entityId",222],",",["T_WHITESPACE","\n                ",222],["T_CONSTANT_ENCAPSED_STRING","'type'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_STRING","self",223],["T_DOUBLE_COLON","::",223],["T_STRING","TYPE_REQUEST",223],",",["T_WHITESPACE","\n                ",223],["T_CONSTANT_ENCAPSED_STRING","'token'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_oauthHelper",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","generateToken",224],"(",")",",",["T_WHITESPACE","\n                ",224],["T_CONSTANT_ENCAPSED_STRING","'secret'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_oauthHelper",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","generateTokenSecret",225],"(",")",",",["T_WHITESPACE","\n                ",225],["T_CONSTANT_ENCAPSED_STRING","'callback_url'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$callbackUrl",226],",",["T_WHITESPACE","\n            ",226],"]",["T_WHITESPACE","\n        ",227],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","validate",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","save",230],"(",")",";",["T_WHITESPACE","\n\n        ",230],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Get string representation of token\n     *\n     * @return string\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",235],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","__toString",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_STRING","http_build_query",243],"(","[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getToken",243],"(",")",",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getSecret",243],"(",")","]",")",";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Validate data\n     *\n     * @return bool\n     * @throws OauthException Throw exception on fail validation\n     *\/",246],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","validate",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_STRING","OauthHelper",254],["T_DOUBLE_COLON","::",254],["T_STRING","CALLBACK_ESTABLISHED",254],["T_WHITESPACE"," ",254],["T_IS_NOT_EQUAL","!=",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getCallbackUrl",254],"(",")",["T_WHITESPACE"," ",254],["T_BOOLEAN_AND","&&",254],["T_WHITESPACE"," ",254],"!",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_urlValidator",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","isValid",254],"(",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getCallbackUrl",255],"(",")",["T_WHITESPACE","\n        ",255],")",["T_WHITESPACE","\n        ",256],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$messages",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_urlValidator",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getMessages",258],"(",")",";",["T_WHITESPACE","\n            ",258],["T_THROW","throw",259],["T_WHITESPACE"," ",259],["T_NEW","new",259],["T_WHITESPACE"," ",259],["T_STRING","OauthException",259],"(",["T_STRING","__",259],"(",["T_STRING","array_shift",259],"(",["T_VARIABLE","$messages",259],")",")",")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_DOC_COMMENT","\/** @var $validatorLength \\Magento\\Integration\\Model\\Oauth\\Consumer\\Validator\\KeyLength *\/",262],["T_WHITESPACE","\n        ",262],["T_VARIABLE","$validatorLength",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_keyLengthFactory",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","create",263],"(",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$validatorLength",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","setLength",264],"(",["T_STRING","OauthHelper",264],["T_DOUBLE_COLON","::",264],["T_STRING","LENGTH_TOKEN_SECRET",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$validatorLength",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setName",265],"(",["T_CONSTANT_ENCAPSED_STRING","'Token Secret Key'",265],")",";",["T_WHITESPACE","\n        ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_VARIABLE","$validatorLength",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","isValid",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getSecret",266],"(",")",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$messages",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$validatorLength",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getMessages",267],"(",")",";",["T_WHITESPACE","\n            ",267],["T_THROW","throw",268],["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","OauthException",268],"(",["T_STRING","__",268],"(",["T_STRING","array_shift",268],"(",["T_VARIABLE","$messages",268],")",")",")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$validatorLength",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","setLength",271],"(",["T_STRING","OauthHelper",271],["T_DOUBLE_COLON","::",271],["T_STRING","LENGTH_TOKEN",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$validatorLength",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","setName",272],"(",["T_CONSTANT_ENCAPSED_STRING","'Token Key'",272],")",";",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(","!",["T_VARIABLE","$validatorLength",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","isValid",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getToken",273],"(",")",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$messages",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$validatorLength",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getMessages",274],"(",")",";",["T_WHITESPACE","\n            ",274],["T_THROW","throw",275],["T_WHITESPACE"," ",275],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","OauthException",275],"(",["T_STRING","__",275],"(",["T_STRING","array_shift",275],"(",["T_VARIABLE","$messages",275],")",")",")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n\n        ",276],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_STRING","null",278],["T_WHITESPACE"," ",278],["T_IS_NOT_IDENTICAL","!==",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$verifier",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getVerifier",278],"(",")",")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$validatorLength",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","setLength",279],"(",["T_STRING","OauthHelper",279],["T_DOUBLE_COLON","::",279],["T_STRING","LENGTH_TOKEN_VERIFIER",279],")",";",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$validatorLength",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","setName",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Verifier Key'",280],")",";",["T_WHITESPACE","\n            ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_VARIABLE","$validatorLength",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","isValid",281],"(",["T_VARIABLE","$verifier",281],")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$messages",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$validatorLength",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getMessages",282],"(",")",";",["T_WHITESPACE","\n                ",282],["T_THROW","throw",283],["T_WHITESPACE"," ",283],["T_NEW","new",283],["T_WHITESPACE"," ",283],["T_STRING","OauthException",283],"(",["T_STRING","__",283],"(",["T_STRING","array_shift",283],"(",["T_VARIABLE","$messages",283],")",")",")",";",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Return the token's verifier.\n     *\n     * @return string\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","getVerifier",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getData",296],"(",["T_CONSTANT_ENCAPSED_STRING","'verifier'",296],")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Generate and save access token for a given user type\n     *\n     * @param int $userType\n     * @return $this\n     *\/",299],["T_WHITESPACE","\n    ",304],["T_PROTECTED","protected",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","saveAccessToken",305],"(",["T_VARIABLE","$userType",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","setUserType",307],"(",["T_VARIABLE","$userType",307],")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","setType",308],"(",["T_STRING","self",308],["T_DOUBLE_COLON","::",308],["T_STRING","TYPE_ACCESS",308],")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","setToken",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_oauthHelper",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","generateToken",309],"(",")",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","setSecret",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_oauthHelper",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","generateTokenSecret",310],"(",")",")",";",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","save",311],"(",")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Get token by consumer and user type\n     *\n     * @param int $consumerId\n     * @param int $userType\n     * @return $this\n     *\/",314],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","loadByConsumerIdAndUserType",321],"(",["T_VARIABLE","$consumerId",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$userType",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$tokenData",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getResource",323],"(",")",["T_OBJECT_OPERATOR","->",323],["T_STRING","selectTokenByConsumerIdAndUserType",323],"(",["T_VARIABLE","$consumerId",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$userType",323],")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","setData",324],"(",["T_VARIABLE","$tokenData",324],["T_WHITESPACE"," ",324],"?",["T_WHITESPACE"," ",324],["T_VARIABLE","$tokenData",324],["T_WHITESPACE"," ",324],":",["T_WHITESPACE"," ",324],"[","]",")",";",["T_WHITESPACE","\n        ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Get token by admin id\n     *\n     * @param int $adminId\n     * @return $this\n     *\/",328],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","loadByAdminId",334],"(",["T_VARIABLE","$adminId",334],")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$tokenData",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getResource",336],"(",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","selectTokenByAdminId",336],"(",["T_VARIABLE","$adminId",336],")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","setData",337],"(",["T_VARIABLE","$tokenData",337],["T_WHITESPACE"," ",337],"?",["T_WHITESPACE"," ",337],["T_VARIABLE","$tokenData",337],["T_WHITESPACE"," ",337],":",["T_WHITESPACE"," ",337],"[","]",")",";",["T_WHITESPACE","\n        ",337],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Get token by customer id\n     *\n     * @param int $customerId\n     * @return $this\n     *\/",341],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","loadByCustomerId",347],"(",["T_VARIABLE","$customerId",347],")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$tokenData",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getResource",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","selectTokenByCustomerId",349],"(",["T_VARIABLE","$customerId",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","setData",350],"(",["T_VARIABLE","$tokenData",350],["T_WHITESPACE"," ",350],"?",["T_WHITESPACE"," ",350],["T_VARIABLE","$tokenData",350],["T_WHITESPACE"," ",350],":",["T_WHITESPACE"," ",350],"[","]",")",";",["T_WHITESPACE","\n        ",350],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Load token data by token.\n     *\n     * @param string $token\n     * @return $this\n     *\/",354],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","loadByToken",360],"(",["T_VARIABLE","$token",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","load",362],"(",["T_VARIABLE","$token",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'token'",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n",363],"}",["T_WHITESPACE","\n",364]]