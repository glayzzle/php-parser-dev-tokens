[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Authorization",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResourceModel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Role",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CollectionFactory",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","RoleCollectionFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Authorization",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ResourceModel",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Rules",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CollectionFactory",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","RulesCollectionFactory",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Authorization",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Role",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Authorization",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RoleFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Authorization",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RulesFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Authorization",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UserContextInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Acl",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Framework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Acl",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Builder",16],["T_WHITESPACE"," ",16],["T_AS","as",16],["T_WHITESPACE"," ",16],["T_STRING","AclBuilder",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Acl",17],["T_NS_SEPARATOR","\\",17],["T_STRING","RootResource",17],["T_WHITESPACE"," ",17],["T_AS","as",17],["T_WHITESPACE"," ",17],["T_STRING","RootAclResource",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","LocalizedException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Psr",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Log",19],["T_NS_SEPARATOR","\\",19],["T_STRING","LoggerInterface",19],["T_WHITESPACE"," ",19],["T_AS","as",19],["T_WHITESPACE"," ",19],["T_STRING","Logger",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Service for integration permissions management.\n *\n * @SuppressWarnings(PHPMD.LongVariable)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",21],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","AuthorizationService",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Integration",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Api",27],["T_NS_SEPARATOR","\\",27],["T_STRING","AuthorizationServiceInterface",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * @var AclBuilder\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_aclBuilder",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var RoleFactory\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_roleFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var RoleCollectionFactory\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_roleCollectionFactory",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var RulesFactory\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_rulesFactory",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var RulesCollectionFactory\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_rulesCollectionFactory",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var Logger\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_logger",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var RootAclResource\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_rootAclResource",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Initialize dependencies.\n     *\n     * @param AclBuilder $aclBuilder\n     * @param RoleFactory $roleFactory\n     * @param RoleCollectionFactory $roleCollectionFactory\n     * @param RulesFactory $rulesFactory\n     * @param RulesCollectionFactory $rulesCollectionFactory\n     * @param Logger $logger\n     * @param RootAclResource $rootAclResource\n     *\/",64],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_WHITESPACE","\n        ",75],["T_STRING","AclBuilder",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$aclBuilder",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","RoleFactory",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$roleFactory",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","RoleCollectionFactory",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$roleCollectionFactory",78],",",["T_WHITESPACE","\n        ",78],["T_STRING","RulesFactory",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$rulesFactory",79],",",["T_WHITESPACE","\n        ",79],["T_STRING","RulesCollectionFactory",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$rulesCollectionFactory",80],",",["T_WHITESPACE","\n        ",80],["T_STRING","Logger",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$logger",81],",",["T_WHITESPACE","\n        ",81],["T_STRING","RootAclResource",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$rootAclResource",82],["T_WHITESPACE","\n    ",82],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_aclBuilder",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$aclBuilder",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_roleFactory",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$roleFactory",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_rulesFactory",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$rulesFactory",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_rulesCollectionFactory",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$rulesCollectionFactory",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_roleCollectionFactory",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$roleCollectionFactory",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_logger",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$logger",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_rootAclResource",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$rootAclResource",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","grantPermissions",96],"(",["T_VARIABLE","$integrationId",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$resources",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_TRY","try",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$role",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_getUserRole",99],"(",["T_VARIABLE","$integrationId",99],")",";",["T_WHITESPACE","\n            ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_VARIABLE","$role",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$role",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_createRole",101],"(",["T_VARIABLE","$integrationId",101],")",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_associateResourcesWithRole",103],"(",["T_VARIABLE","$role",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$resources",103],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE"," ",104],["T_CATCH","catch",104],["T_WHITESPACE"," ",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Exception",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$e",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_logger",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","critical",105],"(",["T_VARIABLE","$e",105],")",";",["T_WHITESPACE","\n            ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","LocalizedException",106],"(",["T_WHITESPACE","\n                ",106],["T_STRING","__",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Sorry, something went wrong granting permissions. You can find out more in the exceptions log.'",107],")",["T_WHITESPACE","\n            ",107],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","grantAllPermissions",115],"(",["T_VARIABLE","$integrationId",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","grantPermissions",117],"(",["T_VARIABLE","$integrationId",117],",",["T_WHITESPACE"," ",117],"[",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_rootAclResource",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getId",117],"(",")","]",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","removePermissions",123],"(",["T_VARIABLE","$integrationId",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_TRY","try",125],["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_deleteRole",126],"(",["T_VARIABLE","$integrationId",126],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE"," ",127],["T_CATCH","catch",127],["T_WHITESPACE"," ",127],"(",["T_NS_SEPARATOR","\\",127],["T_STRING","Exception",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$e",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_logger",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","critical",128],"(",["T_VARIABLE","$e",128],")",";",["T_WHITESPACE","\n            ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","LocalizedException",129],"(",["T_WHITESPACE","\n                ",129],["T_STRING","__",130],"(",["T_WHITESPACE","\n                    ",130],["T_CONSTANT_ENCAPSED_STRING","'Something went wrong while deleting roles and permissions.'",131],["T_WHITESPACE","\n                    ",131],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","' You can find out more in the exceptions log.'",132],["T_WHITESPACE","\n                ",132],")",["T_WHITESPACE","\n            ",133],")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Create new ACL role.\n     *\n     * @param int $integrationId\n     * @return \\Magento\\Authorization\\Model\\Role\n     *\/",138],["T_WHITESPACE","\n    ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","_createRole",144],"(",["T_VARIABLE","$integrationId",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$roleName",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","UserContextInterface",146],["T_DOUBLE_COLON","::",146],["T_STRING","USER_TYPE_INTEGRATION",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$integrationId",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$role",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_roleFactory",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","create",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$role",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setRoleName",148],"(",["T_VARIABLE","$roleName",148],")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","setUserType",149],"(",["T_STRING","UserContextInterface",149],["T_DOUBLE_COLON","::",149],["T_STRING","USER_TYPE_INTEGRATION",149],")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","setUserId",150],"(",["T_VARIABLE","$integrationId",150],")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","setRoleType",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Authorization",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Model",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Acl",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Role",151],["T_NS_SEPARATOR","\\",151],["T_STRING","User",151],["T_DOUBLE_COLON","::",151],["T_STRING","ROLE_TYPE",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","setParentId",152],"(",["T_LNUMBER","0",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","save",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$role",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Remove integration role. This deletes the cascading permissions\n     *\n     * @param int $integrationId\n     * @return \\Magento\\Authorization\\Model\\Role\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_deleteRole",163],"(",["T_VARIABLE","$integrationId",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$roleName",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","UserContextInterface",165],["T_DOUBLE_COLON","::",165],["T_STRING","USER_TYPE_INTEGRATION",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_VARIABLE","$integrationId",165],";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$role",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_roleFactory",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","create",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","load",166],"(",["T_VARIABLE","$roleName",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'role_name'",166],")",";",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$role",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","delete",167],"(",")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Identify authorization role associated with provided integration.\n     *\n     * @param int $integrationId\n     * @return \\Magento\\Authorization\\Model\\Role|false Return false in case when no role associated with user was found.\n     *\/",170],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","_getUserRole",176],"(",["T_VARIABLE","$integrationId",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$roleCollection",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_roleCollectionFactory",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","create",178],"(",")",";",["T_WHITESPACE","\n        ",178],["T_DOC_COMMENT","\/** @var Role $role *\/",179],["T_WHITESPACE","\n        ",179],["T_VARIABLE","$role",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$roleCollection",180],["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","setUserFilter",181],"(",["T_VARIABLE","$integrationId",181],",",["T_WHITESPACE"," ",181],["T_STRING","UserContextInterface",181],["T_DOUBLE_COLON","::",181],["T_STRING","USER_TYPE_INTEGRATION",181],")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","getFirstItem",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$role",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getId",183],"(",")",["T_WHITESPACE"," ",183],"?",["T_WHITESPACE"," ",183],["T_VARIABLE","$role",183],["T_WHITESPACE"," ",183],":",["T_WHITESPACE"," ",183],["T_STRING","false",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Associate resources with the specified role. All resources previously assigned to the role will be unassigned.\n     *\n     * @param \\Magento\\Authorization\\Model\\Role $role\n     * @param string[] $resources\n     * @return void\n     * @throws \\LogicException\n     *\/",186],["T_WHITESPACE","\n    ",193],["T_PROTECTED","protected",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","_associateResourcesWithRole",194],"(",["T_VARIABLE","$role",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$resources",194],")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_DOC_COMMENT","\/** @var \\Magento\\Authorization\\Model\\Rules $rules *\/",196],["T_WHITESPACE","\n        ",196],["T_VARIABLE","$rules",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_rulesFactory",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","create",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$rules",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setRoleId",198],"(",["T_VARIABLE","$role",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getId",198],"(",")",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","setResources",198],"(",["T_VARIABLE","$resources",198],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","saveRel",198],"(",")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n",199],"}",["T_WHITESPACE","\n",200]]