[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integration",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Oauth",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Oauth",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","OauthHelper",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Integration",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Oauth",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Data",9],["T_WHITESPACE"," ",9],["T_AS","as",9],["T_WHITESPACE"," ",9],["T_STRING","IntegrationOauthHelper",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Integration",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Oauth",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Consumer",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ConsumerModel",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Integration",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Oauth",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConsumerFactory",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Integration",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Oauth",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Token",12],["T_WHITESPACE"," ",12],["T_AS","as",12],["T_WHITESPACE"," ",12],["T_STRING","OauthTokenModel",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Integration",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Oauth",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TokenFactory",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","TokenFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Integration",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Oauth",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Token",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Provider",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","TokenProvider",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Exception",15],["T_NS_SEPARATOR","\\",15],["T_STRING","IntegrationException",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Integration oAuth service.\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","OauthService",22],["T_WHITESPACE"," ",22],["T_IMPLEMENTS","implements",22],["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Integration",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Api",22],["T_NS_SEPARATOR","\\",22],["T_STRING","OauthServiceInterface",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * @var  \\Magento\\Store\\Model\\StoreManagerInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_storeManager",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var  ConsumerFactory\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_consumerFactory",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var  TokenFactory\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_tokenFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var  IntegrationOauthHelper\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_dataHelper",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var  \\Magento\\Framework\\HTTP\\ZendClient\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_httpClient",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_logger",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var OauthHelper\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_oauthHelper",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var TokenProvider\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_tokenProvider",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PRIVATE","private",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_dateHelper",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Initialize dependencies.\n     *\n     * @param \\Magento\\Store\\Model\\StoreManagerInterface $storeManager\n     * @param ConsumerFactory $consumerFactory\n     * @param TokenFactory $tokenFactory\n     * @param IntegrationOauthHelper $dataHelper\n     * @param \\Magento\\Framework\\HTTP\\ZendClient $httpClient\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param OauthHelper $oauthHelper\n     * @param TokenProvider $tokenProvider\n     *\/",69],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_WHITESPACE","\n        ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Store",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Model",82],["T_NS_SEPARATOR","\\",82],["T_STRING","StoreManagerInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$storeManager",82],",",["T_WHITESPACE","\n        ",82],["T_STRING","ConsumerFactory",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$consumerFactory",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","TokenFactory",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$tokenFactory",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","IntegrationOauthHelper",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$dataHelper",85],",",["T_WHITESPACE","\n        ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","HTTP",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ZendClient",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$httpClient",86],",",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","Psr",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Log",87],["T_NS_SEPARATOR","\\",87],["T_STRING","LoggerInterface",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$logger",87],",",["T_WHITESPACE","\n        ",87],["T_STRING","OauthHelper",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$oauthHelper",88],",",["T_WHITESPACE","\n        ",88],["T_STRING","TokenProvider",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$tokenProvider",89],["T_WHITESPACE","\n    ",89],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_storeManager",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$storeManager",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_consumerFactory",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$consumerFactory",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_tokenFactory",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$tokenFactory",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_dataHelper",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$dataHelper",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_httpClient",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$httpClient",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_logger",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$logger",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_oauthHelper",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$oauthHelper",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_tokenProvider",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$tokenProvider",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * The getter function to get the new DateTime dependency\n     *\n     * @return \\Magento\\Framework\\Stdlib\\DateTime\\DateTime\n     *\n     * @deprecated\n     *\/",101],["T_WHITESPACE","\n    ",107],["T_PRIVATE","private",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","getDateHelper",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_dateHelper",110],["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_STRING","null",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_dateHelper",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Magento",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Framework",111],["T_NS_SEPARATOR","\\",111],["T_STRING","App",111],["T_NS_SEPARATOR","\\",111],["T_STRING","ObjectManager",111],["T_DOUBLE_COLON","::",111],["T_STRING","getInstance",111],"(",")",["T_WHITESPACE","\n                ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Framework",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Stdlib",112],["T_NS_SEPARATOR","\\",112],["T_STRING","DateTime",112],["T_NS_SEPARATOR","\\",112],["T_STRING","DateTime",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_dateHelper",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","createConsumer",120],"(",["T_VARIABLE","$consumerData",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_TRY","try",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$consumerData",123],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_oauthHelper",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","generateConsumerKey",123],"(",")",";",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$consumerData",124],"[",["T_CONSTANT_ENCAPSED_STRING","'secret'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_oauthHelper",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","generateConsumerSecret",124],"(",")",";",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$consumer",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_consumerFactory",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","create",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","setData",125],"(",["T_VARIABLE","$consumerData",125],")",";",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$consumer",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","save",126],"(",")",";",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$consumer",127],";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_CATCH","catch",128],["T_WHITESPACE"," ",128],"(",["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Framework",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Exception",128],["T_NS_SEPARATOR","\\",128],["T_STRING","LocalizedException",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$exception",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$exception",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE"," ",130],["T_CATCH","catch",130],["T_WHITESPACE"," ",130],"(",["T_NS_SEPARATOR","\\",130],["T_STRING","Exception",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$exception",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_THROW","throw",131],["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Framework",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Oauth",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Exception",131],"(",["T_WHITESPACE","\n                ",131],["T_STRING","__",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Unexpected error. Unable to create oAuth consumer account.'",132],")",["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",137],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","createAccessToken",140],"(",["T_VARIABLE","$consumerId",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$clearExistingToken",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","false",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_TRY","try",142],["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$consumer",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_consumerFactory",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","create",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","load",143],"(",["T_VARIABLE","$consumerId",143],")",";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$existingToken",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_tokenProvider",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getIntegrationTokenByConsumerId",144],"(",["T_VARIABLE","$consumer",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getId",144],"(",")",")",";",["T_WHITESPACE","\n            ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$existingToken",145],["T_WHITESPACE"," ",145],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$clearExistingToken",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$existingToken",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","delete",146],"(",")",";",["T_WHITESPACE","\n                ",146],["T_UNSET","unset",147],"(",["T_VARIABLE","$existingToken",147],")",";",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_CATCH","catch",149],["T_WHITESPACE"," ",149],"(",["T_NS_SEPARATOR","\\",149],["T_STRING","Exception",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$e",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_ISSET","isset",151],"(",["T_VARIABLE","$existingToken",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$consumer",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_consumerFactory",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","create",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","load",152],"(",["T_VARIABLE","$consumerId",152],")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_tokenFactory",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","create",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","createVerifierToken",153],"(",["T_VARIABLE","$consumerId",153],")",";",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_tokenProvider",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","createRequestToken",154],"(",["T_VARIABLE","$consumer",154],")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_tokenProvider",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getAccessToken",155],"(",["T_VARIABLE","$consumer",155],")",";",["T_WHITESPACE","\n            ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_STRING","true",156],";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_STRING","false",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",161],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","getAccessToken",164],"(",["T_VARIABLE","$consumerId",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_TRY","try",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$consumer",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_consumerFactory",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","create",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","load",167],"(",["T_VARIABLE","$consumerId",167],")",";",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$token",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_tokenProvider",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getIntegrationTokenByConsumerId",168],"(",["T_VARIABLE","$consumer",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getId",168],"(",")",")",";",["T_WHITESPACE","\n            ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$token",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getType",169],"(",")",["T_WHITESPACE"," ",169],["T_IS_NOT_EQUAL","!=",169],["T_WHITESPACE"," ",169],["T_STRING","OauthTokenModel",169],["T_DOUBLE_COLON","::",169],["T_STRING","TYPE_ACCESS",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","false",170],";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE"," ",172],["T_CATCH","catch",172],["T_WHITESPACE"," ",172],"(",["T_NS_SEPARATOR","\\",172],["T_STRING","Exception",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$e",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_STRING","false",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$token",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",178],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","loadConsumer",181],"(",["T_VARIABLE","$consumerId",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_TRY","try",183],["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_consumerFactory",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","create",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","load",184],"(",["T_VARIABLE","$consumerId",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE"," ",185],["T_CATCH","catch",185],["T_WHITESPACE"," ",185],"(",["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Framework",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Exception",185],["T_NS_SEPARATOR","\\",185],["T_STRING","LocalizedException",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$exception",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_THROW","throw",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$exception",186],";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE"," ",187],["T_CATCH","catch",187],["T_WHITESPACE"," ",187],"(",["T_NS_SEPARATOR","\\",187],["T_STRING","Exception",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$exception",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_THROW","throw",188],["T_WHITESPACE"," ",188],["T_NEW","new",188],["T_WHITESPACE"," ",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Framework",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Oauth",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Exception",188],"(",["T_WHITESPACE","\n                ",188],["T_STRING","__",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Unexpected error. Unable to load oAuth consumer account.'",189],")",["T_WHITESPACE","\n            ",189],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",194],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","loadConsumerByKey",197],"(",["T_VARIABLE","$key",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_TRY","try",199],["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_consumerFactory",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","create",200],"(",")",["T_OBJECT_OPERATOR","->",200],["T_STRING","load",200],"(",["T_VARIABLE","$key",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'key'",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_CATCH","catch",201],["T_WHITESPACE"," ",201],"(",["T_NS_SEPARATOR","\\",201],["T_STRING","Magento",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Framework",201],["T_NS_SEPARATOR","\\",201],["T_STRING","Exception",201],["T_NS_SEPARATOR","\\",201],["T_STRING","LocalizedException",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$exception",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_THROW","throw",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$exception",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE"," ",203],["T_CATCH","catch",203],["T_WHITESPACE"," ",203],"(",["T_NS_SEPARATOR","\\",203],["T_STRING","Exception",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$exception",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_THROW","throw",204],["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Magento",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Framework",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Oauth",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Exception",204],"(",["T_WHITESPACE","\n                ",204],["T_STRING","__",205],"(",["T_CONSTANT_ENCAPSED_STRING","'Unexpected error. Unable to load oAuth consumer account.'",205],")",["T_WHITESPACE","\n            ",205],")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",210],["T_WHITESPACE","\n    ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","postToConsumer",213],"(",["T_VARIABLE","$consumerId",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$endpointUrl",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_TRY","try",215],["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$consumer",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","loadConsumer",216],"(",["T_VARIABLE","$consumerId",216],")",";",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$consumer",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","setUpdatedAt",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getDateHelper",217],"(",")",["T_OBJECT_OPERATOR","->",217],["T_STRING","gmtDate",217],"(",")",")",";",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$consumer",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","save",218],"(",")",";",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_VARIABLE","$consumer",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getId",219],"(",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_THROW","throw",220],["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Framework",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Oauth",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Exception",220],"(",["T_WHITESPACE","\n                    ",220],["T_STRING","__",221],"(",["T_CONSTANT_ENCAPSED_STRING","'A consumer with ID %1 does not exist'",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$consumerId",221],")",["T_WHITESPACE","\n                ",221],")",";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$consumerData",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$consumer",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getData",224],"(",")",";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$verifier",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_tokenFactory",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","create",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","createVerifierToken",225],"(",["T_VARIABLE","$consumerId",225],")",";",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$storeBaseUrl",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_storeManager",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getStore",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getBaseUrl",226],"(",")",";",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_httpClient",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setUri",227],"(",["T_VARIABLE","$endpointUrl",227],")",";",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_httpClient",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setParameterPost",228],"(",["T_WHITESPACE","\n                ",228],"[",["T_WHITESPACE","\n                    ",229],["T_CONSTANT_ENCAPSED_STRING","'oauth_consumer_key'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$consumerData",230],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",230],"]",",",["T_WHITESPACE","\n                    ",230],["T_CONSTANT_ENCAPSED_STRING","'oauth_consumer_secret'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$consumerData",231],"[",["T_CONSTANT_ENCAPSED_STRING","'secret'",231],"]",",",["T_WHITESPACE","\n                    ",231],["T_CONSTANT_ENCAPSED_STRING","'store_base_url'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$storeBaseUrl",232],",",["T_WHITESPACE","\n                    ",232],["T_CONSTANT_ENCAPSED_STRING","'oauth_verifier'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$verifier",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getVerifier",233],"(",")",",",["T_WHITESPACE","\n                ",233],"]",["T_WHITESPACE","\n            ",234],")",";",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$maxredirects",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_dataHelper",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getConsumerPostMaxRedirects",236],"(",")",";",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$timeout",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_dataHelper",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getConsumerPostTimeout",237],"(",")",";",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_httpClient",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setConfig",238],"(","[",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$maxredirects",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'timeout'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$timeout",238],"]",")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_httpClient",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","request",239],"(",["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Framework",239],["T_NS_SEPARATOR","\\",239],["T_STRING","HTTP",239],["T_NS_SEPARATOR","\\",239],["T_STRING","ZendClient",239],["T_DOUBLE_COLON","::",239],["T_STRING","POST",239],")",";",["T_WHITESPACE","\n            ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$verifier",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getVerifier",240],"(",")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE"," ",241],["T_CATCH","catch",241],["T_WHITESPACE"," ",241],"(",["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Framework",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Exception",241],["T_NS_SEPARATOR","\\",241],["T_STRING","LocalizedException",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$exception",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_THROW","throw",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$exception",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE"," ",243],["T_CATCH","catch",243],["T_WHITESPACE"," ",243],"(",["T_NS_SEPARATOR","\\",243],["T_STRING","Magento",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Framework",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Oauth",243],["T_NS_SEPARATOR","\\",243],["T_STRING","Exception",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$exception",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_THROW","throw",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$exception",244],";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE"," ",245],["T_CATCH","catch",245],["T_WHITESPACE"," ",245],"(",["T_NS_SEPARATOR","\\",245],["T_STRING","Exception",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$exception",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_logger",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","critical",246],"(",["T_VARIABLE","$exception",246],")",";",["T_WHITESPACE","\n            ",246],["T_THROW","throw",247],["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Magento",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Framework",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Oauth",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Exception",247],"(",["T_WHITESPACE","\n                ",247],["T_STRING","__",248],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to post data to consumer due to an unexpected error'",248],")",["T_WHITESPACE","\n            ",248],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",253],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","deleteConsumer",256],"(",["T_VARIABLE","$consumerId",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$consumer",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_loadConsumerById",258],"(",["T_VARIABLE","$consumerId",258],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$data",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$consumer",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getData",259],"(",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$consumer",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","delete",260],"(",")",";",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$data",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",264],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","deleteIntegrationToken",267],"(",["T_VARIABLE","$consumerId",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_TRY","try",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$consumer",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_consumerFactory",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","create",270],"(",")",["T_OBJECT_OPERATOR","->",270],["T_STRING","load",270],"(",["T_VARIABLE","$consumerId",270],")",";",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$existingToken",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_tokenProvider",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getIntegrationTokenByConsumerId",271],"(",["T_VARIABLE","$consumer",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getId",271],"(",")",")",";",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$existingToken",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","delete",272],"(",")",";",["T_WHITESPACE","\n            ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_STRING","true",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE"," ",274],["T_CATCH","catch",274],["T_WHITESPACE"," ",274],"(",["T_NS_SEPARATOR","\\",274],["T_STRING","Exception",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$e",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_STRING","false",275],";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Load consumer by id.\n     *\n     * @param int $consumerId\n     * @return ConsumerModel\n     * @throws \\Magento\\Framework\\Exception\\IntegrationException\n     *\/",279],["T_WHITESPACE","\n    ",285],["T_PROTECTED","protected",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","_loadConsumerById",286],"(",["T_VARIABLE","$consumerId",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$consumer",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_consumerFactory",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","create",288],"(",")",["T_OBJECT_OPERATOR","->",288],["T_STRING","load",288],"(",["T_VARIABLE","$consumerId",288],")",";",["T_WHITESPACE","\n        ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(","!",["T_VARIABLE","$consumer",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getId",289],"(",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_THROW","throw",290],["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","IntegrationException",290],"(",["T_STRING","__",290],"(",["T_CONSTANT_ENCAPSED_STRING","'Consumer with ID \\'%1\\' does not exist.'",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$consumerId",290],")",")",";",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$consumer",292],";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n",293],"}",["T_WHITESPACE","\n",294]]