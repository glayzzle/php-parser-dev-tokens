[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Oauth",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Token",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Authorization",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UserContextInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Encryption",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Security",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Oauth",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TokenProviderInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Integration",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Oauth",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Token",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","Provider",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","TokenProviderInterface",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\Oauth\\ConsumerFactory\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_consumerFactory",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\Oauth\\TokenFactory\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_tokenFactory",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$logger",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Integration\\Model\\Oauth\\ConsumerFactory $consumerFactory\n     * @param \\Magento\\Integration\\Model\\Oauth\\TokenFactory $tokenFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Integration",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Oauth",37],["T_NS_SEPARATOR","\\",37],["T_STRING","ConsumerFactory",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$consumerFactory",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Integration",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Oauth",38],["T_NS_SEPARATOR","\\",38],["T_STRING","TokenFactory",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$tokenFactory",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Psr",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Log",39],["T_NS_SEPARATOR","\\",39],["T_STRING","LoggerInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$logger",39],["T_WHITESPACE","\n    ",39],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_consumerFactory",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$consumerFactory",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_tokenFactory",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$tokenFactory",42],";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","logger",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$logger",43],";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","validateConsumer",49],"(",["T_VARIABLE","$consumer",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_COMMENT","\/\/ Must use consumer within expiration period.\n",51],["T_WHITESPACE","        ",52],["T_IF","if",52],["T_WHITESPACE"," ",52],"(","!",["T_VARIABLE","$consumer",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","isValidForTokenExchange",52],"(",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_THROW","throw",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Framework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Oauth",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Exception",53],"(",["T_WHITESPACE","\n                ",53],["T_STRING","__",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Consumer key has expired'",54],")",["T_WHITESPACE","\n            ",54],")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","true",57],";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","createRequestToken",63],"(",["T_VARIABLE","$consumer",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$token",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getIntegrationTokenByConsumerId",65],"(",["T_VARIABLE","$consumer",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getId",65],"(",")",")",";",["T_WHITESPACE","\n        ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$token",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getType",66],"(",")",["T_WHITESPACE"," ",66],["T_IS_NOT_EQUAL","!=",66],["T_WHITESPACE"," ",66],["T_STRING","Token",66],["T_DOUBLE_COLON","::",66],["T_STRING","TYPE_VERIFIER",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Oauth",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Exception",67],"(",["T_WHITESPACE","\n                ",67],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot create request token because consumer token is not a verifier token'",68],")",["T_WHITESPACE","\n            ",68],")",";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$requestToken",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$token",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","createRequestToken",71],"(",["T_VARIABLE","$token",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getId",71],"(",")",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$consumer",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getCallbackUrl",71],"(",")",")",";",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$requestToken",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getToken",72],"(",")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$requestToken",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getSecret",72],"(",")","]",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","validateRequestToken",78],"(",["T_VARIABLE","$requestToken",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$consumer",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$oauthVerifier",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$token",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_getToken",80],"(",["T_VARIABLE","$requestToken",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_isTokenAssociatedToConsumer",82],"(",["T_VARIABLE","$token",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$consumer",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Framework",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Oauth",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Exception",83],"(",["T_WHITESPACE","\n                ",83],["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Request token is not associated with the specified consumer'",84],")",["T_WHITESPACE","\n            ",84],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_COMMENT","\/\/ The pre-auth token has a value of \"request\" in the type when it is requested and created initially.\n",88],["T_WHITESPACE","        ",89],["T_COMMENT","\/\/ In this flow (token flow) the token has to be of type \"request\" else its marked as reused.\n",89],["T_WHITESPACE","        ",90],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_STRING","Token",90],["T_DOUBLE_COLON","::",90],["T_STRING","TYPE_REQUEST",90],["T_WHITESPACE"," ",90],["T_IS_NOT_EQUAL","!=",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$token",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getType",90],"(",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_THROW","throw",91],["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Oauth",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Exception",91],"(",["T_WHITESPACE","\n                ",91],["T_STRING","__",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Token is already being used'",92],")",["T_WHITESPACE","\n            ",92],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_validateVerifierParam",96],"(",["T_VARIABLE","$oauthVerifier",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$token",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getVerifier",96],"(",")",")",";",["T_WHITESPACE","\n\n        ",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$token",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getSecret",98],"(",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",101],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getAccessToken",104],"(",["T_VARIABLE","$consumer",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$consumerId",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$consumer",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getId",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$token",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getIntegrationTokenByConsumerId",107],"(",["T_VARIABLE","$consumerId",107],")",";",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","Token",108],["T_DOUBLE_COLON","::",108],["T_STRING","TYPE_REQUEST",108],["T_WHITESPACE"," ",108],["T_IS_NOT_EQUAL","!=",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$token",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getType",108],"(",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_THROW","throw",109],["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Magento",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Framework",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Oauth",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Exception",109],"(",["T_WHITESPACE","\n                ",109],["T_STRING","__",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot get access token because consumer token is not a request token'",110],")",["T_WHITESPACE","\n            ",110],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$accessToken",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$token",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","convertToAccess",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","logger",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","info",114],"(",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","'Request token '",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_VARIABLE","$token",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getToken",115],"(",")",["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","' was exchanged to obtain access token for consumer '",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_VARIABLE","$consumerId",115],["T_WHITESPACE","\n        ",115],")",";",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$accessToken",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getToken",117],"(",")",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$accessToken",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getSecret",117],"(",")","]",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","validateAccessTokenRequest",123],"(",["T_VARIABLE","$accessToken",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$consumer",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$token",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_getToken",125],"(",["T_VARIABLE","$accessToken",125],")",";",["T_WHITESPACE","\n\n        ",125],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_isTokenAssociatedToConsumer",127],"(",["T_VARIABLE","$token",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$consumer",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Framework",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Oauth",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Exception",128],"(",["T_WHITESPACE","\n                ",128],["T_STRING","__",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Token is not associated with the specified consumer'",129],")",["T_WHITESPACE","\n            ",129],")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_STRING","Token",132],["T_DOUBLE_COLON","::",132],["T_STRING","TYPE_ACCESS",132],["T_WHITESPACE"," ",132],["T_IS_NOT_EQUAL","!=",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$token",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getType",132],"(",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Oauth",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Exception",133],"(",["T_WHITESPACE","\n                ",133],["T_STRING","__",134],"(",["T_CONSTANT_ENCAPSED_STRING","'Token is not an access token'",134],")",["T_WHITESPACE","\n            ",134],")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$token",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getRevoked",137],"(",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_THROW","throw",138],["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Framework",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Oauth",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Exception",138],"(",["T_WHITESPACE","\n                ",138],["T_STRING","__",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Access token has been revoked'",139],")",["T_WHITESPACE","\n            ",139],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$token",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getSecret",143],"(",")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",146],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","validateAccessToken",149],"(",["T_VARIABLE","$accessToken",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$token",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_getToken",151],"(",["T_VARIABLE","$accessToken",151],")",";",["T_WHITESPACE","\n        ",151],["T_COMMENT","\/\/ Make sure a consumer is associated with the token.\n",152],["T_WHITESPACE","        ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_getConsumer",153],"(",["T_VARIABLE","$token",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getConsumerId",153],"(",")",")",";",["T_WHITESPACE","\n\n        ",153],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","Token",155],["T_DOUBLE_COLON","::",155],["T_STRING","TYPE_ACCESS",155],["T_WHITESPACE"," ",155],["T_IS_NOT_EQUAL","!=",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$token",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getType",155],"(",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Oauth",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Exception",156],"(",["T_WHITESPACE","\n                ",156],["T_STRING","__",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Token is not an access token'",157],")",["T_WHITESPACE","\n            ",157],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$token",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getRevoked",161],"(",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_THROW","throw",162],["T_WHITESPACE"," ",162],["T_NEW","new",162],["T_WHITESPACE"," ",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Framework",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Oauth",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Exception",162],"(",["T_WHITESPACE","\n                ",162],["T_STRING","__",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Access token has been revoked'",163],")",["T_WHITESPACE","\n            ",163],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$token",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getConsumerId",167],"(",")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",170],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","validateOauthToken",173],"(",["T_VARIABLE","$oauthToken",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_STRING","strlen",175],"(",["T_VARIABLE","$oauthToken",175],")",["T_WHITESPACE"," ",175],["T_IS_EQUAL","==",175],["T_WHITESPACE"," ",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Framework",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Oauth",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Helper",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Oauth",175],["T_DOUBLE_COLON","::",175],["T_STRING","LENGTH_TOKEN",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",178],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getConsumerByKey",181],"(",["T_VARIABLE","$consumerKey",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_STRING","strlen",183],"(",["T_VARIABLE","$consumerKey",183],")",["T_WHITESPACE"," ",183],["T_IS_NOT_EQUAL","!=",183],["T_WHITESPACE"," ",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Framework",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Oauth",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Helper",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Oauth",183],["T_DOUBLE_COLON","::",183],["T_STRING","LENGTH_CONSUMER_KEY",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_THROW","throw",184],["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Framework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Oauth",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Exception",184],"(",["T_WHITESPACE","\n                ",184],["T_STRING","__",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Consumer key is not the correct length'",185],")",["T_WHITESPACE","\n            ",185],")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$consumer",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_consumerFactory",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","create",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","loadByKey",189],"(",["T_VARIABLE","$consumerKey",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_VARIABLE","$consumer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getId",191],"(",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_THROW","throw",192],["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Framework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Oauth",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Exception",192],"(",["T_WHITESPACE","\n                ",192],["T_STRING","__",193],"(",["T_CONSTANT_ENCAPSED_STRING","'A consumer having the specified key does not exist'",193],")",["T_WHITESPACE","\n            ",193],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$consumer",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Validate 'oauth_verifier' parameter.\n     *\n     * @param string $oauthVerifier\n     * @param string $tokenVerifier\n     * @return void\n     * @throws \\Magento\\Framework\\Oauth\\Exception\n     *\/",200],["T_WHITESPACE","\n    ",207],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","_validateVerifierParam",208],"(",["T_VARIABLE","$oauthVerifier",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$tokenVerifier",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!",["T_STRING","is_string",210],"(",["T_VARIABLE","$oauthVerifier",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_THROW","throw",211],["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Magento",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Framework",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Oauth",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Exception",211],"(",["T_WHITESPACE","\n                ",211],["T_STRING","__",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Verifier is invalid'",212],")",["T_WHITESPACE","\n            ",212],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(","!",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","validateOauthToken",215],"(",["T_VARIABLE","$oauthVerifier",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_THROW","throw",216],["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Magento",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Framework",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Oauth",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Exception",216],"(",["T_WHITESPACE","\n                ",216],["T_STRING","__",217],"(",["T_CONSTANT_ENCAPSED_STRING","'Verifier is not the correct length'",217],")",["T_WHITESPACE","\n            ",217],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(","!",["T_STRING","Security",220],["T_DOUBLE_COLON","::",220],["T_STRING","compareStrings",220],"(",["T_VARIABLE","$tokenVerifier",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$oauthVerifier",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_THROW","throw",221],["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Framework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Oauth",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Exception",221],"(",["T_WHITESPACE","\n                ",221],["T_STRING","__",222],"(",["T_CONSTANT_ENCAPSED_STRING","'Token verifier and verifier token do not match'",222],")",["T_WHITESPACE","\n            ",222],")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Get consumer by consumer_id for a given token.\n     *\n     * @param int $consumerId\n     * @return \\Magento\\Framework\\Oauth\\ConsumerInterface\n     * @throws \\Magento\\Framework\\Oauth\\Exception\n     *\/",227],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","_getConsumer",234],"(",["T_VARIABLE","$consumerId",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$consumer",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_consumerFactory",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","create",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","load",236],"(",["T_VARIABLE","$consumerId",236],")",";",["T_WHITESPACE","\n\n        ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_VARIABLE","$consumer",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getId",238],"(",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_THROW","throw",239],["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Framework",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Oauth",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Exception",239],"(",["T_WHITESPACE","\n                ",239],["T_STRING","__",240],"(",["T_WHITESPACE","\n                    ",240],["T_CONSTANT_ENCAPSED_STRING","'A consumer with the ID %1 does not exist'",241],",",["T_WHITESPACE","\n                    ",241],"[",["T_VARIABLE","$consumerId",242],"]",["T_WHITESPACE","\n                ",242],")",["T_WHITESPACE","\n            ",243],")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$consumer",247],";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Load token object and validate it.\n     *\n     * @param string $token\n     * @return Token\n     * @throws \\Magento\\Framework\\Oauth\\Exception\n     *\/",250],["T_WHITESPACE","\n    ",256],["T_PROTECTED","protected",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","_getToken",257],"(",["T_VARIABLE","$token",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(","!",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","validateOauthToken",259],"(",["T_VARIABLE","$token",259],")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_THROW","throw",260],["T_WHITESPACE"," ",260],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Magento",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Framework",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Oauth",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Exception",260],"(",["T_WHITESPACE","\n                ",260],["T_STRING","__",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Token is not the correct length'",261],")",["T_WHITESPACE","\n            ",261],")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$tokenObj",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_tokenFactory",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","create",265],"(",")",["T_OBJECT_OPERATOR","->",265],["T_STRING","load",265],"(",["T_VARIABLE","$token",265],",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'token'",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_VARIABLE","$tokenObj",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getId",267],"(",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_THROW","throw",268],["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Magento",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Framework",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Oauth",268],["T_NS_SEPARATOR","\\",268],["T_STRING","Exception",268],"(",["T_WHITESPACE","\n                ",268],["T_STRING","__",269],"(",["T_CONSTANT_ENCAPSED_STRING","'Specified token does not exist'",269],")",["T_WHITESPACE","\n            ",269],")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n\n        ",271],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$tokenObj",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Load token object given a consumer Id.\n     *\n     * @param int $consumerId - The Id of the consumer.\n     * @return Token\n     * @throws \\Magento\\Framework\\Oauth\\Exception\n     *\/",276],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","getIntegrationTokenByConsumerId",283],"(",["T_VARIABLE","$consumerId",283],")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Model\\Oauth\\Token $token *\/",285],["T_WHITESPACE","\n        ",285],["T_VARIABLE","$token",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_tokenFactory",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","create",286],"(",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$token",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","loadByConsumerIdAndUserType",287],"(",["T_VARIABLE","$consumerId",287],",",["T_WHITESPACE"," ",287],["T_STRING","UserContextInterface",287],["T_DOUBLE_COLON","::",287],["T_STRING","USER_TYPE_INTEGRATION",287],")",";",["T_WHITESPACE","\n\n        ",287],["T_IF","if",289],["T_WHITESPACE"," ",289],"(","!",["T_VARIABLE","$token",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getId",289],"(",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_THROW","throw",290],["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Magento",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Framework",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Oauth",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Exception",290],"(",["T_WHITESPACE","\n                ",290],["T_STRING","__",291],"(",["T_WHITESPACE","\n                    ",291],["T_CONSTANT_ENCAPSED_STRING","'A token with consumer ID %1 does not exist'",292],",",["T_WHITESPACE","\n                    ",292],"[",["T_VARIABLE","$consumerId",293],"]",["T_WHITESPACE","\n                ",293],")",["T_WHITESPACE","\n            ",294],")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$token",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Check if token belongs to the same consumer.\n     *\n     * @param Token $token\n     * @param \\Magento\\Framework\\Oauth\\ConsumerInterface $consumer\n     * @return bool\n     *\/",301],["T_WHITESPACE","\n    ",307],["T_PROTECTED","protected",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","_isTokenAssociatedToConsumer",308],"(",["T_VARIABLE","$token",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$consumer",308],")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$token",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getConsumerId",310],"(",")",["T_WHITESPACE"," ",310],["T_IS_EQUAL","==",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$consumer",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getId",310],"(",")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n",311],"}",["T_WHITESPACE","\n",312]]