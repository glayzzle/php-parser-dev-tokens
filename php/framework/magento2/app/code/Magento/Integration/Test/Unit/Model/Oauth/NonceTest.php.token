[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Oauth",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Unit test for \\Magento\\Integration\\Model\\Oauth\\Nonce\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","NonceTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\Oauth\\Nonce\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$nonceModel",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\Context|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$contextMock",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Registry|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$registryMock",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Helper\\Oauth\\Data|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$oauthDataMock",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$resourceMock",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Data\\Collection\\AbstractDb|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$resourceCollectionMock",42],";",["T_WHITESPACE","\n\n    ",42],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","setUp",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","contextMock",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMock",46],"(",["T_WHITESPACE","\n            ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Context",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],",",["T_WHITESPACE","\n            ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'getEventDispatcher'",48],"]",",",["T_WHITESPACE","\n            ",48],"[","]",",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE","\n            ",50],["T_STRING","false",51],["T_WHITESPACE","\n        ",51],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$eventManagerMock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockForAbstractClass",53],"(",["T_WHITESPACE","\n            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Event",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ManagerInterface",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],",",["T_WHITESPACE","\n            ",54],"[","]",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","''",56],",",["T_WHITESPACE","\n            ",56],["T_STRING","false",57],",",["T_WHITESPACE","\n            ",57],["T_STRING","true",58],",",["T_WHITESPACE","\n            ",58],["T_STRING","true",59],",",["T_WHITESPACE","\n            ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",60],"]",["T_WHITESPACE","\n        ",60],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","contextMock",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","expects",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","once",62],"(",")",")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","method",63],"(",["T_CONSTANT_ENCAPSED_STRING","'getEventDispatcher'",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","will",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","returnValue",64],"(",["T_VARIABLE","$eventManagerMock",64],")",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","registryMock",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMock",65],"(",["T_WHITESPACE","\n            ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Registry",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],",",["T_WHITESPACE","\n            ",66],"[","]",",",["T_WHITESPACE","\n            ",67],"[","]",",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE","\n            ",69],["T_STRING","false",70],["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","oauthDataMock",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMock",72],"(",["T_WHITESPACE","\n            ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Integration",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Helper",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Oauth",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Data",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],",",["T_WHITESPACE","\n            ",73],"[","]",",",["T_WHITESPACE","\n            ",74],"[","]",",",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","''",76],",",["T_WHITESPACE","\n            ",76],["T_STRING","false",77],["T_WHITESPACE","\n        ",77],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","resourceMock",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMockForAbstractClass",79],"(",["T_WHITESPACE","\n            ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Framework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Model",80],["T_NS_SEPARATOR","\\",80],["T_STRING","ResourceModel",80],["T_NS_SEPARATOR","\\",80],["T_STRING","AbstractResource",80],["T_DOUBLE_COLON","::",80],["T_CLASS","class",80],",",["T_WHITESPACE","\n            ",80],"[","]",",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","''",82],",",["T_WHITESPACE","\n            ",82],["T_STRING","false",83],",",["T_WHITESPACE","\n            ",83],["T_STRING","true",84],",",["T_WHITESPACE","\n            ",84],["T_STRING","true",85],",",["T_WHITESPACE","\n            ",85],"[",["T_CONSTANT_ENCAPSED_STRING","'getIdFieldName'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'selectByCompositeKey'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'deleteOldEntries'",86],"]",["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","resourceCollectionMock",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",["T_WHITESPACE","\n            ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Framework",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Data",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Collection",89],["T_NS_SEPARATOR","\\",89],["T_STRING","AbstractDb",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],",",["T_WHITESPACE","\n            ",89],"[","]",",",["T_WHITESPACE","\n            ",90],"[","]",",",["T_WHITESPACE","\n            ",91],["T_CONSTANT_ENCAPSED_STRING","''",92],",",["T_WHITESPACE","\n            ",92],["T_STRING","false",93],["T_WHITESPACE","\n        ",93],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","nonceModel",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Integration",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Oauth",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Nonce",95],"(",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","contextMock",96],",",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","registryMock",97],",",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","oauthDataMock",98],",",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","resourceMock",99],",",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","resourceCollectionMock",100],["T_WHITESPACE","\n        ",100],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","testAfterSave",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","oauthDataMock",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","once",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'isCleanupProbability'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","will",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","returnValue",108],"(",["T_STRING","true",108],")",")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","oauthDataMock",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","expects",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","once",110],"(",")",")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","method",111],"(",["T_CONSTANT_ENCAPSED_STRING","'getCleanupExpirationPeriod'",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","will",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","returnValue",112],"(",["T_LNUMBER","30",112],")",")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","resourceMock",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","expects",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","once",114],"(",")",")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","method",115],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteOldEntries'",115],")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","with",116],"(",["T_LNUMBER","30",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","will",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","returnValue",117],"(",["T_LNUMBER","1",117],")",")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEquals",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","nonceModel",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","nonceModel",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","afterSave",119],"(",")",")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","testAfterSaveNoCleanupProbability",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","oauthDataMock",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","once",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'isCleanupProbability'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","will",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","returnValue",126],"(",["T_STRING","false",126],")",")",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","oauthDataMock",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","expects",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","never",128],"(",")",")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","method",129],"(",["T_CONSTANT_ENCAPSED_STRING","'getCleanupExpirationPeriod'",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","resourceMock",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","never",131],"(",")",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'deleteOldEntries'",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","nonceModel",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","nonceModel",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","afterSave",134],"(",")",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testLoadByCompositeKey",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$expectedData",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"[",["T_CONSTANT_ENCAPSED_STRING","'testData'",139],"]",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$nonce",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'testNonce'",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$consumerId",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","1",141],";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","resourceMock",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","once",143],"(",")",")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'selectByCompositeKey'",144],")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","with",145],"(",["T_VARIABLE","$nonce",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$consumerId",145],")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","will",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","returnValue",146],"(",["T_VARIABLE","$expectedData",146],")",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","nonceModel",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","loadByCompositeKey",147],"(",["T_VARIABLE","$nonce",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$consumerId",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEquals",149],"(",["T_VARIABLE","$expectedData",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","nonceModel",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getData",149],"(",")",")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n",150],"}",["T_WHITESPACE","\n",151]]