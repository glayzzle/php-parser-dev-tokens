[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integration",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Oauth",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Validator",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","UrlValidator",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Integration",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Oauth",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Consumer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Validator",9],["T_NS_SEPARATOR","\\",9],["T_STRING","KeyLength",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Test for \\Magento\\Integration\\Model\\Oauth\\Consumer\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ConsumerTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\Oauth\\Consumer\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$consumerModel",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\Context|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$contextMock",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Registry|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$registryMock",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var KeyLength\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$keyLengthValidator",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Model\\Oauth\\Consumer\\Validator\\KeyLengthFactory\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$keyLengthValidatorFactory",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var UrlValidator\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$urlValidator",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Helper\\Oauth\\Data|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$oauthDataMock",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Model\\ResourceModel\\AbstractResource|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$resourceMock",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Data\\Collection\\AbstractDb|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$resourceCollectionMock",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$validDataArray",65],";",["T_WHITESPACE","\n\n    ",65],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","setUp",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","contextMock",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",["T_WHITESPACE","\n            ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Context",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],",",["T_WHITESPACE","\n            ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'getEventDispatcher'",71],"]",",",["T_WHITESPACE","\n            ",71],"[","]",",",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","''",73],",",["T_WHITESPACE","\n            ",73],["T_STRING","false",74],["T_WHITESPACE","\n        ",74],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$eventManagerMock",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getMockForAbstractClass",76],"(",["T_WHITESPACE","\n            ",76],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Event",77],["T_NS_SEPARATOR","\\",77],["T_STRING","ManagerInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],",",["T_WHITESPACE","\n            ",77],"[","]",",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","''",79],",",["T_WHITESPACE","\n            ",79],["T_STRING","false",80],",",["T_WHITESPACE","\n            ",80],["T_STRING","true",81],",",["T_WHITESPACE","\n            ",81],["T_STRING","true",82],",",["T_WHITESPACE","\n            ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'dispatch'",83],"]",["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","contextMock",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","expects",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","once",85],"(",")",")",["T_WHITESPACE","\n            ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","method",86],"(",["T_CONSTANT_ENCAPSED_STRING","'getEventDispatcher'",86],")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","will",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","returnValue",87],"(",["T_VARIABLE","$eventManagerMock",87],")",")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","registryMock",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",["T_WHITESPACE","\n            ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Registry",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],",",["T_WHITESPACE","\n            ",90],"[","]",",",["T_WHITESPACE","\n            ",91],"[","]",",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE","\n            ",93],["T_STRING","false",94],["T_WHITESPACE","\n        ",94],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","keyLengthValidator",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_STRING","KeyLength",97],"(",")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","urlValidator",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","UrlValidator",99],"(",")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","oauthDataMock",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMock",101],"(",["T_WHITESPACE","\n            ",101],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Integration",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Helper",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Oauth",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Data",102],["T_DOUBLE_COLON","::",102],["T_CLASS","class",102],",",["T_WHITESPACE","\n            ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'getConsumerExpirationPeriod'",103],"]",",",["T_WHITESPACE","\n            ",103],"[","]",",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","''",105],",",["T_WHITESPACE","\n            ",105],["T_STRING","false",106],["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","oauthDataMock",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","expects",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","any",108],"(",")",")",["T_WHITESPACE","\n            ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","method",109],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerExpirationPeriod'",109],")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","will",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","returnValue",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Integration",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Helper",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Oauth",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Data",110],["T_DOUBLE_COLON","::",110],["T_STRING","CONSUMER_EXPIRATION_PERIOD_DEFAULT",110],")",")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","resourceMock",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMock",112],"(",["T_WHITESPACE","\n            ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Integration",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","ResourceModel",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Oauth",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Consumer",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],",",["T_WHITESPACE","\n            ",113],"[",["T_CONSTANT_ENCAPSED_STRING","'getIdFieldName'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'selectByCompositeKey'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'deleteOldEntries'",114],"]",",",["T_WHITESPACE","\n            ",114],"[","]",",",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","''",116],",",["T_WHITESPACE","\n            ",116],["T_STRING","false",117],",",["T_WHITESPACE","\n            ",117],["T_STRING","true",118],",",["T_WHITESPACE","\n            ",118],["T_STRING","true",119],["T_WHITESPACE","\n        ",119],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","resourceCollectionMock",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMock",121],"(",["T_WHITESPACE","\n            ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Data",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Collection",122],["T_NS_SEPARATOR","\\",122],["T_STRING","AbstractDb",122],["T_DOUBLE_COLON","::",122],["T_CLASS","class",122],",",["T_WHITESPACE","\n            ",122],"[","]",",",["T_WHITESPACE","\n            ",123],"[","]",",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","''",125],",",["T_WHITESPACE","\n            ",125],["T_STRING","false",126],["T_WHITESPACE","\n        ",126],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","consumerModel",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Integration",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Model",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Oauth",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Consumer",128],"(",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","contextMock",129],",",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","registryMock",130],",",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","keyLengthValidator",131],",",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","urlValidator",132],",",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","oauthDataMock",133],",",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","resourceMock",134],",",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","resourceCollectionMock",135],["T_WHITESPACE","\n        ",135],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","validDataArray",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"[",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'key'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_STRING","md5",139],"(",["T_STRING","uniqid",139],"(",")",")",",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'secret'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_STRING","md5",140],"(",["T_STRING","uniqid",140],"(",")",")",",",["T_WHITESPACE","\n            ",140],["T_CONSTANT_ENCAPSED_STRING","'callback_url'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/callback'",141],",",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'rejected_callback_url'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/rejectedCallback'",142],["T_WHITESPACE","\n        ",142],"]",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","testBeforeSave",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_TRY","try",148],["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","consumerModel",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","setData",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","validDataArray",149],")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","consumerModel",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","beforeSave",150],"(",")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_CATCH","catch",151],["T_WHITESPACE"," ",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","Exception",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$e",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","fail",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception not expected for beforeSave with valid data.'",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","testValidate",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","consumerModel",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","setData",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","validDataArray",158],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertTrue",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","consumerModel",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","validate",159],"(",")",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Invalid Callback URL\n     *\/",162],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","testValidateInvalidData",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","validDataArray",168],"[",["T_CONSTANT_ENCAPSED_STRING","'callback_url'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'invalid'",168],";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","consumerModel",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setData",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","validDataArray",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","consumerModel",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","validate",170],"(",")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Invalid Callback URL\n     *\/",173],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","testValidateInvalidCallback",177],"(",")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","validDataArray",179],"[",["T_CONSTANT_ENCAPSED_STRING","'callback_url'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'invalid'",179],";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","consumerModel",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setData",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","validDataArray",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","consumerModel",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","validate",181],"(",")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Invalid Rejected Callback URL\n     *\/",184],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","testValidateInvalidRejectedCallback",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","validDataArray",190],"[",["T_CONSTANT_ENCAPSED_STRING","'rejected_callback_url'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'invalid'",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","consumerModel",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setData",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","validDataArray",191],")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","consumerModel",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","validate",192],"(",")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Consumer Key 'invalid' is less than 32 characters long\n     *\/",195],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","testValidateInvalidConsumerKey",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","validDataArray",201],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'invalid'",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","consumerModel",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","setData",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","validDataArray",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","consumerModel",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","validate",203],"(",")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\LocalizedException\n     * @expectedExceptionMessage Consumer Secret 'invalid' is less than 32 characters long\n     *\/",206],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","testValidateInvalidConsumerSecret",210],"(",")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","validDataArray",212],"[",["T_CONSTANT_ENCAPSED_STRING","'secret'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'invalid'",212],";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","consumerModel",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setData",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","validDataArray",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","consumerModel",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","validate",214],"(",")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","testGetConsumerExpirationPeriodValid",217],"(",")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$dateHelperMock",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getMockBuilder",219],"(",["T_NS_SEPARATOR","\\",219],["T_STRING","Magento",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Framework",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Stdlib",219],["T_NS_SEPARATOR","\\",219],["T_STRING","DateTime",219],["T_NS_SEPARATOR","\\",219],["T_STRING","DateTime",219],["T_DOUBLE_COLON","::",219],["T_CLASS","class",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","disableOriginalConstructor",220],"(",")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","getMock",221],"(",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$dateHelperMock",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","expects",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","at",222],"(",["T_LNUMBER","0",222],")",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","method",222],"(",["T_CONSTANT_ENCAPSED_STRING","'gmtTimestamp'",222],")",["T_OBJECT_OPERATOR","->",222],["T_STRING","willReturn",222],"(",["T_STRING","time",222],"(",")",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$dateHelperMock",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","expects",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","at",223],"(",["T_LNUMBER","1",223],")",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","method",223],"(",["T_CONSTANT_ENCAPSED_STRING","'gmtTimestamp'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","willReturn",223],"(",["T_STRING","time",223],"(",")",["T_WHITESPACE"," ",223],"-",["T_WHITESPACE"," ",223],["T_LNUMBER","100",223],")",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$dateHelper",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_NS_SEPARATOR","\\",225],["T_STRING","ReflectionProperty",225],"(",["T_NS_SEPARATOR","\\",225],["T_STRING","Magento",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Integration",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Model",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Oauth",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Consumer",225],["T_DOUBLE_COLON","::",225],["T_CLASS","class",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'_dateHelper'",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$dateHelper",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setAccessible",226],"(",["T_STRING","true",226],")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$dateHelper",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setValue",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","consumerModel",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$dateHelperMock",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","consumerModel",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","setUpdatedAt",229],"(",["T_STRING","time",229],"(",")",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertTrue",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","consumerModel",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","isValidForTokenExchange",230],"(",")",")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","testGetConsumerExpirationPeriodExpired",233],"(",")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$dateHelperMock",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getMockBuilder",235],"(",["T_NS_SEPARATOR","\\",235],["T_STRING","Magento",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Framework",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Stdlib",235],["T_NS_SEPARATOR","\\",235],["T_STRING","DateTime",235],["T_NS_SEPARATOR","\\",235],["T_STRING","DateTime",235],["T_DOUBLE_COLON","::",235],["T_CLASS","class",235],")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","disableOriginalConstructor",236],"(",")",["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","getMock",237],"(",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$dateHelperMock",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","expects",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","at",238],"(",["T_LNUMBER","0",238],")",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'gmtTimestamp'",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","willReturn",238],"(",["T_STRING","time",238],"(",")",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$dateHelperMock",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","expects",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","at",239],"(",["T_LNUMBER","1",239],")",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","method",239],"(",["T_CONSTANT_ENCAPSED_STRING","'gmtTimestamp'",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","willReturn",239],"(",["T_STRING","time",239],"(",")",["T_WHITESPACE"," ",239],"-",["T_WHITESPACE"," ",239],["T_LNUMBER","1000",239],")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$dateHelper",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","ReflectionProperty",241],"(",["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Integration",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Model",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Oauth",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Consumer",241],["T_DOUBLE_COLON","::",241],["T_CLASS","class",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'_dateHelper'",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$dateHelper",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","setAccessible",242],"(",["T_STRING","true",242],")",";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$dateHelper",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setValue",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","consumerModel",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$dateHelperMock",243],")",";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","consumerModel",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","setUpdatedAt",245],"(",["T_STRING","time",245],"(",")",")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertFalse",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","consumerModel",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","isValidForTokenExchange",246],"(",")",")",";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n",247],"}",["T_WHITESPACE","\n",248]]