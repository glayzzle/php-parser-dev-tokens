[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Oauth",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Token",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Authorization",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UserContextInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Integration",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Oauth",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Token",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestFramework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Unit",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ObjectManager",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","ObjectManagerHelper",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Unit test for \\Magento\\Integration\\Model\\Oauth\\Token\\Provider\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ProviderTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Model\\Oauth\\Token\\Provider *\/",18],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$tokenProvider",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Model\\Oauth\\ConsumerFactory|\\PHPUnit_Framework_MockObject_MockObject *\/",21],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$consumerFactoryMock",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Model\\Oauth\\TokenFactory|\\PHPUnit_Framework_MockObject_MockObject *\/",24],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$tokenFactoryMock",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/** @var \\Psr\\Log\\LoggerInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",27],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$loggerMock",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Oauth\\ConsumerInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",30],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$consumerMock",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Model\\Oauth\\Token|\\PHPUnit_Framework_MockObject_MockObject *\/",33],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$requestTokenMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Model\\Oauth\\Token|\\PHPUnit_Framework_MockObject_MockObject *\/",36],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$accessTokenMock",37],";",["T_WHITESPACE","\n\n    ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$objectManagerHelper",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","ObjectManagerHelper",41],"(",["T_VARIABLE","$this",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","consumerFactoryMock",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMockBuilder",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Integration",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Model",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Oauth",43],["T_NS_SEPARATOR","\\",43],["T_STRING","ConsumerFactory",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",["T_WHITESPACE","\n            ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","setMethods",44],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",44],"]",")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","disableOriginalConstructor",45],"(",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMock",46],"(",")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","tokenFactoryMock",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMockBuilder",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Integration",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Oauth",48],["T_NS_SEPARATOR","\\",48],["T_STRING","TokenFactory",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","setMethods",49],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",49],"]",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","disableOriginalConstructor",50],"(",")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMock",51],"(",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","loggerMock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Psr",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Log",53],["T_NS_SEPARATOR","\\",53],["T_STRING","LoggerInterface",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","disableOriginalConstructor",54],"(",")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMock",55],"(",")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","consumerMock",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getMockBuilder",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Framework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Oauth",57],["T_NS_SEPARATOR","\\",57],["T_STRING","ConsumerInterface",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",["T_WHITESPACE","\n            ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","setMethods",58],"(",["T_WHITESPACE","\n                ",58],"[",["T_WHITESPACE","\n                    ",59],["T_CONSTANT_ENCAPSED_STRING","'load'",60],",",["T_WHITESPACE","\n                    ",60],["T_CONSTANT_ENCAPSED_STRING","'loadByKey'",61],",",["T_WHITESPACE","\n                    ",61],["T_CONSTANT_ENCAPSED_STRING","'validate'",62],",",["T_WHITESPACE","\n                    ",62],["T_CONSTANT_ENCAPSED_STRING","'getId'",63],",",["T_WHITESPACE","\n                    ",63],["T_CONSTANT_ENCAPSED_STRING","'getKey'",64],",",["T_WHITESPACE","\n                    ",64],["T_CONSTANT_ENCAPSED_STRING","'getSecret'",65],",",["T_WHITESPACE","\n                    ",65],["T_CONSTANT_ENCAPSED_STRING","'getCallbackUrl'",66],",",["T_WHITESPACE","\n                    ",66],["T_CONSTANT_ENCAPSED_STRING","'getCreatedAt'",67],",",["T_WHITESPACE","\n                    ",67],["T_CONSTANT_ENCAPSED_STRING","'isValidForTokenExchange'",68],["T_WHITESPACE","\n                ",68],"]",["T_WHITESPACE","\n            ",69],")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","disableOriginalConstructor",71],"(",")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMock",72],"(",")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","requestTokenMock",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Integration",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Oauth",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Token",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","setMethods",75],"(",["T_WHITESPACE","\n                ",75],"[",["T_WHITESPACE","\n                    ",76],["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",77],",",["T_WHITESPACE","\n                    ",77],["T_CONSTANT_ENCAPSED_STRING","'load'",78],",",["T_WHITESPACE","\n                    ",78],["T_CONSTANT_ENCAPSED_STRING","'getId'",79],",",["T_WHITESPACE","\n                    ",79],["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",80],",",["T_WHITESPACE","\n                    ",80],["T_CONSTANT_ENCAPSED_STRING","'getType'",81],",",["T_WHITESPACE","\n                    ",81],["T_CONSTANT_ENCAPSED_STRING","'getSecret'",82],",",["T_WHITESPACE","\n                    ",82],["T_CONSTANT_ENCAPSED_STRING","'getToken'",83],",",["T_WHITESPACE","\n                    ",83],["T_CONSTANT_ENCAPSED_STRING","'getVerifier'",84],",",["T_WHITESPACE","\n                    ",84],["T_CONSTANT_ENCAPSED_STRING","'createRequestToken'",85],",",["T_WHITESPACE","\n                    ",85],["T_CONSTANT_ENCAPSED_STRING","'convertToAccess'",86],["T_WHITESPACE","\n                ",86],"]",["T_WHITESPACE","\n            ",87],")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","disableOriginalConstructor",89],"(",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMock",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","accessTokenMock",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMockBuilder",92],"(",["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Integration",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Model",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Oauth",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Token",92],["T_DOUBLE_COLON","::",92],["T_CLASS","class",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","setMethods",93],"(",["T_WHITESPACE","\n                ",93],"[",["T_WHITESPACE","\n                    ",94],["T_CONSTANT_ENCAPSED_STRING","'getToken'",95],",",["T_WHITESPACE","\n                    ",95],["T_CONSTANT_ENCAPSED_STRING","'getSecret'",96],",",["T_WHITESPACE","\n                    ",96],["T_CONSTANT_ENCAPSED_STRING","'load'",97],",",["T_WHITESPACE","\n                    ",97],["T_CONSTANT_ENCAPSED_STRING","'getId'",98],",",["T_WHITESPACE","\n                    ",98],["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",99],",",["T_WHITESPACE","\n                    ",99],["T_CONSTANT_ENCAPSED_STRING","'getType'",100],",",["T_WHITESPACE","\n                    ",100],["T_CONSTANT_ENCAPSED_STRING","'getRevoked'",101],["T_WHITESPACE","\n                ",101],"]",["T_WHITESPACE","\n            ",102],")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","disableOriginalConstructor",104],"(",")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMock",105],"(",")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","tokenProvider",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$objectManagerHelper",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getObject",107],"(",["T_WHITESPACE","\n            ",107],["T_NS_SEPARATOR","\\",108],["T_STRING","Magento",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Integration",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Model",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Oauth",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Token",108],["T_NS_SEPARATOR","\\",108],["T_STRING","Provider",108],["T_DOUBLE_COLON","::",108],["T_CLASS","class",108],",",["T_WHITESPACE","\n            ",108],"[",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'consumerFactory'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","consumerFactoryMock",110],",",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'tokenFactory'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","tokenFactoryMock",111],",",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'logger'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","loggerMock",112],",",["T_WHITESPACE","\n            ",112],"]",["T_WHITESPACE","\n        ",113],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","testValidateConsumer",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","consumerMock",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","expects",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","once",119],"(",")",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","method",119],"(",["T_CONSTANT_ENCAPSED_STRING","'isValidForTokenExchange'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturn",119],"(",["T_STRING","true",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_STRING","true",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","tokenProvider",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","validateConsumer",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","consumerMock",120],")",")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Consumer key has expired\n     *\/",123],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testValidateConsumerException",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","consumerMock",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","once",129],"(",")",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","method",129],"(",["T_CONSTANT_ENCAPSED_STRING","'isValidForTokenExchange'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","willReturn",129],"(",["T_STRING","false",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","tokenProvider",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","validateConsumer",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","consumerMock",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","testGetIntegrationTokenByConsumerId",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$consumerId",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_LNUMBER","1",135],";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$tokenId",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_LNUMBER","1",136],";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","requestTokenMock",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","once",138],"(",")",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","with",140],"(",["T_VARIABLE","$consumerId",140],",",["T_WHITESPACE"," ",140],["T_STRING","UserContextInterface",140],["T_DOUBLE_COLON","::",140],["T_STRING","USER_TYPE_INTEGRATION",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","tokenFactoryMock",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","once",141],"(",")",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","willReturn",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","requestTokenMock",141],")",";",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","requestTokenMock",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","expects",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","once",143],"(",")",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","willReturn",143],"(",["T_VARIABLE","$tokenId",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$actualToken",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","tokenProvider",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getIntegrationTokenByConsumerId",145],"(",["T_VARIABLE","$consumerId",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","requestTokenMock",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$actualToken",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage A token with consumer ID 1 does not exist\n     *\/",149],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","testGetIntegrationTokenByConsumerIdException",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$consumerId",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_LNUMBER","1",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$tokenId",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","false",156],";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","requestTokenMock",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","expects",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","once",158],"(",")",")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","method",159],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",159],")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","with",160],"(",["T_VARIABLE","$consumerId",160],",",["T_WHITESPACE"," ",160],["T_STRING","UserContextInterface",160],["T_DOUBLE_COLON","::",160],["T_STRING","USER_TYPE_INTEGRATION",160],")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","tokenFactoryMock",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","expects",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","once",161],"(",")",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","method",161],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","willReturn",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","requestTokenMock",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","requestTokenMock",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","expects",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","once",163],"(",")",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",163],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","willReturn",163],"(",["T_VARIABLE","$tokenId",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","tokenProvider",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getIntegrationTokenByConsumerId",165],"(",["T_VARIABLE","$consumerId",165],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","testCreateRequestToken",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$consumerId",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_LNUMBER","1",170],";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$tokenId",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$tokenString",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",172],";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$secret",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'secret'",173],";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$tokenMock",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getMockBuilder",175],"(",["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Integration",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Model",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Oauth",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Token",175],["T_DOUBLE_COLON","::",175],["T_CLASS","class",175],")",["T_WHITESPACE","\n            ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","setMethods",176],"(",["T_WHITESPACE","\n                ",176],"[",["T_WHITESPACE","\n                    ",177],["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",178],",",["T_WHITESPACE","\n                    ",178],["T_CONSTANT_ENCAPSED_STRING","'getId'",179],",",["T_WHITESPACE","\n                    ",179],["T_CONSTANT_ENCAPSED_STRING","'getType'",180],",",["T_WHITESPACE","\n                    ",180],["T_CONSTANT_ENCAPSED_STRING","'createRequestToken'",181],["T_WHITESPACE","\n                ",181],"]",["T_WHITESPACE","\n            ",182],")",["T_WHITESPACE","\n            ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","disableOriginalConstructor",184],"(",")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","getMock",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$tokenMock",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","expects",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","once",187],"(",")",")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","method",188],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","with",189],"(",["T_VARIABLE","$consumerId",189],",",["T_WHITESPACE"," ",189],["T_STRING","UserContextInterface",189],["T_DOUBLE_COLON","::",189],["T_STRING","USER_TYPE_INTEGRATION",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","tokenFactoryMock",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","once",190],"(",")",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","method",190],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","willReturn",190],"(",["T_VARIABLE","$tokenMock",190],")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$tokenMock",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","expects",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","any",192],"(",")",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","method",192],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",192],")",["T_OBJECT_OPERATOR","->",192],["T_STRING","willReturn",192],"(",["T_VARIABLE","$tokenId",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$tokenMock",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","expects",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","once",193],"(",")",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'createRequestToken'",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","willReturn",193],"(",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","requestTokenMock",194],["T_WHITESPACE","\n        ",194],")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$tokenMock",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","expects",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","any",196],"(",")",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","method",196],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",196],")",["T_OBJECT_OPERATOR","->",196],["T_STRING","willReturn",196],"(",["T_STRING","Token",196],["T_DOUBLE_COLON","::",196],["T_STRING","TYPE_VERIFIER",196],")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","consumerMock",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","expects",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","once",198],"(",")",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","method",198],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",198],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","willReturn",198],"(",["T_VARIABLE","$consumerId",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","consumerMock",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","once",199],"(",")",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","method",199],"(",["T_CONSTANT_ENCAPSED_STRING","'getCallbackUrl'",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","requestTokenMock",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","expects",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","any",201],"(",")",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","method",201],"(",["T_CONSTANT_ENCAPSED_STRING","'getToken'",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","willReturn",201],"(",["T_VARIABLE","$tokenString",201],")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","requestTokenMock",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","expects",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","any",202],"(",")",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","method",202],"(",["T_CONSTANT_ENCAPSED_STRING","'getSecret'",202],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","willReturn",202],"(",["T_VARIABLE","$secret",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$response",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","tokenProvider",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","createRequestToken",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","consumerMock",203],")",";",["T_WHITESPACE","\n\n        ",203],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertArrayHasKey",205],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$response",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertArrayHasKey",206],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$response",206],")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertEquals",207],"(",["T_VARIABLE","$tokenString",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$response",207],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",207],"]",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertEquals",208],"(",["T_VARIABLE","$secret",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$response",208],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",208],"]",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Cannot create request token because consumer token is not a verifier token\n     *\/",211],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","testCreateRequestTokenIncorrectType",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$consumerId",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_LNUMBER","1",217],";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$tokenId",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_LNUMBER","1",218],";",["T_WHITESPACE","\n\n        ",218],["T_VARIABLE","$tokenMock",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getMockBuilder",220],"(",["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Integration",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Model",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Oauth",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Token",220],["T_DOUBLE_COLON","::",220],["T_CLASS","class",220],")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","setMethods",221],"(",["T_WHITESPACE","\n                ",221],"[",["T_WHITESPACE","\n                    ",222],["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",223],",",["T_WHITESPACE","\n                    ",223],["T_CONSTANT_ENCAPSED_STRING","'getId'",224],",",["T_WHITESPACE","\n                    ",224],["T_CONSTANT_ENCAPSED_STRING","'getType'",225],",",["T_WHITESPACE","\n                    ",225],["T_CONSTANT_ENCAPSED_STRING","'createRequestToken'",226],["T_WHITESPACE","\n                ",226],"]",["T_WHITESPACE","\n            ",227],")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","disableOriginalConstructor",229],"(",")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","getMock",230],"(",")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$tokenMock",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","expects",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","once",232],"(",")",")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","method",233],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",233],")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","with",234],"(",["T_VARIABLE","$consumerId",234],",",["T_WHITESPACE"," ",234],["T_STRING","UserContextInterface",234],["T_DOUBLE_COLON","::",234],["T_STRING","USER_TYPE_INTEGRATION",234],")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","tokenFactoryMock",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","expects",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","once",235],"(",")",")",["T_OBJECT_OPERATOR","->",235],["T_STRING","method",235],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",235],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","willReturn",235],"(",["T_VARIABLE","$tokenMock",235],")",";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$tokenMock",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","expects",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","any",237],"(",")",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","method",237],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",237],")",["T_OBJECT_OPERATOR","->",237],["T_STRING","willReturn",237],"(",["T_VARIABLE","$tokenId",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$tokenMock",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","expects",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","any",238],"(",")",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","method",238],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","willReturn",238],"(",["T_CONSTANT_ENCAPSED_STRING","'incorrectType'",238],")",";",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","consumerMock",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","expects",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","once",240],"(",")",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","method",240],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",240],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","willReturn",240],"(",["T_VARIABLE","$consumerId",240],")",";",["T_WHITESPACE","\n\n        ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","tokenProvider",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","createRequestToken",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","consumerMock",242],")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","testGetAccessToken",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$consumerId",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_LNUMBER","1",247],";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$tokenId",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_LNUMBER","1",248],";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$tokenString",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",249],";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$secret",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'secret'",250],";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","consumerMock",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","expects",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","once",252],"(",")",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","willReturn",252],"(",["T_VARIABLE","$consumerId",252],")",";",["T_WHITESPACE","\n\n        ",252],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","requestTokenMock",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","once",254],"(",")",")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","method",255],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",255],")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","with",256],"(",["T_VARIABLE","$consumerId",256],",",["T_WHITESPACE"," ",256],["T_STRING","UserContextInterface",256],["T_DOUBLE_COLON","::",256],["T_STRING","USER_TYPE_INTEGRATION",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","tokenFactoryMock",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","once",257],"(",")",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","method",257],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",257],")",["T_OBJECT_OPERATOR","->",257],["T_STRING","willReturn",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","requestTokenMock",257],")",";",["T_WHITESPACE","\n\n        ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","requestTokenMock",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","expects",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","once",259],"(",")",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","method",259],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","willReturn",259],"(",["T_VARIABLE","$tokenId",259],")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","requestTokenMock",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","expects",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","once",260],"(",")",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","method",260],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",260],")",["T_OBJECT_OPERATOR","->",260],["T_STRING","willReturn",260],"(",["T_STRING","Token",260],["T_DOUBLE_COLON","::",260],["T_STRING","TYPE_REQUEST",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","requestTokenMock",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","expects",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","once",261],"(",")",")",["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],"(",["T_CONSTANT_ENCAPSED_STRING","'convertToAccess'",261],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","willReturn",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","accessTokenMock",261],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","accessTokenMock",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","expects",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","once",262],"(",")",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","method",262],"(",["T_CONSTANT_ENCAPSED_STRING","'getToken'",262],")",["T_OBJECT_OPERATOR","->",262],["T_STRING","willReturn",262],"(",["T_VARIABLE","$tokenString",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","accessTokenMock",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","expects",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","once",263],"(",")",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","method",263],"(",["T_CONSTANT_ENCAPSED_STRING","'getSecret'",263],")",["T_OBJECT_OPERATOR","->",263],["T_STRING","willReturn",263],"(",["T_VARIABLE","$secret",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$response",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","tokenProvider",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getAccessToken",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","consumerMock",265],")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertArrayHasKey",266],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$response",266],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertArrayHasKey",267],"(",["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$response",267],")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertEquals",268],"(",["T_VARIABLE","$tokenString",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$response",268],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token'",268],"]",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertEquals",269],"(",["T_VARIABLE","$secret",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$response",269],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_token_secret'",269],"]",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Cannot get access token because consumer token is not a request token\n     *\/",272],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","testGetAccessTokenIsNotRequestToken",276],"(",")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$consumerId",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$tokenId",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_LNUMBER","1",279],";",["T_WHITESPACE","\n\n        ",279],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","consumerMock",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","expects",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","once",281],"(",")",")",["T_OBJECT_OPERATOR","->",281],["T_STRING","method",281],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",281],")",["T_OBJECT_OPERATOR","->",281],["T_STRING","willReturn",281],"(",["T_VARIABLE","$consumerId",281],")",";",["T_WHITESPACE","\n\n        ",281],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","requestTokenMock",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","expects",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","once",283],"(",")",")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","method",284],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByConsumerIdAndUserType'",284],")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","with",285],"(",["T_VARIABLE","$consumerId",285],",",["T_WHITESPACE"," ",285],["T_STRING","UserContextInterface",285],["T_DOUBLE_COLON","::",285],["T_STRING","USER_TYPE_INTEGRATION",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","tokenFactoryMock",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","expects",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","once",286],"(",")",")",["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",286],")",["T_OBJECT_OPERATOR","->",286],["T_STRING","willReturn",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","requestTokenMock",286],")",";",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","requestTokenMock",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","expects",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","once",288],"(",")",")",["T_OBJECT_OPERATOR","->",288],["T_STRING","method",288],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",288],")",["T_OBJECT_OPERATOR","->",288],["T_STRING","willReturn",288],"(",["T_VARIABLE","$tokenId",288],")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","requestTokenMock",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","expects",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","once",289],"(",")",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","method",289],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","willReturn",289],"(",["T_CONSTANT_ENCAPSED_STRING","'isNotRequestToken'",289],")",";",["T_WHITESPACE","\n\n        ",289],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","tokenProvider",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getAccessToken",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","consumerMock",291],")",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","testValidateRequestToken",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$requestTokenString",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",296],";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$oauthVerifier",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",297],";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$consumerId",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_LNUMBER","1",298],";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$tokenId",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_LNUMBER","1",299],";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$secret",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'secret'",300],";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","requestTokenMock",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","expects",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","once",302],"(",")",")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","method",303],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",303],")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","with",304],"(",["T_VARIABLE","$requestTokenString",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'token'",304],")",["T_WHITESPACE","\n            ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","willReturnSelf",305],"(",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","tokenFactoryMock",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","expects",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","once",306],"(",")",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","method",306],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",306],")",["T_OBJECT_OPERATOR","->",306],["T_STRING","willReturn",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","requestTokenMock",306],")",";",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","requestTokenMock",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","expects",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","any",307],"(",")",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","method",307],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",307],")",["T_OBJECT_OPERATOR","->",307],["T_STRING","willReturn",307],"(",["T_VARIABLE","$tokenId",307],")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","consumerMock",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","expects",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","any",309],"(",")",")",["T_OBJECT_OPERATOR","->",309],["T_STRING","method",309],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",309],")",["T_OBJECT_OPERATOR","->",309],["T_STRING","willReturn",309],"(",["T_VARIABLE","$consumerId",309],")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","requestTokenMock",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","expects",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","once",310],"(",")",")",["T_OBJECT_OPERATOR","->",310],["T_STRING","method",310],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",310],")",["T_OBJECT_OPERATOR","->",310],["T_STRING","willReturn",310],"(",["T_VARIABLE","$consumerId",310],")",";",["T_WHITESPACE","\n\n        ",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","requestTokenMock",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","expects",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","once",312],"(",")",")",["T_OBJECT_OPERATOR","->",312],["T_STRING","method",312],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",312],")",["T_OBJECT_OPERATOR","->",312],["T_STRING","willReturn",312],"(",["T_STRING","Token",312],["T_DOUBLE_COLON","::",312],["T_STRING","TYPE_REQUEST",312],")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","requestTokenMock",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","expects",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","once",313],"(",")",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","method",313],"(",["T_CONSTANT_ENCAPSED_STRING","'getSecret'",313],")",["T_OBJECT_OPERATOR","->",313],["T_STRING","willReturn",313],"(",["T_VARIABLE","$secret",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","requestTokenMock",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","expects",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","once",314],"(",")",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","method",314],"(",["T_CONSTANT_ENCAPSED_STRING","'getVerifier'",314],")",["T_OBJECT_OPERATOR","->",314],["T_STRING","willReturn",314],"(",["T_VARIABLE","$oauthVerifier",314],")",";",["T_WHITESPACE","\n\n        ",314],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertEquals",316],"(",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$secret",317],",",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","tokenProvider",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","validateRequestToken",318],"(",["T_VARIABLE","$requestTokenString",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","consumerMock",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$oauthVerifier",318],")",["T_WHITESPACE","\n        ",318],")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Specified token does not exist\n     *\/",322],["T_WHITESPACE","\n    ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","testValidateRequestTokenNotExistentToken",326],"(",")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$requestTokenString",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",328],";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$oauthVerifier",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",329],";",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","requestTokenMock",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","expects",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","once",331],"(",")",")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","method",332],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",332],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","with",333],"(",["T_VARIABLE","$requestTokenString",333],",",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'token'",333],")",["T_WHITESPACE","\n            ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","willReturnSelf",334],"(",")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","tokenFactoryMock",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","expects",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","once",335],"(",")",")",["T_OBJECT_OPERATOR","->",335],["T_STRING","method",335],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","willReturn",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","requestTokenMock",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","requestTokenMock",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","expects",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","any",336],"(",")",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","method",336],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",336],")",["T_OBJECT_OPERATOR","->",336],["T_STRING","willReturn",336],"(",["T_LNUMBER","0",336],")",";",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","tokenProvider",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","validateRequestToken",338],"(",["T_VARIABLE","$requestTokenString",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","consumerMock",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$oauthVerifier",338],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Token is not the correct length\n     *\/",341],["T_WHITESPACE","\n    ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","testValidateRequestTokenIncorrectLengthToken",345],"(",")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$requestTokenString",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'123'",347],";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$oauthVerifier",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",348],";",["T_WHITESPACE","\n\n        ",348],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","tokenProvider",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","validateRequestToken",350],"(",["T_VARIABLE","$requestTokenString",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","consumerMock",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$oauthVerifier",350],")",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Verifier is invalid\n     *\/",353],["T_WHITESPACE","\n    ",356],["T_PUBLIC","public",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","testValidateRequestTokenInvalidVerifier",357],"(",")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$requestTokenString",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",359],";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$oauthVerifier",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_LNUMBER","1",360],";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$consumerId",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_LNUMBER","1",361],";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$tokenId",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_LNUMBER","1",362],";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","requestTokenMock",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","expects",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","once",364],"(",")",")",["T_WHITESPACE","\n            ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","method",365],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",365],")",["T_WHITESPACE","\n            ",365],["T_OBJECT_OPERATOR","->",366],["T_STRING","with",366],"(",["T_VARIABLE","$requestTokenString",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'token'",366],")",["T_WHITESPACE","\n            ",366],["T_OBJECT_OPERATOR","->",367],["T_STRING","willReturnSelf",367],"(",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","tokenFactoryMock",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","expects",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","once",368],"(",")",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","method",368],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",368],")",["T_OBJECT_OPERATOR","->",368],["T_STRING","willReturn",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","requestTokenMock",368],")",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","requestTokenMock",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","expects",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","any",369],"(",")",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","method",369],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",369],")",["T_OBJECT_OPERATOR","->",369],["T_STRING","willReturn",369],"(",["T_VARIABLE","$tokenId",369],")",";",["T_WHITESPACE","\n\n        ",369],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","consumerMock",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","expects",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","any",371],"(",")",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","method",371],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",371],")",["T_OBJECT_OPERATOR","->",371],["T_STRING","willReturn",371],"(",["T_VARIABLE","$consumerId",371],")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","requestTokenMock",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","expects",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","once",372],"(",")",")",["T_OBJECT_OPERATOR","->",372],["T_STRING","method",372],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",372],")",["T_OBJECT_OPERATOR","->",372],["T_STRING","willReturn",372],"(",["T_VARIABLE","$consumerId",372],")",";",["T_WHITESPACE","\n\n        ",372],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","requestTokenMock",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","expects",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","once",374],"(",")",")",["T_OBJECT_OPERATOR","->",374],["T_STRING","method",374],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",374],")",["T_OBJECT_OPERATOR","->",374],["T_STRING","willReturn",374],"(",["T_STRING","Token",374],["T_DOUBLE_COLON","::",374],["T_STRING","TYPE_REQUEST",374],")",";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","requestTokenMock",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","expects",375],"(",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","once",375],"(",")",")",["T_OBJECT_OPERATOR","->",375],["T_STRING","method",375],"(",["T_CONSTANT_ENCAPSED_STRING","'getVerifier'",375],")",["T_OBJECT_OPERATOR","->",375],["T_STRING","willReturn",375],"(",["T_VARIABLE","$oauthVerifier",375],")",";",["T_WHITESPACE","\n\n        ",375],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","tokenProvider",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","validateRequestToken",377],"(",["T_VARIABLE","$requestTokenString",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","consumerMock",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$oauthVerifier",377],")",";",["T_WHITESPACE","\n    ",377],"}",["T_WHITESPACE","\n\n    ",378],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Verifier is not the correct length\n     *\/",380],["T_WHITESPACE","\n    ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","testValidateRequestTokenIncorrectLengthVerifier",384],"(",")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$requestTokenString",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",386],";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$oauthVerifier",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'123'",387],";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$consumerId",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_LNUMBER","1",388],";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$tokenId",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_LNUMBER","1",389],";",["T_WHITESPACE","\n\n        ",389],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","requestTokenMock",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","expects",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","once",391],"(",")",")",["T_WHITESPACE","\n            ",391],["T_OBJECT_OPERATOR","->",392],["T_STRING","method",392],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",392],")",["T_WHITESPACE","\n            ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","with",393],"(",["T_VARIABLE","$requestTokenString",393],",",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'token'",393],")",["T_WHITESPACE","\n            ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","willReturnSelf",394],"(",")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","tokenFactoryMock",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","expects",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","once",395],"(",")",")",["T_OBJECT_OPERATOR","->",395],["T_STRING","method",395],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",395],")",["T_OBJECT_OPERATOR","->",395],["T_STRING","willReturn",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","requestTokenMock",395],")",";",["T_WHITESPACE","\n        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","requestTokenMock",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","expects",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","any",396],"(",")",")",["T_OBJECT_OPERATOR","->",396],["T_STRING","method",396],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",396],")",["T_OBJECT_OPERATOR","->",396],["T_STRING","willReturn",396],"(",["T_VARIABLE","$tokenId",396],")",";",["T_WHITESPACE","\n\n        ",396],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","consumerMock",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","expects",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","any",398],"(",")",")",["T_OBJECT_OPERATOR","->",398],["T_STRING","method",398],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",398],")",["T_OBJECT_OPERATOR","->",398],["T_STRING","willReturn",398],"(",["T_VARIABLE","$consumerId",398],")",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","requestTokenMock",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","expects",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","once",399],"(",")",")",["T_OBJECT_OPERATOR","->",399],["T_STRING","method",399],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",399],")",["T_OBJECT_OPERATOR","->",399],["T_STRING","willReturn",399],"(",["T_VARIABLE","$consumerId",399],")",";",["T_WHITESPACE","\n\n        ",399],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","requestTokenMock",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","expects",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","once",401],"(",")",")",["T_OBJECT_OPERATOR","->",401],["T_STRING","method",401],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",401],")",["T_OBJECT_OPERATOR","->",401],["T_STRING","willReturn",401],"(",["T_STRING","Token",401],["T_DOUBLE_COLON","::",401],["T_STRING","TYPE_REQUEST",401],")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","requestTokenMock",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","expects",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","once",402],"(",")",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","method",402],"(",["T_CONSTANT_ENCAPSED_STRING","'getVerifier'",402],")",["T_OBJECT_OPERATOR","->",402],["T_STRING","willReturn",402],"(",["T_VARIABLE","$oauthVerifier",402],")",";",["T_WHITESPACE","\n\n        ",402],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","tokenProvider",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","validateRequestToken",404],"(",["T_VARIABLE","$requestTokenString",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","consumerMock",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$oauthVerifier",404],")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Token verifier and verifier token do not match\n     *\/",407],["T_WHITESPACE","\n    ",410],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","testValidateRequestTokenNotMatchedVerifier",411],"(",")",["T_WHITESPACE","\n    ",411],"{",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$requestTokenString",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",413],";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$oauthVerifier",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",414],";",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$notMatchedVerifier",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'123'",415],";",["T_WHITESPACE","\n        ",415],["T_VARIABLE","$consumerId",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_LNUMBER","1",416],";",["T_WHITESPACE","\n        ",416],["T_VARIABLE","$tokenId",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_LNUMBER","1",417],";",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","requestTokenMock",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","expects",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","once",419],"(",")",")",["T_WHITESPACE","\n            ",419],["T_OBJECT_OPERATOR","->",420],["T_STRING","method",420],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",420],")",["T_WHITESPACE","\n            ",420],["T_OBJECT_OPERATOR","->",421],["T_STRING","with",421],"(",["T_VARIABLE","$requestTokenString",421],",",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'token'",421],")",["T_WHITESPACE","\n            ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","willReturnSelf",422],"(",")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","tokenFactoryMock",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","expects",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","once",423],"(",")",")",["T_OBJECT_OPERATOR","->",423],["T_STRING","method",423],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",423],")",["T_OBJECT_OPERATOR","->",423],["T_STRING","willReturn",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","requestTokenMock",423],")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","requestTokenMock",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","expects",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","any",424],"(",")",")",["T_OBJECT_OPERATOR","->",424],["T_STRING","method",424],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",424],")",["T_OBJECT_OPERATOR","->",424],["T_STRING","willReturn",424],"(",["T_VARIABLE","$tokenId",424],")",";",["T_WHITESPACE","\n\n        ",424],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","consumerMock",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","expects",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","any",426],"(",")",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","method",426],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",426],")",["T_OBJECT_OPERATOR","->",426],["T_STRING","willReturn",426],"(",["T_VARIABLE","$consumerId",426],")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","requestTokenMock",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","expects",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","once",427],"(",")",")",["T_OBJECT_OPERATOR","->",427],["T_STRING","method",427],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",427],")",["T_OBJECT_OPERATOR","->",427],["T_STRING","willReturn",427],"(",["T_VARIABLE","$consumerId",427],")",";",["T_WHITESPACE","\n\n        ",427],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","requestTokenMock",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","expects",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","once",429],"(",")",")",["T_OBJECT_OPERATOR","->",429],["T_STRING","method",429],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",429],")",["T_OBJECT_OPERATOR","->",429],["T_STRING","willReturn",429],"(",["T_STRING","Token",429],["T_DOUBLE_COLON","::",429],["T_STRING","TYPE_REQUEST",429],")",";",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","requestTokenMock",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","expects",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","once",430],"(",")",")",["T_OBJECT_OPERATOR","->",430],["T_STRING","method",430],"(",["T_CONSTANT_ENCAPSED_STRING","'getVerifier'",430],")",["T_OBJECT_OPERATOR","->",430],["T_STRING","willReturn",430],"(",["T_VARIABLE","$notMatchedVerifier",430],")",";",["T_WHITESPACE","\n\n        ",430],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","tokenProvider",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","validateRequestToken",432],"(",["T_VARIABLE","$requestTokenString",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","consumerMock",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$oauthVerifier",432],")",";",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n\n    ",433],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Request token is not associated with the specified consumer\n     *\/",435],["T_WHITESPACE","\n    ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","testValidateRequestTokenNotAssociatedToken",439],"(",")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$requestTokenString",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",441],";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$oauthVerifier",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",442],";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$consumerId",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_LNUMBER","1",443],";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$notCustomerId",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_LNUMBER","2",444],";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$tokenId",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_LNUMBER","1",445],";",["T_WHITESPACE","\n\n        ",445],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","requestTokenMock",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","expects",447],"(",["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","once",447],"(",")",")",["T_WHITESPACE","\n            ",447],["T_OBJECT_OPERATOR","->",448],["T_STRING","method",448],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",448],")",["T_WHITESPACE","\n            ",448],["T_OBJECT_OPERATOR","->",449],["T_STRING","with",449],"(",["T_VARIABLE","$requestTokenString",449],",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'token'",449],")",["T_WHITESPACE","\n            ",449],["T_OBJECT_OPERATOR","->",450],["T_STRING","willReturnSelf",450],"(",")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","tokenFactoryMock",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","expects",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","once",451],"(",")",")",["T_OBJECT_OPERATOR","->",451],["T_STRING","method",451],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",451],")",["T_OBJECT_OPERATOR","->",451],["T_STRING","willReturn",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","requestTokenMock",451],")",";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","requestTokenMock",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","expects",452],"(",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","any",452],"(",")",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","method",452],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",452],")",["T_OBJECT_OPERATOR","->",452],["T_STRING","willReturn",452],"(",["T_VARIABLE","$tokenId",452],")",";",["T_WHITESPACE","\n\n        ",452],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","consumerMock",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","expects",454],"(",["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","any",454],"(",")",")",["T_OBJECT_OPERATOR","->",454],["T_STRING","method",454],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",454],")",["T_OBJECT_OPERATOR","->",454],["T_STRING","willReturn",454],"(",["T_VARIABLE","$consumerId",454],")",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","requestTokenMock",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","expects",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","once",455],"(",")",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","method",455],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",455],")",["T_OBJECT_OPERATOR","->",455],["T_STRING","willReturn",455],"(",["T_VARIABLE","$notCustomerId",455],")",";",["T_WHITESPACE","\n\n        ",455],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","tokenProvider",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","validateRequestToken",457],"(",["T_VARIABLE","$requestTokenString",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","consumerMock",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$oauthVerifier",457],")",";",["T_WHITESPACE","\n    ",457],"}",["T_WHITESPACE","\n\n    ",458],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Token is already being used\n     *\/",460],["T_WHITESPACE","\n    ",463],["T_PUBLIC","public",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","testValidateRequestTokenAlreadyUsedToken",464],"(",")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$requestTokenString",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",466],";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$oauthVerifier",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",467],";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$consumerId",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_LNUMBER","1",468],";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$tokenId",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_LNUMBER","1",469],";",["T_WHITESPACE","\n\n        ",469],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","requestTokenMock",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","expects",471],"(",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","once",471],"(",")",")",["T_WHITESPACE","\n            ",471],["T_OBJECT_OPERATOR","->",472],["T_STRING","method",472],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",472],")",["T_WHITESPACE","\n            ",472],["T_OBJECT_OPERATOR","->",473],["T_STRING","with",473],"(",["T_VARIABLE","$requestTokenString",473],",",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'token'",473],")",["T_WHITESPACE","\n            ",473],["T_OBJECT_OPERATOR","->",474],["T_STRING","willReturnSelf",474],"(",")",";",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","tokenFactoryMock",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","expects",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","once",475],"(",")",")",["T_OBJECT_OPERATOR","->",475],["T_STRING","method",475],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",475],")",["T_OBJECT_OPERATOR","->",475],["T_STRING","willReturn",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","requestTokenMock",475],")",";",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","requestTokenMock",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","expects",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","any",476],"(",")",")",["T_OBJECT_OPERATOR","->",476],["T_STRING","method",476],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",476],")",["T_OBJECT_OPERATOR","->",476],["T_STRING","willReturn",476],"(",["T_VARIABLE","$tokenId",476],")",";",["T_WHITESPACE","\n\n        ",476],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","consumerMock",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","expects",478],"(",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","any",478],"(",")",")",["T_OBJECT_OPERATOR","->",478],["T_STRING","method",478],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",478],")",["T_OBJECT_OPERATOR","->",478],["T_STRING","willReturn",478],"(",["T_VARIABLE","$consumerId",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","requestTokenMock",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","expects",479],"(",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","once",479],"(",")",")",["T_OBJECT_OPERATOR","->",479],["T_STRING","method",479],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",479],")",["T_OBJECT_OPERATOR","->",479],["T_STRING","willReturn",479],"(",["T_VARIABLE","$consumerId",479],")",";",["T_WHITESPACE","\n\n        ",479],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","requestTokenMock",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","expects",481],"(",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","once",481],"(",")",")",["T_OBJECT_OPERATOR","->",481],["T_STRING","method",481],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",481],")",["T_OBJECT_OPERATOR","->",481],["T_STRING","willReturn",481],"(",["T_CONSTANT_ENCAPSED_STRING","'alreadyUsedToken'",481],")",";",["T_WHITESPACE","\n\n        ",481],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","tokenProvider",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","validateRequestToken",483],"(",["T_VARIABLE","$requestTokenString",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","consumerMock",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$oauthVerifier",483],")",";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_PUBLIC","public",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","testValidateAccessTokenRequest",486],"(",")",["T_WHITESPACE","\n    ",486],"{",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$accessTokenString",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",488],";",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$tokenId",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_LNUMBER","1",489],";",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$consumerId",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_LNUMBER","1",490],";",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$secret",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'secret'",491],";",["T_WHITESPACE","\n\n        ",491],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","accessTokenMock",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","expects",493],"(",["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","once",493],"(",")",")",["T_WHITESPACE","\n            ",493],["T_OBJECT_OPERATOR","->",494],["T_STRING","method",494],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",494],")",["T_WHITESPACE","\n            ",494],["T_OBJECT_OPERATOR","->",495],["T_STRING","with",495],"(",["T_VARIABLE","$accessTokenString",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'token'",495],")",["T_WHITESPACE","\n            ",495],["T_OBJECT_OPERATOR","->",496],["T_STRING","willReturnSelf",496],"(",")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","tokenFactoryMock",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","expects",497],"(",["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","once",497],"(",")",")",["T_OBJECT_OPERATOR","->",497],["T_STRING","method",497],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",497],")",["T_OBJECT_OPERATOR","->",497],["T_STRING","willReturn",497],"(",["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","accessTokenMock",497],")",";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","accessTokenMock",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","expects",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","any",498],"(",")",")",["T_OBJECT_OPERATOR","->",498],["T_STRING","method",498],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",498],")",["T_OBJECT_OPERATOR","->",498],["T_STRING","willReturn",498],"(",["T_VARIABLE","$tokenId",498],")",";",["T_WHITESPACE","\n\n        ",498],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","consumerMock",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","expects",500],"(",["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","any",500],"(",")",")",["T_OBJECT_OPERATOR","->",500],["T_STRING","method",500],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",500],")",["T_OBJECT_OPERATOR","->",500],["T_STRING","willReturn",500],"(",["T_VARIABLE","$consumerId",500],")",";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","accessTokenMock",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","expects",501],"(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","once",501],"(",")",")",["T_OBJECT_OPERATOR","->",501],["T_STRING","method",501],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",501],")",["T_OBJECT_OPERATOR","->",501],["T_STRING","willReturn",501],"(",["T_VARIABLE","$consumerId",501],")",";",["T_WHITESPACE","\n\n        ",501],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","accessTokenMock",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","expects",503],"(",["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","once",503],"(",")",")",["T_OBJECT_OPERATOR","->",503],["T_STRING","method",503],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",503],")",["T_OBJECT_OPERATOR","->",503],["T_STRING","willReturn",503],"(",["T_STRING","Token",503],["T_DOUBLE_COLON","::",503],["T_STRING","TYPE_ACCESS",503],")",";",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","accessTokenMock",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","expects",504],"(",["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","once",504],"(",")",")",["T_OBJECT_OPERATOR","->",504],["T_STRING","method",504],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevoked'",504],")",["T_OBJECT_OPERATOR","->",504],["T_STRING","willReturn",504],"(",["T_LNUMBER","0",504],")",";",["T_WHITESPACE","\n\n        ",504],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","accessTokenMock",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","expects",506],"(",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","once",506],"(",")",")",["T_OBJECT_OPERATOR","->",506],["T_STRING","method",506],"(",["T_CONSTANT_ENCAPSED_STRING","'getSecret'",506],")",["T_OBJECT_OPERATOR","->",506],["T_STRING","willReturn",506],"(",["T_VARIABLE","$secret",506],")",";",["T_WHITESPACE","\n\n        ",506],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","assertEquals",508],"(",["T_WHITESPACE","\n            ",508],["T_VARIABLE","$secret",509],",",["T_WHITESPACE","\n            ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","tokenProvider",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","validateAccessTokenRequest",510],"(",["T_VARIABLE","$accessTokenString",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","consumerMock",510],")",["T_WHITESPACE","\n        ",510],")",";",["T_WHITESPACE","\n    ",511],"}",["T_WHITESPACE","\n\n    ",512],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Token is not associated with the specified consumer\n     *\/",514],["T_WHITESPACE","\n    ",517],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","testValidateAccessTokenRequestNotAssociatedToken",518],"(",")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$accessTokenString",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",520],";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$tokenId",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_LNUMBER","1",521],";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$consumerId",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_LNUMBER","1",522],";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$notCustomerId",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_LNUMBER","2",523],";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","accessTokenMock",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","expects",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","once",525],"(",")",")",["T_WHITESPACE","\n            ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","method",526],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",526],")",["T_WHITESPACE","\n            ",526],["T_OBJECT_OPERATOR","->",527],["T_STRING","with",527],"(",["T_VARIABLE","$accessTokenString",527],",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'token'",527],")",["T_WHITESPACE","\n            ",527],["T_OBJECT_OPERATOR","->",528],["T_STRING","willReturnSelf",528],"(",")",";",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","tokenFactoryMock",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","expects",529],"(",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","once",529],"(",")",")",["T_OBJECT_OPERATOR","->",529],["T_STRING","method",529],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",529],")",["T_OBJECT_OPERATOR","->",529],["T_STRING","willReturn",529],"(",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","accessTokenMock",529],")",";",["T_WHITESPACE","\n        ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","accessTokenMock",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","expects",530],"(",["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","any",530],"(",")",")",["T_OBJECT_OPERATOR","->",530],["T_STRING","method",530],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",530],")",["T_OBJECT_OPERATOR","->",530],["T_STRING","willReturn",530],"(",["T_VARIABLE","$tokenId",530],")",";",["T_WHITESPACE","\n\n        ",530],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","consumerMock",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","expects",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","any",532],"(",")",")",["T_OBJECT_OPERATOR","->",532],["T_STRING","method",532],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",532],")",["T_OBJECT_OPERATOR","->",532],["T_STRING","willReturn",532],"(",["T_VARIABLE","$consumerId",532],")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","accessTokenMock",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","expects",533],"(",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","once",533],"(",")",")",["T_OBJECT_OPERATOR","->",533],["T_STRING","method",533],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",533],")",["T_OBJECT_OPERATOR","->",533],["T_STRING","willReturn",533],"(",["T_VARIABLE","$notCustomerId",533],")",";",["T_WHITESPACE","\n\n        ",533],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","tokenProvider",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","validateAccessTokenRequest",535],"(",["T_VARIABLE","$accessTokenString",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","consumerMock",535],")",";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Token is not an access token\n     *\/",538],["T_WHITESPACE","\n    ",541],["T_PUBLIC","public",542],["T_WHITESPACE"," ",542],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","testValidateAccessTokenRequestNotAccessToken",542],"(",")",["T_WHITESPACE","\n    ",542],"{",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$accessTokenString",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",544],";",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$tokenId",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_LNUMBER","1",545],";",["T_WHITESPACE","\n        ",545],["T_VARIABLE","$consumerId",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_LNUMBER","1",546],";",["T_WHITESPACE","\n\n        ",546],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","accessTokenMock",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","expects",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","once",548],"(",")",")",["T_WHITESPACE","\n            ",548],["T_OBJECT_OPERATOR","->",549],["T_STRING","method",549],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",549],")",["T_WHITESPACE","\n            ",549],["T_OBJECT_OPERATOR","->",550],["T_STRING","with",550],"(",["T_VARIABLE","$accessTokenString",550],",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'token'",550],")",["T_WHITESPACE","\n            ",550],["T_OBJECT_OPERATOR","->",551],["T_STRING","willReturnSelf",551],"(",")",";",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","tokenFactoryMock",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","expects",552],"(",["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","once",552],"(",")",")",["T_OBJECT_OPERATOR","->",552],["T_STRING","method",552],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",552],")",["T_OBJECT_OPERATOR","->",552],["T_STRING","willReturn",552],"(",["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","accessTokenMock",552],")",";",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","accessTokenMock",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","expects",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","any",553],"(",")",")",["T_OBJECT_OPERATOR","->",553],["T_STRING","method",553],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",553],")",["T_OBJECT_OPERATOR","->",553],["T_STRING","willReturn",553],"(",["T_VARIABLE","$tokenId",553],")",";",["T_WHITESPACE","\n\n        ",553],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","consumerMock",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","expects",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","any",555],"(",")",")",["T_OBJECT_OPERATOR","->",555],["T_STRING","method",555],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",555],")",["T_OBJECT_OPERATOR","->",555],["T_STRING","willReturn",555],"(",["T_VARIABLE","$consumerId",555],")",";",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","accessTokenMock",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","expects",556],"(",["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","once",556],"(",")",")",["T_OBJECT_OPERATOR","->",556],["T_STRING","method",556],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",556],")",["T_OBJECT_OPERATOR","->",556],["T_STRING","willReturn",556],"(",["T_VARIABLE","$consumerId",556],")",";",["T_WHITESPACE","\n\n        ",556],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","accessTokenMock",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","expects",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","once",558],"(",")",")",["T_OBJECT_OPERATOR","->",558],["T_STRING","method",558],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",558],")",["T_OBJECT_OPERATOR","->",558],["T_STRING","willReturn",558],"(",["T_CONSTANT_ENCAPSED_STRING","'notAccessToken'",558],")",";",["T_WHITESPACE","\n\n        ",558],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","tokenProvider",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","validateAccessTokenRequest",560],"(",["T_VARIABLE","$accessTokenString",560],",",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","consumerMock",560],")",";",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Access token has been revoked\n     *\/",563],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","testValidateAccessTokenRequestRevokedToken",567],"(",")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$accessTokenString",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",569],";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$tokenId",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_LNUMBER","1",570],";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$consumerId",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_LNUMBER","1",571],";",["T_WHITESPACE","\n\n        ",571],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","accessTokenMock",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","expects",573],"(",["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","once",573],"(",")",")",["T_WHITESPACE","\n            ",573],["T_OBJECT_OPERATOR","->",574],["T_STRING","method",574],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",574],")",["T_WHITESPACE","\n            ",574],["T_OBJECT_OPERATOR","->",575],["T_STRING","with",575],"(",["T_VARIABLE","$accessTokenString",575],",",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'token'",575],")",["T_WHITESPACE","\n            ",575],["T_OBJECT_OPERATOR","->",576],["T_STRING","willReturnSelf",576],"(",")",";",["T_WHITESPACE","\n        ",576],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","tokenFactoryMock",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","expects",577],"(",["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","once",577],"(",")",")",["T_OBJECT_OPERATOR","->",577],["T_STRING","method",577],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",577],")",["T_OBJECT_OPERATOR","->",577],["T_STRING","willReturn",577],"(",["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","accessTokenMock",577],")",";",["T_WHITESPACE","\n        ",577],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","accessTokenMock",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","expects",578],"(",["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","any",578],"(",")",")",["T_OBJECT_OPERATOR","->",578],["T_STRING","method",578],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",578],")",["T_OBJECT_OPERATOR","->",578],["T_STRING","willReturn",578],"(",["T_VARIABLE","$tokenId",578],")",";",["T_WHITESPACE","\n\n        ",578],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","consumerMock",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","expects",580],"(",["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","any",580],"(",")",")",["T_OBJECT_OPERATOR","->",580],["T_STRING","method",580],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",580],")",["T_OBJECT_OPERATOR","->",580],["T_STRING","willReturn",580],"(",["T_VARIABLE","$consumerId",580],")",";",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","accessTokenMock",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","expects",581],"(",["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","once",581],"(",")",")",["T_OBJECT_OPERATOR","->",581],["T_STRING","method",581],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",581],")",["T_OBJECT_OPERATOR","->",581],["T_STRING","willReturn",581],"(",["T_VARIABLE","$consumerId",581],")",";",["T_WHITESPACE","\n\n        ",581],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","accessTokenMock",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","expects",583],"(",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","once",583],"(",")",")",["T_OBJECT_OPERATOR","->",583],["T_STRING","method",583],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",583],")",["T_OBJECT_OPERATOR","->",583],["T_STRING","willReturn",583],"(",["T_STRING","Token",583],["T_DOUBLE_COLON","::",583],["T_STRING","TYPE_ACCESS",583],")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","accessTokenMock",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","expects",584],"(",["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","once",584],"(",")",")",["T_OBJECT_OPERATOR","->",584],["T_STRING","method",584],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevoked'",584],")",["T_OBJECT_OPERATOR","->",584],["T_STRING","willReturn",584],"(",["T_LNUMBER","1",584],")",";",["T_WHITESPACE","\n\n        ",584],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","tokenProvider",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","validateAccessTokenRequest",586],"(",["T_VARIABLE","$accessTokenString",586],",",["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","consumerMock",586],")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_PUBLIC","public",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","testValidateAccessToken",589],"(",")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$accessTokenString",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",591],";",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$tokenId",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_LNUMBER","1",592],";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$consumerId",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_LNUMBER","1",593],";",["T_WHITESPACE","\n\n        ",593],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","accessTokenMock",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","expects",595],"(",["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","once",595],"(",")",")",["T_WHITESPACE","\n            ",595],["T_OBJECT_OPERATOR","->",596],["T_STRING","method",596],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",596],")",["T_WHITESPACE","\n            ",596],["T_OBJECT_OPERATOR","->",597],["T_STRING","with",597],"(",["T_VARIABLE","$accessTokenString",597],",",["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","'token'",597],")",["T_WHITESPACE","\n            ",597],["T_OBJECT_OPERATOR","->",598],["T_STRING","willReturnSelf",598],"(",")",";",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","tokenFactoryMock",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","expects",599],"(",["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","once",599],"(",")",")",["T_OBJECT_OPERATOR","->",599],["T_STRING","method",599],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",599],")",["T_OBJECT_OPERATOR","->",599],["T_STRING","willReturn",599],"(",["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","accessTokenMock",599],")",";",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","accessTokenMock",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","expects",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","any",600],"(",")",")",["T_OBJECT_OPERATOR","->",600],["T_STRING","method",600],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",600],")",["T_OBJECT_OPERATOR","->",600],["T_STRING","willReturn",600],"(",["T_VARIABLE","$tokenId",600],")",";",["T_WHITESPACE","\n\n        ",600],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","accessTokenMock",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","expects",602],"(",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","any",602],"(",")",")",["T_OBJECT_OPERATOR","->",602],["T_STRING","method",602],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",602],")",["T_OBJECT_OPERATOR","->",602],["T_STRING","willReturn",602],"(",["T_VARIABLE","$consumerId",602],")",";",["T_WHITESPACE","\n\n        ",602],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","consumerFactoryMock",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","expects",604],"(",["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","any",604],"(",")",")",["T_OBJECT_OPERATOR","->",604],["T_STRING","method",604],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",604],")",["T_OBJECT_OPERATOR","->",604],["T_STRING","willReturn",604],"(",["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","consumerMock",604],")",";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","consumerMock",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","expects",605],"(",["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","any",605],"(",")",")",["T_OBJECT_OPERATOR","->",605],["T_STRING","method",605],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",605],")",["T_OBJECT_OPERATOR","->",605],["T_STRING","willReturnSelf",605],"(",")",";",["T_WHITESPACE","\n        ",605],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","consumerMock",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","expects",606],"(",["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","any",606],"(",")",")",["T_OBJECT_OPERATOR","->",606],["T_STRING","method",606],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",606],")",["T_OBJECT_OPERATOR","->",606],["T_STRING","willReturn",606],"(",["T_VARIABLE","$consumerId",606],")",";",["T_WHITESPACE","\n\n        ",606],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","accessTokenMock",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","expects",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","once",608],"(",")",")",["T_OBJECT_OPERATOR","->",608],["T_STRING","method",608],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",608],")",["T_OBJECT_OPERATOR","->",608],["T_STRING","willReturn",608],"(",["T_STRING","Token",608],["T_DOUBLE_COLON","::",608],["T_STRING","TYPE_ACCESS",608],")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","accessTokenMock",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","expects",609],"(",["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","once",609],"(",")",")",["T_OBJECT_OPERATOR","->",609],["T_STRING","method",609],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevoked'",609],")",["T_OBJECT_OPERATOR","->",609],["T_STRING","willReturn",609],"(",["T_LNUMBER","0",609],")",";",["T_WHITESPACE","\n        ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","assertEquals",610],"(",["T_WHITESPACE","\n            ",610],["T_VARIABLE","$consumerId",611],",",["T_WHITESPACE","\n            ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","tokenProvider",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","validateAccessToken",612],"(",["T_VARIABLE","$accessTokenString",612],")",["T_WHITESPACE","\n        ",612],")",";",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n\n    ",614],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage A consumer with the ID 1 does not exist\n     *\/",616],["T_WHITESPACE","\n    ",619],["T_PUBLIC","public",620],["T_WHITESPACE"," ",620],["T_FUNCTION","function",620],["T_WHITESPACE"," ",620],["T_STRING","testValidateAccessTokenNotExistentConsumer",620],"(",")",["T_WHITESPACE","\n    ",620],"{",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$accessTokenString",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",622],";",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$tokenId",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_LNUMBER","1",623],";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$consumerId",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_LNUMBER","1",624],";",["T_WHITESPACE","\n\n        ",624],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","accessTokenMock",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","expects",626],"(",["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","once",626],"(",")",")",["T_WHITESPACE","\n            ",626],["T_OBJECT_OPERATOR","->",627],["T_STRING","method",627],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",627],")",["T_WHITESPACE","\n            ",627],["T_OBJECT_OPERATOR","->",628],["T_STRING","with",628],"(",["T_VARIABLE","$accessTokenString",628],",",["T_WHITESPACE"," ",628],["T_CONSTANT_ENCAPSED_STRING","'token'",628],")",["T_WHITESPACE","\n            ",628],["T_OBJECT_OPERATOR","->",629],["T_STRING","willReturnSelf",629],"(",")",";",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","tokenFactoryMock",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","expects",630],"(",["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","once",630],"(",")",")",["T_OBJECT_OPERATOR","->",630],["T_STRING","method",630],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",630],")",["T_OBJECT_OPERATOR","->",630],["T_STRING","willReturn",630],"(",["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","accessTokenMock",630],")",";",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","accessTokenMock",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","expects",631],"(",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","any",631],"(",")",")",["T_OBJECT_OPERATOR","->",631],["T_STRING","method",631],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",631],")",["T_OBJECT_OPERATOR","->",631],["T_STRING","willReturn",631],"(",["T_VARIABLE","$tokenId",631],")",";",["T_WHITESPACE","\n\n        ",631],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","accessTokenMock",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","expects",633],"(",["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","any",633],"(",")",")",["T_OBJECT_OPERATOR","->",633],["T_STRING","method",633],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",633],")",["T_OBJECT_OPERATOR","->",633],["T_STRING","willReturn",633],"(",["T_VARIABLE","$consumerId",633],")",";",["T_WHITESPACE","\n\n        ",633],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","consumerFactoryMock",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","expects",635],"(",["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","any",635],"(",")",")",["T_OBJECT_OPERATOR","->",635],["T_STRING","method",635],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",635],")",["T_OBJECT_OPERATOR","->",635],["T_STRING","willReturn",635],"(",["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","consumerMock",635],")",";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","consumerMock",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","expects",636],"(",["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","any",636],"(",")",")",["T_OBJECT_OPERATOR","->",636],["T_STRING","method",636],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",636],")",["T_OBJECT_OPERATOR","->",636],["T_STRING","willReturnSelf",636],"(",")",";",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","consumerMock",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","expects",637],"(",["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","any",637],"(",")",")",["T_OBJECT_OPERATOR","->",637],["T_STRING","method",637],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",637],")",["T_OBJECT_OPERATOR","->",637],["T_STRING","willReturn",637],"(",["T_LNUMBER","0",637],")",";",["T_WHITESPACE","\n\n        ",637],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","tokenProvider",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","validateAccessToken",639],"(",["T_VARIABLE","$accessTokenString",639],")",";",["T_WHITESPACE","\n    ",639],"}",["T_WHITESPACE","\n\n    ",640],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Token is not an access token\n     *\/",642],["T_WHITESPACE","\n    ",645],["T_PUBLIC","public",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","testValidateAccessTokenNotAccessToken",646],"(",")",["T_WHITESPACE","\n    ",646],"{",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$accessTokenString",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",648],";",["T_WHITESPACE","\n        ",648],["T_VARIABLE","$tokenId",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_LNUMBER","1",649],";",["T_WHITESPACE","\n        ",649],["T_VARIABLE","$consumerId",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_LNUMBER","1",650],";",["T_WHITESPACE","\n\n        ",650],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","accessTokenMock",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","expects",652],"(",["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","once",652],"(",")",")",["T_WHITESPACE","\n            ",652],["T_OBJECT_OPERATOR","->",653],["T_STRING","method",653],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",653],")",["T_WHITESPACE","\n            ",653],["T_OBJECT_OPERATOR","->",654],["T_STRING","with",654],"(",["T_VARIABLE","$accessTokenString",654],",",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'token'",654],")",["T_WHITESPACE","\n            ",654],["T_OBJECT_OPERATOR","->",655],["T_STRING","willReturnSelf",655],"(",")",";",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","tokenFactoryMock",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","expects",656],"(",["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","once",656],"(",")",")",["T_OBJECT_OPERATOR","->",656],["T_STRING","method",656],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",656],")",["T_OBJECT_OPERATOR","->",656],["T_STRING","willReturn",656],"(",["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","accessTokenMock",656],")",";",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","accessTokenMock",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","expects",657],"(",["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","any",657],"(",")",")",["T_OBJECT_OPERATOR","->",657],["T_STRING","method",657],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",657],")",["T_OBJECT_OPERATOR","->",657],["T_STRING","willReturn",657],"(",["T_VARIABLE","$tokenId",657],")",";",["T_WHITESPACE","\n\n        ",657],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","accessTokenMock",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","expects",659],"(",["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","any",659],"(",")",")",["T_OBJECT_OPERATOR","->",659],["T_STRING","method",659],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",659],")",["T_OBJECT_OPERATOR","->",659],["T_STRING","willReturn",659],"(",["T_VARIABLE","$consumerId",659],")",";",["T_WHITESPACE","\n\n        ",659],["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","consumerFactoryMock",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","expects",661],"(",["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","any",661],"(",")",")",["T_OBJECT_OPERATOR","->",661],["T_STRING","method",661],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",661],")",["T_OBJECT_OPERATOR","->",661],["T_STRING","willReturn",661],"(",["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","consumerMock",661],")",";",["T_WHITESPACE","\n        ",661],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","consumerMock",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","expects",662],"(",["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","any",662],"(",")",")",["T_OBJECT_OPERATOR","->",662],["T_STRING","method",662],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",662],")",["T_OBJECT_OPERATOR","->",662],["T_STRING","willReturnSelf",662],"(",")",";",["T_WHITESPACE","\n        ",662],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","consumerMock",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","expects",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","any",663],"(",")",")",["T_OBJECT_OPERATOR","->",663],["T_STRING","method",663],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",663],")",["T_OBJECT_OPERATOR","->",663],["T_STRING","willReturn",663],"(",["T_VARIABLE","$consumerId",663],")",";",["T_WHITESPACE","\n\n        ",663],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","accessTokenMock",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","expects",665],"(",["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","once",665],"(",")",")",["T_OBJECT_OPERATOR","->",665],["T_STRING","method",665],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",665],")",["T_OBJECT_OPERATOR","->",665],["T_STRING","willReturn",665],"(",["T_CONSTANT_ENCAPSED_STRING","'notAccessToken'",665],")",";",["T_WHITESPACE","\n        ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","tokenProvider",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","validateAccessToken",666],"(",["T_VARIABLE","$accessTokenString",666],")",";",["T_WHITESPACE","\n    ",666],"}",["T_WHITESPACE","\n\n    ",667],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Access token has been revoked\n     *\/",669],["T_WHITESPACE","\n    ",672],["T_PUBLIC","public",673],["T_WHITESPACE"," ",673],["T_FUNCTION","function",673],["T_WHITESPACE"," ",673],["T_STRING","testValidateAccessTokenRevoked",673],"(",")",["T_WHITESPACE","\n    ",673],"{",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$accessTokenString",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",675],";",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$tokenId",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_LNUMBER","1",676],";",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$consumerId",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_LNUMBER","1",677],";",["T_WHITESPACE","\n\n        ",677],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","accessTokenMock",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","expects",679],"(",["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","once",679],"(",")",")",["T_WHITESPACE","\n            ",679],["T_OBJECT_OPERATOR","->",680],["T_STRING","method",680],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",680],")",["T_WHITESPACE","\n            ",680],["T_OBJECT_OPERATOR","->",681],["T_STRING","with",681],"(",["T_VARIABLE","$accessTokenString",681],",",["T_WHITESPACE"," ",681],["T_CONSTANT_ENCAPSED_STRING","'token'",681],")",["T_WHITESPACE","\n            ",681],["T_OBJECT_OPERATOR","->",682],["T_STRING","willReturnSelf",682],"(",")",";",["T_WHITESPACE","\n        ",682],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","tokenFactoryMock",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","expects",683],"(",["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","once",683],"(",")",")",["T_OBJECT_OPERATOR","->",683],["T_STRING","method",683],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",683],")",["T_OBJECT_OPERATOR","->",683],["T_STRING","willReturn",683],"(",["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","accessTokenMock",683],")",";",["T_WHITESPACE","\n        ",683],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","accessTokenMock",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","expects",684],"(",["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","any",684],"(",")",")",["T_OBJECT_OPERATOR","->",684],["T_STRING","method",684],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",684],")",["T_OBJECT_OPERATOR","->",684],["T_STRING","willReturn",684],"(",["T_VARIABLE","$tokenId",684],")",";",["T_WHITESPACE","\n\n        ",684],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","accessTokenMock",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","expects",686],"(",["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","any",686],"(",")",")",["T_OBJECT_OPERATOR","->",686],["T_STRING","method",686],"(",["T_CONSTANT_ENCAPSED_STRING","'getConsumerId'",686],")",["T_OBJECT_OPERATOR","->",686],["T_STRING","willReturn",686],"(",["T_VARIABLE","$consumerId",686],")",";",["T_WHITESPACE","\n\n        ",686],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","consumerFactoryMock",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","expects",688],"(",["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","any",688],"(",")",")",["T_OBJECT_OPERATOR","->",688],["T_STRING","method",688],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",688],")",["T_OBJECT_OPERATOR","->",688],["T_STRING","willReturn",688],"(",["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","consumerMock",688],")",";",["T_WHITESPACE","\n        ",688],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","consumerMock",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","expects",689],"(",["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","any",689],"(",")",")",["T_OBJECT_OPERATOR","->",689],["T_STRING","method",689],"(",["T_CONSTANT_ENCAPSED_STRING","'load'",689],")",["T_OBJECT_OPERATOR","->",689],["T_STRING","willReturnSelf",689],"(",")",";",["T_WHITESPACE","\n        ",689],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","consumerMock",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","expects",690],"(",["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","any",690],"(",")",")",["T_OBJECT_OPERATOR","->",690],["T_STRING","method",690],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",690],")",["T_OBJECT_OPERATOR","->",690],["T_STRING","willReturn",690],"(",["T_VARIABLE","$consumerId",690],")",";",["T_WHITESPACE","\n\n        ",690],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","accessTokenMock",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","expects",692],"(",["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","once",692],"(",")",")",["T_OBJECT_OPERATOR","->",692],["T_STRING","method",692],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",692],")",["T_OBJECT_OPERATOR","->",692],["T_STRING","willReturn",692],"(",["T_STRING","Token",692],["T_DOUBLE_COLON","::",692],["T_STRING","TYPE_ACCESS",692],")",";",["T_WHITESPACE","\n        ",692],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","accessTokenMock",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","expects",693],"(",["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","once",693],"(",")",")",["T_OBJECT_OPERATOR","->",693],["T_STRING","method",693],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevoked'",693],")",["T_OBJECT_OPERATOR","->",693],["T_STRING","willReturn",693],"(",["T_LNUMBER","1",693],")",";",["T_WHITESPACE","\n\n        ",693],["T_VARIABLE","$this",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","tokenProvider",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","validateAccessToken",695],"(",["T_VARIABLE","$accessTokenString",695],")",";",["T_WHITESPACE","\n    ",695],"}",["T_WHITESPACE","\n\n    ",696],["T_PUBLIC","public",698],["T_WHITESPACE"," ",698],["T_FUNCTION","function",698],["T_WHITESPACE"," ",698],["T_STRING","testValidateOauthToken",698],"(",")",["T_WHITESPACE","\n    ",698],"{",["T_WHITESPACE","\n        ",699],["T_VARIABLE","$tokenString",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",700],";",["T_WHITESPACE","\n        ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","assertTrue",701],"(",["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","tokenProvider",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","validateOauthToken",701],"(",["T_VARIABLE","$tokenString",701],")",")",";",["T_WHITESPACE","\n    ",701],"}",["T_WHITESPACE","\n\n    ",702],["T_PUBLIC","public",704],["T_WHITESPACE"," ",704],["T_FUNCTION","function",704],["T_WHITESPACE"," ",704],["T_STRING","testGetConsumerByKey",704],"(",")",["T_WHITESPACE","\n    ",704],"{",["T_WHITESPACE","\n        ",705],["T_VARIABLE","$consumerKeyString",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",706],";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$consumerId",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_LNUMBER","1",707],";",["T_WHITESPACE","\n\n        ",707],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","consumerFactoryMock",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","expects",709],"(",["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","once",709],"(",")",")",["T_OBJECT_OPERATOR","->",709],["T_STRING","method",709],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",709],")",["T_OBJECT_OPERATOR","->",709],["T_STRING","willReturn",709],"(",["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","consumerMock",709],")",";",["T_WHITESPACE","\n        ",709],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","consumerMock",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","expects",710],"(",["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","once",710],"(",")",")",["T_OBJECT_OPERATOR","->",710],["T_STRING","method",710],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByKey'",710],")",["T_OBJECT_OPERATOR","->",710],["T_STRING","with",710],"(",["T_VARIABLE","$consumerKeyString",710],")",["T_OBJECT_OPERATOR","->",710],["T_STRING","willReturnSelf",710],"(",")",";",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","consumerMock",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","expects",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","once",711],"(",")",")",["T_OBJECT_OPERATOR","->",711],["T_STRING","method",711],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",711],")",["T_OBJECT_OPERATOR","->",711],["T_STRING","willReturn",711],"(",["T_VARIABLE","$consumerId",711],")",";",["T_WHITESPACE","\n\n        ",711],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","assertEquals",713],"(",["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","consumerMock",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","tokenProvider",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","getConsumerByKey",713],"(",["T_VARIABLE","$consumerKeyString",713],")",")",";",["T_WHITESPACE","\n    ",713],"}",["T_WHITESPACE","\n\n    ",714],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage Consumer key is not the correct length\n     *\/",716],["T_WHITESPACE","\n    ",719],["T_PUBLIC","public",720],["T_WHITESPACE"," ",720],["T_FUNCTION","function",720],["T_WHITESPACE"," ",720],["T_STRING","testGetConsumerByKeyWrongConsumerKey",720],"(",")",["T_WHITESPACE","\n    ",720],"{",["T_WHITESPACE","\n        ",721],["T_VARIABLE","$consumerKeyString",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'123'",722],";",["T_WHITESPACE","\n        ",722],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","tokenProvider",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","getConsumerByKey",723],"(",["T_VARIABLE","$consumerKeyString",723],")",";",["T_WHITESPACE","\n    ",723],"}",["T_WHITESPACE","\n\n    ",724],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Oauth\\Exception\n     * @expectedExceptionMessage A consumer having the specified key does not exist\n     *\/",726],["T_WHITESPACE","\n    ",729],["T_PUBLIC","public",730],["T_WHITESPACE"," ",730],["T_FUNCTION","function",730],["T_WHITESPACE"," ",730],["T_STRING","testGetConsumerByKeyNonExistentConsumer",730],"(",")",["T_WHITESPACE","\n    ",730],"{",["T_WHITESPACE","\n        ",731],["T_VARIABLE","$consumerKeyString",732],["T_WHITESPACE"," ",732],"=",["T_WHITESPACE"," ",732],["T_CONSTANT_ENCAPSED_STRING","'12345678901234567890123456789012'",732],";",["T_WHITESPACE","\n        ",732],["T_VARIABLE","$consumerId",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_STRING","null",733],";",["T_WHITESPACE","\n\n        ",733],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","consumerFactoryMock",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","expects",735],"(",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","once",735],"(",")",")",["T_OBJECT_OPERATOR","->",735],["T_STRING","method",735],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",735],")",["T_OBJECT_OPERATOR","->",735],["T_STRING","willReturn",735],"(",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","consumerMock",735],")",";",["T_WHITESPACE","\n        ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","consumerMock",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","expects",736],"(",["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","once",736],"(",")",")",["T_OBJECT_OPERATOR","->",736],["T_STRING","method",736],"(",["T_CONSTANT_ENCAPSED_STRING","'loadByKey'",736],")",["T_OBJECT_OPERATOR","->",736],["T_STRING","with",736],"(",["T_VARIABLE","$consumerKeyString",736],")",["T_OBJECT_OPERATOR","->",736],["T_STRING","willReturnSelf",736],"(",")",";",["T_WHITESPACE","\n        ",736],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","consumerMock",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","expects",737],"(",["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","once",737],"(",")",")",["T_OBJECT_OPERATOR","->",737],["T_STRING","method",737],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",737],")",["T_OBJECT_OPERATOR","->",737],["T_STRING","willReturn",737],"(",["T_VARIABLE","$consumerId",737],")",";",["T_WHITESPACE","\n\n        ",737],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","tokenProvider",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","getConsumerByKey",739],"(",["T_VARIABLE","$consumerKeyString",739],")",";",["T_WHITESPACE","\n    ",739],"}",["T_WHITESPACE","\n",740],"}",["T_WHITESPACE","\n",741]]