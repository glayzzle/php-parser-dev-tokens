[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SendFriend",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ObjectManager",8],["T_WHITESPACE"," ",8],["T_AS","as",8],["T_WHITESPACE"," ",8],["T_STRING","ObjectManagerHelper",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","SendmailTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/** @var \\Magento\\SendFriend\\Controller\\Product\\Sendmail *\/",15],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$model",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/** @var ObjectManagerHelper *\/",18],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$objectManagerHelper",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\RequestInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",21],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$requestMock",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Registry|\\PHPUnit_Framework_MockObject_MockObject *\/",24],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$registryMock",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form\\FormKey\\Validator|\\PHPUnit_Framework_MockObject_MockObject *\/",27],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$validatorMock",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/** @var \\Magento\\SendFriend\\Model\\SendFriend|\\PHPUnit_Framework_MockObject_MockObject *\/",30],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$sendFriendMock",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",33],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$productRepositoryMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\CategoryRepositoryInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",36],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$categoryRepositoryMock",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Session|\\PHPUnit_Framework_MockObject_MockObject *\/",39],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$catalogSessionMock",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Message\\ManagerInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",42],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$messageManagerMock",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\ResultFactory|\\PHPUnit_Framework_MockObject_MockObject *\/",45],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$resultFactoryMock",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Event\\ManagerInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",48],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$eventManagerMock",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Response\\RedirectInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",51],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$redirectMock",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\UrlInterface|\\PHPUnit_Framework_MockObject_MockObject *\/",54],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$urlBuilderMock",55],";",["T_WHITESPACE","\n\n    ",55],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","setUp",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","requestMock",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMockBuilder",59],"(",["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Framework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","App",59],["T_NS_SEPARATOR","\\",59],["T_STRING","RequestInterface",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","setMethods",60],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getPost'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'getParam'",60],"]",")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMockForAbstractClass",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","registryMock",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMockBuilder",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Framework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Registry",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","disableOriginalConstructor",63],"(",")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","validatorMock",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMockBuilder",65],"(",["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Framework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Data",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Form",65],["T_NS_SEPARATOR","\\",65],["T_STRING","FormKey",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Validator",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","disableOriginalConstructor",66],"(",")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMock",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","sendFriendMock",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockBuilder",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","SendFriend",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","SendFriend",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","disableOriginalConstructor",69],"(",")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMock",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","productRepositoryMock",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMockBuilder",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Catalog",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Api",71],["T_NS_SEPARATOR","\\",71],["T_STRING","ProductRepositoryInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMockForAbstractClass",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","categoryRepositoryMock",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMockBuilder",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Catalog",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Api",73],["T_NS_SEPARATOR","\\",73],["T_STRING","CategoryRepositoryInterface",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockForAbstractClass",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","catalogSessionMock",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMockBuilder",75],"(",["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Catalog",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Session",75],["T_DOUBLE_COLON","::",75],["T_CLASS","class",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","setMethods",76],"(","[",["T_CONSTANT_ENCAPSED_STRING","'getSendfriendFormData'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'setSendfriendFormData'",76],"]",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","disableOriginalConstructor",77],"(",")",["T_WHITESPACE","\n            ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMock",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","messageManagerMock",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMockBuilder",79],"(",["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Message",79],["T_NS_SEPARATOR","\\",79],["T_STRING","ManagerInterface",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","resultFactoryMock",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMockBuilder",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Controller",81],["T_NS_SEPARATOR","\\",81],["T_STRING","ResultFactory",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","disableOriginalConstructor",82],"(",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMock",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","eventManagerMock",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMockBuilder",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Framework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Event",84],["T_NS_SEPARATOR","\\",84],["T_STRING","ManagerInterface",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMock",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","redirectMock",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockBuilder",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","App",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Response",86],["T_NS_SEPARATOR","\\",86],["T_STRING","RedirectInterface",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",["T_WHITESPACE","\n            ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMock",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","urlBuilderMock",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMockBuilder",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","UrlInterface",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","objectManagerHelper",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","ObjectManagerHelper",91],"(",["T_VARIABLE","$this",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","model",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","objectManagerHelper",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getObject",92],"(",["T_WHITESPACE","\n            ",92],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","SendFriend",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Controller",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Product",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Sendmail",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],",",["T_WHITESPACE","\n            ",93],"[",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'request'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","requestMock",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'coreRegistry'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","registryMock",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'formKeyValidator'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","validatorMock",97],",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'sendFriend'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","sendFriendMock",98],",",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'productRepository'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","productRepositoryMock",99],",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'categoryRepository'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","categoryRepositoryMock",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'catalogSession'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","catalogSessionMock",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'messageManager'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","messageManagerMock",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'resultFactory'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","resultFactoryMock",103],",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'eventManager'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","eventManagerMock",104],",",["T_WHITESPACE","\n                ",104],["T_CONSTANT_ENCAPSED_STRING","'redirect'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","redirectMock",105],",",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'url'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","urlBuilderMock",106],",",["T_WHITESPACE","\n            ",106],"]",["T_WHITESPACE","\n        ",107],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",111],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testExecute",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$productId",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_LNUMBER","11",116],";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$categoryId",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_LNUMBER","5",117],";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$sender",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'sender'",118],";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$recipients",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'recipients'",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$formData",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","'sender'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$sender",121],",",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'recipients'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$recipients",122],",",["T_WHITESPACE","\n        ",122],"]",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$productUrl",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'product_url'",124],";",["T_WHITESPACE","\n\n        ",124],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",126],["T_WHITESPACE","\n        ",126],["T_VARIABLE","$redirectMock",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMockBuilder",127],"(",["T_NS_SEPARATOR","\\",127],["T_STRING","Magento",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Framework",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Controller",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Result",127],["T_NS_SEPARATOR","\\",127],["T_STRING","Redirect",127],["T_DOUBLE_COLON","::",127],["T_CLASS","class",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","disableOriginalConstructor",128],"(",")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","getMock",129],"(",")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","resultFactoryMock",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","once",131],"(",")",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",132],")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","with",133],"(",["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Controller",133],["T_NS_SEPARATOR","\\",133],["T_STRING","ResultFactory",133],["T_DOUBLE_COLON","::",133],["T_STRING","TYPE_REDIRECT",133],",",["T_WHITESPACE"," ",133],"[","]",")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","willReturn",134],"(",["T_VARIABLE","$redirectMock",134],")",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","validatorMock",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","expects",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","once",136],"(",")",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","method",137],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","with",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","requestMock",138],")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","willReturn",139],"(",["T_STRING","true",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","requestMock",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","exactly",141],"(",["T_LNUMBER","2",141],")",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",142],")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","willReturnMap",143],"(",["T_WHITESPACE","\n                ",143],"[",["T_WHITESPACE","\n                    ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",145],",",["T_WHITESPACE"," ",145],["T_STRING","null",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$productId",145],"]",",",["T_WHITESPACE","\n                    ",145],"[",["T_CONSTANT_ENCAPSED_STRING","'cat_id'",146],",",["T_WHITESPACE"," ",146],["T_STRING","null",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$categoryId",146],"]",",",["T_WHITESPACE","\n                ",146],"]",["T_WHITESPACE","\n            ",147],")",";",["T_WHITESPACE","\n\n        ",148],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductInterface|\\PHPUnit_Framework_MockObject_MockObject $productMock *\/",150],["T_WHITESPACE","\n        ",150],["T_VARIABLE","$productMock",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getMockBuilder",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Catalog",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Api",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Data",151],["T_NS_SEPARATOR","\\",151],["T_STRING","ProductInterface",151],["T_DOUBLE_COLON","::",151],["T_CLASS","class",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","setMethods",152],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'setCategory'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",152],"]",")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMockForAbstractClass",153],"(",")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","productRepositoryMock",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","expects",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","once",155],"(",")",")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","method",156],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",156],")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","with",157],"(",["T_VARIABLE","$productId",157],",",["T_WHITESPACE"," ",157],["T_STRING","false",157],",",["T_WHITESPACE"," ",157],["T_STRING","null",157],",",["T_WHITESPACE"," ",157],["T_STRING","false",157],")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","willReturn",158],"(",["T_VARIABLE","$productMock",158],")",";",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$productMock",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","expects",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","once",160],"(",")",")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","method",161],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",161],")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","willReturn",162],"(",["T_STRING","true",162],")",";",["T_WHITESPACE","\n\n        ",162],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\CategoryInterface|\\PHPUnit_Framework_MockObject_MockObject $categoryMock *\/",164],["T_WHITESPACE","\n        ",164],["T_VARIABLE","$categoryMock",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getMockBuilder",165],"(",["T_NS_SEPARATOR","\\",165],["T_STRING","Magento",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Catalog",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Api",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Data",165],["T_NS_SEPARATOR","\\",165],["T_STRING","CategoryInterface",165],["T_DOUBLE_COLON","::",165],["T_CLASS","class",165],")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","getMockForAbstractClass",166],"(",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","categoryRepositoryMock",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expects",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","once",168],"(",")",")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","method",169],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",169],")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","with",170],"(",["T_VARIABLE","$categoryId",170],",",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","willReturn",171],"(",["T_VARIABLE","$categoryMock",171],")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$productMock",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","expects",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","once",173],"(",")",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","method",174],"(",["T_CONSTANT_ENCAPSED_STRING","'setCategory'",174],")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","with",175],"(",["T_VARIABLE","$categoryMock",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","registryMock",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","expects",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","exactly",177],"(",["T_LNUMBER","2",177],")",")",["T_WHITESPACE","\n            ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","method",178],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",178],")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","willReturnMap",179],"(",["T_WHITESPACE","\n                ",179],"[",["T_WHITESPACE","\n                    ",180],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$productMock",181],",",["T_WHITESPACE"," ",181],["T_STRING","false",181],",",["T_WHITESPACE"," ",181],["T_STRING","null",181],"]",",",["T_WHITESPACE","\n                    ",181],"[",["T_CONSTANT_ENCAPSED_STRING","'current_category'",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$categoryMock",182],",",["T_WHITESPACE"," ",182],["T_STRING","false",182],",",["T_WHITESPACE"," ",182],["T_STRING","null",182],"]",",",["T_WHITESPACE","\n                ",182],"]",["T_WHITESPACE","\n            ",183],")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","requestMock",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","expects",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","once",186],"(",")",")",["T_WHITESPACE","\n            ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","method",187],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",187],")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","willReturn",188],"(",["T_VARIABLE","$formData",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","requestMock",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","exactly",190],"(",["T_LNUMBER","2",190],")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'getPost'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","willReturnMap",192],"(",["T_WHITESPACE","\n                ",192],"[",["T_WHITESPACE","\n                    ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'sender'",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$sender",194],"]",",",["T_WHITESPACE","\n                    ",194],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$recipients",195],"]",",",["T_WHITESPACE","\n                ",195],"]",["T_WHITESPACE","\n            ",196],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","sendFriendMock",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","once",199],"(",")",")",["T_WHITESPACE","\n            ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'setSender'",200],")",["T_WHITESPACE","\n            ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","with",201],"(",["T_VARIABLE","$sender",201],")",["T_WHITESPACE","\n            ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","willReturnSelf",202],"(",")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","sendFriendMock",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","expects",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","once",203],"(",")",")",["T_WHITESPACE","\n            ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","method",204],"(",["T_CONSTANT_ENCAPSED_STRING","'setRecipients'",204],")",["T_WHITESPACE","\n            ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","with",205],"(",["T_VARIABLE","$recipients",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","willReturnSelf",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","sendFriendMock",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","expects",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","once",207],"(",")",")",["T_WHITESPACE","\n            ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","method",208],"(",["T_CONSTANT_ENCAPSED_STRING","'setProduct'",208],")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","with",209],"(",["T_VARIABLE","$productMock",209],")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","willReturnSelf",210],"(",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","sendFriendMock",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","expects",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","once",211],"(",")",")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","method",212],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",212],")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","willReturn",213],"(",["T_STRING","true",213],")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","sendFriendMock",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","expects",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","once",214],"(",")",")",["T_WHITESPACE","\n            ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","method",215],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",215],")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","willReturnSelf",216],"(",")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","messageManagerMock",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'addSuccess'",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","with",220],"(",["T_STRING","__",220],"(",["T_CONSTANT_ENCAPSED_STRING","'The link to a friend was sent.'",220],")",")",["T_WHITESPACE","\n            ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","willReturnSelf",221],"(",")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$productMock",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","expects",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","once",223],"(",")",")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","method",224],"(",["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",224],")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","willReturn",225],"(",["T_VARIABLE","$productUrl",225],")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","redirectMock",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","expects",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","once",227],"(",")",")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","method",228],"(",["T_CONSTANT_ENCAPSED_STRING","'success'",228],")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","with",229],"(",["T_VARIABLE","$productUrl",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","willReturnArgument",230],"(",["T_LNUMBER","0",230],")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$redirectMock",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","expects",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","once",232],"(",")",")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","method",233],"(",["T_CONSTANT_ENCAPSED_STRING","'setUrl'",233],")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","with",234],"(",["T_VARIABLE","$productUrl",234],")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","willReturnSelf",235],"(",")",";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertEquals",237],"(",["T_VARIABLE","$redirectMock",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","model",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","execute",237],"(",")",")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",240],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","testExecuteWithoutValidationAndCategory",243],"(",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$productId",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_LNUMBER","11",245],";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$categoryId",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_LNUMBER","5",246],";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$sender",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'sender'",247],";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$recipients",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'recipients'",248],";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$formData",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],"[",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'sender'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$sender",250],",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'recipients'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$recipients",251],",",["T_WHITESPACE","\n        ",251],"]",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$redirectUrl",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'redirect_url'",253],";",["T_WHITESPACE","\n\n        ",253],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",255],["T_WHITESPACE","\n        ",255],["T_VARIABLE","$redirectMock",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getMockBuilder",256],"(",["T_NS_SEPARATOR","\\",256],["T_STRING","Magento",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Framework",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Controller",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Result",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Redirect",256],["T_DOUBLE_COLON","::",256],["T_CLASS","class",256],")",["T_WHITESPACE","\n            ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","disableOriginalConstructor",257],"(",")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","getMock",258],"(",")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","resultFactoryMock",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","expects",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","once",260],"(",")",")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","with",262],"(",["T_NS_SEPARATOR","\\",262],["T_STRING","Magento",262],["T_NS_SEPARATOR","\\",262],["T_STRING","Framework",262],["T_NS_SEPARATOR","\\",262],["T_STRING","Controller",262],["T_NS_SEPARATOR","\\",262],["T_STRING","ResultFactory",262],["T_DOUBLE_COLON","::",262],["T_STRING","TYPE_REDIRECT",262],",",["T_WHITESPACE"," ",262],"[","]",")",["T_WHITESPACE","\n            ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","willReturn",263],"(",["T_VARIABLE","$redirectMock",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","validatorMock",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","expects",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","once",265],"(",")",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","method",266],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",266],")",["T_WHITESPACE","\n            ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","with",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","requestMock",267],")",["T_WHITESPACE","\n            ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","willReturn",268],"(",["T_STRING","true",268],")",";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","requestMock",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","expects",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","exactly",270],"(",["T_LNUMBER","2",270],")",")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","method",271],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",271],")",["T_WHITESPACE","\n            ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","willReturnMap",272],"(",["T_WHITESPACE","\n                ",272],"[",["T_WHITESPACE","\n                    ",273],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",274],",",["T_WHITESPACE"," ",274],["T_STRING","null",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$productId",274],"]",",",["T_WHITESPACE","\n                    ",274],"[",["T_CONSTANT_ENCAPSED_STRING","'cat_id'",275],",",["T_WHITESPACE"," ",275],["T_STRING","null",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$categoryId",275],"]",",",["T_WHITESPACE","\n                ",275],"]",["T_WHITESPACE","\n            ",276],")",";",["T_WHITESPACE","\n\n        ",277],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductInterface|\\PHPUnit_Framework_MockObject_MockObject $productMock *\/",279],["T_WHITESPACE","\n        ",279],["T_VARIABLE","$productMock",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getMockBuilder",280],"(",["T_NS_SEPARATOR","\\",280],["T_STRING","Magento",280],["T_NS_SEPARATOR","\\",280],["T_STRING","Catalog",280],["T_NS_SEPARATOR","\\",280],["T_STRING","Api",280],["T_NS_SEPARATOR","\\",280],["T_STRING","Data",280],["T_NS_SEPARATOR","\\",280],["T_STRING","ProductInterface",280],["T_DOUBLE_COLON","::",280],["T_CLASS","class",280],")",["T_WHITESPACE","\n            ",280],["T_OBJECT_OPERATOR","->",281],["T_STRING","setMethods",281],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'setCategory'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",281],"]",")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","getMockForAbstractClass",282],"(",")",";",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","productRepositoryMock",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","expects",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","once",284],"(",")",")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","method",285],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",285],")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","with",286],"(",["T_VARIABLE","$productId",286],",",["T_WHITESPACE"," ",286],["T_STRING","false",286],",",["T_WHITESPACE"," ",286],["T_STRING","null",286],",",["T_WHITESPACE"," ",286],["T_STRING","false",286],")",["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","willReturn",287],"(",["T_VARIABLE","$productMock",287],")",";",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$productMock",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","expects",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","once",289],"(",")",")",["T_WHITESPACE","\n            ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","method",290],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",290],")",["T_WHITESPACE","\n            ",290],["T_OBJECT_OPERATOR","->",291],["T_STRING","willReturn",291],"(",["T_STRING","true",291],")",";",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","categoryRepositoryMock",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","expects",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","once",293],"(",")",")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","method",294],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",294],")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","with",295],"(",["T_VARIABLE","$categoryId",295],",",["T_WHITESPACE"," ",295],["T_STRING","null",295],")",["T_WHITESPACE","\n            ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","willThrowException",296],"(",["T_NEW","new",296],["T_WHITESPACE"," ",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Magento",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Framework",296],["T_NS_SEPARATOR","\\",296],["T_STRING","Exception",296],["T_NS_SEPARATOR","\\",296],["T_STRING","NoSuchEntityException",296],"(",["T_STRING","__",296],"(",["T_CONSTANT_ENCAPSED_STRING","'No Category Exception.'",296],")",")",")",";",["T_WHITESPACE","\n\n        ",296],["T_VARIABLE","$productMock",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","expects",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","never",298],"(",")",")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","method",299],"(",["T_CONSTANT_ENCAPSED_STRING","'setCategory'",299],")",";",["T_WHITESPACE","\n\n        ",299],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","registryMock",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","expects",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","once",301],"(",")",")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","method",302],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",302],")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","willReturnMap",303],"(",["T_WHITESPACE","\n                ",303],"[",["T_WHITESPACE","\n                    ",304],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$productMock",305],",",["T_WHITESPACE"," ",305],["T_STRING","false",305],",",["T_WHITESPACE"," ",305],["T_STRING","null",305],"]",",",["T_WHITESPACE","\n                ",305],"]",["T_WHITESPACE","\n            ",306],")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","requestMock",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","expects",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","once",309],"(",")",")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","method",310],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",310],")",["T_WHITESPACE","\n            ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","willReturn",311],"(",["T_VARIABLE","$formData",311],")",";",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","requestMock",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","expects",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","exactly",313],"(",["T_LNUMBER","2",313],")",")",["T_WHITESPACE","\n            ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","method",314],"(",["T_CONSTANT_ENCAPSED_STRING","'getPost'",314],")",["T_WHITESPACE","\n            ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","willReturnMap",315],"(",["T_WHITESPACE","\n                ",315],"[",["T_WHITESPACE","\n                    ",316],"[",["T_CONSTANT_ENCAPSED_STRING","'sender'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$sender",317],"]",",",["T_WHITESPACE","\n                    ",317],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$recipients",318],"]",",",["T_WHITESPACE","\n                ",318],"]",["T_WHITESPACE","\n            ",319],")",";",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","sendFriendMock",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","expects",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","once",322],"(",")",")",["T_WHITESPACE","\n            ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","method",323],"(",["T_CONSTANT_ENCAPSED_STRING","'setSender'",323],")",["T_WHITESPACE","\n            ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","with",324],"(",["T_VARIABLE","$sender",324],")",["T_WHITESPACE","\n            ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","willReturnSelf",325],"(",")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","sendFriendMock",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","expects",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","once",326],"(",")",")",["T_WHITESPACE","\n            ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","method",327],"(",["T_CONSTANT_ENCAPSED_STRING","'setRecipients'",327],")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","with",328],"(",["T_VARIABLE","$recipients",328],")",["T_WHITESPACE","\n            ",328],["T_OBJECT_OPERATOR","->",329],["T_STRING","willReturnSelf",329],"(",")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","sendFriendMock",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","expects",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","once",330],"(",")",")",["T_WHITESPACE","\n            ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","method",331],"(",["T_CONSTANT_ENCAPSED_STRING","'setProduct'",331],")",["T_WHITESPACE","\n            ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","with",332],"(",["T_VARIABLE","$productMock",332],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","willReturnSelf",333],"(",")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","sendFriendMock",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","expects",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","once",334],"(",")",")",["T_WHITESPACE","\n            ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","method",335],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",335],")",["T_WHITESPACE","\n            ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","willReturn",336],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Some error'",336],"]",")",";",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","sendFriendMock",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","expects",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","never",337],"(",")",")",["T_WHITESPACE","\n            ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","method",338],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",338],")",";",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","messageManagerMock",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","expects",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","once",340],"(",")",")",["T_WHITESPACE","\n            ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","method",341],"(",["T_CONSTANT_ENCAPSED_STRING","'addError'",341],")",["T_WHITESPACE","\n            ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","with",342],"(",["T_STRING","__",342],"(",["T_CONSTANT_ENCAPSED_STRING","'Some error'",342],")",")",["T_WHITESPACE","\n            ",342],["T_OBJECT_OPERATOR","->",343],["T_STRING","willReturnSelf",343],"(",")",";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","catalogSessionMock",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","expects",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","once",345],"(",")",")",["T_WHITESPACE","\n            ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","method",346],"(",["T_CONSTANT_ENCAPSED_STRING","'setSendfriendFormData'",346],")",["T_WHITESPACE","\n            ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","with",347],"(",["T_VARIABLE","$formData",347],")",";",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","urlBuilderMock",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","expects",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","once",349],"(",")",")",["T_WHITESPACE","\n            ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","method",350],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",350],")",["T_WHITESPACE","\n            ",350],["T_OBJECT_OPERATOR","->",351],["T_STRING","with",351],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend\/product\/send'",351],",",["T_WHITESPACE"," ",351],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_STRING","true",351],"]",")",["T_WHITESPACE","\n            ",351],["T_OBJECT_OPERATOR","->",352],["T_STRING","willReturn",352],"(",["T_VARIABLE","$redirectUrl",352],")",";",["T_WHITESPACE","\n\n        ",352],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","redirectMock",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","expects",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","once",354],"(",")",")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","method",355],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",355],")",["T_WHITESPACE","\n            ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","with",356],"(",["T_VARIABLE","$redirectUrl",356],")",["T_WHITESPACE","\n            ",356],["T_OBJECT_OPERATOR","->",357],["T_STRING","willReturnArgument",357],"(",["T_LNUMBER","0",357],")",";",["T_WHITESPACE","\n\n        ",357],["T_VARIABLE","$redirectMock",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","expects",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","once",359],"(",")",")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","method",360],"(",["T_CONSTANT_ENCAPSED_STRING","'setUrl'",360],")",["T_WHITESPACE","\n            ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","with",361],"(",["T_VARIABLE","$redirectUrl",361],")",["T_WHITESPACE","\n            ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","willReturnSelf",362],"(",")",";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","assertEquals",364],"(",["T_VARIABLE","$redirectMock",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","model",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","execute",364],"(",")",")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",367],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","testExecuteWithoutValidationAndCategoryWithProblems",370],"(",")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$productId",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_LNUMBER","11",372],";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$categoryId",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_LNUMBER","5",373],";",["T_WHITESPACE","\n        ",373],["T_VARIABLE","$sender",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'sender'",374],";",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$recipients",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'recipients'",375],";",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$formData",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],"[",["T_WHITESPACE","\n            ",376],["T_CONSTANT_ENCAPSED_STRING","'sender'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$sender",377],",",["T_WHITESPACE","\n            ",377],["T_CONSTANT_ENCAPSED_STRING","'recipients'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$recipients",378],",",["T_WHITESPACE","\n        ",378],"]",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$redirectUrl",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'redirect_url'",380],";",["T_WHITESPACE","\n\n        ",380],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",382],["T_WHITESPACE","\n        ",382],["T_VARIABLE","$redirectMock",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getMockBuilder",383],"(",["T_NS_SEPARATOR","\\",383],["T_STRING","Magento",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Framework",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Controller",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Result",383],["T_NS_SEPARATOR","\\",383],["T_STRING","Redirect",383],["T_DOUBLE_COLON","::",383],["T_CLASS","class",383],")",["T_WHITESPACE","\n            ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","disableOriginalConstructor",384],"(",")",["T_WHITESPACE","\n            ",384],["T_OBJECT_OPERATOR","->",385],["T_STRING","getMock",385],"(",")",";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","resultFactoryMock",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","expects",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","once",387],"(",")",")",["T_WHITESPACE","\n            ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","method",388],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",388],")",["T_WHITESPACE","\n            ",388],["T_OBJECT_OPERATOR","->",389],["T_STRING","with",389],"(",["T_NS_SEPARATOR","\\",389],["T_STRING","Magento",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Framework",389],["T_NS_SEPARATOR","\\",389],["T_STRING","Controller",389],["T_NS_SEPARATOR","\\",389],["T_STRING","ResultFactory",389],["T_DOUBLE_COLON","::",389],["T_STRING","TYPE_REDIRECT",389],",",["T_WHITESPACE"," ",389],"[","]",")",["T_WHITESPACE","\n            ",389],["T_OBJECT_OPERATOR","->",390],["T_STRING","willReturn",390],"(",["T_VARIABLE","$redirectMock",390],")",";",["T_WHITESPACE","\n\n        ",390],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","validatorMock",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","expects",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","once",392],"(",")",")",["T_WHITESPACE","\n            ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","method",393],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",393],")",["T_WHITESPACE","\n            ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","with",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","requestMock",394],")",["T_WHITESPACE","\n            ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","willReturn",395],"(",["T_STRING","true",395],")",";",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","requestMock",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","expects",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","exactly",397],"(",["T_LNUMBER","2",397],")",")",["T_WHITESPACE","\n            ",397],["T_OBJECT_OPERATOR","->",398],["T_STRING","method",398],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",398],")",["T_WHITESPACE","\n            ",398],["T_OBJECT_OPERATOR","->",399],["T_STRING","willReturnMap",399],"(",["T_WHITESPACE","\n                ",399],"[",["T_WHITESPACE","\n                    ",400],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",401],",",["T_WHITESPACE"," ",401],["T_STRING","null",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$productId",401],"]",",",["T_WHITESPACE","\n                    ",401],"[",["T_CONSTANT_ENCAPSED_STRING","'cat_id'",402],",",["T_WHITESPACE"," ",402],["T_STRING","null",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$categoryId",402],"]",",",["T_WHITESPACE","\n                ",402],"]",["T_WHITESPACE","\n            ",403],")",";",["T_WHITESPACE","\n\n        ",404],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductInterface|\\PHPUnit_Framework_MockObject_MockObject $productMock *\/",406],["T_WHITESPACE","\n        ",406],["T_VARIABLE","$productMock",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getMockBuilder",407],"(",["T_NS_SEPARATOR","\\",407],["T_STRING","Magento",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Catalog",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Api",407],["T_NS_SEPARATOR","\\",407],["T_STRING","Data",407],["T_NS_SEPARATOR","\\",407],["T_STRING","ProductInterface",407],["T_DOUBLE_COLON","::",407],["T_CLASS","class",407],")",["T_WHITESPACE","\n            ",407],["T_OBJECT_OPERATOR","->",408],["T_STRING","setMethods",408],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'setCategory'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",408],"]",")",["T_WHITESPACE","\n            ",408],["T_OBJECT_OPERATOR","->",409],["T_STRING","getMockForAbstractClass",409],"(",")",";",["T_WHITESPACE","\n\n        ",409],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","productRepositoryMock",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","expects",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","once",411],"(",")",")",["T_WHITESPACE","\n            ",411],["T_OBJECT_OPERATOR","->",412],["T_STRING","method",412],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",412],")",["T_WHITESPACE","\n            ",412],["T_OBJECT_OPERATOR","->",413],["T_STRING","with",413],"(",["T_VARIABLE","$productId",413],",",["T_WHITESPACE"," ",413],["T_STRING","false",413],",",["T_WHITESPACE"," ",413],["T_STRING","null",413],",",["T_WHITESPACE"," ",413],["T_STRING","false",413],")",["T_WHITESPACE","\n            ",413],["T_OBJECT_OPERATOR","->",414],["T_STRING","willReturn",414],"(",["T_VARIABLE","$productMock",414],")",";",["T_WHITESPACE","\n\n        ",414],["T_VARIABLE","$productMock",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","expects",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","once",416],"(",")",")",["T_WHITESPACE","\n            ",416],["T_OBJECT_OPERATOR","->",417],["T_STRING","method",417],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",417],")",["T_WHITESPACE","\n            ",417],["T_OBJECT_OPERATOR","->",418],["T_STRING","willReturn",418],"(",["T_STRING","true",418],")",";",["T_WHITESPACE","\n\n        ",418],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","categoryRepositoryMock",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","expects",420],"(",["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","once",420],"(",")",")",["T_WHITESPACE","\n            ",420],["T_OBJECT_OPERATOR","->",421],["T_STRING","method",421],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",421],")",["T_WHITESPACE","\n            ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","with",422],"(",["T_VARIABLE","$categoryId",422],",",["T_WHITESPACE"," ",422],["T_STRING","null",422],")",["T_WHITESPACE","\n            ",422],["T_OBJECT_OPERATOR","->",423],["T_STRING","willThrowException",423],"(",["T_NEW","new",423],["T_WHITESPACE"," ",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Magento",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Framework",423],["T_NS_SEPARATOR","\\",423],["T_STRING","Exception",423],["T_NS_SEPARATOR","\\",423],["T_STRING","NoSuchEntityException",423],"(",["T_STRING","__",423],"(",["T_CONSTANT_ENCAPSED_STRING","'No Category Exception.'",423],")",")",")",";",["T_WHITESPACE","\n\n        ",423],["T_VARIABLE","$productMock",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","expects",425],"(",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","never",425],"(",")",")",["T_WHITESPACE","\n            ",425],["T_OBJECT_OPERATOR","->",426],["T_STRING","method",426],"(",["T_CONSTANT_ENCAPSED_STRING","'setCategory'",426],")",";",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","registryMock",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","expects",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","once",428],"(",")",")",["T_WHITESPACE","\n            ",428],["T_OBJECT_OPERATOR","->",429],["T_STRING","method",429],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",429],")",["T_WHITESPACE","\n            ",429],["T_OBJECT_OPERATOR","->",430],["T_STRING","willReturnMap",430],"(",["T_WHITESPACE","\n                ",430],"[",["T_WHITESPACE","\n                    ",431],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$productMock",432],",",["T_WHITESPACE"," ",432],["T_STRING","false",432],",",["T_WHITESPACE"," ",432],["T_STRING","null",432],"]",",",["T_WHITESPACE","\n                ",432],"]",["T_WHITESPACE","\n            ",433],")",";",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","requestMock",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","expects",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","once",436],"(",")",")",["T_WHITESPACE","\n            ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","method",437],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",437],")",["T_WHITESPACE","\n            ",437],["T_OBJECT_OPERATOR","->",438],["T_STRING","willReturn",438],"(",["T_VARIABLE","$formData",438],")",";",["T_WHITESPACE","\n\n        ",438],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","requestMock",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","expects",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","exactly",440],"(",["T_LNUMBER","2",440],")",")",["T_WHITESPACE","\n            ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","method",441],"(",["T_CONSTANT_ENCAPSED_STRING","'getPost'",441],")",["T_WHITESPACE","\n            ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","willReturnMap",442],"(",["T_WHITESPACE","\n                ",442],"[",["T_WHITESPACE","\n                    ",443],"[",["T_CONSTANT_ENCAPSED_STRING","'sender'",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$sender",444],"]",",",["T_WHITESPACE","\n                    ",444],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$recipients",445],"]",",",["T_WHITESPACE","\n                ",445],"]",["T_WHITESPACE","\n            ",446],")",";",["T_WHITESPACE","\n\n        ",447],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","sendFriendMock",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","expects",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","once",449],"(",")",")",["T_WHITESPACE","\n            ",449],["T_OBJECT_OPERATOR","->",450],["T_STRING","method",450],"(",["T_CONSTANT_ENCAPSED_STRING","'setSender'",450],")",["T_WHITESPACE","\n            ",450],["T_OBJECT_OPERATOR","->",451],["T_STRING","with",451],"(",["T_VARIABLE","$sender",451],")",["T_WHITESPACE","\n            ",451],["T_OBJECT_OPERATOR","->",452],["T_STRING","willReturnSelf",452],"(",")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","sendFriendMock",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","expects",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","once",453],"(",")",")",["T_WHITESPACE","\n            ",453],["T_OBJECT_OPERATOR","->",454],["T_STRING","method",454],"(",["T_CONSTANT_ENCAPSED_STRING","'setRecipients'",454],")",["T_WHITESPACE","\n            ",454],["T_OBJECT_OPERATOR","->",455],["T_STRING","with",455],"(",["T_VARIABLE","$recipients",455],")",["T_WHITESPACE","\n            ",455],["T_OBJECT_OPERATOR","->",456],["T_STRING","willReturnSelf",456],"(",")",";",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","sendFriendMock",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","expects",457],"(",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","once",457],"(",")",")",["T_WHITESPACE","\n            ",457],["T_OBJECT_OPERATOR","->",458],["T_STRING","method",458],"(",["T_CONSTANT_ENCAPSED_STRING","'setProduct'",458],")",["T_WHITESPACE","\n            ",458],["T_OBJECT_OPERATOR","->",459],["T_STRING","with",459],"(",["T_VARIABLE","$productMock",459],")",["T_WHITESPACE","\n            ",459],["T_OBJECT_OPERATOR","->",460],["T_STRING","willReturnSelf",460],"(",")",";",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","sendFriendMock",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","expects",461],"(",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","once",461],"(",")",")",["T_WHITESPACE","\n            ",461],["T_OBJECT_OPERATOR","->",462],["T_STRING","method",462],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",462],")",["T_WHITESPACE","\n            ",462],["T_OBJECT_OPERATOR","->",463],["T_STRING","willReturn",463],"(",["T_CONSTANT_ENCAPSED_STRING","'Some error'",463],")",";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","sendFriendMock",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","expects",464],"(",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","never",464],"(",")",")",["T_WHITESPACE","\n            ",464],["T_OBJECT_OPERATOR","->",465],["T_STRING","method",465],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",465],")",";",["T_WHITESPACE","\n\n        ",465],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","messageManagerMock",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","expects",467],"(",["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","once",467],"(",")",")",["T_WHITESPACE","\n            ",467],["T_OBJECT_OPERATOR","->",468],["T_STRING","method",468],"(",["T_CONSTANT_ENCAPSED_STRING","'addError'",468],")",["T_WHITESPACE","\n            ",468],["T_OBJECT_OPERATOR","->",469],["T_STRING","with",469],"(",["T_STRING","__",469],"(",["T_CONSTANT_ENCAPSED_STRING","'We found some problems with the data.'",469],")",")",["T_WHITESPACE","\n            ",469],["T_OBJECT_OPERATOR","->",470],["T_STRING","willReturnSelf",470],"(",")",";",["T_WHITESPACE","\n\n        ",470],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","catalogSessionMock",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","expects",472],"(",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","once",472],"(",")",")",["T_WHITESPACE","\n            ",472],["T_OBJECT_OPERATOR","->",473],["T_STRING","method",473],"(",["T_CONSTANT_ENCAPSED_STRING","'setSendfriendFormData'",473],")",["T_WHITESPACE","\n            ",473],["T_OBJECT_OPERATOR","->",474],["T_STRING","with",474],"(",["T_VARIABLE","$formData",474],")",";",["T_WHITESPACE","\n\n        ",474],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","urlBuilderMock",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","expects",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","once",476],"(",")",")",["T_WHITESPACE","\n            ",476],["T_OBJECT_OPERATOR","->",477],["T_STRING","method",477],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",477],")",["T_WHITESPACE","\n            ",477],["T_OBJECT_OPERATOR","->",478],["T_STRING","with",478],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend\/product\/send'",478],",",["T_WHITESPACE"," ",478],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",478],["T_WHITESPACE"," ",478],["T_DOUBLE_ARROW","=>",478],["T_WHITESPACE"," ",478],["T_STRING","true",478],"]",")",["T_WHITESPACE","\n            ",478],["T_OBJECT_OPERATOR","->",479],["T_STRING","willReturn",479],"(",["T_VARIABLE","$redirectUrl",479],")",";",["T_WHITESPACE","\n\n        ",479],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","redirectMock",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","expects",481],"(",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","once",481],"(",")",")",["T_WHITESPACE","\n            ",481],["T_OBJECT_OPERATOR","->",482],["T_STRING","method",482],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",482],")",["T_WHITESPACE","\n            ",482],["T_OBJECT_OPERATOR","->",483],["T_STRING","with",483],"(",["T_VARIABLE","$redirectUrl",483],")",["T_WHITESPACE","\n            ",483],["T_OBJECT_OPERATOR","->",484],["T_STRING","willReturnArgument",484],"(",["T_LNUMBER","0",484],")",";",["T_WHITESPACE","\n\n        ",484],["T_VARIABLE","$redirectMock",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","expects",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","once",486],"(",")",")",["T_WHITESPACE","\n            ",486],["T_OBJECT_OPERATOR","->",487],["T_STRING","method",487],"(",["T_CONSTANT_ENCAPSED_STRING","'setUrl'",487],")",["T_WHITESPACE","\n            ",487],["T_OBJECT_OPERATOR","->",488],["T_STRING","with",488],"(",["T_VARIABLE","$redirectUrl",488],")",["T_WHITESPACE","\n            ",488],["T_OBJECT_OPERATOR","->",489],["T_STRING","willReturnSelf",489],"(",")",";",["T_WHITESPACE","\n\n        ",489],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","assertEquals",491],"(",["T_VARIABLE","$redirectMock",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","model",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","execute",491],"(",")",")",";",["T_WHITESPACE","\n    ",491],"}",["T_WHITESPACE","\n\n    ",492],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",494],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","testExecuteWithLocalizedException",497],"(",")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$productId",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_LNUMBER","11",499],";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$categoryId",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_LNUMBER","5",500],";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$sender",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'sender'",501],";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$recipients",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'recipients'",502],";",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$formData",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],"[",["T_WHITESPACE","\n            ",503],["T_CONSTANT_ENCAPSED_STRING","'sender'",504],["T_WHITESPACE"," ",504],["T_DOUBLE_ARROW","=>",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$sender",504],",",["T_WHITESPACE","\n            ",504],["T_CONSTANT_ENCAPSED_STRING","'recipients'",505],["T_WHITESPACE"," ",505],["T_DOUBLE_ARROW","=>",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$recipients",505],",",["T_WHITESPACE","\n        ",505],"]",";",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$redirectUrl",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'redirect_url'",507],";",["T_WHITESPACE","\n\n        ",507],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",509],["T_WHITESPACE","\n        ",509],["T_VARIABLE","$redirectMock",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getMockBuilder",510],"(",["T_NS_SEPARATOR","\\",510],["T_STRING","Magento",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Framework",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Controller",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Result",510],["T_NS_SEPARATOR","\\",510],["T_STRING","Redirect",510],["T_DOUBLE_COLON","::",510],["T_CLASS","class",510],")",["T_WHITESPACE","\n            ",510],["T_OBJECT_OPERATOR","->",511],["T_STRING","disableOriginalConstructor",511],"(",")",["T_WHITESPACE","\n            ",511],["T_OBJECT_OPERATOR","->",512],["T_STRING","getMock",512],"(",")",";",["T_WHITESPACE","\n\n        ",512],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","resultFactoryMock",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","expects",514],"(",["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","once",514],"(",")",")",["T_WHITESPACE","\n            ",514],["T_OBJECT_OPERATOR","->",515],["T_STRING","method",515],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",515],")",["T_WHITESPACE","\n            ",515],["T_OBJECT_OPERATOR","->",516],["T_STRING","with",516],"(",["T_NS_SEPARATOR","\\",516],["T_STRING","Magento",516],["T_NS_SEPARATOR","\\",516],["T_STRING","Framework",516],["T_NS_SEPARATOR","\\",516],["T_STRING","Controller",516],["T_NS_SEPARATOR","\\",516],["T_STRING","ResultFactory",516],["T_DOUBLE_COLON","::",516],["T_STRING","TYPE_REDIRECT",516],",",["T_WHITESPACE"," ",516],"[","]",")",["T_WHITESPACE","\n            ",516],["T_OBJECT_OPERATOR","->",517],["T_STRING","willReturn",517],"(",["T_VARIABLE","$redirectMock",517],")",";",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","validatorMock",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","expects",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","once",519],"(",")",")",["T_WHITESPACE","\n            ",519],["T_OBJECT_OPERATOR","->",520],["T_STRING","method",520],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",520],")",["T_WHITESPACE","\n            ",520],["T_OBJECT_OPERATOR","->",521],["T_STRING","with",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","requestMock",521],")",["T_WHITESPACE","\n            ",521],["T_OBJECT_OPERATOR","->",522],["T_STRING","willReturn",522],"(",["T_STRING","true",522],")",";",["T_WHITESPACE","\n\n        ",522],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","requestMock",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","expects",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","exactly",524],"(",["T_LNUMBER","2",524],")",")",["T_WHITESPACE","\n            ",524],["T_OBJECT_OPERATOR","->",525],["T_STRING","method",525],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",525],")",["T_WHITESPACE","\n            ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","willReturnMap",526],"(",["T_WHITESPACE","\n                ",526],"[",["T_WHITESPACE","\n                    ",527],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",528],",",["T_WHITESPACE"," ",528],["T_STRING","null",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$productId",528],"]",",",["T_WHITESPACE","\n                    ",528],"[",["T_CONSTANT_ENCAPSED_STRING","'cat_id'",529],",",["T_WHITESPACE"," ",529],["T_STRING","null",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$categoryId",529],"]",",",["T_WHITESPACE","\n                ",529],"]",["T_WHITESPACE","\n            ",530],")",";",["T_WHITESPACE","\n\n        ",531],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductInterface|\\PHPUnit_Framework_MockObject_MockObject $productMock *\/",533],["T_WHITESPACE","\n        ",533],["T_VARIABLE","$productMock",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getMockBuilder",534],"(",["T_NS_SEPARATOR","\\",534],["T_STRING","Magento",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Catalog",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Api",534],["T_NS_SEPARATOR","\\",534],["T_STRING","Data",534],["T_NS_SEPARATOR","\\",534],["T_STRING","ProductInterface",534],["T_DOUBLE_COLON","::",534],["T_CLASS","class",534],")",["T_WHITESPACE","\n            ",534],["T_OBJECT_OPERATOR","->",535],["T_STRING","setMethods",535],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",535],",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'setCategory'",535],",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",535],"]",")",["T_WHITESPACE","\n            ",535],["T_OBJECT_OPERATOR","->",536],["T_STRING","getMockForAbstractClass",536],"(",")",";",["T_WHITESPACE","\n\n        ",536],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","productRepositoryMock",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","expects",538],"(",["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","once",538],"(",")",")",["T_WHITESPACE","\n            ",538],["T_OBJECT_OPERATOR","->",539],["T_STRING","method",539],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",539],")",["T_WHITESPACE","\n            ",539],["T_OBJECT_OPERATOR","->",540],["T_STRING","with",540],"(",["T_VARIABLE","$productId",540],",",["T_WHITESPACE"," ",540],["T_STRING","false",540],",",["T_WHITESPACE"," ",540],["T_STRING","null",540],",",["T_WHITESPACE"," ",540],["T_STRING","false",540],")",["T_WHITESPACE","\n            ",540],["T_OBJECT_OPERATOR","->",541],["T_STRING","willReturn",541],"(",["T_VARIABLE","$productMock",541],")",";",["T_WHITESPACE","\n\n        ",541],["T_VARIABLE","$productMock",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","expects",543],"(",["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","once",543],"(",")",")",["T_WHITESPACE","\n            ",543],["T_OBJECT_OPERATOR","->",544],["T_STRING","method",544],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",544],")",["T_WHITESPACE","\n            ",544],["T_OBJECT_OPERATOR","->",545],["T_STRING","willReturn",545],"(",["T_STRING","true",545],")",";",["T_WHITESPACE","\n\n        ",545],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","categoryRepositoryMock",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","expects",547],"(",["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","once",547],"(",")",")",["T_WHITESPACE","\n            ",547],["T_OBJECT_OPERATOR","->",548],["T_STRING","method",548],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",548],")",["T_WHITESPACE","\n            ",548],["T_OBJECT_OPERATOR","->",549],["T_STRING","with",549],"(",["T_VARIABLE","$categoryId",549],",",["T_WHITESPACE"," ",549],["T_STRING","null",549],")",["T_WHITESPACE","\n            ",549],["T_OBJECT_OPERATOR","->",550],["T_STRING","willThrowException",550],"(",["T_NEW","new",550],["T_WHITESPACE"," ",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Magento",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Framework",550],["T_NS_SEPARATOR","\\",550],["T_STRING","Exception",550],["T_NS_SEPARATOR","\\",550],["T_STRING","NoSuchEntityException",550],"(",["T_STRING","__",550],"(",["T_CONSTANT_ENCAPSED_STRING","'No Category Exception.'",550],")",")",")",";",["T_WHITESPACE","\n\n        ",550],["T_VARIABLE","$productMock",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","expects",552],"(",["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","never",552],"(",")",")",["T_WHITESPACE","\n            ",552],["T_OBJECT_OPERATOR","->",553],["T_STRING","method",553],"(",["T_CONSTANT_ENCAPSED_STRING","'setCategory'",553],")",";",["T_WHITESPACE","\n\n        ",553],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","registryMock",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","expects",555],"(",["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","once",555],"(",")",")",["T_WHITESPACE","\n            ",555],["T_OBJECT_OPERATOR","->",556],["T_STRING","method",556],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",556],")",["T_WHITESPACE","\n            ",556],["T_OBJECT_OPERATOR","->",557],["T_STRING","willReturnMap",557],"(",["T_WHITESPACE","\n                ",557],"[",["T_WHITESPACE","\n                    ",558],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$productMock",559],",",["T_WHITESPACE"," ",559],["T_STRING","false",559],",",["T_WHITESPACE"," ",559],["T_STRING","null",559],"]",",",["T_WHITESPACE","\n                ",559],"]",["T_WHITESPACE","\n            ",560],")",";",["T_WHITESPACE","\n\n        ",561],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","requestMock",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","expects",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","once",563],"(",")",")",["T_WHITESPACE","\n            ",563],["T_OBJECT_OPERATOR","->",564],["T_STRING","method",564],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",564],")",["T_WHITESPACE","\n            ",564],["T_OBJECT_OPERATOR","->",565],["T_STRING","willReturn",565],"(",["T_VARIABLE","$formData",565],")",";",["T_WHITESPACE","\n\n        ",565],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","requestMock",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","expects",567],"(",["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","exactly",567],"(",["T_LNUMBER","2",567],")",")",["T_WHITESPACE","\n            ",567],["T_OBJECT_OPERATOR","->",568],["T_STRING","method",568],"(",["T_CONSTANT_ENCAPSED_STRING","'getPost'",568],")",["T_WHITESPACE","\n            ",568],["T_OBJECT_OPERATOR","->",569],["T_STRING","willReturnMap",569],"(",["T_WHITESPACE","\n                ",569],"[",["T_WHITESPACE","\n                    ",570],"[",["T_CONSTANT_ENCAPSED_STRING","'sender'",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$sender",571],"]",",",["T_WHITESPACE","\n                    ",571],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$recipients",572],"]",",",["T_WHITESPACE","\n                ",572],"]",["T_WHITESPACE","\n            ",573],")",";",["T_WHITESPACE","\n\n        ",574],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","sendFriendMock",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","expects",576],"(",["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","once",576],"(",")",")",["T_WHITESPACE","\n            ",576],["T_OBJECT_OPERATOR","->",577],["T_STRING","method",577],"(",["T_CONSTANT_ENCAPSED_STRING","'setSender'",577],")",["T_WHITESPACE","\n            ",577],["T_OBJECT_OPERATOR","->",578],["T_STRING","with",578],"(",["T_VARIABLE","$sender",578],")",["T_WHITESPACE","\n            ",578],["T_OBJECT_OPERATOR","->",579],["T_STRING","willReturnSelf",579],"(",")",";",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","sendFriendMock",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","expects",580],"(",["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","once",580],"(",")",")",["T_WHITESPACE","\n            ",580],["T_OBJECT_OPERATOR","->",581],["T_STRING","method",581],"(",["T_CONSTANT_ENCAPSED_STRING","'setRecipients'",581],")",["T_WHITESPACE","\n            ",581],["T_OBJECT_OPERATOR","->",582],["T_STRING","with",582],"(",["T_VARIABLE","$recipients",582],")",["T_WHITESPACE","\n            ",582],["T_OBJECT_OPERATOR","->",583],["T_STRING","willReturnSelf",583],"(",")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","sendFriendMock",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","expects",584],"(",["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","once",584],"(",")",")",["T_WHITESPACE","\n            ",584],["T_OBJECT_OPERATOR","->",585],["T_STRING","method",585],"(",["T_CONSTANT_ENCAPSED_STRING","'setProduct'",585],")",["T_WHITESPACE","\n            ",585],["T_OBJECT_OPERATOR","->",586],["T_STRING","with",586],"(",["T_VARIABLE","$productMock",586],")",["T_WHITESPACE","\n            ",586],["T_OBJECT_OPERATOR","->",587],["T_STRING","willReturnSelf",587],"(",")",";",["T_WHITESPACE","\n        ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","sendFriendMock",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","expects",588],"(",["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","once",588],"(",")",")",["T_WHITESPACE","\n            ",588],["T_OBJECT_OPERATOR","->",589],["T_STRING","method",589],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",589],")",["T_WHITESPACE","\n            ",589],["T_OBJECT_OPERATOR","->",590],["T_STRING","willThrowException",590],"(",["T_NEW","new",590],["T_WHITESPACE"," ",590],["T_NS_SEPARATOR","\\",590],["T_STRING","Magento",590],["T_NS_SEPARATOR","\\",590],["T_STRING","Framework",590],["T_NS_SEPARATOR","\\",590],["T_STRING","Exception",590],["T_NS_SEPARATOR","\\",590],["T_STRING","LocalizedException",590],"(",["T_STRING","__",590],"(",["T_CONSTANT_ENCAPSED_STRING","'Localized Exception.'",590],")",")",")",";",["T_WHITESPACE","\n        ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","sendFriendMock",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","expects",591],"(",["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","never",591],"(",")",")",["T_WHITESPACE","\n            ",591],["T_OBJECT_OPERATOR","->",592],["T_STRING","method",592],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",592],")",";",["T_WHITESPACE","\n\n        ",592],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","messageManagerMock",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","expects",594],"(",["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","once",594],"(",")",")",["T_WHITESPACE","\n            ",594],["T_OBJECT_OPERATOR","->",595],["T_STRING","method",595],"(",["T_CONSTANT_ENCAPSED_STRING","'addError'",595],")",["T_WHITESPACE","\n            ",595],["T_OBJECT_OPERATOR","->",596],["T_STRING","with",596],"(",["T_STRING","__",596],"(",["T_CONSTANT_ENCAPSED_STRING","'Localized Exception.'",596],")",")",["T_WHITESPACE","\n            ",596],["T_OBJECT_OPERATOR","->",597],["T_STRING","willReturnSelf",597],"(",")",";",["T_WHITESPACE","\n\n        ",597],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","catalogSessionMock",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","expects",599],"(",["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","once",599],"(",")",")",["T_WHITESPACE","\n            ",599],["T_OBJECT_OPERATOR","->",600],["T_STRING","method",600],"(",["T_CONSTANT_ENCAPSED_STRING","'setSendfriendFormData'",600],")",["T_WHITESPACE","\n            ",600],["T_OBJECT_OPERATOR","->",601],["T_STRING","with",601],"(",["T_VARIABLE","$formData",601],")",";",["T_WHITESPACE","\n\n        ",601],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","urlBuilderMock",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","expects",603],"(",["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","once",603],"(",")",")",["T_WHITESPACE","\n            ",603],["T_OBJECT_OPERATOR","->",604],["T_STRING","method",604],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",604],")",["T_WHITESPACE","\n            ",604],["T_OBJECT_OPERATOR","->",605],["T_STRING","with",605],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend\/product\/send'",605],",",["T_WHITESPACE"," ",605],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",605],["T_WHITESPACE"," ",605],["T_DOUBLE_ARROW","=>",605],["T_WHITESPACE"," ",605],["T_STRING","true",605],"]",")",["T_WHITESPACE","\n            ",605],["T_OBJECT_OPERATOR","->",606],["T_STRING","willReturn",606],"(",["T_VARIABLE","$redirectUrl",606],")",";",["T_WHITESPACE","\n\n        ",606],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","redirectMock",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","expects",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","once",608],"(",")",")",["T_WHITESPACE","\n            ",608],["T_OBJECT_OPERATOR","->",609],["T_STRING","method",609],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",609],")",["T_WHITESPACE","\n            ",609],["T_OBJECT_OPERATOR","->",610],["T_STRING","with",610],"(",["T_VARIABLE","$redirectUrl",610],")",["T_WHITESPACE","\n            ",610],["T_OBJECT_OPERATOR","->",611],["T_STRING","willReturnArgument",611],"(",["T_LNUMBER","0",611],")",";",["T_WHITESPACE","\n\n        ",611],["T_VARIABLE","$redirectMock",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","expects",613],"(",["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","once",613],"(",")",")",["T_WHITESPACE","\n            ",613],["T_OBJECT_OPERATOR","->",614],["T_STRING","method",614],"(",["T_CONSTANT_ENCAPSED_STRING","'setUrl'",614],")",["T_WHITESPACE","\n            ",614],["T_OBJECT_OPERATOR","->",615],["T_STRING","with",615],"(",["T_VARIABLE","$redirectUrl",615],")",["T_WHITESPACE","\n            ",615],["T_OBJECT_OPERATOR","->",616],["T_STRING","willReturnSelf",616],"(",")",";",["T_WHITESPACE","\n\n        ",616],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","assertEquals",618],"(",["T_VARIABLE","$redirectMock",618],",",["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","model",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","execute",618],"(",")",")",";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",621],["T_WHITESPACE","\n    ",623],["T_PUBLIC","public",624],["T_WHITESPACE"," ",624],["T_FUNCTION","function",624],["T_WHITESPACE"," ",624],["T_STRING","testExecuteWithException",624],"(",")",["T_WHITESPACE","\n    ",624],"{",["T_WHITESPACE","\n        ",625],["T_VARIABLE","$productId",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_LNUMBER","11",626],";",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$categoryId",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_LNUMBER","5",627],";",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$sender",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_CONSTANT_ENCAPSED_STRING","'sender'",628],";",["T_WHITESPACE","\n        ",628],["T_VARIABLE","$recipients",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'recipients'",629],";",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$formData",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],"[",["T_WHITESPACE","\n            ",630],["T_CONSTANT_ENCAPSED_STRING","'sender'",631],["T_WHITESPACE"," ",631],["T_DOUBLE_ARROW","=>",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$sender",631],",",["T_WHITESPACE","\n            ",631],["T_CONSTANT_ENCAPSED_STRING","'recipients'",632],["T_WHITESPACE"," ",632],["T_DOUBLE_ARROW","=>",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$recipients",632],",",["T_WHITESPACE","\n        ",632],"]",";",["T_WHITESPACE","\n        ",633],["T_VARIABLE","$redirectUrl",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'redirect_url'",634],";",["T_WHITESPACE","\n\n        ",634],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",636],["T_WHITESPACE","\n        ",636],["T_VARIABLE","$redirectMock",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getMockBuilder",637],"(",["T_NS_SEPARATOR","\\",637],["T_STRING","Magento",637],["T_NS_SEPARATOR","\\",637],["T_STRING","Framework",637],["T_NS_SEPARATOR","\\",637],["T_STRING","Controller",637],["T_NS_SEPARATOR","\\",637],["T_STRING","Result",637],["T_NS_SEPARATOR","\\",637],["T_STRING","Redirect",637],["T_DOUBLE_COLON","::",637],["T_CLASS","class",637],")",["T_WHITESPACE","\n            ",637],["T_OBJECT_OPERATOR","->",638],["T_STRING","disableOriginalConstructor",638],"(",")",["T_WHITESPACE","\n            ",638],["T_OBJECT_OPERATOR","->",639],["T_STRING","getMock",639],"(",")",";",["T_WHITESPACE","\n\n        ",639],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","resultFactoryMock",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","expects",641],"(",["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","once",641],"(",")",")",["T_WHITESPACE","\n            ",641],["T_OBJECT_OPERATOR","->",642],["T_STRING","method",642],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",642],")",["T_WHITESPACE","\n            ",642],["T_OBJECT_OPERATOR","->",643],["T_STRING","with",643],"(",["T_NS_SEPARATOR","\\",643],["T_STRING","Magento",643],["T_NS_SEPARATOR","\\",643],["T_STRING","Framework",643],["T_NS_SEPARATOR","\\",643],["T_STRING","Controller",643],["T_NS_SEPARATOR","\\",643],["T_STRING","ResultFactory",643],["T_DOUBLE_COLON","::",643],["T_STRING","TYPE_REDIRECT",643],",",["T_WHITESPACE"," ",643],"[","]",")",["T_WHITESPACE","\n            ",643],["T_OBJECT_OPERATOR","->",644],["T_STRING","willReturn",644],"(",["T_VARIABLE","$redirectMock",644],")",";",["T_WHITESPACE","\n\n        ",644],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","validatorMock",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","expects",646],"(",["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","once",646],"(",")",")",["T_WHITESPACE","\n            ",646],["T_OBJECT_OPERATOR","->",647],["T_STRING","method",647],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",647],")",["T_WHITESPACE","\n            ",647],["T_OBJECT_OPERATOR","->",648],["T_STRING","with",648],"(",["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","requestMock",648],")",["T_WHITESPACE","\n            ",648],["T_OBJECT_OPERATOR","->",649],["T_STRING","willReturn",649],"(",["T_STRING","true",649],")",";",["T_WHITESPACE","\n\n        ",649],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","requestMock",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","expects",651],"(",["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","exactly",651],"(",["T_LNUMBER","2",651],")",")",["T_WHITESPACE","\n            ",651],["T_OBJECT_OPERATOR","->",652],["T_STRING","method",652],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",652],")",["T_WHITESPACE","\n            ",652],["T_OBJECT_OPERATOR","->",653],["T_STRING","willReturnMap",653],"(",["T_WHITESPACE","\n                ",653],"[",["T_WHITESPACE","\n                    ",654],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",655],",",["T_WHITESPACE"," ",655],["T_STRING","null",655],",",["T_WHITESPACE"," ",655],["T_VARIABLE","$productId",655],"]",",",["T_WHITESPACE","\n                    ",655],"[",["T_CONSTANT_ENCAPSED_STRING","'cat_id'",656],",",["T_WHITESPACE"," ",656],["T_STRING","null",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$categoryId",656],"]",",",["T_WHITESPACE","\n                ",656],"]",["T_WHITESPACE","\n            ",657],")",";",["T_WHITESPACE","\n\n        ",658],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductInterface|\\PHPUnit_Framework_MockObject_MockObject $productMock *\/",660],["T_WHITESPACE","\n        ",660],["T_VARIABLE","$productMock",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","getMockBuilder",661],"(",["T_NS_SEPARATOR","\\",661],["T_STRING","Magento",661],["T_NS_SEPARATOR","\\",661],["T_STRING","Catalog",661],["T_NS_SEPARATOR","\\",661],["T_STRING","Api",661],["T_NS_SEPARATOR","\\",661],["T_STRING","Data",661],["T_NS_SEPARATOR","\\",661],["T_STRING","ProductInterface",661],["T_DOUBLE_COLON","::",661],["T_CLASS","class",661],")",["T_WHITESPACE","\n            ",661],["T_OBJECT_OPERATOR","->",662],["T_STRING","setMethods",662],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",662],",",["T_WHITESPACE"," ",662],["T_CONSTANT_ENCAPSED_STRING","'setCategory'",662],",",["T_WHITESPACE"," ",662],["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",662],"]",")",["T_WHITESPACE","\n            ",662],["T_OBJECT_OPERATOR","->",663],["T_STRING","getMockForAbstractClass",663],"(",")",";",["T_WHITESPACE","\n\n        ",663],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","productRepositoryMock",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","expects",665],"(",["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","once",665],"(",")",")",["T_WHITESPACE","\n            ",665],["T_OBJECT_OPERATOR","->",666],["T_STRING","method",666],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",666],")",["T_WHITESPACE","\n            ",666],["T_OBJECT_OPERATOR","->",667],["T_STRING","with",667],"(",["T_VARIABLE","$productId",667],",",["T_WHITESPACE"," ",667],["T_STRING","false",667],",",["T_WHITESPACE"," ",667],["T_STRING","null",667],",",["T_WHITESPACE"," ",667],["T_STRING","false",667],")",["T_WHITESPACE","\n            ",667],["T_OBJECT_OPERATOR","->",668],["T_STRING","willReturn",668],"(",["T_VARIABLE","$productMock",668],")",";",["T_WHITESPACE","\n\n        ",668],["T_VARIABLE","$productMock",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","expects",670],"(",["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","once",670],"(",")",")",["T_WHITESPACE","\n            ",670],["T_OBJECT_OPERATOR","->",671],["T_STRING","method",671],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",671],")",["T_WHITESPACE","\n            ",671],["T_OBJECT_OPERATOR","->",672],["T_STRING","willReturn",672],"(",["T_STRING","true",672],")",";",["T_WHITESPACE","\n\n        ",672],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","categoryRepositoryMock",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","expects",674],"(",["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","once",674],"(",")",")",["T_WHITESPACE","\n            ",674],["T_OBJECT_OPERATOR","->",675],["T_STRING","method",675],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",675],")",["T_WHITESPACE","\n            ",675],["T_OBJECT_OPERATOR","->",676],["T_STRING","with",676],"(",["T_VARIABLE","$categoryId",676],",",["T_WHITESPACE"," ",676],["T_STRING","null",676],")",["T_WHITESPACE","\n            ",676],["T_OBJECT_OPERATOR","->",677],["T_STRING","willThrowException",677],"(",["T_NEW","new",677],["T_WHITESPACE"," ",677],["T_NS_SEPARATOR","\\",677],["T_STRING","Magento",677],["T_NS_SEPARATOR","\\",677],["T_STRING","Framework",677],["T_NS_SEPARATOR","\\",677],["T_STRING","Exception",677],["T_NS_SEPARATOR","\\",677],["T_STRING","NoSuchEntityException",677],"(",["T_STRING","__",677],"(",["T_CONSTANT_ENCAPSED_STRING","'No Category Exception.'",677],")",")",")",";",["T_WHITESPACE","\n\n        ",677],["T_VARIABLE","$productMock",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","expects",679],"(",["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","never",679],"(",")",")",["T_WHITESPACE","\n            ",679],["T_OBJECT_OPERATOR","->",680],["T_STRING","method",680],"(",["T_CONSTANT_ENCAPSED_STRING","'setCategory'",680],")",";",["T_WHITESPACE","\n\n        ",680],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","registryMock",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","expects",682],"(",["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","once",682],"(",")",")",["T_WHITESPACE","\n            ",682],["T_OBJECT_OPERATOR","->",683],["T_STRING","method",683],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",683],")",["T_WHITESPACE","\n            ",683],["T_OBJECT_OPERATOR","->",684],["T_STRING","willReturnMap",684],"(",["T_WHITESPACE","\n                ",684],"[",["T_WHITESPACE","\n                    ",685],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$productMock",686],",",["T_WHITESPACE"," ",686],["T_STRING","false",686],",",["T_WHITESPACE"," ",686],["T_STRING","null",686],"]",",",["T_WHITESPACE","\n                ",686],"]",["T_WHITESPACE","\n            ",687],")",";",["T_WHITESPACE","\n\n        ",688],["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","requestMock",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","expects",690],"(",["T_VARIABLE","$this",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","once",690],"(",")",")",["T_WHITESPACE","\n            ",690],["T_OBJECT_OPERATOR","->",691],["T_STRING","method",691],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",691],")",["T_WHITESPACE","\n            ",691],["T_OBJECT_OPERATOR","->",692],["T_STRING","willReturn",692],"(",["T_VARIABLE","$formData",692],")",";",["T_WHITESPACE","\n\n        ",692],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","requestMock",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","expects",694],"(",["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","exactly",694],"(",["T_LNUMBER","2",694],")",")",["T_WHITESPACE","\n            ",694],["T_OBJECT_OPERATOR","->",695],["T_STRING","method",695],"(",["T_CONSTANT_ENCAPSED_STRING","'getPost'",695],")",["T_WHITESPACE","\n            ",695],["T_OBJECT_OPERATOR","->",696],["T_STRING","willReturnMap",696],"(",["T_WHITESPACE","\n                ",696],"[",["T_WHITESPACE","\n                    ",697],"[",["T_CONSTANT_ENCAPSED_STRING","'sender'",698],",",["T_WHITESPACE"," ",698],["T_VARIABLE","$sender",698],"]",",",["T_WHITESPACE","\n                    ",698],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",699],",",["T_WHITESPACE"," ",699],["T_VARIABLE","$recipients",699],"]",",",["T_WHITESPACE","\n                ",699],"]",["T_WHITESPACE","\n            ",700],")",";",["T_WHITESPACE","\n\n        ",701],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","sendFriendMock",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","expects",703],"(",["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","once",703],"(",")",")",["T_WHITESPACE","\n            ",703],["T_OBJECT_OPERATOR","->",704],["T_STRING","method",704],"(",["T_CONSTANT_ENCAPSED_STRING","'setSender'",704],")",["T_WHITESPACE","\n            ",704],["T_OBJECT_OPERATOR","->",705],["T_STRING","with",705],"(",["T_VARIABLE","$sender",705],")",["T_WHITESPACE","\n            ",705],["T_OBJECT_OPERATOR","->",706],["T_STRING","willReturnSelf",706],"(",")",";",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","sendFriendMock",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","expects",707],"(",["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","once",707],"(",")",")",["T_WHITESPACE","\n            ",707],["T_OBJECT_OPERATOR","->",708],["T_STRING","method",708],"(",["T_CONSTANT_ENCAPSED_STRING","'setRecipients'",708],")",["T_WHITESPACE","\n            ",708],["T_OBJECT_OPERATOR","->",709],["T_STRING","with",709],"(",["T_VARIABLE","$recipients",709],")",["T_WHITESPACE","\n            ",709],["T_OBJECT_OPERATOR","->",710],["T_STRING","willReturnSelf",710],"(",")",";",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","sendFriendMock",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","expects",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","once",711],"(",")",")",["T_WHITESPACE","\n            ",711],["T_OBJECT_OPERATOR","->",712],["T_STRING","method",712],"(",["T_CONSTANT_ENCAPSED_STRING","'setProduct'",712],")",["T_WHITESPACE","\n            ",712],["T_OBJECT_OPERATOR","->",713],["T_STRING","with",713],"(",["T_VARIABLE","$productMock",713],")",["T_WHITESPACE","\n            ",713],["T_OBJECT_OPERATOR","->",714],["T_STRING","willReturnSelf",714],"(",")",";",["T_WHITESPACE","\n        ",714],["T_VARIABLE","$exception",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_NEW","new",715],["T_WHITESPACE"," ",715],["T_NS_SEPARATOR","\\",715],["T_STRING","Exception",715],"(",["T_STRING","__",715],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception.'",715],")",")",";",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","sendFriendMock",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","expects",716],"(",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","once",716],"(",")",")",["T_WHITESPACE","\n            ",716],["T_OBJECT_OPERATOR","->",717],["T_STRING","method",717],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",717],")",["T_WHITESPACE","\n            ",717],["T_OBJECT_OPERATOR","->",718],["T_STRING","willThrowException",718],"(",["T_VARIABLE","$exception",718],")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","sendFriendMock",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","expects",719],"(",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","never",719],"(",")",")",["T_WHITESPACE","\n            ",719],["T_OBJECT_OPERATOR","->",720],["T_STRING","method",720],"(",["T_CONSTANT_ENCAPSED_STRING","'send'",720],")",";",["T_WHITESPACE","\n\n        ",720],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","messageManagerMock",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","expects",722],"(",["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","once",722],"(",")",")",["T_WHITESPACE","\n            ",722],["T_OBJECT_OPERATOR","->",723],["T_STRING","method",723],"(",["T_CONSTANT_ENCAPSED_STRING","'addException'",723],")",["T_WHITESPACE","\n            ",723],["T_OBJECT_OPERATOR","->",724],["T_STRING","with",724],"(",["T_VARIABLE","$exception",724],",",["T_WHITESPACE"," ",724],["T_STRING","__",724],"(",["T_CONSTANT_ENCAPSED_STRING","'Some emails were not sent.'",724],")",")",["T_WHITESPACE","\n            ",724],["T_OBJECT_OPERATOR","->",725],["T_STRING","willReturnSelf",725],"(",")",";",["T_WHITESPACE","\n\n        ",725],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","catalogSessionMock",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","expects",727],"(",["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","once",727],"(",")",")",["T_WHITESPACE","\n            ",727],["T_OBJECT_OPERATOR","->",728],["T_STRING","method",728],"(",["T_CONSTANT_ENCAPSED_STRING","'setSendfriendFormData'",728],")",["T_WHITESPACE","\n            ",728],["T_OBJECT_OPERATOR","->",729],["T_STRING","with",729],"(",["T_VARIABLE","$formData",729],")",";",["T_WHITESPACE","\n\n        ",729],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","urlBuilderMock",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","expects",731],"(",["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","once",731],"(",")",")",["T_WHITESPACE","\n            ",731],["T_OBJECT_OPERATOR","->",732],["T_STRING","method",732],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",732],")",["T_WHITESPACE","\n            ",732],["T_OBJECT_OPERATOR","->",733],["T_STRING","with",733],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend\/product\/send'",733],",",["T_WHITESPACE"," ",733],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",733],["T_WHITESPACE"," ",733],["T_DOUBLE_ARROW","=>",733],["T_WHITESPACE"," ",733],["T_STRING","true",733],"]",")",["T_WHITESPACE","\n            ",733],["T_OBJECT_OPERATOR","->",734],["T_STRING","willReturn",734],"(",["T_VARIABLE","$redirectUrl",734],")",";",["T_WHITESPACE","\n\n        ",734],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","redirectMock",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","expects",736],"(",["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","once",736],"(",")",")",["T_WHITESPACE","\n            ",736],["T_OBJECT_OPERATOR","->",737],["T_STRING","method",737],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",737],")",["T_WHITESPACE","\n            ",737],["T_OBJECT_OPERATOR","->",738],["T_STRING","with",738],"(",["T_VARIABLE","$redirectUrl",738],")",["T_WHITESPACE","\n            ",738],["T_OBJECT_OPERATOR","->",739],["T_STRING","willReturnArgument",739],"(",["T_LNUMBER","0",739],")",";",["T_WHITESPACE","\n\n        ",739],["T_VARIABLE","$redirectMock",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","expects",741],"(",["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","once",741],"(",")",")",["T_WHITESPACE","\n            ",741],["T_OBJECT_OPERATOR","->",742],["T_STRING","method",742],"(",["T_CONSTANT_ENCAPSED_STRING","'setUrl'",742],")",["T_WHITESPACE","\n            ",742],["T_OBJECT_OPERATOR","->",743],["T_STRING","with",743],"(",["T_VARIABLE","$redirectUrl",743],")",["T_WHITESPACE","\n            ",743],["T_OBJECT_OPERATOR","->",744],["T_STRING","willReturnSelf",744],"(",")",";",["T_WHITESPACE","\n\n        ",744],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","assertEquals",746],"(",["T_VARIABLE","$redirectMock",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","model",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","execute",746],"(",")",")",";",["T_WHITESPACE","\n    ",746],"}",["T_WHITESPACE","\n\n    ",747],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",749],["T_WHITESPACE","\n    ",751],["T_PUBLIC","public",752],["T_WHITESPACE"," ",752],["T_FUNCTION","function",752],["T_WHITESPACE"," ",752],["T_STRING","testExecuteWithoutProduct",752],"(",")",["T_WHITESPACE","\n    ",752],"{",["T_WHITESPACE","\n        ",753],["T_VARIABLE","$sender",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_CONSTANT_ENCAPSED_STRING","'sender'",754],";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$recipients",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_CONSTANT_ENCAPSED_STRING","'recipients'",755],";",["T_WHITESPACE","\n        ",755],["T_VARIABLE","$formData",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],"[",["T_WHITESPACE","\n            ",756],["T_CONSTANT_ENCAPSED_STRING","'sender'",757],["T_WHITESPACE"," ",757],["T_DOUBLE_ARROW","=>",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$sender",757],",",["T_WHITESPACE","\n            ",757],["T_CONSTANT_ENCAPSED_STRING","'recipients'",758],["T_WHITESPACE"," ",758],["T_DOUBLE_ARROW","=>",758],["T_WHITESPACE"," ",758],["T_VARIABLE","$recipients",758],",",["T_WHITESPACE","\n        ",758],"]",";",["T_WHITESPACE","\n\n        ",759],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",761],["T_WHITESPACE","\n        ",761],["T_VARIABLE","$redirectMock",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","getMockBuilder",762],"(",["T_NS_SEPARATOR","\\",762],["T_STRING","Magento",762],["T_NS_SEPARATOR","\\",762],["T_STRING","Framework",762],["T_NS_SEPARATOR","\\",762],["T_STRING","Controller",762],["T_NS_SEPARATOR","\\",762],["T_STRING","Result",762],["T_NS_SEPARATOR","\\",762],["T_STRING","Redirect",762],["T_DOUBLE_COLON","::",762],["T_CLASS","class",762],")",["T_WHITESPACE","\n            ",762],["T_OBJECT_OPERATOR","->",763],["T_STRING","disableOriginalConstructor",763],"(",")",["T_WHITESPACE","\n            ",763],["T_OBJECT_OPERATOR","->",764],["T_STRING","getMock",764],"(",")",";",["T_WHITESPACE","\n\n        ",764],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Forward|\\PHPUnit_Framework_MockObject_MockObject $forwardMock *\/",766],["T_WHITESPACE","\n        ",766],["T_VARIABLE","$forwardMock",767],["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","getMockBuilder",767],"(",["T_NS_SEPARATOR","\\",767],["T_STRING","Magento",767],["T_NS_SEPARATOR","\\",767],["T_STRING","Framework",767],["T_NS_SEPARATOR","\\",767],["T_STRING","Controller",767],["T_NS_SEPARATOR","\\",767],["T_STRING","Result",767],["T_NS_SEPARATOR","\\",767],["T_STRING","Forward",767],["T_DOUBLE_COLON","::",767],["T_CLASS","class",767],")",["T_WHITESPACE","\n            ",767],["T_OBJECT_OPERATOR","->",768],["T_STRING","disableOriginalConstructor",768],"(",")",["T_WHITESPACE","\n            ",768],["T_OBJECT_OPERATOR","->",769],["T_STRING","getMock",769],"(",")",";",["T_WHITESPACE","\n\n        ",769],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","resultFactoryMock",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","expects",771],"(",["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","exactly",771],"(",["T_LNUMBER","2",771],")",")",["T_WHITESPACE","\n            ",771],["T_OBJECT_OPERATOR","->",772],["T_STRING","method",772],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",772],")",["T_WHITESPACE","\n            ",772],["T_OBJECT_OPERATOR","->",773],["T_STRING","willReturnMap",773],"(",["T_WHITESPACE","\n                ",773],"[",["T_WHITESPACE","\n                    ",774],"[",["T_NS_SEPARATOR","\\",775],["T_STRING","Magento",775],["T_NS_SEPARATOR","\\",775],["T_STRING","Framework",775],["T_NS_SEPARATOR","\\",775],["T_STRING","Controller",775],["T_NS_SEPARATOR","\\",775],["T_STRING","ResultFactory",775],["T_DOUBLE_COLON","::",775],["T_STRING","TYPE_REDIRECT",775],",",["T_WHITESPACE"," ",775],"[","]",",",["T_WHITESPACE"," ",775],["T_VARIABLE","$redirectMock",775],"]",",",["T_WHITESPACE","\n                    ",775],"[",["T_NS_SEPARATOR","\\",776],["T_STRING","Magento",776],["T_NS_SEPARATOR","\\",776],["T_STRING","Framework",776],["T_NS_SEPARATOR","\\",776],["T_STRING","Controller",776],["T_NS_SEPARATOR","\\",776],["T_STRING","ResultFactory",776],["T_DOUBLE_COLON","::",776],["T_STRING","TYPE_FORWARD",776],",",["T_WHITESPACE"," ",776],"[","]",",",["T_WHITESPACE"," ",776],["T_VARIABLE","$forwardMock",776],"]",",",["T_WHITESPACE","\n                ",776],"]",["T_WHITESPACE","\n            ",777],")",";",["T_WHITESPACE","\n\n        ",778],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","validatorMock",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","expects",780],"(",["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","once",780],"(",")",")",["T_WHITESPACE","\n            ",780],["T_OBJECT_OPERATOR","->",781],["T_STRING","method",781],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",781],")",["T_WHITESPACE","\n            ",781],["T_OBJECT_OPERATOR","->",782],["T_STRING","with",782],"(",["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","requestMock",782],")",["T_WHITESPACE","\n            ",782],["T_OBJECT_OPERATOR","->",783],["T_STRING","willReturn",783],"(",["T_STRING","true",783],")",";",["T_WHITESPACE","\n\n        ",783],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","requestMock",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","expects",785],"(",["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","once",785],"(",")",")",["T_WHITESPACE","\n            ",785],["T_OBJECT_OPERATOR","->",786],["T_STRING","method",786],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",786],")",["T_WHITESPACE","\n            ",786],["T_OBJECT_OPERATOR","->",787],["T_STRING","willReturnMap",787],"(",["T_WHITESPACE","\n                ",787],"[",["T_WHITESPACE","\n                    ",788],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",789],",",["T_WHITESPACE"," ",789],["T_STRING","null",789],",",["T_WHITESPACE"," ",789],["T_STRING","null",789],"]",",",["T_WHITESPACE","\n                ",789],"]",["T_WHITESPACE","\n            ",790],")",";",["T_WHITESPACE","\n\n        ",791],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","requestMock",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","expects",793],"(",["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","once",793],"(",")",")",["T_WHITESPACE","\n            ",793],["T_OBJECT_OPERATOR","->",794],["T_STRING","method",794],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",794],")",["T_WHITESPACE","\n            ",794],["T_OBJECT_OPERATOR","->",795],["T_STRING","willReturn",795],"(",["T_VARIABLE","$formData",795],")",";",["T_WHITESPACE","\n\n        ",795],["T_VARIABLE","$forwardMock",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","expects",797],"(",["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","once",797],"(",")",")",["T_WHITESPACE","\n            ",797],["T_OBJECT_OPERATOR","->",798],["T_STRING","method",798],"(",["T_CONSTANT_ENCAPSED_STRING","'forward'",798],")",["T_WHITESPACE","\n            ",798],["T_OBJECT_OPERATOR","->",799],["T_STRING","with",799],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute'",799],")",["T_WHITESPACE","\n            ",799],["T_OBJECT_OPERATOR","->",800],["T_STRING","willReturnSelf",800],"(",")",";",["T_WHITESPACE","\n\n        ",800],["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","assertEquals",802],"(",["T_VARIABLE","$forwardMock",802],",",["T_WHITESPACE"," ",802],["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","model",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","execute",802],"(",")",")",";",["T_WHITESPACE","\n    ",802],"}",["T_WHITESPACE","\n\n    ",803],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",805],["T_WHITESPACE","\n    ",807],["T_PUBLIC","public",808],["T_WHITESPACE"," ",808],["T_FUNCTION","function",808],["T_WHITESPACE"," ",808],["T_STRING","testExecuteWithoutData",808],"(",")",["T_WHITESPACE","\n    ",808],"{",["T_WHITESPACE","\n        ",809],["T_VARIABLE","$productId",810],["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],["T_LNUMBER","11",810],";",["T_WHITESPACE","\n        ",810],["T_VARIABLE","$formData",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_CONSTANT_ENCAPSED_STRING","''",811],";",["T_WHITESPACE","\n\n        ",811],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",813],["T_WHITESPACE","\n        ",813],["T_VARIABLE","$redirectMock",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","getMockBuilder",814],"(",["T_NS_SEPARATOR","\\",814],["T_STRING","Magento",814],["T_NS_SEPARATOR","\\",814],["T_STRING","Framework",814],["T_NS_SEPARATOR","\\",814],["T_STRING","Controller",814],["T_NS_SEPARATOR","\\",814],["T_STRING","Result",814],["T_NS_SEPARATOR","\\",814],["T_STRING","Redirect",814],["T_DOUBLE_COLON","::",814],["T_CLASS","class",814],")",["T_WHITESPACE","\n            ",814],["T_OBJECT_OPERATOR","->",815],["T_STRING","disableOriginalConstructor",815],"(",")",["T_WHITESPACE","\n            ",815],["T_OBJECT_OPERATOR","->",816],["T_STRING","getMock",816],"(",")",";",["T_WHITESPACE","\n\n        ",816],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Forward|\\PHPUnit_Framework_MockObject_MockObject $forwardMock *\/",818],["T_WHITESPACE","\n        ",818],["T_VARIABLE","$forwardMock",819],["T_WHITESPACE"," ",819],"=",["T_WHITESPACE"," ",819],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","getMockBuilder",819],"(",["T_NS_SEPARATOR","\\",819],["T_STRING","Magento",819],["T_NS_SEPARATOR","\\",819],["T_STRING","Framework",819],["T_NS_SEPARATOR","\\",819],["T_STRING","Controller",819],["T_NS_SEPARATOR","\\",819],["T_STRING","Result",819],["T_NS_SEPARATOR","\\",819],["T_STRING","Forward",819],["T_DOUBLE_COLON","::",819],["T_CLASS","class",819],")",["T_WHITESPACE","\n            ",819],["T_OBJECT_OPERATOR","->",820],["T_STRING","disableOriginalConstructor",820],"(",")",["T_WHITESPACE","\n            ",820],["T_OBJECT_OPERATOR","->",821],["T_STRING","getMock",821],"(",")",";",["T_WHITESPACE","\n\n        ",821],["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","resultFactoryMock",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","expects",823],"(",["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","exactly",823],"(",["T_LNUMBER","2",823],")",")",["T_WHITESPACE","\n            ",823],["T_OBJECT_OPERATOR","->",824],["T_STRING","method",824],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",824],")",["T_WHITESPACE","\n            ",824],["T_OBJECT_OPERATOR","->",825],["T_STRING","willReturnMap",825],"(",["T_WHITESPACE","\n                ",825],"[",["T_WHITESPACE","\n                    ",826],"[",["T_NS_SEPARATOR","\\",827],["T_STRING","Magento",827],["T_NS_SEPARATOR","\\",827],["T_STRING","Framework",827],["T_NS_SEPARATOR","\\",827],["T_STRING","Controller",827],["T_NS_SEPARATOR","\\",827],["T_STRING","ResultFactory",827],["T_DOUBLE_COLON","::",827],["T_STRING","TYPE_REDIRECT",827],",",["T_WHITESPACE"," ",827],"[","]",",",["T_WHITESPACE"," ",827],["T_VARIABLE","$redirectMock",827],"]",",",["T_WHITESPACE","\n                    ",827],"[",["T_NS_SEPARATOR","\\",828],["T_STRING","Magento",828],["T_NS_SEPARATOR","\\",828],["T_STRING","Framework",828],["T_NS_SEPARATOR","\\",828],["T_STRING","Controller",828],["T_NS_SEPARATOR","\\",828],["T_STRING","ResultFactory",828],["T_DOUBLE_COLON","::",828],["T_STRING","TYPE_FORWARD",828],",",["T_WHITESPACE"," ",828],"[","]",",",["T_WHITESPACE"," ",828],["T_VARIABLE","$forwardMock",828],"]",",",["T_WHITESPACE","\n                ",828],"]",["T_WHITESPACE","\n            ",829],")",";",["T_WHITESPACE","\n\n        ",830],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","validatorMock",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","expects",832],"(",["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","once",832],"(",")",")",["T_WHITESPACE","\n            ",832],["T_OBJECT_OPERATOR","->",833],["T_STRING","method",833],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",833],")",["T_WHITESPACE","\n            ",833],["T_OBJECT_OPERATOR","->",834],["T_STRING","with",834],"(",["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","requestMock",834],")",["T_WHITESPACE","\n            ",834],["T_OBJECT_OPERATOR","->",835],["T_STRING","willReturn",835],"(",["T_STRING","true",835],")",";",["T_WHITESPACE","\n\n        ",835],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","requestMock",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","expects",837],"(",["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","once",837],"(",")",")",["T_WHITESPACE","\n            ",837],["T_OBJECT_OPERATOR","->",838],["T_STRING","method",838],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",838],")",["T_WHITESPACE","\n            ",838],["T_OBJECT_OPERATOR","->",839],["T_STRING","willReturnMap",839],"(",["T_WHITESPACE","\n                ",839],"[",["T_WHITESPACE","\n                    ",840],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",841],",",["T_WHITESPACE"," ",841],["T_STRING","null",841],",",["T_WHITESPACE"," ",841],["T_VARIABLE","$productId",841],"]",",",["T_WHITESPACE","\n                ",841],"]",["T_WHITESPACE","\n            ",842],")",";",["T_WHITESPACE","\n\n        ",843],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\Data\\ProductInterface|\\PHPUnit_Framework_MockObject_MockObject $productMock *\/",845],["T_WHITESPACE","\n        ",845],["T_VARIABLE","$productMock",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","getMockBuilder",846],"(",["T_NS_SEPARATOR","\\",846],["T_STRING","Magento",846],["T_NS_SEPARATOR","\\",846],["T_STRING","Catalog",846],["T_NS_SEPARATOR","\\",846],["T_STRING","Api",846],["T_NS_SEPARATOR","\\",846],["T_STRING","Data",846],["T_NS_SEPARATOR","\\",846],["T_STRING","ProductInterface",846],["T_DOUBLE_COLON","::",846],["T_CLASS","class",846],")",["T_WHITESPACE","\n            ",846],["T_OBJECT_OPERATOR","->",847],["T_STRING","setMethods",847],"(","[",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",847],",",["T_WHITESPACE"," ",847],["T_CONSTANT_ENCAPSED_STRING","'setCategory'",847],",",["T_WHITESPACE"," ",847],["T_CONSTANT_ENCAPSED_STRING","'getProductUrl'",847],"]",")",["T_WHITESPACE","\n            ",847],["T_OBJECT_OPERATOR","->",848],["T_STRING","getMockForAbstractClass",848],"(",")",";",["T_WHITESPACE","\n\n        ",848],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","productRepositoryMock",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","expects",850],"(",["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","once",850],"(",")",")",["T_WHITESPACE","\n            ",850],["T_OBJECT_OPERATOR","->",851],["T_STRING","method",851],"(",["T_CONSTANT_ENCAPSED_STRING","'getById'",851],")",["T_WHITESPACE","\n            ",851],["T_OBJECT_OPERATOR","->",852],["T_STRING","with",852],"(",["T_VARIABLE","$productId",852],",",["T_WHITESPACE"," ",852],["T_STRING","false",852],",",["T_WHITESPACE"," ",852],["T_STRING","null",852],",",["T_WHITESPACE"," ",852],["T_STRING","false",852],")",["T_WHITESPACE","\n            ",852],["T_OBJECT_OPERATOR","->",853],["T_STRING","willReturn",853],"(",["T_VARIABLE","$productMock",853],")",";",["T_WHITESPACE","\n\n        ",853],["T_VARIABLE","$productMock",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","expects",855],"(",["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","once",855],"(",")",")",["T_WHITESPACE","\n            ",855],["T_OBJECT_OPERATOR","->",856],["T_STRING","method",856],"(",["T_CONSTANT_ENCAPSED_STRING","'isVisibleInCatalog'",856],")",["T_WHITESPACE","\n            ",856],["T_OBJECT_OPERATOR","->",857],["T_STRING","willReturn",857],"(",["T_STRING","true",857],")",";",["T_WHITESPACE","\n\n        ",857],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","registryMock",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","expects",859],"(",["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","once",859],"(",")",")",["T_WHITESPACE","\n            ",859],["T_OBJECT_OPERATOR","->",860],["T_STRING","method",860],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",860],")",["T_WHITESPACE","\n            ",860],["T_OBJECT_OPERATOR","->",861],["T_STRING","willReturnMap",861],"(",["T_WHITESPACE","\n                ",861],"[",["T_WHITESPACE","\n                    ",862],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",863],",",["T_WHITESPACE"," ",863],["T_VARIABLE","$productMock",863],",",["T_WHITESPACE"," ",863],["T_STRING","false",863],",",["T_WHITESPACE"," ",863],["T_STRING","null",863],"]",",",["T_WHITESPACE","\n                ",863],"]",["T_WHITESPACE","\n            ",864],")",";",["T_WHITESPACE","\n\n        ",865],["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","requestMock",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","expects",867],"(",["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","once",867],"(",")",")",["T_WHITESPACE","\n            ",867],["T_OBJECT_OPERATOR","->",868],["T_STRING","method",868],"(",["T_CONSTANT_ENCAPSED_STRING","'getPostValue'",868],")",["T_WHITESPACE","\n            ",868],["T_OBJECT_OPERATOR","->",869],["T_STRING","willReturn",869],"(",["T_VARIABLE","$formData",869],")",";",["T_WHITESPACE","\n\n        ",869],["T_VARIABLE","$forwardMock",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","expects",871],"(",["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","once",871],"(",")",")",["T_WHITESPACE","\n            ",871],["T_OBJECT_OPERATOR","->",872],["T_STRING","method",872],"(",["T_CONSTANT_ENCAPSED_STRING","'forward'",872],")",["T_WHITESPACE","\n            ",872],["T_OBJECT_OPERATOR","->",873],["T_STRING","with",873],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute'",873],")",["T_WHITESPACE","\n            ",873],["T_OBJECT_OPERATOR","->",874],["T_STRING","willReturnSelf",874],"(",")",";",["T_WHITESPACE","\n\n        ",874],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","assertEquals",876],"(",["T_VARIABLE","$forwardMock",876],",",["T_WHITESPACE"," ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","model",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","execute",876],"(",")",")",";",["T_WHITESPACE","\n    ",876],"}",["T_WHITESPACE","\n\n    ",877],["T_PUBLIC","public",879],["T_WHITESPACE"," ",879],["T_FUNCTION","function",879],["T_WHITESPACE"," ",879],["T_STRING","testExecuteWithoutFormKey",879],"(",")",["T_WHITESPACE","\n    ",879],"{",["T_WHITESPACE","\n        ",880],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Redirect|\\PHPUnit_Framework_MockObject_MockObject $redirectMock *\/",881],["T_WHITESPACE","\n        ",881],["T_VARIABLE","$redirectMock",882],["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","getMockBuilder",882],"(",["T_NS_SEPARATOR","\\",882],["T_STRING","Magento",882],["T_NS_SEPARATOR","\\",882],["T_STRING","Framework",882],["T_NS_SEPARATOR","\\",882],["T_STRING","Controller",882],["T_NS_SEPARATOR","\\",882],["T_STRING","Result",882],["T_NS_SEPARATOR","\\",882],["T_STRING","Redirect",882],["T_DOUBLE_COLON","::",882],["T_CLASS","class",882],")",["T_WHITESPACE","\n            ",882],["T_OBJECT_OPERATOR","->",883],["T_STRING","disableOriginalConstructor",883],"(",")",["T_WHITESPACE","\n            ",883],["T_OBJECT_OPERATOR","->",884],["T_STRING","getMock",884],"(",")",";",["T_WHITESPACE","\n\n        ",884],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","resultFactoryMock",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","expects",886],"(",["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","once",886],"(",")",")",["T_WHITESPACE","\n            ",886],["T_OBJECT_OPERATOR","->",887],["T_STRING","method",887],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",887],")",["T_WHITESPACE","\n            ",887],["T_OBJECT_OPERATOR","->",888],["T_STRING","willReturnMap",888],"(",["T_WHITESPACE","\n                ",888],"[",["T_WHITESPACE","\n                    ",889],"[",["T_NS_SEPARATOR","\\",890],["T_STRING","Magento",890],["T_NS_SEPARATOR","\\",890],["T_STRING","Framework",890],["T_NS_SEPARATOR","\\",890],["T_STRING","Controller",890],["T_NS_SEPARATOR","\\",890],["T_STRING","ResultFactory",890],["T_DOUBLE_COLON","::",890],["T_STRING","TYPE_REDIRECT",890],",",["T_WHITESPACE"," ",890],"[","]",",",["T_WHITESPACE"," ",890],["T_VARIABLE","$redirectMock",890],"]",",",["T_WHITESPACE","\n                ",890],"]",["T_WHITESPACE","\n            ",891],")",";",["T_WHITESPACE","\n\n        ",892],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","validatorMock",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","expects",894],"(",["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","once",894],"(",")",")",["T_WHITESPACE","\n            ",894],["T_OBJECT_OPERATOR","->",895],["T_STRING","method",895],"(",["T_CONSTANT_ENCAPSED_STRING","'validate'",895],")",["T_WHITESPACE","\n            ",895],["T_OBJECT_OPERATOR","->",896],["T_STRING","with",896],"(",["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","requestMock",896],")",["T_WHITESPACE","\n            ",896],["T_OBJECT_OPERATOR","->",897],["T_STRING","willReturn",897],"(",["T_STRING","false",897],")",";",["T_WHITESPACE","\n\n        ",897],["T_VARIABLE","$redirectMock",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","expects",899],"(",["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","once",899],"(",")",")",["T_WHITESPACE","\n            ",899],["T_OBJECT_OPERATOR","->",900],["T_STRING","method",900],"(",["T_CONSTANT_ENCAPSED_STRING","'setPath'",900],")",["T_WHITESPACE","\n            ",900],["T_OBJECT_OPERATOR","->",901],["T_STRING","with",901],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend\/product\/send'",901],",",["T_WHITESPACE"," ",901],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",901],["T_WHITESPACE"," ",901],["T_DOUBLE_ARROW","=>",901],["T_WHITESPACE"," ",901],["T_STRING","true",901],"]",")",["T_WHITESPACE","\n            ",901],["T_OBJECT_OPERATOR","->",902],["T_STRING","willReturnSelf",902],"(",")",";",["T_WHITESPACE","\n\n        ",902],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","assertEquals",904],"(",["T_VARIABLE","$redirectMock",904],",",["T_WHITESPACE"," ",904],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","model",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","execute",904],"(",")",")",";",["T_WHITESPACE","\n    ",904],"}",["T_WHITESPACE","\n",905],"}",["T_WHITESPACE","\n",906]]