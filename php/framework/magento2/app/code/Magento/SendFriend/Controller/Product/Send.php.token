[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SendFriend",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Controller",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ResultFactory",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Send",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SendFriend",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Session\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$catalogSession",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @param \\Magento\\Framework\\Data\\Form\\FormKey\\Validator $formKeyValidator\n     * @param \\Magento\\SendFriend\\Model\\SendFriend $sendFriend\n     * @param \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository\n     * @param \\Magento\\Catalog\\Model\\Session $catalogSession\n     *\/",17],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",["T_WHITESPACE","\n        ",25],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Framework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","App",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Action",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Context",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$context",26],",",["T_WHITESPACE","\n        ",26],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Registry",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$coreRegistry",27],",",["T_WHITESPACE","\n        ",27],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Framework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Data",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Form",28],["T_NS_SEPARATOR","\\",28],["T_STRING","FormKey",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Validator",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$formKeyValidator",28],",",["T_WHITESPACE","\n        ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","SendFriend",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Model",29],["T_NS_SEPARATOR","\\",29],["T_STRING","SendFriend",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$sendFriend",29],",",["T_WHITESPACE","\n        ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Catalog",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Api",30],["T_NS_SEPARATOR","\\",30],["T_STRING","ProductRepositoryInterface",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$productRepository",30],",",["T_WHITESPACE","\n        ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Catalog",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Session",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$catalogSession",31],["T_WHITESPACE","\n    ",31],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","catalogSession",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$catalogSession",33],";",["T_WHITESPACE","\n        ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","__construct",34],"(",["T_WHITESPACE","\n            ",34],["T_VARIABLE","$context",35],",",["T_WHITESPACE","\n            ",35],["T_VARIABLE","$coreRegistry",36],",",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$formKeyValidator",37],",",["T_WHITESPACE","\n            ",37],["T_VARIABLE","$sendFriend",38],",",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$productRepository",39],["T_WHITESPACE","\n        ",39],")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Show Send to a Friend Form\n     *\n     * @return \\Magento\\Framework\\Controller\\ResultInterface\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","execute",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$product",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_initProduct",50],"(",")",";",["T_WHITESPACE","\n\n        ",50],["T_IF","if",52],["T_WHITESPACE"," ",52],"(","!",["T_VARIABLE","$product",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Controller\\Result\\Forward $resultForward *\/",53],["T_WHITESPACE","\n            ",53],["T_VARIABLE","$resultForward",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","resultFactory",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","create",54],"(",["T_STRING","ResultFactory",54],["T_DOUBLE_COLON","::",54],["T_STRING","TYPE_FORWARD",54],")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$resultForward",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","forward",55],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute'",55],")",";",["T_WHITESPACE","\n            ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$resultForward",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n\n        ",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","sendFriend",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMaxSendsToFriend",59],"(",")",["T_WHITESPACE"," ",59],["T_BOOLEAN_AND","&&",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","sendFriend",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","isExceedLimit",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","messageManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","addNotice",60],"(",["T_WHITESPACE","\n                ",60],["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'You can\\'t send messages more than %1 times an hour.'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","sendFriend",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getMaxSendsToFriend",61],"(",")",")",["T_WHITESPACE","\n            ",61],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\View\\Result\\Page $resultPage *\/",65],["T_WHITESPACE","\n        ",65],["T_VARIABLE","$resultPage",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","resultFactory",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","create",66],"(",["T_STRING","ResultFactory",66],["T_DOUBLE_COLON","::",66],["T_STRING","TYPE_PAGE",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_eventManager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","dispatch",68],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend_product'",68],",",["T_WHITESPACE"," ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$product",68],"]",")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$data",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","catalogSession",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getSendfriendFormData",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$data",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","catalogSession",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setSendfriendFormData",71],"(",["T_STRING","true",71],")",";",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$block",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$resultPage",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getLayout",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getBlock",72],"(",["T_CONSTANT_ENCAPSED_STRING","'sendfriend.send'",72],")",";",["T_WHITESPACE","\n            ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$block",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_DOC_COMMENT","\/** @var \\Magento\\SendFriend\\Block\\Send $block *\/",74],["T_WHITESPACE","\n                ",74],["T_VARIABLE","$block",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setFormData",75],"(",["T_VARIABLE","$data",75],")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$resultPage",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n",80],"}",["T_WHITESPACE","\n",81]]