[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Ups",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Address",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RateResult",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Error",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Quote",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Address",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RateRequest",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Shipping",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Carrier",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractCarrierOnline",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Shipping",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Carrier",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CarrierInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Shipping",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Rate",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Result",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Shipping",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Model",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Simplexml",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Element",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Ups",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Helper",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Config",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Xml",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Security",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * UPS shipping implementation\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","Carrier",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","AbstractCarrierOnline",25],["T_WHITESPACE"," ",25],["T_IMPLEMENTS","implements",25],["T_WHITESPACE"," ",25],["T_STRING","CarrierInterface",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\n     * @var string\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","CODE",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'ups'",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Delivery Confirmation level based on origin\/destination\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_LNUMBER","1",37],";",["T_WHITESPACE","\n\n    ",37],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","2",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_code",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_STRING","CODE",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Rate request data\n     *\n     * @var RateRequest\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_request",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Rate result data\n     *\n     * @var Result\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_result",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Base currency rate\n     *\n     * @var float\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_baseCurrencyRate",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Xml access request\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_xmlAccessRequest",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Default cgi gateway url\n     *\n     * @var string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_defaultCgiGatewayUrl",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.ups.com:80\/using\/services\/rave\/qcostcgi.cgi'",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Test urls for shipment\n     *\n     * @var array\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_defaultUrls",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/wwwcie.ups.com\/ups.app\/xml\/ShipConfirm'",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/wwwcie.ups.com\/ups.app\/xml\/ShipAccept'",90],",",["T_WHITESPACE","\n    ",90],"]",";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Live urls for shipment\n     *\n     * @var array\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_liveUrls",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/onlinetools.ups.com\/ups.app\/xml\/ShipConfirm'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/onlinetools.ups.com\/ups.app\/xml\/ShipAccept'",100],",",["T_WHITESPACE","\n    ",100],"]",";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Container types that could be customized for UPS carrier\n     *\n     * @var string[]\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_customizableContainerTypes",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[",["T_CONSTANT_ENCAPSED_STRING","'CP'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'CSP'",108],"]",";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Locale\\FormatInterface\n     *\/",110],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_localeFormat",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * @var \\Psr\\Log\\LoggerInterface\n     *\/",115],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$_logger",118],";",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * @var Config\n     *\/",120],["T_WHITESPACE","\n    ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$configHelper",123],";",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",125],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_debugReplacePrivateDataKeys",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[",["T_WHITESPACE","\n        ",128],["T_CONSTANT_ENCAPSED_STRING","'UserId'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Password'",129],["T_WHITESPACE","\n    ",129],"]",";",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\App\\Config\\ScopeConfigInterface $scopeConfig\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\ErrorFactory $rateErrorFactory\n     * @param \\Psr\\Log\\LoggerInterface $logger\n     * @param Security $xmlSecurity\n     * @param \\Magento\\Shipping\\Model\\Simplexml\\ElementFactory $xmlElFactory\n     * @param \\Magento\\Shipping\\Model\\Rate\\ResultFactory $rateFactory\n     * @param \\Magento\\Quote\\Model\\Quote\\Address\\RateResult\\MethodFactory $rateMethodFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\ResultFactory $trackFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\Result\\ErrorFactory $trackErrorFactory\n     * @param \\Magento\\Shipping\\Model\\Tracking\\Result\\StatusFactory $trackStatusFactory\n     * @param \\Magento\\Directory\\Model\\RegionFactory $regionFactory\n     * @param \\Magento\\Directory\\Model\\CountryFactory $countryFactory\n     * @param \\Magento\\Directory\\Model\\CurrencyFactory $currencyFactory\n     * @param \\Magento\\Directory\\Helper\\Data $directoryData\n     * @param \\Magento\\CatalogInventory\\Api\\StockRegistryInterface $stockRegistry\n     * @param \\Magento\\Framework\\Locale\\FormatInterface $localeFormat\n     * @param Config $configHelper\n     * @param array $data\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",132],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","__construct",154],"(",["T_WHITESPACE","\n        ",154],["T_NS_SEPARATOR","\\",155],["T_STRING","Magento",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Framework",155],["T_NS_SEPARATOR","\\",155],["T_STRING","App",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Config",155],["T_NS_SEPARATOR","\\",155],["T_STRING","ScopeConfigInterface",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$scopeConfig",155],",",["T_WHITESPACE","\n        ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Quote",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Model",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Quote",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Address",156],["T_NS_SEPARATOR","\\",156],["T_STRING","RateResult",156],["T_NS_SEPARATOR","\\",156],["T_STRING","ErrorFactory",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$rateErrorFactory",156],",",["T_WHITESPACE","\n        ",156],["T_NS_SEPARATOR","\\",157],["T_STRING","Psr",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Log",157],["T_NS_SEPARATOR","\\",157],["T_STRING","LoggerInterface",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$logger",157],",",["T_WHITESPACE","\n        ",157],["T_STRING","Security",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$xmlSecurity",158],",",["T_WHITESPACE","\n        ",158],["T_NS_SEPARATOR","\\",159],["T_STRING","Magento",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Shipping",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Model",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Simplexml",159],["T_NS_SEPARATOR","\\",159],["T_STRING","ElementFactory",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$xmlElFactory",159],",",["T_WHITESPACE","\n        ",159],["T_NS_SEPARATOR","\\",160],["T_STRING","Magento",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Shipping",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Model",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Rate",160],["T_NS_SEPARATOR","\\",160],["T_STRING","ResultFactory",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$rateFactory",160],",",["T_WHITESPACE","\n        ",160],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Quote",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Model",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Quote",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Address",161],["T_NS_SEPARATOR","\\",161],["T_STRING","RateResult",161],["T_NS_SEPARATOR","\\",161],["T_STRING","MethodFactory",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$rateMethodFactory",161],",",["T_WHITESPACE","\n        ",161],["T_NS_SEPARATOR","\\",162],["T_STRING","Magento",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Shipping",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Model",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Tracking",162],["T_NS_SEPARATOR","\\",162],["T_STRING","ResultFactory",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$trackFactory",162],",",["T_WHITESPACE","\n        ",162],["T_NS_SEPARATOR","\\",163],["T_STRING","Magento",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Shipping",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Model",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Tracking",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Result",163],["T_NS_SEPARATOR","\\",163],["T_STRING","ErrorFactory",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$trackErrorFactory",163],",",["T_WHITESPACE","\n        ",163],["T_NS_SEPARATOR","\\",164],["T_STRING","Magento",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Shipping",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Model",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Tracking",164],["T_NS_SEPARATOR","\\",164],["T_STRING","Result",164],["T_NS_SEPARATOR","\\",164],["T_STRING","StatusFactory",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$trackStatusFactory",164],",",["T_WHITESPACE","\n        ",164],["T_NS_SEPARATOR","\\",165],["T_STRING","Magento",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Directory",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Model",165],["T_NS_SEPARATOR","\\",165],["T_STRING","RegionFactory",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$regionFactory",165],",",["T_WHITESPACE","\n        ",165],["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Directory",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Model",166],["T_NS_SEPARATOR","\\",166],["T_STRING","CountryFactory",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$countryFactory",166],",",["T_WHITESPACE","\n        ",166],["T_NS_SEPARATOR","\\",167],["T_STRING","Magento",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Directory",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Model",167],["T_NS_SEPARATOR","\\",167],["T_STRING","CurrencyFactory",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$currencyFactory",167],",",["T_WHITESPACE","\n        ",167],["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Directory",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Helper",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Data",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$directoryData",168],",",["T_WHITESPACE","\n        ",168],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","CatalogInventory",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Api",169],["T_NS_SEPARATOR","\\",169],["T_STRING","StockRegistryInterface",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$stockRegistry",169],",",["T_WHITESPACE","\n        ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Locale",170],["T_NS_SEPARATOR","\\",170],["T_STRING","FormatInterface",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$localeFormat",170],",",["T_WHITESPACE","\n        ",170],["T_STRING","Config",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$configHelper",171],",",["T_WHITESPACE","\n        ",171],["T_ARRAY","array",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$data",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],"[","]",["T_WHITESPACE","\n    ",172],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_localeFormat",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$localeFormat",174],";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","configHelper",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$configHelper",175],";",["T_WHITESPACE","\n        ",175],["T_STRING","parent",176],["T_DOUBLE_COLON","::",176],["T_STRING","__construct",176],"(",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$scopeConfig",177],",",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$rateErrorFactory",178],",",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$logger",179],",",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$xmlSecurity",180],",",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$xmlElFactory",181],",",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$rateFactory",182],",",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$rateMethodFactory",183],",",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$trackFactory",184],",",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$trackErrorFactory",185],",",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$trackStatusFactory",186],",",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$regionFactory",187],",",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$countryFactory",188],",",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$currencyFactory",189],",",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$directoryData",190],",",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$stockRegistry",191],",",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$data",192],["T_WHITESPACE","\n        ",192],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Collect and get rates\/errors\n     *\n     * @param RateRequest $request\n     * @return  Result|Error|bool\n     *\/",196],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","collectRates",202],"(",["T_STRING","RateRequest",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$request",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setRequest",204],"(",["T_VARIABLE","$request",204],")",";",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(","!",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","canCollectRates",205],"(",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getErrorMessage",206],"(",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","setRequest",209],"(",["T_VARIABLE","$request",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_result",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_getQuotes",210],"(",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_updateFreeMethodQuote",211],"(",["T_VARIABLE","$request",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getResult",213],"(",")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Prepare and set request to this instance\n     *\n     * @param RateRequest $request\n     * @return $this\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",216],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","setRequest",225],"(",["T_STRING","RateRequest",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$request",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_request",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$request",227],";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$rowRequest",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_NEW","new",229],["T_WHITESPACE"," ",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Magento",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Framework",229],["T_NS_SEPARATOR","\\",229],["T_STRING","DataObject",229],"(",")",";",["T_WHITESPACE","\n\n        ",229],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$request",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getLimitMethod",231],"(",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$rowRequest",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setAction",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","configHelper",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getCode",232],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'single'",232],")",")",";",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$rowRequest",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","setProduct",233],"(",["T_VARIABLE","$request",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getLimitMethod",233],"(",")",")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE"," ",234],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$rowRequest",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","setAction",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","configHelper",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getCode",235],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'all'",235],")",")",";",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$rowRequest",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","setProduct",236],"(",["T_CONSTANT_ENCAPSED_STRING","'GND'",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getConfigData",236],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",236],")",")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n\n        ",237],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$request",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getUpsPickup",239],"(",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$pickup",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$request",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getUpsPickup",240],"(",")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE"," ",241],["T_ELSE","else",241],["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$pickup",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getConfigData",242],"(",["T_CONSTANT_ENCAPSED_STRING","'pickup'",242],")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$rowRequest",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","setPickup",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","configHelper",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getCode",244],"(",["T_CONSTANT_ENCAPSED_STRING","'pickup'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$pickup",244],")",")",";",["T_WHITESPACE","\n\n        ",244],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$request",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getUpsContainer",246],"(",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$container",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$request",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getUpsContainer",247],"(",")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE"," ",248],["T_ELSE","else",248],["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$container",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getConfigData",249],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$rowRequest",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setContainer",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","configHelper",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getCode",251],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$container",251],")",")",";",["T_WHITESPACE","\n\n        ",251],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$request",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getUpsDestType",253],"(",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$destType",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$request",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getUpsDestType",254],"(",")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE"," ",255],["T_ELSE","else",255],["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$destType",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getConfigData",256],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",256],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$rowRequest",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setDestType",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","configHelper",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getCode",258],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$destType",258],")",")",";",["T_WHITESPACE","\n\n        ",258],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_VARIABLE","$request",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getOrigCountry",260],"(",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$origCountry",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$request",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getOrigCountry",261],"(",")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE"," ",262],["T_ELSE","else",262],["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$origCountry",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_scopeConfig",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getValue",263],"(",["T_WHITESPACE","\n                ",263],["T_NS_SEPARATOR","\\",264],["T_STRING","Magento",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Sales",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Model",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Order",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Shipment",264],["T_DOUBLE_COLON","::",264],["T_STRING","XML_PATH_STORE_COUNTRY_ID",264],",",["T_WHITESPACE","\n                ",264],["T_NS_SEPARATOR","\\",265],["T_STRING","Magento",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Store",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Model",265],["T_NS_SEPARATOR","\\",265],["T_STRING","ScopeInterface",265],["T_DOUBLE_COLON","::",265],["T_STRING","SCOPE_STORE",265],",",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$request",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getStoreId",266],"(",")",["T_WHITESPACE","\n            ",266],")",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$rowRequest",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setOrigCountry",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_countryFactory",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","create",270],"(",")",["T_OBJECT_OPERATOR","->",270],["T_STRING","load",270],"(",["T_VARIABLE","$origCountry",270],")",["T_OBJECT_OPERATOR","->",270],["T_STRING","getData",270],"(",["T_CONSTANT_ENCAPSED_STRING","'iso2_code'",270],")",")",";",["T_WHITESPACE","\n\n        ",270],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$request",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getOrigRegionCode",272],"(",")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$origRegionCode",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$request",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getOrigRegionCode",273],"(",")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE"," ",274],["T_ELSE","else",274],["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$origRegionCode",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_scopeConfig",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getValue",275],"(",["T_WHITESPACE","\n                ",275],["T_NS_SEPARATOR","\\",276],["T_STRING","Magento",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Sales",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Model",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Order",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Shipment",276],["T_DOUBLE_COLON","::",276],["T_STRING","XML_PATH_STORE_REGION_ID",276],",",["T_WHITESPACE","\n                ",276],["T_NS_SEPARATOR","\\",277],["T_STRING","Magento",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Store",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Model",277],["T_NS_SEPARATOR","\\",277],["T_STRING","ScopeInterface",277],["T_DOUBLE_COLON","::",277],["T_STRING","SCOPE_STORE",277],",",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$request",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getStoreId",278],"(",")",["T_WHITESPACE","\n            ",278],")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_STRING","is_numeric",281],"(",["T_VARIABLE","$origRegionCode",281],")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$origRegionCode",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_regionFactory",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","create",282],"(",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","load",282],"(",["T_VARIABLE","$origRegionCode",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","getCode",282],"(",")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$rowRequest",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","setOrigRegionCode",284],"(",["T_VARIABLE","$origRegionCode",284],")",";",["T_WHITESPACE","\n\n        ",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$request",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getOrigPostcode",286],"(",")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$rowRequest",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","setOrigPostal",287],"(",["T_VARIABLE","$request",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getOrigPostcode",287],"(",")",")",";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE"," ",288],["T_ELSE","else",288],["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$rowRequest",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","setOrigPostal",289],"(",["T_WHITESPACE","\n                ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_scopeConfig",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getValue",290],"(",["T_WHITESPACE","\n                    ",290],["T_NS_SEPARATOR","\\",291],["T_STRING","Magento",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Sales",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Model",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Order",291],["T_NS_SEPARATOR","\\",291],["T_STRING","Shipment",291],["T_DOUBLE_COLON","::",291],["T_STRING","XML_PATH_STORE_ZIP",291],",",["T_WHITESPACE","\n                    ",291],["T_NS_SEPARATOR","\\",292],["T_STRING","Magento",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Store",292],["T_NS_SEPARATOR","\\",292],["T_STRING","Model",292],["T_NS_SEPARATOR","\\",292],["T_STRING","ScopeInterface",292],["T_DOUBLE_COLON","::",292],["T_STRING","SCOPE_STORE",292],",",["T_WHITESPACE","\n                    ",292],["T_VARIABLE","$request",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getStoreId",293],"(",")",["T_WHITESPACE","\n                ",293],")",["T_WHITESPACE","\n            ",294],")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$request",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getOrigCity",298],"(",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$rowRequest",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setOrigCity",299],"(",["T_VARIABLE","$request",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getOrigCity",299],"(",")",")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE"," ",300],["T_ELSE","else",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$rowRequest",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","setOrigCity",301],"(",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_scopeConfig",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getValue",302],"(",["T_WHITESPACE","\n                    ",302],["T_NS_SEPARATOR","\\",303],["T_STRING","Magento",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Sales",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Model",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Order",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Shipment",303],["T_DOUBLE_COLON","::",303],["T_STRING","XML_PATH_STORE_CITY",303],",",["T_WHITESPACE","\n                    ",303],["T_NS_SEPARATOR","\\",304],["T_STRING","Magento",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Store",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Model",304],["T_NS_SEPARATOR","\\",304],["T_STRING","ScopeInterface",304],["T_DOUBLE_COLON","::",304],["T_STRING","SCOPE_STORE",304],",",["T_WHITESPACE","\n                    ",304],["T_VARIABLE","$request",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getStoreId",305],"(",")",["T_WHITESPACE","\n                ",305],")",["T_WHITESPACE","\n            ",306],")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n\n        ",308],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$request",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getDestCountryId",310],"(",")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$destCountry",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$request",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getDestCountryId",311],"(",")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE"," ",312],["T_ELSE","else",312],["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$destCountry",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","self",313],["T_DOUBLE_COLON","::",313],["T_STRING","USA_COUNTRY_ID",313],";",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n\n        ",314],["T_COMMENT","\/\/for UPS, puero rico state for US will assume as puerto rico country\n",316],["T_WHITESPACE","        ",317],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$destCountry",317],["T_WHITESPACE"," ",317],["T_IS_EQUAL","==",317],["T_WHITESPACE"," ",317],["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_STRING","USA_COUNTRY_ID",317],["T_WHITESPACE"," ",317],["T_BOOLEAN_AND","&&",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$request",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getDestPostcode",317],"(",")",["T_WHITESPACE"," ",317],["T_IS_EQUAL","==",317],["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'00912'",317],["T_WHITESPACE"," ",317],["T_BOOLEAN_OR","||",317],["T_WHITESPACE","\n            ",317],["T_VARIABLE","$request",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getDestRegionCode",318],"(",")",["T_WHITESPACE"," ",318],["T_IS_EQUAL","==",318],["T_WHITESPACE"," ",318],["T_STRING","self",318],["T_DOUBLE_COLON","::",318],["T_STRING","PUERTORICO_COUNTRY_ID",318],")",["T_WHITESPACE","\n        ",318],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$destCountry",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","self",320],["T_DOUBLE_COLON","::",320],["T_STRING","PUERTORICO_COUNTRY_ID",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_COMMENT","\/\/ For UPS, Guam state of the USA will be represented by Guam country\n",323],["T_WHITESPACE","        ",324],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$destCountry",324],["T_WHITESPACE"," ",324],["T_IS_EQUAL","==",324],["T_WHITESPACE"," ",324],["T_STRING","self",324],["T_DOUBLE_COLON","::",324],["T_STRING","USA_COUNTRY_ID",324],["T_WHITESPACE"," ",324],["T_BOOLEAN_AND","&&",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$request",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getDestRegionCode",324],"(",")",["T_WHITESPACE"," ",324],["T_IS_EQUAL","==",324],["T_WHITESPACE"," ",324],["T_STRING","self",324],["T_DOUBLE_COLON","::",324],["T_STRING","GUAM_REGION_CODE",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$destCountry",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","self",325],["T_DOUBLE_COLON","::",325],["T_STRING","GUAM_COUNTRY_ID",325],";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$country",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_countryFactory",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","create",328],"(",")",["T_OBJECT_OPERATOR","->",328],["T_STRING","load",328],"(",["T_VARIABLE","$destCountry",328],")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$rowRequest",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","setDestCountry",329],"(",["T_VARIABLE","$country",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getData",329],"(",["T_CONSTANT_ENCAPSED_STRING","'iso2_code'",329],")",["T_WHITESPACE"," ",329],"?",":",["T_WHITESPACE"," ",329],["T_VARIABLE","$destCountry",329],")",";",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$rowRequest",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setDestRegionCode",331],"(",["T_VARIABLE","$request",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getDestRegionCode",331],"(",")",")",";",["T_WHITESPACE","\n\n        ",331],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_VARIABLE","$request",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getDestPostcode",333],"(",")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$rowRequest",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","setDestPostal",334],"(",["T_VARIABLE","$request",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getDestPostcode",334],"(",")",")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$weight",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getTotalNumOfBoxes",337],"(",["T_VARIABLE","$request",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getPackageWeight",337],"(",")",")",";",["T_WHITESPACE","\n\n        ",337],["T_VARIABLE","$weight",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_getCorrectWeight",339],"(",["T_VARIABLE","$weight",339],")",";",["T_WHITESPACE","\n\n        ",339],["T_VARIABLE","$rowRequest",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setWeight",341],"(",["T_VARIABLE","$weight",341],")",";",["T_WHITESPACE","\n        ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$request",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getFreeMethodWeight",342],"(",")",["T_WHITESPACE"," ",342],["T_IS_NOT_EQUAL","!=",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$request",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getPackageWeight",342],"(",")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$rowRequest",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","setFreeMethodWeight",343],"(",["T_VARIABLE","$request",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getFreeMethodWeight",343],"(",")",")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n\n        ",344],["T_VARIABLE","$rowRequest",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","setValue",346],"(",["T_VARIABLE","$request",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getPackageValue",346],"(",")",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$rowRequest",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","setValueWithDiscount",347],"(",["T_VARIABLE","$request",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getPackageValueWithDiscount",347],"(",")",")",";",["T_WHITESPACE","\n\n        ",347],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$request",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getUpsUnitMeasure",349],"(",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$unit",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$request",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getUpsUnitMeasure",350],"(",")",";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE"," ",351],["T_ELSE","else",351],["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$unit",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getConfigData",352],"(",["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",352],")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$rowRequest",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","setUnitMeasure",354],"(",["T_VARIABLE","$unit",354],")",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$rowRequest",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","setIsReturn",355],"(",["T_VARIABLE","$request",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getIsReturn",355],"(",")",")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$rowRequest",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","setBaseSubtotalInclTax",356],"(",["T_VARIABLE","$request",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getBaseSubtotalInclTax",356],"(",")",")",";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_rawRequest",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$rowRequest",358],";",["T_WHITESPACE","\n\n        ",358],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Get correct weight\n     *\n     * Namely:\n     * Checks the current weight to comply with the minimum weight standards set by the carrier.\n     * Then strictly rounds the weight up until the first significant digit after the decimal point.\n     *\n     * @param float|int $weight\n     * @return float\n     *\/",363],["T_WHITESPACE","\n    ",372],["T_PROTECTED","protected",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","_getCorrectWeight",373],"(",["T_VARIABLE","$weight",373],")",["T_WHITESPACE","\n    ",373],"{",["T_WHITESPACE","\n        ",374],["T_VARIABLE","$minWeight",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getConfigData",375],"(",["T_CONSTANT_ENCAPSED_STRING","'min_package_weight'",375],")",";",["T_WHITESPACE","\n\n        ",375],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$weight",377],["T_WHITESPACE"," ",377],"<",["T_WHITESPACE"," ",377],["T_VARIABLE","$minWeight",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$weight",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$minWeight",378],";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_COMMENT","\/\/rounds a number to one significant figure\n",381],["T_WHITESPACE","        ",382],["T_VARIABLE","$weight",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","ceil",382],"(",["T_VARIABLE","$weight",382],["T_WHITESPACE"," ",382],"*",["T_WHITESPACE"," ",382],["T_LNUMBER","10",382],")",["T_WHITESPACE"," ",382],"\/",["T_WHITESPACE"," ",382],["T_LNUMBER","10",382],";",["T_WHITESPACE","\n\n        ",382],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$weight",384],";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * Get result of request\n     *\n     * @return Result\n     *\/",387],["T_WHITESPACE","\n    ",391],["T_PUBLIC","public",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","getResult",392],"(",")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_result",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Do remote request for  and handle errors\n     *\n     * @return Result|null\n     *\/",397],["T_WHITESPACE","\n    ",401],["T_PROTECTED","protected",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","_getQuotes",402],"(",")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_SWITCH","switch",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getConfigData",404],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",404],")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_CASE","case",405],["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'UPS'",405],":",["T_WHITESPACE","\n                ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_getCgiQuotes",406],"(",")",";",["T_WHITESPACE","\n            ",406],["T_CASE","case",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'UPS_XML'",407],":",["T_WHITESPACE","\n                ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_getXmlQuotes",408],"(",")",";",["T_WHITESPACE","\n            ",408],["T_DEFAULT","default",409],":",["T_WHITESPACE","\n                ",409],["T_BREAK","break",410],";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n\n        ",411],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_STRING","null",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Set free method request\n     *\n     * @param string $freeMethod\n     * @return void\n     *\/",416],["T_WHITESPACE","\n    ",421],["T_PROTECTED","protected",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","_setFreeMethodRequest",422],"(",["T_VARIABLE","$freeMethod",422],")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$r",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_rawRequest",424],";",["T_WHITESPACE","\n\n        ",424],["T_VARIABLE","$weight",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getTotalNumOfBoxes",426],"(",["T_VARIABLE","$r",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getFreeMethodWeight",426],"(",")",")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$weight",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_getCorrectWeight",427],"(",["T_VARIABLE","$weight",427],")",";",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$r",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","setWeight",428],"(",["T_VARIABLE","$weight",428],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$r",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","setAction",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","configHelper",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getCode",429],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'single'",429],")",")",";",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$r",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","setProduct",430],"(",["T_VARIABLE","$freeMethod",430],")",";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Get cgi rates\n     *\n     * @return Result\n     *\/",433],["T_WHITESPACE","\n    ",437],["T_PROTECTED","protected",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","_getCgiQuotes",438],"(",")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$rowRequest",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_rawRequest",440],";",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_STRING","self",441],["T_DOUBLE_COLON","::",441],["T_STRING","USA_COUNTRY_ID",441],["T_WHITESPACE"," ",441],["T_IS_EQUAL","==",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$rowRequest",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getDestCountry",441],"(",")",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$destPostal",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","substr",442],"(",["T_VARIABLE","$rowRequest",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getDestPostal",442],"(",")",",",["T_WHITESPACE"," ",442],["T_LNUMBER","0",442],",",["T_WHITESPACE"," ",442],["T_LNUMBER","5",442],")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE"," ",443],["T_ELSE","else",443],["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$destPostal",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$rowRequest",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getDestPostal",444],"(",")",";",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n\n        ",445],["T_VARIABLE","$params",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],"[",["T_WHITESPACE","\n            ",447],["T_CONSTANT_ENCAPSED_STRING","'accept_UPS_license_agreement'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'yes'",448],",",["T_WHITESPACE","\n            ",448],["T_CONSTANT_ENCAPSED_STRING","'10_action'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$rowRequest",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getAction",449],"(",")",",",["T_WHITESPACE","\n            ",449],["T_CONSTANT_ENCAPSED_STRING","'13_product'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$rowRequest",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getProduct",450],"(",")",",",["T_WHITESPACE","\n            ",450],["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$rowRequest",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getOrigCountry",451],"(",")",",",["T_WHITESPACE","\n            ",451],["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$rowRequest",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getOrigPostal",452],"(",")",",",["T_WHITESPACE","\n            ",452],["T_CONSTANT_ENCAPSED_STRING","'origCity'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$rowRequest",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getOrigCity",453],"(",")",",",["T_WHITESPACE","\n            ",453],["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$destPostal",454],",",["T_WHITESPACE","\n            ",454],["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$rowRequest",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getDestCountry",455],"(",")",",",["T_WHITESPACE","\n            ",455],["T_CONSTANT_ENCAPSED_STRING","'23_weight'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$rowRequest",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getWeight",456],"(",")",",",["T_WHITESPACE","\n            ",456],["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$rowRequest",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getPickup",457],"(",")",",",["T_WHITESPACE","\n            ",457],["T_CONSTANT_ENCAPSED_STRING","'48_container'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$rowRequest",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getContainer",458],"(",")",",",["T_WHITESPACE","\n            ",458],["T_CONSTANT_ENCAPSED_STRING","'49_residential'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$rowRequest",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getDestType",459],"(",")",",",["T_WHITESPACE","\n            ",459],["T_CONSTANT_ENCAPSED_STRING","'weight_std'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_STRING","strtolower",460],"(",["T_VARIABLE","$rowRequest",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getUnitMeasure",460],"(",")",")",",",["T_WHITESPACE","\n        ",460],"]",";",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$params",462],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",462],"]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$params",462],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",462],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",462],"]",";",["T_WHITESPACE","\n\n        ",462],["T_VARIABLE","$responseBody",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_getCachedQuotes",464],"(",["T_VARIABLE","$params",464],")",";",["T_WHITESPACE","\n        ",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$responseBody",465],["T_WHITESPACE"," ",465],["T_IS_IDENTICAL","===",465],["T_WHITESPACE"," ",465],["T_STRING","null",465],")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$debugData",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$params",466],"]",";",["T_WHITESPACE","\n            ",466],["T_TRY","try",467],["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                ",467],["T_VARIABLE","$url",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getConfigData",468],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_url'",468],")",";",["T_WHITESPACE","\n                ",468],["T_IF","if",469],["T_WHITESPACE"," ",469],"(","!",["T_VARIABLE","$url",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n                    ",469],["T_VARIABLE","$url",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_defaultCgiGatewayUrl",470],";",["T_WHITESPACE","\n                ",470],"}",["T_WHITESPACE","\n                ",471],["T_VARIABLE","$client",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_NEW","new",472],["T_WHITESPACE"," ",472],["T_NS_SEPARATOR","\\",472],["T_STRING","Zend_Http_Client",472],"(",")",";",["T_WHITESPACE","\n                ",472],["T_VARIABLE","$client",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","setUri",473],"(",["T_VARIABLE","$url",473],")",";",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$client",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","setConfig",474],"(","[",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_LNUMBER","0",474],",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'timeout'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_LNUMBER","30",474],"]",")",";",["T_WHITESPACE","\n                ",474],["T_VARIABLE","$client",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","setParameterGet",475],"(",["T_VARIABLE","$params",475],")",";",["T_WHITESPACE","\n                ",475],["T_VARIABLE","$response",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$client",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","request",476],"(",")",";",["T_WHITESPACE","\n                ",476],["T_VARIABLE","$responseBody",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_VARIABLE","$response",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getBody",477],"(",")",";",["T_WHITESPACE","\n\n                ",477],["T_VARIABLE","$debugData",479],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",479],"]",["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$responseBody",479],";",["T_WHITESPACE","\n                ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_setCachedQuotes",480],"(",["T_VARIABLE","$params",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$responseBody",480],")",";",["T_WHITESPACE","\n            ",480],"}",["T_WHITESPACE"," ",481],["T_CATCH","catch",481],["T_WHITESPACE"," ",481],"(",["T_NS_SEPARATOR","\\",481],["T_STRING","Exception",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$e",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n                ",481],["T_VARIABLE","$debugData",482],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",482],"]",["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$e",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getMessage",482],"(",")",",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'code'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$e",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getCode",482],"(",")","]",";",["T_WHITESPACE","\n                ",482],["T_VARIABLE","$responseBody",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","''",483],";",["T_WHITESPACE","\n            ",483],"}",["T_WHITESPACE","\n            ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_debug",485],"(",["T_VARIABLE","$debugData",485],")",";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n\n        ",486],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_parseCgiResponse",488],"(",["T_VARIABLE","$responseBody",488],")",";",["T_WHITESPACE","\n    ",488],"}",["T_WHITESPACE","\n\n    ",489],["T_DOC_COMMENT","\/**\n     * Get shipment by code\n     *\n     * @param string $code\n     * @param string $origin\n     * @return array|bool\n     *\/",491],["T_WHITESPACE","\n    ",497],["T_PUBLIC","public",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","getShipmentByCode",498],"(",["T_VARIABLE","$code",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$origin",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","null",498],")",["T_WHITESPACE","\n    ",498],"{",["T_WHITESPACE","\n        ",499],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$origin",500],["T_WHITESPACE"," ",500],["T_IS_IDENTICAL","===",500],["T_WHITESPACE"," ",500],["T_STRING","null",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n            ",500],["T_VARIABLE","$origin",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getConfigData",501],"(",["T_CONSTANT_ENCAPSED_STRING","'origin_shipment'",501],")",";",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$arr",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","configHelper",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","getCode",503],"(",["T_CONSTANT_ENCAPSED_STRING","'originShipment'",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$origin",503],")",";",["T_WHITESPACE","\n        ",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_ISSET","isset",504],"(",["T_VARIABLE","$arr",504],"[",["T_VARIABLE","$code",504],"]",")",")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n            ",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$arr",505],"[",["T_VARIABLE","$code",505],"]",";",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE"," ",506],["T_ELSE","else",506],["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_STRING","false",507],";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Prepare shipping rate result based on response\n     *\n     * @param string $response\n     * @return Result\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",511],["T_WHITESPACE","\n    ",517],["T_PROTECTED","protected",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","_parseCgiResponse",518],"(",["T_VARIABLE","$response",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$costArr",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],"[","]",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$priceArr",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],"[","]",";",["T_WHITESPACE","\n        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_STRING","strlen",522],"(",["T_STRING","trim",522],"(",["T_VARIABLE","$response",522],")",")",["T_WHITESPACE"," ",522],">",["T_WHITESPACE"," ",522],["T_LNUMBER","0",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$rRows",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","explode",523],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$response",523],")",";",["T_WHITESPACE","\n            ",523],["T_VARIABLE","$allowedMethods",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_STRING","explode",524],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getConfigData",524],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",524],")",")",";",["T_WHITESPACE","\n            ",524],["T_FOREACH","foreach",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$rRows",525],["T_WHITESPACE"," ",525],["T_AS","as",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$rRow",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$row",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_STRING","explode",526],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$rRow",526],")",";",["T_WHITESPACE","\n                ",526],["T_SWITCH","switch",527],["T_WHITESPACE"," ",527],"(",["T_STRING","substr",527],"(",["T_VARIABLE","$row",527],"[",["T_LNUMBER","0",527],"]",",",["T_WHITESPACE"," ",527],"-",["T_LNUMBER","1",527],")",")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n                    ",527],["T_CASE","case",528],["T_WHITESPACE"," ",528],["T_LNUMBER","3",528],":",["T_WHITESPACE","\n                    ",528],["T_CASE","case",529],["T_WHITESPACE"," ",529],["T_LNUMBER","4",529],":",["T_WHITESPACE","\n                        ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_STRING","in_array",530],"(",["T_VARIABLE","$row",530],"[",["T_LNUMBER","1",530],"]",",",["T_WHITESPACE"," ",530],["T_VARIABLE","$allowedMethods",530],")",")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                            ",530],["T_VARIABLE","$responsePrice",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_localeFormat",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getNumber",531],"(",["T_VARIABLE","$row",531],"[",["T_LNUMBER","8",531],"]",")",";",["T_WHITESPACE","\n                            ",531],["T_VARIABLE","$costArr",532],"[",["T_VARIABLE","$row",532],"[",["T_LNUMBER","1",532],"]","]",["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$responsePrice",532],";",["T_WHITESPACE","\n                            ",532],["T_VARIABLE","$priceArr",533],"[",["T_VARIABLE","$row",533],"[",["T_LNUMBER","1",533],"]","]",["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","getMethodPrice",533],"(",["T_VARIABLE","$responsePrice",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$row",533],"[",["T_LNUMBER","1",533],"]",")",";",["T_WHITESPACE","\n                        ",533],"}",["T_WHITESPACE","\n                        ",534],["T_BREAK","break",535],";",["T_WHITESPACE","\n                    ",535],["T_CASE","case",536],["T_WHITESPACE"," ",536],["T_LNUMBER","5",536],":",["T_WHITESPACE","\n                        ",536],["T_VARIABLE","$errorTitle",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$row",537],"[",["T_LNUMBER","1",537],"]",";",["T_WHITESPACE","\n                        ",537],["T_VARIABLE","$message",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","__",538],"(",["T_WHITESPACE","\n                            ",538],["T_CONSTANT_ENCAPSED_STRING","'Sorry, something went wrong. Please try again or contact us and we\\'ll try to help.'",539],["T_WHITESPACE","\n                        ",539],")",";",["T_WHITESPACE","\n                        ",540],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_logger",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","debug",541],"(",["T_VARIABLE","$message",541],["T_WHITESPACE"," ",541],".",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","': '",541],["T_WHITESPACE"," ",541],".",["T_WHITESPACE"," ",541],["T_VARIABLE","$errorTitle",541],")",";",["T_WHITESPACE","\n                        ",541],["T_BREAK","break",542],";",["T_WHITESPACE","\n                    ",542],["T_CASE","case",543],["T_WHITESPACE"," ",543],["T_LNUMBER","6",543],":",["T_WHITESPACE","\n                        ",543],["T_IF","if",544],["T_WHITESPACE"," ",544],"(",["T_STRING","in_array",544],"(",["T_VARIABLE","$row",544],"[",["T_LNUMBER","3",544],"]",",",["T_WHITESPACE"," ",544],["T_VARIABLE","$allowedMethods",544],")",")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n                            ",544],["T_VARIABLE","$responsePrice",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_localeFormat",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getNumber",545],"(",["T_VARIABLE","$row",545],"[",["T_LNUMBER","10",545],"]",")",";",["T_WHITESPACE","\n                            ",545],["T_VARIABLE","$costArr",546],"[",["T_VARIABLE","$row",546],"[",["T_LNUMBER","3",546],"]","]",["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_VARIABLE","$responsePrice",546],";",["T_WHITESPACE","\n                            ",546],["T_VARIABLE","$priceArr",547],"[",["T_VARIABLE","$row",547],"[",["T_LNUMBER","3",547],"]","]",["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getMethodPrice",547],"(",["T_VARIABLE","$responsePrice",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$row",547],"[",["T_LNUMBER","3",547],"]",")",";",["T_WHITESPACE","\n                        ",547],"}",["T_WHITESPACE","\n                        ",548],["T_BREAK","break",549],";",["T_WHITESPACE","\n                    ",549],["T_DEFAULT","default",550],":",["T_WHITESPACE","\n                        ",550],["T_BREAK","break",551],";",["T_WHITESPACE","\n                ",551],"}",["T_WHITESPACE","\n            ",552],"}",["T_WHITESPACE","\n            ",553],["T_STRING","asort",554],"(",["T_VARIABLE","$priceArr",554],")",";",["T_WHITESPACE","\n        ",554],"}",["T_WHITESPACE","\n\n        ",555],["T_VARIABLE","$result",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_rateFactory",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","create",557],"(",")",";",["T_WHITESPACE","\n\n        ",557],["T_IF","if",559],["T_WHITESPACE"," ",559],"(",["T_EMPTY","empty",559],"(",["T_VARIABLE","$priceArr",559],")",")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_VARIABLE","$error",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_rateErrorFactory",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","create",560],"(",")",";",["T_WHITESPACE","\n            ",560],["T_VARIABLE","$error",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","setCarrier",561],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",561],")",";",["T_WHITESPACE","\n            ",561],["T_VARIABLE","$error",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","setCarrierTitle",562],"(",["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getConfigData",562],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",562],")",")",";",["T_WHITESPACE","\n            ",562],["T_VARIABLE","$error",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","setErrorMessage",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","getConfigData",563],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",563],")",")",";",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$result",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","append",564],"(",["T_VARIABLE","$error",564],")",";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE"," ",565],["T_ELSE","else",565],["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n            ",565],["T_FOREACH","foreach",566],["T_WHITESPACE"," ",566],"(",["T_VARIABLE","$priceArr",566],["T_WHITESPACE"," ",566],["T_AS","as",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$method",566],["T_WHITESPACE"," ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$price",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n                ",566],["T_VARIABLE","$rate",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_rateMethodFactory",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","create",567],"(",")",";",["T_WHITESPACE","\n                ",567],["T_VARIABLE","$rate",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","setCarrier",568],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",568],")",";",["T_WHITESPACE","\n                ",568],["T_VARIABLE","$rate",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","setCarrierTitle",569],"(",["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","getConfigData",569],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",569],")",")",";",["T_WHITESPACE","\n                ",569],["T_VARIABLE","$rate",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","setMethod",570],"(",["T_VARIABLE","$method",570],")",";",["T_WHITESPACE","\n                ",570],["T_VARIABLE","$methodArray",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","configHelper",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getCode",571],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$method",571],")",";",["T_WHITESPACE","\n                ",571],["T_VARIABLE","$rate",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","setMethodTitle",572],"(",["T_VARIABLE","$methodArray",572],")",";",["T_WHITESPACE","\n                ",572],["T_VARIABLE","$rate",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","setCost",573],"(",["T_VARIABLE","$costArr",573],"[",["T_VARIABLE","$method",573],"]",")",";",["T_WHITESPACE","\n                ",573],["T_VARIABLE","$rate",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","setPrice",574],"(",["T_VARIABLE","$price",574],")",";",["T_WHITESPACE","\n                ",574],["T_VARIABLE","$result",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","append",575],"(",["T_VARIABLE","$rate",575],")",";",["T_WHITESPACE","\n            ",575],"}",["T_WHITESPACE","\n        ",576],"}",["T_WHITESPACE","\n\n        ",577],["T_RETURN","return",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$result",579],";",["T_WHITESPACE","\n    ",579],"}",["T_WHITESPACE","\n\n    ",580],["T_DOC_COMMENT","\/**\n     * Get xml rates\n     *\n     * @return Result\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",582],["T_WHITESPACE","\n    ",589],["T_PROTECTED","protected",590],["T_WHITESPACE"," ",590],["T_FUNCTION","function",590],["T_WHITESPACE"," ",590],["T_STRING","_getXmlQuotes",590],"(",")",["T_WHITESPACE","\n    ",590],"{",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$url",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","getConfigData",592],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_xml_url'",592],")",";",["T_WHITESPACE","\n\n        ",592],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","setXMLAccessRequest",594],"(",")",";",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$xmlRequest",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_xmlAccessRequest",595],";",["T_WHITESPACE","\n        ",595],["T_VARIABLE","$debugData",596],"[",["T_CONSTANT_ENCAPSED_STRING","'accessRequest'",596],"]",["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","filterDebugData",596],"(",["T_VARIABLE","$xmlRequest",596],")",";",["T_WHITESPACE","\n\n        ",596],["T_VARIABLE","$rowRequest",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_rawRequest",598],";",["T_WHITESPACE","\n        ",598],["T_IF","if",599],["T_WHITESPACE"," ",599],"(",["T_STRING","self",599],["T_DOUBLE_COLON","::",599],["T_STRING","USA_COUNTRY_ID",599],["T_WHITESPACE"," ",599],["T_IS_EQUAL","==",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$rowRequest",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getDestCountry",599],"(",")",")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n            ",599],["T_VARIABLE","$destPostal",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_STRING","substr",600],"(",["T_VARIABLE","$rowRequest",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","getDestPostal",600],"(",")",",",["T_WHITESPACE"," ",600],["T_LNUMBER","0",600],",",["T_WHITESPACE"," ",600],["T_LNUMBER","5",600],")",";",["T_WHITESPACE","\n        ",600],"}",["T_WHITESPACE"," ",601],["T_ELSE","else",601],["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n            ",601],["T_VARIABLE","$destPostal",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$rowRequest",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getDestPostal",602],"(",")",";",["T_WHITESPACE","\n        ",602],"}",["T_WHITESPACE","\n        ",603],["T_VARIABLE","$params",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],"[",["T_WHITESPACE","\n            ",604],["T_CONSTANT_ENCAPSED_STRING","'accept_UPS_license_agreement'",605],["T_WHITESPACE"," ",605],["T_DOUBLE_ARROW","=>",605],["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'yes'",605],",",["T_WHITESPACE","\n            ",605],["T_CONSTANT_ENCAPSED_STRING","'10_action'",606],["T_WHITESPACE"," ",606],["T_DOUBLE_ARROW","=>",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$rowRequest",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","getAction",606],"(",")",",",["T_WHITESPACE","\n            ",606],["T_CONSTANT_ENCAPSED_STRING","'13_product'",607],["T_WHITESPACE"," ",607],["T_DOUBLE_ARROW","=>",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$rowRequest",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","getProduct",607],"(",")",",",["T_WHITESPACE","\n            ",607],["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",608],["T_WHITESPACE"," ",608],["T_DOUBLE_ARROW","=>",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$rowRequest",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getOrigCountry",608],"(",")",",",["T_WHITESPACE","\n            ",608],["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",609],["T_WHITESPACE"," ",609],["T_DOUBLE_ARROW","=>",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$rowRequest",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getOrigPostal",609],"(",")",",",["T_WHITESPACE","\n            ",609],["T_CONSTANT_ENCAPSED_STRING","'origCity'",610],["T_WHITESPACE"," ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$rowRequest",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","getOrigCity",610],"(",")",",",["T_WHITESPACE","\n            ",610],["T_CONSTANT_ENCAPSED_STRING","'origRegionCode'",611],["T_WHITESPACE"," ",611],["T_DOUBLE_ARROW","=>",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$rowRequest",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","getOrigRegionCode",611],"(",")",",",["T_WHITESPACE","\n            ",611],["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",612],["T_WHITESPACE"," ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$destPostal",612],",",["T_WHITESPACE","\n            ",612],["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",613],["T_WHITESPACE"," ",613],["T_DOUBLE_ARROW","=>",613],["T_WHITESPACE"," ",613],["T_VARIABLE","$rowRequest",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","getDestCountry",613],"(",")",",",["T_WHITESPACE","\n            ",613],["T_CONSTANT_ENCAPSED_STRING","'destRegionCode'",614],["T_WHITESPACE"," ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$rowRequest",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","getDestRegionCode",614],"(",")",",",["T_WHITESPACE","\n            ",614],["T_CONSTANT_ENCAPSED_STRING","'23_weight'",615],["T_WHITESPACE"," ",615],["T_DOUBLE_ARROW","=>",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$rowRequest",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","getWeight",615],"(",")",",",["T_WHITESPACE","\n            ",615],["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",616],["T_WHITESPACE"," ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$rowRequest",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getPickup",616],"(",")",",",["T_WHITESPACE","\n            ",616],["T_CONSTANT_ENCAPSED_STRING","'48_container'",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$rowRequest",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","getContainer",617],"(",")",",",["T_WHITESPACE","\n            ",617],["T_CONSTANT_ENCAPSED_STRING","'49_residential'",618],["T_WHITESPACE"," ",618],["T_DOUBLE_ARROW","=>",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$rowRequest",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getDestType",618],"(",")",",",["T_WHITESPACE","\n        ",618],"]",";",["T_WHITESPACE","\n\n        ",619],["T_IF","if",621],["T_WHITESPACE"," ",621],"(",["T_VARIABLE","$params",621],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",621],"]",["T_WHITESPACE"," ",621],["T_IS_EQUAL","==",621],["T_WHITESPACE"," ",621],["T_CONSTANT_ENCAPSED_STRING","'4'",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n            ",621],["T_VARIABLE","$params",622],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",622],"]",["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_CONSTANT_ENCAPSED_STRING","'Shop'",622],";",["T_WHITESPACE","\n            ",622],["T_VARIABLE","$serviceCode",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_STRING","null",623],";",["T_WHITESPACE","\n        ",623],"}",["T_WHITESPACE"," ",624],["T_ELSE","else",624],["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n            ",624],["T_VARIABLE","$params",625],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",625],"]",["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'Rate'",625],";",["T_WHITESPACE","\n            ",625],["T_VARIABLE","$serviceCode",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_VARIABLE","$rowRequest",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","getProduct",626],"(",")",["T_WHITESPACE"," ",626],"?",["T_WHITESPACE"," ",626],["T_VARIABLE","$rowRequest",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","getProduct",626],"(",")",["T_WHITESPACE"," ",626],":",["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","''",626],";",["T_WHITESPACE","\n        ",626],"}",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$serviceDescription",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_VARIABLE","$serviceCode",628],["T_WHITESPACE"," ",628],"?",["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getShipmentByCode",628],"(",["T_VARIABLE","$serviceCode",628],")",["T_WHITESPACE"," ",628],":",["T_WHITESPACE"," ",628],["T_CONSTANT_ENCAPSED_STRING","''",628],";",["T_WHITESPACE","\n\n        ",628],["T_VARIABLE","$xmlParams",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_START_HEREDOC","<<<XMLRequest\n",630],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\"?>\n<RatingServiceSelectionRequest xml:lang=\"en-US\">\n  <Request>\n    <TransactionReference>\n      <CustomerContext>Rating and Service<\/CustomerContext>\n      <XpciVersion>1.0<\/XpciVersion>\n    <\/TransactionReference>\n    <RequestAction>Rate<\/RequestAction>\n    <RequestOption>",631],["T_CURLY_OPEN","{",639],["T_VARIABLE","$params",639],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",639],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/RequestOption>\n  <\/Request>\n  <PickupType>\n          <Code>",639],["T_CURLY_OPEN","{",642],["T_VARIABLE","$params",642],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",642],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",642],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Code>\n          <Description>",642],["T_CURLY_OPEN","{",643],["T_VARIABLE","$params",643],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",643],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",643],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Description>\n  <\/PickupType>\n\n  <Shipment>\n",643],["T_END_HEREDOC","XMLRequest",647],";",["T_WHITESPACE","\n\n        ",647],["T_IF","if",649],["T_WHITESPACE"," ",649],"(",["T_VARIABLE","$serviceCode",649],["T_WHITESPACE"," ",649],["T_IS_NOT_IDENTICAL","!==",649],["T_WHITESPACE"," ",649],["T_STRING","null",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n            ",649],["T_VARIABLE","$xmlParams",650],["T_WHITESPACE"," ",650],["T_CONCAT_EQUAL",".=",650],["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","\"<Service>\"",650],["T_WHITESPACE"," ",650],".",["T_WHITESPACE","\n                ",650],"\"",["T_ENCAPSED_AND_WHITESPACE","<Code>",651],["T_CURLY_OPEN","{",651],["T_VARIABLE","$serviceCode",651],"}",["T_ENCAPSED_AND_WHITESPACE","<\/Code>",651],"\"",["T_WHITESPACE"," ",651],".",["T_WHITESPACE","\n                ",651],"\"",["T_ENCAPSED_AND_WHITESPACE","<Description>",652],["T_CURLY_OPEN","{",652],["T_VARIABLE","$serviceDescription",652],"}",["T_ENCAPSED_AND_WHITESPACE","<\/Description>",652],"\"",["T_WHITESPACE"," ",652],".",["T_WHITESPACE","\n                ",652],["T_CONSTANT_ENCAPSED_STRING","\"<\/Service>\"",653],";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE","\n\n        ",654],["T_VARIABLE","$xmlParams",656],["T_WHITESPACE"," ",656],["T_CONCAT_EQUAL",".=",656],["T_WHITESPACE"," ",656],["T_START_HEREDOC","<<<XMLRequest\n",656],["T_ENCAPSED_AND_WHITESPACE","      <Shipper>\n",657],["T_END_HEREDOC","XMLRequest",658],";",["T_WHITESPACE","\n\n        ",658],["T_IF","if",660],["T_WHITESPACE"," ",660],"(",["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getConfigFlag",660],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiated_active'",660],")",["T_WHITESPACE"," ",660],["T_BOOLEAN_AND","&&",660],["T_WHITESPACE"," ",660],"(",["T_VARIABLE","$shipper",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getConfigData",660],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",660],")",")",")",["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n            ",660],["T_VARIABLE","$xmlParams",661],["T_WHITESPACE"," ",661],["T_CONCAT_EQUAL",".=",661],["T_WHITESPACE"," ",661],"\"",["T_ENCAPSED_AND_WHITESPACE","<ShipperNumber>",661],["T_CURLY_OPEN","{",661],["T_VARIABLE","$shipper",661],"}",["T_ENCAPSED_AND_WHITESPACE","<\/ShipperNumber>",661],"\"",";",["T_WHITESPACE","\n        ",661],"}",["T_WHITESPACE","\n\n        ",662],["T_IF","if",664],["T_WHITESPACE"," ",664],"(",["T_VARIABLE","$rowRequest",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","getIsReturn",664],"(",")",")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n            ",664],["T_VARIABLE","$shipperCity",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","''",665],";",["T_WHITESPACE","\n            ",665],["T_VARIABLE","$shipperPostalCode",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$params",666],"[",["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",666],"]",";",["T_WHITESPACE","\n            ",666],["T_VARIABLE","$shipperCountryCode",667],["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_VARIABLE","$params",667],"[",["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",667],"]",";",["T_WHITESPACE","\n            ",667],["T_VARIABLE","$shipperStateProvince",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_VARIABLE","$params",668],"[",["T_CONSTANT_ENCAPSED_STRING","'destRegionCode'",668],"]",";",["T_WHITESPACE","\n        ",668],"}",["T_WHITESPACE"," ",669],["T_ELSE","else",669],["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n            ",669],["T_VARIABLE","$shipperCity",670],["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_VARIABLE","$params",670],"[",["T_CONSTANT_ENCAPSED_STRING","'origCity'",670],"]",";",["T_WHITESPACE","\n            ",670],["T_VARIABLE","$shipperPostalCode",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$params",671],"[",["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",671],"]",";",["T_WHITESPACE","\n            ",671],["T_VARIABLE","$shipperCountryCode",672],["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],["T_VARIABLE","$params",672],"[",["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",672],"]",";",["T_WHITESPACE","\n            ",672],["T_VARIABLE","$shipperStateProvince",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_VARIABLE","$params",673],"[",["T_CONSTANT_ENCAPSED_STRING","'origRegionCode'",673],"]",";",["T_WHITESPACE","\n        ",673],"}",["T_WHITESPACE","\n\n        ",674],["T_VARIABLE","$xmlParams",676],["T_WHITESPACE"," ",676],["T_CONCAT_EQUAL",".=",676],["T_WHITESPACE"," ",676],["T_START_HEREDOC","<<<XMLRequest\n",676],["T_ENCAPSED_AND_WHITESPACE","      <Address>\n          <City>",677],["T_CURLY_OPEN","{",678],["T_VARIABLE","$shipperCity",678],"}",["T_ENCAPSED_AND_WHITESPACE","<\/City>\n          <PostalCode>",678],["T_CURLY_OPEN","{",679],["T_VARIABLE","$shipperPostalCode",679],"}",["T_ENCAPSED_AND_WHITESPACE","<\/PostalCode>\n          <CountryCode>",679],["T_CURLY_OPEN","{",680],["T_VARIABLE","$shipperCountryCode",680],"}",["T_ENCAPSED_AND_WHITESPACE","<\/CountryCode>\n          <StateProvinceCode>",680],["T_CURLY_OPEN","{",681],["T_VARIABLE","$shipperStateProvince",681],"}",["T_ENCAPSED_AND_WHITESPACE","<\/StateProvinceCode>\n      <\/Address>\n    <\/Shipper>\n    <ShipTo>\n      <Address>\n          <PostalCode>",681],["T_CURLY_OPEN","{",686],["T_VARIABLE","$params",686],"[",["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",686],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/PostalCode>\n          <CountryCode>",686],["T_CURLY_OPEN","{",687],["T_VARIABLE","$params",687],"[",["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",687],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/CountryCode>\n          <ResidentialAddress>",687],["T_CURLY_OPEN","{",688],["T_VARIABLE","$params",688],"[",["T_CONSTANT_ENCAPSED_STRING","'49_residential'",688],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/ResidentialAddress>\n          <StateProvinceCode>",688],["T_CURLY_OPEN","{",689],["T_VARIABLE","$params",689],"[",["T_CONSTANT_ENCAPSED_STRING","'destRegionCode'",689],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/StateProvinceCode>\n",689],["T_END_HEREDOC","XMLRequest",690],";",["T_WHITESPACE","\n\n        ",690],["T_IF","if",692],["T_WHITESPACE"," ",692],"(",["T_VARIABLE","$params",692],"[",["T_CONSTANT_ENCAPSED_STRING","'49_residential'",692],"]",["T_WHITESPACE"," ",692],["T_IS_IDENTICAL","===",692],["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'01'",692],")",["T_WHITESPACE"," ",692],"{",["T_WHITESPACE","\n            ",692],["T_VARIABLE","$xmlParams",693],["T_WHITESPACE"," ",693],["T_CONCAT_EQUAL",".=",693],["T_WHITESPACE"," ",693],"\"",["T_ENCAPSED_AND_WHITESPACE","<ResidentialAddressIndicator>",693],["T_CURLY_OPEN","{",693],["T_VARIABLE","$params",693],"[",["T_CONSTANT_ENCAPSED_STRING","'49_residential'",693],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/ResidentialAddressIndicator>",693],"\"",";",["T_WHITESPACE","\n        ",693],"}",["T_WHITESPACE","\n\n        ",694],["T_VARIABLE","$xmlParams",696],["T_WHITESPACE"," ",696],["T_CONCAT_EQUAL",".=",696],["T_WHITESPACE"," ",696],["T_START_HEREDOC","<<<XMLRequest\n",696],["T_ENCAPSED_AND_WHITESPACE","      <\/Address>\n    <\/ShipTo>\n\n\n    <ShipFrom>\n      <Address>\n          <PostalCode>",697],["T_CURLY_OPEN","{",703],["T_VARIABLE","$params",703],"[",["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",703],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/PostalCode>\n          <CountryCode>",703],["T_CURLY_OPEN","{",704],["T_VARIABLE","$params",704],"[",["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",704],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/CountryCode>\n          <StateProvinceCode>",704],["T_CURLY_OPEN","{",705],["T_VARIABLE","$params",705],"[",["T_CONSTANT_ENCAPSED_STRING","'origRegionCode'",705],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/StateProvinceCode>\n      <\/Address>\n    <\/ShipFrom>\n\n    <Package>\n      <PackagingType><Code>",705],["T_CURLY_OPEN","{",710],["T_VARIABLE","$params",710],"[",["T_CONSTANT_ENCAPSED_STRING","'48_container'",710],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Code><\/PackagingType>\n      <PackageWeight>\n         <UnitOfMeasurement><Code>",710],["T_CURLY_OPEN","{",712],["T_VARIABLE","$rowRequest",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","getUnitMeasure",712],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","<\/Code><\/UnitOfMeasurement>\n        <Weight>",712],["T_CURLY_OPEN","{",713],["T_VARIABLE","$params",713],"[",["T_CONSTANT_ENCAPSED_STRING","'23_weight'",713],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Weight>\n      <\/PackageWeight>\n    <\/Package>\n",713],["T_END_HEREDOC","XMLRequest",716],";",["T_WHITESPACE","\n\n        ",716],["T_IF","if",718],["T_WHITESPACE"," ",718],"(",["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getConfigFlag",718],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiated_active'",718],")",")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n            ",718],["T_VARIABLE","$xmlParams",719],["T_WHITESPACE"," ",719],["T_CONCAT_EQUAL",".=",719],["T_WHITESPACE"," ",719],["T_CONSTANT_ENCAPSED_STRING","\"<RateInformation><NegotiatedRatesIndicator\/><\/RateInformation>\"",719],";",["T_WHITESPACE","\n        ",719],"}",["T_WHITESPACE","\n\n        ",720],["T_VARIABLE","$xmlParams",722],["T_WHITESPACE"," ",722],["T_CONCAT_EQUAL",".=",722],["T_WHITESPACE"," ",722],["T_START_HEREDOC","<<<XMLRequest\n",722],["T_ENCAPSED_AND_WHITESPACE","  <\/Shipment>\n<\/RatingServiceSelectionRequest>\n",723],["T_END_HEREDOC","XMLRequest",725],";",["T_WHITESPACE","\n\n        ",725],["T_VARIABLE","$xmlRequest",727],["T_WHITESPACE"," ",727],["T_CONCAT_EQUAL",".=",727],["T_WHITESPACE"," ",727],["T_VARIABLE","$xmlParams",727],";",["T_WHITESPACE","\n\n        ",727],["T_VARIABLE","$xmlResponse",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","_getCachedQuotes",729],"(",["T_VARIABLE","$xmlRequest",729],")",";",["T_WHITESPACE","\n        ",729],["T_IF","if",730],["T_WHITESPACE"," ",730],"(",["T_VARIABLE","$xmlResponse",730],["T_WHITESPACE"," ",730],["T_IS_IDENTICAL","===",730],["T_WHITESPACE"," ",730],["T_STRING","null",730],")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n            ",730],["T_VARIABLE","$debugData",731],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",731],"]",["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_VARIABLE","$xmlParams",731],";",["T_WHITESPACE","\n            ",731],["T_TRY","try",732],["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n                ",732],["T_VARIABLE","$ch",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_STRING","curl_init",733],"(",")",";",["T_WHITESPACE","\n                ",733],["T_STRING","curl_setopt",734],"(",["T_VARIABLE","$ch",734],",",["T_WHITESPACE"," ",734],["T_STRING","CURLOPT_URL",734],",",["T_WHITESPACE"," ",734],["T_VARIABLE","$url",734],")",";",["T_WHITESPACE","\n                ",734],["T_STRING","curl_setopt",735],"(",["T_VARIABLE","$ch",735],",",["T_WHITESPACE"," ",735],["T_STRING","CURLOPT_RETURNTRANSFER",735],",",["T_WHITESPACE"," ",735],["T_LNUMBER","1",735],")",";",["T_WHITESPACE","\n                ",735],["T_STRING","curl_setopt",736],"(",["T_VARIABLE","$ch",736],",",["T_WHITESPACE"," ",736],["T_STRING","CURLOPT_HEADER",736],",",["T_WHITESPACE"," ",736],["T_LNUMBER","0",736],")",";",["T_WHITESPACE","\n                ",736],["T_STRING","curl_setopt",737],"(",["T_VARIABLE","$ch",737],",",["T_WHITESPACE"," ",737],["T_STRING","CURLOPT_POST",737],",",["T_WHITESPACE"," ",737],["T_LNUMBER","1",737],")",";",["T_WHITESPACE","\n                ",737],["T_STRING","curl_setopt",738],"(",["T_VARIABLE","$ch",738],",",["T_WHITESPACE"," ",738],["T_STRING","CURLOPT_POSTFIELDS",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$xmlRequest",738],")",";",["T_WHITESPACE","\n                ",738],["T_STRING","curl_setopt",739],"(",["T_VARIABLE","$ch",739],",",["T_WHITESPACE"," ",739],["T_STRING","CURLOPT_TIMEOUT",739],",",["T_WHITESPACE"," ",739],["T_LNUMBER","30",739],")",";",["T_WHITESPACE","\n                ",739],["T_STRING","curl_setopt",740],"(",["T_VARIABLE","$ch",740],",",["T_WHITESPACE"," ",740],["T_STRING","CURLOPT_SSL_VERIFYPEER",740],",",["T_WHITESPACE"," ",740],["T_BOOL_CAST","(bool)",740],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","getConfigFlag",740],"(",["T_CONSTANT_ENCAPSED_STRING","'mode_xml'",740],")",")",";",["T_WHITESPACE","\n                ",740],["T_VARIABLE","$xmlResponse",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_STRING","curl_exec",741],"(",["T_VARIABLE","$ch",741],")",";",["T_WHITESPACE","\n\n                ",741],["T_VARIABLE","$debugData",743],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",743],"]",["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_VARIABLE","$xmlResponse",743],";",["T_WHITESPACE","\n                ",743],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_setCachedQuotes",744],"(",["T_VARIABLE","$xmlRequest",744],",",["T_WHITESPACE"," ",744],["T_VARIABLE","$xmlResponse",744],")",";",["T_WHITESPACE","\n            ",744],"}",["T_WHITESPACE"," ",745],["T_CATCH","catch",745],["T_WHITESPACE"," ",745],"(",["T_NS_SEPARATOR","\\",745],["T_STRING","Exception",745],["T_WHITESPACE"," ",745],["T_VARIABLE","$e",745],")",["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n                ",745],["T_VARIABLE","$debugData",746],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",746],"]",["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",746],["T_WHITESPACE"," ",746],["T_DOUBLE_ARROW","=>",746],["T_WHITESPACE"," ",746],["T_VARIABLE","$e",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","getMessage",746],"(",")",",",["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","'code'",746],["T_WHITESPACE"," ",746],["T_DOUBLE_ARROW","=>",746],["T_WHITESPACE"," ",746],["T_VARIABLE","$e",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","getCode",746],"(",")","]",";",["T_WHITESPACE","\n                ",746],["T_VARIABLE","$xmlResponse",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_CONSTANT_ENCAPSED_STRING","''",747],";",["T_WHITESPACE","\n            ",747],"}",["T_WHITESPACE","\n            ",748],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_debug",749],"(",["T_VARIABLE","$debugData",749],")",";",["T_WHITESPACE","\n        ",749],"}",["T_WHITESPACE","\n\n        ",750],["T_RETURN","return",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_parseXmlResponse",752],"(",["T_VARIABLE","$xmlResponse",752],")",";",["T_WHITESPACE","\n    ",752],"}",["T_WHITESPACE","\n\n    ",753],["T_DOC_COMMENT","\/**\n     * Get base currency rate\n     *\n     * @param string $code\n     * @return float\n     *\/",755],["T_WHITESPACE","\n    ",760],["T_PROTECTED","protected",761],["T_WHITESPACE"," ",761],["T_FUNCTION","function",761],["T_WHITESPACE"," ",761],["T_STRING","_getBaseCurrencyRate",761],"(",["T_VARIABLE","$code",761],")",["T_WHITESPACE","\n    ",761],"{",["T_WHITESPACE","\n        ",762],["T_IF","if",763],["T_WHITESPACE"," ",763],"(","!",["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","_baseCurrencyRate",763],")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n            ",763],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_baseCurrencyRate",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_currencyFactory",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","create",764],"(",")",["T_OBJECT_OPERATOR","->",764],["T_STRING","load",764],"(",["T_WHITESPACE","\n                ",764],["T_VARIABLE","$code",765],["T_WHITESPACE","\n            ",765],")",["T_OBJECT_OPERATOR","->",766],["T_STRING","getAnyRate",766],"(",["T_WHITESPACE","\n                ",766],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","_request",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","getBaseCurrency",767],"(",")",["T_OBJECT_OPERATOR","->",767],["T_STRING","getCode",767],"(",")",["T_WHITESPACE","\n            ",767],")",";",["T_WHITESPACE","\n        ",768],"}",["T_WHITESPACE","\n\n        ",769],["T_RETURN","return",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","_baseCurrencyRate",771],";",["T_WHITESPACE","\n    ",771],"}",["T_WHITESPACE","\n\n    ",772],["T_DOC_COMMENT","\/**\n     * Map currency alias to currency code\n     *\n     * @param string $code\n     * @return string\n     *\/",774],["T_WHITESPACE","\n    ",779],["T_PRIVATE","private",780],["T_WHITESPACE"," ",780],["T_FUNCTION","function",780],["T_WHITESPACE"," ",780],["T_STRING","mapCurrencyCode",780],"(",["T_VARIABLE","$code",780],")",["T_WHITESPACE","\n    ",780],"{",["T_WHITESPACE","\n        ",781],["T_VARIABLE","$currencyMapping",782],["T_WHITESPACE"," ",782],"=",["T_WHITESPACE"," ",782],"[",["T_WHITESPACE","\n            ",782],["T_CONSTANT_ENCAPSED_STRING","'RMB'",783],["T_WHITESPACE"," ",783],["T_DOUBLE_ARROW","=>",783],["T_WHITESPACE"," ",783],["T_CONSTANT_ENCAPSED_STRING","'CNY'",783],",",["T_WHITESPACE","\n            ",783],["T_CONSTANT_ENCAPSED_STRING","'CNH'",784],["T_WHITESPACE"," ",784],["T_DOUBLE_ARROW","=>",784],["T_WHITESPACE"," ",784],["T_CONSTANT_ENCAPSED_STRING","'CNY'",784],["T_WHITESPACE","\n        ",784],"]",";",["T_WHITESPACE","\n\n        ",785],["T_RETURN","return",787],["T_WHITESPACE"," ",787],["T_ISSET","isset",787],"(",["T_VARIABLE","$currencyMapping",787],"[",["T_VARIABLE","$code",787],"]",")",["T_WHITESPACE"," ",787],"?",["T_WHITESPACE"," ",787],["T_VARIABLE","$currencyMapping",787],"[",["T_VARIABLE","$code",787],"]",["T_WHITESPACE"," ",787],":",["T_WHITESPACE"," ",787],["T_VARIABLE","$code",787],";",["T_WHITESPACE","\n    ",787],"}",["T_WHITESPACE","\n\n    ",788],["T_DOC_COMMENT","\/**\n     * Prepare shipping rate result based on response\n     *\n     * @param mixed $xmlResponse\n     * @return Result\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",790],["T_WHITESPACE","\n    ",796],["T_PROTECTED","protected",797],["T_WHITESPACE"," ",797],["T_FUNCTION","function",797],["T_WHITESPACE"," ",797],["T_STRING","_parseXmlResponse",797],"(",["T_VARIABLE","$xmlResponse",797],")",["T_WHITESPACE","\n    ",797],"{",["T_WHITESPACE","\n        ",798],["T_VARIABLE","$costArr",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],"[","]",";",["T_WHITESPACE","\n        ",799],["T_VARIABLE","$priceArr",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],"[","]",";",["T_WHITESPACE","\n        ",800],["T_IF","if",801],["T_WHITESPACE"," ",801],"(",["T_STRING","strlen",801],"(",["T_STRING","trim",801],"(",["T_VARIABLE","$xmlResponse",801],")",")",["T_WHITESPACE"," ",801],">",["T_WHITESPACE"," ",801],["T_LNUMBER","0",801],")",["T_WHITESPACE"," ",801],"{",["T_WHITESPACE","\n            ",801],["T_VARIABLE","$xml",802],["T_WHITESPACE"," ",802],"=",["T_WHITESPACE"," ",802],["T_NEW","new",802],["T_WHITESPACE"," ",802],["T_NS_SEPARATOR","\\",802],["T_STRING","Magento",802],["T_NS_SEPARATOR","\\",802],["T_STRING","Framework",802],["T_NS_SEPARATOR","\\",802],["T_STRING","Simplexml",802],["T_NS_SEPARATOR","\\",802],["T_STRING","Config",802],"(",")",";",["T_WHITESPACE","\n            ",802],["T_VARIABLE","$xml",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","loadString",803],"(",["T_VARIABLE","$xmlResponse",803],")",";",["T_WHITESPACE","\n            ",803],["T_VARIABLE","$arr",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_VARIABLE","$xml",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getXpath",804],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/Response\/ResponseStatusCode\/text()\"",804],")",";",["T_WHITESPACE","\n            ",804],["T_VARIABLE","$success",805],["T_WHITESPACE"," ",805],"=",["T_WHITESPACE"," ",805],["T_INT_CAST","(int)",805],["T_VARIABLE","$arr",805],"[",["T_LNUMBER","0",805],"]",";",["T_WHITESPACE","\n            ",805],["T_IF","if",806],["T_WHITESPACE"," ",806],"(",["T_VARIABLE","$success",806],["T_WHITESPACE"," ",806],["T_IS_IDENTICAL","===",806],["T_WHITESPACE"," ",806],["T_LNUMBER","1",806],")",["T_WHITESPACE"," ",806],"{",["T_WHITESPACE","\n                ",806],["T_VARIABLE","$arr",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_VARIABLE","$xml",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","getXpath",807],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/RatedShipment\"",807],")",";",["T_WHITESPACE","\n                ",807],["T_VARIABLE","$allowedMethods",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_STRING","explode",808],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",808],",",["T_WHITESPACE"," ",808],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","getConfigData",808],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",808],")",")",";",["T_WHITESPACE","\n\n                ",808],["T_COMMENT","\/\/ Negotiated rates\n",810],["T_WHITESPACE","                ",811],["T_VARIABLE","$negotiatedArr",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$xml",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getXpath",811],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/RatedShipment\/NegotiatedRates\"",811],")",";",["T_WHITESPACE","\n                ",811],["T_VARIABLE","$negotiatedActive",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getConfigFlag",812],"(",["T_WHITESPACE","\n                        ",812],["T_CONSTANT_ENCAPSED_STRING","'negotiated_active'",813],["T_WHITESPACE","\n                    ",813],")",["T_WHITESPACE"," ",814],["T_BOOLEAN_AND","&&",814],["T_WHITESPACE"," ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","getConfigData",814],"(",["T_WHITESPACE","\n                        ",814],["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",815],["T_WHITESPACE","\n                    ",815],")",["T_WHITESPACE"," ",816],["T_BOOLEAN_AND","&&",816],["T_WHITESPACE"," ",816],"!",["T_EMPTY","empty",816],"(",["T_VARIABLE","$negotiatedArr",816],")",";",["T_WHITESPACE","\n\n                ",816],["T_VARIABLE","$allowedCurrencies",818],["T_WHITESPACE"," ",818],"=",["T_WHITESPACE"," ",818],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","_currencyFactory",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","create",818],"(",")",["T_OBJECT_OPERATOR","->",818],["T_STRING","getConfigAllowCurrencies",818],"(",")",";",["T_WHITESPACE","\n                ",818],["T_FOREACH","foreach",819],["T_WHITESPACE"," ",819],"(",["T_VARIABLE","$arr",819],["T_WHITESPACE"," ",819],["T_AS","as",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$shipElement",819],")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n                    ",819],["T_VARIABLE","$code",820],["T_WHITESPACE"," ",820],"=",["T_WHITESPACE"," ",820],["T_STRING_CAST","(string)",820],["T_VARIABLE","$shipElement",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","Service",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","Code",820],";",["T_WHITESPACE","\n                    ",820],["T_IF","if",821],["T_WHITESPACE"," ",821],"(",["T_STRING","in_array",821],"(",["T_VARIABLE","$code",821],",",["T_WHITESPACE"," ",821],["T_VARIABLE","$allowedMethods",821],")",")",["T_WHITESPACE"," ",821],"{",["T_WHITESPACE","\n                        ",821],["T_IF","if",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$negotiatedActive",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n                            ",822],["T_VARIABLE","$cost",823],["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_VARIABLE","$shipElement",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","NegotiatedRates",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","NetSummaryCharges",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","GrandTotal",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","MonetaryValue",823],";",["T_WHITESPACE","\n                        ",823],"}",["T_WHITESPACE"," ",824],["T_ELSE","else",824],["T_WHITESPACE"," ",824],"{",["T_WHITESPACE","\n                            ",824],["T_VARIABLE","$cost",825],["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_VARIABLE","$shipElement",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","TotalCharges",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","MonetaryValue",825],";",["T_WHITESPACE","\n                        ",825],"}",["T_WHITESPACE","\n\n                        ",826],["T_COMMENT","\/\/convert price with Origin country currency code to base currency code\n",828],["T_WHITESPACE","                        ",829],["T_VARIABLE","$successConversion",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_STRING","true",829],";",["T_WHITESPACE","\n                        ",829],["T_VARIABLE","$responseCurrencyCode",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","mapCurrencyCode",830],"(",["T_WHITESPACE","\n                            ",830],["T_STRING_CAST","(string)",831],["T_VARIABLE","$shipElement",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","TotalCharges",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","CurrencyCode",831],["T_WHITESPACE","\n                        ",831],")",";",["T_WHITESPACE","\n                        ",832],["T_IF","if",833],["T_WHITESPACE"," ",833],"(",["T_VARIABLE","$responseCurrencyCode",833],")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n                            ",833],["T_IF","if",834],["T_WHITESPACE"," ",834],"(",["T_STRING","in_array",834],"(",["T_VARIABLE","$responseCurrencyCode",834],",",["T_WHITESPACE"," ",834],["T_VARIABLE","$allowedCurrencies",834],")",")",["T_WHITESPACE"," ",834],"{",["T_WHITESPACE","\n                                ",834],["T_VARIABLE","$cost",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_DOUBLE_CAST","(double)",835],["T_VARIABLE","$cost",835],["T_WHITESPACE"," ",835],"*",["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","_getBaseCurrencyRate",835],"(",["T_VARIABLE","$responseCurrencyCode",835],")",";",["T_WHITESPACE","\n                            ",835],"}",["T_WHITESPACE"," ",836],["T_ELSE","else",836],["T_WHITESPACE"," ",836],"{",["T_WHITESPACE","\n                                ",836],["T_VARIABLE","$errorTitle",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_STRING","__",837],"(",["T_WHITESPACE","\n                                    ",837],["T_CONSTANT_ENCAPSED_STRING","'We can\\'t convert a rate from \"%1-%2\".'",838],",",["T_WHITESPACE","\n                                    ",838],["T_VARIABLE","$responseCurrencyCode",839],",",["T_WHITESPACE","\n                                    ",839],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","_request",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","getPackageCurrency",840],"(",")",["T_OBJECT_OPERATOR","->",840],["T_STRING","getCode",840],"(",")",["T_WHITESPACE","\n                                ",840],")",";",["T_WHITESPACE","\n                                ",841],["T_VARIABLE","$error",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","_rateErrorFactory",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","create",842],"(",")",";",["T_WHITESPACE","\n                                ",842],["T_VARIABLE","$error",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","setCarrier",843],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",843],")",";",["T_WHITESPACE","\n                                ",843],["T_VARIABLE","$error",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","setCarrierTitle",844],"(",["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","getConfigData",844],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",844],")",")",";",["T_WHITESPACE","\n                                ",844],["T_VARIABLE","$error",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","setErrorMessage",845],"(",["T_VARIABLE","$errorTitle",845],")",";",["T_WHITESPACE","\n                                ",845],["T_VARIABLE","$successConversion",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_STRING","false",846],";",["T_WHITESPACE","\n                            ",846],"}",["T_WHITESPACE","\n                        ",847],"}",["T_WHITESPACE","\n\n                        ",848],["T_IF","if",850],["T_WHITESPACE"," ",850],"(",["T_VARIABLE","$successConversion",850],")",["T_WHITESPACE"," ",850],"{",["T_WHITESPACE","\n                            ",850],["T_VARIABLE","$costArr",851],"[",["T_VARIABLE","$code",851],"]",["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_VARIABLE","$cost",851],";",["T_WHITESPACE","\n                            ",851],["T_VARIABLE","$priceArr",852],"[",["T_VARIABLE","$code",852],"]",["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_VARIABLE","$this",852],["T_OBJECT_OPERATOR","->",852],["T_STRING","getMethodPrice",852],"(",["T_STRING","floatval",852],"(",["T_VARIABLE","$cost",852],")",",",["T_WHITESPACE"," ",852],["T_VARIABLE","$code",852],")",";",["T_WHITESPACE","\n                        ",852],"}",["T_WHITESPACE","\n                    ",853],"}",["T_WHITESPACE","\n                ",854],"}",["T_WHITESPACE","\n            ",855],"}",["T_WHITESPACE"," ",856],["T_ELSE","else",856],["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n                ",856],["T_VARIABLE","$arr",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],["T_VARIABLE","$xml",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","getXpath",857],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/Response\/Error\/ErrorDescription\/text()\"",857],")",";",["T_WHITESPACE","\n                ",857],["T_VARIABLE","$errorTitle",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_STRING_CAST","(string)",858],["T_VARIABLE","$arr",858],"[",["T_LNUMBER","0",858],"]","[",["T_LNUMBER","0",858],"]",";",["T_WHITESPACE","\n                ",858],["T_VARIABLE","$error",859],["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","_rateErrorFactory",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","create",859],"(",")",";",["T_WHITESPACE","\n                ",859],["T_VARIABLE","$error",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","setCarrier",860],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",860],")",";",["T_WHITESPACE","\n                ",860],["T_VARIABLE","$error",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","setCarrierTitle",861],"(",["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","getConfigData",861],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",861],")",")",";",["T_WHITESPACE","\n                ",861],["T_VARIABLE","$error",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","setErrorMessage",862],"(",["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","getConfigData",862],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",862],")",")",";",["T_WHITESPACE","\n            ",862],"}",["T_WHITESPACE","\n        ",863],"}",["T_WHITESPACE","\n\n        ",864],["T_VARIABLE","$result",866],["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_VARIABLE","$this",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","_rateFactory",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","create",866],"(",")",";",["T_WHITESPACE","\n\n        ",866],["T_IF","if",868],["T_WHITESPACE"," ",868],"(",["T_EMPTY","empty",868],"(",["T_VARIABLE","$priceArr",868],")",")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n            ",868],["T_VARIABLE","$error",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_VARIABLE","$this",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","_rateErrorFactory",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","create",869],"(",")",";",["T_WHITESPACE","\n            ",869],["T_VARIABLE","$error",870],["T_OBJECT_OPERATOR","->",870],["T_STRING","setCarrier",870],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",870],")",";",["T_WHITESPACE","\n            ",870],["T_VARIABLE","$error",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","setCarrierTitle",871],"(",["T_VARIABLE","$this",871],["T_OBJECT_OPERATOR","->",871],["T_STRING","getConfigData",871],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",871],")",")",";",["T_WHITESPACE","\n            ",871],["T_IF","if",872],["T_WHITESPACE"," ",872],"(","!",["T_ISSET","isset",872],"(",["T_VARIABLE","$errorTitle",872],")",")",["T_WHITESPACE"," ",872],"{",["T_WHITESPACE","\n                ",872],["T_VARIABLE","$errorTitle",873],["T_WHITESPACE"," ",873],"=",["T_WHITESPACE"," ",873],["T_STRING","__",873],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot retrieve shipping rates'",873],")",";",["T_WHITESPACE","\n            ",873],"}",["T_WHITESPACE","\n            ",874],["T_VARIABLE","$error",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","setErrorMessage",875],"(",["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","getConfigData",875],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",875],")",")",";",["T_WHITESPACE","\n            ",875],["T_VARIABLE","$result",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","append",876],"(",["T_VARIABLE","$error",876],")",";",["T_WHITESPACE","\n        ",876],"}",["T_WHITESPACE"," ",877],["T_ELSE","else",877],["T_WHITESPACE"," ",877],"{",["T_WHITESPACE","\n            ",877],["T_FOREACH","foreach",878],["T_WHITESPACE"," ",878],"(",["T_VARIABLE","$priceArr",878],["T_WHITESPACE"," ",878],["T_AS","as",878],["T_WHITESPACE"," ",878],["T_VARIABLE","$method",878],["T_WHITESPACE"," ",878],["T_DOUBLE_ARROW","=>",878],["T_WHITESPACE"," ",878],["T_VARIABLE","$price",878],")",["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n                ",878],["T_VARIABLE","$rate",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","_rateMethodFactory",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","create",879],"(",")",";",["T_WHITESPACE","\n                ",879],["T_VARIABLE","$rate",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","setCarrier",880],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",880],")",";",["T_WHITESPACE","\n                ",880],["T_VARIABLE","$rate",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","setCarrierTitle",881],"(",["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","getConfigData",881],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",881],")",")",";",["T_WHITESPACE","\n                ",881],["T_VARIABLE","$rate",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","setMethod",882],"(",["T_VARIABLE","$method",882],")",";",["T_WHITESPACE","\n                ",882],["T_VARIABLE","$methodArr",883],["T_WHITESPACE"," ",883],"=",["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","getShipmentByCode",883],"(",["T_VARIABLE","$method",883],")",";",["T_WHITESPACE","\n                ",883],["T_VARIABLE","$rate",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","setMethodTitle",884],"(",["T_VARIABLE","$methodArr",884],")",";",["T_WHITESPACE","\n                ",884],["T_VARIABLE","$rate",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","setCost",885],"(",["T_VARIABLE","$costArr",885],"[",["T_VARIABLE","$method",885],"]",")",";",["T_WHITESPACE","\n                ",885],["T_VARIABLE","$rate",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","setPrice",886],"(",["T_VARIABLE","$price",886],")",";",["T_WHITESPACE","\n                ",886],["T_VARIABLE","$result",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","append",887],"(",["T_VARIABLE","$rate",887],")",";",["T_WHITESPACE","\n            ",887],"}",["T_WHITESPACE","\n        ",888],"}",["T_WHITESPACE","\n\n        ",889],["T_RETURN","return",891],["T_WHITESPACE"," ",891],["T_VARIABLE","$result",891],";",["T_WHITESPACE","\n    ",891],"}",["T_WHITESPACE","\n\n    ",892],["T_DOC_COMMENT","\/**\n     * Get tracking\n     *\n     * @param string|string[] $trackings\n     * @return Result\n     *\/",894],["T_WHITESPACE","\n    ",899],["T_PUBLIC","public",900],["T_WHITESPACE"," ",900],["T_FUNCTION","function",900],["T_WHITESPACE"," ",900],["T_STRING","getTracking",900],"(",["T_VARIABLE","$trackings",900],")",["T_WHITESPACE","\n    ",900],"{",["T_WHITESPACE","\n        ",901],["T_IF","if",902],["T_WHITESPACE"," ",902],"(","!",["T_STRING","is_array",902],"(",["T_VARIABLE","$trackings",902],")",")",["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n            ",902],["T_VARIABLE","$trackings",903],["T_WHITESPACE"," ",903],"=",["T_WHITESPACE"," ",903],"[",["T_VARIABLE","$trackings",903],"]",";",["T_WHITESPACE","\n        ",903],"}",["T_WHITESPACE","\n\n        ",904],["T_IF","if",906],["T_WHITESPACE"," ",906],"(",["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","getConfigData",906],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",906],")",["T_WHITESPACE"," ",906],["T_IS_EQUAL","==",906],["T_WHITESPACE"," ",906],["T_CONSTANT_ENCAPSED_STRING","'UPS'",906],")",["T_WHITESPACE"," ",906],"{",["T_WHITESPACE","\n            ",906],["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","_getCgiTracking",907],"(",["T_VARIABLE","$trackings",907],")",";",["T_WHITESPACE","\n        ",907],"}",["T_WHITESPACE"," ",908],["T_ELSEIF","elseif",908],["T_WHITESPACE"," ",908],"(",["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","getConfigData",908],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",908],")",["T_WHITESPACE"," ",908],["T_IS_EQUAL","==",908],["T_WHITESPACE"," ",908],["T_CONSTANT_ENCAPSED_STRING","'UPS_XML'",908],")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n            ",908],["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","setXMLAccessRequest",909],"(",")",";",["T_WHITESPACE","\n            ",909],["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","_getXmlTracking",910],"(",["T_VARIABLE","$trackings",910],")",";",["T_WHITESPACE","\n        ",910],"}",["T_WHITESPACE","\n\n        ",911],["T_RETURN","return",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$this",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","_result",913],";",["T_WHITESPACE","\n    ",913],"}",["T_WHITESPACE","\n\n    ",914],["T_DOC_COMMENT","\/**\n     * Set xml access request\n     *\n     * @return void\n     *\/",916],["T_WHITESPACE","\n    ",920],["T_PROTECTED","protected",921],["T_WHITESPACE"," ",921],["T_FUNCTION","function",921],["T_WHITESPACE"," ",921],["T_STRING","setXMLAccessRequest",921],"(",")",["T_WHITESPACE","\n    ",921],"{",["T_WHITESPACE","\n        ",922],["T_VARIABLE","$userId",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","getConfigData",923],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",923],")",";",["T_WHITESPACE","\n        ",923],["T_VARIABLE","$userIdPass",924],["T_WHITESPACE"," ",924],"=",["T_WHITESPACE"," ",924],["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","getConfigData",924],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",924],")",";",["T_WHITESPACE","\n        ",924],["T_VARIABLE","$accessKey",925],["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","getConfigData",925],"(",["T_CONSTANT_ENCAPSED_STRING","'access_license_number'",925],")",";",["T_WHITESPACE","\n\n        ",925],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","_xmlAccessRequest",927],["T_WHITESPACE"," ",927],"=",["T_WHITESPACE"," ",927],["T_START_HEREDOC","<<<XMLAuth\n",927],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\"?>\n<AccessRequest xml:lang=\"en-US\">\n  <AccessLicenseNumber>",928],["T_VARIABLE","$accessKey",930],["T_ENCAPSED_AND_WHITESPACE","<\/AccessLicenseNumber>\n  <UserId>",930],["T_VARIABLE","$userId",931],["T_ENCAPSED_AND_WHITESPACE","<\/UserId>\n  <Password>",931],["T_VARIABLE","$userIdPass",932],["T_ENCAPSED_AND_WHITESPACE","<\/Password>\n<\/AccessRequest>\n",932],["T_END_HEREDOC","XMLAuth",934],";",["T_WHITESPACE","\n    ",934],"}",["T_WHITESPACE","\n\n    ",935],["T_DOC_COMMENT","\/**\n     * Get cgi tracking\n     *\n     * @param string[] $trackings\n     * @return \\Magento\\Shipping\\Model\\Tracking\\ResultFactory\n     *\/",937],["T_WHITESPACE","\n    ",942],["T_PROTECTED","protected",943],["T_WHITESPACE"," ",943],["T_FUNCTION","function",943],["T_WHITESPACE"," ",943],["T_STRING","_getCgiTracking",943],"(",["T_VARIABLE","$trackings",943],")",["T_WHITESPACE","\n    ",943],"{",["T_WHITESPACE","\n        ",944],["T_COMMENT","\/\/ups no longer support tracking for data streaming version\n",945],["T_WHITESPACE","        ",946],["T_COMMENT","\/\/so we can only reply the popup window to ups.\n",946],["T_WHITESPACE","        ",947],["T_VARIABLE","$result",947],["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","_trackFactory",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","create",947],"(",")",";",["T_WHITESPACE","\n        ",947],["T_FOREACH","foreach",948],["T_WHITESPACE"," ",948],"(",["T_VARIABLE","$trackings",948],["T_WHITESPACE"," ",948],["T_AS","as",948],["T_WHITESPACE"," ",948],["T_VARIABLE","$tracking",948],")",["T_WHITESPACE"," ",948],"{",["T_WHITESPACE","\n            ",948],["T_VARIABLE","$status",949],["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","_trackStatusFactory",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","create",949],"(",")",";",["T_WHITESPACE","\n            ",949],["T_VARIABLE","$status",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","setCarrier",950],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",950],")",";",["T_WHITESPACE","\n            ",950],["T_VARIABLE","$status",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","setCarrierTitle",951],"(",["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","getConfigData",951],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",951],")",")",";",["T_WHITESPACE","\n            ",951],["T_VARIABLE","$status",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","setTracking",952],"(",["T_VARIABLE","$tracking",952],")",";",["T_WHITESPACE","\n            ",952],["T_VARIABLE","$status",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","setPopup",953],"(",["T_LNUMBER","1",953],")",";",["T_WHITESPACE","\n            ",953],["T_VARIABLE","$status",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","setUrl",954],"(",["T_WHITESPACE","\n                ",954],["T_CONSTANT_ENCAPSED_STRING","\"http:\/\/wwwapps.ups.com\/WebTracking\/processInputRequest?HTMLVersion=5.0&error_carried=true\"",955],["T_WHITESPACE"," ",955],".",["T_WHITESPACE","\n                ",955],"\"",["T_ENCAPSED_AND_WHITESPACE","&tracknums_displayed=5&TypeOfInquiryNumber=T&loc=en_US&InquiryNumber1=",956],["T_CURLY_OPEN","{",956],["T_VARIABLE","$tracking",956],"}","\"",["T_WHITESPACE"," ",956],".",["T_WHITESPACE","\n                ",956],["T_CONSTANT_ENCAPSED_STRING","\"&AgreeToTermsAndConditions=yes\"",957],["T_WHITESPACE","\n            ",957],")",";",["T_WHITESPACE","\n            ",958],["T_VARIABLE","$result",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","append",959],"(",["T_VARIABLE","$status",959],")",";",["T_WHITESPACE","\n        ",959],"}",["T_WHITESPACE","\n\n        ",960],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","_result",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_VARIABLE","$result",962],";",["T_WHITESPACE","\n\n        ",962],["T_RETURN","return",964],["T_WHITESPACE"," ",964],["T_VARIABLE","$result",964],";",["T_WHITESPACE","\n    ",964],"}",["T_WHITESPACE","\n\n    ",965],["T_DOC_COMMENT","\/**\n     * Get xml tracking\n     *\n     * @param string[] $trackings\n     * @return Result\n     *\/",967],["T_WHITESPACE","\n    ",972],["T_PROTECTED","protected",973],["T_WHITESPACE"," ",973],["T_FUNCTION","function",973],["T_WHITESPACE"," ",973],["T_STRING","_getXmlTracking",973],"(",["T_VARIABLE","$trackings",973],")",["T_WHITESPACE","\n    ",973],"{",["T_WHITESPACE","\n        ",974],["T_VARIABLE","$url",975],["T_WHITESPACE"," ",975],"=",["T_WHITESPACE"," ",975],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","getConfigData",975],"(",["T_CONSTANT_ENCAPSED_STRING","'tracking_xml_url'",975],")",";",["T_WHITESPACE","\n\n        ",975],["T_FOREACH","foreach",977],["T_WHITESPACE"," ",977],"(",["T_VARIABLE","$trackings",977],["T_WHITESPACE"," ",977],["T_AS","as",977],["T_WHITESPACE"," ",977],["T_VARIABLE","$tracking",977],")",["T_WHITESPACE"," ",977],"{",["T_WHITESPACE","\n            ",977],["T_VARIABLE","$xmlRequest",978],["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","_xmlAccessRequest",978],";",["T_WHITESPACE","\n\n            ",978],["T_DOC_COMMENT","\/**\n             * RequestOption==>'activity' or '1' to request all activities\n             *\/",980],["T_WHITESPACE","\n            ",982],["T_VARIABLE","$xmlRequest",983],["T_WHITESPACE"," ",983],["T_CONCAT_EQUAL",".=",983],["T_WHITESPACE"," ",983],["T_START_HEREDOC","<<<XMLAuth\n",983],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\" ?>\n<TrackRequest xml:lang=\"en-US\">\n    <Request>\n        <RequestAction>Track<\/RequestAction>\n        <RequestOption>activity<\/RequestOption>\n    <\/Request>\n    <TrackingNumber>",984],["T_VARIABLE","$tracking",990],["T_ENCAPSED_AND_WHITESPACE","<\/TrackingNumber>\n    <IncludeFreight>01<\/IncludeFreight>\n<\/TrackRequest>\n",990],["T_END_HEREDOC","XMLAuth",993],";",["T_WHITESPACE","\n            ",993],["T_VARIABLE","$debugData",994],["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",994],["T_WHITESPACE"," ",994],["T_DOUBLE_ARROW","=>",994],["T_WHITESPACE"," ",994],["T_VARIABLE","$xmlRequest",994],"]",";",["T_WHITESPACE","\n\n            ",994],["T_TRY","try",996],["T_WHITESPACE"," ",996],"{",["T_WHITESPACE","\n                ",996],["T_VARIABLE","$ch",997],["T_WHITESPACE"," ",997],"=",["T_WHITESPACE"," ",997],["T_STRING","curl_init",997],"(",")",";",["T_WHITESPACE","\n                ",997],["T_STRING","curl_setopt",998],"(",["T_VARIABLE","$ch",998],",",["T_WHITESPACE"," ",998],["T_STRING","CURLOPT_URL",998],",",["T_WHITESPACE"," ",998],["T_VARIABLE","$url",998],")",";",["T_WHITESPACE","\n                ",998],["T_STRING","curl_setopt",999],"(",["T_VARIABLE","$ch",999],",",["T_WHITESPACE"," ",999],["T_STRING","CURLOPT_RETURNTRANSFER",999],",",["T_WHITESPACE"," ",999],["T_LNUMBER","1",999],")",";",["T_WHITESPACE","\n                ",999],["T_STRING","curl_setopt",1000],"(",["T_VARIABLE","$ch",1000],",",["T_WHITESPACE"," ",1000],["T_STRING","CURLOPT_HEADER",1000],",",["T_WHITESPACE"," ",1000],["T_LNUMBER","0",1000],")",";",["T_WHITESPACE","\n                ",1000],["T_STRING","curl_setopt",1001],"(",["T_VARIABLE","$ch",1001],",",["T_WHITESPACE"," ",1001],["T_STRING","CURLOPT_POST",1001],",",["T_WHITESPACE"," ",1001],["T_LNUMBER","1",1001],")",";",["T_WHITESPACE","\n                ",1001],["T_STRING","curl_setopt",1002],"(",["T_VARIABLE","$ch",1002],",",["T_WHITESPACE"," ",1002],["T_STRING","CURLOPT_POSTFIELDS",1002],",",["T_WHITESPACE"," ",1002],["T_VARIABLE","$xmlRequest",1002],")",";",["T_WHITESPACE","\n                ",1002],["T_STRING","curl_setopt",1003],"(",["T_VARIABLE","$ch",1003],",",["T_WHITESPACE"," ",1003],["T_STRING","CURLOPT_TIMEOUT",1003],",",["T_WHITESPACE"," ",1003],["T_LNUMBER","30",1003],")",";",["T_WHITESPACE","\n                ",1003],["T_VARIABLE","$xmlResponse",1004],["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_STRING","curl_exec",1004],"(",["T_VARIABLE","$ch",1004],")",";",["T_WHITESPACE","\n                ",1004],["T_VARIABLE","$debugData",1005],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1005],"]",["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_VARIABLE","$xmlResponse",1005],";",["T_WHITESPACE","\n                ",1005],["T_STRING","curl_close",1006],"(",["T_VARIABLE","$ch",1006],")",";",["T_WHITESPACE","\n            ",1006],"}",["T_WHITESPACE"," ",1007],["T_CATCH","catch",1007],["T_WHITESPACE"," ",1007],"(",["T_NS_SEPARATOR","\\",1007],["T_STRING","Exception",1007],["T_WHITESPACE"," ",1007],["T_VARIABLE","$e",1007],")",["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n                ",1007],["T_VARIABLE","$debugData",1008],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1008],"]",["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1008],["T_WHITESPACE"," ",1008],["T_DOUBLE_ARROW","=>",1008],["T_WHITESPACE"," ",1008],["T_VARIABLE","$e",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","getMessage",1008],"(",")",",",["T_WHITESPACE"," ",1008],["T_CONSTANT_ENCAPSED_STRING","'code'",1008],["T_WHITESPACE"," ",1008],["T_DOUBLE_ARROW","=>",1008],["T_WHITESPACE"," ",1008],["T_VARIABLE","$e",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","getCode",1008],"(",")","]",";",["T_WHITESPACE","\n                ",1008],["T_VARIABLE","$xmlResponse",1009],["T_WHITESPACE"," ",1009],"=",["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","''",1009],";",["T_WHITESPACE","\n            ",1009],"}",["T_WHITESPACE","\n\n            ",1010],["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","_debug",1012],"(",["T_VARIABLE","$debugData",1012],")",";",["T_WHITESPACE","\n            ",1012],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","_parseXmlTrackingResponse",1013],"(",["T_VARIABLE","$tracking",1013],",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$xmlResponse",1013],")",";",["T_WHITESPACE","\n        ",1013],"}",["T_WHITESPACE","\n\n        ",1014],["T_RETURN","return",1016],["T_WHITESPACE"," ",1016],["T_VARIABLE","$this",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","_result",1016],";",["T_WHITESPACE","\n    ",1016],"}",["T_WHITESPACE","\n\n    ",1017],["T_DOC_COMMENT","\/**\n     * Parse xml tracking response\n     *\n     * @param string $trackingValue\n     * @param string $xmlResponse\n     * @return null\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",1019],["T_WHITESPACE","\n    ",1027],["T_PROTECTED","protected",1028],["T_WHITESPACE"," ",1028],["T_FUNCTION","function",1028],["T_WHITESPACE"," ",1028],["T_STRING","_parseXmlTrackingResponse",1028],"(",["T_VARIABLE","$trackingValue",1028],",",["T_WHITESPACE"," ",1028],["T_VARIABLE","$xmlResponse",1028],")",["T_WHITESPACE","\n    ",1028],"{",["T_WHITESPACE","\n        ",1029],["T_VARIABLE","$errorTitle",1030],["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","'For some reason we can\\'t retrieve tracking info right now.'",1030],";",["T_WHITESPACE","\n        ",1030],["T_VARIABLE","$resultArr",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],"[","]",";",["T_WHITESPACE","\n        ",1031],["T_VARIABLE","$packageProgress",1032],["T_WHITESPACE"," ",1032],"=",["T_WHITESPACE"," ",1032],"[","]",";",["T_WHITESPACE","\n\n        ",1032],["T_IF","if",1034],["T_WHITESPACE"," ",1034],"(",["T_VARIABLE","$xmlResponse",1034],")",["T_WHITESPACE"," ",1034],"{",["T_WHITESPACE","\n            ",1034],["T_VARIABLE","$xml",1035],["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_NEW","new",1035],["T_WHITESPACE"," ",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Magento",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Framework",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Simplexml",1035],["T_NS_SEPARATOR","\\",1035],["T_STRING","Config",1035],"(",")",";",["T_WHITESPACE","\n            ",1035],["T_VARIABLE","$xml",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","loadString",1036],"(",["T_VARIABLE","$xmlResponse",1036],")",";",["T_WHITESPACE","\n            ",1036],["T_VARIABLE","$arr",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_VARIABLE","$xml",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","getXpath",1037],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Response\/ResponseStatusCode\/text()\"",1037],")",";",["T_WHITESPACE","\n            ",1037],["T_VARIABLE","$success",1038],["T_WHITESPACE"," ",1038],"=",["T_WHITESPACE"," ",1038],["T_INT_CAST","(int)",1038],["T_VARIABLE","$arr",1038],"[",["T_LNUMBER","0",1038],"]","[",["T_LNUMBER","0",1038],"]",";",["T_WHITESPACE","\n\n            ",1038],["T_IF","if",1040],["T_WHITESPACE"," ",1040],"(",["T_VARIABLE","$success",1040],["T_WHITESPACE"," ",1040],["T_IS_IDENTICAL","===",1040],["T_WHITESPACE"," ",1040],["T_LNUMBER","1",1040],")",["T_WHITESPACE"," ",1040],"{",["T_WHITESPACE","\n                ",1040],["T_VARIABLE","$arr",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_VARIABLE","$xml",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","getXpath",1041],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Service\/Description\/text()\"",1041],")",";",["T_WHITESPACE","\n                ",1041],["T_VARIABLE","$resultArr",1042],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1042],"]",["T_WHITESPACE"," ",1042],"=",["T_WHITESPACE"," ",1042],["T_STRING_CAST","(string)",1042],["T_VARIABLE","$arr",1042],"[",["T_LNUMBER","0",1042],"]",";",["T_WHITESPACE","\n\n                ",1042],["T_VARIABLE","$arr",1044],["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_VARIABLE","$xml",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","getXpath",1044],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/PickupDate\/text()\"",1044],")",";",["T_WHITESPACE","\n                ",1044],["T_VARIABLE","$resultArr",1045],"[",["T_CONSTANT_ENCAPSED_STRING","'shippeddate'",1045],"]",["T_WHITESPACE"," ",1045],"=",["T_WHITESPACE"," ",1045],["T_STRING_CAST","(string)",1045],["T_VARIABLE","$arr",1045],"[",["T_LNUMBER","0",1045],"]",";",["T_WHITESPACE","\n\n                ",1045],["T_VARIABLE","$arr",1047],["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_VARIABLE","$xml",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","getXpath",1047],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Package\/PackageWeight\/Weight\/text()\"",1047],")",";",["T_WHITESPACE","\n                ",1047],["T_VARIABLE","$weight",1048],["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_STRING_CAST","(string)",1048],["T_VARIABLE","$arr",1048],"[",["T_LNUMBER","0",1048],"]",";",["T_WHITESPACE","\n\n                ",1048],["T_VARIABLE","$arr",1050],["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_VARIABLE","$xml",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","getXpath",1050],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Package\/PackageWeight\/UnitOfMeasurement\/Code\/text()\"",1050],")",";",["T_WHITESPACE","\n                ",1050],["T_VARIABLE","$unit",1051],["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_STRING_CAST","(string)",1051],["T_VARIABLE","$arr",1051],"[",["T_LNUMBER","0",1051],"]",";",["T_WHITESPACE","\n\n                ",1051],["T_VARIABLE","$resultArr",1053],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1053],"]",["T_WHITESPACE"," ",1053],"=",["T_WHITESPACE"," ",1053],"\"",["T_CURLY_OPEN","{",1053],["T_VARIABLE","$weight",1053],"}",["T_ENCAPSED_AND_WHITESPACE"," ",1053],["T_CURLY_OPEN","{",1053],["T_VARIABLE","$unit",1053],"}","\"",";",["T_WHITESPACE","\n\n                ",1053],["T_VARIABLE","$activityTags",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_VARIABLE","$xml",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","getXpath",1055],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Package\/Activity\"",1055],")",";",["T_WHITESPACE","\n                ",1055],["T_IF","if",1056],["T_WHITESPACE"," ",1056],"(",["T_VARIABLE","$activityTags",1056],")",["T_WHITESPACE"," ",1056],"{",["T_WHITESPACE","\n                    ",1056],["T_VARIABLE","$index",1057],["T_WHITESPACE"," ",1057],"=",["T_WHITESPACE"," ",1057],["T_LNUMBER","1",1057],";",["T_WHITESPACE","\n                    ",1057],["T_FOREACH","foreach",1058],["T_WHITESPACE"," ",1058],"(",["T_VARIABLE","$activityTags",1058],["T_WHITESPACE"," ",1058],["T_AS","as",1058],["T_WHITESPACE"," ",1058],["T_VARIABLE","$activityTag",1058],")",["T_WHITESPACE"," ",1058],"{",["T_WHITESPACE","\n                        ",1058],["T_VARIABLE","$addArr",1059],["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],"[","]",";",["T_WHITESPACE","\n                        ",1059],["T_IF","if",1060],["T_WHITESPACE"," ",1060],"(",["T_ISSET","isset",1060],"(",["T_VARIABLE","$activityTag",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","ActivityLocation",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","Address",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","City",1060],")",")",["T_WHITESPACE"," ",1060],"{",["T_WHITESPACE","\n                            ",1060],["T_VARIABLE","$addArr",1061],"[","]",["T_WHITESPACE"," ",1061],"=",["T_WHITESPACE"," ",1061],["T_STRING_CAST","(string)",1061],["T_VARIABLE","$activityTag",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","ActivityLocation",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","Address",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","City",1061],";",["T_WHITESPACE","\n                        ",1061],"}",["T_WHITESPACE","\n                        ",1062],["T_IF","if",1063],["T_WHITESPACE"," ",1063],"(",["T_ISSET","isset",1063],"(",["T_VARIABLE","$activityTag",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","ActivityLocation",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","Address",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","StateProvinceCode",1063],")",")",["T_WHITESPACE"," ",1063],"{",["T_WHITESPACE","\n                            ",1063],["T_VARIABLE","$addArr",1064],"[","]",["T_WHITESPACE"," ",1064],"=",["T_WHITESPACE"," ",1064],["T_STRING_CAST","(string)",1064],["T_VARIABLE","$activityTag",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","ActivityLocation",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","Address",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","StateProvinceCode",1064],";",["T_WHITESPACE","\n                        ",1064],"}",["T_WHITESPACE","\n                        ",1065],["T_IF","if",1066],["T_WHITESPACE"," ",1066],"(",["T_ISSET","isset",1066],"(",["T_VARIABLE","$activityTag",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","ActivityLocation",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","Address",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","CountryCode",1066],")",")",["T_WHITESPACE"," ",1066],"{",["T_WHITESPACE","\n                            ",1066],["T_VARIABLE","$addArr",1067],"[","]",["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING_CAST","(string)",1067],["T_VARIABLE","$activityTag",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","ActivityLocation",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","Address",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","CountryCode",1067],";",["T_WHITESPACE","\n                        ",1067],"}",["T_WHITESPACE","\n                        ",1068],["T_VARIABLE","$dateArr",1069],["T_WHITESPACE"," ",1069],"=",["T_WHITESPACE"," ",1069],"[","]",";",["T_WHITESPACE","\n                        ",1069],["T_VARIABLE","$date",1070],["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_STRING_CAST","(string)",1070],["T_VARIABLE","$activityTag",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","Date",1070],";",["T_WHITESPACE","\n                        ",1070],["T_COMMENT","\/\/YYYYMMDD\n",1071],["T_WHITESPACE","                        ",1072],["T_VARIABLE","$dateArr",1072],"[","]",["T_WHITESPACE"," ",1072],"=",["T_WHITESPACE"," ",1072],["T_STRING","substr",1072],"(",["T_VARIABLE","$date",1072],",",["T_WHITESPACE"," ",1072],["T_LNUMBER","0",1072],",",["T_WHITESPACE"," ",1072],["T_LNUMBER","4",1072],")",";",["T_WHITESPACE","\n                        ",1072],["T_VARIABLE","$dateArr",1073],"[","]",["T_WHITESPACE"," ",1073],"=",["T_WHITESPACE"," ",1073],["T_STRING","substr",1073],"(",["T_VARIABLE","$date",1073],",",["T_WHITESPACE"," ",1073],["T_LNUMBER","4",1073],",",["T_WHITESPACE"," ",1073],["T_LNUMBER","2",1073],")",";",["T_WHITESPACE","\n                        ",1073],["T_VARIABLE","$dateArr",1074],"[","]",["T_WHITESPACE"," ",1074],"=",["T_WHITESPACE"," ",1074],["T_STRING","substr",1074],"(",["T_VARIABLE","$date",1074],",",["T_WHITESPACE"," ",1074],"-",["T_LNUMBER","2",1074],",",["T_WHITESPACE"," ",1074],["T_LNUMBER","2",1074],")",";",["T_WHITESPACE","\n\n                        ",1074],["T_VARIABLE","$timeArr",1076],["T_WHITESPACE"," ",1076],"=",["T_WHITESPACE"," ",1076],"[","]",";",["T_WHITESPACE","\n                        ",1076],["T_VARIABLE","$time",1077],["T_WHITESPACE"," ",1077],"=",["T_WHITESPACE"," ",1077],["T_STRING_CAST","(string)",1077],["T_VARIABLE","$activityTag",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","Time",1077],";",["T_WHITESPACE","\n                        ",1077],["T_COMMENT","\/\/HHMMSS\n",1078],["T_WHITESPACE","                        ",1079],["T_VARIABLE","$timeArr",1079],"[","]",["T_WHITESPACE"," ",1079],"=",["T_WHITESPACE"," ",1079],["T_STRING","substr",1079],"(",["T_VARIABLE","$time",1079],",",["T_WHITESPACE"," ",1079],["T_LNUMBER","0",1079],",",["T_WHITESPACE"," ",1079],["T_LNUMBER","2",1079],")",";",["T_WHITESPACE","\n                        ",1079],["T_VARIABLE","$timeArr",1080],"[","]",["T_WHITESPACE"," ",1080],"=",["T_WHITESPACE"," ",1080],["T_STRING","substr",1080],"(",["T_VARIABLE","$time",1080],",",["T_WHITESPACE"," ",1080],["T_LNUMBER","2",1080],",",["T_WHITESPACE"," ",1080],["T_LNUMBER","2",1080],")",";",["T_WHITESPACE","\n                        ",1080],["T_VARIABLE","$timeArr",1081],"[","]",["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],["T_STRING","substr",1081],"(",["T_VARIABLE","$time",1081],",",["T_WHITESPACE"," ",1081],"-",["T_LNUMBER","2",1081],",",["T_WHITESPACE"," ",1081],["T_LNUMBER","2",1081],")",";",["T_WHITESPACE","\n\n                        ",1081],["T_IF","if",1083],["T_WHITESPACE"," ",1083],"(",["T_VARIABLE","$index",1083],["T_WHITESPACE"," ",1083],["T_IS_IDENTICAL","===",1083],["T_WHITESPACE"," ",1083],["T_LNUMBER","1",1083],")",["T_WHITESPACE"," ",1083],"{",["T_WHITESPACE","\n                            ",1083],["T_VARIABLE","$resultArr",1084],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1084],"]",["T_WHITESPACE"," ",1084],"=",["T_WHITESPACE"," ",1084],["T_STRING_CAST","(string)",1084],["T_VARIABLE","$activityTag",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","Status",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","StatusType",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","Description",1084],";",["T_WHITESPACE","\n                            ",1084],["T_VARIABLE","$resultArr",1085],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1085],"]",["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_STRING","implode",1085],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1085],",",["T_WHITESPACE"," ",1085],["T_VARIABLE","$dateArr",1085],")",";",["T_WHITESPACE","\n                            ",1085],["T_COMMENT","\/\/YYYY-MM-DD\n",1086],["T_WHITESPACE","                            ",1087],["T_VARIABLE","$resultArr",1087],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1087],"]",["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_STRING","implode",1087],"(",["T_CONSTANT_ENCAPSED_STRING","':'",1087],",",["T_WHITESPACE"," ",1087],["T_VARIABLE","$timeArr",1087],")",";",["T_WHITESPACE","\n                            ",1087],["T_COMMENT","\/\/HH:MM:SS\n",1088],["T_WHITESPACE","                            ",1089],["T_VARIABLE","$resultArr",1089],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1089],"]",["T_WHITESPACE"," ",1089],"=",["T_WHITESPACE"," ",1089],["T_STRING_CAST","(string)",1089],["T_VARIABLE","$activityTag",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","ActivityLocation",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","Description",1089],";",["T_WHITESPACE","\n                            ",1089],["T_VARIABLE","$resultArr",1090],"[",["T_CONSTANT_ENCAPSED_STRING","'signedby'",1090],"]",["T_WHITESPACE"," ",1090],"=",["T_WHITESPACE"," ",1090],["T_STRING_CAST","(string)",1090],["T_VARIABLE","$activityTag",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","ActivityLocation",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","SignedForByName",1090],";",["T_WHITESPACE","\n                            ",1090],["T_IF","if",1091],["T_WHITESPACE"," ",1091],"(",["T_VARIABLE","$addArr",1091],")",["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n                                ",1091],["T_VARIABLE","$resultArr",1092],"[",["T_CONSTANT_ENCAPSED_STRING","'deliveryto'",1092],"]",["T_WHITESPACE"," ",1092],"=",["T_WHITESPACE"," ",1092],["T_STRING","implode",1092],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1092],",",["T_WHITESPACE"," ",1092],["T_VARIABLE","$addArr",1092],")",";",["T_WHITESPACE","\n                            ",1092],"}",["T_WHITESPACE","\n                        ",1093],"}",["T_WHITESPACE"," ",1094],["T_ELSE","else",1094],["T_WHITESPACE"," ",1094],"{",["T_WHITESPACE","\n                            ",1094],["T_VARIABLE","$tempArr",1095],["T_WHITESPACE"," ",1095],"=",["T_WHITESPACE"," ",1095],"[","]",";",["T_WHITESPACE","\n                            ",1095],["T_VARIABLE","$tempArr",1096],"[",["T_CONSTANT_ENCAPSED_STRING","'activity'",1096],"]",["T_WHITESPACE"," ",1096],"=",["T_WHITESPACE"," ",1096],["T_STRING_CAST","(string)",1096],["T_VARIABLE","$activityTag",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","Status",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","StatusType",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","Description",1096],";",["T_WHITESPACE","\n                            ",1096],["T_VARIABLE","$tempArr",1097],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1097],"]",["T_WHITESPACE"," ",1097],"=",["T_WHITESPACE"," ",1097],["T_STRING","implode",1097],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1097],",",["T_WHITESPACE"," ",1097],["T_VARIABLE","$dateArr",1097],")",";",["T_WHITESPACE","\n                            ",1097],["T_COMMENT","\/\/YYYY-MM-DD\n",1098],["T_WHITESPACE","                            ",1099],["T_VARIABLE","$tempArr",1099],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1099],"]",["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_STRING","implode",1099],"(",["T_CONSTANT_ENCAPSED_STRING","':'",1099],",",["T_WHITESPACE"," ",1099],["T_VARIABLE","$timeArr",1099],")",";",["T_WHITESPACE","\n                            ",1099],["T_COMMENT","\/\/HH:MM:SS\n",1100],["T_WHITESPACE","                            ",1101],["T_IF","if",1101],["T_WHITESPACE"," ",1101],"(",["T_VARIABLE","$addArr",1101],")",["T_WHITESPACE"," ",1101],"{",["T_WHITESPACE","\n                                ",1101],["T_VARIABLE","$tempArr",1102],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1102],"]",["T_WHITESPACE"," ",1102],"=",["T_WHITESPACE"," ",1102],["T_STRING","implode",1102],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1102],",",["T_WHITESPACE"," ",1102],["T_VARIABLE","$addArr",1102],")",";",["T_WHITESPACE","\n                            ",1102],"}",["T_WHITESPACE","\n                            ",1103],["T_VARIABLE","$packageProgress",1104],"[","]",["T_WHITESPACE"," ",1104],"=",["T_WHITESPACE"," ",1104],["T_VARIABLE","$tempArr",1104],";",["T_WHITESPACE","\n                        ",1104],"}",["T_WHITESPACE","\n                        ",1105],["T_VARIABLE","$index",1106],["T_INC","++",1106],";",["T_WHITESPACE","\n                    ",1106],"}",["T_WHITESPACE","\n                    ",1107],["T_VARIABLE","$resultArr",1108],"[",["T_CONSTANT_ENCAPSED_STRING","'progressdetail'",1108],"]",["T_WHITESPACE"," ",1108],"=",["T_WHITESPACE"," ",1108],["T_VARIABLE","$packageProgress",1108],";",["T_WHITESPACE","\n                ",1108],"}",["T_WHITESPACE","\n            ",1109],"}",["T_WHITESPACE"," ",1110],["T_ELSE","else",1110],["T_WHITESPACE"," ",1110],"{",["T_WHITESPACE","\n                ",1110],["T_VARIABLE","$arr",1111],["T_WHITESPACE"," ",1111],"=",["T_WHITESPACE"," ",1111],["T_VARIABLE","$xml",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","getXpath",1111],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Response\/Error\/ErrorDescription\/text()\"",1111],")",";",["T_WHITESPACE","\n                ",1111],["T_VARIABLE","$errorTitle",1112],["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_STRING_CAST","(string)",1112],["T_VARIABLE","$arr",1112],"[",["T_LNUMBER","0",1112],"]","[",["T_LNUMBER","0",1112],"]",";",["T_WHITESPACE","\n            ",1112],"}",["T_WHITESPACE","\n        ",1113],"}",["T_WHITESPACE","\n\n        ",1114],["T_IF","if",1116],["T_WHITESPACE"," ",1116],"(","!",["T_VARIABLE","$this",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","_result",1116],")",["T_WHITESPACE"," ",1116],"{",["T_WHITESPACE","\n            ",1116],["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","_result",1117],["T_WHITESPACE"," ",1117],"=",["T_WHITESPACE"," ",1117],["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","_trackFactory",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","create",1117],"(",")",";",["T_WHITESPACE","\n        ",1117],"}",["T_WHITESPACE","\n\n        ",1118],["T_IF","if",1120],["T_WHITESPACE"," ",1120],"(",["T_VARIABLE","$resultArr",1120],")",["T_WHITESPACE"," ",1120],"{",["T_WHITESPACE","\n            ",1120],["T_VARIABLE","$tracking",1121],["T_WHITESPACE"," ",1121],"=",["T_WHITESPACE"," ",1121],["T_VARIABLE","$this",1121],["T_OBJECT_OPERATOR","->",1121],["T_STRING","_trackStatusFactory",1121],["T_OBJECT_OPERATOR","->",1121],["T_STRING","create",1121],"(",")",";",["T_WHITESPACE","\n            ",1121],["T_VARIABLE","$tracking",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","setCarrier",1122],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1122],")",";",["T_WHITESPACE","\n            ",1122],["T_VARIABLE","$tracking",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","setCarrierTitle",1123],"(",["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","getConfigData",1123],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1123],")",")",";",["T_WHITESPACE","\n            ",1123],["T_VARIABLE","$tracking",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","setTracking",1124],"(",["T_VARIABLE","$trackingValue",1124],")",";",["T_WHITESPACE","\n            ",1124],["T_VARIABLE","$tracking",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","addData",1125],"(",["T_VARIABLE","$resultArr",1125],")",";",["T_WHITESPACE","\n            ",1125],["T_VARIABLE","$this",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","_result",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","append",1126],"(",["T_VARIABLE","$tracking",1126],")",";",["T_WHITESPACE","\n        ",1126],"}",["T_WHITESPACE"," ",1127],["T_ELSE","else",1127],["T_WHITESPACE"," ",1127],"{",["T_WHITESPACE","\n            ",1127],["T_VARIABLE","$error",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","_trackErrorFactory",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","create",1128],"(",")",";",["T_WHITESPACE","\n            ",1128],["T_VARIABLE","$error",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","setCarrier",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1129],")",";",["T_WHITESPACE","\n            ",1129],["T_VARIABLE","$error",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","setCarrierTitle",1130],"(",["T_VARIABLE","$this",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","getConfigData",1130],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1130],")",")",";",["T_WHITESPACE","\n            ",1130],["T_VARIABLE","$error",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","setTracking",1131],"(",["T_VARIABLE","$trackingValue",1131],")",";",["T_WHITESPACE","\n            ",1131],["T_VARIABLE","$error",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","setErrorMessage",1132],"(",["T_VARIABLE","$errorTitle",1132],")",";",["T_WHITESPACE","\n            ",1132],["T_VARIABLE","$this",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","_result",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","append",1133],"(",["T_VARIABLE","$error",1133],")",";",["T_WHITESPACE","\n        ",1133],"}",["T_WHITESPACE","\n\n        ",1134],["T_RETURN","return",1136],["T_WHITESPACE"," ",1136],["T_VARIABLE","$this",1136],["T_OBJECT_OPERATOR","->",1136],["T_STRING","_result",1136],";",["T_WHITESPACE","\n    ",1136],"}",["T_WHITESPACE","\n\n    ",1137],["T_DOC_COMMENT","\/**\n     * Get tracking response\n     *\n     * @return string\n     *\/",1139],["T_WHITESPACE","\n    ",1143],["T_PUBLIC","public",1144],["T_WHITESPACE"," ",1144],["T_FUNCTION","function",1144],["T_WHITESPACE"," ",1144],["T_STRING","getResponse",1144],"(",")",["T_WHITESPACE","\n    ",1144],"{",["T_WHITESPACE","\n        ",1145],["T_VARIABLE","$statuses",1146],["T_WHITESPACE"," ",1146],"=",["T_WHITESPACE"," ",1146],["T_CONSTANT_ENCAPSED_STRING","''",1146],";",["T_WHITESPACE","\n        ",1146],["T_IF","if",1147],["T_WHITESPACE"," ",1147],"(",["T_VARIABLE","$this",1147],["T_OBJECT_OPERATOR","->",1147],["T_STRING","_result",1147],["T_WHITESPACE"," ",1147],["T_INSTANCEOF","instanceof",1147],["T_WHITESPACE"," ",1147],["T_NS_SEPARATOR","\\",1147],["T_STRING","Magento",1147],["T_NS_SEPARATOR","\\",1147],["T_STRING","Shipping",1147],["T_NS_SEPARATOR","\\",1147],["T_STRING","Model",1147],["T_NS_SEPARATOR","\\",1147],["T_STRING","Tracking",1147],["T_NS_SEPARATOR","\\",1147],["T_STRING","Result",1147],")",["T_WHITESPACE"," ",1147],"{",["T_WHITESPACE","\n            ",1147],["T_VARIABLE","$trackings",1148],["T_WHITESPACE"," ",1148],"=",["T_WHITESPACE"," ",1148],["T_VARIABLE","$this",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","_result",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","getAllTrackings",1148],"(",")",";",["T_WHITESPACE","\n            ",1148],["T_IF","if",1149],["T_WHITESPACE"," ",1149],"(",["T_VARIABLE","$trackings",1149],")",["T_WHITESPACE"," ",1149],"{",["T_WHITESPACE","\n                ",1149],["T_FOREACH","foreach",1150],["T_WHITESPACE"," ",1150],"(",["T_VARIABLE","$trackings",1150],["T_WHITESPACE"," ",1150],["T_AS","as",1150],["T_WHITESPACE"," ",1150],["T_VARIABLE","$tracking",1150],")",["T_WHITESPACE"," ",1150],"{",["T_WHITESPACE","\n                    ",1150],["T_VARIABLE","$data",1151],["T_WHITESPACE"," ",1151],"=",["T_WHITESPACE"," ",1151],["T_VARIABLE","$tracking",1151],["T_OBJECT_OPERATOR","->",1151],["T_STRING","getAllData",1151],"(",")",";",["T_WHITESPACE","\n                    ",1151],["T_IF","if",1152],["T_WHITESPACE"," ",1152],"(",["T_VARIABLE","$data",1152],")",["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n                        ",1152],["T_IF","if",1153],["T_WHITESPACE"," ",1153],"(",["T_ISSET","isset",1153],"(",["T_VARIABLE","$data",1153],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1153],"]",")",")",["T_WHITESPACE"," ",1153],"{",["T_WHITESPACE","\n                            ",1153],["T_VARIABLE","$statuses",1154],["T_WHITESPACE"," ",1154],["T_CONCAT_EQUAL",".=",1154],["T_WHITESPACE"," ",1154],["T_STRING","__",1154],"(",["T_VARIABLE","$data",1154],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1154],"]",")",";",["T_WHITESPACE","\n                        ",1154],"}",["T_WHITESPACE"," ",1155],["T_ELSE","else",1155],["T_WHITESPACE"," ",1155],"{",["T_WHITESPACE","\n                            ",1155],["T_VARIABLE","$statuses",1156],["T_WHITESPACE"," ",1156],["T_CONCAT_EQUAL",".=",1156],["T_WHITESPACE"," ",1156],["T_STRING","__",1156],"(",["T_VARIABLE","$data",1156],"[",["T_CONSTANT_ENCAPSED_STRING","'error_message'",1156],"]",")",";",["T_WHITESPACE","\n                        ",1156],"}",["T_WHITESPACE","\n                    ",1157],"}",["T_WHITESPACE","\n                ",1158],"}",["T_WHITESPACE","\n            ",1159],"}",["T_WHITESPACE","\n        ",1160],"}",["T_WHITESPACE","\n        ",1161],["T_IF","if",1162],["T_WHITESPACE"," ",1162],"(",["T_EMPTY","empty",1162],"(",["T_VARIABLE","$statuses",1162],")",")",["T_WHITESPACE"," ",1162],"{",["T_WHITESPACE","\n            ",1162],["T_VARIABLE","$statuses",1163],["T_WHITESPACE"," ",1163],"=",["T_WHITESPACE"," ",1163],["T_STRING","__",1163],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty response'",1163],")",";",["T_WHITESPACE","\n        ",1163],"}",["T_WHITESPACE","\n\n        ",1164],["T_RETURN","return",1166],["T_WHITESPACE"," ",1166],["T_VARIABLE","$statuses",1166],";",["T_WHITESPACE","\n    ",1166],"}",["T_WHITESPACE","\n\n    ",1167],["T_DOC_COMMENT","\/**\n     * Get allowed shipping methods\n     *\n     * @return array\n     *\/",1169],["T_WHITESPACE","\n    ",1173],["T_PUBLIC","public",1174],["T_WHITESPACE"," ",1174],["T_FUNCTION","function",1174],["T_WHITESPACE"," ",1174],["T_STRING","getAllowedMethods",1174],"(",")",["T_WHITESPACE","\n    ",1174],"{",["T_WHITESPACE","\n        ",1175],["T_VARIABLE","$allowed",1176],["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE"," ",1176],["T_STRING","explode",1176],"(",["T_CONSTANT_ENCAPSED_STRING","','",1176],",",["T_WHITESPACE"," ",1176],["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","getConfigData",1176],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",1176],")",")",";",["T_WHITESPACE","\n        ",1176],["T_VARIABLE","$arr",1177],["T_WHITESPACE"," ",1177],"=",["T_WHITESPACE"," ",1177],"[","]",";",["T_WHITESPACE","\n        ",1177],["T_VARIABLE","$isByCode",1178],["T_WHITESPACE"," ",1178],"=",["T_WHITESPACE"," ",1178],["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","getConfigData",1178],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",1178],")",["T_WHITESPACE"," ",1178],["T_IS_EQUAL","==",1178],["T_WHITESPACE"," ",1178],["T_CONSTANT_ENCAPSED_STRING","'UPS_XML'",1178],";",["T_WHITESPACE","\n        ",1178],["T_FOREACH","foreach",1179],["T_WHITESPACE"," ",1179],"(",["T_VARIABLE","$allowed",1179],["T_WHITESPACE"," ",1179],["T_AS","as",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$code",1179],")",["T_WHITESPACE"," ",1179],"{",["T_WHITESPACE","\n            ",1179],["T_VARIABLE","$arr",1180],"[",["T_VARIABLE","$code",1180],"]",["T_WHITESPACE"," ",1180],"=",["T_WHITESPACE"," ",1180],["T_VARIABLE","$isByCode",1180],["T_WHITESPACE"," ",1180],"?",["T_WHITESPACE"," ",1180],["T_VARIABLE","$this",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","getShipmentByCode",1180],"(",["T_VARIABLE","$code",1180],")",["T_WHITESPACE"," ",1180],":",["T_WHITESPACE"," ",1180],["T_VARIABLE","$this",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","configHelper",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","getCode",1180],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",1180],",",["T_WHITESPACE"," ",1180],["T_VARIABLE","$code",1180],")",";",["T_WHITESPACE","\n        ",1180],"}",["T_WHITESPACE","\n\n        ",1181],["T_RETURN","return",1183],["T_WHITESPACE"," ",1183],["T_VARIABLE","$arr",1183],";",["T_WHITESPACE","\n    ",1183],"}",["T_WHITESPACE","\n\n    ",1184],["T_DOC_COMMENT","\/**\n     * Form XML for shipment request\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return string\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     *\/",1186],["T_WHITESPACE","\n    ",1194],["T_PROTECTED","protected",1195],["T_WHITESPACE"," ",1195],["T_FUNCTION","function",1195],["T_WHITESPACE"," ",1195],["T_STRING","_formShipmentRequest",1195],"(",["T_NS_SEPARATOR","\\",1195],["T_STRING","Magento",1195],["T_NS_SEPARATOR","\\",1195],["T_STRING","Framework",1195],["T_NS_SEPARATOR","\\",1195],["T_STRING","DataObject",1195],["T_WHITESPACE"," ",1195],["T_VARIABLE","$request",1195],")",["T_WHITESPACE","\n    ",1195],"{",["T_WHITESPACE","\n        ",1196],["T_VARIABLE","$packageParams",1197],["T_WHITESPACE"," ",1197],"=",["T_WHITESPACE"," ",1197],["T_VARIABLE","$request",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","getPackageParams",1197],"(",")",";",["T_WHITESPACE","\n        ",1197],["T_VARIABLE","$height",1198],["T_WHITESPACE"," ",1198],"=",["T_WHITESPACE"," ",1198],["T_VARIABLE","$packageParams",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","getHeight",1198],"(",")",";",["T_WHITESPACE","\n        ",1198],["T_VARIABLE","$width",1199],["T_WHITESPACE"," ",1199],"=",["T_WHITESPACE"," ",1199],["T_VARIABLE","$packageParams",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","getWidth",1199],"(",")",";",["T_WHITESPACE","\n        ",1199],["T_VARIABLE","$length",1200],["T_WHITESPACE"," ",1200],"=",["T_WHITESPACE"," ",1200],["T_VARIABLE","$packageParams",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","getLength",1200],"(",")",";",["T_WHITESPACE","\n        ",1200],["T_VARIABLE","$weightUnits",1201],["T_WHITESPACE"," ",1201],"=",["T_WHITESPACE"," ",1201],["T_VARIABLE","$packageParams",1201],["T_OBJECT_OPERATOR","->",1201],["T_STRING","getWeightUnits",1201],"(",")",["T_WHITESPACE"," ",1201],["T_IS_EQUAL","==",1201],["T_WHITESPACE"," ",1201],["T_NS_SEPARATOR","\\",1201],["T_STRING","Zend_Measure_Weight",1201],["T_DOUBLE_COLON","::",1201],["T_STRING","POUND",1201],["T_WHITESPACE"," ",1201],"?",["T_WHITESPACE"," ",1201],["T_CONSTANT_ENCAPSED_STRING","'LBS'",1201],["T_WHITESPACE"," ",1201],":",["T_WHITESPACE"," ",1201],["T_CONSTANT_ENCAPSED_STRING","'KGS'",1201],";",["T_WHITESPACE","\n        ",1201],["T_VARIABLE","$dimensionsUnits",1202],["T_WHITESPACE"," ",1202],"=",["T_WHITESPACE"," ",1202],["T_VARIABLE","$packageParams",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","getDimensionUnits",1202],"(",")",["T_WHITESPACE"," ",1202],["T_IS_EQUAL","==",1202],["T_WHITESPACE"," ",1202],["T_NS_SEPARATOR","\\",1202],["T_STRING","Zend_Measure_Length",1202],["T_DOUBLE_COLON","::",1202],["T_STRING","INCH",1202],["T_WHITESPACE"," ",1202],"?",["T_WHITESPACE"," ",1202],["T_CONSTANT_ENCAPSED_STRING","'IN'",1202],["T_WHITESPACE"," ",1202],":",["T_WHITESPACE"," ",1202],["T_CONSTANT_ENCAPSED_STRING","'CM'",1202],";",["T_WHITESPACE","\n\n        ",1202],["T_VARIABLE","$itemsDesc",1204],["T_WHITESPACE"," ",1204],"=",["T_WHITESPACE"," ",1204],"[","]",";",["T_WHITESPACE","\n        ",1204],["T_VARIABLE","$itemsShipment",1205],["T_WHITESPACE"," ",1205],"=",["T_WHITESPACE"," ",1205],["T_VARIABLE","$request",1205],["T_OBJECT_OPERATOR","->",1205],["T_STRING","getPackageItems",1205],"(",")",";",["T_WHITESPACE","\n        ",1205],["T_FOREACH","foreach",1206],["T_WHITESPACE"," ",1206],"(",["T_VARIABLE","$itemsShipment",1206],["T_WHITESPACE"," ",1206],["T_AS","as",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$itemShipment",1206],")",["T_WHITESPACE"," ",1206],"{",["T_WHITESPACE","\n            ",1206],["T_VARIABLE","$item",1207],["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],["T_NEW","new",1207],["T_WHITESPACE"," ",1207],["T_NS_SEPARATOR","\\",1207],["T_STRING","Magento",1207],["T_NS_SEPARATOR","\\",1207],["T_STRING","Framework",1207],["T_NS_SEPARATOR","\\",1207],["T_STRING","DataObject",1207],"(",")",";",["T_WHITESPACE","\n            ",1207],["T_VARIABLE","$item",1208],["T_OBJECT_OPERATOR","->",1208],["T_STRING","setData",1208],"(",["T_VARIABLE","$itemShipment",1208],")",";",["T_WHITESPACE","\n            ",1208],["T_VARIABLE","$itemsDesc",1209],"[","]",["T_WHITESPACE"," ",1209],"=",["T_WHITESPACE"," ",1209],["T_VARIABLE","$item",1209],["T_OBJECT_OPERATOR","->",1209],["T_STRING","getName",1209],"(",")",";",["T_WHITESPACE","\n        ",1209],"}",["T_WHITESPACE","\n\n        ",1210],["T_VARIABLE","$xmlRequest",1212],["T_WHITESPACE"," ",1212],"=",["T_WHITESPACE"," ",1212],["T_VARIABLE","$this",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","_xmlElFactory",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","create",1212],"(",["T_WHITESPACE","\n            ",1212],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",1213],["T_WHITESPACE"," ",1213],["T_DOUBLE_ARROW","=>",1213],["T_WHITESPACE"," ",1213],["T_CONSTANT_ENCAPSED_STRING","'<?xml version = \"1.0\" ?><ShipmentConfirmRequest xml:lang=\"en-US\"\/>'",1213],"]",["T_WHITESPACE","\n        ",1213],")",";",["T_WHITESPACE","\n        ",1214],["T_VARIABLE","$requestPart",1215],["T_WHITESPACE"," ",1215],"=",["T_WHITESPACE"," ",1215],["T_VARIABLE","$xmlRequest",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","addChild",1215],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",1215],")",";",["T_WHITESPACE","\n        ",1215],["T_VARIABLE","$requestPart",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","addChild",1216],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestAction'",1216],",",["T_WHITESPACE"," ",1216],["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",1216],")",";",["T_WHITESPACE","\n        ",1216],["T_VARIABLE","$requestPart",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","addChild",1217],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestOption'",1217],",",["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","'nonvalidate'",1217],")",";",["T_WHITESPACE","\n\n        ",1217],["T_VARIABLE","$shipmentPart",1219],["T_WHITESPACE"," ",1219],"=",["T_WHITESPACE"," ",1219],["T_VARIABLE","$xmlRequest",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","addChild",1219],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipment'",1219],")",";",["T_WHITESPACE","\n        ",1219],["T_IF","if",1220],["T_WHITESPACE"," ",1220],"(",["T_VARIABLE","$request",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","getIsReturn",1220],"(",")",")",["T_WHITESPACE"," ",1220],"{",["T_WHITESPACE","\n            ",1220],["T_VARIABLE","$returnPart",1221],["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_VARIABLE","$shipmentPart",1221],["T_OBJECT_OPERATOR","->",1221],["T_STRING","addChild",1221],"(",["T_CONSTANT_ENCAPSED_STRING","'ReturnService'",1221],")",";",["T_WHITESPACE","\n            ",1221],["T_COMMENT","\/\/ UPS Print Return Label\n",1222],["T_WHITESPACE","            ",1223],["T_VARIABLE","$returnPart",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","addChild",1223],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1223],",",["T_WHITESPACE"," ",1223],["T_CONSTANT_ENCAPSED_STRING","'9'",1223],")",";",["T_WHITESPACE","\n        ",1223],"}",["T_WHITESPACE","\n        ",1224],["T_VARIABLE","$shipmentPart",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","addChild",1225],"(",["T_CONSTANT_ENCAPSED_STRING","'Description'",1225],",",["T_WHITESPACE"," ",1225],["T_STRING","substr",1225],"(",["T_STRING","implode",1225],"(",["T_CONSTANT_ENCAPSED_STRING","' '",1225],",",["T_WHITESPACE"," ",1225],["T_VARIABLE","$itemsDesc",1225],")",",",["T_WHITESPACE"," ",1225],["T_LNUMBER","0",1225],",",["T_WHITESPACE"," ",1225],["T_LNUMBER","35",1225],")",")",";",["T_WHITESPACE","\n        ",1225],["T_COMMENT","\/\/empirical\n",1226],["T_WHITESPACE","\n        ",1227],["T_VARIABLE","$shipperPart",1228],["T_WHITESPACE"," ",1228],"=",["T_WHITESPACE"," ",1228],["T_VARIABLE","$shipmentPart",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","addChild",1228],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipper'",1228],")",";",["T_WHITESPACE","\n        ",1228],["T_IF","if",1229],["T_WHITESPACE"," ",1229],"(",["T_VARIABLE","$request",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","getIsReturn",1229],"(",")",")",["T_WHITESPACE"," ",1229],"{",["T_WHITESPACE","\n            ",1229],["T_VARIABLE","$shipperPart",1230],["T_OBJECT_OPERATOR","->",1230],["T_STRING","addChild",1230],"(",["T_CONSTANT_ENCAPSED_STRING","'Name'",1230],",",["T_WHITESPACE"," ",1230],["T_VARIABLE","$request",1230],["T_OBJECT_OPERATOR","->",1230],["T_STRING","getRecipientContactCompanyName",1230],"(",")",")",";",["T_WHITESPACE","\n            ",1230],["T_VARIABLE","$shipperPart",1231],["T_OBJECT_OPERATOR","->",1231],["T_STRING","addChild",1231],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1231],",",["T_WHITESPACE"," ",1231],["T_VARIABLE","$request",1231],["T_OBJECT_OPERATOR","->",1231],["T_STRING","getRecipientContactPersonName",1231],"(",")",")",";",["T_WHITESPACE","\n            ",1231],["T_VARIABLE","$shipperPart",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","addChild",1232],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipperNumber'",1232],",",["T_WHITESPACE"," ",1232],["T_VARIABLE","$this",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","getConfigData",1232],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",1232],")",")",";",["T_WHITESPACE","\n            ",1232],["T_VARIABLE","$shipperPart",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","addChild",1233],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1233],",",["T_WHITESPACE"," ",1233],["T_VARIABLE","$request",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","getRecipientContactPhoneNumber",1233],"(",")",")",";",["T_WHITESPACE","\n\n            ",1233],["T_VARIABLE","$addressPart",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],["T_VARIABLE","$shipperPart",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","addChild",1235],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1235],")",";",["T_WHITESPACE","\n            ",1235],["T_VARIABLE","$addressPart",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","addChild",1236],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1236],",",["T_WHITESPACE"," ",1236],["T_VARIABLE","$request",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","getRecipientAddressStreet",1236],"(",")",")",";",["T_WHITESPACE","\n            ",1236],["T_VARIABLE","$addressPart",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","addChild",1237],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1237],",",["T_WHITESPACE"," ",1237],["T_VARIABLE","$request",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","getRecipientAddressStreet2",1237],"(",")",")",";",["T_WHITESPACE","\n            ",1237],["T_VARIABLE","$addressPart",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","addChild",1238],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1238],",",["T_WHITESPACE"," ",1238],["T_VARIABLE","$request",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","getRecipientAddressCity",1238],"(",")",")",";",["T_WHITESPACE","\n            ",1238],["T_VARIABLE","$addressPart",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","addChild",1239],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1239],",",["T_WHITESPACE"," ",1239],["T_VARIABLE","$request",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","getRecipientAddressCountryCode",1239],"(",")",")",";",["T_WHITESPACE","\n            ",1239],["T_VARIABLE","$addressPart",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","addChild",1240],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1240],",",["T_WHITESPACE"," ",1240],["T_VARIABLE","$request",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","getRecipientAddressPostalCode",1240],"(",")",")",";",["T_WHITESPACE","\n            ",1240],["T_IF","if",1241],["T_WHITESPACE"," ",1241],"(",["T_VARIABLE","$request",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","getRecipientAddressStateOrProvinceCode",1241],"(",")",")",["T_WHITESPACE"," ",1241],"{",["T_WHITESPACE","\n                ",1241],["T_VARIABLE","$addressPart",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","addChild",1242],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1242],",",["T_WHITESPACE"," ",1242],["T_VARIABLE","$request",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","getRecipientAddressStateOrProvinceCode",1242],"(",")",")",";",["T_WHITESPACE","\n            ",1242],"}",["T_WHITESPACE","\n        ",1243],"}",["T_WHITESPACE"," ",1244],["T_ELSE","else",1244],["T_WHITESPACE"," ",1244],"{",["T_WHITESPACE","\n            ",1244],["T_VARIABLE","$shipperPart",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","addChild",1245],"(",["T_CONSTANT_ENCAPSED_STRING","'Name'",1245],",",["T_WHITESPACE"," ",1245],["T_VARIABLE","$request",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","getShipperContactCompanyName",1245],"(",")",")",";",["T_WHITESPACE","\n            ",1245],["T_VARIABLE","$shipperPart",1246],["T_OBJECT_OPERATOR","->",1246],["T_STRING","addChild",1246],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1246],",",["T_WHITESPACE"," ",1246],["T_VARIABLE","$request",1246],["T_OBJECT_OPERATOR","->",1246],["T_STRING","getShipperContactPersonName",1246],"(",")",")",";",["T_WHITESPACE","\n            ",1246],["T_VARIABLE","$shipperPart",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","addChild",1247],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipperNumber'",1247],",",["T_WHITESPACE"," ",1247],["T_VARIABLE","$this",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","getConfigData",1247],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",1247],")",")",";",["T_WHITESPACE","\n            ",1247],["T_VARIABLE","$shipperPart",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","addChild",1248],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1248],",",["T_WHITESPACE"," ",1248],["T_VARIABLE","$request",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","getShipperContactPhoneNumber",1248],"(",")",")",";",["T_WHITESPACE","\n\n            ",1248],["T_VARIABLE","$addressPart",1250],["T_WHITESPACE"," ",1250],"=",["T_WHITESPACE"," ",1250],["T_VARIABLE","$shipperPart",1250],["T_OBJECT_OPERATOR","->",1250],["T_STRING","addChild",1250],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1250],")",";",["T_WHITESPACE","\n            ",1250],["T_VARIABLE","$addressPart",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","addChild",1251],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1251],",",["T_WHITESPACE"," ",1251],["T_VARIABLE","$request",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","getShipperAddressStreet",1251],"(",")",")",";",["T_WHITESPACE","\n            ",1251],["T_VARIABLE","$addressPart",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","addChild",1252],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1252],",",["T_WHITESPACE"," ",1252],["T_VARIABLE","$request",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","getShipperAddressStreet2",1252],"(",")",")",";",["T_WHITESPACE","\n            ",1252],["T_VARIABLE","$addressPart",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","addChild",1253],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1253],",",["T_WHITESPACE"," ",1253],["T_VARIABLE","$request",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","getShipperAddressCity",1253],"(",")",")",";",["T_WHITESPACE","\n            ",1253],["T_VARIABLE","$addressPart",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","addChild",1254],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1254],",",["T_WHITESPACE"," ",1254],["T_VARIABLE","$request",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","getShipperAddressCountryCode",1254],"(",")",")",";",["T_WHITESPACE","\n            ",1254],["T_VARIABLE","$addressPart",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","addChild",1255],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1255],",",["T_WHITESPACE"," ",1255],["T_VARIABLE","$request",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","getShipperAddressPostalCode",1255],"(",")",")",";",["T_WHITESPACE","\n            ",1255],["T_IF","if",1256],["T_WHITESPACE"," ",1256],"(",["T_VARIABLE","$request",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","getShipperAddressStateOrProvinceCode",1256],"(",")",")",["T_WHITESPACE"," ",1256],"{",["T_WHITESPACE","\n                ",1256],["T_VARIABLE","$addressPart",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","addChild",1257],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1257],",",["T_WHITESPACE"," ",1257],["T_VARIABLE","$request",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","getShipperAddressStateOrProvinceCode",1257],"(",")",")",";",["T_WHITESPACE","\n            ",1257],"}",["T_WHITESPACE","\n        ",1258],"}",["T_WHITESPACE","\n\n        ",1259],["T_VARIABLE","$shipToPart",1261],["T_WHITESPACE"," ",1261],"=",["T_WHITESPACE"," ",1261],["T_VARIABLE","$shipmentPart",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","addChild",1261],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipTo'",1261],")",";",["T_WHITESPACE","\n        ",1261],["T_VARIABLE","$shipToPart",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","addChild",1262],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1262],",",["T_WHITESPACE"," ",1262],["T_VARIABLE","$request",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","getRecipientContactPersonName",1262],"(",")",")",";",["T_WHITESPACE","\n        ",1262],["T_VARIABLE","$shipToPart",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","addChild",1263],"(",["T_WHITESPACE","\n            ",1263],["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1264],",",["T_WHITESPACE","\n            ",1264],["T_VARIABLE","$request",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","getRecipientContactCompanyName",1265],"(",")",["T_WHITESPACE"," ",1265],"?",["T_WHITESPACE"," ",1265],["T_VARIABLE","$request",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","getRecipientContactCompanyName",1265],"(",")",["T_WHITESPACE"," ",1265],":",["T_WHITESPACE"," ",1265],["T_CONSTANT_ENCAPSED_STRING","'N\/A'",1265],["T_WHITESPACE","\n        ",1265],")",";",["T_WHITESPACE","\n        ",1266],["T_VARIABLE","$shipToPart",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","addChild",1267],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1267],",",["T_WHITESPACE"," ",1267],["T_VARIABLE","$request",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","getRecipientContactPhoneNumber",1267],"(",")",")",";",["T_WHITESPACE","\n\n        ",1267],["T_VARIABLE","$addressPart",1269],["T_WHITESPACE"," ",1269],"=",["T_WHITESPACE"," ",1269],["T_VARIABLE","$shipToPart",1269],["T_OBJECT_OPERATOR","->",1269],["T_STRING","addChild",1269],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1269],")",";",["T_WHITESPACE","\n        ",1269],["T_VARIABLE","$addressPart",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","addChild",1270],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1270],",",["T_WHITESPACE"," ",1270],["T_VARIABLE","$request",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","getRecipientAddressStreet1",1270],"(",")",")",";",["T_WHITESPACE","\n        ",1270],["T_VARIABLE","$addressPart",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","addChild",1271],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1271],",",["T_WHITESPACE"," ",1271],["T_VARIABLE","$request",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","getRecipientAddressStreet2",1271],"(",")",")",";",["T_WHITESPACE","\n        ",1271],["T_VARIABLE","$addressPart",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","addChild",1272],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1272],",",["T_WHITESPACE"," ",1272],["T_VARIABLE","$request",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","getRecipientAddressCity",1272],"(",")",")",";",["T_WHITESPACE","\n        ",1272],["T_VARIABLE","$addressPart",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","addChild",1273],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1273],",",["T_WHITESPACE"," ",1273],["T_VARIABLE","$request",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","getRecipientAddressCountryCode",1273],"(",")",")",";",["T_WHITESPACE","\n        ",1273],["T_VARIABLE","$addressPart",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","addChild",1274],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$request",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","getRecipientAddressPostalCode",1274],"(",")",")",";",["T_WHITESPACE","\n        ",1274],["T_IF","if",1275],["T_WHITESPACE"," ",1275],"(",["T_VARIABLE","$request",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","getRecipientAddressStateOrProvinceCode",1275],"(",")",")",["T_WHITESPACE"," ",1275],"{",["T_WHITESPACE","\n            ",1275],["T_VARIABLE","$addressPart",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","addChild",1276],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1276],",",["T_WHITESPACE"," ",1276],["T_VARIABLE","$request",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","getRecipientAddressRegionCode",1276],"(",")",")",";",["T_WHITESPACE","\n        ",1276],"}",["T_WHITESPACE","\n        ",1277],["T_IF","if",1278],["T_WHITESPACE"," ",1278],"(",["T_VARIABLE","$this",1278],["T_OBJECT_OPERATOR","->",1278],["T_STRING","getConfigData",1278],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",1278],")",["T_WHITESPACE"," ",1278],["T_IS_EQUAL","==",1278],["T_WHITESPACE"," ",1278],["T_CONSTANT_ENCAPSED_STRING","'RES'",1278],")",["T_WHITESPACE"," ",1278],"{",["T_WHITESPACE","\n            ",1278],["T_VARIABLE","$addressPart",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","addChild",1279],"(",["T_CONSTANT_ENCAPSED_STRING","'ResidentialAddress'",1279],")",";",["T_WHITESPACE","\n        ",1279],"}",["T_WHITESPACE","\n\n        ",1280],["T_IF","if",1282],["T_WHITESPACE"," ",1282],"(",["T_VARIABLE","$request",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","getIsReturn",1282],"(",")",")",["T_WHITESPACE"," ",1282],"{",["T_WHITESPACE","\n            ",1282],["T_VARIABLE","$shipFromPart",1283],["T_WHITESPACE"," ",1283],"=",["T_WHITESPACE"," ",1283],["T_VARIABLE","$shipmentPart",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","addChild",1283],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipFrom'",1283],")",";",["T_WHITESPACE","\n            ",1283],["T_VARIABLE","$shipFromPart",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","addChild",1284],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1284],",",["T_WHITESPACE"," ",1284],["T_VARIABLE","$request",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","getShipperContactPersonName",1284],"(",")",")",";",["T_WHITESPACE","\n            ",1284],["T_VARIABLE","$shipFromPart",1285],["T_OBJECT_OPERATOR","->",1285],["T_STRING","addChild",1285],"(",["T_WHITESPACE","\n                ",1285],["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1286],",",["T_WHITESPACE","\n                ",1286],["T_VARIABLE","$request",1287],["T_OBJECT_OPERATOR","->",1287],["T_STRING","getShipperContactCompanyName",1287],"(",")",["T_WHITESPACE"," ",1287],"?",["T_WHITESPACE"," ",1287],["T_VARIABLE","$request",1287],["T_WHITESPACE","\n                    ",1287],["T_OBJECT_OPERATOR","->",1288],["T_STRING","getShipperContactCompanyName",1288],"(",")",["T_WHITESPACE"," ",1288],":",["T_WHITESPACE"," ",1288],["T_VARIABLE","$request",1288],["T_WHITESPACE","\n                    ",1288],["T_OBJECT_OPERATOR","->",1289],["T_STRING","getShipperContactPersonName",1289],"(",")",["T_WHITESPACE","\n            ",1289],")",";",["T_WHITESPACE","\n            ",1290],["T_VARIABLE","$shipFromAddress",1291],["T_WHITESPACE"," ",1291],"=",["T_WHITESPACE"," ",1291],["T_VARIABLE","$shipFromPart",1291],["T_OBJECT_OPERATOR","->",1291],["T_STRING","addChild",1291],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1291],")",";",["T_WHITESPACE","\n            ",1291],["T_VARIABLE","$shipFromAddress",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","addChild",1292],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1292],",",["T_WHITESPACE"," ",1292],["T_VARIABLE","$request",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","getShipperAddressStreet1",1292],"(",")",")",";",["T_WHITESPACE","\n            ",1292],["T_VARIABLE","$shipFromAddress",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","addChild",1293],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1293],",",["T_WHITESPACE"," ",1293],["T_VARIABLE","$request",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","getShipperAddressStreet2",1293],"(",")",")",";",["T_WHITESPACE","\n            ",1293],["T_VARIABLE","$shipFromAddress",1294],["T_OBJECT_OPERATOR","->",1294],["T_STRING","addChild",1294],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1294],",",["T_WHITESPACE"," ",1294],["T_VARIABLE","$request",1294],["T_OBJECT_OPERATOR","->",1294],["T_STRING","getShipperAddressCity",1294],"(",")",")",";",["T_WHITESPACE","\n            ",1294],["T_VARIABLE","$shipFromAddress",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","addChild",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1295],",",["T_WHITESPACE"," ",1295],["T_VARIABLE","$request",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","getShipperAddressCountryCode",1295],"(",")",")",";",["T_WHITESPACE","\n            ",1295],["T_VARIABLE","$shipFromAddress",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","addChild",1296],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1296],",",["T_WHITESPACE"," ",1296],["T_VARIABLE","$request",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","getShipperAddressPostalCode",1296],"(",")",")",";",["T_WHITESPACE","\n            ",1296],["T_IF","if",1297],["T_WHITESPACE"," ",1297],"(",["T_VARIABLE","$request",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","getShipperAddressStateOrProvinceCode",1297],"(",")",")",["T_WHITESPACE"," ",1297],"{",["T_WHITESPACE","\n                ",1297],["T_VARIABLE","$shipFromAddress",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","addChild",1298],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1298],",",["T_WHITESPACE"," ",1298],["T_VARIABLE","$request",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","getShipperAddressStateOrProvinceCode",1298],"(",")",")",";",["T_WHITESPACE","\n            ",1298],"}",["T_WHITESPACE","\n\n            ",1299],["T_VARIABLE","$addressPart",1301],["T_WHITESPACE"," ",1301],"=",["T_WHITESPACE"," ",1301],["T_VARIABLE","$shipToPart",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","addChild",1301],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1301],")",";",["T_WHITESPACE","\n            ",1301],["T_VARIABLE","$addressPart",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","addChild",1302],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1302],",",["T_WHITESPACE"," ",1302],["T_VARIABLE","$request",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","getShipperAddressStreet1",1302],"(",")",")",";",["T_WHITESPACE","\n            ",1302],["T_VARIABLE","$addressPart",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","addChild",1303],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1303],",",["T_WHITESPACE"," ",1303],["T_VARIABLE","$request",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","getShipperAddressStreet2",1303],"(",")",")",";",["T_WHITESPACE","\n            ",1303],["T_VARIABLE","$addressPart",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","addChild",1304],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1304],",",["T_WHITESPACE"," ",1304],["T_VARIABLE","$request",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","getShipperAddressCity",1304],"(",")",")",";",["T_WHITESPACE","\n            ",1304],["T_VARIABLE","$addressPart",1305],["T_OBJECT_OPERATOR","->",1305],["T_STRING","addChild",1305],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1305],",",["T_WHITESPACE"," ",1305],["T_VARIABLE","$request",1305],["T_OBJECT_OPERATOR","->",1305],["T_STRING","getShipperAddressCountryCode",1305],"(",")",")",";",["T_WHITESPACE","\n            ",1305],["T_VARIABLE","$addressPart",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","addChild",1306],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1306],",",["T_WHITESPACE"," ",1306],["T_VARIABLE","$request",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","getShipperAddressPostalCode",1306],"(",")",")",";",["T_WHITESPACE","\n            ",1306],["T_IF","if",1307],["T_WHITESPACE"," ",1307],"(",["T_VARIABLE","$request",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","getShipperAddressStateOrProvinceCode",1307],"(",")",")",["T_WHITESPACE"," ",1307],"{",["T_WHITESPACE","\n                ",1307],["T_VARIABLE","$addressPart",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","addChild",1308],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1308],",",["T_WHITESPACE"," ",1308],["T_VARIABLE","$request",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","getShipperAddressStateOrProvinceCode",1308],"(",")",")",";",["T_WHITESPACE","\n            ",1308],"}",["T_WHITESPACE","\n            ",1309],["T_IF","if",1310],["T_WHITESPACE"," ",1310],"(",["T_VARIABLE","$this",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","getConfigData",1310],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",1310],")",["T_WHITESPACE"," ",1310],["T_IS_EQUAL","==",1310],["T_WHITESPACE"," ",1310],["T_CONSTANT_ENCAPSED_STRING","'RES'",1310],")",["T_WHITESPACE"," ",1310],"{",["T_WHITESPACE","\n                ",1310],["T_VARIABLE","$addressPart",1311],["T_OBJECT_OPERATOR","->",1311],["T_STRING","addChild",1311],"(",["T_CONSTANT_ENCAPSED_STRING","'ResidentialAddress'",1311],")",";",["T_WHITESPACE","\n            ",1311],"}",["T_WHITESPACE","\n        ",1312],"}",["T_WHITESPACE","\n\n        ",1313],["T_VARIABLE","$servicePart",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_VARIABLE","$shipmentPart",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","addChild",1315],"(",["T_CONSTANT_ENCAPSED_STRING","'Service'",1315],")",";",["T_WHITESPACE","\n        ",1315],["T_VARIABLE","$servicePart",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","addChild",1316],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1316],",",["T_WHITESPACE"," ",1316],["T_VARIABLE","$request",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","getShippingMethod",1316],"(",")",")",";",["T_WHITESPACE","\n        ",1316],["T_VARIABLE","$packagePart",1317],["T_WHITESPACE"," ",1317],"=",["T_WHITESPACE"," ",1317],["T_VARIABLE","$shipmentPart",1317],["T_OBJECT_OPERATOR","->",1317],["T_STRING","addChild",1317],"(",["T_CONSTANT_ENCAPSED_STRING","'Package'",1317],")",";",["T_WHITESPACE","\n        ",1317],["T_VARIABLE","$packagePart",1318],["T_OBJECT_OPERATOR","->",1318],["T_STRING","addChild",1318],"(",["T_CONSTANT_ENCAPSED_STRING","'Description'",1318],",",["T_WHITESPACE"," ",1318],["T_STRING","substr",1318],"(",["T_STRING","implode",1318],"(",["T_CONSTANT_ENCAPSED_STRING","' '",1318],",",["T_WHITESPACE"," ",1318],["T_VARIABLE","$itemsDesc",1318],")",",",["T_WHITESPACE"," ",1318],["T_LNUMBER","0",1318],",",["T_WHITESPACE"," ",1318],["T_LNUMBER","35",1318],")",")",";",["T_WHITESPACE","\n        ",1318],["T_COMMENT","\/\/empirical\n",1319],["T_WHITESPACE","        ",1320],["T_VARIABLE","$packagePart",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","addChild",1320],"(",["T_CONSTANT_ENCAPSED_STRING","'PackagingType'",1320],")",["T_OBJECT_OPERATOR","->",1320],["T_STRING","addChild",1320],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1320],",",["T_WHITESPACE"," ",1320],["T_VARIABLE","$request",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","getPackagingType",1320],"(",")",")",";",["T_WHITESPACE","\n        ",1320],["T_VARIABLE","$packageWeight",1321],["T_WHITESPACE"," ",1321],"=",["T_WHITESPACE"," ",1321],["T_VARIABLE","$packagePart",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","addChild",1321],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageWeight'",1321],")",";",["T_WHITESPACE","\n        ",1321],["T_VARIABLE","$packageWeight",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","addChild",1322],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",1322],",",["T_WHITESPACE"," ",1322],["T_VARIABLE","$request",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","getPackageWeight",1322],"(",")",")",";",["T_WHITESPACE","\n        ",1322],["T_VARIABLE","$packageWeight",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","addChild",1323],"(",["T_CONSTANT_ENCAPSED_STRING","'UnitOfMeasurement'",1323],")",["T_OBJECT_OPERATOR","->",1323],["T_STRING","addChild",1323],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1323],",",["T_WHITESPACE"," ",1323],["T_VARIABLE","$weightUnits",1323],")",";",["T_WHITESPACE","\n\n        ",1323],["T_COMMENT","\/\/ set dimensions\n",1325],["T_WHITESPACE","        ",1326],["T_IF","if",1326],["T_WHITESPACE"," ",1326],"(",["T_VARIABLE","$length",1326],["T_WHITESPACE"," ",1326],["T_BOOLEAN_OR","||",1326],["T_WHITESPACE"," ",1326],["T_VARIABLE","$width",1326],["T_WHITESPACE"," ",1326],["T_BOOLEAN_OR","||",1326],["T_WHITESPACE"," ",1326],["T_VARIABLE","$height",1326],")",["T_WHITESPACE"," ",1326],"{",["T_WHITESPACE","\n            ",1326],["T_VARIABLE","$packageDimensions",1327],["T_WHITESPACE"," ",1327],"=",["T_WHITESPACE"," ",1327],["T_VARIABLE","$packagePart",1327],["T_OBJECT_OPERATOR","->",1327],["T_STRING","addChild",1327],"(",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",1327],")",";",["T_WHITESPACE","\n            ",1327],["T_VARIABLE","$packageDimensions",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","addChild",1328],"(",["T_CONSTANT_ENCAPSED_STRING","'UnitOfMeasurement'",1328],")",["T_OBJECT_OPERATOR","->",1328],["T_STRING","addChild",1328],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1328],",",["T_WHITESPACE"," ",1328],["T_VARIABLE","$dimensionsUnits",1328],")",";",["T_WHITESPACE","\n            ",1328],["T_VARIABLE","$packageDimensions",1329],["T_OBJECT_OPERATOR","->",1329],["T_STRING","addChild",1329],"(",["T_CONSTANT_ENCAPSED_STRING","'Length'",1329],",",["T_WHITESPACE"," ",1329],["T_VARIABLE","$length",1329],")",";",["T_WHITESPACE","\n            ",1329],["T_VARIABLE","$packageDimensions",1330],["T_OBJECT_OPERATOR","->",1330],["T_STRING","addChild",1330],"(",["T_CONSTANT_ENCAPSED_STRING","'Width'",1330],",",["T_WHITESPACE"," ",1330],["T_VARIABLE","$width",1330],")",";",["T_WHITESPACE","\n            ",1330],["T_VARIABLE","$packageDimensions",1331],["T_OBJECT_OPERATOR","->",1331],["T_STRING","addChild",1331],"(",["T_CONSTANT_ENCAPSED_STRING","'Height'",1331],",",["T_WHITESPACE"," ",1331],["T_VARIABLE","$height",1331],")",";",["T_WHITESPACE","\n        ",1331],"}",["T_WHITESPACE","\n\n        ",1332],["T_COMMENT","\/\/ ups support reference number only for domestic service\n",1334],["T_WHITESPACE","        ",1335],["T_IF","if",1335],["T_WHITESPACE"," ",1335],"(",["T_VARIABLE","$this",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","_isUSCountry",1335],"(",["T_WHITESPACE","\n                ",1335],["T_VARIABLE","$request",1336],["T_OBJECT_OPERATOR","->",1336],["T_STRING","getRecipientAddressCountryCode",1336],"(",")",["T_WHITESPACE","\n            ",1336],")",["T_WHITESPACE"," ",1337],["T_BOOLEAN_AND","&&",1337],["T_WHITESPACE"," ",1337],["T_VARIABLE","$this",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","_isUSCountry",1337],"(",["T_WHITESPACE","\n                ",1337],["T_VARIABLE","$request",1338],["T_OBJECT_OPERATOR","->",1338],["T_STRING","getShipperAddressCountryCode",1338],"(",")",["T_WHITESPACE","\n            ",1338],")",["T_WHITESPACE","\n        ",1339],")",["T_WHITESPACE"," ",1340],"{",["T_WHITESPACE","\n            ",1340],["T_IF","if",1341],["T_WHITESPACE"," ",1341],"(",["T_VARIABLE","$request",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","getReferenceData",1341],"(",")",")",["T_WHITESPACE"," ",1341],"{",["T_WHITESPACE","\n                ",1341],["T_VARIABLE","$referenceData",1342],["T_WHITESPACE"," ",1342],"=",["T_WHITESPACE"," ",1342],["T_VARIABLE","$request",1342],["T_OBJECT_OPERATOR","->",1342],["T_STRING","getReferenceData",1342],"(",")",["T_WHITESPACE"," ",1342],".",["T_WHITESPACE"," ",1342],["T_VARIABLE","$request",1342],["T_OBJECT_OPERATOR","->",1342],["T_STRING","getPackageId",1342],"(",")",";",["T_WHITESPACE","\n            ",1342],"}",["T_WHITESPACE"," ",1343],["T_ELSE","else",1343],["T_WHITESPACE"," ",1343],"{",["T_WHITESPACE","\n                ",1343],["T_VARIABLE","$referenceData",1344],["T_WHITESPACE"," ",1344],"=",["T_WHITESPACE"," ",1344],["T_CONSTANT_ENCAPSED_STRING","'Order #'",1344],["T_WHITESPACE"," ",1344],".",["T_WHITESPACE","\n                    ",1344],["T_VARIABLE","$request",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","getOrderShipment",1345],"(",")",["T_OBJECT_OPERATOR","->",1345],["T_STRING","getOrder",1345],"(",")",["T_OBJECT_OPERATOR","->",1345],["T_STRING","getIncrementId",1345],"(",")",["T_WHITESPACE"," ",1345],".",["T_WHITESPACE","\n                    ",1345],["T_CONSTANT_ENCAPSED_STRING","' P'",1346],["T_WHITESPACE"," ",1346],".",["T_WHITESPACE","\n                    ",1346],["T_VARIABLE","$request",1347],["T_OBJECT_OPERATOR","->",1347],["T_STRING","getPackageId",1347],"(",")",";",["T_WHITESPACE","\n            ",1347],"}",["T_WHITESPACE","\n            ",1348],["T_VARIABLE","$referencePart",1349],["T_WHITESPACE"," ",1349],"=",["T_WHITESPACE"," ",1349],["T_VARIABLE","$packagePart",1349],["T_OBJECT_OPERATOR","->",1349],["T_STRING","addChild",1349],"(",["T_CONSTANT_ENCAPSED_STRING","'ReferenceNumber'",1349],")",";",["T_WHITESPACE","\n            ",1349],["T_VARIABLE","$referencePart",1350],["T_OBJECT_OPERATOR","->",1350],["T_STRING","addChild",1350],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1350],",",["T_WHITESPACE"," ",1350],["T_CONSTANT_ENCAPSED_STRING","'02'",1350],")",";",["T_WHITESPACE","\n            ",1350],["T_VARIABLE","$referencePart",1351],["T_OBJECT_OPERATOR","->",1351],["T_STRING","addChild",1351],"(",["T_CONSTANT_ENCAPSED_STRING","'Value'",1351],",",["T_WHITESPACE"," ",1351],["T_VARIABLE","$referenceData",1351],")",";",["T_WHITESPACE","\n        ",1351],"}",["T_WHITESPACE","\n\n        ",1352],["T_VARIABLE","$deliveryConfirmation",1354],["T_WHITESPACE"," ",1354],"=",["T_WHITESPACE"," ",1354],["T_VARIABLE","$packageParams",1354],["T_OBJECT_OPERATOR","->",1354],["T_STRING","getDeliveryConfirmation",1354],"(",")",";",["T_WHITESPACE","\n        ",1354],["T_IF","if",1355],["T_WHITESPACE"," ",1355],"(",["T_VARIABLE","$deliveryConfirmation",1355],")",["T_WHITESPACE"," ",1355],"{",["T_WHITESPACE","\n            ",1355],["T_DOC_COMMENT","\/** @var $serviceOptionsNode Element *\/",1356],["T_WHITESPACE","\n            ",1356],["T_VARIABLE","$serviceOptionsNode",1357],["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_STRING","null",1357],";",["T_WHITESPACE","\n            ",1357],["T_SWITCH","switch",1358],["T_WHITESPACE"," ",1358],"(",["T_VARIABLE","$this",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","_getDeliveryConfirmationLevel",1358],"(",["T_VARIABLE","$request",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","getRecipientAddressCountryCode",1358],"(",")",")",")",["T_WHITESPACE"," ",1358],"{",["T_WHITESPACE","\n                ",1358],["T_CASE","case",1359],["T_WHITESPACE"," ",1359],["T_STRING","self",1359],["T_DOUBLE_COLON","::",1359],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",1359],":",["T_WHITESPACE","\n                    ",1359],["T_VARIABLE","$serviceOptionsNode",1360],["T_WHITESPACE"," ",1360],"=",["T_WHITESPACE"," ",1360],["T_VARIABLE","$packagePart",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","addChild",1360],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageServiceOptions'",1360],")",";",["T_WHITESPACE","\n                    ",1360],["T_BREAK","break",1361],";",["T_WHITESPACE","\n                ",1361],["T_CASE","case",1362],["T_WHITESPACE"," ",1362],["T_STRING","self",1362],["T_DOUBLE_COLON","::",1362],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",1362],":",["T_WHITESPACE","\n                    ",1362],["T_VARIABLE","$serviceOptionsNode",1363],["T_WHITESPACE"," ",1363],"=",["T_WHITESPACE"," ",1363],["T_VARIABLE","$shipmentPart",1363],["T_OBJECT_OPERATOR","->",1363],["T_STRING","addChild",1363],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipmentServiceOptions'",1363],")",";",["T_WHITESPACE","\n                    ",1363],["T_BREAK","break",1364],";",["T_WHITESPACE","\n                ",1364],["T_DEFAULT","default",1365],":",["T_WHITESPACE","\n                    ",1365],["T_BREAK","break",1366],";",["T_WHITESPACE","\n            ",1366],"}",["T_WHITESPACE","\n            ",1367],["T_IF","if",1368],["T_WHITESPACE"," ",1368],"(","!",["T_STRING","is_null",1368],"(",["T_VARIABLE","$serviceOptionsNode",1368],")",")",["T_WHITESPACE"," ",1368],"{",["T_WHITESPACE","\n                ",1368],["T_VARIABLE","$serviceOptionsNode",1369],["T_OBJECT_OPERATOR","->",1369],["T_STRING","addChild",1369],"(",["T_WHITESPACE","\n                    ",1369],["T_CONSTANT_ENCAPSED_STRING","'DeliveryConfirmation'",1370],["T_WHITESPACE","\n                ",1370],")",["T_OBJECT_OPERATOR","->",1371],["T_STRING","addChild",1371],"(",["T_WHITESPACE","\n                    ",1371],["T_CONSTANT_ENCAPSED_STRING","'DCISType'",1372],",",["T_WHITESPACE","\n                    ",1372],["T_VARIABLE","$packageParams",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","getDeliveryConfirmation",1373],"(",")",["T_WHITESPACE","\n                ",1373],")",";",["T_WHITESPACE","\n            ",1374],"}",["T_WHITESPACE","\n        ",1375],"}",["T_WHITESPACE","\n\n        ",1376],["T_VARIABLE","$shipmentPart",1378],["T_OBJECT_OPERATOR","->",1378],["T_STRING","addChild",1378],"(",["T_WHITESPACE","\n            ",1378],["T_CONSTANT_ENCAPSED_STRING","'PaymentInformation'",1379],["T_WHITESPACE","\n        ",1379],")",["T_OBJECT_OPERATOR","->",1380],["T_STRING","addChild",1380],"(",["T_WHITESPACE","\n            ",1380],["T_CONSTANT_ENCAPSED_STRING","'Prepaid'",1381],["T_WHITESPACE","\n        ",1381],")",["T_OBJECT_OPERATOR","->",1382],["T_STRING","addChild",1382],"(",["T_WHITESPACE","\n            ",1382],["T_CONSTANT_ENCAPSED_STRING","'BillShipper'",1383],["T_WHITESPACE","\n        ",1383],")",["T_OBJECT_OPERATOR","->",1384],["T_STRING","addChild",1384],"(",["T_WHITESPACE","\n            ",1384],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",1385],",",["T_WHITESPACE","\n            ",1385],["T_VARIABLE","$this",1386],["T_OBJECT_OPERATOR","->",1386],["T_STRING","getConfigData",1386],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",1386],")",["T_WHITESPACE","\n        ",1386],")",";",["T_WHITESPACE","\n\n        ",1387],["T_IF","if",1389],["T_WHITESPACE"," ",1389],"(",["T_VARIABLE","$request",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","getPackagingType",1389],"(",")",["T_WHITESPACE"," ",1389],["T_IS_NOT_EQUAL","!=",1389],["T_WHITESPACE"," ",1389],["T_VARIABLE","$this",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","configHelper",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","getCode",1389],"(",["T_WHITESPACE","\n                ",1389],["T_CONSTANT_ENCAPSED_STRING","'container'",1390],",",["T_WHITESPACE","\n                ",1390],["T_CONSTANT_ENCAPSED_STRING","'ULE'",1391],["T_WHITESPACE","\n            ",1391],")",["T_WHITESPACE"," ",1392],["T_BOOLEAN_AND","&&",1392],["T_WHITESPACE","\n            ",1392],["T_VARIABLE","$request",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","getShipperAddressCountryCode",1393],"(",")",["T_WHITESPACE"," ",1393],["T_IS_EQUAL","==",1393],["T_WHITESPACE"," ",1393],["T_STRING","self",1393],["T_DOUBLE_COLON","::",1393],["T_STRING","USA_COUNTRY_ID",1393],["T_WHITESPACE"," ",1393],["T_BOOLEAN_AND","&&",1393],["T_WHITESPACE","\n            ",1393],"(",["T_VARIABLE","$request",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","getRecipientAddressCountryCode",1394],"(",")",["T_WHITESPACE"," ",1394],["T_IS_EQUAL","==",1394],["T_WHITESPACE"," ",1394],["T_CONSTANT_ENCAPSED_STRING","'CA'",1394],["T_WHITESPACE"," ",1394],["T_BOOLEAN_OR","||",1394],["T_WHITESPACE","\n                ",1394],["T_VARIABLE","$request",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","getRecipientAddressCountryCode",1395],"(",")",["T_WHITESPACE"," ",1395],["T_IS_EQUAL","==",1395],["T_WHITESPACE"," ",1395],["T_CONSTANT_ENCAPSED_STRING","'PR'",1395],")",["T_WHITESPACE","\n        ",1395],")",["T_WHITESPACE"," ",1396],"{",["T_WHITESPACE","\n            ",1396],["T_VARIABLE","$invoiceLineTotalPart",1397],["T_WHITESPACE"," ",1397],"=",["T_WHITESPACE"," ",1397],["T_VARIABLE","$shipmentPart",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","addChild",1397],"(",["T_CONSTANT_ENCAPSED_STRING","'InvoiceLineTotal'",1397],")",";",["T_WHITESPACE","\n            ",1397],["T_VARIABLE","$invoiceLineTotalPart",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","addChild",1398],"(",["T_CONSTANT_ENCAPSED_STRING","'CurrencyCode'",1398],",",["T_WHITESPACE"," ",1398],["T_VARIABLE","$request",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","getBaseCurrencyCode",1398],"(",")",")",";",["T_WHITESPACE","\n            ",1398],["T_VARIABLE","$invoiceLineTotalPart",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","addChild",1399],"(",["T_CONSTANT_ENCAPSED_STRING","'MonetaryValue'",1399],",",["T_WHITESPACE"," ",1399],["T_STRING","ceil",1399],"(",["T_VARIABLE","$packageParams",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","getCustomsValue",1399],"(",")",")",")",";",["T_WHITESPACE","\n        ",1399],"}",["T_WHITESPACE","\n\n        ",1400],["T_VARIABLE","$labelPart",1402],["T_WHITESPACE"," ",1402],"=",["T_WHITESPACE"," ",1402],["T_VARIABLE","$xmlRequest",1402],["T_OBJECT_OPERATOR","->",1402],["T_STRING","addChild",1402],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelSpecification'",1402],")",";",["T_WHITESPACE","\n        ",1402],["T_VARIABLE","$labelPart",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","addChild",1403],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelPrintMethod'",1403],")",["T_OBJECT_OPERATOR","->",1403],["T_STRING","addChild",1403],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1403],",",["T_WHITESPACE"," ",1403],["T_CONSTANT_ENCAPSED_STRING","'GIF'",1403],")",";",["T_WHITESPACE","\n        ",1403],["T_VARIABLE","$labelPart",1404],["T_OBJECT_OPERATOR","->",1404],["T_STRING","addChild",1404],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelImageFormat'",1404],")",["T_OBJECT_OPERATOR","->",1404],["T_STRING","addChild",1404],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1404],",",["T_WHITESPACE"," ",1404],["T_CONSTANT_ENCAPSED_STRING","'GIF'",1404],")",";",["T_WHITESPACE","\n\n        ",1404],["T_VARIABLE","$this",1406],["T_OBJECT_OPERATOR","->",1406],["T_STRING","setXMLAccessRequest",1406],"(",")",";",["T_WHITESPACE","\n        ",1406],["T_VARIABLE","$xmlRequest",1407],["T_WHITESPACE"," ",1407],"=",["T_WHITESPACE"," ",1407],["T_VARIABLE","$this",1407],["T_OBJECT_OPERATOR","->",1407],["T_STRING","_xmlAccessRequest",1407],["T_WHITESPACE"," ",1407],".",["T_WHITESPACE"," ",1407],["T_VARIABLE","$xmlRequest",1407],["T_OBJECT_OPERATOR","->",1407],["T_STRING","asXml",1407],"(",")",";",["T_WHITESPACE","\n\n        ",1407],["T_RETURN","return",1409],["T_WHITESPACE"," ",1409],["T_VARIABLE","$xmlRequest",1409],";",["T_WHITESPACE","\n    ",1409],"}",["T_WHITESPACE","\n\n    ",1410],["T_DOC_COMMENT","\/**\n     * Send and process shipment accept request\n     *\n     * @param Element $shipmentConfirmResponse\n     * @return \\Magento\\Framework\\DataObject\n     *\/",1412],["T_WHITESPACE","\n    ",1417],["T_PROTECTED","protected",1418],["T_WHITESPACE"," ",1418],["T_FUNCTION","function",1418],["T_WHITESPACE"," ",1418],["T_STRING","_sendShipmentAcceptRequest",1418],"(",["T_STRING","Element",1418],["T_WHITESPACE"," ",1418],["T_VARIABLE","$shipmentConfirmResponse",1418],")",["T_WHITESPACE","\n    ",1418],"{",["T_WHITESPACE","\n        ",1419],["T_VARIABLE","$xmlRequest",1420],["T_WHITESPACE"," ",1420],"=",["T_WHITESPACE"," ",1420],["T_VARIABLE","$this",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","_xmlElFactory",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","create",1420],"(",["T_WHITESPACE","\n            ",1420],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",1421],["T_WHITESPACE"," ",1421],["T_DOUBLE_ARROW","=>",1421],["T_WHITESPACE"," ",1421],["T_CONSTANT_ENCAPSED_STRING","'<?xml version = \"1.0\" ?><ShipmentAcceptRequest\/>'",1421],"]",["T_WHITESPACE","\n        ",1421],")",";",["T_WHITESPACE","\n        ",1422],["T_VARIABLE","$request",1423],["T_WHITESPACE"," ",1423],"=",["T_WHITESPACE"," ",1423],["T_VARIABLE","$xmlRequest",1423],["T_OBJECT_OPERATOR","->",1423],["T_STRING","addChild",1423],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",1423],")",";",["T_WHITESPACE","\n        ",1423],["T_VARIABLE","$request",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","addChild",1424],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestAction'",1424],",",["T_WHITESPACE"," ",1424],["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",1424],")",";",["T_WHITESPACE","\n        ",1424],["T_VARIABLE","$xmlRequest",1425],["T_OBJECT_OPERATOR","->",1425],["T_STRING","addChild",1425],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipmentDigest'",1425],",",["T_WHITESPACE"," ",1425],["T_VARIABLE","$shipmentConfirmResponse",1425],["T_OBJECT_OPERATOR","->",1425],["T_STRING","ShipmentDigest",1425],")",";",["T_WHITESPACE","\n        ",1425],["T_VARIABLE","$debugData",1426],["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",1426],["T_WHITESPACE"," ",1426],["T_DOUBLE_ARROW","=>",1426],["T_WHITESPACE"," ",1426],["T_VARIABLE","$xmlRequest",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","asXML",1426],"(",")","]",";",["T_WHITESPACE","\n\n        ",1426],["T_TRY","try",1428],["T_WHITESPACE"," ",1428],"{",["T_WHITESPACE","\n            ",1428],["T_VARIABLE","$ch",1429],["T_WHITESPACE"," ",1429],"=",["T_WHITESPACE"," ",1429],["T_STRING","curl_init",1429],"(",["T_VARIABLE","$this",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","getShipAcceptUrl",1429],"(",")",")",";",["T_WHITESPACE","\n            ",1429],["T_STRING","curl_setopt",1430],"(",["T_VARIABLE","$ch",1430],",",["T_WHITESPACE"," ",1430],["T_STRING","CURLOPT_RETURNTRANSFER",1430],",",["T_WHITESPACE"," ",1430],["T_LNUMBER","1",1430],")",";",["T_WHITESPACE","\n            ",1430],["T_STRING","curl_setopt",1431],"(",["T_VARIABLE","$ch",1431],",",["T_WHITESPACE"," ",1431],["T_STRING","CURLOPT_HEADER",1431],",",["T_WHITESPACE"," ",1431],["T_LNUMBER","0",1431],")",";",["T_WHITESPACE","\n            ",1431],["T_STRING","curl_setopt",1432],"(",["T_VARIABLE","$ch",1432],",",["T_WHITESPACE"," ",1432],["T_STRING","CURLOPT_POST",1432],",",["T_WHITESPACE"," ",1432],["T_LNUMBER","1",1432],")",";",["T_WHITESPACE","\n            ",1432],["T_STRING","curl_setopt",1433],"(",["T_VARIABLE","$ch",1433],",",["T_WHITESPACE"," ",1433],["T_STRING","CURLOPT_POSTFIELDS",1433],",",["T_WHITESPACE"," ",1433],["T_VARIABLE","$this",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","_xmlAccessRequest",1433],["T_WHITESPACE"," ",1433],".",["T_WHITESPACE"," ",1433],["T_VARIABLE","$xmlRequest",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","asXML",1433],"(",")",")",";",["T_WHITESPACE","\n            ",1433],["T_STRING","curl_setopt",1434],"(",["T_VARIABLE","$ch",1434],",",["T_WHITESPACE"," ",1434],["T_STRING","CURLOPT_TIMEOUT",1434],",",["T_WHITESPACE"," ",1434],["T_LNUMBER","30",1434],")",";",["T_WHITESPACE","\n            ",1434],["T_STRING","curl_setopt",1435],"(",["T_VARIABLE","$ch",1435],",",["T_WHITESPACE"," ",1435],["T_STRING","CURLOPT_SSL_VERIFYPEER",1435],",",["T_WHITESPACE"," ",1435],["T_BOOL_CAST","(bool)",1435],["T_VARIABLE","$this",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","getConfigFlag",1435],"(",["T_CONSTANT_ENCAPSED_STRING","'mode_xml'",1435],")",")",";",["T_WHITESPACE","\n            ",1435],["T_VARIABLE","$xmlResponse",1436],["T_WHITESPACE"," ",1436],"=",["T_WHITESPACE"," ",1436],["T_STRING","curl_exec",1436],"(",["T_VARIABLE","$ch",1436],")",";",["T_WHITESPACE","\n\n            ",1436],["T_VARIABLE","$debugData",1438],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1438],"]",["T_WHITESPACE"," ",1438],"=",["T_WHITESPACE"," ",1438],["T_VARIABLE","$xmlResponse",1438],";",["T_WHITESPACE","\n            ",1438],["T_VARIABLE","$this",1439],["T_OBJECT_OPERATOR","->",1439],["T_STRING","_setCachedQuotes",1439],"(",["T_VARIABLE","$xmlRequest",1439],",",["T_WHITESPACE"," ",1439],["T_VARIABLE","$xmlResponse",1439],")",";",["T_WHITESPACE","\n        ",1439],"}",["T_WHITESPACE"," ",1440],["T_CATCH","catch",1440],["T_WHITESPACE"," ",1440],"(",["T_NS_SEPARATOR","\\",1440],["T_STRING","Exception",1440],["T_WHITESPACE"," ",1440],["T_VARIABLE","$e",1440],")",["T_WHITESPACE"," ",1440],"{",["T_WHITESPACE","\n            ",1440],["T_VARIABLE","$debugData",1441],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1441],"]",["T_WHITESPACE"," ",1441],"=",["T_WHITESPACE"," ",1441],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1441],["T_WHITESPACE"," ",1441],["T_DOUBLE_ARROW","=>",1441],["T_WHITESPACE"," ",1441],["T_VARIABLE","$e",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","getMessage",1441],"(",")",",",["T_WHITESPACE"," ",1441],["T_CONSTANT_ENCAPSED_STRING","'code'",1441],["T_WHITESPACE"," ",1441],["T_DOUBLE_ARROW","=>",1441],["T_WHITESPACE"," ",1441],["T_VARIABLE","$e",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","getCode",1441],"(",")","]",";",["T_WHITESPACE","\n            ",1441],["T_VARIABLE","$xmlResponse",1442],["T_WHITESPACE"," ",1442],"=",["T_WHITESPACE"," ",1442],["T_CONSTANT_ENCAPSED_STRING","''",1442],";",["T_WHITESPACE","\n        ",1442],"}",["T_WHITESPACE","\n\n        ",1443],["T_TRY","try",1445],["T_WHITESPACE"," ",1445],"{",["T_WHITESPACE","\n            ",1445],["T_VARIABLE","$response",1446],["T_WHITESPACE"," ",1446],"=",["T_WHITESPACE"," ",1446],["T_VARIABLE","$this",1446],["T_OBJECT_OPERATOR","->",1446],["T_STRING","_xmlElFactory",1446],["T_OBJECT_OPERATOR","->",1446],["T_STRING","create",1446],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",1446],["T_WHITESPACE"," ",1446],["T_DOUBLE_ARROW","=>",1446],["T_WHITESPACE"," ",1446],["T_VARIABLE","$xmlResponse",1446],"]",")",";",["T_WHITESPACE","\n        ",1446],"}",["T_WHITESPACE"," ",1447],["T_CATCH","catch",1447],["T_WHITESPACE"," ",1447],"(",["T_NS_SEPARATOR","\\",1447],["T_STRING","Exception",1447],["T_WHITESPACE"," ",1447],["T_VARIABLE","$e",1447],")",["T_WHITESPACE"," ",1447],"{",["T_WHITESPACE","\n            ",1447],["T_VARIABLE","$debugData",1448],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1448],"]",["T_WHITESPACE"," ",1448],"=",["T_WHITESPACE"," ",1448],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1448],["T_WHITESPACE"," ",1448],["T_DOUBLE_ARROW","=>",1448],["T_WHITESPACE"," ",1448],["T_VARIABLE","$e",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","getMessage",1448],"(",")",",",["T_WHITESPACE"," ",1448],["T_CONSTANT_ENCAPSED_STRING","'code'",1448],["T_WHITESPACE"," ",1448],["T_DOUBLE_ARROW","=>",1448],["T_WHITESPACE"," ",1448],["T_VARIABLE","$e",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","getCode",1448],"(",")","]",";",["T_WHITESPACE","\n        ",1448],"}",["T_WHITESPACE","\n\n        ",1449],["T_VARIABLE","$result",1451],["T_WHITESPACE"," ",1451],"=",["T_WHITESPACE"," ",1451],["T_NEW","new",1451],["T_WHITESPACE"," ",1451],["T_NS_SEPARATOR","\\",1451],["T_STRING","Magento",1451],["T_NS_SEPARATOR","\\",1451],["T_STRING","Framework",1451],["T_NS_SEPARATOR","\\",1451],["T_STRING","DataObject",1451],"(",")",";",["T_WHITESPACE","\n        ",1451],["T_IF","if",1452],["T_WHITESPACE"," ",1452],"(",["T_ISSET","isset",1452],"(",["T_VARIABLE","$response",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","Error",1452],")",")",["T_WHITESPACE"," ",1452],"{",["T_WHITESPACE","\n            ",1452],["T_VARIABLE","$result",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","setErrors",1453],"(",["T_STRING_CAST","(string)",1453],["T_VARIABLE","$response",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","Error",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","ErrorDescription",1453],")",";",["T_WHITESPACE","\n        ",1453],"}",["T_WHITESPACE"," ",1454],["T_ELSE","else",1454],["T_WHITESPACE"," ",1454],"{",["T_WHITESPACE","\n            ",1454],["T_VARIABLE","$shippingLabelContent",1455],["T_WHITESPACE"," ",1455],"=",["T_WHITESPACE"," ",1455],["T_STRING_CAST","(string)",1455],["T_VARIABLE","$response",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","ShipmentResults",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","PackageResults",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","LabelImage",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","GraphicImage",1455],";",["T_WHITESPACE","\n            ",1455],["T_VARIABLE","$trackingNumber",1456],["T_WHITESPACE"," ",1456],"=",["T_WHITESPACE"," ",1456],["T_STRING_CAST","(string)",1456],["T_VARIABLE","$response",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","ShipmentResults",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","PackageResults",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","TrackingNumber",1456],";",["T_WHITESPACE","\n\n            ",1456],["T_VARIABLE","$result",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","setShippingLabelContent",1458],"(",["T_STRING","base64_decode",1458],"(",["T_VARIABLE","$shippingLabelContent",1458],")",")",";",["T_WHITESPACE","\n            ",1458],["T_VARIABLE","$result",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","setTrackingNumber",1459],"(",["T_VARIABLE","$trackingNumber",1459],")",";",["T_WHITESPACE","\n        ",1459],"}",["T_WHITESPACE","\n\n        ",1460],["T_VARIABLE","$this",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","_debug",1462],"(",["T_VARIABLE","$debugData",1462],")",";",["T_WHITESPACE","\n\n        ",1462],["T_RETURN","return",1464],["T_WHITESPACE"," ",1464],["T_VARIABLE","$result",1464],";",["T_WHITESPACE","\n    ",1464],"}",["T_WHITESPACE","\n\n    ",1465],["T_DOC_COMMENT","\/**\n     * Get ship accept url\n     *\n     * @return string\n     *\/",1467],["T_WHITESPACE","\n    ",1471],["T_PUBLIC","public",1472],["T_WHITESPACE"," ",1472],["T_FUNCTION","function",1472],["T_WHITESPACE"," ",1472],["T_STRING","getShipAcceptUrl",1472],"(",")",["T_WHITESPACE","\n    ",1472],"{",["T_WHITESPACE","\n        ",1473],["T_IF","if",1474],["T_WHITESPACE"," ",1474],"(",["T_VARIABLE","$this",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","getConfigData",1474],"(",["T_CONSTANT_ENCAPSED_STRING","'is_account_live'",1474],")",")",["T_WHITESPACE"," ",1474],"{",["T_WHITESPACE","\n            ",1474],["T_VARIABLE","$url",1475],["T_WHITESPACE"," ",1475],"=",["T_WHITESPACE"," ",1475],["T_VARIABLE","$this",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","_liveUrls",1475],"[",["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",1475],"]",";",["T_WHITESPACE","\n        ",1475],"}",["T_WHITESPACE"," ",1476],["T_ELSE","else",1476],["T_WHITESPACE"," ",1476],"{",["T_WHITESPACE","\n            ",1476],["T_VARIABLE","$url",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],["T_VARIABLE","$this",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","_defaultUrls",1477],"[",["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",1477],"]",";",["T_WHITESPACE","\n        ",1477],"}",["T_WHITESPACE","\n\n        ",1478],["T_RETURN","return",1480],["T_WHITESPACE"," ",1480],["T_VARIABLE","$url",1480],";",["T_WHITESPACE","\n    ",1480],"}",["T_WHITESPACE","\n\n    ",1481],["T_DOC_COMMENT","\/**\n     * Do shipment request to carrier web service, obtain Print Shipping Labels and process errors in response\n     *\n     * @param \\Magento\\Framework\\DataObject $request\n     * @return \\Magento\\Framework\\DataObject\n     * @throws \\Exception\n     *\/",1483],["T_WHITESPACE","\n    ",1489],["T_PROTECTED","protected",1490],["T_WHITESPACE"," ",1490],["T_FUNCTION","function",1490],["T_WHITESPACE"," ",1490],["T_STRING","_doShipmentRequest",1490],"(",["T_NS_SEPARATOR","\\",1490],["T_STRING","Magento",1490],["T_NS_SEPARATOR","\\",1490],["T_STRING","Framework",1490],["T_NS_SEPARATOR","\\",1490],["T_STRING","DataObject",1490],["T_WHITESPACE"," ",1490],["T_VARIABLE","$request",1490],")",["T_WHITESPACE","\n    ",1490],"{",["T_WHITESPACE","\n        ",1491],["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","_prepareShipmentRequest",1492],"(",["T_VARIABLE","$request",1492],")",";",["T_WHITESPACE","\n        ",1492],["T_VARIABLE","$result",1493],["T_WHITESPACE"," ",1493],"=",["T_WHITESPACE"," ",1493],["T_NEW","new",1493],["T_WHITESPACE"," ",1493],["T_NS_SEPARATOR","\\",1493],["T_STRING","Magento",1493],["T_NS_SEPARATOR","\\",1493],["T_STRING","Framework",1493],["T_NS_SEPARATOR","\\",1493],["T_STRING","DataObject",1493],"(",")",";",["T_WHITESPACE","\n        ",1493],["T_VARIABLE","$xmlRequest",1494],["T_WHITESPACE"," ",1494],"=",["T_WHITESPACE"," ",1494],["T_VARIABLE","$this",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","_formShipmentRequest",1494],"(",["T_VARIABLE","$request",1494],")",";",["T_WHITESPACE","\n        ",1494],["T_VARIABLE","$xmlResponse",1495],["T_WHITESPACE"," ",1495],"=",["T_WHITESPACE"," ",1495],["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","_getCachedQuotes",1495],"(",["T_VARIABLE","$xmlRequest",1495],")",";",["T_WHITESPACE","\n\n        ",1495],["T_IF","if",1497],["T_WHITESPACE"," ",1497],"(",["T_VARIABLE","$xmlResponse",1497],["T_WHITESPACE"," ",1497],["T_IS_IDENTICAL","===",1497],["T_WHITESPACE"," ",1497],["T_STRING","null",1497],")",["T_WHITESPACE"," ",1497],"{",["T_WHITESPACE","\n            ",1497],["T_VARIABLE","$url",1498],["T_WHITESPACE"," ",1498],"=",["T_WHITESPACE"," ",1498],["T_VARIABLE","$this",1498],["T_OBJECT_OPERATOR","->",1498],["T_STRING","getShipConfirmUrl",1498],"(",")",";",["T_WHITESPACE","\n\n            ",1498],["T_VARIABLE","$debugData",1500],["T_WHITESPACE"," ",1500],"=",["T_WHITESPACE"," ",1500],"[",["T_CONSTANT_ENCAPSED_STRING","'request'",1500],["T_WHITESPACE"," ",1500],["T_DOUBLE_ARROW","=>",1500],["T_WHITESPACE"," ",1500],["T_VARIABLE","$xmlRequest",1500],"]",";",["T_WHITESPACE","\n            ",1500],["T_VARIABLE","$ch",1501],["T_WHITESPACE"," ",1501],"=",["T_WHITESPACE"," ",1501],["T_STRING","curl_init",1501],"(",")",";",["T_WHITESPACE","\n            ",1501],["T_STRING","curl_setopt",1502],"(",["T_VARIABLE","$ch",1502],",",["T_WHITESPACE"," ",1502],["T_STRING","CURLOPT_URL",1502],",",["T_WHITESPACE"," ",1502],["T_VARIABLE","$url",1502],")",";",["T_WHITESPACE","\n            ",1502],["T_STRING","curl_setopt",1503],"(",["T_VARIABLE","$ch",1503],",",["T_WHITESPACE"," ",1503],["T_STRING","CURLOPT_RETURNTRANSFER",1503],",",["T_WHITESPACE"," ",1503],["T_LNUMBER","1",1503],")",";",["T_WHITESPACE","\n            ",1503],["T_STRING","curl_setopt",1504],"(",["T_VARIABLE","$ch",1504],",",["T_WHITESPACE"," ",1504],["T_STRING","CURLOPT_HEADER",1504],",",["T_WHITESPACE"," ",1504],["T_LNUMBER","0",1504],")",";",["T_WHITESPACE","\n            ",1504],["T_STRING","curl_setopt",1505],"(",["T_VARIABLE","$ch",1505],",",["T_WHITESPACE"," ",1505],["T_STRING","CURLOPT_POST",1505],",",["T_WHITESPACE"," ",1505],["T_LNUMBER","1",1505],")",";",["T_WHITESPACE","\n            ",1505],["T_STRING","curl_setopt",1506],"(",["T_VARIABLE","$ch",1506],",",["T_WHITESPACE"," ",1506],["T_STRING","CURLOPT_POSTFIELDS",1506],",",["T_WHITESPACE"," ",1506],["T_VARIABLE","$xmlRequest",1506],")",";",["T_WHITESPACE","\n            ",1506],["T_STRING","curl_setopt",1507],"(",["T_VARIABLE","$ch",1507],",",["T_WHITESPACE"," ",1507],["T_STRING","CURLOPT_TIMEOUT",1507],",",["T_WHITESPACE"," ",1507],["T_LNUMBER","30",1507],")",";",["T_WHITESPACE","\n            ",1507],["T_STRING","curl_setopt",1508],"(",["T_VARIABLE","$ch",1508],",",["T_WHITESPACE"," ",1508],["T_STRING","CURLOPT_SSL_VERIFYPEER",1508],",",["T_WHITESPACE"," ",1508],["T_BOOL_CAST","(bool)",1508],["T_VARIABLE","$this",1508],["T_OBJECT_OPERATOR","->",1508],["T_STRING","getConfigFlag",1508],"(",["T_CONSTANT_ENCAPSED_STRING","'mode_xml'",1508],")",")",";",["T_WHITESPACE","\n            ",1508],["T_VARIABLE","$xmlResponse",1509],["T_WHITESPACE"," ",1509],"=",["T_WHITESPACE"," ",1509],["T_STRING","curl_exec",1509],"(",["T_VARIABLE","$ch",1509],")",";",["T_WHITESPACE","\n            ",1509],["T_IF","if",1510],["T_WHITESPACE"," ",1510],"(",["T_VARIABLE","$xmlResponse",1510],["T_WHITESPACE"," ",1510],["T_IS_IDENTICAL","===",1510],["T_WHITESPACE"," ",1510],["T_STRING","false",1510],")",["T_WHITESPACE"," ",1510],"{",["T_WHITESPACE","\n                ",1510],["T_THROW","throw",1511],["T_WHITESPACE"," ",1511],["T_NEW","new",1511],["T_WHITESPACE"," ",1511],["T_NS_SEPARATOR","\\",1511],["T_STRING","Exception",1511],"(",["T_STRING","curl_error",1511],"(",["T_VARIABLE","$ch",1511],")",")",";",["T_WHITESPACE","\n            ",1511],"}",["T_WHITESPACE"," ",1512],["T_ELSE","else",1512],["T_WHITESPACE"," ",1512],"{",["T_WHITESPACE","\n                ",1512],["T_VARIABLE","$debugData",1513],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1513],"]",["T_WHITESPACE"," ",1513],"=",["T_WHITESPACE"," ",1513],["T_VARIABLE","$xmlResponse",1513],";",["T_WHITESPACE","\n                ",1513],["T_VARIABLE","$this",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","_setCachedQuotes",1514],"(",["T_VARIABLE","$xmlRequest",1514],",",["T_WHITESPACE"," ",1514],["T_VARIABLE","$xmlResponse",1514],")",";",["T_WHITESPACE","\n            ",1514],"}",["T_WHITESPACE","\n        ",1515],"}",["T_WHITESPACE","\n\n        ",1516],["T_TRY","try",1518],["T_WHITESPACE"," ",1518],"{",["T_WHITESPACE","\n            ",1518],["T_VARIABLE","$response",1519],["T_WHITESPACE"," ",1519],"=",["T_WHITESPACE"," ",1519],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","_xmlElFactory",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","create",1519],"(","[",["T_CONSTANT_ENCAPSED_STRING","'data'",1519],["T_WHITESPACE"," ",1519],["T_DOUBLE_ARROW","=>",1519],["T_WHITESPACE"," ",1519],["T_VARIABLE","$xmlResponse",1519],"]",")",";",["T_WHITESPACE","\n        ",1519],"}",["T_WHITESPACE"," ",1520],["T_CATCH","catch",1520],["T_WHITESPACE"," ",1520],"(",["T_NS_SEPARATOR","\\",1520],["T_STRING","Exception",1520],["T_WHITESPACE"," ",1520],["T_VARIABLE","$e",1520],")",["T_WHITESPACE"," ",1520],"{",["T_WHITESPACE","\n            ",1520],["T_VARIABLE","$debugData",1521],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1521],"]",["T_WHITESPACE"," ",1521],"=",["T_WHITESPACE"," ",1521],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1521],["T_WHITESPACE"," ",1521],["T_DOUBLE_ARROW","=>",1521],["T_WHITESPACE"," ",1521],["T_VARIABLE","$e",1521],["T_OBJECT_OPERATOR","->",1521],["T_STRING","getMessage",1521],"(",")",",",["T_WHITESPACE"," ",1521],["T_CONSTANT_ENCAPSED_STRING","'code'",1521],["T_WHITESPACE"," ",1521],["T_DOUBLE_ARROW","=>",1521],["T_WHITESPACE"," ",1521],["T_VARIABLE","$e",1521],["T_OBJECT_OPERATOR","->",1521],["T_STRING","getCode",1521],"(",")","]",";",["T_WHITESPACE","\n            ",1521],["T_VARIABLE","$result",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","setErrors",1522],"(",["T_VARIABLE","$e",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","getMessage",1522],"(",")",")",";",["T_WHITESPACE","\n        ",1522],"}",["T_WHITESPACE","\n\n        ",1523],["T_IF","if",1525],["T_WHITESPACE"," ",1525],"(",["T_ISSET","isset",1525],"(",["T_WHITESPACE","\n                ",1525],["T_VARIABLE","$response",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","Response",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","Error",1526],["T_WHITESPACE","\n            ",1526],")",["T_WHITESPACE"," ",1527],["T_BOOLEAN_AND","&&",1527],["T_WHITESPACE"," ",1527],["T_STRING","in_array",1527],"(",["T_WHITESPACE","\n                ",1527],["T_VARIABLE","$response",1528],["T_OBJECT_OPERATOR","->",1528],["T_STRING","Response",1528],["T_OBJECT_OPERATOR","->",1528],["T_STRING","Error",1528],["T_OBJECT_OPERATOR","->",1528],["T_STRING","ErrorSeverity",1528],",",["T_WHITESPACE","\n                ",1528],"[",["T_CONSTANT_ENCAPSED_STRING","'Hard'",1529],",",["T_WHITESPACE"," ",1529],["T_CONSTANT_ENCAPSED_STRING","'Transient'",1529],"]",["T_WHITESPACE","\n            ",1529],")",["T_WHITESPACE","\n        ",1530],")",["T_WHITESPACE"," ",1531],"{",["T_WHITESPACE","\n            ",1531],["T_VARIABLE","$result",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","setErrors",1532],"(",["T_STRING_CAST","(string)",1532],["T_VARIABLE","$response",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","Response",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","Error",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","ErrorDescription",1532],")",";",["T_WHITESPACE","\n        ",1532],"}",["T_WHITESPACE","\n\n        ",1533],["T_VARIABLE","$this",1535],["T_OBJECT_OPERATOR","->",1535],["T_STRING","_debug",1535],"(",["T_VARIABLE","$debugData",1535],")",";",["T_WHITESPACE","\n\n        ",1535],["T_IF","if",1537],["T_WHITESPACE"," ",1537],"(",["T_VARIABLE","$result",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","hasErrors",1537],"(",")",["T_WHITESPACE"," ",1537],["T_BOOLEAN_OR","||",1537],["T_WHITESPACE"," ",1537],["T_EMPTY","empty",1537],"(",["T_VARIABLE","$response",1537],")",")",["T_WHITESPACE"," ",1537],"{",["T_WHITESPACE","\n            ",1537],["T_RETURN","return",1538],["T_WHITESPACE"," ",1538],["T_VARIABLE","$result",1538],";",["T_WHITESPACE","\n        ",1538],"}",["T_WHITESPACE"," ",1539],["T_ELSE","else",1539],["T_WHITESPACE"," ",1539],"{",["T_WHITESPACE","\n            ",1539],["T_RETURN","return",1540],["T_WHITESPACE"," ",1540],["T_VARIABLE","$this",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","_sendShipmentAcceptRequest",1540],"(",["T_VARIABLE","$response",1540],")",";",["T_WHITESPACE","\n        ",1540],"}",["T_WHITESPACE","\n    ",1541],"}",["T_WHITESPACE","\n\n    ",1542],["T_DOC_COMMENT","\/**\n     * Get ship confirm url\n     *\n     * @return string\n     *\/",1544],["T_WHITESPACE","\n    ",1548],["T_PUBLIC","public",1549],["T_WHITESPACE"," ",1549],["T_FUNCTION","function",1549],["T_WHITESPACE"," ",1549],["T_STRING","getShipConfirmUrl",1549],"(",")",["T_WHITESPACE","\n    ",1549],"{",["T_WHITESPACE","\n        ",1550],["T_VARIABLE","$url",1551],["T_WHITESPACE"," ",1551],"=",["T_WHITESPACE"," ",1551],["T_VARIABLE","$this",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","getConfigData",1551],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",1551],")",";",["T_WHITESPACE","\n        ",1551],["T_IF","if",1552],["T_WHITESPACE"," ",1552],"(","!",["T_VARIABLE","$url",1552],")",["T_WHITESPACE"," ",1552],"{",["T_WHITESPACE","\n            ",1552],["T_IF","if",1553],["T_WHITESPACE"," ",1553],"(",["T_VARIABLE","$this",1553],["T_OBJECT_OPERATOR","->",1553],["T_STRING","getConfigData",1553],"(",["T_CONSTANT_ENCAPSED_STRING","'is_account_live'",1553],")",")",["T_WHITESPACE"," ",1553],"{",["T_WHITESPACE","\n                ",1553],["T_VARIABLE","$url",1554],["T_WHITESPACE"," ",1554],"=",["T_WHITESPACE"," ",1554],["T_VARIABLE","$this",1554],["T_OBJECT_OPERATOR","->",1554],["T_STRING","_liveUrls",1554],"[",["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",1554],"]",";",["T_WHITESPACE","\n\n                ",1554],["T_RETURN","return",1556],["T_WHITESPACE"," ",1556],["T_VARIABLE","$url",1556],";",["T_WHITESPACE","\n            ",1556],"}",["T_WHITESPACE"," ",1557],["T_ELSE","else",1557],["T_WHITESPACE"," ",1557],"{",["T_WHITESPACE","\n                ",1557],["T_VARIABLE","$url",1558],["T_WHITESPACE"," ",1558],"=",["T_WHITESPACE"," ",1558],["T_VARIABLE","$this",1558],["T_OBJECT_OPERATOR","->",1558],["T_STRING","_defaultUrls",1558],"[",["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",1558],"]",";",["T_WHITESPACE","\n\n                ",1558],["T_RETURN","return",1560],["T_WHITESPACE"," ",1560],["T_VARIABLE","$url",1560],";",["T_WHITESPACE","\n            ",1560],"}",["T_WHITESPACE","\n        ",1561],"}",["T_WHITESPACE","\n\n        ",1562],["T_RETURN","return",1564],["T_WHITESPACE"," ",1564],["T_VARIABLE","$url",1564],";",["T_WHITESPACE","\n    ",1564],"}",["T_WHITESPACE","\n\n    ",1565],["T_DOC_COMMENT","\/**\n     * Return container types of carrier\n     *\n     * @param \\Magento\\Framework\\DataObject|null $params\n     * @return array|bool\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",1567],["T_WHITESPACE","\n    ",1573],["T_PUBLIC","public",1574],["T_WHITESPACE"," ",1574],["T_FUNCTION","function",1574],["T_WHITESPACE"," ",1574],["T_STRING","getContainerTypes",1574],"(",["T_NS_SEPARATOR","\\",1574],["T_STRING","Magento",1574],["T_NS_SEPARATOR","\\",1574],["T_STRING","Framework",1574],["T_NS_SEPARATOR","\\",1574],["T_STRING","DataObject",1574],["T_WHITESPACE"," ",1574],["T_VARIABLE","$params",1574],["T_WHITESPACE"," ",1574],"=",["T_WHITESPACE"," ",1574],["T_STRING","null",1574],")",["T_WHITESPACE","\n    ",1574],"{",["T_WHITESPACE","\n        ",1575],["T_IF","if",1576],["T_WHITESPACE"," ",1576],"(",["T_VARIABLE","$params",1576],["T_WHITESPACE"," ",1576],["T_IS_IDENTICAL","===",1576],["T_WHITESPACE"," ",1576],["T_STRING","null",1576],")",["T_WHITESPACE"," ",1576],"{",["T_WHITESPACE","\n            ",1576],["T_RETURN","return",1577],["T_WHITESPACE"," ",1577],["T_VARIABLE","$this",1577],["T_OBJECT_OPERATOR","->",1577],["T_STRING","_getAllowedContainers",1577],"(",["T_VARIABLE","$params",1577],")",";",["T_WHITESPACE","\n        ",1577],"}",["T_WHITESPACE","\n        ",1578],["T_VARIABLE","$method",1579],["T_WHITESPACE"," ",1579],"=",["T_WHITESPACE"," ",1579],["T_VARIABLE","$params",1579],["T_OBJECT_OPERATOR","->",1579],["T_STRING","getMethod",1579],"(",")",";",["T_WHITESPACE","\n        ",1579],["T_VARIABLE","$countryShipper",1580],["T_WHITESPACE"," ",1580],"=",["T_WHITESPACE"," ",1580],["T_VARIABLE","$params",1580],["T_OBJECT_OPERATOR","->",1580],["T_STRING","getCountryShipper",1580],"(",")",";",["T_WHITESPACE","\n        ",1580],["T_VARIABLE","$countryRecipient",1581],["T_WHITESPACE"," ",1581],"=",["T_WHITESPACE"," ",1581],["T_VARIABLE","$params",1581],["T_OBJECT_OPERATOR","->",1581],["T_STRING","getCountryRecipient",1581],"(",")",";",["T_WHITESPACE","\n\n        ",1581],["T_IF","if",1583],["T_WHITESPACE"," ",1583],"(",["T_VARIABLE","$countryShipper",1583],["T_WHITESPACE"," ",1583],["T_IS_EQUAL","==",1583],["T_WHITESPACE"," ",1583],["T_STRING","self",1583],["T_DOUBLE_COLON","::",1583],["T_STRING","USA_COUNTRY_ID",1583],["T_WHITESPACE"," ",1583],["T_BOOLEAN_AND","&&",1583],["T_WHITESPACE"," ",1583],["T_VARIABLE","$countryRecipient",1583],["T_WHITESPACE"," ",1583],["T_IS_EQUAL","==",1583],["T_WHITESPACE"," ",1583],["T_STRING","self",1583],["T_DOUBLE_COLON","::",1583],["T_STRING","CANADA_COUNTRY_ID",1583],["T_WHITESPACE"," ",1583],["T_BOOLEAN_OR","||",1583],["T_WHITESPACE","\n            ",1583],["T_VARIABLE","$countryShipper",1584],["T_WHITESPACE"," ",1584],["T_IS_EQUAL","==",1584],["T_WHITESPACE"," ",1584],["T_STRING","self",1584],["T_DOUBLE_COLON","::",1584],["T_STRING","CANADA_COUNTRY_ID",1584],["T_WHITESPACE"," ",1584],["T_BOOLEAN_AND","&&",1584],["T_WHITESPACE"," ",1584],["T_VARIABLE","$countryRecipient",1584],["T_WHITESPACE"," ",1584],["T_IS_EQUAL","==",1584],["T_WHITESPACE"," ",1584],["T_STRING","self",1584],["T_DOUBLE_COLON","::",1584],["T_STRING","USA_COUNTRY_ID",1584],["T_WHITESPACE"," ",1584],["T_BOOLEAN_OR","||",1584],["T_WHITESPACE","\n            ",1584],["T_VARIABLE","$countryShipper",1585],["T_WHITESPACE"," ",1585],["T_IS_EQUAL","==",1585],["T_WHITESPACE"," ",1585],["T_STRING","self",1585],["T_DOUBLE_COLON","::",1585],["T_STRING","MEXICO_COUNTRY_ID",1585],["T_WHITESPACE"," ",1585],["T_BOOLEAN_AND","&&",1585],["T_WHITESPACE"," ",1585],["T_VARIABLE","$countryRecipient",1585],["T_WHITESPACE"," ",1585],["T_IS_EQUAL","==",1585],["T_WHITESPACE"," ",1585],["T_STRING","self",1585],["T_DOUBLE_COLON","::",1585],["T_STRING","USA_COUNTRY_ID",1585],["T_WHITESPACE"," ",1585],["T_BOOLEAN_AND","&&",1585],["T_WHITESPACE"," ",1585],["T_VARIABLE","$method",1585],["T_WHITESPACE"," ",1585],["T_IS_EQUAL","==",1585],["T_WHITESPACE"," ",1585],["T_CONSTANT_ENCAPSED_STRING","'11'",1585],["T_WHITESPACE","\n        ",1585],")",["T_WHITESPACE"," ",1586],"{",["T_WHITESPACE","\n            ",1586],["T_VARIABLE","$containerTypes",1587],["T_WHITESPACE"," ",1587],"=",["T_WHITESPACE"," ",1587],"[","]",";",["T_WHITESPACE","\n            ",1587],["T_IF","if",1588],["T_WHITESPACE"," ",1588],"(",["T_VARIABLE","$method",1588],["T_WHITESPACE"," ",1588],["T_IS_EQUAL","==",1588],["T_WHITESPACE"," ",1588],["T_CONSTANT_ENCAPSED_STRING","'07'",1588],["T_WHITESPACE"," ",1588],["T_BOOLEAN_OR","||",1588],["T_WHITESPACE"," ",1588],["T_VARIABLE","$method",1588],["T_WHITESPACE"," ",1588],["T_IS_EQUAL","==",1588],["T_WHITESPACE"," ",1588],["T_CONSTANT_ENCAPSED_STRING","'08'",1588],["T_WHITESPACE"," ",1588],["T_BOOLEAN_OR","||",1588],["T_WHITESPACE"," ",1588],["T_VARIABLE","$method",1588],["T_WHITESPACE"," ",1588],["T_IS_EQUAL","==",1588],["T_WHITESPACE"," ",1588],["T_CONSTANT_ENCAPSED_STRING","'65'",1588],")",["T_WHITESPACE"," ",1588],"{",["T_WHITESPACE","\n                ",1588],["T_COMMENT","\/\/ Worldwide Expedited\n",1589],["T_WHITESPACE","                ",1590],["T_IF","if",1590],["T_WHITESPACE"," ",1590],"(",["T_VARIABLE","$method",1590],["T_WHITESPACE"," ",1590],["T_IS_NOT_EQUAL","!=",1590],["T_WHITESPACE"," ",1590],["T_CONSTANT_ENCAPSED_STRING","'08'",1590],")",["T_WHITESPACE"," ",1590],"{",["T_WHITESPACE","\n                    ",1590],["T_VARIABLE","$containerTypes",1591],["T_WHITESPACE"," ",1591],"=",["T_WHITESPACE"," ",1591],"[",["T_WHITESPACE","\n                        ",1591],["T_CONSTANT_ENCAPSED_STRING","'01'",1592],["T_WHITESPACE"," ",1592],["T_DOUBLE_ARROW","=>",1592],["T_WHITESPACE"," ",1592],["T_STRING","__",1592],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Letter Envelope'",1592],")",",",["T_WHITESPACE","\n                        ",1592],["T_CONSTANT_ENCAPSED_STRING","'24'",1593],["T_WHITESPACE"," ",1593],["T_DOUBLE_ARROW","=>",1593],["T_WHITESPACE"," ",1593],["T_STRING","__",1593],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide 25 kilo'",1593],")",",",["T_WHITESPACE","\n                        ",1593],["T_CONSTANT_ENCAPSED_STRING","'25'",1594],["T_WHITESPACE"," ",1594],["T_DOUBLE_ARROW","=>",1594],["T_WHITESPACE"," ",1594],["T_STRING","__",1594],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide 10 kilo'",1594],")",",",["T_WHITESPACE","\n                    ",1594],"]",";",["T_WHITESPACE","\n                ",1595],"}",["T_WHITESPACE","\n                ",1596],["T_VARIABLE","$containerTypes",1597],["T_WHITESPACE"," ",1597],"=",["T_WHITESPACE"," ",1597],["T_VARIABLE","$containerTypes",1597],["T_WHITESPACE"," ",1597],"+",["T_WHITESPACE"," ",1597],"[",["T_WHITESPACE","\n                    ",1597],["T_CONSTANT_ENCAPSED_STRING","'03'",1598],["T_WHITESPACE"," ",1598],["T_DOUBLE_ARROW","=>",1598],["T_WHITESPACE"," ",1598],["T_STRING","__",1598],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Tube'",1598],")",",",["T_WHITESPACE","\n                    ",1598],["T_CONSTANT_ENCAPSED_STRING","'04'",1599],["T_WHITESPACE"," ",1599],["T_DOUBLE_ARROW","=>",1599],["T_WHITESPACE"," ",1599],["T_STRING","__",1599],"(",["T_CONSTANT_ENCAPSED_STRING","'PAK'",1599],")",",",["T_WHITESPACE","\n                    ",1599],["T_CONSTANT_ENCAPSED_STRING","'2a'",1600],["T_WHITESPACE"," ",1600],["T_DOUBLE_ARROW","=>",1600],["T_WHITESPACE"," ",1600],["T_STRING","__",1600],"(",["T_CONSTANT_ENCAPSED_STRING","'Small Express Box'",1600],")",",",["T_WHITESPACE","\n                    ",1600],["T_CONSTANT_ENCAPSED_STRING","'2b'",1601],["T_WHITESPACE"," ",1601],["T_DOUBLE_ARROW","=>",1601],["T_WHITESPACE"," ",1601],["T_STRING","__",1601],"(",["T_CONSTANT_ENCAPSED_STRING","'Medium Express Box'",1601],")",",",["T_WHITESPACE","\n                    ",1601],["T_CONSTANT_ENCAPSED_STRING","'2c'",1602],["T_WHITESPACE"," ",1602],["T_DOUBLE_ARROW","=>",1602],["T_WHITESPACE"," ",1602],["T_STRING","__",1602],"(",["T_CONSTANT_ENCAPSED_STRING","'Large Express Box'",1602],")",",",["T_WHITESPACE","\n                ",1602],"]",";",["T_WHITESPACE","\n            ",1603],"}",["T_WHITESPACE","\n\n            ",1604],["T_RETURN","return",1606],["T_WHITESPACE"," ",1606],"[",["T_CONSTANT_ENCAPSED_STRING","'00'",1606],["T_WHITESPACE"," ",1606],["T_DOUBLE_ARROW","=>",1606],["T_WHITESPACE"," ",1606],["T_STRING","__",1606],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Packaging'",1606],")","]",["T_WHITESPACE"," ",1606],"+",["T_WHITESPACE"," ",1606],["T_VARIABLE","$containerTypes",1606],";",["T_WHITESPACE","\n        ",1606],"}",["T_WHITESPACE"," ",1607],["T_ELSEIF","elseif",1607],["T_WHITESPACE"," ",1607],"(",["T_VARIABLE","$countryShipper",1607],["T_WHITESPACE"," ",1607],["T_IS_EQUAL","==",1607],["T_WHITESPACE"," ",1607],["T_STRING","self",1607],["T_DOUBLE_COLON","::",1607],["T_STRING","USA_COUNTRY_ID",1607],["T_WHITESPACE"," ",1607],["T_BOOLEAN_AND","&&",1607],["T_WHITESPACE","\n            ",1607],["T_VARIABLE","$countryRecipient",1608],["T_WHITESPACE"," ",1608],["T_IS_EQUAL","==",1608],["T_WHITESPACE"," ",1608],["T_STRING","self",1608],["T_DOUBLE_COLON","::",1608],["T_STRING","PUERTORICO_COUNTRY_ID",1608],["T_WHITESPACE"," ",1608],["T_BOOLEAN_AND","&&",1608],["T_WHITESPACE","\n            ",1608],"(",["T_VARIABLE","$method",1609],["T_WHITESPACE"," ",1609],["T_IS_EQUAL","==",1609],["T_WHITESPACE"," ",1609],["T_CONSTANT_ENCAPSED_STRING","'03'",1609],["T_WHITESPACE"," ",1609],["T_BOOLEAN_OR","||",1609],["T_WHITESPACE","\n            ",1609],["T_VARIABLE","$method",1610],["T_WHITESPACE"," ",1610],["T_IS_EQUAL","==",1610],["T_WHITESPACE"," ",1610],["T_CONSTANT_ENCAPSED_STRING","'02'",1610],["T_WHITESPACE"," ",1610],["T_BOOLEAN_OR","||",1610],["T_WHITESPACE","\n            ",1610],["T_VARIABLE","$method",1611],["T_WHITESPACE"," ",1611],["T_IS_EQUAL","==",1611],["T_WHITESPACE"," ",1611],["T_CONSTANT_ENCAPSED_STRING","'01'",1611],")",["T_WHITESPACE","\n        ",1611],")",["T_WHITESPACE"," ",1612],"{",["T_WHITESPACE","\n            ",1612],["T_COMMENT","\/\/ Container types should be the same as for domestic\n",1613],["T_WHITESPACE","            ",1614],["T_VARIABLE","$params",1614],["T_OBJECT_OPERATOR","->",1614],["T_STRING","setCountryRecipient",1614],"(",["T_STRING","self",1614],["T_DOUBLE_COLON","::",1614],["T_STRING","USA_COUNTRY_ID",1614],")",";",["T_WHITESPACE","\n            ",1614],["T_VARIABLE","$containerTypes",1615],["T_WHITESPACE"," ",1615],"=",["T_WHITESPACE"," ",1615],["T_VARIABLE","$this",1615],["T_OBJECT_OPERATOR","->",1615],["T_STRING","_getAllowedContainers",1615],"(",["T_VARIABLE","$params",1615],")",";",["T_WHITESPACE","\n            ",1615],["T_VARIABLE","$params",1616],["T_OBJECT_OPERATOR","->",1616],["T_STRING","setCountryRecipient",1616],"(",["T_VARIABLE","$countryRecipient",1616],")",";",["T_WHITESPACE","\n\n            ",1616],["T_RETURN","return",1618],["T_WHITESPACE"," ",1618],["T_VARIABLE","$containerTypes",1618],";",["T_WHITESPACE","\n        ",1618],"}",["T_WHITESPACE","\n\n        ",1619],["T_RETURN","return",1621],["T_WHITESPACE"," ",1621],["T_VARIABLE","$this",1621],["T_OBJECT_OPERATOR","->",1621],["T_STRING","_getAllowedContainers",1621],"(",["T_VARIABLE","$params",1621],")",";",["T_WHITESPACE","\n    ",1621],"}",["T_WHITESPACE","\n\n    ",1622],["T_DOC_COMMENT","\/**\n     * Return all container types of carrier\n     *\n     * @return array|bool\n     *\/",1624],["T_WHITESPACE","\n    ",1628],["T_PUBLIC","public",1629],["T_WHITESPACE"," ",1629],["T_FUNCTION","function",1629],["T_WHITESPACE"," ",1629],["T_STRING","getContainerTypesAll",1629],"(",")",["T_WHITESPACE","\n    ",1629],"{",["T_WHITESPACE","\n        ",1630],["T_VARIABLE","$codes",1631],["T_WHITESPACE"," ",1631],"=",["T_WHITESPACE"," ",1631],["T_VARIABLE","$this",1631],["T_OBJECT_OPERATOR","->",1631],["T_STRING","configHelper",1631],["T_OBJECT_OPERATOR","->",1631],["T_STRING","getCode",1631],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",1631],")",";",["T_WHITESPACE","\n        ",1631],["T_VARIABLE","$descriptions",1632],["T_WHITESPACE"," ",1632],"=",["T_WHITESPACE"," ",1632],["T_VARIABLE","$this",1632],["T_OBJECT_OPERATOR","->",1632],["T_STRING","configHelper",1632],["T_OBJECT_OPERATOR","->",1632],["T_STRING","getCode",1632],"(",["T_CONSTANT_ENCAPSED_STRING","'container_description'",1632],")",";",["T_WHITESPACE","\n        ",1632],["T_VARIABLE","$result",1633],["T_WHITESPACE"," ",1633],"=",["T_WHITESPACE"," ",1633],"[","]",";",["T_WHITESPACE","\n        ",1633],["T_FOREACH","foreach",1634],["T_WHITESPACE"," ",1634],"(",["T_VARIABLE","$codes",1634],["T_WHITESPACE"," ",1634],["T_AS","as",1634],["T_WHITESPACE"," ",1634],["T_VARIABLE","$key",1634],["T_WHITESPACE"," ",1634],["T_DOUBLE_ARROW","=>",1634],["T_WHITESPACE"," ",1634],"&",["T_VARIABLE","$code",1634],")",["T_WHITESPACE"," ",1634],"{",["T_WHITESPACE","\n            ",1634],["T_VARIABLE","$result",1635],"[",["T_VARIABLE","$code",1635],"]",["T_WHITESPACE"," ",1635],"=",["T_WHITESPACE"," ",1635],["T_VARIABLE","$descriptions",1635],"[",["T_VARIABLE","$key",1635],"]",";",["T_WHITESPACE","\n        ",1635],"}",["T_WHITESPACE","\n\n        ",1636],["T_RETURN","return",1638],["T_WHITESPACE"," ",1638],["T_VARIABLE","$result",1638],";",["T_WHITESPACE","\n    ",1638],"}",["T_WHITESPACE","\n\n    ",1639],["T_DOC_COMMENT","\/**\n     * Return structured data of containers witch related with shipping methods\n     *\n     * @return array|bool\n     *\/",1641],["T_WHITESPACE","\n    ",1645],["T_PUBLIC","public",1646],["T_WHITESPACE"," ",1646],["T_FUNCTION","function",1646],["T_WHITESPACE"," ",1646],["T_STRING","getContainerTypesFilter",1646],"(",")",["T_WHITESPACE","\n    ",1646],"{",["T_WHITESPACE","\n        ",1647],["T_RETURN","return",1648],["T_WHITESPACE"," ",1648],["T_VARIABLE","$this",1648],["T_OBJECT_OPERATOR","->",1648],["T_STRING","configHelper",1648],["T_OBJECT_OPERATOR","->",1648],["T_STRING","getCode",1648],"(",["T_CONSTANT_ENCAPSED_STRING","'containers_filter'",1648],")",";",["T_WHITESPACE","\n    ",1648],"}",["T_WHITESPACE","\n\n    ",1649],["T_DOC_COMMENT","\/**\n     * Return delivery confirmation types of carrier\n     *\n     * @param \\Magento\\Framework\\DataObject|null $params\n     * @return array|bool\n     *\/",1651],["T_WHITESPACE","\n    ",1656],["T_PUBLIC","public",1657],["T_WHITESPACE"," ",1657],["T_FUNCTION","function",1657],["T_WHITESPACE"," ",1657],["T_STRING","getDeliveryConfirmationTypes",1657],"(",["T_NS_SEPARATOR","\\",1657],["T_STRING","Magento",1657],["T_NS_SEPARATOR","\\",1657],["T_STRING","Framework",1657],["T_NS_SEPARATOR","\\",1657],["T_STRING","DataObject",1657],["T_WHITESPACE"," ",1657],["T_VARIABLE","$params",1657],["T_WHITESPACE"," ",1657],"=",["T_WHITESPACE"," ",1657],["T_STRING","null",1657],")",["T_WHITESPACE","\n    ",1657],"{",["T_WHITESPACE","\n        ",1658],["T_VARIABLE","$countryRecipient",1659],["T_WHITESPACE"," ",1659],"=",["T_WHITESPACE"," ",1659],["T_VARIABLE","$params",1659],["T_WHITESPACE"," ",1659],["T_IS_NOT_EQUAL","!=",1659],["T_WHITESPACE"," ",1659],["T_STRING","null",1659],["T_WHITESPACE"," ",1659],"?",["T_WHITESPACE"," ",1659],["T_VARIABLE","$params",1659],["T_OBJECT_OPERATOR","->",1659],["T_STRING","getCountryRecipient",1659],"(",")",["T_WHITESPACE"," ",1659],":",["T_WHITESPACE"," ",1659],["T_STRING","null",1659],";",["T_WHITESPACE","\n        ",1659],["T_VARIABLE","$deliveryConfirmationTypes",1660],["T_WHITESPACE"," ",1660],"=",["T_WHITESPACE"," ",1660],"[","]",";",["T_WHITESPACE","\n        ",1660],["T_SWITCH","switch",1661],["T_WHITESPACE"," ",1661],"(",["T_VARIABLE","$this",1661],["T_OBJECT_OPERATOR","->",1661],["T_STRING","_getDeliveryConfirmationLevel",1661],"(",["T_VARIABLE","$countryRecipient",1661],")",")",["T_WHITESPACE"," ",1661],"{",["T_WHITESPACE","\n            ",1661],["T_CASE","case",1662],["T_WHITESPACE"," ",1662],["T_STRING","self",1662],["T_DOUBLE_COLON","::",1662],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",1662],":",["T_WHITESPACE","\n                ",1662],["T_VARIABLE","$deliveryConfirmationTypes",1663],["T_WHITESPACE"," ",1663],"=",["T_WHITESPACE"," ",1663],"[",["T_WHITESPACE","\n                    ",1663],["T_LNUMBER","1",1664],["T_WHITESPACE"," ",1664],["T_DOUBLE_ARROW","=>",1664],["T_WHITESPACE"," ",1664],["T_STRING","__",1664],"(",["T_CONSTANT_ENCAPSED_STRING","'Delivery Confirmation'",1664],")",",",["T_WHITESPACE","\n                    ",1664],["T_LNUMBER","2",1665],["T_WHITESPACE"," ",1665],["T_DOUBLE_ARROW","=>",1665],["T_WHITESPACE"," ",1665],["T_STRING","__",1665],"(",["T_CONSTANT_ENCAPSED_STRING","'Signature Required'",1665],")",",",["T_WHITESPACE","\n                    ",1665],["T_LNUMBER","3",1666],["T_WHITESPACE"," ",1666],["T_DOUBLE_ARROW","=>",1666],["T_WHITESPACE"," ",1666],["T_STRING","__",1666],"(",["T_CONSTANT_ENCAPSED_STRING","'Adult Signature Required'",1666],")",",",["T_WHITESPACE","\n                ",1666],"]",";",["T_WHITESPACE","\n                ",1667],["T_BREAK","break",1668],";",["T_WHITESPACE","\n            ",1668],["T_CASE","case",1669],["T_WHITESPACE"," ",1669],["T_STRING","self",1669],["T_DOUBLE_COLON","::",1669],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",1669],":",["T_WHITESPACE","\n                ",1669],["T_VARIABLE","$deliveryConfirmationTypes",1670],["T_WHITESPACE"," ",1670],"=",["T_WHITESPACE"," ",1670],"[",["T_LNUMBER","1",1670],["T_WHITESPACE"," ",1670],["T_DOUBLE_ARROW","=>",1670],["T_WHITESPACE"," ",1670],["T_STRING","__",1670],"(",["T_CONSTANT_ENCAPSED_STRING","'Signature Required'",1670],")",",",["T_WHITESPACE"," ",1670],["T_LNUMBER","2",1670],["T_WHITESPACE"," ",1670],["T_DOUBLE_ARROW","=>",1670],["T_WHITESPACE"," ",1670],["T_STRING","__",1670],"(",["T_CONSTANT_ENCAPSED_STRING","'Adult Signature Required'",1670],")","]",";",["T_WHITESPACE","\n                ",1670],["T_BREAK","break",1671],";",["T_WHITESPACE","\n            ",1671],["T_DEFAULT","default",1672],":",["T_WHITESPACE","\n                ",1672],["T_BREAK","break",1673],";",["T_WHITESPACE","\n        ",1673],"}",["T_WHITESPACE","\n        ",1674],["T_STRING","array_unshift",1675],"(",["T_VARIABLE","$deliveryConfirmationTypes",1675],",",["T_WHITESPACE"," ",1675],["T_STRING","__",1675],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Required'",1675],")",")",";",["T_WHITESPACE","\n\n        ",1675],["T_RETURN","return",1677],["T_WHITESPACE"," ",1677],["T_VARIABLE","$deliveryConfirmationTypes",1677],";",["T_WHITESPACE","\n    ",1677],"}",["T_WHITESPACE","\n\n    ",1678],["T_DOC_COMMENT","\/**\n     * Get Container Types, that could be customized for UPS carrier\n     *\n     * @return array\n     *\/",1680],["T_WHITESPACE","\n    ",1684],["T_PUBLIC","public",1685],["T_WHITESPACE"," ",1685],["T_FUNCTION","function",1685],["T_WHITESPACE"," ",1685],["T_STRING","getCustomizableContainerTypes",1685],"(",")",["T_WHITESPACE","\n    ",1685],"{",["T_WHITESPACE","\n        ",1686],["T_VARIABLE","$result",1687],["T_WHITESPACE"," ",1687],"=",["T_WHITESPACE"," ",1687],"[","]",";",["T_WHITESPACE","\n        ",1687],["T_VARIABLE","$containerTypes",1688],["T_WHITESPACE"," ",1688],"=",["T_WHITESPACE"," ",1688],["T_VARIABLE","$this",1688],["T_OBJECT_OPERATOR","->",1688],["T_STRING","configHelper",1688],["T_OBJECT_OPERATOR","->",1688],["T_STRING","getCode",1688],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",1688],")",";",["T_WHITESPACE","\n        ",1688],["T_FOREACH","foreach",1689],["T_WHITESPACE"," ",1689],"(",["T_STRING","parent",1689],["T_DOUBLE_COLON","::",1689],["T_STRING","getCustomizableContainerTypes",1689],"(",")",["T_WHITESPACE"," ",1689],["T_AS","as",1689],["T_WHITESPACE"," ",1689],["T_VARIABLE","$containerType",1689],")",["T_WHITESPACE"," ",1689],"{",["T_WHITESPACE","\n            ",1689],["T_VARIABLE","$result",1690],"[",["T_VARIABLE","$containerType",1690],"]",["T_WHITESPACE"," ",1690],"=",["T_WHITESPACE"," ",1690],["T_VARIABLE","$containerTypes",1690],"[",["T_VARIABLE","$containerType",1690],"]",";",["T_WHITESPACE","\n        ",1690],"}",["T_WHITESPACE","\n\n        ",1691],["T_RETURN","return",1693],["T_WHITESPACE"," ",1693],["T_VARIABLE","$result",1693],";",["T_WHITESPACE","\n    ",1693],"}",["T_WHITESPACE","\n\n    ",1694],["T_DOC_COMMENT","\/**\n     * Get delivery confirmation level based on origin\/destination\n     * Return null if delivery confirmation is not acceptable\n     *\n     * @param string|null $countyDestination\n     * @return int|null\n     *\/",1696],["T_WHITESPACE","\n    ",1702],["T_PROTECTED","protected",1703],["T_WHITESPACE"," ",1703],["T_FUNCTION","function",1703],["T_WHITESPACE"," ",1703],["T_STRING","_getDeliveryConfirmationLevel",1703],"(",["T_VARIABLE","$countyDestination",1703],["T_WHITESPACE"," ",1703],"=",["T_WHITESPACE"," ",1703],["T_STRING","null",1703],")",["T_WHITESPACE","\n    ",1703],"{",["T_WHITESPACE","\n        ",1704],["T_IF","if",1705],["T_WHITESPACE"," ",1705],"(",["T_STRING","is_null",1705],"(",["T_VARIABLE","$countyDestination",1705],")",")",["T_WHITESPACE"," ",1705],"{",["T_WHITESPACE","\n            ",1705],["T_RETURN","return",1706],["T_WHITESPACE"," ",1706],["T_STRING","null",1706],";",["T_WHITESPACE","\n        ",1706],"}",["T_WHITESPACE","\n\n        ",1707],["T_IF","if",1709],["T_WHITESPACE"," ",1709],"(",["T_VARIABLE","$countyDestination",1709],["T_WHITESPACE"," ",1709],["T_IS_EQUAL","==",1709],["T_WHITESPACE"," ",1709],["T_STRING","self",1709],["T_DOUBLE_COLON","::",1709],["T_STRING","USA_COUNTRY_ID",1709],")",["T_WHITESPACE"," ",1709],"{",["T_WHITESPACE","\n            ",1709],["T_RETURN","return",1710],["T_WHITESPACE"," ",1710],["T_STRING","self",1710],["T_DOUBLE_COLON","::",1710],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",1710],";",["T_WHITESPACE","\n        ",1710],"}",["T_WHITESPACE","\n\n        ",1711],["T_RETURN","return",1713],["T_WHITESPACE"," ",1713],["T_STRING","self",1713],["T_DOUBLE_COLON","::",1713],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",1713],";",["T_WHITESPACE","\n    ",1713],"}",["T_WHITESPACE","\n",1714],"}",["T_WHITESPACE","\n",1715]]