[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tax rule controller\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",7],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tax",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Controller",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Backend",14],["T_NS_SEPARATOR","\\",14],["T_STRING","App",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Action",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Framework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Controller",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ResultFactory",15],";",["T_WHITESPACE","\n\n",15],["T_ABSTRACT","abstract",17],["T_WHITESPACE"," ",17],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Rule",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Backend",17],["T_NS_SEPARATOR","\\",17],["T_STRING","App",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Action",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Authorization level of a basic admin session\n     *\n     * @see _isAllowed()\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","ADMIN_RESOURCE",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'Magento_Tax::manage_tax'",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Core registry\n     *\n     * @var \\Magento\\Framework\\Registry\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$_coreRegistry",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","null",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/** @var \\Magento\\Tax\\Api\\TaxRuleRepositoryInterface *\/",33],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$ruleService",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/** @var \\Magento\\Tax\\Api\\Data\\TaxRuleInterfaceFactory *\/",36],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$taxRuleDataObjectFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Backend\\App\\Action\\Context $context\n     * @param \\Magento\\Framework\\Registry $coreRegistry\n     * @param \\Magento\\Tax\\Api\\TaxRuleRepositoryInterface $ruleService\n     * @param \\Magento\\Tax\\Api\\Data\\TaxRuleInterfaceFactory $taxRuleDataObjectFactory\n     *\/",39],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","__construct",45],"(",["T_WHITESPACE","\n        ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Backend",46],["T_NS_SEPARATOR","\\",46],["T_STRING","App",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Action",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Context",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$context",46],",",["T_WHITESPACE","\n        ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Registry",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$coreRegistry",47],",",["T_WHITESPACE","\n        ",47],["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Tax",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Api",48],["T_NS_SEPARATOR","\\",48],["T_STRING","TaxRuleRepositoryInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$ruleService",48],",",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Tax",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Api",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Data",49],["T_NS_SEPARATOR","\\",49],["T_STRING","TaxRuleInterfaceFactory",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$taxRuleDataObjectFactory",49],["T_WHITESPACE","\n    ",49],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_coreRegistry",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$coreRegistry",51],";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","ruleService",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$ruleService",52],";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","taxRuleDataObjectFactory",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$taxRuleDataObjectFactory",53],";",["T_WHITESPACE","\n        ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","__construct",54],"(",["T_VARIABLE","$context",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Initialize action\n     *\n     * @return \\Magento\\Backend\\Model\\View\\Result\\Page\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","initResultPage",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$resultPage",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","resultFactory",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","create",64],"(",["T_STRING","ResultFactory",64],["T_DOUBLE_COLON","::",64],["T_STRING","TYPE_PAGE",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$resultPage",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setActiveMenu",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento_Tax::sales_tax_rules'",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","addBreadcrumb",66],"(",["T_STRING","__",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",66],")",",",["T_WHITESPACE"," ",66],["T_STRING","__",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",66],")",")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","addBreadcrumb",67],"(",["T_STRING","__",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax Rules'",67],")",",",["T_WHITESPACE"," ",67],["T_STRING","__",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax Rules'",67],")",")",";",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$resultPage",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Initialize tax rule service object with form data.\n     *\n     * @param array $postData\n     * @return \\Magento\\Tax\\Api\\Data\\TaxRuleInterface\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",71],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","populateTaxRule",78],"(",["T_VARIABLE","$postData",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$taxRule",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","taxRuleDataObjectFactory",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","create",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_ISSET","isset",81],"(",["T_VARIABLE","$postData",81],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_calculation_rule_id'",81],"]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$taxRule",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","setId",82],"(",["T_VARIABLE","$postData",82],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_calculation_rule_id'",82],"]",")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_ISSET","isset",84],"(",["T_VARIABLE","$postData",84],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",84],"]",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$taxRule",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setCode",85],"(",["T_VARIABLE","$postData",85],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",85],"]",")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_ISSET","isset",87],"(",["T_VARIABLE","$postData",87],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate'",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$taxRule",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setTaxRateIds",88],"(",["T_VARIABLE","$postData",88],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate'",88],"]",")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_ISSET","isset",90],"(",["T_VARIABLE","$postData",90],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_customer_class'",90],"]",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$taxRule",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setCustomerTaxClassIds",91],"(",["T_VARIABLE","$postData",91],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_customer_class'",91],"]",")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_ISSET","isset",93],"(",["T_VARIABLE","$postData",93],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_product_class'",93],"]",")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$taxRule",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setProductTaxClassIds",94],"(",["T_VARIABLE","$postData",94],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_product_class'",94],"]",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$postData",96],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$taxRule",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setPriority",97],"(",["T_VARIABLE","$postData",97],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",97],"]",")",";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_ISSET","isset",99],"(",["T_VARIABLE","$postData",99],"[",["T_CONSTANT_ENCAPSED_STRING","'calculate_subtotal'",99],"]",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$taxRule",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setCalculateSubtotal",100],"(",["T_VARIABLE","$postData",100],"[",["T_CONSTANT_ENCAPSED_STRING","'calculate_subtotal'",100],"]",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_ISSET","isset",102],"(",["T_VARIABLE","$postData",102],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",102],"]",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$taxRule",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setPosition",103],"(",["T_VARIABLE","$postData",103],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",103],"]",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$taxRule",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n",106],"}",["T_WHITESPACE","\n",107]]