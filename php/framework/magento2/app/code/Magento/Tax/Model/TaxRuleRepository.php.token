[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Search",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FilterGroup",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","SearchCriteria",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CollectionProcessorInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","LocalizedException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CouldNotSaveException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","NoSuchEntityException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AlreadyExistsException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Tax",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Api",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Data",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TaxRuleInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Tax",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Api",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TaxRuleRepositoryInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Tax",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Api",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Data",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TaxRuleSearchResultsInterfaceFactory",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Tax",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Model",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Calculation",18],["T_NS_SEPARATOR","\\",18],["T_STRING","RuleFactory",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Magento",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Tax",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Model",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Calculation",19],["T_NS_SEPARATOR","\\",19],["T_STRING","TaxRuleRegistry",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Tax",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Model",20],["T_NS_SEPARATOR","\\",20],["T_STRING","ResourceModel",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Calculation",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Rule",20],["T_WHITESPACE"," ",20],["T_AS","as",20],["T_WHITESPACE"," ",20],["T_STRING","ResourceRule",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Tax",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Model",21],["T_NS_SEPARATOR","\\",21],["T_STRING","ResourceModel",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Calculation",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Rule",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Collection",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Tax",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","ResourceModel",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Calculation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Rule",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CollectionFactory",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","TaxRuleRepository",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_STRING","TaxRuleRepositoryInterface",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * @var TaxRuleRegistry\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$taxRuleRegistry",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var TaxRuleSearchResultsInterfaceFactory\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$taxRuleSearchResultsFactory",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var RuleFactory\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$taxRuleModelFactory",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var CollectionFactory\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$collectionFactory",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @var ResourceRule\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$resource",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$joinProcessor",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * @var CollectionProcessorInterface\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$collectionProcessor",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @param TaxRuleRegistry $taxRuleRegistry\n     * @param TaxRuleSearchResultsInterfaceFactory $searchResultsFactory\n     * @param RuleFactory $ruleFactory\n     * @param CollectionFactory $collectionFactory\n     * @param ResourceRule $resource\n     * @param \\Magento\\Framework\\Api\\ExtensionAttribute\\JoinProcessorInterface $joinProcessor\n     * @param CollectionProcessorInterface | null $collectionProcessor\n     *\/",64],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",["T_WHITESPACE","\n        ",73],["T_STRING","TaxRuleRegistry",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$taxRuleRegistry",74],",",["T_WHITESPACE","\n        ",74],["T_STRING","TaxRuleSearchResultsInterfaceFactory",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$searchResultsFactory",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","RuleFactory",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$ruleFactory",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","CollectionFactory",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$collectionFactory",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","ResourceRule",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$resource",78],",",["T_WHITESPACE","\n        ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Api",79],["T_NS_SEPARATOR","\\",79],["T_STRING","ExtensionAttribute",79],["T_NS_SEPARATOR","\\",79],["T_STRING","JoinProcessorInterface",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$joinProcessor",79],",",["T_WHITESPACE","\n        ",79],["T_STRING","CollectionProcessorInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$collectionProcessor",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","null",80],["T_WHITESPACE","\n    ",80],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","taxRuleRegistry",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$taxRuleRegistry",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","taxRuleSearchResultsFactory",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$searchResultsFactory",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","taxRuleModelFactory",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$ruleFactory",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","collectionFactory",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$collectionFactory",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","resource",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$resource",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","joinProcessor",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$joinProcessor",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","collectionProcessor",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$collectionProcessor",88],["T_WHITESPACE"," ",88],"?",":",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getCollectionProcessor",88],"(",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","get",94],"(",["T_VARIABLE","$ruleId",94],")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","taxRuleRegistry",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","retrieveTaxRule",96],"(",["T_VARIABLE","$ruleId",96],")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","save",102],"(",["T_STRING","TaxRuleInterface",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$rule",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_TRY","try",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$ruleId",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$rule",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getId",105],"(",")",";",["T_WHITESPACE","\n            ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$ruleId",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","taxRuleRegistry",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","retrieveTaxRule",107],"(",["T_VARIABLE","$ruleId",107],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","resource",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","save",109],"(",["T_VARIABLE","$rule",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE"," ",110],["T_CATCH","catch",110],["T_WHITESPACE"," ",110],"(",["T_STRING","AlreadyExistsException",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$e",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_THROW","throw",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$e",111],";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE"," ",112],["T_CATCH","catch",112],["T_WHITESPACE"," ",112],"(",["T_STRING","NoSuchEntityException",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$e",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$e",113],";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE"," ",114],["T_CATCH","catch",114],["T_WHITESPACE"," ",114],"(",["T_STRING","LocalizedException",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$e",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_THROW","throw",115],["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STRING","CouldNotSaveException",115],"(",["T_STRING","__",115],"(",["T_VARIABLE","$e",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMessage",115],"(",")",")",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","taxRuleRegistry",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","registerTaxRule",117],"(",["T_VARIABLE","$rule",117],")",";",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$rule",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",121],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","delete",124],"(",["T_STRING","TaxRuleInterface",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$rule",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$ruleId",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$rule",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getId",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","resource",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","delete",127],"(",["T_VARIABLE","$rule",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","taxRuleRegistry",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","removeTaxRule",128],"(",["T_VARIABLE","$ruleId",128],")",";",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","true",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",132],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","deleteById",135],"(",["T_VARIABLE","$ruleId",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$rule",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","taxRuleRegistry",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","retrieveTaxRule",137],"(",["T_VARIABLE","$ruleId",137],")",";",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","delete",138],"(",["T_VARIABLE","$rule",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",141],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getList",144],"(",["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Framework",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Api",144],["T_NS_SEPARATOR","\\",144],["T_STRING","SearchCriteria",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$searchCriteria",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$searchResults",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","taxRuleSearchResultsFactory",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","create",146],"(",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$searchResults",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setSearchCriteria",147],"(",["T_VARIABLE","$searchCriteria",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$collection",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","collectionFactory",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","create",148],"(",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","joinProcessor",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","process",149],"(",["T_VARIABLE","$collection",149],")",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","collectionProcessor",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","process",151],"(",["T_VARIABLE","$searchCriteria",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$collection",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$searchResults",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setTotalCount",152],"(",["T_VARIABLE","$collection",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getSize",152],"(",")",")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$searchResults",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","setItems",154],"(",["T_VARIABLE","$collection",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getItems",154],"(",")",")",";",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$searchResults",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Helper function that adds a FilterGroup to the collection.\n     *\n     * @param FilterGroup $filterGroup\n     * @param Collection $collection\n     * @return void\n     * @deprecated\n     * @throws \\Magento\\Framework\\Exception\\InputException\n     *\/",158],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","addFilterGroupToCollection",167],"(",["T_STRING","FilterGroup",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$filterGroup",167],",",["T_WHITESPACE"," ",167],["T_STRING","Collection",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$collection",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$fields",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$conditions",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],"[","]",";",["T_WHITESPACE","\n        ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$filterGroup",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getFilters",171],"(",")",["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$filter",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$condition",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$filter",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getConditionType",172],"(",")",["T_WHITESPACE"," ",172],"?",["T_WHITESPACE"," ",172],["T_VARIABLE","$filter",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getConditionType",172],"(",")",["T_WHITESPACE"," ",172],":",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'eq'",172],";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$field",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","translateField",173],"(",["T_VARIABLE","$filter",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getField",173],"(",")",")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$fields",174],"[","]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$field",174],";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$conditions",175],"[","]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],"[",["T_VARIABLE","$condition",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$filter",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getValue",175],"(",")","]",";",["T_WHITESPACE","\n            ",175],["T_SWITCH","switch",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$field",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_CASE","case",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'rate.tax_calculation_rate_id'",177],":",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$collection",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","joinCalculationData",178],"(",["T_CONSTANT_ENCAPSED_STRING","'rate'",178],")",";",["T_WHITESPACE","\n                    ",178],["T_BREAK","break",179],";",["T_WHITESPACE","\n\n                ",179],["T_CASE","case",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'ctc.customer_tax_class_id'",181],":",["T_WHITESPACE","\n                    ",181],["T_VARIABLE","$collection",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","joinCalculationData",182],"(",["T_CONSTANT_ENCAPSED_STRING","'ctc'",182],")",";",["T_WHITESPACE","\n                    ",182],["T_BREAK","break",183],";",["T_WHITESPACE","\n\n                ",183],["T_CASE","case",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'ptc.product_tax_class_id'",185],":",["T_WHITESPACE","\n                    ",185],["T_VARIABLE","$collection",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","joinCalculationData",186],"(",["T_CONSTANT_ENCAPSED_STRING","'ptc'",186],")",";",["T_WHITESPACE","\n                    ",186],["T_BREAK","break",187],";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$fields",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$collection",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","addFieldToFilter",191],"(",["T_VARIABLE","$fields",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$conditions",191],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Translates a field name to a DB column name for use in collection queries.\n     *\n     * @param string $field a field name that should be translated to a DB column name.\n     * @deprecated\n     * @return string\n     *\/",195],["T_WHITESPACE","\n    ",201],["T_PROTECTED","protected",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","translateField",202],"(",["T_VARIABLE","$field",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_SWITCH","switch",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$field",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_CASE","case",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","\"id\"",205],":",["T_WHITESPACE","\n                ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'tax_calculation_rule_id'",206],";",["T_WHITESPACE","\n            ",206],["T_CASE","case",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_ids'",207],":",["T_WHITESPACE","\n                ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'tax_calculation_rate_id'",208],";",["T_WHITESPACE","\n            ",208],["T_CASE","case",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_ids'",209],":",["T_WHITESPACE","\n                ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'cd.customer_tax_class_id'",210],";",["T_WHITESPACE","\n            ",210],["T_CASE","case",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_ids'",211],":",["T_WHITESPACE","\n                ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'cd.product_tax_class_id'",212],";",["T_WHITESPACE","\n            ",212],["T_CASE","case",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",213],":",["T_WHITESPACE","\n                ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'position'",214],";",["T_WHITESPACE","\n            ",214],["T_DEFAULT","default",215],":",["T_WHITESPACE","\n                ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$field",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Retrieve collection processor\n     *\n     * @deprecated\n     * @return CollectionProcessorInterface\n     *\/",220],["T_WHITESPACE","\n    ",225],["T_PRIVATE","private",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","getCollectionProcessor",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(","!",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","collectionProcessor",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","collectionProcessor",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Magento",229],["T_NS_SEPARATOR","\\",229],["T_STRING","Framework",229],["T_NS_SEPARATOR","\\",229],["T_STRING","App",229],["T_NS_SEPARATOR","\\",229],["T_STRING","ObjectManager",229],["T_DOUBLE_COLON","::",229],["T_STRING","getInstance",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","get",229],"(",["T_WHITESPACE","\n                ",229],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Tax\\Model\\Api\\SearchCriteria\\TaxRuleCollectionProcessor'",230],["T_WHITESPACE","\n            ",230],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","collectionProcessor",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n",234],"}",["T_WHITESPACE","\n",235]]