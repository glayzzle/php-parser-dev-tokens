[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Quote",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","GrandTotalDetailsPluginTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Api\\Data\\TotalSegmentExtensionFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$totalSegmentExtensionFactoryMock",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Api\\Data\\GrandTotalDetailsInterfaceFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$detailsFactoryMock",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Api\\Data\\GrandTotalRatesInterfaceFactory|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$ratesFactoryMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Model\\Config|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$taxConfigMock",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Quote\\Model\\Cart\\TotalsConverter|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$subjectMock",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\TestFramework\\Unit\\Helper\\ObjectManager\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$objectManagerHelper",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Model\\Quote\\GrandTotalDetailsPlugin\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$model",49],";",["T_WHITESPACE","\n\n    ",49],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","setUp",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","subjectMock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockBuilder",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Quote",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Cart",53],["T_NS_SEPARATOR","\\",53],["T_STRING","TotalsConverter",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","disableOriginalConstructor",54],"(",")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","getMock",55],"(",")",";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","totalSegmentExtensionFactoryMock",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getMockBuilder",57],"(",["T_WHITESPACE","\n            ",57],["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Quote",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Api",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Data",58],["T_NS_SEPARATOR","\\",58],["T_STRING","TotalSegmentExtensionFactory",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],["T_WHITESPACE","\n        ",58],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","disableOriginalConstructor",59],"(",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","detailsFactoryMock",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getMockBuilder",62],"(",["T_WHITESPACE","\n            ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Tax",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Api",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Data",63],["T_NS_SEPARATOR","\\",63],["T_STRING","GrandTotalDetailsInterfaceFactory",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],["T_WHITESPACE","\n        ",63],")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","disableOriginalConstructor",65],"(",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","setMethods",66],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",66],"]",")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMock",67],"(",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","ratesFactoryMock",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMockBuilder",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Tax",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Api",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Data",69],["T_NS_SEPARATOR","\\",69],["T_STRING","GrandTotalRatesInterfaceFactory",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","disableOriginalConstructor",70],"(",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","setMethods",71],"(","[",["T_CONSTANT_ENCAPSED_STRING","'create'",71],"]",")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMock",72],"(",")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","taxConfigMock",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Tax",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Config",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","disableOriginalConstructor",75],"(",")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","getMock",76],"(",")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$serializer",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMockBuilder",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Serialize",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Serializer",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Json",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","disableOriginalConstructor",79],"(",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$serializer",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","any",82],"(",")",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'serialize'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","willReturnCallback",84],"(",["T_WHITESPACE","\n                ",84],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$value",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                    ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_STRING","json_encode",86],"(",["T_VARIABLE","$value",86],")",";",["T_WHITESPACE","\n                ",86],"}",["T_WHITESPACE","\n            ",87],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$serializer",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","expects",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","any",90],"(",")",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","method",91],"(",["T_CONSTANT_ENCAPSED_STRING","'unserialize'",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","willReturnCallback",92],"(",["T_WHITESPACE","\n                ",92],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$value",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                    ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","json_decode",94],"(",["T_VARIABLE","$value",94],",",["T_WHITESPACE"," ",94],["T_STRING","true",94],")",";",["T_WHITESPACE","\n                ",94],"}",["T_WHITESPACE","\n            ",95],")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","objectManagerHelper",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","ObjectManager",98],"(",["T_VARIABLE","$this",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","model",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","objectManagerHelper",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getObject",99],"(",["T_WHITESPACE","\n            ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Tax",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Model",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Quote",100],["T_NS_SEPARATOR","\\",100],["T_STRING","GrandTotalDetailsPlugin",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],",",["T_WHITESPACE","\n            ",100],"[",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'totalSegmentExtensionFactory'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","totalSegmentExtensionFactoryMock",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'ratesFactory'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","ratesFactoryMock",103],",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'detailsFactory'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","detailsFactoryMock",104],",",["T_WHITESPACE","\n                ",104],["T_CONSTANT_ENCAPSED_STRING","'taxConfig'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","taxConfigMock",105],",",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'serializer'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$serializer",106],["T_WHITESPACE","\n            ",106],"]",["T_WHITESPACE","\n        ",107],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","setupTaxTotal",111],"(",["T_ARRAY","array",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$data",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$taxTotalMock",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getMockBuilder",113],"(",["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Quote",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Quote",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Address",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Total",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","disableOriginalConstructor",114],"(",")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMock",115],"(",")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$taxTotalMock",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","any",117],"(",")",")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'getData'",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturn",119],"(",["T_VARIABLE","$data",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$taxTotalMock",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","setupTaxRateFactoryMock",124],"(",["T_ARRAY","array",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$taxRate",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$taxRateMock",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMockBuilder",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Tax",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Api",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Data",126],["T_NS_SEPARATOR","\\",126],["T_STRING","GrandTotalRatesInterface",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMock",127],"(",")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","ratesFactoryMock",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","once",129],"(",")",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","with",131],"(","[","]",")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(",["T_VARIABLE","$taxRateMock",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$taxRateMock",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","once",134],"(",")",")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'setPercent'",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","with",136],"(",["T_VARIABLE","$taxRate",136],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",136],"]",")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturnSelf",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$taxRateMock",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","once",138],"(",")",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'setTitle'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","with",140],"(",["T_VARIABLE","$taxRate",140],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",140],"]",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","willReturnSelf",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$taxRateMock",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_PROTECTED","protected",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","setupTaxDetails",145],"(",["T_ARRAY","array",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$taxDetails",145],")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$taxDetailsMock",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getMockBuilder",147],"(",["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Tax",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Api",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Data",147],["T_NS_SEPARATOR","\\",147],["T_STRING","GrandTotalDetailsInterface",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","getMock",148],"(",")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","detailsFactoryMock",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","once",150],"(",")",")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","willReturn",152],"(",["T_VARIABLE","$taxDetailsMock",152],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$taxDetailsMock",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","expects",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","once",154],"(",")",")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","method",155],"(",["T_CONSTANT_ENCAPSED_STRING","'setAmount'",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","with",156],"(",["T_VARIABLE","$taxDetails",156],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",156],"]",")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","willReturnSelf",157],"(",")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$taxDetailsMock",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","expects",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","once",159],"(",")",")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","method",160],"(",["T_CONSTANT_ENCAPSED_STRING","'setRates'",160],")",["T_WHITESPACE","\n            ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","with",161],"(",["T_VARIABLE","$taxDetails",161],"[",["T_CONSTANT_ENCAPSED_STRING","'rates'",161],"]",")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","willReturnSelf",162],"(",")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$taxDetailsMock",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","expects",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","once",164],"(",")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","method",165],"(",["T_CONSTANT_ENCAPSED_STRING","'setGroupId'",165],")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","with",166],"(",["T_LNUMBER","1",166],")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","willReturnSelf",167],"(",")",";",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$taxDetailsMock",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","testAfterProcess",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$taxRate",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"[",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","'percent'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_DNUMBER","8.25",175],",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'title'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'TX'",176],",",["T_WHITESPACE","\n        ",176],"]",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$taxAmount",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","10",178],";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$taxRateMock",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setupTaxRateFactoryMock",180],"(",["T_VARIABLE","$taxRate",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$taxDetailsMock",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setupTaxDetails",182],"(",["T_WHITESPACE","\n            ",182],"[",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'amount'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$taxAmount",184],",",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'rates'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],"[",["T_VARIABLE","$taxRateMock",185],"]",",",["T_WHITESPACE","\n            ",185],"]",["T_WHITESPACE","\n        ",186],")",";",["T_WHITESPACE","\n\n        ",187],["T_VARIABLE","$taxTotalData",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],"[",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'full_info'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_STRING","json_encode",190],"(","[",["T_WHITESPACE","\n                ",190],"[",["T_WHITESPACE","\n                    ",191],["T_CONSTANT_ENCAPSED_STRING","'amount'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$taxAmount",192],",",["T_WHITESPACE","\n                    ",192],["T_CONSTANT_ENCAPSED_STRING","'rates'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],"[",["T_VARIABLE","$taxRate",193],"]",",",["T_WHITESPACE","\n                ",193],"]",",",["T_WHITESPACE","\n            ",194],"]",")",",",["T_WHITESPACE","\n        ",195],"]",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$taxTotalMock",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setupTaxTotal",197],"(",["T_VARIABLE","$taxTotalData",197],")",";",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$addressTotals",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'tax'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$taxTotalMock",199],",",["T_WHITESPACE","\n        ",199],"]",";",["T_WHITESPACE","\n\n        ",200],["T_VARIABLE","$extensionAttributeMock",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getMockBuilder",202],"(",["T_WHITESPACE","\n            ",202],["T_NS_SEPARATOR","\\",203],["T_STRING","Magento",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Quote",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Api",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Data",203],["T_NS_SEPARATOR","\\",203],["T_STRING","TotalSegmentExtensionInterface",203],["T_DOUBLE_COLON","::",203],["T_CLASS","class",203],["T_WHITESPACE","\n        ",203],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","setMethods",204],"(",["T_WHITESPACE","\n            ",204],"[",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","'setTaxGrandtotalDetails'",206],",",["T_WHITESPACE","\n\n            ",206],"]",["T_WHITESPACE","\n        ",208],")",["T_OBJECT_OPERATOR","->",209],["T_STRING","getMockForAbstractClass",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$extensionAttributeMock",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","once",210],"(",")",")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","method",211],"(",["T_CONSTANT_ENCAPSED_STRING","'setTaxGrandtotalDetails'",211],")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","with",212],"(","[",["T_VARIABLE","$taxDetailsMock",212],"]",")",["T_WHITESPACE","\n            ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","willReturnSelf",213],"(",")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$taxSegmentMock",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getMockBuilder",215],"(",["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Quote",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Model",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Cart",215],["T_NS_SEPARATOR","\\",215],["T_STRING","TotalSegment",215],["T_DOUBLE_COLON","::",215],["T_CLASS","class",215],")",["T_WHITESPACE","\n            ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","disableOriginalConstructor",216],"(",")",["T_WHITESPACE","\n            ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","getMock",217],"(",")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$taxSegmentMock",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","once",218],"(",")",")",["T_WHITESPACE","\n            ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'getExtensionAttributes'",219],")",["T_WHITESPACE","\n            ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","willReturn",220],"(",["T_VARIABLE","$extensionAttributeMock",220],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$taxSegmentMock",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","expects",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","once",221],"(",")",")",["T_WHITESPACE","\n            ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","method",222],"(",["T_CONSTANT_ENCAPSED_STRING","'setExtensionAttributes'",222],")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","with",223],"(",["T_VARIABLE","$extensionAttributeMock",223],")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","willReturnSelf",224],"(",")",";",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$totalSegments",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],"[",["T_WHITESPACE","\n            ",226],["T_CONSTANT_ENCAPSED_STRING","'tax'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$taxSegmentMock",227],",",["T_WHITESPACE","\n        ",227],"]",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$result",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","model",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","afterProcess",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","subjectMock",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$totalSegments",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$addressTotals",230],")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEquals",231],"(",["T_VARIABLE","$totalSegments",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$result",231],")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n",232],"}",["T_WHITESPACE","\n",233]]