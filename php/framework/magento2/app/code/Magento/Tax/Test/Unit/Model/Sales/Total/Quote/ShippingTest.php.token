[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tax",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Total",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Tax",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Total",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Quote",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Shipping",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ShippingTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PRIVATE","private",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$taxConfigMock",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$taxCalculationMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$quoteDetailsDataObjectFactory",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$itemDetailsDataObjectFactory",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$taxClassKeyDataObjectFactory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$addressFactoryMock",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$regionFactoryMock",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$quoteMock",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var Shipping\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PRIVATE","private",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$model",61],";",["T_WHITESPACE","\n\n    ",61],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","setUp",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","taxConfigMock",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getMock",65],"(",["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Tax",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Config",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],",",["T_WHITESPACE"," ",65],"[","]",",",["T_WHITESPACE"," ",65],"[","]",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","''",65],",",["T_WHITESPACE"," ",65],["T_STRING","false",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","taxCalculationMock",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getMock",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Tax",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Api",66],["T_NS_SEPARATOR","\\",66],["T_STRING","TaxCalculationInterface",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","quoteDetailsDataObjectFactory",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMock",67],"(",["T_WHITESPACE","\n            ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Tax",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Api",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Data",68],["T_NS_SEPARATOR","\\",68],["T_STRING","QuoteDetailsInterfaceFactory",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],",",["T_WHITESPACE","\n            ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",69],"]",",",["T_WHITESPACE","\n            ",69],"[","]",",",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","''",71],",",["T_WHITESPACE","\n            ",71],["T_STRING","false",72],["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","itemDetailsDataObjectFactory",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMock",74],"(",["T_WHITESPACE","\n            ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Tax",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Api",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Data",75],["T_NS_SEPARATOR","\\",75],["T_STRING","QuoteDetailsItemInterfaceFactory",75],["T_DOUBLE_COLON","::",75],["T_CLASS","class",75],",",["T_WHITESPACE","\n            ",75],"[",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'create'",77],",",["T_WHITESPACE","\n            ",77],"]",",",["T_WHITESPACE","\n            ",78],"[","]",",",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","''",80],",",["T_WHITESPACE","\n            ",80],["T_STRING","false",81],["T_WHITESPACE","\n        ",81],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","taxClassKeyDataObjectFactory",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getMock",83],"(",["T_WHITESPACE","\n            ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Tax",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Api",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Data",84],["T_NS_SEPARATOR","\\",84],["T_STRING","TaxClassKeyInterfaceFactory",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],",",["T_WHITESPACE","\n            ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",85],"]",",",["T_WHITESPACE","\n            ",85],"[","]",",",["T_WHITESPACE","\n            ",86],["T_CONSTANT_ENCAPSED_STRING","''",87],",",["T_WHITESPACE","\n            ",87],["T_STRING","false",88],["T_WHITESPACE","\n        ",88],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","addressFactoryMock",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMock",90],"(",["T_WHITESPACE","\n            ",90],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Customer",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Api",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Data",91],["T_NS_SEPARATOR","\\",91],["T_STRING","AddressInterfaceFactory",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],",",["T_WHITESPACE","\n            ",91],"[","]",",",["T_WHITESPACE","\n            ",92],"[","]",",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","''",94],",",["T_WHITESPACE","\n            ",94],["T_STRING","false",95],["T_WHITESPACE","\n        ",95],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","regionFactoryMock",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMock",97],"(",["T_WHITESPACE","\n            ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Customer",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Api",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Data",98],["T_NS_SEPARATOR","\\",98],["T_STRING","RegionInterfaceFactory",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],",",["T_WHITESPACE","\n            ",98],"[","]",",",["T_WHITESPACE","\n            ",99],"[","]",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","''",101],",",["T_WHITESPACE","\n            ",101],["T_STRING","false",102],["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","quoteMock",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getMock",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Quote",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Model",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Quote",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],",",["T_WHITESPACE"," ",104],"[","]",",",["T_WHITESPACE"," ",104],"[","]",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","''",104],",",["T_WHITESPACE"," ",104],["T_STRING","false",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","model",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","Shipping",105],"(",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","taxConfigMock",106],",",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","taxCalculationMock",107],",",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","quoteDetailsDataObjectFactory",108],",",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","itemDetailsDataObjectFactory",109],",",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","taxClassKeyDataObjectFactory",110],",",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","addressFactoryMock",111],",",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","regionFactoryMock",112],["T_WHITESPACE","\n        ",112],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","testCollectDoesNotCalculateTaxIfThereIsNoItemsRelatedToGivenAddress",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$storeId",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_LNUMBER","1",118],";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","quoteMock",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","expects",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","once",119],"(",")",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","method",119],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturn",119],"(",["T_VARIABLE","$storeId",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$addressMock",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMockObject",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Quote",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Model",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Quote",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Address",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],",",["T_WHITESPACE"," ",121],"[",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'all_items'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],"[","]",",",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_calculation_amount'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_LNUMBER","100",123],",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_calculation_amount'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_LNUMBER","200",124],",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_amount'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_LNUMBER","10",125],",",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_amount'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_LNUMBER","20",126],",",["T_WHITESPACE","\n            ",126],["T_CONSTANT_ENCAPSED_STRING","'quote'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","quoteMock",127],",",["T_WHITESPACE","\n        ",127],"]",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","taxCalculationMock",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","never",129],"(",")",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","method",129],"(",["T_CONSTANT_ENCAPSED_STRING","'calculateTax'",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$shippingMock",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getMock",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Quote",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Api",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Data",131],["T_NS_SEPARATOR","\\",131],["T_STRING","ShippingInterface",131],["T_DOUBLE_COLON","::",131],["T_CLASS","class",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$shippingMock",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","expects",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","atLeastOnce",132],"(",")",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'getAddress'",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","willReturn",132],"(",["T_VARIABLE","$addressMock",132],")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$shippingAssignmentMock",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMock",133],"(",["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Quote",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Api",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Data",133],["T_NS_SEPARATOR","\\",133],["T_STRING","ShippingAssignmentInterface",133],["T_DOUBLE_COLON","::",133],["T_CLASS","class",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$shippingAssignmentMock",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","atLeastOnce",134],"(",")",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getShipping'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","willReturn",134],"(",["T_VARIABLE","$shippingMock",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$shippingAssignmentMock",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","expects",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","once",135],"(",")",")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","method",136],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","willReturn",137],"(","[",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMock",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Quote",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Api",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Data",137],["T_NS_SEPARATOR","\\",137],["T_STRING","CartItemInterface",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")","]",")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$totalMock",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMock",139],"(",["T_NS_SEPARATOR","\\",139],["T_STRING","Magento",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Quote",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Model",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Quote",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Address",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Total",139],["T_DOUBLE_COLON","::",139],["T_CLASS","class",139],",",["T_WHITESPACE"," ",139],"[","]",",",["T_WHITESPACE"," ",139],"[","]",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],",",["T_WHITESPACE"," ",139],["T_STRING","false",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","model",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","collect",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","quoteMock",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$shippingAssignmentMock",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$totalMock",141],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","testCollect",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","markTestIncomplete",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Target code is not unit testable. Refactoring is required.'",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Retrieve mock object with mocked getters\n     *\n     * @param $className\n     * @param array $objectState\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PRIVATE","private",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getMockObject",156],"(",["T_VARIABLE","$className",156],",",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$objectState",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$getterValueMap",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"[","]",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$methods",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],"[",["T_CONSTANT_ENCAPSED_STRING","'__wakeup'",159],"]",";",["T_WHITESPACE","\n        ",159],["T_FOREACH","foreach",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$objectState",160],["T_WHITESPACE"," ",160],["T_AS","as",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$key",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$value",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$getterName",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'get'",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_STRING","str_replace",161],"(",["T_CONSTANT_ENCAPSED_STRING","' '",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","''",161],",",["T_WHITESPACE"," ",161],["T_STRING","ucwords",161],"(",["T_STRING","str_replace",161],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","' '",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$key",161],")",")",")",";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$getterValueMap",162],"[",["T_VARIABLE","$getterName",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$value",162],";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$methods",163],"[","]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$getterName",163],";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$mock",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getMock",166],"(",["T_VARIABLE","$className",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$methods",166],",",["T_WHITESPACE"," ",166],"[","]",",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],",",["T_WHITESPACE"," ",166],["T_STRING","false",166],")",";",["T_WHITESPACE","\n        ",166],["T_FOREACH","foreach",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$getterValueMap",167],["T_WHITESPACE"," ",167],["T_AS","as",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$getterName",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$value",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$mock",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expects",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","any",168],"(",")",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","method",168],"(",["T_VARIABLE","$getterName",168],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","will",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","returnValue",168],"(",["T_VARIABLE","$value",168],")",")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$mock",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testFetch",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$value",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","42",176],";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$total",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Quote",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Quote",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Address",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Total",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$total",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setShippingInclTax",178],"(",["T_VARIABLE","$value",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$expectedResult",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'code'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'shipping'",180],",",["T_WHITESPACE","\n            ",180],["T_CONSTANT_ENCAPSED_STRING","'shipping_incl_tax'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$value",181],["T_WHITESPACE","\n        ",181],"]",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEquals",184],"(",["T_VARIABLE","$expectedResult",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","model",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","fetch",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","quoteMock",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$total",184],")",")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","testFetchWithZeroShipping",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$value",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_LNUMBER","0",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$total",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Quote",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Model",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Quote",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Address",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Total",190],"(",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$total",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setShippingInclTax",191],"(",["T_VARIABLE","$value",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertNull",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","model",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","fetch",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","quoteMock",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$total",193],")",")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n",194],"}",["T_WHITESPACE","\n",195]]