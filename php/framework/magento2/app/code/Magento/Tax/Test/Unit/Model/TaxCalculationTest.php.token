[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManager",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","TaxCalculationTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Api\\TaxCalculationInterface\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$taxCalculationService",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$taxDetailsItemDataObjectFactory",24],";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",26],["T_WHITESPACE","\n    ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$taxDetailsDataObjectFactory",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$storeManager",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PRIVATE","private",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$calculatorFactory",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$calculationTool",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$configMock",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @var \\PHPUnit_Framework_MockObject_MockObject\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$taxClassManagementMock",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\DataObjectHelper|\\PHPUnit_Framework_MockObject_MockObject\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$dataObjectHelperMock",59],";",["T_WHITESPACE","\n\n    ",59],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","setUp",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","calculationTool",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMock",63],"(",["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Tax",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Model",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Calculation",63],["T_DOUBLE_COLON","::",63],["T_CLASS","class",63],",",["T_WHITESPACE"," ",63],"[","]",",",["T_WHITESPACE"," ",63],"[","]",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","''",63],",",["T_WHITESPACE"," ",63],["T_STRING","false",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","calculatorFactory",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",["T_WHITESPACE","\n            ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Tax",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Calculation",65],["T_NS_SEPARATOR","\\",65],["T_STRING","CalculatorFactory",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],",",["T_WHITESPACE","\n            ",65],"[","]",",",["T_WHITESPACE","\n            ",66],"[","]",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE","\n            ",68],["T_STRING","false",69],["T_WHITESPACE","\n        ",69],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","configMock",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getMock",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Tax",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Model",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Config",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],",",["T_WHITESPACE"," ",71],"[","]",",",["T_WHITESPACE"," ",71],"[","]",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],",",["T_WHITESPACE"," ",71],["T_STRING","false",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","taxDetailsDataObjectFactory",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMock",72],"(",["T_WHITESPACE","\n            ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Tax",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Api",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Data",73],["T_NS_SEPARATOR","\\",73],["T_STRING","TaxDetailsInterfaceFactory",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],",",["T_WHITESPACE","\n            ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'create'",74],"]",",",["T_WHITESPACE","\n            ",74],"[","]",",",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","''",76],",",["T_WHITESPACE","\n            ",76],["T_STRING","false",77],["T_WHITESPACE","\n        ",77],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","taxDetailsItemDataObjectFactory",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getMock",79],"(",["T_WHITESPACE","\n            ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Tax",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Api",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Data",80],["T_NS_SEPARATOR","\\",80],["T_STRING","TaxDetailsItemInterfaceFactory",80],["T_DOUBLE_COLON","::",80],["T_CLASS","class",80],",",["T_WHITESPACE","\n            ",80],"[","]",",",["T_WHITESPACE","\n            ",81],"[","]",",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","''",83],",",["T_WHITESPACE","\n            ",83],["T_STRING","false",84],["T_WHITESPACE","\n        ",84],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","storeManager",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMock",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Store",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","StoreManagerInterface",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","dataObjectHelperMock",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMockBuilder",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Api",87],["T_NS_SEPARATOR","\\",87],["T_STRING","DataObjectHelper",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],")",["T_WHITESPACE","\n            ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","disableOriginalConstructor",88],"(",")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","taxClassManagementMock",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMock",90],"(",["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Tax",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Api",90],["T_NS_SEPARATOR","\\",90],["T_STRING","TaxClassManagementInterface",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$objectManager",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","ObjectManager",92],"(",["T_VARIABLE","$this",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","taxCalculationService",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$objectManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getObject",93],"(",["T_WHITESPACE","\n            ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Tax",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Model",94],["T_NS_SEPARATOR","\\",94],["T_STRING","TaxCalculation",94],["T_DOUBLE_COLON","::",94],["T_CLASS","class",94],",",["T_WHITESPACE","\n            ",94],"[",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'calculation'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","calculationTool",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'calculatorFactory'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","calculatorFactory",97],",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'config'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","configMock",98],",",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'taxDetailsDataObjectFactory'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","taxDetailsDataObjectFactory",99],",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'taxDetailsItemDataObjectFactory'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","taxDetailsItemDataObjectFactory",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'storeManager'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","storeManager",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'taxClassManagement'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","taxClassManagementMock",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'dataObjectHelper'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","dataObjectHelperMock",103],",",["T_WHITESPACE","\n            ",103],"]",["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testGetCalculatedRate",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$productTaxClassId",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$customerId",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_LNUMBER","2",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$storeId",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","3",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$rate",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_DNUMBER","0.5",113],";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$storeMock",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMock",115],"(",["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Store",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Model",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Store",115],["T_DOUBLE_COLON","::",115],["T_CLASS","class",115],",",["T_WHITESPACE"," ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",115],"]",",",["T_WHITESPACE"," ",115],"[","]",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","storeManager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","expects",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","once",116],"(",")",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","willReturn",116],"(",["T_VARIABLE","$storeMock",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$storeMock",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","once",117],"(",")",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","method",117],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","willReturn",117],"(",["T_VARIABLE","$storeId",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$rateRequestMock",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMock",119],"(",["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Framework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","DataObject",119],["T_DOUBLE_COLON","::",119],["T_CLASS","class",119],",",["T_WHITESPACE"," ",119],"[",["T_CONSTANT_ENCAPSED_STRING","'setProductClassId'",119],"]",",",["T_WHITESPACE"," ",119],"[","]",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","''",119],",",["T_WHITESPACE"," ",119],["T_STRING","false",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","calculationTool",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","once",120],"(",")",")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","method",121],"(",["T_CONSTANT_ENCAPSED_STRING","'getRateRequest'",121],")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","with",122],"(",["T_STRING","null",122],",",["T_WHITESPACE"," ",122],["T_STRING","null",122],",",["T_WHITESPACE"," ",122],["T_STRING","null",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$storeId",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$customerId",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_VARIABLE","$rateRequestMock",123],")",";",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$rateRequestMock",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","expects",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","once",125],"(",")",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","method",126],"(",["T_CONSTANT_ENCAPSED_STRING","'setProductClassId'",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","with",127],"(",["T_VARIABLE","$productTaxClassId",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","willReturnSelf",128],"(",")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","calculationTool",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","expects",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","once",130],"(",")",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'getRate'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","with",130],"(",["T_VARIABLE","$rateRequestMock",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","willReturn",130],"(",["T_VARIABLE","$rate",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEquals",131],"(",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$rate",132],",",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","taxCalculationService",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getCalculatedRate",133],"(",["T_VARIABLE","$productTaxClassId",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$customerId",133],",",["T_WHITESPACE"," ",133],["T_STRING","null",133],")",["T_WHITESPACE","\n        ",133],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testGetDefaultCalculatedRate",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$productTaxClassId",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_LNUMBER","1",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$customerId",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_LNUMBER","2",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$storeId",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","3",141],";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$rate",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_DNUMBER","0.5",142],";",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$storeMock",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMock",144],"(",["T_NS_SEPARATOR","\\",144],["T_STRING","Magento",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Store",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Model",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Store",144],["T_DOUBLE_COLON","::",144],["T_CLASS","class",144],",",["T_WHITESPACE"," ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",144],"]",",",["T_WHITESPACE"," ",144],"[","]",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","''",144],",",["T_WHITESPACE"," ",144],["T_STRING","false",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","storeManager",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","expects",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","once",145],"(",")",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","method",145],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","willReturn",145],"(",["T_VARIABLE","$storeMock",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$storeMock",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","expects",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","once",146],"(",")",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","method",146],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","willReturn",146],"(",["T_VARIABLE","$storeId",146],")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$rateRequestMock",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getMock",148],"(",["T_NS_SEPARATOR","\\",148],["T_STRING","Magento",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Framework",148],["T_NS_SEPARATOR","\\",148],["T_STRING","DataObject",148],["T_DOUBLE_COLON","::",148],["T_CLASS","class",148],",",["T_WHITESPACE"," ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'setProductClassId'",148],"]",",",["T_WHITESPACE"," ",148],"[","]",",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","''",148],",",["T_WHITESPACE"," ",148],["T_STRING","false",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","calculationTool",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","expects",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","once",149],"(",")",")",["T_WHITESPACE","\n            ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","method",150],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultRateRequest'",150],")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","with",151],"(",["T_VARIABLE","$storeId",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$customerId",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","willReturn",152],"(",["T_VARIABLE","$rateRequestMock",152],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$rateRequestMock",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","expects",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","once",154],"(",")",")",["T_WHITESPACE","\n            ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","method",155],"(",["T_CONSTANT_ENCAPSED_STRING","'setProductClassId'",155],")",["T_WHITESPACE","\n            ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","with",156],"(",["T_VARIABLE","$productTaxClassId",156],")",["T_WHITESPACE","\n            ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","willReturnSelf",157],"(",")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","calculationTool",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","expects",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","once",159],"(",")",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","method",159],"(",["T_CONSTANT_ENCAPSED_STRING","'getRate'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","with",159],"(",["T_VARIABLE","$rateRequestMock",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","willReturn",159],"(",["T_VARIABLE","$rate",159],")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEquals",160],"(",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$rate",161],",",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","taxCalculationService",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getDefaultCalculatedRate",162],"(",["T_VARIABLE","$productTaxClassId",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$customerId",162],",",["T_WHITESPACE"," ",162],["T_STRING","null",162],")",["T_WHITESPACE","\n        ",162],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","testCalculateTaxIfNoItemsInQuote",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$storeId",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_LNUMBER","3",168],";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$quoteDetailsMock",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getMock",169],"(",["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Tax",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Api",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Data",169],["T_NS_SEPARATOR","\\",169],["T_STRING","QuoteDetailsInterface",169],["T_DOUBLE_COLON","::",169],["T_CLASS","class",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$storeMock",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getMock",171],"(",["T_NS_SEPARATOR","\\",171],["T_STRING","Magento",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Store",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Model",171],["T_NS_SEPARATOR","\\",171],["T_STRING","Store",171],["T_DOUBLE_COLON","::",171],["T_CLASS","class",171],",",["T_WHITESPACE"," ",171],"[",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",171],"]",",",["T_WHITESPACE"," ",171],"[","]",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],",",["T_WHITESPACE"," ",171],["T_STRING","false",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","storeManager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","expects",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","once",172],"(",")",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","method",172],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","willReturn",172],"(",["T_VARIABLE","$storeMock",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$storeMock",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","expects",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","once",173],"(",")",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","method",173],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","willReturn",173],"(",["T_VARIABLE","$storeId",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$quoteDetailsMock",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","expects",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","once",175],"(",")",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","method",175],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","willReturn",175],"(",["T_STRING","null",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$taxDetailsMock",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getMock",177],"(",["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Tax",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Api",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Data",177],["T_NS_SEPARATOR","\\",177],["T_STRING","TaxDetailsInterface",177],["T_DOUBLE_COLON","::",177],["T_CLASS","class",177],")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$taxDetailsMock",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","once",178],"(",")",")",["T_WHITESPACE","\n            ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","method",179],"(",["T_CONSTANT_ENCAPSED_STRING","'setSubtotal'",179],")",["T_WHITESPACE","\n            ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","willReturnSelf",180],"(",")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$taxDetailsMock",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","expects",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","once",181],"(",")",")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","method",182],"(",["T_CONSTANT_ENCAPSED_STRING","'setTaxAmount'",182],")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","willReturnSelf",183],"(",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$taxDetailsMock",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","expects",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","once",184],"(",")",")",["T_WHITESPACE","\n            ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","method",185],"(",["T_CONSTANT_ENCAPSED_STRING","'setDiscountTaxCompensationAmount'",185],")",["T_WHITESPACE","\n            ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","willReturnSelf",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$taxDetailsMock",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","expects",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","once",187],"(",")",")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","method",188],"(",["T_CONSTANT_ENCAPSED_STRING","'setAppliedTaxes'",188],")",["T_WHITESPACE","\n            ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","willReturnSelf",189],"(",")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$taxDetailsMock",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","expects",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","once",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","method",191],"(",["T_CONSTANT_ENCAPSED_STRING","'setItems'",191],")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","willReturnSelf",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","taxDetailsDataObjectFactory",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","expects",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","once",193],"(",")",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","method",193],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","willReturn",193],"(",["T_VARIABLE","$taxDetailsMock",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertEquals",195],"(",["T_VARIABLE","$taxDetailsMock",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","taxCalculationService",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","calculateTax",195],"(",["T_VARIABLE","$quoteDetailsMock",195],")",")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","testCalculateTax",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$storeId",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_LNUMBER","3",200],";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$algorithm",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'algorithm'",201],";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$customerId",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_LNUMBER","100",202],";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$taxClassId",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_LNUMBER","200",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$taxDetailsData",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"[",["T_WHITESPACE","\n            ",204],["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Tax",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Model",205],["T_NS_SEPARATOR","\\",205],["T_STRING","TaxDetails",205],["T_NS_SEPARATOR","\\",205],["T_STRING","TaxDetails",205],["T_DOUBLE_COLON","::",205],["T_STRING","KEY_SUBTOTAL",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_DNUMBER","0.0",205],",",["T_WHITESPACE","\n            ",205],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Tax",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Model",206],["T_NS_SEPARATOR","\\",206],["T_STRING","TaxDetails",206],["T_NS_SEPARATOR","\\",206],["T_STRING","TaxDetails",206],["T_DOUBLE_COLON","::",206],["T_STRING","KEY_TAX_AMOUNT",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_DNUMBER","0.0",206],",",["T_WHITESPACE","\n            ",206],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Tax",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Model",207],["T_NS_SEPARATOR","\\",207],["T_STRING","TaxDetails",207],["T_NS_SEPARATOR","\\",207],["T_STRING","TaxDetails",207],["T_DOUBLE_COLON","::",207],["T_STRING","KEY_DISCOUNT_TAX_COMPENSATION_AMOUNT",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_DNUMBER","0.0",207],",",["T_WHITESPACE","\n            ",207],["T_NS_SEPARATOR","\\",208],["T_STRING","Magento",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Tax",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Model",208],["T_NS_SEPARATOR","\\",208],["T_STRING","TaxDetails",208],["T_NS_SEPARATOR","\\",208],["T_STRING","TaxDetails",208],["T_DOUBLE_COLON","::",208],["T_STRING","KEY_APPLIED_TAXES",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],"[","]",",",["T_WHITESPACE","\n            ",208],["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Tax",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Model",209],["T_NS_SEPARATOR","\\",209],["T_STRING","TaxDetails",209],["T_NS_SEPARATOR","\\",209],["T_STRING","TaxDetails",209],["T_DOUBLE_COLON","::",209],["T_STRING","KEY_ITEMS",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],"[","]",",",["T_WHITESPACE","\n        ",209],"]",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$quoteDetailsMock",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getMock",212],"(",["T_NS_SEPARATOR","\\",212],["T_STRING","Magento",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Tax",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Api",212],["T_NS_SEPARATOR","\\",212],["T_STRING","Data",212],["T_NS_SEPARATOR","\\",212],["T_STRING","QuoteDetailsInterface",212],["T_DOUBLE_COLON","::",212],["T_CLASS","class",212],")",";",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$storeMock",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getMock",214],"(",["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Store",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Model",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Store",214],["T_DOUBLE_COLON","::",214],["T_CLASS","class",214],",",["T_WHITESPACE"," ",214],"[",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",214],"]",",",["T_WHITESPACE"," ",214],"[","]",",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],",",["T_WHITESPACE"," ",214],["T_STRING","false",214],")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","storeManager",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","expects",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","once",215],"(",")",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","method",215],"(",["T_CONSTANT_ENCAPSED_STRING","'getStore'",215],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","willReturn",215],"(",["T_VARIABLE","$storeMock",215],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$storeMock",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","expects",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","once",216],"(",")",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","method",216],"(",["T_CONSTANT_ENCAPSED_STRING","'getStoreId'",216],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","willReturn",216],"(",["T_VARIABLE","$storeId",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$billAddressMock",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getMock",218],"(",["T_NS_SEPARATOR","\\",218],["T_STRING","Magento",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Customer",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Api",218],["T_NS_SEPARATOR","\\",218],["T_STRING","Data",218],["T_NS_SEPARATOR","\\",218],["T_STRING","AddressInterface",218],["T_DOUBLE_COLON","::",218],["T_CLASS","class",218],",",["T_WHITESPACE"," ",218],"[","]",",",["T_WHITESPACE"," ",218],"[","]",",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","''",218],",",["T_WHITESPACE"," ",218],["T_STRING","false",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$shipAddressMock",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getMock",219],"(",["T_NS_SEPARATOR","\\",219],["T_STRING","Magento",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Customer",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Api",219],["T_NS_SEPARATOR","\\",219],["T_STRING","Data",219],["T_NS_SEPARATOR","\\",219],["T_STRING","AddressInterface",219],["T_DOUBLE_COLON","::",219],["T_CLASS","class",219],",",["T_WHITESPACE"," ",219],"[","]",",",["T_WHITESPACE"," ",219],"[","]",",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","''",219],",",["T_WHITESPACE"," ",219],["T_STRING","false",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$taxClassKeyMock",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getMock",220],"(",["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Tax",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Api",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Data",220],["T_NS_SEPARATOR","\\",220],["T_STRING","TaxClassKeyInterface",220],["T_DOUBLE_COLON","::",220],["T_CLASS","class",220],")",";",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$quoteDetailsItemMock",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getMock",222],"(",["T_NS_SEPARATOR","\\",222],["T_STRING","Magento",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Tax",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Api",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Data",222],["T_NS_SEPARATOR","\\",222],["T_STRING","QuoteDetailsItemInterface",222],["T_DOUBLE_COLON","::",222],["T_CLASS","class",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$quoteDetailsMock",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","expects",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","once",223],"(",")",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","method",223],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","willReturn",223],"(","[",["T_VARIABLE","$quoteDetailsItemMock",223],"]",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$quoteDetailsMock",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","expects",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","once",224],"(",")",")",["T_OBJECT_OPERATOR","->",224],["T_STRING","method",224],"(",["T_CONSTANT_ENCAPSED_STRING","'getBillingAddress'",224],")",["T_OBJECT_OPERATOR","->",224],["T_STRING","willReturn",224],"(",["T_VARIABLE","$billAddressMock",224],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$quoteDetailsMock",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","once",225],"(",")",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","method",225],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingAddress'",225],")",["T_OBJECT_OPERATOR","->",225],["T_STRING","willReturn",225],"(",["T_VARIABLE","$shipAddressMock",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$quoteDetailsMock",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","expects",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","once",226],"(",")",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerId'",226],")",["T_OBJECT_OPERATOR","->",226],["T_STRING","willReturn",226],"(",["T_VARIABLE","$customerId",226],")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$quoteDetailsMock",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","expects",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","once",227],"(",")",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","method",227],"(",["T_CONSTANT_ENCAPSED_STRING","'getCustomerTaxClassKey'",227],")",["T_OBJECT_OPERATOR","->",227],["T_STRING","willReturn",227],"(",["T_VARIABLE","$taxClassKeyMock",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","configMock",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","expects",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","once",229],"(",")",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'getAlgorithm'",229],")",["T_OBJECT_OPERATOR","->",229],["T_STRING","with",229],"(",["T_VARIABLE","$storeId",229],")",["T_OBJECT_OPERATOR","->",229],["T_STRING","willReturn",229],"(",["T_VARIABLE","$algorithm",229],")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","taxClassManagementMock",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","expects",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","once",230],"(",")",")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","method",231],"(",["T_CONSTANT_ENCAPSED_STRING","'getTaxClassId'",231],")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","with",232],"(",["T_VARIABLE","$taxClassKeyMock",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'customer'",232],")",["T_WHITESPACE","\n            ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","willReturn",233],"(",["T_VARIABLE","$taxClassId",233],")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$calculatorMock",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getMock",235],"(",["T_NS_SEPARATOR","\\",235],["T_STRING","Magento",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Tax",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Model",235],["T_NS_SEPARATOR","\\",235],["T_STRING","Calculation",235],["T_NS_SEPARATOR","\\",235],["T_STRING","TotalBaseCalculator",235],["T_DOUBLE_COLON","::",235],["T_CLASS","class",235],",",["T_WHITESPACE"," ",235],"[","]",",",["T_WHITESPACE"," ",235],"[","]",",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],",",["T_WHITESPACE"," ",235],["T_STRING","false",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","calculatorFactory",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","expects",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","once",236],"(",")",")",["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","method",237],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",237],")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","with",238],"(",["T_VARIABLE","$algorithm",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$storeId",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$billAddressMock",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$shipAddressMock",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$taxClassId",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$customerId",238],")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","willReturn",239],"(",["T_VARIABLE","$calculatorMock",239],")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$taxDetailsMock",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getMock",241],"(",["T_NS_SEPARATOR","\\",241],["T_STRING","Magento",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Tax",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Api",241],["T_NS_SEPARATOR","\\",241],["T_STRING","Data",241],["T_NS_SEPARATOR","\\",241],["T_STRING","TaxDetailsItemInterface",241],["T_DOUBLE_COLON","::",241],["T_CLASS","class",241],")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$calculatorMock",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","expects",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","once",242],"(",")",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","method",242],"(",["T_CONSTANT_ENCAPSED_STRING","'calculate'",242],")",["T_OBJECT_OPERATOR","->",242],["T_STRING","willReturn",242],"(",["T_VARIABLE","$taxDetailsMock",242],")",";",["T_WHITESPACE","\n\n        ",242],["T_VARIABLE","$taxDetailsMock",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMock",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","Magento",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Tax",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Api",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Data",244],["T_NS_SEPARATOR","\\",244],["T_STRING","TaxDetailsInterface",244],["T_DOUBLE_COLON","::",244],["T_CLASS","class",244],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","taxDetailsDataObjectFactory",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","expects",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","once",245],"(",")",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","method",245],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",245],")",["T_OBJECT_OPERATOR","->",245],["T_STRING","willReturn",245],"(",["T_VARIABLE","$taxDetailsMock",245],")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","dataObjectHelperMock",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","expects",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","once",246],"(",")",")",["T_WHITESPACE","\n            ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","method",247],"(",["T_CONSTANT_ENCAPSED_STRING","'populateWithArray'",247],")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","with",248],"(",["T_VARIABLE","$taxDetailsMock",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$taxDetailsData",248],")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","willReturnSelf",249],"(",")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","assertEquals",251],"(",["T_VARIABLE","$taxDetailsMock",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","taxCalculationService",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","calculateTax",251],"(",["T_VARIABLE","$quoteDetailsMock",251],")",")",";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n",252],"}",["T_WHITESPACE","\n",253]]