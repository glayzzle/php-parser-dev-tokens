[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tax",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Unit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Helper",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DataObject",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","MagentoObject",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Class DataTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","DataTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","PHPUnit_Framework_TestCase",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Tax\\Helper\\Data\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$helper",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/** @var  \\PHPUnit_Framework_MockObject_MockObject *\/",25],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$orderTaxManagementMock",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/** @var  \\PHPUnit_Framework_MockObject_MockObject *\/",28],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$priceCurrencyMock",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/** @var  \\PHPUnit_Framework_MockObject_MockObject *\/",31],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$taxConfigMock",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/** @var  \\PHPUnit_Framework_MockObject_MockObject *\/",34],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$serializer",35],";",["T_WHITESPACE","\n\n    ",35],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","setUp",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$objectManager",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","TestFramework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Unit",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Helper",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ObjectManager",39],"(",["T_VARIABLE","$this",39],")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","orderTaxManagementMock",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMockBuilder",41],"(",["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Tax",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Api",41],["T_NS_SEPARATOR","\\",41],["T_STRING","OrderTaxManagementInterface",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","disableOriginalConstructor",42],"(",")",["T_WHITESPACE","\n            ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","getMock",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","priceCurrencyMock",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMockBuilder",44],"(",["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Pricing",44],["T_NS_SEPARATOR","\\",44],["T_STRING","PriceCurrencyInterface",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","disableOriginalConstructor",45],"(",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","getMock",46],"(",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","taxConfigMock",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMockBuilder",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Tax",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Config",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","disableOriginalConstructor",48],"(",")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","serializer",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMockBuilder",50],"(",["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Serialize",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Serializer",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Json",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","disableOriginalConstructor",51],"(",")",["T_WHITESPACE","\n            ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMock",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","serializer",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","expects",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","any",53],"(",")",")",["T_WHITESPACE","\n            ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'serialize'",54],")",["T_WHITESPACE","\n            ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","willReturnCallback",55],"(",["T_WHITESPACE","\n                ",55],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$value",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                    ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","json_encode",57],"(",["T_VARIABLE","$value",57],")",";",["T_WHITESPACE","\n                ",57],"}",["T_WHITESPACE","\n            ",58],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","serializer",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","expects",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","any",61],"(",")",")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","method",62],"(",["T_CONSTANT_ENCAPSED_STRING","'unserialize'",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","willReturnCallback",63],"(",["T_WHITESPACE","\n                ",63],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$value",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                    ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_STRING","json_decode",65],"(",["T_VARIABLE","$value",65],",",["T_WHITESPACE"," ",65],["T_STRING","true",65],")",";",["T_WHITESPACE","\n                ",65],"}",["T_WHITESPACE","\n            ",66],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","helper",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$objectManager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getObject",68],"(",["T_WHITESPACE","\n            ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Tax",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Helper",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Data",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],",",["T_WHITESPACE","\n            ",69],"[",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'orderTaxManagement'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","orderTaxManagementMock",71],",",["T_WHITESPACE","\n                ",71],["T_CONSTANT_ENCAPSED_STRING","'priceCurrency'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","priceCurrencyMock",72],",",["T_WHITESPACE","\n                ",72],["T_CONSTANT_ENCAPSED_STRING","'taxConfig'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","taxConfigMock",73],",",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'serializer'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","serializer",74],["T_WHITESPACE","\n            ",74],"]",["T_WHITESPACE","\n        ",75],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testGetCalculatedTaxesEmptySource",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$source",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(","[","]",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","helper",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getCalculatedTaxes",82],"(",["T_VARIABLE","$source",82],")",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testGetCalculatedTaxesForOrder",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$orderId",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_LNUMBER","1",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$itemCode",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'test_code'",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$itemAmount",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_LNUMBER","2",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$itemBaseAmount",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_LNUMBER","3",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$itemTitle",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Test title'",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$itemPercent",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_DNUMBER","0.1",92],";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$expectedAmount",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$itemAmount",94],["T_WHITESPACE"," ",94],"+",["T_WHITESPACE"," ",94],["T_LNUMBER","1",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$expectedBaseAmount",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$itemBaseAmount",95],["T_WHITESPACE"," ",95],"+",["T_WHITESPACE"," ",95],["T_LNUMBER","1",95],";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$orderDetailsItem",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMockBuilder",97],"(",["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Tax",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Api",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Data",97],["T_NS_SEPARATOR","\\",97],["T_STRING","OrderTaxDetailsAppliedTaxInterface",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","disableOriginalConstructor",98],"(",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMock",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$orderDetailsItem",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","once",100],"(",")",")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",101],")",["T_WHITESPACE","\n            ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","willReturn",102],"(",["T_VARIABLE","$itemCode",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$orderDetailsItem",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","expects",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","once",103],"(",")",")",["T_WHITESPACE","\n            ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","method",104],"(",["T_CONSTANT_ENCAPSED_STRING","'getAmount'",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","willReturn",105],"(",["T_VARIABLE","$itemAmount",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$orderDetailsItem",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","expects",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","once",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","method",107],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseAmount'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","willReturn",108],"(",["T_VARIABLE","$itemBaseAmount",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$orderDetailsItem",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","once",109],"(",")",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'getTitle'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","willReturn",111],"(",["T_VARIABLE","$itemTitle",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$orderDetailsItem",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","expects",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","once",112],"(",")",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","method",113],"(",["T_CONSTANT_ENCAPSED_STRING","'getPercent'",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","willReturn",114],"(",["T_VARIABLE","$itemPercent",114],")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$roundValues",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"[",["T_WHITESPACE","\n            ",116],"[",["T_VARIABLE","$itemAmount",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$expectedAmount",117],"]",",",["T_WHITESPACE","\n            ",117],"[",["T_VARIABLE","$itemBaseAmount",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$expectedBaseAmount",118],"]",",",["T_WHITESPACE","\n        ",118],"]",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","priceCurrencyMock",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","exactly",120],"(",["T_LNUMBER","2",120],")",")",["T_WHITESPACE","\n            ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","method",121],"(",["T_CONSTANT_ENCAPSED_STRING","'round'",121],")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","will",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","returnValueMap",122],"(",["T_VARIABLE","$roundValues",122],")",")",";",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$appliedTaxes",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],"[",["T_VARIABLE","$orderDetailsItem",124],"]",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$orderDetails",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getMockBuilder",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Tax",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Api",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Data",126],["T_NS_SEPARATOR","\\",126],["T_STRING","OrderTaxDetailsInterface",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","disableOriginalConstructor",127],"(",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMock",128],"(",")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$orderDetails",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","expects",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","once",129],"(",")",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","method",130],"(",["T_CONSTANT_ENCAPSED_STRING","'getAppliedTaxes'",130],")",["T_WHITESPACE","\n            ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","willReturn",131],"(",["T_VARIABLE","$appliedTaxes",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","orderTaxManagementMock",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","expects",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","once",132],"(",")",")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","method",133],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrderTaxDetails'",133],")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","with",134],"(",["T_VARIABLE","$orderId",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","willReturn",135],"(",["T_VARIABLE","$orderDetails",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$orderMock",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockBuilder",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Sales",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Order",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","disableOriginalConstructor",138],"(",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMock",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$orderMock",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","once",140],"(",")",")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",141],")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","willReturn",142],"(",["T_VARIABLE","$orderId",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$result",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","helper",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getCalculatedTaxes",144],"(",["T_VARIABLE","$orderMock",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertCount",145],"(",["T_LNUMBER","1",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$result",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_VARIABLE","$expectedAmount",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$result",146],"[",["T_LNUMBER","0",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",146],"]",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEquals",147],"(",["T_VARIABLE","$expectedBaseAmount",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$result",147],"[",["T_LNUMBER","0",147],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",147],"]",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEquals",148],"(",["T_VARIABLE","$itemTitle",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$result",148],"[",["T_LNUMBER","0",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",148],"]",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEquals",149],"(",["T_VARIABLE","$itemPercent",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$result",149],"[",["T_LNUMBER","0",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'percent'",149],"]",")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Creat OrderTaxDetails mock from array of data\n     *\n     * @param $inputArray\n     * @return \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Tax\\Api\\Data\\OrderTaxDetailsInterface\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",152],["T_WHITESPACE","\n    ",158],["T_PROTECTED","protected",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","mapOrderTaxItemDetail",159],"(",["T_VARIABLE","$inputArray",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$orderTaxItemDetailsMock",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getMockBuilder",161],"(",["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Tax",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Api",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Data",161],["T_NS_SEPARATOR","\\",161],["T_STRING","OrderTaxDetailsInterface",161],["T_DOUBLE_COLON","::",161],["T_CLASS","class",161],")",["T_WHITESPACE","\n            ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","getMock",162],"(",")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$itemMocks",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"[","]",";",["T_WHITESPACE","\n        ",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$inputArray",164],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",164],"]",["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$orderTaxDetailsItemData",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$itemId",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ISSET","isset",165],"(",["T_VARIABLE","$orderTaxDetailsItemData",165],"[",["T_CONSTANT_ENCAPSED_STRING","'item_id'",165],"]",")",["T_WHITESPACE"," ",165],"?",["T_WHITESPACE"," ",165],["T_VARIABLE","$orderTaxDetailsItemData",165],"[",["T_CONSTANT_ENCAPSED_STRING","'item_id'",165],"]",["T_WHITESPACE"," ",165],":",["T_WHITESPACE"," ",165],["T_STRING","null",165],";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$associatedItemId",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_ISSET","isset",166],"(",["T_VARIABLE","$orderTaxDetailsItemData",166],"[",["T_CONSTANT_ENCAPSED_STRING","'associated_item_id'",166],"]",")",["T_WHITESPACE","\n                ",166],"?",["T_WHITESPACE"," ",167],["T_VARIABLE","$orderTaxDetailsItemData",167],"[",["T_CONSTANT_ENCAPSED_STRING","'associated_item_id'",167],"]",["T_WHITESPACE","\n                ",167],":",["T_WHITESPACE"," ",168],["T_STRING","null",168],";",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$itemType",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_ISSET","isset",169],"(",["T_VARIABLE","$orderTaxDetailsItemData",169],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",169],"]",")",["T_WHITESPACE"," ",169],"?",["T_WHITESPACE"," ",169],["T_VARIABLE","$orderTaxDetailsItemData",169],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",169],"]",["T_WHITESPACE"," ",169],":",["T_WHITESPACE"," ",169],["T_STRING","null",169],";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$appliedTaxesData",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$orderTaxDetailsItemData",170],"[",["T_CONSTANT_ENCAPSED_STRING","'applied_taxes'",170],"]",";",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$appliedTaxesMocks",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"[","]",";",["T_WHITESPACE","\n            ",171],["T_FOREACH","foreach",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$appliedTaxesData",172],["T_WHITESPACE"," ",172],["T_AS","as",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$appliedTaxData",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$appliedTaxesMock",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getMockBuilder",173],"(",["T_WHITESPACE","\n                    ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Magento",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Tax",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Api",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Data",174],["T_NS_SEPARATOR","\\",174],["T_STRING","OrderTaxDetailsAppliedTaxInterface",174],["T_DOUBLE_COLON","::",174],["T_CLASS","class",174],")",["T_WHITESPACE","\n                    ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","getMock",175],"(",")",";",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$appliedTaxesMock",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","expects",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","any",176],"(",")",")",["T_WHITESPACE","\n                    ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","method",177],"(",["T_CONSTANT_ENCAPSED_STRING","'getAmount'",177],")",["T_WHITESPACE","\n                    ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","will",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","returnValue",178],"(",["T_VARIABLE","$appliedTaxData",178],"[",["T_CONSTANT_ENCAPSED_STRING","'amount'",178],"]",")",")",";",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$appliedTaxesMock",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","expects",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","any",179],"(",")",")",["T_WHITESPACE","\n                    ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","method",180],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseAmount'",180],")",["T_WHITESPACE","\n                    ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","will",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","returnValue",181],"(",["T_VARIABLE","$appliedTaxData",181],"[",["T_CONSTANT_ENCAPSED_STRING","'base_amount'",181],"]",")",")",";",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$appliedTaxesMock",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","expects",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","any",182],"(",")",")",["T_WHITESPACE","\n                    ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","method",183],"(",["T_CONSTANT_ENCAPSED_STRING","'getCode'",183],")",["T_WHITESPACE","\n                    ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","will",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","returnValue",184],"(",["T_VARIABLE","$appliedTaxData",184],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",184],"]",")",")",";",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$appliedTaxesMock",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","expects",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","any",185],"(",")",")",["T_WHITESPACE","\n                    ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","method",186],"(",["T_CONSTANT_ENCAPSED_STRING","'getTitle'",186],")",["T_WHITESPACE","\n                    ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","will",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","returnValue",187],"(",["T_VARIABLE","$appliedTaxData",187],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",187],"]",")",")",";",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$appliedTaxesMock",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","any",188],"(",")",")",["T_WHITESPACE","\n                    ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","method",189],"(",["T_CONSTANT_ENCAPSED_STRING","'getPercent'",189],")",["T_WHITESPACE","\n                    ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","will",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","returnValue",190],"(",["T_VARIABLE","$appliedTaxData",190],"[",["T_CONSTANT_ENCAPSED_STRING","'percent'",190],"]",")",")",";",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$appliedTaxesMocks",191],"[","]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$appliedTaxesMock",191],";",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$orderTaxDetailsItemMock",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getMockBuilder",193],"(",["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Tax",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Api",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Data",193],["T_NS_SEPARATOR","\\",193],["T_STRING","OrderTaxDetailsItemInterface",193],["T_DOUBLE_COLON","::",193],["T_CLASS","class",193],")",["T_WHITESPACE","\n                ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","getMock",194],"(",")",";",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$orderTaxDetailsItemMock",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","expects",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","any",195],"(",")",")",["T_WHITESPACE","\n                ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","method",196],"(",["T_CONSTANT_ENCAPSED_STRING","'getItemId'",196],")",["T_WHITESPACE","\n                ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","will",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","returnValue",197],"(",["T_VARIABLE","$itemId",197],")",")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$orderTaxDetailsItemMock",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","expects",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","any",198],"(",")",")",["T_WHITESPACE","\n                ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","method",199],"(",["T_CONSTANT_ENCAPSED_STRING","'getAssociatedItemId'",199],")",["T_WHITESPACE","\n                ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","will",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","returnValue",200],"(",["T_VARIABLE","$associatedItemId",200],")",")",";",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$orderTaxDetailsItemMock",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","expects",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","any",201],"(",")",")",["T_WHITESPACE","\n                ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","method",202],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",202],")",["T_WHITESPACE","\n                ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","will",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","returnValue",203],"(",["T_VARIABLE","$itemType",203],")",")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$orderTaxDetailsItemMock",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","any",204],"(",")",")",["T_WHITESPACE","\n                ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'getAppliedTaxes'",205],")",["T_WHITESPACE","\n                ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","will",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","returnValue",206],"(",["T_VARIABLE","$appliedTaxesMocks",206],")",")",";",["T_WHITESPACE","\n\n            ",206],["T_VARIABLE","$itemMocks",208],"[","]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$orderTaxDetailsItemMock",208],";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$orderTaxItemDetailsMock",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","expects",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","any",210],"(",")",")",["T_WHITESPACE","\n            ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","method",211],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",211],")",["T_WHITESPACE","\n            ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","will",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","returnValue",212],"(",["T_VARIABLE","$itemMocks",212],")",")",";",["T_WHITESPACE","\n\n        ",212],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$orderTaxItemDetailsMock",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * @dataProvider getCalculatedTaxesForOrderItemsDataProvider\n     *\/",217],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","testGetCalculatedTaxesForOrderItems",220],"(",["T_VARIABLE","$orderData",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$invoiceData",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$expectedResults",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$orderId",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$orderData",222],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",222],"]",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$orderShippingTaxAmount",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ISSET","isset",223],"(",["T_VARIABLE","$orderData",223],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",223],"]",")",["T_WHITESPACE"," ",223],"?",["T_WHITESPACE"," ",223],["T_VARIABLE","$orderData",223],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",223],"]",["T_WHITESPACE"," ",223],":",["T_WHITESPACE"," ",223],["T_LNUMBER","0",223],";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$orderTaxDetails",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$orderData",224],"[",["T_CONSTANT_ENCAPSED_STRING","'order_tax_details'",224],"]",";",["T_WHITESPACE","\n\n        ",224],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Sales\\Model\\Order $orderMock *\/",226],["T_WHITESPACE","\n        ",226],["T_VARIABLE","$orderMock",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getMockBuilder",227],"(",["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Sales",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Model",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Order",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","disableOriginalConstructor",228],"(",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","getMock",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$orderMock",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","expects",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","once",230],"(",")",")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","method",231],"(",["T_CONSTANT_ENCAPSED_STRING","'getId'",231],")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","willReturn",232],"(",["T_VARIABLE","$orderId",232],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$orderMock",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","expects",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","once",233],"(",")",")",["T_WHITESPACE","\n            ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","method",234],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingTaxAmount'",234],")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","willReturn",235],"(",["T_VARIABLE","$orderShippingTaxAmount",235],")",";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$orderTaxDetailsMock",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","mapOrderTaxItemDetail",237],"(",["T_VARIABLE","$orderTaxDetails",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","orderTaxManagementMock",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","expects",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","any",238],"(",")",")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","method",239],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrderTaxDetails'",239],")",["T_WHITESPACE","\n            ",239],["T_OBJECT_OPERATOR","->",240],["T_STRING","with",240],"(",["T_VARIABLE","$orderId",240],")",["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","will",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","returnValue",241],"(",["T_VARIABLE","$orderTaxDetailsMock",241],")",")",";",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$invoiceShippingTaxAmount",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE","\n            ",243],["T_ISSET","isset",244],"(",["T_VARIABLE","$invoiceData",244],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",244],"]",")",["T_WHITESPACE"," ",244],"?",["T_WHITESPACE"," ",244],["T_VARIABLE","$invoiceData",244],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",244],"]",["T_WHITESPACE"," ",244],":",["T_WHITESPACE"," ",244],["T_LNUMBER","0",244],";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$invoiceItems",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$invoiceData",245],"[",["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",245],"]",";",["T_WHITESPACE","\n        ",245],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject|\\Magento\\Sales\\Model\\Order\\Invoice $source *\/",246],["T_WHITESPACE","\n        ",246],["T_VARIABLE","$source",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getMockBuilder",247],"(",["T_NS_SEPARATOR","\\",247],["T_STRING","Magento",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Sales",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Model",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Order",247],["T_NS_SEPARATOR","\\",247],["T_STRING","Invoice",247],["T_DOUBLE_COLON","::",247],["T_CLASS","class",247],")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","disableOriginalConstructor",248],"(",")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","getMock",249],"(",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$source",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","expects",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","once",250],"(",")",")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","method",251],"(",["T_CONSTANT_ENCAPSED_STRING","'getOrder'",251],")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","willReturn",252],"(",["T_VARIABLE","$orderMock",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$source",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","expects",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","once",253],"(",")",")",["T_WHITESPACE","\n            ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","method",254],"(",["T_CONSTANT_ENCAPSED_STRING","'getShippingTaxAmount'",254],")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","willReturn",255],"(",["T_VARIABLE","$invoiceShippingTaxAmount",255],")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$source",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","expects",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","once",256],"(",")",")",["T_WHITESPACE","\n            ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","method",257],"(",["T_CONSTANT_ENCAPSED_STRING","'getItems'",257],")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","willReturn",258],"(",["T_VARIABLE","$invoiceItems",258],")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","priceCurrencyMock",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","expects",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","any",260],"(",")",")",["T_WHITESPACE","\n            ",260],["T_OBJECT_OPERATOR","->",261],["T_STRING","method",261],"(",["T_CONSTANT_ENCAPSED_STRING","'round'",261],")",["T_WHITESPACE","\n            ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","will",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","returnCallback",262],"(",["T_WHITESPACE","\n                    ",262],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$arg",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","round",264],"(",["T_VARIABLE","$arg",264],",",["T_WHITESPACE"," ",264],["T_LNUMBER","2",264],")",";",["T_WHITESPACE","\n                    ",264],"}",["T_WHITESPACE","\n                ",265],")",["T_WHITESPACE","\n            ",266],")",";",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$result",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","helper",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getCalculatedTaxes",269],"(",["T_VARIABLE","$source",269],")",";",["T_WHITESPACE","\n        ",269],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$result",270],["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$index",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$appliedTax",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$expectedTax",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$expectedResults",271],"[",["T_VARIABLE","$index",271],"]",";",["T_WHITESPACE","\n            ",271],["T_FOREACH","foreach",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$appliedTax",272],["T_WHITESPACE"," ",272],["T_AS","as",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$attr",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$value",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEquals",273],"(",["T_VARIABLE","$expectedTax",273],"[",["T_VARIABLE","$attr",273],"]",",",["T_WHITESPACE"," ",273],["T_VARIABLE","$value",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"The \"",273],".",["T_VARIABLE","$attr",273],".",["T_CONSTANT_ENCAPSED_STRING","\" of tax does not match\"",273],")",";",["T_WHITESPACE","\n            ",273],"}",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.ExcessiveMethodLength)\n     * @return array\n     *\/",278],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getCalculatedTaxesForOrderItemsDataProvider",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$data",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],"[",["T_WHITESPACE","\n            ",284],["T_COMMENT","\/\/Scenario 1: two items, one item with 0 tax\n",285],["T_WHITESPACE","            ",286],["T_CONSTANT_ENCAPSED_STRING","'two_items_with_one_zero_tax'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],"[",["T_WHITESPACE","\n                ",286],["T_CONSTANT_ENCAPSED_STRING","'order'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],"[",["T_WHITESPACE","\n                    ",287],["T_CONSTANT_ENCAPSED_STRING","'order_id'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_LNUMBER","1",288],",",["T_WHITESPACE","\n                    ",288],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_LNUMBER","0",289],",",["T_WHITESPACE","\n                    ",289],["T_CONSTANT_ENCAPSED_STRING","'order_tax_details'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],"[",["T_WHITESPACE","\n                            ",290],["T_CONSTANT_ENCAPSED_STRING","'items'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],"[",["T_WHITESPACE","\n                                ",291],["T_CONSTANT_ENCAPSED_STRING","'itemTax1'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],"[",["T_WHITESPACE","\n                                    ",292],["T_CONSTANT_ENCAPSED_STRING","'item_id'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_LNUMBER","1",293],",",["T_WHITESPACE","\n                                    ",293],["T_CONSTANT_ENCAPSED_STRING","'applied_taxes'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],"[",["T_WHITESPACE","\n                                        ",294],"[",["T_WHITESPACE","\n                                            ",295],["T_CONSTANT_ENCAPSED_STRING","'amount'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_DNUMBER","5.0",296],",",["T_WHITESPACE","\n                                            ",296],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_DNUMBER","5.0",297],",",["T_WHITESPACE","\n                                            ",297],["T_CONSTANT_ENCAPSED_STRING","'code'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'US-CA'",298],",",["T_WHITESPACE","\n                                            ",298],["T_CONSTANT_ENCAPSED_STRING","'title'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",299],",",["T_WHITESPACE","\n                                            ",299],["T_CONSTANT_ENCAPSED_STRING","'percent'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_DNUMBER","20.0",300],",",["T_WHITESPACE","\n                                        ",300],"]",",",["T_WHITESPACE","\n                                    ",301],"]",",",["T_WHITESPACE","\n                                ",302],"]",",",["T_WHITESPACE","\n                            ",303],"]",",",["T_WHITESPACE","\n                        ",304],"]",",",["T_WHITESPACE","\n                ",305],"]",",",["T_WHITESPACE","\n                ",306],["T_CONSTANT_ENCAPSED_STRING","'invoice'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],"[",["T_WHITESPACE","\n                    ",307],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],"[",["T_WHITESPACE","\n                        ",308],["T_CONSTANT_ENCAPSED_STRING","'item1'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_NEW","new",309],["T_WHITESPACE"," ",309],["T_STRING","MagentoObject",309],"(",["T_WHITESPACE","\n                                ",309],"[",["T_WHITESPACE","\n                                    ",310],["T_CONSTANT_ENCAPSED_STRING","'order_item'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_NEW","new",311],["T_WHITESPACE"," ",311],["T_STRING","MagentoObject",311],"(",["T_WHITESPACE","\n                                            ",311],"[",["T_WHITESPACE","\n                                                ",312],["T_CONSTANT_ENCAPSED_STRING","'id'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_LNUMBER","1",313],",",["T_WHITESPACE","\n                                                ",313],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_DNUMBER","5.00",314],",",["T_WHITESPACE","\n                                            ",314],"]",["T_WHITESPACE","\n                                        ",315],")",",",["T_WHITESPACE","\n                                    ",316],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_DNUMBER","2.50",317],",",["T_WHITESPACE","\n                                ",317],"]",["T_WHITESPACE","\n                            ",318],")",",",["T_WHITESPACE","\n                        ",319],["T_CONSTANT_ENCAPSED_STRING","'item2'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_NEW","new",320],["T_WHITESPACE"," ",320],["T_STRING","MagentoObject",320],"(",["T_WHITESPACE","\n                                ",320],"[",["T_WHITESPACE","\n                                    ",321],["T_CONSTANT_ENCAPSED_STRING","'order_item'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_NEW","new",322],["T_WHITESPACE"," ",322],["T_STRING","MagentoObject",322],"(",["T_WHITESPACE","\n                                            ",322],"[",["T_WHITESPACE","\n                                                ",323],["T_CONSTANT_ENCAPSED_STRING","'id'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_LNUMBER","2",324],",",["T_WHITESPACE","\n                                                ",324],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_DNUMBER","0.0",325],",",["T_WHITESPACE","\n                                            ",325],"]",["T_WHITESPACE","\n                                        ",326],")",",",["T_WHITESPACE","\n                                    ",327],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_DNUMBER","0.0",328],",",["T_WHITESPACE","\n                                ",328],"]",["T_WHITESPACE","\n                            ",329],")",",",["T_WHITESPACE","\n                    ",330],"]",",",["T_WHITESPACE","\n                ",331],"]",",",["T_WHITESPACE","\n                ",332],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n                    ",333],"[",["T_WHITESPACE","\n                        ",334],["T_CONSTANT_ENCAPSED_STRING","'title'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",335],",",["T_WHITESPACE","\n                        ",335],["T_CONSTANT_ENCAPSED_STRING","'percent'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_DNUMBER","20.0",336],",",["T_WHITESPACE","\n                        ",336],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_DNUMBER","2.5",337],",",["T_WHITESPACE","\n                        ",337],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_DNUMBER","2.5",338],",",["T_WHITESPACE","\n                    ",338],"]",",",["T_WHITESPACE","\n                ",339],"]",",",["T_WHITESPACE","\n            ",340],"]",",",["T_WHITESPACE","\n            ",341],["T_COMMENT","\/\/Scenario 2: one item with associated weee tax\n",342],["T_WHITESPACE","            ",343],["T_CONSTANT_ENCAPSED_STRING","'item_with_weee_tax_partial_invoice'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],"[",["T_WHITESPACE","\n                ",343],["T_CONSTANT_ENCAPSED_STRING","'order'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],"[",["T_WHITESPACE","\n                    ",344],["T_CONSTANT_ENCAPSED_STRING","'order_id'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_LNUMBER","1",345],",",["T_WHITESPACE","\n                    ",345],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_LNUMBER","0",346],",",["T_WHITESPACE","\n                    ",346],["T_CONSTANT_ENCAPSED_STRING","'order_tax_details'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],"[",["T_WHITESPACE","\n                            ",347],["T_CONSTANT_ENCAPSED_STRING","'items'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],"[",["T_WHITESPACE","\n                                ",348],["T_CONSTANT_ENCAPSED_STRING","'itemTax1'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],"[",["T_WHITESPACE","\n                                    ",349],["T_CONSTANT_ENCAPSED_STRING","'item_id'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_LNUMBER","1",350],",",["T_WHITESPACE","\n                                    ",350],["T_CONSTANT_ENCAPSED_STRING","'applied_taxes'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],"[",["T_WHITESPACE","\n                                        ",351],"[",["T_WHITESPACE","\n                                            ",352],["T_CONSTANT_ENCAPSED_STRING","'amount'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_DNUMBER","5.0",353],",",["T_WHITESPACE","\n                                            ",353],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_DNUMBER","5.0",354],",",["T_WHITESPACE","\n                                            ",354],["T_CONSTANT_ENCAPSED_STRING","'code'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'US-CA'",355],",",["T_WHITESPACE","\n                                            ",355],["T_CONSTANT_ENCAPSED_STRING","'title'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",356],",",["T_WHITESPACE","\n                                            ",356],["T_CONSTANT_ENCAPSED_STRING","'percent'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_DNUMBER","20.0",357],",",["T_WHITESPACE","\n                                        ",357],"]",",",["T_WHITESPACE","\n                                    ",358],"]",",",["T_WHITESPACE","\n                                ",359],"]",",",["T_WHITESPACE","\n                                ",360],["T_CONSTANT_ENCAPSED_STRING","'weeeTax1'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],"[",["T_WHITESPACE","\n                                    ",361],["T_CONSTANT_ENCAPSED_STRING","'associated_item_id'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_LNUMBER","1",362],",",["T_WHITESPACE","\n                                    ",362],["T_CONSTANT_ENCAPSED_STRING","'type'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'weee'",363],",",["T_WHITESPACE","\n                                    ",363],["T_CONSTANT_ENCAPSED_STRING","'applied_taxes'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],"[",["T_WHITESPACE","\n                                        ",364],"[",["T_WHITESPACE","\n                                            ",365],["T_CONSTANT_ENCAPSED_STRING","'amount'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_DNUMBER","3.0",366],",",["T_WHITESPACE","\n                                            ",366],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_DNUMBER","3.0",367],",",["T_WHITESPACE","\n                                            ",367],["T_CONSTANT_ENCAPSED_STRING","'code'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'US-CA'",368],",",["T_WHITESPACE","\n                                            ",368],["T_CONSTANT_ENCAPSED_STRING","'title'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",369],",",["T_WHITESPACE","\n                                            ",369],["T_CONSTANT_ENCAPSED_STRING","'percent'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_DNUMBER","20.0",370],",",["T_WHITESPACE","\n                                        ",370],"]",",",["T_WHITESPACE","\n                                    ",371],"]",",",["T_WHITESPACE","\n                                ",372],"]",",",["T_WHITESPACE","\n                            ",373],"]",",",["T_WHITESPACE","\n                        ",374],"]",",",["T_WHITESPACE","\n                ",375],"]",",",["T_WHITESPACE","\n                ",376],["T_CONSTANT_ENCAPSED_STRING","'invoice'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],"[",["T_WHITESPACE","\n                    ",377],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],"[",["T_WHITESPACE","\n                        ",378],["T_CONSTANT_ENCAPSED_STRING","'item1'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_NEW","new",379],["T_WHITESPACE"," ",379],["T_STRING","MagentoObject",379],"(",["T_WHITESPACE","\n                                ",379],"[",["T_WHITESPACE","\n                                    ",380],["T_CONSTANT_ENCAPSED_STRING","'order_item'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_NEW","new",381],["T_WHITESPACE"," ",381],["T_STRING","MagentoObject",381],"(",["T_WHITESPACE","\n                                            ",381],"[",["T_WHITESPACE","\n                                                ",382],["T_CONSTANT_ENCAPSED_STRING","'id'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_LNUMBER","1",383],",",["T_WHITESPACE","\n                                                ",383],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_DNUMBER","5.00",384],",",["T_WHITESPACE","\n                                            ",384],"]",["T_WHITESPACE","\n                                        ",385],")",",",["T_WHITESPACE","\n                                    ",386],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_DNUMBER","5.0",387],",",["T_WHITESPACE","\n                                    ",387],["T_COMMENT","\/\/half of weee tax is invoiced\n",388],["T_WHITESPACE","                                    ",389],["T_CONSTANT_ENCAPSED_STRING","'tax_ratio'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_STRING","json_encode",389],"(","[",["T_CONSTANT_ENCAPSED_STRING","'weee'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_DNUMBER","0.5",389],"]",")",",",["T_WHITESPACE","\n                                ",389],"]",["T_WHITESPACE","\n                            ",390],")",",",["T_WHITESPACE","\n                    ",391],"]",",",["T_WHITESPACE","\n                ",392],"]",",",["T_WHITESPACE","\n                ",393],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",394],["T_WHITESPACE"," ",394],["T_DOUBLE_ARROW","=>",394],["T_WHITESPACE"," ",394],"[",["T_WHITESPACE","\n                    ",394],"[",["T_WHITESPACE","\n                        ",395],["T_CONSTANT_ENCAPSED_STRING","'title'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",396],",",["T_WHITESPACE","\n                        ",396],["T_CONSTANT_ENCAPSED_STRING","'percent'",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_DNUMBER","20.0",397],",",["T_WHITESPACE","\n                        ",397],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_DNUMBER","6.5",398],",",["T_WHITESPACE","\n                        ",398],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_DNUMBER","6.5",399],",",["T_WHITESPACE","\n                    ",399],"]",",",["T_WHITESPACE","\n                ",400],"]",",",["T_WHITESPACE","\n            ",401],"]",",",["T_WHITESPACE","\n            ",402],["T_COMMENT","\/\/Scenario 3: one item, with both shipping and product taxes\n",403],["T_WHITESPACE","            ",404],["T_COMMENT","\/\/ note that 'shipping tax' is listed before 'product tax'\n",404],["T_WHITESPACE","            ",405],["T_CONSTANT_ENCAPSED_STRING","'one_item_with_both_shipping_and_product_taxes'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],"[",["T_WHITESPACE","\n                ",405],["T_CONSTANT_ENCAPSED_STRING","'order'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],"[",["T_WHITESPACE","\n                    ",406],["T_CONSTANT_ENCAPSED_STRING","'order_id'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_LNUMBER","1",407],",",["T_WHITESPACE","\n                    ",407],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_LNUMBER","2",408],",",["T_WHITESPACE","\n                    ",408],["T_CONSTANT_ENCAPSED_STRING","'order_tax_details'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],"[",["T_WHITESPACE","\n                        ",409],["T_CONSTANT_ENCAPSED_STRING","'items'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],"[",["T_WHITESPACE","\n                            ",410],["T_CONSTANT_ENCAPSED_STRING","'shippingTax1'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],"[",["T_WHITESPACE","\n                                ",411],["T_CONSTANT_ENCAPSED_STRING","'item_id'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_STRING","null",412],",",["T_WHITESPACE","\n                                ",412],["T_CONSTANT_ENCAPSED_STRING","'type'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'shipping'",413],",",["T_WHITESPACE","\n                                ",413],["T_CONSTANT_ENCAPSED_STRING","'applied_taxes'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],"[",["T_WHITESPACE","\n                                    ",414],"[",["T_WHITESPACE","\n                                        ",415],["T_CONSTANT_ENCAPSED_STRING","'amount'",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_DNUMBER","2.0",416],",",["T_WHITESPACE","\n                                        ",416],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",417],["T_WHITESPACE"," ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_DNUMBER","2.0",417],",",["T_WHITESPACE","\n                                        ",417],["T_CONSTANT_ENCAPSED_STRING","'code'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Ship'",418],",",["T_WHITESPACE","\n                                        ",418],["T_CONSTANT_ENCAPSED_STRING","'title'",419],["T_WHITESPACE"," ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax-Ship'",419],",",["T_WHITESPACE","\n                                        ",419],["T_CONSTANT_ENCAPSED_STRING","'percent'",420],["T_WHITESPACE"," ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_DNUMBER","10.0",420],",",["T_WHITESPACE","\n                                    ",420],"]",",",["T_WHITESPACE","\n                                ",421],"]",",",["T_WHITESPACE","\n                            ",422],"]",",",["T_WHITESPACE","\n                            ",423],["T_CONSTANT_ENCAPSED_STRING","'itemTax1'",424],["T_WHITESPACE"," ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],"[",["T_WHITESPACE","\n                                ",424],["T_CONSTANT_ENCAPSED_STRING","'item_id'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_LNUMBER","1",425],",",["T_WHITESPACE","\n                                ",425],["T_CONSTANT_ENCAPSED_STRING","'applied_taxes'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],"[",["T_WHITESPACE","\n                                    ",426],"[",["T_WHITESPACE","\n                                        ",427],["T_CONSTANT_ENCAPSED_STRING","'amount'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_DNUMBER","5.0",428],",",["T_WHITESPACE","\n                                        ",428],["T_CONSTANT_ENCAPSED_STRING","'base_amount'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_DNUMBER","5.0",429],",",["T_WHITESPACE","\n                                        ",429],["T_CONSTANT_ENCAPSED_STRING","'code'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'US-CA'",430],",",["T_WHITESPACE","\n                                        ",430],["T_CONSTANT_ENCAPSED_STRING","'title'",431],["T_WHITESPACE"," ",431],["T_DOUBLE_ARROW","=>",431],["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",431],",",["T_WHITESPACE","\n                                        ",431],["T_CONSTANT_ENCAPSED_STRING","'percent'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_DNUMBER","20.0",432],",",["T_WHITESPACE","\n                                    ",432],"]",",",["T_WHITESPACE","\n                                ",433],"]",",",["T_WHITESPACE","\n                            ",434],"]",",",["T_WHITESPACE","\n                        ",435],"]",",",["T_WHITESPACE","\n                    ",436],"]",",",["T_WHITESPACE","\n                ",437],"]",",",["T_WHITESPACE","\n                ",438],["T_CONSTANT_ENCAPSED_STRING","'invoice'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],"[",["T_WHITESPACE","\n                    ",439],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_LNUMBER","2",440],",",["T_WHITESPACE","\n                    ",440],["T_CONSTANT_ENCAPSED_STRING","'invoice_items'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],"[",["T_WHITESPACE","\n                        ",441],["T_CONSTANT_ENCAPSED_STRING","'item1'",442],["T_WHITESPACE"," ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_NEW","new",442],["T_WHITESPACE"," ",442],["T_STRING","MagentoObject",442],"(",["T_WHITESPACE","\n                            ",442],"[",["T_WHITESPACE","\n                                ",443],["T_CONSTANT_ENCAPSED_STRING","'order_item'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_NEW","new",444],["T_WHITESPACE"," ",444],["T_STRING","MagentoObject",444],"(",["T_WHITESPACE","\n                                    ",444],"[",["T_WHITESPACE","\n                                        ",445],["T_CONSTANT_ENCAPSED_STRING","'id'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_LNUMBER","1",446],",",["T_WHITESPACE","\n                                        ",446],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_DNUMBER","5.00",447],",",["T_WHITESPACE","\n                                    ",447],"]",["T_WHITESPACE","\n                                ",448],")",",",["T_WHITESPACE","\n                                ",449],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",450],["T_WHITESPACE"," ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_DNUMBER","5.00",450],",",["T_WHITESPACE","\n                            ",450],"]",["T_WHITESPACE","\n                        ",451],")",",",["T_WHITESPACE","\n                    ",452],"]",",",["T_WHITESPACE","\n                ",453],"]",",",["T_WHITESPACE","\n                ",454],["T_COMMENT","\/\/ note that 'shipping tax' is now listed after 'product tax'\n",455],["T_WHITESPACE","                ",456],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],"[",["T_WHITESPACE","\n                    ",456],"[",["T_WHITESPACE","\n                        ",457],["T_CONSTANT_ENCAPSED_STRING","'title'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax'",458],",",["T_WHITESPACE","\n                        ",458],["T_CONSTANT_ENCAPSED_STRING","'percent'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_DNUMBER","20.0",459],",",["T_WHITESPACE","\n                        ",459],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_DNUMBER","5.00",460],",",["T_WHITESPACE","\n                        ",460],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_DNUMBER","5.00",461],",",["T_WHITESPACE","\n                    ",461],"]",",",["T_WHITESPACE","\n                    ",462],"[",["T_WHITESPACE","\n                        ",463],["T_CONSTANT_ENCAPSED_STRING","'title'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'US-CA-Sales-Tax-Ship'",464],",",["T_WHITESPACE","\n                        ",464],["T_CONSTANT_ENCAPSED_STRING","'percent'",465],["T_WHITESPACE"," ",465],["T_DOUBLE_ARROW","=>",465],["T_WHITESPACE"," ",465],["T_DNUMBER","10.0",465],",",["T_WHITESPACE","\n                        ",465],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_DNUMBER","2.00",466],",",["T_WHITESPACE","\n                        ",466],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_DNUMBER","2.00",467],",",["T_WHITESPACE","\n                    ",467],"]",",",["T_WHITESPACE","\n                ",468],"]",",",["T_WHITESPACE","\n            ",469],"]",",",["T_WHITESPACE","\n        ",470],"]",";",["T_WHITESPACE","\n\n        ",471],["T_RETURN","return",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$data",473],";",["T_WHITESPACE","\n    ",473],"}",["T_WHITESPACE","\n\n    ",474],["T_DOC_COMMENT","\/**\n     * @param bool $expected\n     * @param bool $displayBothPrices\n     * @param bool $priceIncludesTax\n     * @param bool $isCrossBorderTradeEnabled\n     * @param bool $displayPriceIncludingTax\n     * @dataProvider dataProviderIsCatalogPriceDisplayAffectedByTax\n     *\/",476],["T_WHITESPACE","\n    ",483],["T_PUBLIC","public",484],["T_WHITESPACE"," ",484],["T_FUNCTION","function",484],["T_WHITESPACE"," ",484],["T_STRING","testIsCatalogPriceDisplayAffectedByTax",484],"(",["T_VARIABLE","$expected",484],",",["T_WHITESPACE"," ",484],["T_VARIABLE","$displayBothPrices",484],",",["T_WHITESPACE"," ",484],["T_VARIABLE","$priceIncludesTax",484],",",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$isCrossBorderTradeEnabled",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$displayPriceIncludingTax",485],")",["T_WHITESPACE","\n    ",485],"{",["T_WHITESPACE","\n        ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$displayBothPrices",487],["T_WHITESPACE"," ",487],["T_IS_EQUAL","==",487],["T_WHITESPACE"," ",487],["T_STRING","true",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","taxConfigMock",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","expects",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","at",488],"(",["T_LNUMBER","0",488],")",")",["T_WHITESPACE","\n                ",488],["T_OBJECT_OPERATOR","->",489],["T_STRING","method",489],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceDisplayType'",489],")",["T_WHITESPACE","\n                ",489],["T_OBJECT_OPERATOR","->",490],["T_STRING","willReturn",490],"(",["T_LNUMBER","3",490],")",";",["T_WHITESPACE","\n        ",490],"}",["T_WHITESPACE"," ",491],["T_ELSE","else",491],["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n            ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","taxConfigMock",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","expects",492],"(",["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","at",492],"(",["T_LNUMBER","0",492],")",")",["T_WHITESPACE","\n                ",492],["T_OBJECT_OPERATOR","->",493],["T_STRING","method",493],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceDisplayType'",493],")",["T_WHITESPACE","\n                ",493],["T_OBJECT_OPERATOR","->",494],["T_STRING","willReturn",494],"(",["T_LNUMBER","2",494],")",";",["T_WHITESPACE","\n\n            ",494],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","taxConfigMock",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","expects",496],"(",["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","any",496],"(",")",")",["T_WHITESPACE","\n                ",496],["T_OBJECT_OPERATOR","->",497],["T_STRING","method",497],"(",["T_CONSTANT_ENCAPSED_STRING","'priceIncludesTax'",497],")",["T_WHITESPACE","\n                ",497],["T_OBJECT_OPERATOR","->",498],["T_STRING","willReturn",498],"(",["T_VARIABLE","$priceIncludesTax",498],")",";",["T_WHITESPACE","\n\n            ",498],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","taxConfigMock",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","expects",500],"(",["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","any",500],"(",")",")",["T_WHITESPACE","\n                ",500],["T_OBJECT_OPERATOR","->",501],["T_STRING","method",501],"(",["T_CONSTANT_ENCAPSED_STRING","'crossBorderTradeEnabled'",501],")",["T_WHITESPACE","\n                ",501],["T_OBJECT_OPERATOR","->",502],["T_STRING","willReturn",502],"(",["T_VARIABLE","$isCrossBorderTradeEnabled",502],")",";",["T_WHITESPACE","\n\n            ",502],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_VARIABLE","$displayPriceIncludingTax",504],["T_WHITESPACE"," ",504],["T_IS_EQUAL","==",504],["T_WHITESPACE"," ",504],["T_STRING","true",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n                ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","taxConfigMock",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","expects",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","at",505],"(",["T_LNUMBER","3",505],")",")",["T_WHITESPACE","\n                    ",505],["T_OBJECT_OPERATOR","->",506],["T_STRING","method",506],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceDisplayType'",506],")",["T_WHITESPACE","\n                    ",506],["T_OBJECT_OPERATOR","->",507],["T_STRING","willReturn",507],"(",["T_LNUMBER","2",507],")",";",["T_WHITESPACE","\n            ",507],"}",["T_WHITESPACE"," ",508],["T_ELSE","else",508],["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n                ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","taxConfigMock",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","expects",509],"(",["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","at",509],"(",["T_LNUMBER","2",509],")",")",["T_WHITESPACE","\n                    ",509],["T_OBJECT_OPERATOR","->",510],["T_STRING","method",510],"(",["T_CONSTANT_ENCAPSED_STRING","'getPriceDisplayType'",510],")",["T_WHITESPACE","\n                    ",510],["T_OBJECT_OPERATOR","->",511],["T_STRING","willReturn",511],"(",["T_LNUMBER","1",511],")",";",["T_WHITESPACE","\n            ",511],"}",["T_WHITESPACE","\n        ",512],"}",["T_WHITESPACE","\n\n        ",513],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","assertSame",515],"(",["T_VARIABLE","$expected",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","helper",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","isCatalogPriceDisplayAffectedByTax",515],"(",["T_STRING","null",515],")",")",";",["T_WHITESPACE","\n    ",515],"}",["T_WHITESPACE","\n\n    ",516],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",518],["T_WHITESPACE","\n    ",520],["T_PUBLIC","public",521],["T_WHITESPACE"," ",521],["T_FUNCTION","function",521],["T_WHITESPACE"," ",521],["T_STRING","dataProviderIsCatalogPriceDisplayAffectedByTax",521],"(",")",["T_WHITESPACE","\n    ",521],"{",["T_WHITESPACE","\n        ",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],"[",["T_WHITESPACE","\n            ",523],"[",["T_STRING","true",524],["T_WHITESPACE"," ",524],",",["T_WHITESPACE"," ",524],["T_STRING","true",524],",",["T_WHITESPACE"," ",524],["T_STRING","false",524],",",["T_WHITESPACE"," ",524],["T_STRING","false",524],",",["T_WHITESPACE"," ",524],["T_STRING","false",524],"]",",",["T_WHITESPACE","\n            ",524],"[",["T_STRING","true",525],["T_WHITESPACE"," ",525],",",["T_WHITESPACE"," ",525],["T_STRING","false",525],",",["T_WHITESPACE"," ",525],["T_STRING","true",525],",",["T_WHITESPACE"," ",525],["T_STRING","true",525],",",["T_WHITESPACE"," ",525],["T_STRING","false",525],"]",",",["T_WHITESPACE","\n            ",525],"[",["T_STRING","true",526],["T_WHITESPACE"," ",526],",",["T_WHITESPACE"," ",526],["T_STRING","false",526],",",["T_WHITESPACE"," ",526],["T_STRING","true",526],",",["T_WHITESPACE"," ",526],["T_STRING","false",526],",",["T_WHITESPACE"," ",526],["T_STRING","true",526],"]",",",["T_WHITESPACE","\n            ",526],"[",["T_STRING","false",527],["T_WHITESPACE"," ",527],",",["T_WHITESPACE"," ",527],["T_STRING","false",527],",",["T_WHITESPACE"," ",527],["T_STRING","true",527],",",["T_WHITESPACE"," ",527],["T_STRING","true",527],",",["T_WHITESPACE"," ",527],["T_STRING","true",527],"]",",",["T_WHITESPACE","\n            ",527],"[",["T_STRING","true",528],["T_WHITESPACE"," ",528],",",["T_WHITESPACE"," ",528],["T_STRING","false",528],",",["T_WHITESPACE"," ",528],["T_STRING","false",528],",",["T_WHITESPACE"," ",528],["T_STRING","true",528],",",["T_WHITESPACE"," ",528],["T_STRING","true",528],"]",",",["T_WHITESPACE","\n            ",528],"[",["T_STRING","false",529],["T_WHITESPACE"," ",529],",",["T_WHITESPACE"," ",529],["T_STRING","false",529],",",["T_WHITESPACE"," ",529],["T_STRING","false",529],",",["T_WHITESPACE"," ",529],["T_STRING","true",529],",",["T_WHITESPACE"," ",529],["T_STRING","false",529],"]",["T_WHITESPACE","\n        ",529],"]",";",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n",531],"}",["T_WHITESPACE","\n",532]]