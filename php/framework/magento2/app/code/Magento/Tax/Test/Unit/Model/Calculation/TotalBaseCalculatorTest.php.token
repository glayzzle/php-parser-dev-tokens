[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Unit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Calculation",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","TotalBaseCalculatorTest",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_STRING","RowBaseAndTotalBaseCalculatorTestCase",9],["T_WHITESPACE","\n",9],"{",["T_WHITESPACE","\n    ",10],["T_DOC_COMMENT","\/** @var \\PHPUnit_Framework_MockObject_MockObject *\/",11],["T_WHITESPACE","\n    ",11],["T_PROTECTED","protected",12],["T_WHITESPACE"," ",12],["T_VARIABLE","$totalBaseCalculator",12],";",["T_WHITESPACE","\n\n    ",12],["T_PUBLIC","public",14],["T_WHITESPACE"," ",14],["T_FUNCTION","function",14],["T_WHITESPACE"," ",14],["T_STRING","testCalculateWithTaxInPrice",14],"(",")",["T_WHITESPACE","\n    ",14],"{",["T_WHITESPACE","\n        ",15],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","initTotalBaseCalculator",16],"(",")",";",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","totalBaseCalculator",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","expects",17],"(",["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","exactly",17],"(",["T_LNUMBER","3",17],")",")",["T_WHITESPACE","\n            ",17],["T_OBJECT_OPERATOR","->",18],["T_STRING","method",18],"(",["T_CONSTANT_ENCAPSED_STRING","'deltaRound'",18],")",["T_OBJECT_OPERATOR","->",18],["T_STRING","will",18],"(",["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","returnValue",18],"(",["T_LNUMBER","0",18],")",")",";",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","initMocks",19],"(",["T_STRING","true",19],")",";",["T_WHITESPACE","\n\n        ",19],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertSame",21],"(",["T_WHITESPACE","\n            ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","taxDetailsItem",22],",",["T_WHITESPACE","\n            ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","calculate",23],"(",["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","totalBaseCalculator",23],")",["T_WHITESPACE","\n        ",23],")",";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertEquals",25],"(",["T_STRING","self",25],["T_DOUBLE_COLON","::",25],["T_STRING","UNIT_PRICE_INCL_TAX_ROUNDED",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","taxDetailsItem",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getPriceInclTax",25],"(",")",")",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testCalculateWithTaxInPriceNoRounding",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","initTotalBaseCalculator",30],"(",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","totalBaseCalculator",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","expects",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","exactly",31],"(",["T_LNUMBER","3",31],")",")",["T_WHITESPACE","\n            ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","method",32],"(",["T_CONSTANT_ENCAPSED_STRING","'deltaRound'",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","will",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","returnValue",32],"(",["T_LNUMBER","0",32],")",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","initMocks",33],"(",["T_STRING","true",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertSame",35],"(",["T_WHITESPACE","\n            ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","taxDetailsItem",36],",",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","calculate",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","totalBaseCalculator",37],",",["T_WHITESPACE"," ",37],["T_STRING","false",37],")",["T_WHITESPACE","\n        ",37],")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertEquals",39],"(",["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_STRING","UNIT_PRICE_INCL_TAX",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","taxDetailsItem",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getPriceInclTax",39],"(",")",")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testCalculateWithTaxNotInPrice",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","initTotalBaseCalculator",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","totalBaseCalculator",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","expects",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","exactly",45],"(",["T_LNUMBER","2",45],")",")",["T_WHITESPACE","\n            ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","method",46],"(",["T_CONSTANT_ENCAPSED_STRING","'deltaRound'",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","will",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","returnValue",46],"(",["T_LNUMBER","0",46],")",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","initMocks",47],"(",["T_STRING","false",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertSame",49],"(",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","taxDetailsItem",50],",",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","calculate",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","totalBaseCalculator",51],")",["T_WHITESPACE","\n        ",51],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","initTotalBaseCalculator",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$taxClassService",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getMock",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Tax",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Api",57],["T_NS_SEPARATOR","\\",57],["T_STRING","TaxClassManagementInterface",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","totalBaseCalculator",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMock",58],"(",["T_WHITESPACE","\n            ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Tax",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Calculation",59],["T_NS_SEPARATOR","\\",59],["T_STRING","TotalBaseCalculator",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],",",["T_WHITESPACE","\n            ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'deltaRound'",60],"]",",",["T_WHITESPACE","\n            ",60],"[",["T_WHITESPACE","\n                ",61],["T_CONSTANT_ENCAPSED_STRING","'taxClassService'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$taxClassService",62],",",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'taxDetailsItemDataObjectFactory'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","taxItemDetailsDataObjectFactory",63],",",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'appliedTaxDataObjectFactory'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","appliedTaxDataObjectFactory",64],",",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'appliedTaxRateDataObjectFactory'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","appliedTaxRateDataObjectFactory",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'calculationTool'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","mockCalculationTool",66],",",["T_WHITESPACE","\n                ",66],["T_CONSTANT_ENCAPSED_STRING","'config'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","mockConfig",67],",",["T_WHITESPACE","\n                ",67],["T_CONSTANT_ENCAPSED_STRING","'storeId'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","self",68],["T_DOUBLE_COLON","::",68],["T_STRING","STORE_ID",68],",",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'addressRateRequest'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","addressRateRequest",69],["T_WHITESPACE","\n            ",69],"]",["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n",72],"}",["T_WHITESPACE","\n",73]]