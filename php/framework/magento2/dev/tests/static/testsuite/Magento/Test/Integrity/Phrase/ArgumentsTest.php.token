[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integrity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Phrase",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ComponentRegistrar",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Setup",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Module",10],["T_NS_SEPARATOR","\\",10],["T_STRING","I18n",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Parser",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adapter",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Php",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Tokenizer",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Scan source code for detects invocations of __() function or Phrase object, analyzes placeholders with arguments\n * and see if they not equal\n *\/",12],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ArgumentsTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Test",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Integrity",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Phrase",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractTestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Setup\\Module\\I18n\\Parser\\Adapter\\Php\\Tokenizer\\PhraseCollector\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_phraseCollector",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * List of files that must be omitted\n     *\n     * @todo remove blacklist related logic when all files correspond to the standard\n     * @var array\n     *\/",23],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$blackList",29],";",["T_WHITESPACE","\n\n    ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_phraseCollector",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Setup",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Module",33],["T_NS_SEPARATOR","\\",33],["T_STRING","I18n",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Parser",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Adapter",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Php",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Tokenizer",33],["T_NS_SEPARATOR","\\",33],["T_STRING","PhraseCollector",33],"(",["T_WHITESPACE","\n            ",33],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Setup",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Module",34],["T_NS_SEPARATOR","\\",34],["T_STRING","I18n",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Parser",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Adapter",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Php",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Tokenizer",34],"(",")",",",["T_WHITESPACE","\n            ",34],["T_STRING","true",35],",",["T_WHITESPACE","\n            ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Phrase",36],["T_DOUBLE_COLON","::",36],["T_CLASS","class",36],["T_WHITESPACE","\n        ",36],")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$componentRegistrar",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_STRING","ComponentRegistrar",39],"(",")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","blackList",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[",["T_WHITESPACE","\n            ",40],["T_COMMENT","\/\/ the file below is the only file where strings are translated without corresponding arguments\n",41],["T_WHITESPACE","            ",42],["T_VARIABLE","$componentRegistrar",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getPath",42],"(",["T_STRING","ComponentRegistrar",42],["T_DOUBLE_COLON","::",42],["T_STRING","MODULE",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Magento_Translation'",42],")",["T_WHITESPACE","\n                ",42],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/Model\/Js\/DataProvider.php'",43],",",["T_WHITESPACE","\n        ",43],"]",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testArguments",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$incorrectNumberOfArgumentsErrors",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[","]",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$missedPhraseErrors",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[","]",";",["T_WHITESPACE","\n        ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_getFiles",51],"(",")",["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$file",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_STRING","in_array",52],"(",["T_VARIABLE","$file",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","blackList",52],")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_CONTINUE","continue",53],";",["T_WHITESPACE","\n            ",53],"}",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_phraseCollector",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","parse",55],"(",["T_VARIABLE","$file",55],")",";",["T_WHITESPACE","\n\n            ",55],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_phraseCollector",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getPhrases",57],"(",")",["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$phrase",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","checkEmptyPhrases",58],"(",["T_VARIABLE","$phrase",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$missedPhraseErrors",58],")",";",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","checkArgumentMismatch",59],"(",["T_VARIABLE","$phrase",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$incorrectNumberOfArgumentsErrors",59],")",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEmpty",62],"(",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$missedPhraseErrors",63],",",["T_WHITESPACE","\n            ",63],["T_STRING","sprintf",64],"(",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","\"\\n%d missed phrases were discovered: \\n%s\"",65],",",["T_WHITESPACE","\n                ",65],["T_STRING","count",66],"(",["T_VARIABLE","$missedPhraseErrors",66],")",",",["T_WHITESPACE","\n                ",66],["T_STRING","implode",67],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$missedPhraseErrors",67],")",["T_WHITESPACE","\n            ",67],")",["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEmpty",70],"(",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$incorrectNumberOfArgumentsErrors",71],",",["T_WHITESPACE","\n            ",71],["T_STRING","sprintf",72],"(",["T_WHITESPACE","\n                ",72],["T_CONSTANT_ENCAPSED_STRING","\"\\n%d usages of inconsistency the number of arguments and placeholders were discovered: \\n%s\"",73],",",["T_WHITESPACE","\n                ",73],["T_STRING","count",74],"(",["T_VARIABLE","$incorrectNumberOfArgumentsErrors",74],")",",",["T_WHITESPACE","\n                ",74],["T_STRING","implode",75],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$incorrectNumberOfArgumentsErrors",75],")",["T_WHITESPACE","\n            ",75],")",["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Will check if phrase is empty\n     *\n     * @param $phrase\n     * @param $missedPhraseErrors\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PRIVATE","private",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","checkEmptyPhrases",86],"(",["T_VARIABLE","$phrase",86],",",["T_WHITESPACE"," ",86],"&",["T_VARIABLE","$missedPhraseErrors",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_EMPTY","empty",88],"(",["T_STRING","trim",88],"(",["T_VARIABLE","$phrase",88],"[",["T_CONSTANT_ENCAPSED_STRING","'phrase'",88],"]",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"'\\\"\\t\\n\\r\\0\\x0B\"",88],")",")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$missedPhraseErrors",89],"[","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_createMissedPhraseError",89],"(",["T_VARIABLE","$phrase",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Will check if the number of arguments does not match the number of placeholders\n     *\n     * @param $phrase\n     * @param $incorrectNumberOfArgumentsErrors\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PRIVATE","private",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","checkArgumentMismatch",99],"(",["T_VARIABLE","$phrase",99],",",["T_WHITESPACE"," ",99],"&",["T_VARIABLE","$incorrectNumberOfArgumentsErrors",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_STRING","preg_match_all",101],"(",["T_CONSTANT_ENCAPSED_STRING","'\/%(\\w+)\/'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$phrase",101],"[",["T_CONSTANT_ENCAPSED_STRING","'phrase'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$matches",101],")",["T_WHITESPACE"," ",101],["T_BOOLEAN_OR","||",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$phrase",101],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",101],"]",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$placeholderCount",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","count",102],"(",["T_STRING","array_unique",102],"(",["T_VARIABLE","$matches",102],"[",["T_LNUMBER","1",102],"]",")",")",";",["T_WHITESPACE","\n\n            ",102],["T_COMMENT","\/\/ Check for zend placeholders %placeholder% and sprintf placeholder %s\n",104],["T_WHITESPACE","            ",105],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","preg_match_all",105],"(",["T_CONSTANT_ENCAPSED_STRING","'\/%((s)|([A-Za-z]+)%)\/'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$phrase",105],"[",["T_CONSTANT_ENCAPSED_STRING","'phrase'",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$placeHolders",105],",",["T_WHITESPACE"," ",105],["T_STRING","PREG_OFFSET_CAPTURE",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\n                ",105],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$placeHolders",107],"[",["T_LNUMBER","0",107],"]",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$ph",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                    ",107],["T_COMMENT","\/\/ Check if char after placeholder is not a digit or letter\n",108],["T_WHITESPACE","                    ",109],["T_VARIABLE","$charAfterPh",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$phrase",109],"[",["T_CONSTANT_ENCAPSED_STRING","'phrase'",109],"]","[",["T_VARIABLE","$ph",109],"[",["T_LNUMBER","1",109],"]",["T_WHITESPACE"," ",109],"+",["T_WHITESPACE"," ",109],["T_STRING","strlen",109],"(",["T_VARIABLE","$ph",109],"[",["T_LNUMBER","0",109],"]",")","]",";",["T_WHITESPACE","\n                    ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_STRING","preg_match",110],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[A-Za-z0-9]\/'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$charAfterPh",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                        ",110],["T_VARIABLE","$placeholderCount",111],["T_DEC","--",111],";",["T_WHITESPACE","\n                    ",111],"}",["T_WHITESPACE","\n                ",112],"}",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$placeholderCount",116],["T_WHITESPACE"," ",116],["T_IS_NOT_EQUAL","!=",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$phrase",116],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",116],"]",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$incorrectNumberOfArgumentsErrors",117],"[","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_createPhraseError",117],"(",["T_VARIABLE","$phrase",117],")",";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n",120],"}",["T_WHITESPACE","\n",121]]