[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Test format of layout files\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Integrity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Layout",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","HandlesTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PHPUnit_Framework_TestCase",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testHandleDeclarations",15],"(",")",["T_WHITESPACE","\n    ",15],"{",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$invoker",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_NEW","new",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","App",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Utility",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AggregateInvoker",17],"(",["T_VARIABLE","$this",17],")",";",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$invoker",18],"(",["T_WHITESPACE","\n            ",18],["T_DOC_COMMENT","\/**\n             * Test dependencies between handle attributes that is out of coverage by XSD\n             *\n             * @param string $layoutFile\n             *\/",19],["T_WHITESPACE","\n            ",23],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$layoutFile",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n                ",24],["T_VARIABLE","$issues",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[","]",";",["T_WHITESPACE","\n                ",25],["T_VARIABLE","$node",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","simplexml_load_file",26],"(",["T_VARIABLE","$layoutFile",26],")",";",["T_WHITESPACE","\n                ",26],["T_VARIABLE","$label",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$node",27],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",27],"]",";",["T_WHITESPACE","\n                ",27],["T_VARIABLE","$designAbstraction",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$node",28],"[",["T_CONSTANT_ENCAPSED_STRING","'design_abstraction'",28],"]",";",["T_WHITESPACE","\n                ",28],["T_IF","if",29],["T_WHITESPACE"," ",29],"(","!",["T_VARIABLE","$label",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n                    ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$designAbstraction",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n                        ",30],["T_VARIABLE","$issues",31],"[","]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Attribute \"design_abstraction\" is defined, but \"label\" is not'",31],";",["T_WHITESPACE","\n                    ",31],"}",["T_WHITESPACE","\n                ",32],"}",["T_WHITESPACE","\n\n                ",33],["T_IF","if",35],["T_WHITESPACE"," ",35],"(",["T_VARIABLE","$issues",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n                    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","fail",36],"(",["T_CONSTANT_ENCAPSED_STRING","\"Issues found in handle declaration:\\n\"",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_STRING","implode",36],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$issues",36],")",["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",36],")",";",["T_WHITESPACE","\n                ",36],"}",["T_WHITESPACE","\n            ",37],"}",",",["T_WHITESPACE","\n            ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","App",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Utility",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Files",39],["T_DOUBLE_COLON","::",39],["T_STRING","init",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","getLayoutFiles",39],"(",")",["T_WHITESPACE","\n        ",39],")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testContainerDeclarations",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$invoker",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Framework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","App",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Utility",45],["T_NS_SEPARATOR","\\",45],["T_STRING","AggregateInvoker",45],"(",["T_VARIABLE","$this",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$invoker",46],"(",["T_WHITESPACE","\n            ",46],["T_DOC_COMMENT","\/**\n             * Test dependencies between container attributes that is out of coverage by XSD\n             *\n             * @param string $layoutFile\n             *\/",47],["T_WHITESPACE","\n            ",51],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$layoutFile",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$issues",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[","]",";",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$xml",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","simplexml_load_file",54],"(",["T_VARIABLE","$layoutFile",54],")",";",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$containers",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$xml",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","xpath",55],"(",["T_CONSTANT_ENCAPSED_STRING","'\/layout\/\/container'",55],")",["T_WHITESPACE"," ",55],"?",":",["T_WHITESPACE"," ",55],"[","]",";",["T_WHITESPACE","\n                ",55],["T_DOC_COMMENT","\/** @var \\SimpleXMLElement $node *\/",56],["T_WHITESPACE","\n                ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$containers",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$node",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                    ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_ISSET","isset",58],"(",["T_VARIABLE","$node",58],"[",["T_CONSTANT_ENCAPSED_STRING","'htmlTag'",58],"]",")",["T_WHITESPACE"," ",58],["T_BOOLEAN_AND","&&",58],["T_WHITESPACE"," ",58],"(",["T_ISSET","isset",58],"(",["T_VARIABLE","$node",58],"[",["T_CONSTANT_ENCAPSED_STRING","'htmlId'",58],"]",")",["T_WHITESPACE"," ",58],["T_BOOLEAN_OR","||",58],["T_WHITESPACE"," ",58],["T_ISSET","isset",58],"(",["T_VARIABLE","$node",58],"[",["T_CONSTANT_ENCAPSED_STRING","'htmlClass'",58],"]",")",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                        ",58],["T_VARIABLE","$issues",59],"[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$node",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","asXML",59],"(",")",";",["T_WHITESPACE","\n                    ",59],"}",["T_WHITESPACE","\n                ",60],"}",["T_WHITESPACE","\n                ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$issues",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","fail",63],"(",["T_WHITESPACE","\n                        ",63],["T_CONSTANT_ENCAPSED_STRING","'The following containers declare attribute \"htmlId\" and\/or \"htmlClass\", but not \"htmlTag\":'",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE","\n                        ",64],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE","\n                        ",65],["T_STRING","implode",66],"(",["T_WHITESPACE","\n                            ",66],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",67],",",["T_WHITESPACE","\n                            ",67],["T_VARIABLE","$issues",68],["T_WHITESPACE","\n                        ",68],")",["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",69],["T_WHITESPACE","\n                    ",69],")",";",["T_WHITESPACE","\n                ",70],"}",["T_WHITESPACE","\n            ",71],"}",",",["T_WHITESPACE","\n            ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Framework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","App",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Utility",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Files",73],["T_DOUBLE_COLON","::",73],["T_STRING","init",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getLayoutFiles",73],"(",")",["T_WHITESPACE","\n        ",73],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","testHeadBlockUsage",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$invoker",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","App",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Utility",79],["T_NS_SEPARATOR","\\",79],["T_STRING","AggregateInvoker",79],"(",["T_VARIABLE","$this",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$invoker",80],"(",["T_WHITESPACE","\n        ",80],["T_DOC_COMMENT","\/**\n         * Test validate that head block doesn't exist in layout\n         *\n         * @param string $layoutFile\n         *\/",81],["T_WHITESPACE","\n            ",85],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$layoutFile",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$dom",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","DOMDocument",87],"(",")",";",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$dom",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","load",88],"(",["T_VARIABLE","$layoutFile",88],")",";",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$xpath",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","DOMXpath",89],"(",["T_VARIABLE","$dom",89],")",";",["T_WHITESPACE","\n                ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$xpath",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","query",90],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/*[@name='head']\"",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","length",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","fail",91],"(",["T_CONSTANT_ENCAPSED_STRING","'Following file contains deprecated head block. File Path:'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$layoutFile",91],")",";",["T_WHITESPACE","\n                ",91],"}",["T_WHITESPACE","\n            ",92],"}",",",["T_WHITESPACE","\n            ",93],["T_NS_SEPARATOR","\\",94],["T_STRING","Magento",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Framework",94],["T_NS_SEPARATOR","\\",94],["T_STRING","App",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Utility",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Files",94],["T_DOUBLE_COLON","::",94],["T_STRING","init",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getLayoutFiles",94],"(",")",["T_WHITESPACE","\n        ",94],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n",96],"}",["T_WHITESPACE","\n",97]]