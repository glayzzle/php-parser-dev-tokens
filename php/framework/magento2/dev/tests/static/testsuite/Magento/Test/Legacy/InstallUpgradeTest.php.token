[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Legacy",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","App",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Utility",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Files",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Utility",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AggregateInvoker",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ComponentRegistrar",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests to find obsolete install\/upgrade schema\/data scripts\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","InstallUpgradeTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testForOldInstallUpgradeScripts",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$scriptPattern",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[","]",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$componentRegistrar",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_NEW","new",21],["T_WHITESPACE"," ",21],["T_STRING","ComponentRegistrar",21],"(",")",";",["T_WHITESPACE","\n        ",21],["T_FOREACH","foreach",22],["T_WHITESPACE"," ",22],"(",["T_VARIABLE","$componentRegistrar",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getPaths",22],"(",["T_STRING","ComponentRegistrar",22],["T_DOUBLE_COLON","::",22],["T_STRING","MODULE",22],")",["T_WHITESPACE"," ",22],["T_AS","as",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$moduleDir",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n            ",22],["T_VARIABLE","$scriptPattern",23],"[","]",["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$moduleDir",23],["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'\/sql'",23],";",["T_WHITESPACE","\n            ",23],["T_VARIABLE","$scriptPattern",24],"[","]",["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$moduleDir",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'\/data'",24],";",["T_WHITESPACE","\n        ",24],"}",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$invoker",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_NEW","new",26],["T_WHITESPACE"," ",26],["T_STRING","AggregateInvoker",26],"(",["T_VARIABLE","$this",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$invoker",27],"(",["T_WHITESPACE","\n            ",27],["T_DOC_COMMENT","\/**\n             * @param string $file\n             *\/",28],["T_WHITESPACE","\n            ",30],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$file",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n                ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertStringStartsNotWith",32],"(",["T_WHITESPACE","\n                    ",32],["T_CONSTANT_ENCAPSED_STRING","'install-'",33],",",["T_WHITESPACE","\n                    ",33],["T_STRING","basename",34],"(",["T_VARIABLE","$file",34],")",",",["T_WHITESPACE","\n                    ",34],["T_CONSTANT_ENCAPSED_STRING","'Install scripts are obsolete. Please create class InstallSchema in module\\'s Setup folder'",35],["T_WHITESPACE","\n                ",35],")",";",["T_WHITESPACE","\n                ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertStringStartsNotWith",37],"(",["T_WHITESPACE","\n                    ",37],["T_CONSTANT_ENCAPSED_STRING","'data-install-'",38],",",["T_WHITESPACE","\n                    ",38],["T_STRING","basename",39],"(",["T_VARIABLE","$file",39],")",",",["T_WHITESPACE","\n                    ",39],["T_CONSTANT_ENCAPSED_STRING","'Install scripts are obsolete. Please create class InstallData in module\\'s Setup folder'",40],["T_WHITESPACE","\n                ",40],")",";",["T_WHITESPACE","\n                ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertStringStartsNotWith",42],"(",["T_WHITESPACE","\n                    ",42],["T_CONSTANT_ENCAPSED_STRING","'upgrade-'",43],",",["T_WHITESPACE","\n                    ",43],["T_STRING","basename",44],"(",["T_VARIABLE","$file",44],")",",",["T_WHITESPACE","\n                    ",44],["T_CONSTANT_ENCAPSED_STRING","'Upgrade scripts are obsolete. Please create class UpgradeSchema in module\\'s Setup folder'",45],["T_WHITESPACE","\n                ",45],")",";",["T_WHITESPACE","\n                ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertStringStartsNotWith",47],"(",["T_WHITESPACE","\n                    ",47],["T_CONSTANT_ENCAPSED_STRING","'data-upgrade-'",48],",",["T_WHITESPACE","\n                    ",48],["T_STRING","basename",49],"(",["T_VARIABLE","$file",49],")",",",["T_WHITESPACE","\n                    ",49],["T_CONSTANT_ENCAPSED_STRING","'Upgrade scripts are obsolete. Please create class UpgradeData in module\\'s Setup folder'",50],["T_WHITESPACE","\n                ",50],")",";",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertStringStartsNotWith",52],"(",["T_WHITESPACE","\n                    ",52],["T_CONSTANT_ENCAPSED_STRING","'recurring'",53],",",["T_WHITESPACE","\n                    ",53],["T_STRING","basename",54],"(",["T_VARIABLE","$file",54],")",",",["T_WHITESPACE","\n                    ",54],["T_CONSTANT_ENCAPSED_STRING","'Recurring scripts are obsolete. Please create class Recurring in module\\'s Setup folder'",55],["T_WHITESPACE","\n                ",55],")",";",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","fail",57],"(",["T_WHITESPACE","\n                    ",57],["T_CONSTANT_ENCAPSED_STRING","'Invalid directory. Please convert data\/sql scripts to a class within module\\'s Setup folder'",58],["T_WHITESPACE","\n                ",58],")",";",["T_WHITESPACE","\n            ",59],"}",",",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","convertArray",61],"(",["T_WHITESPACE","\n                ",61],["T_STRING","Files",62],["T_DOUBLE_COLON","::",62],["T_STRING","init",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getFiles",62],"(",["T_VARIABLE","$scriptPattern",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'*.php'",62],")",["T_WHITESPACE","\n            ",62],")",["T_WHITESPACE","\n        ",63],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Converts from string array to array of arrays.\n     *\n     * @param array $stringArray\n     * @return array\n     *\/",67],["T_WHITESPACE","\n    ",72],["T_PRIVATE","private",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","convertArray",73],"(",["T_VARIABLE","$stringArray",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$array",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[","]",";",["T_WHITESPACE","\n        ",75],["T_FOREACH","foreach",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$stringArray",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$item",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$array",77],"[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"[",["T_VARIABLE","$item",77],"]",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$array",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n",80],"}",["T_WHITESPACE","\n",81]]