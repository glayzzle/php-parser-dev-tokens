[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Backwards-incompatible changes in file system\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Legacy",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ComponentRegistrar",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Filesystem",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Glob",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FilesystemTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testRelocations",15],"(",")",["T_WHITESPACE","\n    ",15],"{",["T_WHITESPACE","\n        ",16],["T_VARIABLE","$invoker",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_NEW","new",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Framework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","App",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Utility",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AggregateInvoker",17],"(",["T_VARIABLE","$this",17],")",";",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$invoker",18],"(",["T_WHITESPACE","\n            ",18],["T_DOC_COMMENT","\/**\n             * Directories may re-appear again during merging, therefore ensure they were properly relocated\n             *\n             * @param string $path\n             *\/",19],["T_WHITESPACE","\n            ",23],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$path",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n                ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertFileNotExists",25],"(",["T_WHITESPACE","\n                    ",25],["T_STRING","BP",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'\/'",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_VARIABLE","$path",26],["T_WHITESPACE","\n                ",26],")",";",["T_WHITESPACE","\n            ",27],"}",",",["T_WHITESPACE","\n            ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","relocationsDataProvider",29],"(",")",["T_WHITESPACE","\n        ",29],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","relocationsDataProvider",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_RETURN","return",38],["T_WHITESPACE"," ",38],"[",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'Relocated to pub\/errors'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",39],"]",",",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","'Eliminated with Magento_Compiler'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'includes'",40],"]",",",["T_WHITESPACE","\n            ",40],["T_CONSTANT_ENCAPSED_STRING","'Relocated to lib\/web'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'js'",41],"]",",",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'Relocated to pub\/media'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",42],"]",",",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'Eliminated as not needed'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'pkginfo'",43],"]",",",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'Dissolved into themes under app\/design '",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[",["T_CONSTANT_ENCAPSED_STRING","'skin'",44],"]",",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'Dissolved into different modules\\' view\/frontend'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],"[",["T_CONSTANT_ENCAPSED_STRING","'app\/design\/frontend\/base'",45],"]",",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'Dissolved into different modules\\' view\/email\/*.html'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_CONSTANT_ENCAPSED_STRING","'app\/locale\/en_US\/template'",46],"]",",",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'The \"core\" code pool no longer exists. Use root namespace as specified in PSR-0 standard'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'app\/code\/core'",48],",",["T_WHITESPACE","\n            ",48],"]",",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'The \"local\" code pool no longer exists. Use root namespace as specified in PSR-0 standard'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'app\/code\/local'",51],",",["T_WHITESPACE","\n            ",51],"]",",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'The \"community\" code pool no longer exists. Use root namespace as specified in PSR-0 standard'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'app\/code\/community'",54],",",["T_WHITESPACE","\n            ",54],"]",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'Eliminated Magento\/plushe theme'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'app\/design\/frontend\/Magento\/plushe'",56],"]",",",["T_WHITESPACE","\n        ",56],"]",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testObsoleteDirectories",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$componentRegistrar",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","ComponentRegistrar",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$dirs",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[","]",";",["T_WHITESPACE","\n        ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$componentRegistrar",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getPaths",64],"(",["T_STRING","ComponentRegistrar",64],["T_DOUBLE_COLON","::",64],["T_STRING","THEME",64],")",["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$path",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$dirs",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","array_merge",65],"(",["T_VARIABLE","$dirs",65],",",["T_WHITESPACE"," ",65],["T_STRING","glob",65],"(",["T_VARIABLE","$path",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'\/template'",65],",",["T_WHITESPACE"," ",65],["T_STRING","GLOB_ONLYDIR",65],")",")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$msg",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[","]",";",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$dirs",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$msg",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Theme \"template\" directories are obsolete. Relocate files as follows:'",69],";",["T_WHITESPACE","\n            ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$dirs",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$dir",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$msg",71],"[","]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"\"",["T_CURLY_OPEN","{",71],["T_VARIABLE","$dir",71],"}",["T_ENCAPSED_AND_WHITESPACE"," => ",71],"\"",["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_STRING","realpath",71],"(",["T_VARIABLE","$dir",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'\/..'",71],")",["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'\/Namespace_Module\/*'",71],";",["T_WHITESPACE","\n            ",71],"}",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$dirs",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[","]",";",["T_WHITESPACE","\n        ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$componentRegistrar",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getPaths",75],"(",["T_STRING","ComponentRegistrar",75],["T_DOUBLE_COLON","::",75],["T_STRING","THEME",75],")",["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$path",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$dirs",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","array_merge",76],"(",["T_VARIABLE","$dirs",76],",",["T_WHITESPACE"," ",76],["T_STRING","glob",76],"(",["T_VARIABLE","$path",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'\/layout'",76],",",["T_WHITESPACE"," ",76],["T_STRING","GLOB_ONLYDIR",76],")",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$dirs",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$msg",79],"[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Theme \"layout\" directories are obsolete. Relocate layout files into the root of theme directory.'",79],";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$msg",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","array_merge",80],"(",["T_VARIABLE","$msg",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$dirs",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$msg",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","fail",84],"(",["T_STRING","implode",84],"(",["T_STRING","PHP_EOL",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$msg",84],")",")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testObsoleteViewPaths",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$allowedFiles",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'requirejs-config.js'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'layouts.xml'",90],"]",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$allowedThemeFiles",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","array_merge",91],"(",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$allowedFiles",92],",",["T_WHITESPACE","\n            ",92],"[",["T_CONSTANT_ENCAPSED_STRING","'composer.json'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'theme.xml'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'LICENSE.txt'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'LICENSE_EE.txt'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'LICENSE_AFL.txt'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'registration.php'",93],"]",["T_WHITESPACE","\n        ",93],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$areas",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'{frontend,adminhtml,base}'",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$componentRegistrar",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","ComponentRegistrar",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$pathsToCheck",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],"[","]",";",["T_WHITESPACE","\n        ",97],["T_FOREACH","foreach",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$componentRegistrar",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getPaths",98],"(",["T_STRING","ComponentRegistrar",98],["T_DOUBLE_COLON","::",98],["T_STRING","THEME",98],")",["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$themeDir",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$pathsToCheck",99],"[",["T_VARIABLE","$themeDir",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'\/*'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'allowed_files'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$allowedThemeFiles",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'allowed_dirs'",101],["T_WHITESPACE","  ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'templates'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'web'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'etc'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'i18n'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'media'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'\\w+_\\w+'",101],"]",",",["T_WHITESPACE","\n            ",101],"]",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$pathsToCheck",103],"[",["T_VARIABLE","$themeDir",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'\/*_*\/*'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'allowed_files'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$allowedThemeFiles",104],",",["T_WHITESPACE","\n                ",104],["T_CONSTANT_ENCAPSED_STRING","'allowed_dirs'",105],["T_WHITESPACE","  ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'templates'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'web'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'email'",105],"]",",",["T_WHITESPACE","\n            ",105],"]",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$componentRegistrar",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getPaths",109],"(",["T_STRING","ComponentRegistrar",109],["T_DOUBLE_COLON","::",109],["T_STRING","MODULE",109],")",["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$moduleDir",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$pathsToCheck",110],"[",["T_VARIABLE","$moduleDir",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],"\"",["T_ENCAPSED_AND_WHITESPACE","\/view\/",110],["T_CURLY_OPEN","{",110],["T_VARIABLE","$areas",110],"}",["T_ENCAPSED_AND_WHITESPACE","\/*",110],"\"","]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'allowed_files'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$allowedFiles",111],",",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'allowed_dirs'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'templates'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'web'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'ui_component'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'email'",112],"]",["T_WHITESPACE","\n            ",112],"]",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$errors",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[","]",";",["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$pathsToCheck",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$path",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$allowed",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$allowedFiles",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$allowed",117],"[",["T_CONSTANT_ENCAPSED_STRING","'allowed_files'",117],"]",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$allowedDirs",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$allowed",118],"[",["T_CONSTANT_ENCAPSED_STRING","'allowed_dirs'",118],"]",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$foundFiles",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","Glob",119],["T_DOUBLE_COLON","::",119],["T_STRING","glob",119],"(",["T_VARIABLE","$path",119],",",["T_WHITESPACE"," ",119],["T_STRING","Glob",119],["T_DOUBLE_COLON","::",119],["T_STRING","GLOB_BRACE",119],")",";",["T_WHITESPACE","\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$foundFiles",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_CONTINUE","continue",121],";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE","\n            ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$foundFiles",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$file",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$baseName",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","basename",124],"(",["T_VARIABLE","$file",124],")",";",["T_WHITESPACE","\n                ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_STRING","is_dir",125],"(",["T_VARIABLE","$file",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$allowedDirs",126],["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$allowedDir",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","preg_match",127],"(","\"",["T_ENCAPSED_AND_WHITESPACE","#^",127],["T_VARIABLE","$allowedDir",127],["T_ENCAPSED_AND_WHITESPACE","$#",127],"\"",",",["T_WHITESPACE"," ",127],["T_VARIABLE","$baseName",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                            ",127],["T_CONTINUE","continue",128],["T_WHITESPACE"," ",128],["T_LNUMBER","2",128],";",["T_WHITESPACE","\n                        ",128],"}",["T_WHITESPACE","\n                    ",129],"}",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE","\n                ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_STRING","in_array",132],"(",["T_VARIABLE","$baseName",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$allowedFiles",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                    ",132],["T_CONTINUE","continue",133],";",["T_WHITESPACE","\n                ",133],"}",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$errors",135],"[","]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$file",135],";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_EMPTY","empty",138],"(",["T_VARIABLE","$errors",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","fail",139],"(",["T_WHITESPACE","\n                ",139],["T_CONSTANT_ENCAPSED_STRING","'Unexpected files or directories found. Make sure they are not at obsolete locations:'",140],["T_WHITESPACE","\n                ",140],".",["T_WHITESPACE"," ",141],["T_STRING","PHP_EOL",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_STRING","implode",141],"(",["T_STRING","PHP_EOL",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$errors",141],")",["T_WHITESPACE","\n            ",141],")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n",144],"}",["T_WHITESPACE","\n",145]]