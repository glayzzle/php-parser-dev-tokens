[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integrity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","App",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ComponentRegistrar",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Filesystem",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Driver",9],["T_NS_SEPARATOR","\\",9],["T_STRING","File",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","TranslationFiles",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\File\\Csv\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$csvParser",16],";",["T_WHITESPACE","\n\n    ",16],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","setUp",18],"(",")",["T_WHITESPACE","\n    ",18],"{",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","csvParser",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_NEW","new",20],["T_WHITESPACE"," ",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Magento",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Framework",20],["T_NS_SEPARATOR","\\",20],["T_STRING","File",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Csv",20],"(",["T_NEW","new",20],["T_WHITESPACE"," ",20],["T_STRING","File",20],"(",")",")",";",["T_WHITESPACE","\n    ",20],"}",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","getLocalePlacePath",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$pathToSource",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","BP",28],";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$places",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],"[","]",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$componentRegistrar",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STRING","ComponentRegistrar",30],"(",")",";",["T_WHITESPACE","\n        ",30],["T_FOREACH","foreach",31],["T_WHITESPACE"," ",31],"(",["T_VARIABLE","$componentRegistrar",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getPaths",31],"(",["T_STRING","ComponentRegistrar",31],["T_DOUBLE_COLON","::",31],["T_STRING","MODULE",31],")",["T_WHITESPACE"," ",31],["T_AS","as",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$modulePath",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n            ",31],["T_VARIABLE","$places",32],"[",["T_STRING","basename",32],"(",["T_VARIABLE","$modulePath",32],")","]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'placePath'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$modulePath",32],"]",";",["T_WHITESPACE","\n        ",32],"}",["T_WHITESPACE","\n        ",33],["T_FOREACH","foreach",34],["T_WHITESPACE"," ",34],"(",["T_VARIABLE","$componentRegistrar",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getPaths",34],"(",["T_STRING","ComponentRegistrar",34],["T_DOUBLE_COLON","::",34],["T_STRING","THEME",34],")",["T_WHITESPACE"," ",34],["T_AS","as",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$themePath",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n            ",34],["T_VARIABLE","$placeName",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","basename",35],"(",["T_STRING","dirname",35],"(",["T_STRING","dirname",35],"(",["T_VARIABLE","$themePath",35],")",")",")",["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'_'",35],["T_WHITESPACE"," ",35],".",["T_WHITESPACE"," ",35],["T_STRING","basename",35],"(",["T_VARIABLE","$themePath",35],")",";",["T_WHITESPACE","\n            ",35],["T_VARIABLE","$places",36],"[",["T_VARIABLE","$placeName",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],"[",["T_CONSTANT_ENCAPSED_STRING","'placePath'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$themePath",36],"]",";",["T_WHITESPACE","\n        ",36],"}",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$places",38],"[",["T_CONSTANT_ENCAPSED_STRING","'lib_web'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'placePath'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],"\"",["T_CURLY_OPEN","{",38],["T_VARIABLE","$pathToSource",38],"}",["T_ENCAPSED_AND_WHITESPACE","\/lib\/web",38],"\"","]",";",["T_WHITESPACE","\n        ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$places",39],";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @param string $modulePath\n     * @return string[] Array csv files array[$locale]$pathToCsvFile]\n     *\/",42],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","getCsvFiles",46],"(",["T_VARIABLE","$modulePath",46],")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$files",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n        ",48],["T_FOREACH","foreach",49],["T_WHITESPACE"," ",49],"(",["T_STRING","glob",49],"(","\"",["T_CURLY_OPEN","{",49],["T_VARIABLE","$modulePath",49],"}",["T_ENCAPSED_AND_WHITESPACE","\/i18n\/*.csv",49],"\"",")",["T_WHITESPACE"," ",49],["T_AS","as",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$file",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$locale",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","str_replace",50],"(",["T_CONSTANT_ENCAPSED_STRING","'.csv'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE"," ",50],["T_STRING","basename",50],"(",["T_VARIABLE","$file",50],")",")",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$files",51],"[",["T_VARIABLE","$locale",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$file",51],";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$files",53],";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @param array $baseLocaleData\n     * @param array $localeData\n     * @return array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","comparePhrase",61],"(",["T_VARIABLE","$baseLocaleData",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$localeData",61],")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$missing",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","array_diff_key",63],"(",["T_VARIABLE","$baseLocaleData",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$localeData",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$extra",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","array_diff_key",64],"(",["T_VARIABLE","$localeData",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$baseLocaleData",64],")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$failures",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_EMPTY","empty",67],"(",["T_VARIABLE","$missing",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$failures",68],"[",["T_CONSTANT_ENCAPSED_STRING","'missing'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","array_keys",68],"(",["T_VARIABLE","$missing",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_EMPTY","empty",70],"(",["T_VARIABLE","$extra",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$failures",71],"[",["T_CONSTANT_ENCAPSED_STRING","'extra'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE","  ",71],["T_STRING","array_keys",71],"(",["T_VARIABLE","$extra",71],")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$failures",73],";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * @param string[][][] $failures Array errors in format $failures[$locale][$errorType][$message]\n     * @param string $message\n     * @return string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","printMessage",81],"(",["T_VARIABLE","$failures",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$message",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","''",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$message",83],["T_WHITESPACE"," ",83],["T_CONCAT_EQUAL",".=",83],["T_WHITESPACE"," ",83],["T_STRING","PHP_EOL",83],";",["T_WHITESPACE","\n        ",83],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$failures",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$locale",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$localeErrors",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$message",85],["T_WHITESPACE"," ",85],["T_CONCAT_EQUAL",".=",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$locale",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_STRING","PHP_EOL",85],";",["T_WHITESPACE","\n            ",85],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$localeErrors",86],["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$typeError",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$error",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$message",87],["T_WHITESPACE"," ",87],["T_CONCAT_EQUAL",".=",87],["T_WHITESPACE"," ",87],["T_STRING","PHP_EOL",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"##########\"",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_STRING","PHP_EOL",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_STRING","ucfirst",87],"(",["T_VARIABLE","$typeError",87],")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","':'",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_STRING","PHP_EOL",87],";",["T_WHITESPACE","\n                ",87],["T_FOREACH","foreach",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$error",88],["T_WHITESPACE"," ",88],["T_AS","as",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$phrase",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                    ",88],["T_VARIABLE","$message",89],["T_WHITESPACE"," ",89],["T_CONCAT_EQUAL",".=",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\"'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$phrase",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\",\"'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$phrase",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\"'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_STRING","PHP_EOL",89],";",["T_WHITESPACE","\n                ",89],"}",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$message",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n",94],"}",["T_WHITESPACE","\n",95]]