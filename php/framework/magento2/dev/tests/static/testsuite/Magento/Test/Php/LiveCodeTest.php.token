[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Php",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Utility",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CodingStandard",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tool",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CodeMessDetector",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestFramework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CodingStandard",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Tool",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CodeSniffer",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestFramework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CodingStandard",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Tool",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CodeSniffer",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Wrapper",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestFramework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CodingStandard",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Tool",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CopyPasteDetector",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","PHPMD",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TextUI",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Command",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","PHPUnit_Framework_TestCase",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Utility",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Files",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Set of tests for static code analysis, e.g. code style, code complexity, copy paste detecting, etc.\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","LiveCodeTest",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","PHPUnit_Framework_TestCase",23],["T_WHITESPACE","\n",23],"{",["T_WHITESPACE","\n    ",24],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$reportDir",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","''",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$pathToSource",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","''",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Setup basics for all tests\n     *\n     * @return void\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_STATIC","static",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","setUpBeforeClass",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_STRING","self",42],["T_DOUBLE_COLON","::",42],["T_VARIABLE","$pathToSource",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","BP",42],";",["T_WHITESPACE","\n        ",42],["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_VARIABLE","$reportDir",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","self",43],["T_DOUBLE_COLON","::",43],["T_VARIABLE","$pathToSource",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/static\/report'",43],";",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(","!",["T_STRING","is_dir",44],"(",["T_STRING","self",44],["T_DOUBLE_COLON","::",44],["T_VARIABLE","$reportDir",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_STRING","mkdir",45],"(",["T_STRING","self",45],["T_DOUBLE_COLON","::",45],["T_VARIABLE","$reportDir",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Returns base folder for suite scope\n     *\n     * @return string\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_STATIC","static",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","getBaseFilesFolder",54],"(",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_DIR","__DIR__",55],";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Returns base directory for whitelisted files\n     *\n     * @return string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PRIVATE","private",63],["T_WHITESPACE"," ",63],["T_STATIC","static",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","getChangedFilesBaseDir",63],"(",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n        ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_DIR","__DIR__",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'\/..'",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Returns whitelist based on blacklist and git changed files\n     *\n     * @param array $fileTypes\n     * @param string $changedFilesBaseDir\n     * @param string $baseFilesFolder\n     * @return array\n     *\/",67],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_STATIC","static",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getWhitelist",75],"(",["T_VARIABLE","$fileTypes",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'php'",75],"]",",",["T_WHITESPACE"," ",75],["T_VARIABLE","$changedFilesBaseDir",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$baseFilesFolder",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$globPatternsFolder",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","self",77],["T_DOUBLE_COLON","::",77],["T_STRING","getBaseFilesFolder",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_CONSTANT_ENCAPSED_STRING","''",78],["T_WHITESPACE"," ",78],["T_IS_NOT_IDENTICAL","!==",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$baseFilesFolder",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$globPatternsFolder",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$baseFilesFolder",79],";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$directoriesToCheck",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","Files",81],["T_DOUBLE_COLON","::",81],["T_STRING","init",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","readLists",81],"(",["T_VARIABLE","$globPatternsFolder",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/whitelist\/common.txt'",81],")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$changedFiles",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],"[","]",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$globFilesListPattern",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$changedFilesBaseDir",84],["T_WHITESPACE"," ",84],"?",":",["T_WHITESPACE"," ",84],["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_STRING","getChangedFilesBaseDir",84],"(",")",")",["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/changed_files*'",84],";",["T_WHITESPACE","\n        ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_STRING","glob",85],"(",["T_VARIABLE","$globFilesListPattern",85],")",["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$listFile",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$changedFiles",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","array_merge",86],"(",["T_VARIABLE","$changedFiles",86],",",["T_WHITESPACE"," ",86],["T_STRING","file",86],"(",["T_VARIABLE","$listFile",86],",",["T_WHITESPACE"," ",86],["T_STRING","FILE_IGNORE_NEW_LINES",86],["T_WHITESPACE"," ",86],"|",["T_WHITESPACE"," ",86],["T_STRING","FILE_SKIP_EMPTY_LINES",86],")",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n        ",87],["T_STRING","array_walk",88],"(",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$changedFiles",89],",",["T_WHITESPACE","\n            ",89],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],"(","&",["T_VARIABLE","$file",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$file",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","BP",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'\/'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$file",91],";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE","\n        ",92],")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$changedFiles",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","array_filter",94],"(",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$changedFiles",95],",",["T_WHITESPACE","\n            ",95],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$path",96],")",["T_WHITESPACE"," ",96],["T_USE","use",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$directoriesToCheck",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$fileTypes",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_STRING","file_exists",97],"(",["T_VARIABLE","$path",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                    ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_STRING","false",98],";",["T_WHITESPACE","\n                ",98],"}",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$path",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","realpath",100],"(",["T_VARIABLE","$path",100],")",";",["T_WHITESPACE","\n                ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$directoriesToCheck",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$directory",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                    ",101],["T_VARIABLE","$directory",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","realpath",102],"(",["T_VARIABLE","$directory",102],")",";",["T_WHITESPACE","\n                    ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_STRING","strpos",103],"(",["T_VARIABLE","$path",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$directory",103],")",["T_WHITESPACE"," ",103],["T_IS_IDENTICAL","===",103],["T_WHITESPACE"," ",103],["T_LNUMBER","0",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_EMPTY","empty",104],"(",["T_VARIABLE","$fileTypes",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                            ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_STRING","in_array",105],"(",["T_STRING","pathinfo",105],"(",["T_VARIABLE","$path",105],",",["T_WHITESPACE"," ",105],["T_STRING","PATHINFO_EXTENSION",105],")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$fileTypes",105],")",";",["T_WHITESPACE","\n                        ",105],"}",["T_WHITESPACE","\n                        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_STRING","true",107],";",["T_WHITESPACE","\n                    ",107],"}",["T_WHITESPACE","\n                ",108],"}",["T_WHITESPACE","\n                ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","false",110],";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n        ",111],")",";",["T_WHITESPACE","\n\n        ",112],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$changedFiles",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Run the PSR2 code sniffs on the code\n     *\n     * @TODO: combine with testCodeStyle\n     * @return void\n     *\/",117],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","testCodeStylePsr2",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$reportFile",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_VARIABLE","$reportDir",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'\/phpcs_psr2_report.txt'",125],";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$wrapper",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","Wrapper",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$codeSniffer",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","CodeSniffer",127],"(",["T_CONSTANT_ENCAPSED_STRING","'PSR2'",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$reportFile",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$wrapper",127],")",";",["T_WHITESPACE","\n        ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$codeSniffer",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","canRun",128],"(",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","markTestSkipped",129],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Code Sniffer is not installed.'",129],")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_STRING","version_compare",131],"(",["T_VARIABLE","$wrapper",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","version",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'1.4.7'",131],")",["T_WHITESPACE"," ",131],["T_IS_IDENTICAL","===",131],["T_WHITESPACE"," ",131],"-",["T_LNUMBER","1",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","markTestSkipped",132],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Code Sniffer Build Too Old.'",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$result",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$codeSniffer",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","run",135],"(",["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","getWhitelist",135],"(",")",")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$output",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","\"\"",137],";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","file_exists",138],"(",["T_VARIABLE","$reportFile",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$output",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","file_get_contents",139],"(",["T_VARIABLE","$reportFile",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEquals",141],"(",["T_WHITESPACE","\n            ",141],["T_LNUMBER","0",142],",",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$result",143],",",["T_WHITESPACE","\n            ",143],"\"",["T_ENCAPSED_AND_WHITESPACE","PHP Code Sniffer has found ",144],["T_CURLY_OPEN","{",144],["T_VARIABLE","$result",144],"}",["T_ENCAPSED_AND_WHITESPACE"," error(s): ",144],"\"",["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_STRING","PHP_EOL",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$output",144],["T_WHITESPACE","\n        ",144],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Run the magento specific coding standards on the code\n     *\n     * @return void\n     *\/",148],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","testCodeStyle",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$reportFile",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_VARIABLE","$reportDir",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'\/phpcs_report.txt'",155],";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$wrapper",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","Wrapper",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$codeSniffer",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_NEW","new",157],["T_WHITESPACE"," ",157],["T_STRING","CodeSniffer",157],"(",["T_STRING","realpath",157],"(",["T_DIR","__DIR__",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/phpcs'",157],")",",",["T_WHITESPACE"," ",157],["T_VARIABLE","$reportFile",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$wrapper",157],")",";",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_VARIABLE","$codeSniffer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","canRun",158],"(",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","markTestSkipped",159],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Code Sniffer is not installed.'",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$codeSniffer",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setExtensions",161],"(","[",["T_CONSTANT_ENCAPSED_STRING","'php'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'phtml'",161],"]",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$result",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$codeSniffer",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","run",162],"(",["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","getWhitelist",162],"(","[",["T_CONSTANT_ENCAPSED_STRING","'php'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'phtml'",162],"]",")",")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$output",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"\"",164],";",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","file_exists",165],"(",["T_VARIABLE","$reportFile",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$output",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","file_get_contents",166],"(",["T_VARIABLE","$reportFile",166],")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEquals",169],"(",["T_WHITESPACE","\n            ",169],["T_LNUMBER","0",170],",",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$result",171],",",["T_WHITESPACE","\n            ",171],"\"",["T_ENCAPSED_AND_WHITESPACE","PHP Code Sniffer has found ",172],["T_CURLY_OPEN","{",172],["T_VARIABLE","$result",172],"}",["T_ENCAPSED_AND_WHITESPACE"," error(s): ",172],"\"",["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_STRING","PHP_EOL",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_VARIABLE","$output",172],["T_WHITESPACE","\n        ",172],")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Run the annotations sniffs on the code\n     *\n     * @return void\n     * @todo Combine with normal code style at some point.\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","testAnnotationStandard",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$reportFile",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","self",184],["T_DOUBLE_COLON","::",184],["T_VARIABLE","$reportDir",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\/phpcs_annotations_report.txt'",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$wrapper",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","Wrapper",185],"(",")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$codeSniffer",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","CodeSniffer",186],"(",["T_WHITESPACE","\n            ",186],["T_STRING","realpath",187],"(",["T_DIR","__DIR__",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/..\/framework\/Magento\/ruleset.xml'",187],")",",",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$reportFile",188],",",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$wrapper",189],["T_WHITESPACE","\n        ",189],")",";",["T_WHITESPACE","\n        ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_VARIABLE","$codeSniffer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","canRun",191],"(",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","markTestSkipped",192],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Code Sniffer is not installed.'",192],")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$result",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$codeSniffer",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","run",195],"(",["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_STRING","getWhitelist",195],"(","[",["T_CONSTANT_ENCAPSED_STRING","'php'",195],"]",")",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$output",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","\"\"",196],";",["T_WHITESPACE","\n        ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_STRING","file_exists",197],"(",["T_VARIABLE","$reportFile",197],")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$output",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","file_get_contents",198],"(",["T_VARIABLE","$reportFile",198],")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertEquals",200],"(",["T_WHITESPACE","\n            ",200],["T_LNUMBER","0",201],",",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$result",202],",",["T_WHITESPACE","\n            ",202],"\"",["T_ENCAPSED_AND_WHITESPACE","PHP Code Sniffer has found ",203],["T_CURLY_OPEN","{",203],["T_VARIABLE","$result",203],"}",["T_ENCAPSED_AND_WHITESPACE"," error(s): ",203],"\"",["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_STRING","PHP_EOL",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$output",203],["T_WHITESPACE","\n        ",203],")",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Run mess detector on code\n     *\n     * @return void\n     *\/",207],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","testCodeMess",212],"(",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$reportFile",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","self",214],["T_DOUBLE_COLON","::",214],["T_VARIABLE","$reportDir",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'\/phpmd_report.txt'",214],";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$codeMessDetector",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_NEW","new",215],["T_WHITESPACE"," ",215],["T_STRING","CodeMessDetector",215],"(",["T_STRING","realpath",215],"(",["T_DIR","__DIR__",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/phpmd\/ruleset.xml'",215],")",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$reportFile",215],")",";",["T_WHITESPACE","\n\n        ",215],["T_IF","if",217],["T_WHITESPACE"," ",217],"(","!",["T_VARIABLE","$codeMessDetector",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","canRun",217],"(",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","markTestSkipped",218],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Mess Detector is not available.'",218],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n\n        ",219],["T_VARIABLE","$result",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$codeMessDetector",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","run",222],"(",["T_STRING","self",222],["T_DOUBLE_COLON","::",222],["T_STRING","getWhitelist",222],"(","[",["T_CONSTANT_ENCAPSED_STRING","'php'",222],"]",")",")",";",["T_WHITESPACE","\n\n        ",222],["T_VARIABLE","$output",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\"\"",224],";",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_STRING","file_exists",225],"(",["T_VARIABLE","$reportFile",225],")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$output",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","file_get_contents",226],"(",["T_VARIABLE","$reportFile",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertEquals",229],"(",["T_WHITESPACE","\n            ",229],["T_STRING","Command",230],["T_DOUBLE_COLON","::",230],["T_STRING","EXIT_SUCCESS",230],",",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$result",231],",",["T_WHITESPACE","\n            ",231],["T_CONSTANT_ENCAPSED_STRING","\"PHP Code Mess has found error(s):\"",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_STRING","PHP_EOL",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_VARIABLE","$output",232],["T_WHITESPACE","\n        ",232],")",";",["T_WHITESPACE","\n\n        ",233],["T_COMMENT","\/\/ delete empty reports\n",235],["T_WHITESPACE","        ",236],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_STRING","file_exists",236],"(",["T_VARIABLE","$reportFile",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_STRING","unlink",237],"(",["T_VARIABLE","$reportFile",237],")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Run copy paste detector on code\n     *\n     * @return void\n     *\/",241],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","testCopyPaste",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$reportFile",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","self",248],["T_DOUBLE_COLON","::",248],["T_VARIABLE","$reportDir",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'\/phpcpd_report.xml'",248],";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$copyPasteDetector",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","CopyPasteDetector",249],"(",["T_VARIABLE","$reportFile",249],")",";",["T_WHITESPACE","\n\n        ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(","!",["T_VARIABLE","$copyPasteDetector",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","canRun",251],"(",")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","markTestSkipped",252],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Copy\/Paste Detector is not available.'",252],")",";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$blackList",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],"[","]",";",["T_WHITESPACE","\n        ",255],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_STRING","glob",256],"(",["T_DIR","__DIR__",256],["T_WHITESPACE"," ",256],".",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/phpcpd\/blacklist\/*.txt'",256],")",["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$list",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$blackList",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","array_merge",257],"(",["T_VARIABLE","$blackList",257],",",["T_WHITESPACE"," ",257],["T_STRING","file",257],"(",["T_VARIABLE","$list",257],",",["T_WHITESPACE"," ",257],["T_STRING","FILE_IGNORE_NEW_LINES",257],")",")",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$copyPasteDetector",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","setBlackList",260],"(",["T_VARIABLE","$blackList",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$result",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$copyPasteDetector",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","run",262],"(","[",["T_STRING","BP",262],"]",")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$output",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","\"\"",264],";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_STRING","file_exists",265],"(",["T_VARIABLE","$reportFile",265],")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$output",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","file_get_contents",266],"(",["T_VARIABLE","$reportFile",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertTrue",269],"(",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$result",270],",",["T_WHITESPACE","\n            ",270],["T_CONSTANT_ENCAPSED_STRING","\"PHP Copy\/Paste Detector has found error(s):\"",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_STRING","PHP_EOL",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_VARIABLE","$output",271],["T_WHITESPACE","\n        ",271],")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n",273],"}",["T_WHITESPACE","\n",274]]