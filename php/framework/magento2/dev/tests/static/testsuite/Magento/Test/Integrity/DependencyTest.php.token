[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Scan source code for incorrect or undeclared modules dependencies\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\n *\/",2],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Integrity",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ComponentRegistrar",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Utility",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Files",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestFramework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Dependency",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DbRule",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestFramework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Dependency",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DiRule",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TestFramework",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Dependency",15],["T_NS_SEPARATOR","\\",15],["T_STRING","LayoutRule",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TestFramework",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Dependency",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PhpRule",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestFramework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Dependency",17],["T_NS_SEPARATOR","\\",17],["T_STRING","VirtualType",17],["T_NS_SEPARATOR","\\",17],["T_STRING","VirtualTypeMapper",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.ExcessiveClassComplexity)\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","DependencyTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","PHPUnit_Framework_TestCase",22],["T_WHITESPACE","\n",22],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/**\n     * Types of dependencies between modules\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","TYPE_SOFT",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'soft'",27],";",["T_WHITESPACE","\n\n    ",27],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","TYPE_HARD",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'hard'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Types of dependencies map arrays\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","MAP_TYPE_DECLARED",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'declared'",34],";",["T_WHITESPACE","\n\n    ",34],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","MAP_TYPE_FOUND",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'found'",36],";",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","MAP_TYPE_REDUNDANT",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'redundant'",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Count of directories in path\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","DIR_PATH_COUNT",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","4",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * List of config.xml files by modules\n     *\n     * Format: array(\n     *  '{Module_Name}' => '{Filename}'\n     * )\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_STATIC","static",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_listConfigXml",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"[","]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * List of routes.xml files by modules\n     *\n     * Format: array(\n     *  '{Module_Name}' => '{Filename}'\n     * )\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_STATIC","static",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_listRoutesXml",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[","]",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * List of routers\n     *\n     * Format: array(\n     *  '{Router}' => '{Module_Name}'\n     * )\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_STATIC","static",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_mapRouters",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[","]",";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * List of layout blocks\n     *\n     * Format: array(\n     *  '{Area}' => array(\n     *   '{Block_Name}' => array('{Module_Name}' => '{Module_Name}')\n     * ))\n     *\n     * @var array\n     *\/",78],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_STATIC","static",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_mapLayoutBlocks",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[","]",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * List of layout handles\n     *\n     * Format: array(\n     *  '{Area}' => array(\n     *   '{Handle_Name}' => array('{Module_Name}' => '{Module_Name}')\n     * ))\n     *\n     * @var array\n     *\/",90],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_STATIC","static",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_mapLayoutHandles",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[","]",";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * List of dependencies\n     *\n     * Format: array(\n     *  '{Module_Name}' => array(\n     *   '{Type}' => array(\n     *    'declared'  = array('{Dependency}', ...)\n     *    'found'     = array('{Dependency}', ...)\n     *    'redundant' = array('{Dependency}', ...)\n     * )))\n     * @var array\n     *\/",102],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_STATIC","static",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_mapDependencies",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],"[","]",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Regex pattern for validation file path of theme\n     *\n     * @var string\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_STATIC","static",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_defaultThemes",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","''",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Namespaces to analyze\n     *\n     * Format: {Namespace}|{Namespace}|...\n     *\n     * @var string\n     *\/",123],["T_WHITESPACE","\n    ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_STATIC","static",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$_namespaces",130],";",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Rule instances\n     *\n     * @var array\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_STATIC","static",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$_rulesInstances",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[","]",";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * White list for libraries\n     *\n     * @var array\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PRIVATE","private",144],["T_WHITESPACE"," ",144],["T_STATIC","static",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$whiteList",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],"[","]",";",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Sets up data\n     *\/",146],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_STATIC","static",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","setUpBeforeClass",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$root",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","BP",151],";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$rootJson",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","json_decode",152],"(",["T_STRING","file_get_contents",152],"(",["T_VARIABLE","$root",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/composer.json'",152],")",",",["T_WHITESPACE"," ",152],["T_STRING","true",152],")",";",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","preg_match",153],"(",["T_CONSTANT_ENCAPSED_STRING","'\/magento\\\/project-*\/'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$rootJson",153],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",153],"]",")",["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_LNUMBER","1",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n\n            ",153],["T_COMMENT","\/\/ The Dependency test is skipped for vendor\/magento build\n",155],["T_WHITESPACE","            ",156],["T_STRING","self",156],["T_DOUBLE_COLON","::",156],["T_STRING","markTestSkipped",156],"(",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'MAGETWO-43654: The build is running from vendor\/magento. DependencyTest is skipped.'",157],["T_WHITESPACE","\n            ",157],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_STRING","self",161],["T_DOUBLE_COLON","::",161],["T_VARIABLE","$_namespaces",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","implode",161],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",161],",",["T_WHITESPACE"," ",161],["T_STRING","Files",161],["T_DOUBLE_COLON","::",161],["T_STRING","init",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getNamespaces",161],"(",")",")",";",["T_WHITESPACE","\n\n        ",161],["T_STRING","self",163],["T_DOUBLE_COLON","::",163],["T_STRING","_prepareListConfigXml",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_STRING","_prepareListRoutesXml",164],"(",")",";",["T_WHITESPACE","\n\n        ",164],["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","_prepareMapRouters",166],"(",")",";",["T_WHITESPACE","\n        ",166],["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","_prepareMapLayoutBlocks",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_STRING","self",168],["T_DOUBLE_COLON","::",168],["T_STRING","_prepareMapLayoutHandles",168],"(",")",";",["T_WHITESPACE","\n\n        ",168],["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_STRING","getLibraryWhiteLists",170],"(",")",";",["T_WHITESPACE","\n\n        ",170],["T_STRING","self",172],["T_DOUBLE_COLON","::",172],["T_STRING","_initDependencies",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_STRING","self",173],["T_DOUBLE_COLON","::",173],["T_STRING","_initThemes",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_STRING","self",174],["T_DOUBLE_COLON","::",174],["T_STRING","_initRules",174],"(",")",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Initialize library white list\n     *\/",177],["T_WHITESPACE","\n    ",179],["T_PRIVATE","private",180],["T_WHITESPACE"," ",180],["T_STATIC","static",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getLibraryWhiteLists",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$componentRegistrar",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_NEW","new",182],["T_WHITESPACE"," ",182],["T_STRING","ComponentRegistrar",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_FOREACH","foreach",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$componentRegistrar",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getPaths",183],"(",["T_STRING","ComponentRegistrar",183],["T_DOUBLE_COLON","::",183],["T_STRING","LIBRARY",183],")",["T_WHITESPACE"," ",183],["T_AS","as",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$library",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$library",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","str_replace",184],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\/'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$library",184],")",";",["T_WHITESPACE","\n            ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_STRING","strpos",185],"(",["T_VARIABLE","$library",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'Framework\/'",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$partOfLibraryPath",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","explode",186],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$library",186],")",";",["T_WHITESPACE","\n                ",186],["T_STRING","self",187],["T_DOUBLE_COLON","::",187],["T_VARIABLE","$whiteList",187],"[","]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","implode",187],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",187],",",["T_WHITESPACE"," ",187],["T_STRING","array_slice",187],"(",["T_VARIABLE","$partOfLibraryPath",187],",",["T_WHITESPACE"," ",187],"-",["T_LNUMBER","3",187],")",")",";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Initialize default themes\n     *\/",192],["T_WHITESPACE","\n    ",194],["T_PROTECTED","protected",195],["T_WHITESPACE"," ",195],["T_STATIC","static",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","_initThemes",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$defaultThemes",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],"[","]",";",["T_WHITESPACE","\n        ",197],["T_FOREACH","foreach",198],["T_WHITESPACE"," ",198],"(",["T_STRING","self",198],["T_DOUBLE_COLON","::",198],["T_VARIABLE","$_listConfigXml",198],["T_WHITESPACE"," ",198],["T_AS","as",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$file",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$config",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","simplexml_load_file",199],"(",["T_VARIABLE","$file",199],")",";",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$nodes",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],"@","(",["T_VARIABLE","$config",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","xpath",200],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/config\/*\/design\/theme\/full_name\"",200],")",["T_WHITESPACE"," ",200],"?",":",["T_WHITESPACE"," ",200],"[","]",")",";",["T_WHITESPACE","\n            ",200],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$nodes",201],["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$node",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$defaultThemes",202],"[","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING_CAST","(string)",202],["T_VARIABLE","$node",202],";",["T_WHITESPACE","\n            ",202],"}",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_VARIABLE","$_defaultThemes",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","sprintf",205],"(",["T_CONSTANT_ENCAPSED_STRING","'#app\/design.*\/(%s)\/.*#'",205],",",["T_WHITESPACE"," ",205],["T_STRING","implode",205],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",205],",",["T_WHITESPACE"," ",205],["T_STRING","array_unique",205],"(",["T_VARIABLE","$defaultThemes",205],")",")",")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Create rules objects\n     *\/",208],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_STATIC","static",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","_initRules",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$replaceFilePattern",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","str_replace",213],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'\/'",213],",",["T_WHITESPACE"," ",213],["T_STRING","realpath",213],"(",["T_DIR","__DIR__",213],")",")",["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/dependency_test\/*.php'",213],";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$dbRuleTables",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"[","]",";",["T_WHITESPACE","\n        ",214],["T_FOREACH","foreach",215],["T_WHITESPACE"," ",215],"(",["T_STRING","glob",215],"(",["T_VARIABLE","$replaceFilePattern",215],")",["T_WHITESPACE"," ",215],["T_AS","as",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$fileName",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$dbRuleTables",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","array_merge",216],"(",["T_VARIABLE","$dbRuleTables",216],",",["T_WHITESPACE"," ",216],"@",["T_INCLUDE","include",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$fileName",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n        ",217],["T_STRING","self",218],["T_DOUBLE_COLON","::",218],["T_VARIABLE","$_rulesInstances",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"[",["T_WHITESPACE","\n            ",218],["T_NEW","new",219],["T_WHITESPACE"," ",219],["T_STRING","PhpRule",219],"(",["T_STRING","self",219],["T_DOUBLE_COLON","::",219],["T_VARIABLE","$_mapRouters",219],",",["T_WHITESPACE"," ",219],["T_STRING","self",219],["T_DOUBLE_COLON","::",219],["T_VARIABLE","$_mapLayoutBlocks",219],")",",",["T_WHITESPACE","\n            ",219],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","DbRule",220],"(",["T_VARIABLE","$dbRuleTables",220],")",",",["T_WHITESPACE","\n            ",220],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_STRING","LayoutRule",221],"(",["T_WHITESPACE","\n                ",221],["T_STRING","self",222],["T_DOUBLE_COLON","::",222],["T_VARIABLE","$_mapRouters",222],",",["T_WHITESPACE","\n                ",222],["T_STRING","self",223],["T_DOUBLE_COLON","::",223],["T_VARIABLE","$_mapLayoutBlocks",223],",",["T_WHITESPACE","\n                ",223],["T_STRING","self",224],["T_DOUBLE_COLON","::",224],["T_VARIABLE","$_mapLayoutHandles",224],["T_WHITESPACE","\n            ",224],")",",",["T_WHITESPACE","\n            ",225],["T_NEW","new",226],["T_WHITESPACE"," ",226],["T_STRING","DiRule",226],"(",["T_NEW","new",226],["T_WHITESPACE"," ",226],["T_STRING","VirtualTypeMapper",226],"(",")",")",["T_WHITESPACE","\n        ",226],"]",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Return cleaned file contents\n     *\n     * @param string $fileType\n     * @param string $file\n     * @return string\n     *\/",230],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_getCleanedFileContents",237],"(",["T_VARIABLE","$fileType",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$file",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$contents",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING_CAST","(string)",239],["T_STRING","file_get_contents",239],"(",["T_VARIABLE","$file",239],")",";",["T_WHITESPACE","\n        ",239],["T_SWITCH","switch",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$fileType",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_CASE","case",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'php'",241],":",["T_WHITESPACE","\n                ",241],["T_COMMENT","\/\/Removing php comments\n",242],["T_WHITESPACE","                ",243],["T_VARIABLE","$contents",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","preg_replace",243],"(",["T_CONSTANT_ENCAPSED_STRING","'~\/\\*.*?\\*\/~s'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","''",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$contents",243],")",";",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$contents",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","preg_replace",244],"(",["T_CONSTANT_ENCAPSED_STRING","'~^\\s*\/\/.*$~m'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","''",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$contents",244],")",";",["T_WHITESPACE","\n                ",244],["T_BREAK","break",245],";",["T_WHITESPACE","\n            ",245],["T_CASE","case",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'layout'",246],":",["T_WHITESPACE","\n            ",246],["T_CASE","case",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'config'",247],":",["T_WHITESPACE","\n                ",247],["T_COMMENT","\/\/Removing xml comments\n",248],["T_WHITESPACE","                ",249],["T_VARIABLE","$contents",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","preg_replace",249],"(",["T_CONSTANT_ENCAPSED_STRING","'~\\<!\\-\\-\/.*?\\-\\-\\>~s'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","''",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$contents",249],")",";",["T_WHITESPACE","\n                ",249],["T_BREAK","break",250],";",["T_WHITESPACE","\n            ",250],["T_CASE","case",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'template'",251],":",["T_WHITESPACE","\n                ",251],["T_COMMENT","\/\/Removing html\n",252],["T_WHITESPACE","                ",253],["T_VARIABLE","$contentsWithoutHtml",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","''",253],";",["T_WHITESPACE","\n                ",253],["T_STRING","preg_replace_callback",254],"(",["T_WHITESPACE","\n                    ",254],["T_CONSTANT_ENCAPSED_STRING","'~(<\\?php\\s+.*\\?>)~sU'",255],",",["T_WHITESPACE","\n                    ",255],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$matches",256],")",["T_WHITESPACE"," ",256],["T_USE","use",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$contents",256],",",["T_WHITESPACE"," ",256],"&",["T_VARIABLE","$contentsWithoutHtml",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                        ",256],["T_VARIABLE","$contentsWithoutHtml",257],["T_WHITESPACE"," ",257],["T_CONCAT_EQUAL",".=",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$matches",257],"[",["T_LNUMBER","1",257],"]",";",["T_WHITESPACE","\n                        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$contents",258],";",["T_WHITESPACE","\n                    ",258],"}",",",["T_WHITESPACE","\n                    ",259],["T_VARIABLE","$contents",260],["T_WHITESPACE","\n                ",260],")",";",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$contents",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$contentsWithoutHtml",262],";",["T_WHITESPACE","\n                ",262],["T_COMMENT","\/\/Removing php comments\n",263],["T_WHITESPACE","                ",264],["T_VARIABLE","$contents",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","preg_replace",264],"(",["T_CONSTANT_ENCAPSED_STRING","'~\/\\*.*?\\*\/~s'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","''",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$contents",264],")",";",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$contents",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","preg_replace",265],"(",["T_CONSTANT_ENCAPSED_STRING","'~^\\s*\/\/.*$~s'",265],",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","''",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$contents",265],")",";",["T_WHITESPACE","\n                ",265],["T_BREAK","break",266],";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n        ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$contents",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","testUndeclared",271],"(",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$invoker",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_NEW","new",273],["T_WHITESPACE"," ",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Magento",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Framework",273],["T_NS_SEPARATOR","\\",273],["T_STRING","App",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Utility",273],["T_NS_SEPARATOR","\\",273],["T_STRING","AggregateInvoker",273],"(",["T_VARIABLE","$this",273],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$invoker",274],"(",["T_WHITESPACE","\n            ",274],["T_DOC_COMMENT","\/**\n             * Check undeclared modules dependencies for specified file\n             *\n             * @param string $fileType\n             * @param string $file\n             *\/",275],["T_WHITESPACE","\n            ",280],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$fileType",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$file",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                ",281],["T_COMMENT","\/\/ Validates file when it is belonged to default themes\n",282],["T_WHITESPACE","                ",283],["T_VARIABLE","$componentRegistrar",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_NEW","new",283],["T_WHITESPACE"," ",283],["T_STRING","ComponentRegistrar",283],"(",")",";",["T_WHITESPACE","\n                ",283],["T_FOREACH","foreach",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$componentRegistrar",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getPaths",284],"(",["T_STRING","ComponentRegistrar",284],["T_DOUBLE_COLON","::",284],["T_STRING","THEME",284],")",["T_WHITESPACE"," ",284],["T_AS","as",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$themeDir",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                    ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_STRING","strpos",285],"(",["T_VARIABLE","$file",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$themeDir",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'\/'",285],")",["T_WHITESPACE"," ",285],["T_IS_NOT_IDENTICAL","!==",285],["T_WHITESPACE"," ",285],["T_STRING","false",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                        ",285],["T_RETURN","return",286],";",["T_WHITESPACE","\n                    ",286],"}",["T_WHITESPACE","\n                ",287],"}",["T_WHITESPACE","\n\n                ",288],["T_VARIABLE","$foundModuleName",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","''",290],";",["T_WHITESPACE","\n                ",290],["T_FOREACH","foreach",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$componentRegistrar",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getPaths",291],"(",["T_STRING","ComponentRegistrar",291],["T_DOUBLE_COLON","::",291],["T_STRING","MODULE",291],")",["T_WHITESPACE"," ",291],["T_AS","as",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$moduleName",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$moduleDir",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                    ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_STRING","strpos",292],"(",["T_VARIABLE","$file",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$moduleDir",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'\/'",292],")",["T_WHITESPACE"," ",292],["T_IS_NOT_IDENTICAL","!==",292],["T_WHITESPACE"," ",292],["T_STRING","false",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                        ",292],["T_VARIABLE","$foundModuleName",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","str_replace",293],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",293],",",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$moduleName",293],")",";",["T_WHITESPACE","\n                        ",293],["T_BREAK","break",294],";",["T_WHITESPACE","\n                    ",294],"}",["T_WHITESPACE","\n                ",295],"}",["T_WHITESPACE","\n                ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_EMPTY","empty",297],"(",["T_VARIABLE","$foundModuleName",297],")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                    ",297],["T_RETURN","return",298],";",["T_WHITESPACE","\n                ",298],"}",["T_WHITESPACE","\n\n                ",299],["T_VARIABLE","$module",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$foundModuleName",301],";",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$contents",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_getCleanedFileContents",302],"(",["T_VARIABLE","$fileType",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$file",302],")",";",["T_WHITESPACE","\n\n                ",302],["T_VARIABLE","$dependencies",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getDependenciesFromFiles",304],"(",["T_VARIABLE","$module",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$fileType",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$file",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$contents",304],")",";",["T_WHITESPACE","\n\n                ",304],["T_COMMENT","\/\/ Collect dependencies\n",306],["T_WHITESPACE","                ",307],["T_VARIABLE","$undeclaredDependency",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_collectDependencies",307],"(",["T_VARIABLE","$module",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$dependencies",307],")",";",["T_WHITESPACE","\n\n                ",307],["T_COMMENT","\/\/ Prepare output message\n",309],["T_WHITESPACE","                ",310],["T_VARIABLE","$result",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],"[","]",";",["T_WHITESPACE","\n                ",310],["T_FOREACH","foreach",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$undeclaredDependency",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$type",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$modules",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                    ",311],["T_VARIABLE","$modules",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","array_unique",312],"(",["T_VARIABLE","$modules",312],")",";",["T_WHITESPACE","\n                    ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(","!",["T_STRING","count",313],"(",["T_VARIABLE","$modules",313],")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n                        ",313],["T_CONTINUE","continue",314],";",["T_WHITESPACE","\n                    ",314],"}",["T_WHITESPACE","\n                    ",315],["T_VARIABLE","$result",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","sprintf",316],"(",["T_CONSTANT_ENCAPSED_STRING","\"%s [%s]\"",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$type",316],",",["T_WHITESPACE"," ",316],["T_STRING","implode",316],"(",["T_CONSTANT_ENCAPSED_STRING","', '",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$modules",316],")",")",";",["T_WHITESPACE","\n                ",316],"}",["T_WHITESPACE","\n                ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_STRING","count",318],"(",["T_VARIABLE","$result",318],")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                    ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","fail",319],"(",["T_CONSTANT_ENCAPSED_STRING","'Module '",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$module",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","' has undeclared dependencies: '",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_STRING","implode",319],"(",["T_CONSTANT_ENCAPSED_STRING","', '",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$result",319],")",")",";",["T_WHITESPACE","\n                ",319],"}",["T_WHITESPACE","\n            ",320],"}",",",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getAllFiles",322],"(",")",["T_WHITESPACE","\n        ",322],")",";",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n\n    ",324],["T_DOC_COMMENT","\/**\n     * Retrieve dependencies from files\n     *\n     * @param string $module\n     * @param string $fileType\n     * @param string $file\n     * @param string $contents\n     * @return string[]\n     *\/",326],["T_WHITESPACE","\n    ",334],["T_PROTECTED","protected",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","getDependenciesFromFiles",335],"(",["T_VARIABLE","$module",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$fileType",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$file",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$contents",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_COMMENT","\/\/ Apply rules\n",337],["T_WHITESPACE","        ",338],["T_VARIABLE","$dependencies",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],"[","]",";",["T_WHITESPACE","\n        ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_STRING","self",339],["T_DOUBLE_COLON","::",339],["T_VARIABLE","$_rulesInstances",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$rule",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_DOC_COMMENT","\/** @var \\Magento\\TestFramework\\Dependency\\RuleInterface $rule *\/",340],["T_WHITESPACE","\n            ",340],["T_VARIABLE","$newDependencies",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$rule",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getDependencyInfo",341],"(",["T_VARIABLE","$module",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$fileType",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$file",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$contents",341],")",";",["T_WHITESPACE","\n            ",341],["T_VARIABLE","$dependencies",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","array_merge",342],"(",["T_VARIABLE","$dependencies",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$newDependencies",342],")",";",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n        ",343],["T_FOREACH","foreach",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$dependencies",344],["T_WHITESPACE"," ",344],["T_AS","as",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$key",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$dependency",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_FOREACH","foreach",345],["T_WHITESPACE"," ",345],"(",["T_STRING","self",345],["T_DOUBLE_COLON","::",345],["T_VARIABLE","$whiteList",345],["T_WHITESPACE"," ",345],["T_AS","as",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$namespace",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_STRING","strpos",346],"(",["T_VARIABLE","$dependency",346],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",346],"]",",",["T_WHITESPACE"," ",346],["T_VARIABLE","$namespace",346],")",["T_WHITESPACE"," ",346],["T_IS_NOT_IDENTICAL","!==",346],["T_WHITESPACE"," ",346],["T_STRING","false",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                    ",346],["T_VARIABLE","$dependency",347],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",347],"]",["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$namespace",347],";",["T_WHITESPACE","\n                    ",347],["T_VARIABLE","$dependencies",348],"[",["T_VARIABLE","$key",348],"]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$dependency",348],";",["T_WHITESPACE","\n                ",348],"}",["T_WHITESPACE","\n            ",349],"}",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$dependencies",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Collect dependencies\n     *\n     * @param string $currentModuleName\n     * @param array $dependencies\n     * @return array\n     *\/",355],["T_WHITESPACE","\n    ",361],["T_PROTECTED","protected",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","_collectDependencies",362],"(",["T_VARIABLE","$currentModuleName",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$dependencies",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],"[","]",")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(","!",["T_STRING","count",364],"(",["T_VARIABLE","$dependencies",364],")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_RETURN","return",365],["T_WHITESPACE"," ",365],"[","]",";",["T_WHITESPACE","\n        ",365],"}",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$undeclared",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],"[","]",";",["T_WHITESPACE","\n        ",367],["T_FOREACH","foreach",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$dependencies",368],["T_WHITESPACE"," ",368],["T_AS","as",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$dependency",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","collectDependency",369],"(",["T_VARIABLE","$dependency",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$currentModuleName",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$undeclared",369],")",";",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE","\n        ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$undeclared",371],";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Collect a dependency\n     *\n     * @param string $currentModule\n     * @param array $dependency\n     * @param array $undeclared\n     *\/",374],["T_WHITESPACE","\n    ",380],["T_PRIVATE","private",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","collectDependency",381],"(",["T_VARIABLE","$dependency",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$currentModule",381],",",["T_WHITESPACE"," ",381],"&",["T_VARIABLE","$undeclared",381],")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$module",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$dependency",383],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",383],"]",";",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$nsModule",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","str_replace",384],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",384],",",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$module",384],")",";",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$type",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_ISSET","isset",385],"(",["T_VARIABLE","$dependency",385],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",385],"]",")",["T_WHITESPACE"," ",385],"?",["T_WHITESPACE"," ",385],["T_VARIABLE","$dependency",385],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",385],"]",["T_WHITESPACE"," ",385],":",["T_WHITESPACE"," ",385],["T_STRING","self",385],["T_DOUBLE_COLON","::",385],["T_STRING","TYPE_HARD",385],";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$soft",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_getDependencies",387],"(",["T_VARIABLE","$currentModule",387],",",["T_WHITESPACE"," ",387],["T_STRING","self",387],["T_DOUBLE_COLON","::",387],["T_STRING","TYPE_SOFT",387],",",["T_WHITESPACE"," ",387],["T_STRING","self",387],["T_DOUBLE_COLON","::",387],["T_STRING","MAP_TYPE_DECLARED",387],")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$hard",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_getDependencies",388],"(",["T_VARIABLE","$currentModule",388],",",["T_WHITESPACE"," ",388],["T_STRING","self",388],["T_DOUBLE_COLON","::",388],["T_STRING","TYPE_HARD",388],",",["T_WHITESPACE"," ",388],["T_STRING","self",388],["T_DOUBLE_COLON","::",388],["T_STRING","MAP_TYPE_DECLARED",388],")",";",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$declared",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$type",390],["T_WHITESPACE"," ",390],["T_IS_EQUAL","==",390],["T_WHITESPACE"," ",390],["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","TYPE_SOFT",390],["T_WHITESPACE"," ",390],"?",["T_WHITESPACE"," ",390],["T_STRING","array_merge",390],"(",["T_VARIABLE","$soft",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$hard",390],")",["T_WHITESPACE"," ",390],":",["T_WHITESPACE"," ",390],["T_VARIABLE","$hard",390],";",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_STRING","in_array",391],"(",["T_VARIABLE","$module",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$declared",391],")",["T_WHITESPACE"," ",391],["T_BOOLEAN_AND","&&",391],["T_WHITESPACE"," ",391],"!",["T_STRING","in_array",391],"(",["T_VARIABLE","$nsModule",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$declared",391],")",["T_WHITESPACE"," ",391],["T_BOOLEAN_AND","&&",391],["T_WHITESPACE"," ",391],"!",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_isFake",391],"(",["T_VARIABLE","$nsModule",391],")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$undeclared",392],"[",["T_VARIABLE","$type",392],"]","[","]",["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$module",392],";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE"," ",393],["T_ELSEIF","elseif",393],["T_WHITESPACE"," ",393],"(","(",["T_STRING","in_array",393],"(",["T_VARIABLE","$module",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$declared",393],")",["T_WHITESPACE"," ",393],["T_BOOLEAN_OR","||",393],["T_WHITESPACE"," ",393],["T_STRING","in_array",393],"(",["T_VARIABLE","$nsModule",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$declared",393],")",")",["T_WHITESPACE"," ",393],["T_BOOLEAN_AND","&&",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_isFake",393],"(",["T_VARIABLE","$nsModule",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_setDependencies",394],"(",["T_VARIABLE","$currentModule",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$type",394],",",["T_WHITESPACE"," ",394],["T_STRING","self",394],["T_DOUBLE_COLON","::",394],["T_STRING","MAP_TYPE_REDUNDANT",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$module",394],")",";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_addDependencies",397],"(",["T_VARIABLE","$currentModule",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$type",397],",",["T_WHITESPACE"," ",397],["T_STRING","self",397],["T_DOUBLE_COLON","::",397],["T_STRING","MAP_TYPE_FOUND",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$nsModule",397],")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * Collect redundant dependencies\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     * @test\n     * @depends testUndeclared\n     *\/",400],["T_WHITESPACE","\n    ",405],["T_PUBLIC","public",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","collectRedundant",406],"(",")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_FOREACH","foreach",408],["T_WHITESPACE"," ",408],"(",["T_STRING","array_keys",408],"(",["T_STRING","self",408],["T_DOUBLE_COLON","::",408],["T_VARIABLE","$_mapDependencies",408],")",["T_WHITESPACE"," ",408],["T_AS","as",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$module",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$declared",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_getDependencies",409],"(",["T_VARIABLE","$module",409],",",["T_WHITESPACE"," ",409],["T_STRING","self",409],["T_DOUBLE_COLON","::",409],["T_STRING","TYPE_HARD",409],",",["T_WHITESPACE"," ",409],["T_STRING","self",409],["T_DOUBLE_COLON","::",409],["T_STRING","MAP_TYPE_DECLARED",409],")",";",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$found",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_getDependencies",410],"(",["T_VARIABLE","$module",410],",",["T_WHITESPACE"," ",410],["T_STRING","self",410],["T_DOUBLE_COLON","::",410],["T_STRING","TYPE_HARD",410],",",["T_WHITESPACE"," ",410],["T_STRING","self",410],["T_DOUBLE_COLON","::",410],["T_STRING","MAP_TYPE_FOUND",410],")",";",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$found",411],"[",["T_CONSTANT_ENCAPSED_STRING","'Magento\\Framework'",411],"]",["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Framework'",411],";",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_setDependencies",412],"(",["T_VARIABLE","$module",412],",",["T_WHITESPACE"," ",412],["T_STRING","self",412],["T_DOUBLE_COLON","::",412],["T_STRING","TYPE_HARD",412],",",["T_WHITESPACE"," ",412],["T_STRING","self",412],["T_DOUBLE_COLON","::",412],["T_STRING","MAP_TYPE_REDUNDANT",412],",",["T_WHITESPACE"," ",412],["T_STRING","array_diff",412],"(",["T_VARIABLE","$declared",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$found",412],")",")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Check redundant dependencies\n     *\n     * @depends collectRedundant\n     *\/",416],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","testRedundant",421],"(",")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$output",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],"[","]",";",["T_WHITESPACE","\n        ",423],["T_FOREACH","foreach",424],["T_WHITESPACE"," ",424],"(",["T_STRING","array_keys",424],"(",["T_STRING","self",424],["T_DOUBLE_COLON","::",424],["T_VARIABLE","$_mapDependencies",424],")",["T_WHITESPACE"," ",424],["T_AS","as",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$module",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$result",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],"[","]",";",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$redundant",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_getDependencies",426],"(",["T_VARIABLE","$module",426],",",["T_WHITESPACE"," ",426],["T_STRING","self",426],["T_DOUBLE_COLON","::",426],["T_STRING","TYPE_HARD",426],",",["T_WHITESPACE"," ",426],["T_STRING","self",426],["T_DOUBLE_COLON","::",426],["T_STRING","MAP_TYPE_REDUNDANT",426],")",";",["T_WHITESPACE","\n            ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_STRING","count",427],"(",["T_VARIABLE","$redundant",427],")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n                ",427],["T_VARIABLE","$result",428],"[","]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_STRING","sprintf",428],"(",["T_WHITESPACE","\n                    ",428],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\nModule %s: %s [%s]\"",429],",",["T_WHITESPACE","\n                    ",429],["T_VARIABLE","$module",430],",",["T_WHITESPACE","\n                    ",430],["T_STRING","self",431],["T_DOUBLE_COLON","::",431],["T_STRING","TYPE_HARD",431],",",["T_WHITESPACE","\n                    ",431],["T_STRING","implode",432],"(",["T_CONSTANT_ENCAPSED_STRING","', '",432],",",["T_WHITESPACE"," ",432],["T_STRING","array_values",432],"(",["T_VARIABLE","$redundant",432],")",")",["T_WHITESPACE","\n                ",432],")",";",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE","\n\n            ",434],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_STRING","count",436],"(",["T_VARIABLE","$result",436],")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n                ",436],["T_VARIABLE","$output",437],"[","]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","implode",437],"(",["T_CONSTANT_ENCAPSED_STRING","', '",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$result",437],")",";",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_STRING","count",440],"(",["T_VARIABLE","$output",440],")",")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","fail",441],"(",["T_CONSTANT_ENCAPSED_STRING","\"Redundant dependencies found!\\r\\n\"",441],["T_WHITESPACE"," ",441],".",["T_WHITESPACE"," ",441],["T_STRING","implode",441],"(",["T_CONSTANT_ENCAPSED_STRING","' '",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$output",441],")",")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n    ",442],"}",["T_WHITESPACE","\n\n    ",443],["T_DOC_COMMENT","\/**\n     * Convert file list to data provider structure\n     *\n     * @param string $fileType\n     * @param array $files\n     * @param bool|null $skip\n     * @return array\n     *\/",445],["T_WHITESPACE","\n    ",452],["T_PROTECTED","protected",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","_prepareFiles",453],"(",["T_VARIABLE","$fileType",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$files",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$skip",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","null",453],")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$result",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],"[","]",";",["T_WHITESPACE","\n        ",455],["T_FOREACH","foreach",456],["T_WHITESPACE"," ",456],"(",["T_VARIABLE","$files",456],["T_WHITESPACE"," ",456],["T_AS","as",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$relativePath",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$file",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$absolutePath",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$file",457],"[",["T_LNUMBER","0",457],"]",";",["T_WHITESPACE","\n            ",457],["T_IF","if",458],["T_WHITESPACE"," ",458],"(","!",["T_VARIABLE","$skip",458],["T_WHITESPACE"," ",458],["T_BOOLEAN_AND","&&",458],["T_WHITESPACE"," ",458],["T_STRING","substr_count",458],"(",["T_VARIABLE","$relativePath",458],",",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'\/'",458],")",["T_WHITESPACE"," ",458],"<",["T_WHITESPACE"," ",458],["T_STRING","self",458],["T_DOUBLE_COLON","::",458],["T_STRING","DIR_PATH_COUNT",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n                ",458],["T_CONTINUE","continue",459],";",["T_WHITESPACE","\n            ",459],"}",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$result",461],"[",["T_VARIABLE","$relativePath",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],"[",["T_VARIABLE","$fileType",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$absolutePath",461],"]",";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$result",463],";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Return all files\n     *\n     * @return array\n     *\/",466],["T_WHITESPACE","\n    ",470],["T_PUBLIC","public",471],["T_WHITESPACE"," ",471],["T_FUNCTION","function",471],["T_WHITESPACE"," ",471],["T_STRING","getAllFiles",471],"(",")",["T_WHITESPACE","\n    ",471],"{",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$files",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],"[","]",";",["T_WHITESPACE","\n\n        ",473],["T_COMMENT","\/\/ Get all php files\n",475],["T_WHITESPACE","        ",476],["T_VARIABLE","$files",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","array_merge",476],"(",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$files",477],",",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_prepareFiles",478],"(",["T_WHITESPACE","\n                ",478],["T_CONSTANT_ENCAPSED_STRING","'php'",479],",",["T_WHITESPACE","\n                ",479],["T_STRING","Files",480],["T_DOUBLE_COLON","::",480],["T_STRING","init",480],"(",")",["T_OBJECT_OPERATOR","->",480],["T_STRING","getPhpFiles",480],"(",["T_STRING","Files",480],["T_DOUBLE_COLON","::",480],["T_STRING","INCLUDE_APP_CODE",480],["T_WHITESPACE"," ",480],"|",["T_WHITESPACE"," ",480],["T_STRING","Files",480],["T_DOUBLE_COLON","::",480],["T_STRING","AS_DATA_SET",480],["T_WHITESPACE"," ",480],"|",["T_WHITESPACE"," ",480],["T_STRING","Files",480],["T_DOUBLE_COLON","::",480],["T_STRING","INCLUDE_NON_CLASSES",480],")",",",["T_WHITESPACE","\n                ",480],["T_STRING","true",481],["T_WHITESPACE","\n            ",481],")",["T_WHITESPACE","\n        ",482],")",";",["T_WHITESPACE","\n\n        ",483],["T_COMMENT","\/\/ Get all configuration files\n",485],["T_WHITESPACE","        ",486],["T_VARIABLE","$files",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_STRING","array_merge",486],"(",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$files",487],",",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_prepareFiles",488],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",488],",",["T_WHITESPACE"," ",488],["T_STRING","Files",488],["T_DOUBLE_COLON","::",488],["T_STRING","init",488],"(",")",["T_OBJECT_OPERATOR","->",488],["T_STRING","getConfigFiles",488],"(",")",")",["T_WHITESPACE","\n        ",488],")",";",["T_WHITESPACE","\n\n        ",489],["T_COMMENT","\/\/Get all layout updates files\n",491],["T_WHITESPACE","        ",492],["T_VARIABLE","$files",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","array_merge",492],"(",["T_WHITESPACE","\n            ",492],["T_VARIABLE","$files",493],",",["T_WHITESPACE","\n            ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_prepareFiles",494],"(",["T_CONSTANT_ENCAPSED_STRING","'layout'",494],",",["T_WHITESPACE"," ",494],["T_STRING","Files",494],["T_DOUBLE_COLON","::",494],["T_STRING","init",494],"(",")",["T_OBJECT_OPERATOR","->",494],["T_STRING","getLayoutFiles",494],"(",")",")",["T_WHITESPACE","\n        ",494],")",";",["T_WHITESPACE","\n\n        ",495],["T_COMMENT","\/\/ Get all template files\n",497],["T_WHITESPACE","        ",498],["T_VARIABLE","$files",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","array_merge",498],"(",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$files",499],",",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_prepareFiles",500],"(",["T_CONSTANT_ENCAPSED_STRING","'template'",500],",",["T_WHITESPACE"," ",500],["T_STRING","Files",500],["T_DOUBLE_COLON","::",500],["T_STRING","init",500],"(",")",["T_OBJECT_OPERATOR","->",500],["T_STRING","getPhtmlFiles",500],"(",")",")",["T_WHITESPACE","\n        ",500],")",";",["T_WHITESPACE","\n\n        ",501],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$files",503],";",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n\n    ",504],["T_DOC_COMMENT","\/**\n     * Prepare list of config.xml files (by modules)\n     *\/",506],["T_WHITESPACE","\n    ",508],["T_PROTECTED","protected",509],["T_WHITESPACE"," ",509],["T_STATIC","static",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","_prepareListConfigXml",509],"(",")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$files",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_STRING","Files",511],["T_DOUBLE_COLON","::",511],["T_STRING","init",511],"(",")",["T_OBJECT_OPERATOR","->",511],["T_STRING","getConfigFiles",511],"(",["T_CONSTANT_ENCAPSED_STRING","'config.xml'",511],",",["T_WHITESPACE"," ",511],"[","]",",",["T_WHITESPACE"," ",511],["T_STRING","false",511],")",";",["T_WHITESPACE","\n        ",511],["T_FOREACH","foreach",512],["T_WHITESPACE"," ",512],"(",["T_VARIABLE","$files",512],["T_WHITESPACE"," ",512],["T_AS","as",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$file",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_STRING","preg_match",513],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?<namespace>[A-Z][a-z]+)[_\\\/\\\\\\\\](?<module>[A-Z][a-zA-Z]+)\/'",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$file",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$matches",513],")",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n                ",513],["T_VARIABLE","$module",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$matches",514],"[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",514],"]",["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",514],["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_VARIABLE","$matches",514],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",514],"]",";",["T_WHITESPACE","\n                ",514],["T_STRING","self",515],["T_DOUBLE_COLON","::",515],["T_VARIABLE","$_listConfigXml",515],"[",["T_VARIABLE","$module",515],"]",["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$file",515],";",["T_WHITESPACE","\n            ",515],"}",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n    ",517],"}",["T_WHITESPACE","\n\n    ",518],["T_DOC_COMMENT","\/**\n     * Prepare list of routes.xml files (by modules)\n     *\/",520],["T_WHITESPACE","\n    ",522],["T_PROTECTED","protected",523],["T_WHITESPACE"," ",523],["T_STATIC","static",523],["T_WHITESPACE"," ",523],["T_FUNCTION","function",523],["T_WHITESPACE"," ",523],["T_STRING","_prepareListRoutesXml",523],"(",")",["T_WHITESPACE","\n    ",523],"{",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$files",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","Files",525],["T_DOUBLE_COLON","::",525],["T_STRING","init",525],"(",")",["T_OBJECT_OPERATOR","->",525],["T_STRING","getConfigFiles",525],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/routes.xml'",525],",",["T_WHITESPACE"," ",525],"[","]",",",["T_WHITESPACE"," ",525],["T_STRING","false",525],")",";",["T_WHITESPACE","\n        ",525],["T_FOREACH","foreach",526],["T_WHITESPACE"," ",526],"(",["T_VARIABLE","$files",526],["T_WHITESPACE"," ",526],["T_AS","as",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$file",526],")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n            ",526],["T_IF","if",527],["T_WHITESPACE"," ",527],"(",["T_STRING","preg_match",527],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?<namespace>[A-Z][a-z]+)[_\\\/\\\\\\\\](?<module>[A-Z][a-zA-Z]+)\/'",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$file",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$matches",527],")",")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n                ",527],["T_VARIABLE","$module",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$matches",528],"[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",528],"]",["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_VARIABLE","$matches",528],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",528],"]",";",["T_WHITESPACE","\n                ",528],["T_STRING","self",529],["T_DOUBLE_COLON","::",529],["T_VARIABLE","$_listRoutesXml",529],"[",["T_VARIABLE","$module",529],"]","[","]",["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$file",529],";",["T_WHITESPACE","\n            ",529],"}",["T_WHITESPACE","\n        ",530],"}",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Prepare map of routers\n     *\/",534],["T_WHITESPACE","\n    ",536],["T_PROTECTED","protected",537],["T_WHITESPACE"," ",537],["T_STATIC","static",537],["T_WHITESPACE"," ",537],["T_FUNCTION","function",537],["T_WHITESPACE"," ",537],["T_STRING","_prepareMapRouters",537],"(",")",["T_WHITESPACE","\n    ",537],"{",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$pattern",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","'\/(?<namespace>[A-Z][a-z]+)[_\\\/\\\\\\\\](?<module>[A-Z][a-zA-Z]+)\\\/Controller\\\/'",539],["T_WHITESPACE"," ",539],".",["T_WHITESPACE","\n            ",539],["T_CONSTANT_ENCAPSED_STRING","'(?<path>[\\\/\\w]*).php\/'",540],";",["T_WHITESPACE","\n\n        ",540],["T_VARIABLE","$files",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","Files",542],["T_DOUBLE_COLON","::",542],["T_STRING","init",542],"(",")",["T_OBJECT_OPERATOR","->",542],["T_STRING","getPhpFiles",542],"(",["T_STRING","Files",542],["T_DOUBLE_COLON","::",542],["T_STRING","INCLUDE_APP_CODE",542],["T_WHITESPACE"," ",542],"|",["T_WHITESPACE"," ",542],["T_STRING","Files",542],["T_DOUBLE_COLON","::",542],["T_STRING","INCLUDE_NON_CLASSES",542],")",";",["T_WHITESPACE","\n        ",542],["T_FOREACH","foreach",543],["T_WHITESPACE"," ",543],"(",["T_VARIABLE","$files",543],["T_WHITESPACE"," ",543],["T_AS","as",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$file",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_IF","if",544],["T_WHITESPACE"," ",544],"(",["T_STRING","preg_match",544],"(",["T_VARIABLE","$pattern",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$file",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$matches",544],")",")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n                ",544],["T_VARIABLE","$module",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$matches",545],"[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",545],"]",["T_WHITESPACE"," ",545],".",["T_WHITESPACE"," ",545],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",545],["T_WHITESPACE"," ",545],".",["T_WHITESPACE"," ",545],["T_VARIABLE","$matches",545],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",545],"]",";",["T_WHITESPACE","\n                ",545],["T_IF","if",546],["T_WHITESPACE"," ",546],"(","!",["T_EMPTY","empty",546],"(",["T_STRING","self",546],["T_DOUBLE_COLON","::",546],["T_VARIABLE","$_listRoutesXml",546],"[",["T_VARIABLE","$module",546],"]",")",")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n                    ",546],["T_FOREACH","foreach",547],["T_WHITESPACE"," ",547],"(",["T_STRING","self",547],["T_DOUBLE_COLON","::",547],["T_VARIABLE","$_listRoutesXml",547],"[",["T_VARIABLE","$module",547],"]",["T_WHITESPACE"," ",547],["T_AS","as",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$configFile",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n                        ",547],["T_STRING","self",548],["T_DOUBLE_COLON","::",548],["T_STRING","updateRoutersMap",548],"(",["T_VARIABLE","$module",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$configFile",548],")",";",["T_WHITESPACE","\n                    ",548],"}",["T_WHITESPACE","\n                ",549],"}",["T_WHITESPACE","\n            ",550],"}",["T_WHITESPACE","\n        ",551],"}",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_DOC_COMMENT","\/**\n     * Update routers map for the module basing on the routing config file\n     *\n     * @param string $module\n     * @param string $configFile\n     *\n     * @return void\n     *\/",555],["T_WHITESPACE","\n    ",562],["T_PRIVATE","private",563],["T_WHITESPACE"," ",563],["T_STATIC","static",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","updateRoutersMap",563],"(",["T_VARIABLE","$module",563],",",["T_WHITESPACE"," ",563],["T_VARIABLE","$configFile",563],")",["T_WHITESPACE","\n    ",563],"{",["T_WHITESPACE","\n        ",564],["T_COMMENT","\/\/ Read module's routes.xml file\n",565],["T_WHITESPACE","        ",566],["T_VARIABLE","$config",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_STRING","simplexml_load_file",566],"(",["T_VARIABLE","$configFile",566],")",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$nodes",567],["T_WHITESPACE","  ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$config",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","xpath",567],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/config\/router\/*\"",567],")",";",["T_WHITESPACE","\n        ",567],["T_FOREACH","foreach",568],["T_WHITESPACE"," ",568],"(",["T_VARIABLE","$nodes",568],["T_WHITESPACE"," ",568],["T_AS","as",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$node",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_VARIABLE","$id",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_STRING_CAST","(string)",569],["T_VARIABLE","$node",569],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",569],"]",";",["T_WHITESPACE","\n            ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$id",570],["T_WHITESPACE"," ",570],["T_IS_NOT_EQUAL","!=",570],["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",570],["T_WHITESPACE"," ",570],["T_BOOLEAN_AND","&&",570],["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","''",570],["T_WHITESPACE"," ",570],["T_IS_EQUAL","==",570],["T_WHITESPACE"," ",570],["T_STRING_CAST","(string)",570],["T_VARIABLE","$node",570],"[",["T_CONSTANT_ENCAPSED_STRING","'frontName'",570],"]",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n                ",570],["T_COMMENT","\/\/ Exclude overridden routers\n",571],["T_WHITESPACE","                ",572],["T_CONTINUE","continue",572],";",["T_WHITESPACE","\n            ",572],"}",["T_WHITESPACE","\n            ",573],["T_IF","if",574],["T_WHITESPACE"," ",574],"(","!",["T_ISSET","isset",574],"(",["T_STRING","self",574],["T_DOUBLE_COLON","::",574],["T_VARIABLE","$_mapRouters",574],"[",["T_VARIABLE","$id",574],"]",")",")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n                ",574],["T_STRING","self",575],["T_DOUBLE_COLON","::",575],["T_VARIABLE","$_mapRouters",575],"[",["T_VARIABLE","$id",575],"]",["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],"[","]",";",["T_WHITESPACE","\n            ",575],"}",["T_WHITESPACE","\n            ",576],["T_IF","if",577],["T_WHITESPACE"," ",577],"(","!",["T_STRING","in_array",577],"(",["T_VARIABLE","$module",577],",",["T_WHITESPACE"," ",577],["T_STRING","self",577],["T_DOUBLE_COLON","::",577],["T_VARIABLE","$_mapRouters",577],"[",["T_VARIABLE","$id",577],"]",")",")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n                ",577],["T_STRING","self",578],["T_DOUBLE_COLON","::",578],["T_VARIABLE","$_mapRouters",578],"[",["T_VARIABLE","$id",578],"]","[","]",["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$module",578],";",["T_WHITESPACE","\n            ",578],"}",["T_WHITESPACE","\n        ",579],"}",["T_WHITESPACE","\n    ",580],"}",["T_WHITESPACE","\n\n    ",581],["T_DOC_COMMENT","\/**\n     * Prepare map of layout blocks\n     *\/",583],["T_WHITESPACE","\n    ",585],["T_PROTECTED","protected",586],["T_WHITESPACE"," ",586],["T_STATIC","static",586],["T_WHITESPACE"," ",586],["T_FUNCTION","function",586],["T_WHITESPACE"," ",586],["T_STRING","_prepareMapLayoutBlocks",586],"(",")",["T_WHITESPACE","\n    ",586],"{",["T_WHITESPACE","\n        ",587],["T_VARIABLE","$files",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_STRING","Files",588],["T_DOUBLE_COLON","::",588],["T_STRING","init",588],"(",")",["T_OBJECT_OPERATOR","->",588],["T_STRING","getLayoutFiles",588],"(","[","]",",",["T_WHITESPACE"," ",588],["T_STRING","false",588],")",";",["T_WHITESPACE","\n        ",588],["T_FOREACH","foreach",589],["T_WHITESPACE"," ",589],"(",["T_VARIABLE","$files",589],["T_WHITESPACE"," ",589],["T_AS","as",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$file",589],")",["T_WHITESPACE"," ",589],"{",["T_WHITESPACE","\n            ",589],["T_VARIABLE","$area",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_CONSTANT_ENCAPSED_STRING","'default'",590],";",["T_WHITESPACE","\n            ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_STRING","preg_match",591],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[\\\/](?<area>adminhtml|frontend)[\\\/]\/'",591],",",["T_WHITESPACE"," ",591],["T_VARIABLE","$file",591],",",["T_WHITESPACE"," ",591],["T_VARIABLE","$matches",591],")",")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n                ",591],["T_VARIABLE","$area",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$matches",592],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",592],"]",";",["T_WHITESPACE","\n                ",592],["T_STRING","self",593],["T_DOUBLE_COLON","::",593],["T_VARIABLE","$_mapLayoutBlocks",593],"[",["T_VARIABLE","$area",593],"]",["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],"@","(",["T_STRING","self",593],["T_DOUBLE_COLON","::",593],["T_VARIABLE","$_mapLayoutBlocks",593],"[",["T_VARIABLE","$area",593],"]",["T_WHITESPACE"," ",593],"?",":",["T_WHITESPACE"," ",593],"[","]",")",";",["T_WHITESPACE","\n            ",593],"}",["T_WHITESPACE","\n            ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(",["T_STRING","preg_match",595],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(?<namespace>[A-Z][a-z]+)[_\\\/\\\\\\\\](?<module>[A-Z][a-zA-Z]+)\/'",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$file",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$matches",595],")",")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n                ",595],["T_VARIABLE","$module",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$matches",596],"[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",596],"]",["T_WHITESPACE"," ",596],".",["T_WHITESPACE"," ",596],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",596],["T_WHITESPACE"," ",596],".",["T_WHITESPACE"," ",596],["T_VARIABLE","$matches",596],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",596],"]",";",["T_WHITESPACE","\n                ",596],["T_VARIABLE","$xml",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_STRING","simplexml_load_file",597],"(",["T_VARIABLE","$file",597],")",";",["T_WHITESPACE","\n                ",597],["T_FOREACH","foreach",598],["T_WHITESPACE"," ",598],"(",["T_ARRAY_CAST","(array)",598],["T_VARIABLE","$xml",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","xpath",598],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/container | \/\/block'",598],")",["T_WHITESPACE"," ",598],["T_AS","as",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$element",598],")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n                    ",598],["T_DOC_COMMENT","\/** @var \\SimpleXMLElement $element *\/",599],["T_WHITESPACE","\n                    ",599],["T_VARIABLE","$attributes",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$element",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","attributes",600],"(",")",";",["T_WHITESPACE","\n                    ",600],["T_VARIABLE","$block",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_STRING_CAST","(string)",601],["T_VARIABLE","$attributes",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","name",601],";",["T_WHITESPACE","\n                    ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_EMPTY","empty",602],"(",["T_VARIABLE","$block",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n                        ",602],["T_STRING","self",603],["T_DOUBLE_COLON","::",603],["T_VARIABLE","$_mapLayoutBlocks",603],"[",["T_VARIABLE","$area",603],"]","[",["T_VARIABLE","$block",603],"]",["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],"@","(",["T_STRING","self",603],["T_DOUBLE_COLON","::",603],["T_VARIABLE","$_mapLayoutBlocks",603],"[",["T_VARIABLE","$area",603],"]","[",["T_VARIABLE","$block",603],"]",["T_WHITESPACE"," ",603],"?",":",["T_WHITESPACE"," ",603],"[","]",")",";",["T_WHITESPACE","\n                        ",603],["T_STRING","self",604],["T_DOUBLE_COLON","::",604],["T_VARIABLE","$_mapLayoutBlocks",604],"[",["T_VARIABLE","$area",604],"]","[",["T_VARIABLE","$block",604],"]","[",["T_VARIABLE","$module",604],"]",["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$module",604],";",["T_WHITESPACE","\n                    ",604],"}",["T_WHITESPACE","\n                ",605],"}",["T_WHITESPACE","\n            ",606],"}",["T_WHITESPACE","\n        ",607],"}",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n\n    ",609],["T_DOC_COMMENT","\/**\n     * Prepare map of layout handles\n     *\/",611],["T_WHITESPACE","\n    ",613],["T_PROTECTED","protected",614],["T_WHITESPACE"," ",614],["T_STATIC","static",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","_prepareMapLayoutHandles",614],"(",")",["T_WHITESPACE","\n    ",614],"{",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$files",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_STRING","Files",616],["T_DOUBLE_COLON","::",616],["T_STRING","init",616],"(",")",["T_OBJECT_OPERATOR","->",616],["T_STRING","getLayoutFiles",616],"(","[","]",",",["T_WHITESPACE"," ",616],["T_STRING","false",616],")",";",["T_WHITESPACE","\n        ",616],["T_FOREACH","foreach",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$files",617],["T_WHITESPACE"," ",617],["T_AS","as",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$file",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n            ",617],["T_VARIABLE","$area",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'default'",618],";",["T_WHITESPACE","\n            ",618],["T_IF","if",619],["T_WHITESPACE"," ",619],"(",["T_STRING","preg_match",619],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\\/(?<area>adminhtml|frontend)\\\/\/'",619],",",["T_WHITESPACE"," ",619],["T_VARIABLE","$file",619],",",["T_WHITESPACE"," ",619],["T_VARIABLE","$matches",619],")",")",["T_WHITESPACE"," ",619],"{",["T_WHITESPACE","\n                ",619],["T_VARIABLE","$area",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_VARIABLE","$matches",620],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",620],"]",";",["T_WHITESPACE","\n                ",620],["T_STRING","self",621],["T_DOUBLE_COLON","::",621],["T_VARIABLE","$_mapLayoutHandles",621],"[",["T_VARIABLE","$area",621],"]",["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],"@","(",["T_STRING","self",621],["T_DOUBLE_COLON","::",621],["T_VARIABLE","$_mapLayoutHandles",621],"[",["T_VARIABLE","$area",621],"]",["T_WHITESPACE"," ",621],"?",":",["T_WHITESPACE"," ",621],"[","]",")",";",["T_WHITESPACE","\n            ",621],"}",["T_WHITESPACE","\n            ",622],["T_IF","if",623],["T_WHITESPACE"," ",623],"(",["T_STRING","preg_match",623],"(",["T_CONSTANT_ENCAPSED_STRING","'\/app\\\/code\\\/(?<namespace>[A-Z][a-z]+)[_\\\/\\\\\\\\](?<module>[A-Z][a-zA-Z]+)\/'",623],",",["T_WHITESPACE"," ",623],["T_VARIABLE","$file",623],",",["T_WHITESPACE"," ",623],["T_VARIABLE","$matches",623],")",["T_WHITESPACE","\n            ",623],")",["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n                ",624],["T_VARIABLE","$module",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$matches",625],"[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",625],"]",["T_WHITESPACE"," ",625],".",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",625],["T_WHITESPACE"," ",625],".",["T_WHITESPACE"," ",625],["T_VARIABLE","$matches",625],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",625],"]",";",["T_WHITESPACE","\n                ",625],["T_VARIABLE","$xml",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_STRING","simplexml_load_file",626],"(",["T_VARIABLE","$file",626],")",";",["T_WHITESPACE","\n                ",626],["T_FOREACH","foreach",627],["T_WHITESPACE"," ",627],"(",["T_ARRAY_CAST","(array)",627],["T_VARIABLE","$xml",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","xpath",627],"(",["T_CONSTANT_ENCAPSED_STRING","'\/layout\/child::*'",627],")",["T_WHITESPACE"," ",627],["T_AS","as",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$element",627],")",["T_WHITESPACE"," ",627],"{",["T_WHITESPACE","\n                    ",627],["T_DOC_COMMENT","\/** @var \\SimpleXMLElement $element *\/",628],["T_WHITESPACE","\n                    ",628],["T_VARIABLE","$handle",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_VARIABLE","$element",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getName",629],"(",")",";",["T_WHITESPACE","\n                    ",629],["T_STRING","self",630],["T_DOUBLE_COLON","::",630],["T_VARIABLE","$_mapLayoutHandles",630],"[",["T_VARIABLE","$area",630],"]","[",["T_VARIABLE","$handle",630],"]",["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],"@","(",["T_STRING","self",630],["T_DOUBLE_COLON","::",630],["T_VARIABLE","$_mapLayoutHandles",630],"[",["T_VARIABLE","$area",630],"]","[",["T_VARIABLE","$handle",630],"]",["T_WHITESPACE"," ",630],"?",":",["T_WHITESPACE"," ",630],"[","]",")",";",["T_WHITESPACE","\n                    ",630],["T_STRING","self",631],["T_DOUBLE_COLON","::",631],["T_VARIABLE","$_mapLayoutHandles",631],"[",["T_VARIABLE","$area",631],"]","[",["T_VARIABLE","$handle",631],"]","[",["T_VARIABLE","$module",631],"]",["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_VARIABLE","$module",631],";",["T_WHITESPACE","\n                ",631],"}",["T_WHITESPACE","\n            ",632],"}",["T_WHITESPACE","\n        ",633],"}",["T_WHITESPACE","\n    ",634],"}",["T_WHITESPACE","\n\n    ",635],["T_DOC_COMMENT","\/**\n     * Retrieve dependency types array\n     *\n     * @return array\n     *\/",637],["T_WHITESPACE","\n    ",641],["T_PROTECTED","protected",642],["T_WHITESPACE"," ",642],["T_STATIC","static",642],["T_WHITESPACE"," ",642],["T_FUNCTION","function",642],["T_WHITESPACE"," ",642],["T_STRING","_getTypes",642],"(",")",["T_WHITESPACE","\n    ",642],"{",["T_WHITESPACE","\n        ",643],["T_RETURN","return",644],["T_WHITESPACE"," ",644],"[",["T_STRING","self",644],["T_DOUBLE_COLON","::",644],["T_STRING","TYPE_HARD",644],",",["T_WHITESPACE"," ",644],["T_STRING","self",644],["T_DOUBLE_COLON","::",644],["T_STRING","TYPE_SOFT",644],"]",";",["T_WHITESPACE","\n    ",644],"}",["T_WHITESPACE","\n\n    ",645],["T_DOC_COMMENT","\/**\n     * Converts a composer json component name into the Magento Module form\n     *\n     * @param string $jsonName The name of a composer json component or dependency e.g. 'magento\/module-theme'\n     * @return string The corresponding Magento Module e.g. 'Magento\\Theme'\n     *\/",647],["T_WHITESPACE","\n    ",652],["T_PROTECTED","protected",653],["T_WHITESPACE"," ",653],["T_STATIC","static",653],["T_WHITESPACE"," ",653],["T_FUNCTION","function",653],["T_WHITESPACE"," ",653],["T_STRING","convertModuleName",653],"(",["T_VARIABLE","$jsonName",653],")",["T_WHITESPACE","\n    ",653],"{",["T_WHITESPACE","\n        ",654],["T_IF","if",655],["T_WHITESPACE"," ",655],"(",["T_STRING","strpos",655],"(",["T_VARIABLE","$jsonName",655],",",["T_WHITESPACE"," ",655],["T_CONSTANT_ENCAPSED_STRING","'magento\/module'",655],")",["T_WHITESPACE"," ",655],["T_IS_NOT_IDENTICAL","!==",655],["T_WHITESPACE"," ",655],["T_STRING","false",655],")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n            ",655],["T_VARIABLE","$moduleName",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_STRING","str_replace",656],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",656],",",["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","' '",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$jsonName",656],")",";",["T_WHITESPACE","\n            ",656],["T_VARIABLE","$moduleName",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_STRING","ucwords",657],"(",["T_VARIABLE","$moduleName",657],")",";",["T_WHITESPACE","\n            ",657],["T_VARIABLE","$moduleName",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_STRING","str_replace",658],"(",["T_CONSTANT_ENCAPSED_STRING","'module '",658],",",["T_WHITESPACE"," ",658],["T_CONSTANT_ENCAPSED_STRING","''",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$moduleName",658],")",";",["T_WHITESPACE","\n            ",658],["T_VARIABLE","$moduleName",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_STRING","str_replace",659],"(",["T_CONSTANT_ENCAPSED_STRING","' '",659],",",["T_WHITESPACE"," ",659],["T_CONSTANT_ENCAPSED_STRING","''",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$moduleName",659],")",";",["T_WHITESPACE","\n            ",659],["T_VARIABLE","$moduleName",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_STRING","str_replace",660],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",660],",",["T_WHITESPACE"," ",660],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",660],",",["T_WHITESPACE"," ",660],["T_VARIABLE","$moduleName",660],")",";",["T_WHITESPACE","\n            ",660],["T_RETURN","return",661],["T_WHITESPACE"," ",661],["T_VARIABLE","$moduleName",661],";",["T_WHITESPACE","\n        ",661],"}",["T_WHITESPACE"," ",662],["T_ELSEIF","elseif",662],["T_WHITESPACE"," ",662],"(",["T_STRING","strpos",662],"(",["T_VARIABLE","$jsonName",662],",",["T_WHITESPACE"," ",662],["T_CONSTANT_ENCAPSED_STRING","'magento\/magento'",662],")",["T_WHITESPACE"," ",662],["T_IS_NOT_IDENTICAL","!==",662],["T_WHITESPACE"," ",662],["T_STRING","false",662],["T_WHITESPACE"," ",662],["T_BOOLEAN_OR","||",662],["T_WHITESPACE"," ",662],["T_STRING","strpos",662],"(",["T_VARIABLE","$jsonName",662],",",["T_WHITESPACE"," ",662],["T_CONSTANT_ENCAPSED_STRING","'magento\/framework'",662],")",["T_WHITESPACE"," ",662],["T_IS_NOT_IDENTICAL","!==",662],["T_WHITESPACE"," ",662],["T_STRING","false",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n            ",662],["T_VARIABLE","$moduleName",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_STRING","str_replace",663],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",663],",",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$jsonName",663],")",";",["T_WHITESPACE","\n            ",663],["T_VARIABLE","$moduleName",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_STRING","str_replace",664],"(",["T_CONSTANT_ENCAPSED_STRING","'framework-'",664],",",["T_WHITESPACE"," ",664],["T_CONSTANT_ENCAPSED_STRING","\"Framework\\t\"",664],",",["T_WHITESPACE"," ",664],["T_VARIABLE","$moduleName",664],")",";",["T_WHITESPACE","\n            ",664],["T_VARIABLE","$moduleName",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_STRING","str_replace",665],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",665],",",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","' '",665],",",["T_WHITESPACE"," ",665],["T_VARIABLE","$moduleName",665],")",";",["T_WHITESPACE","\n            ",665],["T_VARIABLE","$moduleName",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_STRING","ucwords",666],"(",["T_VARIABLE","$moduleName",666],")",";",["T_WHITESPACE","\n            ",666],["T_VARIABLE","$moduleName",667],["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_STRING","str_replace",667],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",667],",",["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",667],",",["T_WHITESPACE"," ",667],["T_VARIABLE","$moduleName",667],")",";",["T_WHITESPACE","\n            ",667],["T_VARIABLE","$moduleName",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_STRING","str_replace",668],"(",["T_CONSTANT_ENCAPSED_STRING","' '",668],",",["T_WHITESPACE"," ",668],["T_CONSTANT_ENCAPSED_STRING","''",668],",",["T_WHITESPACE"," ",668],["T_VARIABLE","$moduleName",668],")",";",["T_WHITESPACE","\n            ",668],["T_RETURN","return",669],["T_WHITESPACE"," ",669],["T_VARIABLE","$moduleName",669],";",["T_WHITESPACE","\n        ",669],"}",["T_WHITESPACE","\n        ",670],["T_RETURN","return",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$jsonName",671],";",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n\n    ",672],["T_DOC_COMMENT","\/**\n     * Initialise map of dependencies\n     *\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",674],["T_WHITESPACE","\n    ",679],["T_PROTECTED","protected",680],["T_WHITESPACE"," ",680],["T_STATIC","static",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","_initDependencies",680],"(",")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_VARIABLE","$jsonFiles",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_STRING","Files",682],["T_DOUBLE_COLON","::",682],["T_STRING","init",682],"(",")",["T_OBJECT_OPERATOR","->",682],["T_STRING","getComposerFiles",682],"(",["T_STRING","ComponentRegistrar",682],["T_DOUBLE_COLON","::",682],["T_STRING","MODULE",682],",",["T_WHITESPACE"," ",682],["T_STRING","false",682],")",";",["T_WHITESPACE","\n        ",682],["T_FOREACH","foreach",683],["T_WHITESPACE"," ",683],"(",["T_VARIABLE","$jsonFiles",683],["T_WHITESPACE"," ",683],["T_AS","as",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$file",683],")",["T_WHITESPACE"," ",683],"{",["T_WHITESPACE","\n            ",683],["T_VARIABLE","$contents",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_STRING","file_get_contents",684],"(",["T_VARIABLE","$file",684],")",";",["T_WHITESPACE","\n            ",684],["T_VARIABLE","$decodedJson",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_STRING","json_decode",685],"(",["T_VARIABLE","$contents",685],")",";",["T_WHITESPACE","\n            ",685],["T_IF","if",686],["T_WHITESPACE"," ",686],"(",["T_STRING","null",686],["T_WHITESPACE"," ",686],["T_IS_EQUAL","==",686],["T_WHITESPACE"," ",686],["T_VARIABLE","$decodedJson",686],")",["T_WHITESPACE"," ",686],"{",["T_WHITESPACE","\n                ",686],["T_THROW","throw",687],["T_WHITESPACE"," ",687],["T_NEW","new",687],["T_WHITESPACE"," ",687],["T_NS_SEPARATOR","\\",687],["T_STRING","Exception",687],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid Json: ",687],["T_VARIABLE","$file",687],"\"",")",";",["T_WHITESPACE","\n            ",687],"}",["T_WHITESPACE","\n            ",688],["T_VARIABLE","$json",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_NEW","new",689],["T_WHITESPACE"," ",689],["T_NS_SEPARATOR","\\",689],["T_STRING","Magento",689],["T_NS_SEPARATOR","\\",689],["T_STRING","Framework",689],["T_NS_SEPARATOR","\\",689],["T_STRING","Config",689],["T_NS_SEPARATOR","\\",689],["T_STRING","Composer",689],["T_NS_SEPARATOR","\\",689],["T_STRING","Package",689],"(",["T_STRING","json_decode",689],"(",["T_VARIABLE","$contents",689],")",")",";",["T_WHITESPACE","\n            ",689],["T_VARIABLE","$moduleName",690],["T_WHITESPACE"," ",690],"=",["T_WHITESPACE"," ",690],["T_STRING","self",690],["T_DOUBLE_COLON","::",690],["T_STRING","convertModuleName",690],"(",["T_VARIABLE","$json",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","get",690],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",690],")",")",";",["T_WHITESPACE","\n            ",690],["T_STRING","self",691],["T_DOUBLE_COLON","::",691],["T_VARIABLE","$_mapDependencies",691],"[",["T_VARIABLE","$moduleName",691],"]",["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],"@","(",["T_STRING","self",691],["T_DOUBLE_COLON","::",691],["T_VARIABLE","$_mapDependencies",691],"[",["T_VARIABLE","$moduleName",691],"]",["T_WHITESPACE"," ",691],"?",":",["T_WHITESPACE"," ",691],"[","]",")",";",["T_WHITESPACE","\n\n            ",691],["T_FOREACH","foreach",693],["T_WHITESPACE"," ",693],"(",["T_STRING","self",693],["T_DOUBLE_COLON","::",693],["T_STRING","_getTypes",693],"(",")",["T_WHITESPACE"," ",693],["T_AS","as",693],["T_WHITESPACE"," ",693],["T_VARIABLE","$type",693],")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n                ",693],["T_IF","if",694],["T_WHITESPACE"," ",694],"(","!",["T_ISSET","isset",694],"(",["T_STRING","self",694],["T_DOUBLE_COLON","::",694],["T_VARIABLE","$_mapDependencies",694],"[",["T_VARIABLE","$moduleName",694],"]","[",["T_VARIABLE","$type",694],"]",")",")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n                    ",694],["T_STRING","self",695],["T_DOUBLE_COLON","::",695],["T_VARIABLE","$_mapDependencies",695],"[",["T_VARIABLE","$moduleName",695],"]","[",["T_VARIABLE","$type",695],"]",["T_WHITESPACE"," ",695],"=",["T_WHITESPACE"," ",695],"[",["T_WHITESPACE","\n                        ",695],["T_STRING","self",696],["T_DOUBLE_COLON","::",696],["T_STRING","MAP_TYPE_DECLARED",696],["T_WHITESPACE","  ",696],["T_DOUBLE_ARROW","=>",696],["T_WHITESPACE"," ",696],"[","]",",",["T_WHITESPACE","\n                        ",696],["T_STRING","self",697],["T_DOUBLE_COLON","::",697],["T_STRING","MAP_TYPE_FOUND",697],["T_WHITESPACE","     ",697],["T_DOUBLE_ARROW","=>",697],["T_WHITESPACE"," ",697],"[","]",",",["T_WHITESPACE","\n                        ",697],["T_STRING","self",698],["T_DOUBLE_COLON","::",698],["T_STRING","MAP_TYPE_REDUNDANT",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],"[","]",",",["T_WHITESPACE","\n                    ",698],"]",";",["T_WHITESPACE","\n                ",699],"}",["T_WHITESPACE","\n            ",700],"}",["T_WHITESPACE","\n\n            ",701],["T_VARIABLE","$require",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$json",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","get",703],"(",["T_CONSTANT_ENCAPSED_STRING","'require'",703],")",";",["T_WHITESPACE","\n            ",703],["T_IF","if",704],["T_WHITESPACE"," ",704],"(",["T_ISSET","isset",704],"(",["T_VARIABLE","$require",704],")",["T_WHITESPACE"," ",704],["T_BOOLEAN_AND","&&",704],["T_WHITESPACE"," ",704],"!",["T_EMPTY","empty",704],"(",["T_VARIABLE","$require",704],")",")",["T_WHITESPACE"," ",704],"{",["T_WHITESPACE","\n                ",704],["T_FOREACH","foreach",705],["T_WHITESPACE"," ",705],"(",["T_VARIABLE","$require",705],["T_WHITESPACE"," ",705],["T_AS","as",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$requiredModule",705],["T_WHITESPACE"," ",705],["T_DOUBLE_ARROW","=>",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$version",705],")",["T_WHITESPACE"," ",705],"{",["T_WHITESPACE","\n                    ",705],["T_IF","if",706],["T_WHITESPACE"," ",706],"(",["T_LNUMBER","0",706],["T_WHITESPACE"," ",706],["T_IS_IDENTICAL","===",706],["T_WHITESPACE"," ",706],["T_STRING","strpos",706],"(",["T_VARIABLE","$requiredModule",706],",",["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'magento\/'",706],")",["T_WHITESPACE","\n                        ",706],["T_BOOLEAN_AND","&&",707],["T_WHITESPACE"," ",707],["T_CONSTANT_ENCAPSED_STRING","'magento\/magento-composer-installer'",707],["T_WHITESPACE"," ",707],["T_IS_NOT_EQUAL","!=",707],["T_WHITESPACE"," ",707],["T_VARIABLE","$requiredModule",707],["T_WHITESPACE","\n                    ",707],")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n                        ",708],["T_VARIABLE","$type",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_STRING","self",709],["T_DOUBLE_COLON","::",709],["T_STRING","TYPE_HARD",709],";",["T_WHITESPACE","\n                        ",709],["T_STRING","self",710],["T_DOUBLE_COLON","::",710],["T_STRING","_addDependencies",710],"(",["T_WHITESPACE","\n                            ",710],["T_VARIABLE","$moduleName",711],",",["T_WHITESPACE","\n                            ",711],["T_VARIABLE","$type",712],",",["T_WHITESPACE","\n                            ",712],["T_STRING","self",713],["T_DOUBLE_COLON","::",713],["T_STRING","MAP_TYPE_DECLARED",713],",",["T_WHITESPACE","\n                            ",713],["T_STRING","self",714],["T_DOUBLE_COLON","::",714],["T_STRING","convertModuleName",714],"(",["T_VARIABLE","$requiredModule",714],")",["T_WHITESPACE","\n                        ",714],")",";",["T_WHITESPACE","\n                    ",715],"}",["T_WHITESPACE","\n                ",716],"}",["T_WHITESPACE","\n            ",717],"}",["T_WHITESPACE","\n            ",718],["T_VARIABLE","$suggest",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_VARIABLE","$json",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","get",719],"(",["T_CONSTANT_ENCAPSED_STRING","'suggest'",719],")",";",["T_WHITESPACE","\n            ",719],["T_IF","if",720],["T_WHITESPACE"," ",720],"(",["T_ISSET","isset",720],"(",["T_VARIABLE","$suggest",720],")",["T_WHITESPACE"," ",720],["T_BOOLEAN_AND","&&",720],["T_WHITESPACE"," ",720],"!",["T_EMPTY","empty",720],"(",["T_VARIABLE","$suggest",720],")",")",["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n                ",720],["T_FOREACH","foreach",721],["T_WHITESPACE"," ",721],"(",["T_VARIABLE","$suggest",721],["T_WHITESPACE"," ",721],["T_AS","as",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$requiredModule",721],["T_WHITESPACE"," ",721],["T_DOUBLE_ARROW","=>",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$version",721],")",["T_WHITESPACE"," ",721],"{",["T_WHITESPACE","\n                    ",721],["T_IF","if",722],["T_WHITESPACE"," ",722],"(",["T_LNUMBER","0",722],["T_WHITESPACE"," ",722],["T_IS_IDENTICAL","===",722],["T_WHITESPACE"," ",722],["T_STRING","strpos",722],"(",["T_VARIABLE","$requiredModule",722],",",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'magento\/'",722],")",["T_WHITESPACE","\n                        ",722],["T_BOOLEAN_AND","&&",723],["T_WHITESPACE"," ",723],["T_CONSTANT_ENCAPSED_STRING","'magento\/magento-composer-installer'",723],["T_WHITESPACE"," ",723],["T_IS_NOT_EQUAL","!=",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$requiredModule",723],["T_WHITESPACE","\n                    ",723],")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n                        ",724],["T_VARIABLE","$type",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_STRING","self",725],["T_DOUBLE_COLON","::",725],["T_STRING","TYPE_SOFT",725],";",["T_WHITESPACE","\n                        ",725],["T_STRING","self",726],["T_DOUBLE_COLON","::",726],["T_STRING","_addDependencies",726],"(",["T_WHITESPACE","\n                            ",726],["T_VARIABLE","$moduleName",727],",",["T_WHITESPACE","\n                            ",727],["T_VARIABLE","$type",728],",",["T_WHITESPACE","\n                            ",728],["T_STRING","self",729],["T_DOUBLE_COLON","::",729],["T_STRING","MAP_TYPE_DECLARED",729],",",["T_WHITESPACE","\n                            ",729],["T_STRING","self",730],["T_DOUBLE_COLON","::",730],["T_STRING","convertModuleName",730],"(",["T_VARIABLE","$requiredModule",730],")",["T_WHITESPACE","\n                        ",730],")",";",["T_WHITESPACE","\n                    ",731],"}",["T_WHITESPACE","\n                ",732],"}",["T_WHITESPACE","\n            ",733],"}",["T_WHITESPACE","\n        ",734],"}",["T_WHITESPACE","\n    ",735],"}",["T_WHITESPACE","\n\n    ",736],["T_DOC_COMMENT","\/**\n     * Add dependency map items\n     *\n     * @param $module\n     * @param $type\n     * @param $mapType\n     * @param $dependencies\n     *\/",738],["T_WHITESPACE","\n    ",745],["T_PROTECTED","protected",746],["T_WHITESPACE"," ",746],["T_STATIC","static",746],["T_WHITESPACE"," ",746],["T_FUNCTION","function",746],["T_WHITESPACE"," ",746],["T_STRING","_addDependencies",746],"(",["T_VARIABLE","$module",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$type",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$mapType",746],",",["T_WHITESPACE"," ",746],["T_VARIABLE","$dependencies",746],")",["T_WHITESPACE","\n    ",746],"{",["T_WHITESPACE","\n        ",747],["T_IF","if",748],["T_WHITESPACE"," ",748],"(","!",["T_STRING","is_array",748],"(",["T_VARIABLE","$dependencies",748],")",")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n            ",748],["T_VARIABLE","$dependencies",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],"[",["T_VARIABLE","$dependencies",749],"]",";",["T_WHITESPACE","\n        ",749],"}",["T_WHITESPACE","\n        ",750],["T_FOREACH","foreach",751],["T_WHITESPACE"," ",751],"(",["T_VARIABLE","$dependencies",751],["T_WHITESPACE"," ",751],["T_AS","as",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$dependency",751],")",["T_WHITESPACE"," ",751],"{",["T_WHITESPACE","\n            ",751],["T_IF","if",752],["T_WHITESPACE"," ",752],"(",["T_ISSET","isset",752],"(",["T_STRING","self",752],["T_DOUBLE_COLON","::",752],["T_VARIABLE","$_mapDependencies",752],"[",["T_VARIABLE","$module",752],"]","[",["T_VARIABLE","$type",752],"]","[",["T_VARIABLE","$mapType",752],"]",")",")",["T_WHITESPACE"," ",752],"{",["T_WHITESPACE","\n                ",752],["T_STRING","self",753],["T_DOUBLE_COLON","::",753],["T_VARIABLE","$_mapDependencies",753],"[",["T_VARIABLE","$module",753],"]","[",["T_VARIABLE","$type",753],"]","[",["T_VARIABLE","$mapType",753],"]","[",["T_VARIABLE","$dependency",753],"]",["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_VARIABLE","$dependency",753],";",["T_WHITESPACE","\n            ",753],"}",["T_WHITESPACE","\n        ",754],"}",["T_WHITESPACE","\n    ",755],"}",["T_WHITESPACE","\n\n    ",756],["T_DOC_COMMENT","\/**\n     * Retrieve array of dependency items\n     *\n     * @param $module\n     * @param $type\n     * @param $mapType\n     * @return array\n     *\/",758],["T_WHITESPACE","\n    ",765],["T_PROTECTED","protected",766],["T_WHITESPACE"," ",766],["T_FUNCTION","function",766],["T_WHITESPACE"," ",766],["T_STRING","_getDependencies",766],"(",["T_VARIABLE","$module",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$type",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$mapType",766],")",["T_WHITESPACE","\n    ",766],"{",["T_WHITESPACE","\n        ",767],["T_IF","if",768],["T_WHITESPACE"," ",768],"(",["T_ISSET","isset",768],"(",["T_STRING","self",768],["T_DOUBLE_COLON","::",768],["T_VARIABLE","$_mapDependencies",768],"[",["T_VARIABLE","$module",768],"]","[",["T_VARIABLE","$type",768],"]","[",["T_VARIABLE","$mapType",768],"]",")",")",["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n            ",768],["T_RETURN","return",769],["T_WHITESPACE"," ",769],["T_STRING","self",769],["T_DOUBLE_COLON","::",769],["T_VARIABLE","$_mapDependencies",769],"[",["T_VARIABLE","$module",769],"]","[",["T_VARIABLE","$type",769],"]","[",["T_VARIABLE","$mapType",769],"]",";",["T_WHITESPACE","\n        ",769],"}",["T_WHITESPACE","\n        ",770],["T_RETURN","return",771],["T_WHITESPACE"," ",771],"[","]",";",["T_WHITESPACE","\n    ",771],"}",["T_WHITESPACE","\n\n    ",772],["T_DOC_COMMENT","\/**\n     * Set dependency map items\n     *\n     * @param $module\n     * @param $type\n     * @param $mapType\n     * @param $dependencies\n     *\/",774],["T_WHITESPACE","\n    ",781],["T_PROTECTED","protected",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","_setDependencies",782],"(",["T_VARIABLE","$module",782],",",["T_WHITESPACE"," ",782],["T_VARIABLE","$type",782],",",["T_WHITESPACE"," ",782],["T_VARIABLE","$mapType",782],",",["T_WHITESPACE"," ",782],["T_VARIABLE","$dependencies",782],")",["T_WHITESPACE","\n    ",782],"{",["T_WHITESPACE","\n        ",783],["T_IF","if",784],["T_WHITESPACE"," ",784],"(","!",["T_STRING","is_array",784],"(",["T_VARIABLE","$dependencies",784],")",")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n            ",784],["T_VARIABLE","$dependencies",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],"[",["T_VARIABLE","$dependencies",785],"]",";",["T_WHITESPACE","\n        ",785],"}",["T_WHITESPACE","\n        ",786],["T_IF","if",787],["T_WHITESPACE"," ",787],"(",["T_ISSET","isset",787],"(",["T_STRING","self",787],["T_DOUBLE_COLON","::",787],["T_VARIABLE","$_mapDependencies",787],"[",["T_VARIABLE","$module",787],"]","[",["T_VARIABLE","$type",787],"]","[",["T_VARIABLE","$mapType",787],"]",")",")",["T_WHITESPACE"," ",787],"{",["T_WHITESPACE","\n            ",787],["T_STRING","self",788],["T_DOUBLE_COLON","::",788],["T_VARIABLE","$_mapDependencies",788],"[",["T_VARIABLE","$module",788],"]","[",["T_VARIABLE","$type",788],"]","[",["T_VARIABLE","$mapType",788],"]",["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_VARIABLE","$dependencies",788],";",["T_WHITESPACE","\n        ",788],"}",["T_WHITESPACE","\n    ",789],"}",["T_WHITESPACE","\n\n    ",790],["T_DOC_COMMENT","\/**\n     * Check if module is fake\n     *\n     * @param $module\n     * @return bool\n     *\/",792],["T_WHITESPACE","\n    ",797],["T_PROTECTED","protected",798],["T_WHITESPACE"," ",798],["T_FUNCTION","function",798],["T_WHITESPACE"," ",798],["T_STRING","_isFake",798],"(",["T_VARIABLE","$module",798],")",["T_WHITESPACE","\n    ",798],"{",["T_WHITESPACE","\n        ",799],["T_RETURN","return",800],["T_WHITESPACE"," ",800],["T_ISSET","isset",800],"(",["T_STRING","self",800],["T_DOUBLE_COLON","::",800],["T_VARIABLE","$_mapDependencies",800],"[",["T_VARIABLE","$module",800],"]",")",["T_WHITESPACE"," ",800],"?",["T_WHITESPACE"," ",800],["T_STRING","false",800],["T_WHITESPACE"," ",800],":",["T_WHITESPACE"," ",800],["T_STRING","true",800],";",["T_WHITESPACE","\n    ",800],"}",["T_WHITESPACE","\n",801],"}",["T_WHITESPACE","\n",802]]