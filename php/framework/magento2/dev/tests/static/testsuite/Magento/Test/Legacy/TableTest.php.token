[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Coverage of obsolete table names usage\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Legacy",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Utility",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Files",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","TableTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","testTableName",16],"(",")",["T_WHITESPACE","\n    ",16],"{",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$invoker",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_NEW","new",18],["T_WHITESPACE"," ",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Framework",18],["T_NS_SEPARATOR","\\",18],["T_STRING","App",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Utility",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AggregateInvoker",18],"(",["T_VARIABLE","$this",18],")",";",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$invoker",19],"(",["T_WHITESPACE","\n            ",19],["T_DOC_COMMENT","\/**\n             * @param string $filePath\n             *\/",20],["T_WHITESPACE","\n            ",22],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],"(",["T_VARIABLE","$filePath",23],")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n                ",23],["T_VARIABLE","$tables",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","self",24],["T_DOUBLE_COLON","::",24],["T_STRING","extractTables",24],"(",["T_VARIABLE","$filePath",24],")",";",["T_WHITESPACE","\n                ",24],["T_VARIABLE","$legacyTables",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[","]",";",["T_WHITESPACE","\n                ",25],["T_FOREACH","foreach",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$tables",26],["T_WHITESPACE"," ",26],["T_AS","as",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$table",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n                    ",26],["T_VARIABLE","$tableName",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$table",27],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",27],"]",";",["T_WHITESPACE","\n                    ",27],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_STRING","strpos",28],"(",["T_VARIABLE","$tableName",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'\/'",28],")",["T_WHITESPACE"," ",28],["T_IS_IDENTICAL","===",28],["T_WHITESPACE"," ",28],["T_STRING","false",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n                        ",28],["T_CONTINUE","continue",29],";",["T_WHITESPACE","\n                    ",29],"}",["T_WHITESPACE","\n                    ",30],["T_VARIABLE","$legacyTables",31],"[","]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$table",31],";",["T_WHITESPACE","\n                ",31],"}",["T_WHITESPACE","\n\n                ",32],["T_VARIABLE","$message",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","_composeFoundsMessage",34],"(",["T_VARIABLE","$legacyTables",34],")",";",["T_WHITESPACE","\n                ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertEmpty",35],"(",["T_VARIABLE","$message",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$message",35],")",";",["T_WHITESPACE","\n            ",35],"}",",",["T_WHITESPACE","\n            ",36],["T_STRING","Files",37],["T_DOUBLE_COLON","::",37],["T_STRING","init",37],"(",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getPhpFiles",37],"(",["T_WHITESPACE","\n                ",37],["T_STRING","Files",38],["T_DOUBLE_COLON","::",38],["T_STRING","INCLUDE_APP_CODE",38],["T_WHITESPACE","\n                ",38],"|",["T_WHITESPACE"," ",39],["T_STRING","Files",39],["T_DOUBLE_COLON","::",39],["T_STRING","INCLUDE_PUB_CODE",39],["T_WHITESPACE","\n                ",39],"|",["T_WHITESPACE"," ",40],["T_STRING","Files",40],["T_DOUBLE_COLON","::",40],["T_STRING","INCLUDE_LIBS",40],["T_WHITESPACE","\n                ",40],"|",["T_WHITESPACE"," ",41],["T_STRING","Files",41],["T_DOUBLE_COLON","::",41],["T_STRING","INCLUDE_TEMPLATES",41],["T_WHITESPACE","\n                ",41],"|",["T_WHITESPACE"," ",42],["T_STRING","Files",42],["T_DOUBLE_COLON","::",42],["T_STRING","AS_DATA_SET",42],["T_WHITESPACE","\n                ",42],"|",["T_WHITESPACE"," ",43],["T_STRING","Files",43],["T_DOUBLE_COLON","::",43],["T_STRING","INCLUDE_NON_CLASSES",43],["T_WHITESPACE","\n            ",43],")",["T_WHITESPACE","\n        ",44],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Returns found table names in a file\n     *\n     * @param  string $filePath\n     * @return array\n     *\/",48],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_STATIC","static",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","extractTables",54],"(",["T_VARIABLE","$filePath",54],")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$regexpMethods",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'_getRegexpTableInMethods'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'_getRegexpTableInArrays'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'_getRegexpTableInProperties'",56],"]",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[","]",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$content",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","file_get_contents",59],"(",["T_VARIABLE","$filePath",59],")",";",["T_WHITESPACE","\n        ",59],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$regexpMethods",60],["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$method",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$regexp",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","self",61],["T_DOUBLE_COLON","::",61],["T_VARIABLE","$method",61],"(",["T_VARIABLE","$filePath",61],")",";",["T_WHITESPACE","\n            ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_STRING","preg_match_all",62],"(",["T_VARIABLE","$regexp",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$content",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$matches",62],",",["T_WHITESPACE"," ",62],["T_STRING","PREG_SET_ORDER",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_CONTINUE","continue",63],";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n\n            ",64],["T_VARIABLE","$iterationResult",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","self",66],["T_DOUBLE_COLON","::",66],["T_STRING","_matchesToInformation",66],"(",["T_VARIABLE","$content",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$matches",66],")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$result",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","array_merge",67],"(",["T_VARIABLE","$result",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$iterationResult",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$result",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Returns regexp to find table names in method calls in a file\n     *\n     * @param  string $filePath\n     * @return string\n     *\/",72],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_STATIC","static",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","_getRegexpTableInMethods",78],"(",["T_VARIABLE","$filePath",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$methods",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'getTableName'",81],",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'_setMainTable'",82],",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'setMainTable'",83],",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'getTable'",84],",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'setTable'",85],",",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'getTableRow'",86],",",["T_WHITESPACE","\n            ",86],["T_CONSTANT_ENCAPSED_STRING","'deleteTableRow'",87],",",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'updateTableRow'",88],",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'updateTable'",89],",",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'tableExists'",90],",",["T_WHITESPACE","\n            ",90],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'joinField'",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'param_index'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_LNUMBER","1",91],"]",",",["T_WHITESPACE","\n            ",91],["T_CONSTANT_ENCAPSED_STRING","'joinTable'",92],",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'getFkName'",93],",",["T_WHITESPACE","\n            ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'getFkName'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'param_index'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_LNUMBER","2",94],"]",",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'getIdxName'",95],",",["T_WHITESPACE","\n            ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'addVirtualGridColumn'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'param_index'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_LNUMBER","1",96],"]",",",["T_WHITESPACE","\n        ",96],"]",";",["T_WHITESPACE","\n\n        ",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","self",99],["T_DOUBLE_COLON","::",99],["T_STRING","_isResourceButNotCollection",99],"(",["T_VARIABLE","$filePath",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$methods",100],"[","]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'_init'",100],";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$regexps",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[","]",";",["T_WHITESPACE","\n        ",103],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$methods",104],["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$method",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$regexps",105],"[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","self",105],["T_DOUBLE_COLON","::",105],["T_STRING","_composeRegexpForMethod",105],"(",["T_VARIABLE","$method",105],")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$result",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'#->\\s*('",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_STRING","implode",107],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$regexps",107],")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","')#'",107],";",["T_WHITESPACE","\n\n        ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$result",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * @param  string $filePath\n     * @return bool\n     *\/",112],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_STATIC","static",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","_isResourceButNotCollection",116],"(",["T_VARIABLE","$filePath",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$filePath",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","str_replace",118],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'\/'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$filePath",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$parts",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","explode",119],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$filePath",119],")",";",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_STRING","array_search",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Resource'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$parts",120],")",["T_WHITESPACE"," ",120],["T_IS_NOT_IDENTICAL","!==",120],["T_WHITESPACE"," ",120],["T_STRING","false",120],["T_WHITESPACE"," ",120],["T_BOOLEAN_AND","&&",120],["T_WHITESPACE"," ",120],["T_STRING","array_search",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Collection.php'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$parts",120],")",["T_WHITESPACE"," ",120],["T_IS_IDENTICAL","===",120],["T_WHITESPACE"," ",120],["T_STRING","false",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Returns regular expression to find legacy method calls with table in it\n     *\n     * @param  string|array $method Method name, or array with method name and index of table parameter in signature\n     * @return string\n     *\/",123],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_STATIC","static",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","_composeRegexpForMethod",129],"(",["T_VARIABLE","$method",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_STRING","is_array",131],"(",["T_VARIABLE","$method",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$method",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$method",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'param_index'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","0",132],"]",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$method",135],"[",["T_CONSTANT_ENCAPSED_STRING","'param_index'",135],"]",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$skipParamsRegexp",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'\\s*[[:alnum:]$_\\'\"]+\\s*,'",136],";",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$skipParamsRegexp",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","str_repeat",137],"(",["T_VARIABLE","$skipParamsRegexp",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$method",137],"[",["T_CONSTANT_ENCAPSED_STRING","'param_index'",137],"]",")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE"," ",138],["T_ELSE","else",138],["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$skipParamsRegexp",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$result",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$method",142],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",142],"]",["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\\('",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_VARIABLE","$skipParamsRegexp",142],["T_WHITESPACE"," ",142],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'\\s*[\\'\"]([^\\'\"]+)'",142],";",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$result",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Returns regexp to find table names in array definitions\n     *\n     * @param  string $filePath\n     * @return string\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",146],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_STATIC","static",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","_getRegexpTableInArrays",153],"(",["T_VARIABLE","$filePath",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'\/[\\'\"](?:[a-z\\d_]+_)?table[\\'\"]\\s*=>\\s*[\\'\"]([^\\'\"]+)\/'",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Returns regexp to find table names in property assignments\n     *\n     * @param  string $filePath\n     * @return string\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",158],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_STATIC","static",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","_getRegexpTableInProperties",165],"(",["T_VARIABLE","$filePath",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$properties",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],"[",["T_CONSTANT_ENCAPSED_STRING","'_aggregationTable'",167],"]",";",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$regexps",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n        ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$properties",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$property",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$regexps",171],"[","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$property",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'\\s*=\\s*[\\'\"]([^\\'\"]+)'",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$result",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'#'",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_STRING","implode",173],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$regexps",173],")",["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'#'",173],";",["T_WHITESPACE","\n\n        ",173],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$result",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Converts regexp matches to information, understandable by human: extracts legacy table name and line,\n     * where it was found\n     *\n     * @param  string $content\n     * @param  array $matches\n     * @return array\n     *\/",178],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_STATIC","static",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","_matchesToInformation",186],"(",["T_VARIABLE","$content",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$matches",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$result",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],"[","]",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$fromPos",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_LNUMBER","0",189],";",["T_WHITESPACE","\n        ",189],["T_FOREACH","foreach",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$matches",190],["T_WHITESPACE"," ",190],["T_AS","as",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$match",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$pos",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","strpos",191],"(",["T_VARIABLE","$content",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$match",191],"[",["T_LNUMBER","0",191],"]",",",["T_WHITESPACE"," ",191],["T_VARIABLE","$fromPos",191],")",";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$lineNum",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","substr_count",192],"(",["T_VARIABLE","$content",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",192],",",["T_WHITESPACE"," ",192],["T_LNUMBER","0",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$pos",192],")",["T_WHITESPACE"," ",192],"+",["T_WHITESPACE"," ",192],["T_LNUMBER","1",192],";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$result",193],"[","]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$match",193],"[",["T_STRING","count",193],"(",["T_VARIABLE","$match",193],")",["T_WHITESPACE"," ",193],"-",["T_WHITESPACE"," ",193],["T_LNUMBER","1",193],"]",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'line'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$lineNum",193],"]",";",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$fromPos",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$pos",194],["T_WHITESPACE"," ",194],"+",["T_WHITESPACE"," ",194],["T_LNUMBER","1",194],";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$result",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Composes information message based on list of legacy tables, found in a file\n     *\n     * @param  array $legacyTables\n     * @return null|string\n     *\/",199],["T_WHITESPACE","\n    ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","_composeFoundsMessage",205],"(",["T_VARIABLE","$legacyTables",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$legacyTables",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_STRING","null",208],";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$descriptions",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[","]",";",["T_WHITESPACE","\n        ",211],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$legacyTables",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$legacyTable",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$descriptions",213],"[","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],"\"",["T_CURLY_OPEN","{",213],["T_VARIABLE","$legacyTable",213],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",213],"]","}",["T_ENCAPSED_AND_WHITESPACE"," (line ",213],["T_CURLY_OPEN","{",213],["T_VARIABLE","$legacyTable",213],"[",["T_CONSTANT_ENCAPSED_STRING","'line'",213],"]","}",["T_ENCAPSED_AND_WHITESPACE",")",213],"\"",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$result",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'Legacy table names with slash must be fixed to direct table names. Found: '",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_STRING","implode",216],"(",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","', '",217],",",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$descriptions",218],["T_WHITESPACE","\n        ",218],")",["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'.'",219],";",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$result",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n",221],"}",["T_WHITESPACE","\n",222]]