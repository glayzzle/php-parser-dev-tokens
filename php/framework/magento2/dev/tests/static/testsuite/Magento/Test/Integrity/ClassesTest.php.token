[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Scan source code for references to classes and see if they indeed exist\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Integrity",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","App",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Utility",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Classes",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ComponentRegistrar",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","App",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Utility",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Files",12],";",["T_WHITESPACE","\n\n",12],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ClassesTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * List of already found classes to avoid checking them over and over again\n     *\n     * @var array\n     *\/",16],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_existingClasses",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[","]",";",["T_WHITESPACE","\n\n    ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_keywordsBlacklist",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","\"String\"",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\"Array\"",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\"Boolean\"",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\"Element\"",23],"]",";",["T_WHITESPACE","\n\n    ",23],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_namespaceBlacklist",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","null",25],";",["T_WHITESPACE","\n\n    ",25],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_referenceBlackList",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","null",27],";",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testPhpFiles",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$invoker",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Framework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","App",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Utility",31],["T_NS_SEPARATOR","\\",31],["T_STRING","AggregateInvoker",31],"(",["T_VARIABLE","$this",31],")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$invoker",32],"(",["T_WHITESPACE","\n            ",32],["T_DOC_COMMENT","\/**\n             * @param string $file\n             *\/",33],["T_WHITESPACE","\n            ",35],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$file",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n                ",36],["T_VARIABLE","$contents",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","file_get_contents",37],"(",["T_VARIABLE","$file",37],")",";",["T_WHITESPACE","\n                ",37],["T_VARIABLE","$classes",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","Classes",38],["T_DOUBLE_COLON","::",38],["T_STRING","getAllMatches",38],"(",["T_WHITESPACE","\n                    ",38],["T_VARIABLE","$contents",39],",",["T_WHITESPACE","\n                    ",39],["T_CONSTANT_ENCAPSED_STRING","'\/\n                # ::getResourceModel ::getBlockSingleton ::getModel ::getSingleton\n                \\:\\:get(?:ResourceModel | BlockSingleton | Model | Singleton)?\\(\\s*[\\'\"]([a-z\\d\\\\\\\\]+)[\\'\"]\\s*[\\),]\n\n                # various methods, first argument\n                | \\->(?:initReport | addBlock | createBlock\n                    | setAttributeModel | setBackendModel | setFrontendModel | setSourceModel | setModel\n                )\\(\\s*\\'([a-z\\d\\\\\\\\]+)\\'\\s*[\\),]\n\n                # various methods, second argument\n                | \\->add(?:ProductConfigurationHelper | OptionsRenderCfg)\\(.+?,\\s*\\'([a-z\\d\\\\\\\\]+)\\'\\s*[\\),]\n\n                # \\Mage::helper ->helper\n                | (?:Mage\\:\\:|\\->)helper\\(\\s*\\'([a-z\\d\\\\\\\\]+)\\'\\s*\\)\n\n                # misc\n                | function\\s_getCollectionClass\\(\\)\\s+{\\s+return\\s+[\\'\"]([a-z\\d\\\\\\\\]+)[\\'\"]\n                | \\'resource_model\\'\\s*=>\\s*[\\'\"]([a-z\\d\\\\\\\\]+)[\\'\"]\n                | (?:_parentResourceModelName | _checkoutType | _apiType)\\s*=\\s*\\'([a-z\\d\\\\\\\\]+)\\'\n                | \\'renderer\\'\\s*=>\\s*\\'([a-z\\d\\\\\\\\]+)\\'\n                \/ix'",40],["T_WHITESPACE","\n                ",60],")",";",["T_WHITESPACE","\n\n                ",61],["T_COMMENT","\/\/ without modifier \"i\". Starting from capital letter is a significant characteristic of a class name\n",63],["T_WHITESPACE","                ",64],["T_STRING","Classes",64],["T_DOUBLE_COLON","::",64],["T_STRING","getAllMatches",64],"(",["T_WHITESPACE","\n                    ",64],["T_VARIABLE","$contents",65],",",["T_WHITESPACE","\n                    ",65],["T_CONSTANT_ENCAPSED_STRING","'\/(?:\\-> | parent\\:\\:)(?:_init | setType)\\(\\s*\n                    \\'([A-Z][a-z\\d][A-Za-z\\d\\\\\\\\]+)\\'(?:,\\s*\\'([A-Z][a-z\\d][A-Za-z\\d\\\\\\\\]+)\\')\n                    \\s*\\)\/x'",66],",",["T_WHITESPACE","\n                    ",68],["T_VARIABLE","$classes",69],["T_WHITESPACE","\n                ",69],")",";",["T_WHITESPACE","\n\n                ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_collectResourceHelpersPhp",72],"(",["T_VARIABLE","$contents",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$classes",72],")",";",["T_WHITESPACE","\n\n                ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_assertClassesExist",74],"(",["T_VARIABLE","$classes",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$file",74],")",";",["T_WHITESPACE","\n            ",74],"}",",",["T_WHITESPACE","\n            ",75],["T_STRING","Files",76],["T_DOUBLE_COLON","::",76],["T_STRING","init",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getPhpFiles",76],"(",["T_WHITESPACE","\n                ",76],["T_STRING","Files",77],["T_DOUBLE_COLON","::",77],["T_STRING","INCLUDE_APP_CODE",77],["T_WHITESPACE","\n                ",77],"|",["T_WHITESPACE"," ",78],["T_STRING","Files",78],["T_DOUBLE_COLON","::",78],["T_STRING","INCLUDE_PUB_CODE",78],["T_WHITESPACE","\n                ",78],"|",["T_WHITESPACE"," ",79],["T_STRING","Files",79],["T_DOUBLE_COLON","::",79],["T_STRING","INCLUDE_LIBS",79],["T_WHITESPACE","\n                ",79],"|",["T_WHITESPACE"," ",80],["T_STRING","Files",80],["T_DOUBLE_COLON","::",80],["T_STRING","INCLUDE_TEMPLATES",80],["T_WHITESPACE","\n                ",80],"|",["T_WHITESPACE"," ",81],["T_STRING","Files",81],["T_DOUBLE_COLON","::",81],["T_STRING","AS_DATA_SET",81],["T_WHITESPACE","\n                ",81],"|",["T_WHITESPACE"," ",82],["T_STRING","Files",82],["T_DOUBLE_COLON","::",82],["T_STRING","INCLUDE_NON_CLASSES",82],["T_WHITESPACE","\n            ",82],")",["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Special case: collect resource helper references in PHP-code\n     *\n     * @param string $contents\n     * @param array &$classes\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","_collectResourceHelpersPhp",93],"(",["T_VARIABLE","$contents",93],",",["T_WHITESPACE"," ",93],"&",["T_VARIABLE","$classes",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$regex",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'\/(?:\\:\\:|\\->)getResourceHelper\\(\\s*\\'([a-z\\d\\\\\\\\]+)\\'\\s*\\)\/ix'",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$matches",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","Classes",96],["T_DOUBLE_COLON","::",96],["T_STRING","getAllMatches",96],"(",["T_VARIABLE","$contents",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$regex",96],")",";",["T_WHITESPACE","\n        ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$matches",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$moduleName",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$classes",98],"[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"\"",["T_CURLY_OPEN","{",98],["T_VARIABLE","$moduleName",98],"}",["T_ENCAPSED_AND_WHITESPACE","\\\\Model\\\\ResourceModel\\\\Helper\\\\Mysql4",98],"\"",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","testConfigFiles",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$invoker",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Framework",104],["T_NS_SEPARATOR","\\",104],["T_STRING","App",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Utility",104],["T_NS_SEPARATOR","\\",104],["T_STRING","AggregateInvoker",104],"(",["T_VARIABLE","$this",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$invoker",105],"(",["T_WHITESPACE","\n            ",105],["T_DOC_COMMENT","\/**\n             * @param string $path\n             *\/",106],["T_WHITESPACE","\n            ",108],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$path",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$classes",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Classes",110],["T_DOUBLE_COLON","::",110],["T_STRING","collectClassesInConfig",110],"(",["T_STRING","simplexml_load_file",110],"(",["T_VARIABLE","$path",110],")",")",";",["T_WHITESPACE","\n                ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_assertClassesExist",111],"(",["T_VARIABLE","$classes",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$path",111],")",";",["T_WHITESPACE","\n            ",111],"}",",",["T_WHITESPACE","\n            ",112],["T_STRING","Files",113],["T_DOUBLE_COLON","::",113],["T_STRING","init",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getMainConfigFiles",113],"(",")",["T_WHITESPACE","\n        ",113],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","testLayoutFiles",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$invoker",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Magento",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Framework",119],["T_NS_SEPARATOR","\\",119],["T_STRING","App",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Utility",119],["T_NS_SEPARATOR","\\",119],["T_STRING","AggregateInvoker",119],"(",["T_VARIABLE","$this",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$invoker",120],"(",["T_WHITESPACE","\n            ",120],["T_DOC_COMMENT","\/**\n             * @param string $path\n             *\/",121],["T_WHITESPACE","\n            ",123],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$path",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$xml",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","simplexml_load_file",125],"(",["T_VARIABLE","$path",125],")",";",["T_WHITESPACE","\n\n                ",125],["T_VARIABLE","$classes",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","Classes",127],["T_DOUBLE_COLON","::",127],["T_STRING","getXmlNodeValues",127],"(",["T_WHITESPACE","\n                    ",127],["T_VARIABLE","$xml",128],",",["T_WHITESPACE","\n                    ",128],["T_CONSTANT_ENCAPSED_STRING","'\/layout\/\/*[contains(text(), \"\\\\\\\\Block\\\\\\\\\") or contains(text(),\n                        \"\\\\\\\\Model\\\\\\\\\") or contains(text(), \"\\\\\\\\Helper\\\\\\\\\")]'",129],["T_WHITESPACE","\n                ",130],")",";",["T_WHITESPACE","\n                ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_STRING","Classes",132],["T_DOUBLE_COLON","::",132],["T_STRING","getXmlAttributeValues",132],"(",["T_WHITESPACE","\n                    ",132],["T_VARIABLE","$xml",133],",",["T_WHITESPACE","\n                    ",133],["T_CONSTANT_ENCAPSED_STRING","'\/layout\/\/@helper'",134],",",["T_WHITESPACE","\n                    ",134],["T_CONSTANT_ENCAPSED_STRING","'helper'",135],["T_WHITESPACE","\n                ",135],")",["T_WHITESPACE"," ",136],["T_AS","as",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$class",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$classes",137],"[","]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","Classes",137],["T_DOUBLE_COLON","::",137],["T_STRING","getCallbackClass",137],"(",["T_VARIABLE","$class",137],")",";",["T_WHITESPACE","\n                ",137],"}",["T_WHITESPACE","\n                ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_STRING","Classes",139],["T_DOUBLE_COLON","::",139],["T_STRING","getXmlAttributeValues",139],"(",["T_WHITESPACE","\n                    ",139],["T_VARIABLE","$xml",140],",",["T_WHITESPACE","\n                    ",140],["T_CONSTANT_ENCAPSED_STRING","'\/layout\/\/@module'",141],",",["T_WHITESPACE","\n                    ",141],["T_CONSTANT_ENCAPSED_STRING","'module'",142],["T_WHITESPACE","\n                ",142],")",["T_WHITESPACE"," ",143],["T_AS","as",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$module",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$classes",144],"[","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","str_replace",144],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",144],",",["T_WHITESPACE"," ",144],"\"",["T_CURLY_OPEN","{",144],["T_VARIABLE","$module",144],"}",["T_ENCAPSED_AND_WHITESPACE","_Helper_Data",144],"\"",")",";",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$classes",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","array_merge",146],"(",["T_VARIABLE","$classes",146],",",["T_WHITESPACE"," ",146],["T_STRING","Classes",146],["T_DOUBLE_COLON","::",146],["T_STRING","collectLayoutClasses",146],"(",["T_VARIABLE","$xml",146],")",")",";",["T_WHITESPACE","\n\n                ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_assertClassesExist",148],"(",["T_STRING","array_unique",148],"(",["T_VARIABLE","$classes",148],")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$path",148],")",";",["T_WHITESPACE","\n            ",148],"}",",",["T_WHITESPACE","\n            ",149],["T_STRING","Files",150],["T_DOUBLE_COLON","::",150],["T_STRING","init",150],"(",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","getLayoutFiles",150],"(",")",["T_WHITESPACE","\n        ",150],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Check whether specified classes correspond to a file according PSR-0 standard\n     *\n     * Cyclomatic complexity is because of temporary marking test as incomplete\n     * Suppressing \"unused variable\" because of the \"catch\" block\n     *\n     * @param array $classes\n     * @SuppressWarnings(PHPMD.CyclomaticComplexity)\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",154],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","_assertClassesExist",164],"(",["T_VARIABLE","$classes",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$path",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(","!",["T_VARIABLE","$classes",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_RETURN","return",167],";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$badClasses",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"[","]",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$badUsages",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],"[","]",";",["T_WHITESPACE","\n        ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$classes",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$class",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$class",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","trim",172],"(",["T_VARIABLE","$class",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",172],")",";",["T_WHITESPACE","\n            ",172],["T_TRY","try",173],["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_STRING","strrchr",174],"(",["T_VARIABLE","$class",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",174],")",["T_WHITESPACE"," ",174],["T_IS_IDENTICAL","===",174],["T_WHITESPACE"," ",174],["T_STRING","false",174],["T_WHITESPACE"," ",174],["T_LOGICAL_AND","and",174],["T_WHITESPACE"," ",174],"!",["T_STRING","Classes",174],["T_DOUBLE_COLON","::",174],["T_STRING","isVirtual",174],"(",["T_VARIABLE","$class",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$badUsages",175],"[","]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$class",175],";",["T_WHITESPACE","\n                    ",175],["T_CONTINUE","continue",176],";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE"," ",177],["T_ELSE","else",177],["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertTrue",178],"(",["T_WHITESPACE","\n                        ",178],["T_ISSET","isset",179],"(",["T_WHITESPACE","\n                            ",179],["T_STRING","self",180],["T_DOUBLE_COLON","::",180],["T_VARIABLE","$_existingClasses",180],"[",["T_VARIABLE","$class",180],"]",["T_WHITESPACE","\n                        ",180],")",["T_WHITESPACE"," ",181],["T_BOOLEAN_OR","||",181],["T_WHITESPACE"," ",181],["T_STRING","Files",181],["T_DOUBLE_COLON","::",181],["T_STRING","init",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","classFileExists",181],"(",["T_WHITESPACE","\n                            ",181],["T_VARIABLE","$class",182],["T_WHITESPACE","\n                        ",182],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_OR","||",183],["T_WHITESPACE"," ",183],["T_STRING","Classes",183],["T_DOUBLE_COLON","::",183],["T_STRING","isVirtual",183],"(",["T_WHITESPACE","\n                            ",183],["T_VARIABLE","$class",184],["T_WHITESPACE","\n                        ",184],")",["T_WHITESPACE"," ",185],["T_BOOLEAN_OR","||",185],["T_WHITESPACE"," ",185],["T_STRING","Classes",185],["T_DOUBLE_COLON","::",185],["T_STRING","isAutogenerated",185],"(",["T_WHITESPACE","\n                            ",185],["T_VARIABLE","$class",186],["T_WHITESPACE","\n                        ",186],")",["T_WHITESPACE","\n                    ",187],")",";",["T_WHITESPACE","\n                ",188],"}",["T_WHITESPACE","\n                ",189],["T_STRING","self",190],["T_DOUBLE_COLON","::",190],["T_VARIABLE","$_existingClasses",190],"[",["T_VARIABLE","$class",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_LNUMBER","1",190],";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE"," ",191],["T_CATCH","catch",191],["T_WHITESPACE"," ",191],"(",["T_NS_SEPARATOR","\\",191],["T_STRING","PHPUnit_Framework_AssertionFailedError",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$e",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$badClasses",192],"[","]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$class",192],";",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$badClasses",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","fail",196],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Files not found for following usages in ",196],["T_CURLY_OPEN","{",196],["T_VARIABLE","$path",196],"}",["T_ENCAPSED_AND_WHITESPACE",":\\n",196],"\"",["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_STRING","implode",196],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$badClasses",196],")",")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$badUsages",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","fail",199],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Bad usages of classes in ",199],["T_CURLY_OPEN","{",199],["T_VARIABLE","$path",199],"}",["T_ENCAPSED_AND_WHITESPACE",": \\n",199],"\"",["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_STRING","implode",199],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$badUsages",199],")",")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testClassNamespaces",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$invoker",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Framework",205],["T_NS_SEPARATOR","\\",205],["T_STRING","App",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Utility",205],["T_NS_SEPARATOR","\\",205],["T_STRING","AggregateInvoker",205],"(",["T_VARIABLE","$this",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$invoker",206],"(",["T_WHITESPACE","\n            ",206],["T_DOC_COMMENT","\/**\n             * Assert PHP classes have valid formal namespaces according to file locations\n             *\n             * @param array $file\n             *\/",207],["T_WHITESPACE","\n            ",211],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$file",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$relativePath",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","str_replace",213],"(",["T_STRING","BP",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","\"\"",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$file",213],")",";",["T_WHITESPACE","\n                ",213],["T_COMMENT","\/\/ exceptions made for fixture files from tests\n",214],["T_WHITESPACE","                ",215],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_STRING","strpos",215],"(",["T_VARIABLE","$relativePath",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/'",215],")",["T_WHITESPACE"," ",215],["T_IS_NOT_IDENTICAL","!==",215],["T_WHITESPACE"," ",215],["T_STRING","false",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                    ",215],["T_RETURN","return",216],";",["T_WHITESPACE","\n                ",216],"}",["T_WHITESPACE","\n\n                ",217],["T_VARIABLE","$contents",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","file_get_contents",219],"(",["T_VARIABLE","$file",219],")",";",["T_WHITESPACE","\n\n                ",219],["T_VARIABLE","$classPattern",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'\/^(abstract\\s)?class\\s[A-Z][^\\s\\\/]+\/m'",221],";",["T_WHITESPACE","\n\n                ",221],["T_VARIABLE","$classNameMatch",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],"[","]",";",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$className",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","null",224],";",["T_WHITESPACE","\n\n                ",224],["T_COMMENT","\/\/ if no class declaration found for $file, then skip this file\n",226],["T_WHITESPACE","                ",227],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_STRING","preg_match",227],"(",["T_VARIABLE","$classPattern",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$contents",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$classNameMatch",227],")",["T_WHITESPACE"," ",227],["T_IS_EQUAL","==",227],["T_WHITESPACE"," ",227],["T_LNUMBER","0",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                    ",227],["T_RETURN","return",228],";",["T_WHITESPACE","\n                ",228],"}",["T_WHITESPACE","\n\n                ",229],["T_VARIABLE","$classParts",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","explode",231],"(",["T_CONSTANT_ENCAPSED_STRING","' '",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$classNameMatch",231],"[",["T_LNUMBER","0",231],"]",")",";",["T_WHITESPACE","\n                ",231],["T_VARIABLE","$className",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","array_pop",232],"(",["T_VARIABLE","$classParts",232],")",";",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_assertClassNamespace",233],"(",["T_VARIABLE","$file",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$relativePath",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$contents",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$className",233],")",";",["T_WHITESPACE","\n            ",233],"}",",",["T_WHITESPACE","\n            ",234],["T_STRING","Files",235],["T_DOUBLE_COLON","::",235],["T_STRING","init",235],"(",")",["T_OBJECT_OPERATOR","->",235],["T_STRING","getPhpFiles",235],"(",")",["T_WHITESPACE","\n        ",235],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Assert PHP classes have valid formal namespaces according to file locations\n     *\n     *\n     * @param string $file\n     * @param string $relativePath\n     * @param string $contents\n     * @param string $className\n     *\/",239],["T_WHITESPACE","\n    ",247],["T_PROTECTED","protected",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","_assertClassNamespace",248],"(",["T_VARIABLE","$file",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$relativePath",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$contents",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$className",248],")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$namespacePattern",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'\/(Magento|Zend)\\\/[a-zA-Z]+[^\\.]+\/'",250],";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$formalPattern",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'\/^namespace\\s[a-zA-Z]+(\\\\\\\\[a-zA-Z0-9]+)*\/m'",251],";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$namespaceMatch",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],"[","]",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$formalNamespaceArray",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],"[","]",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$namespaceFolders",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","null",255],";",["T_WHITESPACE","\n\n        ",255],["T_COMMENT","\/\/ if no namespace pattern found according to the path of the file, skip the file\n",257],["T_WHITESPACE","        ",258],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_STRING","preg_match",258],"(",["T_VARIABLE","$namespacePattern",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$relativePath",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$namespaceMatch",258],")",["T_WHITESPACE"," ",258],["T_IS_EQUAL","==",258],["T_WHITESPACE"," ",258],["T_LNUMBER","0",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_RETURN","return",259],";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$namespaceFolders",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$namespaceMatch",262],"[",["T_LNUMBER","0",262],"]",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$classParts",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","explode",263],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$namespaceFolders",263],")",";",["T_WHITESPACE","\n        ",263],["T_STRING","array_pop",264],"(",["T_VARIABLE","$classParts",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$expectedNamespace",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","implode",265],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$classParts",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_STRING","preg_match",267],"(",["T_VARIABLE","$formalPattern",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$contents",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$formalNamespaceArray",267],")",["T_WHITESPACE"," ",267],["T_IS_NOT_EQUAL","!=",267],["T_WHITESPACE"," ",267],["T_LNUMBER","0",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$foundNamespace",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","substr",268],"(",["T_VARIABLE","$formalNamespaceArray",268],"[",["T_LNUMBER","0",268],"]",",",["T_WHITESPACE"," ",268],["T_LNUMBER","10",268],")",";",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$foundNamespace",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","str_replace",269],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'\/'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$foundNamespace",269],")",";",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$foundNamespace",270],["T_WHITESPACE"," ",270],["T_CONCAT_EQUAL",".=",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'\/'",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$className",270],";",["T_WHITESPACE","\n            ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$namespaceFolders",271],["T_WHITESPACE"," ",271],["T_IS_NOT_EQUAL","!=",271],["T_WHITESPACE"," ",271],["T_STRING","null",271],["T_WHITESPACE"," ",271],["T_BOOLEAN_AND","&&",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$foundNamespace",271],["T_WHITESPACE"," ",271],["T_IS_NOT_EQUAL","!=",271],["T_WHITESPACE"," ",271],["T_STRING","null",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","assertEquals",272],"(",["T_WHITESPACE","\n                    ",272],["T_VARIABLE","$namespaceFolders",273],",",["T_WHITESPACE","\n                    ",273],["T_VARIABLE","$foundNamespace",274],",",["T_WHITESPACE","\n                    ",274],"\"",["T_ENCAPSED_AND_WHITESPACE","Location of ",275],["T_CURLY_OPEN","{",275],["T_VARIABLE","$file",275],"}",["T_ENCAPSED_AND_WHITESPACE"," does not match formal namespace: ",275],["T_CURLY_OPEN","{",275],["T_VARIABLE","$expectedNamespace",275],"}",["T_ENCAPSED_AND_WHITESPACE","\\n",275],"\"",["T_WHITESPACE","\n                ",275],")",";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE"," ",278],["T_ELSE","else",278],["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","fail",279],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Missing expected namespace \\\"",279],["T_CURLY_OPEN","{",279],["T_VARIABLE","$expectedNamespace",279],"}",["T_ENCAPSED_AND_WHITESPACE","\\\" for file: ",279],["T_CURLY_OPEN","{",279],["T_VARIABLE","$file",279],"}","\"",")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","testClassReferences",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$invoker",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Magento",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Framework",285],["T_NS_SEPARATOR","\\",285],["T_STRING","App",285],["T_NS_SEPARATOR","\\",285],["T_STRING","Utility",285],["T_NS_SEPARATOR","\\",285],["T_STRING","AggregateInvoker",285],"(",["T_VARIABLE","$this",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$invoker",286],"(",["T_WHITESPACE","\n            ",286],["T_DOC_COMMENT","\/**\n             * @param string $file\n             *\/",287],["T_WHITESPACE","\n            ",289],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$file",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$relativePath",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","str_replace",291],"(",["T_STRING","BP",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","\"\"",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$file",291],")",";",["T_WHITESPACE","\n                ",291],["T_COMMENT","\/\/ Due to the examples given with the regex patterns, we skip this test file itself\n",292],["T_WHITESPACE","                ",293],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$relativePath",293],["T_WHITESPACE"," ",293],["T_IS_EQUAL","==",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","\"\/dev\/tests\/static\/testsuite\/Magento\/Test\/Integrity\/ClassesTest.php\"",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                    ",293],["T_RETURN","return",294],";",["T_WHITESPACE","\n                ",294],"}",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$contents",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","file_get_contents",296],"(",["T_VARIABLE","$file",296],")",";",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$formalPattern",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'\/^namespace\\s[a-zA-Z]+(\\\\\\\\[a-zA-Z0-9]+)*\/m'",297],";",["T_WHITESPACE","\n                ",297],["T_VARIABLE","$formalNamespaceArray",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],"[","]",";",["T_WHITESPACE","\n\n                ",298],["T_COMMENT","\/\/ Skip the file if the class is not defined using formal namespace\n",300],["T_WHITESPACE","                ",301],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_STRING","preg_match",301],"(",["T_VARIABLE","$formalPattern",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$contents",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$formalNamespaceArray",301],")",["T_WHITESPACE"," ",301],["T_IS_EQUAL","==",301],["T_WHITESPACE"," ",301],["T_LNUMBER","0",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                    ",301],["T_RETURN","return",302],";",["T_WHITESPACE","\n                ",302],"}",["T_WHITESPACE","\n                ",303],["T_VARIABLE","$namespacePath",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","str_replace",304],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'\/'",304],",",["T_WHITESPACE"," ",304],["T_STRING","substr",304],"(",["T_VARIABLE","$formalNamespaceArray",304],"[",["T_LNUMBER","0",304],"]",",",["T_WHITESPACE"," ",304],["T_LNUMBER","10",304],")",")",";",["T_WHITESPACE","\n\n                ",304],["T_COMMENT","\/\/ Instantiation of new object, for example: \"return new Foo();\"\n",306],["T_WHITESPACE","                ",307],["T_VARIABLE","$newObjectPattern",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'\/^'",307],["T_WHITESPACE"," ",307],".",["T_WHITESPACE","\n                    ",307],["T_CONSTANT_ENCAPSED_STRING","'.*new\\s(?<venderClass>\\\\\\\\Magento(?:\\\\\\\\[a-zA-Z0-9_]+)+)\\(.*\\)'",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE","\n                    ",308],["T_CONSTANT_ENCAPSED_STRING","'|.*new\\s(?<badClass>[A-Z][a-zA-Z0-9]+[a-zA-Z0-9_\\\\\\\\]*)\\(.*\\)\\;'",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE","\n                    ",309],["T_CONSTANT_ENCAPSED_STRING","'|use [A-Z][a-zA-Z0-9_\\\\\\\\]+ as (?<aliasClass>[A-Z][a-zA-Z0-9]+)'",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE","\n                    ",310],["T_CONSTANT_ENCAPSED_STRING","'\/m'",311],";",["T_WHITESPACE","\n                ",311],["T_VARIABLE","$result1",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],"[","]",";",["T_WHITESPACE","\n                ",312],["T_STRING","preg_match_all",313],"(",["T_VARIABLE","$newObjectPattern",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$contents",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$result1",313],")",";",["T_WHITESPACE","\n\n                ",313],["T_COMMENT","\/\/ Static function\/variable, for example: \"Foo::someStaticFunction();\"\n",315],["T_WHITESPACE","                ",316],["T_VARIABLE","$staticCallPattern",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'\/^'",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE","\n                    ",316],["T_CONSTANT_ENCAPSED_STRING","'((?!Magento).)*(?<venderClass>\\\\\\\\Magento(?:\\\\\\\\[a-zA-Z0-9_]+)+)\\:\\:.*\\;'",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE","\n                    ",317],["T_CONSTANT_ENCAPSED_STRING","'|[^\\\\\\\\^a-z^A-Z^0-9^_^:](?<badClass>[A-Z][a-zA-Z0-9_]+)\\:\\:.*\\;'",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE","\n                    ",318],["T_CONSTANT_ENCAPSED_STRING","'|use [A-Z][a-zA-Z0-9_\\\\\\\\]+ as (?<aliasClass>[A-Z][a-zA-Z0-9]+)'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE","\n                    ",319],["T_CONSTANT_ENCAPSED_STRING","'\/m'",320],";",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$result2",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],"[","]",";",["T_WHITESPACE","\n                ",321],["T_STRING","preg_match_all",322],"(",["T_VARIABLE","$staticCallPattern",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$contents",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$result2",322],")",";",["T_WHITESPACE","\n\n                ",322],["T_COMMENT","\/\/ Annotation, for example: \"* @return \\Magento\\Foo\\Bar\" or \"* @throws Exception\" or \"* @return Foo\"\n",324],["T_WHITESPACE","                ",325],["T_VARIABLE","$annotationPattern",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'\/^'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE","\n                    ",325],["T_CONSTANT_ENCAPSED_STRING","'[\\s]*\\*\\s\\@(?:return|throws)\\s(?<venderClass>\\\\\\\\Magento(?:\\\\\\\\[a-zA-Z0-9_]+)+)'",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE","\n                    ",326],["T_CONSTANT_ENCAPSED_STRING","'|[\\s]*\\*\\s\\@return\\s(?<badClass>[A-Z][a-zA-Z0-9_\\\\\\\\]+)'",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE","\n                    ",327],["T_CONSTANT_ENCAPSED_STRING","'|[\\s]*\\*\\s\\@throws\\s(?<exception>[A-Z][a-zA-Z0-9_\\\\\\\\]+)'",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE","\n                    ",328],["T_CONSTANT_ENCAPSED_STRING","'|use [A-Z][a-zA-Z0-9_\\\\\\\\]+ as (?<aliasClass>[A-Z][a-zA-Z0-9]+)'",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE","\n                    ",329],["T_CONSTANT_ENCAPSED_STRING","'\/m'",330],";",["T_WHITESPACE","\n                ",330],["T_VARIABLE","$result3",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],"[","]",";",["T_WHITESPACE","\n                ",331],["T_STRING","preg_match_all",332],"(",["T_VARIABLE","$annotationPattern",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$contents",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$result3",332],")",";",["T_WHITESPACE","\n\n                ",332],["T_VARIABLE","$vendorClasses",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","array_unique",334],"(",["T_WHITESPACE","\n                    ",334],["T_STRING","array_merge_recursive",335],"(",["T_VARIABLE","$result1",335],"[",["T_CONSTANT_ENCAPSED_STRING","'venderClass'",335],"]",",",["T_WHITESPACE"," ",335],["T_VARIABLE","$result2",335],"[",["T_CONSTANT_ENCAPSED_STRING","'venderClass'",335],"]",",",["T_WHITESPACE"," ",335],["T_VARIABLE","$result3",335],"[",["T_CONSTANT_ENCAPSED_STRING","'venderClass'",335],"]",")",["T_WHITESPACE","\n                ",335],")",";",["T_WHITESPACE","\n\n                ",336],["T_VARIABLE","$badClasses",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING","array_unique",338],"(",["T_WHITESPACE","\n                    ",338],["T_STRING","array_merge_recursive",339],"(",["T_VARIABLE","$result1",339],"[",["T_CONSTANT_ENCAPSED_STRING","'badClass'",339],"]",",",["T_WHITESPACE"," ",339],["T_VARIABLE","$result2",339],"[",["T_CONSTANT_ENCAPSED_STRING","'badClass'",339],"]",",",["T_WHITESPACE"," ",339],["T_VARIABLE","$result3",339],"[",["T_CONSTANT_ENCAPSED_STRING","'badClass'",339],"]",")",["T_WHITESPACE","\n                ",339],")",";",["T_WHITESPACE","\n\n                ",340],["T_VARIABLE","$aliasClasses",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","array_unique",342],"(",["T_WHITESPACE","\n                    ",342],["T_STRING","array_merge_recursive",343],"(",["T_VARIABLE","$result1",343],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasClass'",343],"]",",",["T_WHITESPACE"," ",343],["T_VARIABLE","$result2",343],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasClass'",343],"]",",",["T_WHITESPACE"," ",343],["T_VARIABLE","$result3",343],"[",["T_CONSTANT_ENCAPSED_STRING","'aliasClass'",343],"]",")",["T_WHITESPACE","\n                ",343],")",";",["T_WHITESPACE","\n\n                ",344],["T_VARIABLE","$vendorClasses",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","array_filter",346],"(",["T_VARIABLE","$vendorClasses",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'strlen'",346],")",";",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$vendorClasses",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","referenceBlacklistFilter",347],"(",["T_VARIABLE","$vendorClasses",347],")",";",["T_WHITESPACE","\n                ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(","!",["T_EMPTY","empty",348],"(",["T_VARIABLE","$vendorClasses",348],")",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                    ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_assertClassesExist",349],"(",["T_VARIABLE","$vendorClasses",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$file",349],")",";",["T_WHITESPACE","\n                ",349],"}",["T_WHITESPACE","\n\n                ",350],["T_IF","if",352],["T_WHITESPACE"," ",352],"(","!",["T_EMPTY","empty",352],"(",["T_VARIABLE","$result3",352],"[",["T_CONSTANT_ENCAPSED_STRING","'exception'",352],"]",")",["T_WHITESPACE"," ",352],["T_BOOLEAN_AND","&&",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$result3",352],"[",["T_CONSTANT_ENCAPSED_STRING","'exception'",352],"]","[",["T_LNUMBER","0",352],"]",["T_WHITESPACE"," ",352],["T_IS_NOT_EQUAL","!=",352],["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"\"",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n                    ",352],["T_VARIABLE","$badClasses",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","array_merge",353],"(",["T_VARIABLE","$badClasses",353],",",["T_WHITESPACE"," ",353],["T_STRING","array_filter",353],"(",["T_VARIABLE","$result3",353],"[",["T_CONSTANT_ENCAPSED_STRING","'exception'",353],"]",",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'strlen'",353],")",")",";",["T_WHITESPACE","\n                ",353],"}",["T_WHITESPACE","\n\n                ",354],["T_VARIABLE","$badClasses",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","array_filter",356],"(",["T_VARIABLE","$badClasses",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'strlen'",356],")",";",["T_WHITESPACE","\n                ",356],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_EMPTY","empty",357],"(",["T_VARIABLE","$badClasses",357],")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n                    ",357],["T_RETURN","return",358],";",["T_WHITESPACE","\n                ",358],"}",["T_WHITESPACE","\n\n                ",359],["T_VARIABLE","$aliasClasses",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING","array_filter",361],"(",["T_VARIABLE","$aliasClasses",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'strlen'",361],")",";",["T_WHITESPACE","\n                ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(","!",["T_EMPTY","empty",362],"(",["T_VARIABLE","$aliasClasses",362],")",")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n                    ",362],["T_VARIABLE","$badClasses",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","handleAliasClasses",363],"(",["T_VARIABLE","$aliasClasses",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$badClasses",363],")",";",["T_WHITESPACE","\n                ",363],"}",["T_WHITESPACE","\n\n                ",364],["T_VARIABLE","$badClasses",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","referenceBlacklistFilter",366],"(",["T_VARIABLE","$badClasses",366],")",";",["T_WHITESPACE","\n                ",366],["T_VARIABLE","$badClasses",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","removeSpecialCases",367],"(",["T_VARIABLE","$badClasses",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$file",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$contents",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$namespacePath",367],")",";",["T_WHITESPACE","\n                ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_assertClassReferences",368],"(",["T_VARIABLE","$badClasses",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$file",368],")",";",["T_WHITESPACE","\n            ",368],"}",",",["T_WHITESPACE","\n            ",369],["T_STRING","Files",370],["T_DOUBLE_COLON","::",370],["T_STRING","init",370],"(",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","getPhpFiles",370],"(",")",["T_WHITESPACE","\n        ",370],")",";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Remove alias class name references that have been identified as 'bad'.\n     *\n     * @param $aliasClasses\n     * @param $badClasses\n     *\/",374],["T_WHITESPACE","\n    ",379],["T_PROTECTED","protected",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","handleAliasClasses",380],"(",["T_VARIABLE","$aliasClasses",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$badClasses",380],")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_FOREACH","foreach",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$aliasClasses",382],["T_WHITESPACE"," ",382],["T_AS","as",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$aliasClass",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_FOREACH","foreach",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$badClasses",383],["T_WHITESPACE"," ",383],["T_AS","as",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$badClass",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_STRING","strpos",384],"(",["T_VARIABLE","$badClass",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$aliasClass",384],")",["T_WHITESPACE"," ",384],["T_IS_IDENTICAL","===",384],["T_WHITESPACE"," ",384],["T_LNUMBER","0",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                    ",384],["T_UNSET","unset",385],"(",["T_VARIABLE","$badClasses",385],"[",["T_STRING","array_search",385],"(",["T_VARIABLE","$badClass",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$badClasses",385],")","]",")",";",["T_WHITESPACE","\n                ",385],"}",["T_WHITESPACE","\n            ",386],"}",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE","\n        ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$badClasses",389],";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * This function is to remove legacy code usages according to _files\/blacklist\/reference.txt\n     * @param $classes\n     * @return array\n     *\/",392],["T_WHITESPACE","\n    ",396],["T_PROTECTED","protected",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","referenceBlacklistFilter",397],"(",["T_VARIABLE","$classes",397],")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_COMMENT","\/\/ exceptions made for the files from the blacklist\n",399],["T_WHITESPACE","        ",400],["T_STRING","self",400],["T_DOUBLE_COLON","::",400],["T_STRING","_setReferenceBlacklist",400],"(",")",";",["T_WHITESPACE","\n        ",400],["T_FOREACH","foreach",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$classes",401],["T_WHITESPACE"," ",401],["T_AS","as",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$class",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_STRING","in_array",402],"(",["T_VARIABLE","$class",402],",",["T_WHITESPACE"," ",402],["T_STRING","self",402],["T_DOUBLE_COLON","::",402],["T_VARIABLE","$_referenceBlackList",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_UNSET","unset",403],"(",["T_VARIABLE","$classes",403],"[",["T_STRING","array_search",403],"(",["T_VARIABLE","$class",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$classes",403],")","]",")",";",["T_WHITESPACE","\n            ",403],"}",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$classes",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_PROTECTED","protected",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","_setReferenceBlacklist",409],"(",")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(","!",["T_ISSET","isset",411],"(",["T_STRING","self",411],["T_DOUBLE_COLON","::",411],["T_VARIABLE","$_referenceBlackList",411],")",")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$blackList",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","file",412],"(",["T_DIR","__DIR__",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/blacklist\/reference.txt'",412],",",["T_WHITESPACE"," ",412],["T_STRING","FILE_IGNORE_NEW_LINES",412],")",";",["T_WHITESPACE","\n            ",412],["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_VARIABLE","$_referenceBlackList",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$blackList",413],";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * This function is to remove special cases (if any) from the list of found bad classes\n     *\n     * @param array $badClasses\n     * @param string $file\n     * @param string $contents\n     * @param string $namespacePath\n     * @return array\n     *\/",417],["T_WHITESPACE","\n    ",425],["T_PROTECTED","protected",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","removeSpecialCases",426],"(",["T_VARIABLE","$badClasses",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$file",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$contents",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$namespacePath",426],")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_FOREACH","foreach",428],["T_WHITESPACE"," ",428],"(",["T_VARIABLE","$badClasses",428],["T_WHITESPACE"," ",428],["T_AS","as",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$badClass",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_COMMENT","\/\/ Remove valid usages of Magento modules from the list\n",429],["T_WHITESPACE","            ",430],["T_COMMENT","\/\/ for example: 'Magento_Sales::actions_edit'\n",430],["T_WHITESPACE","            ",431],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_STRING","preg_match",431],"(",["T_CONSTANT_ENCAPSED_STRING","'\/Magento_[A-Z0-9][a-z0-9]*\/'",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$badClass",431],")",")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n                ",431],["T_UNSET","unset",432],"(",["T_VARIABLE","$badClasses",432],"[",["T_STRING","array_search",432],"(",["T_VARIABLE","$badClass",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$badClasses",432],")","]",")",";",["T_WHITESPACE","\n                ",432],["T_CONTINUE","continue",433],";",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE","\n\n            ",434],["T_COMMENT","\/\/ Remove usage of key words such as \"Array\", \"String\", and \"Boolean\"\n",436],["T_WHITESPACE","            ",437],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_STRING","in_array",437],"(",["T_VARIABLE","$badClass",437],",",["T_WHITESPACE"," ",437],["T_STRING","self",437],["T_DOUBLE_COLON","::",437],["T_VARIABLE","$_keywordsBlacklist",437],")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n                ",437],["T_UNSET","unset",438],"(",["T_VARIABLE","$badClasses",438],"[",["T_STRING","array_search",438],"(",["T_VARIABLE","$badClass",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$badClasses",438],")","]",")",";",["T_WHITESPACE","\n                ",438],["T_CONTINUE","continue",439],";",["T_WHITESPACE","\n            ",439],"}",["T_WHITESPACE","\n\n            ",440],["T_VARIABLE","$classParts",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","explode",442],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$file",442],")",";",["T_WHITESPACE","\n            ",442],["T_VARIABLE","$className",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_STRING","array_pop",443],"(",["T_VARIABLE","$classParts",443],")",";",["T_WHITESPACE","\n            ",443],["T_COMMENT","\/\/ Remove usage of the class itself from the list\n",444],["T_WHITESPACE","            ",445],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$badClass",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'.php'",445],["T_WHITESPACE"," ",445],["T_IS_EQUAL","==",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$className",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_UNSET","unset",446],"(",["T_VARIABLE","$badClasses",446],"[",["T_STRING","array_search",446],"(",["T_VARIABLE","$badClass",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$badClasses",446],")","]",")",";",["T_WHITESPACE","\n                ",446],["T_CONTINUE","continue",447],";",["T_WHITESPACE","\n            ",447],"}",["T_WHITESPACE","\n\n            ",448],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","removeSpecialCasesNonFullyQualifiedClassNames",450],"(",["T_VARIABLE","$namespacePath",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$badClasses",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$badClass",450],")",")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                ",450],["T_CONTINUE","continue",451],";",["T_WHITESPACE","\n            ",451],"}",["T_WHITESPACE","\n\n            ",452],["T_VARIABLE","$referenceFile",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","implode",454],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$classParts",454],")",["T_WHITESPACE"," ",454],".",["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'\/'",454],["T_WHITESPACE"," ",454],".",["T_WHITESPACE"," ",454],["T_STRING","str_replace",454],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",454],",",["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'\/'",454],",",["T_WHITESPACE"," ",454],["T_VARIABLE","$badClass",454],")",["T_WHITESPACE"," ",454],".",["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'.php'",454],";",["T_WHITESPACE","\n            ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_STRING","file_exists",455],"(",["T_VARIABLE","$referenceFile",455],")",")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n                ",455],["T_UNSET","unset",456],"(",["T_VARIABLE","$badClasses",456],"[",["T_STRING","array_search",456],"(",["T_VARIABLE","$badClass",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$badClasses",456],")","]",")",";",["T_WHITESPACE","\n                ",456],["T_CONTINUE","continue",457],";",["T_WHITESPACE","\n            ",457],"}",["T_WHITESPACE","\n\n            ",458],["T_COMMENT","\/\/ Remove usage of classes that have been declared as \"use\" or \"include\"\n",460],["T_WHITESPACE","            ",461],["T_COMMENT","\/\/ Also deals with case like: \"use \\Zend\\Code\\Scanner\\FileScanner, Magento\\Tools\\Di\\Compiler\\Log\\Log;\"\n",461],["T_WHITESPACE","            ",462],["T_COMMENT","\/\/ (continued) where there is a comma separating two different classes.\n",462],["T_WHITESPACE","            ",463],["T_IF","if",463],["T_WHITESPACE"," ",463],"(",["T_STRING","preg_match",463],"(",["T_CONSTANT_ENCAPSED_STRING","'\/use\\s.*[\\\\n]?.*'",463],["T_WHITESPACE"," ",463],".",["T_WHITESPACE"," ",463],["T_STRING","str_replace",463],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$badClass",463],")",["T_WHITESPACE"," ",463],".",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'[\\,\\;]\/'",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$contents",463],")",")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n                ",463],["T_UNSET","unset",464],"(",["T_VARIABLE","$badClasses",464],"[",["T_STRING","array_search",464],"(",["T_VARIABLE","$badClass",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$badClasses",464],")","]",")",";",["T_WHITESPACE","\n                ",464],["T_CONTINUE","continue",465],";",["T_WHITESPACE","\n            ",465],"}",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n        ",467],["T_RETURN","return",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$badClasses",468],";",["T_WHITESPACE","\n    ",468],"}",["T_WHITESPACE","\n\n    ",469],["T_DOC_COMMENT","\/**\n     * Helper class for removeSpecialCases to remove classes that do not use fully-qualified class names\n     *\n     * @param string $namespacePath\n     * @param array $badClasses\n     * @param string $badClass\n     * @return bool\n     * @throws \\Exception\n     *\/",471],["T_WHITESPACE","\n    ",479],["T_PRIVATE","private",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","removeSpecialCasesNonFullyQualifiedClassNames",480],"(",["T_VARIABLE","$namespacePath",480],",",["T_WHITESPACE"," ",480],"&",["T_VARIABLE","$badClasses",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$badClass",480],")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$componentRegistrar",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_NEW","new",482],["T_WHITESPACE"," ",482],["T_STRING","ComponentRegistrar",482],"(",")",";",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$namespaceParts",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_STRING","explode",483],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$namespacePath",483],")",";",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$moduleDir",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","null",484],";",["T_WHITESPACE","\n        ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_ISSET","isset",485],"(",["T_VARIABLE","$namespaceParts",485],"[",["T_LNUMBER","1",485],"]",")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n            ",485],["T_VARIABLE","$moduleName",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_STRING","array_shift",486],"(",["T_VARIABLE","$namespaceParts",486],")",["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'_'",486],["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_STRING","array_shift",486],"(",["T_VARIABLE","$namespaceParts",486],")",";",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$moduleDir",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_VARIABLE","$componentRegistrar",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getPath",487],"(",["T_STRING","ComponentRegistrar",487],["T_DOUBLE_COLON","::",487],["T_STRING","MODULE",487],",",["T_WHITESPACE"," ",487],["T_VARIABLE","$moduleName",487],")",";",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE","\n        ",488],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$moduleDir",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$fullPath",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$moduleDir",490],["T_WHITESPACE"," ",490],".",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'\/'",490],["T_WHITESPACE"," ",490],".",["T_WHITESPACE"," ",490],["T_STRING","implode",490],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$namespaceParts",490],")",["T_WHITESPACE"," ",490],".",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'\/'",490],["T_WHITESPACE"," ",490],".",["T_WHITESPACE","\n                ",490],["T_STRING","str_replace",491],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",491],",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'\/'",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$badClass",491],")",["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'.php'",491],";",["T_WHITESPACE","\n\n            ",491],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_STRING","file_exists",493],"(",["T_VARIABLE","$fullPath",493],")",")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n                ",493],["T_UNSET","unset",494],"(",["T_VARIABLE","$badClasses",494],"[",["T_STRING","array_search",494],"(",["T_VARIABLE","$badClass",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$badClasses",494],")","]",")",";",["T_WHITESPACE","\n                ",494],["T_RETURN","return",495],["T_WHITESPACE"," ",495],["T_STRING","true",495],";",["T_WHITESPACE","\n            ",495],"}",["T_WHITESPACE","\n        ",496],"}",["T_WHITESPACE","\n\n        ",497],["T_VARIABLE","$fullPath",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getLibraryDirByPath",499],"(",["T_VARIABLE","$namespacePath",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$badClass",499],")",";",["T_WHITESPACE","\n\n        ",499],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$fullPath",501],["T_WHITESPACE"," ",501],["T_BOOLEAN_AND","&&",501],["T_WHITESPACE"," ",501],["T_STRING","file_exists",501],"(",["T_VARIABLE","$fullPath",501],")",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n            ",501],["T_UNSET","unset",502],"(",["T_VARIABLE","$badClasses",502],"[",["T_STRING","array_search",502],"(",["T_VARIABLE","$badClass",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$badClasses",502],")","]",")",";",["T_WHITESPACE","\n            ",502],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_STRING","true",503],";",["T_WHITESPACE","\n        ",503],"}",["T_WHITESPACE"," ",504],["T_ELSE","else",504],["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n            ",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","removeSpecialCasesForAllOthers",505],"(",["T_VARIABLE","$componentRegistrar",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$namespacePath",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$badClass",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$badClasses",505],")",";",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE","\n    ",506],"}",["T_WHITESPACE","\n\n    ",507],["T_DOC_COMMENT","\/**\n     * Get path to the file in the library based on namespace path\n     *\n     * @param string $namespacePath\n     * @param string $badClass\n     * @return null|string\n     *\/",509],["T_WHITESPACE","\n    ",515],["T_PROTECTED","protected",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","getLibraryDirByPath",516],"(",["T_VARIABLE","$namespacePath",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$badClass",516],")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$libraryDir",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","null",518],";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$fullPath",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_STRING","null",519],";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$componentRegistrar",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_NEW","new",520],["T_WHITESPACE"," ",520],["T_STRING","ComponentRegistrar",520],"(",")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$namespaceParts",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_STRING","explode",521],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$namespacePath",521],")",";",["T_WHITESPACE","\n        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_ISSET","isset",522],"(",["T_VARIABLE","$namespaceParts",522],"[",["T_LNUMBER","1",522],"]",")",["T_WHITESPACE"," ",522],["T_BOOLEAN_AND","&&",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$namespaceParts",522],"[",["T_LNUMBER","1",522],"]",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$vendor",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","array_shift",523],"(",["T_VARIABLE","$namespaceParts",523],")",";",["T_WHITESPACE","\n            ",523],["T_VARIABLE","$lib",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_STRING","array_shift",524],"(",["T_VARIABLE","$namespaceParts",524],")",";",["T_WHITESPACE","\n            ",524],["T_IF","if",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$lib",525],["T_WHITESPACE"," ",525],["T_IS_EQUAL","==",525],["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'framework'",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$subLib",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$namespaceParts",526],"[",["T_LNUMBER","0",526],"]",";",["T_WHITESPACE","\n                ",526],["T_VARIABLE","$subLib",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_STRING","strtolower",527],"(",["T_STRING","preg_replace",527],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)([A-Z])\/'",527],",",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","\"$1-$2\"",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$subLib",527],")",")",";",["T_WHITESPACE","\n                ",527],["T_VARIABLE","$libraryName",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$vendor",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'\/'",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_VARIABLE","$lib",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'-'",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_VARIABLE","$subLib",528],";",["T_WHITESPACE","\n                ",528],["T_VARIABLE","$libraryDir",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$componentRegistrar",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getPath",529],"(",["T_STRING","ComponentRegistrar",529],["T_DOUBLE_COLON","::",529],["T_STRING","LIBRARY",529],",",["T_WHITESPACE"," ",529],["T_STRING","strtolower",529],"(",["T_VARIABLE","$libraryName",529],")",")",";",["T_WHITESPACE","\n                ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_VARIABLE","$libraryDir",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                    ",530],["T_STRING","array_shift",531],"(",["T_VARIABLE","$namespaceParts",531],")",";",["T_WHITESPACE","\n                ",531],"}",["T_WHITESPACE"," ",532],["T_ELSE","else",532],["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n                    ",532],["T_VARIABLE","$libraryName",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$vendor",533],["T_WHITESPACE"," ",533],".",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'\/'",533],["T_WHITESPACE"," ",533],".",["T_WHITESPACE"," ",533],["T_VARIABLE","$lib",533],";",["T_WHITESPACE","\n                    ",533],["T_VARIABLE","$libraryDir",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$componentRegistrar",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getPath",534],"(",["T_STRING","ComponentRegistrar",534],["T_DOUBLE_COLON","::",534],["T_STRING","LIBRARY",534],",",["T_WHITESPACE"," ",534],["T_STRING","strtolower",534],"(",["T_VARIABLE","$libraryName",534],")",")",";",["T_WHITESPACE","\n                ",534],"}",["T_WHITESPACE","\n            ",535],"}",["T_WHITESPACE"," ",536],["T_ELSE","else",536],["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n                ",536],["T_VARIABLE","$lib",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_STRING","strtolower",537],"(",["T_STRING","preg_replace",537],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)([A-Z])\/'",537],",",["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","\"$1-$2\"",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$lib",537],")",")",";",["T_WHITESPACE","\n                ",537],["T_VARIABLE","$libraryName",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$vendor",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'\/'",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_VARIABLE","$lib",538],";",["T_WHITESPACE","\n                ",538],["T_VARIABLE","$libraryDir",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$componentRegistrar",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getPath",539],"(",["T_STRING","ComponentRegistrar",539],["T_DOUBLE_COLON","::",539],["T_STRING","LIBRARY",539],",",["T_WHITESPACE"," ",539],["T_STRING","strtolower",539],"(",["T_VARIABLE","$libraryName",539],")",")",";",["T_WHITESPACE","\n            ",539],"}",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n        ",541],["T_IF","if",542],["T_WHITESPACE"," ",542],"(",["T_VARIABLE","$libraryDir",542],")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n            ",542],["T_VARIABLE","$fullPath",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$libraryDir",543],["T_WHITESPACE"," ",543],".",["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'\/'",543],["T_WHITESPACE"," ",543],".",["T_WHITESPACE"," ",543],["T_STRING","implode",543],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",543],",",["T_WHITESPACE"," ",543],["T_VARIABLE","$namespaceParts",543],")",["T_WHITESPACE"," ",543],".",["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'\/'",543],["T_WHITESPACE"," ",543],".",["T_WHITESPACE","\n                ",543],["T_STRING","str_replace",544],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",544],",",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'\/'",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$badClass",544],")",["T_WHITESPACE"," ",544],".",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'.php'",544],";",["T_WHITESPACE","\n        ",544],"}",["T_WHITESPACE","\n        ",545],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$fullPath",546],";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_DOC_COMMENT","\/**\n     * @param ComponentRegistrar $componentRegistrar\n     * @param string $namespacePath\n     * @param string $badClass\n     * @param array $badClasses\n     * @return bool\n     *\/",549],["T_WHITESPACE","\n    ",555],["T_PRIVATE","private",556],["T_WHITESPACE"," ",556],["T_FUNCTION","function",556],["T_WHITESPACE"," ",556],["T_STRING","removeSpecialCasesForAllOthers",556],"(",["T_VARIABLE","$componentRegistrar",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$namespacePath",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$badClass",556],",",["T_WHITESPACE"," ",556],"&",["T_VARIABLE","$badClasses",556],")",["T_WHITESPACE","\n    ",556],"{",["T_WHITESPACE","\n        ",557],["T_COMMENT","\/\/ Remove usage of classes that do NOT using fully-qualified class names (possibly under same namespace)\n",558],["T_WHITESPACE","        ",559],["T_VARIABLE","$directories",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],"[",["T_WHITESPACE","\n            ",559],["T_STRING","BP",560],["T_WHITESPACE"," ",560],".",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tools\/'",560],",",["T_WHITESPACE","\n            ",560],["T_STRING","BP",561],["T_WHITESPACE"," ",561],".",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/api-functional\/framework\/'",561],",",["T_WHITESPACE","\n            ",561],["T_STRING","BP",562],["T_WHITESPACE"," ",562],".",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/functional\/'",562],",",["T_WHITESPACE","\n            ",562],["T_STRING","BP",563],["T_WHITESPACE"," ",563],".",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/integration\/framework\/'",563],",",["T_WHITESPACE","\n            ",563],["T_STRING","BP",564],["T_WHITESPACE"," ",564],".",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/integration\/framework\/tests\/unit\/testsuite\/'",564],",",["T_WHITESPACE","\n            ",564],["T_STRING","BP",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/integration\/testsuite\/'",565],",",["T_WHITESPACE","\n            ",565],["T_STRING","BP",566],["T_WHITESPACE"," ",566],".",["T_WHITESPACE"," ",566],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/integration\/testsuite\/Magento\/Test\/Integrity\/'",566],",",["T_WHITESPACE","\n            ",566],["T_STRING","BP",567],["T_WHITESPACE"," ",567],".",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/static\/framework\/'",567],",",["T_WHITESPACE","\n            ",567],["T_STRING","BP",568],["T_WHITESPACE"," ",568],".",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/static\/testsuite\/'",568],",",["T_WHITESPACE","\n            ",568],["T_STRING","BP",569],["T_WHITESPACE"," ",569],".",["T_WHITESPACE"," ",569],["T_CONSTANT_ENCAPSED_STRING","'\/setup\/src\/'",569],",",["T_WHITESPACE","\n        ",569],"]",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$libraryPaths",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$componentRegistrar",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getPaths",571],"(",["T_STRING","ComponentRegistrar",571],["T_DOUBLE_COLON","::",571],["T_STRING","LIBRARY",571],")",";",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$directories",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_STRING","array_merge",572],"(",["T_VARIABLE","$directories",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$libraryPaths",572],")",";",["T_WHITESPACE","\n        ",572],["T_COMMENT","\/\/ Full list of directories where there may be namespace classes\n",573],["T_WHITESPACE","        ",574],["T_FOREACH","foreach",574],["T_WHITESPACE"," ",574],"(",["T_VARIABLE","$directories",574],["T_WHITESPACE"," ",574],["T_AS","as",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$directory",574],")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n            ",574],["T_VARIABLE","$fullPath",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$directory",575],["T_WHITESPACE"," ",575],".",["T_WHITESPACE"," ",575],["T_VARIABLE","$namespacePath",575],["T_WHITESPACE"," ",575],".",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'\/'",575],["T_WHITESPACE"," ",575],".",["T_WHITESPACE"," ",575],["T_STRING","str_replace",575],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",575],",",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'\/'",575],",",["T_WHITESPACE"," ",575],["T_VARIABLE","$badClass",575],")",["T_WHITESPACE"," ",575],".",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'.php'",575],";",["T_WHITESPACE","\n            ",575],["T_IF","if",576],["T_WHITESPACE"," ",576],"(",["T_STRING","file_exists",576],"(",["T_VARIABLE","$fullPath",576],")",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n                ",576],["T_UNSET","unset",577],"(",["T_VARIABLE","$badClasses",577],"[",["T_STRING","array_search",577],"(",["T_VARIABLE","$badClass",577],",",["T_WHITESPACE"," ",577],["T_VARIABLE","$badClasses",577],")","]",")",";",["T_WHITESPACE","\n                ",577],["T_RETURN","return",578],["T_WHITESPACE"," ",578],["T_STRING","true",578],";",["T_WHITESPACE","\n            ",578],"}",["T_WHITESPACE","\n        ",579],"}",["T_WHITESPACE","\n        ",580],["T_RETURN","return",581],["T_WHITESPACE"," ",581],["T_STRING","false",581],";",["T_WHITESPACE","\n    ",581],"}",["T_WHITESPACE","\n\n    ",582],["T_DOC_COMMENT","\/**\n     * Assert any found class name resolves into a file name and corresponds to an existing file\n     *\n     * @param array $badClasses\n     * @param string $file\n     *\/",584],["T_WHITESPACE","\n    ",589],["T_PROTECTED","protected",590],["T_WHITESPACE"," ",590],["T_FUNCTION","function",590],["T_WHITESPACE"," ",590],["T_STRING","_assertClassReferences",590],"(",["T_VARIABLE","$badClasses",590],",",["T_WHITESPACE"," ",590],["T_VARIABLE","$file",590],")",["T_WHITESPACE","\n    ",590],"{",["T_WHITESPACE","\n        ",591],["T_IF","if",592],["T_WHITESPACE"," ",592],"(",["T_EMPTY","empty",592],"(",["T_VARIABLE","$badClasses",592],")",")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n            ",592],["T_RETURN","return",593],";",["T_WHITESPACE","\n        ",593],"}",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","fail",595],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Incorrect namespace usage(s) found in file ",595],["T_CURLY_OPEN","{",595],["T_VARIABLE","$file",595],"}",["T_ENCAPSED_AND_WHITESPACE",":\\n",595],"\"",["T_WHITESPACE"," ",595],".",["T_WHITESPACE"," ",595],["T_STRING","implode",595],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$badClasses",595],")",")",";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n\n    ",596],["T_PUBLIC","public",598],["T_WHITESPACE"," ",598],["T_FUNCTION","function",598],["T_WHITESPACE"," ",598],["T_STRING","testCoversAnnotation",598],"(",")",["T_WHITESPACE","\n    ",598],"{",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$files",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_STRING","Files",600],["T_DOUBLE_COLON","::",600],["T_STRING","init",600],"(",")",";",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$errors",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],"[","]",";",["T_WHITESPACE","\n        ",601],["T_VARIABLE","$filesToTest",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$files",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getPhpFiles",602],"(",["T_STRING","Files",602],["T_DOUBLE_COLON","::",602],["T_STRING","INCLUDE_TESTS",602],")",";",["T_WHITESPACE","\n\n        ",602],["T_IF","if",604],["T_WHITESPACE"," ",604],"(","(",["T_VARIABLE","$key",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_STRING","array_search",604],"(",["T_FILE","__FILE__",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$filesToTest",604],")",")",["T_WHITESPACE"," ",604],["T_IS_NOT_IDENTICAL","!==",604],["T_WHITESPACE"," ",604],["T_STRING","false",604],")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n            ",604],["T_UNSET","unset",605],"(",["T_VARIABLE","$filesToTest",605],"[",["T_VARIABLE","$key",605],"]",")",";",["T_WHITESPACE","\n        ",605],"}",["T_WHITESPACE","\n\n        ",606],["T_FOREACH","foreach",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$filesToTest",608],["T_WHITESPACE"," ",608],["T_AS","as",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$file",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n            ",608],["T_VARIABLE","$code",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_STRING","file_get_contents",609],"(",["T_VARIABLE","$file",609],")",";",["T_WHITESPACE","\n            ",609],["T_IF","if",610],["T_WHITESPACE"," ",610],"(",["T_STRING","preg_match",610],"(",["T_CONSTANT_ENCAPSED_STRING","'\/@covers(DefaultClass)?\\s+([\\w\\\\\\\\]+)(::([\\w\\\\\\\\]+))?\/'",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$code",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$matches",610],")",")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n                ",610],["T_IF","if",611],["T_WHITESPACE"," ",611],"(",["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","isNonexistentEntityCovered",611],"(",["T_VARIABLE","$matches",611],")",")",["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n                    ",611],["T_VARIABLE","$errors",612],"[","]",["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$file",612],["T_WHITESPACE"," ",612],".",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","': '",612],["T_WHITESPACE"," ",612],".",["T_WHITESPACE"," ",612],["T_VARIABLE","$matches",612],"[",["T_LNUMBER","0",612],"]",";",["T_WHITESPACE","\n                ",612],"}",["T_WHITESPACE","\n            ",613],"}",["T_WHITESPACE","\n        ",614],"}",["T_WHITESPACE","\n        ",615],["T_IF","if",616],["T_WHITESPACE"," ",616],"(",["T_VARIABLE","$errors",616],")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n            ",616],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","fail",617],"(",["T_WHITESPACE","\n                ",617],["T_CONSTANT_ENCAPSED_STRING","'Nonexistent classes\/methods were found in @covers annotations: '",618],["T_WHITESPACE"," ",618],".",["T_WHITESPACE"," ",618],["T_STRING","PHP_EOL",618],["T_WHITESPACE"," ",618],".",["T_WHITESPACE"," ",618],["T_STRING","implode",618],"(",["T_STRING","PHP_EOL",618],",",["T_WHITESPACE"," ",618],["T_VARIABLE","$errors",618],")",["T_WHITESPACE","\n            ",618],")",";",["T_WHITESPACE","\n        ",619],"}",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_DOC_COMMENT","\/**\n     * @param array $matches\n     * @return bool\n     *\/",623],["T_WHITESPACE","\n    ",626],["T_PRIVATE","private",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","isNonexistentEntityCovered",627],"(",["T_VARIABLE","$matches",627],")",["T_WHITESPACE","\n    ",627],"{",["T_WHITESPACE","\n        ",628],["T_RETURN","return",629],["T_WHITESPACE"," ",629],"!",["T_EMPTY","empty",629],"(",["T_VARIABLE","$matches",629],"[",["T_LNUMBER","2",629],"]",")",["T_WHITESPACE"," ",629],["T_BOOLEAN_AND","&&",629],["T_WHITESPACE"," ",629],"!",["T_STRING","class_exists",629],"(",["T_VARIABLE","$matches",629],"[",["T_LNUMBER","2",629],"]",")",["T_WHITESPACE","\n            ",629],["T_BOOLEAN_OR","||",630],["T_WHITESPACE"," ",630],"!",["T_EMPTY","empty",630],"(",["T_VARIABLE","$matches",630],"[",["T_LNUMBER","4",630],"]",")",["T_WHITESPACE"," ",630],["T_BOOLEAN_AND","&&",630],["T_WHITESPACE"," ",630],"!",["T_STRING","method_exists",630],"(",["T_VARIABLE","$matches",630],"[",["T_LNUMBER","2",630],"]",",",["T_WHITESPACE"," ",630],["T_VARIABLE","$matches",630],"[",["T_LNUMBER","4",630],"]",")",";",["T_WHITESPACE","\n    ",630],"}",["T_WHITESPACE","\n",631],"}",["T_WHITESPACE","\n",632]]