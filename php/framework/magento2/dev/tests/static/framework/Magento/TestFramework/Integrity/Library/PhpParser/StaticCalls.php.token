[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TestFramework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integrity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Library",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PhpParser",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Parse static calls and collect dependencies for it\n *\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","StaticCalls",12],["T_WHITESPACE"," ",12],["T_IMPLEMENTS","implements",12],["T_WHITESPACE"," ",12],["T_STRING","ParserInterface",12],",",["T_WHITESPACE"," ",12],["T_STRING","DependenciesCollectorInterface",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var Tokens\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$tokens",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * Save static calls token key\n     *\n     * @var array\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$staticCalls",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[","]",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Collect dependencies\n     *\n     * @var array\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$dependencies",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[","]",";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @param Tokens $tokens\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_STRING","Tokens",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$tokens",36],")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","tokens",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$tokens",38],";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Check if it's foreign dependency\n     *\n     * @param array $token\n     * @return bool\n     *\/",41],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","isTokenClass",47],"(",["T_VARIABLE","$token",47],")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","is_array",49],"(",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$token",50],["T_WHITESPACE","\n        ",50],")",["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],"!","(",["T_STRING","in_array",51],"(",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$token",52],"[",["T_LNUMBER","1",52],"]",",",["T_WHITESPACE","\n            ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'static'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'self'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'parent'",53],"]",["T_WHITESPACE","\n        ",53],")",["T_WHITESPACE"," ",54],["T_BOOLEAN_OR","||",54],["T_WHITESPACE"," ",54],["T_STRING","preg_match",54],"(",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'#^\\$#'",55],",",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$token",56],"[",["T_LNUMBER","1",56],"]",["T_WHITESPACE","\n        ",56],")",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","parse",63],"(",["T_VARIABLE","$token",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$key",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_STRING","is_array",65],"(",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$token",66],["T_WHITESPACE","\n        ",66],")",["T_WHITESPACE"," ",67],["T_BOOLEAN_AND","&&",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$token",67],"[",["T_LNUMBER","0",67],"]",["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_STRING","T_PAAMAYIM_NEKUDOTAYIM",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_AND","&&",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","isTokenClass",67],"(",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","tokens",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getPreviousToken",68],"(",["T_VARIABLE","$key",68],")",["T_WHITESPACE","\n        ",68],")",["T_WHITESPACE","\n        ",69],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","staticCalls",71],"[","]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$key",71],";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Return class name from token\n     *\n     * @param int $staticCall\n     * @return string\n     *\/",75],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","getClassByStaticCall",81],"(",["T_VARIABLE","$staticCall",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$step",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_LNUMBER","1",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$staticClassParts",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",";",["T_WHITESPACE","\n        ",84],["T_WHILE","while",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","tokens",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getTokenCodeByKey",85],"(",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$staticCall",86],["T_WHITESPACE"," ",86],"-",["T_WHITESPACE"," ",86],["T_VARIABLE","$step",86],["T_WHITESPACE","\n        ",86],")",["T_WHITESPACE"," ",87],["T_IS_EQUAL","==",87],["T_WHITESPACE"," ",87],["T_STRING","T_STRING",87],["T_WHITESPACE"," ",87],["T_BOOLEAN_OR","||",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","tokens",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getTokenCodeByKey",87],"(",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$staticCall",88],["T_WHITESPACE"," ",88],"-",["T_WHITESPACE"," ",88],["T_VARIABLE","$step",88],["T_WHITESPACE","\n        ",88],")",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_STRING","T_NS_SEPARATOR",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$staticClassParts",90],"[","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","tokens",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getTokenValueByKey",90],"(",["T_VARIABLE","$staticCall",90],["T_WHITESPACE"," ",90],"-",["T_WHITESPACE"," ",90],["T_VARIABLE","$step",90],")",";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$step",91],["T_INC","++",91],";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_STRING","implode",93],"(",["T_STRING","array_reverse",93],"(",["T_VARIABLE","$staticClassParts",93],")",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * @inheritdoc\n     *\/",96],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getDependencies",99],"(",["T_STRING","Uses",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$uses",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","staticCalls",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$staticCall",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$class",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getClassByStaticCall",102],"(",["T_VARIABLE","$staticCall",102],")",";",["T_WHITESPACE","\n            ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$uses",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","hasUses",103],"(",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$class",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$uses",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getClassNameWithNamespace",104],"(",["T_VARIABLE","$class",104],")",";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","dependencies",106],"[","]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$class",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","dependencies",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n",110],"}",["T_WHITESPACE","\n",111]]