[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_DOC_COMMENT","\/**\n * PHP Copy Paste Detector v1.4.0 tool wrapper\n *\/",9],["T_WHITESPACE","\n",11],["T_NAMESPACE","namespace",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CodingStandard",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tool",12],";",["T_WHITESPACE","\n\n",12],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TestFramework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CodingStandard",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ToolInterface",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","CopyPasteDetector",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","ToolInterface",16],",",["T_WHITESPACE"," ",16],["T_STRING","BlacklistInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Report file\n     *\n     * @var string\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$reportFile",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * List of paths to be excluded from tool run\n     *\n     * @var array\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$blacklist",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param string $reportFile Destination file to write inspection report to\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",["T_VARIABLE","$reportFile",37],")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","reportFile",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$reportFile",39],";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * {@inheritdoc}\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setBlackList",45],"(",["T_ARRAY","array",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$blackList",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","blacklist",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$blackList",47],";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Whether the tool can be run in the current environment\n     *\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\n     * @return bool\n     *\/",50],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","canRun",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_STRING","exec",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getCommand",59],"(",")",["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","' --version'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$output",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$exitCode",59],")",";",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$exitCode",60],["T_WHITESPACE"," ",60],["T_IS_IDENTICAL","===",60],["T_WHITESPACE"," ",60],["T_LNUMBER","0",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Run tool for files specified\n     *\n     * @param array $whiteList Files\/directories to be inspected\n     * @return int\n     *\n     * @SuppressWarnings(PHPMD.UnusedLocalVariable)\n     *\/",63],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","run",71],"(",["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$whiteList",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$blacklistedDirs",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],"[","]",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$blacklistedFileNames",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[","]",";",["T_WHITESPACE","\n        ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","blacklist",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$file",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$file",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","escapeshellarg",76],"(",["T_STRING","trim",76],"(",["T_VARIABLE","$file",76],")",")",";",["T_WHITESPACE","\n            ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$file",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                ",77],["T_CONTINUE","continue",78],";",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$ext",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","pathinfo",80],"(",["T_VARIABLE","$file",80],",",["T_WHITESPACE"," ",80],["T_STRING","PATHINFO_EXTENSION",80],")",";",["T_WHITESPACE","\n            ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$ext",81],["T_WHITESPACE"," ",81],["T_IS_NOT_EQUAL","!=",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","''",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$blacklistedFileNames",82],"[","]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$file",82],";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE"," ",83],["T_ELSE","else",83],["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$blacklistedDirs",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'--exclude '",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$file",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","' '",84],";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$command",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getCommand",88],"(",")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","' --log-pmd '",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","escapeshellarg",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","reportFile",88],")",["T_WHITESPACE","\n            ",88],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","' --names-exclude '",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_STRING","join",89],"(",["T_CONSTANT_ENCAPSED_STRING","','",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$blacklistedFileNames",89],")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","' --min-lines 13 '",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_STRING","join",89],"(",["T_CONSTANT_ENCAPSED_STRING","' '",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$blacklistedDirs",89],")",["T_WHITESPACE","\n            ",89],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","' '",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_STRING","implode",90],"(",["T_CONSTANT_ENCAPSED_STRING","' '",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$whiteList",90],")",";",["T_WHITESPACE","\n        ",90],["T_STRING","exec",91],"(",["T_VARIABLE","$command",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$output",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$exitCode",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_RETURN","return",93],["T_WHITESPACE"," ",93],"!",["T_BOOL_CAST","(bool)",93],["T_VARIABLE","$exitCode",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Get PHPCPD command\n     *\n     * @return string\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PRIVATE","private",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getCommand",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$vendorDir",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_REQUIRE","require",103],["T_WHITESPACE"," ",103],["T_STRING","BP",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'\/app\/etc\/vendor_path.php'",103],";",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'php '",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_STRING","BP",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/'",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$vendorDir",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/bin\/phpcpd'",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n",105],"}",["T_WHITESPACE","\n",106]]