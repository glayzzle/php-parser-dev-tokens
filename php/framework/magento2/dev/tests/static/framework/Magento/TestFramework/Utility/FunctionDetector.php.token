[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TestFramework",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Check if one or more functions are used in the file\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","FunctionDetector",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Detect functions in given file\n     *\n     * return result in this format:\n     *  [\n     *      line_number => [\n     *          function_name_1,\n     *          function_name_2,\n     *          function_name_3,\n     *      ],\n     *      line_number => [\n     *          function_name_1,\n     *          function_name_2,\n     *          function_name_3,\n     *      ],\n     *  ]\n     *\n     * @param string $filePath\n     * @param string[] $functions\n     * @return array\n     *\/",13],["T_WHITESPACE","\n    ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","detect",34],"(",["T_VARIABLE","$filePath",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$functions",34],")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$result",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],"[","]",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$regexp",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","composeRegexp",37],"(",["T_VARIABLE","$functions",37],")",";",["T_WHITESPACE","\n\n        ",37],["T_IF","if",39],["T_WHITESPACE"," ",39],"(","!",["T_VARIABLE","$regexp",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_RETURN","return",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$result",40],";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$fileContent",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","TestFramework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Utility",43],["T_NS_SEPARATOR","\\",43],["T_STRING","ChangedFiles",43],["T_DOUBLE_COLON","::",43],["T_STRING","getChangedContent",43],"(",["T_VARIABLE","$filePath",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$file",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","file",44],"(",["T_VARIABLE","$filePath",44],")",";",["T_WHITESPACE","\n\n        ",44],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$fileContent",46],["T_WHITESPACE","\n            ",46],"?",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","grepChangedContent",47],"(",["T_VARIABLE","$file",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$regexp",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$functions",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$fileContent",47],")",["T_WHITESPACE","\n            ",47],":",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","grepFile",48],"(",["T_VARIABLE","$file",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$regexp",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Grep only changed content.\n     *\n     * @param array $file\n     * @param string $regexp\n     * @param string[] $functions\n     * @param string $fileContent\n     * @return array\n     *\/",51],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","grepChangedContent",60],"(",["T_ARRAY","array",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$file",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$regexp",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$functions",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$fileContent",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$result",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[","]",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$matches",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","preg_grep",63],"(",["T_VARIABLE","$regexp",63],",",["T_WHITESPACE"," ",63],["T_STRING","explode",63],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$fileContent",63],")",")",";",["T_WHITESPACE","\n        ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_EMPTY","empty",64],"(",["T_VARIABLE","$matches",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$matches",65],["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$line",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$actualFunctions",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n                ",66],["T_FOREACH","foreach",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$functions",67],["T_WHITESPACE"," ",67],["T_AS","as",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$function",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                    ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_STRING","false",68],["T_WHITESPACE"," ",68],["T_IS_NOT_IDENTICAL","!==",68],["T_WHITESPACE"," ",68],["T_STRING","strpos",68],"(",["T_VARIABLE","$line",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$function",68],")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                        ",68],["T_VARIABLE","$actualFunctions",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$function",69],";",["T_WHITESPACE","\n                    ",69],"}",["T_WHITESPACE","\n                ",70],"}",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$result",72],"[",["T_STRING","array_search",72],"(",["T_VARIABLE","$line",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$file",72],")",["T_WHITESPACE"," ",72],"+",["T_WHITESPACE"," ",72],["T_LNUMBER","1",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$actualFunctions",72],";",["T_WHITESPACE","\n            ",72],"}",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n\n        ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$result",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Grep File.\n     *\n     * @param array $file\n     * @param string $regexp\n     * @return array\n     *\/",79],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","grepFile",86],"(",["T_ARRAY","array",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$file",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$regexp",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$result",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[","]",";",["T_WHITESPACE","\n        ",88],["T_STRING","array_unshift",89],"(",["T_VARIABLE","$file",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","''",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$lines",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","preg_grep",90],"(",["T_VARIABLE","$regexp",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$file",90],")",";",["T_WHITESPACE","\n        ",90],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$lines",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$lineNumber",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$line",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","preg_match_all",92],"(",["T_VARIABLE","$regexp",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$line",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$matches",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$result",93],"[",["T_VARIABLE","$lineNumber",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$matches",93],"[",["T_LNUMBER","1",93],"]",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$result",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Compose regular expression\n     *\n     * @param array $functions\n     * @return string\n     *\/",100],["T_WHITESPACE","\n    ",105],["T_PRIVATE","private",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","composeRegexp",106],"(",["T_ARRAY","array",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$functions",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_EMPTY","empty",108],"(",["T_VARIABLE","$functions",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'\/(?<!function |->|::)\\b('",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_STRING","join",111],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$functions",111],")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","')\\s*\\(\/i'",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]