[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Client for invoking REST API\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestCase",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Webapi",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Adapter",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Rest",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","CurlClient",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_CONST","const",12],["T_WHITESPACE"," ",12],["T_STRING","EMPTY_REQUEST_BODY",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_CONSTANT_ENCAPSED_STRING","'Empty body'",12],";",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * @var string REST URL base path\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$restBasePath",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'\/rest\/'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var array Response array\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$responseArray",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * @var array JSON Error code to error message mapping\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$_jsonErrorMessages",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n        ",26],["T_STRING","JSON_ERROR_DEPTH",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'Maximum depth exceeded'",27],",",["T_WHITESPACE","\n        ",27],["T_STRING","JSON_ERROR_STATE_MISMATCH",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'State mismatch'",28],",",["T_WHITESPACE","\n        ",28],["T_STRING","JSON_ERROR_CTRL_CHAR",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'Unexpected control character found'",29],",",["T_WHITESPACE","\n        ",29],["T_STRING","JSON_ERROR_SYNTAX",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'Syntax error, invalid JSON'",30],",",["T_WHITESPACE","\n    ",30],"]",";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Perform HTTP GET request\n     *\n     * @param string $resourcePath Resource URL like \/V1\/Resource1\/123\n     * @param array $data\n     * @param array $headers\n     * @return mixed\n     *\/",33],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","get",41],"(",["T_VARIABLE","$resourcePath",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$data",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",",",["T_WHITESPACE"," ",41],["T_VARIABLE","$headers",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$url",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","constructResourceUrl",43],"(",["T_VARIABLE","$resourcePath",43],")",";",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(","!",["T_EMPTY","empty",44],"(",["T_VARIABLE","$data",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$url",45],["T_WHITESPACE"," ",45],["T_CONCAT_EQUAL",".=",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'?'",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_STRING","http_build_query",45],"(",["T_VARIABLE","$data",45],")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$curlOpts",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],"[","]",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$curlOpts",49],"[",["T_STRING","CURLOPT_CUSTOMREQUEST",49],"]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Framework",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Webapi",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Rest",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Request",49],["T_DOUBLE_COLON","::",49],["T_STRING","HTTP_METHOD_GET",49],";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$resp",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_invokeApi",50],"(",["T_VARIABLE","$url",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$curlOpts",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$headers",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$respArray",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_jsonDecode",51],"(",["T_VARIABLE","$resp",51],"[",["T_CONSTANT_ENCAPSED_STRING","\"body\"",51],"]",")",";",["T_WHITESPACE","\n        ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$respArray",52],";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Perform HTTP POST request\n     *\n     * @param string $resourcePath Resource URL like \/V1\/Resource1\/123\n     * @param array $data\n     * @param array $headers\n     * @return mixed\n     *\/",55],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","post",63],"(",["T_VARIABLE","$resourcePath",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$data",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$headers",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[","]",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_postOrPut",65],"(",["T_VARIABLE","$resourcePath",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$data",65],",",["T_WHITESPACE"," ",65],["T_STRING","false",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$headers",65],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Perform HTTP PUT request\n     *\n     * @param string $resourcePath Resource URL like \/V1\/Resource1\/123\n     * @param array $data\n     * @param array $headers\n     * @return mixed\n     *\/",68],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","put",76],"(",["T_VARIABLE","$resourcePath",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$data",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$headers",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[","]",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_postOrPut",78],"(",["T_VARIABLE","$resourcePath",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$data",78],",",["T_WHITESPACE"," ",78],["T_STRING","true",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$headers",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Perform HTTP DELETE request\n     *\n     * @param string $resourcePath Resource URL like \/V1\/Resource1\/123\n     * @param array $headers\n     * @return mixed\n     *\/",81],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","delete",88],"(",["T_VARIABLE","$resourcePath",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$headers",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[","]",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$url",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","constructResourceUrl",90],"(",["T_VARIABLE","$resourcePath",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$curlOpts",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[","]",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$curlOpts",93],"[",["T_STRING","CURLOPT_CUSTOMREQUEST",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Webapi",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Rest",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Request",93],["T_DOUBLE_COLON","::",93],["T_STRING","HTTP_METHOD_DELETE",93],";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$resp",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_invokeApi",95],"(",["T_VARIABLE","$url",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$curlOpts",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$headers",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$respArray",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_jsonDecode",96],"(",["T_VARIABLE","$resp",96],"[",["T_CONSTANT_ENCAPSED_STRING","\"body\"",96],"]",")",";",["T_WHITESPACE","\n\n        ",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$respArray",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Perform HTTP POST or PUT request\n     *\n     * @param string $resourcePath Resource URL like \/V1\/Resource1\/123\n     * @param array $data\n     * @param boolean $put Set true to post data as HTTP PUT operation (update). If this value is set to false,\n     *        HTTP POST (create) will be used\n     * @param array $headers\n     * @return mixed\n     *\/",101],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_postOrPut",111],"(",["T_VARIABLE","$resourcePath",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$data",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$put",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","false",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$headers",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"[","]",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$url",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","constructResourceUrl",113],"(",["T_VARIABLE","$resourcePath",113],")",";",["T_WHITESPACE","\n\n        ",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_STRING","in_array",115],"(",["T_CONSTANT_ENCAPSED_STRING","\"Content-Type: application\/json\"",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$headers",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_COMMENT","\/\/ json encode data\n",116],["T_WHITESPACE","            ",117],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$data",117],["T_WHITESPACE"," ",117],["T_IS_NOT_EQUAL","!=",117],["T_WHITESPACE"," ",117],["T_STRING","self",117],["T_DOUBLE_COLON","::",117],["T_STRING","EMPTY_REQUEST_BODY",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$data",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_jsonEncode",118],"(",["T_VARIABLE","$data",118],")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE"," ",119],["T_ELSE","else",119],["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$data",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$curlOpts",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],"[","]",";",["T_WHITESPACE","\n        ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$put",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$curlOpts",126],"[",["T_STRING","CURLOPT_CUSTOMREQUEST",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Webapi",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Rest",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Request",126],["T_DOUBLE_COLON","::",126],["T_STRING","HTTP_METHOD_PUT",126],";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE"," ",127],["T_ELSE","else",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$curlOpts",128],"[",["T_STRING","CURLOPT_CUSTOMREQUEST",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Framework",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Webapi",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Rest",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Request",128],["T_DOUBLE_COLON","::",128],["T_STRING","HTTP_METHOD_POST",128],";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$headers",130],"[","]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Content-Length: '",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_STRING","strlen",130],"(",["T_VARIABLE","$data",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$curlOpts",131],"[",["T_STRING","CURLOPT_POSTFIELDS",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$data",131],";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","responseArray",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_invokeApi",133],"(",["T_VARIABLE","$url",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$curlOpts",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$headers",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$respBodyArray",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_jsonDecode",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","responseArray",134],"[",["T_CONSTANT_ENCAPSED_STRING","\"body\"",134],"]",")",";",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$respBodyArray",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Set Rest base path if available\n     *\n     * @param string $restBasePath\n     *\n     * @return void\n     *\/",139],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","setRestBasePath",146],"(",["T_VARIABLE","$restBasePath",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","restBasePath",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$restBasePath",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Get current response array\n     *\n     * @return array\n     *\/",151],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getCurrentResponseArray",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","responseArray",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * @param string $resourcePath Resource URL like \/V1\/Resource1\/123\n     * @return string resource URL\n     * @throws \\Exception\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","constructResourceUrl",166],"(",["T_VARIABLE","$resourcePath",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","rtrim",168],"(",["T_STRING","TESTS_BASE_URL",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'\/'",168],")",["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","restBasePath",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_STRING","ltrim",168],"(",["T_VARIABLE","$resourcePath",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'\/'",168],")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Makes the REST api call using passed $curl object\n     *\n     * @param string $url\n     * @param array $additionalCurlOpts cURL Options\n     * @param array $headers\n     * @return array\n     * @throws \\Exception\n     *\/",171],["T_WHITESPACE","\n    ",179],["T_PROTECTED","protected",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","_invokeApi",180],"(",["T_VARIABLE","$url",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$additionalCurlOpts",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$headers",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],"[","]",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_COMMENT","\/\/ initialize cURL\n",182],["T_WHITESPACE","        ",183],["T_VARIABLE","$curl",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","curl_init",183],"(",["T_VARIABLE","$url",183],")",";",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$curl",184],["T_WHITESPACE"," ",184],["T_IS_IDENTICAL","===",184],["T_WHITESPACE"," ",184],["T_STRING","false",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_THROW","throw",185],["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Exception",185],"(",["T_CONSTANT_ENCAPSED_STRING","\"Error Initializing cURL for baseUrl: \"",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_VARIABLE","$url",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_COMMENT","\/\/ get cURL options\n",188],["T_WHITESPACE","        ",189],["T_VARIABLE","$curlOpts",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getCurlOptions",189],"(",["T_VARIABLE","$additionalCurlOpts",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$headers",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_COMMENT","\/\/ add CURL opts\n",191],["T_WHITESPACE","        ",192],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$curlOpts",192],["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$opt",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$val",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_STRING","curl_setopt",193],"(",["T_VARIABLE","$curl",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$opt",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$val",193],")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$response",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","curl_exec",196],"(",["T_VARIABLE","$curl",196],")",";",["T_WHITESPACE","\n        ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$response",197],["T_WHITESPACE"," ",197],["T_IS_IDENTICAL","===",197],["T_WHITESPACE"," ",197],["T_STRING","false",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_THROW","throw",198],["T_WHITESPACE"," ",198],["T_NEW","new",198],["T_WHITESPACE"," ",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Exception",198],"(",["T_STRING","curl_error",198],"(",["T_VARIABLE","$curl",198],")",")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$resp",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[","]",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$headerSize",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","curl_getinfo",202],"(",["T_VARIABLE","$curl",202],",",["T_WHITESPACE"," ",202],["T_STRING","CURLINFO_HEADER_SIZE",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$resp",203],"[",["T_CONSTANT_ENCAPSED_STRING","\"header\"",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","substr",203],"(",["T_VARIABLE","$response",203],",",["T_WHITESPACE"," ",203],["T_LNUMBER","0",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$headerSize",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$resp",204],"[",["T_CONSTANT_ENCAPSED_STRING","\"body\"",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","substr",204],"(",["T_VARIABLE","$response",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$headerSize",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$resp",206],"[",["T_CONSTANT_ENCAPSED_STRING","\"meta\"",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","curl_getinfo",206],"(",["T_VARIABLE","$curl",206],")",";",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$resp",207],"[",["T_CONSTANT_ENCAPSED_STRING","\"meta\"",207],"]",["T_WHITESPACE"," ",207],["T_IS_IDENTICAL","===",207],["T_WHITESPACE"," ",207],["T_STRING","false",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_NS_SEPARATOR","\\",208],["T_STRING","Exception",208],"(",["T_STRING","curl_error",208],"(",["T_VARIABLE","$curl",208],")",")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_STRING","curl_close",211],"(",["T_VARIABLE","$curl",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$meta",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$resp",213],"[",["T_CONSTANT_ENCAPSED_STRING","\"meta\"",213],"]",";",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$meta",214],["T_WHITESPACE"," ",214],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$meta",214],"[",["T_CONSTANT_ENCAPSED_STRING","'http_code'",214],"]",["T_WHITESPACE"," ",214],["T_IS_GREATER_OR_EQUAL",">=",214],["T_WHITESPACE"," ",214],["T_LNUMBER","400",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_THROW","throw",215],["T_WHITESPACE"," ",215],["T_NEW","new",215],["T_WHITESPACE"," ",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Exception",215],"(",["T_VARIABLE","$resp",215],"[",["T_CONSTANT_ENCAPSED_STRING","\"body\"",215],"]",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$meta",215],"[",["T_CONSTANT_ENCAPSED_STRING","'http_code'",215],"]",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$resp",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Constructs and returns a curl options array\n     *\n     * @param array $customCurlOpts Additional \/ overridden cURL options\n     * @param array $headers\n     * @return array\n     *\/",221],["T_WHITESPACE","\n    ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","_getCurlOptions",228],"(",["T_VARIABLE","$customCurlOpts",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],"[","]",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$headers",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],"[","]",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_COMMENT","\/\/ default curl options\n",230],["T_WHITESPACE","        ",231],["T_VARIABLE","$curlOpts",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],"[",["T_WHITESPACE","\n            ",231],["T_STRING","CURLOPT_RETURNTRANSFER",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","true",232],",",["T_WHITESPACE"," ",232],["T_COMMENT","\/\/ return result instead of echoing\n",232],["T_WHITESPACE","            ",233],["T_STRING","CURLOPT_SSL_VERIFYPEER",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_STRING","false",233],",",["T_WHITESPACE"," ",233],["T_COMMENT","\/\/ stop cURL from verifying the peer's certificate\n",233],["T_WHITESPACE","            ",234],["T_STRING","CURLOPT_FOLLOWLOCATION",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","false",234],",",["T_WHITESPACE"," ",234],["T_COMMENT","\/\/ follow redirects, Location: headers\n",234],["T_WHITESPACE","            ",235],["T_STRING","CURLOPT_MAXREDIRS",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_LNUMBER","10",235],",",["T_WHITESPACE"," ",235],["T_COMMENT","\/\/ but don't redirect more than 10 times\n",235],["T_WHITESPACE","            ",236],["T_STRING","CURLOPT_HTTPHEADER",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],"[","]",",",["T_WHITESPACE","\n            ",236],["T_STRING","CURLOPT_HEADER",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_LNUMBER","1",237],",",["T_WHITESPACE","\n        ",237],"]",";",["T_WHITESPACE","\n\n        ",238],["T_COMMENT","\/\/ merge headers\n",240],["T_WHITESPACE","        ",241],["T_VARIABLE","$headers",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","array_merge",241],"(",["T_VARIABLE","$curlOpts",241],"[",["T_STRING","CURLOPT_HTTPHEADER",241],"]",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$headers",241],")",";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_STRING","TESTS_XDEBUG_ENABLED",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$headers",243],"[","]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'Cookie: XDEBUG_SESSION='",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_STRING","TESTS_XDEBUG_SESSION",243],";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$curlOpts",245],"[",["T_STRING","CURLOPT_HTTPHEADER",245],"]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$headers",245],";",["T_WHITESPACE","\n\n        ",245],["T_COMMENT","\/\/ merge custom Curl Options & return\n",247],["T_WHITESPACE","        ",248],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$customCurlOpts",248],["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$opt",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$val",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$curlOpts",249],"[",["T_VARIABLE","$opt",249],"]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$val",249],";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$curlOpts",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * JSON encode with error checking\n     *\n     * @param mixed $data\n     * @return string\n     * @throws \\Exception\n     *\/",255],["T_WHITESPACE","\n    ",261],["T_PROTECTED","protected",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","_jsonEncode",262],"(",["T_VARIABLE","$data",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$ret",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","json_encode",264],"(",["T_VARIABLE","$data",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_checkJsonError",265],"(",["T_VARIABLE","$data",265],")",";",["T_WHITESPACE","\n\n        ",265],["T_COMMENT","\/\/ return the json String\n",267],["T_WHITESPACE","        ",268],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$ret",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * Decode a JSON string with error checking\n     *\n     * @param string $data\n     * @param bool $asArray\n     * @throws \\Exception\n     * @return mixed\n     *\/",271],["T_WHITESPACE","\n    ",278],["T_PROTECTED","protected",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","_jsonDecode",279],"(",["T_VARIABLE","$data",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$asArray",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","true",279],")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$ret",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","json_decode",281],"(",["T_VARIABLE","$data",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$asArray",281],")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_checkJsonError",282],"(",["T_VARIABLE","$data",282],")",";",["T_WHITESPACE","\n\n        ",282],["T_COMMENT","\/\/ return the array\n",284],["T_WHITESPACE","        ",285],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$ret",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Checks for JSON error in the latest encoding \/ decoding and throws an exception in case of error\n     *\n     * @throws \\Exception\n     *\/",288],["T_WHITESPACE","\n    ",292],["T_PROTECTED","protected",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","_checkJsonError",293],"(",")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$jsonError",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","json_last_error",295],"(",")",";",["T_WHITESPACE","\n        ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$jsonError",296],["T_WHITESPACE"," ",296],["T_IS_NOT_IDENTICAL","!==",296],["T_WHITESPACE"," ",296],["T_STRING","JSON_ERROR_NONE",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_COMMENT","\/\/ find appropriate error message\n",297],["T_WHITESPACE","            ",298],["T_VARIABLE","$message",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'Unknown JSON Error'",298],";",["T_WHITESPACE","\n            ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_ISSET","isset",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_jsonErrorMessages",299],"[",["T_VARIABLE","$jsonError",299],"]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$message",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_jsonErrorMessages",300],"[",["T_VARIABLE","$jsonError",300],"]",";",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE","\n\n            ",301],["T_THROW","throw",303],["T_WHITESPACE"," ",303],["T_NEW","new",303],["T_WHITESPACE"," ",303],["T_NS_SEPARATOR","\\",303],["T_STRING","Exception",303],"(",["T_WHITESPACE","\n                ",303],["T_CONSTANT_ENCAPSED_STRING","'JSON Encoding \/ Decoding error: '",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$message",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_STRING","var_export",304],"(",["T_STRING","func_get_arg",304],"(",["T_LNUMBER","0",304],")",",",["T_WHITESPACE"," ",304],["T_STRING","true",304],")",",",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$jsonError",305],["T_WHITESPACE","\n            ",305],")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n",308],"}",["T_WHITESPACE","\n",309]]