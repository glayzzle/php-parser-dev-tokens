[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Helper class for generating OAuth related credentials\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Authentication",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Authentication",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Rest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","OauthClient",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestFramework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Bootstrap",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","OAuth",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Common",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Consumer",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Credentials",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Zend",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Stdlib",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Exception",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LogicException",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Integration",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Model",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Integration",14],";",["T_WHITESPACE","\n\n",14],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","OauthHelper",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/** @var array *\/",18],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_apiCredentials",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Generate authentication credentials\n     * @param string $date consumer creation date\n     * @return array\n     * <pre>\n     * array (\n     *   'key' => 'ajdsjashgdkahsdlkjasldkjals', \/\/consumer key\n     *   'secret' => 'alsjdlaskjdlaksjdlasjkdlas', \/\/consumer secret\n     *   'verifier' => 'oiudioqueoiquweoiqwueoqwuii'\n     *   'consumer' => $consumer, \/\/ retrieved consumer Model\n     *   'token' => $token \/\/ retrieved token Model\n     *   );\n     * <\/pre>\n     *\/",21],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","getConsumerCredentials",35],"(",["T_VARIABLE","$date",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","null",35],")",["T_WHITESPACE","\n    ",35],"{",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$integration",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","_createIntegration",37],"(",["T_CONSTANT_ENCAPSED_STRING","'all'",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$objectManager",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","Bootstrap",38],["T_DOUBLE_COLON","::",38],["T_STRING","getObjectManager",38],"(",")",";",["T_WHITESPACE","\n        ",38],["T_DOC_COMMENT","\/** @var $oauthService \\Magento\\Integration\\Api\\OauthServiceInterface *\/",39],["T_WHITESPACE","\n        ",39],["T_VARIABLE","$oauthService",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$objectManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Integration",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Api",40],["T_NS_SEPARATOR","\\",40],["T_STRING","OauthServiceInterface",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$consumer",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$oauthService",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","loadConsumer",41],"(",["T_VARIABLE","$integration",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getConsumerId",41],"(",")",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$url",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","TESTS_BASE_URL",42],";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$consumer",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setCallbackUrl",43],"(",["T_VARIABLE","$url",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$consumer",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setRejectedCallbackUrl",44],"(",["T_VARIABLE","$url",44],")",";",["T_WHITESPACE","\n        ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$date",45],["T_WHITESPACE"," ",45],["T_IS_NOT_IDENTICAL","!==",45],["T_WHITESPACE"," ",45],["T_STRING","null",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$consumer",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setCreatedAt",46],"(",["T_VARIABLE","$date",46],")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$consumer",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$token",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$objectManager",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","create",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Integration",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Model",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Oauth",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Token",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$verifier",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$token",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createVerifierToken",50],"(",["T_VARIABLE","$consumer",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getId",50],"(",")",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getVerifier",50],"(",")",";",["T_WHITESPACE","\n\n        ",50],["T_RETURN","return",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'key'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$consumer",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getKey",53],"(",")",",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'secret'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$consumer",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getSecret",54],"(",")",",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'verifier'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$verifier",55],",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'consumer'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$consumer",56],",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'token'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$token",57],["T_WHITESPACE","\n        ",57],"]",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Create an access token to associated to a consumer to access APIs. No resources are available to this consumer.\n     *\n     * @return array comprising of token  key and secret\n     * <pre>\n     * array (\n     *   'key' => 'ajdsjashgdkahsdlkjasldkjals', \/\/token key\n     *   'secret' => 'alsjdlaskjdlaksjdlasjkdlas', \/\/token secret\n     *   'oauth_client' => $oauthClient \/\/ OauthClient instance used to fetch the access token\n     *   );\n     * <\/pre>\n     *\/",61],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_STATIC","static",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","getAccessToken",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$consumerCredentials",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","self",75],["T_DOUBLE_COLON","::",75],["T_STRING","getConsumerCredentials",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$credentials",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","Credentials",76],"(",["T_VARIABLE","$consumerCredentials",76],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",76],"]",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$consumerCredentials",76],"[",["T_CONSTANT_ENCAPSED_STRING","'secret'",76],"]",",",["T_WHITESPACE"," ",76],["T_STRING","TESTS_BASE_URL",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$oAuthClient",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","OauthClient",77],"(",["T_VARIABLE","$credentials",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$requestToken",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$oAuthClient",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","requestRequestToken",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$accessToken",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$oAuthClient",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","requestAccessToken",79],"(",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$requestToken",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getRequestToken",80],"(",")",",",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$consumerCredentials",81],"[",["T_CONSTANT_ENCAPSED_STRING","'verifier'",81],"]",",",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$requestToken",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getRequestTokenSecret",82],"(",")",["T_WHITESPACE","\n        ",82],")",";",["T_WHITESPACE","\n\n        ",83],["T_DOC_COMMENT","\/** TODO: Reconsider return format. It is not aligned with method name. *\/",85],["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n            ",86],["T_CONSTANT_ENCAPSED_STRING","'key'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$accessToken",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getAccessToken",87],"(",")",",",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'secret'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$accessToken",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getAccessTokenSecret",88],"(",")",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'oauth_client'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$oAuthClient",89],["T_WHITESPACE","\n        ",89],"]",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Create an access token, tied to integration which has permissions to all API resources in the system.\n     *\n     * @param array $resources list of resources to grant to the integration\n     * @param \\Magento\\Integration\\Model\\Integration|null $integrationModel\n     * @return array\n     * <pre>\n     * array (\n     *   'key' => 'ajdsjashgdkahsdlkjasldkjals', \/\/token key\n     *   'secret' => 'alsjdlaskjdlaksjdlasjkdlas', \/\/token secret\n     *   'oauth_client' => $oauthClient \/\/ OauthClient instance used to fetch the access token\n     *   'integration' => $integration \/\/ Integration instance associated with access token\n     *   );\n     * <\/pre>\n     * @throws LogicException\n     *\/",93],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_STATIC","static",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","getApiAccessCredentials",109],"(",["T_VARIABLE","$resources",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","null",109],",",["T_WHITESPACE"," ",109],["T_STRING","Integration",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$integrationModel",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","null",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_STRING","self",111],["T_DOUBLE_COLON","::",111],["T_VARIABLE","$_apiCredentials",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$integration",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$integrationModel",112],["T_WHITESPACE"," ",112],["T_IS_IDENTICAL","===",112],["T_WHITESPACE"," ",112],["T_STRING","null",112],["T_WHITESPACE"," ",112],"?",["T_WHITESPACE"," ",112],["T_STRING","self",112],["T_DOUBLE_COLON","::",112],["T_STRING","_createIntegration",112],"(",["T_VARIABLE","$resources",112],")",["T_WHITESPACE"," ",112],":",["T_WHITESPACE"," ",112],["T_VARIABLE","$integrationModel",112],";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$objectManager",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Bootstrap",113],["T_DOUBLE_COLON","::",113],["T_STRING","getObjectManager",113],"(",")",";",["T_WHITESPACE","\n            ",113],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\OauthServiceInterface $oauthService *\/",114],["T_WHITESPACE","\n            ",114],["T_VARIABLE","$oauthService",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$objectManager",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","get",115],"(",["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Integration",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Api",115],["T_NS_SEPARATOR","\\",115],["T_STRING","OauthServiceInterface",115],["T_DOUBLE_COLON","::",115],["T_CLASS","class",115],")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$oauthService",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","createAccessToken",116],"(",["T_VARIABLE","$integration",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getConsumerId",116],"(",")",")",";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$accessToken",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$oauthService",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getAccessToken",117],"(",["T_VARIABLE","$integration",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getConsumerId",117],"(",")",")",";",["T_WHITESPACE","\n            ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$accessToken",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_THROW","throw",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","LogicException",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Access token was not created.'",119],")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$consumer",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$oauthService",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","loadConsumer",121],"(",["T_VARIABLE","$integration",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getConsumerId",121],"(",")",")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$credentials",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Credentials",122],"(",["T_VARIABLE","$consumer",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getKey",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$consumer",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getSecret",122],"(",")",",",["T_WHITESPACE"," ",122],["T_STRING","TESTS_BASE_URL",122],")",";",["T_WHITESPACE","\n            ",122],["T_DOC_COMMENT","\/** @var $oAuthClient OauthClient *\/",123],["T_WHITESPACE","\n            ",123],["T_VARIABLE","$oAuthClient",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","OauthClient",124],"(",["T_VARIABLE","$credentials",124],")",";",["T_WHITESPACE","\n\n            ",124],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_VARIABLE","$_apiCredentials",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'key'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$accessToken",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getToken",127],"(",")",",",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","'secret'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$accessToken",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getSecret",128],"(",")",",",["T_WHITESPACE","\n                ",128],["T_CONSTANT_ENCAPSED_STRING","'oauth_client'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$oAuthClient",129],",",["T_WHITESPACE","\n                ",129],["T_CONSTANT_ENCAPSED_STRING","'integration'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$integration",130],",",["T_WHITESPACE","\n            ",130],"]",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_VARIABLE","$_apiCredentials",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Forget API access credentials.\n     *\/",136],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_STATIC","static",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","clearApiAccessCredentials",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_VARIABLE","$_apiCredentials",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","false",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Remove fs element with nested elements.\n     *\n     * @param string $dir\n     * @param bool   $doSaveRoot\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_STATIC","static",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","_rmRecursive",150],"(",["T_VARIABLE","$dir",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$doSaveRoot",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","false",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_STRING","is_dir",152],"(",["T_VARIABLE","$dir",152],")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_STRING","glob",153],"(",["T_VARIABLE","$dir",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'\/*'",153],")",["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$object",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_STRING","is_dir",154],"(",["T_VARIABLE","$object",154],")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_STRING","_rmRecursive",155],"(",["T_VARIABLE","$object",155],")",";",["T_WHITESPACE","\n                ",155],"}",["T_WHITESPACE"," ",156],["T_ELSE","else",156],["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                    ",156],["T_STRING","unlink",157],"(",["T_VARIABLE","$object",157],")",";",["T_WHITESPACE","\n                ",157],"}",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n            ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_VARIABLE","$doSaveRoot",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_STRING","rmdir",161],"(",["T_VARIABLE","$dir",161],")",";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE"," ",163],["T_ELSE","else",163],["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_STRING","unlink",164],"(",["T_VARIABLE","$dir",164],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Create integration instance.\n     *\n     * @param array $resources\n     * @return \\Magento\\Integration\\Model\\Integration\n     * @throws \\Zend\\Stdlib\\Exception\\LogicException\n     *\/",168],["T_WHITESPACE","\n    ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_STATIC","static",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","_createIntegration",175],"(",["T_VARIABLE","$resources",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$objectManager",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","Bootstrap",177],["T_DOUBLE_COLON","::",177],["T_STRING","getObjectManager",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_DOC_COMMENT","\/** @var $integrationService \\Magento\\Integration\\Api\\IntegrationServiceInterface *\/",178],["T_WHITESPACE","\n        ",178],["T_VARIABLE","$integrationService",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$objectManager",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_NS_SEPARATOR","\\",179],["T_STRING","Magento",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Integration",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Api",179],["T_NS_SEPARATOR","\\",179],["T_STRING","IntegrationServiceInterface",179],["T_DOUBLE_COLON","::",179],["T_CLASS","class",179],")",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$params",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'Integration'",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_STRING","microtime",181],"(",")","]",";",["T_WHITESPACE","\n\n        ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$resources",183],["T_WHITESPACE"," ",183],["T_IS_IDENTICAL","===",183],["T_WHITESPACE"," ",183],["T_STRING","null",183],["T_WHITESPACE"," ",183],["T_BOOLEAN_OR","||",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$resources",183],["T_WHITESPACE"," ",183],["T_IS_EQUAL","==",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'all'",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$params",184],"[",["T_CONSTANT_ENCAPSED_STRING","'all_resources'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","true",184],";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$params",186],"[",["T_CONSTANT_ENCAPSED_STRING","'resource'",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$resources",186],";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$integration",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$integrationService",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","create",188],"(",["T_VARIABLE","$params",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$integration",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setStatus",189],"(",["T_NS_SEPARATOR","\\",189],["T_STRING","Magento",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Integration",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Model",189],["T_NS_SEPARATOR","\\",189],["T_STRING","Integration",189],["T_DOUBLE_COLON","::",189],["T_STRING","STATUS_ACTIVE",189],")",["T_OBJECT_OPERATOR","->",189],["T_STRING","save",189],"(",")",";",["T_WHITESPACE","\n\n        ",189],["T_DOC_COMMENT","\/** Magento cache must be cleared to activate just created ACL role. *\/",191],["T_WHITESPACE","\n        ",191],["T_VARIABLE","$varPath",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","realpath",192],"(",["T_STRING","BP",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/var'",192],")",";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_VARIABLE","$varPath",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_THROW","throw",194],["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_STRING","LogicException",194],"(",["T_CONSTANT_ENCAPSED_STRING","\"Magento cache cannot be cleared after new ACL role creation.\"",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE"," ",195],["T_ELSE","else",195],["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$cachePath",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$varPath",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'\/cache'",196],";",["T_WHITESPACE","\n            ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_STRING","is_dir",197],"(",["T_VARIABLE","$cachePath",197],")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_STRING","self",198],["T_DOUBLE_COLON","::",198],["T_STRING","_rmRecursive",198],"(",["T_VARIABLE","$cachePath",198],",",["T_WHITESPACE"," ",198],["T_STRING","true",198],")",";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$integration",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n",202],"}",["T_WHITESPACE","\n",203]]