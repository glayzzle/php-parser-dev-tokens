[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Framework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InputException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Integration",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Oauth",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Token",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","TokenModel",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestFramework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Helper",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Bootstrap",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestCase",12],["T_NS_SEPARATOR","\\",12],["T_STRING","WebapiAbstract",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","User",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","User",13],["T_WHITESPACE"," ",13],["T_AS","as",13],["T_WHITESPACE"," ",13],["T_STRING","UserModel",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Framework",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Webapi",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_WHITESPACE"," ",14],["T_AS","as",14],["T_WHITESPACE"," ",14],["T_STRING","HTTPExceptionCodes",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Integration",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Model",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Oauth",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Token",15],["T_NS_SEPARATOR","\\",15],["T_STRING","RequestLog",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Config",15],["T_WHITESPACE"," ",15],["T_AS","as",15],["T_WHITESPACE"," ",15],["T_STRING","TokenThrottlerConfig",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * api-functional test for \\Magento\\Integration\\Model\\AdminTokenService.\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",17],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","AdminTokenServiceTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WebapiAbstract",21],["T_WHITESPACE","\n",21],"{",["T_WHITESPACE","\n    ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","SERVICE_NAME",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\"integrationAdminTokenServiceV1\"",23],";",["T_WHITESPACE","\n    ",23],["T_CONST","const",24],["T_WHITESPACE"," ",24],["T_STRING","SERVICE_VERSION",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","\"V1\"",24],";",["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","RESOURCE_PATH_ADMIN_TOKEN",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","\"\/V1\/integration\/admin\/token\"",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Integration\\Api\\AdminTokenServiceInterface\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$tokenService",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var TokenModel\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$tokenModel",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var UserModel\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$userModel",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$attemptsCountToLockAccount",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Setup AdminTokenService\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","setUp",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_markTestAsRestOnly",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","tokenService",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","Bootstrap",53],["T_DOUBLE_COLON","::",53],["T_STRING","getObjectManager",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Integration",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Model",53],["T_NS_SEPARATOR","\\",53],["T_STRING","AdminTokenService",53],["T_DOUBLE_COLON","::",53],["T_CLASS","class",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","tokenModel",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","Bootstrap",54],["T_DOUBLE_COLON","::",54],["T_STRING","getObjectManager",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Integration",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Oauth",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Token",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","userModel",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","Bootstrap",55],["T_DOUBLE_COLON","::",55],["T_STRING","getObjectManager",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","User",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","User",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],")",";",["T_WHITESPACE","\n        ",55],["T_DOC_COMMENT","\/** @var TokenThrottlerConfig $tokenThrottlerConfig *\/",56],["T_WHITESPACE","\n        ",56],["T_VARIABLE","$tokenThrottlerConfig",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","Bootstrap",57],["T_DOUBLE_COLON","::",57],["T_STRING","getObjectManager",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_STRING","TokenThrottlerConfig",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","attemptsCountToLockAccount",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$tokenThrottlerConfig",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getMaxFailuresCount",58],"(",")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Webapi\/_files\/webapi_user.php\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testCreateAdminAccessToken",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$adminUserNameFromFixture",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'webapi_user'",66],";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$serviceInfo",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'rest'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_STRING","RESOURCE_PATH_ADMIN_TOKEN",70],",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Webapi",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Rest",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Request",71],["T_DOUBLE_COLON","::",71],["T_STRING","HTTP_METHOD_POST",71],",",["T_WHITESPACE","\n            ",71],"]",",",["T_WHITESPACE","\n        ",72],"]",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$requestData",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'username'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$adminUserNameFromFixture",75],",",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'password'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","TestFramework",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Bootstrap",76],["T_DOUBLE_COLON","::",76],["T_STRING","ADMIN_PASSWORD",76],",",["T_WHITESPACE","\n        ",76],"]",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$accessToken",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_webApiCall",78],"(",["T_VARIABLE","$serviceInfo",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$requestData",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertToken",79],"(",["T_VARIABLE","$adminUserNameFromFixture",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$accessToken",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @dataProvider validationDataProvider\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testCreateAdminAccessTokenEmptyOrNullCredentials",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$noExceptionOccurred",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","false",87],";",["T_WHITESPACE","\n        ",87],["T_TRY","try",88],["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$serviceInfo",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[",["T_WHITESPACE","\n                ",89],["T_CONSTANT_ENCAPSED_STRING","'rest'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],"[",["T_WHITESPACE","\n                    ",90],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","RESOURCE_PATH_ADMIN_TOKEN",91],",",["T_WHITESPACE","\n                    ",91],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Magento",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Framework",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Webapi",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Rest",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Request",92],["T_DOUBLE_COLON","::",92],["T_STRING","HTTP_METHOD_POST",92],",",["T_WHITESPACE","\n                ",92],"]",",",["T_WHITESPACE","\n            ",93],"]",";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$requestData",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","''",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'password'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","''",95],"]",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_webApiCall",96],"(",["T_VARIABLE","$serviceInfo",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$requestData",96],")",";",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$noExceptionOccurred",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","true",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE"," ",98],["T_CATCH","catch",98],["T_WHITESPACE"," ",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Exception",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$e",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertInputExceptionMessages",99],"(",["T_VARIABLE","$e",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$noExceptionOccurred",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","fail",102],"(",["T_CONSTANT_ENCAPSED_STRING","\"Exception was expected to be thrown when provided credentials are invalid.\"",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","testCreateAdminAccessTokenInvalidCredentials",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$customerUserName",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'invalid'",108],";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$password",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'invalid'",109],";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$noExceptionOccurred",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","false",110],";",["T_WHITESPACE","\n        ",110],["T_TRY","try",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$serviceInfo",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[",["T_WHITESPACE","\n                ",112],["T_CONSTANT_ENCAPSED_STRING","'rest'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],"[",["T_WHITESPACE","\n                    ",113],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","RESOURCE_PATH_ADMIN_TOKEN",114],",",["T_WHITESPACE","\n                    ",114],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Magento",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Framework",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Webapi",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Rest",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Request",115],["T_DOUBLE_COLON","::",115],["T_STRING","HTTP_METHOD_POST",115],",",["T_WHITESPACE","\n                ",115],"]",",",["T_WHITESPACE","\n            ",116],"]",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$requestData",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$customerUserName",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'password'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$password",118],"]",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_webApiCall",119],"(",["T_VARIABLE","$serviceInfo",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$requestData",119],")",";",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$noExceptionOccurred",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","true",120],";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE"," ",121],["T_CATCH","catch",121],["T_WHITESPACE"," ",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Exception",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$e",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertInvalidCredentialsException",122],"(",["T_VARIABLE","$e",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$noExceptionOccurred",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","fail",125],"(",["T_CONSTANT_ENCAPSED_STRING","\"Exception was expected to be thrown when provided credentials are invalid.\"",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Provider to test input validation\n     *\n     * @return array\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","validationDataProvider",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],"[",["T_WHITESPACE","\n            ",136],["T_CONSTANT_ENCAPSED_STRING","'Check for empty credentials'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],"[",["T_CONSTANT_ENCAPSED_STRING","''",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","''",137],"]",",",["T_WHITESPACE","\n            ",137],["T_CONSTANT_ENCAPSED_STRING","'Check for null credentials'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],"[",["T_STRING","null",138],",",["T_WHITESPACE"," ",138],["T_STRING","null",138],"]",["T_WHITESPACE","\n        ",138],"]",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Webapi\/_files\/webapi_user.php\n     *\/",142],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","testThrottlingMaxAttempts",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$adminUserNameFromFixture",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'webapi_user'",147],";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$serviceInfo",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'rest'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],"[",["T_WHITESPACE","\n                ",150],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","self",151],["T_DOUBLE_COLON","::",151],["T_STRING","RESOURCE_PATH_ADMIN_TOKEN",151],",",["T_WHITESPACE","\n                ",151],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Framework",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Webapi",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Rest",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Request",152],["T_DOUBLE_COLON","::",152],["T_STRING","HTTP_METHOD_POST",152],",",["T_WHITESPACE","\n            ",152],"]",",",["T_WHITESPACE","\n        ",153],"]",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$invalidCredentials",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'username'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$adminUserNameFromFixture",156],",",["T_WHITESPACE","\n            ",156],["T_CONSTANT_ENCAPSED_STRING","'password'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'invalid'",157],",",["T_WHITESPACE","\n        ",157],"]",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$validCredentials",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],"[",["T_WHITESPACE","\n            ",159],["T_CONSTANT_ENCAPSED_STRING","'username'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$adminUserNameFromFixture",160],",",["T_WHITESPACE","\n            ",160],["T_CONSTANT_ENCAPSED_STRING","'password'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","TestFramework",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Bootstrap",161],["T_DOUBLE_COLON","::",161],["T_STRING","ADMIN_PASSWORD",161],",",["T_WHITESPACE","\n        ",161],"]",";",["T_WHITESPACE","\n\n        ",162],["T_COMMENT","\/* Try to get token using invalid credentials for 5 times (account is locked after 6 attempts) *\/",164],["T_WHITESPACE","\n        ",164],["T_VARIABLE","$noExceptionOccurred",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","false",165],";",["T_WHITESPACE","\n        ",165],["T_FOR","for",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$i",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_LNUMBER","0",166],";",["T_WHITESPACE"," ",166],["T_VARIABLE","$i",166],["T_WHITESPACE"," ",166],"<",["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","attemptsCountToLockAccount",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_LNUMBER","1",166],")",";",["T_WHITESPACE"," ",166],["T_VARIABLE","$i",166],["T_INC","++",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_TRY","try",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_webApiCall",168],"(",["T_VARIABLE","$serviceInfo",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$invalidCredentials",168],")",";",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$noExceptionOccurred",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","true",169],";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE"," ",170],["T_CATCH","catch",170],["T_WHITESPACE"," ",170],"(",["T_NS_SEPARATOR","\\",170],["T_STRING","Exception",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$e",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$noExceptionOccurred",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","fail",174],"(",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","\"Precondition failed: exception should have occurred when token was requested with invalid credentials.\"",175],["T_WHITESPACE","\n            ",175],")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n\n        ",177],["T_DOC_COMMENT","\/** On 6th attempt it still should be possible to get token if valid credentials are specified *\/",179],["T_WHITESPACE","\n        ",179],["T_VARIABLE","$accessToken",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_webApiCall",180],"(",["T_VARIABLE","$serviceInfo",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$validCredentials",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertToken",181],"(",["T_VARIABLE","$adminUserNameFromFixture",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$accessToken",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Webapi\/_files\/webapi_user.php\n     *\/",184],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","testThrottlingAccountLockout",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$adminUserNameFromFixture",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'webapi_user'",189],";",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$serviceInfo",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],"[",["T_WHITESPACE","\n            ",191],["T_CONSTANT_ENCAPSED_STRING","'rest'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],"[",["T_WHITESPACE","\n                ",192],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","RESOURCE_PATH_ADMIN_TOKEN",193],",",["T_WHITESPACE","\n                ",193],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Framework",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Webapi",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Rest",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Request",194],["T_DOUBLE_COLON","::",194],["T_STRING","HTTP_METHOD_POST",194],",",["T_WHITESPACE","\n            ",194],"]",",",["T_WHITESPACE","\n        ",195],"]",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$invalidCredentials",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],"[",["T_WHITESPACE","\n            ",197],["T_CONSTANT_ENCAPSED_STRING","'username'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$adminUserNameFromFixture",198],",",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'password'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'invalid'",199],",",["T_WHITESPACE","\n        ",199],"]",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$validCredentials",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[",["T_WHITESPACE","\n            ",201],["T_CONSTANT_ENCAPSED_STRING","'username'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$adminUserNameFromFixture",202],",",["T_WHITESPACE","\n            ",202],["T_CONSTANT_ENCAPSED_STRING","'password'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Magento",203],["T_NS_SEPARATOR","\\",203],["T_STRING","TestFramework",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Bootstrap",203],["T_DOUBLE_COLON","::",203],["T_STRING","ADMIN_PASSWORD",203],",",["T_WHITESPACE","\n        ",203],"]",";",["T_WHITESPACE","\n\n        ",204],["T_COMMENT","\/* Try to get token using invalid credentials for 5 times (account would be locked after 6 attempts) *\/",206],["T_WHITESPACE","\n        ",206],["T_VARIABLE","$noExceptionOccurred",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","false",207],";",["T_WHITESPACE","\n        ",207],["T_FOR","for",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$i",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_LNUMBER","0",208],";",["T_WHITESPACE"," ",208],["T_VARIABLE","$i",208],["T_WHITESPACE"," ",208],"<",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","attemptsCountToLockAccount",208],";",["T_WHITESPACE"," ",208],["T_VARIABLE","$i",208],["T_INC","++",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_TRY","try",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_webApiCall",210],"(",["T_VARIABLE","$serviceInfo",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$invalidCredentials",210],")",";",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$noExceptionOccurred",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","true",211],";",["T_WHITESPACE","\n            ",211],"}",["T_WHITESPACE"," ",212],["T_CATCH","catch",212],["T_WHITESPACE"," ",212],"(",["T_NS_SEPARATOR","\\",212],["T_STRING","Exception",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$e",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertInvalidCredentialsException",213],"(",["T_VARIABLE","$e",213],")",";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n            ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$noExceptionOccurred",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","fail",216],"(",["T_CONSTANT_ENCAPSED_STRING","\"Exception was expected to be thrown when provided credentials are invalid.\"",216],")",";",["T_WHITESPACE","\n            ",216],"}",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n\n        ",218],["T_VARIABLE","$noExceptionOccurred",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","false",220],";",["T_WHITESPACE","\n        ",220],["T_TRY","try",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_webApiCall",222],"(",["T_VARIABLE","$serviceInfo",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$validCredentials",222],")",";",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$noExceptionOccurred",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","true",223],";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE"," ",224],["T_CATCH","catch",224],["T_WHITESPACE"," ",224],"(",["T_NS_SEPARATOR","\\",224],["T_STRING","Exception",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$e",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertInvalidCredentialsException",225],"(",["T_VARIABLE","$e",225],")",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$noExceptionOccurred",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","fail",228],"(",["T_CONSTANT_ENCAPSED_STRING","\"Exception was expected to be thrown because account should have been locked at this point.\"",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Assert for presence of Input exception messages\n     *\n     * @param \\Exception $e\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PRIVATE","private",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","assertInputExceptionMessages",237],"(",["T_VARIABLE","$e",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEquals",239],"(",["T_STRING","HTTPExceptionCodes",239],["T_DOUBLE_COLON","::",239],["T_STRING","HTTP_BAD_REQUEST",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$e",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getCode",239],"(",")",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$exceptionData",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","processRestExceptionResult",240],"(",["T_VARIABLE","$e",240],")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$expectedExceptionData",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n            ",241],["T_CONSTANT_ENCAPSED_STRING","'message'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'One or more input exceptions have occurred.'",242],",",["T_WHITESPACE","\n            ",242],["T_CONSTANT_ENCAPSED_STRING","'errors'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],"[",["T_WHITESPACE","\n                ",243],"[",["T_WHITESPACE","\n                    ",244],["T_CONSTANT_ENCAPSED_STRING","'message'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'%fieldName is a required field.'",245],",",["T_WHITESPACE","\n                    ",245],["T_CONSTANT_ENCAPSED_STRING","'parameters'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],"[",["T_WHITESPACE","\n                        ",246],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'username'",247],",",["T_WHITESPACE","\n                    ",247],"]",",",["T_WHITESPACE","\n                ",248],"]",",",["T_WHITESPACE","\n                ",249],"[",["T_WHITESPACE","\n                    ",250],["T_CONSTANT_ENCAPSED_STRING","'message'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'%fieldName is a required field.'",251],",",["T_WHITESPACE","\n                    ",251],["T_CONSTANT_ENCAPSED_STRING","'parameters'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],"[",["T_WHITESPACE","\n                        ",252],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'password'",253],",",["T_WHITESPACE","\n                    ",253],"]",["T_WHITESPACE","\n                ",254],"]",",",["T_WHITESPACE","\n            ",255],"]",",",["T_WHITESPACE","\n        ",256],"]",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertEquals",258],"(",["T_VARIABLE","$expectedExceptionData",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$exceptionData",258],")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Make sure that status code and message are correct in case of authentication failure.\n     *\n     * @param \\Exception $e\n     *\/",261],["T_WHITESPACE","\n    ",265],["T_PRIVATE","private",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","assertInvalidCredentialsException",266],"(",["T_VARIABLE","$e",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertEquals",268],"(",["T_STRING","HTTPExceptionCodes",268],["T_DOUBLE_COLON","::",268],["T_STRING","HTTP_UNAUTHORIZED",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$e",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getCode",268],"(",")",",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","\"Response HTTP code is invalid.\"",268],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$exceptionData",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","processRestExceptionResult",269],"(",["T_VARIABLE","$e",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$expectedExceptionData",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],"[",["T_WHITESPACE","\n            ",270],["T_CONSTANT_ENCAPSED_STRING","'message'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'You did not sign in correctly or your account is temporarily disabled.'",271],["T_WHITESPACE","\n        ",271],"]",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEquals",273],"(",["T_VARIABLE","$expectedExceptionData",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$exceptionData",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","\"Exception message is invalid.\"",273],")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Make sure provided token is valid and belongs to the specified user.\n     *\n     * @param string $username\n     * @param string $accessToken\n     *\/",276],["T_WHITESPACE","\n    ",281],["T_PRIVATE","private",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","assertToken",282],"(",["T_VARIABLE","$username",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$accessToken",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$adminUserId",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","userModel",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","loadByUsername",284],"(",["T_VARIABLE","$username",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getId",284],"(",")",";",["T_WHITESPACE","\n        ",284],["T_DOC_COMMENT","\/** @var $token TokenModel *\/",285],["T_WHITESPACE","\n        ",285],["T_VARIABLE","$token",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","tokenModel",286],["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","loadByAdminId",287],"(",["T_VARIABLE","$adminUserId",287],")",["T_WHITESPACE","\n            ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","getToken",288],"(",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertEquals",289],"(",["T_VARIABLE","$accessToken",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$token",289],")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n",290],"}",["T_WHITESPACE","\n",291]]