[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestCase",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebapiAbstract",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","CouponManagementTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebapiAbstract",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_CONST","const",14],["T_WHITESPACE"," ",14],["T_STRING","SERVICE_VERSION",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'V1'",14],";",["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","SERVICE_NAME",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'quoteCouponManagementV1'",15],";",["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","RESOURCE_PATH",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/carts\/'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$objectManager",21],";",["T_WHITESPACE","\n\n    ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","objectManager",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestFramework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Helper",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Bootstrap",25],["T_DOUBLE_COLON","::",25],["T_STRING","getObjectManager",25],"(",")",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_coupon_saved.php\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testGet",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote  $quote *\/",33],["T_WHITESPACE","\n        ",33],["T_VARIABLE","$quote",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","objectManager",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","create",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Quote",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Quote",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$quote",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","load",35],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",35],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$cartId",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$quote",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getId",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$couponCode",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$quote",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getCouponCode",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$serviceInfo",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'rest'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],"[",["T_WHITESPACE","\n                ",39],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","self",40],["T_DOUBLE_COLON","::",40],["T_STRING","RESOURCE_PATH",40],["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_VARIABLE","$cartId",40],["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'\/coupons\/'",40],["T_WHITESPACE"," ",40],",",["T_WHITESPACE","\n                ",40],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Framework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Webapi",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Rest",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Request",41],["T_DOUBLE_COLON","::",41],["T_STRING","HTTP_METHOD_GET",41],",",["T_WHITESPACE","\n            ",41],"]",",",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'soap'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n                ",43],["T_CONSTANT_ENCAPSED_STRING","'service'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","self",44],["T_DOUBLE_COLON","::",44],["T_STRING","SERVICE_NAME",44],",",["T_WHITESPACE","\n                ",44],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","self",45],["T_DOUBLE_COLON","::",45],["T_STRING","SERVICE_VERSION",45],",",["T_WHITESPACE","\n                ",45],["T_CONSTANT_ENCAPSED_STRING","'operation'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","self",46],["T_DOUBLE_COLON","::",46],["T_STRING","SERVICE_NAME",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Get'",46],",",["T_WHITESPACE","\n            ",46],"]",",",["T_WHITESPACE","\n        ",47],"]",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$requestData",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$cartId",50],"]",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEquals",51],"(",["T_VARIABLE","$couponCode",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_webApiCall",51],"(",["T_VARIABLE","$serviceInfo",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$requestData",51],")",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_coupon_saved.php\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","testDelete",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",59],["T_WHITESPACE","\n        ",59],["T_VARIABLE","$quote",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","objectManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","create",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Quote",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Quote",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$quote",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","load",61],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$cartId",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$quote",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getId",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$serviceInfo",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'rest'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","RESOURCE_PATH",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$cartId",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'\/coupons'",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Webapi",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Rest",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Request",66],["T_DOUBLE_COLON","::",66],["T_STRING","HTTP_METHOD_DELETE",66],",",["T_WHITESPACE","\n            ",66],"]",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'soap'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'service'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","self",69],["T_DOUBLE_COLON","::",69],["T_STRING","SERVICE_NAME",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_STRING","SERVICE_VERSION",70],",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'operation'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","self",71],["T_DOUBLE_COLON","::",71],["T_STRING","SERVICE_NAME",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Remove'",71],",",["T_WHITESPACE","\n            ",71],"]",",",["T_WHITESPACE","\n        ",72],"]",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$requestData",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$cartId",74],"]",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertTrue",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_webApiCall",75],"(",["T_VARIABLE","$serviceInfo",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$requestData",75],")",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$quote",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","load",76],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEquals",77],"(",["T_CONSTANT_ENCAPSED_STRING","''",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$quote",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getCouponCode",77],"(",")",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_address_saved.php\n     * @expectedException \\Exception\n     * @expectedExceptionMessage Coupon code is not valid\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testSetCouponThrowsExceptionIfCouponDoesNotExist",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",87],["T_WHITESPACE","\n        ",87],["T_VARIABLE","$quote",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","objectManager",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","create",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Quote",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Quote",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$quote",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","load",89],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$cartId",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$quote",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getId",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$couponCode",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'invalid_coupon_code'",92],";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$serviceInfo",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'rest'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],"[",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","RESOURCE_PATH",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$cartId",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'\/coupons\/'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$couponCode",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Framework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Webapi",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Rest",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Request",97],["T_DOUBLE_COLON","::",97],["T_STRING","HTTP_METHOD_PUT",97],",",["T_WHITESPACE","\n            ",97],"]",",",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'soap'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],"[",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'service'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_STRING","self",100],["T_DOUBLE_COLON","::",100],["T_STRING","SERVICE_NAME",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_STRING","self",101],["T_DOUBLE_COLON","::",101],["T_STRING","SERVICE_VERSION",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'operation'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","self",102],["T_DOUBLE_COLON","::",102],["T_STRING","SERVICE_NAME",102],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Set'",102],",",["T_WHITESPACE","\n            ",102],"]",",",["T_WHITESPACE","\n        ",103],"]",";",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$requestData",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$cartId",107],",",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","\"couponCode\"",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$couponCode",108],",",["T_WHITESPACE","\n        ",108],"]",";",["T_WHITESPACE","\n\n        ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_webApiCall",111],"(",["T_VARIABLE","$serviceInfo",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$requestData",111],")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/discount_10percent.php\n     *\/",114],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testSetCouponSuccess",118],"(",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",120],["T_WHITESPACE","\n        ",120],["T_VARIABLE","$quote",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","objectManager",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","create",121],"(",["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Quote",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Model",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Quote",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$quote",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","load",122],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$cartId",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$quote",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getId",123],"(",")",";",["T_WHITESPACE","\n        ",123],["T_DOC_COMMENT","\/** @var \\Magento\\SalesRule\\Model\\Rule $salesRule *\/",124],["T_WHITESPACE","\n        ",124],["T_VARIABLE","$salesRule",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","objectManager",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","create",125],"(",["T_NS_SEPARATOR","\\",125],["T_STRING","Magento",125],["T_NS_SEPARATOR","\\",125],["T_STRING","SalesRule",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Model",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Rule",125],["T_DOUBLE_COLON","::",125],["T_CLASS","class",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$salesRuleId",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","objectManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","get",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Framework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Registry",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","registry",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento\/Checkout\/_file\/discount_10percent'",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$salesRule",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","load",128],"(",["T_VARIABLE","$salesRuleId",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$couponCode",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$salesRule",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getPrimaryCoupon",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getCode",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$serviceInfo",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],"[",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","'rest'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],"[",["T_WHITESPACE","\n                ",131],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_STRING","self",132],["T_DOUBLE_COLON","::",132],["T_STRING","RESOURCE_PATH",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$cartId",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'\/coupons\/'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$couponCode",132],",",["T_WHITESPACE","\n                ",132],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Magento",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Framework",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Webapi",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Rest",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Request",133],["T_DOUBLE_COLON","::",133],["T_STRING","HTTP_METHOD_PUT",133],",",["T_WHITESPACE","\n            ",133],"]",",",["T_WHITESPACE","\n            ",134],["T_CONSTANT_ENCAPSED_STRING","'soap'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"[",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'service'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","SERVICE_NAME",136],",",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_STRING","SERVICE_VERSION",137],",",["T_WHITESPACE","\n                ",137],["T_CONSTANT_ENCAPSED_STRING","'operation'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","SERVICE_NAME",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Set'",138],",",["T_WHITESPACE","\n            ",138],"]",",",["T_WHITESPACE","\n        ",139],"]",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$requestData",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[",["T_WHITESPACE","\n            ",142],["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$cartId",143],",",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","\"couponCode\"",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$couponCode",144],",",["T_WHITESPACE","\n        ",144],"]",";",["T_WHITESPACE","\n\n        ",145],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertTrue",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_webApiCall",147],"(",["T_VARIABLE","$serviceInfo",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$requestData",147],")",")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$quoteWithCoupon",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","objectManager",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","create",149],"(",["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Quote",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Model",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Quote",149],["T_DOUBLE_COLON","::",149],["T_CLASS","class",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$quoteWithCoupon",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","load",150],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",150],")",";",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertEquals",152],"(",["T_VARIABLE","$quoteWithCoupon",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getCouponCode",152],"(",")",",",["T_WHITESPACE"," ",152],["T_VARIABLE","$couponCode",152],")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_coupon_saved.php\n     *\/",155],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testGetMyCoupon",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_markTestAsRestOnly",160],"(",")",";",["T_WHITESPACE","\n\n        ",160],["T_COMMENT","\/\/ get customer ID token\n",162],["T_WHITESPACE","        ",163],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",163],["T_WHITESPACE","\n        ",163],["T_VARIABLE","$customerTokenService",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","objectManager",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","create",164],"(",["T_WHITESPACE","\n            ",164],["T_NS_SEPARATOR","\\",165],["T_STRING","Magento",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Integration",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Api",165],["T_NS_SEPARATOR","\\",165],["T_STRING","CustomerTokenServiceInterface",165],["T_DOUBLE_COLON","::",165],["T_CLASS","class",165],["T_WHITESPACE","\n        ",165],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$token",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$customerTokenService",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","createCustomerAccessToken",167],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'password'",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote  $quote *\/",169],["T_WHITESPACE","\n        ",169],["T_VARIABLE","$quote",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","objectManager",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","create",170],"(",["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Quote",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Quote",170],["T_DOUBLE_COLON","::",170],["T_CLASS","class",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$quote",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","load",171],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$couponCode",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$quote",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getCouponCode",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$serviceInfo",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],"[",["T_WHITESPACE","\n            ",173],["T_CONSTANT_ENCAPSED_STRING","'rest'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],"[",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_STRING","self",175],["T_DOUBLE_COLON","::",175],["T_STRING","RESOURCE_PATH",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'mine\/coupons'",175],["T_WHITESPACE"," ",175],",",["T_WHITESPACE","\n                ",175],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Framework",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Webapi",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Rest",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Request",176],["T_DOUBLE_COLON","::",176],["T_STRING","HTTP_METHOD_GET",176],",",["T_WHITESPACE","\n                ",176],["T_CONSTANT_ENCAPSED_STRING","'token'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$token",177],",",["T_WHITESPACE","\n            ",177],"]",",",["T_WHITESPACE","\n        ",178],"]",";",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$requestData",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],"[","]",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertEquals",182],"(",["T_VARIABLE","$couponCode",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_webApiCall",182],"(",["T_VARIABLE","$serviceInfo",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$requestData",182],")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_coupon_saved.php\n     *\/",185],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","testDeleteMyCoupon",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_markTestAsRestOnly",190],"(",")",";",["T_WHITESPACE","\n\n        ",190],["T_COMMENT","\/\/ get customer ID token\n",192],["T_WHITESPACE","        ",193],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",193],["T_WHITESPACE","\n        ",193],["T_VARIABLE","$customerTokenService",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","objectManager",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","create",194],"(",["T_WHITESPACE","\n            ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Integration",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Api",195],["T_NS_SEPARATOR","\\",195],["T_STRING","CustomerTokenServiceInterface",195],["T_DOUBLE_COLON","::",195],["T_CLASS","class",195],["T_WHITESPACE","\n        ",195],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$token",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$customerTokenService",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","createCustomerAccessToken",197],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'password'",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",199],["T_WHITESPACE","\n        ",199],["T_VARIABLE","$quote",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","objectManager",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","create",200],"(",["T_NS_SEPARATOR","\\",200],["T_STRING","Magento",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Quote",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Model",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Quote",200],["T_DOUBLE_COLON","::",200],["T_CLASS","class",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$quote",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","load",201],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",201],")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$serviceInfo",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"[",["T_WHITESPACE","\n            ",202],["T_CONSTANT_ENCAPSED_STRING","'rest'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],"[",["T_WHITESPACE","\n                ",203],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_STRING","self",204],["T_DOUBLE_COLON","::",204],["T_STRING","RESOURCE_PATH",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'mine\/coupons'",204],",",["T_WHITESPACE","\n                ",204],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Magento",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Framework",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Webapi",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Rest",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Request",205],["T_DOUBLE_COLON","::",205],["T_STRING","HTTP_METHOD_DELETE",205],",",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","'token'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$token",206],",",["T_WHITESPACE","\n            ",206],"]",",",["T_WHITESPACE","\n        ",207],"]",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$requestData",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],"[","]",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertTrue",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_webApiCall",210],"(",["T_VARIABLE","$serviceInfo",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$requestData",210],")",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$quote",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","load",211],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertEquals",212],"(",["T_CONSTANT_ENCAPSED_STRING","''",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$quote",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getCouponCode",212],"(",")",")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_address_saved.php\n     * @expectedException \\Exception\n     * @expectedExceptionMessage Coupon code is not valid\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","testSetMyCouponThrowsExceptionIfCouponDoesNotExist",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_markTestAsRestOnly",222],"(",")",";",["T_WHITESPACE","\n\n        ",222],["T_COMMENT","\/\/ get customer ID token\n",224],["T_WHITESPACE","        ",225],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",225],["T_WHITESPACE","\n        ",225],["T_VARIABLE","$customerTokenService",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","objectManager",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","create",226],"(",["T_WHITESPACE","\n            ",226],["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Integration",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Api",227],["T_NS_SEPARATOR","\\",227],["T_STRING","CustomerTokenServiceInterface",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],["T_WHITESPACE","\n        ",227],")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$token",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$customerTokenService",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","createCustomerAccessToken",229],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'password'",229],")",";",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$couponCode",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'invalid_coupon_code'",231],";",["T_WHITESPACE","\n\n        ",231],["T_VARIABLE","$serviceInfo",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],"[",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","'rest'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],"[",["T_WHITESPACE","\n                ",234],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_STRING","self",235],["T_DOUBLE_COLON","::",235],["T_STRING","RESOURCE_PATH",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'mine\/coupons\/'",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_VARIABLE","$couponCode",235],",",["T_WHITESPACE","\n                ",235],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Magento",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Framework",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Webapi",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Rest",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Request",236],["T_DOUBLE_COLON","::",236],["T_STRING","HTTP_METHOD_PUT",236],",",["T_WHITESPACE","\n                ",236],["T_CONSTANT_ENCAPSED_STRING","'token'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$token",237],",",["T_WHITESPACE","\n            ",237],"]",",",["T_WHITESPACE","\n        ",238],"]",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$requestData",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n            ",241],["T_CONSTANT_ENCAPSED_STRING","\"couponCode\"",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$couponCode",242],",",["T_WHITESPACE","\n        ",242],"]",";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_webApiCall",245],"(",["T_VARIABLE","$serviceInfo",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$requestData",245],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/discount_10percent_generalusers.php\n     *\/",248],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","testSetMyCouponSuccess",253],"(",")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_markTestAsRestOnly",255],"(",")",";",["T_WHITESPACE","\n\n        ",255],["T_COMMENT","\/\/ get customer ID token\n",257],["T_WHITESPACE","        ",258],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",258],["T_WHITESPACE","\n        ",258],["T_VARIABLE","$customerTokenService",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","objectManager",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","create",259],"(",["T_WHITESPACE","\n            ",259],["T_NS_SEPARATOR","\\",260],["T_STRING","Magento",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Integration",260],["T_NS_SEPARATOR","\\",260],["T_STRING","Api",260],["T_NS_SEPARATOR","\\",260],["T_STRING","CustomerTokenServiceInterface",260],["T_DOUBLE_COLON","::",260],["T_CLASS","class",260],["T_WHITESPACE","\n        ",260],")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$token",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$customerTokenService",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","createCustomerAccessToken",262],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'password'",262],")",";",["T_WHITESPACE","\n\n        ",262],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",264],["T_WHITESPACE","\n        ",264],["T_VARIABLE","$quote",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","objectManager",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","create",265],"(",["T_NS_SEPARATOR","\\",265],["T_STRING","Magento",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Quote",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Model",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Quote",265],["T_DOUBLE_COLON","::",265],["T_CLASS","class",265],")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$quote",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","load",266],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",266],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$cartId",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$quote",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getId",267],"(",")",";",["T_WHITESPACE","\n        ",267],["T_DOC_COMMENT","\/** @var \\Magento\\SalesRule\\Model\\Rule $salesRule *\/",268],["T_WHITESPACE","\n        ",268],["T_VARIABLE","$salesRule",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","objectManager",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","create",269],"(",["T_NS_SEPARATOR","\\",269],["T_STRING","Magento",269],["T_NS_SEPARATOR","\\",269],["T_STRING","SalesRule",269],["T_NS_SEPARATOR","\\",269],["T_STRING","Model",269],["T_NS_SEPARATOR","\\",269],["T_STRING","Rule",269],["T_DOUBLE_COLON","::",269],["T_CLASS","class",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$salesRuleId",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","objectManager",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",["T_NS_SEPARATOR","\\",270],["T_STRING","Magento",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Framework",270],["T_NS_SEPARATOR","\\",270],["T_STRING","Registry",270],["T_DOUBLE_COLON","::",270],["T_CLASS","class",270],")",["T_WHITESPACE","\n            ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","registry",271],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento\/Checkout\/_file\/discount_10percent_generalusers'",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$salesRule",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","load",272],"(",["T_VARIABLE","$salesRuleId",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$couponCode",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$salesRule",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getPrimaryCoupon",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","getCode",273],"(",")",";",["T_WHITESPACE","\n\n        ",273],["T_COMMENT","\/* Since this isn't a full quote fixture, need to assign it to the right customer *\/",275],["T_WHITESPACE","\n        ",275],["T_VARIABLE","$cartManagementService",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","objectManager",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","create",276],"(",["T_WHITESPACE","\n            ",276],["T_NS_SEPARATOR","\\",277],["T_STRING","Magento",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Quote",277],["T_NS_SEPARATOR","\\",277],["T_STRING","Api",277],["T_NS_SEPARATOR","\\",277],["T_STRING","CartManagementInterface",277],["T_DOUBLE_COLON","::",277],["T_CLASS","class",277],["T_WHITESPACE","\n        ",277],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$cartManagementService",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assignCustomer",279],"(",["T_VARIABLE","$cartId",279],",",["T_WHITESPACE"," ",279],["T_LNUMBER","1",279],",",["T_WHITESPACE"," ",279],["T_LNUMBER","1",279],")",";",["T_WHITESPACE","\n\n        ",279],["T_VARIABLE","$serviceInfo",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],"[",["T_WHITESPACE","\n            ",281],["T_CONSTANT_ENCAPSED_STRING","'rest'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],"[",["T_WHITESPACE","\n                ",282],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_STRING","self",283],["T_DOUBLE_COLON","::",283],["T_STRING","RESOURCE_PATH",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'mine\/coupons\/'",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_VARIABLE","$couponCode",283],",",["T_WHITESPACE","\n                ",283],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Magento",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Framework",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Webapi",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Rest",284],["T_NS_SEPARATOR","\\",284],["T_STRING","Request",284],["T_DOUBLE_COLON","::",284],["T_STRING","HTTP_METHOD_PUT",284],",",["T_WHITESPACE","\n                ",284],["T_CONSTANT_ENCAPSED_STRING","'token'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$token",285],",",["T_WHITESPACE","\n            ",285],"]",",",["T_WHITESPACE","\n        ",286],"]",";",["T_WHITESPACE","\n\n        ",287],["T_VARIABLE","$requestData",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"[",["T_WHITESPACE","\n            ",289],["T_CONSTANT_ENCAPSED_STRING","\"couponCode\"",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$couponCode",290],",",["T_WHITESPACE","\n        ",290],"]",";",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","assertTrue",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_webApiCall",293],"(",["T_VARIABLE","$serviceInfo",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$requestData",293],")",")",";",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$quoteWithCoupon",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","objectManager",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","create",295],"(",["T_NS_SEPARATOR","\\",295],["T_STRING","Magento",295],["T_NS_SEPARATOR","\\",295],["T_STRING","Quote",295],["T_NS_SEPARATOR","\\",295],["T_STRING","Model",295],["T_NS_SEPARATOR","\\",295],["T_STRING","Quote",295],["T_DOUBLE_COLON","::",295],["T_CLASS","class",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$quoteWithCoupon",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","load",296],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",296],")",";",["T_WHITESPACE","\n\n        ",296],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assertEquals",298],"(",["T_VARIABLE","$quoteWithCoupon",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getCouponCode",298],"(",")",",",["T_WHITESPACE"," ",298],["T_VARIABLE","$couponCode",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n",299],"}",["T_WHITESPACE","\n",300]]