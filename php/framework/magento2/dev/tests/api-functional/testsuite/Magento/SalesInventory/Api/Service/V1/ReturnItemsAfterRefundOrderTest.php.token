[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SalesInventory",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Api",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Service",6],["T_NS_SEPARATOR","\\",6],["T_STRING","V1",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * API test for return items to stock\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","ReturnItemsAfterRefundOrderTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestFramework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestCase",11],["T_NS_SEPARATOR","\\",11],["T_STRING","WebapiAbstract",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_CONST","const",13],["T_WHITESPACE"," ",13],["T_STRING","SERVICE_REFUND_ORDER_NAME",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'salesRefundOrderV1'",13],";",["T_WHITESPACE","\n    ",13],["T_CONST","const",14],["T_WHITESPACE"," ",14],["T_STRING","SERVICE_STOCK_ITEMS_NAME",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'stockItems'",14],";",["T_WHITESPACE","\n\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$objectManager",19],";",["T_WHITESPACE","\n\n    ",19],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","setUp",21],"(",")",["T_WHITESPACE","\n    ",21],"{",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","objectManager",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","TestFramework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Helper",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Bootstrap",23],["T_DOUBLE_COLON","::",23],["T_STRING","getObjectManager",23],"(",")",";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * @dataProvider dataProvider\n     * @magentoApiDataFixture Magento\/Sales\/_files\/order_with_shipping_and_invoice.php\n     *\/",26],["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testRefundWithReturnItemsToStock",30],"(",["T_VARIABLE","$qtyRefund",30],")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$productSku",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'simple'",32],";",["T_WHITESPACE","\n        ",32],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order $existingOrder *\/",33],["T_WHITESPACE","\n        ",33],["T_VARIABLE","$existingOrder",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","objectManager",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","create",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Sales",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Order",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","loadByIncrementId",35],"(",["T_CONSTANT_ENCAPSED_STRING","'100000001'",35],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$orderItems",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$existingOrder",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getItems",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$orderItem",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","array_shift",37],"(",["T_VARIABLE","$orderItems",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$expectedItems",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","[",["T_CONSTANT_ENCAPSED_STRING","'order_item_id'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$orderItem",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getItemId",38],"(",")",",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'qty'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$qtyRefund",38],"]","]",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$qtyBeforeRefund",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getQtyInStockBySku",39],"(",["T_VARIABLE","$productSku",39],")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$serviceInfo",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'rest'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_WHITESPACE","\n                ",42],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/order\/'",43],["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_VARIABLE","$existingOrder",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getEntityId",43],"(",")",["T_WHITESPACE"," ",43],".",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\/refund'",43],",",["T_WHITESPACE","\n                ",43],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Webapi",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Rest",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Request",44],["T_DOUBLE_COLON","::",44],["T_STRING","HTTP_METHOD_POST",44],",",["T_WHITESPACE","\n            ",44],"]",",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'soap'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n                ",46],["T_CONSTANT_ENCAPSED_STRING","'service'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","self",47],["T_DOUBLE_COLON","::",47],["T_STRING","SERVICE_REFUND_ORDER_NAME",47],",",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'V1'",48],",",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'operation'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","self",49],["T_DOUBLE_COLON","::",49],["T_STRING","SERVICE_REFUND_ORDER_NAME",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'execute'",49],",",["T_WHITESPACE","\n            ",49],"]",["T_WHITESPACE","\n        ",50],"]",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_webApiCall",53],"(",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$serviceInfo",54],",",["T_WHITESPACE","\n            ",54],"[",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'orderId'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$existingOrder",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getEntityId",56],"(",")",",",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'items'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$expectedItems",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'arguments'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_WHITESPACE","\n                    ",58],["T_CONSTANT_ENCAPSED_STRING","'extension_attributes'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n                        ",59],["T_CONSTANT_ENCAPSED_STRING","'return_to_stock_items'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_WHITESPACE","\n                            ",60],["T_INT_CAST","(int)",61],["T_VARIABLE","$orderItem",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getItemId",61],"(",")",["T_WHITESPACE","\n                        ",61],"]",",",["T_WHITESPACE","\n                    ",62],"]",",",["T_WHITESPACE","\n                ",63],"]",",",["T_WHITESPACE","\n            ",64],"]",["T_WHITESPACE","\n        ",65],")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$qtyAfterRefund",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getQtyInStockBySku",68],"(",["T_VARIABLE","$productSku",68],")",";",["T_WHITESPACE","\n\n        ",68],["T_TRY","try",70],["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$qtyBeforeRefund",72],["T_WHITESPACE"," ",72],"+",["T_WHITESPACE"," ",72],["T_VARIABLE","$expectedItems",72],"[",["T_LNUMBER","0",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'qty'",72],"]",",",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$qtyAfterRefund",73],",",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting qty of returned items incorrect.'",74],["T_WHITESPACE","\n            ",74],")",";",["T_WHITESPACE","\n\n        ",75],"}",["T_WHITESPACE"," ",77],["T_CATCH","catch",77],["T_WHITESPACE"," ",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Framework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Exception",77],["T_NS_SEPARATOR","\\",77],["T_STRING","NoSuchEntityException",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$e",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fail",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed asserting that Creditmemo was created'",78],")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","dataProvider",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],"[",["T_WHITESPACE","\n            ",87],["T_CONSTANT_ENCAPSED_STRING","'refundAllOrderItems'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],"[",["T_LNUMBER","2",88],"]",",",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'refundPartition'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[",["T_LNUMBER","1",89],"]",",",["T_WHITESPACE","\n        ",89],"]",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * @param string $sku\n     * @return int\n     *\/",93],["T_WHITESPACE","\n    ",96],["T_PRIVATE","private",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getQtyInStockBySku",97],"(",["T_VARIABLE","$sku",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$serviceInfo",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'rest'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],"[",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/'",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_STRING","self",101],["T_DOUBLE_COLON","::",101],["T_STRING","SERVICE_STOCK_ITEMS_NAME",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],"\"",["T_ENCAPSED_AND_WHITESPACE","\/",101],["T_VARIABLE","$sku",101],"\"",",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Webapi",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Rest",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Request",102],["T_DOUBLE_COLON","::",102],["T_STRING","HTTP_METHOD_GET",102],",",["T_WHITESPACE","\n            ",102],"]",",",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'soap'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],"[",["T_WHITESPACE","\n                ",104],["T_CONSTANT_ENCAPSED_STRING","'service'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'catalogInventoryStockRegistryV1'",105],",",["T_WHITESPACE","\n                ",105],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'V1'",106],",",["T_WHITESPACE","\n                ",106],["T_CONSTANT_ENCAPSED_STRING","'operation'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'catalogInventoryStockRegistryV1GetStockItemBySku'",107],",",["T_WHITESPACE","\n            ",107],"]",",",["T_WHITESPACE","\n        ",108],"]",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$arguments",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'productSku'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$sku",110],"]",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$apiResult",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_webApiCall",111],"(",["T_VARIABLE","$serviceInfo",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$arguments",111],")",";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$apiResult",112],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",112],"]",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n",113],"}",["T_WHITESPACE","\n",114]]