[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Quote",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Api",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestFramework",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TestCase",9],["T_NS_SEPARATOR","\\",9],["T_STRING","WebapiAbstract",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","GuestCartManagementTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","WebapiAbstract",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_CONST","const",13],["T_WHITESPACE"," ",13],["T_STRING","SERVICE_VERSION",13],["T_WHITESPACE"," ",13],"=",["T_WHITESPACE"," ",13],["T_CONSTANT_ENCAPSED_STRING","'V1'",13],";",["T_WHITESPACE","\n    ",13],["T_CONST","const",14],["T_WHITESPACE"," ",14],["T_STRING","SERVICE_NAME",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'quoteGuestCartManagementV1'",14],";",["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","RESOURCE_PATH",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",15],";",["T_WHITESPACE","\n\n    ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$createdQuotes",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[","]",";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$objectManager",22],";",["T_WHITESPACE","\n\n    ",22],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","objectManager",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","TestFramework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Helper",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Bootstrap",26],["T_DOUBLE_COLON","::",26],["T_STRING","getObjectManager",26],"(",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testCreate",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$serviceInfo",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[",["T_WHITESPACE","\n            ",31],["T_CONSTANT_ENCAPSED_STRING","'rest'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],"[",["T_WHITESPACE","\n                ",32],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_STRING","self",33],["T_DOUBLE_COLON","::",33],["T_STRING","RESOURCE_PATH",33],",",["T_WHITESPACE","\n                ",33],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Framework",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Webapi",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Rest",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Request",34],["T_DOUBLE_COLON","::",34],["T_STRING","HTTP_METHOD_POST",34],",",["T_WHITESPACE","\n            ",34],"]",",",["T_WHITESPACE","\n            ",35],["T_CONSTANT_ENCAPSED_STRING","'soap'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],"[",["T_WHITESPACE","\n                ",36],["T_CONSTANT_ENCAPSED_STRING","'service'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","SERVICE_NAME",37],",",["T_WHITESPACE","\n                ",37],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_STRING","self",38],["T_DOUBLE_COLON","::",38],["T_STRING","SERVICE_VERSION",38],",",["T_WHITESPACE","\n                ",38],["T_CONSTANT_ENCAPSED_STRING","'operation'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_STRING","self",39],["T_DOUBLE_COLON","::",39],["T_STRING","SERVICE_NAME",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'CreateEmptyCart'",39],",",["T_WHITESPACE","\n            ",39],"]",",",["T_WHITESPACE","\n        ",40],"]",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$requestData",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'storeId'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],"]",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$quoteId",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_webApiCall",44],"(",["T_VARIABLE","$serviceInfo",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$requestData",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertTrue",45],"(",["T_STRING","strlen",45],"(",["T_VARIABLE","$quoteId",45],")",["T_WHITESPACE"," ",45],["T_IS_GREATER_OR_EQUAL",">=",45],["T_WHITESPACE"," ",45],["T_LNUMBER","32",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","createdQuotes",46],"[","]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$quoteId",46],";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","tearDown",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",51],["T_WHITESPACE","\n        ",51],["T_VARIABLE","$quote",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","objectManager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","create",52],"(",["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Quote",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Quote",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],")",";",["T_WHITESPACE","\n        ",52],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","createdQuotes",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$quoteId",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$quote",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","load",54],"(",["T_VARIABLE","$quoteId",54],")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$quote",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","delete",55],"(",")",";",["T_WHITESPACE","\n            ",55],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",56],["T_WHITESPACE","\n            ",56],["T_VARIABLE","$quoteIdMask",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","create",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Quote",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","QuoteIdMask",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$quoteIdMask",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","load",58],"(",["T_VARIABLE","$quoteId",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",58],")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$quoteIdMask",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","delete",59],"(",")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoApiDataFixture Magento\/Customer\/_files\/customer.php\n     *\/",63],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testAssignCustomer",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_DOC_COMMENT","\/** @var $quote \\Magento\\Quote\\Model\\Quote *\/",69],["T_WHITESPACE","\n        ",69],["T_VARIABLE","$quote",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","objectManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","create",70],"(",["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Quote",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Quote",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","load",70],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$cartId",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$quote",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getId",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",72],["T_WHITESPACE","\n        ",72],["T_VARIABLE","$quoteIdMaskFactory",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Magento",73],["T_NS_SEPARATOR","\\",73],["T_STRING","TestFramework",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Helper",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Bootstrap",73],["T_DOUBLE_COLON","::",73],["T_STRING","getObjectManager",73],"(",")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","create",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Quote",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","QuoteIdMaskFactory",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$quoteIdMask",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$quoteIdMaskFactory",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","create",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$quoteIdMask",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","load",76],"(",["T_VARIABLE","$cartId",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",76],")",";",["T_WHITESPACE","\n        ",76],["T_COMMENT","\/\/Use masked cart Id\n",77],["T_WHITESPACE","        ",78],["T_VARIABLE","$cartId",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$quoteIdMask",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMaskedId",78],"(",")",";",["T_WHITESPACE","\n\n        ",78],["T_COMMENT","\/\/ get customer ID token\n",80],["T_WHITESPACE","        ",81],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",81],["T_WHITESPACE","\n        ",81],["T_VARIABLE","$customerTokenService",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","objectManager",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","create",82],"(",["T_WHITESPACE","\n            ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Integration",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Api",83],["T_NS_SEPARATOR","\\",83],["T_STRING","CustomerTokenServiceInterface",83],["T_DOUBLE_COLON","::",83],["T_CLASS","class",83],["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$token",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$customerTokenService",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","createCustomerAccessToken",85],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'password'",85],")",";",["T_WHITESPACE","\n        ",85],["T_DOC_COMMENT","\/** @var $repository \\Magento\\Customer\\Api\\CustomerRepositoryInterface *\/",86],["T_WHITESPACE","\n        ",86],["T_VARIABLE","$repository",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","objectManager",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","create",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Customer",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Api",87],["T_NS_SEPARATOR","\\",87],["T_STRING","CustomerRepositoryInterface",87],["T_DOUBLE_COLON","::",87],["T_CLASS","class",87],")",";",["T_WHITESPACE","\n        ",87],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Api\\Data\\CustomerInterface *\/",88],["T_WHITESPACE","\n        ",88],["T_VARIABLE","$customer",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$repository",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getById",89],"(",["T_LNUMBER","1",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$customerId",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$customer",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getId",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$serviceInfo",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'rest'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$cartId",94],",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Framework",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Webapi",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Rest",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Request",95],["T_DOUBLE_COLON","::",95],["T_STRING","HTTP_METHOD_PUT",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'token'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$token",96],["T_WHITESPACE","\n            ",96],"]",",",["T_WHITESPACE","\n            ",97],["T_CONSTANT_ENCAPSED_STRING","'soap'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'service'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","self",99],["T_DOUBLE_COLON","::",99],["T_STRING","SERVICE_NAME",99],",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'V1'",100],",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'operation'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_STRING","self",101],["T_DOUBLE_COLON","::",101],["T_STRING","SERVICE_NAME",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'AssignCustomer'",101],",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'token'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$token",102],["T_WHITESPACE","\n            ",102],"]",",",["T_WHITESPACE","\n        ",103],"]",";",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$requestData",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'cartId'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$cartId",107],",",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'customerId'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$customerId",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'storeId'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_LNUMBER","1",109],",",["T_WHITESPACE","\n        ",109],"]",";",["T_WHITESPACE","\n        ",110],["T_COMMENT","\/\/ Cart must be anonymous (see fixture)\n",111],["T_WHITESPACE","        ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEmpty",112],"(",["T_VARIABLE","$quote",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getCustomerId",112],"(",")",")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertTrue",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_webApiCall",114],"(",["T_VARIABLE","$serviceInfo",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$requestData",114],")",")",";",["T_WHITESPACE","\n        ",114],["T_COMMENT","\/\/ Reload target quote\n",115],["T_WHITESPACE","        ",116],["T_VARIABLE","$quote",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","objectManager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","create",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Magento",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Quote",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Model",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Quote",116],["T_DOUBLE_COLON","::",116],["T_CLASS","class",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","load",116],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertEquals",117],"(",["T_LNUMBER","0",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$quote",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getCustomerIsGuest",117],"(",")",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEquals",118],"(",["T_VARIABLE","$customer",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getId",118],"(",")",",",["T_WHITESPACE"," ",118],["T_VARIABLE","$quote",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getCustomerId",118],"(",")",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEquals",119],"(",["T_VARIABLE","$customer",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getFirstname",119],"(",")",",",["T_WHITESPACE"," ",119],["T_VARIABLE","$quote",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getCustomerFirstname",119],"(",")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_VARIABLE","$customer",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getLastname",120],"(",")",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$quote",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getCustomerLastname",120],"(",")",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertNull",121],"(",["T_VARIABLE","$quoteIdMaskFactory",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","create",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","load",121],"(",["T_VARIABLE","$cartId",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'masked_id'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getId",121],"(",")",")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @expectedException \\Exception\n     *\/",124],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","testAssignCustomerThrowsExceptionIfThereIsNoCustomerWithGivenId",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_DOC_COMMENT","\/** @var $quote \\Magento\\Quote\\Model\\Quote *\/",130],["T_WHITESPACE","\n        ",130],["T_VARIABLE","$quote",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","objectManager",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","create",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","Magento",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Quote",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Model",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Quote",131],["T_DOUBLE_COLON","::",131],["T_CLASS","class",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","load",131],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$cartId",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$quote",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getId",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$customerId",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_LNUMBER","9999",133],";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$serviceInfo",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],"[",["T_WHITESPACE","\n            ",134],["T_CONSTANT_ENCAPSED_STRING","'soap'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"[",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'V1'",136],",",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'service'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_STRING","SERVICE_NAME",137],",",["T_WHITESPACE","\n                ",137],["T_CONSTANT_ENCAPSED_STRING","'operation'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","SERVICE_NAME",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'AssignCustomer'",138],",",["T_WHITESPACE","\n            ",138],"]",",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'rest'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],"[",["T_WHITESPACE","\n                ",140],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$cartId",141],",",["T_WHITESPACE","\n                ",141],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Webapi",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Rest",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Request",142],["T_DOUBLE_COLON","::",142],["T_STRING","HTTP_METHOD_PUT",142],",",["T_WHITESPACE","\n            ",142],"]",",",["T_WHITESPACE","\n        ",143],"]",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$requestData",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],"[",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'cartId'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$cartId",146],",",["T_WHITESPACE","\n            ",146],["T_CONSTANT_ENCAPSED_STRING","'customerId'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$customerId",147],",",["T_WHITESPACE","\n            ",147],["T_CONSTANT_ENCAPSED_STRING","'storeId'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],",",["T_WHITESPACE","\n        ",148],"]",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_webApiCall",151],"(",["T_VARIABLE","$serviceInfo",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$requestData",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Customer\/_files\/customer.php\n     * @expectedException \\Exception\n     *\/",154],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testAssignCustomerThrowsExceptionIfThereIsNoCartWithGivenId",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$cartId",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_LNUMBER","9999",160],";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$customerId",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_LNUMBER","1",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$serviceInfo",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[",["T_WHITESPACE","\n            ",162],["T_CONSTANT_ENCAPSED_STRING","'soap'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],"[",["T_WHITESPACE","\n                ",163],["T_CONSTANT_ENCAPSED_STRING","'service'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_STRING","SERVICE_NAME",164],",",["T_WHITESPACE","\n                ",164],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'V1'",165],",",["T_WHITESPACE","\n                ",165],["T_CONSTANT_ENCAPSED_STRING","'operation'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","SERVICE_NAME",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'AssignCustomer'",166],",",["T_WHITESPACE","\n            ",166],"]",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'rest'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$cartId",169],",",["T_WHITESPACE","\n                ",169],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Framework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Webapi",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Rest",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Request",170],["T_DOUBLE_COLON","::",170],["T_STRING","HTTP_METHOD_PUT",170],",",["T_WHITESPACE","\n            ",170],"]",",",["T_WHITESPACE","\n        ",171],"]",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$requestData",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],"[",["T_WHITESPACE","\n            ",173],["T_CONSTANT_ENCAPSED_STRING","'cartId'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$cartId",174],",",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","'customerId'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$customerId",175],",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'storeId'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_LNUMBER","1",176],",",["T_WHITESPACE","\n        ",176],"]",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_webApiCall",179],"(",["T_VARIABLE","$serviceInfo",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$requestData",179],")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote_with_customer.php\n     * @expectedException \\Exception\n     * @expectedExceptionMessage Cannot assign customer to the given cart. The cart is not anonymous.\n     *\/",182],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","testAssignCustomerThrowsExceptionIfTargetCartIsNotAnonymous",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",189],["T_WHITESPACE","\n        ",189],["T_VARIABLE","$customer",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","objectManager",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","create",190],"(",["T_NS_SEPARATOR","\\",190],["T_STRING","Magento",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Customer",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Model",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Customer",190],["T_DOUBLE_COLON","::",190],["T_CLASS","class",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","load",190],"(",["T_LNUMBER","1",190],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$customerId",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$customer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getId",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_DOC_COMMENT","\/** @var $quote \\Magento\\Quote\\Model\\Quote *\/",192],["T_WHITESPACE","\n        ",192],["T_VARIABLE","$quote",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","objectManager",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","create",193],"(",["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Quote",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Model",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Quote",193],["T_DOUBLE_COLON","::",193],["T_CLASS","class",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","load",193],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$cartId",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$quote",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getId",194],"(",")",";",["T_WHITESPACE","\n\n        ",194],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",196],["T_WHITESPACE","\n        ",196],["T_VARIABLE","$quoteIdMask",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Magento",197],["T_NS_SEPARATOR","\\",197],["T_STRING","TestFramework",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Helper",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Bootstrap",197],["T_DOUBLE_COLON","::",197],["T_STRING","getObjectManager",197],"(",")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","create",198],"(",["T_NS_SEPARATOR","\\",198],["T_STRING","Magento",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Quote",198],["T_NS_SEPARATOR","\\",198],["T_STRING","Model",198],["T_NS_SEPARATOR","\\",198],["T_STRING","QuoteIdMaskFactory",198],["T_DOUBLE_COLON","::",198],["T_CLASS","class",198],")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","create",199],"(",")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$quoteIdMask",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","load",200],"(",["T_VARIABLE","$cartId",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",200],")",";",["T_WHITESPACE","\n        ",200],["T_COMMENT","\/\/Use masked cart Id\n",201],["T_WHITESPACE","        ",202],["T_VARIABLE","$cartId",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$quoteIdMask",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getMaskedId",202],"(",")",";",["T_WHITESPACE","\n\n        ",202],["T_COMMENT","\/\/ get customer ID token\n",204],["T_WHITESPACE","        ",205],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",205],["T_WHITESPACE","\n        ",205],["T_VARIABLE","$customerTokenService",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","objectManager",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","create",206],"(",["T_WHITESPACE","\n            ",206],["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Integration",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Api",207],["T_NS_SEPARATOR","\\",207],["T_STRING","CustomerTokenServiceInterface",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],["T_WHITESPACE","\n        ",207],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$token",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$customerTokenService",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","createCustomerAccessToken",209],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'password'",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$serviceInfo",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'rest'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],"[",["T_WHITESPACE","\n                ",212],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Framework",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Webapi",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Rest",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Request",213],["T_DOUBLE_COLON","::",213],["T_STRING","HTTP_METHOD_PUT",213],",",["T_WHITESPACE","\n                ",213],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$cartId",214],",",["T_WHITESPACE","\n                ",214],["T_CONSTANT_ENCAPSED_STRING","'token'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$token",215],["T_WHITESPACE","\n            ",215],"]",",",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","'soap'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],"[",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'service'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_STRING","self",218],["T_DOUBLE_COLON","::",218],["T_STRING","SERVICE_NAME",218],",",["T_WHITESPACE","\n                ",218],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'V1'",219],",",["T_WHITESPACE","\n                ",219],["T_CONSTANT_ENCAPSED_STRING","'operation'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_STRING","self",220],["T_DOUBLE_COLON","::",220],["T_STRING","SERVICE_NAME",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'AssignCustomer'",220],",",["T_WHITESPACE","\n                ",220],["T_CONSTANT_ENCAPSED_STRING","'token'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$token",221],["T_WHITESPACE","\n            ",221],"]",",",["T_WHITESPACE","\n        ",222],"]",";",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$requestData",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"[",["T_WHITESPACE","\n            ",225],["T_CONSTANT_ENCAPSED_STRING","'cartId'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$cartId",226],",",["T_WHITESPACE","\n            ",226],["T_CONSTANT_ENCAPSED_STRING","'customerId'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$customerId",227],",",["T_WHITESPACE","\n            ",227],["T_CONSTANT_ENCAPSED_STRING","'storeId'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_LNUMBER","1",228],",",["T_WHITESPACE","\n        ",228],"]",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_webApiCall",230],"(",["T_VARIABLE","$serviceInfo",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$requestData",230],")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_address_saved.php\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @expectedException \\Exception\n     * @expectedExceptionMessage Cannot assign customer to the given cart. Customer already has active cart.\n     *\/",233],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","testAssignCustomerThrowsExceptionIfCustomerAlreadyHasActiveCart",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",241],["T_WHITESPACE","\n        ",241],["T_VARIABLE","$customer",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","objectManager",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","create",242],"(",["T_NS_SEPARATOR","\\",242],["T_STRING","Magento",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Customer",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Model",242],["T_NS_SEPARATOR","\\",242],["T_STRING","Customer",242],["T_DOUBLE_COLON","::",242],["T_CLASS","class",242],")",["T_OBJECT_OPERATOR","->",242],["T_STRING","load",242],"(",["T_LNUMBER","1",242],")",";",["T_WHITESPACE","\n        ",242],["T_COMMENT","\/\/ Customer has a quote with reserved order ID test_order_1 (see fixture)\n",243],["T_WHITESPACE","        ",244],["T_DOC_COMMENT","\/** @var $customerQuote \\Magento\\Quote\\Model\\Quote *\/",244],["T_WHITESPACE","\n        ",244],["T_VARIABLE","$customerQuote",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","objectManager",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","create",245],"(",["T_NS_SEPARATOR","\\",245],["T_STRING","Magento",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Quote",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Model",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Quote",245],["T_DOUBLE_COLON","::",245],["T_CLASS","class",245],")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","load",246],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$customerQuote",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setIsActive",247],"(",["T_LNUMBER","1",247],")",["T_OBJECT_OPERATOR","->",247],["T_STRING","save",247],"(",")",";",["T_WHITESPACE","\n        ",247],["T_DOC_COMMENT","\/** @var $quote \\Magento\\Quote\\Model\\Quote *\/",248],["T_WHITESPACE","\n        ",248],["T_VARIABLE","$quote",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","objectManager",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","create",249],"(",["T_NS_SEPARATOR","\\",249],["T_STRING","Magento",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Quote",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Model",249],["T_NS_SEPARATOR","\\",249],["T_STRING","Quote",249],["T_DOUBLE_COLON","::",249],["T_CLASS","class",249],")",["T_OBJECT_OPERATOR","->",249],["T_STRING","load",249],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",249],")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$cartId",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$quote",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getId",251],"(",")",";",["T_WHITESPACE","\n\n        ",251],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",253],["T_WHITESPACE","\n        ",253],["T_VARIABLE","$quoteIdMask",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Magento",254],["T_NS_SEPARATOR","\\",254],["T_STRING","TestFramework",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Helper",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Bootstrap",254],["T_DOUBLE_COLON","::",254],["T_STRING","getObjectManager",254],"(",")",["T_WHITESPACE","\n            ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","create",255],"(",["T_NS_SEPARATOR","\\",255],["T_STRING","Magento",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Quote",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Model",255],["T_NS_SEPARATOR","\\",255],["T_STRING","QuoteIdMaskFactory",255],["T_DOUBLE_COLON","::",255],["T_CLASS","class",255],")",["T_WHITESPACE","\n            ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","create",256],"(",")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$quoteIdMask",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","load",257],"(",["T_VARIABLE","$cartId",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",257],")",";",["T_WHITESPACE","\n        ",257],["T_COMMENT","\/\/Use masked cart Id\n",258],["T_WHITESPACE","        ",259],["T_VARIABLE","$cartId",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$quoteIdMask",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getMaskedId",259],"(",")",";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$customerId",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$customer",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getId",261],"(",")",";",["T_WHITESPACE","\n\n        ",261],["T_COMMENT","\/\/ get customer ID token\n",263],["T_WHITESPACE","        ",264],["T_DOC_COMMENT","\/** @var \\Magento\\Integration\\Api\\CustomerTokenServiceInterface $customerTokenService *\/",264],["T_WHITESPACE","\n        ",264],["T_VARIABLE","$customerTokenService",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","objectManager",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","create",265],"(",["T_WHITESPACE","\n            ",265],["T_NS_SEPARATOR","\\",266],["T_STRING","Magento",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Integration",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Api",266],["T_NS_SEPARATOR","\\",266],["T_STRING","CustomerTokenServiceInterface",266],["T_DOUBLE_COLON","::",266],["T_CLASS","class",266],["T_WHITESPACE","\n        ",266],")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$token",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$customerTokenService",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","createCustomerAccessToken",268],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",268],",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'password'",268],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$serviceInfo",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],"[",["T_WHITESPACE","\n            ",269],["T_CONSTANT_ENCAPSED_STRING","'soap'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],"[",["T_WHITESPACE","\n                ",270],["T_CONSTANT_ENCAPSED_STRING","'service'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","SERVICE_NAME",271],",",["T_WHITESPACE","\n                ",271],["T_CONSTANT_ENCAPSED_STRING","'operation'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_STRING","self",272],["T_DOUBLE_COLON","::",272],["T_STRING","SERVICE_NAME",272],["T_WHITESPACE"," ",272],".",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'AssignCustomer'",272],",",["T_WHITESPACE","\n                ",272],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'V1'",273],",",["T_WHITESPACE","\n                ",273],["T_CONSTANT_ENCAPSED_STRING","'token'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$token",274],["T_WHITESPACE","\n            ",274],"]",",",["T_WHITESPACE","\n            ",275],["T_CONSTANT_ENCAPSED_STRING","'rest'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n                ",276],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_VARIABLE","$cartId",277],",",["T_WHITESPACE","\n                ",277],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Magento",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Framework",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Webapi",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Rest",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Request",278],["T_DOUBLE_COLON","::",278],["T_STRING","HTTP_METHOD_PUT",278],",",["T_WHITESPACE","\n                ",278],["T_CONSTANT_ENCAPSED_STRING","'token'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$token",279],["T_WHITESPACE","\n            ",279],"]",",",["T_WHITESPACE","\n        ",280],"]",";",["T_WHITESPACE","\n\n        ",281],["T_VARIABLE","$requestData",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[",["T_WHITESPACE","\n            ",283],["T_CONSTANT_ENCAPSED_STRING","'cartId'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$cartId",284],",",["T_WHITESPACE","\n            ",284],["T_CONSTANT_ENCAPSED_STRING","'customerId'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$customerId",285],",",["T_WHITESPACE","\n            ",285],["T_CONSTANT_ENCAPSED_STRING","'storeId'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_LNUMBER","1",286],",",["T_WHITESPACE","\n        ",286],"]",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_webApiCall",288],"(",["T_VARIABLE","$serviceInfo",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$requestData",288],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_check_payment.php\n     *\/",291],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","testPlaceOrder",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_DOC_COMMENT","\/** @var $quote \\Magento\\Quote\\Model\\Quote *\/",296],["T_WHITESPACE","\n        ",296],["T_VARIABLE","$quote",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","objectManager",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","create",297],"(",["T_NS_SEPARATOR","\\",297],["T_STRING","Magento",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Quote",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Model",297],["T_NS_SEPARATOR","\\",297],["T_STRING","Quote",297],["T_DOUBLE_COLON","::",297],["T_CLASS","class",297],")",["T_WHITESPACE","\n            ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","load",298],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",298],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$cartId",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$quote",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getId",299],"(",")",";",["T_WHITESPACE","\n        ",299],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",300],["T_WHITESPACE","\n        ",300],["T_VARIABLE","$quoteIdMask",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Magento",301],["T_NS_SEPARATOR","\\",301],["T_STRING","TestFramework",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Helper",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Bootstrap",301],["T_DOUBLE_COLON","::",301],["T_STRING","getObjectManager",301],"(",")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","create",302],"(",["T_NS_SEPARATOR","\\",302],["T_STRING","Magento",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Quote",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Model",302],["T_NS_SEPARATOR","\\",302],["T_STRING","QuoteIdMaskFactory",302],["T_DOUBLE_COLON","::",302],["T_CLASS","class",302],")",["T_WHITESPACE","\n            ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","create",303],"(",")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$quoteIdMask",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","load",304],"(",["T_VARIABLE","$cartId",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",304],")",";",["T_WHITESPACE","\n        ",304],["T_COMMENT","\/\/Use masked cart Id\n",305],["T_WHITESPACE","        ",306],["T_VARIABLE","$cartId",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$quoteIdMask",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getMaskedId",306],"(",")",";",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$serviceInfo",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],"[",["T_WHITESPACE","\n            ",308],["T_CONSTANT_ENCAPSED_STRING","'soap'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],"[",["T_WHITESPACE","\n                ",309],["T_CONSTANT_ENCAPSED_STRING","'service'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'quoteGuestCartManagementV1'",310],",",["T_WHITESPACE","\n                ",310],["T_CONSTANT_ENCAPSED_STRING","'operation'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'quoteGuestCartManagementV1PlaceOrder'",311],",",["T_WHITESPACE","\n                ",311],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'V1'",312],",",["T_WHITESPACE","\n            ",312],"]",",",["T_WHITESPACE","\n            ",313],["T_CONSTANT_ENCAPSED_STRING","'rest'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],"[",["T_WHITESPACE","\n                ",314],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_VARIABLE","$cartId",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/order'",315],",",["T_WHITESPACE","\n                ",315],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Magento",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Framework",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Webapi",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Rest",316],["T_NS_SEPARATOR","\\",316],["T_STRING","Request",316],["T_DOUBLE_COLON","::",316],["T_STRING","HTTP_METHOD_PUT",316],",",["T_WHITESPACE","\n            ",316],"]",",",["T_WHITESPACE","\n        ",317],"]",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$orderId",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_webApiCall",320],"(",["T_VARIABLE","$serviceInfo",320],",",["T_WHITESPACE"," ",320],"[",["T_CONSTANT_ENCAPSED_STRING","'cartId'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$cartId",320],"]",")",";",["T_WHITESPACE","\n\n        ",320],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order $order *\/",322],["T_WHITESPACE","\n        ",322],["T_VARIABLE","$order",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","objectManager",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","create",323],"(",["T_NS_SEPARATOR","\\",323],["T_STRING","Magento",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Sales",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Model",323],["T_NS_SEPARATOR","\\",323],["T_STRING","Order",323],["T_DOUBLE_COLON","::",323],["T_CLASS","class",323],")",["T_OBJECT_OPERATOR","->",323],["T_STRING","load",323],"(",["T_VARIABLE","$orderId",323],")",";",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$items",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$order",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getAllItems",324],"(",")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertCount",325],"(",["T_LNUMBER","1",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$items",325],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","assertEquals",326],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product'",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$items",326],"[",["T_LNUMBER","0",326],"]",["T_OBJECT_OPERATOR","->",326],["T_STRING","getName",326],"(",")",")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoApiDataFixture Magento\/Customer\/_files\/customer.php\n     * @expectedException \\Exception\n     * @expectedExceptionMessage Cannot assign customer to the given cart. You don't have permission for this operation.\n     *\/",329],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","testAssignCustomerByGuestUser",335],"(",")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_DOC_COMMENT","\/** @var $quote \\Magento\\Quote\\Model\\Quote *\/",337],["T_WHITESPACE","\n        ",337],["T_VARIABLE","$quote",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","objectManager",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","create",338],"(",["T_NS_SEPARATOR","\\",338],["T_STRING","Magento",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Quote",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Model",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Quote",338],["T_DOUBLE_COLON","::",338],["T_CLASS","class",338],")",["T_OBJECT_OPERATOR","->",338],["T_STRING","load",338],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",338],",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$cartId",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$quote",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getId",339],"(",")",";",["T_WHITESPACE","\n        ",339],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",340],["T_WHITESPACE","\n        ",340],["T_VARIABLE","$quoteIdMaskFactory",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Magento",341],["T_NS_SEPARATOR","\\",341],["T_STRING","TestFramework",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Helper",341],["T_NS_SEPARATOR","\\",341],["T_STRING","Bootstrap",341],["T_DOUBLE_COLON","::",341],["T_STRING","getObjectManager",341],"(",")",["T_WHITESPACE","\n            ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","create",342],"(",["T_NS_SEPARATOR","\\",342],["T_STRING","Magento",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Quote",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Model",342],["T_NS_SEPARATOR","\\",342],["T_STRING","QuoteIdMaskFactory",342],["T_DOUBLE_COLON","::",342],["T_CLASS","class",342],")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$quoteIdMask",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$quoteIdMaskFactory",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","create",343],"(",")",";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$quoteIdMask",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","load",344],"(",["T_VARIABLE","$cartId",344],",",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",344],")",";",["T_WHITESPACE","\n        ",344],["T_COMMENT","\/\/Use masked cart Id\n",345],["T_WHITESPACE","        ",346],["T_VARIABLE","$cartId",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$quoteIdMask",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getMaskedId",346],"(",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$repository",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","objectManager",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","create",347],"(",["T_NS_SEPARATOR","\\",347],["T_STRING","Magento",347],["T_NS_SEPARATOR","\\",347],["T_STRING","Customer",347],["T_NS_SEPARATOR","\\",347],["T_STRING","Api",347],["T_NS_SEPARATOR","\\",347],["T_STRING","CustomerRepositoryInterface",347],["T_DOUBLE_COLON","::",347],["T_CLASS","class",347],")",";",["T_WHITESPACE","\n        ",347],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Api\\Data\\CustomerInterface *\/",348],["T_WHITESPACE","\n        ",348],["T_VARIABLE","$customer",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$repository",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getById",349],"(",["T_LNUMBER","1",349],")",";",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$customerId",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$customer",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getId",350],"(",")",";",["T_WHITESPACE","\n\n        ",350],["T_VARIABLE","$serviceInfo",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],"[",["T_WHITESPACE","\n            ",352],["T_CONSTANT_ENCAPSED_STRING","'rest'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],"[",["T_WHITESPACE","\n                ",353],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",354],["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],["T_VARIABLE","$cartId",354],",",["T_WHITESPACE","\n                ",354],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Magento",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Framework",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Webapi",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Rest",355],["T_NS_SEPARATOR","\\",355],["T_STRING","Request",355],["T_DOUBLE_COLON","::",355],["T_STRING","HTTP_METHOD_PUT",355],",",["T_WHITESPACE","\n            ",355],"]",",",["T_WHITESPACE","\n            ",356],["T_CONSTANT_ENCAPSED_STRING","'soap'",357],["T_WHITESPACE"," ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],"[",["T_WHITESPACE","\n                ",357],["T_CONSTANT_ENCAPSED_STRING","'service'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_STRING","self",358],["T_DOUBLE_COLON","::",358],["T_STRING","SERVICE_NAME",358],",",["T_WHITESPACE","\n                ",358],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'V1'",359],",",["T_WHITESPACE","\n                ",359],["T_CONSTANT_ENCAPSED_STRING","'operation'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_STRING","self",360],["T_DOUBLE_COLON","::",360],["T_STRING","SERVICE_NAME",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'AssignCustomer'",360],",",["T_WHITESPACE","\n            ",360],"]",",",["T_WHITESPACE","\n        ",361],"]",";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$requestData",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],"[",["T_WHITESPACE","\n            ",364],["T_CONSTANT_ENCAPSED_STRING","'cartId'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$cartId",365],",",["T_WHITESPACE","\n            ",365],["T_CONSTANT_ENCAPSED_STRING","'customerId'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$customerId",366],",",["T_WHITESPACE","\n            ",366],["T_CONSTANT_ENCAPSED_STRING","'storeId'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_LNUMBER","1",367],",",["T_WHITESPACE","\n        ",367],"]",";",["T_WHITESPACE","\n        ",368],["T_COMMENT","\/\/ Cart must be anonymous (see fixture)\n",369],["T_WHITESPACE","        ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertEmpty",370],"(",["T_VARIABLE","$quote",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getCustomerId",370],"(",")",")",";",["T_WHITESPACE","\n\n        ",370],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_webApiCall",372],"(",["T_VARIABLE","$serviceInfo",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$requestData",372],")",";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n",373],"}",["T_WHITESPACE","\n",374]]