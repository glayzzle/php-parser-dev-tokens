[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CheckoutAgreements",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Api",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestCase",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebapiAbstract",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","CheckoutAgreementsRepositoryTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","WebapiAbstract",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_PRIVATE","private",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$listServiceInfo",15],";",["T_WHITESPACE","\n\n    ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","setUp",17],"(",")",["T_WHITESPACE","\n    ",17],"{",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","listServiceInfo",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_WHITESPACE","\n            ",19],["T_CONSTANT_ENCAPSED_STRING","'soap'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],"[",["T_WHITESPACE","\n                ",20],["T_CONSTANT_ENCAPSED_STRING","'service'",21],["T_WHITESPACE"," ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'checkoutAgreementsCheckoutAgreementsRepositoryV1'",21],",",["T_WHITESPACE","\n                ",21],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'V1'",22],",",["T_WHITESPACE","\n                ",22],["T_CONSTANT_ENCAPSED_STRING","'operation'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'checkoutAgreementsCheckoutAgreementsRepositoryV1getList'",23],",",["T_WHITESPACE","\n            ",23],"]",",",["T_WHITESPACE","\n            ",24],["T_CONSTANT_ENCAPSED_STRING","'rest'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],"[",["T_WHITESPACE","\n                ",25],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/carts\/licence\/'",26],",",["T_WHITESPACE","\n                ",26],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Magento",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Framework",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Webapi",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Rest",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Request",27],["T_DOUBLE_COLON","::",27],["T_STRING","HTTP_METHOD_GET",27],",",["T_WHITESPACE","\n            ",27],"]",",",["T_WHITESPACE","\n        ",28],"]",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Retrieve agreement by given name\n     *\n     * @param string $name\n     * @return \\Magento\\CheckoutAgreements\\Model\\Agreement\n     * @throws \\InvalidArgumentException\n     *\/",32],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","getAgreementByName",39],"(",["T_VARIABLE","$name",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$objectManager",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","TestFramework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Helper",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Bootstrap",41],["T_DOUBLE_COLON","::",41],["T_STRING","getObjectManager",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_DOC_COMMENT","\/** @var $agreement \\Magento\\CheckoutAgreements\\Model\\Agreement *\/",42],["T_WHITESPACE","\n        ",42],["T_VARIABLE","$agreement",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$objectManager",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","create",43],"(",["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","CheckoutAgreements",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Model",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Agreement",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$agreement",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","load",44],"(",["T_VARIABLE","$name",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'name'",44],")",";",["T_WHITESPACE","\n        ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(","!",["T_VARIABLE","$agreement",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getId",45],"(",")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_THROW","throw",46],["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","InvalidArgumentException",46],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no checkout agreement with provided ID.'",46],")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$agreement",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/CheckoutAgreements\/_files\/agreement_active_with_html_content.php\n     * @magentoApiDataFixture Magento\/CheckoutAgreements\/_files\/agreement_inactive_with_text_content.php\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testGetListReturnsEmptyListIfCheckoutAgreementsAreDisabledOnFrontend",55],"(",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_COMMENT","\/\/ Checkout agreements are disabled by default\n",57],["T_WHITESPACE","        ",58],["T_VARIABLE","$agreements",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_webApiCall",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","listServiceInfo",58],",",["T_WHITESPACE"," ",58],"[","]",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEmpty",59],"(",["T_VARIABLE","$agreements",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/CheckoutAgreements\/_files\/agreement_active_with_html_content.php\n     * @magentoApiDataFixture Magento\/CheckoutAgreements\/_files\/agreement_inactive_with_text_content.php\n     *\/",62],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testGetListReturnsTheListOfActiveCheckoutAgreements",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_COMMENT","\/\/ checkout\/options\/enable_agreements must be set to 1 in system configuration\n",68],["T_WHITESPACE","        ",69],["T_COMMENT","\/\/ @todo remove next statement when \\Magento\\TestFramework\\TestCase\\WebapiAbstract::_updateAppConfig is fixed\n",69],["T_WHITESPACE","        ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","markTestIncomplete",70],"(",["T_CONSTANT_ENCAPSED_STRING","'This test relies on system configuration state.'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$agreementModel",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getAgreementByName",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Checkout Agreement (active)'",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$agreements",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_webApiCall",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","listServiceInfo",73],",",["T_WHITESPACE"," ",73],"[","]",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertCount",74],"(",["T_LNUMBER","1",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$agreements",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$agreementData",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$agreements",75],"[",["T_LNUMBER","0",75],"]",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEquals",76],"(",["T_VARIABLE","$agreementModel",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getId",76],"(",")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$agreementData",76],"[",["T_CONSTANT_ENCAPSED_STRING","'agreement_id'",76],"]",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEquals",77],"(",["T_VARIABLE","$agreementModel",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getName",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$agreementData",77],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",77],"]",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEquals",78],"(",["T_VARIABLE","$agreementModel",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getContent",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$agreementData",78],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",78],"]",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertEquals",79],"(",["T_VARIABLE","$agreementModel",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getContentHeight",79],"(",")",",",["T_WHITESPACE"," ",79],["T_VARIABLE","$agreementData",79],"[",["T_CONSTANT_ENCAPSED_STRING","'content_height'",79],"]",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEquals",80],"(",["T_VARIABLE","$agreementModel",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getCheckboxText",80],"(",")",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$agreementData",80],"[",["T_CONSTANT_ENCAPSED_STRING","'checkbox_text'",80],"]",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEquals",81],"(",["T_VARIABLE","$agreementModel",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getIsActive",81],"(",")",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$agreementData",81],"[",["T_CONSTANT_ENCAPSED_STRING","'is_active'",81],"]",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_VARIABLE","$agreementModel",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getIsHtml",82],"(",")",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$agreementData",82],"[",["T_CONSTANT_ENCAPSED_STRING","'is_html'",82],"]",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n",83],"}",["T_WHITESPACE","\n",84]]