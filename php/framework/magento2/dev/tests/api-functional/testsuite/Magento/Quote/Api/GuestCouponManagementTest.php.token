[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Api",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestCase",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebapiAbstract",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","GuestCouponManagementTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebapiAbstract",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_CONST","const",14],["T_WHITESPACE"," ",14],["T_STRING","SERVICE_VERSION",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_CONSTANT_ENCAPSED_STRING","'V1'",14],";",["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","SERVICE_NAME",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'quoteGuestCouponManagementV1'",15],";",["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","RESOURCE_PATH",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'\/V1\/guest-carts\/'",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$objectManager",21],";",["T_WHITESPACE","\n\n    ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","objectManager",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestFramework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Helper",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Bootstrap",25],["T_DOUBLE_COLON","::",25],["T_STRING","getObjectManager",25],"(",")",";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n\n    ",26],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","tearDown",28],"(",")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$createdQuotes",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'test01'",30],"]",";",["T_WHITESPACE","\n        ",30],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",31],["T_WHITESPACE","\n        ",31],["T_VARIABLE","$quote",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","objectManager",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","create",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Quote",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Quote",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],")",";",["T_WHITESPACE","\n        ",32],["T_FOREACH","foreach",33],["T_WHITESPACE"," ",33],"(",["T_VARIABLE","$createdQuotes",33],["T_WHITESPACE"," ",33],["T_AS","as",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$quoteId",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_VARIABLE","$quote",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","load",34],"(",["T_VARIABLE","$quoteId",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",34],")",";",["T_WHITESPACE","\n            ",34],["T_VARIABLE","$quote",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","delete",35],"(",")",";",["T_WHITESPACE","\n            ",35],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",36],["T_WHITESPACE","\n            ",36],["T_VARIABLE","$quoteIdMask",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","objectManager",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","create",37],"(",["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Quote",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","QuoteIdMask",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],")",";",["T_WHITESPACE","\n            ",37],["T_VARIABLE","$quoteIdMask",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","load",38],"(",["T_VARIABLE","$quoteId",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",38],")",";",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$quoteIdMask",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","delete",39],"(",")",";",["T_WHITESPACE","\n        ",39],"}",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getQuoteMaskedId",43],"(",["T_VARIABLE","$quoteId",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",45],["T_WHITESPACE","\n        ",45],["T_VARIABLE","$quoteIdMask",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","objectManager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","create",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Quote",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","QuoteIdMaskFactory",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","create",46],"(",")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$quoteIdMask",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","load",47],"(",["T_VARIABLE","$quoteId",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",47],")",";",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$quoteIdMask",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getMaskedId",48],"(",")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_coupon_saved.php\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testGet",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote  $quote *\/",56],["T_WHITESPACE","\n        ",56],["T_VARIABLE","$quote",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","create",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Quote",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Quote",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$quote",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","load",58],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$cartId",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getQuoteMaskedId",60],"(",["T_VARIABLE","$quote",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getId",60],"(",")",")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$couponCode",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$quote",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getCouponCode",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$serviceInfo",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'rest'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","RESOURCE_PATH",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$cartId",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'\/coupons\/'",65],["T_WHITESPACE"," ",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Webapi",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Rest",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Request",66],["T_DOUBLE_COLON","::",66],["T_STRING","HTTP_METHOD_GET",66],",",["T_WHITESPACE","\n            ",66],"]",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'soap'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'service'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","self",69],["T_DOUBLE_COLON","::",69],["T_STRING","SERVICE_NAME",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_STRING","SERVICE_VERSION",70],",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'operation'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","self",71],["T_DOUBLE_COLON","::",71],["T_STRING","SERVICE_NAME",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Get'",71],",",["T_WHITESPACE","\n            ",71],"]",",",["T_WHITESPACE","\n        ",72],"]",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$requestData",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$cartId",75],"]",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEquals",76],"(",["T_VARIABLE","$couponCode",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_webApiCall",76],"(",["T_VARIABLE","$serviceInfo",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$requestData",76],")",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_coupon_saved.php\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testDelete",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",84],["T_WHITESPACE","\n        ",84],["T_VARIABLE","$quote",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","objectManager",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","create",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Quote",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Quote",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$quote",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","load",86],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$cartId",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getQuoteMaskedId",87],"(",["T_VARIABLE","$quote",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getId",87],"(",")",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$serviceInfo",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[",["T_WHITESPACE","\n            ",88],["T_CONSTANT_ENCAPSED_STRING","'rest'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[",["T_WHITESPACE","\n                ",89],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","self",90],["T_DOUBLE_COLON","::",90],["T_STRING","RESOURCE_PATH",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$cartId",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'\/coupons'",90],",",["T_WHITESPACE","\n                ",90],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Webapi",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Rest",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Request",91],["T_DOUBLE_COLON","::",91],["T_STRING","HTTP_METHOD_DELETE",91],",",["T_WHITESPACE","\n            ",91],"]",",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'soap'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n                ",93],["T_CONSTANT_ENCAPSED_STRING","'service'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","SERVICE_NAME",94],",",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","SERVICE_VERSION",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'operation'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","SERVICE_NAME",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Remove'",96],",",["T_WHITESPACE","\n            ",96],"]",",",["T_WHITESPACE","\n        ",97],"]",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$requestData",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"[",["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$cartId",99],"]",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertTrue",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_webApiCall",100],"(",["T_VARIABLE","$serviceInfo",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$requestData",100],")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$quote",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","load",101],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEquals",102],"(",["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$quote",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCouponCode",102],"(",")",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/quote_with_address_saved.php\n     * @expectedException \\Exception\n     * @expectedExceptionMessage Coupon code is not valid\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","testSetCouponThrowsExceptionIfCouponDoesNotExist",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",112],["T_WHITESPACE","\n        ",112],["T_VARIABLE","$quote",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","objectManager",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","create",113],"(",["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Quote",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Model",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Quote",113],["T_DOUBLE_COLON","::",113],["T_CLASS","class",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$quote",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","load",114],"(",["T_CONSTANT_ENCAPSED_STRING","'test_order_1'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$cartId",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getQuoteMaskedId",115],"(",["T_VARIABLE","$quote",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getId",115],"(",")",")",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$couponCode",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'invalid_coupon_code'",117],";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$serviceInfo",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'rest'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],"[",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","RESOURCE_PATH",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$cartId",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'\/coupons\/'",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$couponCode",121],",",["T_WHITESPACE","\n                ",121],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Framework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Webapi",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Rest",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Request",122],["T_DOUBLE_COLON","::",122],["T_STRING","HTTP_METHOD_PUT",122],",",["T_WHITESPACE","\n            ",122],"]",",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'soap'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],"[",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'service'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_STRING","SERVICE_NAME",125],",",["T_WHITESPACE","\n                ",125],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","SERVICE_VERSION",126],",",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'operation'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_STRING","self",127],["T_DOUBLE_COLON","::",127],["T_STRING","SERVICE_NAME",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Set'",127],",",["T_WHITESPACE","\n            ",127],"]",",",["T_WHITESPACE","\n        ",128],"]",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$requestData",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],"[",["T_WHITESPACE","\n            ",131],["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$cartId",132],",",["T_WHITESPACE","\n            ",132],["T_CONSTANT_ENCAPSED_STRING","\"couponCode\"",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$couponCode",133],",",["T_WHITESPACE","\n        ",133],"]",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_webApiCall",136],"(",["T_VARIABLE","$serviceInfo",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$requestData",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * @magentoApiDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoApiDataFixture Magento\/Checkout\/_files\/discount_10percent.php\n     *\/",139],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","testSetCouponSuccess",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",145],["T_WHITESPACE","\n        ",145],["T_VARIABLE","$quote",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","objectManager",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","create",146],"(",["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Quote",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Model",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Quote",146],["T_DOUBLE_COLON","::",146],["T_CLASS","class",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$quote",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","load",147],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$cartId",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getQuoteMaskedId",148],"(",["T_VARIABLE","$quote",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$salesRule",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","objectManager",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","create",149],"(",["T_NS_SEPARATOR","\\",149],["T_STRING","Magento",149],["T_NS_SEPARATOR","\\",149],["T_STRING","SalesRule",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Model",149],["T_NS_SEPARATOR","\\",149],["T_STRING","Rule",149],["T_DOUBLE_COLON","::",149],["T_CLASS","class",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$salesRuleId",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","objectManager",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","get",150],"(",["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Framework",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Registry",150],["T_DOUBLE_COLON","::",150],["T_CLASS","class",150],")",["T_WHITESPACE","\n            ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","registry",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Magento\/Checkout\/_file\/discount_10percent'",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$salesRule",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","load",152],"(",["T_VARIABLE","$salesRuleId",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$couponCode",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$salesRule",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getPrimaryCoupon",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getCode",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$serviceInfo",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],"[",["T_WHITESPACE","\n            ",154],["T_CONSTANT_ENCAPSED_STRING","'rest'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],"[",["T_WHITESPACE","\n                ",155],["T_CONSTANT_ENCAPSED_STRING","'resourcePath'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","self",156],["T_DOUBLE_COLON","::",156],["T_STRING","RESOURCE_PATH",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$cartId",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/coupons\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$couponCode",156],",",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'httpMethod'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Magento",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Framework",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Webapi",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Rest",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Request",157],["T_DOUBLE_COLON","::",157],["T_STRING","HTTP_METHOD_PUT",157],",",["T_WHITESPACE","\n            ",157],"]",",",["T_WHITESPACE","\n            ",158],["T_CONSTANT_ENCAPSED_STRING","'soap'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],"[",["T_WHITESPACE","\n                ",159],["T_CONSTANT_ENCAPSED_STRING","'service'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_STRING","self",160],["T_DOUBLE_COLON","::",160],["T_STRING","SERVICE_NAME",160],",",["T_WHITESPACE","\n                ",160],["T_CONSTANT_ENCAPSED_STRING","'serviceVersion'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_STRING","self",161],["T_DOUBLE_COLON","::",161],["T_STRING","SERVICE_VERSION",161],",",["T_WHITESPACE","\n                ",161],["T_CONSTANT_ENCAPSED_STRING","'operation'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_STRING","self",162],["T_DOUBLE_COLON","::",162],["T_STRING","SERVICE_NAME",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'Set'",162],",",["T_WHITESPACE","\n            ",162],"]",",",["T_WHITESPACE","\n        ",163],"]",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$requestData",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"[",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","\"cartId\"",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$cartId",167],",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","\"couponCode\"",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$couponCode",168],",",["T_WHITESPACE","\n        ",168],"]",";",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertTrue",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_webApiCall",171],"(",["T_VARIABLE","$serviceInfo",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$requestData",171],")",")",";",["T_WHITESPACE","\n\n        ",171],["T_VARIABLE","$quoteWithCoupon",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","objectManager",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","create",173],"(",["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Quote",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Model",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Quote",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$quoteWithCoupon",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","load",174],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",174],")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEquals",176],"(",["T_VARIABLE","$quoteWithCoupon",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getCouponCode",176],"(",")",",",["T_WHITESPACE"," ",176],["T_VARIABLE","$couponCode",176],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n",177],"}",["T_WHITESPACE","\n",178]]