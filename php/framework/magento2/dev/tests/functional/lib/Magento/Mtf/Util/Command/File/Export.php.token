[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Mtf",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Util",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Command",7],["T_NS_SEPARATOR","\\",7],["T_STRING","File",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ObjectManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Util",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Command",10],["T_NS_SEPARATOR","\\",10],["T_STRING","File",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Export",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Data",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Util",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Command",11],["T_NS_SEPARATOR","\\",11],["T_STRING","File",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Export",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ReaderInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Get Exporting file from the Magento.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Export",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","ExportInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Path to the Reader.\n     *\n     * @var string\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PRIVATE","private",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$readerPath",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'Magento\\Mtf\\Util\\Command\\File\\Export\\%sReader'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Object manager instance.\n     *\n     * @var ObjectManagerInterface\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$objectManager",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * File reader for Magento export files.\n     *\n     * @var ReaderInterface\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$reader",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @param ObjectManagerInterface $objectManager\n     * @param string $type [optional]\n     *\/",39],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","__construct",43],"(",["T_STRING","ObjectManagerInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$objectManager",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$type",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'product'",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","objectManager",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$objectManager",45],";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","reader",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getReader",46],"(",["T_VARIABLE","$type",46],")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Get reader for export files.\n     *\n     * @param string $type\n     * @return ReaderInterface\n     * @throws \\ReflectionException\n     *\/",49],["T_WHITESPACE","\n    ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","getReader",56],"(",["T_VARIABLE","$type",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$readerPath",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","sprintf",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","readerPath",58],",",["T_WHITESPACE"," ",58],["T_STRING","ucfirst",58],"(",["T_VARIABLE","$type",58],")",")",";",["T_WHITESPACE","\n        ",58],["T_TRY","try",59],["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","objectManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","create",60],"(",["T_VARIABLE","$readerPath",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE"," ",61],["T_CATCH","catch",61],["T_WHITESPACE"," ",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","ReflectionException",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$e",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_THROW","throw",62],["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","ReflectionException",62],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Virtual type '",62],["T_VARIABLE","$readerPath",62],["T_ENCAPSED_AND_WHITESPACE","' does not exist. Please, check it in di.xml.",62],"\"",")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Get the export file by name.\n     *\n     * @param string $name\n     * @return Data|null\n     *\/",66],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","getByName",72],"(",["T_VARIABLE","$name",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","reader",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getData",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","reader",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getData",75],"(",")",["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$file",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$file",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getName",76],"(",")",["T_WHITESPACE"," ",76],["T_IS_IDENTICAL","===",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$name",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$file",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_STRING","null",81],";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Get latest created the export file.\n     *\n     * @return Data|null\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getLatest",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$max",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$latest",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","null",92],";",["T_WHITESPACE","\n        ",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","reader",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getData",93],"(",")",["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$file",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$file",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getDate",94],"(",")",["T_WHITESPACE"," ",94],">",["T_WHITESPACE"," ",94],["T_VARIABLE","$max",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$max",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$file",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getDate",95],"(",")",";",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$latest",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$file",96],";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$latest",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Get all export files by date range using unix time stamp.\n     *\n     * @param string $start\n     * @param string $end\n     * @return Data[]\n     *\/",103],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getByDateRange",110],"(",["T_VARIABLE","$start",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$end",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$files",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",";",["T_WHITESPACE","\n        ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","reader",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getData",113],"(",")",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$file",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$file",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getDate",114],"(",")",["T_WHITESPACE"," ",114],">",["T_WHITESPACE"," ",114],["T_VARIABLE","$start",114],["T_WHITESPACE"," ",114],["T_BOOLEAN_AND","&&",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$file",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getDate",114],"(",")",["T_WHITESPACE"," ",114],"<",["T_WHITESPACE"," ",114],["T_VARIABLE","$end",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$files",115],"[","]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$file",115],";",["T_WHITESPACE","\n            ",115],"}",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$files",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Get all export files.\n     *\n     * @return Data[]\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","getAll",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","reader",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getData",129],"(",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n",130],"}",["T_WHITESPACE","\n",131]]