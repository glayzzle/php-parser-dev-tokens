[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Checkout",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestStep",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Checkout",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Constraint",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AssertGrandTotalOrderReview",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Checkout",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Page",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CheckoutOnepage",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Checkout",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Page",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CheckoutOnepageSuccess",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fixture",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FixtureFactory",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestStep",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestStepInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Fixture",14],["T_NS_SEPARATOR","\\",14],["T_STRING","OrderInjectable",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Place order in one page checkout.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","PlaceOrderStep",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","TestStepInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Onepage checkout page.\n     *\n     * @var CheckoutOnepage\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$checkoutOnepage",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Assert that Order Grand Total is correct on checkout page review block.\n     *\n     * @var AssertGrandTotalOrderReview\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$assertGrandTotalOrderReview",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * One page checkout success page.\n     *\n     * @var CheckoutOnepageSuccess\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$checkoutOnepageSuccess",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Price array.\n     *\n     * @var array\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$prices",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Factory for fixtures.\n     *\n     * @var FixtureFactory\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PRIVATE","private",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$fixtureFactory",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Array of product entities.\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PRIVATE","private",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$products",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Fixture OrderInjectable.\n     *\n     * @var OrderInjectable\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$order",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @param CheckoutOnepage $checkoutOnepage\n     * @param AssertGrandTotalOrderReview $assertGrandTotalOrderReview\n     * @param CheckoutOnepageSuccess $checkoutOnepageSuccess\n     * @param FixtureFactory $fixtureFactory\n     * @param array $products\n     * @param array $prices\n     * @param OrderInjectable|null $order\n     *\/",70],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","__construct",79],"(",["T_WHITESPACE","\n        ",79],["T_STRING","CheckoutOnepage",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$checkoutOnepage",80],",",["T_WHITESPACE","\n        ",80],["T_STRING","AssertGrandTotalOrderReview",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$assertGrandTotalOrderReview",81],",",["T_WHITESPACE","\n        ",81],["T_STRING","CheckoutOnepageSuccess",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$checkoutOnepageSuccess",82],",",["T_WHITESPACE","\n        ",82],["T_STRING","FixtureFactory",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$fixtureFactory",83],",",["T_WHITESPACE","\n        ",83],["T_ARRAY","array",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$products",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",",",["T_WHITESPACE","\n        ",84],["T_ARRAY","array",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$prices",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[","]",",",["T_WHITESPACE","\n        ",85],["T_STRING","OrderInjectable",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$order",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","null",86],["T_WHITESPACE","\n    ",86],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","checkoutOnepage",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$checkoutOnepage",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertGrandTotalOrderReview",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$assertGrandTotalOrderReview",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","checkoutOnepageSuccess",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$checkoutOnepageSuccess",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","fixtureFactory",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$fixtureFactory",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","products",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$products",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","prices",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$prices",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","order",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$order",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Place order after checking order totals on review step.\n     *\n     * @return array\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","run",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_ISSET","isset",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","prices",104],"[",["T_CONSTANT_ENCAPSED_STRING","'grandTotal'",104],"]",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertGrandTotalOrderReview",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","processAssert",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","checkoutOnepage",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","prices",105],"[",["T_CONSTANT_ENCAPSED_STRING","'grandTotal'",105],"]",")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","checkoutOnepage",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getPaymentBlock",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getSelectedPaymentMethodBlock",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","clickPlaceOrder",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$orderId",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","checkoutOnepageSuccess",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getSuccessBlock",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","getGuestOrderId",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$data",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"[",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'id'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$orderId",110],",",["T_WHITESPACE","\n            ",110],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","products",111],"]",["T_WHITESPACE","\n        ",111],"]",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$orderData",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","order",113],["T_WHITESPACE"," ",113],["T_IS_NOT_IDENTICAL","!==",113],["T_WHITESPACE"," ",113],["T_STRING","null",113],["T_WHITESPACE"," ",113],"?",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","order",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getData",113],"(",")",["T_WHITESPACE"," ",113],":",["T_WHITESPACE"," ",113],"[","]",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$order",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","fixtureFactory",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","createByCode",114],"(",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","'orderInjectable'",115],",",["T_WHITESPACE","\n            ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_STRING","array_merge",116],"(",["T_VARIABLE","$data",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$orderData",116],")","]",["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n\n        ",117],["T_RETURN","return",119],["T_WHITESPACE"," ",119],"[",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'orderId'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$orderId",120],",",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","'order'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$order",121],",",["T_WHITESPACE","\n        ",121],"]",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n",123],"}",["T_WHITESPACE","\n",124]]