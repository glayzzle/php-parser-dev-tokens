[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Downloadable",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","View",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Client",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Locator",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class Links\n * Downloadable links blocks on frontend\n *\n * @SuppressWarnings(PHPMD.NPathComplexity)\n *\/",12],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Links",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","Block",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Selector title for for links\n     *\n     * @var string\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$title",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@class,\"field downloads\")]\/label[@class=\"label\"]\/span'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Selector for link by label\n     *\n     * @var string\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$linkByLabel",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'.\/\/input[@type=\"checkbox\" and (.\/..\/label\/span[contains(text(),\"%s\")])]'",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Choice link selector\n     *\n     * @var string\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$choiceLink",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'.\/\/*[contains(@class,\"choice\") and @data-role=\"link\"]'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links\n     *\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$separatelyForChoice",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'input[type=\"checkbox\"]'",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links\n     *\n     * @var string\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$linkForChoice",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'[data-role=\"link\"] label>span:first-child'",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links\n     *\n     * @var string\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$sampleLinkForChoice",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'.sample.link'",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links\n     *\n     * @var string\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$priceForChoice",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'.price-wrapper'",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$priceAdjustmentsForChoice",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'.price-adjustments .price'",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Get title for links block\n     *\n     * @return string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","getTitle",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_rootElement",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","find",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","title",83],",",["T_WHITESPACE"," ",83],["T_STRING","Locator",83],["T_DOUBLE_COLON","::",83],["T_STRING","SELECTOR_XPATH",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","getText",83],"(",")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Fill links on product view page\n     *\n     * @param array $data\n     * @return void\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","fill",92],"(",["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$data",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$data",94],["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$linkData",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$link",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_rootElement",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","find",95],"(",["T_WHITESPACE","\n                ",95],["T_STRING","sprintf",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","linkByLabel",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$linkData",96],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",96],"]",")",",",["T_WHITESPACE","\n                ",96],["T_STRING","Locator",97],["T_DOUBLE_COLON","::",97],["T_STRING","SELECTOR_XPATH",97],",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",98],["T_WHITESPACE","\n            ",98],")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$link",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setValue",100],"(",["T_VARIABLE","$linkData",100],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",100],"]",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Return links data on product page view\n     *\n     * @return array\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","getLinks",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$linksData",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"[","]",";",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$choiceLinks",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_rootElement",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getElements",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","choiceLink",113],",",["T_WHITESPACE"," ",113],["T_STRING","Locator",113],["T_DOUBLE_COLON","::",113],["T_STRING","SELECTOR_XPATH",113],")",";",["T_WHITESPACE","\n        ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$choiceLinks",114],["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$choiceLink",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$link",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$choiceLink",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","find",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","linkForChoice",115],")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$sample",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$choiceLink",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","find",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","sampleLinkForChoice",116],")",";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$price",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$choiceLink",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","find",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","priceForChoice",117],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$priceAdjustments",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$choiceLink",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","find",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","priceAdjustmentsForChoice",118],")",";",["T_WHITESPACE","\n\n            ",118],["T_VARIABLE","$linkData",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$choiceLink",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","find",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","separatelyForChoice",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","isVisible",121],"(",")",["T_WHITESPACE","\n                    ",121],"?",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Yes'",122],["T_WHITESPACE","\n                    ",122],":",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'No'",123],",",["T_WHITESPACE","\n                ",123],["T_CONSTANT_ENCAPSED_STRING","'title'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$link",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isVisible",124],"(",")",["T_WHITESPACE"," ",124],"?",["T_WHITESPACE"," ",124],["T_VARIABLE","$link",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getText",124],"(",")",["T_WHITESPACE"," ",124],":",["T_WHITESPACE"," ",124],["T_STRING","null",124],",",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'sample'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$sample",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","isVisible",125],"(",")",["T_WHITESPACE"," ",125],"?",["T_WHITESPACE"," ",125],["T_VARIABLE","$sample",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getText",125],"(",")",["T_WHITESPACE"," ",125],":",["T_WHITESPACE"," ",125],["T_STRING","null",125],",",["T_WHITESPACE","\n                ",125],["T_CONSTANT_ENCAPSED_STRING","'price'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$price",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","isVisible",126],"(",")",["T_WHITESPACE"," ",126],"?",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","escapePrice",126],"(",["T_VARIABLE","$price",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getText",126],"(",")",")",["T_WHITESPACE"," ",126],":",["T_WHITESPACE"," ",126],["T_STRING","null",126],",",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'price_adjustments'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$priceAdjustments",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isVisible",127],"(",")",["T_WHITESPACE","\n                    ",127],"?",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","escapePrice",128],"(",["T_VARIABLE","$priceAdjustments",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getText",128],"(",")",")",["T_WHITESPACE","\n                    ",128],":",["T_WHITESPACE"," ",129],["T_STRING","null",129],",",["T_WHITESPACE","\n            ",129],"]",";",["T_WHITESPACE","\n\n            ",130],["T_VARIABLE","$linksData",132],"[","]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","array_filter",132],"(",["T_VARIABLE","$linkData",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$linksData",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Escape currency for price\n     *\n     * @param string $price\n     * @return string\n     *\/",138],["T_WHITESPACE","\n    ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","escapePrice",144],"(",["T_VARIABLE","$price",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_STRING","preg_replace",146],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^0-9\\.,]\/'",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","''",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$price",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n",147],"}",["T_WHITESPACE","\n",148]]