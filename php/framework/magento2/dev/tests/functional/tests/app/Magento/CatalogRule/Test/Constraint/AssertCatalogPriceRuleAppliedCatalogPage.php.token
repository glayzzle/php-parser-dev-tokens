[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cms",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Page",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CmsIndex",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Constraint",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractConstraint",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fixture",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CatalogProductSimple",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Catalog",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Page",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Category",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CatalogCategoryView",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Assert that Catalog Price Rule is applied for product(s) in Catalog.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","AssertCatalogPriceRuleAppliedCatalogPage",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractConstraint",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Assert that Catalog Price Rule is applied for product(s) in Catalog\n     * according to Priority(Priority\/Stop Further Rules Processing).\n     *\n     * @param CmsIndex $cmsIndexPage\n     * @param CatalogCategoryView $catalogCategoryViewPage\n     * @param array $products\n     * @param array $productPrice\n     * @param Customer $customer\n     * @return void\n     *\/",20],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","processAssert",31],"(",["T_WHITESPACE","\n        ",31],["T_STRING","CmsIndex",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$cmsIndexPage",32],",",["T_WHITESPACE","\n        ",32],["T_STRING","CatalogCategoryView",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$catalogCategoryViewPage",33],",",["T_WHITESPACE","\n        ",33],["T_ARRAY","array",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$products",34],",",["T_WHITESPACE","\n        ",34],["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$productPrice",35],",",["T_WHITESPACE","\n        ",35],["T_STRING","Customer",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$customer",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","null",36],["T_WHITESPACE","\n    ",36],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$customer",38],["T_WHITESPACE"," ",38],["T_IS_NOT_IDENTICAL","!==",38],["T_WHITESPACE"," ",38],["T_STRING","null",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n            ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","objectManager",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","create",39],"(",["T_WHITESPACE","\n                ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Customer",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Test",40],["T_NS_SEPARATOR","\\",40],["T_STRING","TestStep",40],["T_NS_SEPARATOR","\\",40],["T_STRING","LoginCustomerOnFrontendStep",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],",",["T_WHITESPACE","\n                ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$customer",41],"]",["T_WHITESPACE","\n            ",41],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","run",42],"(",")",";",["T_WHITESPACE","\n        ",42],"}",["T_WHITESPACE"," ",43],["T_ELSE","else",43],["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","objectManager",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","create",44],"(",["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Customer",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Test",44],["T_NS_SEPARATOR","\\",44],["T_STRING","TestStep",44],["T_NS_SEPARATOR","\\",44],["T_STRING","LogoutCustomerOnFrontendStep",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","run",44],"(",")",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$cmsIndexPage",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","open",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_FOREACH","foreach",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$products",48],["T_WHITESPACE"," ",48],["T_AS","as",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$key",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$product",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$categoryName",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$product",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getCategoryIds",49],"(",")","[",["T_LNUMBER","0",49],"]",";",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$cmsIndexPage",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getTopmenu",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","selectCategoryByName",50],"(",["T_VARIABLE","$categoryName",50],")",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$priceBlock",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$catalogCategoryViewPage",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getListProductBlock",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getProductItem",51],"(",["T_VARIABLE","$product",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getPriceBlock",51],"(",")",";",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","PHPUnit_Framework_Assert",52],["T_DOUBLE_COLON","::",52],["T_STRING","assertTrue",52],"(",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$priceBlock",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","isVisible",53],"(",")",",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'Price block is not displayed for product '",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$product",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getName",54],"(",")",["T_WHITESPACE","\n            ",54],")",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$actualPrice",56],"[",["T_CONSTANT_ENCAPSED_STRING","'special'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_DOUBLE_CAST","(float)",56],["T_VARIABLE","$priceBlock",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getSpecialPrice",56],"(",")",";",["T_WHITESPACE","\n            ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$productPrice",57],"[",["T_VARIABLE","$key",57],"]","[",["T_CONSTANT_ENCAPSED_STRING","'regular'",57],"]",["T_WHITESPACE"," ",57],["T_IS_NOT_IDENTICAL","!==",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'No'",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_VARIABLE","$actualPrice",58],"[",["T_CONSTANT_ENCAPSED_STRING","'regular'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_DOUBLE_CAST","(float)",58],["T_VARIABLE","$priceBlock",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getOldPrice",58],"(",")",";",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$actualPrice",59],"[",["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$actualPrice",59],"[",["T_CONSTANT_ENCAPSED_STRING","'regular'",59],"]",["T_WHITESPACE"," ",59],"-",["T_WHITESPACE"," ",59],["T_VARIABLE","$actualPrice",59],"[",["T_CONSTANT_ENCAPSED_STRING","'special'",59],"]",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$diff",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","verifyData",61],"(",["T_VARIABLE","$actualPrice",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$productPrice",61],"[",["T_VARIABLE","$key",61],"]",")",";",["T_WHITESPACE","\n            ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","PHPUnit_Framework_Assert",62],["T_DOUBLE_COLON","::",62],["T_STRING","assertTrue",62],"(",["T_WHITESPACE","\n                ",62],["T_EMPTY","empty",63],"(",["T_VARIABLE","$diff",63],")",",",["T_WHITESPACE","\n                ",63],["T_STRING","implode",64],"(",["T_CONSTANT_ENCAPSED_STRING","' '",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$diff",64],")",["T_WHITESPACE","\n            ",64],")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Check if arrays have equal values.\n     *\n     * @param array $formData\n     * @param array $fixtureData\n     * @return array\n     *\/",69],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","verifyData",76],"(",["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$formData",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$fixtureData",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$errorMessage",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[","]",";",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$formData",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$key",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$value",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$value",80],["T_WHITESPACE"," ",80],["T_IS_NOT_EQUAL","!=",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$fixtureData",80],"[",["T_VARIABLE","$key",80],"]",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$errorMessage",81],"[","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"Value \"",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$key",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\" is not equal.\"",81],["T_WHITESPACE","\n                    ",81],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","\"\\nExpected: \"",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$fixtureData",82],"[",["T_VARIABLE","$key",82],"]",["T_WHITESPACE","\n                    ",82],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"\\nActual: \"",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$value",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",83],";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$errorMessage",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Text of catalog price rule visibility on catalog page (frontend).\n     *\n     * @return string\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","toString",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Displayed catalog price rule data on catalog page(frontend) equals to passed from fixture.'",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n",98]]