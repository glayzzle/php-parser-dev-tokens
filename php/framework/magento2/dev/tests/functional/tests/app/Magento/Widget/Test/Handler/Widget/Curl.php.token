[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Widget",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Handler",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Widget",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FixtureInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Handler",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Curl",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","AbstractCurl",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DataInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","System",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventManagerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Util",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Protocol",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CurlInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Mtf",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Util",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Protocol",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CurlTransport",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Mtf",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Util",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Protocol",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CurlTransport",15],["T_NS_SEPARATOR","\\",15],["T_STRING","BackendDecorator",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Curl handler for creating widgetInstance\/frontendApp.\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Curl",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","AbstractCurl",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$mappingData",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_WHITESPACE","\n        ",27],["T_CONSTANT_ENCAPSED_STRING","'code'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],"[",["T_WHITESPACE","\n            ",28],["T_CONSTANT_ENCAPSED_STRING","'CMS Page Link'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'cms_page_link'",29],",",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'Recently Viewed Products'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'recently_viewed'",30],",",["T_WHITESPACE","\n        ",30],"]",",",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'block'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],"[",["T_WHITESPACE","\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'Main Content Area'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'content'",33],",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'Sidebar Additional'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'sidebar.additional'",34],",",["T_WHITESPACE","\n            ",34],["T_CONSTANT_ENCAPSED_STRING","'Sidebar Main'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'sidebar.main'",35],",",["T_WHITESPACE","\n        ",35],"]",",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'page_group'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'Generic Pages\/All Pages'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'all_pages'",38],",",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'Generic Pages\/Specified Page'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'pages'",39],",",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","'Generic Pages\/Page Layouts'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'page_layouts'",40],",",["T_WHITESPACE","\n            ",40],["T_CONSTANT_ENCAPSED_STRING","'Categories\/Non-Anchor Categories'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'notanchor_categories'",41],",",["T_WHITESPACE","\n        ",41],"]",",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'template'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'CMS Page Link Block Template'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'widget\/link\/link_block.phtml'",44],",",["T_WHITESPACE","\n        ",44],"]",",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'Shopping Cart'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'checkout_cart_index'",47],",",["T_WHITESPACE","\n        ",47],"]",",",["T_WHITESPACE","\n    ",48],"]",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$additionalMappingData",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[","]",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Widget Instance Template.\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$widgetInstanceTemplate",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","''",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param DataInterface $configuration\n     * @param EventManagerInterface $eventManager\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","__construct",70],"(",["T_STRING","DataInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$configuration",70],",",["T_WHITESPACE"," ",70],["T_STRING","EventManagerInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$eventManager",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","mappingData",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","array_merge",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","mappingData",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","additionalMappingData",72],")",";",["T_WHITESPACE","\n        ",72],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","__construct",73],"(",["T_VARIABLE","$configuration",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$eventManager",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Post request for creating widget instance.\n     *\n     * @param FixtureInterface $fixture [optional]\n     * @throws \\Exception\n     * @return array\n     *\/",76],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","persist",83],"(",["T_STRING","FixtureInterface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$fixture",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$code",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","mappingData",85],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",85],"]","[",["T_VARIABLE","$fixture",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getCode",85],"(",")","]",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$themeId",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getThemeId",86],"(",["T_VARIABLE","$fixture",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getThemeId",86],"(",")",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$data",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","prepareData",87],"(",["T_VARIABLE","$fixture",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$url",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$_ENV",89],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",89],"]",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'admin\/widget_instance\/save\/code\/'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$code",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\/theme_id\/'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$themeId",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$curl",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","BackendDecorator",90],"(",["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","CurlTransport",90],"(",")",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_configuration",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$curl",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","write",91],"(",["T_VARIABLE","$url",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$data",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$response",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$curl",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","read",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$curl",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","close",93],"(",")",";",["T_WHITESPACE","\n\n        ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_STRING","strpos",95],"(",["T_VARIABLE","$response",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'data-ui-id=\"messages-message-success\"'",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_THROW","throw",96],["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Exception",96],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Widget instance creation by curl handler was not successful! Response: ",96],["T_VARIABLE","$response",96],"\"",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$id",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","null",98],";",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","preg_match_all",99],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\\/widget_instance\\\/edit\\\/instance_id\\\/(\\d+)\/'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$response",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$matches",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$id",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$matches",100],"[",["T_LNUMBER","1",100],"]","[",["T_STRING","count",100],"(",["T_VARIABLE","$matches",100],"[",["T_LNUMBER","1",100],"]",")",["T_WHITESPACE"," ",100],"-",["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],"]",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$id",102],"]",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Prepare data for create widget.\n     *\n     * @param FixtureInterface $widget\n     * @return array\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","prepareData",111],"(",["T_STRING","FixtureInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$widget",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$data",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","replaceMappingData",113],"(",["T_VARIABLE","$widget",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getData",113],"(",")",")",";",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$widget",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","hasData",114],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",115],"]","[",["T_LNUMBER","0",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$widget",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getDataFieldConfig",115],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",115],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",115],"]",["T_OBJECT_OPERATOR","->",115],["T_STRING","getStores",115],"(",")","[",["T_LNUMBER","0",115],"]",["T_OBJECT_OPERATOR","->",115],["T_STRING","getStoreId",115],"(",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_UNSET","unset",117],"(",["T_VARIABLE","$data",117],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",117],"]",")",";",["T_WHITESPACE","\n        ",117],["T_UNSET","unset",118],"(",["T_VARIABLE","$data",118],"[",["T_CONSTANT_ENCAPSED_STRING","'theme_id'",118],"]",")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$data",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","prepareWidgetInstance",120],"(",["T_VARIABLE","$data",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$data",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","prepareParameters",121],"(",["T_VARIABLE","$data",121],")",";",["T_WHITESPACE","\n\n        ",121],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$data",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Prepare widget Frontend options.\n     *\n     * @param array $data\n     * @return array\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","prepareParameters",132],"(",["T_ARRAY","array",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$data",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","prepareEntity",134],"(",["T_VARIABLE","$data",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Prepare entity parameters data.\n     *\n     * @param array $data\n     * @return array\n     *\/",137],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","prepareEntity",143],"(",["T_ARRAY","array",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$data",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_ISSET","isset",145],"(",["T_VARIABLE","$data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",145],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entities'",145],"]",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entities'",146],"]","[",["T_LNUMBER","0",146],"]",["T_OBJECT_OPERATOR","->",146],["T_STRING","getPageId",146],"(",")",";",["T_WHITESPACE","\n            ",146],["T_UNSET","unset",147],"(",["T_VARIABLE","$data",147],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",147],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entities'",147],"]",")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$data",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Prepare Widget Instance (layout) data.\n     *\n     * @param array $data\n     * @return array\n     * @throws \\Exception\n     *\/",153],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","prepareWidgetInstance",160],"(",["T_ARRAY","array",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$data",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$widgetInstances",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],"[","]",";",["T_WHITESPACE","\n        ",162],["T_FOREACH","foreach",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$data",163],"[",["T_CONSTANT_ENCAPSED_STRING","'widget_instance'",163],"]",["T_WHITESPACE"," ",163],["T_AS","as",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$key",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$widgetInstance",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$pageGroup",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$widgetInstance",164],"[",["T_CONSTANT_ENCAPSED_STRING","'page_group'",164],"]",";",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$method",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'prepare'",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_STRING","str_replace",165],"(",["T_CONSTANT_ENCAPSED_STRING","' '",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","''",165],",",["T_WHITESPACE"," ",165],["T_STRING","ucwords",165],"(",["T_STRING","str_replace",165],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","' '",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$pageGroup",165],")",")",")",["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Group'",165],";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(","!",["T_STRING","method_exists",166],"(",["T_CLASS_C","__CLASS__",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$method",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_THROW","throw",167],["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_NS_SEPARATOR","\\",167],["T_STRING","Exception",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Method for prepare page group \"'",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_VARIABLE","$method",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'\" is not exist.'",167],")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$widgetInstances",169],"[",["T_VARIABLE","$key",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_group'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$pageGroup",169],";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$widgetInstances",170],"[",["T_VARIABLE","$key",170],"]","[",["T_VARIABLE","$pageGroup",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_VARIABLE","$method",170],"(",["T_VARIABLE","$widgetInstance",170],")",";",["T_WHITESPACE","\n            ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_ISSET","isset",171],"(",["T_VARIABLE","$widgetInstance",171],"[",["T_VARIABLE","$pageGroup",171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$widgetInstances",172],"[",["T_VARIABLE","$key",172],"]","[",["T_VARIABLE","$pageGroup",172],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",172],"]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_LNUMBER","0",172],";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$data",175],"[",["T_CONSTANT_ENCAPSED_STRING","'widget_instance'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$widgetInstances",175],";",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$data",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Prepare All Page Group.\n     *\n     * @param array $widgetInstancePageGroup\n     * @return array\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","prepareAllPagesGroup",186],"(",["T_ARRAY","array",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$widgetInstancePageGroup",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$widgetInstance",188],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",188],"]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_ISSET","isset",188],"(",["T_VARIABLE","$widgetInstancePageGroup",188],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",188],"]",")",["T_WHITESPACE","\n            ",188],"?",["T_WHITESPACE"," ",189],["T_VARIABLE","$widgetInstancePageGroup",189],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",189],"]",["T_WHITESPACE","\n            ",189],":",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'default'",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$widgetInstance",191],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'all'",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$widgetInstance",192],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$widgetInstancePageGroup",192],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",192],"]",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$widgetInstance",193],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ISSET","isset",193],"(",["T_VARIABLE","$widgetInstancePageGroup",193],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",193],"]",")",["T_WHITESPACE","\n            ",193],"?",["T_WHITESPACE"," ",194],["T_VARIABLE","$widgetInstancePageGroup",194],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",194],"]",["T_WHITESPACE","\n            ",194],":",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","widgetInstanceTemplate",195],";",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$widgetInstance",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Prepare Non-Anchor Categories Page Group.\n     *\n     * @param array $widgetInstancePageGroup\n     * @return array\n     *\/",200],["T_WHITESPACE","\n    ",205],["T_PROTECTED","protected",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","prepareNotanchorCategoriesGroup",206],"(",["T_ARRAY","array",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$widgetInstancePageGroup",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$widgetInstancePageGroup",208],"[",["T_CONSTANT_ENCAPSED_STRING","'is_anchor_only'",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_LNUMBER","0",208],";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$widgetInstancePageGroup",209],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",209],"]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'all'",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$widgetInstancePageGroup",210],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'catalog_category_view_type_default'",210],";",["T_WHITESPACE","\n\n        ",210],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$widgetInstancePageGroup",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Prepare Specified Page Group.\n     *\n     * @param array $widgetInstancePageGroup\n     * @return array\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","preparePagesGroup",221],"(",["T_ARRAY","array",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$widgetInstancePageGroup",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$widgetInstancePageGroup",223],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'all'",223],";",["T_WHITESPACE","\n\n        ",223],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$widgetInstancePageGroup",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Return theme id by title.\n     *\n     * @param string $title\n     * @return int\n     * @throws \\Exception\n     *\/",228],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","getThemeId",235],"(",["T_VARIABLE","$title",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$filter",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","base64_encode",237],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_title='",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_VARIABLE","$title",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$url",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$_ENV",238],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",238],"]",["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'admin\/system_design_theme\/grid\/filter\/'",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_VARIABLE","$filter",238],";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$curl",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_STRING","BackendDecorator",239],"(",["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_STRING","CurlTransport",239],"(",")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_configuration",239],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$curl",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","write",240],"(",["T_VARIABLE","$url",240],",",["T_WHITESPACE"," ",240],"[","]",",",["T_WHITESPACE"," ",240],["T_STRING","CurlInterface",240],["T_DOUBLE_COLON","::",240],["T_STRING","GET",240],")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$response",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$curl",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","read",241],"(",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$curl",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","close",242],"(",")",";",["T_WHITESPACE","\n\n        ",242],["T_STRING","preg_match",244],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<tr data-role=\"row\" title=\"[^\"]+system_design_theme\\\/edit\\\/id\\\/([\\d]+)\\\/\"\/'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$response",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$match",244],")",";",["T_WHITESPACE","\n        ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_EMPTY","empty",245],"(",["T_VARIABLE","$match",245],"[",["T_LNUMBER","1",245],"]",")",["T_WHITESPACE"," ",245],"?",["T_WHITESPACE"," ",245],["T_STRING","null",245],["T_WHITESPACE"," ",245],":",["T_WHITESPACE"," ",245],["T_VARIABLE","$match",245],"[",["T_LNUMBER","1",245],"]",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n",246],"}",["T_WHITESPACE","\n",247]]