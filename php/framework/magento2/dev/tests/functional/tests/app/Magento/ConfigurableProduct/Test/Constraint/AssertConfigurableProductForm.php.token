[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableProduct",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Constraint",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AssertProductForm",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Page",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogProductEdit",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Page",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Adminhtml",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogProductIndex",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fixture",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FixtureInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class AssertConfigurableProductForm\n * Assert form data equals fixture data\n *\/",14],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","AssertConfigurableProductForm",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AssertProductForm",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * List skipped fixture fields in verify\n     *\n     * @var array\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$skippedFixtureFields",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'id'",26],",",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'affected_attribute_set'",27],",",["T_WHITESPACE","\n        ",27],["T_CONSTANT_ENCAPSED_STRING","'checkout_data'",28],",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'price'",29],["T_WHITESPACE","\n    ",29],"]",";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * List skipped attribute fields in verify\n     *\n     * @var array\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$skippedAttributeFields",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n        ",37],["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",38],",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",39],",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'is_required'",42],",",["T_WHITESPACE","\n    ",42],"]",";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * List skipped option fields in verify\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$skippedOptionFields",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'admin'",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'id'",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'is_default'",53],",",["T_WHITESPACE","\n    ",53],"]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Skipped variation matrix field.\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$skippedVariationMatrixFields",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'configurable_attribute'",62],",",["T_WHITESPACE","\n    ",62],"]",";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Prepares fixture data for comparison\n     *\n     * @param array $data\n     * @param array $sortFields [optional]\n     * @return array\n     *\/",65],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","prepareFixtureData",72],"(",["T_ARRAY","array",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$data",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$sortFields",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[","]",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_COMMENT","\/\/ Attribute is no longer displayed on product page\n",74],["T_WHITESPACE","        ",75],["T_UNSET","unset",75],"(",["T_VARIABLE","$data",75],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",75],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attributes_data'",75],"]",")",";",["T_WHITESPACE","\n\n        ",75],["T_COMMENT","\/\/ prepare and filter values, reset keys in variation matrix\n",77],["T_WHITESPACE","        ",78],["T_VARIABLE","$variationsMatrix",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",78],"]","[",["T_CONSTANT_ENCAPSED_STRING","'matrix'",78],"]",";",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$variationsMatrix",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$key",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$variationMatrix",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$variationsMatrix",80],"[",["T_VARIABLE","$key",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","array_diff_key",80],"(",["T_VARIABLE","$variationMatrix",80],",",["T_WHITESPACE"," ",80],["T_STRING","array_flip",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","skippedVariationMatrixFields",80],")",")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$data",82],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",82],"]","[",["T_CONSTANT_ENCAPSED_STRING","'matrix'",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","array_values",82],"(",["T_VARIABLE","$variationsMatrix",82],")",";",["T_WHITESPACE","\n\n        ",82],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","parent",84],["T_DOUBLE_COLON","::",84],["T_STRING","prepareFixtureData",84],"(",["T_VARIABLE","$data",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$sortFields",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Prepares form data for comparison\n     *\n     * @param array $data\n     * @param array $sortFields [optional]\n     * @return array\n     *\/",87],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","prepareFormData",94],"(",["T_ARRAY","array",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$data",94],",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$sortFields",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[","]",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_COMMENT","\/\/ filter values and reset keys in variation matrix\n",96],["T_WHITESPACE","        ",97],["T_VARIABLE","$variationsMatrix",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","trimCurrencyForPriceInMatrix",97],"(",["T_VARIABLE","$data",97],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'matrix'",97],"]",")",";",["T_WHITESPACE","\n        ",97],["T_FOREACH","foreach",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$variationsMatrix",98],["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$key",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$variationMatrix",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$variationsMatrix",99],"[",["T_VARIABLE","$key",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","array_diff_key",99],"(",["T_VARIABLE","$variationMatrix",99],",",["T_WHITESPACE"," ",99],["T_STRING","array_flip",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","skippedVariationMatrixFields",99],")",")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'matrix'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","array_values",101],"(",["T_VARIABLE","$variationsMatrix",101],")",";",["T_WHITESPACE","\n\n        ",101],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$sortFields",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$path",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$data",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","sortDataByPath",104],"(",["T_VARIABLE","$data",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$path",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$data",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Escape currency for price in matrix\n     *\n     * @param array $variationsMatrix\n     * @param string $currency\n     * @return array\n     *\/",109],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","trimCurrencyForPriceInMatrix",116],"(",["T_VARIABLE","$variationsMatrix",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$currency",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'$'",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$variationsMatrix",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],"&",["T_VARIABLE","$variation",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_ISSET","isset",119],"(",["T_VARIABLE","$variation",119],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$variation",120],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","str_replace",120],"(",["T_VARIABLE","$currency",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$variation",120],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",120],"]",")",";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$variationsMatrix",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Assert form data equals product configurable data.\n     *\n     * @param FixtureInterface $product\n     * @param CatalogProductIndex $productGrid\n     * @param CatalogProductEdit $productPage\n     * @return void\n     *\/",126],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","processAssert",134],"(",["T_WHITESPACE","\n        ",134],["T_STRING","FixtureInterface",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$product",135],",",["T_WHITESPACE","\n        ",135],["T_STRING","CatalogProductIndex",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$productGrid",136],",",["T_WHITESPACE","\n        ",136],["T_STRING","CatalogProductEdit",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$productPage",137],["T_WHITESPACE","\n    ",137],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$product",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","processFixture",139],"(",["T_VARIABLE","$product",139],")",";",["T_WHITESPACE","\n        ",139],["T_STRING","parent",140],["T_DOUBLE_COLON","::",140],["T_STRING","processAssert",140],"(",["T_VARIABLE","$product",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$productGrid",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$productPage",140],")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Remove price\\special price fields from fixture as it should not be retrieved from product form\n     *\n     * @param FixtureInterface $product\n     * @return mixed\n     *\/",143],["T_WHITESPACE","\n    ",148],["T_PROTECTED","protected",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","processFixture",149],"(",["T_STRING","FixtureInterface",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$product",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$data",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","array_diff_key",151],"(",["T_VARIABLE","$product",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getData",151],"(",")",",",["T_WHITESPACE"," ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'special_price'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],"]",")",";",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","objectManager",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","create",152],"(",["T_WHITESPACE","\n            ",152],["T_NS_SEPARATOR","\\",153],["T_STRING","Magento",153],["T_NS_SEPARATOR","\\",153],["T_STRING","ConfigurableProduct",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Test",153],["T_NS_SEPARATOR","\\",153],["T_STRING","Fixture",153],["T_NS_SEPARATOR","\\",153],["T_STRING","ConfigurableProduct",153],["T_DOUBLE_COLON","::",153],["T_CLASS","class",153],",",["T_WHITESPACE","\n            ",153],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$data",154],"]",["T_WHITESPACE","\n        ",154],")",";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n",156],"}",["T_WHITESPACE","\n",157]]