[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Checks that prices including tax in order are correct on backend.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","AssertOrderTaxOnBackendExcludingTax",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","AbstractAssertOrderTaxOnBackend",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Constraint severeness.\n     *\n     * @var string\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$severeness",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'high'",19],";",["T_WHITESPACE","\n\n\n    ",19],["T_DOC_COMMENT","\/**\n     * Get order totals.\n     *\n     * @param $actualPrices\n     * @return array\n     *\/",22],["T_WHITESPACE","\n    ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","getOrderTotals",28],"(",["T_VARIABLE","$actualPrices",28],")",["T_WHITESPACE","\n    ",28],"{",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$viewBlock",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","salesOrderView",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getOrderTotalsBlock",30],"(",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$actualPrices",31],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal_excl_tax'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$viewBlock",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getSubtotal",31],"(",")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$actualPrices",32],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",32],"]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","null",32],";",["T_WHITESPACE","\n\n        ",32],["T_VARIABLE","$actualPrices",34],"[",["T_CONSTANT_ENCAPSED_STRING","'discount'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$viewBlock",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getDiscount",34],"(",")",";",["T_WHITESPACE","\n\n        ",34],["T_VARIABLE","$actualPrices",36],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_excl_tax'",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$viewBlock",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getShippingExclTax",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$actualPrices",37],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_incl_tax'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$viewBlock",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getShippingInclTax",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$actualPrices",38],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$viewBlock",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getTax",38],"(",")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$actualPrices",40],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total_excl_tax'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$viewBlock",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getGrandTotal",40],"(",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$actualPrices",41],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total_incl_tax'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","null",41],";",["T_WHITESPACE","\n        ",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$actualPrices",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Get invoice new totals.\n     *\n     * @param $actualPrices\n     * @return array\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getInvoiceNewTotals",51],"(",["T_VARIABLE","$actualPrices",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$totalsBlock",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","orderInvoiceNew",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getTotalsBlock",53],"(",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$actualPrices",54],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal_excl_tax'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$totalsBlock",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getSubtotal",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$actualPrices",55],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","null",55],";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$actualPrices",57],"[",["T_CONSTANT_ENCAPSED_STRING","'discount'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$totalsBlock",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getDiscount",57],"(",")",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$actualPrices",59],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_excl_tax'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$totalsBlock",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getShippingExclTax",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$actualPrices",60],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_incl_tax'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$totalsBlock",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getShippingInclTax",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$actualPrices",61],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$totalsBlock",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getTax",61],"(",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$actualPrices",63],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total_excl_tax'",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$totalsBlock",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getGrandTotal",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$actualPrices",64],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total_incl_tax'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","null",64],";",["T_WHITESPACE","\n\n        ",64],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$actualPrices",66],";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Get Credit Memo new totals.\n     *\n     * @param $actualPrices\n     * @return array\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getCreditMemoNewTotals",75],"(",["T_VARIABLE","$actualPrices",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$totalsBlock",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","orderCreditMemoNew",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getTotalsBlock",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$actualPrices",78],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal_excl_tax'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$totalsBlock",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getSubtotal",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$actualPrices",79],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","null",79],";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$actualPrices",81],"[",["T_CONSTANT_ENCAPSED_STRING","'discount'",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$totalsBlock",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getDiscount",81],"(",")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$actualPrices",83],"[",["T_CONSTANT_ENCAPSED_STRING","'tax'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$totalsBlock",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getTax",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$actualPrices",84],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total_excl_tax'",84],"]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$totalsBlock",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getGrandTotal",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$actualPrices",85],"[",["T_CONSTANT_ENCAPSED_STRING","'grand_total_incl_tax'",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","null",85],";",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$actualPrices",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n",88],"}",["T_WHITESPACE","\n",89]]