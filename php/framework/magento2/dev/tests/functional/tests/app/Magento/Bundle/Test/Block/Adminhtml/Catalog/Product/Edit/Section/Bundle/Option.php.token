[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Bundle",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Adminhtml",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Edit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Section",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Bundle",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bundle",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Adminhtml",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Edit",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Section",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bundle",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Option",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Search",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Grid",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Bundle",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Block",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Adminhtml",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Edit",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Section",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Bundle",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Option",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Selection",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Block",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Form",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Bundle option block on backend.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Option",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","Form",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Selector block Grid.\n     *\n     * @var string\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$searchGridBlock",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","\".product_form_product_form_bundle-items_modal\"",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Added product row.\n     *\n     * @var string\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$selectionBlock",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'[data-index=\"bundle_selections\"] > tbody > tr:nth-child(%d)'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Selector for 'Add Products to Option' button.\n     *\n     * @var string\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$addProducts",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'button[data-index=\"modal_set\"]'",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Remove selection button selector.\n     *\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$removeSelection",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'button[data-action=\"remove_row\"]'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Get grid for assigning products for bundle option.\n     *\n     * @return Grid\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getSearchGridBlock",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","blockFactory",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","create",53],"(",["T_WHITESPACE","\n            ",53],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Bundle",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Test",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Block",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Adminhtml",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Catalog",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Product",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Edit",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Section",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Bundle",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Option",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Search",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Grid",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],",",["T_WHITESPACE","\n            ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'element'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","browser",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","find",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","searchGridBlock",55],")","]",["T_WHITESPACE","\n        ",55],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Get product row assigned to bundle option.\n     *\n     * @param int $rowIndex\n     * @return Selection\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","getSelectionBlock",65],"(",["T_VARIABLE","$rowIndex",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","blockFactory",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","create",67],"(",["T_WHITESPACE","\n            ",67],["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Bundle",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Test",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Block",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Adminhtml",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Catalog",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Product",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Edit",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Section",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Bundle",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Option",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Selection",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],",",["T_WHITESPACE","\n            ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'element'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_rootElement",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","find",69],"(",["T_STRING","sprintf",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","selectionBlock",69],",",["T_WHITESPACE"," ",69],["T_INC","++",69],["T_VARIABLE","$rowIndex",69],")",")","]",["T_WHITESPACE","\n        ",69],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Fill bundle option.\n     *\n     * @param array $fields\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","fillOption",79],"(",["T_ARRAY","array",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$fields",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$mapping",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","dataMapping",81],"(",["T_VARIABLE","$fields",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_fill",82],"(",["T_VARIABLE","$mapping",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$selections",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_rootElement",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getElements",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","removeSelection",83],")",";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","count",84],"(",["T_VARIABLE","$selections",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_STRING","array_reverse",85],"(",["T_VARIABLE","$selections",85],")",["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$itemSelection",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$itemSelection",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","click",86],"(",")",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$fields",89],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",89],"]",["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$key",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$field",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_rootElement",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","find",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","addProducts",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","click",90],"(",")",";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$searchBlock",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getSearchGridBlock",91],"(",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$searchBlock",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","searchAndSelect",92],"(",["T_VARIABLE","$field",92],"[",["T_CONSTANT_ENCAPSED_STRING","'search_data'",92],"]",")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$searchBlock",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","addProducts",93],"(",")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSelectionBlock",94],"(",["T_VARIABLE","$key",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","fillProductRow",94],"(",["T_VARIABLE","$field",94],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",94],"]",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Get data bundle option.\n     *\n     * @param array $fields\n     * @return array\n     *\/",98],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getOptionData",104],"(",["T_ARRAY","array",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$fields",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$mapping",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","dataMapping",106],"(",["T_VARIABLE","$fields",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$newField",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_getData",107],"(",["T_VARIABLE","$mapping",107],")",";",["T_WHITESPACE","\n        ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$fields",108],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",108],"]",["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$key",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$field",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$newField",109],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",109],"]","[",["T_VARIABLE","$key",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getSelectionBlock",109],"(",["T_VARIABLE","$key",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getProductRow",109],"(",["T_VARIABLE","$field",109],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",109],"]",")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$newField",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]