[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Persistent",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestCase",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogProductSimple",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Page",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CustomerAccountCreate",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cms",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Page",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CmsIndex",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Catalog",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Page",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Product",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CatalogProductView",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Checkout",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Page",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CheckoutCart",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Mtf",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Client",15],["T_NS_SEPARATOR","\\",15],["T_STRING","BrowserInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Customer",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Test",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TestStep",16],["T_NS_SEPARATOR","\\",16],["T_STRING","LogoutCustomerOnFrontendStep",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Mtf",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestCase",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Injectable",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Magento",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Mtf",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TestStep",18],["T_NS_SEPARATOR","\\",18],["T_STRING","TestStepFactory",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Preconditions:\n * Apply configs:\n * 1. Enable Persistent Shopping Cart.\n * 2. Disable Clear Persistence on Sign Out.\n *\n * Steps:\n * 1. Go to frontend.\n * 2. Click Register link.\n * 3. Fill registry form.\n * 4. Click 'Create account' button.\n * 5. Add simple product to shopping cart.\n * 6. Sign out.\n *\n * @ZephyrId MAGETWO-45381\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",20],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","CheckoutWithPersistentShoppingCartTest",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","Injectable",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * Config data.\n     *\n     * @string $configData\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$configData",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Customer registry page.\n     *\n     * @var CustomerAccountCreate\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PRIVATE","private",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$customerAccountCreate",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Cms page.\n     *\n     * @var CmsIndex $cmsIndex.\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PRIVATE","private",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$cmsIndex",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Frontend product view page.\n     *\n     * @var CatalogProductView\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$catalogProductView",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Interface Browser.\n     *\n     * @var BrowserInterface.\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PRIVATE","private",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$browser",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Page of checkout page.\n     *\n     * @var CheckoutCart\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PRIVATE","private",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$checkoutCart",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Customer log out step.\n     *\n     * @var LogoutCustomerOnFrontendStep\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PRIVATE","private",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$logoutCustomerOnFrontendStep",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Factory for Test Steps.\n     *\n     * @var TestStepFactory\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PRIVATE","private",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$stepFactory",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Inject data.\n     *\n     * @param CustomerAccountCreate $customerAccountCreate\n     * @param CmsIndex $cmsIndex\n     * @param LogoutCustomerOnFrontendStep $logoutCustomerOnFrontendStep\n     * @param CatalogProductView $catalogProductView\n     * @param BrowserInterface $browser\n     * @param CheckoutCart $checkoutCart\n     * @param TestStepFactory $stepFactory\n     * @return void\n     *\/",96],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","__inject",108],"(",["T_WHITESPACE","\n        ",108],["T_STRING","CustomerAccountCreate",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$customerAccountCreate",109],",",["T_WHITESPACE","\n        ",109],["T_STRING","CmsIndex",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$cmsIndex",110],",",["T_WHITESPACE","\n        ",110],["T_STRING","LogoutCustomerOnFrontendStep",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$logoutCustomerOnFrontendStep",111],",",["T_WHITESPACE","\n        ",111],["T_STRING","CatalogProductView",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$catalogProductView",112],",",["T_WHITESPACE","\n        ",112],["T_STRING","BrowserInterface",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$browser",113],",",["T_WHITESPACE","\n        ",113],["T_STRING","CheckoutCart",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$checkoutCart",114],",",["T_WHITESPACE","\n        ",114],["T_STRING","TestStepFactory",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$stepFactory",115],["T_WHITESPACE","\n    ",115],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","customerAccountCreate",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$customerAccountCreate",117],";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","cmsIndex",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$cmsIndex",118],";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","logoutCustomerOnFrontendStep",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$logoutCustomerOnFrontendStep",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","browser",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$browser",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","catalogProductView",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$catalogProductView",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","checkoutCart",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$checkoutCart",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","stepFactory",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$stepFactory",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Prepare data.\n     *\n     * @param CatalogProductSimple $product\n     * @return array\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","__prepare",132],"(",["T_STRING","CatalogProductSimple",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$product",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$product",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","persist",134],"(",")",";",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$product",136],"]",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Create Customer account on Storefront.\n     *\n     * @param string $configData\n     * @param CatalogProductSimple $product\n     * @param Customer $customer\n     * @return void\n     *\/",139],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","test",147],"(",["T_VARIABLE","$configData",147],",",["T_WHITESPACE"," ",147],["T_STRING","CatalogProductSimple",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$product",147],",",["T_WHITESPACE"," ",147],["T_STRING","Customer",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$customer",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","configData",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$configData",149],";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","stepFactory",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","create",150],"(",["T_WHITESPACE","\n            ",150],["T_NS_SEPARATOR","\\",151],["T_STRING","Magento",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Config",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Test",151],["T_NS_SEPARATOR","\\",151],["T_STRING","TestStep",151],["T_NS_SEPARATOR","\\",151],["T_STRING","SetupConfigurationStep",151],["T_DOUBLE_COLON","::",151],["T_CLASS","class",151],",",["T_WHITESPACE","\n            ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'configData'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$configData",152],"]",["T_WHITESPACE","\n        ",152],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","run",153],"(",")",";",["T_WHITESPACE","\n\n        ",153],["T_COMMENT","\/\/ Steps\n",155],["T_WHITESPACE","        ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","cmsIndex",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","open",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","cmsIndex",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getLinksBlock",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","openLink",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Create an Account'",157],")",";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","customerAccountCreate",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getRegisterForm",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","registerCustomer",158],"(",["T_VARIABLE","$customer",158],")",";",["T_WHITESPACE","\n\n        ",158],["T_COMMENT","\/\/ Ensure that shopping cart is empty\n",160],["T_WHITESPACE","        ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","checkoutCart",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","open",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getCartBlock",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","clearShoppingCart",161],"(",")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","browser",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","open",163],"(",["T_VARIABLE","$_ENV",163],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",163],"]",["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_VARIABLE","$product",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getUrlKey",163],"(",")",["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'.html'",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","catalogProductView",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getViewBlock",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","addToCart",164],"(",["T_VARIABLE","$product",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","catalogProductView",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getMessagesBlock",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","waitSuccessMessage",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","logoutCustomerOnFrontendStep",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","run",166],"(",")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Clean data after running test.\n     *\n     * @return void\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","tearDown",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","stepFactory",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","create",176],"(",["T_WHITESPACE","\n            ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Config",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Test",177],["T_NS_SEPARATOR","\\",177],["T_STRING","TestStep",177],["T_NS_SEPARATOR","\\",177],["T_STRING","SetupConfigurationStep",177],["T_DOUBLE_COLON","::",177],["T_CLASS","class",177],",",["T_WHITESPACE","\n            ",177],"[",["T_CONSTANT_ENCAPSED_STRING","'configData'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","configData",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'rollback'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","true",178],"]",["T_WHITESPACE","\n        ",178],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","run",179],"(",")",";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n",180],"}",["T_WHITESPACE","\n",181]]