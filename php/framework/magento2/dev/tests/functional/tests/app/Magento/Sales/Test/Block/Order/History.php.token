[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sales",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Order",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Client",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Locator",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Client",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Element",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SimpleElement",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Order history block on My Order page.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","History",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","Block",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Locator for order id and order status.\n     *\n     * @var string\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$customerOrders",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[td[contains(.,\"%d\")] and td[contains(.,\"%s\")]]'",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * Item order.\n     *\n     * @var string\n     *\/",25],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$itemOrder",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[td[contains(@class, \"id\") and normalize-space(.)=\"%s\"]]'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Order total css selector.\n     *\n     * @var string\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$total",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'.total span.price'",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * View button css selector.\n     *\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$viewButton",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'.action.view'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Order history form selector.\n     *\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$formSelector",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'#my-orders-table'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Check if order is visible in customer orders on frontend.\n     *\n     * @param array $order\n     * @return bool\n     *\/",53],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","isOrderVisible",59],"(",["T_VARIABLE","$order",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","waitFormToLoad",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_rootElement",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","find",62],"(",["T_WHITESPACE","\n            ",62],["T_STRING","sprintf",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","customerOrders",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$order",63],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",63],"]",",",["T_WHITESPACE"," ",63],["T_VARIABLE","$order",63],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",63],"]",")",",",["T_WHITESPACE","\n            ",63],["T_STRING","Locator",64],["T_DOUBLE_COLON","::",64],["T_STRING","SELECTOR_XPATH",64],["T_WHITESPACE","\n        ",64],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","isVisible",65],"(",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Get order total.\n     *\n     * @param string $id\n     * @return string\n     *\/",68],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getOrderTotalById",74],"(",["T_VARIABLE","$id",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","waitFormToLoad",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","escapeCurrency",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","searchOrderById",77],"(",["T_VARIABLE","$id",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","find",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","total",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getText",77],"(",")",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Get item order block.\n     *\n     * @param string $id\n     * @return SimpleElement\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","searchOrderById",86],"(",["T_VARIABLE","$id",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_rootElement",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","find",88],"(",["T_STRING","sprintf",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","itemOrder",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$id",88],")",",",["T_WHITESPACE"," ",88],["T_STRING","Locator",88],["T_DOUBLE_COLON","::",88],["T_STRING","SELECTOR_XPATH",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Open item order.\n     *\n     * @param string $id\n     * @return void\n     *\/",91],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","openOrderById",97],"(",["T_VARIABLE","$id",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","waitFormToLoad",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","searchOrderById",100],"(",["T_VARIABLE","$id",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","find",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","viewButton",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","click",100],"(",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Method that escapes currency symbols.\n     *\n     * @param string $price\n     * @return string|null\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","escapeCurrency",109],"(",["T_VARIABLE","$price",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_STRING","preg_match",111],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^\\\\D*\\\\s*([\\\\d,\\\\.]+)\\\\s*\\\\D*$\/\"",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$price",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$matches",111],")",";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],"(",["T_ISSET","isset",112],"(",["T_VARIABLE","$matches",112],"[",["T_LNUMBER","1",112],"]",")",")",["T_WHITESPACE"," ",112],"?",["T_WHITESPACE"," ",112],["T_VARIABLE","$matches",112],"[",["T_LNUMBER","1",112],"]",["T_WHITESPACE"," ",112],":",["T_WHITESPACE"," ",112],["T_STRING","null",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Wait order history form to load via ajax.\n     *\n     * @return void\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","waitFormToLoad",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$browser",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","browser",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$selector",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","formSelector",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$browser",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","waitUntil",124],"(",["T_WHITESPACE","\n            ",124],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],"(",")",["T_WHITESPACE"," ",125],["T_USE","use",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$browser",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$selector",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$element",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$browser",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","find",126],"(",["T_VARIABLE","$selector",126],")",";",["T_WHITESPACE","\n                ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$element",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isVisible",127],"(",")",["T_WHITESPACE"," ",127],"?",["T_WHITESPACE"," ",127],["T_STRING","true",127],["T_WHITESPACE"," ",127],":",["T_WHITESPACE"," ",127],["T_STRING","null",127],";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n",130],"}",["T_WHITESPACE","\n",131]]