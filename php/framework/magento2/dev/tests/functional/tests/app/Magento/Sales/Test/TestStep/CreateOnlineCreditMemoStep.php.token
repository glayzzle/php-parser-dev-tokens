[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sales",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestStep",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Checkout",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cart",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestStep",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestStepInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Sales",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Fixture",11],["T_NS_SEPARATOR","\\",11],["T_STRING","OrderInjectable",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sales",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Page",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Adminhtml",12],["T_NS_SEPARATOR","\\",12],["T_STRING","OrderCreditMemoNew",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sales",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Page",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Adminhtml",13],["T_NS_SEPARATOR","\\",13],["T_STRING","OrderIndex",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Page",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Adminhtml",14],["T_NS_SEPARATOR","\\",14],["T_STRING","OrderInvoiceView",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Sales",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Page",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Adminhtml",15],["T_NS_SEPARATOR","\\",15],["T_STRING","SalesOrderView",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Create credit memo for order placed using online payment methods.\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","CreateOnlineCreditMemoStep",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","TestStepInterface",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Orders Page.\n     *\n     * @var OrderIndex\n     *\/",22],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$orderIndex",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Order View Page.\n     *\n     * @var SalesOrderView\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PRIVATE","private",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$salesOrderView",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * OrderCreditMemoNew Page.\n     *\n     * @var OrderCreditMemoNew\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$orderCreditMemoNew",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * OrderInjectable fixture.\n     *\n     * @var OrderInjectable\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$order",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Credit memo data.\n     *\n     * @var array|null\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PRIVATE","private",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$refundData",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Order invoice view page.\n     *\n     * @var OrderInvoiceView\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PRIVATE","private",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$orderInvoiceView",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Checkout Cart fixture.\n     *\n     * @var Cart\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PRIVATE","private",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$cart",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @param Cart $cart\n     * @param OrderIndex $orderIndex\n     * @param SalesOrderView $salesOrderView\n     * @param OrderInjectable $order\n     * @param OrderInvoiceView $orderInvoiceView\n     * @param OrderCreditMemoNew $orderCreditMemoNew\n     * @param array|null refundData [optional]\n     *\/",71],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","__construct",80],"(",["T_WHITESPACE","\n        ",80],["T_STRING","Cart",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$cart",81],",",["T_WHITESPACE","\n        ",81],["T_STRING","OrderIndex",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$orderIndex",82],",",["T_WHITESPACE","\n        ",82],["T_STRING","SalesOrderView",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$salesOrderView",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","OrderInjectable",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$order",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","OrderInvoiceView",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$orderInvoiceView",85],",",["T_WHITESPACE","\n        ",85],["T_STRING","OrderCreditMemoNew",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$orderCreditMemoNew",86],",",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$refundData",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],["T_WHITESPACE","\n    ",87],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","cart",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$cart",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","orderIndex",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$orderIndex",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","salesOrderView",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$salesOrderView",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","order",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$order",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","orderInvoiceView",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$orderInvoiceView",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","orderCreditMemoNew",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$orderCreditMemoNew",94],";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","refundData",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$refundData",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Create credit memo.\n     *\n     * @return array\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","run",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","orderIndex",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","open",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","orderIndex",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getSalesOrderGrid",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","searchAndOpen",106],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","order",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getId",106],"(",")","]",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$refundsData",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","order",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getRefund",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$refundsData",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$refundData",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Test\\Block\\Adminhtml\\Order\\View\\Tab\\Invoices\\Grid $invoicesGrid *\/",109],["T_WHITESPACE","\n            ",109],["T_VARIABLE","$invoicesGrid",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","salesOrderView",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getOrderForm",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getTab",110],"(",["T_CONSTANT_ENCAPSED_STRING","'invoices'",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getGridBlock",110],"(",")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","salesOrderView",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getOrderForm",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","openTab",111],"(",["T_CONSTANT_ENCAPSED_STRING","'invoices'",111],")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$invoicesGrid",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","viewInvoice",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","salesOrderView",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getPageActions",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","orderInvoiceCreditMemo",113],"(",")",";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","orderCreditMemoNew",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getFormBlock",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","fillProductData",114],"(",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$refundData",115],",",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","cart",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getItems",116],"(",")",["T_WHITESPACE","\n            ",116],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","orderCreditMemoNew",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getFormBlock",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","updateQty",118],"(",")",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","orderCreditMemoNew",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getFormBlock",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","submit",119],"(",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_RETURN","return",122],["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'ids'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'creditMemoIds'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getCreditMemoIds",122],"(",")","]","]",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Get credit memo ids.\n     *\n     * @return array\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PRIVATE","private",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getCreditMemoIds",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","salesOrderView",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getOrderForm",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","openTab",132],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemos'",132],")",";",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","salesOrderView",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getOrderForm",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getTab",133],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemos'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getGridBlock",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getIds",133],"(",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n",135]]