[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Checkout",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Onepage",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Payment",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CreditCard",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Checkout payment block.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Payment",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","Block",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Payment method input selector.\n     *\n     * @var string\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$paymentMethodInput",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'[id*=\"%s\"]'",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Labels for payment methods.\n     *\n     * @var string\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$paymentMethodLabels",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'.payment-method:not([style=\"display: none;\"]) .payment-method-title label'",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Label for payment methods.\n     *\n     * @var string\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$paymentMethodLabel",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'[for*=\"%s\"]'",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Continue checkout button.\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$continue",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'#payment-buttons-container button'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Place order button.\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$placeOrder",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'.payment-method._active .action.primary.checkout'",50],";",["T_WHITESPACE","\n    \n    ",50],["T_DOC_COMMENT","\/**\n     * Wait element.\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$waitElement",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'.loading-mask'",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Purchase order number selector.\n     *\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$purchaseOrderNumber",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'#po_number'",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Selector for active payment method.\n     *\n     * @var string\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$activePaymentMethodSelector",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'.payment-method._active'",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Select payment method.\n     *\n     * @param array $payment\n     * @param CreditCard|null $creditCard\n     * @param bool $fillCreditCardOn3rdParty\n     * @throws \\Exception\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","selectPaymentMethod",82],"(",["T_WHITESPACE","\n        ",82],["T_ARRAY","array",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$payment",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","CreditCard",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$creditCard",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","null",84],",",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$fillCreditCardOn3rdParty",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","false",85],["T_WHITESPACE","\n    ",85],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$paymentMethod",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$payment",87],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",87],"]",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$paymentSelector",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","sprintf",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","paymentMethodInput",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$paymentMethod",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$paymentLabelSelector",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","sprintf",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","paymentMethodLabel",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$paymentMethod",89],")",";",["T_WHITESPACE","\n\n        ",89],["T_TRY","try",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","waitForElementNotVisible",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","waitElement",92],")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","waitForElementVisible",93],"(",["T_VARIABLE","$paymentLabelSelector",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE"," ",94],["T_CATCH","catch",94],["T_WHITESPACE"," ",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Exception",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$exception",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Exception",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Such payment method is absent.'",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$browser",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","browser",97],";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$browser",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","waitUntil",98],"(",["T_WHITESPACE","\n            ",98],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],"(",")",["T_WHITESPACE"," ",99],["T_USE","use",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$browser",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$paymentSelector",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$browser",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","find",100],"(",["T_VARIABLE","$paymentSelector",100],")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n        ",101],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$paymentRadioButton",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_rootElement",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","find",103],"(",["T_VARIABLE","$paymentSelector",103],")",";",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$paymentRadioButton",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isVisible",104],"(",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$paymentRadioButton",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","click",105],"(",")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$paymentMethod",108],["T_WHITESPACE"," ",108],["T_IS_EQUAL","==",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"purchaseorder\"",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_rootElement",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","find",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","purchaseOrderNumber",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","setValue",109],"(",["T_VARIABLE","$payment",109],"[",["T_CONSTANT_ENCAPSED_STRING","'po_number'",109],"]",")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$creditCard",111],["T_WHITESPACE"," ",111],["T_IS_NOT_IDENTICAL","!==",111],["T_WHITESPACE"," ",111],["T_STRING","null",111],["T_WHITESPACE"," ",111],["T_BOOLEAN_AND","&&",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$fillCreditCardOn3rdParty",111],["T_WHITESPACE"," ",111],["T_IS_IDENTICAL","===",111],["T_WHITESPACE"," ",111],["T_STRING","false",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$module",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$creditCard",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","hasData",112],"(",["T_CONSTANT_ENCAPSED_STRING","'payment_code'",112],")",["T_WHITESPACE"," ",112],"?",["T_WHITESPACE"," ",112],["T_STRING","ucfirst",112],"(",["T_VARIABLE","$creditCard",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getPaymentCode",112],"(",")",")",["T_WHITESPACE"," ",112],":",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Payment'",112],";",["T_WHITESPACE","\n            ",112],["T_DOC_COMMENT","\/** @var \\Magento\\Payment\\Test\\Block\\Form\\PaymentCc $formBlock *\/",113],["T_WHITESPACE","\n            ",113],["T_VARIABLE","$formBlock",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","blockFactory",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","create",114],"(",["T_WHITESPACE","\n                ",114],"\"",["T_ENCAPSED_AND_WHITESPACE","\\\\Magento\\\\",115],["T_CURLY_OPEN","{",115],["T_VARIABLE","$module",115],"}",["T_ENCAPSED_AND_WHITESPACE","\\\\Test\\\\Block\\\\Form\\\\",115],["T_CURLY_OPEN","{",115],["T_VARIABLE","$module",115],"}",["T_ENCAPSED_AND_WHITESPACE","Cc",115],"\"",",",["T_WHITESPACE","\n                ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'element'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_rootElement",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","find",116],"(",["T_CONSTANT_ENCAPSED_STRING","'#payment_form_'",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$paymentMethod",116],")","]",["T_WHITESPACE","\n            ",116],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$formBlock",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","fill",118],"(",["T_VARIABLE","$creditCard",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Get selected payment method block.\n     *\n     * @return \\Magento\\Checkout\\Test\\Block\\Onepage\\Payment\\Method\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","getSelectedPaymentMethodBlock",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$element",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_rootElement",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","find",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","activePaymentMethodSelector",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","blockFactory",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","create",131],"(",["T_WHITESPACE","\n            ",131],["T_NS_SEPARATOR","\\",132],["T_STRING","Magento",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Checkout",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Test",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Block",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Onepage",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Payment",132],["T_NS_SEPARATOR","\\",132],["T_STRING","Method",132],["T_DOUBLE_COLON","::",132],["T_CLASS","class",132],",",["T_WHITESPACE","\n            ",132],"[",["T_CONSTANT_ENCAPSED_STRING","'element'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$element",133],"]",["T_WHITESPACE","\n        ",133],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Press \"Place Order\" button.\n     *\n     * @return void\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","placeOrder",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_rootElement",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","find",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","placeOrder",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","click",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","waitForElementNotVisible",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","waitElement",145],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n",146],"}",["T_WHITESPACE","\n",147]]