[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestCase",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tax",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TaxRule",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Checkout",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cart",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Fixture",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Customer",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fixture",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConfigData",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Checkout",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Page",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CheckoutCart",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Sales",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Fixture",14],["T_NS_SEPARATOR","\\",14],["T_STRING","OrderInjectable",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Magento",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Catalog",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Test",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Fixture",15],["T_NS_SEPARATOR","\\",15],["T_STRING","CatalogProductSimple",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Magento",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Customer",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Test",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TestCase",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AbstractApplyVatIdTest",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * Preconditions:\n * 1. Enable VAT functionality.\n * 2. Create tax rule.\n * 3. Configure tax displaying.\n * 4. Create simple product.\n * 5. Create customer.\n *\n * Steps:\n * 1. Place order with by created customer.\n * 2. Go to frontend as logged In Customer.\n * 3. Add simple product to Shopping Cart from product page.\n * 4. Go to Shopping Cart.\n * 5. In 'Estimate Shipping and Tax' section specify destination and click 'Get a Quote' button.\n * 6. Perform assertions.\n *\n * @group VAT_ID\n * @ZephyrId MAGETWO-13436\n *\/",18],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","ApplyTaxBasedOnVatIdTest",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","AbstractApplyVatIdTest",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_COMMENT","\/* tags *\/",39],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","MVP",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'no'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TEST_TYPE",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'3rd_party_test'",41],";",["T_WHITESPACE","\n    ",41],["T_COMMENT","\/* end tags *\/",42],["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Shopping cart page.\n     *\n     * @var CheckoutCart\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$checkoutCart",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Inject page.\n     *\n     * @param CheckoutCart $checkoutCart\n     * @return void\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__inject",57],"(",["T_STRING","CheckoutCart",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$checkoutCart",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","checkoutCart",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$checkoutCart",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Automatic Apply Tax Based on VAT ID.\n     *\n     * @param ConfigData $vatConfig\n     * @param OrderInjectable $order\n     * @param TaxRule $taxRule\n     * @param Cart $cart\n     * @param string $configData\n     * @param string $customerGroup\n     * @return array\n     *\/",62],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","test",73],"(",["T_WHITESPACE","\n        ",73],["T_STRING","ConfigData",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$vatConfig",74],",",["T_WHITESPACE","\n        ",74],["T_STRING","OrderInjectable",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$order",75],",",["T_WHITESPACE","\n        ",75],["T_STRING","TaxRule",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$taxRule",76],",",["T_WHITESPACE","\n        ",76],["T_STRING","Cart",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$cart",77],",",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$configData",78],",",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$customerGroup",79],["T_WHITESPACE","\n    ",79],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n        ",80],["T_COMMENT","\/\/ Preconditions\n",81],["T_WHITESPACE","        ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","configData",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$configData",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","objectManager",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","create",83],"(",["T_WHITESPACE","\n            ",83],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Config",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Test",84],["T_NS_SEPARATOR","\\",84],["T_STRING","TestStep",84],["T_NS_SEPARATOR","\\",84],["T_STRING","SetupConfigurationStep",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],",",["T_WHITESPACE","\n            ",84],"[",["T_CONSTANT_ENCAPSED_STRING","'configData'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","configData",85],"]",["T_WHITESPACE","\n        ",85],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","run",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$taxRule",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","persist",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_COMMENT","\/\/ Prepare data\n",88],["T_WHITESPACE","        ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","customer",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$order",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getDataFieldConfig",89],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_id'",89],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","getCustomer",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$address",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","customer",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getDataFieldConfig",90],"(",["T_CONSTANT_ENCAPSED_STRING","'address'",90],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",90],"]",["T_OBJECT_OPERATOR","->",90],["T_STRING","getAddresses",90],"(",")","[",["T_LNUMBER","0",90],"]",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","prepareVatConfig",91],"(",["T_VARIABLE","$vatConfig",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$customerGroup",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$poducts",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$order",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getEntityId",92],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'products'",92],"]",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$cart",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","fixtureFactory",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","createByCode",93],"(",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'cart'",94],",",["T_WHITESPACE","\n            ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","array_merge",95],"(",["T_VARIABLE","$cart",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getData",95],"(",")",",",["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$poducts",95],"]","]",")","]",["T_WHITESPACE","\n        ",95],")",";",["T_WHITESPACE","\n\n        ",96],["T_COMMENT","\/\/ Steps\n",98],["T_WHITESPACE","        ",99],["T_VARIABLE","$order",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","persist",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","objectManager",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","create",100],"(",["T_WHITESPACE","\n            ",100],["T_NS_SEPARATOR","\\",101],["T_STRING","Magento",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Customer",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Test",101],["T_NS_SEPARATOR","\\",101],["T_STRING","TestStep",101],["T_NS_SEPARATOR","\\",101],["T_STRING","LoginCustomerOnFrontendStep",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],",",["T_WHITESPACE","\n            ",101],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","customer",102],"]",["T_WHITESPACE","\n        ",102],")",["T_OBJECT_OPERATOR","->",103],["T_STRING","run",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","objectManager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","create",104],"(",["T_WHITESPACE","\n            ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Checkout",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Test",105],["T_NS_SEPARATOR","\\",105],["T_STRING","TestStep",105],["T_NS_SEPARATOR","\\",105],["T_STRING","AddProductsToTheCartStep",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],",",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$order",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getEntityId",106],"(",")",["T_WHITESPACE","\n        ",106],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","run",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","checkoutCart",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","open",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","checkoutCart",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCartBlock",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","waitCartContainerLoading",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","checkoutCart",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getShippingBlock",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","fillEstimateShippingAndTax",110],"(",["T_VARIABLE","$address",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","checkoutCart",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getCartBlock",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","waitCartContainerLoading",111],"(",")",";",["T_WHITESPACE","\n\n        ",111],["T_RETURN","return",113],["T_WHITESPACE"," ",113],"[",["T_WHITESPACE","\n            ",113],["T_CONSTANT_ENCAPSED_STRING","'customer'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","customer",114],",",["T_WHITESPACE","\n            ",114],["T_CONSTANT_ENCAPSED_STRING","'address'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$address",115],",",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","'orderId'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$order",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getId",116],"(",")",",",["T_WHITESPACE","\n            ",116],["T_CONSTANT_ENCAPSED_STRING","'cart'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$cart",117],",",["T_WHITESPACE","\n            ",117],["T_CONSTANT_ENCAPSED_STRING","'products'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$poducts",118],["T_WHITESPACE","\n        ",118],"]",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Delete tax rules and disable VAT configuration.\n     *\n     * @return void\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","tearDown",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_STRING","parent",129],["T_DOUBLE_COLON","::",129],["T_STRING","tearDown",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","objectManager",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","create",130],"(",["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Tax",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Test",130],["T_NS_SEPARATOR","\\",130],["T_STRING","TestStep",130],["T_NS_SEPARATOR","\\",130],["T_STRING","DeleteAllTaxRulesStep",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","run",130],"(",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n",131],"}",["T_WHITESPACE","\n",132]]