[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Bundle",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Handler",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BundleProduct",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Bundle",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","BundleProduct",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Handler",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogProductSimple",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Curl",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","ProductCurl",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Fixture",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FixtureInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DataInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","System",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Event",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EventManagerInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Create new bundle product via curl.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Curl",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","ProductCurl",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_STRING","BundleProductInterface",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param DataInterface $configuration\n     * @param EventManagerInterface $eventManager\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",["T_STRING","DataInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$configuration",25],",",["T_WHITESPACE"," ",25],["T_STRING","EventManagerInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$eventManager",25],")",["T_WHITESPACE","\n    ",25],"{",["T_WHITESPACE","\n        ",26],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","__construct",27],"(",["T_VARIABLE","$configuration",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$eventManager",27],")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","mappingData",29],["T_WHITESPACE"," ",29],["T_PLUS_EQUAL","+=",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'selection_can_change_qty'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n                ",30],["T_CONSTANT_ENCAPSED_STRING","'Yes'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_LNUMBER","1",31],",",["T_WHITESPACE","\n                ",31],["T_CONSTANT_ENCAPSED_STRING","'No'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],",",["T_WHITESPACE","\n            ",32],"]",",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'sku_type'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n                ",34],["T_CONSTANT_ENCAPSED_STRING","'Yes'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_LNUMBER","0",35],",",["T_WHITESPACE","\n                ",35],["T_CONSTANT_ENCAPSED_STRING","'No'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_LNUMBER","1",36],",",["T_WHITESPACE","\n            ",36],"]",",",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'price_type'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],"[",["T_WHITESPACE","\n                ",38],["T_CONSTANT_ENCAPSED_STRING","'Yes'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],",",["T_WHITESPACE","\n                ",39],["T_CONSTANT_ENCAPSED_STRING","'No'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_LNUMBER","1",40],",",["T_WHITESPACE","\n            ",40],"]",",",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'weight_type'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_WHITESPACE","\n                ",42],["T_CONSTANT_ENCAPSED_STRING","'Yes'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],",",["T_WHITESPACE","\n                ",43],["T_CONSTANT_ENCAPSED_STRING","'No'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_LNUMBER","1",44],",",["T_WHITESPACE","\n            ",44],"]",",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'shipment_type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n                ",46],["T_CONSTANT_ENCAPSED_STRING","'Together'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],",",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'Separately'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","1",48],",",["T_WHITESPACE","\n            ",48],"]",",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'type'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'Drop-down'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'select'",51],",",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'Radio Buttons'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'radio'",52],",",["T_WHITESPACE","\n                ",52],["T_CONSTANT_ENCAPSED_STRING","'Checkbox'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",53],",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'Multiple Select'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'multi'",54],",",["T_WHITESPACE","\n            ",54],"]",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'selection_price_type'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],"[",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'Fixed'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'Percent'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","1",58],",",["T_WHITESPACE","\n            ",58],"]",",",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'price_view'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_WHITESPACE","\n                ",60],["T_CONSTANT_ENCAPSED_STRING","'Price Range'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],",",["T_WHITESPACE","\n                ",61],["T_CONSTANT_ENCAPSED_STRING","'As Low as'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],",",["T_WHITESPACE","\n            ",62],"]",",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'use_config_gift_message_available'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'Yes'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_LNUMBER","1",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'No'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],["T_WHITESPACE","\n            ",66],"]",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'gift_message_available'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'Yes'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'No'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_LNUMBER","0",70],["T_WHITESPACE","\n            ",70],"]",",",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'user_defined'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n                ",72],["T_CONSTANT_ENCAPSED_STRING","'Yes'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_LNUMBER","1",73],",",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'No'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_LNUMBER","0",74],["T_WHITESPACE","\n            ",74],"]",["T_WHITESPACE","\n        ",75],"]",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Prepare POST data for creating product request.\n     *\n     * @param FixtureInterface $fixture\n     * @return array\n     *\/",79],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","prepareData",85],"(",["T_STRING","FixtureInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$fixture",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","fields",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","prepareData",87],"(",["T_VARIABLE","$fixture",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","prepareBundleItems",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","fields",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","replaceMappingData",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","fields",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","fields",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Preparation of \"Product Details\" tab data.\n     *\n     * @return void\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","prepareProductDetails",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","prepareProductDetails",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_ISSET","isset",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","fields",104],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",104],"]",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","fields",105],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Yes'",105],";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Preparation of \"Advanced Pricing\" tab data.\n     *\n     * @return void\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","prepareAdvancedPricing",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_STRING","parent",116],["T_DOUBLE_COLON","::",116],["T_STRING","prepareAdvancedPricing",116],"(",")",";",["T_WHITESPACE","\n\n        ",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_ISSET","isset",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","fields",118],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",118],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_view'",118],"]",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","fields",119],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",119],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_view'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Price Range'",119],";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Preparation of selections data.\n     *\n     * @return void\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","prepareBundleItems",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$selections",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],"[","]",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$bundleSelections",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],"[","]",";",["T_WHITESPACE","\n\n        ",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_EMPTY","empty",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","fields",133],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$selections",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","fields",134],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",134],"]",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$products",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$selections",135],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",135],"]",";",["T_WHITESPACE","\n            ",135],["T_UNSET","unset",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","fields",136],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selections'",136],"]",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$selections",136],"[",["T_CONSTANT_ENCAPSED_STRING","'products'",136],"]",")",";",["T_WHITESPACE","\n\n            ",136],["T_FOREACH","foreach",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$selections",138],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",138],"]",["T_WHITESPACE"," ",138],["T_AS","as",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$key",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],"&",["T_VARIABLE","$option",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$option",139],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],";",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$option",140],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$key",140],";",["T_WHITESPACE","\n                ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$option",141],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",141],"]",["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$productKey",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$assignedProduct",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n                    ",141],["T_VARIABLE","$assignedProduct",142],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",142],"]",["T_WHITESPACE"," ",142],["T_PLUS_EQUAL","+=",142],["T_WHITESPACE"," ",142],"[",["T_WHITESPACE","\n                        ",142],["T_CONSTANT_ENCAPSED_STRING","'product_id'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$products",143],"[",["T_VARIABLE","$key",143],"]","[",["T_VARIABLE","$productKey",143],"]",["T_OBJECT_OPERATOR","->",143],["T_STRING","getId",143],"(",")",",",["T_WHITESPACE","\n                        ",143],["T_CONSTANT_ENCAPSED_STRING","'delete'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","''",144],",",["T_WHITESPACE","\n                        ",144],["T_CONSTANT_ENCAPSED_STRING","'position'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$productKey",145],["T_WHITESPACE","\n                    ",145],"]",";",["T_WHITESPACE","\n                    ",146],["T_VARIABLE","$bundleSelections",147],"[",["T_VARIABLE","$key",147],"]","[","]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$assignedProduct",147],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",147],"]",";",["T_WHITESPACE","\n                ",147],"}",["T_WHITESPACE","\n                ",148],["T_UNSET","unset",149],"(",["T_VARIABLE","$option",149],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",149],"]",")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","fields",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","array_merge",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","fields",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$selections",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","fields",154],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$bundleSelections",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Parse response.\n     *\n     * @param string $response\n     * @return array\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","parseResponse",163],"(",["T_VARIABLE","$response",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_STRING","array_replace_recursive",165],"(",["T_STRING","parent",165],["T_DOUBLE_COLON","::",165],["T_STRING","parseResponse",165],"(",["T_VARIABLE","$response",165],")",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","parseResponseSelections",165],"(",["T_VARIABLE","$response",165],")",")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Parse bundle selections in response.\n     *\n     * @param string $response\n     * @return array\n     *\/",168],["T_WHITESPACE","\n    ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","parseResponseSelections",174],"(",["T_VARIABLE","$response",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$selectionIdKey",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","1",176],";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$optionIdKey",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_LNUMBER","2",177],";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$productNameKey",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","3",178],";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$responseSelections",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[","]",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$bundleSelections",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","fixture",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getBundleSelections",180],"(",")",";",["T_WHITESPACE","\n\n        ",180],["T_STRING","preg_match_all",182],"(",["T_WHITESPACE","\n            ",182],["T_CONSTANT_ENCAPSED_STRING","'\/{.*\"selection_id\":\"(\\d+)\".*\"option_id\":\"(\\d+)\".*\"name\":\"([^\"]+)\".*}\/'",183],",",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$response",184],",",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$matches",185],",",["T_WHITESPACE","\n            ",185],["T_STRING","PREG_SET_ORDER",186],["T_WHITESPACE","\n        ",186],")",";",["T_WHITESPACE","\n        ",187],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$matches",188],["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$match",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$productName",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$match",189],"[",["T_VARIABLE","$productNameKey",189],"]",";",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$responseSelections",190],"[",["T_VARIABLE","$productName",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],"[",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","'selection_id'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$match",191],"[",["T_VARIABLE","$selectionIdKey",191],"]",",",["T_WHITESPACE","\n                ",191],["T_CONSTANT_ENCAPSED_STRING","'option_id'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$match",192],"[",["T_VARIABLE","$optionIdKey",192],"]",",",["T_WHITESPACE","\n            ",192],"]",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$bundleSelections",196],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",196],"]",["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$optionKey",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$option",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_FOREACH","foreach",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$option",197],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",197],"]",["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$assignedKey",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$optionValue",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$productName",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$optionValue",198],"[",["T_CONSTANT_ENCAPSED_STRING","'search_data'",198],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",198],"]",";",["T_WHITESPACE","\n                ",198],["T_VARIABLE","$bundleSelections",199],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_options'",199],"]","[",["T_VARIABLE","$optionKey",199],"]","[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",199],"]","[",["T_VARIABLE","$assignedKey",199],"]",["T_WHITESPACE"," ",199],["T_PLUS_EQUAL","+=",199],["T_WHITESPACE","\n                    ",199],["T_VARIABLE","$responseSelections",200],"[",["T_VARIABLE","$productName",200],"]",";",["T_WHITESPACE","\n            ",200],"}",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n\n        ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$bundleSelections",204],"]",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n",205],"}",["T_WHITESPACE","\n",206]]