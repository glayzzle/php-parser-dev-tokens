[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cms",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Handler",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CmsPage",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Handler",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Conditions",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FixtureInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DataInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","System",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventManagerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Util",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Protocol",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CurlTransport",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Mtf",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Util",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Protocol",14],["T_NS_SEPARATOR","\\",14],["T_STRING","CurlTransport",14],["T_NS_SEPARATOR","\\",14],["T_STRING","BackendDecorator",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Curl handler for creating Cms page.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","Curl",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","Conditions",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","CmsPageInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$mappingData",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'is_active'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],"[",["T_WHITESPACE","\n            ",27],["T_CONSTANT_ENCAPSED_STRING","'Yes'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_LNUMBER","1",28],",",["T_WHITESPACE","\n            ",28],["T_CONSTANT_ENCAPSED_STRING","'No'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],",",["T_WHITESPACE","\n        ",29],"]",",",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'store_id'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],"[",["T_WHITESPACE","\n            ",31],["T_CONSTANT_ENCAPSED_STRING","'All Store Views'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_LNUMBER","0",32],",",["T_WHITESPACE","\n        ",32],"]",",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n            ",34],["T_CONSTANT_ENCAPSED_STRING","'1 column'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'1column'",35],",",["T_WHITESPACE","\n            ",35],["T_CONSTANT_ENCAPSED_STRING","'2 columns with left bar'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'2columns-left'",36],",",["T_WHITESPACE","\n            ",36],["T_CONSTANT_ENCAPSED_STRING","'2 columns with right bar'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'2columns-right'",37],",",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'3 columns'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'3columns'",38],",",["T_WHITESPACE","\n        ",38],"]",["T_WHITESPACE","\n    ",39],"]",";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Url for save cms page.\n     *\n     * @var string\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$url",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'cms\/page\/save\/back\/edit\/active_tab\/main_section\/'",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$additionalMappingData",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"[","]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param DataInterface $configuration\n     * @param EventManagerInterface $eventManager\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","__construct",61],"(",["T_STRING","DataInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$configuration",61],",",["T_WHITESPACE"," ",61],["T_STRING","EventManagerInterface",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$eventManager",61],")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","mappingData",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","array_merge",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","mappingData",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","additionalMappingData",63],")",";",["T_WHITESPACE","\n        ",63],["T_STRING","parent",64],["T_DOUBLE_COLON","::",64],["T_STRING","__construct",64],"(",["T_VARIABLE","$configuration",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$eventManager",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Post request for creating a cms page.\n     *\n     * @param FixtureInterface $fixture\n     * @return array\n     * @throws \\Exception\n     *\/",67],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","persist",74],"(",["T_STRING","FixtureInterface",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$fixture",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$url",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$_ENV",76],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",76],"]",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","url",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$data",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","prepareData",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","replaceMappingData",77],"(",["T_VARIABLE","$fixture",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getData",77],"(",")",")",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$curl",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","BackendDecorator",78],"(",["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","CurlTransport",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_configuration",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$curl",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","addOption",79],"(",["T_STRING","CURLOPT_HEADER",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$curl",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","write",80],"(",["T_VARIABLE","$url",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$data",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$response",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$curl",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","read",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$curl",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","close",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_STRING","strpos",83],"(",["T_VARIABLE","$response",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'data-ui-id=\"messages-message-success\"'",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_THROW","throw",84],["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Exception",84],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Cms page entity creating by curl handler was not successful! Response: ",84],["T_VARIABLE","$response",84],"\"",")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_STRING","preg_match",86],"(",["T_CONSTANT_ENCAPSED_STRING","\"~page_id\\\/(\\d*?)\\\/~\"",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$response",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$matches",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$id",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ISSET","isset",87],"(",["T_VARIABLE","$matches",87],"[",["T_LNUMBER","1",87],"]",")",["T_WHITESPACE"," ",87],"?",["T_WHITESPACE"," ",87],["T_VARIABLE","$matches",87],"[",["T_LNUMBER","1",87],"]",["T_WHITESPACE"," ",87],":",["T_WHITESPACE"," ",87],["T_STRING","null",87],";",["T_WHITESPACE","\n\n        ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$id",89],"]",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Prepare data.\n     *\n     * @param array $data\n     * @return array\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","prepareData",98],"(",["T_ARRAY","array",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$data",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'stores'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[",["T_VARIABLE","$data",100],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",100],"]","]",";",["T_WHITESPACE","\n        ",100],["T_UNSET","unset",101],"(",["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",101],"]",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'content'",102],"]",";",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$data",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n",104],"}",["T_WHITESPACE","\n",105]]