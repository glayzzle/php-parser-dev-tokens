[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CatalogRule",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cms",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Page",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CmsIndex",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Constraint",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractConstraint",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Catalog",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Page",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Product",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CatalogProductView",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Catalog",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Page",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Category",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CatalogCategoryView",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Assert that Catalog Price Rule is applied on Product page.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","AssertCatalogPriceRuleAppliedProductPage",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractConstraint",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Assert that Catalog Price Rule is applied & it impacts on product's discount price on Product page.\n     *\n     * @param CatalogProductView $catalogProductViewPage\n     * @param CmsIndex $cmsIndexPage\n     * @param CatalogCategoryView $catalogCategoryViewPage\n     * @param array $products\n     * @param array $productPrice\n     * @param Customer $customer\n     * @return void\n     *\/",20],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","processAssert",31],"(",["T_WHITESPACE","\n        ",31],["T_STRING","CatalogProductView",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$catalogProductViewPage",32],",",["T_WHITESPACE","\n        ",32],["T_STRING","CmsIndex",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$cmsIndexPage",33],",",["T_WHITESPACE","\n        ",33],["T_STRING","CatalogCategoryView",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$catalogCategoryViewPage",34],",",["T_WHITESPACE","\n        ",34],["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$products",35],",",["T_WHITESPACE","\n        ",35],["T_ARRAY","array",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$productPrice",36],",",["T_WHITESPACE","\n        ",36],["T_STRING","Customer",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$customer",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","null",37],["T_WHITESPACE","\n    ",37],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n        ",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$customer",39],["T_WHITESPACE"," ",39],["T_IS_NOT_IDENTICAL","!==",39],["T_WHITESPACE"," ",39],["T_STRING","null",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","objectManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","create",40],"(",["T_WHITESPACE","\n                ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Customer",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Test",41],["T_NS_SEPARATOR","\\",41],["T_STRING","TestStep",41],["T_NS_SEPARATOR","\\",41],["T_STRING","LoginCustomerOnFrontendStep",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n                ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$customer",42],"]",["T_WHITESPACE","\n            ",42],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","run",43],"(",")",";",["T_WHITESPACE","\n        ",43],"}",["T_WHITESPACE"," ",44],["T_ELSE","else",44],["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","objectManager",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","create",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Customer",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Test",45],["T_NS_SEPARATOR","\\",45],["T_STRING","TestStep",45],["T_NS_SEPARATOR","\\",45],["T_STRING","LogoutCustomerOnFrontendStep",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","run",45],"(",")",";",["T_WHITESPACE","\n        ",45],"}",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$cmsIndexPage",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","open",48],"(",")",";",["T_WHITESPACE","\n        ",48],["T_FOREACH","foreach",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$products",49],["T_WHITESPACE"," ",49],["T_AS","as",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$key",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$product",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$categoryName",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$product",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getCategoryIds",50],"(",")","[",["T_LNUMBER","0",50],"]",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$cmsIndexPage",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getTopmenu",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","selectCategoryByName",51],"(",["T_VARIABLE","$categoryName",51],")",";",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$catalogCategoryViewPage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getListProductBlock",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getProductItem",52],"(",["T_VARIABLE","$product",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","open",52],"(",")",";",["T_WHITESPACE","\n\n            ",52],["T_VARIABLE","$catalogProductViewPage",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getViewBlock",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","waitLoader",54],"(",")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$productPriceBlock",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$catalogProductViewPage",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getViewBlock",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getPriceBlock",55],"(",")",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$actualPrice",56],"[",["T_CONSTANT_ENCAPSED_STRING","'special'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$productPriceBlock",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getSpecialPrice",56],"(",")",";",["T_WHITESPACE","\n            ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$productPrice",57],"[",["T_VARIABLE","$key",57],"]","[",["T_CONSTANT_ENCAPSED_STRING","'regular'",57],"]",["T_WHITESPACE"," ",57],["T_IS_NOT_IDENTICAL","!==",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'No'",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_VARIABLE","$actualPrice",58],"[",["T_CONSTANT_ENCAPSED_STRING","'regular'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$productPriceBlock",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getOldPrice",58],"(",")",";",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$actualPrice",59],"[",["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$actualPrice",59],"[",["T_CONSTANT_ENCAPSED_STRING","'regular'",59],"]",["T_WHITESPACE"," ",59],"-",["T_WHITESPACE"," ",59],["T_VARIABLE","$actualPrice",59],"[",["T_CONSTANT_ENCAPSED_STRING","'special'",59],"]",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$diff",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","verifyData",61],"(",["T_VARIABLE","$actualPrice",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$productPrice",61],"[",["T_VARIABLE","$key",61],"]",")",";",["T_WHITESPACE","\n            ",61],["T_NS_SEPARATOR","\\",62],["T_STRING","PHPUnit_Framework_Assert",62],["T_DOUBLE_COLON","::",62],["T_STRING","assertTrue",62],"(",["T_WHITESPACE","\n                ",62],["T_EMPTY","empty",63],"(",["T_VARIABLE","$diff",63],")",",",["T_WHITESPACE","\n                ",63],["T_STRING","implode",64],"(",["T_CONSTANT_ENCAPSED_STRING","' '",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$diff",64],")",["T_WHITESPACE","\n            ",64],")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Check if arrays have equal values.\n     *\n     * @param array $formData\n     * @param array $fixtureData\n     * @return array\n     *\/",69],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","verifyData",76],"(",["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$formData",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$fixtureData",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$errorMessage",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[","]",";",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$formData",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$key",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$value",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$value",80],["T_WHITESPACE"," ",80],["T_IS_NOT_EQUAL","!=",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$fixtureData",80],"[",["T_VARIABLE","$key",80],"]",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$errorMessage",81],"[","]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"Data not equal.\"",81],["T_WHITESPACE","\n                    ",81],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","\"\\nExpected: \"",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$fixtureData",82],"[",["T_VARIABLE","$key",82],"]",["T_WHITESPACE","\n                    ",82],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"\\nActual: \"",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$value",83],";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$errorMessage",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Text of catalog price rule visibility on product page (frontend).\n     *\n     * @return string\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","toString",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Displayed catalog price rule data on product page(frontend) equals to passed from fixture.'",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n",97],"}",["T_WHITESPACE","\n",98]]