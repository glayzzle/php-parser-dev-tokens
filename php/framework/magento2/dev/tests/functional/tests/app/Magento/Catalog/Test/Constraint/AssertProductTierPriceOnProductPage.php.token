[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","View",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Page",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogProductView",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Client",11],["T_NS_SEPARATOR","\\",11],["T_STRING","BrowserInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Constraint",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractConstraint",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Fixture",13],["T_NS_SEPARATOR","\\",13],["T_STRING","FixtureInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Assert that displayed tier price on product page equals passed from fixture.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","AssertProductTierPriceOnProductPage",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","AbstractConstraint",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_STRING","AssertPriceOnProductPageInterface",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Error message\n     *\n     * @var string\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$errorMessage",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Product tier price on product page is not correct.'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Format price\n     *\n     * @var int\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$priceFormat",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_LNUMBER","2",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Assertion that tier prices are displayed correctly\n     *\n     * @param BrowserInterface $browser\n     * @param CatalogProductView $catalogProductView\n     * @param FixtureInterface $product\n     * @return void\n     *\/",34],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","processAssert",42],"(",["T_WHITESPACE","\n        ",42],["T_STRING","BrowserInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$browser",43],",",["T_WHITESPACE","\n        ",43],["T_STRING","CatalogProductView",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$catalogProductView",44],",",["T_WHITESPACE","\n        ",44],["T_STRING","FixtureInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$product",45],["T_WHITESPACE","\n    ",45],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_COMMENT","\/\/ TODO fix initialization url for frontend page\n",47],["T_WHITESPACE","        ",48],["T_COMMENT","\/\/Open product view page\n",48],["T_WHITESPACE","        ",49],["T_VARIABLE","$browser",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","open",49],"(",["T_VARIABLE","$_ENV",49],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",49],"]",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$product",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getUrlKey",49],"(",")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'.html'",49],")",";",["T_WHITESPACE","\n\n        ",49],["T_COMMENT","\/\/Process assertions\n",51],["T_WHITESPACE","        ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertPrice",52],"(",["T_VARIABLE","$product",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$catalogProductView",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getViewBlock",52],"(",")",")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Set $errorMessage for tier price assert\n     *\n     * @param string $errorMessage\n     * @return void\n     *\/",55],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","setErrorMessage",61],"(",["T_VARIABLE","$errorMessage",61],")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","errorMessage",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$errorMessage",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Verify product tier price on product view page\n     *\n     * @param FixtureInterface $product\n     * @param View $productViewBlock\n     * @return void\n     *\/",66],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","assertPrice",73],"(",["T_STRING","FixtureInterface",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$product",73],",",["T_WHITESPACE"," ",73],["T_STRING","View",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$productViewBlock",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$noError",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","true",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$match",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[","]",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$index",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$tierPrices",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$product",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getTierPrice",78],"(",")",";",["T_WHITESPACE","\n\n        ",78],["T_FOREACH","foreach",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$tierPrices",80],["T_WHITESPACE"," ",80],["T_AS","as",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$tierPrice",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$text",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$productViewBlock",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getTierPrices",81],"(",["T_VARIABLE","$index",81],["T_INC","++",81],")",";",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$noError",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_BOOL_CAST","(bool)",82],["T_STRING","preg_match",82],"(",["T_CONSTANT_ENCAPSED_STRING","'#^[^\\d]+(\\d+)[^\\d]+(\\d+(?:(?:,\\d+)*)+(?:.\\d+)*).*#i'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$text",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$match",82],")",";",["T_WHITESPACE","\n            ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_VARIABLE","$noError",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                ",83],["T_BREAK","break",84],";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n            ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","count",86],"(",["T_VARIABLE","$match",86],")",["T_WHITESPACE"," ",86],"<",["T_WHITESPACE"," ",86],["T_LNUMBER","2",86],["T_WHITESPACE","\n                ",86],["T_BOOLEAN_AND","&&",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$match",87],"[",["T_LNUMBER","1",87],"]",["T_WHITESPACE"," ",87],["T_IS_NOT_EQUAL","!=",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$tierPrice",87],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",87],"]",["T_WHITESPACE","\n                ",87],["T_BOOLEAN_OR","||",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$match",88],"[",["T_LNUMBER","2",88],"]",["T_WHITESPACE"," ",88],["T_IS_NOT_IDENTICAL","!==",88],["T_WHITESPACE"," ",88],["T_STRING","number_format",88],"(",["T_VARIABLE","$tierPrice",88],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",88],"]",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","priceFormat",88],")",["T_WHITESPACE","\n            ",88],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$noError",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","false",90],";",["T_WHITESPACE","\n                ",90],["T_BREAK","break",91],";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_NS_SEPARATOR","\\",95],["T_STRING","PHPUnit_Framework_Assert",95],["T_DOUBLE_COLON","::",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$noError",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","errorMessage",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Returns a string representation of the object\n     *\n     * @return string\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","toString",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Tier price is displayed on the product page.'",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n",106],"}",["T_WHITESPACE","\n",107]]