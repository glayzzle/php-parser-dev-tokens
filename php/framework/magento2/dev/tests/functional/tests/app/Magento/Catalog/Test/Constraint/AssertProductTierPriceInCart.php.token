[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogProductSimple",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Page",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Product",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogProductView",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Checkout",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Page",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CheckoutCart",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Client",12],["T_NS_SEPARATOR","\\",12],["T_STRING","BrowserInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Constraint",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractConstraint",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Mtf",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Fixture",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FixtureInterface",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * This assert adds product to cart and checks price.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","AssertProductTierPriceInCart",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","AbstractConstraint",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Price on form.\n     *\n     * @var string\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$formPrice",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Fixture actual price.\n     *\n     * @var string\n     *\/",28],["T_WHITESPACE","\n    ",32],["T_PRIVATE","private",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$fixtureActualPrice",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * Fixture price.\n     *\n     * @var string\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$fixturePrice",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Assertion that the product is correctly displayed in cart.\n     *\n     * @param CatalogProductView $catalogProductView\n     * @param FixtureInterface $product\n     * @param BrowserInterface $browser\n     * @param CheckoutCart $checkoutCart\n     * @return void\n     *\/",42],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","processAssert",51],"(",["T_WHITESPACE","\n        ",51],["T_STRING","CatalogProductView",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$catalogProductView",52],",",["T_WHITESPACE","\n        ",52],["T_STRING","FixtureInterface",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$product",53],",",["T_WHITESPACE","\n        ",53],["T_STRING","BrowserInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$browser",54],",",["T_WHITESPACE","\n        ",54],["T_STRING","CheckoutCart",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$checkoutCart",55],["T_WHITESPACE","\n    ",55],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$checkoutCart",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","open",57],"(",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$checkoutCart",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getCartBlock",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","clearShoppingCart",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_COMMENT","\/\/ Add product to cart\n",59],["T_WHITESPACE","        ",60],["T_VARIABLE","$browser",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","open",60],"(",["T_VARIABLE","$_ENV",60],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",60],"]",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_VARIABLE","$product",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getUrlKey",60],"(",")",["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'.html'",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$requiredQty",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$product",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getDataFieldConfig",61],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",61],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",61],"]",["T_OBJECT_OPERATOR","->",61],["T_STRING","getData",61],"(",")","[",["T_LNUMBER","0",61],"]","[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",61],"]",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$catalogProductView",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getViewBlock",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","setQtyAndClickAddToCart",62],"(",["T_VARIABLE","$requiredQty",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$catalogProductView",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMessagesBlock",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","waitSuccessMessage",63],"(",")",";",["T_WHITESPACE","\n\n        ",63],["T_COMMENT","\/\/ Check price\n",65],["T_WHITESPACE","        ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","countPrices",66],"(",["T_VARIABLE","$product",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$checkoutCart",66],")",";",["T_WHITESPACE","\n        ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","PHPUnit_Framework_Assert",67],["T_DOUBLE_COLON","::",67],["T_STRING","assertEquals",67],"(",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","fixtureActualPrice",68],",",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","formPrice",69],",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'Product price in shopping cart is not correct.'",70],["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Count prices.\n     *\n     * @param FixtureInterface $product\n     * @param CheckoutCart $checkoutCart\n     * @return void\n     *\/",74],["T_WHITESPACE","\n    ",80],["T_PRIVATE","private",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","countPrices",81],"(",["T_STRING","FixtureInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$product",81],",",["T_WHITESPACE"," ",81],["T_STRING","CheckoutCart",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$checkoutCart",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_DOC_COMMENT","\/** @var CatalogProductSimple $product *\/",83],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","fixturePrice",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$product",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getPrice",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","prepareFormPrice",85],"(",["T_VARIABLE","$product",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$checkoutCart",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","countCheckoutCartItemPrice",86],"(",["T_VARIABLE","$product",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Prepare form price.\n     *\n     * @param FixtureInterface $product\n     * @param CheckoutCart $checkoutCart\n     * @return void\n     *\/",89],["T_WHITESPACE","\n    ",95],["T_PRIVATE","private",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","prepareFormPrice",96],"(",["T_STRING","FixtureInterface",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$product",96],",",["T_WHITESPACE"," ",96],["T_STRING","CheckoutCart",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$checkoutCart",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$checkoutCart",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","open",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$cartItem",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$checkoutCart",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getCartBlock",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getCartItem",99],"(",["T_VARIABLE","$product",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","formPrice",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$cartItem",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getPrice",100],"(",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Count cart item price.\n     *\n     * @param FixtureInterface $product\n     * @return void\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PRIVATE","private",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","countCheckoutCartItemPrice",109],"(",["T_STRING","FixtureInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$product",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$tierPrice",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$product",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getDataFieldConfig",111],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",111],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",111],"]",["T_OBJECT_OPERATOR","->",111],["T_STRING","getData",111],"(",")","[",["T_LNUMBER","0",111],"]",";",["T_WHITESPACE","\n\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$tierPrice",113],"[",["T_CONSTANT_ENCAPSED_STRING","'value_type'",113],"]",["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"Discount\"",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","fixtureActualPrice",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","fixturePrice",114],["T_WHITESPACE"," ",114],"*",["T_WHITESPACE"," ",114],"(",["T_LNUMBER","1",114],["T_WHITESPACE"," ",114],"-",["T_WHITESPACE"," ",114],["T_VARIABLE","$tierPrice",114],"[",["T_CONSTANT_ENCAPSED_STRING","'percentage_value'",114],"]",["T_WHITESPACE"," ",114],"\/",["T_WHITESPACE"," ",114],["T_LNUMBER","100",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE"," ",115],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","fixtureActualPrice",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$tierPrice",116],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",116],"]",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Returns a string representation of the object.\n     *\n     * @return string\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","toString",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Product is correctly displayed in cart.'",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n",129]]