[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Handler",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FixtureInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Handler",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Webapi",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","AbstractWebapi",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Webapi handler for creating customer.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Webapi",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","AbstractWebapi",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","CustomerInterface",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Default customer group.\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","GENERAL_GROUP",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'1'",21],";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$mappingData",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'gender'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'Male'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],",",["T_WHITESPACE","\n            ",30],["T_CONSTANT_ENCAPSED_STRING","'Female'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_LNUMBER","2",31],",",["T_WHITESPACE","\n            ",31],["T_CONSTANT_ENCAPSED_STRING","'Not Specified'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_LNUMBER","3",32],["T_WHITESPACE","\n        ",32],"]",",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'country_id'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n            ",34],["T_CONSTANT_ENCAPSED_STRING","'United States'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'US'",35],",",["T_WHITESPACE","\n            ",35],["T_CONSTANT_ENCAPSED_STRING","'United Kingdom'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'GB'",36],",",["T_WHITESPACE","\n            ",36],["T_CONSTANT_ENCAPSED_STRING","'Germany'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'DE'",37],["T_WHITESPACE","\n        ",37],"]",",",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'region_id'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],"[",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","'California'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_LNUMBER","12",40],",",["T_WHITESPACE","\n            ",40],["T_CONSTANT_ENCAPSED_STRING","'New York'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_LNUMBER","43",41],",",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'Texas'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_LNUMBER","57",42],",",["T_WHITESPACE","\n        ",42],"]",",",["T_WHITESPACE","\n    ",43],"]",";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Attributes that has a setter while creating customer using web api.\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$basicAttributes",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'id'",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'confirmation'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'created_at'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'created_in'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'dob'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'email'",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'firstname'",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'gender'",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'group_id'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'lastname'",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'middlename'",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'prefix'",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'store_id'",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'suffix'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'taxvat'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'website_id'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",69],",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",70],",",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'addresses'",71],",",["T_WHITESPACE","\n        ",71],["T_CONSTANT_ENCAPSED_STRING","'disable_auto_group_change'",72],",",["T_WHITESPACE","\n    ",72],"]",";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Create customer via Web API.\n     *\n     * @param FixtureInterface|null $customer\n     * @return array\n     * @throws \\Exception\n     *\/",75],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","persist",82],"(",["T_STRING","FixtureInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$customer",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","null",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_DOC_COMMENT","\/** @var Customer $customer *\/",84],["T_WHITESPACE","\n        ",84],["T_VARIABLE","$data",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","prepareData",85],"(",["T_VARIABLE","$customer",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$url",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$_ENV",86],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",86],"]",["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'rest\/V1\/customers'",86],";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","webapiTransport",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","write",88],"(",["T_VARIABLE","$url",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$data",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$response",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","json_decode",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","webapiTransport",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","read",89],"(",")",",",["T_WHITESPACE"," ",89],["T_STRING","true",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","webapiTransport",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","close",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_EMPTY","empty",92],"(",["T_VARIABLE","$response",92],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","eventManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","dispatchEvent",93],"(","[",["T_CONSTANT_ENCAPSED_STRING","'webapi_failed'",93],"]",",",["T_WHITESPACE"," ",93],"[",["T_VARIABLE","$response",93],"]",")",";",["T_WHITESPACE","\n            ",93],["T_THROW","throw",94],["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Exception",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer creation by Web API handler was not successful!'",94],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_RETURN","return",97],["T_WHITESPACE"," ",97],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$response",97],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",97],"]","]",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Prepare customer data for Web API.\n     *\n     * @param Customer $customer\n     * @return array\n     *\/",100],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","prepareData",106],"(",["T_STRING","Customer",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$customer",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$data",108],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","replaceMappingData",108],"(",["T_VARIABLE","$customer",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getData",108],"(",")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$data",109],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",109],"]","[",["T_CONSTANT_ENCAPSED_STRING","'group_id'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCustomerGroup",109],"(",["T_VARIABLE","$customer",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'password'",110],"]",";",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$customer",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","hasData",111],"(",["T_CONSTANT_ENCAPSED_STRING","'website_id'",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getCustomerWebsite",112],"(",["T_VARIABLE","$customer",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n        ",113],["T_UNSET","unset",114],"(",["T_VARIABLE","$data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",114],"]","[",["T_CONSTANT_ENCAPSED_STRING","'password'",114],"]",")",";",["T_WHITESPACE","\n        ",114],["T_UNSET","unset",115],"(",["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",115],"]","[",["T_CONSTANT_ENCAPSED_STRING","'password_confirmation'",115],"]",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$data",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","prepareAddressData",116],"(",["T_VARIABLE","$data",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$data",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","prepareExtensionAttributes",117],"(",["T_VARIABLE","$data",117],")",";",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$data",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Get customer group.\n     *\n     * @param Customer $customer\n     * @return string\n     *\/",121],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","getCustomerGroup",127],"(",["T_STRING","Customer",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$customer",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$customer",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","hasData",129],"(",["T_CONSTANT_ENCAPSED_STRING","'group_id'",129],")",["T_WHITESPACE","\n            ",129],"?",["T_WHITESPACE"," ",130],["T_VARIABLE","$customer",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getDataFieldConfig",130],"(",["T_CONSTANT_ENCAPSED_STRING","'group_id'",130],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",130],"]",["T_OBJECT_OPERATOR","->",130],["T_STRING","getCustomerGroup",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getCustomerGroupId",130],"(",")",["T_WHITESPACE","\n            ",130],":",["T_WHITESPACE"," ",131],["T_STRING","self",131],["T_DOUBLE_COLON","::",131],["T_STRING","GENERAL_GROUP",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Prepare address data for Web API.\n     *\n     * @param array $data\n     * @return array\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","prepareAddressData",140],"(",["T_ARRAY","array",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$data",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(","!",["T_ISSET","isset",142],"(",["T_VARIABLE","$data",142],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",142],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",142],"]",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$data",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_FOREACH","foreach",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",145],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",145],"]",["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$key",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$addressData",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$addressData",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","prepareRegionData",146],"(",["T_VARIABLE","$addressData",146],")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$addressData",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","prepareStreetData",147],"(",["T_VARIABLE","$addressData",147],")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$addressData",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","prepareDefaultAddressData",148],"(",["T_VARIABLE","$addressData",148],")",";",["T_WHITESPACE","\n            ",148],["T_UNSET","unset",149],"(",["T_VARIABLE","$addressData",149],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",149],"]",")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$data",150],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",150],"]","[",["T_CONSTANT_ENCAPSED_STRING","'addresses'",150],"]","[",["T_VARIABLE","$key",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$addressData",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n        ",151],["T_UNSET","unset",152],"(",["T_VARIABLE","$data",152],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",152],"]","[",["T_CONSTANT_ENCAPSED_STRING","'address'",152],"]",")",";",["T_WHITESPACE","\n\n        ",152],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$data",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Prepare region data for the address.\n     *\n     * @param array $addressData\n     * @return array\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","prepareRegionData",163],"(",["T_ARRAY","array",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$addressData",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_ISSET","isset",165],"(",["T_VARIABLE","$addressData",165],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",165],"]",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$addressData",166],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"[",["T_WHITESPACE","\n                ",166],["T_CONSTANT_ENCAPSED_STRING","'region'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$addressData",167],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",167],"]",",",["T_WHITESPACE","\n            ",167],"]",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_ISSET","isset",170],"(",["T_VARIABLE","$addressData",170],"[",["T_CONSTANT_ENCAPSED_STRING","'region_id'",170],"]",")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$addressData",171],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"[",["T_WHITESPACE","\n                ",171],["T_CONSTANT_ENCAPSED_STRING","'region_id'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$addressData",172],"[",["T_CONSTANT_ENCAPSED_STRING","'region_id'",172],"]",["T_WHITESPACE","\n            ",172],"]",";",["T_WHITESPACE","\n            ",173],["T_UNSET","unset",174],"(",["T_VARIABLE","$addressData",174],"[",["T_CONSTANT_ENCAPSED_STRING","'region_id'",174],"]",")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$addressData",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Prepare street data for the address.\n     *\n     * @param array $addressData\n     * @return array\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","prepareStreetData",186],"(",["T_ARRAY","array",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$addressData",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_STRING","is_array",188],"(",["T_VARIABLE","$addressData",188],"[",["T_CONSTANT_ENCAPSED_STRING","'street'",188],"]",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$street",189],"[","]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$addressData",189],"[",["T_CONSTANT_ENCAPSED_STRING","'street'",189],"]",";",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$addressData",190],"[",["T_CONSTANT_ENCAPSED_STRING","'street'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$street",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$addressData",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Prepare default address data.\n     *\n     * @param array $addressData\n     * @return array\n     *\/",196],["T_WHITESPACE","\n    ",201],["T_PROTECTED","protected",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","prepareDefaultAddressData",202],"(",["T_ARRAY","array",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$addressData",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_ISSET","isset",204],"(",["T_VARIABLE","$addressData",204],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",204],"]",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$addressData",204],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",204],"]",["T_WHITESPACE"," ",204],["T_IS_IDENTICAL","===",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'Yes'",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$addressData",205],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","true",205],";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE"," ",206],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$addressData",207],"[",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","false",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_ISSET","isset",209],"(",["T_VARIABLE","$addressData",209],"[",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",209],"]",")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$addressData",209],"[",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",209],"]",["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'Yes'",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$addressData",210],"[",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","true",210],";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$addressData",212],"[",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","false",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$addressData",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Prepare customer website data.\n     *\n     * @param Customer $customer\n     * @return int\n     *\/",218],["T_WHITESPACE","\n    ",223],["T_PRIVATE","private",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","getCustomerWebsite",224],"(",["T_STRING","Customer",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$customer",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$customer",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getDataFieldConfig",226],"(",["T_CONSTANT_ENCAPSED_STRING","'website_id'",226],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",226],"]",["T_OBJECT_OPERATOR","->",226],["T_STRING","getWebsite",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getWebsiteId",226],"(",")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Prepare extension attributes for the customer.\n     *\n     * @param array $data\n     * @return array\n     *\/",229],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","prepareExtensionAttributes",235],"(",["T_VARIABLE","$data",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$data",237],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",237],"]",["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$fieldName",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$fieldValue",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_STRING","in_array",238],"(",["T_VARIABLE","$fieldName",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","basicAttributes",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$data",239],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'extension_attributes'",239],"]","[",["T_VARIABLE","$fieldName",239],"]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$fieldValue",239],";",["T_WHITESPACE","\n                ",239],["T_UNSET","unset",240],"(",["T_VARIABLE","$data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",240],"]","[",["T_VARIABLE","$fieldName",240],"]",")",";",["T_WHITESPACE","\n            ",240],"}",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n\n        ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$data",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n",245],"}",["T_WHITESPACE","\n",246]]