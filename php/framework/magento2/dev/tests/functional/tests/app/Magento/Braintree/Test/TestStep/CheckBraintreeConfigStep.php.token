[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Braintree",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestStep",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Backend",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Page",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Adminhtml",9],["T_NS_SEPARATOR","\\",9],["T_STRING","SystemConfigEditSectionPayment",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestStep",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestStepInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Payment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Constraint",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AssertFieldsAreActive",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Payment",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Constraint",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AssertFieldsAreDisabled",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Payment",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Constraint",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AssertFieldsAreEnabled",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Payment",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Test",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Constraint",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AssertFieldsArePresent",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Check configuration of Braintree payment method.\n *\/",16],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","CheckBraintreeConfigStep",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","TestStepInterface",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_DOC_COMMENT","\/**\n     * Payments configuration page.\n     *\n     * @var SystemConfigEditSectionPayment\n     *\/",21],["T_WHITESPACE","\n    ",25],["T_PRIVATE","private",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$systemConfigEditSectionPayment",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * @var AssertFieldsAreDisabled\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PRIVATE","private",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$assertFieldsAreDisabled",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * @var AssertFieldsArePresent\n     *\/",33],["T_WHITESPACE","\n    ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$assertFieldsArePresent",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * @var AssertFieldsAreActive\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PRIVATE","private",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$assertFieldsAreActive",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @var AssertFieldsAreEnabled\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$assertFieldsAreEnabled",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Country code.\n     *\n     * @var string\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$countryCode",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Payment sections on Payments configuration page.\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PRIVATE","private",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$sections",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Braintree\\Test\\Block\\System\\Config\\Braintree\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$braintreeConfigBlock",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @param SystemConfigEditSectionPayment $systemConfigEditSectionPayment\n     * @param AssertFieldsAreDisabled $assertFieldsAreDisabled\n     * @param AssertFieldsArePresent $assertFieldsArePresent\n     * @param AssertFieldsAreActive $assertFieldsAreActive\n     * @param AssertFieldsAreEnabled $assertFieldsAreEnabled\n     * @param string $countryCode\n     * @param array $sections\n     *\/",67],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","__construct",76],"(",["T_WHITESPACE","\n        ",76],["T_STRING","SystemConfigEditSectionPayment",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$systemConfigEditSectionPayment",77],",",["T_WHITESPACE","\n        ",77],["T_STRING","AssertFieldsAreDisabled",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$assertFieldsAreDisabled",78],",",["T_WHITESPACE","\n        ",78],["T_STRING","AssertFieldsArePresent",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$assertFieldsArePresent",79],",",["T_WHITESPACE","\n        ",79],["T_STRING","AssertFieldsAreActive",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$assertFieldsAreActive",80],",",["T_WHITESPACE","\n        ",80],["T_STRING","AssertFieldsAreEnabled",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$assertFieldsAreEnabled",81],",",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$countryCode",82],",",["T_WHITESPACE","\n        ",82],["T_ARRAY","array",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$sections",83],["T_WHITESPACE","\n    ",83],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","systemConfigEditSectionPayment",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$systemConfigEditSectionPayment",85],";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertFieldsAreDisabled",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$assertFieldsAreDisabled",86],";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertFieldsArePresent",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$assertFieldsArePresent",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertFieldsAreActive",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$assertFieldsAreActive",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertFieldsAreEnabled",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$assertFieldsAreEnabled",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","countryCode",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$countryCode",90],";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","sections",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$sections",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","braintreeConfigBlock",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","systemConfigEditSectionPayment",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getBraintreeConfigBlock",92],"(",")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Run step for checking Braintree configuration.\n     *\n     * @return void\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","run",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","systemConfigEditSectionPayment",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getPaymentsConfigBlock",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","expandPaymentSections",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","sections",102],")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","enableBraintree",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","disableBraintree",104],"(",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Enables Braintree and makes assertions for fields.\n     *\n     * @return void\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PRIVATE","private",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","enableBraintree",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","braintreeConfigBlock",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","clickConfigureButton",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","braintreeConfigBlock",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","clearCredentials",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$enablers",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","braintreeConfigBlock",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getEnablerFields",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertFieldsAreDisabled",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","processAssert",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","systemConfigEditSectionPayment",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$enablers",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","braintreeConfigBlock",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","specifyCredentials",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertFieldsAreActive",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","processAssert",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","systemConfigEditSectionPayment",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$enablers",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","braintreeConfigBlock",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","enableBraintree",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertFieldsAreActive",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","processAssert",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","systemConfigEditSectionPayment",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$enablers",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","systemConfigEditSectionPayment",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getPageActions",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","save",122],"(",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","systemConfigEditSectionPayment",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getMessagesBlock",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","waitSuccessMessage",123],"(",")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Disables Express Checkout and makes assertions for fields.\n     *\n     * @return void\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PRIVATE","private",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","disableBraintree",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$enablers",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","braintreeConfigBlock",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getEnablerFields",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","braintreeConfigBlock",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","clickConfigureButton",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertFieldsAreActive",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","processAssert",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","systemConfigEditSectionPayment",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$enablers",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertFieldsAreEnabled",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","processAssert",136],"(",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","systemConfigEditSectionPayment",137],",",["T_WHITESPACE","\n            ",137],"[",["T_VARIABLE","$enablers",138],"[",["T_CONSTANT_ENCAPSED_STRING","'Enable this Solution'",138],"]","]",["T_WHITESPACE","\n        ",138],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","braintreeConfigBlock",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","disableBraintree",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertFieldsAreActive",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","processAssert",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","systemConfigEditSectionPayment",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$enablers",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","systemConfigEditSectionPayment",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getPageActions",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","save",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","systemConfigEditSectionPayment",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getMessagesBlock",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","waitSuccessMessage",143],"(",")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n",144],"}",["T_WHITESPACE","\n",145]]