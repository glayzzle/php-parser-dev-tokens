[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Block",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Client",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Locator",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Catalog",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Fixture",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CatalogProductAttribute",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Client",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Element",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SimpleElement",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Mtf",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Client",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Element",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Product additional information block on the product page.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Additional",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","Block",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Custom attribute selector.\n     *\n     * @var string\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$attributeSelector",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr\/th'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * Custom attribute value selector.\n     *\n     * @var string\n     *\/",27],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$attributeValueSelector",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'\/following::td[1]'",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Get product attributes.\n     *\n     * @return SimpleElement[]\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","getProductAttributes",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$data",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$elements",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_rootElement",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getElements",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","attributeSelector",42],",",["T_WHITESPACE"," ",42],["T_STRING","Locator",42],["T_DOUBLE_COLON","::",42],["T_STRING","SELECTOR_XPATH",42],")",";",["T_WHITESPACE","\n        ",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$elements",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$element",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$data",44],"[",["T_VARIABLE","$element",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getText",44],"(",")","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_rootElement",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","find",44],"(",["T_WHITESPACE","\n                ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","attributeSelector",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","attributeValueSelector",45],",",["T_WHITESPACE","\n                ",45],["T_STRING","Locator",46],["T_DOUBLE_COLON","::",46],["T_STRING","SELECTOR_XPATH",46],["T_WHITESPACE","\n            ",46],")",";",["T_WHITESPACE","\n        ",47],"}",["T_WHITESPACE","\n\n        ",48],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$data",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Check if attribute value contains tag.\n     *\n     * @param CatalogProductAttribute $attribute\n     * @return bool\n     *\/",53],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","hasHtmlTagInAttributeValue",59],"(",["T_STRING","CatalogProductAttribute",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$attribute",59],")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$data",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$attribute",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getData",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$defaultValue",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","preg_grep",62],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^default_value\/'",62],",",["T_WHITESPACE"," ",62],["T_STRING","array_keys",62],"(",["T_VARIABLE","$data",62],")",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$selector",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","resolveHtmlStructure",63],"(",["T_VARIABLE","$data",63],"[",["T_STRING","array_shift",63],"(",["T_VARIABLE","$defaultValue",63],")","]",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$element",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getProductAttributes",64],"(",")","[",["T_VARIABLE","$attribute",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getFrontendLabel",64],"(",")","]",";",["T_WHITESPACE","\n\n        ",64],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","checkHtmlTagStructure",66],"(",["T_VARIABLE","$element",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$selector",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","isVisible",66],"(",")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Find <tag1><tag2><tagN> ... <\/tagN><\/tag2><\/tag1> tag structure in element.\n     *\n     * @param SimpleElement $element\n     * @param string $selector\n     * @return SimpleElement\n     *\/",69],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","checkHtmlTagStructure",76],"(",["T_STRING","SimpleElement",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$element",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$selector",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$element",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","find",78],"(",["T_VARIABLE","$selector",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Get list of available attributes.\n     *\n     * @return array\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getAttributeLabels",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","array_keys",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getProductAttributes",88],"(",")",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Resolve html structure from given string, which contains html tags.\n     *\n     * @param string $stringWithHtml\n     * @return array\n     *\/",91],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","resolveHtmlStructure",97],"(",["T_VARIABLE","$stringWithHtml",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$selector",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","''",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$dom",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_NS_SEPARATOR","\\",100],["T_STRING","DOMDocument",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$dom",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","loadHTML",101],"(",["T_VARIABLE","$stringWithHtml",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$xmlStructure",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$xmlStructure",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$dom",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","saveXML",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$parser",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","xml_parser_create",103],"(",")",";",["T_WHITESPACE","\n        ",103],["T_STRING","xml_parse_into_struct",104],"(",["T_VARIABLE","$parser",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$xmlStructure",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$htmlData",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$htmlData",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","array_slice",105],"(",["T_VARIABLE","$htmlData",105],",",["T_WHITESPACE"," ",105],["T_LNUMBER","2",105],",",["T_WHITESPACE"," ",105],"-",["T_LNUMBER","2",105],")",";",["T_WHITESPACE"," ",105],["T_COMMENT","\/\/Remove <html> and <body> tags\n",105],["T_WHITESPACE","        ",106],["T_VARIABLE","$middleElement",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","ceil",106],"(",["T_STRING","count",106],"(",["T_VARIABLE","$htmlData",106],")",["T_WHITESPACE"," ",106],"\/",["T_WHITESPACE"," ",106],["T_LNUMBER","2",106],")",";",["T_WHITESPACE","\n        ",106],["T_FOR","for",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$index",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],";",["T_WHITESPACE"," ",107],["T_VARIABLE","$index",107],["T_WHITESPACE"," ",107],"<",["T_WHITESPACE"," ",107],["T_VARIABLE","$middleElement",107],";",["T_WHITESPACE"," ",107],["T_VARIABLE","$index",107],["T_INC","++",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$selector",108],["T_WHITESPACE"," ",108],["T_CONCAT_EQUAL",".=",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$htmlData",108],"[",["T_VARIABLE","$index",108],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tag'",108],"]",["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\" \"",108],";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","trim",111],"(",["T_VARIABLE","$selector",111],")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n",112],"}",["T_WHITESPACE","\n",113]]