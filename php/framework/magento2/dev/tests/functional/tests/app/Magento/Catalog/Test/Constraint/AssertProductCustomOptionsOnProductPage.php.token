[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Catalog",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Page",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CatalogProductView",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Mtf",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Client",10],["T_NS_SEPARATOR","\\",10],["T_STRING","BrowserInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Mtf",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Constraint",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractAssertForm",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Mtf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fixture",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FixtureInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Class AssertProductCustomOptionsOnProductPage\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","AssertProductCustomOptionsOnProductPage",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","AbstractAssertForm",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * Skipped field for custom options\n     *\n     * @var array\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$skippedFieldOptions",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'Text\/Field'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],"[",["T_WHITESPACE","\n            ",25],["T_CONSTANT_ENCAPSED_STRING","'price_type'",26],",",["T_WHITESPACE","\n            ",26],["T_CONSTANT_ENCAPSED_STRING","'sku'",27],",",["T_WHITESPACE","\n        ",27],"]",",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'Text\/Area'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n            ",29],["T_CONSTANT_ENCAPSED_STRING","'price_type'",30],",",["T_WHITESPACE","\n            ",30],["T_CONSTANT_ENCAPSED_STRING","'sku'",31],",",["T_WHITESPACE","\n        ",31],"]",",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'Select\/Drop-down'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],"[",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'price_type'",34],",",["T_WHITESPACE","\n            ",34],["T_CONSTANT_ENCAPSED_STRING","'sku'",35],",",["T_WHITESPACE","\n        ",35],"]",",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'File\/File'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'price_type'",38],",",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'sku'",39],",",["T_WHITESPACE","\n        ",39],"]",",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'Select\/Radio Buttons'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n            ",41],["T_CONSTANT_ENCAPSED_STRING","'price_type'",42],",",["T_WHITESPACE","\n            ",42],["T_CONSTANT_ENCAPSED_STRING","'sku'",43],",",["T_WHITESPACE","\n        ",43],"]",",",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'Select\/Checkbox'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'price_type'",46],",",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'sku'",47],",",["T_WHITESPACE","\n        ",47],"]",",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'Select\/Multiple Select'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'price_type'",50],",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'sku'",51],",",["T_WHITESPACE","\n        ",51],"]",",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'Date\/Date'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'price_type'",54],",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'sku'",55],",",["T_WHITESPACE","\n        ",55],"]",",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'Date\/Date & Time'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],"[",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'price_type'",58],",",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'sku'",59],",",["T_WHITESPACE","\n        ",59],"]",",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'Date\/Time'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],"[",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'price_type'",62],",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'sku'",63],",",["T_WHITESPACE","\n        ",63],"]",",",["T_WHITESPACE","\n    ",64],"]",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Flag for verify price data\n     *\n     * @var bool\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$isPrice",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","true",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Assertion that commodity options are displayed correctly\n     *\n     * @param CatalogProductView $catalogProductView\n     * @param FixtureInterface $product\n     * @param BrowserInterface $browser\n     * @return void\n     *\/",74],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","processAssert",82],"(",["T_WHITESPACE","\n        ",82],["T_STRING","CatalogProductView",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$catalogProductView",83],",",["T_WHITESPACE","\n        ",83],["T_STRING","FixtureInterface",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$product",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","BrowserInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$browser",85],["T_WHITESPACE","\n    ",85],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$browser",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","open",87],"(",["T_VARIABLE","$_ENV",87],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",87],"]",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$product",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getUrlKey",87],"(",")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'.html'",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$actualPrice",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","null",89],";",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","isPrice",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$priceBlock",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$catalogProductView",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getViewBlock",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getPriceBlock",91],"(",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$specialPrice",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$priceBlock",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getSpecialPrice",92],"(",")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$price",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$priceBlock",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getPrice",93],"(",")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$actualPrice",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$specialPrice",94],["T_WHITESPACE"," ",94],"?",["T_WHITESPACE"," ",94],["T_VARIABLE","$specialPrice",94],["T_WHITESPACE"," ",94],":",["T_WHITESPACE"," ",94],["T_VARIABLE","$price",94],";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$fixtureCustomOptions",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","prepareOptions",96],"(",["T_VARIABLE","$product",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$actualPrice",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$formCustomOptions",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$catalogProductView",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getViewBlock",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getOptions",97],"(",["T_VARIABLE","$product",97],")","[",["T_CONSTANT_ENCAPSED_STRING","'custom_options'",97],"]",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$error",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","verifyData",99],"(",["T_VARIABLE","$fixtureCustomOptions",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$formCustomOptions",99],")",";",["T_WHITESPACE","\n        ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","PHPUnit_Framework_Assert",100],["T_DOUBLE_COLON","::",100],["T_STRING","assertEmpty",100],"(",["T_VARIABLE","$error",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$error",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Preparation options before comparing\n     *\n     * @param FixtureInterface $product\n     * @param int|null $actualPrice\n     * @return array\n     *\n     * @SuppressWarnings(PHPMD.NPathComplexity)\n     *\/",103],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","prepareOptions",112],"(",["T_STRING","FixtureInterface",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$product",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$actualPrice",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","null",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$result",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],"[","]",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$customOptions",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$product",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","hasData",115],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_options'",115],")",["T_WHITESPACE","\n            ",115],"?",["T_WHITESPACE"," ",116],["T_VARIABLE","$product",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getDataFieldConfig",116],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_options'",116],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",116],"]",["T_OBJECT_OPERATOR","->",116],["T_STRING","getCustomOptions",116],"(",")",["T_WHITESPACE","\n            ",116],":",["T_WHITESPACE"," ",117],["T_STRING","null",117],";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$actualPrice",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$actualPrice",118],["T_WHITESPACE"," ",118],"?",["T_WHITESPACE"," ",118],["T_VARIABLE","$actualPrice",118],["T_WHITESPACE"," ",118],":",["T_WHITESPACE"," ",118],["T_VARIABLE","$product",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getPrice",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$customOptions",119],["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$customOption",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$skippedField",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_ISSET","isset",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","skippedFieldOptions",120],"[",["T_VARIABLE","$customOption",120],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",120],"]","]",")",["T_WHITESPACE","\n                ",120],"?",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","skippedFieldOptions",121],"[",["T_VARIABLE","$customOption",121],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",121],"]","]",["T_WHITESPACE","\n                ",121],":",["T_WHITESPACE"," ",122],"[","]",";",["T_WHITESPACE","\n            ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$customOption",123],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",123],"]",["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],"&",["T_VARIABLE","$option",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_COMMENT","\/\/ recalculate percent price\n",124],["T_WHITESPACE","                ",125],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Percent'",125],["T_WHITESPACE"," ",125],["T_IS_EQUAL","==",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$option",125],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",125],"]",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_VARIABLE","$option",126],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$actualPrice",126],["T_WHITESPACE"," ",126],"*",["T_WHITESPACE"," ",126],["T_VARIABLE","$option",126],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",126],"]",")",["T_WHITESPACE"," ",126],"\/",["T_WHITESPACE"," ",126],["T_LNUMBER","100",126],";",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$option",127],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","round",127],"(",["T_VARIABLE","$option",127],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",127],"]",",",["T_WHITESPACE"," ",127],["T_LNUMBER","2",127],")",";",["T_WHITESPACE","\n                ",127],"}",["T_WHITESPACE","\n\n                ",128],["T_VARIABLE","$option",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","array_diff_key",130],"(",["T_VARIABLE","$option",130],",",["T_WHITESPACE"," ",130],["T_STRING","array_flip",130],"(",["T_VARIABLE","$skippedField",130],")",")",";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n\n            ",131],["T_VARIABLE","$result",133],"[",["T_VARIABLE","$customOption",133],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",133],"]","]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$customOption",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$result",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Returns a string representation of the object\n     *\n     * @return string\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","toString",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'Value of custom option on the page is correct.'",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n",147],"}",["T_WHITESPACE","\n",148]]