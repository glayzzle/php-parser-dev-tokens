[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ProductVideo",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Fixture",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Mtf",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DataSource",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Media Gallery data source.\n *\n * Data keys:\n *  - dataset (Price verification dataset name)\n *  - value (Price value)\n *\/",11],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","MediaGallery",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","DataSource",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Temporary media path\n     *\n     * @var string\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$mediaPathTmp",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'\/pub\/media\/tmp\/catalog\/product'",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param array $params\n     * @param array $data\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",27],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","__construct",33],"(",["T_ARRAY","array",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$params",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$data",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_IF","if",35],["T_WHITESPACE"," ",35],"(",["T_ISSET","isset",35],"(",["T_VARIABLE","$data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",35],"]",")",["T_WHITESPACE"," ",35],["T_BOOLEAN_AND","&&",35],["T_WHITESPACE"," ",35],["T_STRING","is_array",35],"(",["T_VARIABLE","$data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",35],"]",")",["T_WHITESPACE"," ",35],["T_BOOLEAN_AND","&&",35],["T_WHITESPACE"," ",35],["T_STRING","count",35],"(",["T_VARIABLE","$data",35],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",35],"]",")",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n            ",35],["T_FOREACH","foreach",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$data",36],"[",["T_CONSTANT_ENCAPSED_STRING","'images'",36],"]",["T_WHITESPACE"," ",36],["T_AS","as",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$media",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n                ",36],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_ISSET","isset",37],"(",["T_VARIABLE","$media",37],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",37],"]",")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n                    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","createTestImage",38],"(",["T_VARIABLE","$media",38],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",38],"]",")",";",["T_WHITESPACE","\n                ",38],"}",["T_WHITESPACE","\n            ",39],"}",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","data",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$data",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Create test image.\n     *\n     * @param string $filename\n     * @return void\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","createTestImage",51],"(",["T_VARIABLE","$filename",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$filename",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getFullPath",53],"(",["T_VARIABLE","$filename",53],")",";",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(","!",["T_STRING","file_exists",54],"(",["T_VARIABLE","$filename",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_COMMENT","\/\/ Create an image with the specified dimensions\n",55],["T_WHITESPACE","            ",56],["T_VARIABLE","$image",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","imageCreate",56],"(",["T_LNUMBER","300",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","200",56],")",";",["T_WHITESPACE","\n\n            ",56],["T_COMMENT","\/\/ Create a color (this first call to imageColorAllocate\n",58],["T_WHITESPACE","            ",59],["T_COMMENT","\/\/  also automatically sets the image background color)\n",59],["T_WHITESPACE","            ",60],["T_VARIABLE","$colorYellow",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","imageColorAllocate",60],"(",["T_VARIABLE","$image",60],",",["T_WHITESPACE"," ",60],["T_LNUMBER","255",60],",",["T_WHITESPACE"," ",60],["T_LNUMBER","255",60],",",["T_WHITESPACE"," ",60],["T_LNUMBER","0",60],")",";",["T_WHITESPACE","\n\n            ",60],["T_COMMENT","\/\/ Draw a rectangle\n",62],["T_WHITESPACE","            ",63],["T_STRING","imageFilledRectangle",63],"(",["T_VARIABLE","$image",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","50",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","50",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","250",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","150",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$colorYellow",63],")",";",["T_WHITESPACE","\n\n            ",63],["T_VARIABLE","$directory",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","dirname",65],"(",["T_VARIABLE","$filename",65],")",";",["T_WHITESPACE","\n            ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_STRING","file_exists",66],"(",["T_VARIABLE","$directory",66],")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                ",66],["T_STRING","mkdir",67],"(",["T_VARIABLE","$directory",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0777",67],",",["T_WHITESPACE"," ",67],["T_STRING","true",67],")",";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n            ",68],["T_STRING","imageJpeg",69],"(",["T_VARIABLE","$image",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$filename",69],")",";",["T_WHITESPACE","\n\n            ",69],["T_COMMENT","\/\/ Release memory\n",71],["T_WHITESPACE","            ",72],["T_STRING","imageDestroy",72],"(",["T_VARIABLE","$image",72],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Gets full path based on filename.\n     *\n     * @param string $filename\n     * @return string\n     *\/",76],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getFullPath",82],"(",["T_VARIABLE","$filename",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","BP",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","mediaPathTmp",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$filename",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n",85],"}",["T_WHITESPACE","\n",86]]