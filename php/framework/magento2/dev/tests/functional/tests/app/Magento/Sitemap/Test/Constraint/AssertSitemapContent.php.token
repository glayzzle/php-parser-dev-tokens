[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sitemap",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Fixture",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Category",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Catalog",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Test",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Fixture",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CatalogProductSimple",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Cms",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Test",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Fixture",11],["T_NS_SEPARATOR","\\",11],["T_STRING","CmsPage",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sitemap",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Test",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Fixture",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Sitemap",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sitemap",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Test",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Page",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Adminhtml",13],["T_NS_SEPARATOR","\\",13],["T_STRING","SitemapIndex",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Mtf",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Constraint",14],["T_NS_SEPARATOR","\\",14],["T_STRING","AbstractConstraint",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Class AssertSitemapContent\n * Assert that sitemap.xml file contains correct content\n *\/",16],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","AssertSitemapContent",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","AbstractConstraint",20],["T_WHITESPACE","\n",20],"{",["T_WHITESPACE","\n    ",21],["T_DOC_COMMENT","\/**\n     * Assert that sitemap.xml file contains correct content according to dataset:\n     *  - product url\n     *  - category url\n     *  - CMS page url\n     *\n     * @param CatalogProductSimple $product\n     * @param Category $catalog\n     * @param CmsPage $cmsPage\n     * @param Sitemap $sitemap\n     * @param SitemapIndex $sitemapIndex\n     * @return void\n     *\/",22],["T_WHITESPACE","\n    ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","processAssert",35],"(",["T_WHITESPACE","\n        ",35],["T_STRING","CatalogProductSimple",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$product",36],",",["T_WHITESPACE","\n        ",36],["T_STRING","Category",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$catalog",37],",",["T_WHITESPACE","\n        ",37],["T_STRING","CmsPage",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$cmsPage",38],",",["T_WHITESPACE","\n        ",38],["T_STRING","Sitemap",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$sitemap",39],",",["T_WHITESPACE","\n        ",39],["T_STRING","SitemapIndex",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$sitemapIndex",40],["T_WHITESPACE","\n    ",40],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$sitemapIndex",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","open",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","getSitemapGrid",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","sortGridByField",42],"(",["T_CONSTANT_ENCAPSED_STRING","'sitemap_id'",42],")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$filter",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'sitemap_filename'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$sitemap",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getSitemapFilename",44],"(",")",",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'sitemap_path'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$sitemap",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getSitemapPath",45],"(",")",",",["T_WHITESPACE","\n        ",45],"]",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$sitemapIndex",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getSitemapGrid",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","search",47],"(",["T_VARIABLE","$filter",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$content",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","file_get_contents",48],"(",["T_VARIABLE","$sitemapIndex",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getSitemapGrid",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getLinkForGoogle",48],"(",")",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$urls",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$_ENV",50],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",50],"]",["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_VARIABLE","$product",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getUrlKey",50],"(",")",["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'.html'",50],",",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$_ENV",51],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",51],"]",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$catalog",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getUrlKey",51],"(",")",["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'.html'",51],",",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$_ENV",52],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",52],"]",["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_VARIABLE","$cmsPage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getIdentifier",52],"(",")",",",["T_WHITESPACE","\n        ",52],"]",";",["T_WHITESPACE","\n\n        ",53],["T_NS_SEPARATOR","\\",55],["T_STRING","PHPUnit_Framework_Assert",55],["T_DOUBLE_COLON","::",55],["T_STRING","assertTrue",55],"(",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","checkContent",56],"(",["T_VARIABLE","$content",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$urls",56],")",",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'Content of file sitemap.xml does not include one or more of next urls:'",57],["T_WHITESPACE","\n            ",57],".",["T_WHITESPACE"," ",58],["T_STRING","implode",58],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$urls",58],")",["T_WHITESPACE","\n        ",58],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Check content for the presence urls\n     *\n     * @param string $content\n     * @param array $urls\n     * @return bool\n     *\/",62],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","checkContent",69],"(",["T_VARIABLE","$content",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$urls",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$urls",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$url",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_STRING","strpos",72],"(",["T_VARIABLE","$content",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$url",72],")",["T_WHITESPACE"," ",72],["T_IS_IDENTICAL","===",72],["T_WHITESPACE"," ",72],["T_STRING","false",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_STRING","false",73],";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","true",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Returns a string representation of the object.\n     *\n     * @return string\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","toString",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'File sitemap.xml contains correct content according to dataset.'",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n",87],"}",["T_WHITESPACE","\n",88]]