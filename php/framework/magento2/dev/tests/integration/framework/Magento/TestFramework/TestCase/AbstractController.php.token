[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Abstract class for the controller tests\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestCase",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Stdlib",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CookieManagerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","View",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Element",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Message",13],["T_NS_SEPARATOR","\\",13],["T_STRING","InterpretationStrategyInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Magento",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Theme",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Controller",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Result",14],["T_NS_SEPARATOR","\\",14],["T_STRING","MessagePlugin",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.NumberOfChildren)\n *\/",16],["T_WHITESPACE","\n",18],["T_ABSTRACT","abstract",19],["T_WHITESPACE"," ",19],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","AbstractController",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_NS_SEPARATOR","\\",19],["T_STRING","PHPUnit_Framework_TestCase",19],["T_WHITESPACE","\n",19],"{",["T_WHITESPACE","\n    ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$_runCode",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","''",21],";",["T_WHITESPACE","\n\n    ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_runScope",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'store'",23],";",["T_WHITESPACE","\n\n    ",23],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_runOptions",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[","]",";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\Request\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_request",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\Response\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_response",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_objectManager",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Whether absence of session error messages has to be asserted automatically upon a test completion\n     *\n     * @var bool\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_assertSessionErrors",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","false",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Bootstrap instance getter\n     *\n     * @return \\Magento\\TestFramework\\Helper\\Bootstrap\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","_getBootstrap",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","TestFramework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Helper",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Bootstrap",56],["T_DOUBLE_COLON","::",56],["T_STRING","getInstance",56],"(",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Bootstrap application before any test\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","setUp",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_assertSessionErrors",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","false",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_objectManager",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","TestFramework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Helper",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Bootstrap",65],["T_DOUBLE_COLON","::",65],["T_STRING","getObjectManager",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_objectManager",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","removeSharedInstance",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","App",66],["T_NS_SEPARATOR","\\",66],["T_STRING","ResponseInterface",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_objectManager",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","removeSharedInstance",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","App",67],["T_NS_SEPARATOR","\\",67],["T_STRING","RequestInterface",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","tearDown",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_request",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_response",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_objectManager",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Ensure that there were no error messages displayed on the admin panel\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","assertPostConditions",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_assertSessionErrors",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_COMMENT","\/\/ equalTo() is intentionally used instead of isEmpty() to provide the informative diff\n",83],["T_WHITESPACE","            ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertSessionMessages",84],"(",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","equalTo",85],"(","[","]",")",",",["T_WHITESPACE","\n                ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Message",86],["T_NS_SEPARATOR","\\",86],["T_STRING","MessageInterface",86],["T_DOUBLE_COLON","::",86],["T_STRING","TYPE_ERROR",86],["T_WHITESPACE","\n            ",86],")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Run request\n     *\n     * @param string $uri\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","dispatch",96],"(",["T_VARIABLE","$uri",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getRequest",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","setRequestUri",98],"(",["T_VARIABLE","$uri",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_getBootstrap",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","runApp",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Request getter\n     *\n     * @return \\Magento\\TestFramework\\Request\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","getRequest",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_request",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_request",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_objectManager",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_NS_SEPARATOR","\\",110],["T_STRING","Magento",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Framework",110],["T_NS_SEPARATOR","\\",110],["T_STRING","App",110],["T_NS_SEPARATOR","\\",110],["T_STRING","RequestInterface",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_request",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Response getter\n     *\n     * @return \\Magento\\TestFramework\\Response\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getResponse",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_response",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_response",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_objectManager",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Framework",123],["T_NS_SEPARATOR","\\",123],["T_STRING","App",123],["T_NS_SEPARATOR","\\",123],["T_STRING","ResponseInterface",123],["T_DOUBLE_COLON","::",123],["T_CLASS","class",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_response",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Assert that response is '404 Not Found'\n     *\/",128],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","assert404NotFound",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEquals",133],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getRequest",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getControllerName",133],"(",")",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertContains",134],"(",["T_CONSTANT_ENCAPSED_STRING","'404 Not Found'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getResponse",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getBody",134],"(",")",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Analyze response object and look for header with specified name, and assert a regex towards its value\n     *\n     * @param string $headerName\n     * @param string $valueRegex\n     * @throws \\PHPUnit_Framework_AssertionFailedError when header not found\n     *\/",137],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","assertHeaderPcre",144],"(",["T_VARIABLE","$headerName",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$valueRegex",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$headerFound",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","false",146],";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$headers",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getResponse",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getHeaders",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_FOREACH","foreach",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$headers",148],["T_WHITESPACE"," ",148],["T_AS","as",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$header",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$header",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getFieldName",149],"(",")",["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$headerName",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$headerFound",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","true",150],";",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertRegExp",151],"(",["T_VARIABLE","$valueRegex",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$header",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getFieldValue",151],"(",")",")",";",["T_WHITESPACE","\n            ",151],"}",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(","!",["T_VARIABLE","$headerFound",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","fail",155],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Header '",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$headerName",155],"}",["T_ENCAPSED_AND_WHITESPACE","' was not found. Headers dump:\\n",155],"\"",["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_STRING","var_export",155],"(",["T_VARIABLE","$headers",155],",",["T_WHITESPACE"," ",155],["T_LNUMBER","1",155],")",")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Assert that there is a redirect to expected URL.\n     * Omit expected URL to check that redirect to wherever has been occurred.\n     * Examples of usage:\n     * $this->assertRedirect($this->equalTo($expectedUrl));\n     * $this->assertRedirect($this->stringStartsWith($expectedUrlPrefix));\n     * $this->assertRedirect($this->stringEndsWith($expectedUrlSuffix));\n     * $this->assertRedirect($this->stringContains($expectedUrlSubstring));\n     *\n     * @param \\PHPUnit_Framework_Constraint|null $urlConstraint\n     *\/",159],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","assertRedirect",170],"(",["T_NS_SEPARATOR","\\",170],["T_STRING","PHPUnit_Framework_Constraint",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$urlConstraint",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertTrue",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getResponse",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","isRedirect",172],"(",")",",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'Redirect was expected, but none was performed.'",172],")",";",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$urlConstraint",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$actualUrl",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","''",174],";",["T_WHITESPACE","\n            ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getResponse",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getHeaders",175],"(",")",["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$header",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$header",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getFieldName",176],"(",")",["T_WHITESPACE"," ",176],["T_IS_EQUAL","==",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'Location'",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$actualUrl",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$header",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getFieldValue",177],"(",")",";",["T_WHITESPACE","\n                    ",177],["T_BREAK","break",178],";",["T_WHITESPACE","\n                ",178],"}",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertThat",181],"(",["T_VARIABLE","$actualUrl",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$urlConstraint",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'Redirection URL does not match expectations'",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Assert that actual session messages meet expectations:\n     * Usage examples:\n     * $this->assertSessionMessages($this->isEmpty(), \\Magento\\Framework\\Message\\MessageInterface::TYPE_ERROR);\n     * $this->assertSessionMessages($this->equalTo(['Entity has been saved.'],\n     * \\Magento\\Framework\\Message\\MessageInterface::TYPE_SUCCESS);\n     *\n     * @param \\PHPUnit_Framework_Constraint $constraint Constraint to compare actual messages against\n     * @param string|null $messageType Message type filter,\n     *        one of the constants \\Magento\\Framework\\Message\\MessageInterface::*\n     * @param string $messageManagerClass Class of the session model that manages messages\n     *\/",185],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","assertSessionMessages",197],"(",["T_WHITESPACE","\n        ",197],["T_NS_SEPARATOR","\\",198],["T_STRING","PHPUnit_Framework_Constraint",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$constraint",198],",",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$messageType",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","null",199],",",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$messageManagerClass",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Magento",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Framework",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Message",200],["T_NS_SEPARATOR","\\",200],["T_STRING","Manager",200],["T_DOUBLE_COLON","::",200],["T_CLASS","class",200],["T_WHITESPACE","\n    ",200],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_assertSessionErrors",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","false",202],";",["T_WHITESPACE","\n\n        ",202],["T_VARIABLE","$messages",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getMessages",204],"(",["T_VARIABLE","$messageType",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$messageManagerClass",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertThat",206],"(",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$messages",207],",",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$constraint",208],",",["T_WHITESPACE","\n            ",208],["T_CONSTANT_ENCAPSED_STRING","'Session messages do not meet expectations '",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_STRING","var_export",209],"(",["T_VARIABLE","$messages",209],",",["T_WHITESPACE"," ",209],["T_STRING","true",209],")",["T_WHITESPACE","\n        ",209],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Return all stored messages\n     *\n     * @param string|null $messageType\n     * @param string $messageManagerClass\n     * @return array\n     *\/",213],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","getMessages",220],"(",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$messageType",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","null",221],",",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$messageManagerClass",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Magento",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Framework",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Message",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Manager",222],["T_DOUBLE_COLON","::",222],["T_CLASS","class",222],["T_WHITESPACE","\n    ",222],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n        ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_STRING","array_merge",224],"(",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getSessionMessages",225],"(",["T_VARIABLE","$messageType",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$messageManagerClass",225],")",",",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getCookieMessages",226],"(",["T_VARIABLE","$messageType",226],")",["T_WHITESPACE","\n        ",226],")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Return messages stored in session\n     *\n     * @param string|null $messageType\n     * @param string $messageManagerClass\n     * @return array\n     *\/",230],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","getSessionMessages",237],"(",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$messageType",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","null",238],",",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$messageManagerClass",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Framework",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Message",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Manager",239],["T_DOUBLE_COLON","::",239],["T_CLASS","class",239],["T_WHITESPACE","\n    ",239],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n        ",240],["T_DOC_COMMENT","\/** @var $messageManager \\Magento\\Framework\\Message\\ManagerInterface *\/",241],["T_WHITESPACE","\n        ",241],["T_VARIABLE","$messageManager",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_objectManager",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","get",242],"(",["T_VARIABLE","$messageManagerClass",242],")",";",["T_WHITESPACE","\n        ",242],["T_DOC_COMMENT","\/** @var $messages \\Magento\\Framework\\Message\\AbstractMessage[] *\/",243],["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$messageType",244],["T_WHITESPACE"," ",244],["T_IS_IDENTICAL","===",244],["T_WHITESPACE"," ",244],["T_STRING","null",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$messages",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$messageManager",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getMessages",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getItems",245],"(",")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE"," ",246],["T_ELSE","else",246],["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$messages",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$messageManager",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getMessages",247],"(",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","getItemsByType",247],"(",["T_VARIABLE","$messageType",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_DOC_COMMENT","\/** @var $messageManager InterpretationStrategyInterface *\/",250],["T_WHITESPACE","\n        ",250],["T_VARIABLE","$interpretationStrategy",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_objectManager",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","get",251],"(",["T_STRING","InterpretationStrategyInterface",251],["T_DOUBLE_COLON","::",251],["T_CLASS","class",251],")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$actualMessages",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],"[","]",";",["T_WHITESPACE","\n        ",253],["T_FOREACH","foreach",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$messages",254],["T_WHITESPACE"," ",254],["T_AS","as",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$message",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$actualMessages",255],"[","]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$interpretationStrategy",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","interpret",255],"(",["T_VARIABLE","$message",255],")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$actualMessages",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Return messages stored in cookies by type\n     *\n     * @param string|null $messageType\n     * @return array\n     *\/",261],["T_WHITESPACE","\n    ",266],["T_PROTECTED","protected",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getCookieMessages",267],"(",["T_VARIABLE","$messageType",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","null",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_DOC_COMMENT","\/** @var $cookieManager CookieManagerInterface *\/",269],["T_WHITESPACE","\n        ",269],["T_VARIABLE","$cookieManager",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_objectManager",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",["T_STRING","CookieManagerInterface",270],["T_DOUBLE_COLON","::",270],["T_CLASS","class",270],")",";",["T_WHITESPACE","\n        ",270],["T_TRY","try",271],["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$messages",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_NS_SEPARATOR","\\",272],["T_STRING","Zend_Json",272],["T_DOUBLE_COLON","::",272],["T_STRING","decode",272],"(",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$cookieManager",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getCookie",273],"(",["T_STRING","MessagePlugin",273],["T_DOUBLE_COLON","::",273],["T_STRING","MESSAGES_COOKIES_NAME",273],",",["T_WHITESPACE"," ",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Zend_Json",273],["T_DOUBLE_COLON","::",273],["T_STRING","encode",273],"(","[","]",")",")",["T_WHITESPACE","\n            ",273],")",";",["T_WHITESPACE","\n            ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(","!",["T_STRING","is_array",275],"(",["T_VARIABLE","$messages",275],")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$messages",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"[","]",";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE"," ",278],["T_CATCH","catch",278],["T_WHITESPACE"," ",278],"(",["T_NS_SEPARATOR","\\",278],["T_STRING","Zend_Json_Exception",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$e",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$messages",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],"[","]",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$actualMessages",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"[","]",";",["T_WHITESPACE","\n        ",282],["T_FOREACH","foreach",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$messages",283],["T_WHITESPACE"," ",283],["T_AS","as",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$message",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$messageType",284],["T_WHITESPACE"," ",284],["T_IS_IDENTICAL","===",284],["T_WHITESPACE"," ",284],["T_STRING","null",284],["T_WHITESPACE"," ",284],["T_BOOLEAN_OR","||",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$message",284],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",284],"]",["T_WHITESPACE"," ",284],["T_IS_EQUAL","==",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$messageType",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                ",284],["T_VARIABLE","$actualMessages",285],"[","]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$message",285],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",285],"]",";",["T_WHITESPACE","\n            ",285],"}",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n\n        ",287],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$actualMessages",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n",290],"}",["T_WHITESPACE","\n",291]]