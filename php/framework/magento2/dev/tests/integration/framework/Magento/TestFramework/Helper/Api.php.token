[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Helper for API integration tests.\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",7],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Api",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * Previous error handler\n     *\n     * @var mixed\n     *\/",12],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_previousHandler",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_STRING","null",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * Call API method via API handler.\n     *\n     * @param \\PHPUnit_Framework_TestCase $testCase Active test case\n     * @param string $path\n     * @param array $params Order of items matters as they are passed to call_user_func_array\n     * @return mixed\n     *\/",19],["T_WHITESPACE","\n    ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","call",27],"(",["T_NS_SEPARATOR","\\",27],["T_STRING","PHPUnit_Framework_TestCase",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$testCase",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$path",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$params",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[","]",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$soapAdapterMock",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$testCase",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getMock",29],"(",["T_NS_SEPARATOR","\\",29],["T_STRING","stdClass",29],["T_DOUBLE_COLON","::",29],["T_CLASS","class",29],",",["T_WHITESPACE"," ",29],"[",["T_CONSTANT_ENCAPSED_STRING","'fault'",29],"]",")",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$soapAdapterMock",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","expects",30],"(",["T_WHITESPACE","\n            ",30],["T_VARIABLE","$testCase",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","any",31],"(",")",["T_WHITESPACE","\n        ",31],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","method",32],"(",["T_WHITESPACE","\n            ",32],["T_CONSTANT_ENCAPSED_STRING","'fault'",33],["T_WHITESPACE","\n        ",33],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","will",34],"(",["T_WHITESPACE","\n            ",34],["T_VARIABLE","$testCase",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","returnCallback",35],"(","[",["T_CLASS_C","__CLASS__",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'soapAdapterFaultCallback'",35],"]",")",["T_WHITESPACE","\n        ",35],")",";",["T_WHITESPACE","\n\n        ",36],["T_VARIABLE","$serverMock",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$testCase",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getMock",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","stdClass",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],",",["T_WHITESPACE"," ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'getAdapter'",38],"]",")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$serverMock",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","expects",39],"(",["T_VARIABLE","$testCase",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","any",39],"(",")",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","method",39],"(",["T_CONSTANT_ENCAPSED_STRING","'getAdapter'",39],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","will",39],"(",["T_VARIABLE","$testCase",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","returnValue",39],"(",["T_VARIABLE","$soapAdapterMock",39],")",")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$apiSessionMock",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$testCase",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getMock",41],"(",["T_WHITESPACE","\n            ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","stdClass",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],",",["T_WHITESPACE","\n            ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'isAllowed'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'isLoggedIn'",43],"]",",",["T_WHITESPACE","\n            ",43],"[","]",",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE","\n            ",45],["T_STRING","false",46],["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$apiSessionMock",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","expects",48],"(",["T_VARIABLE","$testCase",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","any",48],"(",")",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","method",48],"(",["T_CONSTANT_ENCAPSED_STRING","'isAllowed'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","will",48],"(",["T_VARIABLE","$testCase",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","returnValue",48],"(",["T_STRING","true",48],")",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$apiSessionMock",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","expects",49],"(",["T_VARIABLE","$testCase",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","any",49],"(",")",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","method",49],"(",["T_CONSTANT_ENCAPSED_STRING","'isLoggedIn'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","will",49],"(",["T_VARIABLE","$testCase",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","returnValue",49],"(",["T_STRING","true",49],")",")",";",["T_WHITESPACE","\n\n        ",49],["T_VARIABLE","$handlerMock",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$testCase",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMock",51],"(",["T_WHITESPACE","\n            ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","stdClass",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],",",["T_WHITESPACE","\n            ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'_getServer'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'_getSession'",53],"]",",",["T_WHITESPACE","\n            ",53],"[","]",",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","''",55],",",["T_WHITESPACE","\n            ",55],["T_STRING","false",56],["T_WHITESPACE","\n        ",56],")",";",["T_WHITESPACE","\n        ",57],["T_STRING","self",58],["T_DOUBLE_COLON","::",58],["T_VARIABLE","$_previousHandler",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","set_error_handler",58],"(","[",["T_VARIABLE","$handlerMock",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'handlePhpError'",58],"]",")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$handlerMock",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","expects",60],"(",["T_VARIABLE","$testCase",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","any",60],"(",")",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","method",60],"(",["T_CONSTANT_ENCAPSED_STRING","'_getServer'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","will",60],"(",["T_VARIABLE","$testCase",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","returnValue",60],"(",["T_VARIABLE","$serverMock",60],")",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$handlerMock",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","expects",61],"(",["T_VARIABLE","$testCase",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","any",61],"(",")",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","method",61],"(",["T_CONSTANT_ENCAPSED_STRING","'_getSession'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","will",61],"(",["T_VARIABLE","$testCase",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","returnValue",61],"(",["T_VARIABLE","$apiSessionMock",61],")",")",";",["T_WHITESPACE","\n\n        ",61],["T_STRING","array_unshift",63],"(",["T_VARIABLE","$params",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'sessionId'",63],")",";",["T_WHITESPACE","\n        ",63],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",64],["T_WHITESPACE","\n        ",64],["T_VARIABLE","$objectManager",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","TestFramework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Helper",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Bootstrap",65],["T_DOUBLE_COLON","::",65],["T_STRING","getObjectManager",65],"(",")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$objectManager",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","get",67],"(",["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Registry",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","unregister",67],"(",["T_CONSTANT_ENCAPSED_STRING","'isSecureArea'",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$objectManager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Framework",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Registry",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","register",68],"(",["T_CONSTANT_ENCAPSED_STRING","'isSecureArea'",68],",",["T_WHITESPACE"," ",68],["T_STRING","true",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$result",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","call_user_func_array",69],"(","[",["T_VARIABLE","$handlerMock",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$path",69],"]",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$params",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$objectManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","get",70],"(",["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Registry",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","unregister",70],"(",["T_CONSTANT_ENCAPSED_STRING","'isSecureArea'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$objectManager",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Framework",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Registry",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","register",71],"(",["T_CONSTANT_ENCAPSED_STRING","'isSecureArea'",71],",",["T_WHITESPACE"," ",71],["T_STRING","false",71],")",";",["T_WHITESPACE","\n\n        ",71],["T_STRING","self",73],["T_DOUBLE_COLON","::",73],["T_STRING","restoreErrorHandler",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$result",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Call API method via API handler that raises SoapFault exception\n     *\n     * @param \\PHPUnit_Framework_TestCase $testCase Active test case\n     * @param string $path\n     * @param array $params Order of items matters as they are passed to call_user_func_array\n     * @param string $expectedMessage exception message\n     * @return \\SoapFault\n     *\/",77],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_STATIC","static",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","callWithException",86],"(",["T_WHITESPACE","\n        ",86],["T_NS_SEPARATOR","\\",87],["T_STRING","PHPUnit_Framework_TestCase",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$testCase",87],",",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$path",88],",",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$params",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",",",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$expectedMessage",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","''",90],["T_WHITESPACE","\n    ",90],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_TRY","try",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_STRING","self",93],["T_DOUBLE_COLON","::",93],["T_STRING","call",93],"(",["T_VARIABLE","$testCase",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$path",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$params",93],")",";",["T_WHITESPACE","\n            ",93],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","restoreErrorHandler",94],"(",")",";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$testCase",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","fail",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected error exception was not raised.'",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE"," ",96],["T_CATCH","catch",96],["T_WHITESPACE"," ",96],"(",["T_NS_SEPARATOR","\\",96],["T_STRING","SoapFault",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$exception",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_STRING","self",97],["T_DOUBLE_COLON","::",97],["T_STRING","restoreErrorHandler",97],"(",")",";",["T_WHITESPACE","\n            ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$expectedMessage",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$testCase",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEquals",99],"(",["T_VARIABLE","$expectedMessage",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$exception",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getMessage",99],"(",")",")",";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n            ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$exception",101],";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Restore previously used error handler\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_STATIC","static",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","restoreErrorHandler",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_STRING","set_error_handler",110],"(",["T_STRING","self",110],["T_DOUBLE_COLON","::",110],["T_VARIABLE","$_previousHandler",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Throw SoapFault exception. Callback for 'fault' method of API.\n     *\n     * @param string $exceptionCode\n     * @param string $exceptionMessage\n     * @throws \\SoapFault\n     *\/",113],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_STATIC","static",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","soapAdapterFaultCallback",120],"(",["T_VARIABLE","$exceptionCode",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$exceptionMessage",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_THROW","throw",122],["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","SoapFault",122],"(",["T_VARIABLE","$exceptionCode",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$exceptionMessage",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Convert Simple XML to array\n     *\n     * @param \\SimpleXMLObject $xml\n     * @param String $keyTrimmer\n     * @return object\n     *\n     * In XML notation we can't have nodes with digital names in other words fallowing XML will be not valid:\n     * &lt;24&gt;\n     *      Default category\n     * &lt;\/24&gt;\n     *\n     * But this one will not cause any problems:\n     * &lt;qwe_24&gt;\n     *      Default category\n     * &lt;\/qwe_24&gt;\n     *\n     * So when we want to obtain an array with key 24 we will pass the correct XML from above and $keyTrimmer = 'qwe_';\n     * As a result we will obtain an array with digital key node.\n     *\n     * In the other case just don't pass the $keyTrimmer.\n     *\/",125],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_STATIC","static",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","simpleXmlToArray",147],"(",["T_VARIABLE","$xml",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$keyTrimmer",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","null",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$result",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[","]",";",["T_WHITESPACE","\n\n        ",149],["T_VARIABLE","$isTrimmed",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","false",151],";",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_STRING","null",152],["T_WHITESPACE"," ",152],["T_IS_NOT_IDENTICAL","!==",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$keyTrimmer",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$isTrimmed",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","true",153],";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_STRING","is_object",156],"(",["T_VARIABLE","$xml",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_FOREACH","foreach",157],["T_WHITESPACE"," ",157],"(",["T_STRING","get_object_vars",157],"(",["T_VARIABLE","$xml",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","children",157],"(",")",")",["T_WHITESPACE"," ",157],["T_AS","as",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$key",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$node",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$arrKey",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$key",158],";",["T_WHITESPACE","\n                ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$isTrimmed",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                    ",159],["T_VARIABLE","$arrKey",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","str_replace",160],"(",["T_VARIABLE","$keyTrimmer",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","''",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$key",160],")",";",["T_WHITESPACE","\n                ",160],"}",["T_WHITESPACE","\n                ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_STRING","is_numeric",162],"(",["T_VARIABLE","$arrKey",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$arrKey",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Obj'",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_VARIABLE","$arrKey",163],";",["T_WHITESPACE","\n                ",163],"}",["T_WHITESPACE","\n                ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","is_object",165],"(",["T_VARIABLE","$node",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                    ",165],["T_VARIABLE","$result",166],"[",["T_VARIABLE","$arrKey",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","self",166],["T_DOUBLE_COLON","::",166],["T_STRING","simpleXmlToArray",166],"(",["T_VARIABLE","$node",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$keyTrimmer",166],")",";",["T_WHITESPACE","\n                ",166],"}",["T_WHITESPACE"," ",167],["T_ELSEIF","elseif",167],["T_WHITESPACE"," ",167],"(",["T_STRING","is_array",167],"(",["T_VARIABLE","$node",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$result",168],"[",["T_VARIABLE","$arrKey",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"[","]",";",["T_WHITESPACE","\n                    ",168],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$node",169],["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$nodeValue",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                        ",169],["T_VARIABLE","$result",170],"[",["T_VARIABLE","$arrKey",170],"]","[","]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_STRING","simpleXmlToArray",170],"(",["T_VARIABLE","$nodeValue",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$keyTrimmer",170],")",";",["T_WHITESPACE","\n                    ",170],"}",["T_WHITESPACE","\n                ",171],"}",["T_WHITESPACE"," ",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$result",173],"[",["T_VARIABLE","$arrKey",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING_CAST","(string)",173],["T_VARIABLE","$node",173],";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$result",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING_CAST","(string)",177],["T_VARIABLE","$xml",177],";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$result",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Check specific fields value in some entity data.\n     *\n     * @param \\PHPUnit_Framework_TestCase $testCase\n     * @param array $expectedData\n     * @param array $actualData\n     * @param array $fieldsToCompare To be able to compare fields from loaded model with fields from API response\n     *     this parameter provides fields mapping.\n     *     Array can store model field name $entityField mapped on field name in API response.\n     *     $fieldsToCompare format is:\n     *     $fieldsToCompare = array($modelFieldName => $apiResponseFieldName);\n     *     Example:\n     *     $fieldsToCompare = array(\n     *         'entity_id' => 'product_id',\n     *         'sku',\n     *         'attribute_set_id' => 'set',\n     *         'type_id' => 'type',\n     *         'category_ids',\n     *     );\n     *\/",182],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_STATIC","static",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","checkEntityFields",202],"(",["T_WHITESPACE","\n        ",202],["T_NS_SEPARATOR","\\",203],["T_STRING","PHPUnit_Framework_TestCase",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$testCase",203],",",["T_WHITESPACE","\n        ",203],["T_ARRAY","array",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$expectedData",204],",",["T_WHITESPACE","\n        ",204],["T_ARRAY","array",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$actualData",205],",",["T_WHITESPACE","\n        ",205],["T_ARRAY","array",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$fieldsToCompare",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],"[","]",["T_WHITESPACE","\n    ",206],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$fieldsToCompare",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"!",["T_EMPTY","empty",208],"(",["T_VARIABLE","$fieldsToCompare",208],")",["T_WHITESPACE"," ",208],"?",["T_WHITESPACE"," ",208],["T_VARIABLE","$fieldsToCompare",208],["T_WHITESPACE"," ",208],":",["T_WHITESPACE"," ",208],["T_STRING","array_keys",208],"(",["T_VARIABLE","$expectedData",208],")",";",["T_WHITESPACE","\n        ",208],["T_FOREACH","foreach",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$fieldsToCompare",209],["T_WHITESPACE"," ",209],["T_AS","as",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$entityField",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$field",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$testCase",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertEquals",210],"(",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$expectedData",211],"[",["T_STRING","is_numeric",211],"(",["T_VARIABLE","$entityField",211],")",["T_WHITESPACE"," ",211],"?",["T_WHITESPACE"," ",211],["T_VARIABLE","$field",211],["T_WHITESPACE"," ",211],":",["T_WHITESPACE"," ",211],["T_VARIABLE","$entityField",211],"]",",",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$actualData",212],"[",["T_VARIABLE","$field",212],"]",",",["T_WHITESPACE","\n                ",212],["T_STRING","sprintf",213],"(",["T_CONSTANT_ENCAPSED_STRING","'\"%s\" filed has invalid value.'",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$field",213],")",["T_WHITESPACE","\n            ",213],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n",216],"}",["T_WHITESPACE","\n",217]]