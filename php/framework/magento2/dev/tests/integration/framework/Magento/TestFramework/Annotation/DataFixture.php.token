[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Implementation of the @magentoDataFixture DocBlock annotation\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Annotation",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","DataFixture",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_fixtureBaseDir",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * Fixtures that have been applied\n     *\n     * @var array\n     *\/",19],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_appliedFixtures",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[","]",";",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param string $fixtureBaseDir\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",26],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","__construct",32],"(",["T_VARIABLE","$fixtureBaseDir",32],")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_IF","if",34],["T_WHITESPACE"," ",34],"(","!",["T_STRING","is_dir",34],"(",["T_VARIABLE","$fixtureBaseDir",34],")",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n            ",34],["T_THROW","throw",35],["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Exception",35],["T_NS_SEPARATOR","\\",35],["T_STRING","LocalizedException",35],"(",["T_WHITESPACE","\n                ",35],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Phrase",36],"(",["T_CONSTANT_ENCAPSED_STRING","\"Fixture base directory '%1' does not exist.\"",36],",",["T_WHITESPACE"," ",36],"[",["T_VARIABLE","$fixtureBaseDir",36],"]",")",["T_WHITESPACE","\n            ",36],")",";",["T_WHITESPACE","\n        ",37],"}",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_fixtureBaseDir",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","realpath",39],"(",["T_VARIABLE","$fixtureBaseDir",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Handler for 'startTestTransactionRequest' event\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @param \\Magento\\TestFramework\\Event\\Param\\Transaction $param\n     *\/",42],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","startTestTransactionRequest",48],"(",["T_WHITESPACE","\n        ",48],["T_NS_SEPARATOR","\\",49],["T_STRING","PHPUnit_Framework_TestCase",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$test",49],",",["T_WHITESPACE","\n        ",49],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","TestFramework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Event",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Param",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Transaction",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$param",50],["T_WHITESPACE","\n    ",50],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n        ",51],["T_COMMENT","\/* Start transaction before applying first fixture to be able to revert them all further *\/",52],["T_WHITESPACE","\n        ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_getFixtures",53],"(",["T_VARIABLE","$test",53],")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getDbIsolationState",54],"(",["T_VARIABLE","$test",54],")",["T_WHITESPACE"," ",54],["T_IS_NOT_IDENTICAL","!==",54],["T_WHITESPACE"," ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",54],"]",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$param",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","requestTransactionStart",55],"(",")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE"," ",56],["T_ELSE","else",56],["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_applyFixtures",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_getFixtures",57],"(",["T_VARIABLE","$test",57],")",")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Handler for 'endTestNeedTransactionRollback' event\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @param \\Magento\\TestFramework\\Event\\Param\\Transaction $param\n     *\/",62],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","endTestTransactionRequest",68],"(",["T_WHITESPACE","\n        ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","PHPUnit_Framework_TestCase",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$test",69],",",["T_WHITESPACE","\n        ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","TestFramework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Event",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Param",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Transaction",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$param",70],["T_WHITESPACE","\n    ",70],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_COMMENT","\/* Isolate other tests from test-specific fixtures *\/",72],["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_appliedFixtures",73],["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_getFixtures",73],"(",["T_VARIABLE","$test",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getDbIsolationState",74],"(",["T_VARIABLE","$test",74],")",["T_WHITESPACE"," ",74],["T_IS_NOT_IDENTICAL","!==",74],["T_WHITESPACE"," ",74],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",74],"]",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$param",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","requestTransactionRollback",75],"(",")",";",["T_WHITESPACE","\n            ",75],"}",["T_WHITESPACE"," ",76],["T_ELSE","else",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_revertFixtures",77],"(",")",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Handler for 'startTransaction' event\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","startTransaction",87],"(",["T_NS_SEPARATOR","\\",87],["T_STRING","PHPUnit_Framework_TestCase",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$test",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_applyFixtures",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_getFixtures",89],"(",["T_VARIABLE","$test",89],")",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Handler for 'rollbackTransaction' event\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","rollbackTransaction",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_revertFixtures",97],"(",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Retrieve fixtures from annotation\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @param string $scope\n     * @return array\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",100],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","_getFixtures",108],"(",["T_NS_SEPARATOR","\\",108],["T_STRING","PHPUnit_Framework_TestCase",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$test",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$scope",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","null",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$scope",110],["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_STRING","null",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$annotations",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getAnnotations",111],"(",["T_VARIABLE","$test",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE"," ",112],["T_ELSE","else",112],["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$annotations",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$test",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getAnnotations",113],"(",")","[",["T_VARIABLE","$scope",113],"]",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$result",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[","]",";",["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_EMPTY","empty",116],"(",["T_VARIABLE","$annotations",116],"[",["T_CONSTANT_ENCAPSED_STRING","'magentoDataFixture'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$annotations",117],"[",["T_CONSTANT_ENCAPSED_STRING","'magentoDataFixture'",117],"]",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$fixture",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_STRING","strpos",118],"(",["T_VARIABLE","$fixture",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",118],")",["T_WHITESPACE"," ",118],["T_IS_NOT_IDENTICAL","!==",118],["T_WHITESPACE"," ",118],["T_STRING","false",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                    ",118],["T_COMMENT","\/\/ usage of a single directory separator symbol streamlines search across the source code\n",119],["T_WHITESPACE","                    ",120],["T_THROW","throw",120],["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Magento",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Framework",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Exception",120],["T_NS_SEPARATOR","\\",120],["T_STRING","LocalizedException",120],"(",["T_WHITESPACE","\n                        ",120],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Magento",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Framework",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Phrase",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Directory separator \"\\\\\" is prohibited in fixture declaration.'",121],")",["T_WHITESPACE","\n                    ",121],")",";",["T_WHITESPACE","\n                ",122],"}",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$fixtureMethod",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],"[",["T_STRING","get_class",124],"(",["T_VARIABLE","$test",124],")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$fixture",124],"]",";",["T_WHITESPACE","\n                ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_STRING","is_callable",125],"(",["T_VARIABLE","$fixtureMethod",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_VARIABLE","$result",126],"[","]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$fixtureMethod",126],";",["T_WHITESPACE","\n                ",126],"}",["T_WHITESPACE"," ",127],["T_ELSE","else",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                    ",127],["T_VARIABLE","$result",128],"[","]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_fixtureBaseDir",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'\/'",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_VARIABLE","$fixture",128],";",["T_WHITESPACE","\n                ",128],"}",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$result",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @return array\n     *\/",135],["T_WHITESPACE","\n    ",138],["T_PRIVATE","private",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","getAnnotations",139],"(",["T_NS_SEPARATOR","\\",139],["T_STRING","PHPUnit_Framework_TestCase",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$test",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$annotations",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$test",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getAnnotations",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","array_replace",142],"(",["T_VARIABLE","$annotations",142],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",142],"]",",",["T_WHITESPACE"," ",142],["T_VARIABLE","$annotations",142],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",142],"]",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Return is explicit set isolation state\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @return bool|null\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getDbIsolationState",151],"(",["T_NS_SEPARATOR","\\",151],["T_STRING","PHPUnit_Framework_TestCase",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$test",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$annotations",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getAnnotations",153],"(",["T_VARIABLE","$test",153],")",";",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_ISSET","isset",154],"(",["T_VARIABLE","$annotations",154],"[",["T_STRING","DbIsolation",154],["T_DOUBLE_COLON","::",154],["T_STRING","MAGENTO_DB_ISOLATION",154],"]",")",["T_WHITESPACE","\n            ",154],"?",["T_WHITESPACE"," ",155],["T_VARIABLE","$annotations",155],"[",["T_STRING","DbIsolation",155],["T_DOUBLE_COLON","::",155],["T_STRING","MAGENTO_DB_ISOLATION",155],"]",["T_WHITESPACE","\n            ",155],":",["T_WHITESPACE"," ",156],["T_STRING","null",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Execute single fixture script\n     *\n     * @param string|array $fixture\n     * @throws \\Exception\n     *\/",159],["T_WHITESPACE","\n    ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","_applyOneFixture",165],"(",["T_VARIABLE","$fixture",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_TRY","try",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_STRING","is_callable",168],"(",["T_VARIABLE","$fixture",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_STRING","call_user_func",169],"(",["T_VARIABLE","$fixture",169],")",";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE"," ",170],["T_ELSE","else",170],["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_REQUIRE","require",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$fixture",171],";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE"," ",173],["T_CATCH","catch",173],["T_WHITESPACE"," ",173],"(",["T_NS_SEPARATOR","\\",173],["T_STRING","Exception",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$e",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_THROW","throw",174],["T_WHITESPACE"," ",174],["T_NEW","new",174],["T_WHITESPACE"," ",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Exception",174],"(",["T_WHITESPACE","\n                ",174],["T_STRING","sprintf",175],"(",["T_CONSTANT_ENCAPSED_STRING","\"Error in fixture: %s.\\n %s\"",175],",",["T_WHITESPACE"," ",175],["T_STRING","json_encode",175],"(",["T_VARIABLE","$fixture",175],")",",",["T_WHITESPACE"," ",175],["T_VARIABLE","$e",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getMessage",175],"(",")",")",",",["T_WHITESPACE","\n                ",175],["T_LNUMBER","500",176],",",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$e",177],["T_WHITESPACE","\n            ",177],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Execute fixture scripts if any\n     *\n     * @param array $fixtures\n     * @throws \\Magento\\Framework\\Exception\\LocalizedException\n     *\/",182],["T_WHITESPACE","\n    ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","_applyFixtures",188],"(",["T_ARRAY","array",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$fixtures",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_COMMENT","\/* Execute fixture scripts *\/",190],["T_WHITESPACE","\n        ",190],["T_FOREACH","foreach",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$fixtures",191],["T_WHITESPACE"," ",191],["T_AS","as",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$oneFixture",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_COMMENT","\/* Skip already applied fixtures *\/",192],["T_WHITESPACE","\n            ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_STRING","in_array",193],"(",["T_VARIABLE","$oneFixture",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_appliedFixtures",193],",",["T_WHITESPACE"," ",193],["T_STRING","true",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                ",193],["T_CONTINUE","continue",194],";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_applyOneFixture",196],"(",["T_VARIABLE","$oneFixture",196],")",";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_appliedFixtures",197],"[","]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$oneFixture",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Revert changes done by fixtures\n     *\/",201],["T_WHITESPACE","\n    ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","_revertFixtures",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_FOREACH","foreach",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_appliedFixtures",206],["T_WHITESPACE"," ",206],["T_AS","as",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$fixture",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_STRING","is_callable",207],"(",["T_VARIABLE","$fixture",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$fixture",208],"[",["T_LNUMBER","1",208],"]",["T_WHITESPACE"," ",208],["T_CONCAT_EQUAL",".=",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'Rollback'",208],";",["T_WHITESPACE","\n                ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_STRING","is_callable",209],"(",["T_VARIABLE","$fixture",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_applyOneFixture",210],"(",["T_VARIABLE","$fixture",210],")",";",["T_WHITESPACE","\n                ",210],"}",["T_WHITESPACE","\n            ",211],"}",["T_WHITESPACE"," ",212],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$fileInfo",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","pathinfo",213],"(",["T_VARIABLE","$fixture",213],")",";",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$extension",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],";",["T_WHITESPACE","\n                ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_ISSET","isset",215],"(",["T_VARIABLE","$fileInfo",215],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",215],"]",")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                    ",215],["T_VARIABLE","$extension",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'.'",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$fileInfo",216],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",216],"]",";",["T_WHITESPACE","\n                ",216],"}",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$rollbackScript",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$fileInfo",218],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",218],"]",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'\/'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$fileInfo",218],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",218],"]",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'_rollback'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$extension",218],";",["T_WHITESPACE","\n                ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_STRING","file_exists",219],"(",["T_VARIABLE","$rollbackScript",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_applyOneFixture",220],"(",["T_VARIABLE","$rollbackScript",220],")",";",["T_WHITESPACE","\n                ",220],"}",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_appliedFixtures",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],"[","]",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n",225],"}",["T_WHITESPACE","\n",226]]