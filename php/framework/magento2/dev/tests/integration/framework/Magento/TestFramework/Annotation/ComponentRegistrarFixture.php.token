[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TestFramework",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Annotation",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","RecursiveDirectoryIterator",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","RecursiveIteratorIterator",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","RegexIterator",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Implementation of the @magentoComponentsDir DocBlock annotation\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ComponentRegistrarFixture",16],["T_WHITESPACE","\n",16],"{",["T_WHITESPACE","\n    ",17],["T_DOC_COMMENT","\/**\n     * Annotation name\n     *\/",18],["T_WHITESPACE","\n    ",20],["T_CONST","const",21],["T_WHITESPACE"," ",21],["T_STRING","ANNOTATION_NAME",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'magentoComponentsDir'",21],";",["T_WHITESPACE","\n\n    ",21],["T_COMMENT","\/**#@+\n     * Properties of components registrar\n     *\/",23],["T_WHITESPACE","\n    ",25],["T_CONST","const",26],["T_WHITESPACE"," ",26],["T_STRING","REGISTRAR_CLASS",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Framework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Component",26],["T_NS_SEPARATOR","\\",26],["T_STRING","ComponentRegistrar",26],["T_DOUBLE_COLON","::",26],["T_CLASS","class",26],";",["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","PATHS_FIELD",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'paths'",27],";",["T_WHITESPACE","\n    ",27],["T_COMMENT","\/**#@-*\/",28],["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Fixtures base dir\n     *\n     * @var string\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$fixtureBaseDir",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Original values of registered components\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$origComponents",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","null",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param string $fixtureBaseDir\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_VARIABLE","$fixtureBaseDir",49],")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","fixtureBaseDir",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$fixtureBaseDir",51],";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Handler for 'startTest' event\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @return void\n     *\/",54],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","startTest",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","PHPUnit_Framework_TestCase",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$test",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","registerComponents",62],"(",["T_VARIABLE","$test",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Handler for 'endTest' event\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     * @return void\n     *\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",65],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","endTest",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","PHPUnit_Framework_TestCase",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$test",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","restoreComponents",75],"(",")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Register fixture components\n     *\n     * @param \\PHPUnit_Framework_TestCase $test\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PRIVATE","private",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","registerComponents",83],"(",["T_NS_SEPARATOR","\\",83],["T_STRING","PHPUnit_Framework_TestCase",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$test",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$annotations",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$test",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getAnnotations",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$componentAnnotations",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[","]",";",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_ISSET","isset",87],"(",["T_VARIABLE","$annotations",87],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",87],"]","[",["T_STRING","self",87],["T_DOUBLE_COLON","::",87],["T_STRING","ANNOTATION_NAME",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$componentAnnotations",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","array_merge",88],"(",["T_VARIABLE","$componentAnnotations",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$annotations",88],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",88],"]","[",["T_STRING","self",88],["T_DOUBLE_COLON","::",88],["T_STRING","ANNOTATION_NAME",88],"]",")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_ISSET","isset",90],"(",["T_VARIABLE","$annotations",90],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",90],"]","[",["T_STRING","self",90],["T_DOUBLE_COLON","::",90],["T_STRING","ANNOTATION_NAME",90],"]",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$componentAnnotations",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","array_merge",91],"(",["T_VARIABLE","$componentAnnotations",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$annotations",91],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",91],"]","[",["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","ANNOTATION_NAME",91],"]",")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_EMPTY","empty",93],"(",["T_VARIABLE","$componentAnnotations",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_RETURN","return",94],";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$componentAnnotations",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","array_unique",96],"(",["T_VARIABLE","$componentAnnotations",96],")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$reflection",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ReflectionClass",97],"(",["T_STRING","self",97],["T_DOUBLE_COLON","::",97],["T_STRING","REGISTRAR_CLASS",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$paths",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$reflection",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getProperty",98],"(",["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_STRING","PATHS_FIELD",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$paths",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setAccessible",99],"(",["T_STRING","true",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","origComponents",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$paths",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getValue",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$paths",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setAccessible",101],"(",["T_STRING","false",101],")",";",["T_WHITESPACE","\n        ",101],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$componentAnnotations",102],["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$fixturePath",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$fixturesDir",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","fixtureBaseDir",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'\/'",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_VARIABLE","$fixturePath",103],";",["T_WHITESPACE","\n            ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_STRING","file_exists",104],"(",["T_VARIABLE","$fixturesDir",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_THROW","throw",105],["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","InvalidArgumentException",105],"(",["T_WHITESPACE","\n                    ",105],["T_STRING","self",106],["T_DOUBLE_COLON","::",106],["T_STRING","ANNOTATION_NAME",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],"\"",["T_ENCAPSED_AND_WHITESPACE"," fixture '",106],["T_VARIABLE","$fixturePath",106],["T_ENCAPSED_AND_WHITESPACE","' does not exist",106],"\"",["T_WHITESPACE","\n                ",106],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$iterator",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","RegexIterator",109],"(",["T_WHITESPACE","\n                ",109],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","RecursiveIteratorIterator",110],"(",["T_WHITESPACE","\n                    ",110],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","RecursiveDirectoryIterator",111],"(",["T_VARIABLE","$fixturesDir",111],",",["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","FilesystemIterator",111],["T_DOUBLE_COLON","::",111],["T_STRING","SKIP_DOTS",111],")",["T_WHITESPACE","\n                ",111],")",",",["T_WHITESPACE","\n                ",112],["T_CONSTANT_ENCAPSED_STRING","'\/^.+\\\/registration\\.php$\/'",113],["T_WHITESPACE","\n            ",113],")",";",["T_WHITESPACE","\n            ",114],["T_DOC_COMMENT","\/**\n             * @var \\SplFileInfo $registrationFile\n             *\/",115],["T_WHITESPACE","\n            ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$iterator",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$registrationFile",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_REQUIRE","require",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$registrationFile",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getRealPath",119],"(",")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Restore registered components list to the original\n     *\/",124],["T_WHITESPACE","\n    ",126],["T_PRIVATE","private",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","restoreComponents",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_STRING","null",129],["T_WHITESPACE"," ",129],["T_IS_NOT_IDENTICAL","!==",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","origComponents",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$reflection",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_NS_SEPARATOR","\\",130],["T_STRING","ReflectionClass",130],"(",["T_STRING","self",130],["T_DOUBLE_COLON","::",130],["T_STRING","REGISTRAR_CLASS",130],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$paths",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$reflection",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getProperty",131],"(",["T_STRING","self",131],["T_DOUBLE_COLON","::",131],["T_STRING","PATHS_FIELD",131],")",";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$paths",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setAccessible",132],"(",["T_STRING","true",132],")",";",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$paths",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setValue",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","origComponents",133],")",";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$paths",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setAccessible",134],"(",["T_STRING","false",134],")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","origComponents",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","null",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n",137],"}",["T_WHITESPACE","\n",138]]