[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Workaround for decreasing memory consumption by cleaning up static properties\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Workaround",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cleanup",10],";",["T_WHITESPACE","\n\n",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Framework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ComponentRegistrar",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Framework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","App",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Utility",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Files",13],";",["T_WHITESPACE","\n\n",13],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","StaticProperties",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * Directories to clear static variables.\n     *\n     * Format: ['cleanableFolder' => ['pseudo-globs to match uncleanable subfolders']]\n     *\n     * @var array\n     *\/",17],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_cleanableFolders",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'\/dev\/tests\/integration\/framework'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],"[","]",",",["T_WHITESPACE","\n    ",25],"]",";",["T_WHITESPACE","\n\n    ",26],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$backupStaticVariables",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[","]",";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Classes to exclude from static variables cleaning\n     *\n     * @var array\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_classesToSkip",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],"[",["T_WHITESPACE","\n        ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","App",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ObjectManager",36],["T_DOUBLE_COLON","::",36],["T_CLASS","class",36],",",["T_WHITESPACE","\n        ",36],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","TestFramework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Bootstrap",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],",",["T_WHITESPACE","\n        ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","TestFramework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Event",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],",",["T_WHITESPACE","\n        ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","TestFramework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Event",39],["T_NS_SEPARATOR","\\",39],["T_STRING","PhpUnit",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],",",["T_WHITESPACE","\n        ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","TestFramework",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Annotation",40],["T_NS_SEPARATOR","\\",40],["T_STRING","AppIsolation",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],",",["T_WHITESPACE","\n        ",40],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","TestFramework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Workaround",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Cleanup",41],["T_NS_SEPARATOR","\\",41],["T_STRING","StaticProperties",41],["T_DOUBLE_COLON","::",41],["T_CLASS","class",41],",",["T_WHITESPACE","\n        ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Phrase",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],",",["T_WHITESPACE","\n    ",42],"]",";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$componentRegistrar",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","ComponentRegistrar",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Filesystem $filesystem *\/",51],["T_WHITESPACE","\n        ",51],["T_FOREACH","foreach",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$componentRegistrar",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getPaths",52],"(",["T_STRING","ComponentRegistrar",52],["T_DOUBLE_COLON","::",52],["T_STRING","MODULE",52],")",["T_WHITESPACE"," ",52],["T_AS","as",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$moduleDir",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$key",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$moduleDir",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\/'",53],";",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$value",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$key",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Test\/Unit\/'",54],";",["T_WHITESPACE","\n            ",54],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_VARIABLE","$_cleanableFolders",55],"[",["T_VARIABLE","$key",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[",["T_VARIABLE","$value",55],"]",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$componentRegistrar",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getPaths",57],"(",["T_STRING","ComponentRegistrar",57],["T_DOUBLE_COLON","::",57],["T_STRING","LIBRARY",57],")",["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$libraryDir",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$key",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$libraryDir",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'\/'",58],";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$valueRootFolder",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$key",59],["T_WHITESPACE"," ",59],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/Test\/Unit\/'",59],";",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$valueSubFolder",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$key",60],["T_WHITESPACE"," ",60],".",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\/*\/Test\/Unit\/'",60],";",["T_WHITESPACE","\n            ",60],["T_STRING","self",61],["T_DOUBLE_COLON","::",61],["T_VARIABLE","$_cleanableFolders",61],"[",["T_VARIABLE","$key",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[",["T_VARIABLE","$valueSubFolder",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$valueRootFolder",61],"]",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Check whether it is allowed to clean given class static variables\n     *\n     * @param \\ReflectionClass $reflectionClass\n     * @return bool\n     *\/",65],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_STATIC","static",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","_isClassCleanable",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","ReflectionClass",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$reflectionClass",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_COMMENT","\/\/ do not process blacklisted classes from integration framework\n",73],["T_WHITESPACE","        ",74],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_STRING","self",74],["T_DOUBLE_COLON","::",74],["T_VARIABLE","$_classesToSkip",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$notCleanableClass",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$reflectionClass",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getName",75],"(",")",["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$notCleanableClass",75],["T_WHITESPACE"," ",75],["T_BOOLEAN_OR","||",75],["T_WHITESPACE"," ",75],["T_STRING","is_subclass_of",75],"(",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$reflectionClass",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getName",76],"(",")",",",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$notCleanableClass",77],["T_WHITESPACE","\n            ",77],")",["T_WHITESPACE","\n            ",78],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_STRING","false",80],";",["T_WHITESPACE","\n            ",80],"}",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_STRING","true",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Check if class has to be backed up\n     *\n     * @param string $classFile\n     * @return bool\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_STATIC","static",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","_isClassInCleanableFolders",92],"(",["T_VARIABLE","$classFile",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$classFile",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","str_replace",94],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$classFile",94],")",";",["T_WHITESPACE","\n        ",94],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_VARIABLE","$_cleanableFolders",95],["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$include",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$excludeSet",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_STRING","stripos",96],"(",["T_VARIABLE","$classFile",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$include",96],")",["T_WHITESPACE"," ",96],["T_IS_NOT_IDENTICAL","!==",96],["T_WHITESPACE"," ",96],["T_STRING","false",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$excludeSet",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$exclude",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                    ",97],["T_VARIABLE","$excludeExp",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'#'",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_STRING","str_replace",98],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'[\\w]+'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$exclude",98],")",["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'#'",98],";",["T_WHITESPACE","\n                    ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","preg_match",99],"(",["T_VARIABLE","$excludeExp",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$classFile",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_STRING","false",100],";",["T_WHITESPACE"," ",100],["T_COMMENT","\/\/ File is in an \"include\" directory, but also an \"exclude\" subdirectory of it\n",100],["T_WHITESPACE","                    ",101],"}",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n                ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","true",103],";",["T_WHITESPACE"," ",103],["T_COMMENT","\/\/ File is in an \"include\" directory, and not in an \"exclude\" subdirectory of it\n",103],["T_WHITESPACE","            ",104],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","false",106],";",["T_WHITESPACE"," ",106],["T_COMMENT","\/\/ File is not in an \"include\" directory\n",106],["T_WHITESPACE","    ",107],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * @var \\ReflectionClass[]\n     *\/",109],["T_WHITESPACE","\n    ",111],["T_STATIC","static",112],["T_WHITESPACE"," ",112],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$classes",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * @param string $class\n     * @return \\ReflectionClass\n     *\/",114],["T_WHITESPACE","\n    ",117],["T_PRIVATE","private",118],["T_WHITESPACE"," ",118],["T_STATIC","static",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","getReflectionClass",118],"(",["T_VARIABLE","$class",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_ISSET","isset",120],"(",["T_STRING","self",120],["T_DOUBLE_COLON","::",120],["T_VARIABLE","$classes",120],"[",["T_VARIABLE","$class",120],"]",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_VARIABLE","$classes",121],"[",["T_VARIABLE","$class",121],"]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","ReflectionClass",121],"(",["T_VARIABLE","$class",121],")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","self",123],["T_DOUBLE_COLON","::",123],["T_VARIABLE","$classes",123],"[",["T_VARIABLE","$class",123],"]",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Restore static variables (after running controller test case)\n     * @TODO: refactor all code where objects are stored to static variables to use object manager instead\n     *\/",126],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_STATIC","static",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","restoreStaticVariables",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_STRING","array_keys",132],"(",["T_STRING","self",132],["T_DOUBLE_COLON","::",132],["T_VARIABLE","$backupStaticVariables",132],")",["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$class",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$reflectionClass",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_STRING","getReflectionClass",133],"(",["T_VARIABLE","$class",133],")",";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$staticProperties",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$reflectionClass",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getProperties",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","ReflectionProperty",134],["T_DOUBLE_COLON","::",134],["T_STRING","IS_STATIC",134],")",";",["T_WHITESPACE","\n            ",134],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$staticProperties",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$staticProperty",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$staticProperty",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setAccessible",136],"(",["T_STRING","true",136],")",";",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$staticProperty",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setValue",137],"(",["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_VARIABLE","$backupStaticVariables",137],"[",["T_VARIABLE","$class",137],"]","[",["T_VARIABLE","$staticProperty",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getName",137],"(",")","]",")",";",["T_WHITESPACE","\n            ",137],"}",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Backup static variables\n     *\n     *\/",142],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_STATIC","static",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","backupStaticVariables",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_STRING","count",148],"(",["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_VARIABLE","$backupStaticVariables",148],")",["T_WHITESPACE"," ",148],">",["T_WHITESPACE"," ",148],["T_LNUMBER","0",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_RETURN","return",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$classFiles",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","array_filter",151],"(",["T_WHITESPACE","\n            ",151],["T_STRING","Files",152],["T_DOUBLE_COLON","::",152],["T_STRING","init",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getPhpFiles",152],"(",["T_WHITESPACE","\n                ",152],["T_STRING","Files",153],["T_DOUBLE_COLON","::",153],["T_STRING","INCLUDE_APP_CODE",153],["T_WHITESPACE","\n                ",153],"|",["T_WHITESPACE"," ",154],["T_STRING","Files",154],["T_DOUBLE_COLON","::",154],["T_STRING","INCLUDE_LIBS",154],["T_WHITESPACE","\n                ",154],"|",["T_WHITESPACE"," ",155],["T_STRING","Files",155],["T_DOUBLE_COLON","::",155],["T_STRING","INCLUDE_TESTS",155],["T_WHITESPACE","\n            ",155],")",",",["T_WHITESPACE","\n            ",156],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$classFile",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_STRING","StaticProperties",158],["T_DOUBLE_COLON","::",158],["T_STRING","_isClassInCleanableFolders",158],"(",["T_VARIABLE","$classFile",158],")",["T_WHITESPACE","\n                ",158],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_STRING","strpos",159],"(",["T_STRING","file_get_contents",159],"(",["T_VARIABLE","$classFile",159],")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","' static '",159],")",["T_WHITESPACE","  ",159],">",["T_WHITESPACE"," ",159],["T_LNUMBER","0",159],";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n        ",160],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$namespacePattern",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'\/namespace [a-zA-Z0-9\\\\\\\\]+;\/'",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$classPattern",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'\/\\nclass [a-zA-Z0-9_]+\/'",163],";",["T_WHITESPACE","\n        ",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$classFiles",164],["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$classFile",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$code",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","file_get_contents",165],"(",["T_VARIABLE","$classFile",165],")",";",["T_WHITESPACE","\n            ",165],["T_STRING","preg_match",166],"(",["T_VARIABLE","$namespacePattern",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$code",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$namespace",166],")",";",["T_WHITESPACE","\n            ",166],["T_STRING","preg_match",167],"(",["T_VARIABLE","$classPattern",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$code",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$class",167],")",";",["T_WHITESPACE","\n            ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_ISSET","isset",168],"(",["T_VARIABLE","$namespace",168],"[",["T_LNUMBER","0",168],"]",")",["T_WHITESPACE"," ",168],["T_BOOLEAN_OR","||",168],["T_WHITESPACE"," ",168],"!",["T_ISSET","isset",168],"(",["T_VARIABLE","$class",168],"[",["T_LNUMBER","0",168],"]",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_CONTINUE","continue",169],";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE","\n            ",170],["T_COMMENT","\/\/ trim namespace and class name\n",171],["T_WHITESPACE","            ",172],["T_VARIABLE","$namespace",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","substr",172],"(",["T_VARIABLE","$namespace",172],"[",["T_LNUMBER","0",172],"]",",",["T_WHITESPACE"," ",172],["T_LNUMBER","10",172],",",["T_WHITESPACE"," ",172],["T_STRING","strlen",172],"(",["T_VARIABLE","$namespace",172],"[",["T_LNUMBER","0",172],"]",")",["T_WHITESPACE"," ",172],"-",["T_WHITESPACE"," ",172],["T_LNUMBER","11",172],")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$class",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","substr",173],"(",["T_VARIABLE","$class",173],"[",["T_LNUMBER","0",173],"]",",",["T_WHITESPACE"," ",173],["T_LNUMBER","7",173],",",["T_WHITESPACE"," ",173],["T_STRING","strlen",173],"(",["T_VARIABLE","$class",173],"[",["T_LNUMBER","0",173],"]",")",["T_WHITESPACE"," ",173],"-",["T_WHITESPACE"," ",173],["T_LNUMBER","7",173],")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$className",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$namespace",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$class",174],";",["T_WHITESPACE","\n\n            ",174],["T_TRY","try",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$reflectionClass",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","self",177],["T_DOUBLE_COLON","::",177],["T_STRING","getReflectionClass",177],"(",["T_VARIABLE","$className",177],")",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE"," ",178],["T_CATCH","catch",178],["T_WHITESPACE"," ",178],"(",["T_NS_SEPARATOR","\\",178],["T_STRING","Exception",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$e",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_CONTINUE","continue",179],";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","_isClassCleanable",181],"(",["T_VARIABLE","$reflectionClass",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$staticProperties",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$reflectionClass",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getProperties",182],"(",["T_NS_SEPARATOR","\\",182],["T_STRING","ReflectionProperty",182],["T_DOUBLE_COLON","::",182],["T_STRING","IS_STATIC",182],")",";",["T_WHITESPACE","\n                ",182],["T_FOREACH","foreach",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$staticProperties",183],["T_WHITESPACE"," ",183],["T_AS","as",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$staticProperty",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$staticProperty",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setAccessible",184],"(",["T_STRING","true",184],")",";",["T_WHITESPACE","\n                    ",184],["T_VARIABLE","$value",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$staticProperty",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getValue",185],"(",")",";",["T_WHITESPACE","\n                    ",185],["T_STRING","self",186],["T_DOUBLE_COLON","::",186],["T_VARIABLE","$backupStaticVariables",186],"[",["T_VARIABLE","$className",186],"]","[",["T_VARIABLE","$staticProperty",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getName",186],"(",")","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$value",186],";",["T_WHITESPACE","\n                ",186],"}",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n\n        ",188],"}",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Handler for 'startTestSuite' event\n     *\n     *\/",193],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","startTestSuite",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_EMPTY","empty",199],"(",["T_STRING","self",199],["T_DOUBLE_COLON","::",199],["T_VARIABLE","$backupStaticVariables",199],")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","backupStaticVariables",200],"(",")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Handler for 'endTestSuite' event\n     *\n     * @param \\PHPUnit_Framework_TestSuite $suite\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","endTestSuite",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","PHPUnit_Framework_TestSuite",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$suite",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$clearStatics",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","false",211],";",["T_WHITESPACE","\n        ",211],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$suite",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","tests",212],"(",")",["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$test",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$test",213],["T_WHITESPACE"," ",213],["T_INSTANCEOF","instanceof",213],["T_WHITESPACE"," ",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","TestFramework",213],["T_NS_SEPARATOR","\\",213],["T_STRING","TestCase",213],["T_NS_SEPARATOR","\\",213],["T_STRING","AbstractController",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$clearStatics",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","true",214],";",["T_WHITESPACE","\n                ",214],["T_BREAK","break",215],";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$clearStatics",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_STRING","self",219],["T_DOUBLE_COLON","::",219],["T_STRING","restoreStaticVariables",219],"(",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n",221],"}",["T_WHITESPACE","\n",222]]