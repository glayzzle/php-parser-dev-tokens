[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","MemoryLimitTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_PUBLIC","public",10],["T_WHITESPACE"," ",10],["T_FUNCTION","function",10],["T_WHITESPACE"," ",10],["T_STRING","testPrintHeader",10],"(",")",["T_WHITESPACE","\n    ",10],"{",["T_WHITESPACE","\n        ",11],["T_VARIABLE","$result",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MemoryLimit",12],["T_DOUBLE_COLON","::",12],["T_STRING","printHeader",12],"(",")",";",["T_WHITESPACE","\n        ",12],["T_VARIABLE","$this",13],["T_OBJECT_OPERATOR","->",13],["T_STRING","assertNotEmpty",13],"(",["T_VARIABLE","$result",13],")",";",["T_WHITESPACE","\n        ",13],["T_VARIABLE","$this",14],["T_OBJECT_OPERATOR","->",14],["T_STRING","assertStringEndsWith",14],"(",["T_STRING","PHP_EOL",14],",",["T_WHITESPACE"," ",14],["T_VARIABLE","$result",14],")",";",["T_WHITESPACE","\n    ",14],"}",["T_WHITESPACE","\n\n    ",15],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","testPrintStats",17],"(",")",["T_WHITESPACE","\n    ",17],"{",["T_WHITESPACE","\n        ",18],["T_VARIABLE","$object",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","_createObject",19],"(",["T_LNUMBER","0",19],",",["T_WHITESPACE"," ",19],["T_LNUMBER","0",19],")",";",["T_WHITESPACE","\n        ",19],["T_VARIABLE","$result",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$object",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","printStats",20],"(",")",";",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertContains",21],"(",["T_CONSTANT_ENCAPSED_STRING","'Memory usage (OS):'",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$result",21],")",";",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","assertContains",22],"(",["T_CONSTANT_ENCAPSED_STRING","'1.00M'",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$result",22],")",";",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","assertContains",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Estimated memory leak:'",23],",",["T_WHITESPACE"," ",23],["T_VARIABLE","$result",23],")",";",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertContains",24],"(",["T_CONSTANT_ENCAPSED_STRING","'reported by PHP'",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$result",24],")",";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertStringEndsWith",25],"(",["T_STRING","PHP_EOL",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$result",25],")",";",["T_WHITESPACE","\n\n        ",25],["T_VARIABLE","$object",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","_createObject",27],"(",["T_CONSTANT_ENCAPSED_STRING","'2M'",27],",",["T_WHITESPACE"," ",27],["T_LNUMBER","0",27],")",";",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","assertContains",28],"(",["T_CONSTANT_ENCAPSED_STRING","'50.00% of configured 2.00M limit'",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$object",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","printStats",28],"(",")",")",";",["T_WHITESPACE","\n\n        ",28],["T_VARIABLE","$object",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","_createObject",30],"(",["T_LNUMBER","0",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'500K'",30],")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertContains",31],"(",["T_CONSTANT_ENCAPSED_STRING","'% of configured 0.49M limit'",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$object",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","printStats",31],"(",")",")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testValidateUsage",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$object",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","_createObject",36],"(",["T_LNUMBER","0",36],",",["T_WHITESPACE"," ",36],["T_LNUMBER","0",36],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertNull",37],"(",["T_VARIABLE","$object",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","validateUsage",37],"(",")",")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @expectedException \\LogicException\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testValidateUsageException",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$object",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_createObject",45],"(",["T_CONSTANT_ENCAPSED_STRING","'500K'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'2M'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$object",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","validateUsage",46],"(",")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * @param string $memCap\n     * @param string $leakCap\n     * @return \\Magento\\TestFramework\\MemoryLimit\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","_createObject",54],"(",["T_VARIABLE","$memCap",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$leakCap",54],")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$helper",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMock",56],"(",["T_WHITESPACE","\n            ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","TestFramework",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Helper",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Memory",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],",",["T_WHITESPACE","\n            ",57],"[",["T_CONSTANT_ENCAPSED_STRING","'getRealMemoryUsage'",58],"]",",",["T_WHITESPACE","\n            ",58],"[","]",",",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","''",60],",",["T_WHITESPACE","\n            ",60],["T_STRING","false",61],["T_WHITESPACE","\n        ",61],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$helper",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","expects",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","any",63],"(",")",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","method",63],"(",["T_CONSTANT_ENCAPSED_STRING","'getRealMemoryUsage'",63],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","will",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","returnValue",63],"(",["T_LNUMBER","1024",63],["T_WHITESPACE"," ",63],"*",["T_WHITESPACE"," ",63],["T_LNUMBER","1024",63],")",")",";",["T_WHITESPACE","\n        ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","TestFramework",64],["T_NS_SEPARATOR","\\",64],["T_STRING","MemoryLimit",64],"(",["T_VARIABLE","$memCap",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$leakCap",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$helper",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n",65],"}",["T_WHITESPACE","\n",66]]