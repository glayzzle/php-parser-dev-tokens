[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","User",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\User\\Controller\\Adminhtml\\Auth\n *\n * @magentoAppArea adminhtml\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AuthTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestFramework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestCase",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractBackendController",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * Test form existence\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\Forgotpassword::execute\n     *\/",15],["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","testFormForgotpasswordAction",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","dispatch",21],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/forgotpassword'",21],")",";",["T_WHITESPACE","\n        ",21],["T_VARIABLE","$expected",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'Password Help'",22],";",["T_WHITESPACE","\n        ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","assertContains",23],"(",["T_VARIABLE","$expected",23],",",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","getResponse",23],"(",")",["T_OBJECT_OPERATOR","->",23],["T_STRING","getBody",23],"(",")",")",";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Test redirection to startup page after success password recovering posting\n     *\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\Forgotpassword::execute\n     * @magentoDbIsolation enabled\n     *\/",26],["T_WHITESPACE","\n    ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testForgotpasswordAction",32],"(",")",["T_WHITESPACE","\n    ",32],"{",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getRequest",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","setPostValue",34],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'test@test.com'",34],")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","dispatch",35],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/forgotpassword'",35],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertRedirect",36],"(",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","equalTo",37],"(",["T_WHITESPACE","\n                ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","TestFramework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Helper",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Bootstrap",38],["T_DOUBLE_COLON","::",38],["T_STRING","getObjectManager",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_WHITESPACE","\n                    ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Backend",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Helper",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Data",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],["T_WHITESPACE","\n                ",39],")",["T_OBJECT_OPERATOR","->",40],["T_STRING","getHomePageUrl",40],"(",")",["T_WHITESPACE","\n            ",40],")",["T_WHITESPACE","\n        ",41],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Test email sending for forgotPassword action\n     *\n     * @magentoAdminConfigFixture admin\/emails\/forgot_email_template admin_emails_forgot_email_template\n     * @magentoAdminConfigFixture admin\/emails\/forgot_email_identity general\n     * @magentoDataFixture Magento\/User\/_files\/user_with_role.php\n     *\/",45],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testEmailSendForgotPasswordAction",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$transportBuilderMock",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","prepareEmailMock",54],"(",["T_WHITESPACE","\n            ",54],["T_LNUMBER","1",55],",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'admin_emails_forgot_email_template'",56],",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'general'",57],["T_WHITESPACE","\n        ",57],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addMockToClass",59],"(",["T_VARIABLE","$transportBuilderMock",59],",",["T_WHITESPACE"," ",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","User",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","User",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getRequest",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","setPostValue",61],"(",["T_CONSTANT_ENCAPSED_STRING","'email'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'adminUser@example.com'",61],")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","dispatch",62],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/forgotpassword'",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertRedirect",63],"(",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","equalTo",64],"(",["T_WHITESPACE","\n                ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","TestFramework",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Helper",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Bootstrap",65],["T_DOUBLE_COLON","::",65],["T_STRING","getObjectManager",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","get",65],"(",["T_WHITESPACE","\n                    ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Backend",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Helper",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Data",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],["T_WHITESPACE","\n                ",66],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getHomePageUrl",67],"(",")",["T_WHITESPACE","\n            ",67],")",["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Test reset password action\n     *\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPassword::execute\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPassword::_validateResetPasswordLinkToken\n     * @magentoDataFixture Magento\/User\/_files\/dummy_user.php\n     *\/",72],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testResetPasswordAction",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_DOC_COMMENT","\/** @var $user \\Magento\\User\\Model\\User *\/",81],["T_WHITESPACE","\n        ",81],["T_VARIABLE","$user",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Magento",82],["T_NS_SEPARATOR","\\",82],["T_STRING","TestFramework",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Helper",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Bootstrap",82],["T_DOUBLE_COLON","::",82],["T_STRING","getObjectManager",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","create",82],"(",["T_WHITESPACE","\n            ",82],["T_NS_SEPARATOR","\\",83],["T_STRING","Magento",83],["T_NS_SEPARATOR","\\",83],["T_STRING","User",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Model",83],["T_NS_SEPARATOR","\\",83],["T_STRING","User",83],["T_DOUBLE_COLON","::",83],["T_CLASS","class",83],["T_WHITESPACE","\n        ",83],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","loadByUsername",84],"(",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'dummy_username'",85],["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertNotEmpty",87],"(",["T_VARIABLE","$user",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getId",87],"(",")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Broken fixture'",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$resetPasswordToken",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","TestFramework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Helper",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Bootstrap",88],["T_DOUBLE_COLON","::",88],["T_STRING","getObjectManager",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_WHITESPACE","\n            ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Magento",89],["T_NS_SEPARATOR","\\",89],["T_STRING","User",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Helper",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Data",89],["T_DOUBLE_COLON","::",89],["T_CLASS","class",89],["T_WHITESPACE","\n        ",89],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","generateResetPasswordLinkToken",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$user",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","changeResetPasswordLinkToken",91],"(",["T_VARIABLE","$resetPasswordToken",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$user",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",")",";",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getRequest",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","setQueryValue",94],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$resetPasswordToken",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","setQueryValue",94],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$user",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getId",94],"(",")",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","dispatch",95],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/resetpassword'",95],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEquals",97],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRequest",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getRouteName",97],"(",")",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertEquals",98],"(",["T_CONSTANT_ENCAPSED_STRING","'auth'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getRequest",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getControllerName",98],"(",")",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEquals",99],"(",["T_CONSTANT_ENCAPSED_STRING","'resetpassword'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getRequest",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getActionName",99],"(",")",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertTrue",100],"(",["T_BOOL_CAST","(bool)",100],["T_STRING","strpos",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getResponse",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","getBody",100],"(",")",",",["T_WHITESPACE"," ",100],["T_VARIABLE","$resetPasswordToken",100],")",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPassword::execute\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPassword::_validateResetPasswordLinkToken\n     *\/",103],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","testResetPasswordActionWithDummyToken",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getRequest",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","setQueryValue",109],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'dummy'",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","setQueryValue",109],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","1",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","dispatch",110],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/resetpassword'",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertSessionMessages",111],"(",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","equalTo",112],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Your password reset link has expired.'",112],"]",")",",",["T_WHITESPACE","\n            ",112],["T_NS_SEPARATOR","\\",113],["T_STRING","Magento",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Framework",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Message",113],["T_NS_SEPARATOR","\\",113],["T_STRING","MessageInterface",113],["T_DOUBLE_COLON","::",113],["T_STRING","TYPE_ERROR",113],["T_WHITESPACE","\n        ",113],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertRedirect",115],"(",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @dataProvider resetPasswordDataProvider\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPasswordPost::execute\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPasswordPost::_validateResetPasswordLinkToken\n     * @magentoDataFixture Magento\/User\/_files\/dummy_user.php\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","testResetPasswordPostAction",124],"(",["T_VARIABLE","$password",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$passwordConfirmation",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$isPasswordChanged",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$objectManager",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","TestFramework",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Helper",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Bootstrap",126],["T_DOUBLE_COLON","::",126],["T_STRING","getObjectManager",126],"(",")",";",["T_WHITESPACE","\n\n        ",126],["T_DOC_COMMENT","\/** @var $user \\Magento\\User\\Model\\User *\/",128],["T_WHITESPACE","\n        ",128],["T_VARIABLE","$user",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$objectManager",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","create",129],"(",["T_NS_SEPARATOR","\\",129],["T_STRING","Magento",129],["T_NS_SEPARATOR","\\",129],["T_STRING","User",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Model",129],["T_NS_SEPARATOR","\\",129],["T_STRING","User",129],["T_DOUBLE_COLON","::",129],["T_CLASS","class",129],")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$user",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","loadByUsername",130],"(",["T_CONSTANT_ENCAPSED_STRING","'dummy_username'",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertNotEmpty",131],"(",["T_VARIABLE","$user",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getId",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Broken fixture'",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_DOC_COMMENT","\/** @var \\Magento\\User\\Helper\\Data $helper *\/",133],["T_WHITESPACE","\n        ",133],["T_VARIABLE","$helper",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$objectManager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","get",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","User",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Helper",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Data",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],")",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$resetPasswordToken",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$helper",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","generateResetPasswordLinkToken",136],"(",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$user",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","changeResetPasswordLinkToken",137],"(",["T_VARIABLE","$resetPasswordToken",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$user",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","save",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$oldPassword",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$user",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getPassword",139],"(",")",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getRequest",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","setQueryValue",141],"(",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'token'",142],",",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$resetPasswordToken",143],["T_WHITESPACE","\n        ",143],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","setQueryValue",144],"(",["T_WHITESPACE","\n            ",144],["T_CONSTANT_ENCAPSED_STRING","'id'",145],",",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$user",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getId",146],"(",")",["T_WHITESPACE","\n        ",146],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","setPostValue",147],"(",["T_WHITESPACE","\n            ",147],["T_CONSTANT_ENCAPSED_STRING","'password'",148],",",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$password",149],["T_WHITESPACE","\n        ",149],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","setPostValue",150],"(",["T_WHITESPACE","\n            ",150],["T_CONSTANT_ENCAPSED_STRING","'confirmation'",151],",",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$passwordConfirmation",152],["T_WHITESPACE","\n        ",152],")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","dispatch",155],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/resetpasswordpost'",155],")",";",["T_WHITESPACE","\n\n        ",155],["T_DOC_COMMENT","\/** @var \\Magento\\Backend\\Helper\\Data $backendHelper *\/",157],["T_WHITESPACE","\n        ",157],["T_VARIABLE","$backendHelper",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$objectManager",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","get",158],"(",["T_NS_SEPARATOR","\\",158],["T_STRING","Magento",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Backend",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Helper",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Data",158],["T_DOUBLE_COLON","::",158],["T_CLASS","class",158],")",";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$isPasswordChanged",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertRedirect",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","equalTo",160],"(",["T_VARIABLE","$backendHelper",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getHomePageUrl",160],"(",")",")",")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE"," ",161],["T_ELSE","else",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertRedirect",162],"(",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","stringContains",163],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/resetpassword'",163],")",["T_WHITESPACE","\n            ",163],")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_DOC_COMMENT","\/** @var $user \\Magento\\User\\Model\\User *\/",167],["T_WHITESPACE","\n        ",167],["T_VARIABLE","$user",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$objectManager",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","create",168],"(",["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","User",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Model",168],["T_NS_SEPARATOR","\\",168],["T_STRING","User",168],["T_DOUBLE_COLON","::",168],["T_CLASS","class",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$user",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","loadByUsername",169],"(",["T_CONSTANT_ENCAPSED_STRING","'dummy_username'",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$isPasswordChanged",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Encryption\\EncryptorInterface $encryptor *\/",172],["T_WHITESPACE","\n            ",172],["T_VARIABLE","$encryptor",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$objectManager",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","get",173],"(",["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Framework",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Encryption",173],["T_NS_SEPARATOR","\\",173],["T_STRING","EncryptorInterface",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertTrue",174],"(",["T_VARIABLE","$encryptor",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","validateHash",174],"(",["T_VARIABLE","$password",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$user",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getPassword",174],"(",")",")",")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEquals",176],"(",["T_VARIABLE","$oldPassword",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$user",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getPassword",176],"(",")",")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","resetPasswordDataProvider",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$password",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","uniqid",182],"(",["T_CONSTANT_ENCAPSED_STRING","'123q'",182],")",";",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],"[",["T_WHITESPACE","\n            ",183],"[",["T_VARIABLE","$password",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$password",184],",",["T_WHITESPACE"," ",184],["T_STRING","true",184],"]",",",["T_WHITESPACE","\n            ",184],"[",["T_VARIABLE","$password",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],",",["T_WHITESPACE"," ",185],["T_STRING","false",185],"]",",",["T_WHITESPACE","\n            ",185],"[",["T_VARIABLE","$password",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$password",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'123'",186],",",["T_WHITESPACE"," ",186],["T_STRING","false",186],"]",",",["T_WHITESPACE","\n            ",186],"[",["T_CONSTANT_ENCAPSED_STRING","''",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","''",187],",",["T_WHITESPACE"," ",187],["T_STRING","false",187],"]",",",["T_WHITESPACE","\n            ",187],"[",["T_CONSTANT_ENCAPSED_STRING","''",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$password",188],",",["T_WHITESPACE"," ",188],["T_STRING","false",188],"]",["T_WHITESPACE","\n        ",188],"]",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPasswordPost::execute\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPasswordPost::_validateResetPasswordLinkToken\n     * @magentoDataFixture Magento\/User\/_files\/dummy_user.php\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","testResetPasswordPostActionWithDummyToken",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getRequest",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","setQueryValue",199],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'dummy'",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","setQueryValue",199],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",199],",",["T_WHITESPACE"," ",199],["T_LNUMBER","1",199],")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","dispatch",200],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/resetpasswordpost'",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertSessionMessages",201],"(",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","equalTo",202],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Your password reset link has expired.'",202],"]",")",",",["T_WHITESPACE","\n            ",202],["T_NS_SEPARATOR","\\",203],["T_STRING","Magento",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Framework",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Message",203],["T_NS_SEPARATOR","\\",203],["T_STRING","MessageInterface",203],["T_DOUBLE_COLON","::",203],["T_STRING","TYPE_ERROR",203],["T_WHITESPACE","\n        ",203],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$objectManager",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","TestFramework",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Helper",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Bootstrap",206],["T_DOUBLE_COLON","::",206],["T_STRING","getObjectManager",206],"(",")",";",["T_WHITESPACE","\n\n        ",206],["T_DOC_COMMENT","\/** @var \\Magento\\Backend\\Helper\\Data $backendHelper *\/",208],["T_WHITESPACE","\n        ",208],["T_VARIABLE","$backendHelper",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$objectManager",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","get",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Backend",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Helper",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Data",209],["T_DOUBLE_COLON","::",209],["T_CLASS","class",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertRedirect",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","equalTo",211],"(",["T_VARIABLE","$backendHelper",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getHomePageUrl",211],"(",")",")",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPasswordPost::execute\n     * @covers \\Magento\\User\\Controller\\Adminhtml\\Auth\\ResetPasswordPost::_validateResetPasswordLinkToken\n     * @magentoDataFixture Magento\/User\/_files\/dummy_user.php\n     *\/",214],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","testResetPasswordPostActionWithInvalidPassword",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$objectManager",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","TestFramework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Helper",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Bootstrap",221],["T_DOUBLE_COLON","::",221],["T_STRING","getObjectManager",221],"(",")",";",["T_WHITESPACE","\n\n        ",221],["T_VARIABLE","$user",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$objectManager",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","create",223],"(",["T_NS_SEPARATOR","\\",223],["T_STRING","Magento",223],["T_NS_SEPARATOR","\\",223],["T_STRING","User",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Model",223],["T_NS_SEPARATOR","\\",223],["T_STRING","User",223],["T_DOUBLE_COLON","::",223],["T_CLASS","class",223],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$user",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","loadByUsername",224],"(",["T_CONSTANT_ENCAPSED_STRING","'dummy_username'",224],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$resetPasswordToken",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","null",225],";",["T_WHITESPACE","\n        ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$user",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getId",226],"(",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_DOC_COMMENT","\/** @var \\Magento\\User\\Helper\\Data $userHelper *\/",227],["T_WHITESPACE","\n            ",227],["T_VARIABLE","$userHelper",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$objectManager",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","get",228],"(",["T_NS_SEPARATOR","\\",228],["T_STRING","Magento",228],["T_NS_SEPARATOR","\\",228],["T_STRING","User",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Helper",228],["T_NS_SEPARATOR","\\",228],["T_STRING","Data",228],["T_DOUBLE_COLON","::",228],["T_CLASS","class",228],")",";",["T_WHITESPACE","\n\n            ",228],["T_VARIABLE","$resetPasswordToken",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$userHelper",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","generateResetPasswordLinkToken",230],"(",")",";",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$user",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","changeResetPasswordLinkToken",231],"(",["T_VARIABLE","$resetPasswordToken",231],")",";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$user",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","save",232],"(",")",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$newDummyPassword",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'new_dummy_password2'",235],";",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getRequest",237],"(",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","setQueryValue",237],"(",["T_WHITESPACE","\n            ",237],["T_CONSTANT_ENCAPSED_STRING","'token'",238],",",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$resetPasswordToken",239],["T_WHITESPACE","\n        ",239],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","setQueryValue",240],"(",["T_WHITESPACE","\n            ",240],["T_CONSTANT_ENCAPSED_STRING","'id'",241],",",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$user",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getId",242],"(",")",["T_WHITESPACE","\n        ",242],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","setPostValue",243],"(",["T_WHITESPACE","\n            ",243],["T_CONSTANT_ENCAPSED_STRING","'password'",244],",",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$newDummyPassword",245],["T_WHITESPACE","\n        ",245],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","setPostValue",246],"(",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'confirmation'",247],",",["T_WHITESPACE","\n            ",247],["T_CONSTANT_ENCAPSED_STRING","'invalid'",248],["T_WHITESPACE","\n        ",248],")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","dispatch",251],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/auth\/resetpasswordpost'",251],")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertSessionMessages",253],"(",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","equalTo",254],"(","[",["T_CONSTANT_ENCAPSED_STRING","'Your password confirmation must match your password.'",254],"]",")",",",["T_WHITESPACE","\n            ",254],["T_NS_SEPARATOR","\\",255],["T_STRING","Magento",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Framework",255],["T_NS_SEPARATOR","\\",255],["T_STRING","Message",255],["T_NS_SEPARATOR","\\",255],["T_STRING","MessageInterface",255],["T_DOUBLE_COLON","::",255],["T_STRING","TYPE_ERROR",255],["T_WHITESPACE","\n        ",255],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertRedirect",257],"(",")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Prepare email mock to test emails\n     *\n     * @param int $occurrenceNumber\n     * @param string $templateId\n     * @param string $sender\n     * @return \\PHPUnit_Framework_MockObject_MockObject\n     *\/",260],["T_WHITESPACE","\n    ",267],["T_PROTECTED","protected",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","prepareEmailMock",268],"(",["T_VARIABLE","$occurrenceNumber",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$templateId",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$sender",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$transportMock",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getMock",270],"(",["T_WHITESPACE","\n            ",270],["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Mail",271],["T_NS_SEPARATOR","\\",271],["T_STRING","TransportInterface",271],["T_DOUBLE_COLON","::",271],["T_CLASS","class",271],",",["T_WHITESPACE","\n            ",271],"[",["T_CONSTANT_ENCAPSED_STRING","'sendMessage'",272],"]",["T_WHITESPACE","\n        ",272],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$transportMock",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","expects",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","exactly",274],"(",["T_VARIABLE","$occurrenceNumber",274],")",")",["T_WHITESPACE","\n            ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","method",275],"(",["T_CONSTANT_ENCAPSED_STRING","'sendMessage'",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$transportBuilderMock",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getMockBuilder",276],"(",["T_NS_SEPARATOR","\\",276],["T_STRING","Magento",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Framework",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Mail",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Template",276],["T_NS_SEPARATOR","\\",276],["T_STRING","TransportBuilder",276],["T_DOUBLE_COLON","::",276],["T_CLASS","class",276],")",["T_WHITESPACE","\n            ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","disableOriginalConstructor",277],"(",")",["T_WHITESPACE","\n            ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","setMethods",278],"(",["T_WHITESPACE","\n                ",278],"[",["T_WHITESPACE","\n                    ",279],["T_CONSTANT_ENCAPSED_STRING","'setTemplateModel'",280],",",["T_WHITESPACE","\n                    ",280],["T_CONSTANT_ENCAPSED_STRING","'addTo'",281],",",["T_WHITESPACE","\n                    ",281],["T_CONSTANT_ENCAPSED_STRING","'setFrom'",282],",",["T_WHITESPACE","\n                    ",282],["T_CONSTANT_ENCAPSED_STRING","'setTemplateIdentifier'",283],",",["T_WHITESPACE","\n                    ",283],["T_CONSTANT_ENCAPSED_STRING","'setTemplateVars'",284],",",["T_WHITESPACE","\n                    ",284],["T_CONSTANT_ENCAPSED_STRING","'setTemplateOptions'",285],",",["T_WHITESPACE","\n                    ",285],["T_CONSTANT_ENCAPSED_STRING","'getTransport'",286],["T_WHITESPACE","\n                ",286],"]",["T_WHITESPACE","\n            ",287],")",["T_WHITESPACE","\n            ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","getMock",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$transportBuilderMock",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","method",290],"(",["T_CONSTANT_ENCAPSED_STRING","'setTemplateIdentifier'",290],")",["T_WHITESPACE","\n            ",290],["T_OBJECT_OPERATOR","->",291],["T_STRING","with",291],"(",["T_VARIABLE","$templateId",291],")",["T_WHITESPACE","\n            ",291],["T_OBJECT_OPERATOR","->",292],["T_STRING","willReturnSelf",292],"(",")",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$transportBuilderMock",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","method",293],"(",["T_CONSTANT_ENCAPSED_STRING","'setTemplateModel'",293],")",["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","with",294],"(",["T_NS_SEPARATOR","\\",294],["T_STRING","Magento",294],["T_NS_SEPARATOR","\\",294],["T_STRING","Email",294],["T_NS_SEPARATOR","\\",294],["T_STRING","Model",294],["T_NS_SEPARATOR","\\",294],["T_STRING","BackendTemplate",294],["T_DOUBLE_COLON","::",294],["T_CLASS","class",294],")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","willReturnSelf",295],"(",")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$transportBuilderMock",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","method",296],"(",["T_CONSTANT_ENCAPSED_STRING","'setTemplateOptions'",296],")",["T_WHITESPACE","\n            ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","willReturnSelf",297],"(",")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$transportBuilderMock",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","method",298],"(",["T_CONSTANT_ENCAPSED_STRING","'setTemplateVars'",298],")",["T_WHITESPACE","\n            ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","willReturnSelf",299],"(",")",";",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$transportBuilderMock",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","method",300],"(",["T_CONSTANT_ENCAPSED_STRING","'setFrom'",300],")",["T_WHITESPACE","\n            ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","with",301],"(",["T_VARIABLE","$sender",301],")",["T_WHITESPACE","\n            ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","willReturnSelf",302],"(",")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$transportBuilderMock",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","method",303],"(",["T_CONSTANT_ENCAPSED_STRING","'addTo'",303],")",["T_WHITESPACE","\n            ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","willReturnSelf",304],"(",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$transportBuilderMock",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","expects",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","exactly",305],"(",["T_VARIABLE","$occurrenceNumber",305],")",")",["T_WHITESPACE","\n            ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","method",306],"(",["T_CONSTANT_ENCAPSED_STRING","'getTransport'",306],")",["T_WHITESPACE","\n            ",306],["T_OBJECT_OPERATOR","->",307],["T_STRING","willReturn",307],"(",["T_VARIABLE","$transportMock",307],")",";",["T_WHITESPACE","\n\n        ",307],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$transportBuilderMock",309],";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Add mocked object to environment\n     *\n     * @param \\PHPUnit_Framework_MockObject_MockObject $transportBuilderMock\n     * @param string $originalClassName\n     *\/",312],["T_WHITESPACE","\n    ",317],["T_PROTECTED","protected",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","addMockToClass",318],"(",["T_WHITESPACE","\n        ",318],["T_NS_SEPARATOR","\\",319],["T_STRING","PHPUnit_Framework_MockObject_MockObject",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$transportBuilderMock",319],",",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$originalClassName",320],["T_WHITESPACE","\n    ",320],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$userMock",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_objectManager",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","create",322],"(",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$originalClassName",323],",",["T_WHITESPACE","\n            ",323],"[",["T_CONSTANT_ENCAPSED_STRING","'transportBuilder'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$transportBuilderMock",324],"]",["T_WHITESPACE","\n        ",324],")",";",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$factoryMock",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getMockBuilder",326],"(",["T_NS_SEPARATOR","\\",326],["T_STRING","Magento",326],["T_NS_SEPARATOR","\\",326],["T_STRING","User",326],["T_NS_SEPARATOR","\\",326],["T_STRING","Model",326],["T_NS_SEPARATOR","\\",326],["T_STRING","UserFactory",326],["T_DOUBLE_COLON","::",326],["T_CLASS","class",326],")",["T_WHITESPACE","\n            ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","disableOriginalConstructor",327],"(",")",["T_WHITESPACE","\n            ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","setMethods",328],"(",["T_WHITESPACE","\n                ",328],"[",["T_WHITESPACE","\n                    ",329],["T_CONSTANT_ENCAPSED_STRING","'create'",330],["T_WHITESPACE","\n                ",330],"]",["T_WHITESPACE","\n            ",331],")",["T_WHITESPACE","\n            ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","getMock",333],"(",")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$factoryMock",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","method",334],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",334],")",["T_WHITESPACE","\n            ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","willReturn",335],"(",["T_VARIABLE","$userMock",335],")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_objectManager",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","addSharedInstance",336],"(",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$factoryMock",337],",",["T_WHITESPACE","\n            ",337],["T_NS_SEPARATOR","\\",338],["T_STRING","Magento",338],["T_NS_SEPARATOR","\\",338],["T_STRING","User",338],["T_NS_SEPARATOR","\\",338],["T_STRING","Model",338],["T_NS_SEPARATOR","\\",338],["T_STRING","UserFactory",338],["T_DOUBLE_COLON","::",338],["T_CLASS","class",338],["T_WHITESPACE","\n        ",338],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n",340],"}",["T_WHITESPACE","\n",341]]