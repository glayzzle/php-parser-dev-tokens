[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n *\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",6],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Persistent",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Observer",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * @magentoDataFixture Magento\/Persistent\/_files\/persistent.php\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","EmulateQuoteObserverTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$customerRepository",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Persistent\\Helper\\Session\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_persistentSessionHelper",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$_objectManager",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Persistent\\Observer\\EmulateQuoteObserver\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_observer",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_customerSession",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Model\\Session | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_checkoutSession",42],";",["T_WHITESPACE","\n\n    ",42],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","setUp",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_objectManager",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","TestFramework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Helper",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Bootstrap",46],["T_DOUBLE_COLON","::",46],["T_STRING","getObjectManager",46],"(",")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_customerSession",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_objectManager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Customer",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Session",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","customerRepository",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_objectManager",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","create",50],"(",["T_WHITESPACE","\n            ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Customer",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Api",51],["T_NS_SEPARATOR","\\",51],["T_STRING","CustomerRepositoryInterface",51],["T_DOUBLE_COLON","::",51],["T_CLASS","class",51],["T_WHITESPACE","\n        ",51],")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_checkoutSession",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getMockBuilder",54],"(",["T_WHITESPACE","\n            ",54],["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Checkout",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Session",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],["T_WHITESPACE","\n        ",55],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","disableOriginalConstructor",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","setMethods",56],"(","[","]",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","getMock",56],"(",")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_persistentSessionHelper",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_objectManager",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","create",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Magento",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Persistent",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Helper",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Session",58],["T_DOUBLE_COLON","::",58],["T_CLASS","class",58],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_observer",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_objectManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","create",60],"(",["T_WHITESPACE","\n            ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Persistent",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Observer",61],["T_NS_SEPARATOR","\\",61],["T_STRING","EmulateQuoteObserver",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],",",["T_WHITESPACE","\n            ",61],"[",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'customerRepository'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","customerRepository",63],",",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'checkoutSession'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_checkoutSession",64],",",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'persistentSession'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_persistentSessionHelper",65],["T_WHITESPACE","\n            ",65],"]",["T_WHITESPACE","\n        ",66],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store persistent\/options\/enabled 1\n     * @magentoConfigFixture current_store persistent\/options\/remember_enabled 1\n     * @magentoConfigFixture current_store persistent\/options\/remember_default 1\n     * @magentoAppArea frontend\n     * @magentoConfigFixture current_store persistent\/options\/shopping_cart 1\n     * @magentoConfigFixture current_store persistent\/options\/logout_clear 0\n     *\/",70],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testEmulateQuote",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$requestMock",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMockBuilder",80],"(",["T_WHITESPACE","\n            ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Framework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","App",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Request",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Http",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],["T_WHITESPACE","\n        ",81],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","disableOriginalConstructor",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","setMethods",82],"(",["T_WHITESPACE","\n            ",82],"[","]",["T_WHITESPACE","\n        ",83],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","getMock",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$requestMock",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","expects",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","once",85],"(",")",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'getFullActionName'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","will",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","returnValue",85],"(",["T_CONSTANT_ENCAPSED_STRING","'valid_action'",85],")",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$event",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Framework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Event",86],"(","[",["T_CONSTANT_ENCAPSED_STRING","'request'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$requestMock",86],"]",")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$observer",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Magento",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Framework",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Event",87],["T_NS_SEPARATOR","\\",87],["T_STRING","Observer",87],"(",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$observer",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setEvent",88],"(",["T_VARIABLE","$event",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_customerSession",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","loginById",90],"(",["T_LNUMBER","1",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$customer",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","customerRepository",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getById",92],"(",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_persistentSessionHelper",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSession",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getCustomerId",93],"(",")",["T_WHITESPACE","\n        ",93],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_checkoutSession",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","expects",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","once",95],"(",")",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","method",95],"(",["T_CONSTANT_ENCAPSED_STRING","'setCustomerData'",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","with",95],"(",["T_VARIABLE","$customer",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_customerSession",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","logout",96],"(",")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_observer",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","execute",98],"(",["T_VARIABLE","$observer",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n",99],"}",["T_WHITESPACE","\n",100]]