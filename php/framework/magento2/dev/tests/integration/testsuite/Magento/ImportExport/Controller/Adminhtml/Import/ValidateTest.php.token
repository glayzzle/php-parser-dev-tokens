[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Adminhtml",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Import",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @magentoAppArea adminhtml\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ValidateTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestFramework",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TestCase",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AbstractBackendController",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @dataProvider validationDataProvider\n     * @param string $fileName\n     * @param string $message\n     * @backupGlobals enabled\n     * @magentoDbIsolation enabled\n     *\/",15],["T_WHITESPACE","\n    ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testValidationReturn",22],"(",["T_VARIABLE","$fileName",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$message",22],")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","getRequest",24],"(",")",["T_OBJECT_OPERATOR","->",24],["T_STRING","setParam",24],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",24],",",["T_WHITESPACE"," ",24],["T_STRING","true",24],")",";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getRequest",25],"(",")",["T_OBJECT_OPERATOR","->",25],["T_STRING","setMethod",25],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",25],")",";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$_SERVER",26],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_X_REQUESTED_WITH'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'XMLHttpRequest'",26],";",["T_WHITESPACE","\n\n        ",26],["T_DOC_COMMENT","\/** @var $formKey \\Magento\\Framework\\Data\\Form\\FormKey *\/",28],["T_WHITESPACE","\n        ",28],["T_VARIABLE","$formKey",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","_objectManager",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","get",29],"(",["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Framework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Data",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Form",29],["T_NS_SEPARATOR","\\",29],["T_STRING","FormKey",29],["T_DOUBLE_COLON","::",29],["T_CLASS","class",29],")",";",["T_WHITESPACE","\n        ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getRequest",30],"(",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","setPostValue",30],"(",["T_CONSTANT_ENCAPSED_STRING","'form_key'",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$formKey",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getFormKey",30],"(",")",")",";",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getRequest",31],"(",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","setPostValue",31],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",31],")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getRequest",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","setPostValue",32],"(",["T_CONSTANT_ENCAPSED_STRING","'behavior'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'append'",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getRequest",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","setPostValue",33],"(",["T_CONSTANT_ENCAPSED_STRING","'_import_field_separator'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","','",33],")",";",["T_WHITESPACE","\n\n        ",33],["T_DOC_COMMENT","\/** @var \\Magento\\TestFramework\\App\\Filesystem $filesystem *\/",35],["T_WHITESPACE","\n        ",35],["T_VARIABLE","$filesystem",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","_objectManager",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","get",36],"(",["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Framework",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Filesystem",36],["T_DOUBLE_COLON","::",36],["T_CLASS","class",36],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$tmpDir",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$filesystem",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getDirectoryWrite",37],"(",["T_STRING","DirectoryList",37],["T_DOUBLE_COLON","::",37],["T_STRING","SYS_TMP",37],")",";",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$subDir",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","str_replace",38],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'_'",38],",",["T_WHITESPACE"," ",38],["T_CLASS_C","__CLASS__",38],")",";",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$tmpDir",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","create",39],"(",["T_VARIABLE","$subDir",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$target",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$tmpDir",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getAbsolutePath",40],"(","\"",["T_CURLY_OPEN","{",40],["T_VARIABLE","$subDir",40],"}",["T_ENCAPSED_AND_WHITESPACE","\/",40],["T_CURLY_OPEN","{",40],["T_VARIABLE","$fileName",40],"}","\"",")",";",["T_WHITESPACE","\n        ",40],["T_STRING","copy",41],"(",["T_DIR","__DIR__",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],"\"",["T_ENCAPSED_AND_WHITESPACE","\/_files\/",41],["T_CURLY_OPEN","{",41],["T_VARIABLE","$fileName",41],"}","\"",",",["T_WHITESPACE"," ",41],["T_VARIABLE","$target",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$_FILES",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'import_file'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[",["T_WHITESPACE","\n                ",44],["T_CONSTANT_ENCAPSED_STRING","'name'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$fileName",45],",",["T_WHITESPACE","\n                ",45],["T_CONSTANT_ENCAPSED_STRING","'type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'text\/csv'",46],",",["T_WHITESPACE","\n                ",46],["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$target",47],",",["T_WHITESPACE","\n                ",47],["T_CONSTANT_ENCAPSED_STRING","'error'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],",",["T_WHITESPACE","\n                ",48],["T_CONSTANT_ENCAPSED_STRING","'size'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","filesize",49],"(",["T_VARIABLE","$target",49],")",["T_WHITESPACE","\n            ",49],"]",["T_WHITESPACE","\n        ",50],"]",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_objectManager",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","configure",53],"(",["T_WHITESPACE","\n            ",53],"[",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'preferences'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],"[",["T_WHITESPACE","\n                    ",55],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Framework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","HTTP",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Adapter",56],["T_NS_SEPARATOR","\\",56],["T_STRING","FileTransferFactory",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE","\n                        ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","ImportExport",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Controller",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Adminhtml",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Import",57],["T_NS_SEPARATOR","\\",57],["T_STRING","HttpFactoryMock",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],["T_WHITESPACE","\n                ",57],"]",["T_WHITESPACE","\n            ",58],"]",["T_WHITESPACE","\n        ",59],")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","dispatch",62],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/import\/validate'",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertContains",64],"(",["T_VARIABLE","$message",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getResponse",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getBody",64],"(",")",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertNotContains",65],"(",["T_CONSTANT_ENCAPSED_STRING","'The file was not uploaded.'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getResponse",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getBody",65],"(",")",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertNotRegExp",66],"(",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'\/clear[^\\[]*\\[[^\\]]*(import_file|import_image_archive)[^\\]]*\\]\/m'",67],",",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getResponse",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getBody",68],"(",")",["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","validationDataProvider",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],"[",["T_WHITESPACE","\n            ",77],"[",["T_WHITESPACE","\n                ",78],["T_CONSTANT_ENCAPSED_STRING","'file_name'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'catalog_product.csv'",79],",",["T_WHITESPACE","\n                ",79],["T_CONSTANT_ENCAPSED_STRING","'message'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'File is valid'",80],["T_WHITESPACE","\n            ",80],"]",",",["T_WHITESPACE","\n            ",81],"[",["T_WHITESPACE","\n                ",82],["T_CONSTANT_ENCAPSED_STRING","'file_name'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'test.txt'",83],",",["T_WHITESPACE","\n                ",83],["T_CONSTANT_ENCAPSED_STRING","'message'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\\'txt\\' file extension is not supported'",84],["T_WHITESPACE","\n            ",84],"]",["T_WHITESPACE","\n        ",85],"]",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n",87],"}",["T_WHITESPACE","\n",88]]