[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Customer",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CustomerMetadataInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Customer",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Api",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CustomerRepositoryInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NoSuchEntityException",11],";",["T_WHITESPACE","\n\n",11],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","CustomerMetadataTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/** @var CustomerRepositoryInterface *\/",15],["T_WHITESPACE","\n    ",15],["T_PRIVATE","private",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$customerRepository",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/** @var CustomerMetadataInterface *\/",18],["T_WHITESPACE","\n    ",18],["T_PRIVATE","private",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$_service",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Api\\ExtensibleDataObjectConverter\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PRIVATE","private",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$_extensibleDataObjectConverter",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$objectManager",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFramework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Helper",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Bootstrap",28],["T_DOUBLE_COLON","::",28],["T_STRING","getObjectManager",28],"(",")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$objectManager",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","configure",29],"(",["T_WHITESPACE","\n            ",29],"[",["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Framework",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Api",30],["T_NS_SEPARATOR","\\",30],["T_STRING","ExtensionAttribute",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Config",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Reader",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n                    ",30],["T_CONSTANT_ENCAPSED_STRING","'arguments'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],"[",["T_WHITESPACE","\n                        ",31],["T_CONSTANT_ENCAPSED_STRING","'fileResolver'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'instance'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Customer",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","FileResolverStub",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],"]",",",["T_WHITESPACE","\n                    ",32],"]",",",["T_WHITESPACE","\n                ",33],"]",",",["T_WHITESPACE","\n            ",34],"]",["T_WHITESPACE","\n        ",35],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","customerRepository",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$objectManager",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","create",37],"(",["T_WHITESPACE","\n            ",37],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Customer",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Api",38],["T_NS_SEPARATOR","\\",38],["T_STRING","CustomerRepositoryInterface",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],["T_WHITESPACE","\n        ",38],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_service",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$objectManager",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","create",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Customer",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Api",40],["T_NS_SEPARATOR","\\",40],["T_STRING","CustomerMetadataInterface",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_extensibleDataObjectConverter",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$objectManager",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_WHITESPACE","\n            ",41],["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Api",42],["T_NS_SEPARATOR","\\",42],["T_STRING","ExtensibleDataObjectConverter",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],["T_WHITESPACE","\n        ",42],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testGetCustomAttributesMetadata",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$customAttributesMetadata",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_service",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getCustomAttributesMetadata",48],"(",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertCount",49],"(",["T_LNUMBER","0",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$customAttributesMetadata",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"Invalid number of attributes returned.\"",49],")",";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testGetNestedOptionsCustomAttributesMetadata",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$nestedOptionsAttribute",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'store_id'",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$customAttributesMetadata",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_service",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getAttributeMetadata",55],"(",["T_VARIABLE","$nestedOptionsAttribute",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$options",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$customAttributesMetadata",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getOptions",56],"(",")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$nestedOptionExists",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","false",57],";",["T_WHITESPACE","\n        ",57],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$options",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$option",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_STRING","strpos",59],"(",["T_VARIABLE","$option",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getLabel",59],"(",")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Main Website Store'",59],")",["T_WHITESPACE"," ",59],["T_IS_NOT_IDENTICAL","!==",59],["T_WHITESPACE"," ",59],["T_STRING","false",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertNotEmpty",60],"(",["T_VARIABLE","$option",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getOptions",60],"(",")",")",";",["T_WHITESPACE","\n                ",60],["T_COMMENT","\/\/Check nested option\n",61],["T_WHITESPACE","                ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertTrue",62],"(",["T_STRING","strpos",62],"(",["T_VARIABLE","$option",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getOptions",62],"(",")","[",["T_LNUMBER","0",62],"]",["T_OBJECT_OPERATOR","->",62],["T_STRING","getLabel",62],"(",")",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Default Store View'",62],")",["T_WHITESPACE"," ",62],["T_IS_NOT_IDENTICAL","!==",62],["T_WHITESPACE"," ",62],["T_STRING","false",62],")",";",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$nestedOptionExists",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","true",63],";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n        ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_VARIABLE","$nestedOptionExists",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","fail",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Nested attribute options were expected.'",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/attribute_user_defined_custom_attribute.php\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testGetCustomAttributesMetadataWithAttributeNamedCustomAttribute",74],"(",")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$customAttributesMetadata",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_service",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getCustomAttributesMetadata",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$expectedCustomAttributeCodeArray",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_attribute1'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'custom_attribute2'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'customer_image'",77],"]",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$actual",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[","]",";",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$customAttributesMetadata",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$attribute",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$actual",80],"[","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$attribute",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getAttributeCode",80],"(",")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$expectedCustomAttributeCodeArray",83],",",["T_WHITESPACE","\n            ",83],["T_STRING","array_intersect",84],"(",["T_VARIABLE","$expectedCustomAttributeCodeArray",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$actual",84],")",",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","\"Expected attributes not returned from the service.\"",85],["T_WHITESPACE","\n        ",85],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     *\/",89],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testGetCustomerAttributeMetadata",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_COMMENT","\/\/ Expect these attributes to exist but do not check the value\n",94],["T_WHITESPACE","        ",95],["T_VARIABLE","$expectAttrsWOutVals",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'created_at'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",95],"]",";",["T_WHITESPACE","\n\n        ",95],["T_COMMENT","\/\/ Expect these attributes to exist and check the value - values come from _files\/customer.php\n",97],["T_WHITESPACE","        ",98],["T_VARIABLE","$expectAttrsWithVals",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'id'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_LNUMBER","1",99],",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'website_id'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'store_id'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_LNUMBER","1",101],",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'group_id'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","1",102],",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'prefix'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Mr.'",103],",",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'firstname'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'John'",104],",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'middlename'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'A'",105],",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'lastname'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Smith'",106],",",["T_WHITESPACE","\n            ",106],["T_CONSTANT_ENCAPSED_STRING","'suffix'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Esq.'",107],",",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'email'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",108],",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'1'",109],",",["T_WHITESPACE","\n            ",109],["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'1'",110],",",["T_WHITESPACE","\n            ",110],["T_CONSTANT_ENCAPSED_STRING","'disable_auto_group_change'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],",",["T_WHITESPACE","\n            ",111],["T_CONSTANT_ENCAPSED_STRING","'taxvat'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'12'",112],",",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","'gender'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_LNUMBER","0",113],["T_WHITESPACE","\n        ",113],"]",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$customer",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","customerRepository",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getById",116],"(",["T_LNUMBER","1",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertNotNull",117],"(",["T_VARIABLE","$customer",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$attributes",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_extensibleDataObjectConverter",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","toFlatArray",119],"(",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$customer",120],",",["T_WHITESPACE","\n            ",120],"[","]",",",["T_WHITESPACE","\n            ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Customer",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Api",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Data",122],["T_NS_SEPARATOR","\\",122],["T_STRING","CustomerInterface",122],["T_DOUBLE_COLON","::",122],["T_CLASS","class",122],["T_WHITESPACE","\n        ",122],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertNotEmpty",124],"(",["T_VARIABLE","$attributes",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$attributes",126],["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attributeCode",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attributeValue",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertNotNull",127],"(",["T_VARIABLE","$attributeCode",127],")",";",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertNotNull",128],"(",["T_VARIABLE","$attributeValue",128],")",";",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$attributeMetadata",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_service",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getAttributeMetadata",129],"(",["T_VARIABLE","$attributeCode",129],")",";",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$attrMetadataCode",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$attributeMetadata",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getAttributeCode",130],"(",")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertSame",131],"(",["T_VARIABLE","$attributeCode",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$attrMetadataCode",131],")",";",["T_WHITESPACE","\n            ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","(",["T_VARIABLE","$key",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","array_search",132],"(",["T_VARIABLE","$attrMetadataCode",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$expectAttrsWOutVals",132],")",")",["T_WHITESPACE"," ",132],["T_IS_NOT_IDENTICAL","!==",132],["T_WHITESPACE"," ",132],["T_STRING","false",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_UNSET","unset",133],"(",["T_VARIABLE","$expectAttrsWOutVals",133],"[",["T_VARIABLE","$key",133],"]",")",";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE"," ",134],["T_ELSE","else",134],["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertArrayHasKey",135],"(",["T_VARIABLE","$attrMetadataCode",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$expectAttrsWithVals",135],")",";",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertSame",136],"(",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$expectAttrsWithVals",137],"[",["T_VARIABLE","$attrMetadataCode",137],"]",",",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$attributeValue",138],",",["T_WHITESPACE","\n                    ",138],"\"",["T_ENCAPSED_AND_WHITESPACE","Failed for ",139],["T_CURLY_OPEN","{",139],["T_VARIABLE","$attrMetadataCode",139],"}","\"",["T_WHITESPACE","\n                ",139],")",";",["T_WHITESPACE","\n                ",140],["T_UNSET","unset",141],"(",["T_VARIABLE","$expectAttrsWithVals",141],"[",["T_VARIABLE","$attrMetadataCode",141],"]",")",";",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEmpty",144],"(",["T_VARIABLE","$expectAttrsWOutVals",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertEmpty",145],"(",["T_VARIABLE","$expectAttrsWithVals",145],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testGetCustomerAttributeMetadataNoSuchEntity",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_TRY","try",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_service",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getAttributeMetadata",151],"(",["T_CONSTANT_ENCAPSED_STRING","'wrong_attribute_code'",151],")",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","fail",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected exception not thrown.'",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE"," ",153],["T_CATCH","catch",153],["T_WHITESPACE"," ",153],"(",["T_STRING","NoSuchEntityException",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$e",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEquals",154],"(",["T_WHITESPACE","\n                ",154],["T_CONSTANT_ENCAPSED_STRING","'No such entity with entityType = customer, attributeCode = wrong_attribute_code'",155],",",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$e",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getMessage",156],"(",")",["T_WHITESPACE","\n            ",156],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","testGetAttributes",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$formAttributesMetadata",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_service",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getAttributes",163],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_customer'",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertCount",164],"(",["T_LNUMBER","14",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$formAttributesMetadata",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"Invalid number of attributes for the specified form.\"",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_DOC_COMMENT","\/** Check some fields of one attribute metadata *\/",166],["T_WHITESPACE","\n        ",166],["T_VARIABLE","$attributeMetadata",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$formAttributesMetadata",167],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",167],"]",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertInstanceOf",168],"(",["T_NS_SEPARATOR","\\",168],["T_STRING","Magento",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Customer",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Model",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Data",168],["T_NS_SEPARATOR","\\",168],["T_STRING","AttributeMetadata",168],["T_DOUBLE_COLON","::",168],["T_CLASS","class",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$attributeMetadata",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEquals",169],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$attributeMetadata",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getAttributeCode",169],"(",")",",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'Attribute code is invalid'",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertNotEmpty",170],"(",["T_VARIABLE","$attributeMetadata",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getValidationRules",170],"(",")",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Validation rules are not set'",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertEquals",171],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$attributeMetadata",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","isSystem",171],"(",")",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'\"Is system\" field value is invalid'",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertEquals",172],"(",["T_CONSTANT_ENCAPSED_STRING","'40'",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$attributeMetadata",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getSortOrder",172],"(",")",",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'Sort order is invalid'",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","tearDown",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$objectManager",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","TestFramework",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Helper",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Bootstrap",177],["T_DOUBLE_COLON","::",177],["T_STRING","getObjectManager",177],"(",")",";",["T_WHITESPACE","\n\n        ",177],["T_COMMENT","\/* @var \\Magento\\Framework\\Config\\CacheInterface $cache *\/",179],["T_WHITESPACE","\n        ",179],["T_VARIABLE","$cache",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$objectManager",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","create",180],"(",["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Framework",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Config",180],["T_NS_SEPARATOR","\\",180],["T_STRING","CacheInterface",180],["T_DOUBLE_COLON","::",180],["T_CLASS","class",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$cache",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","remove",181],"(",["T_CONSTANT_ENCAPSED_STRING","'extension_attributes_config'",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n",182],"}",["T_WHITESPACE","\n",183]]