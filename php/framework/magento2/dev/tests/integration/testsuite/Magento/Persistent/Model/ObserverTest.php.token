[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Persistent",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Context",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @magentoDataFixture Magento\/Persistent\/_files\/persistent.php\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ObserverTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Helper\\View\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_customerViewHelper",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Escaper\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$_escaper",25],";",["T_WHITESPACE","\n\n    ",25],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$customerRepository",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Persistent\\Helper\\Session\n     *\/",32],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_persistentSessionHelper",35],";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_objectManager",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Persistent\\Model\\Observer\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_observer",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\Session\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_customerSession",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Checkout\\Model\\Session | \\PHPUnit_Framework_MockObject_MockObject\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_checkoutSession",55],";",["T_WHITESPACE","\n\n    ",55],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","setUp",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_objectManager",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","TestFramework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Helper",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Bootstrap",59],["T_DOUBLE_COLON","::",59],["T_STRING","getObjectManager",59],"(",")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_customerSession",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_objectManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Customer",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Model",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Session",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_customerViewHelper",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_objectManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","create",63],"(",["T_WHITESPACE","\n            ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Magento",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Customer",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Helper",64],["T_NS_SEPARATOR","\\",64],["T_STRING","View",64],["T_DOUBLE_COLON","::",64],["T_CLASS","class",64],["T_WHITESPACE","\n        ",64],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_escaper",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_objectManager",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","create",66],"(",["T_WHITESPACE","\n            ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Escaper",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],["T_WHITESPACE","\n        ",67],")",";",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","customerRepository",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_objectManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","create",70],"(",["T_WHITESPACE","\n            ",70],["T_NS_SEPARATOR","\\",71],["T_STRING","Magento",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Customer",71],["T_NS_SEPARATOR","\\",71],["T_STRING","Api",71],["T_NS_SEPARATOR","\\",71],["T_STRING","CustomerRepositoryInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],["T_WHITESPACE","\n        ",71],")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_checkoutSession",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getMockBuilder",74],"(",["T_WHITESPACE","\n            ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Magento",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Checkout",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Model",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Session",75],["T_DOUBLE_COLON","::",75],["T_CLASS","class",75],["T_WHITESPACE","\n        ",75],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","disableOriginalConstructor",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","setMethods",76],"(","[","]",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getMock",76],"(",")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_persistentSessionHelper",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_objectManager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","create",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Persistent",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Helper",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Session",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_observer",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_objectManager",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","create",80],"(",["T_WHITESPACE","\n            ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Persistent",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Model",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Observer",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],",",["T_WHITESPACE","\n            ",81],"[",["T_WHITESPACE","\n                ",82],["T_CONSTANT_ENCAPSED_STRING","'escaper'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_escaper",83],",",["T_WHITESPACE","\n                ",83],["T_CONSTANT_ENCAPSED_STRING","'customerViewHelper'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_customerViewHelper",84],",",["T_WHITESPACE","\n                ",84],["T_CONSTANT_ENCAPSED_STRING","'customerRepository'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","customerRepository",85],",",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'checkoutSession'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_checkoutSession",86],["T_WHITESPACE","\n            ",86],"]",["T_WHITESPACE","\n        ",87],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * @magentoConfigFixture current_store persistent\/options\/enabled 1\n     * @magentoConfigFixture current_store persistent\/options\/remember_enabled 1\n     * @magentoConfigFixture current_store persistent\/options\/remember_default 1\n     * @magentoAppArea frontend\n     * @magentoAppIsolation enabled\n     *\/",91],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","testEmulateWelcomeBlock",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_customerSession",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","loginById",100],"(",["T_LNUMBER","1",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$httpContext",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Magento",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Framework",102],["T_NS_SEPARATOR","\\",102],["T_STRING","App",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Http",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Context",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$httpContext",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setValue",103],"(",["T_STRING","Context",103],["T_DOUBLE_COLON","::",103],["T_STRING","CONTEXT_AUTH",103],",",["T_WHITESPACE"," ",103],["T_LNUMBER","1",103],",",["T_WHITESPACE"," ",103],["T_LNUMBER","1",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$block",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_objectManager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","create",104],"(",["T_WHITESPACE","\n            ",104],["T_NS_SEPARATOR","\\",105],["T_STRING","Magento",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Sales",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Block",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Reorder",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Sidebar",105],["T_DOUBLE_COLON","::",105],["T_CLASS","class",105],",",["T_WHITESPACE","\n            ",105],"[",["T_WHITESPACE","\n                ",106],["T_CONSTANT_ENCAPSED_STRING","'httpContext'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$httpContext",107],["T_WHITESPACE","\n            ",107],"]",["T_WHITESPACE","\n        ",108],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_observer",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","emulateWelcomeBlock",110],"(",["T_VARIABLE","$block",110],")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$customerName",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_escaper",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","escapeHtml",111],"(",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_customerViewHelper",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getCustomerName",112],"(",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","customerRepository",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getById",113],"(",["T_WHITESPACE","\n                    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_persistentSessionHelper",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getSession",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getCustomerId",114],"(",")",["T_WHITESPACE","\n                ",114],")",["T_WHITESPACE","\n            ",115],")",["T_WHITESPACE","\n        ",116],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$translation",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","__",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Welcome, %1!'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$customerName",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertStringMatchesFormat",119],"(",["T_CONSTANT_ENCAPSED_STRING","'%A'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$translation",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'%A'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$block",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getWelcome",119],"(",")",")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_customerSession",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","logout",120],"(",")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n",122]]