[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Backend",6],["T_NS_SEPARATOR","\\",6],["T_STRING","App",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Backend\\App\\AbstractAction.\n * @magentoAppArea adminhtml\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","AbstractActionTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestCase",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractBackendController",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Check redirection to startup page for logged user\n     * @magentoConfigFixture current_store admin\/security\/use_form_key 1\n     * @magentoAppIsolation enabled\n     *\/",14],["T_WHITESPACE","\n    ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","testPreDispatchWithEmptyUrlRedirectsToStartupPage",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","markTestSkipped",21],"(",["T_CONSTANT_ENCAPSED_STRING","'Session destruction doesn\\'t work'",21],")",";",["T_WHITESPACE","\n        ",21],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","TestFramework",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Helper",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Bootstrap",22],["T_DOUBLE_COLON","::",22],["T_STRING","getObjectManager",22],"(",")",["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_WHITESPACE","\n            ",22],["T_NS_SEPARATOR","\\",23],["T_STRING","Magento",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Framework",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Config",23],["T_NS_SEPARATOR","\\",23],["T_STRING","ScopeInterface",23],["T_DOUBLE_COLON","::",23],["T_CLASS","class",23],["T_WHITESPACE","\n        ",23],")",["T_OBJECT_OPERATOR","->",24],["T_STRING","setCurrentScope",24],"(",["T_WHITESPACE","\n            ",24],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Backend",25],["T_NS_SEPARATOR","\\",25],["T_STRING","App",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Area",25],["T_NS_SEPARATOR","\\",25],["T_STRING","FrontNameResolver",25],["T_DOUBLE_COLON","::",25],["T_STRING","AREA_CODE",25],["T_WHITESPACE","\n        ",25],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","dispatch",27],"(",["T_CONSTANT_ENCAPSED_STRING","'backend'",27],")",";",["T_WHITESPACE","\n        ",27],["T_DOC_COMMENT","\/** @var $backendUrlModel \\Magento\\Backend\\Model\\UrlInterface *\/",28],["T_WHITESPACE","\n        ",28],["T_VARIABLE","$backendUrlModel",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","TestFramework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Helper",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Bootstrap",29],["T_DOUBLE_COLON","::",29],["T_STRING","getObjectManager",29],"(",")",["T_OBJECT_OPERATOR","->",29],["T_STRING","get",29],"(",["T_WHITESPACE","\n            ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Backend",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Model",30],["T_NS_SEPARATOR","\\",30],["T_STRING","UrlInterface",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],["T_WHITESPACE","\n        ",30],")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$url",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$backendUrlModel",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getStartupPageUrl",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$expected",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$backendUrlModel",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getUrl",33],"(",["T_VARIABLE","$url",33],")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertRedirect",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","stringStartsWith",34],"(",["T_VARIABLE","$expected",34],")",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Check login redirection\n     *\n     * @magentoDbIsolation enabled\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testInitAuthentication",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_DOC_COMMENT","\/**\n         * Logout current session\n         *\/",44],["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_auth",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","logout",47],"(",")",";",["T_WHITESPACE","\n\n        ",47],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form\\FormKey $formKey *\/",49],["T_WHITESPACE","\n        ",49],["T_VARIABLE","$formKey",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_objectManager",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Framework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Data",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Form",50],["T_NS_SEPARATOR","\\",50],["T_STRING","FormKey",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$postLogin",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'login'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n                ",52],["T_CONSTANT_ENCAPSED_STRING","'username'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Magento",53],["T_NS_SEPARATOR","\\",53],["T_STRING","TestFramework",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Bootstrap",53],["T_DOUBLE_COLON","::",53],["T_STRING","ADMIN_NAME",53],",",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'password'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","TestFramework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Bootstrap",54],["T_DOUBLE_COLON","::",54],["T_STRING","ADMIN_PASSWORD",54],",",["T_WHITESPACE","\n            ",54],"]",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'form_key'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$formKey",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getFormKey",56],"(",")",",",["T_WHITESPACE","\n        ",56],"]",";",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getRequest",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","setPostValue",59],"(",["T_VARIABLE","$postLogin",59],")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","dispatch",60],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/system_account\/index'",60],")",";",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$expected",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/system_account\/index'",62],";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertRedirect",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","stringContains",63],"(",["T_VARIABLE","$expected",63],")",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Check layout attribute \"acl\" for check access to\n     *\n     * @param string $blockName\n     * @param string $resource\n     * @param bool $isLimitedAccess\n     * @dataProvider nodesWithAcl\n     *\/",66],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testAclInNodes",74],"(",["T_VARIABLE","$blockName",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$resource",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$isLimitedAccess",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_DOC_COMMENT","\/** @var $noticeInbox \\Magento\\AdminNotification\\Model\\Inbox *\/",76],["T_WHITESPACE","\n        ",76],["T_VARIABLE","$noticeInbox",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","TestFramework",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Helper",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Bootstrap",77],["T_DOUBLE_COLON","::",77],["T_STRING","getObjectManager",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","create",77],"(",["T_WHITESPACE","\n            ",77],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","AdminNotification",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Inbox",78],["T_DOUBLE_COLON","::",78],["T_CLASS","class",78],["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_VARIABLE","$noticeInbox",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","loadLatestNotice",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$noticeInbox",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","addCritical",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Test notice'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Test description'",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_auth",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","login",84],"(",["T_WHITESPACE","\n            ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","TestFramework",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Bootstrap",85],["T_DOUBLE_COLON","::",85],["T_STRING","ADMIN_NAME",85],",",["T_WHITESPACE","\n            ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","TestFramework",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Bootstrap",86],["T_DOUBLE_COLON","::",86],["T_STRING","ADMIN_PASSWORD",86],["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n\n        ",87],["T_DOC_COMMENT","\/** @var $acl \\Magento\\Framework\\Acl *\/",89],["T_WHITESPACE","\n        ",89],["T_VARIABLE","$acl",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","TestFramework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Helper",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Bootstrap",90],["T_DOUBLE_COLON","::",90],["T_STRING","getObjectManager",90],"(",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Acl",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Builder",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","getAcl",92],"(",")",";",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$isLimitedAccess",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$acl",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","deny",94],"(",["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$resource",94],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","dispatch",97],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/admin\/dashboard'",97],")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$layout",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Magento",99],["T_NS_SEPARATOR","\\",99],["T_STRING","TestFramework",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Helper",99],["T_NS_SEPARATOR","\\",99],["T_STRING","Bootstrap",99],["T_DOUBLE_COLON","::",99],["T_STRING","getObjectManager",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","get",99],"(",["T_WHITESPACE","\n            ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Magento",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Framework",100],["T_NS_SEPARATOR","\\",100],["T_STRING","View",100],["T_NS_SEPARATOR","\\",100],["T_STRING","LayoutInterface",100],["T_DOUBLE_COLON","::",100],["T_CLASS","class",100],["T_WHITESPACE","\n        ",100],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$actualBlocks",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$layout",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getAllBlocks",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertNotEmpty",104],"(",["T_VARIABLE","$actualBlocks",104],")",";",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$isLimitedAccess",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertNotContains",106],"(",["T_VARIABLE","$blockName",106],",",["T_WHITESPACE"," ",106],["T_STRING","array_keys",106],"(",["T_VARIABLE","$actualBlocks",106],")",")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE"," ",107],["T_ELSE","else",107],["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertContains",108],"(",["T_VARIABLE","$blockName",108],",",["T_WHITESPACE"," ",108],["T_STRING","array_keys",108],"(",["T_VARIABLE","$actualBlocks",108],")",")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Data provider with expected blocks with acl properties\n     *\n     * @return array\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","nodesWithAcl",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],"[",["T_WHITESPACE","\n            ",119],"[",["T_CONSTANT_ENCAPSED_STRING","'notification_window'",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'Magento_AdminNotification::show_toolbar'",120],",",["T_WHITESPACE"," ",120],["T_STRING","true",120],"]",",",["T_WHITESPACE","\n            ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'notification_window'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Magento_AdminNotification::show_toolbar'",121],",",["T_WHITESPACE"," ",121],["T_STRING","false",121],"]",["T_WHITESPACE","\n        ",121],"]",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n",123],"}",["T_WHITESPACE","\n",124]]