[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Multishipping",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Checkout",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Type",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Bootstrap",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @magentoAppArea frontend\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MultishippingTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_CONST","const",15],["T_WHITESPACE"," ",15],["T_STRING","ADDRESS_TYPE_SHIPPING",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'shipping'",15],";",["T_WHITESPACE","\n\n    ",15],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","ADDRESS_TYPE_BILLING",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'billing'",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/** @var \\Magento\\Multishipping\\Model\\Checkout\\Type\\Multishipping *\/",19],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_multishippingCheckout",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\AddressRepositoryInterface\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$addressRepository",25],";",["T_WHITESPACE","\n\n    ",25],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE","\n    ",27],"{",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","_multishippingCheckout",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","Bootstrap",29],["T_DOUBLE_COLON","::",29],["T_STRING","getObjectManager",29],"(",")",["T_OBJECT_OPERATOR","->",29],["T_STRING","create",29],"(",["T_WHITESPACE","\n            ",29],["T_NS_SEPARATOR","\\",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Multishipping",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Model",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Checkout",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Type",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Multishipping",30],["T_DOUBLE_COLON","::",30],["T_CLASS","class",30],["T_WHITESPACE","\n        ",30],")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","addressRepository",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","Bootstrap",32],["T_DOUBLE_COLON","::",32],["T_STRING","getObjectManager",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","create",32],"(",["T_WHITESPACE","\n            ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Customer",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Api",33],["T_NS_SEPARATOR","\\",33],["T_STRING","AddressRepositoryInterface",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],["T_WHITESPACE","\n        ",33],")",";",["T_WHITESPACE","\n        ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","setUp",35],"(",")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Test case when default billing and shipping addresses are set and they are different.\n     *\n     * @param string $addressType\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDataFixture Magento\/Customer\/_files\/customer_two_addresses.php\n     * @magentoAppIsolation enabled\n     * @dataProvider getCustomerDefaultAddressDataProvider\n     *\/",38],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testGetCustomerDefaultAddress",47],"(",["T_VARIABLE","$addressType",47],")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_DOC_COMMENT","\/**\n         * Preconditions:\n         * - second address is default address of {$addressType},\n         * - current customer is set to customer session\n         *\/",49],["T_WHITESPACE","\n        ",53],["T_VARIABLE","$fixtureCustomerId",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$secondFixtureAddressId",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_LNUMBER","2",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$secondFixtureAddressStreet",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'Black str, 48'",56],"]",";",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customer *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$customer",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","Bootstrap",58],["T_DOUBLE_COLON","::",58],["T_STRING","getObjectManager",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","create",58],"(",["T_WHITESPACE","\n            ",58],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Customer",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Customer",59],["T_DOUBLE_COLON","::",59],["T_CLASS","class",59],["T_WHITESPACE","\n        ",59],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","load",60],"(",["T_VARIABLE","$fixtureCustomerId",60],")",";",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$addressType",61],["T_WHITESPACE"," ",61],["T_IS_EQUAL","==",61],["T_WHITESPACE"," ",61],["T_STRING","self",61],["T_DOUBLE_COLON","::",61],["T_STRING","ADDRESS_TYPE_SHIPPING",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$customer",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setDefaultShipping",62],"(",["T_VARIABLE","$secondFixtureAddressId",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","save",62],"(",")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE"," ",63],["T_ELSE","else",63],["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_COMMENT","\/\/ billing\n",64],["T_WHITESPACE","            ",65],["T_VARIABLE","$customer",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setDefaultBilling",65],"(",["T_VARIABLE","$secondFixtureAddressId",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Session $customerSession *\/",67],["T_WHITESPACE","\n        ",67],["T_VARIABLE","$customerSession",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","Bootstrap",68],["T_DOUBLE_COLON","::",68],["T_STRING","getObjectManager",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_NS_SEPARATOR","\\",68],["T_STRING","Magento",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Customer",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Model",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Session",68],["T_DOUBLE_COLON","::",68],["T_CLASS","class",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$customerSession",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setCustomer",69],"(",["T_VARIABLE","$customer",69],")",";",["T_WHITESPACE","\n\n        ",69],["T_DOC_COMMENT","\/** Execute SUT *\/",71],["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$addressType",72],["T_WHITESPACE"," ",72],["T_IS_EQUAL","==",72],["T_WHITESPACE"," ",72],["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","ADDRESS_TYPE_SHIPPING",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$addressId",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_multishippingCheckout",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getCustomerDefaultShippingAddress",73],"(",")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE"," ",74],["T_ELSE","else",74],["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_COMMENT","\/\/ billing\n",75],["T_WHITESPACE","            ",76],["T_VARIABLE","$addressId",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_multishippingCheckout",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getCustomerDefaultBillingAddress",76],"(",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$address",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","addressRepository",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getById",78],"(",["T_VARIABLE","$addressId",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertInstanceOf",80],"(",["T_WHITESPACE","\n            ",80],["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Customer",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Api",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Data",81],["T_NS_SEPARATOR","\\",81],["T_STRING","AddressInterface",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],",",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$address",82],",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","\"Address was not loaded.\"",83],["T_WHITESPACE","\n        ",83],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEquals",85],"(",["T_VARIABLE","$secondFixtureAddressId",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$address",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getId",85],"(",")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","\"Invalid address loaded.\"",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEquals",86],"(",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$secondFixtureAddressStreet",87],",",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$address",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getStreet",88],"(",")",",",["T_WHITESPACE","\n            ",88],"\"",["T_ENCAPSED_AND_WHITESPACE","Street in default ",89],["T_CURLY_OPEN","{",89],["T_VARIABLE","$addressType",89],"}",["T_ENCAPSED_AND_WHITESPACE"," address is invalid.",89],"\"",["T_WHITESPACE","\n        ",89],")",";",["T_WHITESPACE","\n\n        ",90],["T_DOC_COMMENT","\/** Ensure that results are cached properly by changing default address and invoking SUT once again *\/",92],["T_WHITESPACE","\n        ",92],["T_VARIABLE","$firstFixtureAddressId",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],";",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$addressType",94],["T_WHITESPACE"," ",94],["T_IS_EQUAL","==",94],["T_WHITESPACE"," ",94],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","ADDRESS_TYPE_SHIPPING",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$customer",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setDefaultShipping",95],"(",["T_VARIABLE","$firstFixtureAddressId",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$addressId",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_multishippingCheckout",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCustomerDefaultShippingAddress",96],"(",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE"," ",97],["T_ELSE","else",97],["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_COMMENT","\/\/ billing\n",98],["T_WHITESPACE","            ",99],["T_VARIABLE","$customer",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setDefaultBilling",99],"(",["T_VARIABLE","$firstFixtureAddressId",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","save",99],"(",")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$addressId",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_multishippingCheckout",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getCustomerDefaultBillingAddress",100],"(",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$address",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","addressRepository",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getById",102],"(",["T_VARIABLE","$addressId",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEquals",104],"(",["T_VARIABLE","$secondFixtureAddressId",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$address",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getId",104],"(",")",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"Method results are not cached properly.\"",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Test case when customer has addresses, but default {$addressType} address is not set.\n     *\n     * @param string $addressType\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDataFixture Magento\/Customer\/_files\/customer_two_addresses.php\n     * @magentoAppIsolation enabled\n     * @dataProvider getCustomerDefaultAddressDataProvider\n     *\/",107],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","testGetCustomerDefaultAddressDefaultAddressNotSet",116],"(",["T_VARIABLE","$addressType",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_DOC_COMMENT","\/**\n         * Preconditions:\n         * - customer has addresses, but default address of {$addressType} is not set\n         * - current customer is set to customer session\n         *\/",118],["T_WHITESPACE","\n        ",122],["T_VARIABLE","$fixtureCustomerId",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$firstFixtureAddressId",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_LNUMBER","1",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$firstFixtureAddressStreet",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'Green str, 67'",125],"]",";",["T_WHITESPACE","\n        ",125],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customer *\/",126],["T_WHITESPACE","\n        ",126],["T_VARIABLE","$customer",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","Bootstrap",127],["T_DOUBLE_COLON","::",127],["T_STRING","getObjectManager",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","create",127],"(",["T_WHITESPACE","\n            ",127],["T_NS_SEPARATOR","\\",128],["T_STRING","Magento",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Customer",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Model",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Customer",128],["T_DOUBLE_COLON","::",128],["T_CLASS","class",128],["T_WHITESPACE","\n        ",128],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","load",129],"(",["T_VARIABLE","$fixtureCustomerId",129],")",";",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$addressType",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_STRING","self",130],["T_DOUBLE_COLON","::",130],["T_STRING","ADDRESS_TYPE_SHIPPING",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$customer",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setDefaultShipping",131],"(",["T_STRING","null",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","save",131],"(",")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE"," ",132],["T_ELSE","else",132],["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_COMMENT","\/\/ billing\n",133],["T_WHITESPACE","            ",134],["T_VARIABLE","$customer",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setDefaultBilling",134],"(",["T_STRING","null",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","save",134],"(",")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n        ",135],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Session $customerSession *\/",136],["T_WHITESPACE","\n        ",136],["T_VARIABLE","$customerSession",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","Bootstrap",137],["T_DOUBLE_COLON","::",137],["T_STRING","getObjectManager",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","get",137],"(",["T_NS_SEPARATOR","\\",137],["T_STRING","Magento",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Customer",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Model",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Session",137],["T_DOUBLE_COLON","::",137],["T_CLASS","class",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$customerSession",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setCustomer",138],"(",["T_VARIABLE","$customer",138],")",";",["T_WHITESPACE","\n\n        ",138],["T_DOC_COMMENT","\/** Execute SUT *\/",140],["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$addressType",141],["T_WHITESPACE"," ",141],["T_IS_EQUAL","==",141],["T_WHITESPACE"," ",141],["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","ADDRESS_TYPE_SHIPPING",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$addressId",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_multishippingCheckout",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getCustomerDefaultShippingAddress",142],"(",")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE"," ",143],["T_ELSE","else",143],["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_COMMENT","\/\/ billing\n",144],["T_WHITESPACE","            ",145],["T_VARIABLE","$addressId",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_multishippingCheckout",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getCustomerDefaultBillingAddress",145],"(",")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$address",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","addressRepository",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getById",147],"(",["T_VARIABLE","$addressId",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertInstanceOf",149],"(",["T_WHITESPACE","\n            ",149],["T_NS_SEPARATOR","\\",150],["T_STRING","Magento",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Customer",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Api",150],["T_NS_SEPARATOR","\\",150],["T_STRING","Data",150],["T_NS_SEPARATOR","\\",150],["T_STRING","AddressInterface",150],["T_DOUBLE_COLON","::",150],["T_CLASS","class",150],",",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$address",151],",",["T_WHITESPACE","\n            ",151],["T_CONSTANT_ENCAPSED_STRING","\"Address was not loaded.\"",152],["T_WHITESPACE","\n        ",152],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEquals",154],"(",["T_VARIABLE","$firstFixtureAddressId",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$address",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getId",154],"(",")",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","\"Invalid address loaded.\"",154],")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEquals",155],"(",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$firstFixtureAddressStreet",156],",",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$address",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getStreet",157],"(",")",",",["T_WHITESPACE","\n            ",157],"\"",["T_ENCAPSED_AND_WHITESPACE","Street in default ",158],["T_CURLY_OPEN","{",158],["T_VARIABLE","$addressType",158],"}",["T_ENCAPSED_AND_WHITESPACE"," address is invalid.",158],"\"",["T_WHITESPACE","\n        ",158],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Test case when customer has no addresses.\n     *\n     * @param string $addressType\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoAppIsolation enabled\n     * @dataProvider getCustomerDefaultAddressDataProvider\n     *\/",162],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","testGetCustomerDefaultAddressCustomerWithoutAddresses",170],"(",["T_VARIABLE","$addressType",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_DOC_COMMENT","\/**\n         * Preconditions:\n         * - customer has no addresses\n         * - current customer is set to customer session\n         *\/",172],["T_WHITESPACE","\n        ",176],["T_VARIABLE","$fixtureCustomerId",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_LNUMBER","1",177],";",["T_WHITESPACE","\n        ",177],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customer *\/",178],["T_WHITESPACE","\n        ",178],["T_VARIABLE","$customer",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","Bootstrap",179],["T_DOUBLE_COLON","::",179],["T_STRING","getObjectManager",179],"(",")",["T_OBJECT_OPERATOR","->",179],["T_STRING","create",179],"(",["T_WHITESPACE","\n            ",179],["T_NS_SEPARATOR","\\",180],["T_STRING","Magento",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Customer",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Model",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Customer",180],["T_DOUBLE_COLON","::",180],["T_CLASS","class",180],["T_WHITESPACE","\n        ",180],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","load",181],"(",["T_VARIABLE","$fixtureCustomerId",181],")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$customer",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setDefaultShipping",182],"(",["T_STRING","null",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","setDefaultBilling",182],"(",["T_STRING","null",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","save",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Session $customerSession *\/",183],["T_WHITESPACE","\n        ",183],["T_VARIABLE","$customerSession",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","Bootstrap",184],["T_DOUBLE_COLON","::",184],["T_STRING","getObjectManager",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Customer",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Model",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Session",184],["T_DOUBLE_COLON","::",184],["T_CLASS","class",184],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$customerSession",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setCustomer",185],"(",["T_VARIABLE","$customer",185],")",";",["T_WHITESPACE","\n\n        ",185],["T_DOC_COMMENT","\/** Execute SUT *\/",187],["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$addressType",188],["T_WHITESPACE"," ",188],["T_IS_EQUAL","==",188],["T_WHITESPACE"," ",188],["T_STRING","self",188],["T_DOUBLE_COLON","::",188],["T_STRING","ADDRESS_TYPE_SHIPPING",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$address",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_multishippingCheckout",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getCustomerDefaultShippingAddress",189],"(",")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE"," ",190],["T_ELSE","else",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_COMMENT","\/\/ billing\n",191],["T_WHITESPACE","            ",192],["T_VARIABLE","$address",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_multishippingCheckout",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getCustomerDefaultBillingAddress",192],"(",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertNull",194],"(",["T_VARIABLE","$address",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","\"When customer has no addresses, null is expected.\"",194],")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getCustomerDefaultAddressDataProvider",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],"[",["T_WHITESPACE","\n            ",199],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","ADDRESS_TYPE_SHIPPING",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],"[",["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","ADDRESS_TYPE_SHIPPING",200],"]",",",["T_WHITESPACE","\n            ",200],["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","ADDRESS_TYPE_BILLING",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],"[",["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","ADDRESS_TYPE_BILLING",201],"]",["T_WHITESPACE","\n        ",201],"]",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n",203],"}",["T_WHITESPACE","\n",204]]