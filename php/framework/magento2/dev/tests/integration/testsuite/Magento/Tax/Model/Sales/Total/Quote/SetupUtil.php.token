[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tax",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Sales",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Total",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Quote",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","App",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ScopeConfigInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tax",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Model",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Config",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Magento",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Tax",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Model",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Calculation",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","SetupUtil",18],["T_WHITESPACE","\n",18],"{",["T_WHITESPACE","\n    ",19],["T_DOC_COMMENT","\/**\n     * Default tax related configurations\n     *\n     * @var array\n     *\/",20],["T_WHITESPACE","\n    ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$defaultConfig",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[",["T_WHITESPACE","\n        ",25],["T_STRING","Config",26],["T_DOUBLE_COLON","::",26],["T_STRING","CONFIG_XML_PATH_SHIPPING_TAX_CLASS",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'0'",26],",",["T_WHITESPACE","\n        ",26],["T_STRING","Config",27],["T_DOUBLE_COLON","::",27],["T_STRING","CONFIG_XML_PATH_PRICE_INCLUDES_TAX",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_LNUMBER","0",27],",",["T_WHITESPACE"," ",27],["T_COMMENT","\/\/Excluding tax\n",27],["T_WHITESPACE","        ",28],["T_STRING","Config",28],["T_DOUBLE_COLON","::",28],["T_STRING","CONFIG_XML_PATH_SHIPPING_INCLUDES_TAX",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_LNUMBER","0",28],",",["T_WHITESPACE"," ",28],["T_COMMENT","\/\/Excluding tax\n",28],["T_WHITESPACE","        ",29],["T_STRING","Config",29],["T_DOUBLE_COLON","::",29],["T_STRING","CONFIG_XML_PATH_BASED_ON",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'shipping'",29],",",["T_WHITESPACE"," ",29],["T_COMMENT","\/\/ or 'billing'\n",29],["T_WHITESPACE","        ",30],["T_STRING","Config",30],["T_DOUBLE_COLON","::",30],["T_STRING","CONFIG_XML_PATH_APPLY_ON",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'0'",30],",",["T_WHITESPACE","\n        ",30],["T_STRING","Config",31],["T_DOUBLE_COLON","::",31],["T_STRING","CONFIG_XML_PATH_APPLY_AFTER_DISCOUNT",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'0'",31],",",["T_WHITESPACE","\n        ",31],["T_STRING","Config",32],["T_DOUBLE_COLON","::",32],["T_STRING","CONFIG_XML_PATH_DISCOUNT_TAX",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'0'",32],",",["T_WHITESPACE","\n        ",32],["T_STRING","Config",33],["T_DOUBLE_COLON","::",33],["T_STRING","XML_PATH_ALGORITHM",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_STRING","Calculation",33],["T_DOUBLE_COLON","::",33],["T_STRING","CALC_TOTAL_BASE",33],",",["T_WHITESPACE","\n        ",33],["T_COMMENT","\/\/@TODO: add config for cross border trade\n",34],["T_WHITESPACE","    ",35],"]",";",["T_WHITESPACE","\n\n    ",35],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","TAX_RATE_TX",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_tx'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","TAX_RATE_AUSTIN",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_austin'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TAX_RATE_SHIPPING",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_shipping'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TAX_STORE_RATE",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'tax_store_rate'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","REGION_TX",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'57'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","REGION_CA",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'12'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","COUNTRY_US",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'US'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","AUSTIN_POST_CODE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'79729'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Tax rates\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$taxRates",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n        ",51],["T_STRING","self",52],["T_DOUBLE_COLON","::",52],["T_STRING","TAX_RATE_TX",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'data'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n                ",53],["T_CONSTANT_ENCAPSED_STRING","'tax_country_id'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_STRING","self",54],["T_DOUBLE_COLON","::",54],["T_STRING","COUNTRY_US",54],",",["T_WHITESPACE","\n                ",54],["T_CONSTANT_ENCAPSED_STRING","'tax_region_id'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","REGION_TX",55],",",["T_WHITESPACE","\n                ",55],["T_CONSTANT_ENCAPSED_STRING","'tax_postcode'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'*'",56],",",["T_WHITESPACE","\n                ",56],["T_CONSTANT_ENCAPSED_STRING","'code'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","self",57],["T_DOUBLE_COLON","::",57],["T_STRING","TAX_RATE_TX",57],",",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'rate'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'20'",58],",",["T_WHITESPACE","\n            ",58],"]",",",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'id'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","null",60],",",["T_WHITESPACE","\n        ",60],"]",",",["T_WHITESPACE","\n        ",61],["T_STRING","self",62],["T_DOUBLE_COLON","::",62],["T_STRING","TAX_RATE_AUSTIN",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'data'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'tax_country_id'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","self",64],["T_DOUBLE_COLON","::",64],["T_STRING","COUNTRY_US",64],",",["T_WHITESPACE","\n                ",64],["T_CONSTANT_ENCAPSED_STRING","'tax_region_id'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","REGION_TX",65],",",["T_WHITESPACE","\n                ",65],["T_CONSTANT_ENCAPSED_STRING","'tax_postcode'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","self",66],["T_DOUBLE_COLON","::",66],["T_STRING","AUSTIN_POST_CODE",66],",",["T_WHITESPACE","\n                ",66],["T_CONSTANT_ENCAPSED_STRING","'code'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_STRING","TAX_RATE_AUSTIN",67],",",["T_WHITESPACE","\n                ",67],["T_CONSTANT_ENCAPSED_STRING","'rate'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'5'",68],",",["T_WHITESPACE","\n            ",68],"]",",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'id'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","null",70],",",["T_WHITESPACE","\n        ",70],"]",",",["T_WHITESPACE","\n        ",71],["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","TAX_RATE_SHIPPING",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'data'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],"[",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'tax_country_id'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","self",74],["T_DOUBLE_COLON","::",74],["T_STRING","COUNTRY_US",74],",",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'tax_region_id'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'*'",75],",",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'tax_postcode'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'*'",76],",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'code'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_STRING","self",77],["T_DOUBLE_COLON","::",77],["T_STRING","TAX_RATE_SHIPPING",77],",",["T_WHITESPACE","\n                ",77],["T_CONSTANT_ENCAPSED_STRING","'rate'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'7.5'",78],",",["T_WHITESPACE","\n            ",78],"]",",",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'id'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","null",80],",",["T_WHITESPACE","\n        ",80],"]",",",["T_WHITESPACE","\n        ",81],["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","TAX_STORE_RATE",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],"[",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'data'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],"[",["T_WHITESPACE","\n                ",83],["T_CONSTANT_ENCAPSED_STRING","'tax_country_id'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_STRING","COUNTRY_US",84],",",["T_WHITESPACE","\n                ",84],["T_CONSTANT_ENCAPSED_STRING","'tax_region_id'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","REGION_CA",85],",",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'tax_postcode'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'*'",86],",",["T_WHITESPACE","\n                ",86],["T_CONSTANT_ENCAPSED_STRING","'code'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","self",87],["T_DOUBLE_COLON","::",87],["T_STRING","TAX_STORE_RATE",87],",",["T_WHITESPACE","\n                ",87],["T_CONSTANT_ENCAPSED_STRING","'rate'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'8.25'",88],",",["T_WHITESPACE","\n            ",88],"]",",",["T_WHITESPACE","\n            ",89],["T_CONSTANT_ENCAPSED_STRING","'id'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],",",["T_WHITESPACE","\n        ",90],"]",",",["T_WHITESPACE","\n    ",91],"]",";",["T_WHITESPACE","\n\n    ",92],["T_CONST","const",94],["T_WHITESPACE"," ",94],["T_STRING","PRODUCT_TAX_CLASS_1",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_1'",94],";",["T_WHITESPACE","\n    ",94],["T_CONST","const",95],["T_WHITESPACE"," ",95],["T_STRING","PRODUCT_TAX_CLASS_2",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_2'",95],";",["T_WHITESPACE","\n    ",95],["T_CONST","const",96],["T_WHITESPACE"," ",96],["T_STRING","SHIPPING_TAX_CLASS",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_class'",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * List of product tax class that will be created\n     *\n     * @var array\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$productTaxClasses",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n        ",103],["T_STRING","self",104],["T_DOUBLE_COLON","::",104],["T_STRING","PRODUCT_TAX_CLASS_1",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_STRING","null",104],",",["T_WHITESPACE","\n        ",104],["T_STRING","self",105],["T_DOUBLE_COLON","::",105],["T_STRING","PRODUCT_TAX_CLASS_2",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_STRING","null",105],",",["T_WHITESPACE","\n        ",105],["T_STRING","self",106],["T_DOUBLE_COLON","::",106],["T_STRING","SHIPPING_TAX_CLASS",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","null",106],",",["T_WHITESPACE","\n    ",106],"]",";",["T_WHITESPACE","\n\n    ",107],["T_CONST","const",109],["T_WHITESPACE"," ",109],["T_STRING","CUSTOMER_TAX_CLASS_1",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_1'",109],";",["T_WHITESPACE","\n    ",109],["T_CONST","const",110],["T_WHITESPACE"," ",110],["T_STRING","CUSTOMER_PASSWORD",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'password'",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * List of customer tax class to be created\n     *\n     * @var array\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$customerTaxClasses",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[",["T_WHITESPACE","\n        ",117],["T_STRING","self",118],["T_DOUBLE_COLON","::",118],["T_STRING","CUSTOMER_TAX_CLASS_1",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","null",118],",",["T_WHITESPACE","\n    ",118],"]",";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * List of tax rules\n     *\n     * @var array\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$taxRules",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[","]",";",["T_WHITESPACE","\n\n    ",126],["T_CONST","const",128],["T_WHITESPACE"," ",128],["T_STRING","CONFIG_OVERRIDES",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'config_overrides'",128],";",["T_WHITESPACE","\n    ",128],["T_CONST","const",129],["T_WHITESPACE"," ",129],["T_STRING","TAX_RATE_OVERRIDES",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_overrides'",129],";",["T_WHITESPACE","\n    ",129],["T_CONST","const",130],["T_WHITESPACE"," ",130],["T_STRING","TAX_RULE_OVERRIDES",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'tax_rule_overrides'",130],";",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Default data for shopping cart rule\n     *\n     * @var array\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$defaultShoppingCartPriceRule",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'name'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Shopping Cart Rule'",138],",",["T_WHITESPACE","\n        ",138],["T_CONSTANT_ENCAPSED_STRING","'is_active'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_LNUMBER","1",139],",",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'customer_group_ids'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],"[",["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Customer",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Model",140],["T_NS_SEPARATOR","\\",140],["T_STRING","GroupManagement",140],["T_DOUBLE_COLON","::",140],["T_STRING","CUST_GROUP_ALL",140],"]",",",["T_WHITESPACE","\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'coupon_type'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","SalesRule",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Model",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Rule",141],["T_DOUBLE_COLON","::",141],["T_STRING","COUPON_TYPE_NO_COUPON",141],",",["T_WHITESPACE","\n        ",141],["T_CONSTANT_ENCAPSED_STRING","'simple_action'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'by_percent'",142],",",["T_WHITESPACE","\n        ",142],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_LNUMBER","40",143],",",["T_WHITESPACE","\n        ",143],["T_CONSTANT_ENCAPSED_STRING","'discount_step'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],",",["T_WHITESPACE","\n        ",144],["T_CONSTANT_ENCAPSED_STRING","'stop_rules_processing'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_LNUMBER","1",145],",",["T_WHITESPACE","\n        ",145],["T_CONSTANT_ENCAPSED_STRING","'website_ids'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],"[",["T_LNUMBER","1",146],"]",",",["T_WHITESPACE","\n    ",146],"]",";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Object manager\n     *\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$objectManager",154],";",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface\n     *\/",156],["T_WHITESPACE","\n    ",158],["T_PROTECTED","protected",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$customerRepository",159],";",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Api\\AccountManagementInterface\n     *\/",161],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$accountManagement",164],";",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * @param \\Magento\\Framework\\ObjectManagerInterface $objectManager\n     *\/",166],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","__construct",169],"(",["T_VARIABLE","$objectManager",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","objectManager",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$objectManager",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","customerRepository",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","objectManager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","create",172],"(",["T_WHITESPACE","\n            ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Customer",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Api",173],["T_NS_SEPARATOR","\\",173],["T_STRING","CustomerRepositoryInterface",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","accountManagement",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","objectManager",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","create",174],"(",["T_WHITESPACE","\n            ",174],["T_NS_SEPARATOR","\\",175],["T_STRING","Magento",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Customer",175],["T_NS_SEPARATOR","\\",175],["T_STRING","Api",175],["T_NS_SEPARATOR","\\",175],["T_STRING","AccountManagementInterface",175],["T_DOUBLE_COLON","::",175],["T_CLASS","class",175],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Create customer tax classes\n     *\n     * @return $this\n     *\/",178],["T_WHITESPACE","\n    ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","createCustomerTaxClass",183],"(",")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_STRING","array_keys",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","customerTaxClasses",185],")",["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$className",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","customerTaxClasses",186],"[",["T_VARIABLE","$className",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","objectManager",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","create",186],"(",["T_NS_SEPARATOR","\\",186],["T_STRING","Magento",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Tax",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Model",186],["T_NS_SEPARATOR","\\",186],["T_STRING","ClassModel",186],["T_DOUBLE_COLON","::",186],["T_CLASS","class",186],")",["T_WHITESPACE","\n                ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","setClassName",187],"(",["T_VARIABLE","$className",187],")",["T_WHITESPACE","\n                ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","setClassType",188],"(",["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Tax",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","ClassModel",188],["T_DOUBLE_COLON","::",188],["T_STRING","TAX_CLASS_TYPE_CUSTOMER",188],")",["T_WHITESPACE","\n                ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","save",189],"(",")",["T_WHITESPACE","\n                ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","getId",190],"(",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Create product tax classes\n     *\n     * @return $this\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PROTECTED","protected",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","createProductTaxClass",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_FOREACH","foreach",203],["T_WHITESPACE"," ",203],"(",["T_STRING","array_keys",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","productTaxClasses",203],")",["T_WHITESPACE"," ",203],["T_AS","as",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$className",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","productTaxClasses",204],"[",["T_VARIABLE","$className",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","objectManager",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","create",204],"(",["T_NS_SEPARATOR","\\",204],["T_STRING","Magento",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Tax",204],["T_NS_SEPARATOR","\\",204],["T_STRING","Model",204],["T_NS_SEPARATOR","\\",204],["T_STRING","ClassModel",204],["T_DOUBLE_COLON","::",204],["T_CLASS","class",204],")",["T_WHITESPACE","\n                ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","setClassName",205],"(",["T_VARIABLE","$className",205],")",["T_WHITESPACE","\n                ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","setClassType",206],"(",["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Tax",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Model",206],["T_NS_SEPARATOR","\\",206],["T_STRING","ClassModel",206],["T_DOUBLE_COLON","::",206],["T_STRING","TAX_CLASS_TYPE_PRODUCT",206],")",["T_WHITESPACE","\n                ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","save",207],"(",")",["T_WHITESPACE","\n                ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","getId",208],"(",")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Set the configuration.\n     *\n     * @param array $configData\n     * @return $this\n     *\/",214],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","setConfig",220],"(",["T_VARIABLE","$configData",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_DOC_COMMENT","\/** @var \\Magento\\Config\\Model\\ResourceModel\\Config $config *\/",222],["T_WHITESPACE","\n        ",222],["T_VARIABLE","$config",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","objectManager",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","get",223],"(",["T_NS_SEPARATOR","\\",223],["T_STRING","Magento",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Config",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Model",223],["T_NS_SEPARATOR","\\",223],["T_STRING","ResourceModel",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Config",223],["T_DOUBLE_COLON","::",223],["T_CLASS","class",223],")",";",["T_WHITESPACE","\n        ",223],["T_FOREACH","foreach",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$configData",224],["T_WHITESPACE"," ",224],["T_AS","as",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$path",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$value",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$path",225],["T_WHITESPACE"," ",225],["T_IS_EQUAL","==",225],["T_WHITESPACE"," ",225],["T_STRING","Config",225],["T_DOUBLE_COLON","::",225],["T_STRING","CONFIG_XML_PATH_SHIPPING_TAX_CLASS",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$value",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","productTaxClasses",226],"[",["T_VARIABLE","$value",226],"]",";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$config",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","saveConfig",228],"(",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$path",229],",",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$value",230],",",["T_WHITESPACE","\n                ",230],["T_STRING","ScopeConfigInterface",231],["T_DOUBLE_COLON","::",231],["T_STRING","SCOPE_TYPE_DEFAULT",231],",",["T_WHITESPACE","\n                ",231],["T_LNUMBER","0",232],["T_WHITESPACE","\n            ",232],")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Config\\ReinitableConfigInterface $config *\/",236],["T_WHITESPACE","\n        ",236],["T_VARIABLE","$config",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","objectManager",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","get",237],"(",["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Framework",237],["T_NS_SEPARATOR","\\",237],["T_STRING","App",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Config",237],["T_NS_SEPARATOR","\\",237],["T_STRING","ReinitableConfigInterface",237],["T_DOUBLE_COLON","::",237],["T_CLASS","class",237],")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$config",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","reinit",238],"(",")",";",["T_WHITESPACE","\n\n        ",238],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Create tax rates\n     *\n     * @param array $overrides\n     * @return $this\n     *\/",243],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","createTaxRates",249],"(",["T_VARIABLE","$overrides",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$taxRateOverrides",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_EMPTY","empty",251],"(",["T_VARIABLE","$overrides",251],"[",["T_STRING","self",251],["T_DOUBLE_COLON","::",251],["T_STRING","TAX_RATE_OVERRIDES",251],"]",")",["T_WHITESPACE"," ",251],"?",["T_WHITESPACE"," ",251],"[","]",["T_WHITESPACE"," ",251],":",["T_WHITESPACE"," ",251],["T_VARIABLE","$overrides",251],"[",["T_STRING","self",251],["T_DOUBLE_COLON","::",251],["T_STRING","TAX_RATE_OVERRIDES",251],"]",";",["T_WHITESPACE","\n        ",251],["T_FOREACH","foreach",252],["T_WHITESPACE"," ",252],"(",["T_STRING","array_keys",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","taxRates",252],")",["T_WHITESPACE"," ",252],["T_AS","as",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$taxRateCode",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_ISSET","isset",253],"(",["T_VARIABLE","$taxRateOverrides",253],"[",["T_VARIABLE","$taxRateCode",253],"]",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","taxRates",254],"[",["T_VARIABLE","$taxRateCode",254],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",254],"]","[",["T_CONSTANT_ENCAPSED_STRING","'rate'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$taxRateOverrides",254],"[",["T_VARIABLE","$taxRateCode",254],"]",";",["T_WHITESPACE","\n            ",254],"}",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","taxRates",256],"[",["T_VARIABLE","$taxRateCode",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","objectManager",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","create",256],"(",["T_WHITESPACE","\n                ",256],["T_NS_SEPARATOR","\\",257],["T_STRING","Magento",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Tax",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Model",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Calculation",257],["T_NS_SEPARATOR","\\",257],["T_STRING","Rate",257],["T_DOUBLE_COLON","::",257],["T_CLASS","class",257],")",["T_WHITESPACE","\n                ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","setData",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","taxRates",258],"[",["T_VARIABLE","$taxRateCode",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",258],"]",")",["T_WHITESPACE","\n                ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","save",259],"(",")",["T_WHITESPACE","\n                ",259],["T_OBJECT_OPERATOR","->",260],["T_STRING","getId",260],"(",")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Convert the code to id for productTaxClass, customerTaxClass and taxRate in taxRuleOverrideData\n     *\n     * @param array $taxRuleOverrideData\n     * @param array $taxRateIds\n     * @return array\n     *\/",265],["T_WHITESPACE","\n    ",271],["T_PROTECTED","protected",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","processTaxRuleOverrides",272],"(",["T_VARIABLE","$taxRuleOverrideData",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$taxRateIds",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(","!",["T_EMPTY","empty",274],"(",["T_VARIABLE","$taxRuleOverrideData",274],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_ids'",274],"]",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$customerTaxClassIds",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],"[","]",";",["T_WHITESPACE","\n            ",275],["T_FOREACH","foreach",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$taxRuleOverrideData",276],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_ids'",276],"]",["T_WHITESPACE"," ",276],["T_AS","as",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$customerClassCode",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                ",276],["T_VARIABLE","$customerTaxClassIds",277],"[","]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","customerTaxClasses",277],"[",["T_VARIABLE","$customerClassCode",277],"]",";",["T_WHITESPACE","\n            ",277],"}",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$taxRuleOverrideData",279],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_ids'",279],"]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$customerTaxClassIds",279],";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_EMPTY","empty",281],"(",["T_VARIABLE","$taxRuleOverrideData",281],"[",["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_ids'",281],"]",")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$productTaxClassIds",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"[","]",";",["T_WHITESPACE","\n            ",282],["T_FOREACH","foreach",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$taxRuleOverrideData",283],"[",["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_ids'",283],"]",["T_WHITESPACE"," ",283],["T_AS","as",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$productClassCode",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$productTaxClassIds",284],"[","]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","productTaxClasses",284],"[",["T_VARIABLE","$productClassCode",284],"]",";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$taxRuleOverrideData",286],"[",["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_ids'",286],"]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$productTaxClassIds",286],";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(","!",["T_EMPTY","empty",288],"(",["T_VARIABLE","$taxRuleOverrideData",288],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate_ids'",288],"]",")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$taxRateIdsForRule",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"[","]",";",["T_WHITESPACE","\n            ",289],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$taxRuleOverrideData",290],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate_ids'",290],"]",["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$taxRateCode",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$taxRateIdsForRule",291],"[","]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$taxRateIds",291],"[",["T_VARIABLE","$taxRateCode",291],"]",";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE","\n            ",292],["T_VARIABLE","$taxRuleOverrideData",293],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_rate_ids'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$taxRateIdsForRule",293],";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n\n        ",294],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$taxRuleOverrideData",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Return a list of product tax class ids NOT including shipping product tax class\n     *\n     * @return array\n     *\/",299],["T_WHITESPACE","\n    ",303],["T_PROTECTED","protected",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","getProductTaxClassIds",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$productTaxClassIds",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],"[","]",";",["T_WHITESPACE","\n        ",306],["T_FOREACH","foreach",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","productTaxClasses",307],["T_WHITESPACE"," ",307],["T_AS","as",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$productTaxClassName",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$productTaxClassId",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$productTaxClassName",308],["T_WHITESPACE"," ",308],["T_IS_NOT_EQUAL","!=",308],["T_WHITESPACE"," ",308],["T_STRING","self",308],["T_DOUBLE_COLON","::",308],["T_STRING","SHIPPING_TAX_CLASS",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$productTaxClassIds",309],"[","]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$productTaxClassId",309],";",["T_WHITESPACE","\n            ",309],"}",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n\n        ",311],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$productTaxClassIds",313],";",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n\n    ",314],["T_DOC_COMMENT","\/**\n     * Return a list of tax rate ids NOT including shipping tax rate\n     *\n     * @return array\n     *\/",316],["T_WHITESPACE","\n    ",320],["T_PROTECTED","protected",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","getDefaultTaxRateIds",321],"(",")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_VARIABLE","$taxRateIds",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],"[",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","taxRates",324],"[",["T_STRING","self",324],["T_DOUBLE_COLON","::",324],["T_STRING","TAX_RATE_TX",324],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",324],"]",",",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","taxRates",325],"[",["T_STRING","self",325],["T_DOUBLE_COLON","::",325],["T_STRING","TAX_STORE_RATE",325],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",325],"]",",",["T_WHITESPACE","\n        ",325],"]",";",["T_WHITESPACE","\n\n        ",326],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$taxRateIds",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Return the default customer group tax class id\n     *\n     * @return int\n     *\/",331],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getDefaultCustomerTaxClassId",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_DOC_COMMENT","\/** @var  \\Magento\\Customer\\Api\\GroupManagementInterface $groupManagement *\/",338],["T_WHITESPACE","\n        ",338],["T_VARIABLE","$groupManagement",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","objectManager",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","get",339],"(",["T_NS_SEPARATOR","\\",339],["T_STRING","Magento",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Customer",339],["T_NS_SEPARATOR","\\",339],["T_STRING","Api",339],["T_NS_SEPARATOR","\\",339],["T_STRING","GroupManagementInterface",339],["T_DOUBLE_COLON","::",339],["T_CLASS","class",339],")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$defaultGroup",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$groupManagement",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getDefaultGroup",340],"(",")",";",["T_WHITESPACE","\n        ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$defaultGroup",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getTaxClassId",341],"(",")",";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Create tax rules\n     *\n     * @param array $overrides\n     * @return $this\n     *\/",344],["T_WHITESPACE","\n    ",349],["T_PROTECTED","protected",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","createTaxRules",350],"(",["T_VARIABLE","$overrides",350],")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$taxRateIds",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],"[","]",";",["T_WHITESPACE","\n        ",352],["T_FOREACH","foreach",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","taxRates",353],["T_WHITESPACE"," ",353],["T_AS","as",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$taxRateCode",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$taxRate",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$taxRateIds",354],"[",["T_VARIABLE","$taxRateCode",354],"]",["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$taxRate",354],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",354],"]",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n\n        ",355],["T_COMMENT","\/\/The default customer tax class id is used to calculate store tax rate\n",357],["T_WHITESPACE","        ",358],["T_VARIABLE","$customerClassIds",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],"[",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","customerTaxClasses",359],"[",["T_STRING","self",359],["T_DOUBLE_COLON","::",359],["T_STRING","CUSTOMER_TAX_CLASS_1",359],"]",",",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getDefaultCustomerTaxClassId",360],"(",")",["T_WHITESPACE","\n        ",360],"]",";",["T_WHITESPACE","\n\n        ",361],["T_COMMENT","\/\/By default create tax rule that covers all product tax classes except SHIPPING_TAX_CLASS\n",363],["T_WHITESPACE","        ",364],["T_COMMENT","\/\/The tax rule will cover all tax rates except TAX_RATE_SHIPPING\n",364],["T_WHITESPACE","        ",365],["T_VARIABLE","$taxRuleDefaultData",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],"[",["T_WHITESPACE","\n            ",365],["T_CONSTANT_ENCAPSED_STRING","'code'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'Test Rule'",366],",",["T_WHITESPACE","\n            ",366],["T_CONSTANT_ENCAPSED_STRING","'priority'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'0'",367],",",["T_WHITESPACE","\n            ",367],["T_CONSTANT_ENCAPSED_STRING","'position'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'0'",368],",",["T_WHITESPACE","\n            ",368],["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_ids'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$customerClassIds",369],",",["T_WHITESPACE","\n            ",369],["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_ids'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getProductTaxClassIds",370],"(",")",",",["T_WHITESPACE","\n            ",370],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_ids'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getDefaultTaxRateIds",371],"(",")",",",["T_WHITESPACE","\n        ",371],"]",";",["T_WHITESPACE","\n\n        ",372],["T_COMMENT","\/\/Create tax rules\n",374],["T_WHITESPACE","        ",375],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_EMPTY","empty",375],"(",["T_VARIABLE","$overrides",375],"[",["T_STRING","self",375],["T_DOUBLE_COLON","::",375],["T_STRING","TAX_RULE_OVERRIDES",375],"]",")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_COMMENT","\/\/Create separate shipping tax rule\n",376],["T_WHITESPACE","            ",377],["T_VARIABLE","$shippingTaxRuleData",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],"[",["T_WHITESPACE","\n                ",377],["T_CONSTANT_ENCAPSED_STRING","'code'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'Shipping Tax Rule'",378],",",["T_WHITESPACE","\n                ",378],["T_CONSTANT_ENCAPSED_STRING","'priority'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'0'",379],",",["T_WHITESPACE","\n                ",379],["T_CONSTANT_ENCAPSED_STRING","'position'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'0'",380],",",["T_WHITESPACE","\n                ",380],["T_CONSTANT_ENCAPSED_STRING","'customer_tax_class_ids'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$customerClassIds",381],",",["T_WHITESPACE","\n                ",381],["T_CONSTANT_ENCAPSED_STRING","'product_tax_class_ids'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],"[",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","productTaxClasses",382],"[",["T_STRING","self",382],["T_DOUBLE_COLON","::",382],["T_STRING","SHIPPING_TAX_CLASS",382],"]","]",",",["T_WHITESPACE","\n                ",382],["T_CONSTANT_ENCAPSED_STRING","'tax_rate_ids'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],"[",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","taxRates",383],"[",["T_STRING","self",383],["T_DOUBLE_COLON","::",383],["T_STRING","TAX_RATE_SHIPPING",383],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",383],"]","]",",",["T_WHITESPACE","\n            ",383],"]",";",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","taxRules",385],"[",["T_VARIABLE","$shippingTaxRuleData",385],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",385],"]","]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","objectManager",385],["T_WHITESPACE","\n                ",385],["T_OBJECT_OPERATOR","->",386],["T_STRING","create",386],"(",["T_NS_SEPARATOR","\\",386],["T_STRING","Magento",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Tax",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Model",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Calculation",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Rule",386],["T_DOUBLE_COLON","::",386],["T_CLASS","class",386],")",["T_WHITESPACE","\n                ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","setData",387],"(",["T_VARIABLE","$shippingTaxRuleData",387],")",["T_WHITESPACE","\n                ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","save",388],"(",")",["T_WHITESPACE","\n                ",388],["T_OBJECT_OPERATOR","->",389],["T_STRING","getId",389],"(",")",";",["T_WHITESPACE","\n\n            ",389],["T_COMMENT","\/\/Create a default tax rule\n",391],["T_WHITESPACE","            ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","taxRules",392],"[",["T_VARIABLE","$taxRuleDefaultData",392],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",392],"]","]",["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","objectManager",392],["T_WHITESPACE","\n                ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","create",393],"(",["T_NS_SEPARATOR","\\",393],["T_STRING","Magento",393],["T_NS_SEPARATOR","\\",393],["T_STRING","Tax",393],["T_NS_SEPARATOR","\\",393],["T_STRING","Model",393],["T_NS_SEPARATOR","\\",393],["T_STRING","Calculation",393],["T_NS_SEPARATOR","\\",393],["T_STRING","Rule",393],["T_DOUBLE_COLON","::",393],["T_CLASS","class",393],")",["T_WHITESPACE","\n                ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","setData",394],"(",["T_VARIABLE","$taxRuleDefaultData",394],")",["T_WHITESPACE","\n                ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","save",395],"(",")",["T_WHITESPACE","\n                ",395],["T_OBJECT_OPERATOR","->",396],["T_STRING","getId",396],"(",")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE"," ",397],["T_ELSE","else",397],["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_FOREACH","foreach",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$overrides",398],"[",["T_STRING","self",398],["T_DOUBLE_COLON","::",398],["T_STRING","TAX_RULE_OVERRIDES",398],"]",["T_WHITESPACE"," ",398],["T_AS","as",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$taxRuleOverrideData",398],["T_WHITESPACE"," ",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                ",398],["T_COMMENT","\/\/convert code to id for productTaxClass, customerTaxClass and taxRate\n",399],["T_WHITESPACE","                ",400],["T_VARIABLE","$taxRuleOverrideData",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","processTaxRuleOverrides",400],"(",["T_VARIABLE","$taxRuleOverrideData",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$taxRateIds",400],")",";",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$mergedTaxRuleData",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","array_merge",401],"(",["T_VARIABLE","$taxRuleDefaultData",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$taxRuleOverrideData",401],")",";",["T_WHITESPACE","\n                ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","taxRules",402],"[",["T_VARIABLE","$mergedTaxRuleData",402],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",402],"]","]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","objectManager",402],["T_WHITESPACE","\n                    ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","create",403],"(",["T_NS_SEPARATOR","\\",403],["T_STRING","Magento",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Tax",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Model",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Calculation",403],["T_NS_SEPARATOR","\\",403],["T_STRING","Rule",403],["T_DOUBLE_COLON","::",403],["T_CLASS","class",403],")",["T_WHITESPACE","\n                    ",403],["T_OBJECT_OPERATOR","->",404],["T_STRING","setData",404],"(",["T_VARIABLE","$mergedTaxRuleData",404],")",["T_WHITESPACE","\n                    ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","save",405],"(",")",["T_WHITESPACE","\n                    ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","getId",406],"(",")",";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * Set up tax classes, tax rates and tax rules\n     * The override structure:\n     * override['self::CONFIG_OVERRIDES']\n     *      [\n     *          [config_path => config_value]\n     *      ]\n     * override['self::TAX_RATE_OVERRIDES']\n     *      [\n     *          ['tax_rate_code' => tax_rate]\n     *      ]\n     * override['self::TAX_RULE_OVERRIDES']\n     *      [\n     *          [\n     *              'code' => code \/\/Required, has to be unique\n     *              'priority' => 0\n     *              'position' => 0\n     *              'tax_customer_class' => array of customer tax class names as defined in this class\n     *              'tax_product_class' => array of product tax class names as defined in this class\n     *              'tax_rate' => array of tax rate codes as defined in this class\n     *          ]\n     *      ]\n     *\n     * @param array $overrides\n     * @return void\n     *\/",413],["T_WHITESPACE","\n    ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","setupTax",439],"(",["T_VARIABLE","$overrides",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_COMMENT","\/\/Create product tax classes\n",441],["T_WHITESPACE","        ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","createProductTaxClass",442],"(",")",";",["T_WHITESPACE","\n\n        ",442],["T_COMMENT","\/\/Create customer tax classes\n",444],["T_WHITESPACE","        ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","createCustomerTaxClass",445],"(",")",";",["T_WHITESPACE","\n\n        ",445],["T_COMMENT","\/\/Create tax rates\n",447],["T_WHITESPACE","        ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","createTaxRates",448],"(",["T_VARIABLE","$overrides",448],")",";",["T_WHITESPACE","\n\n        ",448],["T_COMMENT","\/\/Create tax rules\n",450],["T_WHITESPACE","        ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","createTaxRules",451],"(",["T_VARIABLE","$overrides",451],")",";",["T_WHITESPACE","\n\n        ",451],["T_COMMENT","\/\/Tax calculation configuration\n",453],["T_WHITESPACE","        ",454],["T_IF","if",454],["T_WHITESPACE"," ",454],"(","!",["T_EMPTY","empty",454],"(",["T_VARIABLE","$overrides",454],"[",["T_STRING","self",454],["T_DOUBLE_COLON","::",454],["T_STRING","CONFIG_OVERRIDES",454],"]",")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","setConfig",455],"(",["T_VARIABLE","$overrides",455],"[",["T_STRING","self",455],["T_DOUBLE_COLON","::",455],["T_STRING","CONFIG_OVERRIDES",455],"]",")",";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * Create a simple product with given sku, price and tax class\n     *\n     * @param string $sku\n     * @param float $price\n     * @param int $taxClassId\n     * @return \\Magento\\Catalog\\Model\\Product\n     *\/",459],["T_WHITESPACE","\n    ",466],["T_PUBLIC","public",467],["T_WHITESPACE"," ",467],["T_FUNCTION","function",467],["T_WHITESPACE"," ",467],["T_STRING","createSimpleProduct",467],"(",["T_VARIABLE","$sku",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$price",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$taxClassId",467],")",["T_WHITESPACE","\n    ",467],"{",["T_WHITESPACE","\n        ",468],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",469],["T_WHITESPACE","\n        ",469],["T_VARIABLE","$product",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","objectManager",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","create",470],"(",["T_NS_SEPARATOR","\\",470],["T_STRING","Magento",470],["T_NS_SEPARATOR","\\",470],["T_STRING","Catalog",470],["T_NS_SEPARATOR","\\",470],["T_STRING","Model",470],["T_NS_SEPARATOR","\\",470],["T_STRING","Product",470],["T_DOUBLE_COLON","::",470],["T_CLASS","class",470],")",";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$product",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","isObjectNew",471],"(",["T_STRING","true",471],")",";",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$product",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","setTypeId",472],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",472],")",["T_WHITESPACE","\n            ",472],["T_OBJECT_OPERATOR","->",473],["T_STRING","setAttributeSetId",473],"(",["T_LNUMBER","4",473],")",["T_WHITESPACE","\n            ",473],["T_OBJECT_OPERATOR","->",474],["T_STRING","setName",474],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product'",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_VARIABLE","$sku",474],")",["T_WHITESPACE","\n            ",474],["T_OBJECT_OPERATOR","->",475],["T_STRING","setSku",475],"(",["T_VARIABLE","$sku",475],")",["T_WHITESPACE","\n            ",475],["T_OBJECT_OPERATOR","->",476],["T_STRING","setPrice",476],"(",["T_VARIABLE","$price",476],")",["T_WHITESPACE","\n            ",476],["T_OBJECT_OPERATOR","->",477],["T_STRING","setTaxClassId",477],"(",["T_VARIABLE","$taxClassId",477],")",["T_WHITESPACE","\n            ",477],["T_OBJECT_OPERATOR","->",478],["T_STRING","setStockData",478],"(",["T_WHITESPACE","\n                ",478],"[",["T_WHITESPACE","\n                    ",479],["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",480],["T_WHITESPACE"," ",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_LNUMBER","1",480],",",["T_WHITESPACE","\n                    ",480],["T_CONSTANT_ENCAPSED_STRING","'qty'",481],["T_WHITESPACE"," ",481],["T_DOUBLE_ARROW","=>",481],["T_WHITESPACE"," ",481],["T_LNUMBER","100",481],",",["T_WHITESPACE","\n                    ",481],["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_LNUMBER","0",482],",",["T_WHITESPACE","\n                    ",482],["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_LNUMBER","1",483],["T_WHITESPACE","\n                ",483],"]",["T_WHITESPACE","\n            ",484],")",["T_OBJECT_OPERATOR","->",485],["T_STRING","setMetaTitle",485],"(",["T_CONSTANT_ENCAPSED_STRING","'meta title'",485],")",["T_WHITESPACE","\n            ",485],["T_OBJECT_OPERATOR","->",486],["T_STRING","setMetaKeyword",486],"(",["T_CONSTANT_ENCAPSED_STRING","'meta keyword'",486],")",["T_WHITESPACE","\n            ",486],["T_OBJECT_OPERATOR","->",487],["T_STRING","setMetaDescription",487],"(",["T_CONSTANT_ENCAPSED_STRING","'meta description'",487],")",["T_WHITESPACE","\n            ",487],["T_OBJECT_OPERATOR","->",488],["T_STRING","setVisibility",488],"(",["T_NS_SEPARATOR","\\",488],["T_STRING","Magento",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Catalog",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Model",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Product",488],["T_NS_SEPARATOR","\\",488],["T_STRING","Visibility",488],["T_DOUBLE_COLON","::",488],["T_STRING","VISIBILITY_BOTH",488],")",["T_WHITESPACE","\n            ",488],["T_OBJECT_OPERATOR","->",489],["T_STRING","setStatus",489],"(",["T_NS_SEPARATOR","\\",489],["T_STRING","Magento",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Catalog",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Model",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Product",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Attribute",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Source",489],["T_NS_SEPARATOR","\\",489],["T_STRING","Status",489],["T_DOUBLE_COLON","::",489],["T_STRING","STATUS_ENABLED",489],")",["T_WHITESPACE","\n            ",489],["T_OBJECT_OPERATOR","->",490],["T_STRING","save",490],"(",")",";",["T_WHITESPACE","\n\n        ",490],["T_VARIABLE","$product",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$product",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","load",492],"(",["T_VARIABLE","$product",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","getId",492],"(",")",")",";",["T_WHITESPACE","\n        ",492],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$product",493],";",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_DOC_COMMENT","\/**\n     * Create a customer group and associated it with given customer tax class\n     *\n     * @param int $customerTaxClassId\n     * @return int\n     *\/",496],["T_WHITESPACE","\n    ",501],["T_PROTECTED","protected",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","createCustomerGroup",502],"(",["T_VARIABLE","$customerTaxClassId",502],")",["T_WHITESPACE","\n    ",502],"{",["T_WHITESPACE","\n        ",503],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\GroupRepositoryInterface $groupRepository *\/",504],["T_WHITESPACE","\n        ",504],["T_VARIABLE","$groupRepository",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","objectManager",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","create",505],"(",["T_NS_SEPARATOR","\\",505],["T_STRING","Magento",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Customer",505],["T_NS_SEPARATOR","\\",505],["T_STRING","Api",505],["T_NS_SEPARATOR","\\",505],["T_STRING","GroupRepositoryInterface",505],["T_DOUBLE_COLON","::",505],["T_CLASS","class",505],")",";",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$customerGroupFactory",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","objectManager",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","create",506],"(",["T_NS_SEPARATOR","\\",506],["T_STRING","Magento",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Customer",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Api",506],["T_NS_SEPARATOR","\\",506],["T_STRING","Data",506],["T_NS_SEPARATOR","\\",506],["T_STRING","GroupInterfaceFactory",506],["T_DOUBLE_COLON","::",506],["T_CLASS","class",506],")",";",["T_WHITESPACE","\n        ",506],["T_VARIABLE","$customerGroup",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$customerGroupFactory",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","create",507],"(",")",["T_WHITESPACE","\n            ",507],["T_OBJECT_OPERATOR","->",508],["T_STRING","setCode",508],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_group'",508],")",["T_WHITESPACE","\n            ",508],["T_OBJECT_OPERATOR","->",509],["T_STRING","setTaxClassId",509],"(",["T_VARIABLE","$customerTaxClassId",509],")",";",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$customerGroupId",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$groupRepository",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","save",510],"(",["T_VARIABLE","$customerGroup",510],")",["T_OBJECT_OPERATOR","->",510],["T_STRING","getId",510],"(",")",";",["T_WHITESPACE","\n        ",510],["T_RETURN","return",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$customerGroupId",511],";",["T_WHITESPACE","\n    ",511],"}",["T_WHITESPACE","\n\n    ",512],["T_DOC_COMMENT","\/**\n     * Create a customer\n     *\n     * @return \\Magento\\Customer\\Api\\Data\\CustomerInterface\n     *\/",514],["T_WHITESPACE","\n    ",518],["T_PROTECTED","protected",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","createCustomer",519],"(",")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$customerGroupId",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","createCustomerGroup",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","customerTaxClasses",521],"[",["T_STRING","self",521],["T_DOUBLE_COLON","::",521],["T_STRING","CUSTOMER_TAX_CLASS_1",521],"]",")",";",["T_WHITESPACE","\n        ",521],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customer *\/",522],["T_WHITESPACE","\n        ",522],["T_VARIABLE","$customer",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","objectManager",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","create",523],"(",["T_NS_SEPARATOR","\\",523],["T_STRING","Magento",523],["T_NS_SEPARATOR","\\",523],["T_STRING","Customer",523],["T_NS_SEPARATOR","\\",523],["T_STRING","Model",523],["T_NS_SEPARATOR","\\",523],["T_STRING","Customer",523],["T_DOUBLE_COLON","::",523],["T_CLASS","class",523],")",";",["T_WHITESPACE","\n        ",523],["T_VARIABLE","$customer",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","isObjectNew",524],"(",["T_STRING","true",524],")",";",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$customer",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","setWebsiteId",525],"(",["T_LNUMBER","1",525],")",["T_WHITESPACE","\n            ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","setEntityTypeId",526],"(",["T_LNUMBER","1",526],")",["T_WHITESPACE","\n            ",526],["T_OBJECT_OPERATOR","->",527],["T_STRING","setAttributeSetId",527],"(",["T_LNUMBER","1",527],")",["T_WHITESPACE","\n            ",527],["T_OBJECT_OPERATOR","->",528],["T_STRING","setEmail",528],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",528],")",["T_WHITESPACE","\n            ",528],["T_OBJECT_OPERATOR","->",529],["T_STRING","setPassword",529],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",529],")",["T_WHITESPACE","\n            ",529],["T_OBJECT_OPERATOR","->",530],["T_STRING","setGroupId",530],"(",["T_VARIABLE","$customerGroupId",530],")",["T_WHITESPACE","\n            ",530],["T_OBJECT_OPERATOR","->",531],["T_STRING","setStoreId",531],"(",["T_LNUMBER","1",531],")",["T_WHITESPACE","\n            ",531],["T_OBJECT_OPERATOR","->",532],["T_STRING","setIsActive",532],"(",["T_LNUMBER","1",532],")",["T_WHITESPACE","\n            ",532],["T_OBJECT_OPERATOR","->",533],["T_STRING","setFirstname",533],"(",["T_CONSTANT_ENCAPSED_STRING","'Firstname'",533],")",["T_WHITESPACE","\n            ",533],["T_OBJECT_OPERATOR","->",534],["T_STRING","setLastname",534],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname'",534],")",["T_WHITESPACE","\n            ",534],["T_OBJECT_OPERATOR","->",535],["T_STRING","save",535],"(",")",";",["T_WHITESPACE","\n\n        ",535],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","customerRepository",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getById",537],"(",["T_VARIABLE","$customer",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getId",537],"(",")",")",";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_DOC_COMMENT","\/**\n     * Create customer address\n     *\n     * @param array $addressOverride\n     * @param int $customerId\n     * @return \\Magento\\Customer\\Model\\Address\n     *\/",540],["T_WHITESPACE","\n    ",546],["T_PROTECTED","protected",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","createCustomerAddress",547],"(",["T_VARIABLE","$addressOverride",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$customerId",547],")",["T_WHITESPACE","\n    ",547],"{",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$defaultAddressData",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],"[",["T_WHITESPACE","\n            ",549],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_LNUMBER","2",550],",",["T_WHITESPACE","\n            ",550],["T_CONSTANT_ENCAPSED_STRING","'telephone'",551],["T_WHITESPACE"," ",551],["T_DOUBLE_ARROW","=>",551],["T_WHITESPACE"," ",551],["T_LNUMBER","3468676",551],",",["T_WHITESPACE","\n            ",551],["T_CONSTANT_ENCAPSED_STRING","'postcode'",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_STRING","self",552],["T_DOUBLE_COLON","::",552],["T_STRING","AUSTIN_POST_CODE",552],",",["T_WHITESPACE","\n            ",552],["T_CONSTANT_ENCAPSED_STRING","'country_id'",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],["T_STRING","self",553],["T_DOUBLE_COLON","::",553],["T_STRING","COUNTRY_US",553],",",["T_WHITESPACE","\n            ",553],["T_CONSTANT_ENCAPSED_STRING","'city'",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'CityM'",554],",",["T_WHITESPACE","\n            ",554],["T_CONSTANT_ENCAPSED_STRING","'company'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",555],",",["T_WHITESPACE","\n            ",555],["T_CONSTANT_ENCAPSED_STRING","'street'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],"[",["T_CONSTANT_ENCAPSED_STRING","'Green str, 67'",556],"]",",",["T_WHITESPACE","\n            ",556],["T_CONSTANT_ENCAPSED_STRING","'lastname'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'Smith'",557],",",["T_WHITESPACE","\n            ",557],["T_CONSTANT_ENCAPSED_STRING","'firstname'",558],["T_WHITESPACE"," ",558],["T_DOUBLE_ARROW","=>",558],["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'John'",558],",",["T_WHITESPACE","\n            ",558],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",559],["T_WHITESPACE"," ",559],["T_DOUBLE_ARROW","=>",559],["T_WHITESPACE"," ",559],["T_LNUMBER","1",559],",",["T_WHITESPACE","\n            ",559],["T_CONSTANT_ENCAPSED_STRING","'region_id'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_STRING","self",560],["T_DOUBLE_COLON","::",560],["T_STRING","REGION_TX",560],",",["T_WHITESPACE","\n        ",560],"]",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$addressData",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_STRING","array_merge",562],"(",["T_VARIABLE","$defaultAddressData",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$addressOverride",562],")",";",["T_WHITESPACE","\n\n        ",562],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Address $customerAddress *\/",564],["T_WHITESPACE","\n        ",564],["T_VARIABLE","$customerAddress",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","objectManager",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","create",565],"(",["T_NS_SEPARATOR","\\",565],["T_STRING","Magento",565],["T_NS_SEPARATOR","\\",565],["T_STRING","Customer",565],["T_NS_SEPARATOR","\\",565],["T_STRING","Model",565],["T_NS_SEPARATOR","\\",565],["T_STRING","Address",565],["T_DOUBLE_COLON","::",565],["T_CLASS","class",565],")",";",["T_WHITESPACE","\n        ",565],["T_VARIABLE","$customerAddress",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","setData",566],"(",["T_VARIABLE","$addressData",566],")",["T_WHITESPACE","\n            ",566],["T_OBJECT_OPERATOR","->",567],["T_STRING","setCustomerId",567],"(",["T_VARIABLE","$customerId",567],")",["T_WHITESPACE","\n            ",567],["T_OBJECT_OPERATOR","->",568],["T_STRING","save",568],"(",")",";",["T_WHITESPACE","\n\n        ",568],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$customerAddress",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Create shopping cart rule\n     *\n     * @param array $ruleDataOverride\n     * @return $this\n     *\/",573],["T_WHITESPACE","\n    ",578],["T_PROTECTED","protected",579],["T_WHITESPACE"," ",579],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","createCartRule",579],"(",["T_VARIABLE","$ruleDataOverride",579],")",["T_WHITESPACE","\n    ",579],"{",["T_WHITESPACE","\n        ",580],["T_DOC_COMMENT","\/** @var \\Magento\\SalesRule\\Model\\Rule $salesRule *\/",581],["T_WHITESPACE","\n        ",581],["T_VARIABLE","$salesRule",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","objectManager",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","create",582],"(",["T_NS_SEPARATOR","\\",582],["T_STRING","Magento",582],["T_NS_SEPARATOR","\\",582],["T_STRING","SalesRule",582],["T_NS_SEPARATOR","\\",582],["T_STRING","Model",582],["T_NS_SEPARATOR","\\",582],["T_STRING","Rule",582],["T_DOUBLE_COLON","::",582],["T_CLASS","class",582],")",";",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$ruleData",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STRING","array_merge",583],"(",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","defaultShoppingCartPriceRule",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$ruleDataOverride",583],")",";",["T_WHITESPACE","\n        ",583],["T_VARIABLE","$salesRule",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","setData",584],"(",["T_VARIABLE","$ruleData",584],")",";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$salesRule",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","save",585],"(",")",";",["T_WHITESPACE","\n\n        ",585],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],";",["T_WHITESPACE","\n    ",587],"}",["T_WHITESPACE","\n\n    ",588],["T_DOC_COMMENT","\/**\n     * Create a quote object with customer\n     *\n     * @param array $quoteData\n     * @param \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer\n     * @return \\Magento\\Quote\\Model\\Quote\n     *\/",590],["T_WHITESPACE","\n    ",596],["T_PROTECTED","protected",597],["T_WHITESPACE"," ",597],["T_FUNCTION","function",597],["T_WHITESPACE"," ",597],["T_STRING","createQuote",597],"(",["T_VARIABLE","$quoteData",597],",",["T_WHITESPACE"," ",597],["T_VARIABLE","$customer",597],")",["T_WHITESPACE","\n    ",597],"{",["T_WHITESPACE","\n        ",598],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressService *\/",599],["T_WHITESPACE","\n        ",599],["T_VARIABLE","$addressService",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","objectManager",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","create",600],"(",["T_NS_SEPARATOR","\\",600],["T_STRING","Magento",600],["T_NS_SEPARATOR","\\",600],["T_STRING","Customer",600],["T_NS_SEPARATOR","\\",600],["T_STRING","Api",600],["T_NS_SEPARATOR","\\",600],["T_STRING","AddressRepositoryInterface",600],["T_DOUBLE_COLON","::",600],["T_CLASS","class",600],")",";",["T_WHITESPACE","\n\n        ",600],["T_DOC_COMMENT","\/** @var array $shippingAddressOverride *\/",602],["T_WHITESPACE","\n        ",602],["T_VARIABLE","$shippingAddressOverride",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_EMPTY","empty",603],"(",["T_VARIABLE","$quoteData",603],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",603],"]",")",["T_WHITESPACE"," ",603],"?",["T_WHITESPACE"," ",603],"[","]",["T_WHITESPACE"," ",603],":",["T_WHITESPACE"," ",603],["T_VARIABLE","$quoteData",603],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",603],"]",";",["T_WHITESPACE","\n        ",603],["T_DOC_COMMENT","\/** @var  \\Magento\\Customer\\Model\\Address $shippingAddress *\/",604],["T_WHITESPACE","\n        ",604],["T_VARIABLE","$shippingAddress",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","createCustomerAddress",605],"(",["T_VARIABLE","$shippingAddressOverride",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$customer",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getId",605],"(",")",")",";",["T_WHITESPACE","\n\n        ",605],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address $quoteShippingAddress *\/",607],["T_WHITESPACE","\n        ",607],["T_VARIABLE","$quoteShippingAddress",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","objectManager",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","create",608],"(",["T_NS_SEPARATOR","\\",608],["T_STRING","Magento",608],["T_NS_SEPARATOR","\\",608],["T_STRING","Quote",608],["T_NS_SEPARATOR","\\",608],["T_STRING","Model",608],["T_NS_SEPARATOR","\\",608],["T_STRING","Quote",608],["T_NS_SEPARATOR","\\",608],["T_STRING","Address",608],["T_DOUBLE_COLON","::",608],["T_CLASS","class",608],")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$quoteShippingAddress",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","importCustomerAddressData",609],"(",["T_VARIABLE","$addressService",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getById",609],"(",["T_VARIABLE","$shippingAddress",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getId",609],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",609],["T_DOC_COMMENT","\/** @var array $billingAddressOverride *\/",611],["T_WHITESPACE","\n        ",611],["T_VARIABLE","$billingAddressOverride",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_EMPTY","empty",612],"(",["T_VARIABLE","$quoteData",612],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_address'",612],"]",")",["T_WHITESPACE"," ",612],"?",["T_WHITESPACE"," ",612],"[","]",["T_WHITESPACE"," ",612],":",["T_WHITESPACE"," ",612],["T_VARIABLE","$quoteData",612],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_address'",612],"]",";",["T_WHITESPACE","\n        ",612],["T_DOC_COMMENT","\/** @var  \\Magento\\Customer\\Model\\Address $billingAddress *\/",613],["T_WHITESPACE","\n        ",613],["T_VARIABLE","$billingAddress",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","createCustomerAddress",614],"(",["T_VARIABLE","$billingAddressOverride",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$customer",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","getId",614],"(",")",")",";",["T_WHITESPACE","\n\n        ",614],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address $quoteBillingAddress *\/",616],["T_WHITESPACE","\n        ",616],["T_VARIABLE","$quoteBillingAddress",617],["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","objectManager",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","create",617],"(",["T_NS_SEPARATOR","\\",617],["T_STRING","Magento",617],["T_NS_SEPARATOR","\\",617],["T_STRING","Quote",617],["T_NS_SEPARATOR","\\",617],["T_STRING","Model",617],["T_NS_SEPARATOR","\\",617],["T_STRING","Quote",617],["T_NS_SEPARATOR","\\",617],["T_STRING","Address",617],["T_DOUBLE_COLON","::",617],["T_CLASS","class",617],")",";",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$quoteBillingAddress",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","importCustomerAddressData",618],"(",["T_VARIABLE","$addressService",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getById",618],"(",["T_VARIABLE","$billingAddress",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getId",618],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",618],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",620],["T_WHITESPACE","\n        ",620],["T_VARIABLE","$quote",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","objectManager",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","create",621],"(",["T_NS_SEPARATOR","\\",621],["T_STRING","Magento",621],["T_NS_SEPARATOR","\\",621],["T_STRING","Quote",621],["T_NS_SEPARATOR","\\",621],["T_STRING","Model",621],["T_NS_SEPARATOR","\\",621],["T_STRING","Quote",621],["T_DOUBLE_COLON","::",621],["T_CLASS","class",621],")",";",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$quote",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","setStoreId",622],"(",["T_LNUMBER","1",622],")",["T_WHITESPACE","\n            ",622],["T_OBJECT_OPERATOR","->",623],["T_STRING","setIsActive",623],"(",["T_STRING","true",623],")",["T_WHITESPACE","\n            ",623],["T_OBJECT_OPERATOR","->",624],["T_STRING","setIsMultiShipping",624],"(",["T_STRING","false",624],")",["T_WHITESPACE","\n            ",624],["T_OBJECT_OPERATOR","->",625],["T_STRING","assignCustomerWithAddressChange",625],"(",["T_VARIABLE","$customer",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$quoteBillingAddress",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$quoteShippingAddress",625],")",["T_WHITESPACE","\n            ",625],["T_OBJECT_OPERATOR","->",626],["T_STRING","setCheckoutMethod",626],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",626],")",["T_WHITESPACE","\n            ",626],["T_OBJECT_OPERATOR","->",627],["T_STRING","setPasswordHash",627],"(",["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","accountManagement",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","getPasswordHash",627],"(",["T_STATIC","static",627],["T_DOUBLE_COLON","::",627],["T_STRING","CUSTOMER_PASSWORD",627],")",")",";",["T_WHITESPACE","\n\n        ",627],["T_RETURN","return",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$quote",629],";",["T_WHITESPACE","\n    ",629],"}",["T_WHITESPACE","\n\n    ",630],["T_DOC_COMMENT","\/**\n     * Add products to quote\n     *\n     * @param \\Magento\\Quote\\Model\\Quote $quote\n     * @param array $itemsData\n     * @return $this\n     *\/",632],["T_WHITESPACE","\n    ",638],["T_PROTECTED","protected",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","addProductToQuote",639],"(",["T_VARIABLE","$quote",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$itemsData",639],")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_FOREACH","foreach",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$itemsData",641],["T_WHITESPACE"," ",641],["T_AS","as",641],["T_WHITESPACE"," ",641],["T_VARIABLE","$itemData",641],")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n            ",641],["T_VARIABLE","$sku",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_VARIABLE","$itemData",642],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",642],"]",";",["T_WHITESPACE","\n            ",642],["T_VARIABLE","$price",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$itemData",643],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",643],"]",";",["T_WHITESPACE","\n            ",643],["T_VARIABLE","$qty",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_ISSET","isset",644],"(",["T_VARIABLE","$itemData",644],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",644],"]",")",["T_WHITESPACE"," ",644],"?",["T_WHITESPACE"," ",644],["T_VARIABLE","$itemData",644],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",644],"]",["T_WHITESPACE"," ",644],":",["T_WHITESPACE"," ",644],["T_LNUMBER","1",644],";",["T_WHITESPACE","\n            ",644],["T_VARIABLE","$taxClassName",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE","\n                ",645],["T_ISSET","isset",646],"(",["T_VARIABLE","$itemData",646],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_name'",646],"]",")",["T_WHITESPACE"," ",646],"?",["T_WHITESPACE"," ",646],["T_VARIABLE","$itemData",646],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_class_name'",646],"]",["T_WHITESPACE"," ",646],":",["T_WHITESPACE"," ",646],["T_STRING","self",646],["T_DOUBLE_COLON","::",646],["T_STRING","PRODUCT_TAX_CLASS_1",646],";",["T_WHITESPACE","\n            ",646],["T_VARIABLE","$taxClassId",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","productTaxClasses",647],"[",["T_VARIABLE","$taxClassName",647],"]",";",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$product",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","createSimpleProduct",648],"(",["T_VARIABLE","$sku",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$price",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$taxClassId",648],")",";",["T_WHITESPACE","\n            ",648],["T_VARIABLE","$quote",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","addProduct",649],"(",["T_VARIABLE","$product",649],",",["T_WHITESPACE"," ",649],["T_VARIABLE","$qty",649],")",";",["T_WHITESPACE","\n        ",649],"}",["T_WHITESPACE","\n        ",650],["T_RETURN","return",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$this",651],";",["T_WHITESPACE","\n    ",651],"}",["T_WHITESPACE","\n\n    ",652],["T_DOC_COMMENT","\/**\n     * Create a quote based on given data\n     *\n     * @param array $quoteData\n     * @return \\Magento\\Quote\\Model\\Quote\n     *\/",654],["T_WHITESPACE","\n    ",659],["T_PUBLIC","public",660],["T_WHITESPACE"," ",660],["T_FUNCTION","function",660],["T_WHITESPACE"," ",660],["T_STRING","setupQuote",660],"(",["T_VARIABLE","$quoteData",660],")",["T_WHITESPACE","\n    ",660],"{",["T_WHITESPACE","\n        ",661],["T_VARIABLE","$customer",662],["T_WHITESPACE"," ",662],"=",["T_WHITESPACE"," ",662],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","createCustomer",662],"(",")",";",["T_WHITESPACE","\n\n        ",662],["T_VARIABLE","$quote",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","createQuote",664],"(",["T_VARIABLE","$quoteData",664],",",["T_WHITESPACE"," ",664],["T_VARIABLE","$customer",664],")",";",["T_WHITESPACE","\n\n        ",664],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","addProductToQuote",666],"(",["T_VARIABLE","$quote",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$quoteData",666],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",666],"]",")",";",["T_WHITESPACE","\n\n        ",666],["T_COMMENT","\/\/Set shipping amount\n",668],["T_WHITESPACE","        ",669],["T_IF","if",669],["T_WHITESPACE"," ",669],"(",["T_ISSET","isset",669],"(",["T_VARIABLE","$quoteData",669],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",669],"]",")",")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n            ",669],["T_VARIABLE","$quote",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","getShippingAddress",670],"(",")",["T_OBJECT_OPERATOR","->",670],["T_STRING","setShippingMethod",670],"(",["T_VARIABLE","$quoteData",670],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",670],"]",")",";",["T_WHITESPACE","\n            ",670],["T_VARIABLE","$quote",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getShippingAddress",671],"(",")",["T_OBJECT_OPERATOR","->",671],["T_STRING","setCollectShippingRates",671],"(",["T_STRING","true",671],")",";",["T_WHITESPACE","\n        ",671],"}",["T_WHITESPACE","\n\n        ",672],["T_COMMENT","\/\/create shopping cart rules if necessary\n",674],["T_WHITESPACE","        ",675],["T_IF","if",675],["T_WHITESPACE"," ",675],"(","!",["T_EMPTY","empty",675],"(",["T_VARIABLE","$quoteData",675],"[",["T_CONSTANT_ENCAPSED_STRING","'shopping_cart_rules'",675],"]",")",")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n            ",675],["T_FOREACH","foreach",676],["T_WHITESPACE"," ",676],"(",["T_VARIABLE","$quoteData",676],"[",["T_CONSTANT_ENCAPSED_STRING","'shopping_cart_rules'",676],"]",["T_WHITESPACE"," ",676],["T_AS","as",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$ruleData",676],")",["T_WHITESPACE"," ",676],"{",["T_WHITESPACE","\n                ",676],["T_VARIABLE","$ruleData",677],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_group_ids'",677],"]",["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],"[",["T_VARIABLE","$customer",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getGroupId",677],"(",")","]",";",["T_WHITESPACE","\n                ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","createCartRule",678],"(",["T_VARIABLE","$ruleData",678],")",";",["T_WHITESPACE","\n            ",678],"}",["T_WHITESPACE","\n        ",679],"}",["T_WHITESPACE","\n\n        ",680],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$quote",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n",683],"}",["T_WHITESPACE","\n",684]]