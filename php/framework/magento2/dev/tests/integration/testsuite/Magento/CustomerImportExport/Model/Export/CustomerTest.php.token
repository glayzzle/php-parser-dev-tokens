[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test for customer export model\n *\/",7],["T_WHITESPACE","\n",9],["T_NAMESPACE","namespace",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CustomerImportExport",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Model",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Export",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","CustomerTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\CustomerImportExport\\Model\\Export\\Customer\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_model",17],";",["T_WHITESPACE","\n\n    ",17],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE","\n    ",19],"{",["T_WHITESPACE","\n        ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","_model",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Magento",21],["T_NS_SEPARATOR","\\",21],["T_STRING","TestFramework",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Helper",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Bootstrap",21],["T_DOUBLE_COLON","::",21],["T_STRING","getObjectManager",21],"(",")",["T_OBJECT_OPERATOR","->",21],["T_STRING","create",21],"(",["T_WHITESPACE","\n            ",21],["T_NS_SEPARATOR","\\",22],["T_STRING","Magento",22],["T_NS_SEPARATOR","\\",22],["T_STRING","CustomerImportExport",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Model",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Export",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Customer",22],["T_DOUBLE_COLON","::",22],["T_CLASS","class",22],["T_WHITESPACE","\n        ",22],")",";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_DOC_COMMENT","\/**\n     * Test export method\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customers.php\n     *\/",26],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testExport",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$expectedAttributes",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[","]",";",["T_WHITESPACE","\n        ",33],["T_DOC_COMMENT","\/** @var $collection \\Magento\\Customer\\Model\\ResourceModel\\Attribute\\Collection *\/",34],["T_WHITESPACE","\n        ",34],["T_VARIABLE","$collection",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","TestFramework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Helper",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Bootstrap",35],["T_DOUBLE_COLON","::",35],["T_STRING","getObjectManager",35],"(",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","create",35],"(",["T_WHITESPACE","\n            ",35],["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Customer",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Model",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ResourceModel",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Attribute",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Collection",36],["T_DOUBLE_COLON","::",36],["T_CLASS","class",36],["T_WHITESPACE","\n        ",36],")",";",["T_WHITESPACE","\n        ",37],["T_DOC_COMMENT","\/** @var $attribute \\Magento\\Customer\\Model\\Attribute *\/",38],["T_WHITESPACE","\n        ",38],["T_FOREACH","foreach",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$collection",39],["T_WHITESPACE"," ",39],["T_AS","as",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$attribute",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n            ",39],["T_VARIABLE","$expectedAttributes",40],"[","]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$attribute",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getAttributeCode",40],"(",")",";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$expectedAttributes",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","array_diff",42],"(",["T_VARIABLE","$expectedAttributes",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_model",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getDisabledAttributes",42],"(",")",")",";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_model",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setWriter",44],"(",["T_WHITESPACE","\n            ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","TestFramework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Helper",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Bootstrap",45],["T_DOUBLE_COLON","::",45],["T_STRING","getObjectManager",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","create",45],"(",["T_WHITESPACE","\n                ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","ImportExport",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Export",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Adapter",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Csv",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],["T_WHITESPACE","\n            ",46],")",["T_WHITESPACE","\n        ",47],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$data",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_model",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","export",49],"(",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertNotEmpty",50],"(",["T_VARIABLE","$data",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_VARIABLE","$lines",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_csvToArray",52],"(",["T_VARIABLE","$data",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'email'",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEquals",54],"(",["T_WHITESPACE","\n            ",54],["T_STRING","count",55],"(",["T_VARIABLE","$expectedAttributes",55],")",",",["T_WHITESPACE","\n            ",55],["T_STRING","count",56],"(",["T_STRING","array_intersect",56],"(",["T_VARIABLE","$expectedAttributes",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$lines",56],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",56],"]",")",")",",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'Expected attribute codes were not exported'",57],["T_WHITESPACE","\n        ",57],")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertNotEmpty",60],"(",["T_VARIABLE","$lines",60],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",60],"]",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'No data was exported'",60],")",";",["T_WHITESPACE","\n\n        ",60],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",62],["T_WHITESPACE","\n        ",62],["T_VARIABLE","$objectManager",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Magento",63],["T_NS_SEPARATOR","\\",63],["T_STRING","TestFramework",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Helper",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Bootstrap",63],["T_DOUBLE_COLON","::",63],["T_STRING","getObjectManager",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_DOC_COMMENT","\/** @var $customers \\Magento\\Customer\\Model\\Customer[] *\/",64],["T_WHITESPACE","\n        ",64],["T_VARIABLE","$customers",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$objectManager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","get",65],"(",["T_WHITESPACE","\n            ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Framework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Registry",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],["T_WHITESPACE","\n        ",66],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","registry",67],"(",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'_fixture\/Magento_ImportExport_Customer_Collection'",68],["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n        ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$customers",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$key",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$customer",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$expectedAttributes",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$code",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n                ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(","!",["T_STRING","in_array",72],"(",["T_VARIABLE","$code",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_model",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getDisabledAttributes",72],"(",")",")",["T_WHITESPACE"," ",72],["T_BOOLEAN_AND","&&",72],["T_WHITESPACE"," ",72],["T_ISSET","isset",72],"(",["T_VARIABLE","$lines",72],"[",["T_VARIABLE","$key",72],"]","[",["T_VARIABLE","$code",72],"]",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEquals",73],"(",["T_WHITESPACE","\n                        ",73],["T_VARIABLE","$customer",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getData",74],"(",["T_VARIABLE","$code",74],")",",",["T_WHITESPACE","\n                        ",74],["T_VARIABLE","$lines",75],"[",["T_VARIABLE","$key",75],"]","[",["T_VARIABLE","$code",75],"]",",",["T_WHITESPACE","\n                        ",75],["T_CONSTANT_ENCAPSED_STRING","'Attribute \"'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$code",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'\" is not equal'",76],["T_WHITESPACE","\n                    ",76],")",";",["T_WHITESPACE","\n                ",77],"}",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Test entity type code value\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testGetEntityTypeCode",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEquals",88],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_model",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getEntityTypeCode",88],"(",")",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Test type of attribute collection\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","testGetAttributeCollection",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertInstanceOf",96],"(",["T_WHITESPACE","\n            ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Customer",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","ResourceModel",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Attribute",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Collection",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],",",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_model",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getAttributeCollection",98],"(",")",["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Test for method filterAttributeCollection()\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","testFilterAttributeCollection",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_DOC_COMMENT","\/** @var $collection \\Magento\\Customer\\Model\\ResourceModel\\Attribute\\Collection *\/",107],["T_WHITESPACE","\n        ",107],["T_VARIABLE","$collection",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_model",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getAttributeCollection",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$collection",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_model",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","filterAttributeCollection",109],"(",["T_VARIABLE","$collection",109],")",";",["T_WHITESPACE","\n        ",109],["T_DOC_COMMENT","\/**\n         * Check that disabled attributes is not existed in attribute collection\n         *\/",110],["T_WHITESPACE","\n        ",112],["T_VARIABLE","$existedAttributes",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[","]",";",["T_WHITESPACE","\n        ",113],["T_DOC_COMMENT","\/** @var $attribute \\Magento\\Customer\\Model\\Attribute *\/",114],["T_WHITESPACE","\n        ",114],["T_FOREACH","foreach",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$collection",115],["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$attribute",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$existedAttributes",116],"[","]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$attribute",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getAttributeCode",116],"(",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$disabledAttributes",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_model",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getDisabledAttributes",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$disabledAttributes",119],["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$attributeCode",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNotContains",120],"(",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$attributeCode",121],",",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$existedAttributes",122],",",["T_WHITESPACE","\n                ",122],["T_CONSTANT_ENCAPSED_STRING","'Disabled attribute \"'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$attributeCode",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'\" existed in collection'",123],["T_WHITESPACE","\n            ",123],")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_DOC_COMMENT","\/**\n         * Check that all overridden attributes were affected during filtering process\n         *\/",126],["T_WHITESPACE","\n        ",128],["T_VARIABLE","$overriddenAttributes",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_model",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getOverriddenAttributes",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_DOC_COMMENT","\/** @var $attribute \\Magento\\Customer\\Model\\Attribute *\/",130],["T_WHITESPACE","\n        ",130],["T_FOREACH","foreach",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$collection",131],["T_WHITESPACE"," ",131],["T_AS","as",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$attribute",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_ISSET","isset",132],"(",["T_VARIABLE","$overriddenAttributes",132],"[",["T_VARIABLE","$attribute",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getAttributeCode",132],"(",")","]",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$overriddenAttributes",133],"[",["T_VARIABLE","$attribute",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getAttributeCode",133],"(",")","]",["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$propertyKey",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$property",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEquals",134],"(",["T_WHITESPACE","\n                        ",134],["T_VARIABLE","$property",135],",",["T_WHITESPACE","\n                        ",135],["T_VARIABLE","$attribute",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getData",136],"(",["T_VARIABLE","$propertyKey",136],")",",",["T_WHITESPACE","\n                        ",136],["T_CONSTANT_ENCAPSED_STRING","'Value of property \"'",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$propertyKey",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'\" is not equals'",137],["T_WHITESPACE","\n                    ",137],")",";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Test for method filterEntityCollection()\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customers.php\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","testFilterEntityCollection",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$createdAtDate",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'2038-01-01'",151],";",["T_WHITESPACE","\n\n        ",151],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",153],["T_WHITESPACE","\n        ",153],["T_VARIABLE","$objectManager",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Magento",154],["T_NS_SEPARATOR","\\",154],["T_STRING","TestFramework",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Helper",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Bootstrap",154],["T_DOUBLE_COLON","::",154],["T_STRING","getObjectManager",154],"(",")",";",["T_WHITESPACE","\n\n        ",154],["T_DOC_COMMENT","\/**\n         * Change created_at date of first customer for future filter test.\n         *\/",156],["T_WHITESPACE","\n        ",158],["T_VARIABLE","$customers",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$objectManager",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_WHITESPACE","\n            ",159],["T_NS_SEPARATOR","\\",160],["T_STRING","Magento",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Framework",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Registry",160],["T_DOUBLE_COLON","::",160],["T_CLASS","class",160],["T_WHITESPACE","\n        ",160],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","registry",161],"(",["T_WHITESPACE","\n            ",161],["T_CONSTANT_ENCAPSED_STRING","'_fixture\/Magento_ImportExport_Customer_Collection'",162],["T_WHITESPACE","\n        ",162],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$customers",164],"[",["T_LNUMBER","0",164],"]",["T_OBJECT_OPERATOR","->",164],["T_STRING","setCreatedAt",164],"(",["T_VARIABLE","$createdAtDate",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$customers",165],"[",["T_LNUMBER","0",165],"]",["T_OBJECT_OPERATOR","->",165],["T_STRING","save",165],"(",")",";",["T_WHITESPACE","\n        ",165],["T_DOC_COMMENT","\/**\n         * Change type of created_at attribute. In this case we have possibility to test date rage filter\n         *\/",166],["T_WHITESPACE","\n        ",168],["T_VARIABLE","$attributeCollection",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","TestFramework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Helper",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Bootstrap",169],["T_DOUBLE_COLON","::",169],["T_STRING","getObjectManager",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","create",169],"(",["T_WHITESPACE","\n            ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Customer",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Model",170],["T_NS_SEPARATOR","\\",170],["T_STRING","ResourceModel",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Attribute",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Collection",170],["T_DOUBLE_COLON","::",170],["T_CLASS","class",170],["T_WHITESPACE","\n        ",170],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$attributeCollection",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","addFieldToFilter",172],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'created_at'",172],")",";",["T_WHITESPACE","\n        ",172],["T_DOC_COMMENT","\/** @var $createdAtAttribute \\Magento\\Customer\\Model\\Attribute *\/",173],["T_WHITESPACE","\n        ",173],["T_VARIABLE","$createdAtAttribute",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$attributeCollection",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getFirstItem",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$createdAtAttribute",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setBackendType",175],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime'",175],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$createdAtAttribute",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","save",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_DOC_COMMENT","\/**\n         * Prepare filter.asd\n         *\/",177],["T_WHITESPACE","\n        ",179],["T_VARIABLE","$parameters",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],"[",["T_WHITESPACE","\n            ",180],["T_NS_SEPARATOR","\\",181],["T_STRING","Magento",181],["T_NS_SEPARATOR","\\",181],["T_STRING","ImportExport",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Model",181],["T_NS_SEPARATOR","\\",181],["T_STRING","Export",181],["T_DOUBLE_COLON","::",181],["T_STRING","FILTER_ELEMENT_GROUP",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],"[",["T_WHITESPACE","\n                ",181],["T_CONSTANT_ENCAPSED_STRING","'email'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'example.com'",182],",",["T_WHITESPACE","\n                ",182],["T_CONSTANT_ENCAPSED_STRING","'created_at'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],"[",["T_VARIABLE","$createdAtDate",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","''",183],"]",",",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'store_id'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Magento",184],["T_NS_SEPARATOR","\\",184],["T_STRING","TestFramework",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Helper",184],["T_NS_SEPARATOR","\\",184],["T_STRING","Bootstrap",184],["T_DOUBLE_COLON","::",184],["T_STRING","getObjectManager",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_WHITESPACE","\n                    ",184],["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Store",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Model",185],["T_NS_SEPARATOR","\\",185],["T_STRING","StoreManagerInterface",185],["T_DOUBLE_COLON","::",185],["T_CLASS","class",185],["T_WHITESPACE","\n                ",185],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getStore",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getId",186],"(",")",["T_WHITESPACE","\n            ",186],"]",["T_WHITESPACE","\n        ",187],"]",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_model",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setParameters",189],"(",["T_VARIABLE","$parameters",189],")",";",["T_WHITESPACE","\n        ",189],["T_DOC_COMMENT","\/** @var $customers \\Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection *\/",190],["T_WHITESPACE","\n        ",190],["T_VARIABLE","$collection",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_model",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","filterEntityCollection",191],"(",["T_WHITESPACE","\n            ",191],["T_NS_SEPARATOR","\\",192],["T_STRING","Magento",192],["T_NS_SEPARATOR","\\",192],["T_STRING","TestFramework",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Helper",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Bootstrap",192],["T_DOUBLE_COLON","::",192],["T_STRING","getObjectManager",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","create",192],"(",["T_WHITESPACE","\n                ",192],["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Customer",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Model",193],["T_NS_SEPARATOR","\\",193],["T_STRING","ResourceModel",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Customer",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Collection",193],["T_DOUBLE_COLON","::",193],["T_CLASS","class",193],["T_WHITESPACE","\n            ",193],")",["T_WHITESPACE","\n        ",194],")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$collection",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","load",196],"(",")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertCount",198],"(",["T_LNUMBER","1",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$collection",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertEquals",199],"(",["T_VARIABLE","$customers",199],"[",["T_LNUMBER","0",199],"]",["T_OBJECT_OPERATOR","->",199],["T_STRING","getId",199],"(",")",",",["T_WHITESPACE"," ",199],["T_VARIABLE","$collection",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getFirstItem",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","getId",199],"(",")",")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Export CSV string to array\n     *\n     * @param string $content\n     * @param mixed $entityId\n     * @return array\n     *\/",202],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","_csvToArray",209],"(",["T_VARIABLE","$content",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$entityId",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","null",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$data",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],"[","]",",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'data'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],"[","]","]",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$lines",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","str_getcsv",213],"(",["T_VARIABLE","$content",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",213],")",";",["T_WHITESPACE","\n        ",213],["T_FOREACH","foreach",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$lines",214],["T_WHITESPACE"," ",214],["T_AS","as",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$index",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$line",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$index",215],["T_WHITESPACE"," ",215],["T_IS_EQUAL","==",215],["T_WHITESPACE"," ",215],["T_LNUMBER","0",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$data",216],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",216],"]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","str_getcsv",216],"(",["T_VARIABLE","$line",216],")",";",["T_WHITESPACE","\n            ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$row",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","array_combine",218],"(",["T_VARIABLE","$data",218],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",218],"]",",",["T_WHITESPACE"," ",218],["T_STRING","str_getcsv",218],"(",["T_VARIABLE","$line",218],")",")",";",["T_WHITESPACE","\n                ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$entityId",219],["T_WHITESPACE"," ",219],["T_IS_NOT_IDENTICAL","!==",219],["T_WHITESPACE"," ",219],["T_STRING","null",219],["T_WHITESPACE"," ",219],["T_BOOLEAN_AND","&&",219],["T_WHITESPACE"," ",219],"!",["T_EMPTY","empty",219],"(",["T_VARIABLE","$row",219],"[",["T_VARIABLE","$entityId",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$data",220],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",220],"]","[",["T_VARIABLE","$row",220],"[",["T_VARIABLE","$entityId",220],"]","]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$row",220],";",["T_WHITESPACE","\n                ",220],"}",["T_WHITESPACE"," ",221],["T_ELSE","else",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                    ",221],["T_VARIABLE","$data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",222],"]","[","]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$row",222],";",["T_WHITESPACE","\n                ",222],"}",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n        ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$data",226],";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n",227],"}",["T_WHITESPACE","\n",228]]