[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Quote",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TestFramework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Helper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Bootstrap",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @magentoDataFixture Magento\/Sales\/_files\/quote_with_customer.php\n * @magentoDataFixture Magento\/Customer\/_files\/customer_two_addresses.php\n *\/",10],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","AddressTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",16],["T_WHITESPACE","\n    ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$_quote",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\CustomerInterface $customer *\/",19],["T_WHITESPACE","\n    ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_customer",20],";",["T_WHITESPACE","\n\n    ",20],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote\\Address *\/",22],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_address",23],";",["T_WHITESPACE","\n\n    ",23],["T_COMMENT","\/**@var \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerRepository *\/",25],["T_WHITESPACE","\n    ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$customerRepository",26],";",["T_WHITESPACE","\n\n    ",26],["T_DOC_COMMENT","\/**\n     * Initialize quote and customer fixtures\n     *\/",28],["T_WHITESPACE","\n    ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","_quote",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","TestFramework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Helper",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Bootstrap",33],["T_DOUBLE_COLON","::",33],["T_STRING","getObjectManager",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","create",33],"(",["T_WHITESPACE","\n            ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Quote",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Quote",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],["T_WHITESPACE","\n        ",34],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","_quote",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","load",36],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",36],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","_quote",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","setIsMultiShipping",37],"(",["T_CONSTANT_ENCAPSED_STRING","'0'",37],")",";",["T_WHITESPACE","\n\n        ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","customerRepository",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","TestFramework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Helper",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Bootstrap",39],["T_DOUBLE_COLON","::",39],["T_STRING","getObjectManager",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","create",39],"(",["T_WHITESPACE","\n            ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Customer",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Api",40],["T_NS_SEPARATOR","\\",40],["T_STRING","CustomerRepositoryInterface",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],["T_WHITESPACE","\n        ",40],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_customer",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","customerRepository",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getById",42],"(",["T_LNUMBER","1",42],")",";",["T_WHITESPACE","\n\n        ",42],["T_DOC_COMMENT","\/** @var \\Magento\\Sales\\Model\\Order\\Address $address *\/",44],["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_address",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","TestFramework",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Helper",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Bootstrap",45],["T_DOUBLE_COLON","::",45],["T_STRING","getObjectManager",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","create",45],"(",["T_WHITESPACE","\n            ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Quote",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Quote",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Address",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_address",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setId",48],"(",["T_LNUMBER","1",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_address",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","load",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_address",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getId",49],"(",")",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_address",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","setQuote",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_quote",50],")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","tearDown",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\CustomerRegistry $customerRegistry *\/",55],["T_WHITESPACE","\n        ",55],["T_VARIABLE","$customerRegistry",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","TestFramework",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Helper",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Bootstrap",56],["T_DOUBLE_COLON","::",56],["T_STRING","getObjectManager",56],"(",")",["T_WHITESPACE","\n            ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Customer",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","CustomerRegistry",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n        ",57],["T_COMMENT","\/\/Cleanup customer from registry\n",58],["T_WHITESPACE","        ",59],["T_VARIABLE","$customerRegistry",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","remove",59],"(",["T_LNUMBER","1",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * same_as_billing must be equal 0 if billing address is being saved\n     *\n     * @param bool $unsetId\n     * @dataProvider unsetAddressIdDataProvider\n     *\/",62],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","testSameAsBillingForBillingAddress",68],"(",["T_VARIABLE","$unsetId",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_quote",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setCustomer",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_customer",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$address",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_quote",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getBillingAddress",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$unsetId",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$address",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setId",73],"(",["T_STRING","null",73],")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE","\n        ",74],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressRepository *\/",75],["T_WHITESPACE","\n        ",75],["T_VARIABLE","$addressRepository",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","Bootstrap",76],["T_DOUBLE_COLON","::",76],["T_STRING","getObjectManager",76],"(",")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","create",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Customer",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Api",77],["T_NS_SEPARATOR","\\",77],["T_STRING","AddressRepositoryInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$customerAddressData",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$addressRepository",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getById",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_customer",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getDefaultBilling",78],"(",")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$address",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setSameAsBilling",79],"(",["T_LNUMBER","0",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","setCustomerAddressData",79],"(",["T_VARIABLE","$customerAddressData",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","save",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEquals",80],"(",["T_LNUMBER","0",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_quote",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getBillingAddress",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getSameAsBilling",80],"(",")",")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * same_as_billing must be equal 1 if customer is guest\n     *\n     * @param bool $unsetId\n     * @dataProvider unsetAddressIdDataProvider\n     *\/",83],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testSameAsBillingWhenCustomerIsGuest",89],"(",["T_VARIABLE","$unsetId",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$shippingAddress",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_quote",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getShippingAddress",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$unsetId",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$shippingAddress",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setId",93],"(",["T_STRING","null",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$shippingAddress",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setSameAsBilling",95],"(",["T_LNUMBER","0",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$shippingAddress",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","save",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEquals",97],"(",["T_INT_CAST","(int)",97],["T_VARIABLE","$unsetId",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$shippingAddress",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getSameAsBilling",97],"(",")",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * same_as_billing must be equal 1 if quote address has no customer address\n     *\n     * @param bool $unsetId\n     * @dataProvider unsetAddressIdDataProvider\n     *\/",100],["T_WHITESPACE","\n    ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","testSameAsBillingWhenQuoteAddressHasNoCustomerAddress",106],"(",["T_VARIABLE","$unsetId",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_quote",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setCustomer",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_customer",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$shippingAddress",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_quote",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getShippingAddress",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$unsetId",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$shippingAddress",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setId",111],"(",["T_STRING","null",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$shippingAddress",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setSameAsBilling",113],"(",["T_LNUMBER","0",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","setCustomerAddressData",114],"(",["T_STRING","null",114],")",["T_WHITESPACE","\n            ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","save",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertEquals",116],"(",["T_INT_CAST","(int)",116],["T_VARIABLE","$unsetId",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_quote",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getShippingAddress",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","getSameAsBilling",116],"(",")",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * same_as_billing must be equal 1 if customer registered and he has no default shipping address\n     *\n     * @param bool $unsetId\n     * @dataProvider unsetAddressIdDataProvider\n     * @magentoDbIsolation enabled\n     *\/",119],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","testSameAsBillingWhenCustomerHasNoDefaultShippingAddress",126],"(",["T_VARIABLE","$unsetId",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressRepository *\/",128],["T_WHITESPACE","\n        ",128],["T_VARIABLE","$addressRepository",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Bootstrap",129],["T_DOUBLE_COLON","::",129],["T_STRING","getObjectManager",129],"(",")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","create",130],"(",["T_NS_SEPARATOR","\\",130],["T_STRING","Magento",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Customer",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Api",130],["T_NS_SEPARATOR","\\",130],["T_STRING","AddressRepositoryInterface",130],["T_DOUBLE_COLON","::",130],["T_CLASS","class",130],")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_customer",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setDefaultShipping",131],"(","-",["T_LNUMBER","1",131],")",["T_WHITESPACE","\n            ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","setAddresses",132],"(",["T_WHITESPACE","\n                ",132],"[",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$addressRepository",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getById",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_address",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getId",134],"(",")",")",",",["T_WHITESPACE","\n                ",134],"]",["T_WHITESPACE","\n            ",135],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_customer",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","customerRepository",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","save",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_customer",138],")",";",["T_WHITESPACE","\n        ",138],["T_COMMENT","\/\/ we should save the customer data in order to be able to use it\n",139],["T_WHITESPACE","        ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_quote",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setCustomer",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_customer",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_setCustomerAddressAndSave",141],"(",["T_VARIABLE","$unsetId",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$sameAsBilling",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_quote",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getShippingAddress",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getSameAsBilling",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEquals",143],"(",["T_INT_CAST","(int)",143],["T_VARIABLE","$unsetId",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$sameAsBilling",143],")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * same_as_billing must be equal 1 if customer has the same billing and shipping address\n     *\n     * @param bool $unsetId\n     * @dataProvider unsetAddressIdDataProvider\n     * @magentoDbIsolation enabled\n     *\/",146],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","testSameAsBillingWhenCustomerHasBillingSameShipping",153],"(",["T_VARIABLE","$unsetId",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_quote",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setCustomer",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_customer",155],")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_setCustomerAddressAndSave",156],"(",["T_VARIABLE","$unsetId",156],")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEquals",157],"(",["T_INT_CAST","(int)",157],["T_VARIABLE","$unsetId",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_quote",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getShippingAddress",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getSameAsBilling",157],"(",")",")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * same_as_billing must be equal 0 if customer has default shipping address that differs from default billing\n     *\n     * @magentoDbIsolation enabled\n     *\/",160],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","testSameAsBillingWhenCustomerHasDefaultShippingAddress",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressRepository *\/",167],["T_WHITESPACE","\n        ",167],["T_VARIABLE","$addressRepository",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","Bootstrap",168],["T_DOUBLE_COLON","::",168],["T_STRING","getObjectManager",168],"(",")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","create",169],"(",["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Customer",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Api",169],["T_NS_SEPARATOR","\\",169],["T_STRING","AddressRepositoryInterface",169],["T_DOUBLE_COLON","::",169],["T_CLASS","class",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_customer",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setDefaultShipping",170],"(",["T_LNUMBER","2",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","setAddresses",171],"(","[",["T_VARIABLE","$addressRepository",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getById",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_address",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getId",171],"(",")",")","]",")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_customer",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","customerRepository",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","save",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_customer",172],")",";",["T_WHITESPACE","\n        ",172],["T_COMMENT","\/\/ we should save the customer data in order to be able to use it\n",173],["T_WHITESPACE","        ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_quote",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setCustomer",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_customer",174],")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$sameAsBilling",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_quote",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getShippingAddress",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getSameAsBilling",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEquals",177],"(",["T_LNUMBER","1",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$sameAsBilling",177],")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Assign customer address to quote address and save quote address\n     *\n     * @param bool $unsetId\n     *\/",180],["T_WHITESPACE","\n    ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","_setCustomerAddressAndSave",185],"(",["T_VARIABLE","$unsetId",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$shippingAddress",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_quote",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getShippingAddress",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$unsetId",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$shippingAddress",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setId",189],"(",["T_STRING","null",189],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressRepository *\/",191],["T_WHITESPACE","\n        ",191],["T_VARIABLE","$addressRepository",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","Bootstrap",192],["T_DOUBLE_COLON","::",192],["T_STRING","getObjectManager",192],"(",")",["T_WHITESPACE","\n            ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","create",193],"(",["T_NS_SEPARATOR","\\",193],["T_STRING","Magento",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Customer",193],["T_NS_SEPARATOR","\\",193],["T_STRING","Api",193],["T_NS_SEPARATOR","\\",193],["T_STRING","AddressRepositoryInterface",193],["T_DOUBLE_COLON","::",193],["T_CLASS","class",193],")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$shippingAddress",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setSameAsBilling",194],"(",["T_LNUMBER","0",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","setCustomerAddressData",195],"(",["T_VARIABLE","$addressRepository",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getById",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_customer",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getDefaultBilling",195],"(",")",")",")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","save",196],"(",")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","unsetAddressIdDataProvider",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],"[","[",["T_STRING","true",201],"]",",",["T_WHITESPACE"," ",201],"[",["T_STRING","false",201],"]","]",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Import customer address to quote address\n     *\/",204],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","testImportCustomerAddressDataWithCustomer",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$customerIdFromFixture",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_LNUMBER","1",209],";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$customerEmailFromFixture",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",210],";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$city",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'TestCity'",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$street",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'Street1'",212],";",["T_WHITESPACE","\n\n        ",212],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\AddressInterfaceFactory $addressFactory *\/",214],["T_WHITESPACE","\n        ",214],["T_VARIABLE","$addressFactory",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","Bootstrap",215],["T_DOUBLE_COLON","::",215],["T_STRING","getObjectManager",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","create",215],"(",["T_WHITESPACE","\n            ",215],["T_NS_SEPARATOR","\\",216],["T_STRING","Magento",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Customer",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Api",216],["T_NS_SEPARATOR","\\",216],["T_STRING","Data",216],["T_NS_SEPARATOR","\\",216],["T_STRING","AddressInterfaceFactory",216],["T_DOUBLE_COLON","::",216],["T_CLASS","class",216],["T_WHITESPACE","\n        ",216],")",";",["T_WHITESPACE","\n        ",217],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\AddressRepositoryInterface $addressRepository *\/",218],["T_WHITESPACE","\n        ",218],["T_VARIABLE","$addressRepository",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","Bootstrap",219],["T_DOUBLE_COLON","::",219],["T_STRING","getObjectManager",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","create",219],"(",["T_WHITESPACE","\n            ",219],["T_NS_SEPARATOR","\\",220],["T_STRING","Magento",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Customer",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Api",220],["T_NS_SEPARATOR","\\",220],["T_STRING","AddressRepositoryInterface",220],["T_DOUBLE_COLON","::",220],["T_CLASS","class",220],["T_WHITESPACE","\n        ",220],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$addressData",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$addressFactory",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","create",222],"(",")",["T_WHITESPACE","\n            ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","setCustomerId",223],"(",["T_VARIABLE","$customerIdFromFixture",223],")",["T_WHITESPACE","\n            ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","setFirstname",224],"(",["T_CONSTANT_ENCAPSED_STRING","'John'",224],")",["T_WHITESPACE","\n            ",224],["T_OBJECT_OPERATOR","->",225],["T_STRING","setLastname",225],"(",["T_CONSTANT_ENCAPSED_STRING","'Doe'",225],")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","setTelephone",226],"(",["T_CONSTANT_ENCAPSED_STRING","'123456'",226],")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","setPostcode",227],"(",["T_CONSTANT_ENCAPSED_STRING","'12345'",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","setCountryId",228],"(",["T_LNUMBER","1",228],")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","setCity",229],"(",["T_VARIABLE","$city",229],")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","setStreet",230],"(","[",["T_VARIABLE","$street",230],"]",")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$addressData",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$addressRepository",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","save",231],"(",["T_VARIABLE","$addressData",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_address",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setQuote",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_quote",232],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_address",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","importCustomerAddressData",233],"(",["T_VARIABLE","$addressData",233],")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertEquals",235],"(",["T_VARIABLE","$customerEmailFromFixture",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_address",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getEmail",235],"(",")",",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'Email was imported incorrectly.'",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertEquals",236],"(",["T_VARIABLE","$city",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_address",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getCity",236],"(",")",",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'City was imported incorrectly.'",236],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertEquals",237],"(",["T_VARIABLE","$street",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_address",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getStreetFull",237],"(",")",",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'Imported street is invalid.'",237],")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Export customer address from quote address\n     *\/",240],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","testExportCustomerAddressData",243],"(",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$street",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],"[",["T_CONSTANT_ENCAPSED_STRING","'Street1'",245],"]",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$company",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'TestCompany'",246],";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_address",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","setStreet",248],"(",["T_VARIABLE","$street",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_address",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","setCompany",249],"(",["T_VARIABLE","$company",249],")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$customerAddress",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_address",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","exportCustomerAddress",251],"(",")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEquals",253],"(",["T_VARIABLE","$street",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$customerAddress",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getStreet",253],"(",")",",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'Street was exported incorrectly.'",253],")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","assertEquals",254],"(",["T_VARIABLE","$company",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$customerAddress",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getCompany",254],"(",")",",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Company was exported incorrectly.'",254],")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","testPopulateBeforeSaveData",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_DOC_COMMENT","\/** Preconditions *\/",259],["T_WHITESPACE","\n        ",259],["T_VARIABLE","$customerId",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_LNUMBER","1",260],";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$customerAddressId",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_LNUMBER","1",261],";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_address",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setQuote",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_quote",263],")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertNotEquals",264],"(",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$customerId",265],",",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_address",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getCustomerId",266],"(",")",",",["T_WHITESPACE","\n            ",266],["T_CONSTANT_ENCAPSED_STRING","\"Precondition failed: Customer ID was not set.\"",267],["T_WHITESPACE","\n        ",267],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertNotEquals",269],"(",["T_LNUMBER","1",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_address",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getQuoteId",269],"(",")",",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","\"Precondition failed: Quote ID was not set.\"",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertNotEquals",270],"(",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$customerAddressId",271],",",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_address",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getCustomerAddressId",272],"(",")",",",["T_WHITESPACE","\n            ",272],["T_CONSTANT_ENCAPSED_STRING","\"Precondition failed: Customer address ID was not set.\"",273],["T_WHITESPACE","\n        ",273],")",";",["T_WHITESPACE","\n\n        ",274],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\Data\\AddressInterfaceFactory $addressFactory *\/",276],["T_WHITESPACE","\n        ",276],["T_VARIABLE","$addressFactory",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","Bootstrap",277],["T_DOUBLE_COLON","::",277],["T_STRING","getObjectManager",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","create",277],"(",["T_WHITESPACE","\n            ",277],["T_NS_SEPARATOR","\\",278],["T_STRING","Magento",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Customer",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Api",278],["T_NS_SEPARATOR","\\",278],["T_STRING","Data",278],["T_NS_SEPARATOR","\\",278],["T_STRING","AddressInterfaceFactory",278],["T_DOUBLE_COLON","::",278],["T_CLASS","class",278],["T_WHITESPACE","\n        ",278],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$customerAddressData",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$addressFactory",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","create",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","setId",280],"(",["T_VARIABLE","$customerAddressId",280],")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_address",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","setCustomerAddressData",281],"(",["T_VARIABLE","$customerAddressData",281],")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_address",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","save",282],"(",")",";",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","assertEquals",284],"(",["T_VARIABLE","$customerId",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_address",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getCustomerId",284],"(",")",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertEquals",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_quote",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getId",285],"(",")",",",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_address",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getQuoteId",285],"(",")",")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertEquals",286],"(",["T_VARIABLE","$customerAddressId",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_address",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getCustomerAddressId",286],"(",")",")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Tests\n     *\n     * @covers \\Magento\\Quote\\Model\\Quote\\Address::setAppliedTaxes()\n     * @covers \\Magento\\Quote\\Model\\Quote\\Address::getAppliedTaxes()\n     * @dataProvider dataProvider\n     * @param $taxes\n     * @param $expected\n     *\/",289],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","testAppliedTaxes",298],"(",["T_VARIABLE","$taxes",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$expected",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_address",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","setAppliedTaxes",300],"(",["T_VARIABLE","$taxes",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","assertSame",302],"(",["T_VARIABLE","$expected",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_address",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getAppliedTaxes",302],"(",")",")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","dataProvider",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],"[",["T_WHITESPACE","\n            ",307],"[",["T_CONSTANT_ENCAPSED_STRING","'test'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'test'",308],"]",",",["T_WHITESPACE","\n            ",308],"[","[",["T_LNUMBER","123",309],",",["T_WHITESPACE"," ",309],["T_STRING","true",309],"]",",",["T_WHITESPACE"," ",309],"[",["T_LNUMBER","123",309],",",["T_WHITESPACE"," ",309],["T_STRING","true",309],"]","]",["T_WHITESPACE","\n        ",309],"]",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n",311],"}",["T_WHITESPACE","\n",312]]