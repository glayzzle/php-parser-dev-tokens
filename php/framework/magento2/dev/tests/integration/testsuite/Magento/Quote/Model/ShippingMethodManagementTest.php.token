[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Quote",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Class ShippingMethodManagementTest\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ShippingMethodManagementTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @magentoConfigFixture current_store carriers\/tablerate\/active 1\n     * @magentoConfigFixture current_store carriers\/tablerate\/condition_name package_qty\n     * @magentoDataFixture Magento\/SalesRule\/_files\/cart_rule_free_shipping.php\n     * @magentoDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoDataFixture Magento\/OfflineShipping\/_files\/tablerates.php\n     *\/",15],["T_WHITESPACE","\n    ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testEstimateByAddressWithCartPriceRule",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","executeTestFlow",26],"(",["T_LNUMBER","0",26],",",["T_WHITESPACE"," ",26],["T_LNUMBER","0",26],")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     * @magentoConfigFixture current_store carriers\/tablerate\/active 1\n     * @magentoConfigFixture current_store carriers\/tablerate\/condition_name package_qty\n     * @magentoDataFixture Magento\/Sales\/_files\/quote.php\n     * @magentoDataFixture Magento\/OfflineShipping\/_files\/tablerates.php\n     *\/",29],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testEstimateByAddress",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","executeTestFlow",39],"(",["T_LNUMBER","5",39],",",["T_WHITESPACE"," ",39],["T_LNUMBER","10",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Provide testing of shipping method estimation based on address\n     *\n     * @param int $flatRateAmount\n     * @param int $tableRateAmount\n     *\/",42],["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","executeTestFlow",48],"(",["T_VARIABLE","$flatRateAmount",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$tableRateAmount",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$objectManager",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","TestFramework",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Helper",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Bootstrap",50],["T_DOUBLE_COLON","::",50],["T_STRING","getObjectManager",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\Quote $quote *\/",51],["T_WHITESPACE","\n        ",51],["T_VARIABLE","$quote",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$objectManager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Quote",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Quote",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$quote",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","load",53],"(",["T_CONSTANT_ENCAPSED_STRING","'test01'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'reserved_order_id'",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$cartId",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$quote",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getId",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_VARIABLE","$cartId",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","fail",56],"(",["T_CONSTANT_ENCAPSED_STRING","'quote fixture failed'",56],")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n        ",57],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\QuoteIdMask $quoteIdMask *\/",58],["T_WHITESPACE","\n        ",58],["T_VARIABLE","$quoteIdMask",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","TestFramework",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Helper",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Bootstrap",59],["T_DOUBLE_COLON","::",59],["T_STRING","getObjectManager",59],"(",")",["T_WHITESPACE","\n            ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","create",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Quote",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Model",60],["T_NS_SEPARATOR","\\",60],["T_STRING","QuoteIdMaskFactory",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],")",["T_WHITESPACE","\n            ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","create",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$quoteIdMask",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","load",62],"(",["T_VARIABLE","$cartId",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'quote_id'",62],")",";",["T_WHITESPACE","\n        ",62],["T_COMMENT","\/\/Use masked cart Id\n",63],["T_WHITESPACE","        ",64],["T_VARIABLE","$cartId",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$quoteIdMask",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMaskedId",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$data",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"[",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'data'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],"[",["T_WHITESPACE","\n                ",66],["T_CONSTANT_ENCAPSED_STRING","'country_id'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"US\"",67],",",["T_WHITESPACE","\n                ",67],["T_CONSTANT_ENCAPSED_STRING","'postcode'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","null",68],",",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'region'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","null",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'region_id'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","null",70],["T_WHITESPACE","\n            ",70],"]",["T_WHITESPACE","\n        ",71],"]",";",["T_WHITESPACE","\n        ",72],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Api\\Data\\EstimateAddressInterface $address *\/",73],["T_WHITESPACE","\n        ",73],["T_VARIABLE","$address",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$objectManager",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","create",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Quote",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Api",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Data",74],["T_NS_SEPARATOR","\\",74],["T_STRING","EstimateAddressInterface",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$data",74],")",";",["T_WHITESPACE","\n        ",74],["T_DOC_COMMENT","\/** @var  \\Magento\\Quote\\Api\\GuestShippingMethodManagementInterface $shippingEstimation *\/",75],["T_WHITESPACE","\n        ",75],["T_VARIABLE","$shippingEstimation",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$objectManager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Quote",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Api",76],["T_NS_SEPARATOR","\\",76],["T_STRING","GuestShippingMethodManagementInterface",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$result",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$shippingEstimation",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","estimateByAddress",77],"(",["T_VARIABLE","$cartId",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$address",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertNotEmpty",78],"(",["T_VARIABLE","$result",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$expectedResult",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[",["T_WHITESPACE","\n            ",79],["T_CONSTANT_ENCAPSED_STRING","'tablerate'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE","\n                ",80],"[",["T_WHITESPACE","\n                    ",81],["T_CONSTANT_ENCAPSED_STRING","'method_code'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'bestway'",82],",",["T_WHITESPACE","\n                    ",82],["T_CONSTANT_ENCAPSED_STRING","'amount'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$tableRateAmount",83],["T_WHITESPACE","\n                ",83],"]",",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'flatrate'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],"[",["T_WHITESPACE","\n                ",85],["T_CONSTANT_ENCAPSED_STRING","'method_code'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'flatrate'",86],",",["T_WHITESPACE","\n                ",86],["T_CONSTANT_ENCAPSED_STRING","'amount'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$flatRateAmount",87],["T_WHITESPACE","\n            ",87],"]",["T_WHITESPACE","\n        ",88],"]",";",["T_WHITESPACE","\n        ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$result",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$rate",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEquals",91],"(",["T_VARIABLE","$expectedResult",91],"[",["T_VARIABLE","$rate",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCarrierCode",91],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'amount'",91],"]",",",["T_WHITESPACE"," ",91],["T_VARIABLE","$rate",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getAmount",91],"(",")",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEquals",92],"(",["T_VARIABLE","$expectedResult",92],"[",["T_VARIABLE","$rate",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getCarrierCode",92],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'method_code'",92],"]",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$rate",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getMethodCode",92],"(",")",")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n",94],"}",["T_WHITESPACE","\n",95]]