[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integrity",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * An integrity test that searches for references to static files and asserts that they are resolved via fallback\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","StaticFilesTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","PHPUnit_Framework_TestCase",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\StaticFile\n     *\/",14],["T_WHITESPACE","\n    ",16],["T_PRIVATE","private",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$fallback",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\FileResolution\\Fallback\\Resolver\\Simple\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$explicitFallback",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\Theme\\FlyweightFactory\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$themeRepo",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\DesignInterface\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$design",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\View\\Design\\ThemeInterface\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$baseTheme",37],";",["T_WHITESPACE","\n\n    ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$om",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","TestFramework",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Helper",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Bootstrap",41],["T_DOUBLE_COLON","::",41],["T_STRING","getObjectmanager",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","fallback",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$om",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_NS_SEPARATOR","\\",42],["T_STRING","Magento",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Framework",42],["T_NS_SEPARATOR","\\",42],["T_STRING","View",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Design",42],["T_NS_SEPARATOR","\\",42],["T_STRING","FileResolution",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Fallback",42],["T_NS_SEPARATOR","\\",42],["T_STRING","StaticFile",42],["T_DOUBLE_COLON","::",42],["T_CLASS","class",42],")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","explicitFallback",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$om",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_WHITESPACE","\n            ",43],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Framework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","View",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Design",44],["T_NS_SEPARATOR","\\",44],["T_STRING","FileResolution",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Fallback",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Resolver",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Simple",44],["T_DOUBLE_COLON","::",44],["T_CLASS","class",44],["T_WHITESPACE","\n        ",44],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","themeRepo",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$om",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","get",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Framework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","View",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Design",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Theme",46],["T_NS_SEPARATOR","\\",46],["T_STRING","FlyweightFactory",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","design",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$om",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Framework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","View",47],["T_NS_SEPARATOR","\\",47],["T_STRING","DesignInterface",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","baseTheme",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$om",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Framework",48],["T_NS_SEPARATOR","\\",48],["T_STRING","View",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Design",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ThemeInterface",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Scan references to files from other static files and assert they are correct\n     *\n     * The CSS or LESS files may refer to other resources using @import or url() notation\n     * We want to check integrity of all these references\n     * Note that the references may have syntax specific to the Magento preprocessing subsystem\n     *\n     * @param string $area\n     * @param string $themePath\n     * @param string $locale\n     * @param string $module\n     * @param string $filePath\n     * @param string $absolutePath\n     * @dataProvider referencesFromStaticFilesDataProvider\n     *\/",51],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testReferencesFromStaticFiles",66],"(",["T_VARIABLE","$area",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$themePath",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$locale",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$module",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$filePath",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$absolutePath",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$contents",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","file_get_contents",68],"(",["T_VARIABLE","$absolutePath",68],")",";",["T_WHITESPACE","\n        ",68],["T_STRING","preg_match_all",69],"(",["T_WHITESPACE","\n            ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Framework",70],["T_NS_SEPARATOR","\\",70],["T_STRING","View",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Url",70],["T_NS_SEPARATOR","\\",70],["T_STRING","CssResolver",70],["T_DOUBLE_COLON","::",70],["T_STRING","REGEX_CSS_RELATIVE_URLS",70],",",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$contents",71],",",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$matches",72],["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n        ",73],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$matches",74],"[",["T_LNUMBER","1",74],"]",["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$relatedResource",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_STRING","false",75],["T_WHITESPACE"," ",75],["T_IS_NOT_IDENTICAL","!==",75],["T_WHITESPACE"," ",75],["T_STRING","strpos",75],"(",["T_VARIABLE","$relatedResource",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'@'",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE"," ",75],["T_COMMENT","\/\/ unable to parse paths with LESS variables\/mixins\n",75],["T_WHITESPACE","                ",76],["T_CONTINUE","continue",76],";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE","\n            ",77],["T_LIST","list",78],"(",["T_VARIABLE","$relatedModule",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$relatedPath",78],")",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE","\n                ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Framework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","View",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Asset",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Repository",79],["T_DOUBLE_COLON","::",79],["T_STRING","extractModule",79],"(",["T_VARIABLE","$relatedResource",79],")",";",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$relatedModule",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$fallbackModule",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$relatedModule",81],";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE"," ",82],["T_ELSE","else",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_CONSTANT_ENCAPSED_STRING","'less'",83],["T_WHITESPACE"," ",83],["T_IS_EQUAL","==",83],["T_WHITESPACE"," ",83],["T_STRING","pathinfo",83],"(",["T_VARIABLE","$filePath",83],",",["T_WHITESPACE"," ",83],["T_STRING","PATHINFO_EXTENSION",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                    ",83],["T_DOC_COMMENT","\/**\n                     * The LESS library treats the related resources with relative links not in the same way as CSS:\n                     * when another LESS file is included, it is embedded directly into the resulting document, but the\n                     * relative paths of related resources are not adjusted accordingly to the new root file.\n                     * Probably it is a bug of the LESS library.\n                     *\/",84],["T_WHITESPACE","\n                    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","markTestSkipped",90],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Due to LESS library specifics, the '",90],["T_CURLY_OPEN","{",90],["T_VARIABLE","$relatedResource",90],"}",["T_ENCAPSED_AND_WHITESPACE","' cannot be tested.",90],"\"",")",";",["T_WHITESPACE","\n                ",90],"}",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$fallbackModule",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$module",92],";",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$relatedPath",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Magento",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Framework",93],["T_NS_SEPARATOR","\\",93],["T_STRING","View",93],["T_NS_SEPARATOR","\\",93],["T_STRING","FileSystem",93],["T_DOUBLE_COLON","::",93],["T_STRING","getRelatedPath",93],"(",["T_VARIABLE","$filePath",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$relatedResource",93],")",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE","\n            ",94],["T_COMMENT","\/\/ the $relatedPath will be suitable for feeding to the fallback system\n",95],["T_WHITESPACE","            ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertNotEmpty",96],"(",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getStaticFile",97],"(",["T_VARIABLE","$area",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$themePath",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$locale",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$relatedPath",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$fallbackModule",97],")",",",["T_WHITESPACE","\n                ",97],"\"",["T_ENCAPSED_AND_WHITESPACE","The related resource cannot be resolved through fallback: '",98],["T_CURLY_OPEN","{",98],["T_VARIABLE","$relatedResource",98],"}",["T_ENCAPSED_AND_WHITESPACE","'",98],"\"",["T_WHITESPACE","\n            ",98],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Get a default theme path for specified area\n     *\n     * @param string $area\n     * @return string\n     * @throws \\LogicException\n     *\/",103],["T_WHITESPACE","\n    ",109],["T_PRIVATE","private",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getDefaultThemePath",110],"(",["T_VARIABLE","$area",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_SWITCH","switch",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$area",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_CASE","case",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'frontend'",113],":",["T_WHITESPACE","\n                ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","design",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getConfigurationDesignTheme",114],"(",["T_VARIABLE","$area",114],")",";",["T_WHITESPACE","\n            ",114],["T_CASE","case",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",115],":",["T_WHITESPACE","\n                ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Magento\/backend'",116],";",["T_WHITESPACE","\n            ",116],["T_CASE","case",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'doc'",117],":",["T_WHITESPACE","\n                ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Magento\/blank'",118],";",["T_WHITESPACE","\n            ",118],["T_DEFAULT","default",119],":",["T_WHITESPACE","\n                ",119],["T_THROW","throw",120],["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","LogicException",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to determine theme path'",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Get static file through fallback system using specified params\n     *\n     * @param string $area\n     * @param string|\\Magento\\Framework\\View\\Design\\ThemeInterface $theme - either theme path (string) or theme object\n     * @param string $locale\n     * @param string $filePath\n     * @param string $module\n     * @param bool $isExplicit\n     * @return bool|string\n     *\/",124],["T_WHITESPACE","\n    ",134],["T_PRIVATE","private",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getStaticFile",135],"(",["T_VARIABLE","$area",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$theme",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$locale",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$filePath",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$module",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$isExplicit",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","false",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$area",137],["T_WHITESPACE"," ",137],["T_IS_EQUAL","==",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'base'",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$theme",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","baseTheme",138],";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_STRING","is_object",140],"(",["T_VARIABLE","$theme",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$themePath",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$theme",141],["T_WHITESPACE"," ",141],"?",":",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getDefaultThemePath",141],"(",["T_VARIABLE","$area",141],")",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$theme",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","themeRepo",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","create",142],"(",["T_VARIABLE","$themePath",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$area",142],")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$isExplicit",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$type",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Magento",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Framework",145],["T_NS_SEPARATOR","\\",145],["T_STRING","View",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Design",145],["T_NS_SEPARATOR","\\",145],["T_STRING","Fallback",145],["T_NS_SEPARATOR","\\",145],["T_STRING","RulePool",145],["T_DOUBLE_COLON","::",145],["T_STRING","TYPE_STATIC_FILE",145],";",["T_WHITESPACE","\n            ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","explicitFallback",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","resolve",146],"(",["T_VARIABLE","$type",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$filePath",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$area",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$theme",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$locale",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$module",146],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","fallback",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getFile",148],"(",["T_VARIABLE","$area",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$theme",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$locale",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$filePath",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$module",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",151],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","referencesFromStaticFilesDataProvider",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Framework",156],["T_NS_SEPARATOR","\\",156],["T_STRING","App",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Utility",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Files",156],["T_DOUBLE_COLON","::",156],["T_STRING","init",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getStaticPreProcessingFiles",156],"(",["T_CONSTANT_ENCAPSED_STRING","'*.{less,css}'",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * There must be either .css or .less file, because if there are both, then .less will not be found by fallback\n     *\n     * @param string $area\n     * @param string $themePath\n     * @param string $locale\n     * @param string $module\n     * @param string $filePath\n     * @dataProvider lessNotConfusedWithCssDataProvider\n     *\/",159],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","testLessNotConfusedWithCss",169],"(",["T_VARIABLE","$area",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$themePath",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$locale",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$module",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$filePath",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_STRING","false",171],["T_WHITESPACE"," ",171],["T_IS_NOT_IDENTICAL","!==",171],["T_WHITESPACE"," ",171],["T_STRING","strpos",171],"(",["T_VARIABLE","$filePath",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'widgets.css'",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$filePath",172],["T_WHITESPACE"," ",172],["T_CONCAT_EQUAL",".=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$fileName",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","pathinfo",174],"(",["T_VARIABLE","$filePath",174],",",["T_WHITESPACE"," ",174],["T_STRING","PATHINFO_FILENAME",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$dirName",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","dirname",175],"(",["T_VARIABLE","$filePath",175],")",";",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",176],["T_WHITESPACE"," ",176],["T_IS_EQUAL","==",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$dirName",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$dirName",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","''",177],";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE"," ",178],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$dirName",179],["T_WHITESPACE"," ",179],["T_CONCAT_EQUAL",".=",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/'",179],";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$cssPath",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$dirName",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_VARIABLE","$fileName",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'.css'",181],";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$lessPath",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$dirName",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE"," ",182],["T_VARIABLE","$fileName",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'.less'",182],";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$cssFile",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getStaticFile",183],"(",["T_VARIABLE","$area",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$themePath",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$locale",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$cssPath",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$module",183],",",["T_WHITESPACE"," ",183],["T_STRING","true",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$lessFile",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getStaticFile",184],"(",["T_VARIABLE","$area",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$themePath",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$locale",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$lessPath",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$module",184],",",["T_WHITESPACE"," ",184],["T_STRING","true",184],")",";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertFalse",185],"(",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$cssFile",186],["T_WHITESPACE"," ",186],["T_BOOLEAN_AND","&&",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$lessFile",186],",",["T_WHITESPACE","\n            ",186],"\"",["T_ENCAPSED_AND_WHITESPACE","A resource file of only one type must exist. Both found: '",187],["T_VARIABLE","$cssFile",187],["T_ENCAPSED_AND_WHITESPACE","' and '",187],["T_VARIABLE","$lessFile",187],["T_ENCAPSED_AND_WHITESPACE","'",187],"\"",["T_WHITESPACE","\n        ",187],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",191],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","lessNotConfusedWithCssDataProvider",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Magento",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Framework",196],["T_NS_SEPARATOR","\\",196],["T_STRING","App",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Utility",196],["T_NS_SEPARATOR","\\",196],["T_STRING","Files",196],["T_DOUBLE_COLON","::",196],["T_STRING","init",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getStaticPreProcessingFiles",196],"(",["T_CONSTANT_ENCAPSED_STRING","'*.{less,css}'",196],")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Test if references $this->getViewFileUrl() in .phtml-files are correct\n     *\n     * @param string $phtmlFile\n     * @param string $area\n     * @param string $themePath\n     * @param string $fileId\n     * @dataProvider referencesFromPhtmlFilesDataProvider\n     *\/",199],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","testReferencesFromPhtmlFiles",208],"(",["T_VARIABLE","$phtmlFile",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$area",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$themePath",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$fileId",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_LIST","list",210],"(",["T_VARIABLE","$module",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$filePath",210],")",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Framework",210],["T_NS_SEPARATOR","\\",210],["T_STRING","View",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Asset",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Repository",210],["T_DOUBLE_COLON","::",210],["T_STRING","extractModule",210],"(",["T_VARIABLE","$fileId",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertNotEmpty",211],"(",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getStaticFile",212],"(",["T_VARIABLE","$area",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$themePath",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'en_US'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$filePath",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$module",212],")",",",["T_WHITESPACE","\n            ",212],"\"",["T_ENCAPSED_AND_WHITESPACE","Unable to locate '",213],["T_CURLY_OPEN","{",213],["T_VARIABLE","$fileId",213],"}",["T_ENCAPSED_AND_WHITESPACE","' reference from ",213],["T_CURLY_OPEN","{",213],["T_VARIABLE","$phtmlFile",213],"}","\"",["T_WHITESPACE","\n        ",213],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",217],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","referencesFromPhtmlFilesDataProvider",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$result",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],"[","]",";",["T_WHITESPACE","\n        ",222],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_NS_SEPARATOR","\\",223],["T_STRING","Magento",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Framework",223],["T_NS_SEPARATOR","\\",223],["T_STRING","App",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Utility",223],["T_NS_SEPARATOR","\\",223],["T_STRING","Files",223],["T_DOUBLE_COLON","::",223],["T_STRING","init",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getPhtmlFiles",223],"(",["T_STRING","true",223],",",["T_WHITESPACE"," ",223],["T_STRING","false",223],")",["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$info",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_LIST","list",224],"(",["T_VARIABLE","$area",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$themePath",224],",",["T_WHITESPACE"," ",224],",",["T_WHITESPACE"," ",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$file",224],")",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$info",224],";",["T_WHITESPACE","\n            ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","collectGetViewFileUrl",225],"(",["T_VARIABLE","$file",225],")",["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$fileId",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$result",226],"[","]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],"[",["T_VARIABLE","$file",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$area",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$themePath",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$fileId",226],"]",";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$result",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Find invocations of $block->getViewFileUrl() and extract the first argument value\n     *\n     * @param string $file\n     * @return array\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PRIVATE","private",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","collectGetViewFileUrl",238],"(",["T_VARIABLE","$file",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$result",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[","]",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_STRING","preg_match_all",241],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\$block->getViewFileUrl\\(\\'([^\\']+?)\\'\\)\/'",241],",",["T_WHITESPACE"," ",241],["T_STRING","file_get_contents",241],"(",["T_VARIABLE","$file",241],")",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$matches",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_FOREACH","foreach",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$matches",242],"[",["T_LNUMBER","1",242],"]",["T_WHITESPACE"," ",242],["T_AS","as",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$fileId",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$result",243],"[","]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$fileId",243],";",["T_WHITESPACE","\n            ",243],"}",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$result",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * @param string $layoutFile\n     * @param string $area\n     * @param string $themePath\n     * @param string $fileId\n     * @dataProvider referencesFromLayoutFilesDataProvider\n     *\/",249],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","testReferencesFromLayoutFiles",256],"(",["T_VARIABLE","$layoutFile",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$area",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$themePath",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$fileId",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_LIST","list",258],"(",["T_VARIABLE","$module",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$filePath",258],")",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Magento",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Framework",258],["T_NS_SEPARATOR","\\",258],["T_STRING","View",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Asset",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Repository",258],["T_DOUBLE_COLON","::",258],["T_STRING","extractModule",258],"(",["T_VARIABLE","$fileId",258],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertNotEmpty",259],"(",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getStaticFile",260],"(",["T_VARIABLE","$area",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$themePath",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'en_US'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$filePath",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$module",260],")",",",["T_WHITESPACE","\n            ",260],"\"",["T_ENCAPSED_AND_WHITESPACE","Unable to locate '",261],["T_CURLY_OPEN","{",261],["T_VARIABLE","$fileId",261],"}",["T_ENCAPSED_AND_WHITESPACE","' reference from layout XML in ",261],["T_CURLY_OPEN","{",261],["T_VARIABLE","$layoutFile",261],"}","\"",["T_WHITESPACE","\n        ",261],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",265],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","referencesFromLayoutFilesDataProvider",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$result",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],"[","]",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$files",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Magento",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Framework",271],["T_NS_SEPARATOR","\\",271],["T_STRING","App",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Utility",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Files",271],["T_DOUBLE_COLON","::",271],["T_STRING","init",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getLayoutFiles",271],"(","[",["T_CONSTANT_ENCAPSED_STRING","'with_metainfo'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_STRING","true",271],"]",",",["T_WHITESPACE"," ",271],["T_STRING","false",271],")",";",["T_WHITESPACE","\n        ",271],["T_FOREACH","foreach",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$files",272],["T_WHITESPACE"," ",272],["T_AS","as",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$metaInfo",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_LIST","list",273],"(",["T_VARIABLE","$area",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$themePath",273],",",["T_WHITESPACE"," ",273],",",["T_WHITESPACE"," ",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$file",273],")",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$metaInfo",273],";",["T_WHITESPACE","\n            ",273],["T_FOREACH","foreach",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","collectFileIdsFromLayout",274],"(",["T_VARIABLE","$file",274],")",["T_WHITESPACE"," ",274],["T_AS","as",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$fileId",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$result",275],"[","]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],"[",["T_VARIABLE","$file",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$area",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$themePath",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$fileId",275],"]",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$result",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Collect view file declarations in layout XML-files\n     *\n     * @param string $file\n     * @return array\n     *\/",281],["T_WHITESPACE","\n    ",286],["T_PRIVATE","private",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","collectFileIdsFromLayout",287],"(",["T_VARIABLE","$file",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$xml",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","simplexml_load_file",289],"(",["T_VARIABLE","$file",289],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$elements",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$xml",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","xpath",290],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/head\/css|link|script'",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$result",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],"[","]",";",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$elements",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$elements",293],["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$node",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$result",294],"[","]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING_CAST","(string)",294],["T_VARIABLE","$node",294],";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$result",297],";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n",298],"}",["T_WHITESPACE","\n",299]]