[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integrity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Modular",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * AbstractMergedConfigTest can be used to test merging of config files\n *\/",8],["T_WHITESPACE","\n",10],["T_ABSTRACT","abstract",11],["T_WHITESPACE"," ",11],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","AbstractMergedConfigTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * attributes represent merging rules\n     * copied from original namespace Magento\\Framework\\App\\Route\\Config;\n     *\n     * class Reader\n     *\n     * @returns array\n     *\/",13],["T_WHITESPACE","\n    ",20],["T_ABSTRACT","abstract",21],["T_WHITESPACE"," ",21],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","getIdAttributes",21],"(",")",";",["T_WHITESPACE","\n\n    ",21],["T_DOC_COMMENT","\/**\n     * Path to tough XSD for merged file validation\n     *\n     * @returns string\n     *\/",23],["T_WHITESPACE","\n    ",27],["T_ABSTRACT","abstract",28],["T_WHITESPACE"," ",28],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","getMergedSchemaFile",28],"(",")",";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * Returns an array of config files to test\n     *\n     * @return array\n     *\/",30],["T_WHITESPACE","\n    ",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","getConfigFiles",35],"(",")",";",["T_WHITESPACE","\n\n    ",35],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testMergedConfigFiles",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$invalidFiles",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],"[","]",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$files",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getConfigFiles",41],"(",")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$validationStateMock",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMock",42],"(",["T_WHITESPACE","\n            ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Framework",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Config",43],["T_NS_SEPARATOR","\\",43],["T_STRING","ValidationStateInterface",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],",",["T_WHITESPACE","\n            ",43],"[","]",",",["T_WHITESPACE","\n            ",44],"[","]",",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","''",46],",",["T_WHITESPACE","\n            ",46],["T_STRING","false",47],["T_WHITESPACE","\n        ",47],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$validationStateMock",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","method",49],"(",["T_CONSTANT_ENCAPSED_STRING","'isValidationRequired'",49],")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","willReturn",50],"(",["T_STRING","false",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$mergedConfig",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Framework",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Config",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Dom",51],"(",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'<config xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\"><\/config>'",52],",",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$validationStateMock",53],",",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getIdAttributes",54],"(",")",["T_WHITESPACE","\n        ",54],")",";",["T_WHITESPACE","\n\n        ",55],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$files",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$file",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$content",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","file_get_contents",58],"(",["T_VARIABLE","$file",58],"[",["T_LNUMBER","0",58],"]",")",";",["T_WHITESPACE","\n            ",58],["T_TRY","try",59],["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$validationStateMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",["T_WHITESPACE","\n                    ",60],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Framework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Config",61],["T_NS_SEPARATOR","\\",61],["T_STRING","ValidationStateInterface",61],["T_DOUBLE_COLON","::",61],["T_CLASS","class",61],",",["T_WHITESPACE","\n                    ",61],"[","]",",",["T_WHITESPACE","\n                    ",62],"[","]",",",["T_WHITESPACE","\n                    ",63],["T_CONSTANT_ENCAPSED_STRING","''",64],",",["T_WHITESPACE","\n                    ",64],["T_STRING","false",65],["T_WHITESPACE","\n                ",65],")",";",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$validationStateMock",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","method",67],"(",["T_CONSTANT_ENCAPSED_STRING","'isValidationRequired'",67],")",["T_WHITESPACE","\n                    ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","willReturn",68],"(",["T_STRING","true",68],")",";",["T_WHITESPACE","\n                ",68],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Config",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Dom",69],"(",["T_VARIABLE","$content",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$validationStateMock",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getIdAttributes",69],"(",")",")",";",["T_WHITESPACE","\n                ",69],["T_COMMENT","\/\/merge won't be performed if file is invalid because of exception thrown\n",70],["T_WHITESPACE","                ",71],["T_VARIABLE","$mergedConfig",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","merge",71],"(",["T_VARIABLE","$content",71],")",";",["T_WHITESPACE","\n            ",71],"}",["T_WHITESPACE"," ",72],["T_CATCH","catch",72],["T_WHITESPACE"," ",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Magento",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Framework",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Config",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Dom",72],["T_NS_SEPARATOR","\\",72],["T_STRING","ValidationException",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$e",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$invalidFiles",73],"[","]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$file",73],"[",["T_LNUMBER","0",73],"]",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_EMPTY","empty",77],"(",["T_VARIABLE","$invalidFiles",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fail",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Found broken files: '",78],["T_WHITESPACE"," ",78],".",["T_WHITESPACE"," ",78],["T_STRING","implode",78],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$invalidFiles",78],")",")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$errors",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$mergedConfig",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","validate",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getMergedSchemaFile",82],"(",")",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$errors",82],")",";",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$errors",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","fail",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Merged routes config is invalid: '",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_STRING","implode",84],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$errors",84],")",")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n",86],"}",["T_WHITESPACE","\n",87]]