[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Bundle",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Product",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Bundle\\Model\\Product\\Type (bundle product type)\n *\n * @magentoDataFixture Magento\/Bundle\/_files\/issaleable_product.php\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","IsSaleableTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_NS_SEPARATOR","\\",14],["T_STRING","PHPUnit_Framework_TestCase",14],["T_WHITESPACE","\n",14],"{",["T_WHITESPACE","\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",16],["T_WHITESPACE","\n    ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$objectManager",19],";",["T_WHITESPACE","\n\n    ",19],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface\n     *\/",21],["T_WHITESPACE","\n    ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$productRepository",24],";",["T_WHITESPACE","\n\n    ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE","\n    ",26],"{",["T_WHITESPACE","\n        ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","objectManager",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Magento",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFramework",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Helper",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Bootstrap",28],["T_DOUBLE_COLON","::",28],["T_STRING","getObjectManager",28],"(",")",";",["T_WHITESPACE","\n        ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","productRepository",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","objectManager",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","get",29],"(",["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Catalog",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Api",29],["T_NS_SEPARATOR","\\",29],["T_STRING","ProductRepositoryInterface",29],["T_DOUBLE_COLON","::",29],["T_CLASS","class",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Check bundle product is saleable if his status is enabled\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",32],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testIsSaleableOnEnabledStatus",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$bundleProduct",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","productRepository",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$bundleProduct",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","setStatus",41],"(",["T_NS_SEPARATOR","\\",41],["T_STRING","Magento",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Catalog",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Model",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Product",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Attribute",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Source",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Status",41],["T_DOUBLE_COLON","::",41],["T_STRING","STATUS_ENABLED",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertTrue",43],"(",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$bundleProduct",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","isSalable",44],"(",")",",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be saleable \n            if his status is enabled'",45],["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if his status is disabled\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",50],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","testIsSaleableOnDisabledStatus",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$bundleProduct",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","productRepository",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$bundleProduct",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setStatus",59],"(",["T_NS_SEPARATOR","\\",59],["T_STRING","Magento",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Catalog",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Model",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Product",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Attribute",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Source",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Status",59],["T_DOUBLE_COLON","::",59],["T_STRING","STATUS_DISABLED",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertFalse",61],"(",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$bundleProduct",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","isSalable",62],"(",")",",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if his status is disabled'",63],["T_WHITESPACE","\n        ",64],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Check bundle product is saleable if his status is enabled\n     * and it has internal data is_salable = true\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",68],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testIsSaleableOnEnabledStatusAndIsSalableIsTrue",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$bundleProduct",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","productRepository",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$bundleProduct",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setStatus",78],"(",["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Catalog",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Model",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Product",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Attribute",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Source",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Status",78],["T_DOUBLE_COLON","::",78],["T_STRING","STATUS_ENABLED",78],")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$bundleProduct",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setData",79],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",79],",",["T_WHITESPACE"," ",79],["T_STRING","true",79],")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertTrue",81],"(",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$bundleProduct",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","isSalable",82],"(",")",",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be saleable \n            if his status is enabled and it has data is_salable = true'",83],["T_WHITESPACE","\n        ",84],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if\n     * his status is enabled but his data is_salable = false\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",88],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testIsSaleableOnEnabledStatusAndIsSalableIsFalse",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$bundleProduct",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","productRepository",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$bundleProduct",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setStatus",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Catalog",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Product",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Attribute",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Source",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Status",98],["T_DOUBLE_COLON","::",98],["T_STRING","STATUS_ENABLED",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$bundleProduct",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setData",99],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",99],",",["T_WHITESPACE"," ",99],["T_STRING","false",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertFalse",101],"(",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$bundleProduct",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","isSalable",102],"(",")",",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if his status is enabled but his data is_salable = false'",103],["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Check bundle product is saleable if it has all_items_salable = true\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testIsSaleableOnAllItemsSalableIsTrue",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$bundleProduct",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","productRepository",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$bundleProduct",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setData",117],"(",["T_CONSTANT_ENCAPSED_STRING","'all_items_salable'",117],",",["T_WHITESPACE"," ",117],["T_STRING","true",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertTrue",119],"(",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$bundleProduct",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","isSalable",120],"(",")",",",["T_WHITESPACE","\n            ",120],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be saleable \n            if it has data all_items_salable = true'",121],["T_WHITESPACE","\n        ",122],")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if it has all_items_salable = false\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testIsSaleableOnAllItemsSalableIsFalse",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$bundleProduct",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","productRepository",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","get",134],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$bundleProduct",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setData",135],"(",["T_CONSTANT_ENCAPSED_STRING","'all_items_salable'",135],",",["T_WHITESPACE"," ",135],["T_STRING","false",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertFalse",137],"(",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$bundleProduct",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isSalable",138],"(",")",",",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if it has data all_items_salable = false'",139],["T_WHITESPACE","\n        ",140],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if it has no options\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","testIsSaleableOnBundleWithoutOptions",150],"(",")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$optionRepository",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","objectManager",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","create",152],"(",["T_NS_SEPARATOR","\\",152],["T_STRING","Magento",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Bundle",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Api",152],["T_NS_SEPARATOR","\\",152],["T_STRING","ProductOptionRepositoryInterface",152],["T_DOUBLE_COLON","::",152],["T_CLASS","class",152],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$bundleProduct",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","productRepository",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","get",153],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",153],")",";",["T_WHITESPACE","\n\n        ",153],["T_COMMENT","\/\/ TODO: make cleaner option deletion after fix MAGETWO-59465\n",155],["T_WHITESPACE","        ",156],["T_VARIABLE","$ea",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$bundleProduct",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getExtensionAttributes",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_FOREACH","foreach",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$ea",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getBundleProductOptions",157],"(",")",["T_WHITESPACE"," ",157],["T_AS","as",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$option",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$optionRepository",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","delete",158],"(",["T_VARIABLE","$option",158],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$ea",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setBundleProductOptions",160],"(","[","]",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$bundleProduct",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setExtensionAttributes",161],"(",["T_VARIABLE","$ea",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$bundleProduct",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","productRepository",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","save",163],"(",["T_VARIABLE","$bundleProduct",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertFalse",165],"(",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$bundleProduct",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","isSalable",166],"(",")",",",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if it has no options'",167],["T_WHITESPACE","\n        ",168],")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if it has no selections\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","testIsSaleableOnBundleWithoutSelections",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$bundleProduct",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","productRepository",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","get",180],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",180],",",["T_WHITESPACE"," ",180],["T_STRING","true",180],",",["T_WHITESPACE"," ",180],["T_STRING","null",180],",",["T_WHITESPACE"," ",180],["T_STRING","true",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$bundleType",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$bundleProduct",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getTypeInstance",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_DOC_COMMENT","\/** @var  \\Magento\\Bundle\\Model\\LinkManagement $linkManager *\/",182],["T_WHITESPACE","\n        ",182],["T_VARIABLE","$linkManager",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","objectManager",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","create",183],"(",["T_NS_SEPARATOR","\\",183],["T_STRING","Magento",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Bundle",183],["T_NS_SEPARATOR","\\",183],["T_STRING","Model",183],["T_NS_SEPARATOR","\\",183],["T_STRING","LinkManagement",183],["T_DOUBLE_COLON","::",183],["T_CLASS","class",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_DOC_COMMENT","\/** @var \\Magento\\Bundle\\Model\\Product\\Type $bundleType *\/",185],["T_WHITESPACE","\n        ",185],["T_VARIABLE","$options",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$bundleType",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getOptionsCollection",186],"(",["T_VARIABLE","$bundleProduct",186],")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$selections",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$bundleType",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getSelectionsCollection",187],"(",["T_VARIABLE","$options",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getAllIds",187],"(",")",",",["T_WHITESPACE"," ",187],["T_VARIABLE","$bundleProduct",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$selections",189],["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$link",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_DOC_COMMENT","\/** @var \\Magento\\Bundle\\Model\\Selection $link *\/",190],["T_WHITESPACE","\n            ",190],["T_VARIABLE","$linkManager",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","removeChild",191],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$link",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getOptionId",191],"(",")",",",["T_WHITESPACE"," ",191],["T_VARIABLE","$link",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getSku",191],"(",")",")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$bundleProduct",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","productRepository",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","get",194],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",194],",",["T_WHITESPACE"," ",194],["T_STRING","false",194],",",["T_WHITESPACE"," ",194],["T_STRING","null",194],",",["T_WHITESPACE"," ",194],["T_STRING","true",194],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertFalse",195],"(",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$bundleProduct",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","isSalable",196],"(",")",",",["T_WHITESPACE","\n            ",196],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if it has no selections'",197],["T_WHITESPACE","\n        ",198],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if\n     * all his selections are not saleable\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",202],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","testIsSaleableOnBundleWithoutSaleableSelections",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$productsSku",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'simple2'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'simple3'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'simple4'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'simple5'",211],"]",";",["T_WHITESPACE","\n        ",211],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$productsSku",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$productSku",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$product",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","productRepository",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_VARIABLE","$productSku",213],")",";",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$product",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setStatus",214],"(",["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Catalog",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Model",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Product",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Attribute",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Source",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Status",214],["T_DOUBLE_COLON","::",214],["T_STRING","STATUS_DISABLED",214],")",";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","productRepository",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","save",215],"(",["T_VARIABLE","$product",215],")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$bundleProduct",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","productRepository",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","get",218],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",218],")",";",["T_WHITESPACE","\n\n        ",218],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertFalse",220],"(",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$bundleProduct",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","isSalable",221],"(",")",",",["T_WHITESPACE","\n            ",221],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if all his selections are not saleable'",222],["T_WHITESPACE","\n        ",223],")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if\n     * it has at least one required option without saleable selections\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",227],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","testIsSaleableOnBundleWithoutSaleableSelectionsOnRequiredOption",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$productsSku",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],"[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'simple2'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'simple3'",236],"]",";",["T_WHITESPACE","\n        ",236],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$productsSku",237],["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$productSku",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$product",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","productRepository",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","get",238],"(",["T_VARIABLE","$productSku",238],")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$product",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setStatus",239],"(",["T_NS_SEPARATOR","\\",239],["T_STRING","Magento",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Catalog",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Model",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Product",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Attribute",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Source",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Status",239],["T_DOUBLE_COLON","::",239],["T_STRING","STATUS_DISABLED",239],")",";",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","productRepository",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","save",240],"(",["T_VARIABLE","$product",240],")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n\n        ",241],["T_VARIABLE","$bundleProduct",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","productRepository",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","get",243],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",243],")",";",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertFalse",245],"(",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$bundleProduct",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","isSalable",246],"(",")",",",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if it has at least one required option with no saleable selections'",247],["T_WHITESPACE","\n        ",248],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Check bundle product is NOT saleable if\n     * there are not enough qty of selection on required option\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",252],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","testIsSaleableOnBundleWithNotEnoughQtyOfSelection",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","setQtyForSelections",261],"(","[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'simple2'",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'simple3'",261],"]",",",["T_WHITESPACE"," ",261],["T_LNUMBER","1",261],")",";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$bundleProduct",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","productRepository",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",263],")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertFalse",265],"(",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$bundleProduct",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","isSalable",266],"(",")",",",["T_WHITESPACE","\n            ",266],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be non saleable \n            if there are not enough qty of selections on required options'",267],["T_WHITESPACE","\n        ",268],")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Check bundle product is saleable if\n     * all his selections have selection_can_change_qty = 1\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",272],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","testIsSaleableOnBundleWithSelectionCanChangeQty",279],"(",")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","setQtyForSelections",281],"(","[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'simple2'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'simple3'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'simple4'",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'simple5'",281],"]",",",["T_WHITESPACE"," ",281],["T_LNUMBER","1",281],")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$bundleProduct",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","productRepository",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","get",282],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$options",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$bundleProduct",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getExtensionAttributes",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","getBundleProductOptions",283],"(",")",";",["T_WHITESPACE","\n\n        ",283],["T_FOREACH","foreach",285],["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$options",285],["T_WHITESPACE"," ",285],["T_AS","as",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$productOption",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$links",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$productOption",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getProductLinks",286],"(",")",";",["T_WHITESPACE","\n            ",286],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$links",287],["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$link",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$link",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","setSelectionCanChangeQuantity",288],"(",["T_LNUMBER","1",288],")",";",["T_WHITESPACE","\n            ",288],"}",["T_WHITESPACE","\n\n            ",289],["T_VARIABLE","$productOption",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","setProductLinks",291],"(",["T_VARIABLE","$links",291],")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$extension",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$bundleProduct",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getExtensionAttributes",294],"(",")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$extension",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","setBundleProductOptions",295],"(",["T_VARIABLE","$options",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$bundleProduct",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","setExtensionAttributes",296],"(",["T_VARIABLE","$extension",296],")",";",["T_WHITESPACE","\n\n        ",296],["T_VARIABLE","$bundleProduct",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","productRepository",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","save",298],"(",["T_VARIABLE","$bundleProduct",298],")",";",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertTrue",300],"(",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$bundleProduct",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","isSalable",301],"(",")",",",["T_WHITESPACE","\n            ",301],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be saleable \n            if all his selections have selection_can_change_qty = 1'",302],["T_WHITESPACE","\n        ",303],")",";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Check bundle product is not saleable if\n     * all his options are not required and selections are not saleable\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",307],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","testIsSaleableOnBundleWithoutRequiredOptions",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_COMMENT","\/\/ making selections as not saleable\n",316],["T_WHITESPACE","        ",317],["T_VARIABLE","$productsSku",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],"[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'simple2'",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'simple3'",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'simple4'",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'simple5'",317],"]",";",["T_WHITESPACE","\n        ",317],["T_FOREACH","foreach",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$productsSku",318],["T_WHITESPACE"," ",318],["T_AS","as",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$productSku",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$product",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","productRepository",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","get",319],"(",["T_VARIABLE","$productSku",319],")",";",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$product",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","setStatus",320],"(",["T_NS_SEPARATOR","\\",320],["T_STRING","Magento",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Catalog",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Model",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Product",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Attribute",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Source",320],["T_NS_SEPARATOR","\\",320],["T_STRING","Status",320],["T_DOUBLE_COLON","::",320],["T_STRING","STATUS_DISABLED",320],")",";",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","productRepository",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","save",321],"(",["T_VARIABLE","$product",321],")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$bundleProduct",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","productRepository",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","get",324],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",324],")",";",["T_WHITESPACE","\n\n        ",324],["T_COMMENT","\/\/ setting all options as not required\n",326],["T_WHITESPACE","        ",327],["T_VARIABLE","$options",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$bundleProduct",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getExtensionAttributes",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","getBundleProductOptions",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_FOREACH","foreach",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$options",328],["T_WHITESPACE"," ",328],["T_AS","as",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$productOption",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$productOption",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","setRequired",329],"(",["T_STRING","false",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$extension",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$bundleProduct",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getExtensionAttributes",332],"(",")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$extension",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","setBundleProductOptions",333],"(",["T_VARIABLE","$options",333],")",";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$bundleProduct",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","setExtensionAttributes",334],"(",["T_VARIABLE","$extension",334],")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$bundleProduct",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","productRepository",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","save",335],"(",["T_VARIABLE","$bundleProduct",335],")",";",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertFalse",337],"(",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$bundleProduct",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","isSalable",338],"(",")",",",["T_WHITESPACE","\n            ",338],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be not saleable \n            if all his options are not required and selections are not saleable'",339],["T_WHITESPACE","\n        ",340],")",";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Check bundle product is saleable if\n     * it has at least one not required option with saleable selections\n     *\n     * @magentoAppIsolation enabled\n     * @covers \\Magento\\Bundle\\Model\\Product\\Type::isSalable\n     *\/",344],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","testIsSaleableOnBundleWithOneSaleableSelection",351],"(",")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_COMMENT","\/\/ making selections as not saleable except simple3\n",353],["T_WHITESPACE","        ",354],["T_VARIABLE","$productsSku",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],"[",["T_CONSTANT_ENCAPSED_STRING","'simple1'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'simple2'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'simple4'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'simple5'",354],"]",";",["T_WHITESPACE","\n\n        ",354],["T_FOREACH","foreach",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$productsSku",356],["T_WHITESPACE"," ",356],["T_AS","as",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$productSku",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$product",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","productRepository",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","get",357],"(",["T_VARIABLE","$productSku",357],")",";",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$product",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","setStatus",358],"(",["T_NS_SEPARATOR","\\",358],["T_STRING","Magento",358],["T_NS_SEPARATOR","\\",358],["T_STRING","Catalog",358],["T_NS_SEPARATOR","\\",358],["T_STRING","Model",358],["T_NS_SEPARATOR","\\",358],["T_STRING","Product",358],["T_NS_SEPARATOR","\\",358],["T_STRING","Attribute",358],["T_NS_SEPARATOR","\\",358],["T_STRING","Source",358],["T_NS_SEPARATOR","\\",358],["T_STRING","Status",358],["T_DOUBLE_COLON","::",358],["T_STRING","STATUS_DISABLED",358],")",";",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","productRepository",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","save",359],"(",["T_VARIABLE","$product",359],")",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_VARIABLE","$bundleProduct",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","productRepository",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","get",362],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle-product'",362],")",";",["T_WHITESPACE","\n\n        ",362],["T_COMMENT","\/\/ setting all options as not required\n",364],["T_WHITESPACE","        ",365],["T_VARIABLE","$options",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$bundleProduct",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getExtensionAttributes",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","getBundleProductOptions",365],"(",")",";",["T_WHITESPACE","\n        ",365],["T_FOREACH","foreach",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$options",366],["T_WHITESPACE"," ",366],["T_AS","as",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$productOption",366],")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$productOption",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","setRequired",367],"(",["T_STRING","false",367],")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n\n        ",368],["T_VARIABLE","$extension",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$bundleProduct",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getExtensionAttributes",370],"(",")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$extension",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","setBundleProductOptions",371],"(",["T_VARIABLE","$options",371],")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$bundleProduct",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","setExtensionAttributes",372],"(",["T_VARIABLE","$extension",372],")",";",["T_WHITESPACE","\n\n        ",372],["T_VARIABLE","$bundleProduct",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","productRepository",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","save",374],"(",["T_VARIABLE","$bundleProduct",374],")",";",["T_WHITESPACE","\n\n        ",374],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertTrue",376],"(",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$bundleProduct",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","isSalable",377],"(",")",",",["T_WHITESPACE","\n            ",377],["T_CONSTANT_ENCAPSED_STRING","'Bundle product supposed to be saleable \n            if it has at least one not required option with saleable selection'",378],["T_WHITESPACE","\n        ",379],")",";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_PRIVATE","private",383],["T_WHITESPACE"," ",383],["T_FUNCTION","function",383],["T_WHITESPACE"," ",383],["T_STRING","setQtyForSelections",383],"(",["T_VARIABLE","$productsSku",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$qty",383],")",["T_WHITESPACE","\n    ",383],"{",["T_WHITESPACE","\n        ",384],["T_FOREACH","foreach",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$productsSku",385],["T_WHITESPACE"," ",385],["T_AS","as",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$productSku",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$product",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","productRepository",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","get",386],"(",["T_VARIABLE","$productSku",386],")",";",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$ea",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$product",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getExtensionAttributes",387],"(",")",";",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$ea",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getStockItem",388],"(",")",["T_OBJECT_OPERATOR","->",388],["T_STRING","setQty",388],"(",["T_VARIABLE","$qty",388],")",";",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","productRepository",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","save",389],"(",["T_VARIABLE","$product",389],")",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n",391],"}",["T_WHITESPACE","\n",392]]