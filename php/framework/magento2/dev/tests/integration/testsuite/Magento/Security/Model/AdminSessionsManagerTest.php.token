[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Security",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","AdminSessionsManagerTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Auth\n     *\/",10],["T_WHITESPACE","\n    ",12],["T_PROTECTED","protected",13],["T_WHITESPACE"," ",13],["T_VARIABLE","$auth",13],";",["T_WHITESPACE","\n\n    ",13],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Backend\\Model\\Auth\\Session\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$authSession",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Security\\Model\\AdminSessionInfo\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$adminSessionInfo",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Security\\Model\\AdminSessionsManager\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$adminSessionsManager",28],";",["T_WHITESPACE","\n\n    ",28],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Message\\ManagerInterface\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$messageManager",33],";",["T_WHITESPACE","\n\n    ",33],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$objectManager",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Set up\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setUp",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","setUp",45],"(",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","objectManager",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","TestFramework",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Helper",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Bootstrap",47],["T_DOUBLE_COLON","::",47],["T_STRING","getObjectManager",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","objectManager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Framework",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Config",48],["T_NS_SEPARATOR","\\",48],["T_STRING","ScopeInterface",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","setCurrentScope",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Backend",49],["T_NS_SEPARATOR","\\",49],["T_STRING","App",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Area",49],["T_NS_SEPARATOR","\\",49],["T_STRING","FrontNameResolver",49],["T_DOUBLE_COLON","::",49],["T_STRING","AREA_CODE",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","auth",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","objectManager",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","create",50],"(",["T_NS_SEPARATOR","\\",50],["T_STRING","Magento",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Backend",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Model",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Auth",50],["T_DOUBLE_COLON","::",50],["T_CLASS","class",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","authSession",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","objectManager",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","create",51],"(",["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Backend",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Auth",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Session",51],["T_DOUBLE_COLON","::",51],["T_CLASS","class",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","adminSessionInfo",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","objectManager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","create",52],"(",["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Security",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","AdminSessionInfo",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","auth",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setAuthStorage",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","authSession",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","messageManager",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","objectManager",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Message",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ManagerInterface",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","adminSessionsManager",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","objectManager",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","create",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Magento",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Security",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Model",55],["T_NS_SEPARATOR","\\",55],["T_STRING","AdminSessionsManager",55],["T_DOUBLE_COLON","::",55],["T_CLASS","class",55],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Tear down\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","tearDown",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","auth",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","authSession",64],["T_WHITESPACE","  ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","null",64],";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","adminSessionInfo",65],["T_WHITESPACE","  ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","adminSessionsManager",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","null",66],";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","objectManager",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","null",67],";",["T_WHITESPACE","\n        ",67],["T_STRING","parent",68],["T_DOUBLE_COLON","::",68],["T_STRING","tearDown",68],"(",")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Test if current admin user is logged out\n     *\n     * @magentoDbIsolation enabled\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testProcessLogout",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","auth",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","login",78],"(",["T_WHITESPACE","\n            ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Magento",79],["T_NS_SEPARATOR","\\",79],["T_STRING","TestFramework",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Bootstrap",79],["T_DOUBLE_COLON","::",79],["T_STRING","ADMIN_NAME",79],",",["T_WHITESPACE","\n            ",79],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","TestFramework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Bootstrap",80],["T_DOUBLE_COLON","::",80],["T_STRING","ADMIN_PASSWORD",80],["T_WHITESPACE","\n        ",80],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$sessionId",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","authSession",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getSessionId",82],"(",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","auth",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","logout",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","adminSessionInfo",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","load",84],"(",["T_VARIABLE","$sessionId",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'session_id'",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEquals",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","adminSessionInfo",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getStatus",85],"(",")",",",["T_WHITESPACE"," ",85],["T_STRING","AdminSessionInfo",85],["T_DOUBLE_COLON","::",85],["T_STRING","LOGGED_OUT",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Test if the admin session is created in database\n     *\n     * @magentoDbIsolation enabled\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","testIsAdminSessionIsCreated",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","auth",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","login",95],"(",["T_WHITESPACE","\n            ",95],["T_NS_SEPARATOR","\\",96],["T_STRING","Magento",96],["T_NS_SEPARATOR","\\",96],["T_STRING","TestFramework",96],["T_NS_SEPARATOR","\\",96],["T_STRING","Bootstrap",96],["T_DOUBLE_COLON","::",96],["T_STRING","ADMIN_NAME",96],",",["T_WHITESPACE","\n            ",96],["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","TestFramework",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Bootstrap",97],["T_DOUBLE_COLON","::",97],["T_STRING","ADMIN_PASSWORD",97],["T_WHITESPACE","\n        ",97],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$sessionId",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","authSession",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getSessionId",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","adminSessionInfo",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","load",100],"(",["T_VARIABLE","$sessionId",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'session_id'",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertGreaterThanOrEqual",101],"(",["T_LNUMBER","1",101],",",["T_WHITESPACE"," ",101],["T_INT_CAST","(int)",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","adminSessionInfo",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getId",101],"(",")",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","auth",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","logout",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Test if other sessions are terminated if admin_account_sharing is disabled\n     *\n     * @magentoAdminConfigFixture admin\/security\/session_lifetime 100\n     * @magentoConfigFixture default_store admin\/security\/admin_account_sharing 0\n     * @magentoDbIsolation enabled\n     *\/",105],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testTerminateOtherSessionsProcessLogin",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$session",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","objectManager",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","create",114],"(",["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Security",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Model",114],["T_NS_SEPARATOR","\\",114],["T_STRING","AdminSessionInfo",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$session",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setSessionId",115],"(",["T_CONSTANT_ENCAPSED_STRING","'669e2e3d752e8'",115],")",["T_WHITESPACE","\n            ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","setUserId",116],"(",["T_LNUMBER","1",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","setStatus",117],"(",["T_LNUMBER","1",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","setCreatedAt",118],"(",["T_STRING","time",118],"(",")",["T_WHITESPACE"," ",118],"-",["T_WHITESPACE"," ",118],["T_LNUMBER","10",118],")",["T_WHITESPACE","\n            ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","setUpdatedAt",119],"(",["T_STRING","time",119],"(",")",["T_WHITESPACE"," ",119],"-",["T_WHITESPACE"," ",119],["T_LNUMBER","9",119],")",["T_WHITESPACE","\n            ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","save",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","auth",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","login",121],"(",["T_WHITESPACE","\n            ",121],["T_NS_SEPARATOR","\\",122],["T_STRING","Magento",122],["T_NS_SEPARATOR","\\",122],["T_STRING","TestFramework",122],["T_NS_SEPARATOR","\\",122],["T_STRING","Bootstrap",122],["T_DOUBLE_COLON","::",122],["T_STRING","ADMIN_NAME",122],",",["T_WHITESPACE","\n            ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Magento",123],["T_NS_SEPARATOR","\\",123],["T_STRING","TestFramework",123],["T_NS_SEPARATOR","\\",123],["T_STRING","Bootstrap",123],["T_DOUBLE_COLON","::",123],["T_STRING","ADMIN_PASSWORD",123],["T_WHITESPACE","\n        ",123],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$session",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","load",125],"(",["T_CONSTANT_ENCAPSED_STRING","'669e2e3d752e8'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'session_id'",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEquals",126],"(",["T_WHITESPACE","\n            ",126],["T_STRING","AdminSessionInfo",127],["T_DOUBLE_COLON","::",127],["T_STRING","LOGGED_OUT_BY_LOGIN",127],",",["T_WHITESPACE","\n            ",127],["T_INT_CAST","(int)",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$session",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getStatus",128],"(",")",["T_WHITESPACE","\n        ",128],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Test if current session is retrieved\n     *\n     * @magentoDbIsolation enabled\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testGetCurrentSession",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","auth",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","login",139],"(",["T_WHITESPACE","\n            ",139],["T_NS_SEPARATOR","\\",140],["T_STRING","Magento",140],["T_NS_SEPARATOR","\\",140],["T_STRING","TestFramework",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Bootstrap",140],["T_DOUBLE_COLON","::",140],["T_STRING","ADMIN_NAME",140],",",["T_WHITESPACE","\n            ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","TestFramework",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Bootstrap",141],["T_DOUBLE_COLON","::",141],["T_STRING","ADMIN_PASSWORD",141],["T_WHITESPACE","\n        ",141],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$sessionId",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","authSession",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getSessionId",143],"(",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","adminSessionInfo",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","load",144],"(",["T_VARIABLE","$sessionId",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'session_id'",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertEquals",145],"(",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","adminSessionInfo",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getSessionId",146],"(",")",",",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","adminSessionsManager",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getCurrentSession",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getSessionId",147],"(",")",["T_WHITESPACE","\n        ",147],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Test if other sessions were logged out if logoutOtherUserSessions() action was performed\n     *\n     * @magentoAdminConfigFixture admin\/security\/session_lifetime 100\n     * @magentoConfigFixture default_store admin\/security\/admin_account_sharing 1\n     * @magentoDbIsolation enabled\n     *\/",151],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testLogoutOtherUserSessions",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_DOC_COMMENT","\/** @var \\Magento\\Security\\Model\\AdminSessionInfo $session *\/",160],["T_WHITESPACE","\n        ",160],["T_VARIABLE","$session",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","objectManager",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","create",161],"(",["T_NS_SEPARATOR","\\",161],["T_STRING","Magento",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Security",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Model",161],["T_NS_SEPARATOR","\\",161],["T_STRING","AdminSessionInfo",161],["T_DOUBLE_COLON","::",161],["T_CLASS","class",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$session",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","setSessionId",162],"(",["T_CONSTANT_ENCAPSED_STRING","'669e2e3d752e8'",162],")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","setUserId",163],"(",["T_LNUMBER","1",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","setStatus",164],"(",["T_LNUMBER","1",164],")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","setCreatedAt",165],"(",["T_STRING","time",165],"(",")",["T_WHITESPACE"," ",165],"-",["T_WHITESPACE"," ",165],["T_LNUMBER","50",165],")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","setUpdatedAt",166],"(",["T_STRING","time",166],"(",")",["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_LNUMBER","49",166],")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","save",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","auth",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","login",168],"(",["T_WHITESPACE","\n            ",168],["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","TestFramework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Bootstrap",169],["T_DOUBLE_COLON","::",169],["T_STRING","ADMIN_NAME",169],",",["T_WHITESPACE","\n            ",169],["T_NS_SEPARATOR","\\",170],["T_STRING","Magento",170],["T_NS_SEPARATOR","\\",170],["T_STRING","TestFramework",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Bootstrap",170],["T_DOUBLE_COLON","::",170],["T_STRING","ADMIN_PASSWORD",170],["T_WHITESPACE","\n        ",170],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$collection",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getCollectionForLogoutOtherUserSessions",172],"(",["T_VARIABLE","$session",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertGreaterThanOrEqual",173],"(",["T_LNUMBER","1",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$collection",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getSize",173],"(",")",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","adminSessionsManager",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","logoutOtherUserSessions",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$collection",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getCollectionForLogoutOtherUserSessions",175],"(",["T_VARIABLE","$session",175],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEquals",176],"(",["T_LNUMBER","0",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$collection",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getSize",176],"(",")",")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Collection getter with filters populated for testLogoutOtherUserSessions() method\n     *\n     * @param AdminSessionInfo $session\n     * @return ResourceModel\\AdminSessionInfo\\Collection\n     *\/",179],["T_WHITESPACE","\n    ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","getCollectionForLogoutOtherUserSessions",185],"(",["T_NS_SEPARATOR","\\",185],["T_STRING","Magento",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Security",185],["T_NS_SEPARATOR","\\",185],["T_STRING","Model",185],["T_NS_SEPARATOR","\\",185],["T_STRING","AdminSessionInfo",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$session",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_DOC_COMMENT","\/** @var \\Magento\\Security\\Model\\ResourceModel\\AdminSessionInfo\\Collection $collection *\/",187],["T_WHITESPACE","\n        ",187],["T_VARIABLE","$collection",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$session",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getResourceCollection",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$collection",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","filterByUser",189],"(",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","authSession",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getUser",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","getId",190],"(",")",",",["T_WHITESPACE","\n            ",190],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Security",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Model",191],["T_NS_SEPARATOR","\\",191],["T_STRING","AdminSessionInfo",191],["T_DOUBLE_COLON","::",191],["T_STRING","LOGGED_IN",191],",",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","authSession",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getSessionId",192],"(",")",["T_WHITESPACE","\n        ",192],")",["T_WHITESPACE","\n            ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","filterExpiredSessions",194],"(",["T_LNUMBER","100",194],")",["T_WHITESPACE","\n            ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","load",195],"(",")",";",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$collection",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Test for cleanExpiredSessions() method\n     *\n     * @magentoDataFixture Magento\/Security\/_files\/adminsession.php\n     * @magentoAdminConfigFixture admin\/security\/session_lifetime 1\n     * @magentoDbIsolation enabled\n     *\/",200],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","testCleanExpiredSessions",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_DOC_COMMENT","\/** @var \\Magento\\Security\\Model\\AdminSessionInfo $session *\/",209],["T_WHITESPACE","\n        ",209],["T_VARIABLE","$session",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","objectManager",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","create",210],"(",["T_NS_SEPARATOR","\\",210],["T_STRING","Magento",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Security",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Model",210],["T_NS_SEPARATOR","\\",210],["T_STRING","AdminSessionInfo",210],["T_DOUBLE_COLON","::",210],["T_CLASS","class",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$collection",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getCollectionForCleanExpiredSessions",211],"(",["T_VARIABLE","$session",211],")",";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$sizeBefore",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$collection",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getSize",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","adminSessionsManager",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","cleanExpiredSessions",213],"(",")",";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$collection",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getCollectionForCleanExpiredSessions",214],"(",["T_VARIABLE","$session",214],")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$sizeAfter",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$collection",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getSize",215],"(",")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertGreaterThan",216],"(",["T_VARIABLE","$sizeAfter",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$sizeBefore",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Collection getter with filters populated for testCleanExpiredSessions() method\n     *\n     * @param AdminSessionInfo $session\n     * @return ResourceModel\\AdminSessionInfo\\Collection\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","getCollectionForCleanExpiredSessions",225],"(",["T_NS_SEPARATOR","\\",225],["T_STRING","Magento",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Security",225],["T_NS_SEPARATOR","\\",225],["T_STRING","Model",225],["T_NS_SEPARATOR","\\",225],["T_STRING","AdminSessionInfo",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$session",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_DOC_COMMENT","\/** @var \\Magento\\Security\\Model\\ResourceModel\\AdminSessionInfo\\Collection $collection *\/",227],["T_WHITESPACE","\n        ",227],["T_VARIABLE","$collection",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$session",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getResourceCollection",228],"(",")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","load",229],"(",")",";",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$collection",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n",232],"}",["T_WHITESPACE","\n",233]]