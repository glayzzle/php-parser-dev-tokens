[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Product",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CatalogSearch",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Indexer",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Fulltext",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","ActionTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PHPUnit_Framework_TestCase",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Product\\Action\n     *\/",12],["T_WHITESPACE","\n    ",14],["T_PRIVATE","private",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$action",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",17],["T_WHITESPACE","\n    ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$objectManager",20],";",["T_WHITESPACE","\n\n    ",20],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","setUpBeforeClass",22],"(",")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Indexer\\IndexerRegistry $indexerRegistry *\/",24],["T_WHITESPACE","\n        ",24],["T_VARIABLE","$indexerRegistry",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Magento",25],["T_NS_SEPARATOR","\\",25],["T_STRING","TestFramework",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Helper",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Bootstrap",25],["T_DOUBLE_COLON","::",25],["T_STRING","getObjectManager",25],"(",")",["T_WHITESPACE","\n            ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_NS_SEPARATOR","\\",26],["T_STRING","Magento",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Framework",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Indexer",26],["T_NS_SEPARATOR","\\",26],["T_STRING","IndexerRegistry",26],["T_DOUBLE_COLON","::",26],["T_CLASS","class",26],")",";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$indexerRegistry",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_STRING","Fulltext",27],["T_DOUBLE_COLON","::",27],["T_STRING","INDEXER_ID",27],")",["T_OBJECT_OPERATOR","->",27],["T_STRING","setScheduled",27],"(",["T_STRING","true",27],")",";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","objectManager",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","TestFramework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Helper",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Bootstrap",32],["T_DOUBLE_COLON","::",32],["T_STRING","getObjectManager",32],"(",")",";",["T_WHITESPACE","\n\n        ",32],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Cache\\StateInterface $cacheState *\/",34],["T_WHITESPACE","\n        ",34],["T_VARIABLE","$cacheState",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","objectManager",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","get",35],"(",["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Framework",35],["T_NS_SEPARATOR","\\",35],["T_STRING","App",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Cache",35],["T_NS_SEPARATOR","\\",35],["T_STRING","StateInterface",35],["T_DOUBLE_COLON","::",35],["T_CLASS","class",35],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$cacheState",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","setEnabled",36],"(",["T_NS_SEPARATOR","\\",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","PageCache",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Model",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Cache",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Type",36],["T_DOUBLE_COLON","::",36],["T_STRING","TYPE_IDENTIFIER",36],",",["T_WHITESPACE"," ",36],["T_STRING","true",36],")",";",["T_WHITESPACE","\n\n        ",36],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","action",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","objectManager",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","create",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Catalog",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Model",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Product",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Action",38],["T_DOUBLE_COLON","::",38],["T_CLASS","class",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Catalog\/_files\/product_simple.php\n     * @magentoDataFixture Magento\/Store\/_files\/core_second_third_fixturestore.php\n     * @magentoAppArea adminhtml\n     * @magentoDbIsolation enabled\n     * @magentoAppIsolation enabled\n     *\/",41],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testUpdateWebsites",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Api\\WebsiteRepositoryInterface $websiteRepository *\/",50],["T_WHITESPACE","\n        ",50],["T_VARIABLE","$websiteRepository",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","objectManager",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","create",51],"(",["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Store",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Api",51],["T_NS_SEPARATOR","\\",51],["T_STRING","WebsiteRepositoryInterface",51],["T_DOUBLE_COLON","::",51],["T_CLASS","class",51],")",";",["T_WHITESPACE","\n\n        ",51],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Api\\ProductRepositoryInterface $productRepository *\/",53],["T_WHITESPACE","\n        ",53],["T_VARIABLE","$productRepository",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","objectManager",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","create",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Catalog",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Api",54],["T_NS_SEPARATOR","\\",54],["T_STRING","ProductRepositoryInterface",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\CacheInterface $cacheManager *\/",56],["T_WHITESPACE","\n        ",56],["T_VARIABLE","$pageCache",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","objectManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","create",57],"(",["T_NS_SEPARATOR","\\",57],["T_STRING","Magento",57],["T_NS_SEPARATOR","\\",57],["T_STRING","PageCache",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Model",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Cache",57],["T_NS_SEPARATOR","\\",57],["T_STRING","Type",57],["T_DOUBLE_COLON","::",57],["T_CLASS","class",57],")",";",["T_WHITESPACE","\n\n        ",57],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",59],["T_WHITESPACE","\n        ",59],["T_VARIABLE","$product",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$productRepository",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'simple'",60],")",";",["T_WHITESPACE","\n        ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$product",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getCategoryIds",61],"(",")",["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$categoryId",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$pageCache",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","save",62],"(",["T_WHITESPACE","\n                ",62],["T_CONSTANT_ENCAPSED_STRING","'test_data'",63],",",["T_WHITESPACE","\n                ",63],["T_CONSTANT_ENCAPSED_STRING","'test_data_category_id_'",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_VARIABLE","$categoryId",64],",",["T_WHITESPACE","\n                ",64],"[",["T_NS_SEPARATOR","\\",65],["T_STRING","Magento",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Catalog",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Model",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Category",65],["T_DOUBLE_COLON","::",65],["T_STRING","CACHE_TAG",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'_'",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$categoryId",65],"]",["T_WHITESPACE","\n            ",65],")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEquals",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test_data'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$pageCache",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","load",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test_data_category_id_'",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$categoryId",67],")",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$websites",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$websiteRepository",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getList",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$websiteIds",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[","]",";",["T_WHITESPACE","\n        ",71],["T_FOREACH","foreach",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$websites",72],["T_WHITESPACE"," ",72],["T_AS","as",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$websiteCode",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$website",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","in_array",73],"(",["T_VARIABLE","$websiteCode",73],",",["T_WHITESPACE"," ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'secondwebsite'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'thirdwebsite'",73],"]",")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$websiteIds",74],"[","]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$website",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getId",74],"(",")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","action",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","updateWebsites",78],"(","[",["T_VARIABLE","$product",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getId",78],"(",")","]",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$websiteIds",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'add'",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_FOREACH","foreach",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$product",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getCategoryIds",80],"(",")",["T_WHITESPACE"," ",80],["T_AS","as",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$categoryId",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEmpty",81],"(",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$pageCache",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","load",82],"(",["T_CONSTANT_ENCAPSED_STRING","'test_data_category_id_'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$categoryId",82],")",["T_WHITESPACE","\n            ",82],")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_STATIC","static",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","tearDownAfterClass",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Indexer\\IndexerRegistry $indexerRegistry *\/",89],["T_WHITESPACE","\n        ",89],["T_VARIABLE","$indexerRegistry",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","TestFramework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Helper",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Bootstrap",90],["T_DOUBLE_COLON","::",90],["T_STRING","getObjectManager",90],"(",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_NS_SEPARATOR","\\",91],["T_STRING","Magento",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Framework",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Indexer",91],["T_NS_SEPARATOR","\\",91],["T_STRING","IndexerRegistry",91],["T_DOUBLE_COLON","::",91],["T_CLASS","class",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$indexerRegistry",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_STRING","Fulltext",92],["T_DOUBLE_COLON","::",92],["T_STRING","INDEXER_ID",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","setScheduled",92],"(",["T_STRING","false",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n",93],"}",["T_WHITESPACE","\n",94]]