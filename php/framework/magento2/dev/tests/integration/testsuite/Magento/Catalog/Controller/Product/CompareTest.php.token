[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Catalog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Product",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Message",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MessageInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @magentoDataFixture Magento\/Catalog\/controllers\/_files\/products.php\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CompareTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Magento",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestFramework",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TestCase",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AbstractController",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ProductRepository\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$productRepository",22],";",["T_WHITESPACE","\n\n    ",22],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE","\n    ",24],"{",["T_WHITESPACE","\n        ",25],["T_STRING","parent",26],["T_DOUBLE_COLON","::",26],["T_STRING","setUp",26],"(",")",";",["T_WHITESPACE","\n\n        ",26],["T_DOC_COMMENT","\/** @var $objectManager \\Magento\\TestFramework\\ObjectManager *\/",28],["T_WHITESPACE","\n        ",28],["T_VARIABLE","$objectManager",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","TestFramework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Helper",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Bootstrap",29],["T_DOUBLE_COLON","::",29],["T_STRING","getObjectManager",29],"(",")",";",["T_WHITESPACE","\n\n        ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","productRepository",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$objectManager",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","create",31],"(",["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Catalog",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Model",31],["T_NS_SEPARATOR","\\",31],["T_STRING","ProductRepository",31],["T_DOUBLE_COLON","::",31],["T_CLASS","class",31],")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testAddAction",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","_requireVisitorWithNoProducts",36],"(",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$objectManager",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","TestFramework",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Helper",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Bootstrap",37],["T_DOUBLE_COLON","::",37],["T_STRING","getObjectManager",37],"(",")",";",["T_WHITESPACE","\n        ",37],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Data\\Form\\FormKey $formKey *\/",38],["T_WHITESPACE","\n        ",38],["T_VARIABLE","$formKey",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$objectManager",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Framework",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Data",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Form",39],["T_NS_SEPARATOR","\\",39],["T_STRING","FormKey",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$product",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","productRepository",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_1'",40],")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","dispatch",41],"(",["T_WHITESPACE","\n            ",41],["T_STRING","sprintf",42],"(",["T_WHITESPACE","\n                ",42],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/add\/product\/%s\/form_key\/%s?nocookie=1'",43],",",["T_WHITESPACE","\n                ",43],["T_VARIABLE","$product",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getEntityId",44],"(",")",",",["T_WHITESPACE","\n                ",44],["T_VARIABLE","$formKey",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getFormKey",45],"(",")",["T_WHITESPACE","\n            ",45],")",["T_WHITESPACE","\n        ",46],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertSessionMessages",49],"(",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","equalTo",50],"(","[",["T_CONSTANT_ENCAPSED_STRING","'You added product Simple Product 1 Name to the comparison list.'",50],"]",")",",",["T_WHITESPACE","\n            ",50],["T_STRING","MessageInterface",51],["T_DOUBLE_COLON","::",51],["T_STRING","TYPE_SUCCESS",51],["T_WHITESPACE","\n        ",51],")",";",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertRedirect",54],"(",")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_assertCompareListEquals",56],"(","[",["T_VARIABLE","$product",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getEntityId",56],"(",")","]",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testIndexActionAddProducts",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_requireVisitorWithNoProducts",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$product",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","productRepository",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_2'",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","dispatch",63],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/index\/items\/'",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$product",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getEntityId",63],"(",")",")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertRedirect",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","equalTo",65],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/index.php\/catalog\/product_compare\/index\/'",65],")",")",";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_assertCompareListEquals",67],"(","[",["T_VARIABLE","$product",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getEntityId",67],"(",")","]",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testRemoveAction",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_requireVisitorWithTwoProducts",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$product",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","productRepository",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_2'",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","dispatch",74],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/remove\/product\/'",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_VARIABLE","$product",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getEntityId",74],"(",")",")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertSessionMessages",76],"(",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","equalTo",77],"(","[",["T_CONSTANT_ENCAPSED_STRING","'You removed product Simple Product 2 Name from the comparison list.'",77],"]",")",",",["T_WHITESPACE","\n            ",77],["T_STRING","MessageInterface",78],["T_DOUBLE_COLON","::",78],["T_STRING","TYPE_SUCCESS",78],["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertRedirect",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$restProduct",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","productRepository",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","get",82],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_1'",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_assertCompareListEquals",83],"(","[",["T_VARIABLE","$restProduct",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getEntityId",83],"(",")","]",")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testRemoveActionWithSession",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_requireCustomerWithTwoProducts",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$product",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","productRepository",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_1'",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","dispatch",90],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/remove\/product\/'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$product",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getEntityId",90],"(",")",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$secondProduct",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","productRepository",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_2'",91],")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertSessionMessages",93],"(",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","equalTo",94],"(","[",["T_CONSTANT_ENCAPSED_STRING","'You removed product Simple Product 1 Name from the comparison list.'",94],"]",")",",",["T_WHITESPACE","\n            ",94],["T_STRING","MessageInterface",95],["T_DOUBLE_COLON","::",95],["T_STRING","TYPE_SUCCESS",95],["T_WHITESPACE","\n        ",95],")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertRedirect",98],"(",")",";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_assertCompareListEquals",100],"(","[",["T_VARIABLE","$secondProduct",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getEntityId",100],"(",")","]",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testIndexActionDisplay",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_requireVisitorWithTwoProducts",105],"(",")",";",["T_WHITESPACE","\n\n        ",105],["T_VARIABLE","$layout",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_objectManager",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Magento",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Framework",107],["T_NS_SEPARATOR","\\",107],["T_STRING","View",107],["T_NS_SEPARATOR","\\",107],["T_STRING","LayoutInterface",107],["T_DOUBLE_COLON","::",107],["T_CLASS","class",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$layout",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setIsCacheable",108],"(",["T_STRING","false",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","dispatch",110],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/index'",110],")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$responseBody",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getResponse",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","getBody",112],"(",")",";",["T_WHITESPACE","\n\n        ",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertContains",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Products Comparison List'",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$responseBody",114],")",";",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertContains",116],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_1'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$responseBody",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertContains",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product 1 Name'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$responseBody",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertContains",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product 1 Full Description'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$responseBody",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertContains",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product 1 Short Description'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$responseBody",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertContains",120],"(",["T_CONSTANT_ENCAPSED_STRING","'$1,234.56'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$responseBody",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertContains",122],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_2'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$responseBody",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertContains",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product 2 Name'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$responseBody",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertContains",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product 2 Full Description'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$responseBody",124],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertContains",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple Product 2 Short Description'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$responseBody",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertContains",126],"(",["T_CONSTANT_ENCAPSED_STRING","'$987.65'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$responseBody",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","testClearAction",129],"(",")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_requireVisitorWithTwoProducts",131],"(",")",";",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","dispatch",133],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/clear'",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertSessionMessages",135],"(",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","equalTo",136],"(","[",["T_CONSTANT_ENCAPSED_STRING","'You cleared the comparison list.'",136],"]",")",",",["T_WHITESPACE","\n            ",136],["T_STRING","MessageInterface",137],["T_DOUBLE_COLON","::",137],["T_STRING","TYPE_SUCCESS",137],["T_WHITESPACE","\n        ",137],")",";",["T_WHITESPACE","\n\n        ",138],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertRedirect",140],"(",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_assertCompareListEquals",142],"(","[","]",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Catalog\/_files\/product_simple_xss.php\n     *\/",145],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testRemoveActionProductNameXss",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_prepareCompareListWithProductNameXss",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$product",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","productRepository",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"(",["T_CONSTANT_ENCAPSED_STRING","'product-with-xss'",151],")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","dispatch",152],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare\/remove\/product\/'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$product",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getEntityId",152],"(",")",["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'?nocookie=1'",152],")",";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertSessionMessages",154],"(",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","equalTo",155],"(",["T_WHITESPACE","\n                ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'You removed product &lt;script&gt;alert(&quot;xss&quot;);&lt;\/script&gt; from the comparison list.'",156],"]",["T_WHITESPACE","\n            ",156],")",",",["T_WHITESPACE","\n            ",157],["T_STRING","MessageInterface",158],["T_DOUBLE_COLON","::",158],["T_STRING","TYPE_SUCCESS",158],["T_WHITESPACE","\n        ",158],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_PROTECTED","protected",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","_prepareCompareListWithProductNameXss",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_DOC_COMMENT","\/** @var $visitor \\Magento\\Customer\\Model\\Visitor *\/",164],["T_WHITESPACE","\n        ",164],["T_VARIABLE","$visitor",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Magento",165],["T_NS_SEPARATOR","\\",165],["T_STRING","TestFramework",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Helper",165],["T_NS_SEPARATOR","\\",165],["T_STRING","Bootstrap",165],["T_DOUBLE_COLON","::",165],["T_STRING","getObjectManager",165],"(",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","create",166],"(",["T_NS_SEPARATOR","\\",166],["T_STRING","Magento",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Customer",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Model",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Visitor",166],["T_DOUBLE_COLON","::",166],["T_CLASS","class",166],")",";",["T_WHITESPACE","\n        ",166],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Stdlib\\DateTime $dateTime *\/",167],["T_WHITESPACE","\n        ",167],["T_VARIABLE","$visitor",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setSessionId",168],"(",["T_STRING","md5",168],"(",["T_STRING","time",168],"(",")",")",["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_STRING","md5",168],"(",["T_STRING","microtime",168],"(",")",")",")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","setLastVisitAt",169],"(","(",["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","DateTime",169],"(",")",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","format",169],"(",["T_NS_SEPARATOR","\\",169],["T_STRING","Magento",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Framework",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Stdlib",169],["T_NS_SEPARATOR","\\",169],["T_STRING","DateTime",169],["T_DOUBLE_COLON","::",169],["T_STRING","DATETIME_PHP_FORMAT",169],")",")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","save",170],"(",")",";",["T_WHITESPACE","\n        ",170],["T_DOC_COMMENT","\/** @var $item \\Magento\\Catalog\\Model\\Product\\Compare\\Item *\/",171],["T_WHITESPACE","\n        ",171],["T_VARIABLE","$item",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Magento",172],["T_NS_SEPARATOR","\\",172],["T_STRING","TestFramework",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Helper",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Bootstrap",172],["T_DOUBLE_COLON","::",172],["T_STRING","getObjectManager",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","create",172],"(",["T_WHITESPACE","\n            ",172],["T_NS_SEPARATOR","\\",173],["T_STRING","Magento",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Catalog",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Model",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Product",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Compare",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Item",173],["T_DOUBLE_COLON","::",173],["T_CLASS","class",173],["T_WHITESPACE","\n        ",173],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$firstProductEntityId",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","productRepository",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","get",175],"(",["T_CONSTANT_ENCAPSED_STRING","'product-with-xss'",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getEntityId",175],"(",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$item",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setVisitorId",176],"(",["T_VARIABLE","$visitor",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getId",176],"(",")",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","setProductId",176],"(",["T_VARIABLE","$firstProductEntityId",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","save",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","TestFramework",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Helper",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Bootstrap",177],["T_DOUBLE_COLON","::",177],["T_STRING","getObjectManager",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","get",177],"(",["T_WHITESPACE","\n            ",177],["T_NS_SEPARATOR","\\",178],["T_STRING","Magento",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Customer",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Model",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Visitor",178],["T_DOUBLE_COLON","::",178],["T_CLASS","class",178],["T_WHITESPACE","\n        ",178],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","load",179],"(",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$visitor",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getId",180],"(",")",["T_WHITESPACE","\n        ",180],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","_requireVisitorWithNoProducts",184],"(",")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_DOC_COMMENT","\/** @var $visitor \\Magento\\Customer\\Model\\Visitor *\/",186],["T_WHITESPACE","\n        ",186],["T_VARIABLE","$visitor",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Magento",187],["T_NS_SEPARATOR","\\",187],["T_STRING","TestFramework",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Helper",187],["T_NS_SEPARATOR","\\",187],["T_STRING","Bootstrap",187],["T_DOUBLE_COLON","::",187],["T_STRING","getObjectManager",187],"(",")",["T_WHITESPACE","\n            ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","create",188],"(",["T_NS_SEPARATOR","\\",188],["T_STRING","Magento",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Customer",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Model",188],["T_NS_SEPARATOR","\\",188],["T_STRING","Visitor",188],["T_DOUBLE_COLON","::",188],["T_CLASS","class",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$visitor",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setSessionId",190],"(",["T_STRING","md5",190],"(",["T_STRING","time",190],"(",")",")",["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_STRING","md5",190],"(",["T_STRING","microtime",190],"(",")",")",")",["T_WHITESPACE","\n            ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","setLastVisitAt",191],"(","(",["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_NS_SEPARATOR","\\",191],["T_STRING","DateTime",191],"(",")",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","format",191],"(",["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Framework",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Stdlib",191],["T_NS_SEPARATOR","\\",191],["T_STRING","DateTime",191],["T_DOUBLE_COLON","::",191],["T_STRING","DATETIME_PHP_FORMAT",191],")",")",["T_WHITESPACE","\n            ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","save",192],"(",")",";",["T_WHITESPACE","\n\n        ",192],["T_NS_SEPARATOR","\\",194],["T_STRING","Magento",194],["T_NS_SEPARATOR","\\",194],["T_STRING","TestFramework",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Helper",194],["T_NS_SEPARATOR","\\",194],["T_STRING","Bootstrap",194],["T_DOUBLE_COLON","::",194],["T_STRING","getObjectManager",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","get",194],"(",["T_WHITESPACE","\n            ",194],["T_NS_SEPARATOR","\\",195],["T_STRING","Magento",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Customer",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Model",195],["T_NS_SEPARATOR","\\",195],["T_STRING","Visitor",195],["T_DOUBLE_COLON","::",195],["T_CLASS","class",195],["T_WHITESPACE","\n        ",195],")",["T_OBJECT_OPERATOR","->",196],["T_STRING","load",196],"(",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$visitor",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getId",197],"(",")",["T_WHITESPACE","\n        ",197],")",";",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_assertCompareListEquals",200],"(","[","]",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","_requireVisitorWithTwoProducts",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_DOC_COMMENT","\/** @var $visitor \\Magento\\Customer\\Model\\Visitor *\/",205],["T_WHITESPACE","\n        ",205],["T_VARIABLE","$visitor",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Magento",206],["T_NS_SEPARATOR","\\",206],["T_STRING","TestFramework",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Helper",206],["T_NS_SEPARATOR","\\",206],["T_STRING","Bootstrap",206],["T_DOUBLE_COLON","::",206],["T_STRING","getObjectManager",206],"(",")",["T_WHITESPACE","\n            ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","create",207],"(",["T_NS_SEPARATOR","\\",207],["T_STRING","Magento",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Customer",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Model",207],["T_NS_SEPARATOR","\\",207],["T_STRING","Visitor",207],["T_DOUBLE_COLON","::",207],["T_CLASS","class",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$visitor",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","setSessionId",208],"(",["T_STRING","md5",208],"(",["T_STRING","time",208],"(",")",")",["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_STRING","md5",208],"(",["T_STRING","microtime",208],"(",")",")",")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","setLastVisitAt",209],"(","(",["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_NS_SEPARATOR","\\",209],["T_STRING","DateTime",209],"(",")",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","format",209],"(",["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Framework",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Stdlib",209],["T_NS_SEPARATOR","\\",209],["T_STRING","DateTime",209],["T_DOUBLE_COLON","::",209],["T_STRING","DATETIME_PHP_FORMAT",209],")",")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","save",210],"(",")",";",["T_WHITESPACE","\n\n        ",210],["T_DOC_COMMENT","\/** @var $item \\Magento\\Catalog\\Model\\Product\\Compare\\Item *\/",212],["T_WHITESPACE","\n        ",212],["T_VARIABLE","$item",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Magento",213],["T_NS_SEPARATOR","\\",213],["T_STRING","TestFramework",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Helper",213],["T_NS_SEPARATOR","\\",213],["T_STRING","Bootstrap",213],["T_DOUBLE_COLON","::",213],["T_STRING","getObjectManager",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","create",213],"(",["T_WHITESPACE","\n            ",213],["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Catalog",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Model",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Product",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Compare",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Item",214],["T_DOUBLE_COLON","::",214],["T_CLASS","class",214],["T_WHITESPACE","\n        ",214],")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$firstProductEntityId",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","productRepository",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","get",216],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_1'",216],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","getEntityId",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$secondProductEntityId",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","productRepository",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","get",217],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_2'",217],")",["T_OBJECT_OPERATOR","->",217],["T_STRING","getEntityId",217],"(",")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$item",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","setVisitorId",218],"(",["T_VARIABLE","$visitor",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getId",218],"(",")",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","setProductId",218],"(",["T_VARIABLE","$firstProductEntityId",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","save",218],"(",")",";",["T_WHITESPACE","\n\n        ",218],["T_DOC_COMMENT","\/** @var $item \\Magento\\Catalog\\Model\\Product\\Compare\\Item *\/",220],["T_WHITESPACE","\n        ",220],["T_VARIABLE","$item",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","TestFramework",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Helper",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Bootstrap",221],["T_DOUBLE_COLON","::",221],["T_STRING","getObjectManager",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","create",221],"(",["T_WHITESPACE","\n            ",221],["T_NS_SEPARATOR","\\",222],["T_STRING","Magento",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Catalog",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Model",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Product",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Compare",222],["T_NS_SEPARATOR","\\",222],["T_STRING","Item",222],["T_DOUBLE_COLON","::",222],["T_CLASS","class",222],["T_WHITESPACE","\n        ",222],")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$item",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","setVisitorId",224],"(",["T_VARIABLE","$visitor",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getId",224],"(",")",")",["T_OBJECT_OPERATOR","->",224],["T_STRING","setProductId",224],"(",["T_VARIABLE","$secondProductEntityId",224],")",["T_OBJECT_OPERATOR","->",224],["T_STRING","save",224],"(",")",";",["T_WHITESPACE","\n\n        ",224],["T_NS_SEPARATOR","\\",226],["T_STRING","Magento",226],["T_NS_SEPARATOR","\\",226],["T_STRING","TestFramework",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Helper",226],["T_NS_SEPARATOR","\\",226],["T_STRING","Bootstrap",226],["T_DOUBLE_COLON","::",226],["T_STRING","getObjectManager",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","get",226],"(",["T_WHITESPACE","\n            ",226],["T_NS_SEPARATOR","\\",227],["T_STRING","Magento",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Customer",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Model",227],["T_NS_SEPARATOR","\\",227],["T_STRING","Visitor",227],["T_DOUBLE_COLON","::",227],["T_CLASS","class",227],["T_WHITESPACE","\n        ",227],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","load",228],"(",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$visitor",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getId",229],"(",")",["T_WHITESPACE","\n        ",229],")",";",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_assertCompareListEquals",232],"(","[",["T_VARIABLE","$firstProductEntityId",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$secondProductEntityId",232],"]",")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","_requireCustomerWithTwoProducts",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$customer",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Magento",237],["T_NS_SEPARATOR","\\",237],["T_STRING","TestFramework",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Helper",237],["T_NS_SEPARATOR","\\",237],["T_STRING","Bootstrap",237],["T_DOUBLE_COLON","::",237],["T_STRING","getObjectManager",237],"(",")",["T_WHITESPACE","\n            ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","create",238],"(",["T_NS_SEPARATOR","\\",238],["T_STRING","Magento",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Customer",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Model",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Customer",238],["T_DOUBLE_COLON","::",238],["T_CLASS","class",238],")",";",["T_WHITESPACE","\n        ",238],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Customer $customer *\/",239],["T_WHITESPACE","\n        ",239],["T_VARIABLE","$customer",240],["T_WHITESPACE","\n            ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","setWebsiteId",241],"(",["T_LNUMBER","1",241],")",["T_WHITESPACE","\n            ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","setId",242],"(",["T_LNUMBER","1",242],")",["T_WHITESPACE","\n            ",242],["T_OBJECT_OPERATOR","->",243],["T_STRING","setEntityTypeId",243],"(",["T_LNUMBER","1",243],")",["T_WHITESPACE","\n            ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","setAttributeSetId",244],"(",["T_LNUMBER","1",244],")",["T_WHITESPACE","\n            ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","setEmail",245],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",245],")",["T_WHITESPACE","\n            ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","setPassword",246],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",246],")",["T_WHITESPACE","\n            ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","setGroupId",247],"(",["T_LNUMBER","1",247],")",["T_WHITESPACE","\n            ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","setStoreId",248],"(",["T_LNUMBER","1",248],")",["T_WHITESPACE","\n            ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","setIsActive",249],"(",["T_LNUMBER","1",249],")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","setFirstname",250],"(",["T_CONSTANT_ENCAPSED_STRING","'Firstname'",250],")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","setLastname",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Lastname'",251],")",["T_WHITESPACE","\n            ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","setDefaultBilling",252],"(",["T_LNUMBER","1",252],")",["T_WHITESPACE","\n            ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","setDefaultShipping",253],"(",["T_LNUMBER","1",253],")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$customer",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","isObjectNew",254],"(",["T_STRING","true",254],")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$customer",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","save",255],"(",")",";",["T_WHITESPACE","\n\n        ",255],["T_DOC_COMMENT","\/** @var $session \\Magento\\Customer\\Model\\Session *\/",257],["T_WHITESPACE","\n        ",257],["T_VARIABLE","$session",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Magento",258],["T_NS_SEPARATOR","\\",258],["T_STRING","TestFramework",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Helper",258],["T_NS_SEPARATOR","\\",258],["T_STRING","Bootstrap",258],["T_DOUBLE_COLON","::",258],["T_STRING","getObjectManager",258],"(",")",["T_WHITESPACE","\n            ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","get",259],"(",["T_NS_SEPARATOR","\\",259],["T_STRING","Magento",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Customer",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Model",259],["T_NS_SEPARATOR","\\",259],["T_STRING","Session",259],["T_DOUBLE_COLON","::",259],["T_CLASS","class",259],")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$session",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","setCustomerId",260],"(",["T_LNUMBER","1",260],")",";",["T_WHITESPACE","\n\n        ",260],["T_DOC_COMMENT","\/** @var $visitor \\Magento\\Customer\\Model\\Visitor *\/",262],["T_WHITESPACE","\n        ",262],["T_VARIABLE","$visitor",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_NS_SEPARATOR","\\",263],["T_STRING","Magento",263],["T_NS_SEPARATOR","\\",263],["T_STRING","TestFramework",263],["T_NS_SEPARATOR","\\",263],["T_STRING","Helper",263],["T_NS_SEPARATOR","\\",263],["T_STRING","Bootstrap",263],["T_DOUBLE_COLON","::",263],["T_STRING","getObjectManager",263],"(",")",["T_WHITESPACE","\n            ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","create",264],"(",["T_NS_SEPARATOR","\\",264],["T_STRING","Magento",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Customer",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Model",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Visitor",264],["T_DOUBLE_COLON","::",264],["T_CLASS","class",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$visitor",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setSessionId",265],"(",["T_STRING","md5",265],"(",["T_STRING","time",265],"(",")",")",["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_STRING","md5",265],"(",["T_STRING","microtime",265],"(",")",")",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","setLastVisitAt",266],"(","(",["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_NS_SEPARATOR","\\",266],["T_STRING","DateTime",266],"(",")",")",["T_OBJECT_OPERATOR","->",266],["T_STRING","format",266],"(",["T_NS_SEPARATOR","\\",266],["T_STRING","Magento",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Framework",266],["T_NS_SEPARATOR","\\",266],["T_STRING","Stdlib",266],["T_NS_SEPARATOR","\\",266],["T_STRING","DateTime",266],["T_DOUBLE_COLON","::",266],["T_STRING","DATETIME_PHP_FORMAT",266],")",")",["T_WHITESPACE","\n            ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","save",267],"(",")",";",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$firstProductEntityId",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","productRepository",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_1'",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","getEntityId",269],"(",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$secondProductEntityId",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","productRepository",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product_2'",270],")",["T_OBJECT_OPERATOR","->",270],["T_STRING","getEntityId",270],"(",")",";",["T_WHITESPACE","\n\n        ",270],["T_DOC_COMMENT","\/** @var $item \\Magento\\Catalog\\Model\\Product\\Compare\\Item *\/",272],["T_WHITESPACE","\n        ",272],["T_VARIABLE","$item",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Magento",273],["T_NS_SEPARATOR","\\",273],["T_STRING","TestFramework",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Helper",273],["T_NS_SEPARATOR","\\",273],["T_STRING","Bootstrap",273],["T_DOUBLE_COLON","::",273],["T_STRING","getObjectManager",273],"(",")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","create",274],"(",["T_NS_SEPARATOR","\\",274],["T_STRING","Magento",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Catalog",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Model",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Product",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Compare",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Item",274],["T_DOUBLE_COLON","::",274],["T_CLASS","class",274],")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$item",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","setVisitorId",275],"(",["T_VARIABLE","$visitor",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getId",275],"(",")",")",["T_WHITESPACE","\n            ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","setCustomerId",276],"(",["T_LNUMBER","1",276],")",["T_WHITESPACE","\n            ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","setProductId",277],"(",["T_VARIABLE","$firstProductEntityId",277],")",["T_WHITESPACE","\n            ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","save",278],"(",")",";",["T_WHITESPACE","\n\n        ",278],["T_DOC_COMMENT","\/** @var $item \\Magento\\Catalog\\Model\\Product\\Compare\\Item *\/",280],["T_WHITESPACE","\n        ",280],["T_VARIABLE","$item",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Magento",281],["T_NS_SEPARATOR","\\",281],["T_STRING","TestFramework",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Helper",281],["T_NS_SEPARATOR","\\",281],["T_STRING","Bootstrap",281],["T_DOUBLE_COLON","::",281],["T_STRING","getObjectManager",281],"(",")",["T_WHITESPACE","\n            ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","create",282],"(",["T_NS_SEPARATOR","\\",282],["T_STRING","Magento",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Catalog",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Model",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Product",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Compare",282],["T_NS_SEPARATOR","\\",282],["T_STRING","Item",282],["T_DOUBLE_COLON","::",282],["T_CLASS","class",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$item",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","setVisitorId",283],"(",["T_VARIABLE","$visitor",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getId",283],"(",")",")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","setProductId",284],"(",["T_VARIABLE","$secondProductEntityId",284],")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","save",285],"(",")",";",["T_WHITESPACE","\n\n        ",285],["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","TestFramework",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Helper",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Bootstrap",287],["T_DOUBLE_COLON","::",287],["T_STRING","getObjectManager",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","get",287],"(",["T_NS_SEPARATOR","\\",287],["T_STRING","Magento",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Customer",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Model",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Visitor",287],["T_DOUBLE_COLON","::",287],["T_CLASS","class",287],")",["T_WHITESPACE","\n            ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","load",288],"(",["T_VARIABLE","$visitor",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getId",288],"(",")",")",";",["T_WHITESPACE","\n\n        ",288],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_assertCompareListEquals",290],"(","[",["T_VARIABLE","$firstProductEntityId",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$secondProductEntityId",290],"]",")",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Assert that current visitor has exactly expected products in compare list\n     *\n     * @param array $expectedProductIds\n     *\/",293],["T_WHITESPACE","\n    ",297],["T_PROTECTED","protected",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","_assertCompareListEquals",298],"(",["T_ARRAY","array",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$expectedProductIds",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_DOC_COMMENT","\/** @var $compareItems \\Magento\\Catalog\\Model\\ResourceModel\\Product\\Compare\\Item\\Collection *\/",300],["T_WHITESPACE","\n        ",300],["T_VARIABLE","$compareItems",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Magento",301],["T_NS_SEPARATOR","\\",301],["T_STRING","TestFramework",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Helper",301],["T_NS_SEPARATOR","\\",301],["T_STRING","Bootstrap",301],["T_DOUBLE_COLON","::",301],["T_STRING","getObjectManager",301],"(",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","create",301],"(",["T_WHITESPACE","\n            ",301],["T_NS_SEPARATOR","\\",302],["T_STRING","Magento",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Catalog",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Model",302],["T_NS_SEPARATOR","\\",302],["T_STRING","ResourceModel",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Product",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Compare",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Item",302],["T_NS_SEPARATOR","\\",302],["T_STRING","Collection",302],["T_DOUBLE_COLON","::",302],["T_CLASS","class",302],["T_WHITESPACE","\n        ",302],")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$compareItems",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","useProductItem",304],"(",["T_STRING","true",304],")",";",["T_WHITESPACE","\n        ",304],["T_COMMENT","\/\/ important\n",305],["T_WHITESPACE","        ",306],["T_VARIABLE","$compareItems",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","setVisitorId",306],"(",["T_WHITESPACE","\n            ",306],["T_NS_SEPARATOR","\\",307],["T_STRING","Magento",307],["T_NS_SEPARATOR","\\",307],["T_STRING","TestFramework",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Helper",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Bootstrap",307],["T_DOUBLE_COLON","::",307],["T_STRING","getObjectManager",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","get",307],"(",["T_WHITESPACE","\n                ",307],["T_NS_SEPARATOR","\\",308],["T_STRING","Magento",308],["T_NS_SEPARATOR","\\",308],["T_STRING","Customer",308],["T_NS_SEPARATOR","\\",308],["T_STRING","Model",308],["T_NS_SEPARATOR","\\",308],["T_STRING","Visitor",308],["T_DOUBLE_COLON","::",308],["T_CLASS","class",308],")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getId",308],"(",")",["T_WHITESPACE","\n        ",308],")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$actualProductIds",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],"[","]",";",["T_WHITESPACE","\n        ",310],["T_FOREACH","foreach",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$compareItems",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$compareItem",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_DOC_COMMENT","\/** @var $compareItem \\Magento\\Catalog\\Model\\Product\\Compare\\Item *\/",312],["T_WHITESPACE","\n            ",312],["T_VARIABLE","$actualProductIds",313],"[","]",["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$compareItem",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getProductId",313],"(",")",";",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertEquals",315],"(",["T_VARIABLE","$expectedProductIds",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$actualProductIds",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"Products in current visitor's compare list.\"",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n",316],"}",["T_WHITESPACE","\n",317]]