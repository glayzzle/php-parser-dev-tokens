[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Integration",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],";",["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Api",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AccountManagementInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Framework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","InputException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Integration",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Model",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Oauth",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Token",11],["T_WHITESPACE"," ",11],["T_AS","as",11],["T_WHITESPACE"," ",11],["T_STRING","TokenModel",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bootstrap",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Integration\\Model\\CustomerTokenService.\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CustomerTokenServiceTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var CustomerTokenServiceInterface\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PRIVATE","private",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$tokenService",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var AccountManagementInterface\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PRIVATE","private",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$accountManagement",27],";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * @var TokenModel\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_PRIVATE","private",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$tokenModel",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Setup CustomerTokenService\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","setUp",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","tokenService",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","Bootstrap",39],["T_DOUBLE_COLON","::",39],["T_STRING","getObjectManager",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_WHITESPACE","\n            ",39],["T_NS_SEPARATOR","\\",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Integration",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Model",40],["T_NS_SEPARATOR","\\",40],["T_STRING","CustomerTokenService",40],["T_DOUBLE_COLON","::",40],["T_CLASS","class",40],["T_WHITESPACE","\n        ",40],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","accountManagement",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Bootstrap",42],["T_DOUBLE_COLON","::",42],["T_STRING","getObjectManager",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_WHITESPACE","\n            ",42],["T_NS_SEPARATOR","\\",43],["T_STRING","Magento",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Customer",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Api",43],["T_NS_SEPARATOR","\\",43],["T_STRING","AccountManagementInterface",43],["T_DOUBLE_COLON","::",43],["T_CLASS","class",43],["T_WHITESPACE","\n        ",43],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","tokenModel",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Bootstrap",45],["T_DOUBLE_COLON","::",45],["T_STRING","getObjectManager",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Integration",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Oauth",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Token",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testCreateCustomerAccessToken",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$customerUserName",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",53],";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$password",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'password'",54],";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$accessToken",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","tokenService",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","createCustomerAccessToken",55],"(",["T_VARIABLE","$customerUserName",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$password",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$customerData",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","accountManagement",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","authenticate",56],"(",["T_VARIABLE","$customerUserName",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$password",56],")",";",["T_WHITESPACE","\n        ",56],["T_DOC_COMMENT","\/** @var $token TokenModel *\/",57],["T_WHITESPACE","\n        ",57],["T_VARIABLE","$token",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","tokenModel",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","loadByCustomerId",58],"(",["T_VARIABLE","$customerData",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getId",58],"(",")",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getToken",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEquals",59],"(",["T_VARIABLE","$accessToken",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$token",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @dataProvider validationDataProvider\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testCreateCustomerAccessTokenEmptyOrNullCredentials",65],"(",["T_VARIABLE","$username",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$password",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_TRY","try",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","tokenService",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","createCustomerAccessToken",68],"(",["T_VARIABLE","$username",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$password",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE"," ",69],["T_CATCH","catch",69],["T_WHITESPACE"," ",69],"(",["T_STRING","InputException",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$e",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertInputExceptionMessages",70],"(",["T_VARIABLE","$e",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\AuthenticationException\n     * @expectedExceptionMessage You did not sign in correctly or your account is temporarily disabled.\n     *\/",74],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testCreateCustomerAccessTokenInvalidCustomer",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$customerUserName",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'invalid'",80],";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$password",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'invalid'",81],";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","tokenService",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","createCustomerAccessToken",82],"(",["T_VARIABLE","$customerUserName",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$password",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Provider to test input validation\n     *\n     * @return array\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","validationDataProvider",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'Check for empty credentials'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],"[",["T_CONSTANT_ENCAPSED_STRING","''",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],"]",",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'Check for null credentials'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],"[",["T_STRING","null",94],",",["T_WHITESPACE"," ",94],["T_STRING","null",94],"]",["T_WHITESPACE","\n        ",94],"]",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Assert for presence of Input exception messages\n     *\n     * @param InputException $e\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PRIVATE","private",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","assertInputExceptionMessages",103],"(",["T_VARIABLE","$e",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEquals",105],"(",["T_CONSTANT_ENCAPSED_STRING","'One or more input exceptions have occurred.'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$e",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getMessage",105],"(",")",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$errors",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$e",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getErrors",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertCount",107],"(",["T_LNUMBER","2",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$errors",107],")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEquals",108],"(",["T_CONSTANT_ENCAPSED_STRING","'username is a required field.'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$errors",108],"[",["T_LNUMBER","0",108],"]",["T_OBJECT_OPERATOR","->",108],["T_STRING","getLogMessage",108],"(",")",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_CONSTANT_ENCAPSED_STRING","'password is a required field.'",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$errors",109],"[",["T_LNUMBER","1",109],"]",["T_OBJECT_OPERATOR","->",109],["T_STRING","getLogMessage",109],"(",")",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n",110],"}",["T_WHITESPACE","\n",111]]