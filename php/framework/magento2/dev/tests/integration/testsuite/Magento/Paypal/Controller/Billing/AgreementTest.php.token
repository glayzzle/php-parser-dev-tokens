[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_NAMESPACE","namespace",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Paypal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Controller",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Billing",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Paypal\\Controller\\Billing\\Agreement\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","AgreementTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestCase",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AbstractController",12],["T_WHITESPACE","\n",12],"{",["T_WHITESPACE","\n    ",13],["T_DOC_COMMENT","\/**\n     * Test billing agreement record creation in Magento DB.\n     *\n     * All mocking effort is aimed to disable remote call for billing agreement creation in the external system.\n     * Request parameters and current customer are emulated as well.\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoDbIsolation enabled\n     *\/",14],["T_WHITESPACE","\n    ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","testReturnWizardAction",23],"(",")",["T_WHITESPACE","\n    ",23],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$paymentMethod",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","\"paypal_express\"",25],";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$token",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"token_value\"",26],";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$referenceId",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","\"Reference-id-1\"",27],";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$objectManager",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","TestFramework",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Helper",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Bootstrap",29],["T_DOUBLE_COLON","::",29],["T_STRING","getObjectManager",29],"(",")",";",["T_WHITESPACE","\n\n        ",29],["T_DOC_COMMENT","\/** Mock Request *\/",31],["T_WHITESPACE","\n        ",31],["T_VARIABLE","$requestMock",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getMockForAbstractClass",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Framework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","App",32],["T_NS_SEPARATOR","\\",32],["T_STRING","RequestInterface",32],["T_DOUBLE_COLON","::",32],["T_CLASS","class",32],",",["T_WHITESPACE"," ",32],"[","]",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","''",32],",",["T_WHITESPACE"," ",32],["T_STRING","false",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$requestMock",33],["T_WHITESPACE","\n            ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","expects",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","any",34],"(",")",")",["T_WHITESPACE","\n            ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","method",35],"(",["T_CONSTANT_ENCAPSED_STRING","'getParam'",35],")",["T_WHITESPACE","\n            ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","will",36],"(",["T_WHITESPACE","\n                ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","returnValueMap",37],"(",["T_WHITESPACE","\n                    ",37],"[",["T_WHITESPACE","\n                        ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'payment_method'",39],",",["T_WHITESPACE"," ",39],["T_STRING","null",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$paymentMethod",39],"]",",",["T_WHITESPACE","\n                        ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",40],",",["T_WHITESPACE"," ",40],["T_STRING","null",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$token",40],"]",",",["T_WHITESPACE","\n                    ",40],"]",["T_WHITESPACE","\n                ",41],")",["T_WHITESPACE","\n            ",42],")",";",["T_WHITESPACE","\n\n        ",43],["T_DOC_COMMENT","\/**\n         * Disable billing agreement placement using calls to remote system\n         * in \\Magento\\Paypal\\Model\\Billing\\Agreement::place()\n         *\/",45],["T_WHITESPACE","\n        ",48],["T_VARIABLE","$objectManagerMock",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMock",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Magento",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Framework",49],["T_NS_SEPARATOR","\\",49],["T_STRING","ObjectManagerInterface",49],["T_DOUBLE_COLON","::",49],["T_CLASS","class",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$paymentMethodMock",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMock",50],"(",["T_WHITESPACE","\n            ",50],["T_NS_SEPARATOR","\\",51],["T_STRING","Magento",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Paypal",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Model",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Express",51],["T_DOUBLE_COLON","::",51],["T_CLASS","class",51],",",["T_WHITESPACE","\n            ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'getTitle'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'setStore'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'placeBillingAgreement'",52],"]",",",["T_WHITESPACE","\n            ",52],"[","]",",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","''",54],",",["T_WHITESPACE","\n            ",54],["T_STRING","false",55],["T_WHITESPACE","\n        ",55],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$paymentMethodMock",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","expects",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","any",57],"(",")",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_CONSTANT_ENCAPSED_STRING","'placeBillingAgreement'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","will",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","returnSelf",57],"(",")",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$paymentMethodMock",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","expects",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","any",58],"(",")",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","method",58],"(",["T_CONSTANT_ENCAPSED_STRING","'getTitle'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","will",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","returnValue",58],"(",["T_VARIABLE","$paymentMethod",58],")",")",";",["T_WHITESPACE","\n\n        ",58],["T_VARIABLE","$paymentHelperMock",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getMock",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Payment",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Helper",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Data",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],",",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'getMethodInstance'",60],"]",",",["T_WHITESPACE"," ",60],"[","]",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","''",60],",",["T_WHITESPACE"," ",60],["T_STRING","false",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$paymentHelperMock",61],["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","expects",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","any",62],"(",")",")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","method",63],"(",["T_CONSTANT_ENCAPSED_STRING","'getMethodInstance'",63],")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","will",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","returnValue",64],"(",["T_VARIABLE","$paymentMethodMock",64],")",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$billingAgreement",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$objectManager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","create",65],"(",["T_WHITESPACE","\n            ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Paypal",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Model",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Billing",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Agreement",66],["T_DOUBLE_COLON","::",66],["T_CLASS","class",66],",",["T_WHITESPACE","\n            ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'paymentData'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$paymentHelperMock",67],"]",["T_WHITESPACE","\n        ",67],")",";",["T_WHITESPACE","\n        ",68],["T_DOC_COMMENT","\/** Reference ID is normally set by placeBillingAgreement() and is an agreement ID in the external system. *\/",69],["T_WHITESPACE","\n        ",69],["T_VARIABLE","$billingAgreement",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setBillingAgreementId",70],"(",["T_VARIABLE","$referenceId",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$objectManagerMock",71],["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","expects",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","once",72],"(",")",")",["T_WHITESPACE","\n            ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",73],")",["T_WHITESPACE","\n            ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","with",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Magento",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Paypal",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Model",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Billing",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Agreement",74],["T_DOUBLE_COLON","::",74],["T_CLASS","class",74],",",["T_WHITESPACE"," ",74],"[","]",")",["T_WHITESPACE","\n            ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","will",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","returnValue",75],"(",["T_VARIABLE","$billingAgreement",75],")",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$storeManager",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$objectManager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Magento",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Store",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Model",76],["T_NS_SEPARATOR","\\",76],["T_STRING","StoreManager",76],["T_DOUBLE_COLON","::",76],["T_CLASS","class",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$customerSession",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$objectManager",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_NS_SEPARATOR","\\",77],["T_STRING","Magento",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Customer",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Model",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Session",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$objectManagerMock",78],["T_WHITESPACE","\n            ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","any",79],"(",")",")",["T_WHITESPACE","\n            ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",80],")",["T_WHITESPACE","\n            ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","will",81],"(",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","returnValueMap",82],"(",["T_WHITESPACE","\n                    ",82],"[",["T_WHITESPACE","\n                        ",83],"[",["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Store",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Model",84],["T_NS_SEPARATOR","\\",84],["T_STRING","StoreManager",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$storeManager",84],"]",",",["T_WHITESPACE","\n                        ",84],"[",["T_NS_SEPARATOR","\\",85],["T_STRING","Magento",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Customer",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Model",85],["T_NS_SEPARATOR","\\",85],["T_STRING","Session",85],["T_DOUBLE_COLON","::",85],["T_CLASS","class",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$customerSession",85],"]",",",["T_WHITESPACE","\n                    ",85],"]",["T_WHITESPACE","\n                ",86],")",["T_WHITESPACE","\n            ",87],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$contextMock",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$objectManager",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","create",89],"(",["T_WHITESPACE","\n            ",89],["T_NS_SEPARATOR","\\",90],["T_STRING","Magento",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Framework",90],["T_NS_SEPARATOR","\\",90],["T_STRING","App",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Action",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Context",90],["T_DOUBLE_COLON","::",90],["T_CLASS","class",90],",",["T_WHITESPACE","\n            ",90],"[",["T_WHITESPACE","\n                ",91],["T_CONSTANT_ENCAPSED_STRING","'objectManager'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$objectManagerMock",92],",",["T_WHITESPACE","\n                ",92],["T_CONSTANT_ENCAPSED_STRING","'request'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$requestMock",93],["T_WHITESPACE","\n            ",93],"]",["T_WHITESPACE","\n        ",94],")",";",["T_WHITESPACE","\n        ",95],["T_DOC_COMMENT","\/** @var \\Magento\\Paypal\\Controller\\Billing\\Agreement $billingAgreementController *\/",96],["T_WHITESPACE","\n        ",96],["T_VARIABLE","$billingAgreementController",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$objectManager",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","create",97],"(",["T_WHITESPACE","\n            ",97],["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Paypal",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Controller",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Billing",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Agreement",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ReturnWizard",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],",",["T_WHITESPACE","\n            ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$contextMock",99],"]",["T_WHITESPACE","\n        ",99],")",";",["T_WHITESPACE","\n\n        ",100],["T_DOC_COMMENT","\/** Initialize current customer *\/",102],["T_WHITESPACE","\n        ",102],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Session $customerSession *\/",103],["T_WHITESPACE","\n        ",103],["T_VARIABLE","$customerSession",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$objectManager",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","get",104],"(",["T_NS_SEPARATOR","\\",104],["T_STRING","Magento",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Customer",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Model",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Session",104],["T_DOUBLE_COLON","::",104],["T_CLASS","class",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$fixtureCustomerId",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_LNUMBER","1",105],";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$customerSession",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setCustomerId",106],"(",["T_VARIABLE","$fixtureCustomerId",106],")",";",["T_WHITESPACE","\n\n        ",106],["T_DOC_COMMENT","\/** Execute SUT *\/",108],["T_WHITESPACE","\n        ",108],["T_VARIABLE","$billingAgreementController",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","execute",109],"(",")",";",["T_WHITESPACE","\n\n        ",109],["T_DOC_COMMENT","\/** Ensure that billing agreement record was created in the DB *\/",111],["T_WHITESPACE","\n        ",111],["T_DOC_COMMENT","\/** @var \\Magento\\Paypal\\Model\\ResourceModel\\Billing\\Agreement\\Collection $billingAgreementCollection *\/",112],["T_WHITESPACE","\n        ",112],["T_VARIABLE","$billingAgreementCollection",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$objectManager",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","create",113],"(",["T_WHITESPACE","\n            ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Paypal",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Model",114],["T_NS_SEPARATOR","\\",114],["T_STRING","ResourceModel",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Billing",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Agreement",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Collection",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],["T_WHITESPACE","\n        ",114],")",";",["T_WHITESPACE","\n        ",115],["T_DOC_COMMENT","\/** @var \\Magento\\Paypal\\Model\\Billing\\Agreement $createdBillingAgreement *\/",116],["T_WHITESPACE","\n        ",116],["T_VARIABLE","$createdBillingAgreement",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$billingAgreementCollection",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getLastItem",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEquals",118],"(",["T_VARIABLE","$fixtureCustomerId",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$createdBillingAgreement",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getCustomerId",118],"(",")",",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"Customer ID is invalid.\"",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEquals",119],"(",["T_VARIABLE","$referenceId",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$createdBillingAgreement",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getReferenceId",119],"(",")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","\"Reference ID is invalid.\"",119],")",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEquals",120],"(",["T_VARIABLE","$paymentMethod",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$createdBillingAgreement",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMethodCode",120],"(",")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","\"Method code is invalid.\"",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n",122]]