[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Integrity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Modular",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ComponentRegistrar",8],";",["T_WHITESPACE","\n\n",8],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","RouteConfigFilesTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PHPUnit_Framework_TestCase",10],["T_WHITESPACE","\n",10],"{",["T_WHITESPACE","\n    ",11],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Config\\ValidationStateInterface\n     *\/",12],["T_WHITESPACE","\n\n    ",14],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$validationStateMock",16],";",["T_WHITESPACE","\n\n    ",16],["T_DOC_COMMENT","\/**\n     * attributes represent merging rules\n     * copied from original class \\Magento\\Framework\\App\\Route\\Config\\Reader\n     * @var array\n     *\/",18],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_idAttributes",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'\/config\/routers'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'id'",24],",",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'\/config\/routers\/route'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'id'",25],",",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'\/config\/routers\/route\/module'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'name'",26],",",["T_WHITESPACE","\n    ",26],"]",";",["T_WHITESPACE","\n\n    ",27],["T_DOC_COMMENT","\/**\n     * Path to loose XSD for per file validation\n     *\n     * @var string\n     *\/",29],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$schemaFile",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * Path to tough XSD for merged file validation\n     *\n     * @var string\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$mergedSchemaFile",41],";",["T_WHITESPACE","\n\n    ",41],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setUp",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","validationStateMock",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getMock",45],"(",["T_WHITESPACE","\n            ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Framework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Config",46],["T_NS_SEPARATOR","\\",46],["T_STRING","ValidationStateInterface",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],",",["T_WHITESPACE","\n            ",46],"[","]",",",["T_WHITESPACE","\n            ",47],"[","]",",",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE","\n            ",49],["T_STRING","false",50],["T_WHITESPACE","\n        ",50],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","validationStateMock",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","method",52],"(",["T_CONSTANT_ENCAPSED_STRING","'isValidationRequired'",52],")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","willReturn",53],"(",["T_STRING","true",53],")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$urnResolver",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Framework",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Config",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Dom",54],["T_NS_SEPARATOR","\\",54],["T_STRING","UrnResolver",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","schemaFile",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$urnResolver",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getRealPath",55],"(",["T_CONSTANT_ENCAPSED_STRING","'urn:magento:framework:App\/etc\/routes.xsd'",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","mergedSchemaFile",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$urnResolver",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getRealPath",56],"(",["T_CONSTANT_ENCAPSED_STRING","'urn:magento:framework:App\/etc\/routes_merged.xsd'",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testRouteConfigsValidation",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$invalidFiles",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[","]",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$componentRegistrar",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","ComponentRegistrar",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$files",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"[","]",";",["T_WHITESPACE","\n        ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$componentRegistrar",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getPaths",65],"(",["T_STRING","ComponentRegistrar",65],["T_DOUBLE_COLON","::",65],["T_STRING","MODULE",65],")",["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$moduleDir",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$mask",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$moduleDir",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\/etc\/*\/routes.xml'",66],";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$files",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","array_merge",67],"(",["T_VARIABLE","$files",67],",",["T_WHITESPACE"," ",67],["T_STRING","glob",67],"(",["T_VARIABLE","$mask",67],")",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$mergedConfig",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Config",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Dom",69],"(",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'<config><\/config>'",70],",",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","validationStateMock",71],",",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_idAttributes",72],["T_WHITESPACE","\n        ",72],")",";",["T_WHITESPACE","\n\n        ",73],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$files",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$file",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$content",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","file_get_contents",76],"(",["T_VARIABLE","$file",76],")",";",["T_WHITESPACE","\n            ",76],["T_TRY","try",77],["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n                ",77],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Magento",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Framework",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Config",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Dom",78],"(",["T_WHITESPACE","\n                    ",78],["T_VARIABLE","$content",79],",",["T_WHITESPACE","\n                    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","validationStateMock",80],",",["T_WHITESPACE","\n                    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_idAttributes",81],",",["T_WHITESPACE","\n                    ",81],["T_STRING","null",82],",",["T_WHITESPACE","\n                    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","schemaFile",83],["T_WHITESPACE","\n                ",83],")",";",["T_WHITESPACE","\n\n                ",84],["T_COMMENT","\/\/merge won't be performed if file is invalid because of exception thrown\n",86],["T_WHITESPACE","                ",87],["T_VARIABLE","$mergedConfig",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","merge",87],"(",["T_VARIABLE","$content",87],")",";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE"," ",88],["T_CATCH","catch",88],["T_WHITESPACE"," ",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Framework",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Config",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Dom",88],["T_NS_SEPARATOR","\\",88],["T_STRING","ValidationException",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$e",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                ",88],["T_VARIABLE","$invalidFiles",89],"[","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$file",89],";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_EMPTY","empty",93],"(",["T_VARIABLE","$invalidFiles",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","fail",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Found broken files: '",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_STRING","implode",94],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$invalidFiles",94],")",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_TRY","try",97],["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$errors",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[","]",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$mergedConfig",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","validate",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","mergedSchemaFile",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$errors",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE"," ",100],["T_CATCH","catch",100],["T_WHITESPACE"," ",100],"(",["T_NS_SEPARATOR","\\",100],["T_STRING","Exception",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$e",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","fail",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Merged routes config is invalid: '",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_STRING","implode",101],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$errors",101],")",")",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n",103],"}",["T_WHITESPACE","\n",104]]