[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Store",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Store",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Test for store switch controller.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","SwitchActionTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestFramework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TestCase",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AbstractController",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_DOC_COMMENT","\/**\n     * Ensure that proper default store code is calculated.\n     *\n     * Make sure that if default store code is changed from 'default' to something else,\n     * proper code is used in HTTP context. If default store code is still 'default' this may lead to\n     * incorrect work of page cache.\n     *\n     * @magentoDbIsolation enabled\n     *\/",13],["T_WHITESPACE","\n    ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testExecuteWithCustomDefaultStore",22],"(",")",["T_WHITESPACE","\n    ",22],"{",["T_WHITESPACE","\n        ",23],["T_NS_SEPARATOR","\\",24],["T_STRING","Magento",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestFramework",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Helper",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Bootstrap",24],["T_DOUBLE_COLON","::",24],["T_STRING","getInstance",24],"(",")",["T_OBJECT_OPERATOR","->",24],["T_STRING","reinitialize",24],"(",")",";",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$defaultStoreCode",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'default'",25],";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$modifiedDefaultCode",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'modified_default_code'",26],";",["T_WHITESPACE","\n        ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","changeStoreCode",27],"(",["T_VARIABLE","$defaultStoreCode",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$modifiedDefaultCode",27],")",";",["T_WHITESPACE","\n\n        ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","dispatch",29],"(",["T_CONSTANT_ENCAPSED_STRING","'stores\/store\/switch'",29],")",";",["T_WHITESPACE","\n        ",29],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\App\\Http\\Context $httpContext *\/",30],["T_WHITESPACE","\n        ",30],["T_VARIABLE","$httpContext",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","_objectManager",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","get",31],"(",["T_NS_SEPARATOR","\\",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Framework",31],["T_NS_SEPARATOR","\\",31],["T_STRING","App",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Http",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Context",31],["T_DOUBLE_COLON","::",31],["T_CLASS","class",31],")",";",["T_WHITESPACE","\n        ",31],["T_VARIABLE","$httpContext",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","unsValue",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Store",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Model",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Store",32],["T_DOUBLE_COLON","::",32],["T_STRING","ENTITY",32],")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertEquals",33],"(",["T_VARIABLE","$modifiedDefaultCode",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$httpContext",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getValue",33],"(",["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Store",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Store",33],["T_DOUBLE_COLON","::",33],["T_STRING","ENTITY",33],")",")",";",["T_WHITESPACE","\n\n        ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","changeStoreCode",35],"(",["T_VARIABLE","$modifiedDefaultCode",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$defaultStoreCode",35],")",";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Change store code.\n     *\n     * @param string $from\n     * @param string $to\n     *\/",38],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","changeStoreCode",44],"(",["T_VARIABLE","$from",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$to",44],")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\Store $store *\/",46],["T_WHITESPACE","\n        ",46],["T_VARIABLE","$store",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_objectManager",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","create",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Store",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Store",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$store",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","load",48],"(",["T_VARIABLE","$from",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'code'",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$store",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","setCode",49],"(",["T_VARIABLE","$to",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$store",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","save",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_DOC_COMMENT","\/** @var \\Magento\\Store\\Model\\StoreManagerInterface $storeManager *\/",51],["T_WHITESPACE","\n        ",51],["T_VARIABLE","$storeManager",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_objectManager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_NS_SEPARATOR","\\",52],["T_STRING","Magento",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Store",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Model",52],["T_NS_SEPARATOR","\\",52],["T_STRING","StoreManagerInterface",52],["T_DOUBLE_COLON","::",52],["T_CLASS","class",52],")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$storeManager",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","reinitStores",53],"(",")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n",54],"}",["T_WHITESPACE","\n",55]]