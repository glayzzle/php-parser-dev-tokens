[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Persistent",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],";",["T_WHITESPACE","\n\n",6],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","SessionTest",8],["T_WHITESPACE"," ",8],["T_EXTENDS","extends",8],["T_WHITESPACE"," ",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PHPUnit_Framework_TestCase",8],["T_WHITESPACE","\n",8],"{",["T_WHITESPACE","\n    ",9],["T_DOC_COMMENT","\/**\n     * Session model\n     *\n     * @var \\Magento\\Persistent\\Model\\Session\n     *\/",10],["T_WHITESPACE","\n    ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$session",15],";",["T_WHITESPACE","\n\n    ",15],["T_DOC_COMMENT","\/**\n     * Object manager\n     *\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",17],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$objectManager",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * The existing cookies\n     *\n     * @var array\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$existingCookies",29],";",["T_WHITESPACE","\n\n    ",29],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE","\n    ",31],"{",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","objectManager",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","TestFramework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Helper",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Bootstrap",33],["T_DOUBLE_COLON","::",33],["T_STRING","getObjectManager",33],"(",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","session",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","objectManager",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","create",34],"(",["T_WHITESPACE","\n            ",34],["T_NS_SEPARATOR","\\",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Persistent",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Model",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Session",35],["T_DOUBLE_COLON","::",35],["T_CLASS","class",35],["T_WHITESPACE","\n        ",35],")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","existingCookies",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$_COOKIE",37],";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","tearDown",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$_COOKIE",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","existingCookies",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testSetPersistentCookie",45],"(",")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertArrayNotHasKey",47],"(",["T_STRING","Session",47],["T_DOUBLE_COLON","::",47],["T_STRING","COOKIE_NAME",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$_COOKIE",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$key",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'sessionKey'",48],";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","session",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","setKey",49],"(",["T_VARIABLE","$key",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","session",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","setPersistentCookie",50],"(",["T_LNUMBER","1000",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'\/'",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEquals",51],"(",["T_VARIABLE","$key",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$_COOKIE",51],"[",["T_STRING","Session",51],["T_DOUBLE_COLON","::",51],["T_STRING","COOKIE_NAME",51],"]",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","testRemovePersistendCookie",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$_COOKIE",56],"[",["T_STRING","Session",56],["T_DOUBLE_COLON","::",56],["T_STRING","COOKIE_NAME",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'cookieValue'",56],";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","session",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","removePersistentCookie",57],"(",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertArrayNotHasKey",58],"(",["T_STRING","Session",58],["T_DOUBLE_COLON","::",58],["T_STRING","COOKIE_NAME",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$_COOKIE",58],")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * @param int $duration\n     * @param string $cookieValue\n     * @dataProvider renewPersistentCookieDataProvider\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testRenewPersistentCookie",66],"(",["T_VARIABLE","$duration",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$cookieValue",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'cookieValue'",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$_COOKIE",68],"[",["T_STRING","Session",68],["T_DOUBLE_COLON","::",68],["T_STRING","COOKIE_NAME",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$cookieValue",68],";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","session",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","renewPersistentCookie",69],"(",["T_VARIABLE","$duration",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\/'",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_VARIABLE","$cookieValue",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$_COOKIE",70],"[",["T_STRING","Session",70],["T_DOUBLE_COLON","::",70],["T_STRING","COOKIE_NAME",70],"]",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","renewPersistentCookieDataProvider",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],"[",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'no duration'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],"[",["T_STRING","null",76],"]",",",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","'no cookie'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_LNUMBER","1000",77],",",["T_WHITESPACE"," ",77],["T_STRING","null",77],"]",",",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'all'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],"[",["T_LNUMBER","1000",78],"]",",",["T_WHITESPACE","\n        ",78],"]",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testLoadByCookieKey",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_DOC_COMMENT","\/** @var \\Magento\\Persistent\\Model\\Session $preSession *\/",87],["T_WHITESPACE","\n        ",87],["T_VARIABLE","$preSession",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","objectManager",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_NS_SEPARATOR","\\",88],["T_STRING","Magento",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Persistent",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Model",88],["T_NS_SEPARATOR","\\",88],["T_STRING","SessionFactory",88],["T_DOUBLE_COLON","::",88],["T_CLASS","class",88],")",["T_WHITESPACE","\n            ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","create",89],"(",")",["T_WHITESPACE","\n            ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","loadByCookieKey",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertNull",91],"(",["T_VARIABLE","$preSession",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCustomerId",91],"(",")",")",";",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","session",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setCustomerId",93],"(",["T_LNUMBER","1",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","save",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","session",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setPersistentCookie",94],"(",["T_LNUMBER","1000",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/'",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_DOC_COMMENT","\/** @var \\Magento\\Persistent\\Model\\Session $postSession *\/",96],["T_WHITESPACE","\n        ",96],["T_VARIABLE","$postSession",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","objectManager",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_NS_SEPARATOR","\\",97],["T_STRING","Magento",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Persistent",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Model",97],["T_NS_SEPARATOR","\\",97],["T_STRING","SessionFactory",97],["T_DOUBLE_COLON","::",97],["T_CLASS","class",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","create",98],"(",")",["T_WHITESPACE","\n            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","loadByCookieKey",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_LNUMBER","1",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$postSession",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getCustomerId",100],"(",")",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n",101],"}",["T_WHITESPACE","\n",102]]