[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ @codingStandardsIgnoreFile\n",7],["T_WHITESPACE","\n",8],["T_NAMESPACE","namespace",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Customer",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],";",["T_WHITESPACE","\n\n",9],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Magento",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Framework",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Exception",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NoSuchEntityException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Magento",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TestFramework",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Helper",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Bootstrap",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Test for \\Magento\\Customer\\Model\\CustomerRegistry\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CustomerRegistryTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Customer\\Model\\CustomerRegistry\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_model",22],";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/**#@+\n     * Data set in customer fixture\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","CUSTOMER_ID",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","1",27],";",["T_WHITESPACE","\n    ",27],["T_CONST","const",28],["T_WHITESPACE"," ",28],["T_STRING","CUSTOMER_EMAIL",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",28],";",["T_WHITESPACE","\n    ",28],["T_CONST","const",29],["T_WHITESPACE"," ",29],["T_STRING","WEBSITE_ID",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_LNUMBER","1",29],";",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Initialize SUT\n     *\/",31],["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setUp",34],"(",")",["T_WHITESPACE","\n    ",34],"{",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","_model",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","Bootstrap",36],["T_DOUBLE_COLON","::",36],["T_STRING","getObjectManager",36],"(",")",["T_WHITESPACE","\n            ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","create",37],"(",["T_NS_SEPARATOR","\\",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Customer",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Model",37],["T_NS_SEPARATOR","\\",37],["T_STRING","CustomerRegistry",37],["T_DOUBLE_COLON","::",37],["T_CLASS","class",37],")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testRetrieve",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$customer",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_model",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","retrieve",45],"(",["T_STRING","self",45],["T_DOUBLE_COLON","::",45],["T_STRING","CUSTOMER_ID",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertInstanceOf",46],"(",["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Customer",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Model",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Customer",46],["T_DOUBLE_COLON","::",46],["T_CLASS","class",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$customer",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEquals",47],"(",["T_STRING","self",47],["T_DOUBLE_COLON","::",47],["T_STRING","CUSTOMER_ID",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$customer",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getId",47],"(",")",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testRetrieveByEmail",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$customer",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_model",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","retrieveByEmail",55],"(",["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",55],",",["T_WHITESPACE"," ",55],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","WEBSITE_ID",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertInstanceOf",56],"(",["T_NS_SEPARATOR","\\",56],["T_STRING","Magento",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Customer",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Model",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Customer",56],["T_DOUBLE_COLON","::",56],["T_CLASS","class",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$customer",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEquals",57],"(",["T_STRING","self",57],["T_DOUBLE_COLON","::",57],["T_STRING","CUSTOMER_EMAIL",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$customer",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getEmail",57],"(",")",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @magentoAppArea adminhtml\n     *\/",60],["T_WHITESPACE","\n    ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testRetrieveCached",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_COMMENT","\/\/Setup customer in the id and email registries\n",66],["T_WHITESPACE","        ",67],["T_VARIABLE","$customerBeforeDeletion",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_model",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","retrieve",67],"(",["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_STRING","CUSTOMER_ID",67],")",";",["T_WHITESPACE","\n        ",67],["T_COMMENT","\/\/Delete the customer from db\n",68],["T_WHITESPACE","        ",69],["T_STRING","Bootstrap",69],["T_DOUBLE_COLON","::",69],["T_STRING","getObjectManager",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","create",69],"(",["T_WHITESPACE","\n            ",69],["T_NS_SEPARATOR","\\",70],["T_STRING","Magento",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Customer",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Model",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Customer",70],["T_DOUBLE_COLON","::",70],["T_CLASS","class",70],["T_WHITESPACE","\n        ",70],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","load",71],"(",["T_STRING","self",71],["T_DOUBLE_COLON","::",71],["T_STRING","CUSTOMER_ID",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","delete",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_COMMENT","\/\/Verify presence of Customer in registry\n",72],["T_WHITESPACE","        ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEquals",73],"(",["T_VARIABLE","$customerBeforeDeletion",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_model",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","retrieve",73],"(",["T_STRING","self",73],["T_DOUBLE_COLON","::",73],["T_STRING","CUSTOMER_ID",73],")",")",";",["T_WHITESPACE","\n        ",73],["T_COMMENT","\/\/Verify presence of Customer in email registry\n",74],["T_WHITESPACE","        ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_VARIABLE","$customerBeforeDeletion",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_model",75],["T_WHITESPACE","\n                ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","retrieveByEmail",76],"(",["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","CUSTOMER_EMAIL",76],",",["T_WHITESPACE"," ",76],["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","WEBSITE_ID",76],")",")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @expectedExceptionMessage No such entity with customerId = 1\n     *\/",79],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testRetrieveException",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_model",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","retrieve",85],"(",["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","CUSTOMER_ID",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testRetrieveEmailException",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_TRY","try",90],["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_model",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","retrieveByEmail",91],"(",["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","CUSTOMER_EMAIL",91],",",["T_WHITESPACE"," ",91],["T_STRING","self",91],["T_DOUBLE_COLON","::",91],["T_STRING","WEBSITE_ID",91],")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","fail",92],"(",["T_CONSTANT_ENCAPSED_STRING","\"NoSuchEntityException was not thrown as expected.\"",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE"," ",93],["T_CATCH","catch",93],["T_WHITESPACE"," ",93],"(",["T_STRING","NoSuchEntityException",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$e",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$expectedParams",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'fieldName'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'email'",95],",",["T_WHITESPACE","\n                ",95],["T_CONSTANT_ENCAPSED_STRING","'fieldValue'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'customer@example.com'",96],",",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'field2Name'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'websiteId'",97],",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'field2Value'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],",",["T_WHITESPACE","\n            ",98],"]",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_VARIABLE","$expectedParams",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$e",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getParameters",100],"(",")",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @magentoAppArea adminhtml\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","testRemove",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$customer",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_model",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","retrieve",111],"(",["T_STRING","self",111],["T_DOUBLE_COLON","::",111],["T_STRING","CUSTOMER_ID",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertInstanceOf",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Magento",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Customer",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Model",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Customer",112],["T_DOUBLE_COLON","::",112],["T_CLASS","class",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$customer",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$customer",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","delete",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_model",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","remove",114],"(",["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","CUSTOMER_ID",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_model",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","retrieve",115],"(",["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","CUSTOMER_ID",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * @magentoDataFixture Magento\/Customer\/_files\/customer.php\n     * @expectedException \\Magento\\Framework\\Exception\\NoSuchEntityException\n     * @magentoAppArea adminhtml\n     *\/",118],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","testRemoveByEmail",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$customer",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_model",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","retrieve",125],"(",["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_STRING","CUSTOMER_ID",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertInstanceOf",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Magento",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Customer",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Model",126],["T_NS_SEPARATOR","\\",126],["T_STRING","Customer",126],["T_DOUBLE_COLON","::",126],["T_CLASS","class",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$customer",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$customer",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","delete",127],"(",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_model",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","removeByEmail",128],"(",["T_STRING","self",128],["T_DOUBLE_COLON","::",128],["T_STRING","CUSTOMER_EMAIL",128],",",["T_WHITESPACE"," ",128],["T_STRING","self",128],["T_DOUBLE_COLON","::",128],["T_STRING","WEBSITE_ID",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_model",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","retrieveByEmail",129],"(",["T_STRING","self",129],["T_DOUBLE_COLON","::",129],["T_STRING","CUSTOMER_EMAIL",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$customer",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getWebsiteId",129],"(",")",")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n",130],"}",["T_WHITESPACE","\n",131]]