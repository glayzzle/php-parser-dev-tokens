[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n\n",5],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Magento",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Model",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tax",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sales",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Total",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","SetupUtil",8],";",["T_WHITESPACE","\n\n",8],["T_VARIABLE","$taxCalculationData",10],"[",["T_CONSTANT_ENCAPSED_STRING","'excluding_tax_apply_tax_before_discount'",10],"]",["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],"[",["T_WHITESPACE","\n    ",10],["T_CONSTANT_ENCAPSED_STRING","'config_data'",11],["T_WHITESPACE"," ",11],["T_DOUBLE_ARROW","=>",11],["T_WHITESPACE"," ",11],"[",["T_WHITESPACE","\n        ",11],["T_STRING","SetupUtil",12],["T_DOUBLE_COLON","::",12],["T_STRING","CONFIG_OVERRIDES",12],["T_WHITESPACE"," ",12],["T_DOUBLE_ARROW","=>",12],["T_WHITESPACE"," ",12],"[",["T_WHITESPACE","\n            ",12],["T_STRING","Config",13],["T_DOUBLE_COLON","::",13],["T_STRING","CONFIG_XML_PATH_APPLY_AFTER_DISCOUNT",13],["T_WHITESPACE"," ",13],["T_DOUBLE_ARROW","=>",13],["T_WHITESPACE"," ",13],["T_LNUMBER","0",13],",",["T_WHITESPACE","\n            ",13],["T_STRING","Config",14],["T_DOUBLE_COLON","::",14],["T_STRING","CONFIG_XML_PATH_SHIPPING_TAX_CLASS",14],["T_WHITESPACE"," ",14],["T_DOUBLE_ARROW","=>",14],["T_WHITESPACE"," ",14],["T_STRING","SetupUtil",14],["T_DOUBLE_COLON","::",14],["T_STRING","PRODUCT_TAX_CLASS_1",14],",",["T_WHITESPACE","\n        ",14],"]",",",["T_WHITESPACE","\n        ",15],["T_STRING","SetupUtil",16],["T_DOUBLE_COLON","::",16],["T_STRING","TAX_RATE_OVERRIDES",16],["T_WHITESPACE"," ",16],["T_DOUBLE_ARROW","=>",16],["T_WHITESPACE"," ",16],"[",["T_WHITESPACE","\n            ",16],["T_STRING","SetupUtil",17],["T_DOUBLE_COLON","::",17],["T_STRING","TAX_RATE_TX",17],["T_WHITESPACE"," ",17],["T_DOUBLE_ARROW","=>",17],["T_WHITESPACE"," ",17],["T_LNUMBER","20",17],",",["T_WHITESPACE","\n        ",17],"]",",",["T_WHITESPACE","\n        ",18],["T_STRING","SetupUtil",19],["T_DOUBLE_COLON","::",19],["T_STRING","TAX_RULE_OVERRIDES",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],"[",["T_WHITESPACE","\n        ",19],"]",",",["T_WHITESPACE","\n    ",20],"]",",",["T_WHITESPACE","\n    ",21],["T_CONSTANT_ENCAPSED_STRING","'quote_data'",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],"[",["T_WHITESPACE","\n        ",22],["T_CONSTANT_ENCAPSED_STRING","'billing_address'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],"[",["T_WHITESPACE","\n            ",23],["T_CONSTANT_ENCAPSED_STRING","'region_id'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_STRING","SetupUtil",24],["T_DOUBLE_COLON","::",24],["T_STRING","REGION_TX",24],",",["T_WHITESPACE","\n        ",24],"]",",",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'shipping_address'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n            ",26],["T_CONSTANT_ENCAPSED_STRING","'region_id'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_STRING","SetupUtil",27],["T_DOUBLE_COLON","::",27],["T_STRING","REGION_TX",27],",",["T_WHITESPACE","\n        ",27],"]",",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'items'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n            ",29],"[",["T_WHITESPACE","\n                ",30],["T_CONSTANT_ENCAPSED_STRING","'sku'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'simple1'",31],",",["T_WHITESPACE","\n                ",31],["T_CONSTANT_ENCAPSED_STRING","'price'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_LNUMBER","10",32],",",["T_WHITESPACE","\n                ",32],["T_CONSTANT_ENCAPSED_STRING","'qty'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_LNUMBER","2",33],",",["T_WHITESPACE","\n            ",33],"]",",",["T_WHITESPACE","\n        ",34],"]",",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'shipping_method'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'flatrate_flatrate'",36],",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'shopping_cart_rules'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n            ",37],"[",["T_WHITESPACE","\n                ",38],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","50",39],",",["T_WHITESPACE","\n            ",39],"]",",",["T_WHITESPACE","\n        ",40],"]",",",["T_WHITESPACE","\n    ",41],"]",",",["T_WHITESPACE","\n    ",42],["T_CONSTANT_ENCAPSED_STRING","'expected_results'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'address_data'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_LNUMBER","20",45],",",["T_WHITESPACE","\n            ",45],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","20",46],",",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_LNUMBER","24",47],",",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'base_subtotal_incl_tax'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","24",48],",",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_LNUMBER","6",49],",",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_LNUMBER","6",50],",",["T_WHITESPACE","\n            ",50],["T_CONSTANT_ENCAPSED_STRING","'shipping_amount'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_LNUMBER","10",51],",",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_amount'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_LNUMBER","10",52],",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'shipping_incl_tax'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_LNUMBER","12",53],",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_incl_tax'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","12",54],",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'shipping_tax_amount'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_LNUMBER","2",55],",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_tax_amount'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","2",56],",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],"-",["T_LNUMBER","10",57],",",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'base_discount_amount'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"-",["T_LNUMBER","10",58],",",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'discount_tax_compensation_amount'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],",",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'base_discount_tax_compensation_amount'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","0",60],",",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'shipping_discount_tax_compensation_amount'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'base_shipping_discount_tax_compensation_amount'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_LNUMBER","26",63],",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'base_grand_total'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_LNUMBER","26",64],",",["T_WHITESPACE","\n        ",64],"]",",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'items_data'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],"[",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'simple1'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],"[",["T_WHITESPACE","\n                ",67],["T_CONSTANT_ENCAPSED_STRING","'row_total'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_LNUMBER","20",68],",",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'base_row_total'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","20",69],",",["T_WHITESPACE","\n                ",69],["T_CONSTANT_ENCAPSED_STRING","'tax_percent'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_LNUMBER","20",70],",",["T_WHITESPACE","\n                ",70],["T_CONSTANT_ENCAPSED_STRING","'price'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_LNUMBER","10",71],",",["T_WHITESPACE","\n                ",71],["T_CONSTANT_ENCAPSED_STRING","'base_price'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_LNUMBER","10",72],",",["T_WHITESPACE","\n                ",72],["T_CONSTANT_ENCAPSED_STRING","'price_incl_tax'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_LNUMBER","12",73],",",["T_WHITESPACE","\n                ",73],["T_CONSTANT_ENCAPSED_STRING","'base_price_incl_tax'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_LNUMBER","12",74],",",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'row_total_incl_tax'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","24",75],",",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'base_row_total_incl_tax'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_LNUMBER","24",76],",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'tax_amount'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","4",77],",",["T_WHITESPACE","\n                ",77],["T_CONSTANT_ENCAPSED_STRING","'base_tax_amount'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_LNUMBER","4",78],",",["T_WHITESPACE","\n                ",78],["T_CONSTANT_ENCAPSED_STRING","'discount_amount'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","10",79],",",["T_WHITESPACE","\n                ",79],["T_CONSTANT_ENCAPSED_STRING","'base_discount_amount'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_LNUMBER","10",80],",",["T_WHITESPACE","\n                ",80],["T_CONSTANT_ENCAPSED_STRING","'discount_percent'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","50",81],",",["T_WHITESPACE","\n                ",81],["T_CONSTANT_ENCAPSED_STRING","'discount_tax_compensation_amount'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_LNUMBER","0",82],",",["T_WHITESPACE","\n                ",82],["T_CONSTANT_ENCAPSED_STRING","'base_discount_tax_compensation_amount'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_LNUMBER","0",83],",",["T_WHITESPACE","\n            ",83],"]",",",["T_WHITESPACE","\n        ",84],"]",",",["T_WHITESPACE","\n    ",85],"]",",",["T_WHITESPACE","\n",86],"]",";",["T_WHITESPACE","\n",87]]