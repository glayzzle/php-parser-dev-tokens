[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Indexer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Category",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Catalog",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Category",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @magentoDataFixture Magento\/Catalog\/_files\/indexer_catalog_category.php\n * @magentoDbIsolation enabled\n * @magentoAppIsolation enabled\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ProductTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE","\n",15],"{",["T_WHITESPACE","\n    ",16],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","DEFAULT_ROOT_CATEGORY",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_LNUMBER","2",17],";",["T_WHITESPACE","\n\n    ",17],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\Indexer\\IndexerInterface\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$indexer",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\ResourceModel\\Product\n     *\/",24],["T_WHITESPACE","\n    ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$productResource",27],";",["T_WHITESPACE","\n\n    ",27],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Indexer\\IndexerInterface indexer *\/",31],["T_WHITESPACE","\n        ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","indexer",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","TestFramework",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Helper",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Bootstrap",32],["T_DOUBLE_COLON","::",32],["T_STRING","getObjectManager",32],"(",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","create",32],"(",["T_WHITESPACE","\n            ",32],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Indexer",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Model",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Indexer",33],["T_DOUBLE_COLON","::",33],["T_CLASS","class",33],["T_WHITESPACE","\n        ",33],")",";",["T_WHITESPACE","\n        ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","indexer",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","load",35],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product'",35],")",";",["T_WHITESPACE","\n\n        ",35],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\ResourceModel\\Product $productResource *\/",37],["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","productResource",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","TestFramework",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Helper",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Bootstrap",38],["T_DOUBLE_COLON","::",38],["T_STRING","getObjectManager",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_WHITESPACE","\n            ",38],["T_NS_SEPARATOR","\\",39],["T_STRING","Magento",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Catalog",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Model",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ResourceModel",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Product",39],["T_DOUBLE_COLON","::",39],["T_CLASS","class",39],["T_WHITESPACE","\n        ",39],")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @magentoDataFixture Magento\/Catalog\/_files\/indexer_catalog_category.php\n     * @magentoDbIsolation enabled\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testReindexAll",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$categories",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getCategories",50],"(",["T_LNUMBER","4",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$products",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getProducts",51],"(",["T_LNUMBER","2",51],")",";",["T_WHITESPACE","\n\n        ",51],["T_DOC_COMMENT","\/** @var Category $categoryFourth *\/",53],["T_WHITESPACE","\n        ",53],["T_VARIABLE","$categoryFourth",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","end",54],"(",["T_VARIABLE","$categories",54],")",";",["T_WHITESPACE","\n        ",54],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$products",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$product",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",56],["T_WHITESPACE","\n            ",56],["T_VARIABLE","$product",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","setCategoryIds",57],"(","[",["T_VARIABLE","$categoryFourth",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getId",57],"(",")","]",")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$product",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","save",58],"(",")",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_DOC_COMMENT","\/** @var Category $categoryThird *\/",61],["T_WHITESPACE","\n        ",61],["T_VARIABLE","$categoryThird",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$categories",62],"[",["T_LNUMBER","2",62],"]",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$categoryThird",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setIsAnchor",63],"(",["T_STRING","true",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$categoryThird",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","clearIndex",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$categories",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[",["T_STRING","self",67],["T_DOUBLE_COLON","::",67],["T_STRING","DEFAULT_ROOT_CATEGORY",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$categoryThird",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getId",67],"(",")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$categoryFourth",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getId",67],"(",")","]",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","indexer",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","reindexAll",69],"(",")",";",["T_WHITESPACE","\n\n        ",69],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$products",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$product",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",72],["T_WHITESPACE","\n            ",72],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$categories",73],["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$categoryId",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertTrue",74],"(",["T_BOOL_CAST","(bool)",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","productResource",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","canBeShowInCategory",74],"(",["T_VARIABLE","$product",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$categoryId",74],")",")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n\n            ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertTrue",77],"(",["T_WHITESPACE","\n                ",77],["T_BOOL_CAST","(bool)",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","productResource",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","canBeShowInCategory",78],"(",["T_VARIABLE","$product",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$categoryThird",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getParentId",78],"(",")",")",["T_WHITESPACE","\n            ",78],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @magentoDataFixture Magento\/Catalog\/_files\/indexer_catalog_category.php\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     *\/",83],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testCategoryMove",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$categories",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCategories",91],"(",["T_LNUMBER","4",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$products",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getProducts",92],"(",["T_LNUMBER","2",92],")",";",["T_WHITESPACE","\n\n        ",92],["T_DOC_COMMENT","\/** @var Category $categoryFourth *\/",94],["T_WHITESPACE","\n        ",94],["T_VARIABLE","$categoryFourth",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","end",95],"(",["T_VARIABLE","$categories",95],")",";",["T_WHITESPACE","\n        ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$products",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$product",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",97],["T_WHITESPACE","\n            ",97],["T_VARIABLE","$product",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setCategoryIds",98],"(","[",["T_VARIABLE","$categoryFourth",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getId",98],"(",")","]",")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$product",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","save",99],"(",")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_DOC_COMMENT","\/** @var Category $categorySecond *\/",102],["T_WHITESPACE","\n        ",102],["T_VARIABLE","$categorySecond",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$categories",103],"[",["T_LNUMBER","1",103],"]",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$categorySecond",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setIsAnchor",104],"(",["T_STRING","true",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$categorySecond",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n\n        ",105],["T_DOC_COMMENT","\/** @var Category $categoryThird *\/",107],["T_WHITESPACE","\n        ",107],["T_VARIABLE","$categoryThird",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$categories",108],"[",["T_LNUMBER","2",108],"]",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$categoryThird",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setIsAnchor",109],"(",["T_STRING","true",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$categoryThird",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","save",110],"(",")",";",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","clearIndex",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","indexer",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","reindexAll",113],"(",")",";",["T_WHITESPACE","\n\n        ",113],["T_DOC_COMMENT","\/**\n         * Move category from $categoryThird to $categorySecond\n         *\/",115],["T_WHITESPACE","\n        ",117],["T_VARIABLE","$categoryFourth",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","move",118],"(",["T_VARIABLE","$categorySecond",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getId",118],"(",")",",",["T_WHITESPACE"," ",118],["T_STRING","null",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$categories",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[",["T_STRING","self",120],["T_DOUBLE_COLON","::",120],["T_STRING","DEFAULT_ROOT_CATEGORY",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$categorySecond",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getId",120],"(",")",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$categoryFourth",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getId",120],"(",")","]",";",["T_WHITESPACE","\n\n        ",120],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$products",122],["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$product",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",123],["T_WHITESPACE","\n            ",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$categories",124],["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$categoryId",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertTrue",125],"(",["T_BOOL_CAST","(bool)",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","productResource",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","canBeShowInCategory",125],"(",["T_VARIABLE","$product",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$categoryId",125],")",")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n\n            ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertFalse",128],"(",["T_BOOL_CAST","(bool)",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","productResource",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","canBeShowInCategory",128],"(",["T_VARIABLE","$product",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$categoryThird",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getId",128],"(",")",")",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * @magentoAppArea adminhtml\n     * @depends testReindexAll\n     *\/",132],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testCategoryDelete",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$categories",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getCategories",138],"(",["T_LNUMBER","4",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$products",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getProducts",139],"(",["T_LNUMBER","2",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_DOC_COMMENT","\/** @var Category $categoryFourth *\/",141],["T_WHITESPACE","\n        ",141],["T_VARIABLE","$categoryFourth",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","end",142],"(",["T_VARIABLE","$categories",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$categoryFourth",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","delete",143],"(",")",";",["T_WHITESPACE","\n\n        ",143],["T_DOC_COMMENT","\/** @var Category $categorySecond *\/",145],["T_WHITESPACE","\n        ",145],["T_VARIABLE","$categorySecond",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$categories",146],"[",["T_LNUMBER","1",146],"]",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$categories",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],"[",["T_VARIABLE","$categorySecond",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$categoryFourth",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")","]",";",["T_WHITESPACE","\n\n        ",148],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$products",150],["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$product",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",151],["T_WHITESPACE","\n            ",151],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$categories",152],["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$categoryId",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertFalse",153],"(",["T_BOOL_CAST","(bool)",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","productResource",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","canBeShowInCategory",153],"(",["T_VARIABLE","$product",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$categoryId",153],")",")",";",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertTrue",155],"(",["T_WHITESPACE","\n                ",155],["T_BOOL_CAST","(bool)",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","productResource",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","canBeShowInCategory",156],"(",["T_VARIABLE","$product",156],",",["T_WHITESPACE"," ",156],["T_STRING","self",156],["T_DOUBLE_COLON","::",156],["T_STRING","DEFAULT_ROOT_CATEGORY",156],")",["T_WHITESPACE","\n            ",156],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","testCategoryCreate",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","testReindexAll",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$categories",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getCategories",164],"(",["T_LNUMBER","4",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$products",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getProducts",165],"(",["T_LNUMBER","3",165],")",";",["T_WHITESPACE","\n\n        ",165],["T_DOC_COMMENT","\/** @var Category $categorySecond *\/",167],["T_WHITESPACE","\n        ",167],["T_VARIABLE","$categorySecond",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$categories",168],"[",["T_LNUMBER","1",168],"]",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$categorySecond",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setIsAnchor",169],"(",["T_LNUMBER","0",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$categorySecond",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","save",170],"(",")",";",["T_WHITESPACE","\n\n        ",170],["T_DOC_COMMENT","\/** @var Category $categoryFifth *\/",172],["T_WHITESPACE","\n        ",172],["T_VARIABLE","$categoryFifth",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","end",173],"(",["T_VARIABLE","$categories",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_DOC_COMMENT","\/** @var Category $categorySixth *\/",175],["T_WHITESPACE","\n        ",175],["T_VARIABLE","$categorySixth",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Magento",176],["T_NS_SEPARATOR","\\",176],["T_STRING","TestFramework",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Helper",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Bootstrap",176],["T_DOUBLE_COLON","::",176],["T_STRING","getObjectManager",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","create",176],"(",["T_WHITESPACE","\n            ",176],["T_NS_SEPARATOR","\\",177],["T_STRING","Magento",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Catalog",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Model",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Category",177],["T_DOUBLE_COLON","::",177],["T_CLASS","class",177],["T_WHITESPACE","\n        ",177],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$categorySixth",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setName",179],"(",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'Category 6'",180],["T_WHITESPACE","\n        ",180],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","setPath",181],"(",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$categoryFifth",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getPath",182],"(",")",["T_WHITESPACE","\n        ",182],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","setAvailableSortBy",183],"(",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'name'",184],["T_WHITESPACE","\n        ",184],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","setDefaultSortBy",185],"(",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'name'",186],["T_WHITESPACE","\n        ",186],")",["T_OBJECT_OPERATOR","->",187],["T_STRING","setIsActive",187],"(",["T_WHITESPACE","\n            ",187],["T_STRING","true",188],["T_WHITESPACE","\n        ",188],")",["T_OBJECT_OPERATOR","->",189],["T_STRING","save",189],"(",")",";",["T_WHITESPACE","\n\n        ",189],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $productThird *\/",191],["T_WHITESPACE","\n        ",191],["T_VARIABLE","$productThird",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","end",192],"(",["T_VARIABLE","$products",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$productThird",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setCategoryIds",193],"(","[",["T_VARIABLE","$categorySixth",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getId",193],"(",")","]",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$productThird",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","save",194],"(",")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$categories",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"[",["T_STRING","self",196],["T_DOUBLE_COLON","::",196],["T_STRING","DEFAULT_ROOT_CATEGORY",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$categorySixth",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getId",196],"(",")",",",["T_WHITESPACE"," ",196],["T_VARIABLE","$categoryFifth",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getId",196],"(",")","]",";",["T_WHITESPACE","\n        ",196],["T_FOREACH","foreach",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$categories",197],["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$categoryId",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertTrue",198],"(",["T_BOOL_CAST","(bool)",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","productResource",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","canBeShowInCategory",198],"(",["T_VARIABLE","$productThird",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$categoryId",198],")",")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$categories",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[",["T_VARIABLE","$categorySecond",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getId",201],"(",")","]",";",["T_WHITESPACE","\n        ",201],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$categories",202],["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$categoryId",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertFalse",203],"(",["T_BOOL_CAST","(bool)",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","productResource",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","canBeShowInCategory",203],"(",["T_VARIABLE","$productThird",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$categoryId",203],")",")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * @param int $count\n     * @return Category[]\n     *\/",207],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","getCategories",211],"(",["T_VARIABLE","$count",211],")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_DOC_COMMENT","\/** @var Category $category *\/",213],["T_WHITESPACE","\n        ",213],["T_VARIABLE","$category",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Magento",214],["T_NS_SEPARATOR","\\",214],["T_STRING","TestFramework",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Helper",214],["T_NS_SEPARATOR","\\",214],["T_STRING","Bootstrap",214],["T_DOUBLE_COLON","::",214],["T_STRING","getObjectManager",214],"(",")",["T_OBJECT_OPERATOR","->",214],["T_STRING","create",214],"(",["T_WHITESPACE","\n            ",214],["T_NS_SEPARATOR","\\",215],["T_STRING","Magento",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Catalog",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Model",215],["T_NS_SEPARATOR","\\",215],["T_STRING","Category",215],["T_DOUBLE_COLON","::",215],["T_CLASS","class",215],["T_WHITESPACE","\n        ",215],")",";",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$result",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$category",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getCollection",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","addAttributeToSelect",218],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getItems",218],"(",")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$result",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","array_slice",219],"(",["T_VARIABLE","$result",219],",",["T_WHITESPACE"," ",219],["T_LNUMBER","2",219],")",";",["T_WHITESPACE","\n\n        ",219],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_STRING","array_slice",221],"(",["T_VARIABLE","$result",221],",",["T_WHITESPACE"," ",221],["T_LNUMBER","0",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$count",221],")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * @param int $count\n     * @return \\Magento\\Catalog\\Model\\Product[]\n     *\/",224],["T_WHITESPACE","\n    ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getProducts",228],"(",["T_VARIABLE","$count",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_DOC_COMMENT","\/** @var \\Magento\\Catalog\\Model\\Product $product *\/",230],["T_WHITESPACE","\n        ",230],["T_VARIABLE","$product",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Magento",231],["T_NS_SEPARATOR","\\",231],["T_STRING","TestFramework",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Helper",231],["T_NS_SEPARATOR","\\",231],["T_STRING","Bootstrap",231],["T_DOUBLE_COLON","::",231],["T_STRING","getObjectManager",231],"(",")",["T_OBJECT_OPERATOR","->",231],["T_STRING","create",231],"(",["T_WHITESPACE","\n            ",231],["T_NS_SEPARATOR","\\",232],["T_STRING","Magento",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Catalog",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Model",232],["T_NS_SEPARATOR","\\",232],["T_STRING","Product",232],["T_DOUBLE_COLON","::",232],["T_CLASS","class",232],["T_WHITESPACE","\n        ",232],")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$result",235],"[","]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$product",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","load",235],"(",["T_LNUMBER","1",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$result",236],"[","]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$product",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","load",236],"(",["T_LNUMBER","2",236],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$result",237],"[","]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$product",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","load",237],"(",["T_LNUMBER","3",237],")",";",["T_WHITESPACE","\n\n        ",237],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_STRING","array_slice",239],"(",["T_VARIABLE","$result",239],",",["T_WHITESPACE"," ",239],["T_LNUMBER","0",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$count",239],")",";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_DOC_COMMENT","\/**\n     * Clear index data\n     *\/",242],["T_WHITESPACE","\n    ",244],["T_PROTECTED","protected",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","clearIndex",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","productResource",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getConnection",247],"(",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","delete",247],"(",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","productResource",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getTable",248],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product_index'",248],")",["T_WHITESPACE","\n        ",248],")",";",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$actualResult",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","productResource",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getConnection",251],"(",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","fetchOne",251],"(",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","productResource",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getConnection",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","select",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","from",252],"(",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","productResource",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getTable",253],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_product_index'",253],")",",",["T_WHITESPACE","\n                ",253],["T_CONSTANT_ENCAPSED_STRING","'product_id'",254],["T_WHITESPACE","\n            ",254],")",["T_WHITESPACE","\n        ",255],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertFalse",257],"(",["T_VARIABLE","$actualResult",257],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n",258],"}",["T_WHITESPACE","\n",259]]