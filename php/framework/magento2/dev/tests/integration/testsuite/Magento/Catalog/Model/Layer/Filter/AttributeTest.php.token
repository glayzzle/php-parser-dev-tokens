[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Catalog",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Layer",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Filter",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Test class for \\Magento\\Catalog\\Model\\Layer\\Filter\\Attribute.\n *\n * @magentoDataFixture Magento\/Catalog\/Model\/Layer\/Filter\/_files\/attribute_with_option.php\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AttributeTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PHPUnit_Framework_TestCase",13],["T_WHITESPACE","\n",13],"{",["T_WHITESPACE","\n    ",14],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\\Filter\\Attribute\n     *\/",15],["T_WHITESPACE","\n    ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$_model",18],";",["T_WHITESPACE","\n\n    ",18],["T_DOC_COMMENT","\/**\n     * @var int\n     *\/",20],["T_WHITESPACE","\n    ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$_attributeOptionId",23],";",["T_WHITESPACE","\n\n    ",23],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Catalog\\Model\\Layer\n     *\/",25],["T_WHITESPACE","\n    ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$_layer",28],";",["T_WHITESPACE","\n\n    ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_DOC_COMMENT","\/** @var $attribute \\Magento\\Catalog\\Model\\Entity\\Attribute *\/",32],["T_WHITESPACE","\n        ",32],["T_VARIABLE","$attribute",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","TestFramework",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Helper",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Bootstrap",33],["T_DOUBLE_COLON","::",33],["T_STRING","getObjectManager",33],"(",")",["T_OBJECT_OPERATOR","->",33],["T_STRING","create",33],"(",["T_WHITESPACE","\n            ",33],["T_NS_SEPARATOR","\\",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Catalog",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Model",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Entity",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Attribute",34],["T_DOUBLE_COLON","::",34],["T_CLASS","class",34],["T_WHITESPACE","\n        ",34],")",";",["T_WHITESPACE","\n        ",35],["T_VARIABLE","$attribute",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","loadByCode",36],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'attribute_with_option'",36],")",";",["T_WHITESPACE","\n        ",36],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$attribute",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getSource",37],"(",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","getAllOptions",37],"(",")",["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$optionInfo",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n            ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$optionInfo",38],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",38],"]",["T_WHITESPACE"," ",38],["T_IS_EQUAL","==",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Option Label'",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n                ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_attributeOptionId",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$optionInfo",39],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",39],"]",";",["T_WHITESPACE","\n                ",39],["T_BREAK","break",40],";",["T_WHITESPACE","\n            ",40],"}",["T_WHITESPACE","\n        ",41],"}",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_layer",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Magento",44],["T_NS_SEPARATOR","\\",44],["T_STRING","TestFramework",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Helper",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Bootstrap",44],["T_DOUBLE_COLON","::",44],["T_STRING","getObjectManager",44],"(",")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","create",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Magento",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Catalog",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Model",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Layer",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Category",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_model",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Magento",46],["T_NS_SEPARATOR","\\",46],["T_STRING","TestFramework",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Helper",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Bootstrap",46],["T_DOUBLE_COLON","::",46],["T_STRING","getObjectManager",46],"(",")",["T_WHITESPACE","\n            ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","create",47],"(",["T_NS_SEPARATOR","\\",47],["T_STRING","Magento",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Catalog",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Model",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Layer",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Filter",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Attribute",47],["T_DOUBLE_COLON","::",47],["T_CLASS","class",47],",",["T_WHITESPACE"," ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'layer'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_layer",47],"]",")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_model",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setData",48],"(","[",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$attribute",49],",",["T_WHITESPACE","\n        ",49],"]",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testOptionIdNotEmpty",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertNotEmpty",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_attributeOptionId",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Fixture attribute option id.'",55],")",";",["T_WHITESPACE"," ",55],["T_COMMENT","\/\/ just in case\n",55],["T_WHITESPACE","    ",56],"}",["T_WHITESPACE","\n\n    ",56],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testApplyInvalid",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEmpty",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_model",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getLayer",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getState",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getFilters",60],"(",")",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$objectManager",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Magento",61],["T_NS_SEPARATOR","\\",61],["T_STRING","TestFramework",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Helper",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Bootstrap",61],["T_DOUBLE_COLON","::",61],["T_STRING","getObjectManager",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$request",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$objectManager",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Magento",62],["T_NS_SEPARATOR","\\",62],["T_STRING","TestFramework",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Request",62],["T_DOUBLE_COLON","::",62],["T_CLASS","class",62],")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$request",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setParam",63],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute'",63],",",["T_WHITESPACE"," ",63],"[","]",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_model",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","apply",64],"(",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$request",65],",",["T_WHITESPACE","\n            ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Magento",66],["T_NS_SEPARATOR","\\",66],["T_STRING","TestFramework",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Helper",66],["T_NS_SEPARATOR","\\",66],["T_STRING","Bootstrap",66],["T_DOUBLE_COLON","::",66],["T_STRING","getObjectManager",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","get",66],"(",["T_WHITESPACE","\n                ",66],["T_NS_SEPARATOR","\\",67],["T_STRING","Magento",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Framework",67],["T_NS_SEPARATOR","\\",67],["T_STRING","View",67],["T_NS_SEPARATOR","\\",67],["T_STRING","LayoutInterface",67],["T_DOUBLE_COLON","::",67],["T_CLASS","class",67],["T_WHITESPACE","\n            ",67],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","createBlock",68],"(",["T_WHITESPACE","\n                ",68],["T_NS_SEPARATOR","\\",69],["T_STRING","Magento",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Framework",69],["T_NS_SEPARATOR","\\",69],["T_STRING","View",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Element",69],["T_NS_SEPARATOR","\\",69],["T_STRING","Text",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],["T_WHITESPACE","\n            ",69],")",["T_WHITESPACE","\n        ",70],")",";",["T_WHITESPACE","\n\n        ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEmpty",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_model",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getLayer",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getState",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getFilters",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testApply",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEmpty",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_model",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getLayer",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","getState",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","getFilters",78],"(",")",")",";",["T_WHITESPACE","\n\n        ",78],["T_VARIABLE","$objectManager",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Magento",80],["T_NS_SEPARATOR","\\",80],["T_STRING","TestFramework",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Helper",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Bootstrap",80],["T_DOUBLE_COLON","::",80],["T_STRING","getObjectManager",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$request",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$objectManager",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Magento",81],["T_NS_SEPARATOR","\\",81],["T_STRING","TestFramework",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Request",81],["T_DOUBLE_COLON","::",81],["T_CLASS","class",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$request",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","setParam",82],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_attributeOptionId",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_model",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","apply",83],"(",["T_VARIABLE","$request",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNotEmpty",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_model",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getLayer",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getState",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getFilters",85],"(",")",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testGetItems",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$items",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_model",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getItems",90],"(",")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertInternalType",92],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$items",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEquals",93],"(",["T_LNUMBER","1",93],",",["T_WHITESPACE"," ",93],["T_STRING","count",93],"(",["T_VARIABLE","$items",93],")",")",";",["T_WHITESPACE","\n\n        ",93],["T_DOC_COMMENT","\/** @var $item \\Magento\\Catalog\\Model\\Layer\\Filter\\Item *\/",95],["T_WHITESPACE","\n        ",95],["T_VARIABLE","$item",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$items",96],"[",["T_LNUMBER","0",96],"]",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertInstanceOf",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Catalog",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Layer",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Filter",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Item",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$item",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertSame",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_model",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$item",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getFilter",99],"(",")",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Option Label'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$item",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getLabel",100],"(",")",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_attributeOptionId",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$item",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getValue",101],"(",")",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEquals",102],"(",["T_LNUMBER","1",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$item",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getCount",102],"(",")",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n",103],"}",["T_WHITESPACE","\n",104]]