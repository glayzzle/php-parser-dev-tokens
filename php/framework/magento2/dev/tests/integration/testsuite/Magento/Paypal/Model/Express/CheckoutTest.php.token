[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Paypal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Express",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Model",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Quote",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Checkout",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Type",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Onepage",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Magento",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TestFramework",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Helper",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Bootstrap",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Class CheckoutTest\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","CheckoutTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PHPUnit_Framework_TestCase",17],["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n    ",18],["T_DOC_COMMENT","\/**\n     * @var \\Magento\\Framework\\ObjectManagerInterface\n     *\/",19],["T_WHITESPACE","\n    ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$_objectManager",22],";",["T_WHITESPACE","\n\n    ",22],["T_DOC_COMMENT","\/**\n     * Set up\n     *\n     * @return void\n     *\/",24],["T_WHITESPACE","\n    ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE","\n    ",29],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","_objectManager",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","Bootstrap",31],["T_DOUBLE_COLON","::",31],["T_STRING","getObjectManager",31],"(",")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Verify that an order placed with an existing customer can re-use the customer addresses.\n     *\n     * @magentoDataFixture Magento\/Paypal\/_files\/quote_express_with_customer.php\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     *\/",34],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testPrepareCustomerQuote",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_DOC_COMMENT","\/** @var Quote $quote *\/",43],["T_WHITESPACE","\n        ",43],["T_VARIABLE","$quote",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_getFixtureQuote",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$quote",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setCheckoutMethod",45],"(",["T_STRING","Onepage",45],["T_DOUBLE_COLON","::",45],["T_STRING","METHOD_CUSTOMER",45],")",";",["T_WHITESPACE"," ",45],["T_COMMENT","\/\/ to dive into _prepareCustomerQuote() on switch\n",45],["T_WHITESPACE","        ",46],["T_VARIABLE","$quote",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getShippingAddress",46],"(",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","setSameAsBilling",46],"(",["T_LNUMBER","0",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$quote",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setReservedOrderId",47],"(",["T_STRING","null",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$customer",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_objectManager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","create",48],"(",["T_NS_SEPARATOR","\\",48],["T_STRING","Magento",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Customer",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Model",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Customer",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","load",48],"(",["T_LNUMBER","1",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$customer",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","setDefaultBilling",49],"(",["T_STRING","false",49],")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","setDefaultShipping",50],"(",["T_STRING","false",50],")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","save",51],"(",")",";",["T_WHITESPACE","\n\n        ",51],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Model\\Session $customerSession *\/",53],["T_WHITESPACE","\n        ",53],["T_VARIABLE","$customerSession",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_objectManager",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_NS_SEPARATOR","\\",54],["T_STRING","Magento",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Customer",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Model",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Session",54],["T_DOUBLE_COLON","::",54],["T_CLASS","class",54],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$customerSession",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","loginById",55],"(",["T_LNUMBER","1",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$checkout",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_getCheckout",56],"(",["T_VARIABLE","$quote",56],")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$checkout",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","place",57],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",57],")",";",["T_WHITESPACE","\n\n        ",57],["T_DOC_COMMENT","\/** @var \\Magento\\Customer\\Api\\CustomerRepositoryInterface $customerService *\/",59],["T_WHITESPACE","\n        ",59],["T_VARIABLE","$customerService",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_objectManager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Magento",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Customer",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Api",60],["T_NS_SEPARATOR","\\",60],["T_STRING","CustomerRepositoryInterface",60],["T_DOUBLE_COLON","::",60],["T_CLASS","class",60],")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$customer",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$customerService",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getById",61],"(",["T_VARIABLE","$quote",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getCustomerId",61],"(",")",")",";",["T_WHITESPACE","\n\n        ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEquals",63],"(",["T_LNUMBER","1",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$quote",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getCustomerId",63],"(",")",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEquals",64],"(",["T_LNUMBER","2",64],",",["T_WHITESPACE"," ",64],["T_STRING","count",64],"(",["T_VARIABLE","$customer",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getAddresses",64],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEquals",66],"(",["T_LNUMBER","1",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$quote",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getBillingAddress",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getCustomerAddressId",66],"(",")",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEquals",67],"(",["T_LNUMBER","2",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$quote",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getShippingAddress",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getCustomerAddressId",67],"(",")",")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$order",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$checkout",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getOrder",69],"(",")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_LNUMBER","1",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$order",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getBillingAddress",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getCustomerAddressId",70],"(",")",")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_LNUMBER","2",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$order",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getShippingAddress",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getCustomerAddressId",71],"(",")",")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Verify that after placing the order, addresses are associated with the order and the quote is a guest quote.\n     *\n     * @magentoDataFixture Magento\/Paypal\/_files\/quote_express.php\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     *\/",74],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testPlaceGuestQuote",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_DOC_COMMENT","\/** @var Quote $quote *\/",83],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$quote",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_getFixtureQuote",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$quote",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setCheckoutMethod",85],"(",["T_STRING","Onepage",85],["T_DOUBLE_COLON","::",85],["T_STRING","METHOD_GUEST",85],")",";",["T_WHITESPACE"," ",85],["T_COMMENT","\/\/ to dive into _prepareGuestQuote() on switch\n",85],["T_WHITESPACE","        ",86],["T_VARIABLE","$quote",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getShippingAddress",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","setSameAsBilling",86],"(",["T_LNUMBER","0",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$quote",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setReservedOrderId",87],"(",["T_STRING","null",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$checkout",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_getCheckout",89],"(",["T_VARIABLE","$quote",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$checkout",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","place",90],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertNull",92],"(",["T_VARIABLE","$quote",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getCustomerId",92],"(",")",")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertTrue",93],"(",["T_VARIABLE","$quote",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getCustomerIsGuest",93],"(",")",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEquals",94],"(",["T_WHITESPACE","\n            ",94],["T_NS_SEPARATOR","\\",95],["T_STRING","Magento",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Customer",95],["T_NS_SEPARATOR","\\",95],["T_STRING","Model",95],["T_NS_SEPARATOR","\\",95],["T_STRING","GroupManagement",95],["T_DOUBLE_COLON","::",95],["T_STRING","NOT_LOGGED_IN_ID",95],",",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$quote",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCustomerGroupId",96],"(",")",["T_WHITESPACE","\n        ",96],")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertNotEmpty",99],"(",["T_VARIABLE","$quote",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getBillingAddress",99],"(",")",")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertNotEmpty",100],"(",["T_VARIABLE","$quote",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getShippingAddress",100],"(",")",")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$order",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$checkout",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getOrder",102],"(",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertNotEmpty",103],"(",["T_VARIABLE","$order",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getBillingAddress",103],"(",")",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertNotEmpty",104],"(",["T_VARIABLE","$order",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getShippingAddress",104],"(",")",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * @param Quote $quote\n     * @return Checkout\n     *\/",107],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_getCheckout",111],"(",["T_STRING","Quote",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$quote",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_objectManager",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","create",113],"(",["T_WHITESPACE","\n            ",113],["T_NS_SEPARATOR","\\",114],["T_STRING","Magento",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Paypal",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Model",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Express",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Checkout",114],["T_DOUBLE_COLON","::",114],["T_CLASS","class",114],",",["T_WHITESPACE","\n            ",114],"[",["T_WHITESPACE","\n                ",115],["T_CONSTANT_ENCAPSED_STRING","'params'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],"[",["T_WHITESPACE","\n                    ",116],["T_CONSTANT_ENCAPSED_STRING","'config'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMock",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Magento",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Paypal",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Model",117],["T_NS_SEPARATOR","\\",117],["T_STRING","Config",117],["T_DOUBLE_COLON","::",117],["T_CLASS","class",117],",",["T_WHITESPACE"," ",117],"[","]",",",["T_WHITESPACE"," ",117],"[","]",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","''",117],",",["T_WHITESPACE"," ",117],["T_STRING","false",117],")",",",["T_WHITESPACE","\n                    ",117],["T_CONSTANT_ENCAPSED_STRING","'quote'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$quote",118],",",["T_WHITESPACE","\n                ",118],"]",["T_WHITESPACE","\n            ",119],"]",["T_WHITESPACE","\n        ",120],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Verify that an order placed with an existing customer can re-use the customer addresses.\n     *\n     * @magentoDataFixture Magento\/Paypal\/_files\/quote_payment_express_with_customer.php\n     * @magentoAppIsolation enabled\n     * @magentoDbIsolation enabled\n     *\/",124],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","testReturnFromPaypal",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$quote",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_getFixtureQuote",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$paypalConfigMock",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getMock",134],"(",["T_NS_SEPARATOR","\\",134],["T_STRING","Magento",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Paypal",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Model",134],["T_NS_SEPARATOR","\\",134],["T_STRING","Config",134],["T_DOUBLE_COLON","::",134],["T_CLASS","class",134],",",["T_WHITESPACE"," ",134],"[","]",",",["T_WHITESPACE"," ",134],"[","]",",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","''",134],",",["T_WHITESPACE"," ",134],["T_STRING","false",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$apiTypeFactory",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMock",135],"(",["T_NS_SEPARATOR","\\",135],["T_STRING","Magento",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Paypal",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Model",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Api",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Type",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Factory",135],["T_DOUBLE_COLON","::",135],["T_CLASS","class",135],",",["T_WHITESPACE"," ",135],"[","]",",",["T_WHITESPACE"," ",135],"[","]",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","''",135],",",["T_WHITESPACE"," ",135],["T_STRING","false",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$paypalInfo",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getMock",136],"(",["T_NS_SEPARATOR","\\",136],["T_STRING","Magento",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Paypal",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Model",136],["T_NS_SEPARATOR","\\",136],["T_STRING","Info",136],["T_DOUBLE_COLON","::",136],["T_CLASS","class",136],",",["T_WHITESPACE"," ",136],"[","]",",",["T_WHITESPACE"," ",136],"[","]",",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","''",136],",",["T_WHITESPACE"," ",136],["T_STRING","false",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$checkoutModel",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_objectManager",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","create",137],"(",["T_WHITESPACE","\n            ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Magento",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Paypal",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Model",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Express",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Checkout",138],["T_DOUBLE_COLON","::",138],["T_CLASS","class",138],",",["T_WHITESPACE","\n            ",138],"[",["T_WHITESPACE","\n                ",139],["T_CONSTANT_ENCAPSED_STRING","'params'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],"[",["T_CONSTANT_ENCAPSED_STRING","'quote'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$quote",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'config'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$paypalConfigMock",140],"]",",",["T_WHITESPACE","\n                ",140],["T_CONSTANT_ENCAPSED_STRING","'apiTypeFactory'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$apiTypeFactory",141],",",["T_WHITESPACE","\n                ",141],["T_CONSTANT_ENCAPSED_STRING","'paypalInfo'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$paypalInfo",142],["T_WHITESPACE","\n            ",142],"]",["T_WHITESPACE","\n        ",143],")",";",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$api",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getMock",146],"(",["T_WHITESPACE","\n            ",146],["T_NS_SEPARATOR","\\",147],["T_STRING","Magento",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Paypal",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Model",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Api",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Nvp",147],["T_DOUBLE_COLON","::",147],["T_CLASS","class",147],",",["T_WHITESPACE","\n            ",147],"[",["T_CONSTANT_ENCAPSED_STRING","'call'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'getExportedShippingAddress'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'getExportedBillingAddress'",148],"]",",",["T_WHITESPACE","\n            ",148],"[","]",",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","''",150],",",["T_WHITESPACE","\n            ",150],["T_STRING","false",151],["T_WHITESPACE","\n        ",151],")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$api",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","any",153],"(",")",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","method",153],"(",["T_CONSTANT_ENCAPSED_STRING","'call'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","will",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","returnValue",153],"(","[","]",")",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$apiTypeFactory",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","expects",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","any",154],"(",")",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","method",154],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","will",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","returnValue",154],"(",["T_VARIABLE","$api",154],")",")",";",["T_WHITESPACE","\n\n        ",154],["T_VARIABLE","$exportedBillingAddress",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_getExportedAddressFixture",156],"(",["T_VARIABLE","$quote",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getBillingAddress",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getData",156],"(",")",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$api",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","expects",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","any",157],"(",")",")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","method",158],"(",["T_CONSTANT_ENCAPSED_STRING","'getExportedBillingAddress'",158],")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","will",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","returnValue",159],"(",["T_VARIABLE","$exportedBillingAddress",159],")",")",";",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$exportedShippingAddress",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_getExportedAddressFixture",161],"(",["T_VARIABLE","$quote",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getShippingAddress",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getData",161],"(",")",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$api",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","expects",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","any",162],"(",")",")",["T_WHITESPACE","\n            ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","method",163],"(",["T_CONSTANT_ENCAPSED_STRING","'getExportedShippingAddress'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","will",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","returnValue",164],"(",["T_VARIABLE","$exportedShippingAddress",164],")",")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$paypalInfo",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","expects",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","once",166],"(",")",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'importToPayment'",166],")",["T_OBJECT_OPERATOR","->",166],["T_STRING","with",166],"(",["T_VARIABLE","$api",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$quote",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getPayment",166],"(",")",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$quote",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getPayment",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","setAdditionalInformation",168],"(",["T_STRING","Checkout",168],["T_DOUBLE_COLON","::",168],["T_STRING","PAYMENT_INFO_BUTTON",168],",",["T_WHITESPACE"," ",168],["T_LNUMBER","1",168],")",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$checkoutModel",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","returnFromPaypal",170],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",170],")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$billingAddress",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$quote",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getBillingAddress",172],"(",")",";",["T_WHITESPACE","\n\n        ",172],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertContains",174],"(",["T_CONSTANT_ENCAPSED_STRING","'exported'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$billingAddress",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getFirstname",174],"(",")",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEquals",175],"(",["T_CONSTANT_ENCAPSED_STRING","'note'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$billingAddress",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getCustomerNote",175],"(",")",")",";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$shippingAddress",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$quote",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getShippingAddress",177],"(",")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertTrue",178],"(",["T_BOOL_CAST","(bool)",178],["T_VARIABLE","$shippingAddress",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getSameAsBilling",178],"(",")",")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertNull",179],"(",["T_VARIABLE","$shippingAddress",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getPrefix",179],"(",")",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertNull",180],"(",["T_VARIABLE","$shippingAddress",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getMiddlename",180],"(",")",")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertNull",181],"(",["T_VARIABLE","$shippingAddress",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getLastname",181],"(",")",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertNull",182],"(",["T_VARIABLE","$shippingAddress",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getSuffix",182],"(",")",")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertTrue",183],"(",["T_VARIABLE","$shippingAddress",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getShouldIgnoreValidation",183],"(",")",")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertContains",184],"(",["T_CONSTANT_ENCAPSED_STRING","'exported'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$shippingAddress",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getFirstname",184],"(",")",")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$paymentAdditionalInformation",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$quote",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getPayment",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getAdditionalInformation",186],"(",")",";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertArrayHasKey",187],"(",["T_STRING","Checkout",187],["T_DOUBLE_COLON","::",187],["T_STRING","PAYMENT_INFO_TRANSPORT_SHIPPING_METHOD",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$paymentAdditionalInformation",187],")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertArrayHasKey",188],"(",["T_STRING","Checkout",188],["T_DOUBLE_COLON","::",188],["T_STRING","PAYMENT_INFO_TRANSPORT_PAYER_ID",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$paymentAdditionalInformation",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertArrayHasKey",189],"(",["T_STRING","Checkout",189],["T_DOUBLE_COLON","::",189],["T_STRING","PAYMENT_INFO_TRANSPORT_TOKEN",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$paymentAdditionalInformation",189],")",";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertTrue",190],"(",["T_VARIABLE","$quote",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getPayment",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","hasMethod",190],"(",")",")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertTrue",191],"(",["T_VARIABLE","$quote",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getTotalsCollectedFlag",191],"(",")",")",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Prepare fixture for exported address\n     *\n     * @param array $addressData\n     * @return \\Magento\\Framework\\DataObject\n     *\/",194],["T_WHITESPACE","\n    ",199],["T_PROTECTED","protected",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","_getExportedAddressFixture",200],"(",["T_ARRAY","array",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$addressData",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$addressDataKeys",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'lastname'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'street'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'city'",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'telephone'",202],"]",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$result",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],"[","]",";",["T_WHITESPACE","\n        ",203],["T_FOREACH","foreach",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$addressDataKeys",204],["T_WHITESPACE"," ",204],["T_AS","as",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$key",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_ISSET","isset",205],"(",["T_VARIABLE","$addressData",205],"[",["T_VARIABLE","$key",205],"]",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$result",206],"[",["T_VARIABLE","$key",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'exported'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$addressData",206],"[",["T_VARIABLE","$key",206],"]",";",["T_WHITESPACE","\n            ",206],"}",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$fixture",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Magento",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Framework",209],["T_NS_SEPARATOR","\\",209],["T_STRING","DataObject",209],"(",["T_VARIABLE","$result",209],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$fixture",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setExportedKeys",210],"(",["T_VARIABLE","$addressDataKeys",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$fixture",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setData",211],"(",["T_CONSTANT_ENCAPSED_STRING","'note'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'note'",211],")",";",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$fixture",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * @return Quote\n     *\/",215],["T_WHITESPACE","\n    ",217],["T_PROTECTED","protected",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","_getFixtureQuote",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_DOC_COMMENT","\/** @var \\Magento\\Quote\\Model\\ResourceModel\\Quote\\Collection $quoteCollection *\/",220],["T_WHITESPACE","\n        ",220],["T_VARIABLE","$quoteCollection",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_objectManager",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","create",221],"(",["T_NS_SEPARATOR","\\",221],["T_STRING","Magento",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Quote",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Model",221],["T_NS_SEPARATOR","\\",221],["T_STRING","ResourceModel",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Quote",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Collection",221],["T_DOUBLE_COLON","::",221],["T_CLASS","class",221],")",";",["T_WHITESPACE","\n\n        ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$quoteCollection",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getLastItem",223],"(",")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n",224],"}",["T_WHITESPACE","\n",225]]