[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n *\/",2],["T_WHITESPACE","\n",5],["T_NAMESPACE","namespace",6],["T_WHITESPACE"," ",6],["T_STRING","Magento",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CustomerImportExport",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Model",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Import",6],";",["T_WHITESPACE","\n\n",6],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Magento",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Framework",8],["T_NS_SEPARATOR","\\",8],["T_STRING","App",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filesystem",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DirectoryList",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Magento",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ImportExport",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Model",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Import",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ErrorProcessing",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ProcessingErrorAggregatorInterface",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","CustomerCompositeTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PHPUnit_Framework_TestCase",11],["T_WHITESPACE","\n",11],"{",["T_WHITESPACE","\n    ",12],["T_COMMENT","\/**#@+\n     * Attributes used in test assertions\n     *\/",13],["T_WHITESPACE","\n    ",15],["T_CONST","const",16],["T_WHITESPACE"," ",16],["T_STRING","ATTRIBUTE_CODE_FIRST_NAME",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'firstname'",16],";",["T_WHITESPACE","\n\n    ",16],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","ATTRIBUTE_CODE_LAST_NAME",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'lastname'",18],";",["T_WHITESPACE","\n\n    ",18],["T_COMMENT","\/**#@-*\/",20],["T_WHITESPACE","\n\n    ",20],["T_COMMENT","\/**#@+\n     * Source *.csv file names for different behaviors\n     *\/",22],["T_WHITESPACE","\n    ",24],["T_CONST","const",25],["T_WHITESPACE"," ",25],["T_STRING","UPDATE_FILE_NAME",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'customer_composite_update.csv'",25],";",["T_WHITESPACE","\n\n    ",25],["T_CONST","const",27],["T_WHITESPACE"," ",27],["T_STRING","DELETE_FILE_NAME",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'customer_composite_delete.csv'",27],";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/**#@-*\/",29],["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * Object Manager instance\n     *\n     * @var \\Magento\\TestFramework\\ObjectManager\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_objectManager",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Composite customer entity adapter instance\n     *\n     * @var CustomerComposite\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_entityAdapter",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Additional customer attributes for assertion\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_customerAttributes",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[",["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","ATTRIBUTE_CODE_FIRST_NAME",50],",",["T_WHITESPACE"," ",50],["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","ATTRIBUTE_CODE_LAST_NAME",50],"]",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Customers and addresses before import, address ID is postcode\n     *\n     * @var array\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_beforeImport",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'betsyparker@example.com'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'addresses'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'19107'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'72701'",59],"]",",",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'data'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","ATTRIBUTE_CODE_FIRST_NAME",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Betsy'",60],",",["T_WHITESPACE"," ",60],["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","ATTRIBUTE_CODE_LAST_NAME",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Parker'",60],"]",",",["T_WHITESPACE","\n        ",60],"]",",",["T_WHITESPACE","\n    ",61],"]",";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Customers and addresses after import, address ID is postcode\n     *\n     * @var array\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_afterImport",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'betsyparker@example.com'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","'addresses'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'19107'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'72701'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'19108'",71],"]",",",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'data'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n                ",72],["T_STRING","self",73],["T_DOUBLE_COLON","::",73],["T_STRING","ATTRIBUTE_CODE_FIRST_NAME",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'NotBetsy'",73],",",["T_WHITESPACE","\n                ",73],["T_STRING","self",74],["T_DOUBLE_COLON","::",74],["T_STRING","ATTRIBUTE_CODE_LAST_NAME",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'NotParker'",74],",",["T_WHITESPACE","\n            ",74],"]",",",["T_WHITESPACE","\n        ",75],"]",",",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'anthonyanealy@magento.com'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'addresses'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],"[",["T_CONSTANT_ENCAPSED_STRING","'72701'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'92664'",77],"]","]",",",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'loribbanks@magento.com'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'addresses'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],"[",["T_CONSTANT_ENCAPSED_STRING","'98801'",78],"]","]",",",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'kellynilson@magento.com'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'addresses'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],"[","]","]",",",["T_WHITESPACE","\n    ",79],"]",";",["T_WHITESPACE","\n\n    ",80],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","setUp",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_objectManager",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Magento",84],["T_NS_SEPARATOR","\\",84],["T_STRING","TestFramework",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Helper",84],["T_NS_SEPARATOR","\\",84],["T_STRING","Bootstrap",84],["T_DOUBLE_COLON","::",84],["T_STRING","getObjectManager",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_entityAdapter",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_objectManager",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","create",85],"(",["T_WHITESPACE","\n            ",85],["T_NS_SEPARATOR","\\",86],["T_STRING","Magento",86],["T_NS_SEPARATOR","\\",86],["T_STRING","CustomerImportExport",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Model",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Import",86],["T_NS_SEPARATOR","\\",86],["T_STRING","CustomerComposite",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],["T_WHITESPACE","\n        ",86],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Assertion of current customer and address data\n     *\n     * @param array $expectedData\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","_assertCustomerData",95],"(",["T_ARRAY","array",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$expectedData",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_DOC_COMMENT","\/** @var $collection \\Magento\\Customer\\Model\\ResourceModel\\Customer\\Collection *\/",97],["T_WHITESPACE","\n        ",97],["T_VARIABLE","$collection",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_objectManager",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","create",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Magento",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Customer",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Model",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ResourceModel",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Customer",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Collection",98],["T_DOUBLE_COLON","::",98],["T_CLASS","class",98],")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$collection",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addAttributeToSelect",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_customerAttributes",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$customers",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$collection",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getItems",100],"(",")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertSameSize",102],"(",["T_VARIABLE","$expectedData",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$customers",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_DOC_COMMENT","\/** @var $customer \\Magento\\Customer\\Model\\Customer *\/",104],["T_WHITESPACE","\n        ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$customers",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$customer",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_COMMENT","\/\/ assert customer existence\n",106],["T_WHITESPACE","            ",107],["T_VARIABLE","$email",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","strtolower",107],"(",["T_VARIABLE","$customer",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getEmail",107],"(",")",")",";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertArrayHasKey",108],"(",["T_VARIABLE","$email",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$expectedData",108],")",";",["T_WHITESPACE","\n\n            ",108],["T_COMMENT","\/\/ assert customer data (only for required customers)\n",110],["T_WHITESPACE","            ",111],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_ISSET","isset",111],"(",["T_VARIABLE","$expectedData",111],"[",["T_VARIABLE","$email",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",111],"]",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_FOREACH","foreach",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$expectedData",112],"[",["T_VARIABLE","$email",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",112],"]",["T_WHITESPACE"," ",112],["T_AS","as",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$attribute",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$expectedValue",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEquals",113],"(",["T_VARIABLE","$expectedValue",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$customer",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getData",113],"(",["T_VARIABLE","$attribute",113],")",")",";",["T_WHITESPACE","\n                ",113],"}",["T_WHITESPACE","\n            ",114],"}",["T_WHITESPACE","\n\n            ",115],["T_COMMENT","\/\/ assert address data\n",117],["T_WHITESPACE","            ",118],["T_VARIABLE","$addresses",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$customer",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getAddresses",118],"(",")",";",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertSameSize",119],"(",["T_VARIABLE","$expectedData",119],"[",["T_VARIABLE","$email",119],"]","[",["T_CONSTANT_ENCAPSED_STRING","'addresses'",119],"]",",",["T_WHITESPACE"," ",119],["T_VARIABLE","$addresses",119],")",";",["T_WHITESPACE","\n            ",119],["T_DOC_COMMENT","\/** @var $address \\Magento\\Customer\\Model\\Address *\/",120],["T_WHITESPACE","\n            ",120],["T_FOREACH","foreach",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$addresses",121],["T_WHITESPACE"," ",121],["T_AS","as",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$address",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertContains",122],"(",["T_VARIABLE","$address",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getData",122],"(",["T_CONSTANT_ENCAPSED_STRING","'postcode'",122],")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$expectedData",122],"[",["T_VARIABLE","$email",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'addresses'",122],"]",")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * @param string $behavior\n     * @param string $sourceFile\n     * @param array $dataBefore\n     * @param array $dataAfter\n     * @param array $errors\n     *\n     * @magentoDataFixture Magento\/Customer\/_files\/import_export\/customers_for_address_import.php\n     * @magentoAppIsolation enabled\n     *\n     * @dataProvider importDataDataProvider\n     *\/",127],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testImportData",139],"(",["T_VARIABLE","$behavior",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$sourceFile",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$dataBefore",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$dataAfter",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$errors",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"[","]",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_NS_SEPARATOR","\\",141],["T_STRING","Magento",141],["T_NS_SEPARATOR","\\",141],["T_STRING","TestFramework",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Helper",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Bootstrap",141],["T_DOUBLE_COLON","::",141],["T_STRING","getInstance",141],"(",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","loadArea",142],"(",["T_NS_SEPARATOR","\\",142],["T_STRING","Magento",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Framework",142],["T_NS_SEPARATOR","\\",142],["T_STRING","App",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Area",142],["T_DOUBLE_COLON","::",142],["T_STRING","AREA_FRONTEND",142],")",";",["T_WHITESPACE","\n        ",142],["T_COMMENT","\/\/ set entity adapter parameters\n",143],["T_WHITESPACE","        ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_entityAdapter",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setParameters",144],"(","[",["T_CONSTANT_ENCAPSED_STRING","'behavior'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$behavior",144],"]",")",";",["T_WHITESPACE","\n        ",144],["T_DOC_COMMENT","\/** @var \\Magento\\Framework\\Filesystem $filesystem *\/",145],["T_WHITESPACE","\n        ",145],["T_VARIABLE","$filesystem",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_objectManager",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","create",146],"(",["T_NS_SEPARATOR","\\",146],["T_STRING","Magento",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Framework",146],["T_NS_SEPARATOR","\\",146],["T_STRING","Filesystem",146],["T_DOUBLE_COLON","::",146],["T_CLASS","class",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$rootDirectory",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$filesystem",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getDirectoryWrite",147],"(",["T_STRING","DirectoryList",147],["T_DOUBLE_COLON","::",147],["T_STRING","ROOT",147],")",";",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_entityAdapter",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getErrorAggregator",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","initValidationStrategy",149],"(",["T_WHITESPACE","\n            ",149],["T_STRING","ProcessingErrorAggregatorInterface",150],["T_DOUBLE_COLON","::",150],["T_STRING","VALIDATION_STRATEGY_STOP_ON_ERROR",150],",",["T_WHITESPACE","\n            ",150],["T_LNUMBER","10",151],["T_WHITESPACE","\n        ",151],")",";",["T_WHITESPACE","\n\n        ",152],["T_COMMENT","\/\/ set fixture CSV file\n",154],["T_WHITESPACE","        ",155],["T_VARIABLE","$result",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_entityAdapter",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setSource",155],"(",["T_WHITESPACE","\n            ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Magento",156],["T_NS_SEPARATOR","\\",156],["T_STRING","ImportExport",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Model",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Import",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Adapter",156],["T_DOUBLE_COLON","::",156],["T_STRING","findAdapterFor",156],"(",["T_VARIABLE","$sourceFile",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$rootDirectory",156],")",["T_WHITESPACE","\n        ",156],")",["T_WHITESPACE","\n            ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","validateData",158],"(",")",["T_WHITESPACE","\n            ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","hasToBeTerminated",159],"(",")",";",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$errors",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertTrue",161],"(",["T_VARIABLE","$result",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE"," ",162],["T_ELSE","else",162],["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertFalse",163],"(",["T_VARIABLE","$result",163],")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_COMMENT","\/\/ assert validation errors\n",166],["T_WHITESPACE","        ",167],["T_COMMENT","\/\/ can't use error codes because entity adapter gathers only error messages from aggregated adapters\n",167],["T_WHITESPACE","        ",168],["T_VARIABLE","$actualErrors",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","array_values",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_entityAdapter",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getErrorAggregator",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","getRowsGroupedByErrorCode",168],"(",")",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEquals",169],"(",["T_VARIABLE","$errors",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$actualErrors",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_COMMENT","\/\/ assert data before import\n",171],["T_WHITESPACE","        ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_assertCustomerData",172],"(",["T_VARIABLE","$dataBefore",172],")",";",["T_WHITESPACE","\n\n        ",172],["T_COMMENT","\/\/ import data\n",174],["T_WHITESPACE","        ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_entityAdapter",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","importData",175],"(",")",";",["T_WHITESPACE","\n\n        ",175],["T_COMMENT","\/\/ assert data after import\n",177],["T_WHITESPACE","        ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_assertCustomerData",178],"(",["T_VARIABLE","$dataAfter",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Data provider for testImportData\n     *\n     * @return array\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","importDataDataProvider",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$filesDirectory",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_DIR","__DIR__",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'\/_files\/'",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$sourceData",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],"[",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'delete_behavior'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],"[",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","'$behavior'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Magento",191],["T_NS_SEPARATOR","\\",191],["T_STRING","ImportExport",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Model",191],["T_NS_SEPARATOR","\\",191],["T_STRING","Import",191],["T_DOUBLE_COLON","::",191],["T_STRING","BEHAVIOR_DELETE",191],",",["T_WHITESPACE","\n                ",191],["T_CONSTANT_ENCAPSED_STRING","'$sourceFile'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$filesDirectory",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_STRING","self",192],["T_DOUBLE_COLON","::",192],["T_STRING","DELETE_FILE_NAME",192],",",["T_WHITESPACE","\n                ",192],["T_CONSTANT_ENCAPSED_STRING","'$dataBefore'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_beforeImport",193],",",["T_WHITESPACE","\n                ",193],["T_CONSTANT_ENCAPSED_STRING","'$dataAfter'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],"[","]",",",["T_WHITESPACE","\n            ",194],"]",",",["T_WHITESPACE","\n        ",195],"]",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$sourceData",198],"[",["T_CONSTANT_ENCAPSED_STRING","'add_update_behavior'",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'$behavior'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Magento",199],["T_NS_SEPARATOR","\\",199],["T_STRING","ImportExport",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Model",199],["T_NS_SEPARATOR","\\",199],["T_STRING","Import",199],["T_DOUBLE_COLON","::",199],["T_STRING","BEHAVIOR_ADD_UPDATE",199],",",["T_WHITESPACE","\n            ",199],["T_CONSTANT_ENCAPSED_STRING","'$sourceFile'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$filesDirectory",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","UPDATE_FILE_NAME",200],",",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","'$dataBefore'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_beforeImport",201],",",["T_WHITESPACE","\n            ",201],["T_CONSTANT_ENCAPSED_STRING","'$dataAfter'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_afterImport",202],",",["T_WHITESPACE","\n            ",202],["T_CONSTANT_ENCAPSED_STRING","'$errors'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],"[","]",",",["T_WHITESPACE","\n        ",203],"]",";",["T_WHITESPACE","\n\n        ",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$sourceData",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n",207],"}",["T_WHITESPACE","\n",208]]